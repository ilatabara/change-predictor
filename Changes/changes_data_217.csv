id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpython-neutronclient~master~Iecd29788d1c94fd727072aa5dd7fe5d828dbf174,openstack/python-neutronclient,master,Iecd29788d1c94fd727072aa5dd7fe5d828dbf174,Dep's should be restricted by tox-constraints,MERGED,2020-11-20 06:36:58.000000000,2020-11-23 12:38:46.000000000,2020-11-20 10:17:06.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 06:36:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1a1ee061e8d6d3a9c825819ed426e4f1b2eba80e', 'message': ""Dep's should be restricted by tox-constraints\n\nTox trying to install latest versions for building docs which may\nnot be supported by stable and lower branches, so should be\nrestricted by respective version's tox-constraints.txt\n\nChange-Id: Iecd29788d1c94fd727072aa5dd7fe5d828dbf174\n""}]",0,763504,1a1ee061e8d6d3a9c825819ed426e4f1b2eba80e,9,3,1,32291,,,0,"Dep's should be restricted by tox-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's tox-constraints.txt

Change-Id: Iecd29788d1c94fd727072aa5dd7fe5d828dbf174
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/04/763504/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1a1ee061e8d6d3a9c825819ed426e4f1b2eba80e,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt,6,2
openstack%2Fpython-tripleoclient~master~I695916e9271392127635834078e57655857182f1,openstack/python-tripleoclient,master,I695916e9271392127635834078e57655857182f1,Generate ansible.cfg for UC/standalone deployments,MERGED,2018-07-04 14:29:10.000000000,2020-11-23 12:32:29.000000000,2018-07-13 06:09:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-04 14:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab6e775c37f8e20d0a86179e91baca493f6651eb', 'message': ""Generate ansible.cfg for UC/standalone deployments\n\nAdd CLI command that allows to generate and manually\ncustomize the default ansible configuration used with\nUC/standalone deployments. Use the config generator\nfrom tripleo common ansible actions for that.\n\nIf there is no pre-created user's ansible.cfg in\n--output-dir, generate the default one with as a part of\nthe deployment command.\n\nDepends-On: Ie7dd9039ee74aac046679e831ffda143257e3825\nChange-Id: I695916e9271392127635834078e57655857182f1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-07-06 11:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb67ad8a4e2966f86092ab04bf59f6832d02284c', 'message': ""Generate ansible.cfg for UC/standalone deployments\n\nAdd CLI command that allows to generate and manually\ncustomize the default ansible configuration used with\nUC/standalone deployments. Use the config generator\nfrom tripleo common ansible actions for that.\n\nIf there is no pre-created user's ansible.cfg in\n--output-dir, generate the default one with as a part of\nthe deployment command.\n\nDepends-On: Ie7dd9039ee74aac046679e831ffda143257e3825\nChange-Id: I695916e9271392127635834078e57655857182f1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-07-06 14:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b848c557ba8867ef23035edc5b05be14a3525e98', 'message': ""Generate ansible.cfg for UC/standalone deployments\n\nAdd CLI command that allows to generate and manually\ncustomize the default ansible configuration used with\nUC/standalone deployments. Use the config generator\nfrom tripleo common ansible actions for that.\n\nIf there is no pre-created user's ansible.cfg in\n--output-dir, generate the default one with as a part of\nthe deployment command.\n\nDepends-On: Ie7dd9039ee74aac046679e831ffda143257e3825\nChange-Id: I695916e9271392127635834078e57655857182f1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2018-07-09 13:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c0666a241a6d4a193ca436a699600bad0877b04', 'message': ""Generate ansible.cfg for UC/standalone deployments\n\nAdd CLI command that allows to generate and manually\ncustomize the default ansible configuration used with\nUC/standalone deployments. Use the config generator\nfrom tripleo common ansible actions for that.\n\nIf there is no pre-created user's ansible.cfg in\n--output-dir, generate the default one with as a part of\nthe deployment command.\n\nDepends-On: Ie7dd9039ee74aac046679e831ffda143257e3825\nChange-Id: I695916e9271392127635834078e57655857182f1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2018-07-10 10:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42ae6d845b0890a27466782682c4c0f0b539ce45', 'message': ""Generate ansible.cfg for UC/standalone deployments\n\nAdd CLI command that allows to generate and manually\ncustomize the default ansible configuration used with\nUC/standalone deployments. Use the config generator\nfrom tripleo common ansible actions for that.\n\nIf there is no pre-created user's ansible.cfg in\n--output-dir, generate the default one with as a part of\nthe deployment command.\n\nDepends-On: Ie7dd9039ee74aac046679e831ffda143257e3825\nChange-Id: I695916e9271392127635834078e57655857182f1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2018-07-12 12:11:41.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'releasenotes/notes/ansible-default-config-920461117f0bd427.yaml', 'tripleoclient/v1/tripleo_config.py', 'setup.cfg', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9dd33a8c143b46a8cd8b78cc7e96a95e5a38925', 'message': ""Generate ansible.cfg for UC/standalone deployments\n\nAdd CLI command that allows to generate and manually\ncustomize the default ansible configuration used with\nUC/standalone deployments. Use the config generator\nfrom tripleo common ansible actions for that.\n\nIf there is no pre-created user's ansible.cfg in\n--output-dir, generate the default one with as a part of\nthe deployment command.\n\nDepends-On: Ie7dd9039ee74aac046679e831ffda143257e3825\nChange-Id: I695916e9271392127635834078e57655857182f1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",2,580171,a9dd33a8c143b46a8cd8b78cc7e96a95e5a38925,31,8,6,6926,,,0,"Generate ansible.cfg for UC/standalone deployments

Add CLI command that allows to generate and manually
customize the default ansible configuration used with
UC/standalone deployments. Use the config generator
from tripleo common ansible actions for that.

If there is no pre-created user's ansible.cfg in
--output-dir, generate the default one with as a part of
the deployment command.

Depends-On: Ie7dd9039ee74aac046679e831ffda143257e3825
Change-Id: I695916e9271392127635834078e57655857182f1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/580171/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'releasenotes/notes/ansible-default-config-920461117f0bd427.yaml', 'tripleoclient/v1/tripleo_config.py', 'setup.cfg', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",5,ab6e775c37f8e20d0a86179e91baca493f6651eb,shared_ansible_cfg," @mock.patch('tripleo_common.actions.ansible.' 'write_default_ansible_cfg') mock_open, mock_os, mock_ac):"," mock_open, mock_os):",97,2
openstack%2Fironic-inspector~master~Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17,openstack/ironic-inspector,master,Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17,Use correct Node id attribute,MERGED,2020-11-22 21:38:05.000000000,2020-11-23 12:29:57.000000000,2020-11-23 12:26:55.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-22 21:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a393cf8dd7d17594bd2ebb04230007c842743274', 'message': 'Use correct Node id attribute\n\nAccording to the openstacksdk docs[1] the Node uuid is stored in the\nid attribute. This change uses the correct attribute, aimed at\nstopping the log warning described in the story.\n\nChange-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\nStory: 2008379\nTask: 41300\n'}, {'number': 2, 'created': '2020-11-22 22:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ee903f0a343fd7e3bf4487d78d9c010693f0e6e2', 'message': 'Use correct Node id attribute\n\nAccording to the openstacksdk docs[1] the Node uuid is stored in the\nid attribute. This change uses the correct attribute, aimed at\nstopping the log warning described in the story.\n\nChange-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\nStory: 2008379\nTask: 41300\n'}, {'number': 3, 'created': '2020-11-23 03:23:28.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/main.py', 'ironic_inspector/common/ironic.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c387cf305cd69a09554273d14199464fa2373272', 'message': ""Use correct Node id attribute\n\nAccording to the openstacksdk docs[1] the Node uuid is stored in the\nid attribute. This change removes the get_node shim which adds the\nuuid attribute, and replaces any calls to Node.uuid with Node.id. This\nwill stop the many log debug warnings about this attribute:\n\n    DEBUG openstack.resource [-] Attribute [uuid] not found in\n    [<openstack.resource._ComponentManager object at 0x7f417e43aa20>]:\n    'uuid'. __getattribute__ /usr/lib/python3.6/site-packages/openstack/resource.py:623\n\nCalls to NodeInfo.uuid or db.Node.uuid remain unchanged.\n\nChange-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\nStory: 2008379\nTask: 41300\n""}]",0,763664,c387cf305cd69a09554273d14199464fa2373272,11,3,3,4571,,,0,"Use correct Node id attribute

According to the openstacksdk docs[1] the Node uuid is stored in the
id attribute. This change removes the get_node shim which adds the
uuid attribute, and replaces any calls to Node.uuid with Node.id. This
will stop the many log debug warnings about this attribute:

    DEBUG openstack.resource [-] Attribute [uuid] not found in
    [<openstack.resource._ComponentManager object at 0x7f417e43aa20>]:
    'uuid'. __getattribute__ /usr/lib/python3.6/site-packages/openstack/resource.py:623

Calls to NodeInfo.uuid or db.Node.uuid remain unchanged.

Change-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17
Story: 2008379
Task: 41300
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/64/763664/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/node_cache.py'],1,a393cf8dd7d17594bd2ebb04230007c842743274,node_id, uuid = node.id, uuid = node.uuid,1,1
openstack%2Ftripleo-repos~master~If8807e704e7e3c48dea3645cf95f56a0970e7736,openstack/tripleo-repos,master,If8807e704e7e3c48dea3645cf95f56a0970e7736,"Revert ""Add support for UBI8 as a subcase of Centos8""",MERGED,2020-11-23 10:08:19.000000000,2020-11-23 12:29:32.000000000,2020-11-23 12:29:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-23 10:08:19.000000000', 'files': ['README.rst', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f3a5d4525b2b34af89b84db929d0efab244326e2', 'message': 'Revert ""Add support for UBI8 as a subcase of Centos8""\n\nThis reverts commit e210f1265f29a6bc7057d84912438a45a90d8c33.\n\nReason for revert: It caused issues in container build jobs,\nissue didn\'t got caught in CI as build jobs are not running in\ntripleo-repos, can be re revert with fix post jobs are added.\n\nChange-Id: If8807e704e7e3c48dea3645cf95f56a0970e7736\n'}]",0,763724,f3a5d4525b2b34af89b84db929d0efab244326e2,9,10,1,13861,,,0,"Revert ""Add support for UBI8 as a subcase of Centos8""

This reverts commit e210f1265f29a6bc7057d84912438a45a90d8c33.

Reason for revert: It caused issues in container build jobs,
issue didn't got caught in CI as build jobs are not running in
tripleo-repos, can be re revert with fix post jobs are added.

Change-Id: If8807e704e7e3c48dea3645cf95f56a0970e7736
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/24/763724/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py']",3,f3a5d4525b2b34af89b84db929d0efab244326e2,dev," ('rhel', '8') elif args.distro in ['centos7', 'centos8', 'rhel8']: regex = '^(delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' for f in os.listdir(args.output_path): os.remove(filename) print('Removed old repo ""%s""' % filename) distro_branch = '%s-%s' % (args.distro, args.branch) if args.distro == 'centos8':"," 'ubi': 'http://mirror.centos.org',# ubi-8 only APPSTREAM_REPO_TEMPLATE = ''' [AppStream] name=CentOS-$releasever - AppStream baseurl=%(mirror)s/centos/$releasever/AppStream/$basearch/os/ gpgcheck=0 enabled=1 ''' BASE_REPO_TEMPLATE = ''' [BaseOS] name=CentOS-$releasever - Base baseurl=%(mirror)s/centos/$releasever/BaseOS/$basearch/os/ gpgcheck=0 enabled=1 ''' ('rhel', '8'), ('ubi', '8') # a subcase of the rhel distro # check if that is UBI subcase? if os.path.exists('/etc/yum.repos.d/ubi.repo'): distro_id = 'ubi' if distro_id == 'ubi': print( ""WARNING: Centos{} Base and AppStream will be installed for "" ""this UBI distro"".format(distro_major_version_id)) elif args.distro in ['centos7', 'centos8', 'rhel8', 'ubi8']: if args.distro == 'ubi8': regex = '^(BaseOS|AppStream|delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' else: regex = '^(delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' paths = set( os.listdir(args.output_path) + os.listdir(""/etc/distro.repos.d"")) for f in paths: if os.path.exists(filename): os.remove(filename) print('Removed old repo ""%s""' % filename) filename = os.path.join(""/etc/distro.repos.d"", f) if os.path.exists(filename): os.remove(filename) print('Removed old repo ""%s""' % filename) if args.distro == 'ubi8': distro = 'centos8' # there are no base paths for UBI that work well else: distro = args.distro distro_branch = '%s-%s' % (distro, args.branch) distro = args.distro # CentOS-8 AppStream is required for UBI-8 if distro == 'ubi8': if args.output_path == DEFAULT_OUTPUT_PATH: distro_path = ""/etc/distro.repos.d"" else: distro_path = args.output_path content = APPSTREAM_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, distro_path) content = BASE_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, distro_path) distro = 'centos8' # switch it to continue as centos8 distro if distro == 'centos8':",11,73
openstack%2Fironic-python-agent~master~I941c2247692a74e0fd0fb350135f8610af11d7bb,openstack/ironic-python-agent,master,I941c2247692a74e0fd0fb350135f8610af11d7bb,Remove the unused coding style modules,MERGED,2020-10-27 03:38:55.000000000,2020-11-23 12:05:44.000000000,2020-11-23 12:04:18.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 26285}, {'_account_id': 32231}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-10-27 03:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5931fb8b01de3c6facbdbb42173e593e0159760d', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I941c2247692a74e0fd0fb350135f8610af11d7bb\n'}, {'number': 2, 'created': '2020-10-29 01:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/49399d355a3c93944db537c4edbb5d227cffef8b', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I941c2247692a74e0fd0fb350135f8610af11d7bb\n'}, {'number': 3, 'created': '2020-11-12 05:45:23.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/19c1a73b0207508ee27ed602880e65067dc38881', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I941c2247692a74e0fd0fb350135f8610af11d7bb\n'}]",7,759792,19c1a73b0207508ee27ed602880e65067dc38881,23,8,3,32029,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: I941c2247692a74e0fd0fb350135f8610af11d7bb
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/92/759792/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,5931fb8b01de3c6facbdbb42173e593e0159760d,remove_pkg,,mccabe==0.2.1,0,1
openstack%2Fnova~stable%2Fussuri~I15271fb0b8de7f1184acddd607d605837e2eb7d4,openstack/nova,stable/ussuri,I15271fb0b8de7f1184acddd607d605837e2eb7d4,Add regression test for bug #1895696,MERGED,2020-09-17 15:00:15.000000000,2020-11-23 11:18:31.000000000,2020-11-23 11:15:54.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-17 15:00:15.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1895696.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1bae873e39c39ab558914fef828a63bacde6180', 'message': ""Add regression test for bug #1895696\n\nNOTE(lyarwood): I6daea47988181dfa6dde3d9c42004c0ecf6ae87a isn't present\non stable/ussuri so this test now uses the fake_image_service.\n1f81c086579a0867f9aecd2d5d7cc531b4d3347f also isn't present on\nstable/ussuri so this test also uses the CinderFixture directly.\n\nRelated-Bug: #1895696\nChange-Id: I15271fb0b8de7f1184acddd607d605837e2eb7d4\n(cherry picked from commit e76cccddd3ac64d8cc3e7e63e1772d5d23f20669)\n""}]",2,752485,f1bae873e39c39ab558914fef828a63bacde6180,15,8,1,10135,,,0,"Add regression test for bug #1895696

NOTE(lyarwood): I6daea47988181dfa6dde3d9c42004c0ecf6ae87a isn't present
on stable/ussuri so this test now uses the fake_image_service.
1f81c086579a0867f9aecd2d5d7cc531b4d3347f also isn't present on
stable/ussuri so this test also uses the CinderFixture directly.

Related-Bug: #1895696
Change-Id: I15271fb0b8de7f1184acddd607d605837e2eb7d4
(cherry picked from commit e76cccddd3ac64d8cc3e7e63e1772d5d23f20669)
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/752485/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1895696.py'],1,f1bae873e39c39ab558914fef828a63bacde6180,bug/1895696,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime from oslo_utils.fixture import uuidsentinel as uuids from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers class TestNonBootableImageMeta(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1895696 This regression test asserts the behaviour of server creation requests when using an image with nonbootable properties either directly in the request or to create a volume that is then booted from. """""" microversion = 'latest' def setUp(self): super().setUp() # Add an image to the Glance fixture with cinder_encryption_key set timestamp = datetime.datetime(2011, 1, 1, 1, 2, 3) cinder_encrypted_image = { 'id': uuids.cinder_encrypted_image_uuid, 'name': 'cinder_encryption_key_image', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': False, 'container_format': 'ova', 'disk_format': 'vhd', 'size': '74185822', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': [], 'properties': { 'cinder_encryption_key_id': uuids.cinder_encryption_key_id, } } self.fake_image_service.create(None, cinder_encrypted_image) self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) # Mock out nova.volume.cinder.API.{create,get} so that when n-api # requests that c-api create a volume from the above image that the # response includes cinder_encryption_key_id in the # volume_image_metadata cinder_encrypted_volume = { 'status': 'available', 'display_name': 'cinder_encrypted_volume', 'attach_status': 'detached', 'id': uuids.cinder_encrypted_volume_uuid, 'multiattach': False, 'size': 1, 'encrypted': True, 'volume_image_metadata': { 'cinder_encryption_key_id': uuids.cinder_encryption_key_id } } def fake_cinder_create(self_api, context, size, name, description, snapshot=None, image_id=None, volume_type=None, metadata=None, availability_zone=None): if image_id == uuids.cinder_encrypted_image_uuid: return cinder_encrypted_volume self.stub_out( 'nova.volume.cinder.API.create', fake_cinder_create) def fake_cinder_get(self_api, context, volume_id, microversion=None): return cinder_encrypted_volume self.stub_out( 'nova.volume.cinder.API.get', fake_cinder_get) def test_nonbootable_metadata_image_metadata(self): """"""Assert behaviour when booting from an encrypted image """""" server = self._build_server( name='test_nonbootable_metadata_bfv_image_metadata', image_uuid=uuids.cinder_encrypted_image_uuid, networks='none' ) # NOTE(lyarwood): This should always fail as Nova will attempt to boot # directly from this encrypted image. ex = self.assertRaises( client.OpenStackApiException, self.api.post_server, {'server': server}) self.assertEqual(400, ex.response.status_code) self.assertIn( ""Direct booting of an image uploaded from an encrypted volume is "" ""unsupported"", str(ex)) def test_nonbootable_metadata_bfv_image_metadata(self): """"""Assert behaviour when n-api creates volume using an encrypted image """""" server = self._build_server( name='test_nonbootable_metadata_bfv_image_metadata', image_uuid='', networks='none' ) # TODO(lyarwood): Merge this into _build_server server['block_device_mapping_v2'] = [{ 'source_type': 'image', 'destination_type': 'volume', 'boot_index': 0, 'uuid': uuids.cinder_encrypted_image_uuid, 'volume_size': 1, }] # FIXME(lyarwood) n-api should ignore cinder_encryption_key_id in the # original image in this case and accept the request. ex = self.assertRaises( client.OpenStackApiException, self.api.post_server, {'server': server}) self.assertEqual(400, ex.response.status_code) self.assertIn( ""Direct booting of an image uploaded from an encrypted volume is "" ""unsupported"", str(ex)) def test_nonbootable_metadata_bfv_volume_image_metadata(self): """"""Assert behaviour when c-api has created volume using encrypted image """""" server = self._build_server( name='test_nonbootable_metadata_bfv_volume_image_metadata', image_uuid='', networks='none' ) # TODO(lyarwood): Merge this into _build_server server['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': uuids.cinder_encrypted_volume_uuid, }] # FIXME(lyarwood) n-api should ignore cinder_encryption_key_id in the # volume volume_image_metadata in this case and accept the request. ex = self.assertRaises( client.OpenStackApiException, self.api.post_server, {'server': server}) self.assertEqual(400, ex.response.status_code) self.assertIn( ""Direct booting of an image uploaded from an encrypted volume is "" ""unsupported"", str(ex)) ",,160,0
openstack%2Fbifrost~master~I829bd3454e1e6bc11f1631aef7ed8278c7b8bbe9,openstack/bifrost,master,I829bd3454e1e6bc11f1631aef7ed8278c7b8bbe9,Support UEFI in bifrost-cli and document it,MERGED,2020-11-12 17:24:01.000000000,2020-11-23 11:16:47.000000000,2020-11-23 11:15:23.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-12 17:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1d655e0ef24cd5f6064461a0612093b99bbe8b68', 'message': 'Support UEFI in bifrost-cli and document it\n\nChange-Id: I829bd3454e1e6bc11f1631aef7ed8278c7b8bbe9\n'}, {'number': 2, 'created': '2020-11-17 16:35:50.000000000', 'files': ['bifrost/cli.py', 'doc/source/contributor/testenv.rst', 'doc/source/install/index.rst', 'releasenotes/notes/bifrost-cli-uefi-0d7890fb53655845.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/faa328d4b3527e34951272006800cabfeec76190', 'message': 'Support UEFI in bifrost-cli and document it\n\nChange-Id: I829bd3454e1e6bc11f1631aef7ed8278c7b8bbe9\n'}]",0,762555,faa328d4b3527e34951272006800cabfeec76190,12,3,2,10239,,,0,"Support UEFI in bifrost-cli and document it

Change-Id: I829bd3454e1e6bc11f1631aef7ed8278c7b8bbe9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/55/762555/1 && git format-patch -1 --stdout FETCH_HEAD,"['bifrost/cli.py', 'doc/source/contributor/testenv.rst', 'doc/source/install/index.rst']",3,1d655e0ef24cd5f6064461a0612093b99bbe8b68,uefi,"* Whether it boots in the UEFI or legacy (BIOS) mode. .. note:: Some hardware types (like ``redfish``) can enforce the desired boot mode, while the other (like ``ipmi``) require the same boot mode to be set in ironic and on the machine.``--uefi`` Boot machines in the UEFI mode by default. ",,18,0
openstack%2Fkayobe-config-dev~master~Ie89a62e7d50402f0d5afcbbedc4a56f177cf54b6,openstack/kayobe-config-dev,master,Ie89a62e7d50402f0d5afcbbedc4a56f177cf54b6,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-19 10:24:19.000000000,2020-11-23 10:59:53.000000000,2020-11-23 10:59:53.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 10:24:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/21f972fb85140f683c94bc0d7de033498c305c26', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ie89a62e7d50402f0d5afcbbedc4a56f177cf54b6\n'}]",0,763339,21f972fb85140f683c94bc0d7de033498c305c26,7,3,1,14826,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ie89a62e7d50402f0d5afcbbedc4a56f177cf54b6
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/39/763339/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,21f972fb85140f683c94bc0d7de033498c305c26,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config~master~I6fbe09f7f5855d3a4a21f68430a8318da562880b,openstack/kayobe-config,master,I6fbe09f7f5855d3a4a21f68430a8318da562880b,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-19 10:23:33.000000000,2020-11-23 10:59:49.000000000,2020-11-23 10:59:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 10:23:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/4a45ed1deb14d7b0b3523c8b88219d4717efc9df', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I6fbe09f7f5855d3a4a21f68430a8318da562880b\n'}]",0,763338,4a45ed1deb14d7b0b3523c8b88219d4717efc9df,7,3,1,14826,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I6fbe09f7f5855d3a4a21f68430a8318da562880b
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/38/763338/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4a45ed1deb14d7b0b3523c8b88219d4717efc9df,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fdevstack~master~I7bd440adf2ce8283e3ad3d5d09e6b2b877e2b42e,openstack/devstack,master,I7bd440adf2ce8283e3ad3d5d09e6b2b877e2b42e,Remove deprecated tail_log function,MERGED,2020-10-28 13:06:54.000000000,2020-11-23 10:26:05.000000000,2020-11-23 10:24:34.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-28 13:06:54.000000000', 'files': ['lib/placement', 'functions-common', 'lib/tls'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3f28c272d0a3ae78329c81227a66c703d6a489d7', 'message': ""Remove deprecated tail_log function\n\nThis function has been deprecated for a long time, let's finally\nremove it. It is only generating a warning anyway.\n\nChange-Id: I7bd440adf2ce8283e3ad3d5d09e6b2b877e2b42e\n""}]",0,760126,3f28c272d0a3ae78329c81227a66c703d6a489d7,11,3,1,13252,,,0,"Remove deprecated tail_log function

This function has been deprecated for a long time, let's finally
remove it. It is only generating a warning anyway.

Change-Id: I7bd440adf2ce8283e3ad3d5d09e6b2b877e2b42e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/760126/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/placement', 'functions-common', 'lib/tls']",3,3f28c272d0a3ae78329c81227a66c703d6a489d7,no-tail-log,,# Follow TLS proxy function follow_tls_proxy { sudo touch /var/log/$APACHE_NAME/tls-proxy_error.log tail_log tls-error /var/log/$APACHE_NAME/tls-proxy_error.log sudo touch /var/log/$APACHE_NAME/tls-proxy_access.log tail_log tls-proxy /var/log/$APACHE_NAME/tls-proxy_access.log } ,0,13
openstack%2Fsenlin~master~I9744a1c7990e7a01efe5f9e200eddc920916b4ac,openstack/senlin,master,I9744a1c7990e7a01efe5f9e200eddc920916b4ac,Shutdown VM before destructive update action,MERGED,2020-11-03 18:35:04.000000000,2020-11-23 10:16:21.000000000,2020-11-23 10:15:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 30596}]","[{'number': 1, 'created': '2020-11-03 18:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/dc1f598f8e170098b465a5ac232f9e97e466b55c', 'message': '[WIP] Shutdown VM before destructive update action\n\nShutdown VM before a profile update is performed if the VM is in active\nstate.  Start VM after profile update is completed if the VM is in\nshutdown state.  Update health policy to be disabled before cluster\nupdate and enabled again on cluster update.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 2, 'created': '2020-11-05 18:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/56131d0be9b7e108442be1a6b342c53f1868cc2b', 'message': '[WIP] Shutdown VM before destructive update action\n\nShutdown VM before a profile update is performed if the VM is in active\nstate.  Start VM after profile update is completed if the VM is in\nshutdown state.  Update health policy to be disabled before cluster\nupdate, cluster recover and cluster node replace and enabled again after\nthe operation has completed.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 3, 'created': '2020-11-09 18:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/65aae47fd98e213ea405f0996fb4714502c17883', 'message': '[WIP] Shutdown VM before destructive update action\n\nShutdown VM before a profile update is performed if the VM is in active\nstate.  Start VM after profile update is completed if the VM is in\nshutdown state.  Update health policy to be disabled before cluster\nupdate, cluster recover and cluster node replace and enabled again after\nthe operation has completed.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 4, 'created': '2020-11-10 01:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e690c1df505482ebb5db6b3179494cdfe97d9ae4', 'message': 'Shutdown VM before destructive update action\n\nShutdown VM before a profile update is performed if the VM is in active\nstate.  Start VM after profile update is completed if the VM is in\nshutdown state.  Update health policy to be disabled before cluster\nupdate, cluster recover and cluster node replace and enabled again after\nthe operation has completed.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 5, 'created': '2020-11-14 00:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ba7abb1c0dd8b18d704740fa81bacfd619b9fdbb', 'message': 'Shutdown VM before destructive update action\n\nShutdown VM before a profile update is performed if the VM is in active\nstate.  Start VM after profile update is completed if the VM is in\nshutdown state.  Update health policy to be disabled before cluster\nupdate, cluster recover and cluster node replace and enabled again after\nthe operation has completed.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 6, 'created': '2020-11-18 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9205d4575329faad95759a313511132396b42f22', 'message': 'Shutdown VM before destructive update action\n\n- Shutdown VM before a profile update is performed if the VM is in\nactive state.\n\n- Start VM after profile update is completed if the VM is in shutdown\nstate.\n\n- Update health policy to be disabled before cluster update, cluster\nrecover and cluster node replace and enabled again after the operation\nhas completed.\n\n- Add cluster.stop_timeout_before_update cluster config option to\nspecify custom timeout for shutting down a VM as part of profile update.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 7, 'created': '2020-11-18 02:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d70922c43d04978d2c67ebc69f74a7287a945f60', 'message': 'Shutdown VM before destructive update action\n\n- Shutdown VM before a profile update is performed if the VM is in\nactive state.\n\n- Start VM after profile update is completed if the VM is in shutdown\nstate.\n\n- Update health policy to be disabled before cluster update, cluster\nrecover and cluster node replace and enabled again after the operation\nhas completed.\n\n- Add cluster.stop_timeout_before_update cluster config option to\nspecify custom timeout for shutting down a VM as part of profile update.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}, {'number': 8, 'created': '2020-11-18 04:31:54.000000000', 'files': ['senlin/policies/health_policy.py', 'senlin/profiles/os/nova/server.py', 'senlin/tests/drivers/os_test/nova_v2.py', 'senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/profiles/test_nova_server_update.py', 'senlin/tests/unit/engine/actions/test_update.py', 'senlin/tests/unit/policies/test_health_policy.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/fa2d817839886f52d6f78fac092e3677f06c18eb', 'message': 'Shutdown VM before destructive update action\n\n- Shutdown VM before a profile update is performed if the VM is in\nactive state.\n\n- Start VM after profile update is completed if the VM is in shutdown\nstate.\n\n- Update health policy to be disabled before cluster update, cluster\nrecover and cluster node replace and enabled again after the operation\nhas completed.\n\n- Add cluster.stop_timeout_before_update cluster config option to\nspecify custom timeout for shutting down a VM as part of profile update.\n\nChange-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac\n'}]",15,761216,fa2d817839886f52d6f78fac092e3677f06c18eb,31,5,8,27224,,,0,"Shutdown VM before destructive update action

- Shutdown VM before a profile update is performed if the VM is in
active state.

- Start VM after profile update is completed if the VM is in shutdown
state.

- Update health policy to be disabled before cluster update, cluster
recover and cluster node replace and enabled again after the operation
has completed.

- Add cluster.stop_timeout_before_update cluster config option to
specify custom timeout for shutting down a VM as part of profile update.

Change-Id: I9744a1c7990e7a01efe5f9e200eddc920916b4ac
",git fetch https://review.opendev.org/openstack/senlin refs/changes/16/761216/5 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/policies/health_policy.py', 'senlin/profiles/os/nova/server.py']",2,dc1f598f8e170098b465a5ac232f9e97e466b55c,stop_in_profile," # stop server if it is active server = cc.server_get(obj.physical_id) if server.status == consts.VS_ACTIVE: cc.server_stop(obj.physical_id) cc.wait_for_server(obj.physical_id, consts.VS_SHUTOFF) # stop server if it is active if server.status == consts.VS_ACTIVE: driver.server_stop(obj.physical_id) driver.wait_for_server(obj.physical_id, consts.VS_SHUTOFF) if len(networks) > 0: try: # stop server if it is active server = cc.server_get(obj.physical_id) if server.status == consts.VS_ACTIVE: cc.server_stop(obj.physical_id) cc.wait_for_server(obj.physical_id, consts.VS_SHUTOFF) except exc.InternalError as ex: raise exc.EResourceUpdate(type='server', id=obj.physical_id, message=str(ex)) # start server if it is stopped cc = self.compute(obj) try: server = cc.server_get(obj.physical_id) if server.status == consts.VS_SHUTOFF: cc.server_start(obj.physical_id) cc.wait_for_server(obj.physical_id, consts.VS_ACTIVE) except exc.InternalError as ex: raise exc.EResourceUpdate(type='server', id=obj.physical_id, message=str(ex)) ",,38,2
openstack%2Ftripleo-repos~master~I4398a143ee8ef3e506e98a7c613871918d0acb9d,openstack/tripleo-repos,master,I4398a143ee8ef3e506e98a7c613871918d0acb9d,Add support for UBI8 as a subcase of Centos8,MERGED,2020-11-12 13:58:15.000000000,2020-11-23 10:08:19.000000000,2020-11-23 05:19:12.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-12 13:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2c180fe506edfd59f9a8fe98b6718bfc7b02d1bb', 'message': 'Add support for UBI8 as a subcase of RHEL8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-11-12 14:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/3b2685894a02a47f6c898d38e8377503a41e74bb', 'message': 'Add support for UBI8 as a subcase of Centos8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-11-18 14:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/9e060c96b663fcba97d32644dd3cbd4489f2275a', 'message': 'Add support for UBI8 as a subcase of Centos8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\nSince other packages might be also available only from CentOS-Base,\nadd that repos for UBI as well.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2020-11-18 14:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/31ed1f0d0f7eb693b39fbd9dcd0a7511f4fc7809', 'message': 'Add support for UBI8 as a subcase of Centos8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\nSince other packages might be also available only from CentOS-Base,\nadd that repos for UBI as well.\n\nIn order to make it working without collisions, also account for\n/etc/distro.repos.d paths.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2020-11-18 14:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/ff79ae5842dcce983c63b0d73d40ccdbb7cff001', 'message': 'Add support for UBI8 as a subcase of Centos8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\nSince other packages might be also available only from CentOS-Base,\nadd that repos for UBI as well.\n\nIn order to make it working without collisions, also account for\n/etc/distro.repos.d paths.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2020-11-19 09:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/0820c41ce579d190fba3bcf4b7ad515d9ecb2007', 'message': 'Add support for UBI8 as a subcase of Centos8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\nSince other packages might be also available only from CentOS-Base,\nadd that repos for UBI as well.\n\nIn order to make it working without collisions, also account for\n/etc/distro.repos.d paths.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2020-11-19 11:20:00.000000000', 'files': ['README.rst', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e210f1265f29a6bc7057d84912438a45a90d8c33', 'message': 'Add support for UBI8 as a subcase of Centos8\n\nAdd ubi8 as a supported --distro.\nSince container-selinux is likely will be required but not available\nvia UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as\nwell.\nSince other packages might be also available only from CentOS-Base,\nadd that repos for UBI as well.\n\nIn order to make it working without collisions, also account for\n/etc/distro.repos.d paths.\n\nChange-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,762520,e210f1265f29a6bc7057d84912438a45a90d8c33,30,10,7,6926,,,0,"Add support for UBI8 as a subcase of Centos8

Add ubi8 as a supported --distro.
Since container-selinux is likely will be required but not available
via UBI AppStream, add the CentOS-8 AppStream repo (no gpg checks) as
well.
Since other packages might be also available only from CentOS-Base,
add that repos for UBI as well.

In order to make it working without collisions, also account for
/etc/distro.repos.d paths.

Change-Id: I4398a143ee8ef3e506e98a7c613871918d0acb9d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/20/762520/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,2c180fe506edfd59f9a8fe98b6718bfc7b02d1bb,dev," 'ubi': 'http://mirror.centos.org',# ubi-8 only APPSTREAM_REPO_TEMPLATE = ''' [AppStream] name=CentOS-$releasever - AppStream baseurl=%(mirror)s/centos/$releasever/AppStream/$basearch/os/ gpgcheck=0 enabled=1 ''' ('rhel', '8'), ('ubi', '8') # a subcase of the rhel distro # check if that is UBI subcase? if os.path.exists('/etc/yum.repos.d/ubi.repo'): distro_id = 'ubi' if distro_id == 'ubi': print( ""WARNING: Centos{} AppStream will be installed for this UBI "" ""distro"".format(distro_major_version_id)) elif args.distro in ['centos7', 'centos8', 'rhel8', 'ubi8']: # CentOS-8 AppStream is required for UBI-8 if args.distro == 'ubi8': content = APPSTREAM_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, args.output_path)"," ('rhel', '8') elif args.distro in ['centos7', 'centos8', 'rhel8']:",25,2
openstack%2Ftooz~stable%2Fussuri~I5ea06ebd2b976465ff82f10a74e140f30e9e803f,openstack/tooz,stable/ussuri,I5ea06ebd2b976465ff82f10a74e140f30e9e803f,Fix broken CI and PyMySQL support,MERGED,2020-10-02 10:11:47.000000000,2020-11-23 09:53:13.000000000,2020-11-23 09:52:02.000000000,"[{'_account_id': 6928}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-10-02 10:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/e920f9466484fc18ff415a306b985d956d1ff80c', 'message': ""Fix breakage with PyMySQL 0.10.0\n\nIn this version a Connection is no longer a context manager. Fix\nit by simply getting a Cursor out of it (locks don't seem to\ninteract with transactions, at least according to MariaDB docs).\n\nChange-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f\n(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)\n""}, {'number': 2, 'created': '2020-11-16 08:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/a2f4c8e354637a6ca56bbb13124c44eb777276a8', 'message': ""Fix breakage with PyMySQL 0.10.0\n\nIn this version a Connection is no longer a context manager. Fix\nit by simply getting a Cursor out of it (locks don't seem to\ninteract with transactions, at least according to MariaDB docs).\n\nChange-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f\n(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)\n""}, {'number': 3, 'created': '2020-11-16 08:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/de0094785503ef76f16b32964c79db64a2bbd7ec', 'message': ""Fix breakage with PyMySQL 0.10.0\n\nIn this version a Connection is no longer a context manager. Fix\nit by simply getting a Cursor out of it (locks don't seem to\ninteract with transactions, at least according to MariaDB docs).\n\nChange-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f\n(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)\n""}, {'number': 4, 'created': '2020-11-16 18:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/f8d1e3be404491e7820eef9fb490303ac563dde8', 'message': ""Blacklist etcd3gw 0.2.6\n\netcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because\nthat version has a bug [1].\n\ntooz does not use openstack/requirements' upper constraints, so the\nsame blacklisting needs to be introduced here in setup.cfg.\n\n[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2\n[1] https://github.com/dims/etcd3-gateway/issues/41\n\nChange-Id: I22b955419014dd34c63e406c488e0636ffe9013b\nCloses-Bug: #1891314\n(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)\n(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)\n\nFix breakage with PyMySQL 0.10.0\n\nIn this version a Connection is no longer a context manager. Fix\nit by simply getting a Cursor out of it (locks don't seem to\ninteract with transactions, at least according to MariaDB docs).\n\nChange-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f\n(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)\n""}, {'number': 5, 'created': '2020-11-22 21:12:48.000000000', 'files': ['tooz/drivers/mysql.py', 'releasenotes/notes/mysql-0.10.0-7660f75a1c57a920.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tooz/commit/667e2ec1f4d179c1ec9bd5f89ed12a50cad71e24', 'message': ""Fix broken CI and PyMySQL support\n\nThis is a combination of two patches that depend on \neach other to fix a breakage with PyMySQL 0.10.0 and\nfixing the up the CI to a working state.\n\n1. Blacklist etcd3gw 0.2.6\n\netcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because\nthat version has a bug [1].\n\ntooz does not use openstack/requirements' upper constraints, so the\nsame blacklisting needs to be introduced here in setup.cfg.\n\n[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2\n[1] https://github.com/dims/etcd3-gateway/issues/41\n\nChange-Id: I22b955419014dd34c63e406c488e0636ffe9013b\nCloses-Bug: #1891314\n(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)\n(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)\n\n2. Fix breakage with PyMySQL 0.10.0\n\nIn this version a Connection is no longer a context manager. Fix\nit by simply getting a Cursor out of it (locks don't seem to\ninteract with transactions, at least according to MariaDB docs).\n\nChange-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f\n(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)\n""}]",1,755753,667e2ec1f4d179c1ec9bd5f89ed12a50cad71e24,38,7,5,16137,,,0,"Fix broken CI and PyMySQL support

This is a combination of two patches that depend on 
each other to fix a breakage with PyMySQL 0.10.0 and
fixing the up the CI to a working state.

1. Blacklist etcd3gw 0.2.6

etcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because
that version has a bug [1].

tooz does not use openstack/requirements' upper constraints, so the
same blacklisting needs to be introduced here in setup.cfg.

[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2
[1] https://github.com/dims/etcd3-gateway/issues/41

Change-Id: I22b955419014dd34c63e406c488e0636ffe9013b
Closes-Bug: #1891314
(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)
(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)

2. Fix breakage with PyMySQL 0.10.0

In this version a Connection is no longer a context manager. Fix
it by simply getting a Cursor out of it (locks don't seem to
interact with transactions, at least according to MariaDB docs).

Change-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f
(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/53/755753/5 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/mysql.py', 'releasenotes/notes/mysql-0.10.0-7660f75a1c57a920.yaml']",2,e920f9466484fc18ff415a306b985d956d1ff80c,755753,--- fixes: - | Fixes AttributeError in the ``mysql`` driver with PyMySQL 0.10.0. ,,13,9
openstack%2Ftripleo-common~master~I3cade3f22519567809a4c65dcaa1b116f10be6c3,openstack/tripleo-common,master,I3cade3f22519567809a4c65dcaa1b116f10be6c3,Remove workflows that were only used by openstack overcloud delete,ABANDONED,2019-10-09 10:55:52.000000000,2020-11-23 09:28:39.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 10:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dcf76e1e905613170d2011d0430bed5d35fe1006', 'message': 'Remove workflows that were only used by openstack overcloud delete\n\nDepends-On: https://review.opendev.org/687531\nRelated-Bug: #1835242\nRelated-Bug: #1835246\nChange-Id: I3cade3f22519567809a4c65dcaa1b116f10be6c3\n'}, {'number': 2, 'created': '2020-01-27 14:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5215c83796fd80cdd4fd98c6795dbac5b62b2597', 'message': 'Remove workflows that were only used by openstack overcloud delete\n\nDepends-On: https://review.opendev.org/687531\nRelated-Bug: #1835242\nRelated-Bug: #1835246\nChange-Id: I3cade3f22519567809a4c65dcaa1b116f10be6c3\n'}, {'number': 3, 'created': '2020-02-14 09:38:32.000000000', 'files': ['workbooks/deployment.yaml', 'workbooks/stack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62e5c5a6fd9f6dc21d2bf5d654d545e78f3996e8', 'message': 'Remove workflows that were only used by openstack overcloud delete\n\nDepends-On: https://review.opendev.org/687531\nRelated-Bug: #1835242\nRelated-Bug: #1835246\nChange-Id: I3cade3f22519567809a4c65dcaa1b116f10be6c3\n'}]",0,687533,62e5c5a6fd9f6dc21d2bf5d654d545e78f3996e8,15,5,3,9712,,,0,"Remove workflows that were only used by openstack overcloud delete

Depends-On: https://review.opendev.org/687531
Related-Bug: #1835242
Related-Bug: #1835246
Change-Id: I3cade3f22519567809a4c65dcaa1b116f10be6c3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/687533/3 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/deployment.yaml', 'workbooks/stack.yaml']",2,dcf76e1e905613170d2011d0430bed5d35fe1006,mistral_to_ansible," continue-on: <% $.stack_status in ['CREATE_COMPLETE', 'CREATE_FAILED', 'UPDATE_COMPLETE', 'UPDATE_FAILED', 'DELETE_FAILED'] %>"," continue-on: <% $.stack_status in ['CREATE_COMPLETE', 'CREATE_FAILED', 'UPDATE_COMPLETE', 'UPDATE_FAILED', 'DELETE_FAILED'] %> wait_for_stack_does_not_exist: input: - stack - timeout: 3600 - queue_name: null tags: - tripleo-common-managed tasks: wait_for_stack_status: workflow: _heat_stacks_list input: queue_name: <% $.queue_name %> timeout: <% $.timeout %> publish: stack_status: <% let(stack => $.stack) -> task().result.stacks.where($.stack_name = $stack).first({}).get(stack_status) %> retry: delay: 15 count: <% $.timeout / 15 %> continue-on: <% $.stack_status = 'DELETE_FAILED' or $.stack in task().result.stacks.select([$.stack_name, $.id]).flatten() %> on-complete: fail: <% $.stack_status = 'DELETE_FAILED' %> delete_stack: input: - stack - queue_name: tripleo tags: - tripleo-common-managed tasks: delete_the_stack: action: heat.stacks_delete stack_id=<% $.stack %> on-success: wait_for_stack_does_not_exist on-error: delete_the_stack_failed delete_the_stack_failed: on-success: send_message publish: status: FAILED message: <% task(delete_the_stack).result %> wait_for_stack_does_not_exist: workflow: tripleo.stack.v1.wait_for_stack_does_not_exist input: stack: <% $.stack %> queue_name: <% $.queue_name %> on-success: send_message on-error: wait_for_stack_does_not_exist_failed wait_for_stack_does_not_exist_failed: on-success: send_message publish: status: FAILED message: <% task(wait_for_stack_does_not_exist).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> execution: <% execution() %> message: <% $.get('message', '') %> ",1,131
openstack%2Freleases~master~I5cdd8b2c7e1308302059af39de9f976f69a44a4d,openstack/releases,master,I5cdd8b2c7e1308302059af39de9f976f69a44a4d,[PowerVMStackers] Transition Stein to EM,MERGED,2020-11-11 18:15:58.000000000,2020-11-23 09:24:14.000000000,2020-11-23 09:24:14.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 18:15:58.000000000', 'files': ['deliverables/stein/networking-powervm.yaml', 'deliverables/stein/nova-powervm.yaml', 'deliverables/stein/ceilometer-powervm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cc259ffd33a3c50b21b190cceefe0eaa1e9370e3', 'message': '[PowerVMStackers] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5cdd8b2c7e1308302059af39de9f976f69a44a4d\n'}]",0,762371,cc259ffd33a3c50b21b190cceefe0eaa1e9370e3,7,2,1,17685,,,0,"[PowerVMStackers] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I5cdd8b2c7e1308302059af39de9f976f69a44a4d
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/762371/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/networking-powervm.yaml', 'deliverables/stein/nova-powervm.yaml', 'deliverables/stein/ceilometer-powervm.yaml']",3,cc259ffd33a3c50b21b190cceefe0eaa1e9370e3,stein-em, - version: stein-em projects: - repo: openstack/ceilometer-powervm hash: 4acc295bb0e6c60c5a9dca8516782cdd98e7c12b,,12,0
openstack%2Freleases~master~I3f4652ddbde421f75bdf7863852abfe5a62ed848,openstack/releases,master,I3f4652ddbde421f75bdf7863852abfe5a62ed848,[ironic] Transition Stein to EM,MERGED,2020-11-11 18:05:48.000000000,2020-11-23 09:16:45.000000000,2020-11-23 09:16:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 18:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/713b00a739a5f06bb7b7b51263defc34f19ea1d5', 'message': '[ironic] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3f4652ddbde421f75bdf7863852abfe5a62ed848\n'}, {'number': 2, 'created': '2020-11-11 18:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1e85ad7455f74397e0e09b6c5faa0c332846d6bb', 'message': '[ironic] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3f4652ddbde421f75bdf7863852abfe5a62ed848\n'}, {'number': 3, 'created': '2020-11-11 19:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c2983c12475e320484f96800e35624ab493febb3', 'message': '[ironic] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3f4652ddbde421f75bdf7863852abfe5a62ed848\n'}, {'number': 4, 'created': '2020-11-11 22:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d8b9b4ac6117c6379c0cca07ac6fe6dbbf42c9c9', 'message': '[ironic] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3f4652ddbde421f75bdf7863852abfe5a62ed848\n'}, {'number': 5, 'created': '2020-11-19 10:13:34.000000000', 'files': ['deliverables/stein/ironic-ui.yaml', 'deliverables/stein/ironic-inspector.yaml', 'deliverables/stein/ironic-lib.yaml', 'deliverables/stein/sushy.yaml', 'deliverables/stein/networking-generic-switch.yaml', 'deliverables/stein/ironic-python-agent.yaml', 'deliverables/stein/python-ironicclient.yaml', 'deliverables/stein/ironic.yaml', 'deliverables/stein/python-ironic-inspector-client.yaml', 'deliverables/stein/bifrost.yaml', 'deliverables/stein/networking-baremetal.yaml', 'deliverables/stein/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bca7d0110304ca98bd1d6782ae7e4a681581b25b', 'message': '[ironic] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3f4652ddbde421f75bdf7863852abfe5a62ed848\n'}]",0,762369,bca7d0110304ca98bd1d6782ae7e4a681581b25b,20,6,5,17685,,,0,"[ironic] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I3f4652ddbde421f75bdf7863852abfe5a62ed848
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/762369/5 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/ironic-ui.yaml', 'deliverables/stein/ironic-inspector.yaml', 'deliverables/stein/ironic-python-agent.yaml', 'deliverables/stein/python-ironicclient.yaml', 'deliverables/stein/ironic-lib.yaml', 'deliverables/stein/ironic.yaml', 'deliverables/stein/python-ironic-inspector-client.yaml', 'deliverables/stein/sushy.yaml', 'deliverables/stein/bifrost.yaml', 'deliverables/stein/networking-generic-switch.yaml', 'deliverables/stein/networking-baremetal.yaml']",11,713b00a739a5f06bb7b7b51263defc34f19ea1d5,stein-em, - version: stein-em projects: - repo: openstack/networking-baremetal hash: 8fdef956cb1cc394ecbabfcff92b6c0a5dbe9cbe,,45,1
openstack%2Freleases~master~I12707f24c5c639976e552ac45d0f0a2473cee276,openstack/releases,master,I12707f24c5c639976e552ac45d0f0a2473cee276,[tripleo] Transition Stein to EM,MERGED,2020-11-11 20:32:11.000000000,2020-11-23 09:16:30.000000000,2020-11-23 09:16:30.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 20:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03af84b9c5933f15bc9499b21a23ce3d4ee4eac4', 'message': '[tripleo] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I12707f24c5c639976e552ac45d0f0a2473cee276\n'}, {'number': 2, 'created': '2020-11-11 23:15:03.000000000', 'files': ['deliverables/stein/os-refresh-config.yaml', 'deliverables/stein/tripleo-heat-templates.yaml', 'deliverables/stein/os-apply-config.yaml', 'deliverables/stein/paunch.yaml', 'deliverables/stein/puppet-tripleo.yaml', 'deliverables/stein/python-tripleoclient.yaml', 'deliverables/stein/tripleo-ui.yaml', 'deliverables/stein/os-collect-config.yaml', 'deliverables/stein/os-net-config.yaml', 'deliverables/stein/tripleo-image-elements.yaml', 'deliverables/stein/tripleo-validations.yaml', 'deliverables/stein/tripleo-common.yaml', 'deliverables/stein/tripleo-puppet-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3bd94a39ff642bf37a2b582ac7e8a437816bc358', 'message': '[tripleo] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I12707f24c5c639976e552ac45d0f0a2473cee276\n'}]",0,762411,3bd94a39ff642bf37a2b582ac7e8a437816bc358,13,5,2,17685,,,0,"[tripleo] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I12707f24c5c639976e552ac45d0f0a2473cee276
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/762411/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/os-refresh-config.yaml', 'deliverables/stein/tripleo-heat-templates.yaml', 'deliverables/stein/tripleo-ansible.yaml', 'deliverables/stein/os-apply-config.yaml', 'deliverables/stein/paunch.yaml', 'deliverables/stein/puppet-tripleo.yaml', 'deliverables/stein/python-tripleoclient.yaml', 'deliverables/stein/tripleo-ui.yaml', 'deliverables/stein/os-collect-config.yaml', 'deliverables/stein/os-net-config.yaml', 'deliverables/stein/tripleo-image-elements.yaml', 'deliverables/stein/tripleo-ipsec.yaml', 'deliverables/stein/tripleo-validations.yaml', 'deliverables/stein/tripleo-common.yaml', 'deliverables/stein/tripleo-puppet-elements.yaml']",15,03af84b9c5933f15bc9499b21a23ce3d4ee4eac4,stein-em, - version: stein-em projects: - repo: openstack/tripleo-puppet-elements hash: 78f7e7f6d926b27cd4025fa7c28a7d84d01813f2,,60,0
openstack%2Fpanko~stable%2Ftrain~Ib3e2f430914f5300cc9be053b6c3867d7eefd93b,openstack/panko,stable/train,Ib3e2f430914f5300cc9be053b6c3867d7eefd93b,Make telemetry-dsvm-integration non-voting,MERGED,2020-11-19 14:52:01.000000000,2020-11-23 09:15:59.000000000,2020-11-23 09:05:36.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 14:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/33b082612644f041146f2799df96897c041732db', 'message': 'Make telemetry-dsvm-integration non-voting\n\nThe job currently fails in train for irrelevant reasons.\n\nChange-Id: Ib3e2f430914f5300cc9be053b6c3867d7eefd93b\n'}, {'number': 2, 'created': '2020-11-19 22:27:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/c19b58c539ea6d34c33b05911bbbd2a8af7bb2c7', 'message': 'Make telemetry-dsvm-integration non-voting\n\nThe job currently fails in train for irrelevant reasons.\n\nChange-Id: Ib3e2f430914f5300cc9be053b6c3867d7eefd93b\n'}]",0,763388,c19b58c539ea6d34c33b05911bbbd2a8af7bb2c7,13,3,2,5241,,,0,"Make telemetry-dsvm-integration non-voting

The job currently fails in train for irrelevant reasons.

Change-Id: Ib3e2f430914f5300cc9be053b6c3867d7eefd93b
",git fetch https://review.opendev.org/openstack/panko refs/changes/88/763388/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,33b082612644f041146f2799df96897c041732db,ci-pass, voting: false, - telemetry-dsvm-integration,1,1
openstack%2Freleases~master~If99bc845a6558bd3236022d243396fd2805a44ca,openstack/releases,master,If99bc845a6558bd3236022d243396fd2805a44ca,[cloudkitty] Transition Stein to EM,MERGED,2020-11-11 18:25:13.000000000,2020-11-23 09:14:48.000000000,2020-11-23 09:14:48.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 18:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2f426ddb761abfb5032e2d5e7a158d5407c2f7e7', 'message': '[cloudkitty] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If99bc845a6558bd3236022d243396fd2805a44ca\n'}, {'number': 2, 'created': '2020-11-11 22:06:32.000000000', 'files': ['deliverables/stein/python-cloudkittyclient.yaml', 'deliverables/stein/cloudkitty-dashboard.yaml', 'deliverables/stein/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ad220242efabc2174ed7125e84fe9c03e87ca46', 'message': '[cloudkitty] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If99bc845a6558bd3236022d243396fd2805a44ca\n'}]",0,762376,0ad220242efabc2174ed7125e84fe9c03e87ca46,12,4,2,17685,,,0,"[cloudkitty] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: If99bc845a6558bd3236022d243396fd2805a44ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/762376/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-cloudkittyclient.yaml', 'deliverables/stein/cloudkitty-dashboard.yaml', 'deliverables/stein/cloudkitty-tempest-plugin.yaml', 'deliverables/stein/cloudkitty.yaml']",4,2f426ddb761abfb5032e2d5e7a158d5407c2f7e7,stein-em, - version: stein-em projects: - repo: openstack/cloudkitty hash: 9b53864dac0351f2b3869decca342d4bde521818,,16,0
openstack%2Freleases~master~I15cf76a1055a5fda8cac8abca321b8056b28b0fa,openstack/releases,master,I15cf76a1055a5fda8cac8abca321b8056b28b0fa,[senlin] Transition Stein to EM,MERGED,2020-11-11 21:05:26.000000000,2020-11-23 09:14:41.000000000,2020-11-23 09:14:41.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b04bb6144895bce6b5a817a6788f91e42e911906', 'message': '[senlin] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I15cf76a1055a5fda8cac8abca321b8056b28b0fa\n'}, {'number': 2, 'created': '2020-11-11 22:53:58.000000000', 'files': ['deliverables/stein/senlin.yaml', 'deliverables/stein/python-senlinclient.yaml', 'deliverables/stein/senlin-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff20cb6a125f4ab381f7579ffbd7fdc6724de166', 'message': '[senlin] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I15cf76a1055a5fda8cac8abca321b8056b28b0fa\n'}]",0,762421,ff20cb6a125f4ab381f7579ffbd7fdc6724de166,9,4,2,17685,,,0,"[senlin] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I15cf76a1055a5fda8cac8abca321b8056b28b0fa
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/762421/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/senlin.yaml', 'deliverables/stein/python-senlinclient.yaml', 'deliverables/stein/senlin-tempest-plugin.yaml', 'deliverables/stein/senlin-dashboard.yaml']",4,b04bb6144895bce6b5a817a6788f91e42e911906,stein-em, - version: stein-em projects: - repo: openstack/senlin-dashboard hash: f4bb5779a939953c17bb052f77b414d6c9cca639,,16,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I2da0476464ec725c239b9cd933479c1639b01bae,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I2da0476464ec725c239b9cd933479c1639b01bae,Use Ussuri branch RDO repo on OSA Ussuri branch,ABANDONED,2020-06-25 15:07:32.000000000,2020-11-23 08:51:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-25 15:07:32.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5c419cdc71efeb9b77243f0fefb573765fde69e3', 'message': 'Use Ussuri branch RDO repo on OSA Ussuri branch\n\nChange-Id: I2da0476464ec725c239b9cd933479c1639b01bae\n'}]",0,738048,5c419cdc71efeb9b77243f0fefb573765fde69e3,6,3,1,25023,,,0,"Use Ussuri branch RDO repo on OSA Ussuri branch

Change-Id: I2da0476464ec725c239b9cd933479c1639b01bae
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/48/738048/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,5c419cdc71efeb9b77243f0fefb573765fde69e3,,"openstack_hosts_rdo_repo_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos{{ ansible_distribution_major_version }}-ussuri/current-passed-ci/"" openstack_hosts_rdo_deps_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos{{ ansible_distribution_major_version }}-ussuri/deps/latest/""","openstack_hosts_rdo_repo_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos{{ ansible_distribution_major_version }}-master/current-passed-ci/"" openstack_hosts_rdo_deps_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos{{ ansible_distribution_major_version }}-master/deps/latest/""",2,2
openstack%2Fironic~master~I859d9f2dccb3f1d09ef083e32102ace6759b04c6,openstack/ironic,master,I859d9f2dccb3f1d09ef083e32102ace6759b04c6,Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib,ABANDONED,2020-06-10 07:59:15.000000000,2020-11-23 08:35:22.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-10 07:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a6898c2aac9d01fe5e1bc96f452982ad2902689', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 2, 'created': '2020-06-10 13:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fd3a14f6fb98a005b8b5397afebd141f1a2bb4d', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 3, 'created': '2020-06-10 15:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/842b1daec11942789dbee9712d80495c9f6e3d5d', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 4, 'created': '2020-06-10 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbbab9f7cc73e04862b4ea1656facea988ed434d', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 5, 'created': '2020-06-10 15:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52ae4a1d7edbc05a0c83f1f47003c1631460da58', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 6, 'created': '2020-06-11 13:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b77e2ab551d10776f87e7c6abb3c7b09745c58b6', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 7, 'created': '2020-06-16 15:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/03955e6570a636ff7f62504134626924b8c9a28d', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 8, 'created': '2020-06-17 07:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b45cbb52ccf4ec126b2ad2f555f7f2de8b7a82fa', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 9, 'created': '2020-06-17 13:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea887238433161d0104366aebf40b223fcf04f1c', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 10, 'created': '2020-06-23 09:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f3d70c8775764332bd06501b6565b6c064c5f43b', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 11, 'created': '2020-07-09 12:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b3e5efd1404255f8963360af427085f4cc6bae2', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 12, 'created': '2020-07-19 14:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc4f35983732fe53d4a37960be732bc1ce1f9fb8', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 13, 'created': '2020-07-19 14:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9a76cec7aeb4a0109a2506c3bbcae60b0cec885', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}, {'number': 14, 'created': '2020-11-23 08:32:09.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8390b9804be6754feec1da28c8d863f5537d83f', 'message': 'Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib\n\nChange-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6\n'}]",0,734759,d8390b9804be6754feec1da28c8d863f5537d83f,49,5,14,23851,,,0,"Convert ironic-tempest-ipa-wholedisk-bios-agent_ipmitool to dib

Change-Id: I859d9f2dccb3f1d09ef083e32102ace6759b04c6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/734759/11 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2a6898c2aac9d01fe5e1bc96f452982ad2902689,the-last-tinyipa, - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool, - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa,2,2
openstack%2Fkolla-ansible~master~I7fdb121b5bf9850d62246a24f9b17d226028c2ca,openstack/kolla-ansible,master,I7fdb121b5bf9850d62246a24f9b17d226028c2ca,Add support for GlusterFS NFS Manila backend,MERGED,2020-08-16 02:48:11.000000000,2020-11-23 08:30:56.000000000,2020-11-18 21:44:06.000000000,"[{'_account_id': 7488}, {'_account_id': 9003}, {'_account_id': 14826}, {'_account_id': 16643}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 31506}, {'_account_id': 32029}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-16 02:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68184845739cbf2262b0df74fe5ec8e5f9638d63', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 2, 'created': '2020-08-16 03:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff34471ead00a9681b0abced2b4b2b0f8f7c0f75', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 3, 'created': '2020-08-16 06:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f52431860b62cc496cdf9c2f98f7ac5169795a7', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 4, 'created': '2020-08-16 06:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cff8ecd07baae068e1a19fb91ecca008c63262d4', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 5, 'created': '2020-08-16 08:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b65f96eeeb4e639db7ce6800c0dbe2fdada0af66', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 6, 'created': '2020-08-20 02:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/627bfee62a729c77b104bc1c8ff72ded50431123', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 7, 'created': '2020-08-27 05:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad3519bc072b579555bfafdd7bd15dfc738f3b9f', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 8, 'created': '2020-08-27 06:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53f562845fe0d872ec325c719d1e882fea88731f', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 9, 'created': '2020-09-01 11:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/944fa450e4feaac895cb04377368374a2a9ed3de', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 10, 'created': '2020-09-01 11:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9e8b661ed446f8f155a5a2f3a512bcf3232fd91', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 11, 'created': '2020-09-03 02:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c9db62a9094eafdf55b3d96229b43945d382ccf', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 12, 'created': '2020-09-03 03:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/158d41c055dd25fbac836a495c54d34f66df76e5', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 13, 'created': '2020-09-05 03:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc25df71c6126ffa6f91b064a8d07525abc12f7a', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 14, 'created': '2020-09-06 13:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e33366f673d4effcd6b415d4eb3518304240975', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 15, 'created': '2020-09-21 08:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c0888d99e4e5ebf58340ff3142a4c6155f3f133', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 16, 'created': '2020-09-21 08:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6feb08282b68111612a33c3e4579c0c0cc10a0a', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 17, 'created': '2020-09-22 07:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/593da6485b21e64a01aa4d1959005357b83d7e2c', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}, {'number': 18, 'created': '2020-10-24 06:25:33.000000000', 'files': ['ansible/roles/manila/defaults/main.yml', 'releasenotes/notes/add-support-GlusterFS-NFS-Manila-backend-fa8a54e06adb0714.yaml', 'doc/source/reference/storage/manila-guide.rst', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f01492b11c81e6f5ec9773c2eb39612033992c35', 'message': 'Add support for GlusterFS NFS Manila backend\n\nFollows existing backends patterns to add support for the GlusterFS\nNFS driver.\nNFS server type used by the GlusterFS backend, Gluster or Ganesha,\ncurrently supports Gluster.\nThe GlusterFS NFS driver needs to install the glusterfs-fuse package\nin the kolla images manila share container in advance, which has been merged\nin https://review.opendev.org/747510\n\nChange-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca\n'}]",39,746384,f01492b11c81e6f5ec9773c2eb39612033992c35,88,16,18,31506,,,0,"Add support for GlusterFS NFS Manila backend

Follows existing backends patterns to add support for the GlusterFS
NFS driver.
NFS server type used by the GlusterFS backend, Gluster or Ganesha,
currently supports Gluster.
The GlusterFS NFS driver needs to install the glusterfs-fuse package
in the kolla images manila share container in advance, which has been merged
in https://review.opendev.org/747510

Change-Id: I7fdb121b5bf9850d62246a24f9b17d226028c2ca
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/746384/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'etc/kolla/globals.yml']",4,68184845739cbf2262b0df74fe5ec8e5f9638d63,add_glusterfs_driver,"#enable_manila_backend_gluster_nfs: ""no""# Gluster backend configuration glusterfs_share_layout: ""volume"" # Volume layout #glusterfs_user: #glusterfs_passwork: #glusterfs_volume_pattern: # Directory layout #glusterfs_target: #glusterfs_dir_passwork: #glusterfs_mount_point_base: ",,59,0
openstack%2Fcyborg-specs~master~Icb98cb601fbeb9969c298ea5f980ebd30d364b85,openstack/cyborg-specs,master,Icb98cb601fbeb9969c298ea5f980ebd30d364b85,Cyborg Intel X710 Ethernet Adapter Driver,MERGED,2020-10-24 03:29:22.000000000,2020-11-23 08:26:53.000000000,2020-11-23 08:25:41.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-10-24 03:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/4d694cac9b018189c09a866725b04dcd0b251d28', 'message': 'Cyborg Intel X710 Ethernet Adapter Driver\n\nChange-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85\n'}, {'number': 2, 'created': '2020-10-24 03:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/e0645962510ef2b9b1aa874d83ab818340fbe24f', 'message': 'Cyborg Intel X710 Ethernet Adapter Driver\n\nChange-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85\n'}, {'number': 3, 'created': '2020-11-10 09:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/15269c3d8c1dc4d27b554f6214393915912949dd', 'message': 'Cyborg Intel X710 Ethernet Adapter Driver\n\nThis spec introduce Intel X710 Ethernet Adapter Driver to Cyborg.\n\nChange-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85\nblueprint: sriov-smartnic-support\n'}, {'number': 4, 'created': '2020-11-19 06:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/6eb2043be86ccf6ff55242daa2f9bc44911e4d33', 'message': 'Cyborg Intel X710 Ethernet Adapter Driver\n\nThis spec introduce Intel X710 Ethernet Adapter Driver to Cyborg.\n\nChange-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85\nblueprint: sriov-smartnic-support\n'}, {'number': 5, 'created': '2020-11-20 02:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/55910aacc5aef451dc731d97adf47c783084b6d5', 'message': 'Cyborg Intel X710 Ethernet Adapter Driver\n\nThis spec introduce Intel X710 Ethernet Adapter Driver to Cyborg.\n\nChange-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85\nblueprint: sriov-smartnic-support\n'}, {'number': 6, 'created': '2020-11-23 07:29:30.000000000', 'files': ['specs/wallaby/approved/add-x710-driver.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/563d160fee0c25c7409a0428488dac72c2c37737', 'message': 'Cyborg Intel X710 Ethernet Adapter Driver\n\nThis spec introduce Intel X710 Ethernet Adapter Driver to Cyborg.\n\nChange-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85\nblueprint: sriov-smartnic-support\n'}]",27,759545,563d160fee0c25c7409a0428488dac72c2c37737,37,8,6,25738,,,0,"Cyborg Intel X710 Ethernet Adapter Driver

This spec introduce Intel X710 Ethernet Adapter Driver to Cyborg.

Change-Id: Icb98cb601fbeb9969c298ea5f980ebd30d364b85
blueprint: sriov-smartnic-support
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/45/759545/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/add-x710-driver.rst'],1,4d694cac9b018189c09a866725b04dcd0b251d28,bp/sriov-smartnic-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Cyborg Intel x710 driver proposal ================================== This spec propose to provide a new cyborg driver for Intel x710 dirver. Problem description =================== The Intel Ethernet Converaged Network Adapter x710 [1]_ addressed the demanding need of an agile data center by providing unmatched features for both server and virtualization, flexibility for LAN or SAN networks and proven, reliable performance. This device also support SR-IOV virtualization technology, it can be virtualized up to 128 VFs, each VF can support a unique and seperate date path for I/O related functions within the PCI Express hierarchy. Using SR-IOV with the networking device, for example, allow the bandwidth of a single port(function) to be partitioned into smaller slices that can be allocated to specific VMs or guest, via a standard interface. One of the key features of x710 Network Adapter is Dynamic Device Personalizaiton(DDP) [2]_. DDP allows dynamic reconfiguration of the packet processing pipeline to meet specific use case needs on demand, adding new packet processing pipeline configuration profiles to a network adapter at run time, without resetting or rebooting the server. Software applies these custom profiles in a nonpermanent, transaction-like mode, so the original network controllers configuration is restored after network adapter reset, or by rolling back profile changes by software. The DPDK provides all APIs to handle DDP packages. Use Cases --------- * When user want to boot up a VM with Intel X710 Ethernet Adapter (PF or VF) attached in order to accelerate network related workload. Cyborg should be able to manage this kind of acceleration resources and to assign it to the VM(binding). Proposed change =============== In general, the goal is to develop a Cyborg Intel x710 driver that supports discover() interfaces, this driver is reponsible to encapsule the device information to Cyborg's unified data model, such as Device, Deployale, AttachHandle and so on. The driver should include discover functions which will be called by agent periodically. We should also implement a configuration file to let Cyborg driver to discover the loaded DDP profile on X710, as well as the physnet name associated with this nic and then cyborg can report thess as the attributes. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Developer impact ---------------- Deployer need to install DPDK toolkit to confige the DDP feature. Implementation ============== Assignee(s) ----------- Primary assignee: Xinran Wang(xin-ran.wang@intel.com) Dependencies ============ None Documentation Impact ==================== Need add or update related documentations. References ========== .. [1] https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ethernet-x710-brief.pdf .. [2] https://software.intel.com/content/www/us/en/develop/articles/dynamic-device-personalization-for-intel-ethernet-700-series.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Victoria - Introduced ",,140,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibf60a3b82a7d52556fd0f46c9c597ebdaa02741a,openstack/tripleo-heat-templates,stable/train,Ibf60a3b82a7d52556fd0f46c9c597ebdaa02741a,Dummy commit for FFU workaround purposes,ABANDONED,2020-09-17 07:39:06.000000000,2020-11-23 07:59:31.000000000,,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-17 07:39:06.000000000', 'files': ['deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1b3385c9dc6eecd4c54d0849d972e7dd6e93666', 'message': 'Dummy commit for FFU workaround purposes\n\nDO NOT MERGE\nThis is a copy from https://review.opendev.org/#/c/752230/, rebased on\nan earlier commit, which is necessary to be used as an FFU workaround\n\nChange-Id: Ibf60a3b82a7d52556fd0f46c9c597ebdaa02741a\n'}]",0,752381,c1b3385c9dc6eecd4c54d0849d972e7dd6e93666,4,3,1,31291,,,0,"Dummy commit for FFU workaround purposes

DO NOT MERGE
This is a copy from https://review.opendev.org/#/c/752230/, rebased on
an earlier commit, which is necessary to be used as an FFU workaround

Change-Id: Ibf60a3b82a7d52556fd0f46c9c597ebdaa02741a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/752381/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-metadata-container-puppet.yaml'],1,c1b3385c9dc6eecd4c54d0849d972e7dd6e93666,," upgrade_tasks: - name: Switch ovn remote setting tags: - never - nova_hybrid_state when: step|int == 0 block: - name: Get ovn remote setting in networking-ovn-metadata-agent.ini shell: | crudini --get /var/lib/config-data/puppet-generated/neutron/etc/neutron/plugins/networking-ovn/networking-ovn-metadata-agent.ini ovn ovn_sb_connection register: ovn_remote - name: Set new ovn remote setting in networking-ovn-metadata-agent.ini shell: | crudini --set /var/lib/config-data/puppet-generated/neutron/etc/neutron/plugins/networking-ovn/networking-ovn-metadata-agent.ini ovn ovn_sb_connection ""tcp:{{ ovn_dbs_vip | ipwrap }}:6642"" when: ovn_dbs_vip not in ovn_remote.stdout - name: Restart docker restart ovn_metadata_agent to apply change in networking-ovn-metadata-agent.ini shell: | docker restart ovn_metadata_agent when: ovn_dbs_vip not in ovn_remote.stdout", upgrade_tasks: [],19,1
openstack%2Fneutron~master~I6e4abe13a7541c21399466c5eb0d61ff5780c887,openstack/neutron,master,I6e4abe13a7541c21399466c5eb0d61ff5780c887,Lock sg updates while in _apply_port_filter(),MERGED,2020-07-28 19:49:41.000000000,2020-11-23 07:58:29.000000000,2020-11-23 07:56:47.000000000,"[{'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 17264}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-28 19:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ad3c2135d1dcaea57c0a7f0110915b547021c28', 'message': 'Lock sg updates while in _apply_port_filter()\n\nAdd a locking mechanism so that security_groups_member_updated event\nprocessing is blocked if another thread is in the process of applying\nport filters.  This avoids a race condition where security group\nmembership updates are incorrectly discarded when they arrive between\nretrieving port details and registering the port with the firewall\ndriver.\n\nSee https://bugs.launchpad.net/neutron/+bug/1887405 for complete\ndetails.\n\nBug: 1887405\nChange-Id: I6e4abe13a7541c21399466c5eb0d61ff5780c887\n'}, {'number': 2, 'created': '2020-08-03 15:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e17866d7a7d8b220da48e63814da84bd044bff6d', 'message': 'Lock sg updates while in _apply_port_filter()\n\nAdd a locking mechanism so that security_groups_member_updated event\nprocessing is blocked if another thread is in the process of applying\nport filters.  This avoids a race condition where security group\nmembership updates are incorrectly discarded when they arrive between\nretrieving port details and registering the port with the firewall\ndriver.\n\nSee https://bugs.launchpad.net/neutron/+bug/1887405 for complete\ndetails.\n\nBug: 1887405\nChange-Id: I6e4abe13a7541c21399466c5eb0d61ff5780c887\n'}, {'number': 3, 'created': '2020-08-06 16:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/217df1051f8335928e05c55d0ab7ff4b1b339d42', 'message': 'Lock sg updates while in _apply_port_filter()\n\nAdd a locking mechanism so that security_groups_member_updated event\nprocessing is blocked if another thread is in the process of applying\nport filters.  This avoids a race condition where security group\nmembership updates are incorrectly discarded when they arrive between\nretrieving port details and registering the port with the firewall\ndriver.\n\nSee https://bugs.launchpad.net/neutron/+bug/1887405 for complete\ndetails.\n\nBug: 1887405\nChange-Id: I6e4abe13a7541c21399466c5eb0d61ff5780c887\n'}, {'number': 4, 'created': '2020-08-06 16:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/123d3f0e3c89fb480c7f37584407f75d49cc2ff1', 'message': 'Lock sg updates while in _apply_port_filter()\n\nAdd a locking mechanism so that security_groups_member_updated event\nprocessing is blocked if another thread is in the process of applying\nport filters.  This avoids a race condition where security group\nmembership updates are incorrectly discarded when they arrive between\nretrieving port details and registering the port with the firewall\ndriver.\n\nSee https://bugs.launchpad.net/neutron/+bug/1887405 for complete\ndetails.\n\nBug: 1887405\nChange-Id: I6e4abe13a7541c21399466c5eb0d61ff5780c887\n'}, {'number': 5, 'created': '2020-08-13 13:13:10.000000000', 'files': ['neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cc8f16a588d7e40c3e696e6739d8ada907f0116', 'message': 'Lock sg updates while in _apply_port_filter()\n\nAdd a locking mechanism so that security_groups_member_updated event\nprocessing is blocked if another thread is in the process of applying\nport filters.  This avoids a race condition where security group\nmembership updates are incorrectly discarded when they arrive between\nretrieving port details and registering the port with the firewall\ndriver.\n\nSee https://bugs.launchpad.net/neutron/+bug/1887405 for complete\ndetails.\n\nBug: 1887405\nChange-Id: I6e4abe13a7541c21399466c5eb0d61ff5780c887\n'}]",13,743624,5cc8f16a588d7e40c3e696e6739d8ada907f0116,62,8,5,17264,,,0,"Lock sg updates while in _apply_port_filter()

Add a locking mechanism so that security_groups_member_updated event
processing is blocked if another thread is in the process of applying
port filters.  This avoids a race condition where security group
membership updates are incorrectly discarded when they arrive between
retrieving port details and registering the port with the firewall
driver.

See https://bugs.launchpad.net/neutron/+bug/1887405 for complete
details.

Bug: 1887405
Change-Id: I6e4abe13a7541c21399466c5eb0d61ff5780c887
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/743624/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/securitygroups_rpc.py'],1,1ad3c2135d1dcaea57c0a7f0110915b547021c28,bug/1887405,import threading self._devices_consistent = threading.Event() self._devices_consistent.set() devices_consistent = threading.Event() devices_consistent.clear() self._devices_consistent = devices_consistent devices_consistent.set() # Block until the most recent thread in _apply_port_filter() finishes # adding data to firewall.filtered_ports. self._devices_consistent.wait(),,12,0
openstack%2Fpuppet-openstack-integration~master~I544ae558483423a96d5790a68003f3e03a5b7d75,openstack/puppet-openstack-integration,master,I544ae558483423a96d5790a68003f3e03a5b7d75,Updated from Puppet OpenStack modules constraints,MERGED,2020-11-19 06:08:31.000000000,2020-11-23 07:22:45.000000000,2020-11-23 07:22:45.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 06:08:31.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/073b9b05f398891ce5e16781b6ea1e2c8b0f9542', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I544ae558483423a96d5790a68003f3e03a5b7d75\n'}]",0,763315,073b9b05f398891ce5e16781b6ea1e2c8b0f9542,10,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I544ae558483423a96d5790a68003f3e03a5b7d75
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/15/763315/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,073b9b05f398891ce5e16781b6ea1e2c8b0f9542,openstack/puppet/constraints, :ref => 'v4.0.0', :ref => 'v3.7.0',1,1
openstack%2Fhorizon~stable%2Fussuri~Ieb3e8cfd534161fa10b3ced3ea03a62c4ffeeafe,openstack/horizon,stable/ussuri,Ieb3e8cfd534161fa10b3ced3ea03a62c4ffeeafe,FM GUI code for WR review-1,ABANDONED,2020-11-13 06:33:11.000000000,2020-11-23 06:38:16.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 28410}, {'_account_id': 31564}, {'_account_id': 31697}, {'_account_id': 31799}]","[{'number': 1, 'created': '2020-11-13 06:33:11.000000000', 'files': ['openstack_dashboard/dashboards/faultmanagement/alarms/templates/events/_events.html', 'openstack_dashboard/dashboards/faultmanagement/alarms/views.py', 'openstack_dashboard/dashboards/faultmanagement/__init__.py', 'openstack_dashboard/dashboards/faultmanagement/events/tabs.py', 'openstack_dashboard/dashboards/faultmanagement/events/templates/events/_events.html', 'openstack_dashboard/enabled/_6010_faultmanagement_alarms_panel.py', 'openstack_dashboard/dashboards/faultmanagement/events/tests.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/templates/events/_events.html', 'openstack_dashboard/dashboards/faultmanagement/events/panel.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/templates/events/events.html', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/tabs.py', 'openstack_dashboard/dashboards/faultmanagement/events/urls.py', 'openstack_dashboard/dashboards/faultmanagement/events/views.py', 'openstack_dashboard/dashboards/faultmanagement/templates/mydashboard/base.html', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/views.py', 'openstack_dashboard/dashboards/faultmanagement/events/__init__.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/panel.py', 'openstack_dashboard/enabled/_6000_faultmanagement.py', 'openstack_dashboard/dashboards/faultmanagement/events/templates/events/events.html', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/tests.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/tabs.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/__init__.py', 'openstack_dashboard/enabled/_6030_faultmanagement_eventssuppression_panel.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/templates/events/events.html', 'openstack_dashboard/dashboards/faultmanagement/alarms/__init__.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/urls.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/urls.py', 'openstack_dashboard/dashboards/faultmanagement/static/mydashboard/scss/mydashboard.scss', 'openstack_dashboard/dashboards/faultmanagement/alarms/tests.py', 'openstack_dashboard/enabled/_6020_faultmanagement_events_panel.py', 'openstack_dashboard/dashboards/faultmanagement/static/mydashboard/js/mydashboard.js', 'openstack_dashboard/dashboards/faultmanagement/dashboard.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/panel.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2ed7bb482052046f5a88df6ed81c7d8bc23be149', 'message': 'FM GUI code for WR review-1\n\nThese are FM GUI code for building plugin,panel,tables and views.\n\nChange-Id: Ieb3e8cfd534161fa10b3ced3ea03a62c4ffeeafe\nSigned-off-by: Sharath Kumar K <sharath.kumar@intel.com>\n'}]",55,762616,2ed7bb482052046f5a88df6ed81c7d8bc23be149,4,6,1,31570,,,0,"FM GUI code for WR review-1

These are FM GUI code for building plugin,panel,tables and views.

Change-Id: Ieb3e8cfd534161fa10b3ced3ea03a62c4ffeeafe
Signed-off-by: Sharath Kumar K <sharath.kumar@intel.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/762616/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/faultmanagement/alarms/templates/events/_events.html', 'openstack_dashboard/dashboards/faultmanagement/alarms/views.py', 'openstack_dashboard/dashboards/faultmanagement/__init__.py', 'openstack_dashboard/dashboards/faultmanagement/events/tabs.py', 'openstack_dashboard/dashboards/faultmanagement/events/templates/events/_events.html', 'openstack_dashboard/enabled/_6010_faultmanagement_alarms_panel.py', 'openstack_dashboard/dashboards/faultmanagement/events/tests.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/templates/events/_events.html', 'openstack_dashboard/dashboards/faultmanagement/events/panel.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/templates/events/events.html', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/tabs.py', 'openstack_dashboard/dashboards/faultmanagement/events/urls.py', 'openstack_dashboard/dashboards/faultmanagement/events/views.py', 'openstack_dashboard/dashboards/faultmanagement/templates/mydashboard/base.html', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/views.py', 'openstack_dashboard/dashboards/faultmanagement/events/__init__.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/panel.py', 'openstack_dashboard/enabled/_6000_faultmanagement.py', 'openstack_dashboard/dashboards/faultmanagement/events/templates/events/events.html', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/tests.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/tabs.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/__init__.py', 'openstack_dashboard/enabled/_6030_faultmanagement_eventssuppression_panel.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/templates/events/events.html', 'openstack_dashboard/dashboards/faultmanagement/alarms/__init__.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/urls.py', 'openstack_dashboard/dashboards/faultmanagement/eventssuppression/urls.py', 'openstack_dashboard/dashboards/faultmanagement/static/mydashboard/scss/mydashboard.scss', 'openstack_dashboard/dashboards/faultmanagement/alarms/tests.py', 'openstack_dashboard/enabled/_6020_faultmanagement_events_panel.py', 'openstack_dashboard/dashboards/faultmanagement/static/mydashboard/js/mydashboard.js', 'openstack_dashboard/dashboards/faultmanagement/dashboard.py', 'openstack_dashboard/dashboards/faultmanagement/alarms/panel.py']",33,2ed7bb482052046f5a88df6ed81c7d8bc23be149,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from django.utils.translation import ugettext_lazy as _ import horizon from openstack_dashboard.dashboards.faultmanagement import dashboard class AlarmsPanel(horizon.Panel): name = _(""Active Alarms"") slug = ""alarms"" dashboard.FaultManagement.register(AlarmsPanel) ",,485,0
openstack%2Fdevstack~master~I233386444e5706542d3d1ff1e7144454a5271f21,openstack/devstack,master,I233386444e5706542d3d1ff1e7144454a5271f21,Bump minimum pip version,ABANDONED,2017-10-26 23:30:49.000000000,2020-11-23 05:47:15.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-26 23:30:49.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4e320e441b61694384fc236e78ab48ceeb9bd3f1', 'message': 'Bump minimum pip version\n\nAs we found with Ie3f967d27b03a9594d54e8dd413f61daa65a73f3, any lower\nthan ~8 has issues with constraints; this is very out of date.  Bump\nto the current release.  (Follow-on to\nIc7d0c04d7fa77774ab2d70fb9d11f182becec553)\n\nChange-Id: I233386444e5706542d3d1ff1e7144454a5271f21\n'}]",0,515550,4e320e441b61694384fc236e78ab48ceeb9bd3f1,11,6,1,7118,,,0,"Bump minimum pip version

As we found with Ie3f967d27b03a9594d54e8dd413f61daa65a73f3, any lower
than ~8 has issues with constraints; this is very out of date.  Bump
to the current release.  (Follow-on to
Ic7d0c04d7fa77774ab2d70fb9d11f182becec553)

Change-Id: I233386444e5706542d3d1ff1e7144454a5271f21
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/515550/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,4e320e441b61694384fc236e78ab48ceeb9bd3f1,use-pip-10," if (( pip_version<9 )); then ""meet minimum requirements (>=9)."""," if (( pip_version<6 )); then ""meet minimum requirements (>=6).""",2,2
openstack%2Fdiskimage-builder~master~I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d,openstack/diskimage-builder,master,I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d,Fix python-stow-versions,MERGED,2020-09-13 10:47:57.000000000,2020-11-23 05:18:04.000000000,2020-11-23 05:15:54.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-13 10:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/176bb932f2c43e60572939a4ac1e007908cfc4ac', 'message': 'Fix python-stow-versions\n\nDIB_PYTHON_PREFIX variable was neither defined nor needed.\n\nChange-Id: I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d\n'}, {'number': 2, 'created': '2020-09-24 07:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8bc17a51a2d86aa0dd2f2bd916a971bafe5698f7', 'message': 'Fix python-stow-versions\n\nDIB_PYTHON_PREFIX variable was neither defined nor needed.\n\nChange-Id: I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d\n'}, {'number': 3, 'created': '2020-09-24 07:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ba9910cad0915bbdad3ca05d7c7cd84e26f0a011', 'message': 'Fix python-stow-versions\n\nDIB_PYTHON_PREFIX variable was neither defined nor needed.\n\nChange-Id: I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d\n'}, {'number': 4, 'created': '2020-11-03 23:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7669a72ccbf755cb678e5559f8156241ff741525', 'message': 'Fix python-stow-versions\n\nDIB_PYTHON_PREFIX variable was neither defined nor needed.\n\nChange-Id: I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d\n'}, {'number': 5, 'created': '2020-11-17 09:23:32.000000000', 'files': ['diskimage_builder/elements/python-stow-versions/post-install.d/70-python-build'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/75a5415dbc21462c95a3c91016fd7b65511eb49b', 'message': 'Fix python-stow-versions\n\nDIB_PYTHON_PREFIX variable was neither defined nor needed.\n\nChange-Id: I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d\n'}]",0,751610,75a5415dbc21462c95a3c91016fd7b65511eb49b,36,6,5,28619,,,0,"Fix python-stow-versions

DIB_PYTHON_PREFIX variable was neither defined nor needed.

Change-Id: I36ebe5a6dee511c0c89cc251e9ec340ec7ed915d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/10/751610/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/python-stow-versions/post-install.d/70-python-build'],1,176bb932f2c43e60572939a4ac1e007908cfc4ac,, rm -rf ${path}, rm -rf ${DIB_PYTHON_PREFIX}/${path},1,1
openstack%2Fdiskimage-builder~master~Icf4c9f86009d29a342d6e0e21644af680066b0b2,openstack/diskimage-builder,master,Icf4c9f86009d29a342d6e0e21644af680066b0b2,Fix dynamic-login with grub2,MERGED,2020-11-20 14:02:03.000000000,2020-11-23 05:17:01.000000000,2020-11-23 05:15:45.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 14:02:03.000000000', 'files': ['diskimage_builder/elements/dynamic-login/static/usr/local/bin/dynamic-login'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19378bbd9daae135fc35b11b6ad42c09a9f9c349', 'message': 'Fix dynamic-login with grub2\n\nGrub2 messes up arguments with double quotes in them, changing from\nkey=""value"" to ""key=value"" [1]. Support this format as well.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=950760\n\nChange-Id: Icf4c9f86009d29a342d6e0e21644af680066b0b2\n'}]",0,763566,19378bbd9daae135fc35b11b6ad42c09a9f9c349,12,3,1,10239,,,0,"Fix dynamic-login with grub2

Grub2 messes up arguments with double quotes in them, changing from
key=""value"" to ""key=value"" [1]. Support this format as well.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=950760

Change-Id: Icf4c9f86009d29a342d6e0e21644af680066b0b2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/66/763566/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dynamic-login/static/usr/local/bin/dynamic-login'],1,19378bbd9daae135fc35b11b6ad42c09a9f9c349,dynamic-login,"if [[ $(</proc/cmdline) =~ rootpwd=\""?([^\""]+)\"" ]]; thenif [[ $(</proc/cmdline) =~ sshkey=\""?([^\""]+)\"" ]]; then","if [[ $(</proc/cmdline) =~ rootpwd=\""([^\""]+)\"" ]]; thenif [[ $(</proc/cmdline) =~ sshkey=\""([^\""]+)\"" ]]; then",2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic6f053d56194613046ae0a4a908206ebb453fcf4,openstack/tripleo-heat-templates,stable/queens,Ic6f053d56194613046ae0a4a908206ebb453fcf4,Skip Trilio dirs when setting ownership in /var/lib/nova,MERGED,2020-11-18 18:08:58.000000000,2020-11-23 04:01:31.000000000,2020-11-20 01:29:03.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-18 18:08:58.000000000', 'files': ['docker_config_scripts/nova_statedir_ownership.py', 'docker_config_scripts/tests/test_nova_statedir_ownership.py', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63c522eb31d88933b8ccc6ccb08c4e7492e47ae9', 'message': 'Skip Trilio dirs when setting ownership in /var/lib/nova\n\nTrilio currently mounts an NFS export in /var/lib/nova to make it accessible\nfrom within the nova_compute and nova_libvirt containers.\nThis can result in considerable delays when walking the directory tree to\nensure the ownership is correct.\n\nThis patch adds the ability to skip paths when recursively setting the\nownership and selinux context in /var/lib/nova. The list of paths to skip\ncan be set via te NovaStatedirOwnershipSkip heat parameter. This default to\nthe Trilio dir.\n\nChange-Id: Ic6f053d56194613046ae0a4a908206ebb453fcf4\n(cherry picked from commit c156534010cf27d6cca0407962d1dbc484717410)\n(cherry picked from commit fbc55f02f21a600b3a9ca5c20c20794ad2ca86a4)\n(cherry picked from commit c352a78fe0ceef2a77728c46bb08ac4f12217842)\n(cherry picked from commit f318e4e2dfe9fd087b1d01259a9942f5034b6296)\n'}]",0,763240,63c522eb31d88933b8ccc6ccb08c4e7492e47ae9,9,3,1,23811,,,0,"Skip Trilio dirs when setting ownership in /var/lib/nova

Trilio currently mounts an NFS export in /var/lib/nova to make it accessible
from within the nova_compute and nova_libvirt containers.
This can result in considerable delays when walking the directory tree to
ensure the ownership is correct.

This patch adds the ability to skip paths when recursively setting the
ownership and selinux context in /var/lib/nova. The list of paths to skip
can be set via te NovaStatedirOwnershipSkip heat parameter. This default to
the Trilio dir.

Change-Id: Ic6f053d56194613046ae0a4a908206ebb453fcf4
(cherry picked from commit c156534010cf27d6cca0407962d1dbc484717410)
(cherry picked from commit fbc55f02f21a600b3a9ca5c20c20794ad2ca86a4)
(cherry picked from commit c352a78fe0ceef2a77728c46bb08ac4f12217842)
(cherry picked from commit f318e4e2dfe9fd087b1d01259a9942f5034b6296)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/763240/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker_config_scripts/nova_statedir_ownership.py', 'docker_config_scripts/tests/test_nova_statedir_ownership.py', 'docker/services/nova-compute.yaml']",3,63c522eb31d88933b8ccc6ccb08c4e7492e47ae9,, NovaStatedirOwnershipSkip: type: comma_delimited_list description: > List of paths relative to nova_statedir to ignore when recursively setting the ownership and selinux context. default: - 'triliovault-mounts' - list_join: - '=' - - 'NOVA_STATEDIR_OWNERSHIP_SKIP' - list_join: - ':' - {get_param: NovaStatedirOwnershipSkip} ,,61,3
openstack%2Fneutron~master~If00450153a1f06795b1afbc88a2fbbde13582374,openstack/neutron,master,If00450153a1f06795b1afbc88a2fbbde13582374,Do not shadow modules with a variable name,MERGED,2020-11-20 09:58:10.000000000,2020-11-23 03:48:39.000000000,2020-11-23 03:46:49.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-20 09:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b6410897228d7b7dc8f9d03a2122023bebf0537', 'message': 'Do not shadow ""segment"" module with a variable name\n\nChange-Id: If00450153a1f06795b1afbc88a2fbbde13582374\n'}, {'number': 2, 'created': '2020-11-20 10:02:04.000000000', 'files': ['neutron/db/ipam_backend_mixin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f03a11afb107a689d1a7377d45ebc44f35f0c9f3', 'message': 'Do not shadow modules with a variable name\n\n""segment"" and ""subnet_obj"" modules were shadowed by variables\nwith the same name.\n\nChange-Id: If00450153a1f06795b1afbc88a2fbbde13582374\n'}]",0,763539,f03a11afb107a689d1a7377d45ebc44f35f0c9f3,25,7,2,16688,,,0,"Do not shadow modules with a variable name

""segment"" and ""subnet_obj"" modules were shadowed by variables
with the same name.

Change-Id: If00450153a1f06795b1afbc88a2fbbde13582374
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/763539/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ipam_backend_mixin.py'],1,5b6410897228d7b7dc8f9d03a2122023bebf0537,do_not_shadow_module_name," if not network_obj.NetworkSegment.get_object(context, id=segment_id):"," segment = network_obj.NetworkSegment.get_object(context, id=segment_id) if not segment:",2,3
openstack%2Fkeystone~master~I58730cc2be02122d6c85307eb5e9857546165efc,openstack/keystone,master,I58730cc2be02122d6c85307eb5e9857546165efc,Fix invalid argument formatting in exception messages,NEW,2020-11-23 01:57:30.000000000,2020-11-23 03:22:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-23 01:57:30.000000000', 'files': ['keystone/cmd/cli.py', 'keystone/tests/unit/fakeldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c1390331e8641941045f76aad65701513b76351f', 'message': 'Fix invalid argument formatting in exception messages\n\nThis is to fix the invalid argument formatting in exception messages.\n\nChange-Id: I58730cc2be02122d6c85307eb5e9857546165efc\n'}]",0,763706,c1390331e8641941045f76aad65701513b76351f,2,1,1,20190,,,0,"Fix invalid argument formatting in exception messages

This is to fix the invalid argument formatting in exception messages.

Change-Id: I58730cc2be02122d6c85307eb5e9857546165efc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/06/763706/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/cli.py', 'keystone/tests/unit/fakeldap.py']",2,c1390331e8641941045f76aad65701513b76351f,exception_message," raise ValueError(""invalid TLS_REQUIRE_CERT tls_req_cert=%s"" %"," raise ValueError(""invalid TLS_REQUIRE_CERT tls_req_cert=%s"",",2,2
openstack%2Foslo.policy~master~If72b2fcc3cfd8116b575ed7b9e3870df634fd9af,openstack/oslo.policy,master,If72b2fcc3cfd8116b575ed7b9e3870df634fd9af,Add policy file selection logic when default changing to yaml,MERGED,2020-11-18 20:45:56.000000000,2020-11-23 02:38:53.000000000,2020-11-23 02:37:53.000000000,"[{'_account_id': 2218}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-18 20:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c8401d73f81fec75dfb7c04239d441bccf816556', 'message': ""Add policy file selection logic when default changing to yaml\n\nAs part of community goal[1], each services are changing the default\nvalue of 'CONF.oslo_policy.policy_file' config option from 'policy.json'\nto 'policy.yaml'. oslo policy select the default value from\nCONF.oslo_policy.policy_file which will be policy.yaml as service will\nstart changing the default. To avoid breaking the existing deployment which\nare relying on old default (policy.json) file, a new fallback logic\nis implemented. If new default file 'policy.yaml' does not exist but old\ndefault 'policy.json' exist then fallback to use old default file.\n\nEach services are going to add upgrade checks and warnings for using JSON\nformatted policy file so in future we cna remove this fallback logic.\n\nThis logic was done in nova in Victoria cycle when nova changed the\ndefault value - https://review.opendev.org/#/c/748059/ . Moving this\nto oslo policy side will avoid the duplication on services side.\n\nAlso it provides a flag to disable this fallback.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: If72b2fcc3cfd8116b575ed7b9e3870df634fd9af\n""}, {'number': 2, 'created': '2020-11-18 23:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d69c8421a7949e428d207c51896c12a06d735ce7', 'message': ""Add policy file selection logic when default changing to yaml\n\nAs part of community goal[1], each services are changing the default\nvalue of 'CONF.oslo_policy.policy_file' config option from 'policy.json'\nto 'policy.yaml'. oslo policy select the default value from\nCONF.oslo_policy.policy_file which will be policy.yaml as service will\nstart changing the default. To avoid breaking the existing deployment which\nare relying on old default (policy.json) file, a new fallback logic\nis implemented. If new default file 'policy.yaml' does not exist but old\ndefault 'policy.json' exist then fallback to use old default file.\n\nEach services are going to add upgrade checks and warnings for using JSON\nformatted policy file so in future we cna remove this fallback logic.\n\nThis logic was done in nova in Victoria cycle when nova changed the\ndefault value - https://review.opendev.org/#/c/748059/ . Moving this\nto oslo policy side will avoid the duplication on services side.\n\nAlso it provides a flag to disable this fallback.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: If72b2fcc3cfd8116b575ed7b9e3870df634fd9af\n""}, {'number': 3, 'created': '2020-11-19 17:30:30.000000000', 'files': ['requirements.txt', 'oslo_policy/policy.py', 'lower-constraints.txt', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5180e9674f30a44a530deeabbc02804bec66351d', 'message': ""Add policy file selection logic when default changing to yaml\n\nAs part of community goal[1], each services are changing the default\nvalue of 'CONF.oslo_policy.policy_file' config option from 'policy.json'\nto 'policy.yaml'. oslo policy select the default value from\nCONF.oslo_policy.policy_file which will be policy.yaml as service will\nstart changing the default. To avoid breaking the existing deployment which\nare relying on old default (policy.json) file, a new fallback logic\nis implemented. If new default file 'policy.yaml' does not exist but old\ndefault 'policy.json' exist then fallback to use old default file.\n\nEach services are going to add upgrade checks and warnings for using JSON\nformatted policy file so in future we cna remove this fallback logic.\n\nThis logic was done in nova in Victoria cycle when nova changed the\ndefault value - https://review.opendev.org/#/c/748059/ . Moving this\nto oslo policy side will avoid the duplication on services side.\n\nAlso it provides a flag to disable this fallback.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: If72b2fcc3cfd8116b575ed7b9e3870df634fd9af\n""}]",4,763261,5180e9674f30a44a530deeabbc02804bec66351d,16,4,3,8556,,,0,"Add policy file selection logic when default changing to yaml

As part of community goal[1], each services are changing the default
value of 'CONF.oslo_policy.policy_file' config option from 'policy.json'
to 'policy.yaml'. oslo policy select the default value from
CONF.oslo_policy.policy_file which will be policy.yaml as service will
start changing the default. To avoid breaking the existing deployment which
are relying on old default (policy.json) file, a new fallback logic
is implemented. If new default file 'policy.yaml' does not exist but old
default 'policy.json' exist then fallback to use old default file.

Each services are going to add upgrade checks and warnings for using JSON
formatted policy file so in future we cna remove this fallback logic.

This logic was done in nova in Victoria cycle when nova changed the
default value - https://review.opendev.org/#/c/748059/ . Moving this
to oslo policy side will avoid the duplication on services side.

Also it provides a flag to disable this fallback.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: If72b2fcc3cfd8116b575ed7b9e3870df634fd9af
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/61/763261/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",2,c8401d73f81fec75dfb7c04239d441bccf816556,policy-json-to-yaml,"import fixtures class PickPolicyFileTestCase(base.PolicyBaseTestCase): def setUp(self): super(PickPolicyFileTestCase, self).setUp() self.data = { 'rule_admin': 'True', 'rule_admin2': 'is_admin:True' } self.tmpdir = self.useFixture(fixtures.TempDir()) original_search_dirs = cfg._search_dirs def fake_search_dirs(dirs, name): dirs.append(self.tmpdir.path) return original_search_dirs(dirs, name) mock_search_dir = self.useFixture( fixtures.MockPatch('oslo_config.cfg._search_dirs')).mock mock_search_dir.side_effect = fake_search_dirs mock_cfg_location = self.useFixture( fixtures.MockPatchObject(self.conf, 'get_location')).mock mock_cfg_location.return_value = cfg.LocationInfo( cfg.Locations.set_default, 'None') def test_no_fallback_to_json_file(self): tmpfilename = 'policy.yaml' self.conf.set_override('policy_file', tmpfilename, group='oslo_policy') jsonfile = os.path.join(self.tmpdir.path, 'policy.json') with open(jsonfile, 'w') as fh: jsonutils.dump(self.data, fh) selected_policy_file = policy.pick_default_policy_file( self.conf, fallback_to_json_file=False) self.assertEqual(self.conf.oslo_policy.policy_file, tmpfilename) self.assertEqual(selected_policy_file, tmpfilename) def test_overridden_policy_file(self): tmpfilename = 'nova-policy.yaml' self.conf.set_override('policy_file', tmpfilename, group='oslo_policy') selected_policy_file = policy.pick_default_policy_file(self.conf) self.assertEqual(self.conf.oslo_policy.policy_file, tmpfilename) self.assertEqual(selected_policy_file, tmpfilename) def test_only_new_default_policy_file_exist(self): self.conf.set_override('policy_file', 'policy.yaml', group='oslo_policy') tmpfilename = os.path.join(self.tmpdir.path, 'policy.yaml') with open(tmpfilename, 'w') as fh: yaml.dump(self.data, fh) selected_policy_file = policy.pick_default_policy_file(self.conf) self.assertEqual(self.conf.oslo_policy.policy_file, 'policy.yaml') self.assertEqual(selected_policy_file, 'policy.yaml') def test_only_old_default_policy_file_exist(self): self.conf.set_override('policy_file', 'policy.yaml', group='oslo_policy') tmpfilename = os.path.join(self.tmpdir.path, 'policy.json') with open(tmpfilename, 'w') as fh: jsonutils.dump(self.data, fh) selected_policy_file = policy.pick_default_policy_file(self.conf) self.assertEqual(self.conf.oslo_policy.policy_file, 'policy.yaml') self.assertEqual(selected_policy_file, 'policy.json') def test_both_default_policy_file_exist(self): self.conf.set_override('policy_file', 'policy.yaml', group='oslo_policy') tmpfilename1 = os.path.join(self.tmpdir.path, 'policy.json') with open(tmpfilename1, 'w') as fh: jsonutils.dump(self.data, fh) tmpfilename2 = os.path.join(self.tmpdir.path, 'policy.yaml') with open(tmpfilename2, 'w') as fh: yaml.dump(self.data, fh) selected_policy_file = policy.pick_default_policy_file(self.conf) self.assertEqual(self.conf.oslo_policy.policy_file, 'policy.yaml') self.assertEqual(selected_policy_file, 'policy.yaml')",,108,2
openstack%2Fproject-config~master~I8a82e852b389f3499e32f822cd7aa9e5792ea7c6,openstack/project-config,master,I8a82e852b389f3499e32f822cd7aa9e5792ea7c6,nodepool: remove openedge completely,MERGED,2020-11-23 00:43:12.000000000,2020-11-23 01:21:51.000000000,2020-11-23 01:11:55.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 00:43:12.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/05475a995a12407f83d2c1111faf3fe1ce0a203e', 'message': 'nodepool: remove openedge completely\n\nAlthough the servers are turned down to 0, the lack of response from\nthe cloud is causing problems for nodepool-builder trying to upload\nimages.  Remove the entries completely to avoid this.\n\nChange-Id: I8a82e852b389f3499e32f822cd7aa9e5792ea7c6\n'}]",0,763676,05475a995a12407f83d2c1111faf3fe1ce0a203e,7,2,1,7118,,,0,"nodepool: remove openedge completely

Although the servers are turned down to 0, the lack of response from
the cloud is causing problems for nodepool-builder trying to upload
images.  Remove the entries completely to avoid this.

Change-Id: I8a82e852b389f3499e32f822cd7aa9e5792ea7c6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/763676/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nl02.openstack.org.yaml']",2,05475a995a12407f83d2c1111faf3fe1ce0a203e,openedge,, - name: openedge-us-east region-name: 'us-east' cloud: openedge boot-timeout: 120 launch-timeout: 300 rate: 0.01 diskimages: *provider_diskimages pools: - name: main max-servers: 0 labels: - name: centos-7 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: centos-8 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: centos-8 key-name: infra-root-keys-2020-05-13 - name: centos-8-stream min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: centos-8-stream key-name: infra-root-keys-2020-05-13 - name: debian-buster min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: debian-buster key-name: infra-root-keys-2020-05-13 - name: debian-stretch min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: debian-stretch key-name: infra-root-keys-2020-05-13 - name: fedora-31 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: fedora-31 key-name: infra-root-keys-2020-05-13 - name: fedora-32 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: fedora-32 key-name: infra-root-keys-2020-05-13 - name: gentoo-17-0-systemd min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: gentoo-17-0-systemd key-name: infra-root-keys-2020-05-13 - name: opensuse-15 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: opensuse-15 key-name: infra-root-keys-2020-05-13 - name: opensuse-tumbleweed min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: opensuse-tumbleweed key-name: infra-root-keys-2020-05-13 - name: ubuntu-bionic min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: ubuntu-focal min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13 - name: ubuntu-xenial min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: ubuntu-xenial key-name: infra-root-keys-2020-05-13 - name: nested-virt-ubuntu-bionic min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: nested-virt-ubuntu-focal min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13 - name: nested-virt-centos-7 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: nested-virt-centos-8 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: centos-8 key-name: infra-root-keys-2020-05-13 - name: custom max-servers: 0 labels: - name: centos-7-expanded min-ram: 16000 flavor-name: '8cpu-16GBram-80GBdisk' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: ubuntu-bionic-expanded min-ram: 16000 flavor-name: '8cpu-16GBram-80GBdisk' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: multi-numa-ubuntu-bionic min-ram: 8000 flavor-name: 'multi-numa' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: multi-numa-ubuntu-bionic-expanded min-ram: 16000 flavor-name: 'multi-numa-expanded' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: multi-numa-centos-7 min-ram: 8000 flavor-name: 'multi-numa' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: multi-numa-centos-7-expanded min-ram: 16000 flavor-name: 'multi-numa-expanded' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: ubuntu-bionic-32GB min-ram: 32000 flavor-name: '8cpu-32GBram-100GBdisk' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 ,0,141
openstack%2Fmagnum~master~I19c4181f8fbfd0ebd5e3def9cdc92b95885ff221,openstack/magnum,master,I19c4181f8fbfd0ebd5e3def9cdc92b95885ff221,Remove translation sections from setup.cfg,ABANDONED,2020-06-15 16:30:38.000000000,2020-11-23 00:55:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-15 16:30:38.000000000', 'files': ['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/magnum/commit/21b5db69acdabdb1bfdb5addece2f13fc439254d', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nRemove babel.cfg as well, this is the default role and not needed\nanymore.\n\nalso remove Babel from requirements[1]\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I19c4181f8fbfd0ebd5e3def9cdc92b95885ff221\n'}]",0,735634,21b5db69acdabdb1bfdb5addece2f13fc439254d,3,1,1,26285,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Remove babel.cfg as well, this is the default role and not needed
anymore.

also remove Babel from requirements[1]
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I19c4181f8fbfd0ebd5e3def9cdc92b95885ff221
",git fetch https://review.opendev.org/openstack/magnum refs/changes/34/735634/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg']",4,21b5db69acdabdb1bfdb5addece2f13fc439254d,remove-babel,, [compile_catalog] directory = magnum/locale domain = magnum [update_catalog] domain = magnum output_dir = magnum/locale input_file = magnum/locale/magnum.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = magnum/locale/magnum.pot ,0,19
openstack%2Fgovernance~master~Id06cd403ebe6441b074b71ae89f6fdbcdecdb703,openstack/governance,master,Id06cd403ebe6441b074b71ae89f6fdbcdecdb703,Move Placement under Nova's governance,MERGED,2020-11-02 13:25:27.000000000,2020-11-23 00:29:38.000000000,2020-11-23 00:28:04.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 12404}, {'_account_id': 14070}, {'_account_id': 16465}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-02 13:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3d1db6f366cac34db6a983554ed6ac4c0952fb8d', 'message': ""Move Placement under Nova's governance\n\nAs it was discussed on the Wallaby PTG[1][2] it was agreed that the\nPlacement project is moved back under Nova due to not having separate\nleadership available for Placement[3].\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n[2] https://etherpad.opendev.org/p/tc-wallaby-ptg\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017927.html\n\nChange-Id: Id06cd403ebe6441b074b71ae89f6fdbcdecdb703\n""}, {'number': 2, 'created': '2020-11-02 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/259e64d12430313e1009fbd50a53e730166f77e5', 'message': ""Move Placement under Nova's governance\n\nAs it was discussed on the Wallaby PTG[1][2] it was agreed that the\nPlacement project is moved back under Nova due to not having separate\nleadership available for Placement[3].\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n[2] https://etherpad.opendev.org/p/tc-wallaby-ptg\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017927.html\n\nChange-Id: Id06cd403ebe6441b074b71ae89f6fdbcdecdb703\n""}, {'number': 3, 'created': '2020-11-02 15:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7c603caa007b9f749b665463f506e7d762fa0b10', 'message': ""Move Placement under Nova's governance\n\nAs it was discussed on the Wallaby PTG[1][2] it was agreed that the\nPlacement project is moved back under Nova due to not having separate\nleadership available for Placement[3].\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n[2] https://etherpad.opendev.org/p/tc-wallaby-ptg\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017927.html\n\nChange-Id: Id06cd403ebe6441b074b71ae89f6fdbcdecdb703\n""}, {'number': 4, 'created': '2020-11-03 11:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/62b844d03b3ea8b5597205da089da5de1b8b3bba', 'message': ""Move Placement under Nova's governance\n\nAs it was discussed on the Wallaby PTG[1][2] it was agreed that the\nPlacement project is moved back under Nova due to not having separate\nleadership available for Placement[3].\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n[2] https://etherpad.opendev.org/p/tc-wallaby-ptg\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017927.html\n\nChange-Id: Id06cd403ebe6441b074b71ae89f6fdbcdecdb703\n""}, {'number': 5, 'created': '2020-11-11 16:16:54.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/04ebd5733e1990bcccdfc84c45efe1c446a29451', 'message': ""Move Placement under Nova's governance\n\nAs it was discussed on the Wallaby PTG[1][2] it was agreed that the\nPlacement project is moved back under Nova due to not having separate\nleadership available for Placement[3].\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n[2] https://etherpad.opendev.org/p/tc-wallaby-ptg\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017927.html\n\nChange-Id: Id06cd403ebe6441b074b71ae89f6fdbcdecdb703\n""}]",2,760917,04ebd5733e1990bcccdfc84c45efe1c446a29451,38,13,5,9708,,,0,"Move Placement under Nova's governance

As it was discussed on the Wallaby PTG[1][2] it was agreed that the
Placement project is moved back under Nova due to not having separate
leadership available for Placement[3].

[1] https://etherpad.opendev.org/p/nova-wallaby-ptg
[2] https://etherpad.opendev.org/p/tc-wallaby-ptg
[3] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017927.html

Change-Id: Id06cd403ebe6441b074b71ae89f6fdbcdecdb703
",git fetch https://review.opendev.org/openstack/governance refs/changes/17/760917/5 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,3d1db6f366cac34db6a983554ed6ac4c0952fb8d,formal-vote, placement: repos: - openstack/placement tags: - starter-kit:compute - starter-kit:kubernetes-in-virt os-traits: repos: - openstack/os-traits osc-placement: repos: - openstack/osc-placement os-resource-classes: repos: - openstack/os-resource-classes,placement: ptl: name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org appointed: - ussuri - victoria irc-channel: openstack-placement service: Placement service mission: > To track cloud resource inventories and usages to help other services effectively manage and allocate their resources. url: https://docs.openstack.org/placement/latest/ deliverables: placement: repos: - openstack/placement tags: - starter-kit:compute - starter-kit:kubernetes-in-virt os-traits: repos: - openstack/os-traits osc-placement: repos: - openstack/osc-placement os-resource-classes: repos: - openstack/os-resource-classes liaisons: - gmann - njohnston,15,33
openstack%2Fhorizon~master~I4c2942960259782d47c6777394dec6888959e26c,openstack/horizon,master,I4c2942960259782d47c6777394dec6888959e26c,Fix AttributeError in the project instance detail view,MERGED,2020-11-20 12:43:42.000000000,2020-11-23 00:29:37.000000000,2020-11-23 00:28:23.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 12:43:42.000000000', 'files': ['openstack_dashboard/api/_nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a20a275ef5cae1b38ead1c3191dd96a042eb2070', 'message': 'Fix AttributeError in the project instance detail view\n\nThe previous code does not handle a case where admin-specific attributes\ndo not exist. This leads to AttributeError in the project instance detail\npage as these attributes are not included in the response from nova API.\n\nChange-Id: I4c2942960259782d47c6777394dec6888959e26c\nCloses-Bug: #1905024\n'}]",0,763551,a20a275ef5cae1b38ead1c3191dd96a042eb2070,11,4,1,841,,,0,"Fix AttributeError in the project instance detail view

The previous code does not handle a case where admin-specific attributes
do not exist. This leads to AttributeError in the project instance detail
page as these attributes are not included in the response from nova API.

Change-Id: I4c2942960259782d47c6777394dec6888959e26c
Closes-Bug: #1905024
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/763551/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/_nova.py'],1,a20a275ef5cae1b38ead1c3191dd96a042eb2070,bug/1905024," return any(getattr(self, attr, None) for attr in ["," return any(getattr(self, attr) for attr in [",1,1
openstack%2Fpuppet-tripleo~master~I0efb4f77aaceda635c8983d6b7a240171a7accdc,openstack/puppet-tripleo,master,I0efb4f77aaceda635c8983d6b7a240171a7accdc,Force MySQL / MariaDB log_warnings to 1,MERGED,2020-11-18 21:48:05.000000000,2020-11-23 00:23:09.000000000,2020-11-23 00:23:09.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-18 21:48:05.000000000', 'files': ['manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d77a3cdf6fafe3e9ed3988c35f9fa6eeee11bf28', 'message': 'Force MySQL / MariaDB log_warnings to 1\n\nThis MySQL / MariaDB server value was changed\nfrom the value 1 to 2 between MariaDB 10.1 and 10.2 [1].  The\nresult of this change is that any database connection which is\nnot gracefully closed results in a log message\n""Got an error reading communication packets"" in the MySQL server\nlog, which is misleading as it does not usually refer to any\nactionable issue; real connectivity issues are always seen in\napplication logs and most of these messages in the server\nlogs are likely to be false positives due to the behavior of HAProxy.\n\nWhile applications can reduce the occurence of this error by\nensuring that database connections are gracefully closed, this\nis already the behavior of oslo.db and SQLAlchemy which maintains\na connection pool that closes out stale connections explicitly\nwhen requests are made.\n\nThe majority of these warnings are likely the result of normal HAProxy\noperation, where the settings ""timeout client"" and ""timeout server""\nare set to 90 minutes, such that any connection older than this\ntime will be non-gracefully closed by the proxy, generating\nthe warning.  An idle application server process will not have attended\nto connections that are older than the timeout period,\nleading to these connections being left for HAProxy to handle;\nHAProxy\'s timeout behavior leading to this message in the logs has been\nconfirmed in local experimentation.\n\nThe application server itself is never exposed to this as upon\nthe start of work will always recycle any connection that is older\nthan its own timeout, which defaults to 60 minutes for applications\nusing oslo.config + oslo.db.   Without HAProxy having the capability\nto close out these connections using MySQL\'s protocol, the messages\nare unavoidable.\n\nThe message will also occur anytime an Openstack process is stopped\nor killed for all connections that are pooled in that process.\n\nThe correct way to diagnose if an application is having connectivity\nissues is to look in the application server log itself for error\nmessages and stack traces that have much more detail as to the context\nthat produced a particular error message.   This warning is also\nknown to occur when an application server is not able to respond\nto packets quickly enough as has been observed with services\nsuch as Cinder where eventlet monkeypatching causes the PyMySQL\nclient to be blocked; however when this occurs, there is an\ninformative stack trace and error message in the application logs\nthat shows what\'s going on.\n\nAs this particular warning message is not useful in that most\noccurences will refer to normal behavior as designed, the\nlog level should be forced to ""1"" to prevent these messages\nas they are causing confusion in downstream environments.\n\n[1] https://mariadb.com/kb/en/upgrading-from-mariadb-101-to-mariadb-102/#incompatible-changes-between-101-and-102\n\nChange-Id: I0efb4f77aaceda635c8983d6b7a240171a7accdc\n'}]",0,763266,d77a3cdf6fafe3e9ed3988c35f9fa6eeee11bf28,25,7,1,11816,,,0,"Force MySQL / MariaDB log_warnings to 1

This MySQL / MariaDB server value was changed
from the value 1 to 2 between MariaDB 10.1 and 10.2 [1].  The
result of this change is that any database connection which is
not gracefully closed results in a log message
""Got an error reading communication packets"" in the MySQL server
log, which is misleading as it does not usually refer to any
actionable issue; real connectivity issues are always seen in
application logs and most of these messages in the server
logs are likely to be false positives due to the behavior of HAProxy.

While applications can reduce the occurence of this error by
ensuring that database connections are gracefully closed, this
is already the behavior of oslo.db and SQLAlchemy which maintains
a connection pool that closes out stale connections explicitly
when requests are made.

The majority of these warnings are likely the result of normal HAProxy
operation, where the settings ""timeout client"" and ""timeout server""
are set to 90 minutes, such that any connection older than this
time will be non-gracefully closed by the proxy, generating
the warning.  An idle application server process will not have attended
to connections that are older than the timeout period,
leading to these connections being left for HAProxy to handle;
HAProxy's timeout behavior leading to this message in the logs has been
confirmed in local experimentation.

The application server itself is never exposed to this as upon
the start of work will always recycle any connection that is older
than its own timeout, which defaults to 60 minutes for applications
using oslo.config + oslo.db.   Without HAProxy having the capability
to close out these connections using MySQL's protocol, the messages
are unavoidable.

The message will also occur anytime an Openstack process is stopped
or killed for all connections that are pooled in that process.

The correct way to diagnose if an application is having connectivity
issues is to look in the application server log itself for error
messages and stack traces that have much more detail as to the context
that produced a particular error message.   This warning is also
known to occur when an application server is not able to respond
to packets quickly enough as has been observed with services
such as Cinder where eventlet monkeypatching causes the PyMySQL
client to be blocked; however when this occurs, there is an
informative stack trace and error message in the application logs
that shows what's going on.

As this particular warning message is not useful in that most
occurences will refer to normal behavior as designed, the
log level should be forced to ""1"" to prevent these messages
as they are causing confusion in downstream environments.

[1] https://mariadb.com/kb/en/upgrading-from-mariadb-101-to-mariadb-102/#incompatible-changes-between-101-and-102

Change-Id: I0efb4f77aaceda635c8983d6b7a240171a7accdc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/763266/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",3,d77a3cdf6fafe3e9ed3988c35f9fa6eeee11bf28,mysql_log_warnings_1," 'log_warnings' => '1',",,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I26f9fea0a0495e5e976a56a50c70a15e47d14400,openstack/tripleo-heat-templates,stable/train,I26f9fea0a0495e5e976a56a50c70a15e47d14400,Remove corosync.conf if it's a dir from remote.,MERGED,2020-11-20 13:25:00.000000000,2020-11-23 00:23:03.000000000,2020-11-23 00:23:03.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-11-20 13:25:00.000000000', 'files': ['deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3253926232e8abe7d9a33822af513f5129dda61', 'message': ""Remove corosync.conf if it's a dir from remote.\n\nDuring the upgrade from Queens there can be some wrong config\nremainings. One of them is the existence of /etc/corosync/\ncorosync.conf as a directory. This will cause pacemaker to fail\nwhen the node is upgrade to Train, failing with:\nError:Unable to read /etc/corosync/corosync.conf: Is a directory.\n\nThis patch checks during the upgrade if the file exists and it is\na directory. In that case, it will get removed.\n\nChange-Id: I26f9fea0a0495e5e976a56a50c70a15e47d14400\nCloses-Bug: #1905033\nResolves: rhbz#1899935\n""}]",0,763556,d3253926232e8abe7d9a33822af513f5129dda61,9,9,1,26343,,,0,"Remove corosync.conf if it's a dir from remote.

During the upgrade from Queens there can be some wrong config
remainings. One of them is the existence of /etc/corosync/
corosync.conf as a directory. This will cause pacemaker to fail
when the node is upgrade to Train, failing with:
Error:Unable to read /etc/corosync/corosync.conf: Is a directory.

This patch checks during the upgrade if the file exists and it is
a directory. In that case, it will get removed.

Change-Id: I26f9fea0a0495e5e976a56a50c70a15e47d14400
Closes-Bug: #1905033
Resolves: rhbz#1899935
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/763556/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml'],1,d3253926232e8abe7d9a33822af513f5129dda61,, upgrade_tasks: - name: Ensure /etc/corosync/corosync.conf is not present as directory when: - step|int == 1 block: - name: Check /etc/corosync/corosync.conf stat: path: /etc/corosync/corosync.conf register: corosync_conf - name: Remove corosync.conf if it is a directory file: path: /etc/corosync/corosync.conf state: absent when: - corosync_conf.stat.isdir is defined - corosync_conf.stat.isdir|bool,,17,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I75a59f3d4b640f3146f2a865eff8be3f1383e078,openstack/tripleo-heat-templates,stable/victoria,I75a59f3d4b640f3146f2a865eff8be3f1383e078,Move enable ksm on compute node to deploy step 1,MERGED,2020-11-14 15:43:57.000000000,2020-11-22 23:24:31.000000000,2020-11-22 23:23:24.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-11-14 15:43:57.000000000', 'files': ['releasenotes/notes/nova_compute_ksm-444f1cc51ceafb66.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36dae322d5e8857310c9c4eee791e48bfe2e8426', 'message': 'Move enable ksm on compute node to deploy step 1\n\nWhen using RHSM Service (deployment/rhsm/rhsm-baremetal-ansible.yaml) based\nregistration of the overcloud nodes and enabling the KSM using\nNovaComputeEnableKsm=True the overcloud deployment will fail because the\nRHSM registration and the ksm task run as host_prep task. The handling\nof enable/disable ksm is now handled in deploy step 1.\n\nCloses-Bug: #1904184\n\nChange-Id: I75a59f3d4b640f3146f2a865eff8be3f1383e078\n(cherry picked from commit c329204dece419afb3c1615b4f6ffef6581b50cd)\n'}]",0,762734,36dae322d5e8857310c9c4eee791e48bfe2e8426,35,8,1,20172,,,0,"Move enable ksm on compute node to deploy step 1

When using RHSM Service (deployment/rhsm/rhsm-baremetal-ansible.yaml) based
registration of the overcloud nodes and enabling the KSM using
NovaComputeEnableKsm=True the overcloud deployment will fail because the
RHSM registration and the ksm task run as host_prep task. The handling
of enable/disable ksm is now handled in deploy step 1.

Closes-Bug: #1904184

Change-Id: I75a59f3d4b640f3146f2a865eff8be3f1383e078
(cherry picked from commit c329204dece419afb3c1615b4f6ffef6581b50cd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/762734/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_compute_ksm-444f1cc51ceafb66.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,36dae322d5e8857310c9c4eee791e48bfe2e8426,1895894-stable/victoria," - name: Is irqbalance enabled set_fact: compute_irqbalance_disabled: {get_attr: [RoleParametersValue, value, compute_disable_irqbalance]} - name: disable irqbalance service on compute when: compute_irqbalance_disabled|bool service: name: irqbalance.service state: stopped enabled: no deploy_steps_tasks: - name: validate nova-compute container state podman_container_info: name: nova_compute register: nova_compute_infos failed_when: - nova_compute_infos.containers.0.Healthcheck.Status is defined - ""'healthy' not in nova_compute_infos.containers.0.Healthcheck.Status"" retries: 10 delay: 30 tags: - opendev-validation - opendev-validation-nova when: - container_cli == 'podman' - not container_healthcheck_disabled - step|int == 6 #FIXME: there is no step6 - name: manage PMEM namespaces for vPMEM include_role: name: tripleo_nvdimm vars: tripleo_nvdimm_pmem_namespaces: {get_attr: [RoleParametersValue, value, nova_pmem_namespaces]} when: - step|int == 1 - tripleo_nvdimm_pmem_namespaces != '' - name: enable/disable ksm when: - step|int == 1 block:"," - name: Is irqbalance enabled set_fact: compute_irqbalance_disabled: {get_attr: [RoleParametersValue, value, compute_disable_irqbalance]} - name: disable irqbalance service on compute when: compute_irqbalance_disabled|bool service: name: irqbalance.service state: stopped enabled: no deploy_steps_tasks: - name: validate nova-compute container state podman_container_info: name: nova_compute register: nova_compute_infos failed_when: - nova_compute_infos.containers.0.Healthcheck.Status is defined - ""'healthy' not in nova_compute_infos.containers.0.Healthcheck.Status"" retries: 10 delay: 30 tags: - opendev-validation - opendev-validation-nova when: - container_cli == 'podman' - not container_healthcheck_disabled - step|int == 6 #FIXME: there is no step6 - name: manage PMEM namespaces for vPMEM include_role: name: tripleo_nvdimm vars: tripleo_nvdimm_pmem_namespaces: {get_attr: [RoleParametersValue, value, nova_pmem_namespaces]} when: - step|int == 1 - tripleo_nvdimm_pmem_namespaces != ''",46,34
openstack%2Fmonasca-notification~master~I6daeb23b9a057dede17a1756fa70cf89c7a57123,openstack/monasca-notification,master,I6daeb23b9a057dede17a1756fa70cf89c7a57123,Add py38 in setup metadata,MERGED,2020-11-20 09:26:42.000000000,2020-11-22 18:48:15.000000000,2020-11-22 18:48:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-11-20 09:26:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ca325683daae37ad51a6297f045059f4f5d6b46d', 'message': 'Add py38 in setup metadata\n\nChange-Id: I6daeb23b9a057dede17a1756fa70cf89c7a57123\n'}]",0,763534,ca325683daae37ad51a6297f045059f4f5d6b46d,6,2,1,32238,,,0,"Add py38 in setup metadata

Change-Id: I6daeb23b9a057dede17a1756fa70cf89c7a57123
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/34/763534/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ca325683daae37ad51a6297f045059f4f5d6b46d,, Programming Language :: Python :: 3.8,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I124c1e4dbcc7a8ed38079411f41a8f31c8f62284,openstack/tripleo-heat-templates,stable/train,I124c1e4dbcc7a8ed38079411f41a8f31c8f62284,WIP DNM train-test HA: option to use static pacemaker image name,ABANDONED,2020-10-02 14:31:26.000000000,2020-11-22 16:24:41.000000000,,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-02 14:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a584f2999d91ffa57a4b38adbfe2254022bfa7c', 'message': 'WIP DNM train-test HA: option to use static pacemaker image name\n\nWith [1] we added the ability to use a fixed, static prefix for\nthe container image names that pacemaker uses to set up the HA\nresources. This name is just an alias to the real tripleo\nimage that is being used in the control plane, and it allows to\nupdate the namespace part of the image during a minor update\nwithout disrupting service.\n\nAdd a new Heat parameter to use a completely static container\nimage name, to allow arbitrary name change during minor update,\ne.g. registryA/namespaceA/imgA:tagA to registryB/namespaceB/imgB:tagB\nBy default, this new paramter is disabled.\n\n[1] Id369154d147cd5cf0a6f997bf806084fc7580e01\n\nChange-Id: I124c1e4dbcc7a8ed38079411f41a8f31c8f62284\n'}, {'number': 2, 'created': '2020-11-18 10:23:31.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c720446dae278605d368ed8b460202eac951fd8', 'message': 'WIP DNM train-test HA: option to use static pacemaker image name\n\nWith [1] we added the ability to use a fixed, static prefix for\nthe container image names that pacemaker uses to set up the HA\nresources. This name is just an alias to the real tripleo\nimage that is being used in the control plane, and it allows to\nupdate the namespace part of the image during a minor update\nwithout disrupting service.\n\nAdd a new Heat parameter to use a completely static container\nimage name, to allow arbitrary name change during minor update,\ne.g. registryA/namespaceA/imgA:tagA to registryB/namespaceB/imgB:tagB\nBy default, this new paramter is disabled.\n\n[1] Id369154d147cd5cf0a6f997bf806084fc7580e01\n\nChange-Id: I124c1e4dbcc7a8ed38079411f41a8f31c8f62284\n'}]",0,755807,6c720446dae278605d368ed8b460202eac951fd8,8,4,2,20172,,,0,"WIP DNM train-test HA: option to use static pacemaker image name

With [1] we added the ability to use a fixed, static prefix for
the container image names that pacemaker uses to set up the HA
resources. This name is just an alias to the real tripleo
image that is being used in the control plane, and it allows to
update the namespace part of the image during a minor update
without disrupting service.

Add a new Heat parameter to use a completely static container
image name, to allow arbitrary name change during minor update,
e.g. registryA/namespaceA/imgA:tagA to registryB/namespaceB/imgB:tagB
By default, this new paramter is disabled.

[1] Id369154d147cd5cf0a6f997bf806084fc7580e01

Change-Id: I124c1e4dbcc7a8ed38079411f41a8f31c8f62284
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/755807/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",10,1a584f2999d91ffa57a4b38adbfe2254022bfa7c,train-dnm," ClusterFullTag: default: false description: When set to true, the pacemaker service uses a fully constant tag for its container image name, e.g. 'cluster.common.tag/SERVICENAME:pcmklatest'. type: boolean common_tag_full: {equals: [{get_param: ClusterFullTag}, true]} if: - common_tag_full - ""cluster.common.tag/rabbitmq:pcmklatest"" - yaql: data: if: - common_tag_enabled - yaql: data: {get_param: ContainerRabbitmqImage} expression: concat(""cluster.common.tag/"", $.data.rightSplit(separator => ""/"", maxSplits => 1)[1]) - {get_param: ContainerRabbitmqImage} expression: concat($.data.rightSplit(separator => "":"", maxSplits => 1)[0], "":pcmklatest"")"," yaql: data: if: - common_tag_enabled - yaql: data: {get_param: ContainerRabbitmqImage} expression: concat(""cluster.common.tag/"", $.data.rightSplit(separator => ""/"", maxSplits => 1)[1]) - {get_param: ContainerRabbitmqImage} expression: concat($.data.rightSplit(separator => "":"", maxSplits => 1)[0], "":pcmklatest"")",190,90
openstack%2Ftripleo-heat-templates~master~I69d1aec2e42660eccced5ec162fd6eac5753176f,openstack/tripleo-heat-templates,master,I69d1aec2e42660eccced5ec162fd6eac5753176f,WIP DNM Test pacemaker/pcs removal from upgrade packages,ABANDONED,2020-11-22 08:22:35.000000000,2020-11-22 16:21:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-22 08:22:35.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94d5a400df503ff86a489c3c012a27f2e7fa6216', 'message': 'WIP DNM Test pacemaker/pcs removal from upgrade packages\n\nStill testing this\n\nChange-Id: I69d1aec2e42660eccced5ec162fd6eac5753176f\n'}]",0,763622,94d5a400df503ff86a489c3c012a27f2e7fa6216,4,2,1,20172,,,0,"WIP DNM Test pacemaker/pcs removal from upgrade packages

Still testing this

Change-Id: I69d1aec2e42660eccced5ec162fd6eac5753176f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/763622/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,94d5a400df503ff86a489c3c012a27f2e7fa6216,train-test,, - pacemaker - pcs,0,2
openstack%2Ftripleo-heat-templates~master~I57a49d1b7fc4c03b773f3a52b327584f537aca19,openstack/tripleo-heat-templates,master,I57a49d1b7fc4c03b773f3a52b327584f537aca19,Make sure apache metadata is set for nova-metadata service,MERGED,2020-11-18 13:38:38.000000000,2020-11-22 15:55:54.000000000,2020-11-22 15:54:43.000000000,"[{'_account_id': 6926}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-11-18 13:38:38.000000000', 'files': ['releasenotes/notes/nova_metadata_http_cert_metadata-274e7e8a66727983.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89d605103c62f0a94944d5c9683c97a9156ef213', 'message': 'Make sure apache metadata is set for nova-metadata service\n\nIn case of cellv2 multicell environment nova-metadata is the only\nhttpd managed service on the cell controller role. In case of\ntls-everywhere it is required that the cell controller host has\nther needed metadata to be able to request the HTTP certificates.\nOtherwise the getcert request fails with ""Insufficient \'add\' privilege\nto add the entry \'krbprincipalname=HTTP/cell1-cellcontrol-0....\'""\n\nChange-Id: I57a49d1b7fc4c03b773f3a52b327584f537aca19\n'}]",0,763184,89d605103c62f0a94944d5c9683c97a9156ef213,23,9,1,17216,,,0,"Make sure apache metadata is set for nova-metadata service

In case of cellv2 multicell environment nova-metadata is the only
httpd managed service on the cell controller role. In case of
tls-everywhere it is required that the cell controller host has
ther needed metadata to be able to request the HTTP certificates.
Otherwise the getcert request fails with ""Insufficient 'add' privilege
to add the entry 'krbprincipalname=HTTP/cell1-cellcontrol-0....'""

Change-Id: I57a49d1b7fc4c03b773f3a52b327584f537aca19
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/763184/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_metadata_http_cert_metadata-274e7e8a66727983.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml']",2,89d605103c62f0a94944d5c9683c97a9156ef213,1760256," metadata_settings: get_attr: [ApacheServiceBase, role_data, metadata_settings]",,11,0
openstack%2Ftacker-specs~master~Ia99456389a764fa5afa1e0103cf694eeaaca8a9c,openstack/tacker-specs,master,Ia99456389a764fa5afa1e0103cf694eeaaca8a9c,Delete placeholder.rst in victoria,MERGED,2020-11-20 07:35:30.000000000,2020-11-22 14:41:23.000000000,2020-11-22 14:40:27.000000000,"[{'_account_id': 10068}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31821}]","[{'number': 1, 'created': '2020-11-20 07:35:30.000000000', 'files': ['specs/victoria/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9de007db8d757066917a7fb556294667b30c1495', 'message': 'Delete placeholder.rst in victoria\n\nThis patch deletes placeholder.rst left in victoria directory.\n\nChange-Id: Ia99456389a764fa5afa1e0103cf694eeaaca8a9c\n'}]",0,763514,9de007db8d757066917a7fb556294667b30c1495,9,6,1,32707,,,0,"Delete placeholder.rst in victoria

This patch deletes placeholder.rst left in victoria directory.

Change-Id: Ia99456389a764fa5afa1e0103cf694eeaaca8a9c
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/14/763514/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/placeholder.rst'],1,9de007db8d757066917a7fb556294667b30c1495,delete-placeholder,,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== (Placeholder Spec) ================== This file is just a placeholder for the specs directory. It will be removed soon after some spec is merged. The latest spec template is found at ``specs/template.rst`` in the ``tacker-specs`` repository. Problem description =================== Sphinx toctree complains if no file exists in a directory specified in toctree glob. Use Cases --------- None Proposed change =============== Add this file. Please remove later when the another spec is approved. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- None Work Items ---------- None Dependencies ============ None Testing ======= None Documentation Impact ==================== None References ========== None History ======= None ,0,125
openstack%2Fpython-troveclient~master~I9d08740b9e220d24aad7f691491d5eea8a7e16f9,openstack/python-troveclient,master,I9d08740b9e220d24aad7f691491d5eea8a7e16f9,Fix getting datastore versions against previous trove service release,MERGED,2020-11-22 09:55:26.000000000,2020-11-22 11:36:31.000000000,2020-11-22 11:35:34.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-22 09:55:26.000000000', 'files': ['troveclient/osc/v1/datastores.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/e43454f4b066a0c9a3feaa4ad0bec19564b7596f', 'message': 'Fix getting datastore versions against previous trove service release\n\nChange-Id: I9d08740b9e220d24aad7f691491d5eea8a7e16f9\n'}]",0,763629,e43454f4b066a0c9a3feaa4ad0bec19564b7596f,7,2,1,6732,,,0,"Fix getting datastore versions against previous trove service release

Change-Id: I9d08740b9e220d24aad7f691491d5eea8a7e16f9
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/29/763629/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/osc/v1/datastores.py'],1,e43454f4b066a0c9a3feaa4ad0bec19564b7596f,fix-list-versions," datastore_version_client = \ ds = [utils.get_dict_properties(d.to_dict(), self.columns) for d in versions]"," datastore_version_client =\ ds = [utils.get_item_properties(d, self.columns) for d in versions]",3,2
openstack%2Fvitrage~master~I0c8ebf69a229c453d9951d739a0ceeceeec5772a,openstack/vitrage,master,I0c8ebf69a229c453d9951d739a0ceeceeec5772a,update kubernetes driver,MERGED,2020-11-20 01:37:12.000000000,2020-11-22 08:34:09.000000000,2020-11-22 08:32:58.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32577}]","[{'number': 1, 'created': '2020-11-20 01:37:12.000000000', 'files': ['vitrage/datasources/kubernetes/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/aa3524f7a39c0da1166eb4afae655074d651cdfc', 'message': ""update kubernetes driver\n\nUniform '_prepare_entities' method type, remove method type warning\n\nChange-Id: I0c8ebf69a229c453d9951d739a0ceeceeec5772a\n""}]",0,763489,aa3524f7a39c0da1166eb4afae655074d651cdfc,8,3,1,32148,,,0,"update kubernetes driver

Uniform '_prepare_entities' method type, remove method type warning

Change-Id: I0c8ebf69a229c453d9951d739a0ceeceeec5772a
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/89/763489/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/kubernetes/driver.py'],1,aa3524f7a39c0da1166eb4afae655074d651cdfc,, @staticmethod def _prepare_entities(nodes):," def _prepare_entities(self, nodes):",2,1
openstack%2Ftripleo-heat-templates~master~I0c04ade76e7db382a07829567d1cf56bbd0a061a,openstack/tripleo-heat-templates,master,I0c04ade76e7db382a07829567d1cf56bbd0a061a,"Revert ""Create post-deploy.conf on update/upgrade for octavia""",MERGED,2020-11-20 13:39:48.000000000,2020-11-22 08:05:23.000000000,2020-11-22 08:05:23.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-20 13:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45bb4be279c1e46e209476eae119bbb82acdb07e', 'message': 'Revert ""Create post-deploy.conf on update/upgrade for octavia""\n\nThis reverts commit d3826e9ec3c0532396c5c795e5764b24e63ddfed.\n\nBreaks deployment!\n\nChange-Id: I0c04ade76e7db382a07829567d1cf56bbd0a061a\n'}, {'number': 2, 'created': '2020-11-20 13:43:19.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e77a59b411dab5d75ae3a81ce489c7abbe4991f0', 'message': 'Revert ""Create post-deploy.conf on update/upgrade for octavia""\n\nThis reverts commit d3826e9ec3c0532396c5c795e5764b24e63ddfed.\n\nBreaks deployment!\n\nCloses-Bug: #1905036\nChange-Id: I0c04ade76e7db382a07829567d1cf56bbd0a061a\n'}]",0,763561,e77a59b411dab5d75ae3a81ce489c7abbe4991f0,11,6,2,6681,,,0,"Revert ""Create post-deploy.conf on update/upgrade for octavia""

This reverts commit d3826e9ec3c0532396c5c795e5764b24e63ddfed.

Breaks deployment!

Closes-Bug: #1905036
Change-Id: I0c04ade76e7db382a07829567d1cf56bbd0a061a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/763561/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",5,45bb4be279c1e46e209476eae119bbb82acdb07e,, upgrade_tasks: []," update_tasks: {get_attr: [OctaviaBase, update_tasks]} upgrade_tasks: {get_attr: [OctaviaBase, upgrade_tasks]}",52,76
openstack%2Frpm-packaging~master~I4262cba7015409bd286e8b0bd3c24e11c0cb108a,openstack/rpm-packaging,master,I4262cba7015409bd286e8b0bd3c24e11c0cb108a,Drop karbor and karbor-dashboard,MERGED,2020-11-11 08:20:06.000000000,2020-11-22 07:26:13.000000000,2020-11-22 07:26:13.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-11 08:20:06.000000000', 'files': ['openstack/karbor/openstack-karbor-protection.service', 'openstack/karbor/openstack-karbor.logrotate', 'openstack/karbor-dashboard/karbor-dashboard.spec.j2', 'openstack/karbor/karbor.spec.j2', 'openstack/karbor/openstack-karbor-operationengine.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8ee3a2a2161e928da833d748c95b8bc4b9c214e8', 'message': 'Drop karbor and karbor-dashboard\n\nKarbor project retired[1]\n\n[1]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html\n\nChange-Id: I4262cba7015409bd286e8b0bd3c24e11c0cb108a\n'}]",0,762312,8ee3a2a2161e928da833d748c95b8bc4b9c214e8,10,6,1,7102,,,0,"Drop karbor and karbor-dashboard

Karbor project retired[1]

[1]
http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html

Change-Id: I4262cba7015409bd286e8b0bd3c24e11c0cb108a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/12/762312/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/karbor/openstack-karbor-protection.service', 'openstack/karbor/openstack-karbor.logrotate', 'openstack/karbor-dashboard/karbor-dashboard.spec.j2', 'openstack/karbor/karbor.spec.j2', 'openstack/karbor/openstack-karbor-operationengine.service']",5,8ee3a2a2161e928da833d748c95b8bc4b9c214e8,,,[Unit] Description=OpenStack Data Protection Operationengine service After=syslog.target network.target After=mariadb.service postgresql.service rabbitmq-server.service [Service] Type=simple User=karbor ExecStart=/usr/bin/karbor-operationengine --logfile /var/log/karbor/operationengine.log Restart=on-failure [Install] WantedBy=multi-user.target ,0,415
openstack%2Fpython-troveclient~master~Ie84b4506736a82a214b0416f7e451d565552f651,openstack/python-troveclient,master,Ie84b4506736a82a214b0416f7e451d565552f651,Support datastore version number,MERGED,2020-11-21 20:41:00.000000000,2020-11-22 06:23:33.000000000,2020-11-22 06:21:32.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-21 20:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/c9d55f19e8b2ebee5fbd6f6db53bf3caeb4b8146', 'message': 'Support datastore version number\n\n- Support ""--datastore-version-number"" for creating configuration\n- Support ""--datastore-version-number"" for creating instance\n- Support ""--version-number"" for creating datastore version\n- Support ""--version-name"" for updating datastore version\n- Support showing version number for datastore version, instance and\n  configuration\n\nStory: 2008358\nTask: 41264\n\nChange-Id: Ie84b4506736a82a214b0416f7e451d565552f651\n'}, {'number': 2, 'created': '2020-11-21 23:44:49.000000000', 'files': ['troveclient/tests/osc/v1/test_datastores.py', 'troveclient/v1/management.py', 'troveclient/v1/configurations.py', 'troveclient/v1/instances.py', 'releasenotes/notes/wallaby-datastore-version-number.yaml', 'troveclient/tests/osc/v1/test_database_configurations.py', 'troveclient/tests/fakes.py', 'troveclient/osc/v1/datastores.py', 'troveclient/osc/v1/database_configurations.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/a57568397e58cd40269a48b777bd41cc1a1416e8', 'message': 'Support datastore version number\n\n- Support ""--datastore-version-number"" for creating configuration\n- Support ""--datastore-version-number"" for creating instance\n- Support ""--version-number"" for creating datastore version\n- Support ""--version-name"" for updating datastore version\n- Support showing version number for datastore version, instance and\n  configuration\n\nStory: 2008358\nTask: 41264\n\nChange-Id: Ie84b4506736a82a214b0416f7e451d565552f651\n'}]",1,763602,a57568397e58cd40269a48b777bd41cc1a1416e8,9,2,2,6732,,,0,"Support datastore version number

- Support ""--datastore-version-number"" for creating configuration
- Support ""--datastore-version-number"" for creating instance
- Support ""--version-number"" for creating datastore version
- Support ""--version-name"" for updating datastore version
- Support showing version number for datastore version, instance and
  configuration

Story: 2008358
Task: 41264

Change-Id: Ie84b4506736a82a214b0416f7e451d565552f651
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/02/763602/2 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/osc/v1/test_datastores.py', 'troveclient/v1/management.py', 'troveclient/v1/configurations.py', 'troveclient/v1/instances.py', 'releasenotes/notes/wallaby-datastore-version-number.yaml', 'troveclient/tests/osc/v1/test_database_configurations.py', 'troveclient/osc/v1/datastores.py', 'troveclient/tests/fakes.py', 'troveclient/osc/v1/database_configurations.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",11,c9d55f19e8b2ebee5fbd6f6db53bf3caeb4b8146,ds-version," '5.6', '5.7.29', '02', '1234', 'test-member-1', False, 'regionOne', 'fake_master_id', 'ACTIVE', 'fake_tenant_id', 2) 'datastore_version_number', values = ('2017-12-22T20:02:32', 'mysql', '5.6', '5.7.29', '310', 'datastore_version_number', ""version"": ""5.7.29"", ""version_number"": ""5.7.29"" 'datastore_version_number', ""5.7.29"", datastore_version_number=None,"," '5.6', '02', '1234', 'test-member-1', False, 'regionOne', 'fake_master_id', 'ACTIVE', 'fake_tenant_id', 2) values = ('2017-12-22T20:02:32', 'mysql', '5.6', '310', ""version"": ""5.7.29""",120,55
openstack%2Foslo.config~master~Iffb1ba01e7f8c751e9bde9ab8e903490fffdcbb3,openstack/oslo.config,master,Iffb1ba01e7f8c751e9bde9ab8e903490fffdcbb3,Fix missing option types to config doc,MERGED,2016-09-14 21:00:21.000000000,2020-11-22 05:56:19.000000000,2016-09-18 03:57:28.000000000,"[{'_account_id': 3}, {'_account_id': 8688}, {'_account_id': 9796}, {'_account_id': 20864}, {'_account_id': 23280}, {'_account_id': 23314}]","[{'number': 1, 'created': '2016-09-14 21:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/566950a133d5c341165dfc36faefb99c28fccada', 'message': 'Fix missing option types to config doc\n\nThe MultiString and Port types were missing from the cfg\ndocumentation. The PortOpt used to use Integer type but was later\nconverted to its own Port type.\n\nChange-Id: Iffb1ba01e7f8c751e9bde9ab8e903490fffdcbb3\n'}, {'number': 2, 'created': '2016-09-14 21:01:18.000000000', 'files': ['oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/50cc62d8220a092cb219b69e340099baddf93c74', 'message': 'Fix missing option types to config doc\n\nThe Port type was missing from the cfg documentation. The PortOpt\nused to use Integer type but was later converted to its own Port\ntype.\n\nChange-Id: Iffb1ba01e7f8c751e9bde9ab8e903490fffdcbb3\n'}]",4,370429,50cc62d8220a092cb219b69e340099baddf93c74,14,6,2,8119,,,0,"Fix missing option types to config doc

The Port type was missing from the cfg documentation. The PortOpt
used to use Integer type but was later converted to its own Port
type.

Change-Id: Iffb1ba01e7f8c751e9bde9ab8e903490fffdcbb3
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/29/370429/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfg.py'],1,566950a133d5c341165dfc36faefb99c28fccada,doc_nits,:class:`oslo_config.types.MultiString`:class:`oslo_config.cfg.MultiStrOpt`:class:`oslo_config.types.Integer` :class:`oslo_config.cfg.IntOpt`:class:`oslo_config.types.Port` :class:`oslo_config.cfg.PortOpt`,:class:`oslo_config.types.Integer` - :class:`oslo_config.cfg.IntOpt` - :class:`oslo_config.cfg.PortOpt`,3,2
openstack%2Ftripleo-upgrade~stable%2Fstein~I11767c9c0c398f479ded14db1163693c6e87f621,openstack/tripleo-upgrade,stable/stein,I11767c9c0c398f479ded14db1163693c6e87f621,Get rid of the old container images environment file.,MERGED,2020-11-20 12:01:06.000000000,2020-11-22 04:39:05.000000000,2020-11-22 04:39:05.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-20 12:01:06.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/780e29be813a31d5bdede2eed91ff255185cd4f8', 'message': ""Get rid of the old container images environment file.\n\nFor more than three releases, the way to configure the container\nimages is by using the ContainerImagePrepare service (via the\ncontainer-prepare-parameters.yaml file). However, the update\nimplementation still kept a reference to the old environment\nfile which contained all the references to the container images.\nThis file needs to be removed completely from the update prepare\nand converge templates, as if the content isn't updated then\nthe update will point to the old images. This way we rely only\non the container-prepare-parameter.yaml content.\n\nChange-Id: I11767c9c0c398f479ded14db1163693c6e87f621\n(cherry picked from commit fdcc42aa2a021ee3413c620e84fb896010400296)\n(cherry picked from commit fa27e49f366f5b33c693fba0fb85bde0dbd15e1c)\n""}]",1,763546,780e29be813a31d5bdede2eed91ff255185cd4f8,14,8,1,8449,,,0,"Get rid of the old container images environment file.

For more than three releases, the way to configure the container
images is by using the ContainerImagePrepare service (via the
container-prepare-parameters.yaml file). However, the update
implementation still kept a reference to the old environment
file which contained all the references to the container images.
This file needs to be removed completely from the update prepare
and converge templates, as if the content isn't updated then
the update will point to the old images. This way we rely only
on the container-prepare-parameter.yaml content.

Change-Id: I11767c9c0c398f479ded14db1163693c6e87f621
(cherry picked from commit fdcc42aa2a021ee3413c620e84fb896010400296)
(cherry picked from commit fa27e49f366f5b33c693fba0fb85bde0dbd15e1c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/46/763546/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2']",3,780e29be813a31d5bdede2eed91ff255185cd4f8,updates_subscribed-stable/train-stable/stein, {% for _env in initial_env_file.stdout_lines|difference(old_img|default([])) -%} 2>&1, {% for _env in initial_env_file.stdout_lines -%} -e {{ working_dir }}/{{ container_registry_file }} 2>&1,8,4
openstack%2Fkolla-ansible~stable%2Frocky~I4f4cbb09df752d00073a606463c62f0a6ca6c067,openstack/kolla-ansible,stable/rocky,I4f4cbb09df752d00073a606463c62f0a6ca6c067,Stop using MountFlags=shared in Docker configuration,ABANDONED,2020-08-12 02:47:07.000000000,2020-11-22 02:13:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-12 02:47:07.000000000', 'files': ['ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9e606c9054308dbe28d5a6ced25d05b5ef0ae8b', 'message': 'Stop using MountFlags=shared in Docker configuration\n\nAccording to Docker upstream release notes [1] MountFlags should be\nempty.\n\n1. https://docs.docker.com/engine/release-notes/#18091\n\n""Important notes about this release\n\nIn Docker versions prior to 18.09, containerd was managed by the Docker\nengine daemon. In Docker Engine 18.09, containerd is managed by systemd.\nSince containerd is managed by systemd, any custom configuration to the\ndocker.service systemd configuration which changes mount settings (for\nexample, MountFlags=slave) breaks interactions between the Docker Engine\ndaemon and containerd, and you will not be able to start containers.\n\nRun the following command to get the current value of the MountFlags\nproperty for the docker.service:\n\nsudo systemctl show --property=MountFlags docker.service\nMountFlags=\n\nUpdate your configuration if this command prints a non-empty value for\nMountFlags, and restart the docker service.""\n\nCloses-bug: #1833835\n\nChange-Id: I4f4cbb09df752d00073a606463c62f0a6ca6c067\n(cherry picked from commit 35941738d59002f8bbf55d25b3468619983dcea6)\n(cherry picked from commit 5314581beb503f41b360c17678e81a4a7f5f222a)\n'}]",0,745768,b9e606c9054308dbe28d5a6ced25d05b5ef0ae8b,3,1,1,28329,,,0,"Stop using MountFlags=shared in Docker configuration

According to Docker upstream release notes [1] MountFlags should be
empty.

1. https://docs.docker.com/engine/release-notes/#18091

""Important notes about this release

In Docker versions prior to 18.09, containerd was managed by the Docker
engine daemon. In Docker Engine 18.09, containerd is managed by systemd.
Since containerd is managed by systemd, any custom configuration to the
docker.service systemd configuration which changes mount settings (for
example, MountFlags=slave) breaks interactions between the Docker Engine
daemon and containerd, and you will not be able to start containers.

Run the following command to get the current value of the MountFlags
property for the docker.service:

sudo systemctl show --property=MountFlags docker.service
MountFlags=

Update your configuration if this command prints a non-empty value for
MountFlags, and restart the docker service.""

Closes-bug: #1833835

Change-Id: I4f4cbb09df752d00073a606463c62f0a6ca6c067
(cherry picked from commit 35941738d59002f8bbf55d25b3468619983dcea6)
(cherry picked from commit 5314581beb503f41b360c17678e81a4a7f5f222a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/745768/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2']",2,b9e606c9054308dbe28d5a6ced25d05b5ef0ae8b,bug/1833835-stable/stein-stable/rocky,,MountFlags=shared,0,17
openstack%2Ftrove~master~I45ba63454f5b9c29d95c67e49b44f8233dda18fb,openstack/trove,master,I45ba63454f5b9c29d95c67e49b44f8233dda18fb,[Doc] Support datastore version number,MERGED,2020-11-21 20:55:57.000000000,2020-11-22 00:16:09.000000000,2020-11-22 00:13:55.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-21 20:55:57.000000000', 'files': ['doc/source/admin/run_trove_in_production.rst', 'doc/source/admin/datastore.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/c9e27cab760bd16dc73b6813297210793b8f11a2', 'message': '[Doc] Support datastore version number\n\nStory: 2008358\nTask: 41264\n\nChange-Id: I45ba63454f5b9c29d95c67e49b44f8233dda18fb\n'}]",0,763603,c9e27cab760bd16dc73b6813297210793b8f11a2,7,2,1,6732,,,0,"[Doc] Support datastore version number

Story: 2008358
Task: 41264

Change-Id: I45ba63454f5b9c29d95c67e49b44f8233dda18fb
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/763603/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/run_trove_in_production.rst', 'doc/source/admin/datastore.rst']",2,c9e27cab760bd16dc73b6813297210793b8f11a2,ds-version-doc," Starting from Victoria, the datastore version number must be the same with the image tag of the specific database. To support MySQL 5.7.29, a new datastore version with version number 5.7.29 based on `mysql docker imagedoesn't exist. Different datastore versions can have the same name but different version numbers, or same version number but different names. In this example, the image is assigned tags that will be used when creating datastore version. --active --default \ --version-number 5.7.29"," Starting from Victoria, the datastore version name must be the same with the image tag of the specific database. To support MySQL 5.7.29, a new datastore version named 5.7.29 based on `mysql docker imagedoesn't exist. --active --default",11,6
openstack%2Ftrove~master~I529a07d50c0659af0c9821a8570f7548e8521805,openstack/trove,master,I529a07d50c0659af0c9821a8570f7548e8521805,Support datastore version number for configuration,MERGED,2020-11-21 20:40:24.000000000,2020-11-22 00:15:16.000000000,2020-11-22 00:13:35.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-21 20:40:24.000000000', 'files': ['trove/tests/unittests/configuration/test_service.py', 'api-ref/source/samples/config-group-show-response.json', 'trove/tests/unittests/trove_testtools.py', 'api-ref/source/samples/config-group-create-request.json', 'api-ref/source/samples/config-groups-list-response.json', 'api-ref/source/samples/config-group-create-response.json', 'trove/configuration/views.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/589e4ec45a3d24eeb40d16b0bfca573152b099f8', 'message': 'Support datastore version number for configuration\n\nStory: 2008358\nTask: 41263\n\nChange-Id: I529a07d50c0659af0c9821a8570f7548e8521805\n'}]",0,763601,589e4ec45a3d24eeb40d16b0bfca573152b099f8,7,2,1,6732,,,0,"Support datastore version number for configuration

Story: 2008358
Task: 41263

Change-Id: I529a07d50c0659af0c9821a8570f7548e8521805
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/763601/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/configuration/test_service.py', 'api-ref/source/samples/config-group-show-response.json', 'trove/tests/unittests/trove_testtools.py', 'api-ref/source/samples/config-group-create-request.json', 'api-ref/source/samples/config-groups-list-response.json', 'api-ref/source/samples/config-group-create-response.json', 'trove/configuration/views.py']",7,589e4ec45a3d24eeb40d16b0bfca573152b099f8,configuration-version-number," getattr(self.configuration, ""instance_count"", 0), self.configuration.datastore_version_id, ""datastore_version_name"": self.configuration.datastore_version.name, ""datastore_version_number"": self.configuration.datastore_version.version"," getattr(self.configuration, ""instance_count"", 0), self.configuration.datastore_version_id, ""datastore_version_name"": self.configuration.datastore_version.name",107,10
openstack%2Fproject-config~master~I7030696e2eb52dcc59a6f4eee0f4371ba067134b,openstack/project-config,master,I7030696e2eb52dcc59a6f4eee0f4371ba067134b,Remove old gerrit image jobs from jeepyb,MERGED,2020-11-21 21:34:20.000000000,2020-11-21 21:54:55.000000000,2020-11-21 21:54:55.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-21 21:34:20.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d91079c321f8031f626e06d79576deeb5885be0', 'message': 'Remove old gerrit image jobs from jeepyb\n\nThese are no longer necessary after upgrading to 3.2.\n\nChange-Id: I7030696e2eb52dcc59a6f4eee0f4371ba067134b\n'}]",0,763617,2d91079c321f8031f626e06d79576deeb5885be0,7,3,1,1,,,0,"Remove old gerrit image jobs from jeepyb

These are no longer necessary after upgrading to 3.2.

Change-Id: I7030696e2eb52dcc59a6f4eee0f4371ba067134b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/763617/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,2d91079c321f8031f626e06d79576deeb5885be0,,, - system-config-build-image-gerrit-2.13: dependencies: - name: opendev-buildset-registry - name: system-config-build-image-python-builder-3.7 soft: true - name: system-config-build-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-build-image-gerrit-2.15: dependencies: - name: opendev-buildset-registry - name: system-config-build-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-build-image-gerrit-2.16: dependencies: - name: opendev-buildset-registry - name: system-config-build-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-build-image-gerrit-3.0: dependencies: - name: opendev-buildset-registry - name: system-config-build-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-build-image-gerrit-3.1: dependencies: - name: opendev-buildset-registry - name: system-config-build-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-upload-image-gerrit-2.13: dependencies: - name: opendev-buildset-registry - name: system-config-upload-image-python-builder-3.7 soft: true - name: system-config-upload-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-upload-image-gerrit-2.15: dependencies: - name: opendev-buildset-registry - name: system-config-upload-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-upload-image-gerrit-2.16: dependencies: - name: opendev-buildset-registry - name: system-config-upload-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-upload-image-gerrit-3.0: dependencies: - name: opendev-buildset-registry - name: system-config-upload-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-upload-image-gerrit-3.1: dependencies: - name: opendev-buildset-registry - name: system-config-upload-image-gerrit-base soft: true files: *jeepyb_gerrit_files - system-config-promote-image-gerrit-2.13: files: *jeepyb_gerrit_files - system-config-promote-image-gerrit-2.15: files: *jeepyb_gerrit_files - system-config-promote-image-gerrit-2.16: files: *jeepyb_gerrit_files - system-config-promote-image-gerrit-3.0: files: *jeepyb_gerrit_files - system-config-promote-image-gerrit-3.1: files: *jeepyb_gerrit_files,0,74
openstack%2Ftripleo-ci~master~I08e855c883548425e1f8bf4043a8e2c2a7d42e0e,openstack/tripleo-ci,master,I08e855c883548425e1f8bf4043a8e2c2a7d42e0e,Use new Zuul relative priority queue feature,ABANDONED,2018-12-10 23:42:48.000000000,2020-11-21 17:23:54.000000000,,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-12-10 23:42:48.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b01aeb55c1bb8223d583911a4474ca74831cb39f', 'message': 'Use new Zuul relative priority queue feature\n\nZuul has grown the ability to group projects together for their relative\npriority assignments based on the pipeline queue value. Set a tripleo\ncheck queue value where the tripleo was setting them for the gate\npipeline.\n\nThis will treat the tripleo projects as a single unit when setting\nrelative priority in check.\n\nChange-Id: I08e855c883548425e1f8bf4043a8e2c2a7d42e0e\n'}]",5,624246,b01aeb55c1bb8223d583911a4474ca74831cb39f,16,9,1,4146,,,0,"Use new Zuul relative priority queue feature

Zuul has grown the ability to group projects together for their relative
priority assignments based on the pipeline queue value. Set a tripleo
check queue value where the tripleo was setting them for the gate
pipeline.

This will treat the tripleo projects as a single unit when setting
relative priority in check.

Change-Id: I08e855c883548425e1f8bf4043a8e2c2a7d42e0e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/46/624246/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,b01aeb55c1bb8223d583911a4474ca74831cb39f,relative-priority-queues, queue: tripleo queue: tripleo queue: tripleo queue: tripleo queue: tripleo,,5,0
openstack%2Fcinder~master~Id5ed8a54d7bd92929352827c2eb4808a7d287ac9,openstack/cinder,master,Id5ed8a54d7bd92929352827c2eb4808a7d287ac9,Support X-Forwarded-Proto when generating pagination links,NEW,2019-07-15 19:24:02.000000000,2020-11-20 15:00:30.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27781}, {'_account_id': 28048}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 31854}]","[{'number': 1, 'created': '2019-07-15 19:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bce52c948a54c522eabe6ea8940474905cb79a42', 'message': 'Support X-Forwarded-Proto when generating pagination links\n\nThis is useful if you enable SSL on the proxy but forward traffic\nunencrypted.\n\nTrivialFix\n\nChange-Id: Id5ed8a54d7bd92929352827c2eb4808a7d287ac9\n'}, {'number': 2, 'created': '2020-04-17 12:47:08.000000000', 'files': ['releasenotes/notes/fix-volume-pagination-links-217c4b24532a3116.yaml', 'cinder/api/common.py', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f66c15ada5a1af12063ac3eada45088c7d8065ea', 'message': 'Support X-Forwarded-Proto when generating pagination links\n\nThis is useful if you enable SSL on the proxy but forward traffic\nunencrypted.\n\nTrivialFix\n\nChange-Id: Id5ed8a54d7bd92929352827c2eb4808a7d287ac9\n'}]",1,670903,f66c15ada5a1af12063ac3eada45088c7d8065ea,95,42,2,28048,,,0,"Support X-Forwarded-Proto when generating pagination links

This is useful if you enable SSL on the proxy but forward traffic
unencrypted.

TrivialFix

Change-Id: Id5ed8a54d7bd92929352827c2eb4808a7d287ac9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/670903/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-volume-pagination-links-217c4b24532a3116.yaml', 'cinder/api/common.py', 'cinder/tests/unit/api/test_common.py']",3,bce52c948a54c522eabe6ea8940474905cb79a42,pagination-https," def test_get_request_url_forward_https(self): request = type('', (), { 'application_url': 'http://127.0.0.1/v2;param?key=value#frag', 'headers': {'X-Forwarded-Proto': 'https'} }) result = common.get_request_url(request) self.assertEqual('https://127.0.0.1/v2;param?key=value#frag', result)",,19,2
openstack%2Fcinder~stable%2Ftrain~I9e273ff1f977bf77628d9122e4d02cc85740c2b9,openstack/cinder,stable/train,I9e273ff1f977bf77628d9122e4d02cc85740c2b9,PowerMax Train Docs - Upgrade improvement notification,MERGED,2020-10-07 14:08:15.000000000,2020-11-20 14:52:48.000000000,2020-11-20 14:51:16.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 31868}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-07 14:08:15.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c32015baf69814b41106c7841203ed2adaad254', 'message': 'PowerMax Train Docs - Upgrade improvement notification\n\nNofifying on the upgrade improvement from SMI-S to REST after fixing\nhttps://bugs.launchpad.net/cinder/+bug/1867163\n\nChange-Id: I9e273ff1f977bf77628d9122e4d02cc85740c2b9\n(cherry picked from commit 05c7b77d81d867a3e3df4a358fe75494f8fcd12e)\n'}]",1,756519,3c32015baf69814b41106c7841203ed2adaad254,19,13,1,12670,,,0,"PowerMax Train Docs - Upgrade improvement notification

Nofifying on the upgrade improvement from SMI-S to REST after fixing
https://bugs.launchpad.net/cinder/+bug/1867163

Change-Id: I9e273ff1f977bf77628d9122e4d02cc85740c2b9
(cherry picked from commit 05c7b77d81d867a3e3df4a358fe75494f8fcd12e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/756519/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,3c32015baf69814b41106c7841203ed2adaad254,,#. Seamless upgrade from SMI-S(Ocata and earlier) to REST(Pike and later) is now available on all functionality including Live Migration. Please see 1867163_ for more details... _1867163: https://bugs.launchpad.net/cinder/+bug/1867163,#. OpenStack's ``live migration`` functionality will not work on already attached/in-use legacy volumes without first migrating the volumes to the new REST masking view structure. This can be done by running the migrate.py script in PyU4V. Please refer to the Tools Guide in PyU4V_. .. code-block:: text $ pip install PyU4V ,4,9
openstack%2Fopenstack-ansible-os_tempest~master~Ief00b43237cb634ee25a18264461bfda8464bbc7,openstack/openstack-ansible-os_tempest,master,Ief00b43237cb634ee25a18264461bfda8464bbc7,Add tempest cleanup support,MERGED,2020-11-11 19:56:20.000000000,2020-11-20 14:52:39.000000000,2020-11-20 14:51:12.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27379}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-11-11 19:56:20.000000000', 'files': ['tasks/tempest_cleanup_init.yml', 'tasks/main.yml', 'tasks/tempest_cleanup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/18f796ad6a02b00fe1d1ef1dbf29b5b9cc01d460', 'message': 'Add tempest cleanup support\n\nIf a user sets tempest_cleanup variable to true, tempest cleanup will be\nexecuted prior tempest tests (to generate saved_state.json) and after the\ntests in order to delete leaked resources if any.\n\nChange-Id: Ief00b43237cb634ee25a18264461bfda8464bbc7\n'}]",0,762405,18f796ad6a02b00fe1d1ef1dbf29b5b9cc01d460,23,8,1,22873,,,0,"Add tempest cleanup support

If a user sets tempest_cleanup variable to true, tempest cleanup will be
executed prior tempest tests (to generate saved_state.json) and after the
tests in order to delete leaked resources if any.

Change-Id: Ief00b43237cb634ee25a18264461bfda8464bbc7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/05/762405/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_cleanup_init.yml', 'tasks/main.yml', 'tasks/tempest_cleanup.yml', 'defaults/main.yml']",4,18f796ad6a02b00fe1d1ef1dbf29b5b9cc01d460,cleanup,"# Toggle whether tempest cleanup executes prior and after regular tempest run tempest_cleanup: no # if tempest_cleanup_dry_run is set to true, tempest cleanup will log all found # leftover resources to a dry_run.json file, none resources will be deleted #tempest_cleanup_dry_run: no",,75,0
openstack%2Fnova~master~I90d909146cd615a85e74f6873b6bd3780b1abf06,openstack/nova,master,I90d909146cd615a85e74f6873b6bd3780b1abf06,Make nova-compute hard fail on db config,NEW,2020-11-20 13:31:27.000000000,2020-11-20 14:42:02.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 15751}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-20 13:31:27.000000000', 'files': ['nova/tests/unit/cmd/test_common.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/cmd/common.py', 'releasenotes/notes/prevent-compute-service-startup-with-db-configuration-874de6a0d7e649b8.yaml', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8606da7dd35a9facc33222da3b7474797017f5c9', 'message': 'Make nova-compute hard fail on db config\n\nIn Wallaby we merged Ib424662a52c4439468392dff72a7c64ed40b352a that\nwarns if database is configured for nova-compute. Now in X we make\nthis as a hard failure.\n\nThis patch also removes the deprecated\n[workarounds]fail_to_start_compute_service_with_database_config option\n\nChange-Id: I90d909146cd615a85e74f6873b6bd3780b1abf06\nRelated-Bug: #1871482\n'}]",0,763559,8606da7dd35a9facc33222da3b7474797017f5c9,6,5,1,9708,,,0,"Make nova-compute hard fail on db config

In Wallaby we merged Ib424662a52c4439468392dff72a7c64ed40b352a that
warns if database is configured for nova-compute. Now in X we make
this as a hard failure.

This patch also removes the deprecated
[workarounds]fail_to_start_compute_service_with_database_config option

Change-Id: I90d909146cd615a85e74f6873b6bd3780b1abf06
Related-Bug: #1871482
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/763559/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_common.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/cmd/common.py', 'releasenotes/notes/prevent-compute-service-startup-with-db-configuration-874de6a0d7e649b8.yaml', 'nova/conf/workarounds.py']",5,8606da7dd35a9facc33222da3b7474797017f5c9,bug/1871482,," cfg.BoolOpt('fail_to_start_compute_service_with_database_config', default=False, deprecated_for_removal=True, deprecated_since='23.0.0', help="""""" The nova-compute service does not use direct database access since Grizzly. Configuring database connection for nova-compute is unnecessary and could be a security issue in case the service runs on the hypervisor. At startup the nova-compute service warns the deployer if database configuration is detected. Setting this config option to True makes this a hard failure for the service. Nova is intended to make the hard failure the default behavior in a future release. So this config can be used to test if the deployment is ready for such future change. Related bug: https://launchpad.net/bugs/1871482 Related options: * :oslo.config:option:`database.connection` * :oslo.config:option:`api_database.connection` """"""),",28,44
openstack%2Fglance_store~stable%2Fussuri~I7f0bffda222b663d4316c5d6c03fdbd0d3337035,openstack/glance_store,stable/ussuri,I7f0bffda222b663d4316c5d6c03fdbd0d3337035,Ramp up rbd resize to avoid excessive calls,MERGED,2020-11-12 10:52:49.000000000,2020-11-20 14:36:51.000000000,2020-11-20 14:29:47.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 10:52:49.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ca0c58b52756058b6d51bf6a47aeac3d525c1e16', 'message': 'Ramp up rbd resize to avoid excessive calls\n\nChange the RBD store to resize the image by up to 8GiB\nat the time to not resize on every write.\n\nTrim the image in Ceph after all data has been written\nto the actual size in case we overshot the resize.\n\nPartial-Bug: #1792710\nRelated-to: spec-lite-Ceph-Store-Optimization\n\nChange-Id: I7f0bffda222b663d4316c5d6c03fdbd0d3337035\n(cherry picked from commit c43f19e8456b9e20f03709773fb2ffdb94807a0a)\n'}]",0,762498,ca0c58b52756058b6d51bf6a47aeac3d525c1e16,10,5,1,9303,,,0,"Ramp up rbd resize to avoid excessive calls

Change the RBD store to resize the image by up to 8GiB
at the time to not resize on every write.

Trim the image in Ceph after all data has been written
to the actual size in case we overshot the resize.

Partial-Bug: #1792710
Related-to: spec-lite-Ceph-Store-Optimization

Change-Id: I7f0bffda222b663d4316c5d6c03fdbd0d3337035
(cherry picked from commit c43f19e8456b9e20f03709773fb2ffdb94807a0a)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/98/762498/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py']",2,ca0c58b52756058b6d51bf6a47aeac3d525c1e16,rbd_resize-stable/ussuri," passclass TestReSize(base.StoreBaseTest, test_store_capabilities.TestStoreCapabilitiesChecking): def setUp(self): """"""Establish a clean test environment."""""" super(TestReSize, self).setUp() rbd_store.rados = MockRados rbd_store.rbd = MockRBD self.store = rbd_store.Store(self.conf) self.store.configure() self.store_specs = {'pool': 'fake_pool', 'image': 'fake_image', 'snapshot': 'fake_snapshot'} self.location = rbd_store.StoreLocation(self.store_specs, self.conf) self.hash_algo = 'sha256' def test_add_w_image_size_zero_less_resizes(self): """"""Assert that correct size is returned even though 0 was provided."""""" # TODO(jokke): use the FakeData iterator once it exists. data_len = 57 * units.Mi data_iter = six.BytesIO(b'*' * data_len) with mock.patch.object(rbd_store.rbd.Image, 'resize') as resize: with mock.patch.object(rbd_store.rbd.Image, 'write') as write: ret = self.store.add( 'fake_image_id', data_iter, 0, self.hash_algo) # We expect to trim at the end so +1 expected = 1 expected_calls = [] data_len_temp = data_len resize_amount = self.store.WRITE_CHUNKSIZE while data_len_temp > 0: expected_calls.append(resize_amount + (data_len - data_len_temp)) data_len_temp -= resize_amount resize_amount *= 2 expected += 1 self.assertEqual(expected, resize.call_count) resize.assert_has_calls([mock.call(call) for call in expected_calls]) expected = ([self.store.WRITE_CHUNKSIZE for i in range(int( data_len / self.store.WRITE_CHUNKSIZE))] + [(data_len % self.store.WRITE_CHUNKSIZE)]) actual = ([len(args[0]) for args, kwargs in write.call_args_list]) self.assertEqual(expected, actual) self.assertEqual(data_len, resize.call_args_list[-1][0][0]) self.assertEqual(data_len, ret[1]) ", raise NotImplementedError(),88,16
openstack%2Fptgbot~master~Iff6263059d76c9b75ae26e029e3063992ab7cb76,openstack/ptgbot,master,Iff6263059d76c9b75ae26e029e3063992ab7cb76,Make URLs in MOTD messages clickable,MERGED,2020-11-13 16:40:57.000000000,2020-11-20 14:10:03.000000000,2020-11-20 14:10:03.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 16:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/123425a393a68603fbfc496eec7ae5b87b8329eb', 'message': 'Make URLs in MOTD messages clickable\n\nA long-wanted feature! Since the MOTD can only be controlled by an\nadmin, the risk of abuse is very limited.\n\nChange-Id: Iff6263059d76c9b75ae26e029e3063992ab7cb76\n'}, {'number': 2, 'created': '2020-11-13 16:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/3a006faf1c24b028a8ebf68135237943e09b070b', 'message': 'Make URLs in MOTD messages clickable\n\nA long-wanted feature! Since the MOTD can only be controlled by an\nadmin, the risk of abuse is very limited.\n\nChange-Id: Iff6263059d76c9b75ae26e029e3063992ab7cb76\n'}, {'number': 3, 'created': '2020-11-13 17:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/e362db6310ab1980ddc4817352e150ae447b6ff2', 'message': 'Make URLs in MOTD messages clickable\n\nA long-wanted feature! Since the MOTD can only be controlled by an\nadmin, the risk of abuse is very limited.\n\nChange-Id: Iff6263059d76c9b75ae26e029e3063992ab7cb76\n'}, {'number': 4, 'created': '2020-11-20 13:38:38.000000000', 'files': ['html/index.html', 'html/ptg.html', 'html/motd.js', 'html/etherpads.html'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/415ae5a05e2638ca4825850cdf84c862643798ca', 'message': 'Make URLs in MOTD messages clickable\n\nA long-wanted feature! Since the MOTD can only be controlled by an\nadmin, the risk of abuse is very limited.\n\nChange-Id: Iff6263059d76c9b75ae26e029e3063992ab7cb76\n'}]",2,762687,415ae5a05e2638ca4825850cdf84c862643798ca,16,4,4,308,,,0,"Make URLs in MOTD messages clickable

A long-wanted feature! Since the MOTD can only be controlled by an
admin, the risk of abuse is very limited.

Change-Id: Iff6263059d76c9b75ae26e029e3063992ab7cb76
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/87/762687/4 && git format-patch -1 --stdout FETCH_HEAD,"['html/index.html', 'html/ptg.html', 'html/motd.js', 'html/etherpads.html']",4,123425a393a68603fbfc496eec7ae5b87b8329eb,new-motd,"<div class=""alert alert-{{this.level}}"" role=""alert"">{{ linkify this.message }}</div>","<div class=""alert alert-{{this.level}}"" role=""alert"">{{this.message}}</div>",11,3
openstack%2Fpython-tripleoclient~master~I442349480c6074a85775a6f5557a063333d4849f,openstack/python-tripleoclient,master,I442349480c6074a85775a6f5557a063333d4849f,Fix debug logging for buildah bud,ABANDONED,2020-11-13 16:38:18.000000000,2020-11-20 13:39:47.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-13 16:38:18.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82fdbbd7e97db9fa123a91d6cda8a84cce52e768', 'message': 'Fix debug logging for buildah bud\n\nPass the application debug option to the  called build process as well\n\nChange-Id: I442349480c6074a85775a6f5557a063333d4849f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,762683,82fdbbd7e97db9fa123a91d6cda8a84cce52e768,8,5,1,6926,,,0,"Fix debug logging for buildah bud

Pass the application debug option to the  called build process as well

Change-Id: I442349480c6074a85775a6f5557a063333d4849f
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/762683/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/v2/tripleo_container_image.py']",2,82fdbbd7e97db9fa123a91d6cda8a84cce52e768,debud," build_timeout=parsed_args.build_timeout, debug=self.app.options.debug", build_timeout=parsed_args.build_timeout,4,2
openstack%2Fopenstack-ansible~master~Ie19a3a2abdcd7192a4ef657ec9229d8e65cf50ac,openstack/openstack-ansible,master,Ie19a3a2abdcd7192a4ef657ec9229d8e65cf50ac,Bump calico version,MERGED,2020-11-17 10:27:40.000000000,2020-11-20 13:37:55.000000000,2020-11-20 13:35:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-11-17 10:27:40.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83e230cf136441b39ecdc35a6326032d952e15d8', 'message': 'Bump calico version\n\nChange-Id: Ie19a3a2abdcd7192a4ef657ec9229d8e65cf50ac\n'}]",0,762985,83e230cf136441b39ecdc35a6326032d952e15d8,8,3,1,28619,,,0,"Bump calico version

Change-Id: Ie19a3a2abdcd7192a4ef657ec9229d8e65cf50ac
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/762985/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,83e230cf136441b39ecdc35a6326032d952e15d8,,networking_calico_git_install_branch: 1a588c56645333ab044cf98661498d4e601d1590 # HEAD as of 17.11.2020networking_calico_git_track_branch: release-v3.16,networking_calico_git_install_branch: v3.14.0 # HEAD as of 19.05.2020networking_calico_git_track_branch: None,2,2
openstack%2Fopenstacksdk~master~Ic1e080cfc2c6439fddbb41bc6015abcb59291667,openstack/openstacksdk,master,Ic1e080cfc2c6439fddbb41bc6015abcb59291667,Volume Target support for Ironic on OpenStack SDK,MERGED,2020-09-21 16:52:21.000000000,2020-11-20 13:34:08.000000000,2020-11-20 13:29:20.000000000,"[{'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32421}]","[{'number': 1, 'created': '2020-09-21 16:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/04cc2f2481c1282cee7c22efbf530956a0ecbf63', 'message': '[WIP] Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 2, 'created': '2020-10-10 19:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e5e3fd009a2e138a3ad4e2a7279393eacf3bda3a', 'message': '[WIP] Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 3, 'created': '2020-10-10 20:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3933418ba6bb85915f22f346e72c791c98bc100f', 'message': '[WIP] Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 4, 'created': '2020-10-24 20:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/de64cbe7209dcc190f4af47ccae593bc56666405', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 5, 'created': '2020-11-01 05:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ed1dc98f39084017a82a77bd70dce169ad222e3c', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 6, 'created': '2020-11-01 19:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fc4dfa37b61c3fc8dbacf44bff034146b6a5f37b', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 7, 'created': '2020-11-01 22:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9dac23f872a9090e12f99c3dcf526fae24a3e757', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 8, 'created': '2020-11-08 16:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b86d7bc7dffd65a929c26f8c43048928eaaa02bb', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 9, 'created': '2020-11-08 17:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f85aedffb4104d295abb17b580ae582af780731', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 10, 'created': '2020-11-09 19:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/322a1b6add27412f430109d93b7432c051c1764c', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 11, 'created': '2020-11-14 13:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8a1a67536e07dc3e1d7305dc97c2ee6ff4cfcd59', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 12, 'created': '2020-11-14 14:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d3f327bc39e85822ce2045652a22f3df0c306023', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}, {'number': 13, 'created': '2020-11-14 15:16:19.000000000', 'files': ['openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_volume_target.py', 'doc/source/user/resources/baremetal/v1/volume_target.rst', 'openstack/tests/unit/baremetal/v1/test_volume_target.py', 'doc/source/user/proxies/baremetal.rst', 'doc/source/user/resources/baremetal/index.rst', 'releasenotes/notes/ironic-volume_target-support-8130361804366787.yaml', 'openstack/tests/functional/baremetal/base.py', 'openstack/baremetal/v1/volume_target.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/06db9e37fa51f7f0cd623a9f4d1464cdec915267', 'message': 'Volume Target support for Ironic on OpenStack SDK\n\nThis patch adds support for Ironic Volume Target API.\n\nChange-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667\nStory: #2008169\nTask: #40924\n'}]",21,753092,06db9e37fa51f7f0cd623a9f4d1464cdec915267,38,5,13,32421,,,0,"Volume Target support for Ironic on OpenStack SDK

This patch adds support for Ironic Volume Target API.

Change-Id: Ic1e080cfc2c6439fddbb41bc6015abcb59291667
Story: #2008169
Task: #40924
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/92/753092/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_volume_target.py', 'openstack/baremetal/v1/volume_target.py']",2,04cc2f2481c1282cee7c22efbf530956a0ecbf63,volume_target,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.baremetal.v1 import _common from openstack import resource class VolumeTarget(_common.ListMixin, resource.Resource): resources_key = 'targets' base_path = '/volume/targets' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True allow_patch = True commit_method = 'PATCH' commit_jsonpatch = True _query_mapping = resource.QueryParameters( 'node', 'detail', fields={'type': _common.fields_type}, ) # Volume Targets is available since 1.32 _max_microversion = '1.32' #: The boot index of the Volume target. 0 indicates that this volume is # used as a boot volume. boot_index = resource.Body('boot_index') #: Timestamp at which the port was created. created_at = resource.Body('created_at') #: A set of one or more arbitrary metadata key and value pairs. extra = resource.Body('extra') #: A list of relative links. Includes the self and bookmark links. links = resource.Body('links', type=list) #: The UUID of the Node this resource belongs to. node_id = resource.Body('node_uuid') #: A set of physical information of the volume. properties = resource.Body('properties') #: Timestamp at which the port was last updated. updated_at = resource.Body('updated_at') #: The UUID of the resource. id = resource.Body('uuid', alternate_id=True) #: The identifier of the volume. volume_id = resource.Body('volume_id') #: The type of Volume target. volume_type = resource.Body('volume_type') ",,125,0
openstack%2Fneutron-tempest-plugin~master~I19ccb492506660dd7da56b48fe3ac9d0bc427f9d,openstack/neutron-tempest-plugin,master,I19ccb492506660dd7da56b48fe3ac9d0bc427f9d,Set concurrency of scenario tests to 3,MERGED,2020-11-17 17:33:26.000000000,2020-11-20 13:29:19.000000000,2020-11-20 13:29:19.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25617}]","[{'number': 1, 'created': '2020-11-17 17:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/06963f48b739f704dcbb793ac2a9d2821feff750', 'message': 'Set concurrency of scenario tests to 3\n\nIn order to reduce the host load during the CI jobs execution,\nthe tempest concurrency for scenario jobs is reduced to 3 (from 4).\nThis should lighten the server load and reduce the occurrence of\nrandom failures.\n\nChange-Id: I19ccb492506660dd7da56b48fe3ac9d0bc427f9d\n'}, {'number': 2, 'created': '2020-11-19 10:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bf041979ec52249dac24333f980f141f4394fa26', 'message': 'Set concurrency of scenario tests to 3\n\nIn order to reduce the host load during the CI jobs execution,\nthe tempest concurrency for scenario jobs is reduced to 3 (from 4).\nThis should lighten the server load and reduce the occurrence of\nrandom failures.\n\nCloses-Bug: #1904858\n\nChange-Id: I19ccb492506660dd7da56b48fe3ac9d0bc427f9d\n'}, {'number': 3, 'created': '2020-11-19 14:50:21.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bc45d24486af33ef6462ecfec83f5d86aa2e7237', 'message': 'Set concurrency of scenario tests to 3\n\nIn order to reduce the host load during the CI jobs execution,\nthe tempest concurrency for scenario jobs is reduced to 3 (from 4).\nThis should lighten the server load and reduce the occurrence of\nrandom failures.\n\nCloses-Bug: #1904858\n\nChange-Id: I19ccb492506660dd7da56b48fe3ac9d0bc427f9d\n'}]",2,763051,bc45d24486af33ef6462ecfec83f5d86aa2e7237,17,8,3,16688,,,0,"Set concurrency of scenario tests to 3

In order to reduce the host load during the CI jobs execution,
the tempest concurrency for scenario jobs is reduced to 3 (from 4).
This should lighten the server load and reduce the occurrence of
random failures.

Closes-Bug: #1904858

Change-Id: I19ccb492506660dd7da56b48fe3ac9d0bc427f9d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/51/763051/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,06963f48b739f704dcbb793ac2a9d2821feff750,bug/1904858, tempest_concurrency: 3 # out of 4,,1,1
openstack%2Ftripleo-heat-templates~master~If81477ad2c6048b7103810e519083a0870897fa3,openstack/tripleo-heat-templates,master,If81477ad2c6048b7103810e519083a0870897fa3,Refresh ceph-ansible group_vars values,MERGED,2020-11-18 11:11:09.000000000,2020-11-20 13:28:54.000000000,2020-11-20 13:17:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-11-18 11:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09e128c0760a23356a1a477f0dd404d95b0d557d', 'message': 'WIP - Refresh ceph-ansible group_vars values\n\nChange-Id: If81477ad2c6048b7103810e519083a0870897fa3\n'}, {'number': 2, 'created': '2020-11-18 14:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3b49a5043c64b5be6fb8ed6de927c4245897425', 'message': 'WIP - Refresh ceph-ansible group_vars values\n\n1. Adding the prepare at the beginning of Step2: this is valid for all\n   the services with additional configoverrides variables\n\n2. Removed ""prepare"" on rgw service: we risk to have this set of tasks\n   executed multiple times (if prepare is included in other roles than\n   ceph-base). For example, including prepare in clients and rgw results\n   in 3 execution of the same thing!\n   Adding it at the beginning of Step 2 ensures that it\'s executed at\n   least two times\n\nChange-Id: If81477ad2c6048b7103810e519083a0870897fa3\n'}, {'number': 3, 'created': '2020-11-19 08:54:17.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fafca733c995dc835cbe040c12d766e8ac02cd4', 'message': 'Refresh ceph-ansible group_vars values\n\nThe purpose of this change is having a mechanism to refresh the\nceph-ansible group_vars/ when a Ceph related service, that defines a\nspecific set of variables, is included in the overcloud.\n\nFor this reason, this patch:\n\n1. Adds the ""prepare"" tasks (including tripleo-ceph-work-dir) at the\n   beginning of Step2. By doing this we can make sure that all the\n   variables needed by ceph-ansible are properly collected at Step1,\n   and persisted (in group_vars/*) at Step2, before the ceph-ansible\n   playbook execution.\n   This approach is valid for all the services that define additional\n   ConfigOverrides variables\n\n2. Removes the ""prepare"" (including tripleo-ceph-work-dir) in the rgw\n   service: having the ""prepare"" tasks included ""per role"" creates the\n   risk of executing it multiple times.\n   For example, including ""prepare"" in clients and rgw results in three\n   execution of the same thing!\n   Adding it at the beginning of Step 2 ensures that it\'s executed at\n   least two times.\n\nChange-Id: If81477ad2c6048b7103810e519083a0870897fa3\n'}]",0,763160,1fafca733c995dc835cbe040c12d766e8ac02cd4,17,8,3,25402,,,0,"Refresh ceph-ansible group_vars values

The purpose of this change is having a mechanism to refresh the
ceph-ansible group_vars/ when a Ceph related service, that defines a
specific set of variables, is included in the overcloud.

For this reason, this patch:

1. Adds the ""prepare"" tasks (including tripleo-ceph-work-dir) at the
   beginning of Step2. By doing this we can make sure that all the
   variables needed by ceph-ansible are properly collected at Step1,
   and persisted (in group_vars/*) at Step2, before the ceph-ansible
   playbook execution.
   This approach is valid for all the services that define additional
   ConfigOverrides variables

2. Removes the ""prepare"" (including tripleo-ceph-work-dir) in the rgw
   service: having the ""prepare"" tasks included ""per role"" creates the
   risk of executing it multiple times.
   For example, including ""prepare"" in clients and rgw results in three
   execution of the same thing!
   Adding it at the beginning of Step 2 ensures that it's executed at
   least two times.

Change-Id: If81477ad2c6048b7103810e519083a0870897fa3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/763160/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,09e128c0760a23356a1a477f0dd404d95b0d557d,, - name: Refresh ceph-ansible group_vars variables include_role: name: tripleo_ceph_work_dir tasks_from: prepare,,4,0
openstack%2Fmanila~master~Ie4785873e7ea7e3c025ad216483daed0cb35a443,openstack/manila,master,Ie4785873e7ea7e3c025ad216483daed0cb35a443,Add a high level vision reflection document,NEW,2019-02-13 22:32:22.000000000,2020-11-20 13:19:16.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-02-13 22:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/01935b13604e8002884b898649218d8c0ed2b220', 'message': 'Add a high level vision relection document\n\nThe TC has asked that each project add a document reflecting\non gaps relative to the recently approved ``Vision for\nOpenStack Clouds`` document [1].\n\nThis review starts the work in manila for such a reflection\ndocument.\n\n[1] https://governance.openstack.org/tc/reference/technical-vision.html\n\nChange-Id: Ie4785873e7ea7e3c025ad216483daed0cb35a443\n'}, {'number': 2, 'created': '2019-02-13 22:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9321befc439bad498c8a2e8e70bbe7e3e468542a', 'message': 'Add a high level vision reflection document\n\nThe TC has asked that each project add a document reflecting\non gaps relative to the recently approved ``Vision for\nOpenStack Clouds`` document [1].\n\nThis review starts the work in manila for such a reflection\ndocument.\n\n[1] https://governance.openstack.org/tc/reference/technical-vision.html\n\nChange-Id: Ie4785873e7ea7e3c025ad216483daed0cb35a443\n'}, {'number': 3, 'created': '2020-09-22 21:14:41.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/vision-reflection.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/51a0500961e72c136c388ba0024d9bf6082a28d5', 'message': 'Add a high level vision reflection document\n\nThe TC has asked that each project add a document reflecting\non gaps relative to the recently approved ``Vision for\nOpenStack Clouds`` document [1].\n\nThis review starts the work in manila for such a reflection\ndocument.\n\n[1] https://governance.openstack.org/tc/reference/technical-vision.html\n\nChange-Id: Ie4785873e7ea7e3c025ad216483daed0cb35a443\n'}]",30,636770,51a0500961e72c136c388ba0024d9bf6082a28d5,25,16,3,9003,,,0,"Add a high level vision reflection document

The TC has asked that each project add a document reflecting
on gaps relative to the recently approved ``Vision for
OpenStack Clouds`` document [1].

This review starts the work in manila for such a reflection
document.

[1] https://governance.openstack.org/tc/reference/technical-vision.html

Change-Id: Ie4785873e7ea7e3c025ad216483daed0cb35a443
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/636770/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/vision-reflection.rst']",2,01935b13604e8002884b898649218d8c0ed2b220,vision-reflection,".. _vision_reflection: ================================================= Comparison to the 2018 OpenStack Technical Vision ================================================= In late-2018, the Technical Committee approved a `technical vision <https://governance.openstack.org/tc/reference/technical-vision.html>`_ document that provides a reference point for projects in our Open Infrastructure ecosystem. Here we attempt a realistic self-evaluation in light of that vision and note current gaps between where our project is today and the vision. This is intended to be a living document that we will update as we close gaps and as new gaps become apparent. The Pillars of Cloud - Self Service and Application Control =========================================================== All of manila's services are available through a standard REST API that enables self-service by humans and robots with isolation among system tenants. There are however gaps beyond the API itself and the standard python manila client that should be filled. * UI - manila has a horizon plugin but it is many api micro-versions behind the core service and the official manila client so that many recent features are unsupported. * OpenStack Client - the osc has no support for manila. * OpenStack SDK - the official OpenStack SDK lacks support for manila. * CSI - plugin for container orchestrators is WIP OpenStack-specific Considerations ================================= Interoperability ---------------- * Although our API is microversioned so that clouds and users working with older clients can still operate with current generation manila services, we need better support for topology and backend capability discovery in different zones. Bidirectional Compatability --------------------------- * We test upgrades relatively well but have not particularly checked user experience to ensure that a user moving from a cloud with newer API microversions to a cloud with manila at older microversions will have the best experience possible even though they should get reasonable REST responses back when they attempt to use features not available at the lower microversions. Cross-Project Dependencies -------------------------- Manila has hard dependencies on a relational database and rabbitmq. Unless it runs in no-auth mode it has a hard dependency on keystone. When running with strong tenant isolation (DHSS=true mome) manila enforces ""share network"" isolation via neutron. In principle other SDNs could be plugged into this role (we used to support ""Nova"" network as a plugin) but currently in this mode manila effectively has a hard dependency on neutron. The ``generic`` back end for manila has hard dependencies on cinder and nova but it is one back end among many. These are not dependencies from manila itself. Partitioning ------------ * Support for Availability Zones and capability discovery within Zones is still very basic and is too coupled to compute topology. Design Goals ============ Basic Physical Data Center Management ------------------------------------- * TripleO has pretty good support for manila but needs more work. For example, it cannot today provide straightforward support deployment of multiple back ends of the same kind. * OpenStack-Ansible support for manila is WIP. * Kolla support for deploying manila seems relatively untested. Plays Well With Others ---------------------- * CSI support is still WIP. Hardware Virtualization ----------------------- Manila abstracts over hardware resources such as storage back ends and has good support for software defined CephFS, with or without an NFS gateway. But: * gluster FS software defined back end is unmaintained in the community despite it having been forked and in current use outside the OpenStack community proper. It would be great to have more than one maintained and supported production quality open source software defined back end for manila. Infinite, Continuous Scaling ---------------------------- * Today manila shares have to be created with a finite size. It would be great to have an option to create shares with no limit on size. We need to work out quota limits nonetheless to avoid DOS on the service or back end and better usage reporting for billing or other resource management. That said, even with fixed size shares we do have APIs to extend (or shrink) a share, constrained by actual usage in the shrink case, so an external program today can monitor a share's usage and extend it. Built-in Reliability and Durability ----------------------------------- * manila-api and scheduler-services run active-active but manila-share today cannot guarantee integrity of the back end plus fault tolerance unless it runs active-standby under control of an agent like pacemaker. We should build active-active capability for the manila-share service. This has implications for use of tooz as as DLM abstraction and production back ends for same, e.g. etcd. * software defined back ends like ``generic`` introduce a SPOF in the data path. * Ceph native back end can run active-active but using it with a ganesha NFS gateway requires active-standby control by pacemaker or such to avoid SPOF and limits scale out potential or deployment in topologies like Edge where pacemaker and node fencing is unsuitable. Customisable Integration ------------------------ Manila interacts with other OpenStack components only via public APIs. Abstract Specialized Operations ------------------------------- This is pretty much the point of manila. Graphical User Interface ------------------------ * As noted above we have debt in the manila-ui plugin relative to recent features and API microversions. ",,153,0
openstack%2Ftripleo-heat-templates~master~I447458c344a8817f3cfacba06f3410d500ed1f59,openstack/tripleo-heat-templates,master,I447458c344a8817f3cfacba06f3410d500ed1f59,Allow to configure vxlan network type for OVN,MERGED,2020-09-22 21:51:29.000000000,2020-11-20 13:18:25.000000000,2020-11-20 13:17:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 9656}, {'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 25877}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-09-22 21:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f688334441d5810f3768df6ff6640e65e1175bb', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 2, 'created': '2020-09-22 21:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77ea7476015887726a95c38309a053e4ca785aec', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 3, 'created': '2020-10-01 01:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b8331fdf47daa2f060f0c93c2da4574ac36a0f4', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 4, 'created': '2020-10-01 11:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be35e1a1eed726ce2d1ea0e86844929e803c1bda', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 5, 'created': '2020-10-19 17:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/069a6a54cd24e848ecdafbd2add008d0775f91d5', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 6, 'created': '2020-10-28 09:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c191cac563a6e93f3dc4a7c71b2f76bbfaec37f', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 7, 'created': '2020-11-04 17:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa19783d279fdf1a285591db24a2df7c4928ad23', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 8, 'created': '2020-11-05 14:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b394ea19e2787dac2092d678f80887304d096ae', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 9, 'created': '2020-11-17 09:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7261e2400eb44c5573e631bc8a9900774d6525b3', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}, {'number': 10, 'created': '2020-11-19 09:52:30.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'releasenotes/notes/vxlan-support-for-ovn-1320be8046aca9c6.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'tools/yaml-validate.py', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1204893eb25accbe4dbedcf1e4b67de835f2d0c', 'message': 'Allow to configure vxlan network type for OVN\n\nSince 20.09, OVN supports VXLAN type for inter-chassis communication.\n\nThis patch also gets rid of no longer needed override for\nNeutronNetworkType for OVN, moving the constraints into generic ML2\ndefinition list. The constraints list is extended to include vxlan.\n\nDepends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b\nChange-Id: I447458c344a8817f3cfacba06f3410d500ed1f59\n'}]",7,753453,b1204893eb25accbe4dbedcf1e4b67de835f2d0c,85,13,10,9656,,,0,"Allow to configure vxlan network type for OVN

Since 20.09, OVN supports VXLAN type for inter-chassis communication.

This patch also gets rid of no longer needed override for
NeutronNetworkType for OVN, moving the constraints into generic ML2
definition list. The constraints list is extended to include vxlan.

Depends-On: I81c016ba9c91282d1bebb40a282077e14ce4bd6b
Change-Id: I447458c344a8817f3cfacba06f3410d500ed1f59
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/753453/9 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'tools/yaml-validate.py', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml']",8,0f688334441d5810f3768df6ff6640e65e1175bb,vxlan," # NOTE(anil): OVN supports only VLAN, geneve, VXLAN, and flat networks - vxlan"," # NOTE(anil): OVN supports only VLAN, geneve and flat networks",12,11
openstack%2Fopenstack-ansible~master~Icc51a529f47c54b9136ff0a98bd1e068be9cc755,openstack/openstack-ansible,master,Icc51a529f47c54b9136ff0a98bd1e068be9cc755,Pin SHA of murano-dashboard so it is controlled by OSA releases,MERGED,2020-11-17 12:28:55.000000000,2020-11-20 13:17:27.000000000,2020-11-20 13:15:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-11-17 12:28:55.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad81ab5610b20ee6a5176801af2a3028d58a2c5e', 'message': 'Pin SHA of murano-dashboard so it is controlled by OSA releases\n\nChange-Id: Icc51a529f47c54b9136ff0a98bd1e068be9cc755\n'}]",0,763002,ad81ab5610b20ee6a5176801af2a3028d58a2c5e,16,3,1,25023,,,0,"Pin SHA of murano-dashboard so it is controlled by OSA releases

Change-Id: Icc51a529f47c54b9136ff0a98bd1e068be9cc755
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/763002/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,ad81ab5610b20ee6a5176801af2a3028d58a2c5e,,murano_dashboard_git_repo: https://opendev.org/openstack/murano-dashboard murano_dashboard_git_install_branch: 122fbb8548a4c1507462a9c7b27f7521b05ded3a # HEAD as of 19.10.2020 murano_dashboard_git_project_group: murano_all murano_dashboard_git_track_branch: stable/victoria ,,5,0
openstack%2Fironic-python-agent~stable%2Fvictoria~Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9,openstack/ironic-python-agent,stable/victoria,Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9,Fix vendor info retrieval for some versions of lshw,MERGED,2020-11-19 16:31:54.000000000,2020-11-20 13:17:02.000000000,2020-11-20 13:15:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 12356}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-19 16:31:54.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/31e9d0db8c1ea3f8f7dfe1328f7ab0b19325a363', 'message': ""Fix vendor info retrieval for some versions of lshw\n\nThere is one more place that relies on lshw json output being a dict,\nso let's fix the function that gets the dict rather than places it is\nbeing used in.\n\nChange-Id: Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9\nTask: 39527\nStory: 2007588\n(cherry picked from commit 3761a448009467dd342bc0cb3ca3b182969def42)\n""}]",0,763406,31e9d0db8c1ea3f8f7dfe1328f7ab0b19325a363,11,5,1,12356,,,0,"Fix vendor info retrieval for some versions of lshw

There is one more place that relies on lshw json output being a dict,
so let's fix the function that gets the dict rather than places it is
being used in.

Change-Id: Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9
Task: 39527
Story: 2007588
(cherry picked from commit 3761a448009467dd342bc0cb3ca3b182969def42)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/763406/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,31e9d0db8c1ea3f8f7dfe1328f7ab0b19325a363,fix-lshw-2-stable/victoria," def test_get_system_vendor_info_lshw_list(self, mocked_execute): mocked_execute.return_value = (f""[{LSHW_JSON_OUTPUT_V2[0]}]"", """") vendor_info = self.hardware.get_system_vendor_info() self.assertEqual('ABCD', vendor_info.product_name) self.assertEqual('1234', vendor_info.serial_number) self.assertEqual('ABCD', vendor_info.manufacturer) @mock.patch.object(utils, 'execute', autospec=True)",,14,5
openstack%2Ftripleo-validations~master~I1b27b8adeb3f5f83d761cac7b8b9ee1a3b6b5407,openstack/tripleo-validations,master,I1b27b8adeb3f5f83d761cac7b8b9ee1a3b6b5407,Validation collect-flavors-and-verify-profiles bug,MERGED,2020-04-20 14:37:12.000000000,2020-11-20 13:15:55.000000000,2020-04-23 14:16:30.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-20 14:37:12.000000000', 'files': ['library/check_flavors.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7fdefbc6b9675e589d53033bf22226fe5c9a26bd', 'message': ""Validation collect-flavors-and-verify-profiles bug\n\nWhen 'resources' keys are set up with a flavor, it\nlooks like the values are a string.  The\ncollect-flavors-and-verify-profiles validation is\ncomparing the values against an integer and fails.\n\nChange-Id: I1b27b8adeb3f5f83d761cac7b8b9ee1a3b6b5407\nStory: 2007457\n""}]",0,721279,7fdefbc6b9675e589d53033bf22226fe5c9a26bd,8,3,1,21714,,,0,"Validation collect-flavors-and-verify-profiles bug

When 'resources' keys are set up with a flavor, it
looks like the values are a string.  The
collect-flavors-and-verify-profiles validation is
comparing the values against an integer and fails.

Change-Id: I1b27b8adeb3f5f83d761cac7b8b9ee1a3b6b5407
Story: 2007457
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/79/721279/1 && git format-patch -1 --stdout FETCH_HEAD,['library/check_flavors.py'],1,7fdefbc6b9675e589d53033bf22226fe5c9a26bd,story/2007457," if int(val) == 1: if any(int(resource) != 0 for resource in [disk, memory,"," if val == 1: if any(resource != 0 for resource in [disk, memory,",2,2
openstack%2Fkolla-ansible~stable%2Fussuri~I2fe6eb13ce7be68d346b1b3b7036859f34c896c4,openstack/kolla-ansible,stable/ussuri,I2fe6eb13ce7be68d346b1b3b7036859f34c896c4,Fix kolla-ansible to work with pyenv-virtualenv,MERGED,2020-11-19 13:34:18.000000000,2020-11-20 13:04:09.000000000,2020-11-20 13:01:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32662}]","[{'number': 1, 'created': '2020-11-19 13:34:18.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9a45abfb54215109e1fceeeff81b08625ecfd31', 'message': 'Fix kolla-ansible to work with pyenv-virtualenv\n\nOne of the pyenv-virtualenv-set-up aliases depends on a symlink.\nIt seems pyenv runs the bash script from such a path and it fails\nbecause of a failing comparison (VIRTUAL_ENV not detected).\n\nThe VIRTUAL_ENV is ensured to be fully resolved as well for safety.\n\nThis requires readlink from GNU coreutils but all supported platforms\nhave it by default.\n\nExtra comments included, as well as simplification of directory\ndetection - readlink handles this (not that `bin` itself was\never a symlink...).\n\nCloses-Bug: #1903887\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n(cherry picked from commit aaab1d1b68db0c737b63ae6bce3179df0487f23f)\n'}]",0,763367,f9a45abfb54215109e1fceeeff81b08625ecfd31,10,4,1,30491,,,0,"Fix kolla-ansible to work with pyenv-virtualenv

One of the pyenv-virtualenv-set-up aliases depends on a symlink.
It seems pyenv runs the bash script from such a path and it fails
because of a failing comparison (VIRTUAL_ENV not detected).

The VIRTUAL_ENV is ensured to be fully resolved as well for safety.

This requires readlink from GNU coreutils but all supported platforms
have it by default.

Extra comments included, as well as simplification of directory
detection - readlink handles this (not that `bin` itself was
ever a symlink...).

Closes-Bug: #1903887
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4
(cherry picked from commit aaab1d1b68db0c737b63ae6bce3179df0487f23f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/763367/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,f9a45abfb54215109e1fceeeff81b08625ecfd31,BUG-1903887-stable/victoria-stable/ussuri," dir_name=$(dirname ""$0"") # NOTE(yoctozepto): Fix the case where dir_name is a symlink and VIRTUAL_ENV might not be. This # happens with pyenv-virtualenv, see https://bugs.launchpad.net/kolla-ansible/+bug/1903887 dir_name=$(readlink -e ""$dir_name"") elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then # Running from sources (repo)."," dir_name=$(cd ""$(dirname ""$0"")"" &>/dev/null && pwd) elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""${VIRTUAL_ENV}/bin"" ]]; then",6,2
openstack%2Fnova~master~I8528eeb8a7dd9a2fd61a52e7a5cfb8f732f5b4e6,openstack/nova,master,I8528eeb8a7dd9a2fd61a52e7a5cfb8f732f5b4e6,Doc that [database]connection is not for nova-compute,ABANDONED,2020-11-13 12:25:28.000000000,2020-11-20 13:03:21.000000000,,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23811}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-13 12:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14f46c348dc64575b3ca604338ba9dcc85a74b0c', 'message': 'Doc that [database]connection is not for nova-compute\n\nThis patch extends the documentation of the [database]connection\nconfiguration option to state that it should not be set for the\nnova-compute service.\n\nChange-Id: I8528eeb8a7dd9a2fd61a52e7a5cfb8f732f5b4e6\nRelated-Bug: #1904179\n'}, {'number': 2, 'created': '2020-11-16 10:06:54.000000000', 'files': ['nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d08229a98a9f734ab18dee828d1da07c88ccc1c0', 'message': 'Doc that [database]connection is not for nova-compute\n\nThis patch extends the documentation of the [database]connection\nconfiguration option to state that it should not be set for the\nnova-compute service.\n\nChange-Id: I8528eeb8a7dd9a2fd61a52e7a5cfb8f732f5b4e6\nRelated-Bug: #1904179\n'}]",2,762647,d08229a98a9f734ab18dee828d1da07c88ccc1c0,24,11,2,9708,,,0,"Doc that [database]connection is not for nova-compute

This patch extends the documentation of the [database]connection
configuration option to state that it should not be set for the
nova-compute service.

Change-Id: I8528eeb8a7dd9a2fd61a52e7a5cfb8f732f5b4e6
Related-Bug: #1904179
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/762647/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/nova.conf.sample.old', 'nova/conf/database.py']",2,14f46c348dc64575b3ca604338ba9dcc85a74b0c,, # NOTE(gibi): we inject nova specific information to the help text # of the oslo_db config options if db_opt.name == 'connection': db_opt.help += ( ' Do not set this for the ``nova-compute`` service.') ,,5588,0
openstack%2Fkolla~stable%2Fstein~Ieb406271eea9e09d6e63820afc77369c932d7626,openstack/kolla,stable/stein,Ieb406271eea9e09d6e63820afc77369c932d7626,Bump (final) versions for Stein,MERGED,2020-11-20 08:33:13.000000000,2020-11-20 12:44:44.000000000,2020-11-20 12:42:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-20 08:33:13.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7bd72afbb4ad269f78a04279d8f59b5701c6f871', 'message': 'Bump (final) versions for Stein\n\nChange-Id: Ieb406271eea9e09d6e63820afc77369c932d7626\n'}]",0,763520,7bd72afbb4ad269f78a04279d8f59b5701c6f871,9,3,1,14826,,,0,"Bump (final) versions for Stein

Change-Id: Ieb406271eea9e09d6e63820afc77369c932d7626
",git fetch https://review.opendev.org/openstack/kolla refs/changes/20/763520/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,7bd72afbb4ad269f78a04279d8f59b5701c6f871,," 'cinder-14.3.1.tar.gz')}, 'horizon-15.3.2.tar.gz')}, 'ironic-12.1.6.tar.gz')}, 'manila-8.1.4.tar.gz')}, 'neutron-14.4.1.tar.gz')}, 'nova-19.3.2.tar.gz')}, 'octavia-4.1.4.tar.gz')},"," 'cinder-14.3.0.tar.gz')}, 'horizon-15.3.1.tar.gz')}, 'ironic-12.1.5.tar.gz')}, 'manila-8.1.3.tar.gz')}, 'neutron-14.4.0.tar.gz')}, 'nova-19.3.1.tar.gz')}, 'octavia-4.1.3.tar.gz')},",7,7
openstack%2Fkolla-ansible~stable%2Fvictoria~I2fe6eb13ce7be68d346b1b3b7036859f34c896c4,openstack/kolla-ansible,stable/victoria,I2fe6eb13ce7be68d346b1b3b7036859f34c896c4,Fix kolla-ansible to work with pyenv-virtualenv,MERGED,2020-11-19 13:34:04.000000000,2020-11-20 12:44:38.000000000,2020-11-20 12:42:51.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32662}]","[{'number': 1, 'created': '2020-11-19 13:34:04.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7df4f403f25e21756ec7c19ac5b8df0bae36300a', 'message': 'Fix kolla-ansible to work with pyenv-virtualenv\n\nOne of the pyenv-virtualenv-set-up aliases depends on a symlink.\nIt seems pyenv runs the bash script from such a path and it fails\nbecause of a failing comparison (VIRTUAL_ENV not detected).\n\nThe VIRTUAL_ENV is ensured to be fully resolved as well for safety.\n\nThis requires readlink from GNU coreutils but all supported platforms\nhave it by default.\n\nExtra comments included, as well as simplification of directory\ndetection - readlink handles this (not that `bin` itself was\never a symlink...).\n\nCloses-Bug: #1903887\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n(cherry picked from commit aaab1d1b68db0c737b63ae6bce3179df0487f23f)\n'}]",0,763366,7df4f403f25e21756ec7c19ac5b8df0bae36300a,11,4,1,30491,,,0,"Fix kolla-ansible to work with pyenv-virtualenv

One of the pyenv-virtualenv-set-up aliases depends on a symlink.
It seems pyenv runs the bash script from such a path and it fails
because of a failing comparison (VIRTUAL_ENV not detected).

The VIRTUAL_ENV is ensured to be fully resolved as well for safety.

This requires readlink from GNU coreutils but all supported platforms
have it by default.

Extra comments included, as well as simplification of directory
detection - readlink handles this (not that `bin` itself was
ever a symlink...).

Closes-Bug: #1903887
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4
(cherry picked from commit aaab1d1b68db0c737b63ae6bce3179df0487f23f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/763366/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,7df4f403f25e21756ec7c19ac5b8df0bae36300a,BUG-1903887-stable/victoria," dir_name=$(dirname ""$0"") # NOTE(yoctozepto): Fix the case where dir_name is a symlink and VIRTUAL_ENV might not be. This # happens with pyenv-virtualenv, see https://bugs.launchpad.net/kolla-ansible/+bug/1903887 dir_name=$(readlink -e ""$dir_name"") elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then # Running from sources (repo)."," dir_name=$(cd ""$(dirname ""$0"")"" &>/dev/null && pwd) elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""${VIRTUAL_ENV}/bin"" ]]; then",6,2
openstack%2Fopenstack-ansible-os_neutron~master~I12f442399ab874206a9930877ffbe325ceb902b9,openstack/openstack-ansible-os_neutron,master,I12f442399ab874206a9930877ffbe325ceb902b9,Test OVS/OVN deployments on CentOS 8,MERGED,2020-11-13 14:12:13.000000000,2020-11-20 12:40:27.000000000,2020-11-20 12:35:45.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-11-13 14:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/bb4c654b99311337e5eba1978943fae2b2c873d1', 'message': 'Test OVS deployments on CentOS 8\n\nAs OVS overtakes LXB as the preferred network driver, we must\nensure it is deployed properly across supported operating\nsystems. This test should ensure an OVS-based deployment is\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 2, 'created': '2020-11-13 21:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d6bfd01e955c69ccb850206be224889b40b59dfe', 'message': 'Test OVS deployments on CentOS 8\n\nAs OVS overtakes LXB as the preferred network driver, we must\nensure it is deployed properly across supported operating\nsystems. This test should ensure an OVS-based deployment is\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 3, 'created': '2020-11-14 14:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9d57be04fd6f9468cc2f52c989e0db0b7c3db1fa', 'message': 'Test OVS deployments on CentOS 8\n\nAs OVS overtakes LXB as the preferred network driver, we must\nensure it is deployed properly across supported operating\nsystems. This test should ensure an OVS-based deployment is\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 4, 'created': '2020-11-16 15:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/feec957693085032a04445ea330dd8fdf5d03634', 'message': 'Test OVS deployments on CentOS 8\n\nAs OVS overtakes LXB as the preferred network driver, we must\nensure it is deployed properly across supported operating\nsystems. This test should ensure an OVS-based deployment is\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 5, 'created': '2020-11-16 15:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ae776e53fcae7f22cce9eec452e133ab2dcf8339', 'message': 'Test OVS deployments on CentOS 8\n\nAs OVS overtakes LXB as the preferred network driver, we must\nensure it is deployed properly across supported operating\nsystems. This test should ensure an OVS-based deployment is\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 6, 'created': '2020-11-17 16:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/db1277821d384cafd89362ab0c53682e015ad38c', 'message': 'Test OVS/OVN deployments on CentOS 8\n\nAs OVS/OVN overtakes LXB as the preferred network driver, we must\nensure they are deployed properly across supported operating\nsystems. These tests should ensure OVS-based deployment(s) are\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 7, 'created': '2020-11-17 16:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9832af9a28231ef701503fd5fbff05b6fbf04702', 'message': 'Test OVS/OVN deployments on CentOS 8\n\nAs OVS/OVN overtakes LXB as the preferred network driver, we must\nensure they are deployed properly across supported operating\nsystems. These tests should ensure OVS-based deployment(s) are\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 8, 'created': '2020-11-18 14:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6394b74e65b9ee97e35e7952ab745b087b4a7d0b', 'message': 'Test OVS/OVN deployments on CentOS 8\n\nAs OVS/OVN overtakes LXB as the preferred network driver, we must\nensure they are deployed properly across supported operating\nsystems. These tests should ensure OVS-based deployment(s) are\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 9, 'created': '2020-11-18 14:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/615bee8af7133b7dbcafdd6477000da94b584934', 'message': 'Test OVS/OVN deployments on CentOS 8\n\nAs OVS/OVN overtakes LXB as the preferred network driver, we must\nensure they are deployed properly across supported operating\nsystems. These tests should ensure OVS-based deployment(s) are\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 10, 'created': '2020-11-18 17:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7679111adcdb1a9ecb2a7e9ba62e8e5fab289853', 'message': 'Test OVS/OVN deployments on CentOS 8\n\nAs OVS/OVN overtakes LXB as the preferred network driver, we must\nensure they are deployed properly across supported operating\nsystems. These tests should ensure OVS-based deployment(s) are\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}, {'number': 11, 'created': '2020-11-18 17:53:58.000000000', 'files': ['tasks/neutron_pre_install.yml', 'vars/redhat.yml', 'tests/ovs_inventory', 'zuul.d/project.yaml', 'tests/neutron-overrides-ovn.yml', 'tests/ovn_inventory', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c3cb8525f43e7b43f428a36fc8be11d6ac21ad4f', 'message': 'Test OVS/OVN deployments on CentOS 8\n\nAs OVS/OVN overtakes LXB as the preferred network driver, we must\nensure they are deployed properly across supported operating\nsystems. These tests should ensure OVS-based deployment(s) are\n(at least) functional.\n\nChange-Id: I12f442399ab874206a9930877ffbe325ceb902b9\n'}]",4,762661,c3cb8525f43e7b43f428a36fc8be11d6ac21ad4f,38,5,11,16011,,,0,"Test OVS/OVN deployments on CentOS 8

As OVS/OVN overtakes LXB as the preferred network driver, we must
ensure they are deployed properly across supported operating
systems. These tests should ensure OVS-based deployment(s) are
(at least) functional.

Change-Id: I12f442399ab874206a9930877ffbe325ceb902b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/61/762661/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,bb4c654b99311337e5eba1978943fae2b2c873d1,add-ovs-test-centos8, name: openstack-ansible-ovs-centos-8 parent: openstack-ansible-functional-centos-8 vars: tox_env: ovs - job:,,8,0
openstack%2Fkolla-ansible~master~I2c1a21790b65cf6537380d576c0abb4d16bd369b,openstack/kolla-ansible,master,I2c1a21790b65cf6537380d576c0abb4d16bd369b,Remove validate-install-command.sh,MERGED,2020-11-20 08:43:05.000000000,2020-11-20 12:20:55.000000000,2020-11-20 12:19:37.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-20 08:43:05.000000000', 'files': ['tools/validate-install-command.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/202b4af1e9f5b9c053ba4ac3ff051e275a86a5e0', 'message': 'Remove validate-install-command.sh\n\nThis file is for kolla images.\n\nChange-Id: I2c1a21790b65cf6537380d576c0abb4d16bd369b\n'}]",0,763526,202b4af1e9f5b9c053ba4ac3ff051e275a86a5e0,9,3,1,14826,,,0,"Remove validate-install-command.sh

This file is for kolla images.

Change-Id: I2c1a21790b65cf6537380d576c0abb4d16bd369b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/763526/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate-install-command.sh'],1,202b4af1e9f5b9c053ba4ac3ff051e275a86a5e0,,,"#!/bin/bash RES=0 for dockerfile in ""$@""; do if grep ""apt-get install\|yum install"" ""$dockerfile""; then echo ""ERROR: $dockerfile has incorrectly formatted install command Should be in the form 'apt-get|yum -y install ...'"" >&2 RES=1 fi done exit $RES ",0,12
openstack%2Fkolla-ansible~master~If6c50606fa3da353728ae4d916df20fcc95b8927,openstack/kolla-ansible,master,If6c50606fa3da353728ae4d916df20fcc95b8927,Add service specific custom haproxy config override,MERGED,2020-11-09 15:30:49.000000000,2020-11-20 12:11:04.000000000,2020-11-20 12:09:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 28048}, {'_account_id': 30438}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-11-09 15:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2caf06bf901885fc501328d359e5a217cbb34d87', 'message': 'Add service specific custom haproxy config override\n\nChange-Id: If6c50606fa3da353728ae4d916df20fcc95b8927\n'}, {'number': 2, 'created': '2020-11-10 11:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/461a961e49a7dc5189193087d6a148dbf4d77bb7', 'message': 'Add service specific custom haproxy config override\n\nChange-Id: If6c50606fa3da353728ae4d916df20fcc95b8927\n'}, {'number': 3, 'created': '2020-11-10 12:02:06.000000000', 'files': ['ansible/roles/haproxy-config/tasks/main.yml', 'releasenotes/notes/support-haproxy-service-override-85bcc4d3c0af6cf2.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e66186f89a78eeec311eba07aa0cc8165ba533ad', 'message': 'Add service specific custom haproxy config override\n\nChange-Id: If6c50606fa3da353728ae4d916df20fcc95b8927\n'}]",4,761948,e66186f89a78eeec311eba07aa0cc8165ba533ad,21,7,3,30438,,,0,"Add service specific custom haproxy config override

Change-Id: If6c50606fa3da353728ae4d916df20fcc95b8927
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/761948/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy-config/tasks/main.yml', 'releasenotes/notes/support-haproxy-service-override-85bcc4d3c0af6cf2.yaml']",2,2caf06bf901885fc501328d359e5a217cbb34d87,haproxy_custom_config,"--- features: - | Adds a means of overriding the haproxy config of individual services. Custom template files can be placed under ``{{ node_custom_config }}/haproxy-config/`` to be rendered with the same variables as the generic template. Template file names must match the service to override with a ``.j2`` extension added, eg. ``nova-novncproxy.cfg.j2``. ",,11,0
openstack%2Fmanila~stable%2Fvictoria~I86c3de32d36940e85545fcb337723e4b3edce216,openstack/manila,stable/victoria,I86c3de32d36940e85545fcb337723e4b3edce216,[NetApp] Support NFS shares on windows,MERGED,2020-11-17 19:28:05.000000000,2020-11-20 12:02:39.000000000,2020-11-19 16:10:48.000000000,"[{'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-17 19:28:05.000000000', 'files': ['releasenotes/notes/bug-1901937-netapp-nfs-for-windows-465e704524277ea2.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1af6f4925111a58c15f8ce2789933243f31ffc9f', 'message': '[NetApp] Support NFS shares on windows\n\nSet following 4 attributes when creating nfs shares:\n    showmount:          enabled\n    v3-ms-dos-client:   support\n    v3-connection-drop: disable\n    ejukebox-errors:    disable\n\nChange-Id: I86c3de32d36940e85545fcb337723e4b3edce216\nCloses-bug: 1901937\nCo-authored-by: Maurice Escher <maurice.escher@sap.com>\n(cherry picked from commit 5e01d9e292582bbd1e6a87cec8b92874996585f7)\n'}]",0,763076,1af6f4925111a58c15f8ce2789933243f31ffc9f,17,6,1,18816,,,0,"[NetApp] Support NFS shares on windows

Set following 4 attributes when creating nfs shares:
    showmount:          enabled
    v3-ms-dos-client:   support
    v3-connection-drop: disable
    ejukebox-errors:    disable

Change-Id: I86c3de32d36940e85545fcb337723e4b3edce216
Closes-bug: 1901937
Co-authored-by: Maurice Escher <maurice.escher@sap.com>
(cherry picked from commit 5e01d9e292582bbd1e6a87cec8b92874996585f7)
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/763076/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1901937-netapp-nfs-for-windows-465e704524277ea2.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",3,1af6f4925111a58c15f8ce2789933243f31ffc9f,bug/1901937," 'showmount': 'true', 'is-v3-ms-dos-client-enabled': 'true', 'is-nfsv3-connection-drop-enabled': 'false', 'enable-ejukebox': 'false',",,13,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I11767c9c0c398f479ded14db1163693c6e87f621,openstack/tripleo-upgrade,stable/train,I11767c9c0c398f479ded14db1163693c6e87f621,Get rid of the old container images environment file.,MERGED,2020-04-06 09:41:32.000000000,2020-11-20 12:01:06.000000000,2020-04-08 20:14:36.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-04-06 09:41:32.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fa27e49f366f5b33c693fba0fb85bde0dbd15e1c', 'message': ""Get rid of the old container images environment file.\n\nFor more than three releases, the way to configure the container\nimages is by using the ContainerImagePrepare service (via the\ncontainer-prepare-parameters.yaml file). However, the update\nimplementation still kept a reference to the old environment\nfile which contained all the references to the container images.\nThis file needs to be removed completely from the update prepare\nand converge templates, as if the content isn't updated then\nthe update will point to the old images. This way we rely only\non the container-prepare-parameter.yaml content.\n\nChange-Id: I11767c9c0c398f479ded14db1163693c6e87f621\n(cherry picked from commit fdcc42aa2a021ee3413c620e84fb896010400296)\n""}]",0,717698,fa27e49f366f5b33c693fba0fb85bde0dbd15e1c,8,6,1,26343,,,0,"Get rid of the old container images environment file.

For more than three releases, the way to configure the container
images is by using the ContainerImagePrepare service (via the
container-prepare-parameters.yaml file). However, the update
implementation still kept a reference to the old environment
file which contained all the references to the container images.
This file needs to be removed completely from the update prepare
and converge templates, as if the content isn't updated then
the update will point to the old images. This way we rely only
on the container-prepare-parameter.yaml content.

Change-Id: I11767c9c0c398f479ded14db1163693c6e87f621
(cherry picked from commit fdcc42aa2a021ee3413c620e84fb896010400296)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/98/717698/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2']",3,fa27e49f366f5b33c693fba0fb85bde0dbd15e1c,updates_subscribed-stable/train, {% for _env in initial_env_file.stdout_lines|difference(old_img|default([])) -%} 2>&1, {% for _env in initial_env_file.stdout_lines -%} -e {{ working_dir }}/{{ container_registry_file }} 2>&1,8,4
openstack%2Fneutron~master~I1805a07cef7fc7d7b041e582a4d79fb1a805df71,openstack/neutron,master,I1805a07cef7fc7d7b041e582a4d79fb1a805df71,Set metering iptables chain not found LOG level to WARNING,MERGED,2020-09-14 12:24:36.000000000,2020-11-20 11:48:57.000000000,2020-11-20 11:46:59.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28356}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-14 12:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb16ee2d946491b4d4811bee7f94c979863656e4', 'message': 'Convert LOG message when iptables metering chain is not found from ERROR to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}, {'number': 2, 'created': '2020-09-14 13:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ec9c8346f10935592981e3bc97982590ae1eb92', 'message': 'Convert LOG message when iptables metering chain is not found from ERROR to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}, {'number': 3, 'created': '2020-09-14 18:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fecfab3d56155ecc2d4578f8c432b51508aa7a4d', 'message': 'Convert LOG message when iptables metering chain is not found from ERROR to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}, {'number': 4, 'created': '2020-09-15 10:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/055be34a73fe4b23ecaaa0ac137f086870f87954', 'message': 'Set metering iptables chain not found LOG level to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}, {'number': 5, 'created': '2020-09-16 11:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e206baa5e28d19377760c6d0c43ffefa938152d', 'message': 'Set metering iptables chain not found LOG level to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}, {'number': 6, 'created': '2020-11-19 11:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62d28aca954bb5de19a367fe65397e359e15f646', 'message': 'Set metering iptables chain not found LOG level to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nBUG: https://bugs.launchpad.net/neutron/+bug/1904874\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}, {'number': 7, 'created': '2020-11-19 12:15:02.000000000', 'files': ['neutron/agent/linux/iptables_manager.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c0d57c884d574485ac6fb4cad52caec5f220df4', 'message': 'Set metering iptables chain not found LOG level to WARNING\n\nWhen routers are migrated from one Neutron agent to the other, the metering IPtables\nrules are removed, which can cause some exceptions that can be ignored. The metering\nagent already handled this situation. However, it logs the message as an ERROR, which\ncan triggers alarms. Therefore, we propose here to change the LOG message from error\nto warning.\n\nCloses-Bug: #1904874\nChange-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71\n'}]",12,751775,3c0d57c884d574485ac6fb4cad52caec5f220df4,72,11,7,28356,,,0,"Set metering iptables chain not found LOG level to WARNING

When routers are migrated from one Neutron agent to the other, the metering IPtables
rules are removed, which can cause some exceptions that can be ignored. The metering
agent already handled this situation. However, it logs the message as an ERROR, which
can triggers alarms. Therefore, we propose here to change the LOG message from error
to warning.

Closes-Bug: #1904874
Change-Id: I1805a07cef7fc7d7b041e582a4d79fb1a805df71
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/751775/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/metering/drivers/iptables/iptables_driver.py'],1,fb16ee2d946491b4d4811bee7f94c979863656e4,bug/1904874," except RuntimeError as e: LOG.warning('Failed to get traffic counters for router [%s] due ' 'to [%s]. This error message can happen when routers ' 'are migrated; therefore, most of the times they can ' 'be ignored.', router, e) "," except RuntimeError: LOG.exception('Failed to get traffic counters, ' 'router: %s', router)",6,3
openstack%2Fcookbook-openstack-common~stable%2Fstein~I4e67ec649124a16470c72bc831bd2825b3741449,openstack/cookbook-openstack-common,stable/stein,I4e67ec649124a16470c72bc831bd2825b3741449,Add load-balancer service,MERGED,2020-11-20 09:53:05.000000000,2020-11-20 11:39:55.000000000,2020-11-20 11:39:55.000000000,"[{'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 09:53:05.000000000', 'files': ['attributes/messaging.rb', 'attributes/default.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/0416d9e5659ff01963738e69a02a4b312ebbccba', 'message': 'Add load-balancer service\n\nIn preparation for an openstack-load-balancer cookbook add the service\nso that we can create a database, message queues and endpoints.\n\nConflicts:\n  attributes/messaging.rb\n\nAdded minor version bump for stable branch.\n\nChange-Id: I4e67ec649124a16470c72bc831bd2825b3741449\n(cherry picked from commit e009657be1b1eb149979b398f3bee1d54223acb3)\n'}]",0,763538,0416d9e5659ff01963738e69a02a4b312ebbccba,6,2,1,13252,,,0,"Add load-balancer service

In preparation for an openstack-load-balancer cookbook add the service
so that we can create a database, message queues and endpoints.

Conflicts:
  attributes/messaging.rb

Added minor version bump for stable branch.

Change-Id: I4e67ec649124a16470c72bc831bd2825b3741449
(cherry picked from commit e009657be1b1eb149979b398f3bee1d54223acb3)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/38/763538/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/messaging.rb', 'attributes/default.rb', 'metadata.rb']",3,0416d9e5659ff01963738e69a02a4b312ebbccba,octavia-stable/stein,version '19.3.0',version '19.2.1',3,2
openstack%2Fironic~master~Ib04c759f86d9758b67a75648b5971f5a80c77ecb,openstack/ironic,master,Ib04c759f86d9758b67a75648b5971f5a80c77ecb,Expunge the internal version of WSME,MERGED,2020-09-10 02:13:12.000000000,2020-11-20 11:28:40.000000000,2020-11-20 11:26:54.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bb2da6b0b74c28e71bb1451030643d0c6b077cb', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 2, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be6f7dbc58c9429595758cdba842b5c4756488f8', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 3, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/217930c321b6321e80f24d5325ef92ab991d8ec4', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 4, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a31bea4ad2179b27169ede136aea3247303b6dfe', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 5, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93c71cfa8a43b2c930ccf951c168af35b328fff0', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 6, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1f906e196be910ae81af4547e75dab425958123', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 7, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b98d9288d1ca160206c8188cd2edbfd8af22bd6', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 8, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab8928b9c55cdf276177e0012a42d4fa7d6b4f33', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 9, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a309c687e366fa69863e0c79ed8f7a9db3682ae9', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 10, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14f393ff95251bb0b49d11fa25aeb589ef6fe043', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 11, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c8040303d60492836c2c3291821ce2329f6a13d', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 12, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3a75aa167a0e899824e1f5707b258f42c03b7ff', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 13, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2ed1225d8e3597455eedd00116d5ae294f9c0f5', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 14, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7be88084f0eed50538a524a88a87cb1f970b0731', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 15, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2732af996511890fd62e1bf5b325b078a363559', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 16, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0422e8eaa2317febaeb8db194c856a0e6ed3879d', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\n'}, {'number': 17, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ab904db0b29f11b250d58149f36f1e8ff13756f', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5445645ab6d2b330e816cd7ed6e8bc8a92d18d1d', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-11-15 21:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a486e6139c08b3df308228c308e670d5f9811db', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-11-18 22:06:55.000000000', 'files': ['ironic/api/args.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/api/types.py', 'ironic/api/expose.py', 'ironic/tests/unit/api/controllers/v1/test_notification_utils.py', 'ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/test_types.py', 'ironic/api/controllers/base.py', 'ironic/tests/unit/api/test_method.py', 'ironic/api/controllers/v1/notification_utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/api/controllers/v1/state.py', 'ironic/tests/unit/api/test_args.py', 'ironic/tests/unit/api/controllers/v1/test_types.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f408d63adceb6809d9bb62321493cbc0f18d1a20', 'message': 'Expunge the internal version of WSME\n\nThis change removes unused code and concludes the conversion of the\nREST API from WSME based to plain JSON.\n\nChange-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb\nStory: 1651346\nTask: 10551\n'}]",0,750861,f408d63adceb6809d9bb62321493cbc0f18d1a20,68,6,20,4571,,,0,"Expunge the internal version of WSME

This change removes unused code and concludes the conversion of the
REST API from WSME based to plain JSON.

Change-Id: Ib04c759f86d9758b67a75648b5971f5a80c77ecb
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/750861/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/api/args.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/api/types.py', 'ironic/api/expose.py', 'ironic/tests/unit/api/controllers/v1/test_notification_utils.py', 'ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/test_types.py', 'ironic/api/controllers/base.py', 'ironic/tests/unit/api/test_method.py', 'ironic/api/controllers/v1/notification_utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/api/controllers/v1/state.py', 'ironic/tests/unit/api/test_args.py', 'ironic/tests/unit/api/controllers/v1/test_types.py']",17,1bb2da6b0b74c28e71bb1451030643d0c6b077cb,story/1651346,,"# coding: utf-8 # # Copyright 2013 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from http import client as http_client import platform from unittest import mock from pecan import rest from ironic.api.controllers.v1 import types from ironic.api import expose from ironic.api import types as atypes from ironic.common import exception from ironic.common import utils from ironic.tests import base from ironic.tests.unit.api import base as api_base class TestMacAddressType(base.TestCase): def test_valid_mac_addr(self): test_mac = 'aa:bb:cc:11:22:33' with mock.patch.object(utils, 'validate_and_normalize_mac') as m_mock: types.MacAddressType.validate(test_mac) m_mock.assert_called_once_with(test_mac) def test_invalid_mac_addr(self): self.assertRaises(exception.InvalidMAC, types.MacAddressType.validate, 'invalid-mac') class TestUuidType(base.TestCase): def test_valid_uuid(self): test_uuid = '1a1a1a1a-2b2b-3c3c-4d4d-5e5e5e5e5e5e' self.assertEqual(test_uuid, types.UuidType.validate(test_uuid)) def test_invalid_uuid(self): self.assertRaises(exception.InvalidUUID, types.UuidType.validate, 'invalid-uuid') @mock.patch(""ironic.api.request"") class TestNameType(base.TestCase): def test_valid_name(self, mock_pecan_req): mock_pecan_req.version.minor = 10 test_name = 'hal-9000' self.assertEqual(test_name, types.NameType.validate(test_name)) def test_invalid_name(self, mock_pecan_req): mock_pecan_req.version.minor = 10 self.assertRaises(exception.InvalidName, types.NameType.validate, '-this is not valid-') @mock.patch(""ironic.api.request"") class TestUuidOrNameType(base.TestCase): def test_valid_uuid(self, mock_pecan_req): mock_pecan_req.version.minor = 10 test_uuid = '1a1a1a1a-2b2b-3c3c-4d4d-5e5e5e5e5e5e' self.assertTrue(types.UuidOrNameType.validate(test_uuid)) def test_valid_name(self, mock_pecan_req): mock_pecan_req.version.minor = 10 test_name = 'dc16-database5' self.assertTrue(types.UuidOrNameType.validate(test_name)) def test_invalid_uuid_or_name(self, mock_pecan_req): mock_pecan_req.version.minor = 10 self.assertRaises(exception.InvalidUuidOrName, types.UuidOrNameType.validate, 'inval#uuid%or*name') class MyBaseType(object): """"""Helper class, patched by objects of type MyPatchType"""""" mandatory = atypes.wsattr(str, mandatory=True) class MyPatchType(types.JsonPatchType): """"""Helper class for TestJsonPatchType tests."""""" _api_base = MyBaseType _extra_non_removable_attrs = {'/non_removable'} @staticmethod def internal_attrs(): return ['/internal'] class MyTest(rest.RestController): """"""Helper class for TestJsonPatchType tests."""""" @expose.validate([MyPatchType]) @expose.expose([str], body=[MyPatchType]) def patch(self, patch): return patch class MyRoot(rest.RestController): test = MyTest() class TestJsonPatchType(api_base.BaseApiTest): root_controller = ('ironic.tests.unit.api.controllers.v1.' 'test_types.MyRoot') @mock.patch.object(platform, '_syscmd_uname', lambda *x: '') def setUp(self): super(TestJsonPatchType, self).setUp() def _patch_json(self, params, expect_errors=False): return self.app.patch_json('/test', params=params, headers={'Accept': 'application/json'}, expect_errors=expect_errors) def test_valid_patches(self): valid_patches = [{'path': '/extra/foo', 'op': 'remove'}, {'path': '/extra/foo', 'op': 'add', 'value': 'bar'}, {'path': '/str', 'op': 'replace', 'value': 'bar'}, {'path': '/bool', 'op': 'add', 'value': True}, {'path': '/int', 'op': 'add', 'value': 1}, {'path': '/float', 'op': 'add', 'value': 0.123}, {'path': '/list', 'op': 'add', 'value': [1, 2]}, {'path': '/none', 'op': 'add', 'value': None}, {'path': '/empty_dict', 'op': 'add', 'value': {}}, {'path': '/empty_list', 'op': 'add', 'value': []}, {'path': '/dict', 'op': 'add', 'value': {'cat': 'meow'}}] ret = self._patch_json(valid_patches, False) self.assertEqual(http_client.OK, ret.status_int) self.assertCountEqual(valid_patches, ret.json) def test_cannot_update_internal_attr(self): patch = [{'path': '/internal', 'op': 'replace', 'value': 'foo'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_cannot_update_internal_dict_attr(self): patch = [{'path': '/internal/test', 'op': 'replace', 'value': 'foo'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_mandatory_attr(self): patch = [{'op': 'replace', 'path': '/mandatory', 'value': 'foo'}] ret = self._patch_json(patch, False) self.assertEqual(http_client.OK, ret.status_int) self.assertEqual(patch, ret.json) def test_cannot_remove_mandatory_attr(self): patch = [{'op': 'remove', 'path': '/mandatory'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_cannot_remove_extra_non_removable_attr(self): patch = [{'op': 'remove', 'path': '/non_removable'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_missing_required_fields_path(self): missing_path = [{'op': 'remove'}] ret = self._patch_json(missing_path, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_missing_required_fields_op(self): missing_op = [{'path': '/foo'}] ret = self._patch_json(missing_op, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_invalid_op(self): patch = [{'path': '/foo', 'op': 'invalid'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_invalid_path(self): patch = [{'path': 'invalid-path', 'op': 'remove'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_cannot_add_with_no_value(self): patch = [{'path': '/extra/foo', 'op': 'add'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) def test_cannot_replace_with_no_value(self): patch = [{'path': '/foo', 'op': 'replace'}] ret = self._patch_json(patch, True) self.assertEqual(http_client.BAD_REQUEST, ret.status_int) self.assertTrue(ret.json['error_message']) class TestBooleanType(base.TestCase): def test_valid_true_values(self): v = types.BooleanType() self.assertTrue(v.validate(""true"")) self.assertTrue(v.validate(""TRUE"")) self.assertTrue(v.validate(""True"")) self.assertTrue(v.validate(""t"")) self.assertTrue(v.validate(""1"")) self.assertTrue(v.validate(""y"")) self.assertTrue(v.validate(""yes"")) self.assertTrue(v.validate(""on"")) def test_valid_false_values(self): v = types.BooleanType() self.assertFalse(v.validate(""false"")) self.assertFalse(v.validate(""FALSE"")) self.assertFalse(v.validate(""False"")) self.assertFalse(v.validate(""f"")) self.assertFalse(v.validate(""0"")) self.assertFalse(v.validate(""n"")) self.assertFalse(v.validate(""no"")) self.assertFalse(v.validate(""off"")) def test_invalid_value(self): v = types.BooleanType() self.assertRaises(exception.Invalid, v.validate, ""invalid-value"") self.assertRaises(exception.Invalid, v.validate, ""01"") class TestJsonType(base.TestCase): def test_valid_values(self): vt = types.jsontype value = vt.validate(""hello"") self.assertEqual(""hello"", value) value = vt.validate(10) self.assertEqual(10, value) value = vt.validate(0.123) self.assertEqual(0.123, value) value = vt.validate(True) self.assertTrue(value) value = vt.validate([1, 2, 3]) self.assertEqual([1, 2, 3], value) value = vt.validate({'foo': 'bar'}) self.assertEqual({'foo': 'bar'}, value) value = vt.validate(None) self.assertIsNone(value) def test_invalid_values(self): vt = types.jsontype self.assertRaises(exception.Invalid, vt.validate, object()) def test_apimultitype_tostring(self): vts = str(types.jsontype) self.assertIn(str(str), vts) self.assertIn(str(int), vts) self.assertIn(str(float), vts) self.assertIn(str(types.BooleanType), vts) self.assertIn(str(list), vts) self.assertIn(str(dict), vts) self.assertIn(str(None), vts) class TestListType(base.TestCase): def test_list_type(self): v = types.ListType() self.assertEqual(['foo', 'bar'], v.validate('foo,bar')) self.assertNotEqual(['bar', 'foo'], v.validate('foo,bar')) self.assertEqual(['cat', 'meow'], v.validate(""cat , meow"")) self.assertEqual(['spongebob', 'squarepants'], v.validate(""SpongeBob,SquarePants"")) self.assertEqual(['foo', 'bar'], v.validate(""foo, ,,bar"")) self.assertEqual(['foo', 'bar'], v.validate(""foo,foo,foo,bar"")) self.assertIsInstance(v.validate('foo,bar'), list) ",15,3392
openstack%2Fnova~master~I6d5d61562d694919695483d11e2a634964c1adf8,openstack/nova,master,I6d5d61562d694919695483d11e2a634964c1adf8,DNM: replace sleep with flags,ABANDONED,2020-11-16 16:37:52.000000000,2020-11-20 11:11:13.000000000,,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-16 16:37:52.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1896463.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/209fae279c58bd3e114c2c962e9353ab1464d717', 'message': 'DNM: replace sleep with flags\n\nThis is an attempt to replace sleeps with flags in the reproduction\nof 1896463. While this works now, this solution cannot be transferred\nto after the fix is applied. The reason if it is that it is too strictly\nenforces an execution order between parallel threads to reproduce the\nbug. However such execution order is not valid any more after the fix\n(the extra locking) is applied.\n\nChange-Id: I6d5d61562d694919695483d11e2a634964c1adf8\n'}]",0,762872,209fae279c58bd3e114c2c962e9353ab1464d717,8,7,1,9708,,,0,"DNM: replace sleep with flags

This is an attempt to replace sleeps with flags in the reproduction
of 1896463. While this works now, this solution cannot be transferred
to after the fix is applied. The reason if it is that it is too strictly
enforces an execution order between parallel threads to reproduce the
bug. However such execution order is not valid any more after the fix
(the extra locking) is applied.

Change-Id: I6d5d61562d694919695483d11e2a634964c1adf8
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/762872/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1896463.py'],1,209fae279c58bd3e114c2c962e9353ab1464d717,," # These flags are used to synchronize the two threads self.flags = {} self.flags['migration_context_exits_but_host_not_yet_changed'] = False self.flags['periodic_read_instance_list_but_not_migrations'] = False self.flags['migration_context_is_dropped'] = False from nova.compute import resource_tracker orig_rebuild_claim = resource_tracker.ResourceTracker.rebuild_claim def slow_rebuild_claim(*args, **kwargs): res = orig_rebuild_claim(*args, **kwargs) self.flags[ 'migration_context_exits_but_host_not_yet_changed'] = True while not self.flags[ 'periodic_read_instance_list_but_not_migrations']: time.sleep(1) return res self.useFixture( fixtures.MockPatch( 'nova.compute.resource_tracker.ResourceTracker.rebuild_claim', new=slow_rebuild_claim)) res = orig_drop(*args, **kwargs) self.flags['migration_context_is_dropped'] = True return res self.flags['periodic_read_instance_list_but_not_migrations'] = True while not self.flags['migration_context_is_dropped']: time.sleep(1) res = orig_get_mig(*args, **kwargs) return res while not self.flags[ 'migration_context_exits_but_host_not_yet_changed']: time.sleep(1) ctx = context.get_admin_context() with context.target_cell( ctx, self.host_mappings[self.compute2.manager.host].cell_mapping ) as cctxt: self.compute2.manager.update_available_resource(cctxt)"," time.sleep(1) return orig_drop(*args, **kwargs) time.sleep(2) return orig_get_mig(*args, **kwargs) self._run_periodics()",43,5
openstack%2Fkolla-ansible~master~Idae8d325bce354fa3b4c5be412965122af8f1413,openstack/kolla-ansible,master,Idae8d325bce354fa3b4c5be412965122af8f1413,Update docs for Ubuntu 20.04,MERGED,2020-11-18 11:44:46.000000000,2020-11-20 11:08:44.000000000,2020-11-20 11:07:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-11-18 11:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24e3c988362b808e3860ac4966f07e61068c7226', 'message': ""Update docs for Ubuntu 20.04\n\n* Use 'apt install' command instead of legacy 'apt-get'\n\nChange-Id: Idae8d325bce354fa3b4c5be412965122af8f1413\n""}, {'number': 2, 'created': '2020-11-19 05:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5772149401579235ece37b9e4f733edda114c3c0', 'message': ""Update docs for Ubuntu 20.04\n\n* Use 'apt install' command instead of legacy 'apt-get'\n\nChange-Id: Idae8d325bce354fa3b4c5be412965122af8f1413\n""}, {'number': 3, 'created': '2020-11-20 08:40:39.000000000', 'files': ['contrib/dev/vagrant/bootstrap.sh', 'doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a62cce67e65315c0501c60528c0a0e0c63a88059', 'message': ""Update docs for Ubuntu 20.04\n\n* Use 'apt install' command instead of legacy 'apt-get'\n\nChange-Id: Idae8d325bce354fa3b4c5be412965122af8f1413\n""}]",1,763167,a62cce67e65315c0501c60528c0a0e0c63a88059,17,5,3,32029,,,0,"Update docs for Ubuntu 20.04

* Use 'apt install' command instead of legacy 'apt-get'

Change-Id: Idae8d325bce354fa3b4c5be412965122af8f1413
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/763167/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,24e3c988362b808e3860ac4966f07e61068c7226,docs," sudo apt update sudo apt install python3-dev libffi-dev gcc libssl-dev sudo apt install python3-pip sudo apt install ansible ``ansible -i multinode all -m raw -a ""apt -y install python3""``,"," sudo apt-get update sudo apt-get install python3-dev libffi-dev gcc libssl-dev sudo apt-get install python3-pip sudo apt-get install ansible ``ansible -i multinode all -m raw -a ""apt-get -y install python3""``,",5,5
openstack%2Ftripleo-quickstart~master~I82b4faa63c1125dc1b74028c2630f5083739172f,openstack/tripleo-quickstart,master,I82b4faa63c1125dc1b74028c2630f5083739172f,[DNM] Remove podman/buildah from extras-exclude,ABANDONED,2020-08-13 11:54:24.000000000,2020-11-20 11:06:10.000000000,,"[{'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 11:54:24.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/train.yml', 'zuul.d/layout.yaml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c0aaa9ec19b9ec3af33e828438b6cc21d99a9a6b', 'message': '[DNM] Remove podman/buildah from extras-exclude\n\nChange-Id: I82b4faa63c1125dc1b74028c2630f5083739172f\n'}]",0,746111,c0aaa9ec19b9ec3af33e828438b6cc21d99a9a6b,9,3,1,13861,,,0,"[DNM] Remove podman/buildah from extras-exclude

Change-Id: I82b4faa63c1125dc1b74028c2630f5083739172f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/746111/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/train.yml', 'zuul.d/layout.yaml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml']",3,c0aaa9ec19b9ec3af33e828438b6cc21d99a9a6b,,, exclude: - podman - buildah,1,41
openstack%2Ftripleo-quickstart-extras~master~I44680dc392f8fe0f449e313bc538c75a052a4905,openstack/tripleo-quickstart-extras,master,I44680dc392f8fe0f449e313bc538c75a052a4905,[DNM] Debug issue with ansible-2.9.12,ABANDONED,2020-08-18 07:18:15.000000000,2020-11-20 11:05:24.000000000,,"[{'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 07:18:15.000000000', 'files': ['zuul.d/layout.yaml', 'roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e7f2687ec101952c1b3cea7f9909c81dbdf8a289', 'message': '[DNM] Debug issue with ansible-2.9.12\n\nChange-Id: I44680dc392f8fe0f449e313bc538c75a052a4905\n'}]",0,746644,e7f2687ec101952c1b3cea7f9909c81dbdf8a289,4,2,1,13861,,,0,"[DNM] Debug issue with ansible-2.9.12

Change-Id: I44680dc392f8fe0f449e313bc538c75a052a4905
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/746644/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/standalone/templates/standalone_config.yaml.j2']",2,e7f2687ec101952c1b3cea7f9909c81dbdf8a289,, HideSensitiveLogs: false,,2,30
openstack%2Ffreezer~master~I2aa0aacd96c5c614fc2ef39e70d648c7921c056e,openstack/freezer,master,I2aa0aacd96c5c614fc2ef39e70d648c7921c056e,Add utils.streaming test cases,MERGED,2020-11-20 08:10:24.000000000,2020-11-20 10:35:03.000000000,2020-11-20 10:33:16.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 08:10:24.000000000', 'files': ['freezer/tests/unit/utils/test_streaming.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/659b76e6d971a568d51b62f4977b7df124ba5acb', 'message': 'Add utils.streaming test cases\n\nAdd  test cases for freezer.utils.streaming module\n\nChange-Id: I2aa0aacd96c5c614fc2ef39e70d648c7921c056e\n'}]",0,763517,659b76e6d971a568d51b62f4977b7df124ba5acb,7,2,1,21069,,,0,"Add utils.streaming test cases

Add  test cases for freezer.utils.streaming module

Change-Id: I2aa0aacd96c5c614fc2ef39e70d648c7921c056e
",git fetch https://review.opendev.org/openstack/freezer refs/changes/17/763517/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/utils/test_streaming.py'],1,659b76e6d971a568d51b62f4977b7df124ba5acb,,"# (c) Copyright 2020 ZTE Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import queue import unittest from freezer.utils import streaming class StreamingTestCase(unittest.TestCase): def create_fifo(self, size): input_queue = streaming.RichQueue(size) read_except_queue = queue.Queue() write_except_queue = queue.Queue() read_stream = streaming.QueuedThread(self.backup_stream, input_queue, read_except_queue) write_stream = streaming.QueuedThread(self.write_stream, input_queue, write_except_queue) read_stream.daemon = True write_stream.daemon = True read_stream.start() write_stream.start() read_stream.join() write_stream.join() return input_queue def backup_stream(self, rich_queue): rich_queue.put_messages('ancd') def write_stream(self, rich_queue): for message in rich_queue.get_messages(): pass def test_stream_1(self): input_queue = self.create_fifo(1) assert input_queue.finish_transmission is True def test_stream_2(self): input_queue = self.create_fifo(2) assert input_queue.finish_transmission is True def test_stream_3(self): input_queue = self.create_fifo(3) assert input_queue.finish_transmission is True def test_stream_4(self): input_queue = self.create_fifo(4) assert input_queue.finish_transmission is True def test_stream_5(self): input_queue = self.create_fifo(5) assert input_queue.finish_transmission is True ",,70,0
openstack%2Fcookbook-openstack-common~master~I4e67ec649124a16470c72bc831bd2825b3741449,openstack/cookbook-openstack-common,master,I4e67ec649124a16470c72bc831bd2825b3741449,Add load-balancer service,MERGED,2020-10-01 09:21:54.000000000,2020-11-20 10:15:24.000000000,2020-11-20 10:15:24.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-01 09:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/8b334e2cb44ee12d3081a3ecc0510917270a0b39', 'message': 'Add load-balancer service\n\nIn preparation for an openstack-load-balancer cookbook add the service\nso that we can create a database and endpoints.\n\nChange-Id: I4e67ec649124a16470c72bc831bd2825b3741449\n'}, {'number': 2, 'created': '2020-11-19 17:37:34.000000000', 'files': ['attributes/messaging.rb', 'attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e009657be1b1eb149979b398f3bee1d54223acb3', 'message': 'Add load-balancer service\n\nIn preparation for an openstack-load-balancer cookbook add the service\nso that we can create a database, message queues and endpoints.\n\nChange-Id: I4e67ec649124a16470c72bc831bd2825b3741449\n'}]",0,755459,e009657be1b1eb149979b398f3bee1d54223acb3,12,3,2,13252,,,0,"Add load-balancer service

In preparation for an openstack-load-balancer cookbook add the service
so that we can create a database, message queues and endpoints.

Change-Id: I4e67ec649124a16470c72bc831bd2825b3741449
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/59/755459/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,8b334e2cb44ee12d3081a3ecc0510917270a0b39,octavia," 'load-balancer' => 'octavia',",,1,0
openstack%2Fneutron~master~Ibd277e2fcc152fcf7c81ef7470e3beb0c668575c,openstack/neutron,master,Ibd277e2fcc152fcf7c81ef7470e3beb0c668575c,Import packaging.version explicitly,MERGED,2020-11-19 10:17:51.000000000,2020-11-20 10:13:41.000000000,2020-11-20 10:11:51.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-19 10:17:51.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'neutron/cmd/runtime_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd335b40373c4b5e7f9ddac3e02dcd9a9917118a', 'message': 'Import packaging.version explicitly\n\n""packaging.version"" should be imported explicitly to avoid the\nfollowing error:\n  >>> import packaging\n  >>> packaging.version\n  Traceback (most recent call last):\n    File ""<stdin>"", line 1, in <module>\n  AttributeError: module \'packaging\' has no attribute \'version\'\n\nThis patch also inclues ""packaging"" in the requirements file.\n\nChange-Id: Ibd277e2fcc152fcf7c81ef7470e3beb0c668575c\nCloses-Bug: #1904854\n'}]",0,763334,fd335b40373c4b5e7f9ddac3e02dcd9a9917118a,12,6,1,16688,,,0,"Import packaging.version explicitly

""packaging.version"" should be imported explicitly to avoid the
following error:
  >>> import packaging
  >>> packaging.version
  Traceback (most recent call last):
    File ""<stdin>"", line 1, in <module>
  AttributeError: module 'packaging' has no attribute 'version'

This patch also inclues ""packaging"" in the requirements file.

Change-Id: Ibd277e2fcc152fcf7c81ef7470e3beb0c668575c
Closes-Bug: #1904854
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/763334/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'neutron/cmd/runtime_checks.py']",3,fd335b40373c4b5e7f9ddac3e02dcd9a9917118a,bug/1904854,"from packaging import version keepalived_with_track = version.parse(""2.0.0"") keepalived_version = version.parse(version_line.split()[1])","import packaging keepalived_with_track = packaging.version.parse(""2.0.0"") keepalived_version = packaging.version.parse(version_line.split()[1])",5,3
openstack%2Fkuryr-tempest-plugin~master~I306cdd5d724ca40b7d7c6642851374658d5cb99a,openstack/kuryr-tempest-plugin,master,I306cdd5d724ca40b7d7c6642851374658d5cb99a,[WIP] Add readiness quota checks tests,ABANDONED,2018-12-05 00:32:05.000000000,2020-11-20 10:07:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-05 00:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/58c467a6f99995a4f4c9e17a466e42175005fb3c', 'message': ""Add readiness quota checks tests\n\nThe proposed tests checks the readiness status of kuryr controller\nwhen it's under or over the quota of some resource. Also, it checks\nthe status when no quota is applied to the resource.\n\nChange-Id: I306cdd5d724ca40b7d7c6642851374658d5cb99a\n""}, {'number': 2, 'created': '2018-12-05 09:34:19.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4d5a153b1794b7e46e082292705c84592267c78d', 'message': ""[WIP] Add readiness quota checks tests\n\nThe proposed tests checks the readiness status of kuryr controller\nwhen it's under or over the quota of some resource. Also, it checks\nthe status when no quota is applied to the resource.\n\nTODO:\n- Add tests to other handlers\n\nChange-Id: I306cdd5d724ca40b7d7c6642851374658d5cb99a\n""}]",1,622625,4d5a153b1794b7e46e082292705c84592267c78d,6,2,2,27032,,,0,"[WIP] Add readiness quota checks tests

The proposed tests checks the readiness status of kuryr controller
when it's under or over the quota of some resource. Also, it checks
the status when no quota is applied to the resource.

TODO:
- Add tests to other handlers

Change-Id: I306cdd5d724ca40b7d7c6642851374658d5cb99a
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/25/622625/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/base.py', 'kuryr_tempest_plugin/tests/scenario/test_readiness.py']",2,58c467a6f99995a4f4c9e17a466e42175005fb3c,readiness-quota-check,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_log import log as logging from tempest import config from tempest.lib import decorators from kuryr_tempest_plugin.tests.scenario import base LOG = logging.getLogger(__name__) CONF = config.CONF class TestReadinessScenario(base.BaseKuryrScenarioTest): @classmethod def skip_checks(cls): super(TestReadinessScenario, cls).skip_checks() if not CONF.kuryr_kubernetes.containerized: raise cls.skipException(""Kuryr should be containerized "" ""to run this test."") def get_kuryr_controller_name(self): pods = self.k8s_client.CoreV1Api().list_namespaced_pod( CONF.kuryr_kubernetes.kube_system_namespace, label_selector='name=kuryr-controller') return pods.items[0].metadata.name @decorators.idempotent_id('1c7c8acb-2c9d-4921-997f-1c8ef2790cd5') def test_sg_quota_ok(self): sg_quota = 20 self.os_admin.network_quotas_client.update_quotas( self.get_project_id(), security_group=sg_quota) for i in range(sg_quota): try: self._create_security_group() self.assertTrue(self.get_readiness_state( self.get_kuryr_controller_name(), CONF.kuryr_kubernetes.kube_system_namespace)) except Exception as ex: LOG.error('Error while creating sg: %s', ex) @decorators.idempotent_id('ec8b2bb2-ef14-4329-93e7-d87e073cbbc8') def test_over_sg_quota(self): sg_quota = 22 pod_name = self.get_kuryr_controller_name() pod_namespace = CONF.kuryr_kubernetes.kube_system_namespace self.os_admin.network_quotas_client.update_quotas( self.get_project_id(), security_group=20) for i in range(sg_quota): try: self._create_security_group() except Exception: self.wait_for_container_status( pod_name, namespace=pod_namespace, container_status=""False"", retries=60) self.assertEqual(self.get_pod_readiness( pod_name, pod_namespace), 'False') self.os_admin.network_quotas_client.update_quotas( self.get_project_id(), security_group=-1) self.wait_for_container_status( pod_name, namespace=pod_namespace, container_status=""True"", retries=60) self.assertEqual(self.get_pod_readiness( pod_name, pod_namespace), 'True') ",,106,0
openstack%2Fcharm-rabbitmq-server~master~If5e7cb9d828f4c8cfb62a908f872aac3b2cc20a9,openstack/charm-rabbitmq-server,master,If5e7cb9d828f4c8cfb62a908f872aac3b2cc20a9,Add Groovy to the test gate,MERGED,2020-11-05 11:54:28.000000000,2020-11-20 09:49:17.000000000,2020-11-20 09:49:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:54:28.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/46c3963c938afeb0bf375cafb5202f23c9845fcd', 'message': 'Add Groovy to the test gate\n\nChange-Id: If5e7cb9d828f4c8cfb62a908f872aac3b2cc20a9\n'}]",0,761588,46c3963c938afeb0bf375cafb5202f23c9845fcd,20,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: If5e7cb9d828f4c8cfb62a908f872aac3b2cc20a9
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/88/761588/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py']",3,46c3963c938afeb0bf375cafb5202f23c9845fcd,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",24,7
openstack%2Fcharm-ceph-osd~master~I273eeb41f9750ddb32ae1ca5933278ac8af5c4b7,openstack/charm-ceph-osd,master,I273eeb41f9750ddb32ae1ca5933278ac8af5c4b7,Add Groovy to the test gate,MERGED,2020-11-05 11:44:15.000000000,2020-11-20 09:48:07.000000000,2020-11-20 09:48:07.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:44:15.000000000', 'files': ['tests/tests.yaml', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'lib/charms_ceph/broker.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/27d035f89b7d3e93a87585d17c76a54970681bd4', 'message': 'Add Groovy to the test gate\n\nChange-Id: I273eeb41f9750ddb32ae1ca5933278ac8af5c4b7\n'}]",0,761546,27d035f89b7d3e93a87585d17c76a54970681bd4,9,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: I273eeb41f9750ddb32ae1ca5933278ac8af5c4b7
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/46/761546/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'lib/charms_ceph/broker.py']",5,27d035f89b7d3e93a87585d17c76a54970681bd4,groovy-charm-gate," extra_pools = request.get('extra_pools', None) or []"," extra_pools = request.get('extra_pools', [])",24,9
openstack%2Fcharm-barbican-vault~master~I8b23e528b62f5120f689706cbf453e4578955bc4,openstack/charm-barbican-vault,master,I8b23e528b62f5120f689706cbf453e4578955bc4,Add Groovy to the test gate,MERGED,2020-11-05 11:42:55.000000000,2020-11-20 09:46:32.000000000,2020-11-20 09:46:32.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:42:55.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/58bff2f8807c7b5794b8961800e687e1dde77520', 'message': 'Add Groovy to the test gate\n\nChange-Id: I8b23e528b62f5120f689706cbf453e4578955bc4\n'}]",0,761541,58bff2f8807c7b5794b8961800e687e1dde77520,23,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: I8b23e528b62f5120f689706cbf453e4578955bc4
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/41/761541/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,58bff2f8807c7b5794b8961800e687e1dde77520,groovy-charm-gate,- groovy-victoria,dev_bundles: - groovy-victoria,1,2
openstack%2Fcharm-ceilometer~master~I70bfbb6782a546ee5c2410a6fb202d1d573d4826,openstack/charm-ceilometer,master,I70bfbb6782a546ee5c2410a6fb202d1d573d4826,Add Groovy to the test gate,MERGED,2020-11-05 11:43:10.000000000,2020-11-20 09:41:02.000000000,2020-11-20 09:41:02.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:43:10.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9e33790a76c458ce58f75ba7b040d1fe92857657', 'message': 'Add Groovy to the test gate\n\nChange-Id: I70bfbb6782a546ee5c2410a6fb202d1d573d4826\n'}]",0,761542,9e33790a76c458ce58f75ba7b040d1fe92857657,9,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: I70bfbb6782a546ee5c2410a6fb202d1d573d4826
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/42/761542/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py']",3,9e33790a76c458ce58f75ba7b040d1fe92857657,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",24,7
openstack%2Fcharm-aodh~master~I71ad0521eb8390b79385595f4b026885044dfd0f,openstack/charm-aodh,master,I71ad0521eb8390b79385595f4b026885044dfd0f,Add Groovy to the test gate,MERGED,2020-11-05 11:42:26.000000000,2020-11-20 09:37:37.000000000,2020-11-20 09:37:37.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:42:26.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/3e1d3fb06f907f3fe46999884edf5cb82cf639f5', 'message': 'Add Groovy to the test gate\n\nChange-Id: I71ad0521eb8390b79385595f4b026885044dfd0f\n'}]",0,761539,3e1d3fb06f907f3fe46999884edf5cb82cf639f5,9,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: I71ad0521eb8390b79385595f4b026885044dfd0f
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/39/761539/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,3e1d3fb06f907f3fe46999884edf5cb82cf639f5,groovy-charm-gate, - groovy-victoria, - groovy-victoria,1,1
openstack%2Fcharm-placement~master~I2c04ac1947e4eddacbf60eec675cd5a739b1e516,openstack/charm-placement,master,I2c04ac1947e4eddacbf60eec675cd5a739b1e516,Add Groovy to the test gate,MERGED,2020-11-05 11:54:13.000000000,2020-11-20 09:36:03.000000000,2020-11-20 09:36:03.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:54:13.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/ff1ae394d3d96e414308b802219f7a188577a550', 'message': 'Add Groovy to the test gate\n\nChange-Id: I2c04ac1947e4eddacbf60eec675cd5a739b1e516\n'}]",0,761587,ff1ae394d3d96e414308b802219f7a188577a550,18,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: I2c04ac1947e4eddacbf60eec675cd5a739b1e516
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/87/761587/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,ff1ae394d3d96e414308b802219f7a188577a550,groovy-charm-gate, - groovy-victoria,dev_bundles: - groovy-victoria,1,2
openstack%2Frequirements~master~I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef,openstack/requirements,master,I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef,Updated from generate-constraints,MERGED,2020-11-11 06:52:17.000000000,2020-11-20 09:09:21.000000000,2020-11-20 09:07:57.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 06:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/581c1cc6ef27b5d9557bf999ae2d26dd1c961148', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 2, 'created': '2020-11-12 06:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fddd9ebed0f48493f56c1768861ebe46224884fe', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 3, 'created': '2020-11-13 06:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c6052ee2f1291444bcf07b61f08736048887b21f', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 4, 'created': '2020-11-14 06:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/04024bdf41ba46c0e830af64982f4efc3a8d59aa', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 5, 'created': '2020-11-15 06:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/59f2e177f76d1b9012be1e3cf0ca3860907a778d', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 6, 'created': '2020-11-17 06:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f3658a09d21bf5f5464da3d04e8b842fc001a8c', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 7, 'created': '2020-11-18 06:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c25a3e857d8c65f4923ba42b8ec563586ca938c9', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 8, 'created': '2020-11-19 06:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/63266cf94dd4210921f5d0b3bf3828cfd39e07b5', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}, {'number': 9, 'created': '2020-11-19 16:38:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/937ccadec9b94ebb111bbde8d4a9b5eb6690365e', 'message': 'Updated from generate-constraints\n\nChange-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef\n'}]",0,762296,937ccadec9b94ebb111bbde8d4a9b5eb6690365e,33,4,9,11131,,,0,"Updated from generate-constraints

Change-Id: I27fda78e9f16794e7c89e4c59c6f0667f01ed7ef
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/762296/8 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,581c1cc6ef27b5d9557bf999ae2d26dd1c961148,openstack/requirements/constraints/noclob,sphinxcontrib.datatemplates===0.7.1urllib3===1.26.0mock===4.0.2toml===0.10.2docutils===0.16boto3===1.16.15 jeepney===0.5.0botocore===1.19.15pkg-resources===0.0.0sphinxcontrib-runcmd===0.2.0,sphinxcontrib.datatemplates===0.6.1urllib3===1.25.11mock===3.0.5toml===0.10.0docutils===0.15.2boto3===1.16.13 jeepney===0.4.3botocore===1.19.13setuptools===50.3.2,10,9
openstack%2Foctavia~master~If69b5973e2a82c8e8d323a89eefb426a3986cd8f,openstack/octavia,master,If69b5973e2a82c8e8d323a89eefb426a3986cd8f,Fix amphorav2 bytes error,MERGED,2020-06-29 09:29:33.000000000,2020-11-20 08:49:40.000000000,2020-11-19 11:24:57.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-29 09:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5885b63b4fd83a05ec426d71fc4414fe96bae104', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 2, 'created': '2020-06-30 08:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0453bfcbdb5f1fe2c6be0bd098812b3ac74cf7e6', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 3, 'created': '2020-07-02 09:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9bc48cb9b7c0f2e61213cf81e60fb724ce65d53b', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 4, 'created': '2020-07-02 11:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c70a215960745cbe51f381d9505bca632d56b472', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 5, 'created': '2020-07-02 14:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4cea5db9fab112d4510d90e7bbbf781551051b4f', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 6, 'created': '2020-08-12 08:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/622cc89b1d3b68508ebb7bd73ce2e63886a60a63', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 7, 'created': '2020-08-14 12:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8779eae74ebf50951fc55cf07eb232a004933698', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 8, 'created': '2020-09-02 09:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5bc92fc3c8e9a79f513ae2e13370508d933dad3f', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}, {'number': 9, 'created': '2020-10-09 09:15:24.000000000', 'files': ['octavia/common/data_models.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/02dc98814b515ad4ac19f71b5fdbe0dc5f045098', 'message': ""Fix amphorav2 bytes error\n\nFix Object of type 'bytes' is not JSON serializable\nerror while writing barbican tls data to persistence database.\nAlso fix _encrypt_listener_dict to encrypt dicts properly:\nerror - data must be bytes (HTTP 500)\n\nStory: 2007877\nTask: 40245\n\nChange-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f\n""}]",3,738407,02dc98814b515ad4ac19f71b5fdbe0dc5f045098,43,5,9,7249,,,0,"Fix amphorav2 bytes error

Fix Object of type 'bytes' is not JSON serializable
error while writing barbican tls data to persistence database.
Also fix _encrypt_listener_dict to encrypt dicts properly:
error - data must be bytes (HTTP 500)

Story: 2007877
Task: 40245

Change-Id: If69b5973e2a82c8e8d323a89eefb426a3986cd8f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/738407/9 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py']",2,5885b63b4fd83a05ec426d71fc4414fe96bae104,, listener_dict[consts.DEFAULT_TLS_CONTAINER_DATA] ).decode('utf-8')) sni_list.append(self.fernet.encrypt(sni_data).decode('utf-8')), listener_dict[consts.DEFAULT_TLS_CONTAINER_DATA])) sni_list.append(self.fernet.encrypt(sni_data)),7,5
openstack%2Fvenus~master~I05288cc36e738a301f0ec9ca58678bc99d97f235,openstack/venus,master,I05288cc36e738a301f0ec9ca58678bc99d97f235,Hello Venus,ABANDONED,2020-11-20 08:38:34.000000000,2020-11-20 08:40:50.000000000,,[],"[{'number': 1, 'created': '2020-11-20 08:38:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/791485e9c22034e38c0374d8ea42c5007ad81816', 'message': 'Hello Venus\n\nThis project can provide an OpenStack Log Management Service.\n\nChange-Id: I05288cc36e738a301f0ec9ca58678bc99d97f235\n'}]",0,763523,791485e9c22034e38c0374d8ea42c5007ad81816,2,0,1,26458,,,0,"Hello Venus

This project can provide an OpenStack Log Management Service.

Change-Id: I05288cc36e738a301f0ec9ca58678bc99d97f235
",git fetch https://review.opendev.org/openstack/venus refs/changes/23/763523/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,791485e9c22034e38c0374d8ea42c5007ad81816,,"Hello Venus =========== An OpenStack Log Management Service. About Venus ----------- In light of the problems and needs of retrieval, storage and analysis etc. of logs on the OpenStack platform, we developed the OpenStack log management module Venus. This project can provide a one-stop solution to log collection, cleaning, indexing, analysis, alarm, visualization, report generation and other needs, which involves helping operator or maintainer to quickly solve retrieve problems, grasp the operational health of the platform, and improve the level of platform management. Additionally, this project plans to use machine learning algorithms to quickly locate IT failures and root causes, and improve operation and maintenance efficiency.",# TODO(brinzhang): Created by Inspur,21,1
openstack%2Fvenus~master~I4733d4547b9ad42eca99bdd3b3d9437928a35d17,openstack/venus,master,I4733d4547b9ad42eca99bdd3b3d9437928a35d17,Hello Venus,ABANDONED,2020-11-20 08:36:04.000000000,2020-11-20 08:37:02.000000000,,[],"[{'number': 1, 'created': '2020-11-20 08:36:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/18164dc0821f08d9d543801990b48613810cf1a7', 'message': 'Hello Venus\n\nAn OpenStack Log Management Service.\n\nChange-Id: I4733d4547b9ad42eca99bdd3b3d9437928a35d17\n'}]",0,763522,18164dc0821f08d9d543801990b48613810cf1a7,2,0,1,26458,,,0,"Hello Venus

An OpenStack Log Management Service.

Change-Id: I4733d4547b9ad42eca99bdd3b3d9437928a35d17
",git fetch https://review.opendev.org/openstack/venus refs/changes/22/763522/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,18164dc0821f08d9d543801990b48613810cf1a7,,"Hello Venus =========== An OpenStack Log Management Service. About Venus ----------- In light of the problems and needs of retrieval, storage and analysis etc. of logs on the OpenStack platform, we developed the OpenStack log management module Venus. This project can provide a one-stop solution to log collection, cleaning, indexing, analysis, alarm, visualization, report generation and other needs, which involves helping operator or maintainer to quickly solve retrieve problems, grasp the operational health of the platform, and improve the level of platform management. Additionally, this project plans to use machine learning algorithms to quickly locate IT failures and root causes, and improve operation and maintenance efficiency.",# TODO(brinzhang): Created by Inspur,21,1
openstack%2Fvenus~master~I6604e44fea9f1636631d12a54ccd4b943db4ca9f,openstack/venus,master,I6604e44fea9f1636631d12a54ccd4b943db4ca9f,Hello Venus,ABANDONED,2020-11-20 08:33:17.000000000,2020-11-20 08:34:17.000000000,,[],"[{'number': 1, 'created': '2020-11-20 08:33:17.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/8f97f9c208fe2226fa6fa2d3c34db375bc985d60', 'message': 'Hello Venus\n\nChange-Id: I6604e44fea9f1636631d12a54ccd4b943db4ca9f\n'}]",0,763521,8f97f9c208fe2226fa6fa2d3c34db375bc985d60,2,0,1,26458,,,0,"Hello Venus

Change-Id: I6604e44fea9f1636631d12a54ccd4b943db4ca9f
",git fetch https://review.opendev.org/openstack/venus refs/changes/21/763521/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8f97f9c208fe2226fa6fa2d3c34db375bc985d60,,"Hello Venus =========== An OpenStack Log Management Service. About Venus ----------- In light of the problems and needs of retrieval, storage and analysis etc. of logs on the OpenStack platform, we developed the OpenStack log management module Venus. This project can provide a one-stop solution to log collection, cleaning, indexing, analysis, alarm, visualization, report generation and other needs, which involves helping operator or maintainer to quickly solve retrieve problems, grasp the operational health of the platform, and improve the level of platform management. Additionally, this project plans to use machine learning algorithms to quickly locate IT failures and root causes, and improve operation and maintenance efficiency.",# TODO(brinzhang): Created by Inspur,21,1
openstack%2Ftripleo-ci~master~I6f28517bfa4493d2da7f78db124292ac1e18db52,openstack/tripleo-ci,master,I6f28517bfa4493d2da7f78db124292ac1e18db52,Add c7 content provider jobs in new template,MERGED,2020-10-28 02:27:18.000000000,2020-11-20 08:32:30.000000000,2020-11-09 10:47:20.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-10-28 02:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f5ef9c6237dbb3d796b44e6c61cce01b2b83308', 'message': '[WIP] Add content provider for queens jobs\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-10-28 02:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cd91ba7fdff1c70938227343554ac2ab03aea4e3', 'message': '[WIP] Add content provider for queens jobs\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-10-28 02:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cfa1fb1cebbc0833ebf6a666540abb354bf172b1', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-10-28 02:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/90a51f8ff4c70627847d0e20a269ddca525a1c7e', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-10-28 02:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3de170b534906bddbe3847de5a356c6488f94980', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-10-28 02:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/754c00195a5837723d7ef2eac8c1f35281791249', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-10-28 02:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ccd2a65c7cedb1139e3daa3d4784719e102d4cee', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-10-28 02:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/54480daf5548e5b7b2cf6684ac8004a650920729', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-10-28 03:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b76b4cbca369ca76186ced379c52531b060b52bf', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-10-28 03:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/903ad79fe08bd3ba8c8626107cd8ba1d46a770df', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-10-28 03:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b1cad41a4db51306e8c29fb3f6eb2d96cc7ba7c7', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-10-28 03:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f97c558919fc0cc7f97f3fa56cd49bd9cf158ec2', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2020-10-28 03:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/decebcf3dabe7b7bb96055bad278abbbc667156e', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2020-10-28 03:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7e4ccf039bfe4a6d7cd122f5e05addfcc627914d', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2020-10-28 03:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/36a56bff36f9d9314687dc6fe7101ffc72652ef5', 'message': 'Ported oooq and container multinode c7 jobs to content provider\n\ntripleo-undercloud-jobs and tripleo-multinode-container-minimal\njob templates are used in queen release. Since we are moving\nto content provider job, above template needs to be fixed\nfor the same.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2020-10-28 09:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3cda7cb12900307f2e3a8480cfb10de43cb9f1bd', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 17, 'created': '2020-10-28 09:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0a878dfeacc4e2316fd31b93e1515d7d1b5425d', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 18, 'created': '2020-10-29 01:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a252c0af6480137b9ffa60f6383f1a9a03f9344', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 19, 'created': '2020-10-30 08:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/172189248973a218ec27007984684b8930dbbadd', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nDepends-On: https://review.opendev.org/760509\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 20, 'created': '2020-10-30 12:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4ce9de580026109b5ffdea137f1bfc04906270e', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nDepends-On: https://review.opendev.org/760509\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 21, 'created': '2020-10-30 17:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0af9451bb9a07eb16497b5480ae38a3adca36a46', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 22, 'created': '2020-11-03 15:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4899955b1978528437a50880e3e53a91024e2817', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 23, 'created': '2020-11-03 16:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbb6a52ee36f05c2518d5debc770f2cdcbd8b585', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 24, 'created': '2020-11-04 07:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/16f9f8ac3ba7f0177ad3a6b471f8f66dcd62f3c4', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 25, 'created': '2020-11-04 11:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/856cfa333d6923f2744e7265a44b53c25e72d332', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 26, 'created': '2020-11-04 12:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/519075d9dd546adbcc36b41f3c51f4a5327139b8', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 27, 'created': '2020-11-04 12:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a9411df64d2c4569711a0c7f681e3bf0c36d2e2', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 28, 'created': '2020-11-04 12:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3bdbb46d49c4dfa376a2c1117643f37b1ed9a540', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 29, 'created': '2020-11-04 12:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1c30649000fb158385beefadcf90fa5acdbcff9b', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 30, 'created': '2020-11-05 11:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dcad899499c66df2861c1ee6fbefddaaace59bc5', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 31, 'created': '2020-11-05 12:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7785dae9c58c1ce5ae3b521d7c64a9a3c308c9bd', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 32, 'created': '2020-11-08 14:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/52be7955861b82fb9bded6f07c32696ac570006e', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 33, 'created': '2020-11-08 14:31:42.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7543dc314e9e02b329dc41b7dbcbc050ae627ab', 'message': 'Add c7 content provider jobs in new template\n\nIt will be used for older releases like train and queens.\n\nMoved c7 content provider job to a seperate base to avoid\ntriggering on master and job freeze issue.\n\nChange-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",80,759985,c7543dc314e9e02b329dc41b7dbcbc050ae627ab,107,11,33,12393,,,0,"Add c7 content provider jobs in new template

It will be used for older releases like train and queens.

Moved c7 content provider job to a seperate base to avoid
triggering on master and job freeze issue.

Change-Id: I6f28517bfa4493d2da7f78db124292ac1e18db52
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/759985/22 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,3f5ef9c6237dbb3d796b44e6c61cce01b2b83308,new-ci-job, - tripleo-ci-centos-7-content-provider deps: - tripleo-ci-centos-7-content-provider vars: *undercloud_consumer_vars deps: - tripleo-ci-centos-7-content-provider vars: *undercloud_consumer_vars,,7,0
openstack%2Fneutron~master~I9ff47d8f678c95a6d6594f47ebca6175fdcc5453,openstack/neutron,master,I9ff47d8f678c95a6d6594f47ebca6175fdcc5453,[ovn] Add 'net-mtu-writable' to supported extensions,MERGED,2020-10-26 12:19:18.000000000,2020-11-20 08:21:16.000000000,2020-11-20 08:18:36.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16312}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}, {'_account_id': 29775}, {'_account_id': 29963}, {'_account_id': 32586}]","[{'number': 1, 'created': '2020-10-26 12:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14042370e5b20269f4ac93681c4debd1f1393928', 'message': ""[ovn] Add 'net-mtu-writable' to supported extensions\n\nThis patch is adding the 'net-mtu-writable' extension to the\nsupported extensions list of the OVN plugin.\n\nWithout it, network creation with an MTU different from the\ndefault (1500) will fail. Right now, devstack is working\nbecause this extension gets loaded as a side effect of loading\n'logger' but we should enable it by default.\n\nCloses-Bug: #1901534\n\nChange-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 2, 'created': '2020-10-28 07:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a997e13ab17f53b232a539cc585cd28cf1558f78', 'message': ""[ovn] Add 'net-mtu-writable' to supported extensions\n\nThis patch is adding the 'net-mtu-writable' extension to the\nsupported extensions list of the OVN plugin.\n\nWithout it, network creation with an MTU different from the\ndefault (1500) will fail. Right now, devstack is working\nbecause this extension gets loaded as a side effect of loading\n'logger' but we should enable it by default.\n\nCloses-Bug: #1901534\n\nChange-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 3, 'created': '2020-10-28 17:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f054fcd9e89db2cc944a2d58cc61f8f8a32c1fa', 'message': ""[ovn] Add 'net-mtu-writable' to supported extensions\n\nThis patch is adding the 'net-mtu-writable' extension to the\nsupported extensions list of the OVN plugin.\n\nWithout it, network creation with an MTU different from the\ndefault (1500) will fail. Right now, devstack is working\nbecause this extension gets loaded as a side effect of loading\n'logger' but we should enable it by default.\n\nCloses-Bug: #1901534\n\nChange-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 4, 'created': '2020-10-29 20:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f12be72cd60f6d1fd6afe7cf1dafe8dd411ccbc', 'message': ""[ovn] Add 'net-mtu-writable' to supported extensions\n\nThis patch is adding the 'net-mtu-writable' extension to the\nsupported extensions list of the OVN plugin.\n\nWithout it, network creation with an MTU different from the\ndefault (1500) will fail. Right now, devstack is working\nbecause this extension gets loaded as a side effect of loading\n'logger' but we should enable it by default.\n\nCloses-Bug: #1901534\n\nDepends-On: https://review.opendev.org/760446\nChange-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 5, 'created': '2020-11-04 08:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0799f94269120301f62821e5d78075347f43993f', 'message': ""[ovn] Add 'net-mtu-writable' to supported extensions\n\nThis patch is adding the 'net-mtu-writable' extension to the\nsupported extensions list of the OVN plugin.\n\nWithout it, network creation with an MTU different from the\ndefault (1500) will fail. Right now, devstack is working\nbecause this extension gets loaded as a side effect of loading\n'logger' but we should enable it by default.\n\nCloses-Bug: #1901534\n\nDepends-On: https://review.opendev.org/760446\nChange-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 6, 'created': '2020-11-16 10:23:23.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/323781d9f0992dc3691620ca0a366afae4ed34ee', 'message': ""[ovn] Add 'net-mtu-writable' to supported extensions\n\nThis patch is adding the 'net-mtu-writable' extension to the\nsupported extensions list of the OVN plugin.\n\nWithout it, network creation with an MTU different from the\ndefault (1500) will fail. Right now, devstack is working\nbecause this extension gets loaded as a side effect of loading\n'logger' but we should enable it by default.\n\nCloses-Bug: #1901534\n\nDepends-On: https://review.opendev.org/760446\nChange-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",1,759673,323781d9f0992dc3691620ca0a366afae4ed34ee,156,18,6,23804,,,0,"[ovn] Add 'net-mtu-writable' to supported extensions

This patch is adding the 'net-mtu-writable' extension to the
supported extensions list of the OVN plugin.

Without it, network creation with an MTU different from the
default (1500) will fail. Right now, devstack is working
because this extension gets loaded as a side effect of loading
'logger' but we should enable it by default.

Closes-Bug: #1901534

Depends-On: https://review.opendev.org/760446
Change-Id: I9ff47d8f678c95a6d6594f47ebca6175fdcc5453
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/759673/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,14042370e5b20269f4ac93681c4debd1f1393928,bug/1901534," 'net-mtu-writable',",,1,0
openstack%2Fproject-config~master~I6c8d9a7eaff4003afbe14b8dfaa58f59f619fa9f,openstack/project-config,master,I6c8d9a7eaff4003afbe14b8dfaa58f59f619fa9f,Add Magpie charm to OpenStack charms,MERGED,2020-11-16 10:59:37.000000000,2020-11-20 08:18:04.000000000,2020-11-20 06:29:06.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 10:59:37.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/779ac065b309d2c686d3ea0007aea07fdebe0513', 'message': 'Add Magpie charm to OpenStack charms\n\nAdd Magpie charm and corresponding interface to OpenStack Charms.\n\nChange-Id: I6c8d9a7eaff4003afbe14b8dfaa58f59f619fa9f\nRequired-By: Ia0482284f1d1a18f65437c6d2391a363a7ed8f18\n'}]",0,762819,779ac065b309d2c686d3ea0007aea07fdebe0513,9,4,1,12549,,,0,"Add Magpie charm to OpenStack charms

Add Magpie charm and corresponding interface to OpenStack Charms.

Change-Id: I6c8d9a7eaff4003afbe14b8dfaa58f59f619fa9f
Required-By: Ia0482284f1d1a18f65437c6d2391a363a7ed8f18
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/762819/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,779ac065b309d2c686d3ea0007aea07fdebe0513,add-magpie, - openstack/charm-interface-magpie - openstack/charm-magpie,,12,0
openstack%2Fvenus~master~I586a598e2302379aae8967f0ef44f213cc55a93a,openstack/venus,master,I586a598e2302379aae8967f0ef44f213cc55a93a,Rename readme file,MERGED,2020-11-20 07:09:51.000000000,2020-11-20 08:03:01.000000000,2020-11-20 08:03:01.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-11-20 07:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/fa9a01c898bc1b11be0c16cd36aae41b5267782a', 'message': 'Rename readme file\n\nChange-Id: I586a598e2302379aae8967f0ef44f213cc55a93a\n'}, {'number': 2, 'created': '2020-11-20 07:38:45.000000000', 'files': ['README.rst', 'README.bak.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/211f7a634f10710a0dd19c4e70b50c36dce75081', 'message': 'Rename readme file\n\nChange-Id: I586a598e2302379aae8967f0ef44f213cc55a93a\n'}]",0,763509,211f7a634f10710a0dd19c4e70b50c36dce75081,10,2,2,26458,,,0,"Rename readme file

Change-Id: I586a598e2302379aae8967f0ef44f213cc55a93a
",git fetch https://review.opendev.org/openstack/venus refs/changes/09/763509/2 && git format-patch -1 --stdout FETCH_HEAD,['README.bak.rst'],1,fa9a01c898bc1b11be0c16cd36aae41b5267782a,,,,0,0
openstack%2Fopenstack-ansible-openstack_openrc~master~Iff5a0892d812601c0fa3fd549b7f00a468cfdd97,openstack/openstack-ansible-openstack_openrc,master,Iff5a0892d812601c0fa3fd549b7f00a468cfdd97,Adding support of system scoped openrc and clouds.yaml,MERGED,2020-11-10 08:18:04.000000000,2020-11-20 07:08:43.000000000,2020-11-18 15:01:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29605}]","[{'number': 1, 'created': '2020-11-10 08:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/435edf30aab8bc98137900a9837fd38813e6558b', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 2, 'created': '2020-11-14 17:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/a2c28c749608ae54b2e4107db361d78e5789c6ee', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 3, 'created': '2020-11-16 09:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/2464020901bd2fb04b16836d111e3c50009ed64d', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 4, 'created': '2020-11-16 09:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/c5812b319894e499555d00749a047663a24da46d', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 5, 'created': '2020-11-16 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/c855f419522231dba6e2905d4e6bfefe7b14b331', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 6, 'created': '2020-11-16 11:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/90c8e4e7e10115bb811c6b8bd24670b404647bea', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 7, 'created': '2020-11-17 07:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/89298f5fae210bf571c0d620fe62f7c86cc6de00', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}, {'number': 8, 'created': '2020-11-17 07:53:01.000000000', 'files': ['releasenotes/notes/system_scope_support-ab364c1725e2506e.yaml', 'tasks/main.yml', 'templates/openrc-system-scope.j2', 'defaults/main.yml', 'templates/clouds.yaml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/fdc640ddcbc13de17609005f4ca34cc4067cd5f8', 'message': 'Adding support of system scoped openrc and clouds.yaml\n\nChange-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97\nCloses-Bug: 1903656\n'}]",11,762090,fdc640ddcbc13de17609005f4ca34cc4067cd5f8,37,4,8,29605,,,0,"Adding support of system scoped openrc and clouds.yaml

Change-Id: Iff5a0892d812601c0fa3fd549b7f00a468cfdd97
Closes-Bug: 1903656
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/90/762090/3 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/clouds.yaml.j2']",2,435edf30aab8bc98137900a9837fd38813e6558b,762090-patch4-patch6,"{% if openrc_clouds_yaml_system_scope %} system_scope: all {% else %} project_domain_name: {{ openrc_os_domain_name }} {% endif %}{% if openrc_clouds_yaml_system_scope %} default_project_scope: auth: auth_url: {{ openrc_os_auth_url }} project_name: {{ openrc_os_tenant_name }} tenant_name: {{ openrc_os_tenant_name }} project_domain_name: {{ openrc_os_domain_name }} username: {{ openrc_os_username }} password: {{ openrc_os_password }} user_domain_name: {{ openrc_os_domain_name }} region_name: {{ openrc_region_name }} interface: {{ openrc_clouds_yml_interface }} {% if openrc_os_auth_url.endswith('v2.0') %} identity_api_version: ""2.0"" {% else %} identity_api_version: ""3"" {% endif %} {% if openrc_insecure | bool %} verify: false insecure: true {% endif %} {% endif %}", project_domain_name: {{ openrc_os_domain_name }},30,1
openstack%2Fvenus~master~I09dd78a8b8ca8f258ecbf6df261cd49f5a1145c0,openstack/venus,master,I09dd78a8b8ca8f258ecbf6df261cd49f5a1145c0,Add Venus repository link to README,MERGED,2020-11-20 06:43:45.000000000,2020-11-20 07:06:26.000000000,2020-11-20 07:06:25.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-11-20 06:43:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/88339483d33b4bf95954766db94306758d3ce5cd', 'message': 'Add Venus repository link to README\n\nChange-Id: I09dd78a8b8ca8f258ecbf6df261cd49f5a1145c0\n'}]",0,763506,88339483d33b4bf95954766db94306758d3ce5cd,6,2,1,26458,,,0,"Add Venus repository link to README

Change-Id: I09dd78a8b8ca8f258ecbf6df261cd49f5a1145c0
",git fetch https://review.opendev.org/openstack/venus refs/changes/06/763506/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,88339483d33b4bf95954766db94306758d3ce5cd,,* Code repository: https://opendev.org/inspur/venus,,1,0
openstack%2Ftacker~stable%2Fvictoria~If1860f7eb7b32975cbb5d1acc8bb5d595b514fb7,openstack/tacker,stable/victoria,If1860f7eb7b32975cbb5d1acc8bb5d595b514fb7,Revert Ceilometer install and use mariadb,ABANDONED,2020-10-09 05:46:44.000000000,2020-11-20 05:17:07.000000000,,"[{'_account_id': 17255}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-09 05:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/202e24266388b90a20a660fe5ccb68cc59dc1057', 'message': 'Revert Ceilometer install and use mariadb\n\nRevert Ceiloemter install which was removed in the following\nworkaround.\nhttps://review.opendev.org/#/c/751965/\n\nCeilometer use mariadb by the following fix, so we should also\nchange bindep.\nhttps://review.opendev.org/#/c/752294/\n\nChange-Id: If1860f7eb7b32975cbb5d1acc8bb5d595b514fb7\n'}, {'number': 2, 'created': '2020-10-09 12:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ac9bc98a38f4cbc49ba6219889afcb81d822e169', 'message': 'Revert Ceilometer install and use mariadb\n\nRevert Ceiloemter install which was removed in the following\nworkaround.\nhttps://review.opendev.org/#/c/751965/\n\nCeilometer use mariadb by the following fix, so we should also\nchange bindep.\nhttps://review.opendev.org/#/c/752294/\n\nChange-Id: If1860f7eb7b32975cbb5d1acc8bb5d595b514fb7\n'}, {'number': 3, 'created': '2020-10-09 15:04:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0d4396deba5636a2efd342474c18b3d0aaca55a0', 'message': 'Revert Ceilometer install and use mariadb\n\nRevert Ceiloemter install which was removed in the following\nworkaround.\nhttps://review.opendev.org/#/c/751965/\n\nChange-Id: If1860f7eb7b32975cbb5d1acc8bb5d595b514fb7\n'}]",0,756999,0d4396deba5636a2efd342474c18b3d0aaca55a0,9,2,3,17255,,,0,"Revert Ceilometer install and use mariadb

Revert Ceiloemter install which was removed in the following
workaround.
https://review.opendev.org/#/c/751965/

Change-Id: If1860f7eb7b32975cbb5d1acc8bb5d595b514fb7
",git fetch https://review.opendev.org/openstack/tacker refs/changes/99/756999/3 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml']",2,202e24266388b90a20a660fe5ccb68cc59dc1057,fix-env-ft-stable/victoria, - openstack/ceilometer # https://storyboard.openstack.org/#!/story/2007732 ceilometer: https://opendev.org/openstack/ceilometer, # Temporarily remove because of Ubuntu Focal Migration issue # https://storyboard.openstack.org/#!/story/2008121 # https://review.opendev.org/#/c/752294/ # - openstack/ceilometer # https://storyboard.openstack.org/#!/story/2008121 # https://review.opendev.org/#/c/752294/ # Temporarily remove because of Ubuntu Focal Migration issue # https://storyboard.openstack.org/#!/story/2008121 # https://review.opendev.org/#/c/752294/ # ceilometer: https://opendev.org/openstack/ceilometer,9,12
openstack%2Fmanila~master~I2e6c482989095ea8e102e5afe2e2f57214fe6f06,openstack/manila,master,I2e6c482989095ea8e102e5afe2e2f57214fe6f06,Bump oslo.log version to 4.3.0,MERGED,2020-11-19 14:50:25.000000000,2020-11-20 04:08:36.000000000,2020-11-19 21:20:50.000000000,"[{'_account_id': 9954}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 14:50:25.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/a10927c6bef0786f28f861fd561d550b23751fab', 'message': ""Bump oslo.log version to 4.3.0\n\nThis allows us to use the WALLABY marker in oslo.log's versionutils for\ndeprecated notices.\n\nChange-Id: I2e6c482989095ea8e102e5afe2e2f57214fe6f06\n""}]",0,763386,a10927c6bef0786f28f861fd561d550b23751fab,16,8,1,5046,,,0,"Bump oslo.log version to 4.3.0

This allows us to use the WALLABY marker in oslo.log's versionutils for
deprecated notices.

Change-Id: I2e6c482989095ea8e102e5afe2e2f57214fe6f06
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/763386/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,a10927c6bef0786f28f861fd561d550b23751fab,secure-rbac,oslo.log==4.3.0,oslo.log==3.36.0,2,2
openstack%2Fironic~master~I3706051704c260e605c765e8a45e4d4f3ec0b977,openstack/ironic,master,I3706051704c260e605c765e8a45e4d4f3ec0b977,Convert portgroups endpoint to plain JSON,MERGED,2020-09-10 03:02:19.000000000,2020-11-20 04:04:12.000000000,2020-11-18 19:24:07.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/355014bce5d86850c348d822744516d2039b82ad', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ed977b0880ba6ac17a51d21a4c08a7752be1a3d', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ba1b6497ac0b76a0bb14d0a1e473552baf1f342', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95998092e01f5f1e004a88f91a359b9e27c1f381', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c7f62b931d49a1949fb5fd1aaed73d936d7608b', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d993e7f5b4659f204bf318ba3eac847df3c5e09', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5610fe2626b31eaacf6a556740b03920a8307297', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/757c5603edd44057cd17e781643c03add1b2d0ff', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ad9feccd4305221f19293e279931a53ff5b3343', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a9bf4093b4fa417203bae4b1f05e0ee68a524f6', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48a5ba7dbe432a2bde04d720b4663316130f1e79', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3693a9f513428317551417a7b6525954e2eb987e', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76f6c6a83aadd305f60b1ab993b68d3d91b7b75c', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c2380c2540b5f5071492df5159120cf2259aa97', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cd66fd6a4d5dbe2c35e661e416d83f64b0fb8cf', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d055cbe22090d2f2baa3202670bee1d7b88310b', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb7473877ceb949c5396b38e62167e1823b8d298', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/tests/unit/api/controllers/v1/test_portgroup.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_port.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/989064a742852928bcdb6012f4958ea0758bb9d2', 'message': 'Convert portgroups endpoint to plain JSON\n\nChange-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977\nStory: 1651346\nTask: 10551\n'}]",4,750864,989064a742852928bcdb6012f4958ea0758bb9d2,70,6,18,4571,,,0,"Convert portgroups endpoint to plain JSON

Change-Id: I3706051704c260e605c765e8a45e4d4f3ec0b977
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/750864/13 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/tests/unit/api/controllers/v1/test_portgroup.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_port.py']",4,355014bce5d86850c348d822744516d2039b82ad,story/1651346," self.assertIn('Expected UUID or name for portgroup',"," self.assertIn('Expected a logical name or UUID',",215,274
openstack%2Fironic~master~I0594e84905957873de17275ee396531b816cd468,openstack/ironic,master,I0594e84905957873de17275ee396531b816cd468,Convert ports endpoint to plain JSON,MERGED,2020-09-07 05:06:57.000000000,2020-11-20 04:03:43.000000000,2020-11-18 18:40:39.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1aefd45ec31e9b1bcf99fdd98ae51e21f2f3cc98', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88911d6db12f29d3bf64cb542db776871db7372d', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b26f89da98474d46b409b1fd84e95dfc704c585', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2211a26fc89f735f94894b8e15519ce13865a8df', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dfbf379f509c0b800b44865c1a460d3225454916', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f6b80c8b8bd8468e62409a986089b622aaea11d', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ed5fdf07f0a8a0616204ff123a93d91762bcfc2', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af4064f076fa6ca273a24ad23b9c0944999422ca', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5134077be838d5546cfe0b69b6d0b7da2d95b222', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f3ff0d529283e1fdae4318588a0bfa07ad3420b4', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5b98df40752353d94fa17e6b4c0e05acfc3d08f', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/153ba6cf3be823659bd747c265e6681e3570f543', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ae52ac2801a69e1c8e89a7c3adfcae2e8a513df', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4055fc02cc88d5c0314c1d03f37dcbb4be433bb', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b968d69c103d260db50856a2f35c21953421456', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffab16e6073227b5ef2ce5f10ccc18bb4c954268', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28da4fb29f708ce2dff611c0b04529b2f8926527', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4184f62088b2b9cbe4a9e6f8d63adcddb9d72f1', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/976bbb59fceb8647ead8e95689d8c9b8fd134434', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/types.py', 'ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/common/neutron.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/api/controllers/v1/utils.py', 'ironic/tests/unit/api/controllers/v1/test_types.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b911acb10899d73dec75f47eb11153f5f677aaed', 'message': 'Convert ports endpoint to plain JSON\n\nChange-Id: I0594e84905957873de17275ee396531b816cd468\nStory: 1651346\nTask: 10551\n'}]",6,750120,b911acb10899d73dec75f47eb11153f5f677aaed,80,8,20,4571,,,0,"Convert ports endpoint to plain JSON

Change-Id: I0594e84905957873de17275ee396531b816cd468
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/750120/20 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/common/neutron.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/utils.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/tests/unit/api/controllers/v1/test_types.py']",9,1aefd45ec31e9b1bcf99fdd98ae51e21f2f3cc98,story/1651346,," class TestLocalLinkConnectionType(base.TestCase): def test_local_link_connection_type(self): v = types.locallinkconnectiontype value = {'switch_id': '0a:1b:2c:3d:4e:5f', 'port_id': 'value2', 'switch_info': 'value3'} self.assertCountEqual(value, v.validate(value)) def test_local_link_connection_type_datapath_id(self): v = types.locallinkconnectiontype value = {'switch_id': '0000000000000000', 'port_id': 'value2', 'switch_info': 'value3'} self.assertCountEqual(value, v.validate(value)) def test_local_link_connection_type_not_mac_or_datapath_id(self): v = types.locallinkconnectiontype value = {'switch_id': 'badid', 'port_id': 'value2', 'switch_info': 'value3'} self.assertRaises(exception.InvalidSwitchID, v.validate, value) def test_local_link_connection_type_invalid_key(self): v = types.locallinkconnectiontype value = {'switch_id': '0a:1b:2c:3d:4e:5f', 'port_id': 'value2', 'switch_info': 'value3', 'invalid_key': 'value'} self.assertRaisesRegex(exception.Invalid, 'are invalid keys', v.validate, value) def test_local_link_connection_type_missing_local_link_mandatory_key(self): v = types.locallinkconnectiontype value = {'switch_id': '0a:1b:2c:3d:4e:5f', 'switch_info': 'value3'} self.assertRaisesRegex(exception.Invalid, 'Missing mandatory', v.validate, value) def test_local_link_connection_type_local_link_keys_mandatory(self): v = types.locallinkconnectiontype value = {'switch_id': '0a:1b:2c:3d:4e:5f', 'port_id': 'value2'} self.assertCountEqual(value, v.validate(value)) def test_local_link_connection_type_empty_value(self): v = types.locallinkconnectiontype value = {} self.assertCountEqual(value, v.validate(value)) def test_local_link_connection_type_smart_nic_keys_mandatory(self): v = types.locallinkconnectiontype value = {'port_id': 'rep0-0', 'hostname': 'hostname'} self.assertTrue(v.validate_for_smart_nic(value)) self.assertTrue(v.validate(value)) def test_local_link_connection_type_smart_nic_keys_with_optional(self): v = types.locallinkconnectiontype value = {'port_id': 'rep0-0', 'hostname': 'hostname', 'switch_id': '0a:1b:2c:3d:4e:5f', 'switch_info': 'sw_info'} self.assertTrue(v.validate_for_smart_nic(value)) self.assertTrue(v.validate(value)) def test_local_link_connection_type_smart_nic_keys_hostname_missing(self): v = types.locallinkconnectiontype value = {'port_id': 'rep0-0'} self.assertFalse(v.validate_for_smart_nic(value)) self.assertRaises(exception.Invalid, v.validate, value) def test_local_link_connection_type_smart_nic_keys_port_id_missing(self): v = types.locallinkconnectiontype value = {'hostname': 'hostname'} self.assertFalse(v.validate_for_smart_nic(value)) self.assertRaises(exception.Invalid, v.validate, value) def test_local_link_connection_net_type_unmanaged(self): v = types.locallinkconnectiontype value = {'network_type': 'unmanaged'} self.assertCountEqual(value, v.validate(value)) def test_local_link_connection_net_type_unmanaged_combine_ok(self): v = types.locallinkconnectiontype value = {'network_type': 'unmanaged', 'switch_id': '0a:1b:2c:3d:4e:5f', 'port_id': 'rep0-0'} self.assertCountEqual(value, v.validate(value)) def test_local_link_connection_net_type_invalid(self): v = types.locallinkconnectiontype value = {'network_type': 'invalid'} self.assertRaises(exception.Invalid, v.validate, value)",496,578
openstack%2Fironic~master~I59f89d1907cd532325399b0a06edb96575d7eeec,openstack/ironic,master,I59f89d1907cd532325399b0a06edb96575d7eeec,Convert nodes endpoint to plain JSON,MERGED,2020-08-25 05:03:36.000000000,2020-11-20 04:03:03.000000000,2020-11-18 16:19:04.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee81c5c766def8c761ab3da86df1014581ef6612', 'message': 'WIP Convert node endpoint to plain JSON\n\nThere are still failing tests, but progress is being made\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d15666ff08e71b3543df1ba3095f61fe187d5617', 'message': 'Convert node endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0deed5f16d8cccc35f9536bf37c1ab2edcc42c4', 'message': 'Convert node endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17fb8d08fc39c29d66b864ea4ebd8f9d090fef78', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a49d1c0891002197f04aa443ccb749844ffdc4d9', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd35c4f01eabd6b6b2ace21ef72cbfefa7057636', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/719a9bdf812fdbbe22eb48cec996a424f4c86e6f', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2b597297152363bbb304de824d3906cf51e9231', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a7ec30b7a63bb47608c884339be020481da3f69', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6e900b7fd79e791265cd82193e3de7e3a256937', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a39b7933a9faa7754d8e14096b995f67131bb86', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a87d113f4720a5364e948f53617efdaade3275e6', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/510b5170856080faf1e6169eba17fda3ef9bd891', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e97b48d3deea9a15a1ca595f361be8f1362cc90', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68c1dc231fb305c69552f8bbe3e585f130920ffd', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df1809ad55905452427777a50841045a4dbf4786', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/03f233b3fcfd3c3c09dfe0f159fae3e9c120558e', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5fe809f37bac739ca190afa0e58db9b50d49fab', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34ea876f7391da13f8516b3ac8c140cd0924e40e', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f70db11f5afa4c13ac4f62aba7710923b1259dd7', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd55814b3b02a92bf0132a402cdc6e8b2ef98486', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/api/controllers/v1/utils.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/api/controllers/v1/test_types.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc4793960b88f1d73ecb299fd511b867e77968f7', 'message': 'Convert nodes endpoint to plain JSON\n\nChange-Id: I59f89d1907cd532325399b0a06edb96575d7eeec\nStory: 1651346\nTask: 10551\n'}]",20,747820,fc4793960b88f1d73ecb299fd511b867e77968f7,101,8,22,4571,,,0,"Convert nodes endpoint to plain JSON

Change-Id: I59f89d1907cd532325399b0a06edb96575d7eeec
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/747820/9 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/utils.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/api/controllers/v1/utils.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/api/controllers/v1/test_types.py', 'ironic/api/controllers/v1/node.py']",8,ee81c5c766def8c761ab3da86df1014581ef6612,story/1651346,"from ironic.api import method from ironic.common import argswith open(os.path.join(os.path.dirname(__file__), 'network-data-schema.json'), 'rb') as fl: NETWORK_DATA_SCHEMA = json.load(fl) NODE_SCHEMA = { 'type': 'object', 'properties': { 'automated_clean': {'type': ['boolean', 'null']}, 'bios_interface': {'type': ['string', 'null']}, 'boot_interface': {'type': ['string', 'null']}, 'chassis_uuid': {'type': ['string', 'null']}, 'conductor_group': {'type': ['string', 'null']}, 'console_interface': {'type': ['string', 'null']}, 'deploy_interface': {'type': ['string', 'null']}, 'description': {'type': ['string', 'null'], 'maxLength': _NODE_DESCRIPTION_MAX_LENGTH}, 'driver': {'type': 'string'}, 'driver_info': {'type': 'object'}, 'extra': {'type': ['object', 'null']}, 'inspect_interface': {'type': ['string', 'null']}, 'lessee': {'type': ['string', 'null']}, 'management_interface': {'type': ['string', 'null']}, 'name': {'type': ['string', 'null']}, 'network_data': {'anyOf': [ {'type': 'null'}, NETWORK_DATA_SCHEMA ]}, 'network_interface': {'type': ['string', 'null']}, 'owner': {'type': ['string', 'null']}, 'power_interface': {'type': ['string', 'null']}, 'properties': {'type': ['object', 'null']}, 'raid_interface': {'type': ['string', 'null']}, 'rescue_interface': {'type': ['string', 'null']}, 'resource_class': {'type': ['string', 'null'], 'maxLength': 80}, 'storage_interface': {'type': ['string', 'null']}, 'uuid': {'type': ['string', 'null']}, 'vendor_interface': {'type': ['string', 'null']}, }, 'required': ['driver'], 'additionalProperties': False, } # TODO(lucasagomes): Include maintenance once the endpoint # v1/nodes/<uuid>/maintenance do more things than updating the DB. NODE_PATCH_INTERNAL_PATHS = [ '/allocation_uuid', '/clean_step', '/conductor', '/console_enabled', '/created_at', '/deploy_step', '/driver_internal_info', '/fault', '/id', '/inspection_finished_at', '/inspection_started_at', '/last_error', '/links', '/maintenance_reason', '/raid_config', '/reservation', '/power_state', '/provision_state', '/provision_updated_at', '/target_power_state', '/target_provision_state', '/target_raid_config', '/updated_at', '/uuid', ] ALWAYS_FIELDS = ['links'] TRAITS_SCHEMA = { 'type': 'object', 'properties': { 'traits': { 'type': 'array', 'items': api_utils.TRAITS_SCHEMA }, }, 'additionalProperties': False, } VIF_VALIDATOR = args.and_valid( args.schema({ 'type': 'object', 'properties': { 'id': {'type': 'string'}, }, 'required': ['id'], 'additionalProperties': True, }), args.dict_valid({'id', args.uuid_or_name}) ) obj.pop(field, None) elif field == 'name' and obj.get('name') is None: empty_value = None if obj.get(field, empty_value) != empty_value: :param obj: The dict being returned to the API client that is and obj.get('provision_state') == ir_states.AVAILABLE): obj['provision_state'] = ir_states.NOSTATE and obj.get('provision_state') == ir_states.INSPECTWAIT): obj['provision_state'] = ir_states.INSPECTING try: jsonschema.validate(network_data, NETWORK_DATA_SCHEMA) @method.expose(status_code=http_client.NO_CONTENT) @args.validate(node_ident=args.uuid_or_name, boot_device=args.string, persistent=args.boolean) @method.expose() @args.validate(node_ident=args.uuid_or_name) @method.expose() @args.validate(node_ident=args.uuid_or_name)def indicator_convert_with_links(node_uuid, rpc_component, rpc_name, **rpc_fields): """"""Add links to the indicator."""""" url = api.request.public_url return { 'name': rpc_name, 'component': rpc_component, 'readonly': rpc_fields.get('readonly', True), 'states': rpc_fields.get('states', []), 'links': [ node_uuid, rpc_name)), node_uuid, rpc_name), bookmark=True) ] } def indicator_list_from_dict(node_ident, indicators): indicator_list = [] for component, names in indicators.items(): for name, fields in names.items(): indicator_at_component = IndicatorAtComponent( component=component, name=name) indicator = indicator_convert_with_links( node_ident, component, indicator_at_component.unique_name, **fields) indicator_list.append(indicator) return {'indicators': indicator_list} @method.expose(status_code=http_client.NO_CONTENT) @args.validate(node_ident=args.uuid_or_name, indicator=args.string, state=args.string) @method.expose() @args.validate(node_ident=args.uuid_or_name, indicator=args.string) return {'state': state} @method.expose() @args.validate(node_ident=args.uuid_or_name) def get_all(self, node_ident, **kwargs): return indicator_list_from_dict( @method.expose(status_code=http_client.NO_CONTENT) @args.validate(node_ident=args.uuid_or_name) @method.expose() @args.validate(node_ident=args.uuid_or_name) return {'console_enabled': console_state, 'console_info': console} @method.expose(status_code=http_client.ACCEPTED) @args.validate(node_ident=args.uuid_or_name, enabled=args.boolean)def node_states_convert(rpc_node): attr_list = ['console_enabled', 'last_error', 'power_state', 'provision_state', 'target_power_state', 'target_provision_state', 'provision_updated_at'] if api_utils.allow_raid_config(): attr_list.extend(['raid_config', 'target_raid_config']) states = {} for attr in attr_list: states[attr] = getattr(rpc_node, attr) if isinstance(states[attr], datetime.datetime): states[attr] = states[attr].isoformat() update_state_in_older_versions(states) return states @method.expose() @args.validate(node_ident=args.uuid_or_name) return node_states_convert(rpc_node) @method.body('target_raid_config') @method.expose(status_code=http_client.NO_CONTENT) @args.validate(node_ident=args.uuid_or_name, target_raid_config=args.types(dict)) @method.expose(status_code=http_client.ACCEPTED) @args.validate(node_ident=args.uuid_or_name, target=args.string, timeout=args.integer) @method.expose(status_code=http_client.ACCEPTED) @args.validate(node_ident=args.uuid_or_name, target=args.string, configdrive=args.types(type(None), dict, str), clean_steps=args.types(type(None), list), rescue_password=args.string) @method.expose() return {'traits': traits.get_trait_names()} @method.body('body') @method.expose(status_code=http_client.NO_CONTENT) @args.validate(trait=args.schema(api_utils.TRAITS_SCHEMA), body=args.schema(TRAITS_SCHEMA)) def put(self, trait=None, body=None): traits = None if body and 'traits' in body: traits = body['traits'] @method.expose(status_code=http_client.NO_CONTENT) @args.validate(trait=args.string)def node_convert_with_links(rpc_node, fields=None, sanitize=True): node = { 'automated_clean': rpc_node.automated_clean, 'bios_interface': rpc_node.bios_interface, 'boot_interface': rpc_node.boot_interface, 'clean_step': rpc_node.clean_step, 'conductor_group': rpc_node.conductor_group, 'console_enabled': rpc_node.console_enabled, 'console_interface': rpc_node.console_interface, 'created_at': (rpc_node.created_at and rpc_node.created_at.isoformat() or None), 'deploy_interface': rpc_node.deploy_interface, 'deploy_step': rpc_node.deploy_step, 'description': rpc_node.description, 'driver': rpc_node.driver, 'driver_info': rpc_node.driver_info, 'driver_internal_info': rpc_node.driver_internal_info, 'extra': rpc_node.extra, 'fault': rpc_node.fault, 'inspect_interface': rpc_node.inspect_interface, 'inspection_finished_at': ( rpc_node.inspection_finished_at and rpc_node.inspection_finished_at.isoformat() or None), 'inspection_started_at': ( rpc_node.inspection_started_at and rpc_node.inspection_started_at.isoformat() or None), 'instance_info': rpc_node.instance_info, 'instance_uuid': rpc_node.instance_uuid, 'last_error': rpc_node.last_error, 'lessee': rpc_node.lessee, 'maintenance': rpc_node.maintenance, 'maintenance_reason': rpc_node.maintenance_reason, 'management_interface': rpc_node.management_interface, 'name': rpc_node.name, 'network_data': rpc_node.network_data, 'network_interface': rpc_node.network_interface, 'owner': rpc_node.owner, 'power_interface': rpc_node.power_interface, 'power_state': rpc_node.power_state, 'properties': rpc_node.properties, 'protected': rpc_node.protected, 'protected_reason': rpc_node.protected_reason, 'provision_state': rpc_node.provision_state, 'provision_updated_at': (rpc_node.provision_updated_at and rpc_node.provision_updated_at.isoformat() or None), 'raid_config': rpc_node.raid_config, 'raid_interface': rpc_node.raid_interface, 'rescue_interface': rpc_node.rescue_interface, 'reservation': rpc_node.reservation, 'resource_class': rpc_node.resource_class, 'retired': rpc_node.retired, 'retired_reason': rpc_node.retired_reason, 'storage_interface': rpc_node.storage_interface, 'target_power_state': rpc_node.target_power_state, 'target_provision_state': rpc_node.target_provision_state, 'target_raid_config': rpc_node.target_raid_config, 'traits': rpc_node.traits.get_trait_names(), 'updated_at': (rpc_node.updated_at and rpc_node.updated_at.isoformat() or None), 'uuid': rpc_node.uuid, 'vendor_interface': rpc_node.vendor_interface, } if (api_utils.allow_expose_conductors() and (fields is None or 'conductor' in fields)): # NOTE(kaifeng) It is possible a node gets orphaned in certain # circumstances, set conductor to None in such case. try: host = api.request.rpcapi.get_conductor_for(rpc_node) node['conductor'] = host except (exception.NoValidHost, exception.TemporaryFailure): LOG.debug('Currently there is no conductor servicing node ' '%(node)s.', {'node': rpc_node.uuid}) node['conductor'] = None if (api_utils.allow_allocations() and (fields is None or 'allocation_uuid' in fields)): node['allocation_uuid'] = None if rpc_node.allocation_id: try: allocation = objects.Allocation.get_by_id( api.request.context, rpc_node.allocation_id) node['allocation_uuid'] = allocation.uuid except exception.AllocationNotFound: pass if fields is None or 'chassis_uuid' in fields: node['chassis_uuid'] = _get_chassis_uuid(rpc_node) if fields is not None: api_utils.check_for_invalid_fields( fields, set(node)) show_states_links = ( api_utils.allow_links_node_states_and_driver_properties()) show_portgroups = api_utils.allow_portgroups_subcontrollers() show_volume = api_utils.allow_volume() url = api.request.public_url if fields is None: node['ports'] = [link.make_link('self', url, 'nodes', node['uuid'] + ""/ports""), link.make_link('bookmark', url, 'nodes', node['uuid'] + ""/ports"", bookmark=True)] if show_states_links: node['states'] = [link.make_link('self', url, 'nodes', node['uuid'] + ""/states""), link.make_link('bookmark', url, 'nodes', node['uuid'] + ""/states"", bookmark=True)] if show_portgroups: node['portgroups'] = [ link.make_link('self', url, 'nodes', node['uuid'] + ""/portgroups""), link.make_link('bookmark', url, 'nodes', node['uuid'] + ""/portgroups"", bookmark=True)] if show_volume: node['volume'] = [ link.make_link('self', url, 'nodes', node['uuid'] + ""/volume""), link.make_link('bookmark', url, 'nodes', node['uuid'] + ""/volume"", bookmark=True)] node['links'] = [link.make_link('self', url, 'nodes', node['uuid']), link.make_link('bookmark', url, 'nodes', node['uuid'], bookmark=True)] if not sanitize: return node sanitize_node(node, fields) return node def sanitize_node(node, fields): """"""Removes sensitive and unrequested data. Will only keep the fields specified in the ``fields`` parameter. :param fields: list of fields to preserve, or ``None`` to preserve them all :type fields: list of str cdict = api.request.context.to_policy_values() # NOTE(tenbrae): the 'show_password' policy setting name exists for # legacy purposes and can not be changed. Changing it will # cause upgrade problems for any operators who have # customized the value of this field show_driver_secrets = policy.check(""show_password"", cdict, cdict) show_instance_secrets = policy.check(""show_instance_secrets"", cdict, cdict) if not show_driver_secrets and node.get('driver_info'): node['driver_info'] = strutils.mask_dict_password( node['driver_info'], ""******"") # NOTE(derekh): mask ssh keys for the ssh power driver. # As this driver is deprecated masking here (opposed to strutils) # is simpler, and easier to backport. This can be removed along # with support for the ssh power driver. if node['driver_info'].get('ssh_key_contents'): node['driver_info']['ssh_key_contents'] = ""******"" if not show_instance_secrets and node.get('instance_info'): node['instance_info'] = strutils.mask_dict_password( node['instance_info'], ""******"") # NOTE(tenbrae): agent driver may store a swift temp_url on the # instance_info, which shouldn't be exposed to non-admin users. # Now that ironic supports additional policies, we need to hide # it here, based on this policy. # Related to bug #1613903 if node['instance_info'].get('image_url'): node['instance_info']['image_url'] = ""******"" if node.get('driver_internal_info', {}).get('agent_secret_token'): node['driver_internal_info']['agent_secret_token'] = ""******"" update_state_in_older_versions(node) hide_fields_in_newer_versions(node) if fields is not None: for field in set(node.keys()): if field not in fields + ALWAYS_FIELDS: node.pop(field, None) show_states_links = ( api_utils.allow_links_node_states_and_driver_properties()) show_portgroups = api_utils.allow_portgroups_subcontrollers() show_volume = api_utils.allow_volume() if not show_volume: node.pop('volume', None) if not show_portgroups: node.pop('portgroups', None) if not show_states_links: node.pop('states', None) def node_list_convert_with_links(nodes, limit, url=None, fields=None, **kwargs): node_list = {'nodes': [node_convert_with_links(n, fields=fields, sanitize=False) for n in nodes]} next_uuid = collection.get_next( node_list['nodes'], limit, url=url, fields=fields, **kwargs) if next_uuid: node_list['next'] = next_uuid for node in node_list['node']: sanitize_node(node, fields=fields) return node_list @method.expose() @args.validate(node_ident=args.uuid_or_name) @method.body('data') @method.expose() @args.validate(node_ident=args.uuid_or_name, method=args.string) resp = api_utils.vendor_passthru(rpc_node.uuid, method, topic, api.response.status_code = resp.status_code return resp.obj @method.expose(status_code=http_client.ACCEPTED) @args.validate(node_ident=args.uuid_or_name, reason=args.string) @method.expose(status_code=http_client.ACCEPTED) @args.validate(node_ident=args.uuid_or_name) @method.expose() return {'vifs': vifs} @method.body('vif') @method.expose(status_code=http_client.NO_CONTENT) @args.validate(body=VIF_VALIDATOR) @method.expose(status_code=http_client.NO_CONTENT) @args.validate(vif_id=args.uuid_or_name) return node_list_convert_with_links(nodes, limit, url=resource_url, fields=fields, **parameters) patch_val = None if field in node: patch_val = node.get(field) # Ignore fields that aren't exposed in the API, except # chassis_id. chassis_id would have been set (instead of # chassis_uuid) if the node belongs to a chassis. This # AttributeError is raised for chassis_id only if # 1. the node doesn't belong to a chassis or # 2. the node belonged to a chassis but is now being removed # from the chassis. elif (field == ""chassis_id"" and rpc_node[field] is not None): if not api_utils.allow_remove_chassis_uuid(): raise exception.NotAcceptable() rpc_node[field] = None if field == 'conductor_group' and patch_val: @method.expose() @args.validate(chassis_uuid=args.uuid, instance_uuid=args.uuid, associated=args.boolean, maintenance=args.boolean, retired=args.boolean, provision_state=args.string, marker=args.uuid, limit=args.integer, sort_key=args.string, sort_dir=args.string, driver=args.string, fields=args.string_list, resource_class=args.string, fault=args.string, conductor_group=args.string, detail=args.boolean, conductor=args.string, owner=args.string, description_contains=args.string, lessee=args.string, project=args.string) @method.expose() @args.validate(chassis_uuid=args.uuid, instance_uuid=args.uuid, associated=args.boolean, maintenance=args.boolean, retired=args.boolean, provision_state=args.string, marker=args.uuid, limit=args.integer, sort_key=args.string, sort_dir=args.string, driver=args.string, resource_class=args.string, fault=args.string, conductor_group=args.string, conductor=args.string, owner=args.string, description_contains=args.string, lessee=args.string, project=args.string) @method.expose() @args.validate(node=args.uuid_or_name, node_uuid=args.uuid) @method.expose() @args.validate(node_ident=args.uuid_or_name, fields=args.string_list) return node_convert_with_links(rpc_node, fields=fields) @method.body('node') @method.expose(status_code=http_client.CREATED) @args.validate(node=args.schema(NODE_SCHEMA)) if not node.get('uuid'): node['uuid'] = uuidutils.generate_uuid() if node.get('name') is not None: error_msg = _(""Cannot create node with invalid name '%(name)s'"") self._check_names_acceptable([node['name']], error_msg) node['provision_state'] = api_utils.initial_node_provision_state() if not node.get('resource_class'): node['resource_class'] = CONF.default_resource_class chassis_uuid = node.pop('chassis_uuid', None) if chassis_uuid: try: chassis = objects.Chassis.get(api.request.context, chassis_uuid) # NOTE(lucasagomes): Create the chassis_id attribute on-the-fly # to satisfy the api -> rpc object # conversion. node['chassis_id'] = chassis.id except exception.ChassisNotFound as e: # Change error code because 404 (NotFound) is inappropriate # response for a POST request to create a Node e.code = http_client.BAD_REQUEST raise new_node = objects.Node(context, **node) topic = api.request.rpcapi.get_topic_for(new_node) chassis_uuid=chassis_uuid) chassis_uuid=chassis_uuid): api_node = node_convert_with_links(new_node) chassis_uuid = api_node.get('chassis_uuid') chassis_uuid=chassis_uuid) for p in patch: if p['path'] in NODE_PATCH_INTERNAL_PATHS: msg = _(""Cannot update %s in a node"") raise exception.Invalid(msg % p['path']) @method.body('patch') @method.expose() @args.validate(node_ident=args.uuid_or_name, reset_interfaces=args.boolean, patch=args.patch) node_dict = api_utils.apply_jsonpatch(node_dict, patch) self._update_changed_fields(node_dict, rpc_node) chassis_uuid = node_dict.get('chassis_uuid') chassis_uuid=chassis_uuid) chassis_uuid=chassis_uuid): api_node = node_convert_with_links(new_node) chassis_uuid = api_node.get('chassis_uuid') chassis_uuid=chassis_uuid) @method.expose(status_code=http_client.NO_CONTENT) @args.validate(node_ident=args.uuid_or_name) def delete(self, node_ident, *args): # occurs when deleting traits with an old API version if args: raise exception.NotFound() ","from ironic.api.controllers import basefrom ironic.api import expose from ironic.api import types as atypes NETWORK_DATA_SCHEMA = os.path.join( os.path.dirname(__file__), 'network-data-schema.json') setattr(obj, field, atypes.Unset) elif field == 'name' and obj.name is None: empty_value = atypes.Unset if getattr(obj, field, empty_value) != empty_value: :param obj: The object being returned to the API client that is and obj.provision_state == ir_states.AVAILABLE): obj.provision_state = ir_states.NOSTATE and obj.provision_state == ir_states.INSPECTWAIT): obj.provision_state = ir_states.INSPECTING with open(NETWORK_DATA_SCHEMA, 'rb') as fl: network_data_schema = json.load(fl) try: jsonschema.validate(network_data, network_data_schema) @expose.expose(None, types.uuid_or_name, str, types.boolean, status_code=http_client.NO_CONTENT) @expose.expose(str, types.uuid_or_name) @expose.expose(str, types.uuid_or_name)class IndicatorState(base.APIBase): """"""API representation of indicator state."""""" state = atypes.wsattr(str) def __init__(self, **kwargs): self.state = kwargs.get('state') class Indicator(base.APIBase): """"""API representation of an indicator."""""" name = atypes.wsattr(str) component = atypes.wsattr(str) readonly = types.BooleanType() states = atypes.ArrayType(str) links = None def __init__(self, **kwargs): self.name = kwargs.get('name') self.component = kwargs.get('component') self.readonly = kwargs.get('readonly', True) self.states = kwargs.get('states', []) @staticmethod def _convert_with_links(node_uuid, indicator, url): """"""Add links to the indicator."""""" indicator.links = [ node_uuid, indicator.name)), node_uuid, indicator.name), bookmark=True)] return indicator @classmethod def convert_with_links(cls, node_uuid, rpc_component, rpc_name, **rpc_fields): """"""Add links to the indicator."""""" indicator = Indicator( component=rpc_component, name=rpc_name, **rpc_fields) return cls._convert_with_links( node_uuid, indicator, pecan.request.host_url) class IndicatorsCollection(atypes.Base): """"""API representation of the indicators for a node."""""" indicators = [Indicator] """"""Node indicators list"""""" @staticmethod def collection_from_dict(node_ident, indicators): col = IndicatorsCollection() indicator_list = [] for component, names in indicators.items(): for name, fields in names.items(): indicator_at_component = IndicatorAtComponent( component=component, name=name) indicator = Indicator.convert_with_links( node_ident, component, indicator_at_component.unique_name, **fields) indicator_list.append(indicator) col.indicators = indicator_list return col @expose.expose(None, types.uuid_or_name, str, str, status_code=http_client.NO_CONTENT) @expose.expose(IndicatorState, types.uuid_or_name, str) return IndicatorState(state=state) @expose.expose(IndicatorsCollection, types.uuid_or_name, str, ignore_extra_args=True) def get_all(self, node_ident): return IndicatorsCollection.collection_from_dict( @expose.expose(None, types.uuid_or_name, status_code=http_client.NO_CONTENT)class ConsoleInfo(base.Base): """"""API representation of the console information for a node."""""" console_enabled = types.boolean """"""The console state: if the console is enabled or not."""""" console_info = {str: types.jsontype} """"""The console information. It typically includes the url to access the console and the type of the application that hosts the console."""""" @classmethod def sample(cls): console = {'type': 'shellinabox', 'url': 'http://<hostname>:4201'} return cls(console_enabled=True, console_info=console) @expose.expose(ConsoleInfo, types.uuid_or_name) return ConsoleInfo(console_enabled=console_state, console_info=console) @expose.expose(None, types.uuid_or_name, types.boolean, status_code=http_client.ACCEPTED)class NodeStates(base.APIBase): """"""API representation of the states of a node."""""" console_enabled = types.boolean """"""Indicates whether the console access is enabled or disabled on the node."""""" power_state = str """"""Represent the current (not transition) power state of the node"""""" provision_state = str """"""Represent the current (not transition) provision state of the node"""""" provision_updated_at = datetime.datetime """"""The UTC date and time of the last provision state change"""""" target_power_state = str """"""The user modified desired power state of the node."""""" target_provision_state = str """"""The user modified desired provision state of the node."""""" last_error = str """"""Any error from the most recent (last) asynchronous transaction that started but failed to finish."""""" raid_config = atypes.wsattr({str: types.jsontype}, readonly=True) """"""Represents the RAID configuration that the node is configured with."""""" target_raid_config = atypes.wsattr({str: types.jsontype}, readonly=True) """"""The desired RAID configuration, to be used the next time the node is configured."""""" @staticmethod def convert(rpc_node): attr_list = ['console_enabled', 'last_error', 'power_state', 'provision_state', 'target_power_state', 'target_provision_state', 'provision_updated_at'] if api_utils.allow_raid_config(): attr_list.extend(['raid_config', 'target_raid_config']) states = NodeStates() for attr in attr_list: setattr(states, attr, getattr(rpc_node, attr)) update_state_in_older_versions(states) return states @classmethod def sample(cls): sample = cls(target_power_state=ir_states.POWER_ON, target_provision_state=ir_states.ACTIVE, last_error=None, console_enabled=False, provision_updated_at=None, power_state=ir_states.POWER_ON, provision_state=None, raid_config=None, target_raid_config=None) return sample @expose.expose(NodeStates, types.uuid_or_name) return NodeStates.convert(rpc_node) @expose.expose(None, types.uuid_or_name, body=types.jsontype) @expose.expose(None, types.uuid_or_name, str, atypes.IntegerType(minimum=1), status_code=http_client.ACCEPTED) # FIXME(naohirot): This check is workaround because # atypes.IntegerType(minimum=1) is not effective @expose.expose(None, types.uuid_or_name, str, types.jsontype, types.jsontype, str, status_code=http_client.ACCEPTED)class Traits(base.APIBase): """"""API representation of the traits for a node."""""" traits = atypes.ArrayType(str) """"""node traits"""""" @classmethod def sample(cls): traits = [""CUSTOM_TRAIT1"", ""CUSTOM_TRAIT2""] return cls(traits=traits) @expose.expose(Traits) return Traits(traits=traits.get_trait_names()) @expose.expose(None, str, atypes.ArrayType(str), status_code=http_client.NO_CONTENT) def put(self, trait=None, traits=None): for trait in traits: api_utils.validate_trait(trait) @expose.expose(None, str, status_code=http_client.NO_CONTENT)class Node(base.APIBase): """"""API representation of a bare metal node. This class enforces type checking and value constraints, and converts between the internal object model and the API representation of a node. _chassis_uuid = None def _get_chassis_uuid(self): return self._chassis_uuid def _set_chassis_uuid(self, value): if value in (atypes.Unset, None): self._chassis_uuid = value elif self._chassis_uuid != value: try: chassis = objects.Chassis.get(api.request.context, value) self._chassis_uuid = chassis.uuid # NOTE(lucasagomes): Create the chassis_id attribute on-the-fly # to satisfy the api -> rpc object # conversion. self.chassis_id = chassis.id except exception.ChassisNotFound as e: # Change error code because 404 (NotFound) is inappropriate # response for a POST request to create a Port e.code = http_client.BAD_REQUEST raise uuid = types.uuid """"""Unique UUID for this node"""""" instance_uuid = types.uuid """"""The UUID of the instance in nova-compute"""""" name = atypes.wsattr(str) """"""The logical name for this node"""""" power_state = atypes.wsattr(str, readonly=True) """"""Represent the current (not transition) power state of the node"""""" target_power_state = atypes.wsattr(str, readonly=True) """"""The user modified desired power state of the node."""""" last_error = atypes.wsattr(str, readonly=True) """"""Any error from the most recent (last) asynchronous transaction that started but failed to finish."""""" provision_state = atypes.wsattr(str, readonly=True) """"""Represent the current (not transition) provision state of the node"""""" reservation = atypes.wsattr(str, readonly=True) """"""The hostname of the conductor that holds an exclusive lock on the node."""""" provision_updated_at = datetime.datetime """"""The UTC date and time of the last provision state change"""""" inspection_finished_at = datetime.datetime """"""The UTC date and time when the last hardware inspection finished successfully."""""" inspection_started_at = datetime.datetime """"""The UTC date and time when the hardware inspection was started"""""" maintenance = types.boolean """"""Indicates whether the node is in maintenance mode."""""" maintenance_reason = atypes.wsattr(str, readonly=True) """"""Indicates reason for putting a node in maintenance mode."""""" fault = atypes.wsattr(str, readonly=True) """"""Indicates the active fault of a node."""""" target_provision_state = atypes.wsattr(str, readonly=True) """"""The user modified desired provision state of the node."""""" console_enabled = types.boolean """"""Indicates whether the console access is enabled or disabled on the node."""""" instance_info = {str: types.jsontype} """"""This node's instance info."""""" driver = atypes.wsattr(str, mandatory=True) """"""The driver responsible for controlling the node"""""" driver_info = {str: types.jsontype} """"""This node's driver configuration"""""" driver_internal_info = atypes.wsattr({str: types.jsontype}, readonly=True) """"""This driver's internal configuration"""""" clean_step = atypes.wsattr({str: types.jsontype}, readonly=True) """"""The current clean step"""""" deploy_step = atypes.wsattr({str: types.jsontype}, readonly=True) """"""The current deploy step"""""" raid_config = atypes.wsattr({str: types.jsontype}, readonly=True) """"""Represents the current RAID configuration of the node """""" target_raid_config = atypes.wsattr({str: types.jsontype}, readonly=True) """"""The user modified RAID configuration of the node """""" extra = {str: types.jsontype} """"""This node's meta data"""""" resource_class = atypes.wsattr(atypes.StringType(max_length=80)) """"""The resource class for the node, useful for classifying or grouping nodes. Used, for example, to classify nodes in Nova's placement engine."""""" # NOTE: properties should use a class to enforce required properties # current list: arch, cpus, disk, ram, image properties = {str: types.jsontype} """"""The physical characteristics of this node"""""" chassis_uuid = atypes.wsproperty(types.uuid, _get_chassis_uuid, _set_chassis_uuid) """"""The UUID of the chassis this node belongs"""""" links = None """"""A list containing a self link and associated node links"""""" ports = None """"""Links to the collection of ports on this node"""""" portgroups = None """"""Links to the collection of portgroups on this node"""""" volume = None """"""Links to endpoint for retrieving volume resources on this node"""""" states = None """"""Links to endpoint for retrieving and setting node states"""""" boot_interface = atypes.wsattr(str) """"""The boot interface to be used for this node"""""" console_interface = atypes.wsattr(str) """"""The console interface to be used for this node"""""" deploy_interface = atypes.wsattr(str) """"""The deploy interface to be used for this node"""""" inspect_interface = atypes.wsattr(str) """"""The inspect interface to be used for this node"""""" management_interface = atypes.wsattr(str) """"""The management interface to be used for this node"""""" network_interface = atypes.wsattr(str) """"""The network interface to be used for this node"""""" power_interface = atypes.wsattr(str) """"""The power interface to be used for this node"""""" raid_interface = atypes.wsattr(str) """"""The raid interface to be used for this node"""""" rescue_interface = atypes.wsattr(str) """"""The rescue interface to be used for this node"""""" storage_interface = atypes.wsattr(str) """"""The storage interface to be used for this node"""""" vendor_interface = atypes.wsattr(str) """"""The vendor interface to be used for this node"""""" traits = atypes.ArrayType(str) """"""The traits associated with this node"""""" bios_interface = atypes.wsattr(str) """"""The bios interface to be used for this node"""""" conductor_group = atypes.wsattr(str) """"""The conductor group to manage this node"""""" automated_clean = types.boolean """"""Indicates whether the node will perform automated clean or not."""""" protected = types.boolean """"""Indicates whether the node is protected from undeploying/rebuilding."""""" protected_reason = atypes.wsattr(str) """"""Indicates reason for protecting the node."""""" conductor = atypes.wsattr(str, readonly=True) """"""Represent the conductor currently serving the node"""""" owner = atypes.wsattr(str) """"""Field for storage of physical node owner"""""" lessee = atypes.wsattr(str) """"""Field for storage of physical node lessee"""""" description = atypes.wsattr(str) """"""Field for node description"""""" allocation_uuid = atypes.wsattr(types.uuid, readonly=True) """"""The UUID of the allocation this node belongs"""""" retired = types.boolean """"""Indicates whether the node is marked for retirement."""""" retired_reason = atypes.wsattr(str) """"""Indicates the reason for a node's retirement."""""" network_data = atypes.wsattr({str: types.jsontype}) """"""Static network configuration JSON ironic will hand over to the node."""""" # NOTE(tenbrae): ""conductor_affinity"" shouldn't be presented on the # API because it's an internal value. Don't add it here. def __init__(self, **kwargs): self.fields = [] fields = list(objects.Node.fields) # NOTE(lucasagomes): chassis_uuid is not part of objects.Node.fields # because it's an API-only attribute. fields.append('chassis_uuid') # NOTE(kaifeng) conductor is not part of objects.Node.fields too. fields.append('conductor') for k in fields: # Add fields we expose. if hasattr(self, k): self.fields.append(k) # TODO(jroll) is there a less hacky way to do this? if k == 'traits' and kwargs.get('traits') is not None: value = [t['trait'] for t in kwargs['traits']['objects']] # NOTE(jroll) this is special-cased to """" and not Unset, # because it is used in hash ring calculations elif (k == 'conductor_group' and (k not in kwargs or kwargs[k] is atypes.Unset)): value = '' else: value = kwargs.get(k, atypes.Unset) setattr(self, k, value) # NOTE(lucasagomes): chassis_id is an attribute created on-the-fly # by _set_chassis_uuid(), it needs to be present in the fields so # that as_dict() will contain chassis_id field when converting it # before saving it in the database. self.fields.append('chassis_id') if 'chassis_uuid' not in kwargs: setattr(self, 'chassis_uuid', kwargs.get('chassis_id', atypes.Unset)) @staticmethod def _convert_with_links(node, url, fields=None, show_states_links=True, show_portgroups=True, show_volume=True): if fields is None: node.ports = [link.make_link('self', url, 'nodes', node.uuid + ""/ports""), link.make_link('bookmark', url, 'nodes', node.uuid + ""/ports"", bookmark=True) ] if show_states_links: node.states = [link.make_link('self', url, 'nodes', node.uuid + ""/states""), link.make_link('bookmark', url, 'nodes', node.uuid + ""/states"", bookmark=True)] if show_portgroups: node.portgroups = [ link.make_link('self', url, 'nodes', node.uuid + ""/portgroups""), link.make_link('bookmark', url, 'nodes', node.uuid + ""/portgroups"", bookmark=True)] if show_volume: node.volume = [ link.make_link('self', url, 'nodes', node.uuid + ""/volume""), link.make_link('bookmark', url, 'nodes', node.uuid + ""/volume"", bookmark=True)] node.links = [link.make_link('self', url, 'nodes', node.uuid), link.make_link('bookmark', url, 'nodes', node.uuid, bookmark=True) ] return node @classmethod def convert_with_links(cls, rpc_node, fields=None, sanitize=True): node = Node(**rpc_node.as_dict()) if (api_utils.allow_expose_conductors() and (fields is None or 'conductor' in fields)): # NOTE(kaifeng) It is possible a node gets orphaned in certain # circumstances, set conductor to None in such case. try: host = api.request.rpcapi.get_conductor_for(rpc_node) node.conductor = host except (exception.NoValidHost, exception.TemporaryFailure): LOG.debug('Currently there is no conductor servicing node ' '%(node)s.', {'node': rpc_node.uuid}) node.conductor = None if (api_utils.allow_allocations() and (fields is None or 'allocation_uuid' in fields)): node.allocation_uuid = None if rpc_node.allocation_id: try: allocation = objects.Allocation.get_by_id( api.request.context, rpc_node.allocation_id) node.allocation_uuid = allocation.uuid except exception.AllocationNotFound: pass if fields is not None: api_utils.check_for_invalid_fields( fields, set(node.as_dict()) | {'allocation_uuid'}) show_states_links = ( api_utils.allow_links_node_states_and_driver_properties()) show_portgroups = api_utils.allow_portgroups_subcontrollers() show_volume = api_utils.allow_volume() node = cls._convert_with_links(node, api.request.public_url, fields=fields, show_states_links=show_states_links, show_portgroups=show_portgroups, show_volume=show_volume) if not sanitize: return node node.sanitize(fields) return node def sanitize(self, fields): """"""Removes sensitive and unrequested data. Will only keep the fields specified in the ``fields`` parameter. :param fields: list of fields to preserve, or ``None`` to preserve them all :type fields: list of str """""" cdict = api.request.context.to_policy_values() # NOTE(tenbrae): the 'show_password' policy setting name exists for # legacy purposes and can not be changed. Changing it will # cause upgrade problems for any operators who have # customized the value of this field show_driver_secrets = policy.check(""show_password"", cdict, cdict) show_instance_secrets = policy.check(""show_instance_secrets"", cdict, cdict) if not show_driver_secrets and self.driver_info != atypes.Unset: self.driver_info = strutils.mask_dict_password( self.driver_info, ""******"") # NOTE(derekh): mask ssh keys for the ssh power driver. # As this driver is deprecated masking here (opposed to strutils) # is simpler, and easier to backport. This can be removed along # with support for the ssh power driver. if self.driver_info.get('ssh_key_contents'): self.driver_info['ssh_key_contents'] = ""******"" if not show_instance_secrets and self.instance_info != atypes.Unset: self.instance_info = strutils.mask_dict_password( self.instance_info, ""******"") # NOTE(tenbrae): agent driver may store a swift temp_url on the # instance_info, which shouldn't be exposed to non-admin users. # Now that ironic supports additional policies, we need to hide # it here, based on this policy. # Related to bug #1613903 if self.instance_info.get('image_url'): self.instance_info['image_url'] = ""******"" if self.driver_internal_info.get('agent_secret_token'): self.driver_internal_info['agent_secret_token'] = ""******"" update_state_in_older_versions(self) hide_fields_in_newer_versions(self) if fields is not None: self.unset_fields_except(fields) # NOTE(lucasagomes): The numeric ID should not be exposed to # the user, it's internal only. self.chassis_id = atypes.Unset show_states_links = ( api_utils.allow_links_node_states_and_driver_properties()) show_portgroups = api_utils.allow_portgroups_subcontrollers() show_volume = api_utils.allow_volume() if not show_volume: self.volume = atypes.Unset if not show_portgroups: self.portgroups = atypes.Unset if not show_states_links: self.states = atypes.Unset @classmethod def sample(cls, expand=True): time = datetime.datetime(2000, 1, 1, 12, 0, 0) node_uuid = '1be26c0b-03f2-4d2e-ae87-c02d7f33c123' instance_uuid = 'dcf1fbc5-93fc-4596-9395-b80572f6267b' name = 'database16-dc02' sample = cls(uuid=node_uuid, instance_uuid=instance_uuid, name=name, power_state=ir_states.POWER_ON, target_power_state=ir_states.NOSTATE, last_error=None, provision_state=ir_states.ACTIVE, target_provision_state=ir_states.NOSTATE, reservation=None, driver='fake', driver_info={}, driver_internal_info={}, extra={}, properties={ 'memory_mb': '1024', 'local_gb': '10', 'cpus': '1'}, updated_at=time, created_at=time, provision_updated_at=time, instance_info={}, maintenance=False, maintenance_reason=None, fault=None, inspection_finished_at=None, inspection_started_at=time, console_enabled=False, clean_step={}, deploy_step={}, raid_config=None, target_raid_config=None, network_interface='flat', resource_class='baremetal-gold', boot_interface=None, console_interface=None, deploy_interface=None, inspect_interface=None, management_interface=None, power_interface=None, raid_interface=None, vendor_interface=None, storage_interface=None, traits=[], rescue_interface=None, bios_interface=None, conductor_group="""", automated_clean=None, protected=False, protected_reason=None, owner=None, allocation_uuid='982ddb5b-bce5-4d23-8fb8-7f710f648cd5', retired=False, retired_reason=None, lessee=None, network_data={}) # NOTE(matty_dubs): The chassis_uuid getter() is based on the # _chassis_uuid variable: sample._chassis_uuid = 'edcad704-b2da-41d5-96d9-afd580ecfa12' fields = None if expand else _DEFAULT_RETURN_FIELDS return cls._convert_with_links(sample, 'http://localhost:6385', fields=fields) class NodePatchType(types.JsonPatchType): _api_base = Node @staticmethod def internal_attrs(): defaults = types.JsonPatchType.internal_attrs() # TODO(lucasagomes): Include maintenance once the endpoint # v1/nodes/<uuid>/maintenance do more things than updating the DB. return defaults + ['/console_enabled', '/last_error', '/power_state', '/provision_state', '/reservation', '/target_power_state', '/target_provision_state', '/provision_updated_at', '/maintenance_reason', '/driver_internal_info', '/inspection_finished_at', '/inspection_started_at', '/clean_step', '/deploy_step', '/raid_config', '/target_raid_config', '/fault', '/conductor', '/allocation_uuid'] class NodeCollection(collection.Collection): """"""API representation of a collection of nodes."""""" nodes = [Node] """"""A list containing nodes objects"""""" def __init__(self, **kwargs): self._type = 'nodes' @staticmethod def convert_with_links(nodes, limit, url=None, fields=None, **kwargs): collection = NodeCollection() collection.nodes = [Node.convert_with_links(n, fields=fields, sanitize=False) for n in nodes] collection.next = collection.get_next(limit, url=url, fields=fields, **kwargs) for node in collection.nodes: node.sanitize(fields) return collection @classmethod def sample(cls): sample = cls() node = Node.sample(expand=False) sample.nodes = [node] return sample @expose.expose(str, types.uuid_or_name) @expose.expose(str, types.uuid_or_name, str, body=str) return api_utils.vendor_passthru(rpc_node.uuid, method, topic, @expose.expose(None, types.uuid_or_name, str, status_code=http_client.ACCEPTED) @expose.expose(None, types.uuid_or_name, status_code=http_client.ACCEPTED)# NOTE(vsaienko) We don't support pagination with VIFs, so we don't use # collection.Collection here. class VifCollection(base.Base): """"""API representation of a collection of VIFs. """""" vifs = [types.viftype] """"""A list containing VIFs objects"""""" @staticmethod def collection_from_list(vifs): col = VifCollection() col.vifs = [types.VifType.frombasetype(vif) for vif in vifs] return col @expose.expose(VifCollection) return VifCollection.collection_from_list(vifs) @expose.expose(None, body=types.viftype, status_code=http_client.NO_CONTENT) @expose.expose(None, types.uuid_or_name, status_code=http_client.NO_CONTENT) return NodeCollection.convert_with_links(nodes, limit, url=resource_url, fields=fields, **parameters) try: patch_val = getattr(node, field) except AttributeError: # Ignore fields that aren't exposed in the API, except # chassis_id. chassis_id would have been set (instead of # chassis_uuid) if the node belongs to a chassis. This # AttributeError is raised for chassis_id only if # 1. the node doesn't belong to a chassis or # 2. the node belonged to a chassis but is now being removed # from the chassis. if (field == ""chassis_id"" and rpc_node[field] is not None): if not api_utils.allow_remove_chassis_uuid(): raise exception.NotAcceptable() rpc_node[field] = None continue if patch_val == atypes.Unset: patch_val = None if field == 'conductor_group': @expose.expose(NodeCollection, types.uuid, types.uuid, types.boolean, types.boolean, types.boolean, str, types.uuid, int, str, str, str, types.listtype, str, str, str, types.boolean, str, str, str, str, str) @expose.expose(NodeCollection, types.uuid, types.uuid, types.boolean, types.boolean, types.boolean, str, types.uuid, int, str, str, str, str, str, str, str, str, str, str, str) @expose.expose(str, types.uuid_or_name, types.uuid) @expose.expose(Node, types.uuid_or_name, types.listtype) return Node.convert_with_links(rpc_node, fields=fields) @expose.expose(Node, body=Node, status_code=http_client.CREATED) if node.conductor is not atypes.Unset: msg = _(""Cannot specify conductor on node creation."") raise exception.Invalid(msg) if node.traits is not atypes.Unset: msg = _(""Cannot specify node traits on node creation. Traits must "" ""be set via the node traits API."") raise exception.Invalid(msg) if (node.protected is not atypes.Unset or node.protected_reason is not atypes.Unset): msg = _(""Cannot specify protected or protected_reason on node "" ""creation. These fields can only be set for active nodes"") raise exception.Invalid(msg) if (node.description is not atypes.Unset and len(node.description) > _NODE_DESCRIPTION_MAX_LENGTH): msg = _(""Cannot create node with description exceeding %s "" ""characters"") % _NODE_DESCRIPTION_MAX_LENGTH raise exception.Invalid(msg) if node.allocation_uuid is not atypes.Unset: msg = _(""Allocation UUID cannot be specified, use allocations API"") raise exception.Invalid(msg) if node.network_data is not atypes.Unset: validate_network_data(node.network_data) if not node.uuid: node.uuid = uuidutils.generate_uuid() topic = api.request.rpcapi.get_topic_for(node) if node.name != atypes.Unset and node.name is not None: error_msg = _(""Cannot create node with invalid name '%(name)s'"") self._check_names_acceptable([node.name], error_msg) node.provision_state = api_utils.initial_node_provision_state() if not node.resource_class: node.resource_class = CONF.default_resource_class new_node = objects.Node(context, **node.as_dict()) chassis_uuid=node.chassis_uuid) chassis_uuid=node.chassis_uuid): api_node = Node.convert_with_links(new_node) chassis_uuid=api_node.chassis_uuid) @expose.validate(types.uuid, types.boolean, [NodePatchType]) @expose.expose(Node, types.uuid_or_name, types.boolean, body=[NodePatchType]) node = Node(**api_utils.apply_jsonpatch(node_dict, patch)) self._update_changed_fields(node, rpc_node) chassis_uuid=node.chassis_uuid) chassis_uuid=node.chassis_uuid): api_node = Node.convert_with_links(new_node) chassis_uuid=api_node.chassis_uuid) @expose.expose(None, types.uuid_or_name, status_code=http_client.NO_CONTENT) def delete(self, node_ident):",550,954
openstack%2Fironic~master~Ie9ce276de04eab0fedf3149a0bbf53f5ee755402,openstack/ironic,master,Ie9ce276de04eab0fedf3149a0bbf53f5ee755402,Convert event endpoint to plain JSON,MERGED,2020-08-18 00:55:19.000000000,2020-11-20 04:01:03.000000000,2020-11-18 15:45:25.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3953f6f7ed1e9f36054c89e9c7e3da8d2450f46', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39ae14d4ae3287ee9f2719a81e181a1f56808391', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad40e67e11a33d16c4880c18c1884568d85ac65d', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd18e39d92a31a48fba0b58b8c74bc5fa845dc5b', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60648ad6fc00198187150a8fd8560c61bcfa147f', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ddb7c5fb92eef6d240ea9e98c4d4c23a276dc0d5', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b4071ce3070fb3e14faa381a4da7f71e028350b', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0439403c0fa11adae4ea8550e9cef0f35fdf3a9c', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59051dd173ae521d4d67c6477762144fb62ca099', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/539b5d2ab571a89e1289efa25cc118257d8722b2', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5bb025e0e880bb39ebf9906556472439ecba47f6', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/206b1acb1b78ebfc0b462fc3fa3dd094874d448c', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eddc48c8ea6b8fbeeac15dc2fc904b6706a95241', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9de685acd45e1c22284db9167cf4d58a4e698da9', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/38097e06096bfaee8b368c30d932e87189189a0d', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fc4740812719be176a0fe2ed6e189889edcb4e1', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c866dc2713b5eeec32c7e48786d57070556d7083', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dcf1d03266be780f3f009159532a913e4e95d0fa', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eeec74d810c5fb16d5ca2c97f014e3d74a74ed85', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2137224e890bb329c3534272dcd5dc2a44181f8', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5209619ff2a599e193a341034c67833bbda7c3f', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/controllers/v1/test_event.py', 'ironic/api/controllers/v1/event.py', 'ironic/tests/unit/api/controllers/v1/test_types.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c16ed232da67ed2e2e6a6df05df931f40e60ceb2', 'message': 'Convert event endpoint to plain JSON\n\nChange-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402\nStory: 1651346\nTask: 10551\n'}]",4,746623,c16ed232da67ed2e2e6a6df05df931f40e60ceb2,86,6,22,4571,,,0,"Convert event endpoint to plain JSON

Change-Id: Ie9ce276de04eab0fedf3149a0bbf53f5ee755402
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/746623/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/types.py', 'ironic/tests/unit/api/utils.py', 'ironic/tests/unit/api/controllers/v1/test_event.py', 'ironic/api/controllers/v1/event.py', 'ironic/tests/unit/api/controllers/v1/test_types.py']",5,e3953f6f7ed1e9f36054c89e9c7e3da8d2450f46,story/1651346,,"from ironic.tests.unit.api.utils import fake_event_validator class TestEventType(base.TestCase): def setUp(self): super(TestEventType, self).setUp() self.v = types.eventtype @mock.patch.object(types.EventType, 'event_validators', {'valid.event': fake_event_validator}) @mock.patch.object(types.EventType, 'valid_events', set(['valid.event'])) def test_simple_event_type(self): value = {'event': 'valid.event'} self.assertCountEqual(value, self.v.validate(value)) @mock.patch.object(types.EventType, 'valid_events', set(['valid.event'])) def test_invalid_event_type(self): value = {'event': 'invalid.event'} self.assertRaisesRegex(exception.Invalid, 'invalid.event is not one of valid events:', self.v.validate, value) def test_event_missing_madatory_field(self): value = {'invalid': 'invalid'} self.assertRaisesRegex(exception.Invalid, 'Missing mandatory keys:', self.v.validate, value) def test_network_port_event(self): value = {'event': 'network.bind_port', 'port_id': '11111111-aaaa-bbbb-cccc-555555555555', 'mac_address': 'de:ad:ca:fe:ba:be', 'status': 'ACTIVE', 'device_id': '22222222-aaaa-bbbb-cccc-555555555555', 'binding:host_id': '22222222-aaaa-bbbb-cccc-555555555555', 'binding:vnic_type': 'baremetal' } self.assertCountEqual(value, self.v.validate(value)) def test_invalid_mac_network_port_event(self): value = {'event': 'network.bind_port', 'port_id': '11111111-aaaa-bbbb-cccc-555555555555', 'mac_address': 'INVALID_MAC_ADDRESS', 'status': 'ACTIVE', 'device_id': '22222222-aaaa-bbbb-cccc-555555555555', 'binding:host_id': '22222222-aaaa-bbbb-cccc-555555555555', 'binding:vnic_type': 'baremetal' } self.assertRaisesRegex(exception.Invalid, 'Event validation failure for mac_address.', self.v.validate, value) def test_missing_mandatory_fields_network_port_event(self): value = {'event': 'network.bind_port', 'device_id': '22222222-aaaa-bbbb-cccc-555555555555', 'binding:host_id': '22222222-aaaa-bbbb-cccc-555555555555', 'binding:vnic_type': 'baremetal' } self.assertRaisesRegex(exception.Invalid, 'Missing mandatory keys:', self.v.validate, value)",122,187
openstack%2Fironic~master~If8d9ee3c98e21d3428336a2eec2b704bb109c4ac,openstack/ironic,master,If8d9ee3c98e21d3428336a2eec2b704bb109c4ac,Convert drivers endpoint to plain JSON,MERGED,2020-07-20 02:15:03.000000000,2020-11-20 04:00:53.000000000,2020-11-18 12:12:58.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-20 02:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45c205cd8ecd4df2324e3bdf1acb518b394960cd', 'message': 'WIP Remove Driver, DriverList types\n\nReplaced by functions returning a dict equivalent.\n\nWIP because input argument validation is missing\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\n'}, {'number': 2, 'created': '2020-07-24 05:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/954a438baaafeddb656de2ccaf8e9e8971e25398', 'message': 'WIP Remove Driver, DriverList types\n\nReplaced by functions returning a dict equivalent.\n\nWIP because input argument validation is still maturing\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\n'}, {'number': 3, 'created': '2020-07-29 05:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/410299b5d0e6b729246fcaa48d970465b8d835f8', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-07-30 01:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bad4be228344bf6cb45de31aa4bd3423ac1194c', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-08-09 21:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/282c48965b5f4d41d64743dbc8e3dbbee9610e36', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-08-10 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c86cab4897d49f0e6c690f45323f39f8ec7c84d', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be54d979e2e902e6f9d5053e198878eaeefb48c2', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef5b7fc620a09d9c67a9b1e351c32ca01af64502', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b349d3dda7bb9656380e2831128aab0721ea8e4', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa0682af65743525f3611ffd2371f78a73768ebe', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c412d7b9d334d6c2ba4015be2ea58a52b10b7d34', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9777e14723da7d2d796090436bb52894ca2c85c2', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c31220a5690b98e3a1f60094a31bb1f713c1593', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/edcb520e4d5d3ca7811752725efc0fa018d42254', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f808e466beca2dea26db617d5907984d1aa0c8c7', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a507484e2d40bd841b0bd1088f05887d6b5ee46a', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f32eeda11aabd2162f0f1eb7daf6006426420303', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/12f85a840f98026613d42ff7030c7bdaeb22f9ad', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/faa403542543f05029ff84f07f8d9b78af59b89c', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cbd33f4464b03df01c6102b6eb1d9abc9a85655', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/24befd01cb0d8063adc9ee7fe52de0be75291ee5', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/825cd189f1f1726ecffd5ebf30c880da429bf01e', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3fa81f8838e400c89c65424ccdc3c8509eaf9f4b', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 24, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dd88c3cce825f861ced848e9b02692b8ceca9bf', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 25, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74b0dde1e6bab2eaaf14603afca9af905b6c7545', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 26, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ba3e81bfcbebc23e0cf311a1fa30e5e4aa170a7', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 27, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c91a3a0c52ed2d32804fc94b6fba61dfce8f57ae', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 28, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f150eee8c4bb3d92272f49decc9f3b903dfc506f', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}, {'number': 29, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/api/controllers/v1/driver.py', 'ironic/tests/unit/api/controllers/v1/test_driver.py', 'ironic/api/method.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a906a9d8f86c081da89871f26ade2b16e4ebd94', 'message': 'Convert drivers endpoint to plain JSON\n\nChange-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac\nStory: 1651346\nTask: 10551\n'}]",4,741865,6a906a9d8f86c081da89871f26ade2b16e4ebd94,124,8,29,4571,,,0,"Convert drivers endpoint to plain JSON

Change-Id: If8d9ee3c98e21d3428336a2eec2b704bb109c4ac
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/741865/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/driver.py'],1,45c205cd8ecd4df2324e3bdf1acb518b394960cd,story/1651346,"from ironic.api import methoddef hide_fields_in_newer_versions(driver): driver.pop('default_storage_interface', None) driver.pop('enabled_storage_interfaces', None) driver.pop('default_rescue_interface', None) driver.pop('enabled_rescue_interfaces', None) driver.pop('default_bios_interface', None) driver.pop('enabled_bios_interfaces', None) def convert_with_links(name, hosts, detail=False, interface_info=None): """"""Convert driver/hardware type info to a dict. :param name: name of a hardware type. :param hosts: list of conductor hostnames driver is active on. :param detail: boolean, whether to include detailed info, such as the 'type' field and default/enabled interfaces fields. :param interface_info: optional list of dicts of hardware interface info. :returns: dict representing the driver object. """""" driver = { 'name': name, 'hosts': hosts, 'links': [ } if api_utils.allow_links_node_states_and_driver_properties(): driver['properties'] = [ link.make_link('self', api.request.public_url, 'drivers', name + ""/properties""), link.make_link('bookmark', api.request.public_url, 'drivers', name + ""/properties"", bookmark=True) ] if api_utils.allow_dynamic_drivers(): # NOTE(dtantsur): only dynamic drivers (based on hardware types) # are supported starting with the Rocky release. driver['type'] = 'dynamic' if detail: if interface_info is None: # TODO(jroll) objectify this interface_info = (api.request.dbapi .list_hardware_type_interfaces([name])) for iface_type in driver_base.ALL_INTERFACES: default = None enabled = set() for iface in interface_info: if iface['interface_type'] == iface_type: iface_name = iface['interface_name'] enabled.add(iface_name) # NOTE(jroll) this assumes the default is the same # on all conductors if iface['default']: default = iface_name default_key = 'default_%s_interface' % iface_type enabled_key = 'enabled_%s_interfaces' % iface_type driver[default_key] = default driver[enabled_key] = list(enabled) hide_fields_in_newer_versions(driver) return driver def list_convert_with_links(hardware_types, detail=False): """"""Convert drivers and hardware types to an API-serializable object. :param hardware_types: dict mapping hardware type names to conductor hostnames. :param detail: boolean, whether to include detailed info, such as the 'type' field and default/enabled interfaces fields. :returns: an API-serializable driver collection object. """""" drivers = [] collection = { 'drivers': drivers } # NOTE(jroll) we return hardware types in all API versions, # but restrict type/default/enabled fields to 1.30. # This is checked in Driver.convert_with_links(), however also # checking here can save us a DB query. if api_utils.allow_dynamic_drivers() and detail: iface_info = api.request.dbapi.list_hardware_type_interfaces( list(hardware_types)) else: iface_info = [] for htname in hardware_types: interface_info = [i for i in iface_info if i['hardware_type'] == htname] drivers.append( convert_with_links(htname, list(hardware_types[htname]), detail=detail, interface_info=interface_info)) return collection @method.expose() @method.expose() return list_convert_with_links(hw_type_dict, detail=detail) @method.expose() return convert_with_links(name, list(hosts), detail=True) @method.expose()","from ironic.api.controllers import basefrom ironic.api.controllers.v1 import typesfrom ironic.api import types as atypesdef hide_fields_in_newer_versions(obj): obj.default_storage_interface = atypes.Unset obj.enabled_storage_interfaces = atypes.Unset obj.default_rescue_interface = atypes.Unset obj.enabled_rescue_interfaces = atypes.Unset obj.default_bios_interface = atypes.Unset obj.enabled_bios_interfaces = atypes.Unset class Driver(base.Base): """"""API representation of a driver."""""" name = str """"""The name of the driver"""""" hosts = [str] """"""A list of active conductors that support this driver"""""" type = str """"""Whether the driver is classic or dynamic (hardware type)"""""" links = None """"""A list containing self and bookmark links"""""" properties = None """"""A list containing links to driver properties"""""" """"""Default interface for a hardware type"""""" default_bios_interface = str default_boot_interface = str default_console_interface = str default_deploy_interface = str default_inspect_interface = str default_management_interface = str default_network_interface = str default_power_interface = str default_raid_interface = str default_rescue_interface = str default_storage_interface = str default_vendor_interface = str """"""A list of enabled interfaces for a hardware type"""""" enabled_bios_interfaces = [str] enabled_boot_interfaces = [str] enabled_console_interfaces = [str] enabled_deploy_interfaces = [str] enabled_inspect_interfaces = [str] enabled_management_interfaces = [str] enabled_network_interfaces = [str] enabled_power_interfaces = [str] enabled_raid_interfaces = [str] enabled_rescue_interfaces = [str] enabled_storage_interfaces = [str] enabled_vendor_interfaces = [str] @staticmethod def convert_with_links(name, hosts, detail=False, interface_info=None): """"""Convert driver/hardware type info to an API-serializable object. :param name: name of a hardware type. :param hosts: list of conductor hostnames driver is active on. :param detail: boolean, whether to include detailed info, such as the 'type' field and default/enabled interfaces fields. :param interface_info: optional list of dicts of hardware interface info. :returns: API-serializable driver object. """""" driver = Driver() driver.name = name driver.hosts = hosts driver.links = [ if api_utils.allow_links_node_states_and_driver_properties(): driver.properties = [ link.make_link('self', api.request.public_url, 'drivers', name + ""/properties""), link.make_link('bookmark', api.request.public_url, 'drivers', name + ""/properties"", bookmark=True) ] if api_utils.allow_dynamic_drivers(): # NOTE(dtantsur): only dynamic drivers (based on hardware types) # are supported starting with the Rocky release. driver.type = 'dynamic' if detail: if interface_info is None: # TODO(jroll) objectify this interface_info = (api.request.dbapi .list_hardware_type_interfaces([name])) for iface_type in driver_base.ALL_INTERFACES: default = None enabled = set() for iface in interface_info: if iface['interface_type'] == iface_type: iface_name = iface['interface_name'] enabled.add(iface_name) # NOTE(jroll) this assumes the default is the same # on all conductors if iface['default']: default = iface_name default_key = 'default_%s_interface' % iface_type enabled_key = 'enabled_%s_interfaces' % iface_type setattr(driver, default_key, default) setattr(driver, enabled_key, list(enabled)) hide_fields_in_newer_versions(driver) return driver @classmethod def sample(cls): attrs = { 'name': 'sample-driver', 'hosts': ['fake-host'], 'type': 'classic', } for iface_type in driver_base.ALL_INTERFACES: attrs['default_%s_interface' % iface_type] = None attrs['enabled_%s_interfaces' % iface_type] = None sample = cls(**attrs) return sample class DriverList(base.Base): """"""API representation of a list of drivers."""""" drivers = [Driver] """"""A list containing drivers objects"""""" @staticmethod def convert_with_links(hardware_types, detail=False): """"""Convert drivers and hardware types to an API-serializable object. :param hardware_types: dict mapping hardware type names to conductor hostnames. :param detail: boolean, whether to include detailed info, such as the 'type' field and default/enabled interfaces fields. :returns: an API-serializable driver collection object. """""" collection = DriverList() collection.drivers = [] # NOTE(jroll) we return hardware types in all API versions, # but restrict type/default/enabled fields to 1.30. # This is checked in Driver.convert_with_links(), however also # checking here can save us a DB query. if api_utils.allow_dynamic_drivers() and detail: iface_info = api.request.dbapi.list_hardware_type_interfaces( list(hardware_types)) else: iface_info = [] for htname in hardware_types: interface_info = [i for i in iface_info if i['hardware_type'] == htname] collection.drivers.append( Driver.convert_with_links(htname, list(hardware_types[htname]), detail=detail, interface_info=interface_info)) return collection @classmethod def sample(cls): sample = cls() sample.drivers = [Driver.sample()] return sample @expose.expose(types.jsontype, str) @expose.expose(DriverList, str, types.boolean) return DriverList.convert_with_links(hw_type_dict, detail=detail) @expose.expose(Driver, str) return Driver.convert_with_links(name, list(hosts), detail=True) @expose.expose(str, str)",96,169
openstack%2Fironic~master~I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6,openstack/ironic,master,I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6,Convert deploy_templates endpoint to plain JSON,MERGED,2020-08-12 04:45:02.000000000,2020-11-20 04:00:42.000000000,2020-11-18 12:12:52.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17f56cc6cb11000bb5643b174c6b5bceee11bfac', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a942600612c0f37ca6ffa653a4e7060440439b00', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/09485971f10147b8534669abdf83d46b01c50ecd', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8313dc6153b0b5f8d68bf73096c33d29df94f809', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/24a43d260575b74ac6f3d68db4f1fef246417ad3', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a4706ed9de9a26aff4dfd0089b3ea1bef2b6417', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/046dc5c7ec93cba74edd1121b9c848f416eb153e', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64ae05da84fd03cb166f466b98226a044b301ba9', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17b5db97124ff4f9e85b3464ad82305c6910d6cb', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dfd22acf821cd27a66c33182f2848e6cdaa1b80e', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1854add2fd554331ae6184722d148bddb0dedbcb', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f405bd36ce0791024dde8526e257c961ac98f34a', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd4e73e7d18d4d0a3defbd630b05ad9dc8222785', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9e22bfdae0fcce586eda2e138bd5eb70e1b1205', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd5e3d11ba7568692475d96b7b29d8967a37670e', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd121ea0634143e820ffd6dfc199c1000acbee99', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/747d2ed352cfb915ddabca64073f7d1a48369c27', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5a8c5a63db4bba41b5544a8c5496f737fe9f074', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71b5ce360660f49431b53495ca94a67b4e16c187', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/537e63463aa26d53e54cad31552d13250dbcbb39', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/654bd76023e840721b993a1bf7fcd52c675595a8', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f22f9b44d3faca28c875c55594015395e6b912ef', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/284e22bc086ddaffbd4473b23b04a6165dca9c44', 'message': 'Convert deploy_templates endpoint to plain JSON\n\nChange-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6\nStory: 1651346\nTask: 10551\n'}]",6,745780,284e22bc086ddaffbd4473b23b04a6165dca9c44,88,7,23,4571,,,0,"Convert deploy_templates endpoint to plain JSON

Change-Id: I1bb976ad4ad43c9801bc08ef7ed5835b5b7225e6
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/745780/9 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py']",3,17f56cc6cb11000bb5643b174c6b5bceee11bfac,story/1651346," self.assertIn(error_msg, response.json['error_message']) ""'aa:bb_cc' does not match '^CUSTOM_[A-Z0-9_]+$'"") mock_save, patch, ""'%s' is too long"" % name) mock_save, patch, ""'not-a-trait' does not match '^CUSTOM_[A-Z0-9_]+$'"") mock_save, patch, ""None is not of type 'string'"") mock_save, patch, ""'foo' is not one of"") mock_save, patch, '[] is too short') ""'uuid' is a required property"") ""'name' is a required property"") ""'steps' is a required property"") mock_save, patch, ""'foo' is not one of"") mock_save, patch, ""[] is too short"") mock_save, patch, ""Adding a new attribute (/foo) to the root of the resource "" ""is not allowed"") tdict, ""'%s' is too long"" % name) tdict, ""'not-a-trait' does not match '^CUSTOM_[A-Z0-9_]+$'"") self._test_create_bad_request(tdict, ""is a required property"") self._test_create_bad_request(tdict, ""is a required property"") 'name', 42, ""42 is not of type 'string'"") 'name', None, ""None is not of type 'string'"") 'steps', {}, ""{} is not of type 'array'"") 'steps', [], ""[] is too short"") 'extra', 42, ""42 is not of type 'object'"") 'foo', 'bar', ""Additional properties are not allowed ('foo' was unexpected)"") error_msg = ""Deploy template invalid: "" self._test_create_invalid_step_field( 'interface', [3], ""[3] is not of type 'string'"") self._test_create_invalid_step_field( 'interface', 'foo', ""'foo' is not one of"") self._test_create_invalid_step_field( 'step', 42, ""42 is not of type 'string'"") self._test_create_invalid_step_field( 'args', 'not a dict', ""'not a dict' is not of type 'object'"") self._test_create_invalid_step_field( 'args', [], ""[] is not of type 'object'"") self._test_create_invalid_step_field( 'priority', 'not a number', ""'not a number' is not of type 'integer'"") self._test_create_invalid_step_field( 'priority', -1, ""-1 is less than the minimum of 0"") 'foo', 'bar', ""Additional properties are not allowed ('foo' was unexpected)"")","from ironic.api.controllers.v1 import deploy_template as api_deploy_templatefrom ironic.tests import baseclass TestDeployTemplateObject(base.TestCase): def test_deploy_template_init(self): template_dict = test_api_utils.deploy_template_post_data() template = api_deploy_template.DeployTemplate(**template_dict) self.assertEqual(template_dict['uuid'], template.uuid) self.assertEqual(template_dict['name'], template.name) self.assertEqual(template_dict['extra'], template.extra) for t_dict_step, t_step in zip(template_dict['steps'], template.steps): self.assertEqual(t_dict_step['interface'], t_step.interface) self.assertEqual(t_dict_step['step'], t_step.step) self.assertEqual(t_dict_step['args'], t_step.args) self.assertEqual(t_dict_step['priority'], t_step.priority) def test_deploy_template_sample(self): sample = api_deploy_template.DeployTemplate.sample(expand=False) self.assertEqual('534e73fa-1014-4e58-969a-814cc0cb9d43', sample.uuid) self.assertEqual('CUSTOM_RAID1', sample.name) self.assertEqual({'foo': 'bar'}, sample.extra) self.assertRegex(response.json['error_message'], error_msg) 'Deploy template name must be a valid trait') mock_save, patch, 'Deploy template name must be a valid trait') mock_save, patch, 'Deploy template name must be a valid trait') mock_save, patch, ""Deploy template name cannot be None"") mock_save, patch, ""Invalid input for field/attribute interface."") mock_save, patch, 'No deploy steps specified') ""'/uuid' is an internal attribute and can not be updated"") ""'/name' is a mandatory attribute and can not be removed"") ""'/steps' is a mandatory attribute and can not be removed"") mock_save, patch, ""Invalid input for field/attribute interface."") mock_save, patch, ""No deploy steps specified"") mock_save, patch, ""Adding a new attribute \\(/foo\\)"") tdict, 'Deploy template name must be a valid trait') tdict, 'Deploy template name must be a valid trait') self._test_create_bad_request(tdict, ""Mandatory field missing"") self._test_create_bad_request(tdict, ""Mandatory field missing"") 'name', 42, 'Invalid input for field/attribute name') 'name', None, ""Deploy template name cannot be None"") 'steps', {}, ""Invalid input for field/attribute template"") 'steps', [], ""No deploy steps specified"") 'extra', 42, ""Invalid input for field/attribute template"") 'foo', 'bar', ""Unknown attribute for argument template: foo"") error_msg = ""Invalid input for field/attribute"" self._test_create_invalid_step_field('interface', [3]) self._test_create_invalid_step_field('interface', 'foo') self._test_create_invalid_step_field('step', 42) self._test_create_invalid_step_field('args', 'not a dict') self._test_create_invalid_step_field('args', []) self._test_create_invalid_step_field('priority', 'not a number') self._test_create_invalid_step_field('priority', -1) 'foo', 'bar', ""Unknown attribute for argument template.steps: foo"")",213,281
openstack%2Fironic~master~I5f468cfcc1c0931fa09d176c0db25b00c1a62d22,openstack/ironic,master,I5f468cfcc1c0931fa09d176c0db25b00c1a62d22,Convert allocations endpoint to plain JSON,MERGED,2020-07-29 05:23:36.000000000,2020-11-20 04:00:08.000000000,2020-11-18 07:10:26.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-29 05:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/755435483b926630febe1167198a40a83cd1c247', 'message': 'WIP Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nWIP, depends on a WIP change\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-07-30 01:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/12b7a2817afd74668c72e5b6f611e6cede8a9a1a', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-09 21:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51d5243655ce0a382aecc683f7171bfc4b054fdb', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-08-10 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/325d207d4198dd4339556f3043de58b02ebc02f6', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67e99268f605567fa61d0efb7d0931d9567b0c43', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4aa33d8a7f9dcaa918338fc38e9110e26ccf076', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b797e73c034dcf03ddb6399c5a28317ae3fc7d3b', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/688456228e37103892372cf94b29fdca1e8f58ff', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d26e131cb8a9e3e60753e2e204c708e58fe98c7', 'message': 'Convert allocation endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e29f367776078bd0ea93adb47c996d84cee78f2a', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/296b0780709bf9dcc0e0792e7abef1faf922c34e', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/afa8b000432683702ebc43f792d80f55b929eb95', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6831d8db9dca260e0f517d58c99d268d7d2fa52', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d7795665a842c4470fecc779cf67c3a03af0755', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7258ca3a214fd6760a5a93798d169474972e4f5f', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e6ec36863ec37bde1367f32f87c61bae0976255', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d010db4ace2592ad9108218fe9d82c4183faf7a', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d551b0e99c4b95a266f81e96056291eab964a9c6', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7663f9eaa181607d71445699c6687024efd04f12', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df2accdb2dee2039d2521e34c02f6cc12f0fd014', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54908311135688a2c981d95ac870f4da1dd39c48', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e259c9727077eadf2e55b3725990b99843e021ec', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7f5f903a633db713d538c5e60bf7ef5595c8b59', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 24, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2cb9a75c6537505f8b80fd80f02fbb65d30e1ae', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 25, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b57ec9e99ac13077c2e0e4829beb809b3fe77ad', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 26, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/939e3a585d13d533646de3eee37452a51359724f', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}, {'number': 27, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b5c26c4b25d18787dedd099131e5dc7b1d080d6', 'message': 'Convert allocations endpoint to plain JSON\n\nThis conversion has the first usage of @method.body, the first usage\nof jsonschema based validation, and the first conversion of a patch\ncall, so this is a good change to provide feedback on the general\napproach to this conversion process.\n\nChange-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22\nStory: 1651346\nTask: 10551\n'}]",5,743679,7b5c26c4b25d18787dedd099131e5dc7b1d080d6,116,8,27,4571,,,0,"Convert allocations endpoint to plain JSON

This conversion has the first usage of @method.body, the first usage
of jsonschema based validation, and the first conversion of a patch
call, so this is a good change to provide feedback on the general
approach to this conversion process.

Change-Id: I5f468cfcc1c0931fa09d176c0db25b00c1a62d22
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/743679/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py']",2,755435483b926630febe1167198a40a83cd1c247,story/1651346,,"from ironic.api.controllers.v1 import allocation as api_allocationfrom ironic.api import types as atypesfrom ironic.tests import baseclass TestAllocationObject(base.TestCase): def test_allocation_init(self): allocation_dict = apiutils.allocation_post_data(node_id=None) del allocation_dict['extra'] allocation = api_allocation.Allocation(**allocation_dict) self.assertEqual(atypes.Unset, allocation.extra) ",159,240
openstack%2Fironic~master~I62492f7396805433ac3577274ffbbb5d787d0fc1,openstack/ironic,master,I62492f7396805433ac3577274ffbbb5d787d0fc1,New argument validate decorator,MERGED,2020-07-24 05:16:22.000000000,2020-11-20 03:58:41.000000000,2020-11-18 03:23:21.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-24 05:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39c973f1ab2422172c5a103f794df11b57f968b5', 'message': 'WIP New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented, but its WIP for now until more endpoints are converted to\nvalidate this approach.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\n'}, {'number': 2, 'created': '2020-07-29 05:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4746cccb27973403aaecddce6118d6fee61a6d13', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and *kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-07-30 01:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e27c14ee97318a37c2c0dfcfad5e67a0a48ce8b8', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and *kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-08-09 21:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8bfb9de647b9e5af0f0e617c34527491c938214', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and *kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-08-10 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0eacf52e40260bfb646e10f00757c01668976f62', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and *kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a3c65c726ea319257ba131d8732c484aca918ea', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and *kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54488b5547d755b1eddeee9ad9b94e0ef718a993', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and *kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8525886d02026a082a512b702aa034e63c4155c', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0924b6c347429406134922ffaa338198646b7f1d', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/167f9b999e786594e53f815a68f44787ec015356', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of non-body\nmethod arguments\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/694655d3cd88c7b6cb195d9da7b1f7b440c29044', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e28ef94e6c213d16283a9c19581459e59a4b9a90', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf8c5c31409dae6881fce470335fce2479177558', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/075c9a31b6f2364367023a8fbdc2a5f0bc8b2cf4', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79865d462dfd965bb406bde0670157061e78e456', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d79d611be40406376f8243adac32bb72009dbd94', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/83186090b7558b376704842d56d5776c1b147534', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6105f8a565dc9e0c4d767aefdd2791e75eb8bd1', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ecff952589eb5dad5b6fe70ac8754a7b1768e72', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1aed594650775e8705bd8dcf6de250aa5651d6ae', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a68608820de4cd67b63eb14bc97e3a8a4212c55', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96fd61cc4545c7811d92092089222f0057c786c7', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/common/test_args.py', 'ironic/common/args.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ea0e8eaf65330e47e9be231fd7871474ad16f76', 'message': 'New argument validate decorator\n\nThis will replace @expose.expose parameter validation of method\narguments.\n\nThis implementation is complete and every required validator has been\nimplemented. Implementing *args and **kwargs support is probably\noverkill with the followup @expose.body decorator, but it might be\nnice to have in the future.\n\nChange-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1\nStory: 1651346\nTask: 10551\n'}]",30,742795,6ea0e8eaf65330e47e9be231fd7871474ad16f76,130,8,23,4571,,,0,"New argument validate decorator

This will replace @expose.expose parameter validation of method
arguments.

This implementation is complete and every required validator has been
implemented. Implementing *args and **kwargs support is probably
overkill with the followup @expose.body decorator, but it might be
nice to have in the future.

Change-Id: I62492f7396805433ac3577274ffbbb5d787d0fc1
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/742795/11 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_args.py', 'ironic/common/args.py']",2,39c973f1ab2422172c5a103f794df11b57f968b5,story/1651346,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import functools import inspect # import jsonschema from oslo_utils import strutils from oslo_utils import uuidutils from ironic.common import exception from ironic.common import utils def string(name, value): """"""Validate that the value is a string :param name: Name of the argument :param value: A string value :returns: The string value, or None if value is None :raises: ValueError if the value is not a string """""" if value is None: return if not isinstance(value, str): raise ValueError('Expected string for %s: %s' % (name, value)) return value def boolean(name, value): """"""Validate that the value is a string representing a boolean :param name: Name of the argument :param value: A string value :returns: The boolean representation of the value, or None if value is None :raises: ValueError if the value cannot be converted to a boolean """""" if value is None: return return strutils.bool_from_string(value, strict=True) def uuid(name, value): """"""Validate that the value is a UUID :param name: Name of the argument :param value: A UUID string value :returns: The value, or None if value is None :raises: ValueError if the value is not a valid UUID """""" if value is None: return if not uuidutils.is_uuid_like(value): raise ValueError('Expected UUID for %s: %s' % (name, value)) return value def name(name, value): """"""Validate that the value is a logical name :param name: Name of the argument :param value: A logical name string value :returns: The value, or None if value is None :raises: ValueError if the value is not a valid logical name """""" if value is None: return if not utils.is_valid_logical_name(value): raise ValueError('Expected name for %s: %s' % (name, value)) return value def uuid_or_name(name, value): """"""Validate that the value is a UUID or logical name :param name: Name of the argument :param value: A UUID or logical name string value :returns: The value, or None if value is None :raises: ValueError if the value is not a valid UUID or logical name """""" if value is None: return if (not utils.is_valid_logical_name(value) and not uuidutils.is_uuid_like(value)): raise ValueError('Expected UUID or name for %s: %s' % (name, value)) return value def string_list(name, value): """"""Validate and convert comma delimited string to a list. :param name: Name of the argument :param value: A comma separated string of values :returns: A list of unique values (lower-cased), maintaining the same order, or None if value is None :raises: ValueError if the value is not a string """""" value = string(name, value) if value is None: return items = [] for v in str(value).split(','): v_norm = v.strip().lower() if v_norm and v_norm not in items: items.append(v_norm) return items def integer(name, value): """"""Validate that the value represents an integer :param name: Name of the argument :param value: A value representing an integer :returns: The value as an int, or None if value is None :raises: ValueError if the value does not represent an integer """""" if value is None: return try: return int(value) except ValueError: raise ValueError('Expected an integer for %s: %s' % (name, value)) def macaddress(name, value): """"""Validate that the value represents a MAC address :param name: Name of the argument :param value: A string value representing a MAC address :returns: The value as a normalized MAC address, or None if value is None :raises: ValueError if the value is not a valid MAC address """""" if value is None: return try: return utils.validate_and_normalize_mac(value) except exception.InvalidMAC: raise ValueError('Expected valid MAC address for %s: %s' % (name, value)) def _apply_validator(name, value, val_functions): if callable(val_functions): return val_functions(name, value) for v in val_functions: value = v(name, value) return value def validate(*args, **kwargs): """"""Decorator which validates and transforms function arguments """""" assert not args, 'Validators must be specifed by argument name' assert kwargs, 'No validators specified' validators = kwargs def inner_function(function): sig = inspect.signature(function) params = sig.parameters @functools.wraps(function) def inner_check_args(*args, **kwargs): args = list(args) args_len = len(args) for i, param_name in enumerate(params.keys()): if i == 0 and param_name == 'self': # skip validating self continue val_functions = validators.get(param_name) if not val_functions: continue if i < args_len: # validate positional argument args[i] = _apply_validator( param_name, args[i], val_functions) elif param_name in kwargs: # validate keyword argument kwargs[param_name] = _apply_validator( param_name, kwargs[param_name], val_functions) return function(*args, **kwargs) return inner_check_args return inner_function ",,385,0
openstack%2Fironic~master~I82d75345e4512c79ad7d211e81ca474f1b45a7ca,openstack/ironic,master,I82d75345e4512c79ad7d211e81ca474f1b45a7ca,"Add expose body decorator, status_code argument",MERGED,2020-07-29 05:23:36.000000000,2020-11-20 03:58:25.000000000,2020-11-18 06:52:46.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-29 05:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3ed0b1e5c8884db8401a805fea4c377fd17025f', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-07-30 01:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b37f092def3eabcb0f1e19e846796d75e021e98e', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-09 21:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19fd349fc99ffadca8c55fac9e8b913521d6f845', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-08-10 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f14e0125ce7a4925243ab23fdc5e0f0d448b6a6', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47f9cd201952d2550b0611b4e0cb403a8070cefa', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4c0cc0967dc2f0180e2c261830b4e4097ae4e71', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/510e3cca98686458bc9293737dc15265a87dfb57', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f90021a5ef17c3407f5533194112445d6cd9889', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5949bbb795590bfdaf08fe65ea5e326e2db68f3', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd4aa83d09d76b85cf454366492ea7d3e5a241af', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff326a420d5a07d71164439c2395e9e5a962d976', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5430c9fb8c786cbb575ca2c21c044d2a5506ebb1', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ca0af04150a3c573a9cc3662a68b4f5f95557e0', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/388809e29b2f884d24d69756d3fe37014a5e8576', 'message': 'Add status_code argument to @method.expose\n\nThis change is consistent with @method.expose *only* being\nconcerned with wrapping @pecan.expose and processing the method\nresponse. Validating and manipulating the method arguments is left to\nspecialized decorators.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe2a9175347fbbe856099da02cb4e529beacef7a', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76ea1fa7a20fb80df0cea59f8fcd257fbe176dd9', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1a15c64396a2c14f9301ca2d356b33cfc37ff41', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/258d52e958270197b0af54ee043a3aba3cc03711', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e310f343edd44fe2f49af5f535cd76af565e62e', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/587d6f7e0818fadf300e8387889b2818366ed2db', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a9af741e1f2e2d6ee48be0f7249213e4eba2ee2', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/test_method.py', 'ironic/api/method.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3846965e9c7407c6b92dcf12dec586ce478c6e60', 'message': 'Add expose body decorator, status_code argument\n\n@method.body populates a method argument with the contents of the\nrequest JSON. When the request body JSON is a dict, pecan populates\nthe keyword arguments of the method with the values of the dict. This\nis not desirable for our typical usage so the body decorator also\nstrips these keyword arguments.\n\nA status_code argument is also added to @method.expose to set custom\nresponses. Empty response status codes are given special handling.\n\nThis change also adds unit tests for the @method.expose decorator.\n\nChange-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca\nStory: 1651346\nTask: 10551\n'}]",3,743677,3846965e9c7407c6b92dcf12dec586ce478c6e60,110,9,22,4571,,,0,"Add expose body decorator, status_code argument

@method.body populates a method argument with the contents of the
request JSON. When the request body JSON is a dict, pecan populates
the keyword arguments of the method with the values of the dict. This
is not desirable for our typical usage so the body decorator also
strips these keyword arguments.

A status_code argument is also added to @method.expose to set custom
responses. Empty response status codes are given special handling.

This change also adds unit tests for the @method.expose decorator.

Change-Id: I82d75345e4512c79ad7d211e81ca474f1b45a7ca
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/743677/11 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/method.py'],1,b3ed0b1e5c8884db8401a805fea4c377fd17025f,story/1651346,def expose(status_code=None): if status_code: pecan.response.status = status_code if pecan.response.status_code == 204: return None ,def expose():,6,1
openstack%2Fironic~master~I39fa73ac9a62d30a3eaa00c75129ac1e00270652,openstack/ironic,master,I39fa73ac9a62d30a3eaa00c75129ac1e00270652,Utility functions for REST API JSON handling,MERGED,2020-09-11 05:06:07.000000000,2020-11-20 03:57:37.000000000,2020-11-18 07:10:20.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34a1c28ac3f862197dabd5c7ef06d930c7e30a6f', 'message': 'WIP Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nWIP as they need some tests, and there will likely be some patch\nutility functions added to this change\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68f0f811426243a184eaf13612ea46464817a5e9', 'message': 'WIP Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nWIP as they need some tests.\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6c4c56c6bf93bd980b3e9335446e13b9aa268b8', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b5023d74a5c978bda0050b16e7a0820d7d73889', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/327532604af8a0e1470a3f85e1d02632da772c8e', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01b6c72b84089c2562f4a3d2a8169d0824fe67ca', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61486b5722c0b6a5070eb66a5135264940d04a94', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f64a8b1ba7905a4098664acdbdd811ea75e6500b', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f605570f7a8117b4134ff6ebfe05cb1b5ce6b0fb', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4c3edcea3deb49804b6eeaa17245ef80a88e93e', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/97418ee3f7abbd69288c092140f5bd3ddf6800ca', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d421fb6c07e151cc97530185afece32d9fc55c30', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de79f29c10d977ea31319dc44e0de05a05532193', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a6b22ec567d0ebc6934a7898c3838fc7a31f7160', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3d7a23d27d0099d34c7bc37283ac30259f007f4', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_collection.py', 'ironic/api/controllers/v1/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/236c6b174baf77c88ed112530610d25fc1c11b31', 'message': 'Utility functions for REST API JSON handling\n\ncollection.list_convert_with_links\n    Build a collection dict including the next link for paging support\nutils.object_to_dict\n    Helper function to convert RPC objects to REST API dicts\nutils.populate_node_uuid\n    Look up the node referenced in the object and populate a dict\nutils.replace_node_uuid_with_id\n    Replace ``node_uuid`` dict value with ``node_id``\nutils.replace_node_id_with_uuid\n    Replace ``node_id`` dict value with ``node_uuid`\nutils.patch_update_changed_fields\n    Update rpc object based on changed fields in a dict.\nutils.patched_validate_with_schema\n    Validate a patched dict object against a validator or schema.\nutils.patch_validate_allowed_fields\n    Validate that a patch list only modifies allowed fields\nutils.sanitize_dict\n    Removes sensitive and unrequested data\n\nChange-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652\nStory: 1651346\nTask: 10551\n'}]",18,751160,236c6b174baf77c88ed112530610d25fc1c11b31,71,7,16,4571,,,0,"Utility functions for REST API JSON handling

collection.list_convert_with_links
    Build a collection dict including the next link for paging support
utils.object_to_dict
    Helper function to convert RPC objects to REST API dicts
utils.populate_node_uuid
    Look up the node referenced in the object and populate a dict
utils.replace_node_uuid_with_id
    Replace ``node_uuid`` dict value with ``node_id``
utils.replace_node_id_with_uuid
    Replace ``node_id`` dict value with ``node_uuid`
utils.patch_update_changed_fields
    Update rpc object based on changed fields in a dict.
utils.patched_validate_with_schema
    Validate a patched dict object against a validator or schema.
utils.patch_validate_allowed_fields
    Validate that a patch list only modifies allowed fields
utils.sanitize_dict
    Removes sensitive and unrequested data

Change-Id: I39fa73ac9a62d30a3eaa00c75129ac1e00270652
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/751160/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/collection.py', 'ironic/api/controllers/v1/utils.py']",2,34a1c28ac3f862197dabd5c7ef06d930c7e30a6f,story/1651346,"from ironic.api.controllers import linkdef object_to_dict(obj, created_at=True, updated_at=True, uuid=True, link_resource=None, link_resource_args=None, fields=None, list_fields=None, date_fields=None, boolean_fields=None): """"""Helper function to convert RPC objects to REST API dicts. :param obj: RPC object to convert to a dict :param created_at: Whether to include standard base class attribute created_at :param updated_at: Whether to include standard base class attribute updated_at :param uuid: Whether to include standard base class attribute uuid :param link_resource: When specified, generate a ``links`` value with a ``self`` and ``bookmark`` using this resource name :param link_resource_args: Resource arguments to be added to generated links. When not specified, the object ``uuid`` will be used. :param fields: Dict values to populate directly from object attributes :param list_fields: Dict values to populate from object attributes where an empty list is the default for empty attributes :param date_fields: Dict values to populate from object attributes as ISO 8601 dates, or None if the value is None :param boolean_fields: Dict values to populate from object attributes as boolean values or False if the value is empty :returns: A dict containing values from the object """""" url = api.request.public_url to_dict = {} if uuid: to_dict['uuid'] = obj.uuid if created_at: to_dict['created_at'] = (obj.created_at and obj.created_at.isoformat() or None) if updated_at: to_dict['updated_at'] = (obj.updated_at and obj.updated_at.isoformat() or None) if fields: for field in fields: to_dict[field] = getattr(obj, field) if list_fields: for field in list_fields: to_dict[field] = getattr(obj, field) or [] if date_fields: for field in date_fields: date = getattr(obj, field) to_dict[field] = date and date.isoformat() or None if boolean_fields: for field in boolean_fields: to_dict[field] = getattr(obj, field) or False if link_resource: if not link_resource_args: link_resource_args = obj.uuid to_dict['links'] = [ link.make_link('self', url, link_resource, link_resource_args), link.make_link('bookmark', url, link_resource, link_resource_args, bookmark=True) ] return to_dict def populate_node_uuid(obj, to_dict, raise_notfound=True): """"""Look up the node referenced in the object and populate a dict. The node is fetched with the object ``node_id`` attribute and the dict ``node_uuid`` value is populated with the node uuid :param obj: object to get the node_id attribute :param to_dict: dict to populate with a ``node_uuid`` value :param raise_notfound: If ``True`` raise a NodeNotFound exception if the node doesn't exist otherwise set the dict ``node_uuid`` value to None. :raises: exception.NodeNotFound if raise_notfound and the node is not found """""" if not obj.node_id: to_dict['node_uuid'] = None return try: to_dict['node_uuid'] = objects.Node.get_by_id( api.request.context, obj.node_id).uuid except exception.NodeNotFound: if raise_notfound: raise to_dict['node_uuid'] = None def sanitize_dict(to_sanitize, fields): """"""Removes sensitive and unrequested data. Will only keep the fields specified in the ``fields`` parameter (plus the ``links`` field). :param fields: list of fields to preserve, or ``None`` to preserve them all :type fields: list of str """""" if fields is None: return for key in set(to_sanitize.keys()): if key not in fields and key != 'links': to_sanitize.pop(key, None) ",,159,0
openstack%2Fpuppet-tacker~master~If3afa412a8237205de705e495d8ef88783bf3380,openstack/puppet-tacker,master,If3afa412a8237205de705e495d8ef88783bf3380,Add support for the keystone_authtoken/service_type parameter,MERGED,2020-11-03 09:09:27.000000000,2020-11-20 03:54:52.000000000,2020-11-20 03:52:45.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-03 09:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/f71e6363167d01d8123f65775bc456a5a52dd161', 'message': 'Add support for the keystone_authtoken/service_type parameter\n\nChange-Id: If3afa412a8237205de705e495d8ef88783bf3380\n'}, {'number': 2, 'created': '2020-11-18 02:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/eabefcef3ce02b2c082b63199696c8715acc2d70', 'message': 'Add support for the keystone_authtoken/service_type parameter\n\nChange-Id: If3afa412a8237205de705e495d8ef88783bf3380\n'}, {'number': 3, 'created': '2020-11-19 02:53:23.000000000', 'files': ['spec/classes/tacker_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-service_type-9b88483c50bab22b.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/175a1468ec41715d6348663ce4fdae5275fe5f90', 'message': 'Add support for the keystone_authtoken/service_type parameter\n\nChange-Id: If3afa412a8237205de705e495d8ef88783bf3380\n'}]",0,761099,175a1468ec41715d6348663ce4fdae5275fe5f90,12,3,3,9816,,,0,"Add support for the keystone_authtoken/service_type parameter

Change-Id: If3afa412a8237205de705e495d8ef88783bf3380
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/99/761099/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-service_type-9b88483c50bab22b.yaml', 'manifests/keystone/authtoken.pp']",3,f71e6363167d01d8123f65775bc456a5a52dd161,at-params,"# [*service_type*] # (Optional) The name or type of the service as it appears in the service # catalog. This is used to validate tokens that have restricted access rules. # Defaults to $::os_service_default. # $service_type = $::os_service_default, service_type => $service_type,",,15,0
openstack%2Fpuppet-tacker~master~Ica04d19587fc2c27eba194ea33f2ffca53c4be5f,openstack/puppet-tacker,master,Ica04d19587fc2c27eba194ea33f2ffca53c4be5f,Deprecate allow_insecure_clients option,MERGED,2020-11-02 06:43:07.000000000,2020-11-20 03:53:53.000000000,2020-11-20 03:52:44.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 06:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/f946f9008f7e39aa016c3d6c44083a3e91d1e35a', 'message': 'Deprecate allow_insecure_clients option\n\nThe allow_insecure_clients has been deprecated[1].\n\n[1]https://review.opendev.org/#/c/417629/\n\nChange-Id: Ica04d19587fc2c27eba194ea33f2ffca53c4be5f\nCloses-Bug: #1902158\n'}, {'number': 2, 'created': '2020-11-02 07:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/6b9e0a745e205f822ad9e209231ace89c06d173a', 'message': 'Deprecate allow_insecure_clients option\n\nThe allow_insecure_clients has been deprecated[1].\n\n[1]https://review.opendev.org/#/c/417629/\n\nChange-Id: Ica04d19587fc2c27eba194ea33f2ffca53c4be5f\nCloses-Bug: #1902158\n'}, {'number': 3, 'created': '2020-11-19 01:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/eb8c169d47a5b9c76e7c0d040e827858a186b0a0', 'message': 'Deprecate allow_insecure_clients option\n\nThe allow_insecure_clients has been deprecated[1].\n\n[1]https://review.opendev.org/#/c/417629/\n\nNote this patch disables litums tests since it is broken by the issue\nwith database sync, to unblock the gate.\n\nChange-Id: Ica04d19587fc2c27eba194ea33f2ffca53c4be5f\nCloses-Bug: #1902158\n'}, {'number': 4, 'created': '2020-11-19 02:24:24.000000000', 'files': ['manifests/init.pp', 'spec/classes/tacker_init_spec.rb', 'spec/acceptance/tacker_spec.rb', 'releasenotes/notes/deprecate_allow_insecure_clients-option-a2a5695164bd8667.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/98be9843fcd6a999f509686d3e8c214ac49188f3', 'message': 'Deprecate allow_insecure_clients option\n\nThe allow_insecure_clients has been deprecated[1].\n\n[1]https://review.opendev.org/#/c/417629/\n\nNote this patch disables litums tests since it is broken by the issue\nwith database sync, to unblock the gate.\n\nChange-Id: Ica04d19587fc2c27eba194ea33f2ffca53c4be5f\nCloses-Bug: #1902158\n'}]",0,760762,98be9843fcd6a999f509686d3e8c214ac49188f3,28,4,4,9414,,,0,"Deprecate allow_insecure_clients option

The allow_insecure_clients has been deprecated[1].

[1]https://review.opendev.org/#/c/417629/

Note this patch disables litums tests since it is broken by the issue
with database sync, to unblock the gate.

Change-Id: Ica04d19587fc2c27eba194ea33f2ffca53c4be5f
Closes-Bug: #1902158
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/62/760762/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/tacker_init_spec.rb', 'releasenotes/notes/deprecate_allow_insecure_clients-option-a2a5695164bd8667.yaml']",3,f946f9008f7e39aa016c3d6c44083a3e91d1e35a,bug/1902158,"--- deprecations: - allow_insecure_clients option is now deprecated for removal, the parameter has no effect. ",,17,7
openstack%2Frequirements~stable%2Ftrain~I77a97d5edba4206dc8ccd235ee0b133bf4e49188,openstack/requirements,stable/train,I77a97d5edba4206dc8ccd235ee0b133bf4e49188,update constraint for oslo.concurrency to new release 3.30.1,MERGED,2020-11-19 12:01:12.000000000,2020-11-20 03:50:24.000000000,2020-11-20 03:50:24.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-19 12:01:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d972461c59663c30e78657b14c2af39171ede03b', 'message': 'update constraint for oslo.concurrency to new release 3.30.1\n\nChange-Id: I77a97d5edba4206dc8ccd235ee0b133bf4e49188\nmeta:version: 3.30.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Daniel Bengtsson <dbengt@redhat.com>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: I89ccffa4b60772c5c86823b887f55a90fac66554\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,763362,d972461c59663c30e78657b14c2af39171ede03b,9,4,1,11131,,,0,"update constraint for oslo.concurrency to new release 3.30.1

Change-Id: I77a97d5edba4206dc8ccd235ee0b133bf4e49188
meta:version: 3.30.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: I89ccffa4b60772c5c86823b887f55a90fac66554
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/763362/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d972461c59663c30e78657b14c2af39171ede03b,new-release,oslo.concurrency===3.30.1,oslo.concurrency===3.30.0,1,1
openstack%2Frequirements~stable%2Fussuri~I3c820c5b49ccebc0841555c99ca08df4771fb438,openstack/requirements,stable/ussuri,I3c820c5b49ccebc0841555c99ca08df4771fb438,update constraint for oslo.concurrency to new release 4.0.3,MERGED,2020-11-19 11:40:03.000000000,2020-11-20 03:32:04.000000000,2020-11-20 03:32:04.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-19 11:40:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bccd484efd26f493c00e5a41bcca29ea5a4865bb', 'message': 'update constraint for oslo.concurrency to new release 4.0.3\n\nChange-Id: I3c820c5b49ccebc0841555c99ca08df4771fb438\nmeta:version: 4.0.3\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Daniel Bengtsson <dbengt@redhat.com>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,763357,bccd484efd26f493c00e5a41bcca29ea5a4865bb,11,4,1,11131,,,0,"update constraint for oslo.concurrency to new release 4.0.3

Change-Id: I3c820c5b49ccebc0841555c99ca08df4771fb438
meta:version: 4.0.3
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/763357/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bccd484efd26f493c00e5a41bcca29ea5a4865bb,new-release,oslo.concurrency===4.0.3;python_version=='3.6' oslo.concurrency===4.0.3;python_version=='3.7' oslo.concurrency===4.0.3;python_version=='3.8',oslo.concurrency===4.0.2;python_version=='3.6' oslo.concurrency===4.0.2;python_version=='3.7' oslo.concurrency===4.0.2;python_version=='3.8',3,3
openstack%2Fopenstack-helm-deployments~master~I1b31cc18967763f7a77469c2942ea9aae7883ae9,openstack/openstack-helm-deployments,master,I1b31cc18967763f7a77469c2942ea9aae7883ae9,feat(deploy): add mariadb deployment,ABANDONED,2020-11-11 15:41:05.000000000,2020-11-20 03:07:56.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2020-11-11 15:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/a1675f1b17784d3ebb84f9d05f0458f346428835', 'message': 'DNM, WIP: add mariadb\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-11-13 15:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/aa2186a57965883c89d9964e1bd4874a8eac974a', 'message': 'DNM, WIP: add mariadb\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-11-13 21:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/a9a0e8e60f844c16b59aeac0ece51afd41e6f25f', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-11-13 21:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/c41c77c451ad92cb76ee4d195e1fbbf229a823a7', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-11-13 21:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/f04914795b90619241eee07e9bc68df48ec740d8', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2020-11-16 16:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/72265ea9f59892b582969b4b8c9e55e0d5dc5d91', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2020-11-16 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/833d06c4c72f5df50d74985c4cdbb16e7155b613', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2020-11-16 18:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/e635f90b26b2a2c28baae76686aaa9951dedd44c', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2020-11-16 20:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/546e16af1bc0330e498cafee662aacd30e562f14', 'message': 'feat(deploy): add mariadb deployment\n\nDepends-On: https://review.opendev.org/#/c/759530/\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2020-11-16 23:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/8636bfd7a6ae6e79e8dba8ac94be8af6ed0c20c0', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2020-11-17 18:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/6d06671734aced92ed1668863bbf40258c6c486e', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2020-11-17 18:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7225c4dc8ed1221a3934d2bafd864837019a2a64', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 13, 'created': '2020-11-17 22:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/986e6d22a5fcda692b37ecbf9ac58b3e71e711d9', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2020-11-17 22:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/84229cab9dd6cded597b18af631824f5e2a1b39f', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2020-11-18 00:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/1f22ca70acc1f9c003b8bb6e3b95285e6049a3b4', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2020-11-18 02:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/e116183d1c629fe31e0a05208afec1b22623b887', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2020-11-18 05:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/b4d7ce2b1b4b1cb1e3dea0210a97586d621e8acc', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2020-11-18 07:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/3e956d0deee7c7fbf1706a764193b9d78d9d6bef', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2020-11-18 08:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/9817f3efeb1664c581adbaa0f2bc95cb74d1f222', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2020-11-18 19:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/b0df67bd6359c15b24a37743e90dc151e0f6076e', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 21, 'created': '2020-11-19 13:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/3b7600ccb4dfd370e2fdb5dca616817695ea1be1', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 22, 'created': '2020-11-19 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/0d64844f55e1c4e5f5a07bda3b594cb5996ac9ac', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 23, 'created': '2020-11-19 13:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/05e6b9f07944c00a8d11382fc0128f09d5093a3a', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 24, 'created': '2020-11-19 20:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/f1e9d12742dd9442de25b9d7915c3d17cde0188f', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 25, 'created': '2020-11-19 21:35:44.000000000', 'files': ['playbooks/get-vm-config.yaml', 'manifests/composite/openstack/kustomization.yaml', 'manifests/function/mariadb/kustomization.yaml', 'manifests/site/test-site/phases/patch_phases.yaml', 'manifests/function/memcached/kustomization.yaml', 'manifests/composite/openstack/replacements/kustomization.yaml', 'manifests/function/memcached/helmrepository.yaml', 'manifests/function/catalogues-openstack/versions-openstack.yaml', 'manifests/function/mariadb/replacements/kustomization.yaml', 'manifests/function/memcached/helmrelease.yaml', 'manifests/function/mariadb/replacements/versions.yaml', 'manifests/function/mariadb/helmrelease.yaml', 'manifests/function/memcached/replacements/versions.yaml', 'manifests/function/mariadb/helmrepository.yaml', 'manifests/site/test-site/phases/kustomization.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/948bfa48693f00d4d2e130e6927d88e5ae8cd922', 'message': 'feat(deploy): add mariadb deployment\n\nThis expands the existing deployment to include mariaDB.\n\nChange-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",3,762359,948bfa48693f00d4d2e130e6927d88e5ae8cd922,67,3,25,20466,,,0,"feat(deploy): add mariadb deployment

This expands the existing deployment to include mariaDB.

Change-Id: I1b31cc18967763f7a77469c2942ea9aae7883ae9
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/59/762359/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/composite/openstack/kustomization.yaml', 'manifests/composite/openstack/replacements/kustomization.yaml', 'manifests/function/mariadb/kustomization.yaml', 'manifests/function/mariadb/replacements/kustomization.yaml', 'manifests/function/mariadb/replacements/versions.yaml', 'manifests/function/mariadb/helmrelease.yaml']",6,a1675f1b17784d3ebb84f9d05f0458f346428835,us-mariadb,"--- apiVersion: ""helm.fluxcd.io/v1"" kind: HelmRelease metadata: name: mariadb spec: wait: true timeout: 600 values: monitoring: prometheus: enabled: true labels: server: node_selector_key: kubernetes.io/os node_selector_value: linux prometheus_mariadb_exporter: node_selector_key: kubernetes.io/os node_selector_value: linux ",,53,0
openstack%2Ftripleo-heat-templates~master~Ia586151169e7f359a2a58a33b4ac9526d0113679,openstack/tripleo-heat-templates,master,Ia586151169e7f359a2a58a33b4ac9526d0113679,Fix the value of ssl_verify_client,MERGED,2020-11-18 12:36:21.000000000,2020-11-20 02:46:52.000000000,2020-11-20 01:47:02.000000000,"[{'_account_id': 6926}, {'_account_id': 7973}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-18 12:36:21.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d476a31a08687ec3203027441af2e09973be0e94', 'message': 'Fix the value of ssl_verify_client\n\nAs per documentation, this should be one of\nnone, optional, require or optional_no_ca:\n\nhttps://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLVerifyClient\n\nChange-Id: Ia586151169e7f359a2a58a33b4ac9526d0113679\nCloses-bug: #1904731\n'}]",0,763172,d476a31a08687ec3203027441af2e09973be0e94,10,6,1,14250,,,0,"Fix the value of ssl_verify_client

As per documentation, this should be one of
none, optional, require or optional_no_ca:

https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLVerifyClient

Change-Id: Ia586151169e7f359a2a58a33b4ac9526d0113679
Closes-bug: #1904731
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/763172/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,d476a31a08687ec3203027441af2e09973be0e94,fix_ssl_verify_client, horizon::ssl_verify_client: require, horizon::ssl_verify_client: true,1,1
openstack%2Fneutron~master~I3602cbe33183a8476eb332c85fcf399b211dda07,openstack/neutron,master,I3602cbe33183a8476eb332c85fcf399b211dda07,"Implement ""find_child_pids"" natively",MERGED,2020-10-17 09:46:21.000000000,2020-11-20 02:29:30.000000000,2020-11-20 02:27:57.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-17 09:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4963fa9afa2f0a3c2ee664d270c78cecfd3954ba', 'message': '[WIP] Implement ""find_child_pids"" natively\n\nChange-Id: I3602cbe33183a8476eb332c85fcf399b211dda07\nCloses-Bug: #\n'}, {'number': 2, 'created': '2020-10-17 09:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec32dba1f55f1f5b8c9e968eb0e20c729b0e5ed0', 'message': '[WIP] Implement ""find_child_pids"" natively\n\nChange-Id: I3602cbe33183a8476eb332c85fcf399b211dda07\nCloses-Bug: #\n'}, {'number': 3, 'created': '2020-10-17 17:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69baab6f7fd20e9b35c0cb177007cce126c2d423', 'message': 'Implement ""find_child_pids"" natively\n\nUse Python native libraries instead of shell calls.\n\nCloses-Bug: #1900269\n\nChange-Id: I3602cbe33183a8476eb332c85fcf399b211dda07\n'}, {'number': 4, 'created': '2020-10-19 11:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f89e7881d4632726f6a486e7e6f1c9ebb444dfd', 'message': 'Implement ""find_child_pids"" natively\n\nUse Python native libraries instead of shell calls.\n\nCloses-Bug: #1900270\n\nChange-Id: I3602cbe33183a8476eb332c85fcf399b211dda07\n'}, {'number': 5, 'created': '2020-11-03 10:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adde786eb82a775b1cbd0c212071da7608674d3e', 'message': 'Implement ""find_child_pids"" natively\n\nUse Python native libraries instead of shell calls.\n\nCloses-Bug: #1900270\n\nChange-Id: I3602cbe33183a8476eb332c85fcf399b211dda07\n'}, {'number': 6, 'created': '2020-11-14 17:18:17.000000000', 'files': ['neutron/tests/functional/agent/linux/test_utils.py', 'neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5eadca521ec6169c36345e6f79e1aa52b37dbf4', 'message': 'Implement ""find_child_pids"" natively\n\nUse Python native libraries instead of shell calls.\n\nCloses-Bug: #1900270\n\nChange-Id: I3602cbe33183a8476eb332c85fcf399b211dda07\n'}]",9,758648,b5eadca521ec6169c36345e6f79e1aa52b37dbf4,70,8,6,16688,,,0,"Implement ""find_child_pids"" natively

Use Python native libraries instead of shell calls.

Closes-Bug: #1900270

Change-Id: I3602cbe33183a8476eb332c85fcf399b211dda07
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/758648/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_utils.py', 'neutron/tests/unit/agent/linux/test_utils.py']",3,4963fa9afa2f0a3c2ee664d270c78cecfd3954ba,bug/1900270,,"class TestFindChildPids(base.BaseTestCase): def test_returns_empty_list_for_exit_code_1(self): with mock.patch.object(utils, 'execute', side_effect=exceptions.ProcessExecutionError( '', returncode=1)): self.assertEqual([], utils.find_child_pids(-1)) def test_returns_empty_list_for_no_output(self): with mock.patch.object(utils, 'execute', return_value=''): self.assertEqual([], utils.find_child_pids(-1)) def test_returns_list_of_child_process_ids_for_good_ouput(self): with mock.patch.object(utils, 'execute', return_value=' 123 \n 185\n'): self.assertEqual(utils.find_child_pids(-1), ['123', '185']) def test_returns_list_of_child_process_ids_recursively(self): with mock.patch.object(utils, 'execute', side_effect=[' 123 \n 185\n', ' 40 \n', '\n', '41\n', '\n']): actual = utils.find_child_pids(-1, True) self.assertEqual(actual, ['123', '185', '40', '41']) def test_raises_unknown_exception(self): with testtools.ExpectedException(RuntimeError): with mock.patch.object(utils, 'execute', side_effect=RuntimeError()): utils.find_child_pids(-1) ",27,44
openstack%2Fneutron~master~Ia16335a2fc8f9324b9489692c76a73e4ef5bef96,openstack/neutron,master,Ia16335a2fc8f9324b9489692c76a73e4ef5bef96,"Add ""standard_attr_id"" to some OVO dictionaries",MERGED,2020-11-13 16:52:14.000000000,2020-11-20 02:24:09.000000000,2020-11-20 02:22:22.000000000,"[{'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-13 16:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b1b836418f11f4a7029b705a4df83e264385730', 'message': '[WIP] Add ""standard_attr_id"" to OVO dicts\n\nTODO: complete description, test cases\n\nCloses-Bug: #1904188\n\nChange-Id: Ia16335a2fc8f9324b9489692c76a73e4ef5bef96\n'}, {'number': 2, 'created': '2020-11-14 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ee5903ecf0318f5ca5ba110fb238f8c52dbcb84', 'message': 'Add ""standard_attr_id"" to some OVO dictionaries\n\nIncluded standard attributes ID in some OVO dictionaries to improve\nthe OVN revision numbers operation. Having this ID, there is no need\nto retrieve it from the database.\n\nThe following OVOs have been updated:\n- port\n- network\n- subnet\n- security group\n- security group rule\n- router\n\nCloses-Bug: #1904188\n\nChange-Id: Ia16335a2fc8f9324b9489692c76a73e4ef5bef96\n'}, {'number': 3, 'created': '2020-11-16 13:57:00.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78858e6719f621544748adb63a80f87c61ff460b', 'message': 'Add ""standard_attr_id"" to some OVO dictionaries\n\nIncluded standard attributes ID in some OVO dictionaries to improve\nthe OVN revision numbers operation. Having this ID, there is no need\nto retrieve it from the database.\n\nThe following OVOs have been updated:\n- port\n- network\n- subnet\n- security group\n- security group rule\n- router\n\nCloses-Bug: #1904188\n\nChange-Id: Ia16335a2fc8f9324b9489692c76a73e4ef5bef96\n'}]",2,762692,78858e6719f621544748adb63a80f87c61ff460b,42,7,3,16688,,,0,"Add ""standard_attr_id"" to some OVO dictionaries

Included standard attributes ID in some OVO dictionaries to improve
the OVN revision numbers operation. Having this ID, there is no need
to retrieve it from the database.

The following OVOs have been updated:
- port
- network
- subnet
- security group
- security group rule
- router

Closes-Bug: #1904188

Change-Id: Ia16335a2fc8f9324b9489692c76a73e4ef5bef96
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/762692/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/db/l3_db.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,0b1b836418f11f4a7029b705a4df83e264385730,bug/1904188," ovn_const.TYPE_SECURITY_GROUPS, std_attr_id=kwargs['security_group']['standard_attr_id']) context, sg_rule['id'], ovn_const.TYPE_SECURITY_GROUP_RULES, std_attr_id=sg_rule['standard_attr_id']) ovn_const.TYPE_NETWORKS, std_attr_id=context.current['standard_attr_id']) ovn_const.TYPE_SUBNETS, std_attr_id=context.current['standard_attr_id']) context._plugin_context, port['id'], ovn_const.TYPE_PORTS, std_attr_id=context.current['standard_attr_id']) ovn_const.TYPE_ROUTER_PORTS, std_attr_id=context.current['standard_attr_id']) ovn_const.TYPE_ROUTER_PORTS, may_exist=True, std_attr_id=context.current['standard_attr_id'])"," ovn_const.TYPE_SECURITY_GROUPS) context, sg_rule['id'], ovn_const.TYPE_SECURITY_GROUP_RULES) ovn_const.TYPE_NETWORKS) ovn_const.TYPE_SUBNETS) context._plugin_context, port['id'], ovn_const.TYPE_PORTS) ovn_const.TYPE_ROUTER_PORTS) ovn_const.TYPE_ROUTER_PORTS, may_exist=True)",72,27
openstack%2Fironic~master~Ieab085cfd9731e180f741b17a27ea540dabbf62e,openstack/ironic,master,Ieab085cfd9731e180f741b17a27ea540dabbf62e,Don't allow patching port internal_info,MERGED,2020-11-18 22:06:55.000000000,2020-11-20 01:40:47.000000000,2020-11-19 14:46:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:06:55.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/portgroup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0bab4f176229b7f3942f31cca2f9e4bb858d5570', 'message': ""Don't allow patching port internal_info\n\nPatching the port internal_info was allowed in error in the just\nlanded JSON conversion change[1]. This is now fixed, and the comment\nhas been updated to explain why internal_info needs to be part of\npatch schema.\n\n[1] https://review.opendev.org/750120\n\nChange-Id: Ieab085cfd9731e180f741b17a27ea540dabbf62e\n""}]",0,763278,0bab4f176229b7f3942f31cca2f9e4bb858d5570,9,6,1,4571,,,0,"Don't allow patching port internal_info

Patching the port internal_info was allowed in error in the just
landed JSON conversion change[1]. This is now fixed, and the comment
has been updated to explain why internal_info needs to be part of
patch schema.

[1] https://review.opendev.org/750120

Change-Id: Ieab085cfd9731e180f741b17a27ea540dabbf62e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/763278/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/portgroup.py']",2,0bab4f176229b7f3942f31cca2f9e4bb858d5570,story/1651346,"# patching /extra/vif_port_id has the side-effect of modifying # internal_info values, so include it in the patch schema",# patch supports patching some internal_info values,4,3
openstack%2Fswift~master~I37c7410fbbfad4aa3ac95600f5a8b2317dc8a5af,openstack/swift,master,I37c7410fbbfad4aa3ac95600f5a8b2317dc8a5af,Enforce response length harder,NEW,2020-11-19 16:20:03.000000000,2020-11-20 01:35:36.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 16:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e9b8b674d335575f37ad28f3bc4446ad1afc6911', 'message': 'Enforce response length harder\n\nChange-Id: I37c7410fbbfad4aa3ac95600f5a8b2317dc8a5af\n'}, {'number': 2, 'created': '2020-11-19 21:10:49.000000000', 'files': ['test/unit/common/middleware/test_catch_errors.py', 'swift/common/middleware/catch_errors.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a60c4cf0df19bb64bd6805e9d3556e25bce80ff0', 'message': 'Enforce response length harder\n\nChange-Id: I37c7410fbbfad4aa3ac95600f5a8b2317dc8a5af\n'}]",3,763405,a60c4cf0df19bb64bd6805e9d3556e25bce80ff0,7,3,2,1179,,,0,"Enforce response length harder

Change-Id: I37c7410fbbfad4aa3ac95600f5a8b2317dc8a5af
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/763405/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/catch_errors.py'],1,e9b8b674d335575f37ad28f3bc4446ad1afc6911,finally-byte-enforce, bytes_left = nbytes explicit_close = False try: except GeneratorExit: explicit_close = True raise finally: if bytes_left and not explicit_close:, try: bytes_left = nbytes if bytes_left: finally:,7,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I668590662dfed029a258bb21cb9c1100cee76652,openstack/tripleo-ansible,stable/train,I668590662dfed029a258bb21cb9c1100cee76652,[TRAIN-Only] Remove __init__ from base strategy,MERGED,2020-11-18 18:15:44.000000000,2020-11-20 01:28:49.000000000,2020-11-20 01:28:49.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-18 18:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc186cdd7222c4d72505ee32a0bf26419363fc88', 'message': ""[TRAIN-Only] Remove __init__ from base strategy\n\nThere is a loading issues when running under py2 that causes errors\nbecause of the way the base strategy is loaded. This change moves the\nvariable initialization out of the base and puts it in the strategies\nthemselves instead. It's a tiny bit of duplication but prevents loading\nissues when running under py2.\n\nChange-Id: I668590662dfed029a258bb21cb9c1100cee76652\nCloses-Bug: #1904770\n""}, {'number': 2, 'created': '2020-11-18 18:21:08.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4db3e083ed93823e76a28f0dc163e7549bb75557', 'message': ""[TRAIN-Only] Remove __init__ from base strategy\n\nThere is a loading issues when running under py2 that causes errors\nbecause of the way the base strategy is loaded. This change moves the\nvariable initialization out of the base and puts it in the strategies\nthemselves instead. It's a tiny bit of duplication but prevents loading\nissues when running under py2.\n\nChange-Id: I668590662dfed029a258bb21cb9c1100cee76652\nCloses-Bug: #1904770\n""}]",0,763242,4db3e083ed93823e76a28f0dc163e7549bb75557,10,4,2,14985,,,0,"[TRAIN-Only] Remove __init__ from base strategy

There is a loading issues when running under py2 that causes errors
because of the way the base strategy is loaded. This change moves the
variable initialization out of the base and puts it in the strategies
themselves instead. It's a tiny bit of duplication but prevents loading
issues when running under py2.

Change-Id: I668590662dfed029a258bb21cb9c1100cee76652
Closes-Bug: #1904770
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/763242/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",3,fc186cdd7222c4d72505ee32a0bf26419363fc88,bug/1904770,," def __init__(self, *args, **kwargs): super(TripleoBase, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = False self._hosts_left = [] self._iterator = None self._play_context = None self._strat_results = [] self.noop_task = None self._fail_cache = {} # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False ",29,16
openstack%2Fkeystone~stable%2Fqueens~Iccbef534ff7e723f8b1461bb1169e2da66cc1dea,openstack/keystone,stable/queens,Iccbef534ff7e723f8b1461bb1169e2da66cc1dea,Filter by entity_type in get_domain_mapping_list,MERGED,2020-11-10 20:29:27.000000000,2020-11-20 01:15:14.000000000,2020-11-20 01:13:24.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-10 20:29:27.000000000', 'files': ['keystone/identity/mapping_backends/base.py', 'keystone/identity/core.py', 'keystone/identity/mapping_backends/sql.py', 'keystone/tests/unit/test_backend_id_mapping_sql.py', 'releasenotes/notes/filter-mappings-by-entity-77162a146d375385.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0153ab781d387cc0fdb3c93fbd7be5c897bcf933', 'message': ""Filter by entity_type in get_domain_mapping_list\n\nwith many users and groups in a domain fetching all mappings (for both\nusers and groups) may become inefficient.\n\nIn an environment with approx 125k users and 150 groups in the mapping\ntable and SAML2+LDAP auth/backend, this patch reduced the time\nfor first (uncached) 'openstack token issue' command from 12 to 3 seconds.\nSimilar improvements were seen with time to login to Horizon as well.\n\nChange-Id: Iccbef534ff7e723f8b1461bb1169e2da66cc1dea\nCloses-Bug: #1775207\n(cherry picked from commit 4abd9926ab7fb79bbe86a22657a2474790a8fcb8)\n""}]",0,762207,0153ab781d387cc0fdb3c93fbd7be5c897bcf933,9,5,1,8866,,,0,"Filter by entity_type in get_domain_mapping_list

with many users and groups in a domain fetching all mappings (for both
users and groups) may become inefficient.

In an environment with approx 125k users and 150 groups in the mapping
table and SAML2+LDAP auth/backend, this patch reduced the time
for first (uncached) 'openstack token issue' command from 12 to 3 seconds.
Similar improvements were seen with time to login to Horizon as well.

Change-Id: Iccbef534ff7e723f8b1461bb1169e2da66cc1dea
Closes-Bug: #1775207
(cherry picked from commit 4abd9926ab7fb79bbe86a22657a2474790a8fcb8)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/07/762207/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/core.py', 'keystone/identity/mapping_backends/base.py', 'keystone/identity/mapping_backends/sql.py', 'keystone/tests/unit/test_backend_id_mapping_sql.py', 'releasenotes/notes/filter-mappings-by-entity-77162a146d375385.yaml']",5,0153ab781d387cc0fdb3c93fbd7be5c897bcf933,bug/1775207,"--- upgrade: - | As a performance improvement, the base mapping driver's method ``get_domain_mapping_list`` now accepts an optional named argument ``entity_type`` that can be used to get the mappings for a given entity type only. As this new call signature is already used in the ``identity.core`` module, authors/maintainers of out-of-tree custom mapping drivers are expected to update their implementations of ``get_domain_mapping_list`` method accordingly. ",,59,45
openstack%2Fswift~master~Ice5358ff85ee2d5fe60785b73b67dea493044a2c,openstack/swift,master,Ice5358ff85ee2d5fe60785b73b67dea493044a2c,xlo: 5xx while validating first segment is a server error,MERGED,2020-11-14 17:22:20.000000000,2020-11-20 01:15:01.000000000,2020-11-20 01:13:26.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-14 17:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1fa0cea5f9abd1d45f2c0661e75f1ce1e2d4ba3', 'message': 'slo: 5xx while validating first segment is a server error\n\nRelated-Change-Id: I99b351eee4fb86b6fcd54f7936b11f4918e1b999\nChange-Id: Ice5358ff85ee2d5fe60785b73b67dea493044a2c\n'}, {'number': 2, 'created': '2020-11-16 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7726dde8d3afab5424ce6a776605289d52ea9d2e', 'message': 'slo: 5xx while validating first segment is a server error\n\nRelated-Change-Id: I99b351eee4fb86b6fcd54f7936b11f4918e1b999\nChange-Id: Ice5358ff85ee2d5fe60785b73b67dea493044a2c\n'}, {'number': 3, 'created': '2020-11-16 17:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e934f30a45332c632d0aa0f9db19450b740970d', 'message': 'slo: 5xx while validating first segment is a server error\n\nRelated-Change-Id: I99b351eee4fb86b6fcd54f7936b11f4918e1b999\nChange-Id: Ice5358ff85ee2d5fe60785b73b67dea493044a2c\n'}, {'number': 4, 'created': '2020-11-17 16:38:41.000000000', 'files': ['test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/test_dlo.py', 'swift/common/request_helpers.py', 'swift/common/middleware/dlo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d787ddff85bfcb0c86c0e4b5594995f98cdf048', 'message': ""xlo: 5xx while validating first segment is a server error\n\nWith DLO and SLO, we validate that we can read the first segment before\nsending data to the client; this helps catch auth errors where the user\nhas access to read the manifest but not the segments.\n\nSometimes, though, that validation fails for transient reasons; if the\nproxy couldn't get enough responses from primaries to determine whether\nthe object exists (for example), we should send back a 503 to indicate\nto the client that it should retry the request.\n\nChange-Id: Ice5358ff85ee2d5fe60785b73b67dea493044a2c\n""}]",8,762738,3d787ddff85bfcb0c86c0e4b5594995f98cdf048,24,3,4,1179,,,0,"xlo: 5xx while validating first segment is a server error

With DLO and SLO, we validate that we can read the first segment before
sending data to the client; this helps catch auth errors where the user
has access to read the manifest but not the segments.

Sometimes, though, that validation fails for transient reasons; if the
proxy couldn't get enough responses from primaries to determine whether
the object exists (for example), we should send back a 503 to indicate
to the client that it should retry the request.

Change-Id: Ice5358ff85ee2d5fe60785b73b67dea493044a2c
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/762738/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_slo.py', 'swift/common/request_helpers.py']",2,b1fa0cea5f9abd1d45f2c0661e75f1ce1e2d4ba3,,"from swift.common.http import is_success, is_server_error msg = 'While processing manifest %s, got %d (%s) ' \ 'while retrieving %s' % ( self.name, seg_resp.status_int, body if len(body) <= 60 else body[:57] + '...', seg_req.path) if is_server_error(seg_resp.status_int): self.logger.error(msg) raise HTTPServiceUnavailable( request=seg_req, content_type='text/plain') raise SegmentError(msg)","from swift.common.http import is_success raise SegmentError( 'While processing manifest %s, ' 'got %d (%s) while retrieving %s' % (self.name, seg_resp.status_int, body if len(body) <= 60 else body[:57] + '...', seg_req.path)) ",37,8
openstack%2Frequirements~stable%2Ftrain~Ied9ab3b45d876b2f3f35db38e962704f78aac26b,openstack/requirements,stable/train,Ied9ab3b45d876b2f3f35db38e962704f78aac26b,update constraint for oslo.config to new release 6.11.3,MERGED,2020-11-19 11:43:33.000000000,2020-11-20 01:13:22.000000000,2020-11-20 01:13:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 11:43:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f2bb541b494e1e6eae21f44257f51e70d85fbaa2', 'message': 'update constraint for oslo.config to new release 6.11.3\n\nChange-Id: Ied9ab3b45d876b2f3f35db38e962704f78aac26b\nmeta:version: 6.11.3\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Daniel Bengtsson <dbengt@redhat.com>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: I76191abb0b5914ad73b872ac100427d47d7b8a4d\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,763358,f2bb541b494e1e6eae21f44257f51e70d85fbaa2,7,3,1,11131,,,0,"update constraint for oslo.config to new release 6.11.3

Change-Id: Ied9ab3b45d876b2f3f35db38e962704f78aac26b
meta:version: 6.11.3
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: I76191abb0b5914ad73b872ac100427d47d7b8a4d
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/763358/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f2bb541b494e1e6eae21f44257f51e70d85fbaa2,new-release,oslo.config===6.11.3,oslo.config===6.11.2,1,1
openstack%2Ftrove~stable%2Fvictoria~I45b3e0dc1dfabd000d2db2912e45450eec9a8edf,openstack/trove,stable/victoria,I45b3e0dc1dfabd000d2db2912e45450eec9a8edf,convert to type str to compare,MERGED,2020-11-19 19:38:46.000000000,2020-11-20 00:03:54.000000000,2020-11-20 00:02:08.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 31662}]","[{'number': 1, 'created': '2020-11-19 19:38:46.000000000', 'files': ['trove/guestagent/datastore/mysql/service.py', 'trove/guestagent/datastore/mariadb/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/e53e6385208f7ff5274abfb781fd830dc916cc64', 'message': 'convert to type str to compare\n\nbecause type of uuid_set[1] is string and type of master_UUID is int,\nso it is never equal\n\nChange-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf\n'}]",0,763430,e53e6385208f7ff5274abfb781fd830dc916cc64,7,3,1,6732,,,0,"convert to type str to compare

because type of uuid_set[1] is string and type of master_UUID is int,
so it is never equal

Change-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf
",git fetch https://review.opendev.org/openstack/trove refs/changes/30/763430/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql/service.py', 'trove/guestagent/datastore/mariadb/service.py']",2,e53e6385208f7ff5274abfb781fd830dc916cc64,, if str(uuid_set[1]) == str(master_UUID):, if uuid_set[1] == master_UUID:,2,2
openstack%2Fironic~master~I001d8c6ee3b1d6c466c71ea5179bdbca9bdd692d,openstack/ironic,master,I001d8c6ee3b1d6c466c71ea5179bdbca9bdd692d,Fix disk label to account for UEFI,MERGED,2020-11-12 15:50:34.000000000,2020-11-19 23:36:14.000000000,2020-11-19 23:34:27.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 15:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cd0855785a723c05e2a3cb286c0a9be1c05ab2d', 'message': 'Fix disk label to account for UEFI\n\nPreviously disk labels would not be populated if not explicitly\nset by an API user, which lead to a dangerous possible case,\nwhich sometimes could work, but was ultimately wrong to\nsetup a UEFI booting machine with a BIOS MBR partition table.\n\nNot all systems support this, but UEFI systems are supposed to\nsupport GPT partition tables.\n\nWe now fallback if no explicit override is set and assume GPT\nif the machine is set to UEFI mode.\n\nChange-Id: I001d8c6ee3b1d6c466c71ea5179bdbca9bdd692d\n'}, {'number': 2, 'created': '2020-11-18 03:10:29.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/assume-gpt-for-uefi-boot-mode-8f9c77721394459a.yaml', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed4abbd51929c8c847181af357e912c3ffe83d56', 'message': 'Fix disk label to account for UEFI\n\nPreviously disk labels would not be populated if not explicitly\nset by an API user, which lead to a dangerous possible case,\nwhich sometimes could work, but was ultimately wrong to\nsetup a UEFI booting machine with a BIOS MBR partition table.\n\nNot all systems support this, but UEFI systems are supposed to\nsupport GPT partition tables.\n\nWe now fallback if no explicit override is set and assume GPT\nif the machine is set to UEFI mode.\n\nChange-Id: I001d8c6ee3b1d6c466c71ea5179bdbca9bdd692d\n'}]",1,762540,ed4abbd51929c8c847181af357e912c3ffe83d56,18,7,2,11655,,,0,"Fix disk label to account for UEFI

Previously disk labels would not be populated if not explicitly
set by an API user, which lead to a dangerous possible case,
which sometimes could work, but was ultimately wrong to
setup a UEFI booting machine with a BIOS MBR partition table.

Not all systems support this, but UEFI systems are supposed to
support GPT partition tables.

We now fallback if no explicit override is set and assume GPT
if the machine is set to UEFI mode.

Change-Id: I001d8c6ee3b1d6c466c71ea5179bdbca9bdd692d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/762540/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/assume-gpt-for-uefi-boot-mode-8f9c77721394459a.yaml', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",3,3cd0855785a723c05e2a3cb286c0a9be1c05ab2d,," def test_get_disk_label_nothing_set(self): inst_info = {'capabilities': {'cat': 'meows'}} self.node.instance_info = inst_info result = utils.get_disk_label(self.node) self.assertIsNone(result) def test_get_disk_label_uefi_mode(self): inst_info = {'capabilities': {'cat': 'meows'}} properties = {'capabilities': 'boot_mode:uefi'} self.node.instance_info = inst_info self.node.properties = properties result = utils.get_disk_label(self.node) self.assertEqual('gpt', result) ",,29,1
openstack%2Fkeystone~master~I8b2629fab407e8ed24cf032e559c0129e6fd0bdc,openstack/keystone,master,I8b2629fab407e8ed24cf032e559c0129e6fd0bdc,"Fix cache is not dropped when the ""enabled"" of the project is changed",NEW,2020-11-17 05:24:35.000000000,2020-11-19 23:31:52.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 05:24:35.000000000', 'files': ['keystone/resource/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d32b6f93d3a68a7dee9f30084e39a632764153c2', 'message': 'Fix cache is not dropped when the ""enabled"" of the project is changed\n\nWhen users use unscoped token to find a project that can be used to login,\nthey can use the `/auth/projects` API to select an enabled project.\n\nBut when the administrator re-enables one of the projects, the API still\nshows that the project is disabled. This is caused by the cache not being\ndroped when the project is changed, and it should be fixed.\n\nChange-Id: I8b2629fab407e8ed24cf032e559c0129e6fd0bdc\n'}]",0,762951,d32b6f93d3a68a7dee9f30084e39a632764153c2,3,4,1,27809,,,0,"Fix cache is not dropped when the ""enabled"" of the project is changed

When users use unscoped token to find a project that can be used to login,
they can use the `/auth/projects` API to select an enabled project.

But when the administrator re-enables one of the projects, the API still
shows that the project is disabled. This is caused by the cache not being
droped when the project is changed, and it should be fixed.

Change-Id: I8b2629fab407e8ed24cf032e559c0129e6fd0bdc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/762951/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/resource/core.py'],1,d32b6f93d3a68a7dee9f30084e39a632764153c2,, if original_project_enabled != project_enabled: # Drop the computed assignments if the `enabled` property of the # project is changed. This ensures an accurate list of projects # is returned when listing projects/domains for a user based # on role assignments., # Drop the computed assignments if the project is being disabled. # This ensures an accurate list of projects is returned when # listing projects/domains for a user based on role assignments.,6,3
openstack%2Fneutron~master~Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d,openstack/neutron,master,Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d,Fix migration failed due TypeError of new_vlan_tag,MERGED,2020-11-12 12:50:29.000000000,2020-11-19 22:53:50.000000000,2020-11-19 21:43:35.000000000,"[{'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27339}]","[{'number': 1, 'created': '2020-11-12 12:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c106889172443133a171a55a5a020c0945865673', 'message': 'Fix migration failed due TypeError of new_vlan_tag\n\nThere could be a situation, when there are ports\nwith port_tags None created in OS infra.\n\nUnder normal circumstances, it would take some error\nto the log and go further.\nBut only because there is a ""new_vlan_tags must be string""\nin that log, it is throwing out typeError and dropping\nthe execution of code and the migration is ending by code 500.\n\nAnd this is all done without a message from\nthe log, which is extremely bad.\n\nThis patch is fixing this behaviour, and flow is\ngoes on.\n\nChange-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d\nCloses-Bug: #1903989\n'}, {'number': 2, 'created': '2020-11-12 12:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0226e91333fe00aa4a70d9e368192a6b9cf055f4', 'message': 'Fix migration failed due TypeError of new_vlan_tag\n\nThere could be a situation, when there are ports\nwith port_tags None created in OS infra.\n\nUnder normal circumstances, it would take some error\nto the log and go further.\nBut only because there is a ""new_vlan_tags must be string""\nin that log, it is throwing out typeError and dropping\nthe execution of code and the migration is ending by code 500.\n\nAnd this is all done without a message from\nthe log, which is extremely bad.\n\nThis patch is fixing this behaviour, and flow\ngoes on.\n\nChange-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d\nCloses-Bug: #1903989\n'}, {'number': 3, 'created': '2020-11-18 09:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77dc2300ba0f646fcb88de7600ef90319cdfdbd7', 'message': 'Fix migration failed due TypeError of new_vlan_tag\n\nThere could be a situation, when there are ports\nwith port_tags None created in OS infra.\n\nUnder normal circumstances, it would take some error\nto the log and go further.\nBut only because there is a ""new_vlan_tags must be string""\nin that log, it is throwing out typeError and dropping\nthe execution of code and the migration is ending by code 500.\n\nAnd this is all done without a message from\nthe log, which is extremely bad.\n\nThis patch is fixing this behaviour, and flow\ngoes on.\n\nChange-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d\nCloses-Bug: #1903989\n'}, {'number': 4, 'created': '2020-11-18 09:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62ac30261590c98322b86e81d6ae30ad588a56fa', 'message': 'Fix migration failed due TypeError of new_vlan_tag\n\nThere could be a situation, when there are ports\nwith port_tags None created in OS infra.\n\nUnder normal circumstances, it would take some error\nto the log and go further.\nBut only because there is a ""new_vlan_tags must be string""\nin that log, it is throwing out typeError and dropping\nthe execution of code and the migration is ending by code 500.\n\nAnd this is all done without a message from\nthe log, which is extremely bad.\n\nThis patch is fixing this behaviour, and flow\ngoes on.\n\nChange-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d\nCloses-Bug: #1903989\n'}, {'number': 5, 'created': '2020-11-18 09:25:12.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cf52bb5325ac73b7afa3212cb84d29831e3724a', 'message': 'Fix migration failed due TypeError of new_vlan_tag\n\nThere could be a situation, when there are ports\nwith port_tags None created in OS infra.\n\nUnder normal circumstances, it would take some error\nto the log and go further.\nBut only because there is a ""new_vlan_tags must be string""\nin that log, it is throwing out typeError and dropping\nthe execution of code and the migration is ending by code 500.\n\nAnd this is all done without a message from\nthe log, which is extremely bad.\n\nThis patch is fixing this behaviour, and flow\ngoes on.\n\nChange-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d\nCloses-Bug: #1903989\n'}]",8,762515,7cf52bb5325ac73b7afa3212cb84d29831e3724a,36,8,5,27339,,,0,"Fix migration failed due TypeError of new_vlan_tag

There could be a situation, when there are ports
with port_tags None created in OS infra.

Under normal circumstances, it would take some error
to the log and go further.
But only because there is a ""new_vlan_tags must be string""
in that log, it is throwing out typeError and dropping
the execution of code and the migration is ending by code 500.

And this is all done without a message from
the log, which is extremely bad.

This patch is fixing this behaviour, and flow
goes on.

Change-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d
Closes-Bug: #1903989
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/762515/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,c106889172443133a171a55a5a020c0945865673,bug/1903989," ""Current vlan tag on this port is '%(new_vlan_tag)s'."", 'new_vlan_tag': str(port_tags[port.port_name]) if port_tags[port.port_name] else ""no tag""}"," ""Current vlan tag on this port is '%(new_vlan_tag)d'."", 'new_vlan_tag': port_tags[port.port_name]}",2,2
openstack%2Fpython-tripleoclient~master~I5a702a84ca0e1942f2e1636d31acc391f689a8ad,openstack/python-tripleoclient,master,I5a702a84ca0e1942f2e1636d31acc391f689a8ad,Run validation without authentication in particular context,MERGED,2020-11-18 11:36:23.000000000,2020-11-19 22:47:13.000000000,2020-11-19 22:45:29.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-18 11:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12b26bcd8dbbaac0f80c9d105f566e371e3e6770', 'message': ""Remove auth_required false setting for validation Run\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n""}, {'number': 2, 'created': '2020-11-18 15:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d8c55e33b1a8098377008e45fd4a47d574ab893', 'message': ""Remove auth_required false setting for validation Run\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n""}, {'number': 3, 'created': '2020-11-18 15:44:14.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff4f4a9578170d2f6049520d1b454a7aef0b2613', 'message': ""Run validation without authentication in particular context\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\nThis patch handle the authentication if provided by the user and\nenvironment, if no authentifcation, since we cant generate dynamic\ninventory, it checks if a static is passed with the CLI, if not it\nraised an exception.\n\nIf authentication is provided and succeed, then tripleoclient can\nsafely call the plan_management to check and ensure if the plan is\npresent.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n""}]",5,763165,ff4f4a9578170d2f6049520d1b454a7aef0b2613,16,4,3,16515,,,0,"Run validation without authentication in particular context

Since we are using mistral to get the list of the plan
in TripleO, we require authentication for the clients
otherwise the validation Run won't work due to unable
to get mistral context.
This patch handle the authentication if provided by the user and
environment, if no authentifcation, since we cant generate dynamic
inventory, it checks if a static is passed with the CLI, if not it
raised an exception.

If authentication is provided and succeed, then tripleoclient can
safely call the plan_management to check and ensure if the plan is
present.

Change-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/763165/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,12b26bcd8dbbaac0f80c9d105f566e371e3e6770,fix/auth/validationrun,, auth_required = False ,0,2
openstack%2Fironic~master~I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e,openstack/ironic,master,I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e,Convert volume/targets endpoint to plain JSON,MERGED,2020-09-10 02:13:12.000000000,2020-11-19 22:35:58.000000000,2020-11-19 15:23:15.000000000,"[{'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a2ec22825fecc2a04d2dcdd7287f3fcf4965ceb', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dac4444bb099b84658c1cfb93b8d8d8ab0c895a', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/924d8481f6ae7bf129d29d512eb7071e7bd61164', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ceccb96498ecfeecd7d93a4b2261edf1c78c1f6', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d85bfa9ed67ed7b7b9db808ed5fb20975b17e0b', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29affe1221164c075c689a364642d888c7a2a180', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/640c1a637673fb77475aef53bab84b4aeb1daca1', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a872ab5ebcd6a8fe6339ee5f85381d946f8dbc1d', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b4ead71fe6ce50f1dd54d9c70f84c9276c614c1', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bae59344f4af1baf34f92deb214ee65877ad58a5', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/331e7bc623dad451e6f920d92667cc6d15e669b8', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/220c9ee9a088e594aa72d457d7b39bfabdf1b64a', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ed2a27700fb5e478f389fe2802477c95a11cb56', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/264604bbb8f7d364459965419aa67984bd4f3139', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33350c35e2a4794eac170bd2cfe38010b8ff8e1b', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/06dde984f3048e34d330f79b9c095951c5733361', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3b4d2ca37fe2c9c936c6cce23dbb15e578a2b77', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa89275bcef9a7922a7ddc4f6ef22f471aef03f6', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-11-15 21:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0543483ecf0eb48b09274bef7ee28c68e7fc2c19', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-11-18 22:06:55.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/000bc72cc29b8637df496f2e6768281606a27058', 'message': 'Convert volume/targets endpoint to plain JSON\n\nChange-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e\nStory: 1651346\nTask: 10551\n'}]",0,750860,000bc72cc29b8637df496f2e6768281606a27058,69,6,20,4571,,,0,"Convert volume/targets endpoint to plain JSON

Change-Id: I4d7f13ffb1dd438d9136238fa75a3efaac4e8b7e
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/750860/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py']",3,7a2ec22825fecc2a04d2dcdd7287f3fcf4965ceb,story/1651346," self.assertIn(b""123 is not of type 'string'"", response.body)","from ironic.api.controllers.v1 import volume_target as api_volume_target from ironic.api import types as atypesfrom ironic.tests import baseclass TestVolumeTargetObject(base.TestCase): def test_volume_target_init(self): target_dict = apiutils.volume_target_post_data(node_id=None) del target_dict['extra'] target = api_volume_target.VolumeTarget(**target_dict) self.assertEqual(atypes.Unset, target.extra) self.assertIn(b'Expected a UUID but received 123.', response.body)",183,240
openstack%2Ftripleo-ansible~master~Ic2c83c2ffb19866f7ad0dcaeb196a16f1745bbbc,openstack/tripleo-ansible,master,Ic2c83c2ffb19866f7ad0dcaeb196a16f1745bbbc,Reimplement os_tripleo_baremetal_node_introspection,MERGED,2020-11-12 01:12:26.000000000,2020-11-19 22:23:05.000000000,2020-11-13 20:54:48.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-12 01:12:26.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ed41aeab19f82116eb8c4ed013dab2728d45cfb', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n\nCloses-Bug: 1903786\nChange-Id: Ic2c83c2ffb19866f7ad0dcaeb196a16f1745bbbc\n""}]",0,762446,0ed41aeab19f82116eb8c4ed013dab2728d45cfb,9,4,1,4571,,,0,"Reimplement os_tripleo_baremetal_node_introspection

Triggering introspection via the introspection API is discouraged when
also using the Ironic API, because Ironic will be out of sync with
introspection state. This is suspected to be causing occasional errors
in CI and with end users.

This module was one of the very first to be converted from mistral, so
hasn't benefited from the concurrency and logging patterns in later
modules.

The internal implementation of this module has been rewritten, and now
does the following:

- Concurrency uses a ThreadPoolExecutor instead of a custom pool with
  async calls
- Waiting for state changes uses existing openstacksdk wait functions
- Logging ends up in a 'logging' result value instead of calling
  module.log which ansible does not pass back to the caller
- Introspection is triggered by setting the node provision state to
  'inspect'
- Node is powered off after a successful introspection

Closes-Bug: 1903786
Change-Id: Ic2c83c2ffb19866f7ad0dcaeb196a16f1745bbbc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/762446/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'],1,0ed41aeab19f82116eb8c4ed013dab2728d45cfb,bug/1903786," from concurrent import futures import io import logging import yaml from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_cloud_from_module from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs LOG = logging.getLogger('os_tripleo_baremetal_node_introspection') def _configure_logging(): log_fmt = ('%(asctime)s %(levelname)s %(name)s: %(message)s') urllib_level = logging.CRITICAL base_level = logging.INFO log_stream = io.StringIO() handler = logging.StreamHandler(log_stream) logging.basicConfig(level=base_level, format=log_fmt, handlers=[handler]) logging.getLogger('urllib3.connectionpool').setLevel(urllib_level) return log_stream def introspect(cloud, node_uuids, node_timeout, retry_timeout, max_retries, concurrency): result = {} if not node_uuids: introspect_jobs = [] with futures.ThreadPoolExecutor(max_workers=concurrency) as p: for node_uuid in node_uuids: introspect_jobs.append(p.submit( introspect_node, cloud, node_uuid, node_timeout, retry_timeout, max_retries )) for job in futures.as_completed(introspect_jobs): result[node_uuid] = job.result() return result def introspect_node(cloud, node_uuid, node_timeout, retry_timeout, max_retries): last_error = None attempt = 0 while attempt <= max_retries: attempt += 1 # Attempt cleanup from previous error if last_error: LOG.info(""Preparing for retry %s for node: %s"", attempt, node_uuid) prepare_for_retry(cloud, node_uuid, node_timeout, retry_timeout) try: LOG.info(""Introspecting node: %s"", node_uuid) # Start introspection cloud.baremetal.set_node_provision_state( node_uuid, 'inspect', wait=True, timeout=node_timeout) # Power off the node cloud.baremetal.set_node_power_state( node_uuid, 'power off', wait=True, timeout=node_timeout ) # Wait for the node lock to be released cloud.baremetal.wait_for_node_reservation( node_uuid, timeout=node_timeout ) # Get the introspection data for the result data = cloud.baremetal_introspection.get_introspection_data( node_uuid) LOG.info(""Introspecting node complete: %s"", node_uuid) # Success return { 'status': data, 'failed': False, 'error': None } except Exception as e: last_error = str(e) LOG.error(""Introspection of node %s failed on attempt %s: "" ""%s"", node_uuid, attempt, last_error) message = 'unknown error' status = '' # All attempts failed, fetch node to get the reason try: node = cloud.baremetal.get_node(node_uuid) message = node.last_error status = node.provision_state except Exception: if last_error: # Couldn't fetch the node, use the last exception message instead message = last_error return { ""error"": ""Error for introspection node %s on attempt %s: %s "" % (node_uuid, attempt, message), ""failed"": True, ""status"": status } def prepare_for_retry(cloud, node_uuid, node_timeout, retry_timeout): # Attempt to abort any existing introspection try: cloud.baremetal.set_node_provision_state( node_uuid, 'abort', wait=True, timeout=node_timeout) except Exception as e: LOG.warn(""Abort introspection of node %s failed: %s"", node_uuid, str(e)) # Attempt to power off the node try: cloud.baremetal.set_node_power_state( node_uuid, 'off', wait=True, timeout=node_timeout ) except Exception as e: LOG.warn(""Power off of node %s failed: %s"", node_uuid, str(e)) # Wait until node is unlocked try: cloud.baremetal.wait_for_node_reservation( node_uuid, timeout=retry_timeout) except Exception as e: LOG.warn(""Waiting for node unlock %s failed: %s"", node_uuid, str(e)) log_stream = _configure_logging() result = introspect( node_uuids=module.params[""node_uuids""], node_timeout=module.params[""node_timeout""], retry_timeout=module.params[""retry_timeout""], max_retries=module.params[""max_retries""], concurrency=module.params[""concurrency""]) ""msg"": message, ""logging"": log_stream.getvalue().split('\n')","#!/usr/bin/python__metaclass__ = typeimport time import yaml from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs from ansible.module_utils.openstack import openstack_cloud_from_module class IntrospectionManagement(object): def __init__(self, cloud, module, concurrency, max_retries, node_timeout, retry_timeout): self.client = cloud.baremetal_introspection self.cloud = cloud self.module = module self.concurrency = concurrency self.max_retries = max_retries self.node_timeout = node_timeout self.retry_timeout = retry_timeout def log(self, msg): self.module.log(""os_tripleo_baremetal_node_introspection: %s"" % msg) def push_next(self, pool, queue): try: next_introspection = next(queue) pool.append(next_introspection) except StopIteration: pass return pool def introspect(self, node_uuids): result = {} queue = (NodeIntrospection( uuid, self.client, self.cloud, self.node_timeout, self.max_retries, self.retry_timeout, self.log) for uuid in node_uuids) pool = [] for i in range(self.concurrency): pool = self.push_next(pool, queue) while len(pool) > 0: finished = [] for intro in pool: if not intro.started: try: intro.start_introspection() continue except Exception as e: self.log(""ERROR Node %s can't start introspection"" "" because: %s"" % (intro.node_id, str(e))) result[intro.node_id] = { ""error"": ""Error for introspection node %s: %s "" % ( intro.node_id, str(e)), ""failed"": True, ""status"": '' } finished.append(intro) continue status = intro.get_introspection() if (not status.is_finished and intro.timeouted()) or ( status.is_finished and status.error is not None ): if status.is_finished: self.log(""ERROR Introspection of node %s "" ""failed: %s"" % ( status.id, str(status.error)) ) if intro.last_retry(): result[status.id] = (intro.error_msg() if status.is_finished else intro.timeout_msg()) finished.append(intro) else: intro.restart_introspection() if status.is_finished and status.error is None: result[status.id] = { 'status': intro.get_introspection_data(), 'failed': False, 'error': None} finished.append(intro) for i in finished: pool.remove(i) pool = self.push_next(pool, queue) # Let's not DDOS Ironic service if pool: time.sleep(min(10, self.node_timeout)) class NodeIntrospection: started = False def __init__( self, node_id, os_client, os_cloud, timeout, max_retries, retry_timeout, log): self.node_id = node_id self.os_client = os_client self.os_cloud = os_cloud self.timeout = timeout self.max_retries = max_retries self.log = log self.start = int(time.time()) self.retries = 0 self.retry_timeout = retry_timeout self.last_status = None def restart_introspection(self): self.retries += 1 try: self.os_client.abort_introspection(self.node_id) except Exception as e: # Node is locked self.log(""ERROR Node %s can't abort introspection: %s"" % ( self.node_id, str(e))) return # need to wait before restarting introspection till it's aborted # to prevent hanging let's use introspect timeout for that try: self.os_client.wait_for_introspection( self.node_id, timeout=self.timeout, ignore_error=True) # Wait until node is unlocked self.os_cloud.baremetal.wait_for_node_reservation( self.node_id, timeout=self.retry_timeout) except Exception as e: self.log(""ERROR Node %s can't restart introspection because can't "" ""abort and unlock it: %s"" % (self.node_id, str(e))) return self.start = int(time.time()) return self.start_introspection(restart=True) def start_introspection(self, restart=False): self.started = True if restart: self.log(""INFO Restarting (try %s of %s) introspection of "" ""node %s"" % ( self.retries, self.max_retries, self.node_id)) else: self.log(""INFO Starting introspection of node %s"" % (self.node_id)) return self.os_client.start_introspection(self.node_id) def get_introspection(self): self.last_status = self.os_client.get_introspection(self.node_id) return self.last_status def get_introspection_data(self): self.log( ""Instrospection of node %s finished successfully!"" % self.node_id) return self.os_client.get_introspection_data(self.node_id) def time_elapsed(self): return int(time.time()) - self.start def timeouted(self): return self.time_elapsed() > self.timeout def last_retry(self): return self.retries >= self.max_retries def timeout_msg(self): self.log( ""ERROR Retry limit %s reached for introspection "" ""node %s: exceeded timeout"" % ( self.max_retries, self.node_id)) return {""error"": ""Timeout error for introspection node %s: %s "" ""sec exceeded max timeout of %s sec"" % ( self.node_id, self.time_elapsed(), self.timeout), ""failed"": True, ""status"": self.last_status } def error_msg(self): self.log( ""ERROR Retry limit %s reached for introspection "" ""node %s: %s"" % ( self.max_retries, self.node_id, self.last_status.error)) return {""error"": ""Error for introspection node %s: %s "" % ( self.node_id, self.last_status.error), ""failed"": True, ""status"": self.last_status } introspector = IntrospectionManagement( module, module.params[""concurrency""], module.params[""max_retries""], module.params[""node_timeout""], module.params[""retry_timeout""] ) result = introspector.introspect(module.params[""node_uuids""]) ""msg"": message",132,194
openstack%2Fironic~master~If71a152d83cae351da94f7777f341ad247814613,openstack/ironic,master,If71a152d83cae351da94f7777f341ad247814613,[WIP] Add image requirements in the OneView drivers docs,NEW,2015-11-11 18:50:34.000000000,2020-11-19 22:12:15.000000000,,"[{'_account_id': 10917}, {'_account_id': 14891}, {'_account_id': 14923}]","[{'number': 1, 'created': '2015-11-11 18:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd52bdf044781a2a8712ea6c09b0947111e6418c', 'message': '[WIP] Add image requirements in the OneView drivers docs\n\nThis patch improves the OneView driver docs by adding information\nregarding image requeriments for each of our drivers. We mostly\npoint to current available Ironic documentation that includes\nsuch info.\n\nChange-Id: If71a152d83cae351da94f7777f341ad247814613\nCo-Authored: Sinval Vieira <sinval@lsd.ufcg.edu.br>\n'}, {'number': 2, 'created': '2015-11-11 19:16:48.000000000', 'files': ['doc/source/drivers/oneview.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/16d59f218c3e0c3c13ad3fb48eb4cadf17fff249', 'message': '[WIP] Add image requirements in the OneView drivers docs\n\nThis patch improves the OneView driver docs by adding information\nregarding image requeriments for each of our drivers. We mostly\npoint to current available Ironic documentation that includes\nsuch info.\n\nChange-Id: If71a152d83cae351da94f7777f341ad247814613\nCo-Authored-By: Sinval Vieira <sinval@lsd.ufcg.edu.br>\n'}]",0,244267,16d59f218c3e0c3c13ad3fb48eb4cadf17fff249,7,3,2,14891,,,0,"[WIP] Add image requirements in the OneView drivers docs

This patch improves the OneView driver docs by adding information
regarding image requeriments for each of our drivers. We mostly
point to current available Ironic documentation that includes
such info.

Change-Id: If71a152d83cae351da94f7777f341ad247814613
Co-Authored-By: Sinval Vieira <sinval@lsd.ufcg.edu.br>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/244267/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/drivers/oneview.rst'],1,dd52bdf044781a2a8712ea6c09b0947111e6418c,improve-oneview-docs,"Image requirements ~~~~~~~~~~~~~~~~~~ 1. Deploy ramdisk images * To create or download valid deploy ramdisk images, please refer to [6]_. 2. User image * To create a valid user image, please refer to [7]_. Note that for an ``iSCSI`` deployment, a partition user image is needed. Image requirements ~~~~~~~~~~~~~~~~~~ 1. Deploy ramdisk images * To create or download valid deploy ramdisk images, please refer to [6]_. 2. User image * To create a valid user image, please refer to [7]_. Note that for an ``Agent`` deployment, a whole disk user image is needed. .. [6] Agent ramdisk deploy images creation - http://docs.openstack.org/developer/ironic/deploy/install-guide.html#building-or-downloading-a-deploy-ramdisk-image .. [7] Partition and whole disk user image creation - http://docs.openstack.org/developer/ironic/deploy/install-guide.html#image-requirements",,29,0
openstack%2Fironic~master~Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8,openstack/ironic,master,Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8,[DNM|WIP] Use mac virtual for OneView drivers,ABANDONED,2017-07-20 13:17:45.000000000,2020-11-19 22:11:52.000000000,,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19072}, {'_account_id': 19339}, {'_account_id': 23375}]","[{'number': 1, 'created': '2017-07-20 13:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cb242229fefb8e79422d84600c483210891cae2f', 'message': '[DNM|WIP] Use mac virtual for OneView drivers\n\nChange-Id: Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8\n'}, {'number': 2, 'created': '2017-07-25 17:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bea6dd332f5b9cd56354e53cf9605abf6a561a5', 'message': '[DNM|WIP] Use mac virtual for OneView drivers\n\nChange-Id: Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8\n'}, {'number': 3, 'created': '2017-09-20 16:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8483d344db00748a9d2f1fa440664b8da4e7e39e', 'message': '[DNM|WIP] Use mac virtual for OneView drivers\n\nChange-Id: Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8\n'}, {'number': 4, 'created': '2017-09-21 14:00:15.000000000', 'files': ['ironic/drivers/modules/oneview/deploy_utils.py', 'ironic/tests/unit/drivers/modules/oneview/test_common.py', 'ironic/drivers/modules/oneview/common.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe8e0e3d76d3a78fa8688e735c8ed64c4f0bfa58', 'message': '[DNM|WIP] Use mac virtual for OneView drivers\n\nChange-Id: Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8\n'}]",24,485618,fe8e0e3d76d3a78fa8688e735c8ed64c4f0bfa58,31,7,4,14675,,,0,"[DNM|WIP] Use mac virtual for OneView drivers

Change-Id: Iebffccc7a9eaf4f9b1e29db4ed755ed256ef1bb8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/485618/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/oneview/deploy_utils.py', 'ironic/drivers/modules/oneview/common.py']",2,cb242229fefb8e79422d84600c483210891cae2f,oneview_virtual_mac," # oneview_client.validate_node_server_profile_template(oneview_info) # oneview_client.validate_node_server_hardware_type(oneview_info) # oneview_client.validate_node_enclosure_group(oneview_info) # oneview_client.validate_node_server_hardware( # oneview_info, # task.node.properties.get('memory_mb'), # task.node.properties.get('cpus') # ) # oneview_client.is_node_port_mac_compatible_with_server_hardware( # oneview_info, node_ports # ) # oneview_client.validate_server_profile_template_mac_type(spt_uuid)def update_ironic_port_mac(task, server_profile, server_hardware): # aa:aa:bb: 1:1-a, aa:aa:bb: 1:2-a macs = get_server_hardware_macs(server_hardware) LOG.warning(macs) for connection in server_profile.connections: LOG.warning('CONNECTION') for port in task.ports: LOG.warning('PORT') port_id = connection.get('portId') virtual_mac = connection.get('mac').lower() LOG.warning(port_id) LOG.warning(port.address) LOG.warning(virtual_mac) # Update in Allocate Server Profile if port_id in macs and port.address == macs[port_id]: LOG.warning('Allocate UPDATE Port') port.address = virtual_mac LOG.warning(port.address) port.save() # Update in Deallocate Server Profile elif port_id in macs and port.address == virtual_mac: LOG.warning('Deallocate UPDATE Port') port.address = macs[port_id] LOG.warning(port.address) port.save() LOG.warning('UPDATE') LOG.warning(macs) # for port in task.ports: # if # try: # # Change logic # if connection.get('functionType') == 'Ethernet' and ( # connection.get('portId') in ('Flb 1:1-a', 'Flb 1:2-a')): # profile_mac_address = connection.get('mac') # for port in task.ports: # if port.address.lower() in macs: # port.address = profile_mac_address # port.save() # # Ethernet # LOG.warning(connection.get('functionType')) # # Flb 1:1-a / Flb 1:2-a # LOG.warning(connection.get('portId')) # except Exception: # raise Exception # GET ALL MACS (use hpOneView migration?) def get_server_hardware_macs(server_hardware): macs = {} # ports = [] # try: for device in server_hardware.port_map.get('deviceSlots'): device_location = device.get('location') slot_number = device.get('slotNumber') for physical_port in device.get('physicalPorts'): port_number = physical_port.get('portNumber') if physical_port.get('type') == 'Ethernet': for virtual_port in physical_port.get('virtualPorts'): if virtual_port.get('portFunction') == 'a': port_identifier = str(device_location) + ' ' \ + str(slot_number) + ':' + str(port_number) + '-a' # ports.append(port_identifier) macs[port_identifier] = virtual_port.get('mac').lower() return macs # except Exception: # raise oneview_exceptions.OneViewResourceNotFoundError( # ""There is no Ethernet port on the Server Hardware: %s"" # % server_hardware.get('uri')) "," oneview_client.validate_node_server_profile_template(oneview_info) oneview_client.validate_node_server_hardware_type(oneview_info) oneview_client.validate_node_enclosure_group(oneview_info) oneview_client.validate_node_server_hardware( oneview_info, task.node.properties.get('memory_mb'), task.node.properties.get('cpus') ) oneview_client.is_node_port_mac_compatible_with_server_hardware( oneview_info, node_ports ) oneview_client.validate_server_profile_template_mac_type(spt_uuid)",127,33
openstack%2Ftripleo-quickstart~master~I911ff5dd7128b77727d16ec04463d98713046823,openstack/tripleo-quickstart,master,I911ff5dd7128b77727d16ec04463d98713046823,Fix nit in victoria release file using the wrong docker registry,MERGED,2020-11-17 12:56:47.000000000,2020-11-19 22:05:11.000000000,2020-11-19 22:03:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-17 12:56:47.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/victoria.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/abd2442f228ac58b079ead30c11a5faef4f74eb8', 'message': 'Fix nit in victoria release file using the wrong docker registry\n\nWe must always reference the registry_ip_address_branch otherwise\nwe can end up using the wrong registry as was the case for related\nbug.\n\nChange-Id: I911ff5dd7128b77727d16ec04463d98713046823\nRelated-Bug: 1904565\n'}]",3,763005,abd2442f228ac58b079ead30c11a5faef4f74eb8,35,7,1,8449,,,0,"Fix nit in victoria release file using the wrong docker registry

We must always reference the registry_ip_address_branch otherwise
we can end up using the wrong registry as was the case for related
bug.

Change-Id: I911ff5dd7128b77727d16ec04463d98713046823
Related-Bug: 1904565
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/05/763005/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/victoria.yml'],1,abd2442f228ac58b079ead30c11a5faef4f74eb8,1904565, {%- elif job.consumer_job | default(false) | bool -%} {{ job.registry_ip_address_branch[release] }}:5001, {%- elif job.registry_ip_address is defined -%} {{ job.registry_ip_address }}:5001,2,2
openstack%2Ftripleo-common~master~I5a7bb54f954b64a08ef1d534d3d471cd673327ab,openstack/tripleo-common,master,I5a7bb54f954b64a08ef1d534d3d471cd673327ab,Fix --log-level=debug for buildah,MERGED,2020-11-18 12:53:53.000000000,2020-11-19 22:04:43.000000000,2020-11-19 22:03:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-18 12:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0b05f893724e7cea3f9152a2e73886662f120fb1', 'message': ""Fix --log-level=debug for buildah\n\nWhen using it without '=' it breaks somewhere down the road of the\nprocess.execute call.\n\nChange-Id: I5a7bb54f954b64a08ef1d534d3d471cd673327ab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2020-11-18 12:56:34.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f50effd794b81ce11c7139159347832f4b9a026', 'message': ""Fix --log-level=debug for buildah\n\nWhen using it without '=' it breaks somewhere down the road of the\nprocess.execute call.\n\nChange-Id: I5a7bb54f954b64a08ef1d534d3d471cd673327ab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",2,763173,8f50effd794b81ce11c7139159347832f4b9a026,13,9,2,6926,,,0,"Fix --log-level=debug for buildah

When using it without '=' it breaks somewhere down the road of the
process.execute call.

Change-Id: I5a7bb54f954b64a08ef1d534d3d471cd673327ab
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/763173/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,0b05f893724e7cea3f9152a2e73886662f120fb1,," buildah_cmd_build = ['--log-level=debug', 'bud', '--log-rusage',"," buildah_cmd_build = ['--log-level debug', 'bud', '--log-rusage',",2,2
openstack%2Ftrove~master~I45b3e0dc1dfabd000d2db2912e45450eec9a8edf,openstack/trove,master,I45b3e0dc1dfabd000d2db2912e45450eec9a8edf,convert to type str to compare,MERGED,2020-11-16 11:11:34.000000000,2020-11-19 22:00:32.000000000,2020-11-19 21:59:04.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 31662}]","[{'number': 1, 'created': '2020-11-16 11:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2466a71bd0c870a5eb0f0ec33cf7735b676227ce', 'message': 'convert to type int to compare\n\nbecause type of uuid_set[1] is string and type of master_UUID is int,\nso it is never equal\n\nChange-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf\n'}, {'number': 2, 'created': '2020-11-17 04:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3951b6f5fe7fc02c4b8dde78f9de1a01c64fa9a1', 'message': 'convert to type int to compare\n\nbecause type of uuid_set[1] is string and type of master_UUID is int,\nso it is never equal\n\nChange-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf\n'}, {'number': 3, 'created': '2020-11-18 09:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ec25989e85c62ad535ed48384dc985bac9f4c817', 'message': 'convert to type str to compare\n\nbecause type of uuid_set[1] is string and type of master_UUID is int,\nso it is never equal\n\nChange-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf\n'}, {'number': 4, 'created': '2020-11-19 01:13:39.000000000', 'files': ['trove/guestagent/datastore/mysql/service.py', 'trove/guestagent/datastore/mariadb/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/5e1178764d5f3e76594e77149236d9e629f4e543', 'message': 'convert to type str to compare\n\nbecause type of uuid_set[1] is string and type of master_UUID is int,\nso it is never equal\n\nChange-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf\n'}]",5,762823,5e1178764d5f3e76594e77149236d9e629f4e543,19,3,4,31662,,,0,"convert to type str to compare

because type of uuid_set[1] is string and type of master_UUID is int,
so it is never equal

Change-Id: I45b3e0dc1dfabd000d2db2912e45450eec9a8edf
",git fetch https://review.opendev.org/openstack/trove refs/changes/23/762823/3 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/mariadb/service.py'],1,2466a71bd0c870a5eb0f0ec33cf7735b676227ce,, if int(uuid_set[1]) == int(master_UUID):, if uuid_set[1] == master_UUID:,1,1
openstack%2Fpython-manilaclient~master~I3a579292cc59a0c0adf4f903711e15370dae5481,openstack/python-manilaclient,master,I3a579292cc59a0c0adf4f903711e15370dae5481,Fix duplicate wait functional test,MERGED,2020-11-19 19:28:27.000000000,2020-11-19 21:49:06.000000000,2020-11-19 21:47:21.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2020-11-19 19:28:27.000000000', 'files': ['manilaclient/tests/functional/test_shares.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c4651bc2843e7228cc36b7d03985d6f1e33ede9a', 'message': 'Fix duplicate wait functional test\n\nWe already had a test to verify the default behavior\nof not using the ""wait"" option. Remove the\nduplicate test case that was added as part of\nI099ccf4bce383905aeefc770905bd4d06470eaf2\n\nTrivialFix\nRelated bp: add-wait-to-async-commands\n\nChange-Id: I3a579292cc59a0c0adf4f903711e15370dae5481\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,763429,c4651bc2843e7228cc36b7d03985d6f1e33ede9a,8,3,1,16643,,,0,"Fix duplicate wait functional test

We already had a test to verify the default behavior
of not using the ""wait"" option. Remove the
duplicate test case that was added as part of
I099ccf4bce383905aeefc770905bd4d06470eaf2

TrivialFix
Related bp: add-wait-to-async-commands

Change-Id: I3a579292cc59a0c0adf4f903711e15370dae5481
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/29/763429/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_shares.py'],1,c4651bc2843e7228cc36b7d03985d6f1e33ede9a,bp/add-wait-to-async-commands," self.assertEqual(""creating"", create['status']) def test_create_delete_with_wait(self): use_wait_option=True, self.assertEqual(""available"", share_1['status']) self.assertEqual(""available"", share_2['status']) self.delete_share([share_1['id'], share_2['id']], wait=True, client=self.user_client) for share in (share_1, share_2): self.assertRaises(exceptions.NotFound, self.user_client.get_share, share['id'])"," @ddt.data(True, False) def test_create_delete_with_wait(self, use_wait_option): use_wait_option=use_wait_option, expected_status = ""available"" if use_wait_option else ""creating"" self.assertEqual(expected_status, share_1['status']) self.assertEqual(expected_status, share_2['status']) if use_wait_option: self.delete_share([share_1['id'], share_2['id']], wait=use_wait_option, client=self.user_client) for share in (share_1, share_2): self.assertRaises( exceptions.NotFound, self.user_client.get_share, share['id'])",12,14
openstack%2Ftripleo-heat-templates~master~Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a,openstack/tripleo-heat-templates,master,Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a,Refactor nova db config,MERGED,2020-04-08 20:54:59.000000000,2020-11-19 21:18:42.000000000,2020-11-19 21:18:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-04-08 20:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d5abda990a34190146eb0c4ca57610723065b70', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 2, 'created': '2020-04-09 09:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1eae5219924098edff6dd584951e0c23c536552', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 3, 'created': '2020-04-09 12:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fb29f97e2a48f37d4e6e29a5a333d49f3c1c16f', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 4, 'created': '2020-04-09 12:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc3ca71e8e8e33791d89d743a4ec50b5288aac64', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 5, 'created': '2020-04-09 18:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c572f6024886fde787c05e1563e5e002046e41e', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 6, 'created': '2020-08-05 19:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/019080427d7a0a80f82db2e74ad9c036dda0f633', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 7, 'created': '2020-08-06 21:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccedf567e8d40f66ce3915a0f23e574e0cebd1f1', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 8, 'created': '2020-08-06 21:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30d0eab7f3b187e8a6c28f3caaf836c8cfc73f4d', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 9, 'created': '2020-08-07 09:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec5468cdb74dd7212de52f7b8daff547552d9ff1', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 10, 'created': '2020-08-07 19:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb30b26e988ff3dbc352d0400c1a345f743dd08a', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 11, 'created': '2020-11-10 15:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b79bdcc744a1f21bf02592eebceceee82de69c0', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 12, 'created': '2020-11-10 22:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96bf097cb2dda990eb5e8ad86107ae82f9df5d8b', 'message': 'WIP: refactor nova db config\n\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 13, 'created': '2020-11-11 11:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c54c6c23a026e575f1c38f2e1fcb80c68a22ca04', 'message': 'WIP: refactor nova db config\n\nDepends-On: I8d0282d665db98a785706ced17e29a3788050b03\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 14, 'created': '2020-11-11 20:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2e265fbcc708f627f5ffb5be33988c762bc1670', 'message': 'WIP: refactor nova db config\n\nDepends-On: I07caa3185427b48e6e7d60965fa3e6157457018c\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 15, 'created': '2020-11-12 21:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f548f167273b42eee266d315810d9818b0350ae', 'message': ""Refactor nova db config\n\nIt's best to avoid placing db creds on the compute nodes to limit the\nexposure if an attacker succeeds in gaining access to the hypervisor host.\n\nRelated patches in puppet-nova remove the credentials from nova.conf however\nthe current scope of db credential hieradata is all nova services - so it will\nbut written to the hieradata keys on nova-compute nodes.\n\nThis patch refactors the nova hieradata structure, splitting the nova database\nhieradata out into individual templates and selectively including\nonly where necessary, ensuring we have no db creds on a compute node (unless it\nis an all-in-one api+compute node).\n\nTo follow-up from I47b95ad46e2d4e5b1f370a2f840826e87da2d703 this also includes\nroles/services to run cell v2 discovery on a dedicated host if it is desirable\nto omit the api nodes during scale-up.\n\nDepends-On: I07caa3185427b48e6e7d60965fa3e6157457018c\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n""}, {'number': 16, 'created': '2020-11-13 16:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2ae7f396ca2d7f269100ff2a155bed2dc046093', 'message': ""Refactor nova db config\n\nIt's best to avoid placing db creds on the compute nodes to limit the\nexposure if an attacker succeeds in gaining access to the hypervisor host.\n\nRelated patches in puppet-nova remove the credentials from nova.conf however\nthe current scope of db credential hieradata is all nova services - so it will\nbut written to the hieradata keys on nova-compute nodes.\n\nThis patch refactors the nova hieradata structure, splitting the nova database\nhieradata out into individual templates and selectively including\nonly where necessary, ensuring we have no db creds on a compute node (unless it\nis an all-in-one api+compute node).\n\nTo follow-up from I47b95ad46e2d4e5b1f370a2f840826e87da2d703 this also includes\nroles/services to run cell v2 discovery on a dedicated host if it is desirable\nto omit the api nodes during scale-up.\n\nDepends-On: I07caa3185427b48e6e7d60965fa3e6157457018c\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n""}, {'number': 17, 'created': '2020-11-18 00:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/585e1509acc6529ac2ed7a85a9d1af5596d5dd17', 'message': 'Refactor nova db config\n\nIt is best to avoid placing db creds on the compute nodes to limit the\nexposure if an attacker succeeds in gaining access to the hypervisor\nhost.\n\nRelated patches in puppet-nova remove the credentials from nova.conf\nhowever the current scope of db credential hieradata is all nova tripleo\nservices - so it will but written to the hieradata keys on compute\nnodes.\n\nThis patch refactors the nova hieradata structure, splitting the\nnova-api/nova database hieradata out into individual templates and\nselectively including only where necessary, ensuring we have no db\ncreds on a compute node (unless it is an all-in-one api+compute node).\n\nDepends-On: I07caa3185427b48e6e7d60965fa3e6157457018c\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 18, 'created': '2020-11-18 00:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9b51a1e44afa7c3969b2c8a81e6fffeb0fb55c3', 'message': 'Refactor nova db config\n\nIt is best to avoid placing db creds on the compute nodes to limit the\nexposure if an attacker succeeds in gaining access to the hypervisor\nhost.\n\nRelated patches in puppet-nova remove the credentials from nova.conf\nhowever the current scope of db credential hieradata is all nova tripleo\nservices - so it will but written to the hieradata keys on compute\nnodes.\n\nThis patch refactors the nova hieradata structure, splitting the\nnova-api/nova database hieradata out into individual templates and\nselectively including only where necessary, ensuring we have no db\ncreds on a compute node (unless it is an all-in-one api+compute node).\n\nDepends-On: I07caa3185427b48e6e7d60965fa3e6157457018c\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}, {'number': 19, 'created': '2020-11-18 12:23:01.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d82364de8d6d1fba083993e085fb8cafcc08268', 'message': 'Refactor nova db config\n\nIt is best to avoid placing db creds on the compute nodes to limit the\nexposure if an attacker succeeds in gaining access to the hypervisor\nhost.\n\nRelated patches in puppet-nova remove the credentials from nova.conf\nhowever the current scope of db credential hieradata is all nova tripleo\nservices - so it will but written to the hieradata keys on compute\nnodes.\n\nThis patch refactors the nova hieradata structure, splitting the\nnova-api/nova database hieradata out into individual templates and\nselectively including only where necessary, ensuring we have no db\ncreds on a compute node (unless it is an all-in-one api+compute node).\n\nDepends-On: I07caa3185427b48e6e7d60965fa3e6157457018c\nChange-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a\nCloses-bug: #1871482\n'}]",21,718552,9d82364de8d6d1fba083993e085fb8cafcc08268,88,10,19,23811,,,0,"Refactor nova db config

It is best to avoid placing db creds on the compute nodes to limit the
exposure if an attacker succeeds in gaining access to the hypervisor
host.

Related patches in puppet-nova remove the credentials from nova.conf
however the current scope of db credential hieradata is all nova tripleo
services - so it will but written to the hieradata keys on compute
nodes.

This patch refactors the nova hieradata structure, splitting the
nova-api/nova database hieradata out into individual templates and
selectively including only where necessary, ensuring we have no db
creds on a compute node (unless it is an all-in-one api+compute node).

Depends-On: I07caa3185427b48e6e7d60965fa3e6157457018c
Change-Id: Ia4a29bdd2cd8e894bcc7c0078cf0f0ab0f97de0a
Closes-bug: #1871482
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/718552/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml']",12,2d5abda990a34190146eb0c4ca57610723065b70,refactor_nova_db_config," NovaApiDBClient: type: ./nova-apidb-client-puppet.yaml NovaDBClient: type: ./nova-db-client-puppet.yaml - get_attr: [NovaBase, role_data, config_settings] - get_attr: [NovaApiDBClient, role_data, config_settings] - get_attr: [NovaDBClient, role_data, config_settings] - get_attr: [NovaLogging, config_settings] rabbitmq: {get_attr: [NovaBase, role_data, service_config_settings], rabbitmq} mysql: map_merge: - get_attr: [NovaApiDBClient, role_data, service_config_settings, mysql] - get_attr: [NovaDBClient, role_data, service_config_settings, mysql]"," properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} - {get_attr: [NovaBase, role_data, config_settings]} - {get_attr: [NovaLogging, config_settings]}",261,232
openstack%2Fpuppet-tripleo~master~I07caa3185427b48e6e7d60965fa3e6157457018c,openstack/puppet-tripleo,master,I07caa3185427b48e6e7d60965fa3e6157457018c,Stop including nova::metadata on computes,MERGED,2020-11-11 20:48:18.000000000,2020-11-19 21:13:53.000000000,2020-11-19 21:13:53.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-11-11 20:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a2a6cae784ecf9086c242a11e6d5a967ed53d0cb', 'message': 'Stop including nova::metadata on computes\n\nI5da1e67684f8317eec8c499c3534977e00a63098 include nova::metadata on computes\nhowever this includes nova::db which we must not do on computes.\nPush the fix up to puppet-nova and nova.\n\nDepends-On: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nChange-Id: I07caa3185427b48e6e7d60965fa3e6157457018c\nRelated-bug: #1871482\nRelated-bug: #1903908\nRelated-bug: #1832537\n'}, {'number': 2, 'created': '2020-11-12 20:54:02.000000000', 'files': ['manifests/profile/base/nova/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/287b1b6ce77fe143d781ccd1b900c3bdbe6ada87', 'message': 'Stop including nova::metadata on computes\n\nI5da1e67684f8317eec8c499c3534977e00a63098 include nova::metadata on computes\nhowever this includes nova::db which we must not do on computes.\nPush the fix up to puppet-nova and nova.\n\nDepends-On: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nDepends-On: I47b95ad46e2d4e5b1f370a2f840826e87da2d703\nChange-Id: I07caa3185427b48e6e7d60965fa3e6157457018c\nRelated-bug: #1871482\nRelated-bug: #1903908\nRelated-bug: #1832537\n'}]",0,762415,287b1b6ce77fe143d781ccd1b900c3bdbe6ada87,13,8,2,23811,,,0,"Stop including nova::metadata on computes

I5da1e67684f8317eec8c499c3534977e00a63098 include nova::metadata on computes
however this includes nova::db which we must not do on computes.
Push the fix up to puppet-nova and nova.

Depends-On: If6a26527a737a7184ebddd5b4bc346d64827e9e3
Depends-On: I47b95ad46e2d4e5b1f370a2f840826e87da2d703
Change-Id: I07caa3185427b48e6e7d60965fa3e6157457018c
Related-bug: #1871482
Related-bug: #1903908
Related-bug: #1832537
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/762415/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/compute.pp'],1,a2a6cae784ecf9086c242a11e6d5a967ed53d0cb,refactor_nova_db_config,, # we need to set nova::metadata::dhcp_domain which sets # [api]/dhcp_domain as this is used by the virt driver # to generate the config drive include nova::metadata,0,5
openstack%2Fironic~master~I6c0a49cafa94fe6d2dee4069642d352d5391ec92,openstack/ironic,master,I6c0a49cafa94fe6d2dee4069642d352d5391ec92,Convert volume/connectors endpoint to plain JSON,MERGED,2020-09-10 02:13:12.000000000,2020-11-19 21:13:39.000000000,2020-11-19 15:23:09.000000000,"[{'_account_id': 4571}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4661239657c665261938fe5eb64ac6be62466516', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/664afb49495ba55908ea80306be94900ffef5001', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/62e1b3b08169d2b1a3c98c1439cf14aa522e36cc', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19a143e62eea97b77aa3d2de76de879f00449de7', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a1a97e3ae849d635f0890ee8190d8b28aaacfc9', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/993432f655c4e734ae05f0e3a937b04a216e3517', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f56467130faad2ebbe3f670be3e0180686140f26', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e82638e62af9abd096f13ad3e9ce7f5a1fd06a8', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/44a95e603f411fae3248c1ed92bf237557f834a1', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cda9698a4f74b3f8eba98b2b7b2a4cd532845d56', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a244ea831d03b43631fa1949d6afdd9f8e2ae74f', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d4564341931e190c5b912cda27d0a229b9769cf', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4646d175742feae6f2052a9065965e0302c8b746', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8c43f8ac15ad35cbb808be2d4984aeade2a6ca2', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48dbe910daef9cb1f3ff21ef3b378c07e98c5856', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/549c289540dec0ba573a84d8775d4d2d4a64796b', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98f09c15cae9bf8a5c56ce95c7ca007f5b44cd27', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f36b77dbfd406dccd61a2a2f85d961c38f122924', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-11-15 21:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3504574db361b31811b44c5592681ea0fee1d0e', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-11-18 22:06:55.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_volume_connector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2099c47e71e44bb6c21a1579db35c908983f0b59', 'message': 'Convert volume/connectors endpoint to plain JSON\n\nChange-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92\nStory: 1651346\nTask: 10551\n'}]",0,750859,2099c47e71e44bb6c21a1579db35c908983f0b59,74,7,20,4571,,,0,"Convert volume/connectors endpoint to plain JSON

Change-Id: I6c0a49cafa94fe6d2dee4069642d352d5391ec92
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/750859/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_volume_connector.py']",3,4661239657c665261938fe5eb64ac6be62466516,story/1651346," self.assertIn(b""123 is not of type 'string'"", response.body)","from ironic.api.controllers.v1 import volume_connector as api_volume_connector from ironic.api import types as atypesfrom ironic.tests import baseclass TestVolumeConnectorObject(base.TestCase): def test_volume_connector_init(self): connector_dict = apiutils.volume_connector_post_data(node_id=None) del connector_dict['extra'] connector = api_volume_connector.VolumeConnector(**connector_dict) self.assertEqual(atypes.Unset, connector.extra) self.assertIn(b'Expected a UUID but received 123.', response.body)",180,229
openstack%2Ftripleo-quickstart~master~I0390d8be815f875efafc32e934c8074a527f629b,openstack/tripleo-quickstart,master,I0390d8be815f875efafc32e934c8074a527f629b,Use rdo trunk to get dlrn hash  for promotions,ABANDONED,2020-11-19 15:58:00.000000000,2020-11-19 21:00:49.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-19 15:58:00.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/49368e617bfaa011240289aef3ff4c85e0602584', 'message': 'Use rdo trunk to get dlrn hash  for promotions\n\nUsing nodepool proxy mirrors leads to pulling\noutdated hashes.  For promotions, we need to pull\nthe dlrn hash directly from rdo trunk.\n\nRelated review: https://review.opendev.org/#/c/763233/\n\nChange-Id: I0390d8be815f875efafc32e934c8074a527f629b\n'}]",0,763401,49368e617bfaa011240289aef3ff4c85e0602584,4,4,1,9976,,,0,"Use rdo trunk to get dlrn hash  for promotions

Using nodepool proxy mirrors leads to pulling
outdated hashes.  For promotions, we need to pull
the dlrn hash directly from rdo trunk.

Related review: https://review.opendev.org/#/c/763233/

Change-Id: I0390d8be815f875efafc32e934c8074a527f629b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/01/763401/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml']",3,49368e617bfaa011240289aef3ff4c85e0602584,periodic-trunk," rdo_dlrn=`curl --silent https://trunk.rdoproject.org/centos7-queens/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` rdo_dlrn_deps=`curl --silent https://trunk.rdoproject.org/centos7-queens/delorean-deps.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2 | head -n 1`"," rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-queens/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` rdo_dlrn_deps=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-queens/delorean-deps.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2 | head -n 1`",4,4
openstack%2Ftripleo-heat-templates~master~I47b95ad46e2d4e5b1f370a2f840826e87da2d703,openstack/tripleo-heat-templates,master,I47b95ad46e2d4e5b1f370a2f840826e87da2d703,Move cell_v2 discovery off compute hosts,MERGED,2020-11-12 20:48:14.000000000,2020-11-19 20:56:53.000000000,2020-11-19 20:55:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-11-12 20:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47a1ae4c1a73fc2ecef466efc477f252326441d7', 'message': ""Move cell_v2 discovery off compute hosts\n\nThis requires database credentials on the compute node, which is forbidden,\nso it's got to go back to a nova-api host.\n\nIIUC this was originally moved to the compute host in order to run cell\ndiscovery during a scale up where the controllers are omitted\n(e.g to exclude them from a maintenance window).\n\nThis will no longer work. Either a manual cell_v2 discovery can be run after\nscale up, or an additional node can be deployed running the 'nova-manager'\ntripleo service (to be added in a follow-up patch).\n\nChange-Id: I47b95ad46e2d4e5b1f370a2f840826e87da2d703\n""}, {'number': 2, 'created': '2020-11-17 23:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/731eb85d80b68038c07842f8476e9b31277ae6c7', 'message': 'Move cell_v2 discovery off compute hosts\n\nIn I12a02f636f31985bc1b71bff5b744d346286a95f cell_v2 discovery was\noriginally moved from the nova-api container to the\nnova-compute|nova-ironic containers in order to run cell\ndiscovery during a scale up where the controllers are omitted\n(e.g to exclude the controllers from a maintenance window).\n\nThis requires api database credentials on the compute node, which is\nforbidden, so it must move back to a nova-api host as a pre-requisite\nfor removing these credentials in a follow-up patch.\n\nScale-up while omitting the controllers will no longer work out of the\nbox. Either a manual cell_v2 discovery can be run after scale up, or an\nadditional node can be deployed using the NovaManager tripleo role.\n\nRelated-bug: #1786961\nRelated-bug: #1871482\nChange-Id: I47b95ad46e2d4e5b1f370a2f840826e87da2d703\n'}, {'number': 3, 'created': '2020-11-18 12:22:01.000000000', 'files': ['roles/NovaManager.yaml', 'releasenotes/notes/cell_v2_discovery_off_computes-2b977c6b9a01cde2.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'tools/yaml-validate.py', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/629485dde5d6b96d38688f362362fac45392ece9', 'message': 'Move cell_v2 discovery off compute hosts\n\nIn I12a02f636f31985bc1b71bff5b744d346286a95f cell_v2 discovery was\noriginally moved from the nova-api container to the\nnova-compute|nova-ironic containers in order to run cell\ndiscovery during a scale up where the controllers are omitted\n(e.g to exclude the controllers from a maintenance window).\n\nThis requires api database credentials on the compute node, which is\nforbidden, so it must move back to a nova-api host as a pre-requisite\nfor removing these credentials in a follow-up patch.\n\nScale-up while omitting the controllers will no longer work out of the\nbox. Either a manual cell_v2 discovery can be run after scale up, or an\nadditional node can be deployed using the NovaManager tripleo role.\n\nRelated-bug: #1786961\nRelated-bug: #1871482\nChange-Id: I47b95ad46e2d4e5b1f370a2f840826e87da2d703\n'}]",5,762579,629485dde5d6b96d38688f362362fac45392ece9,29,12,3,23811,,,0,"Move cell_v2 discovery off compute hosts

In I12a02f636f31985bc1b71bff5b744d346286a95f cell_v2 discovery was
originally moved from the nova-api container to the
nova-compute|nova-ironic containers in order to run cell
discovery during a scale up where the controllers are omitted
(e.g to exclude the controllers from a maintenance window).

This requires api database credentials on the compute node, which is
forbidden, so it must move back to a nova-api host as a pre-requisite
for removing these credentials in a follow-up patch.

Scale-up while omitting the controllers will no longer work out of the
box. Either a manual cell_v2 discovery can be run after scale up, or an
additional node can be deployed using the NovaManager tripleo role.

Related-bug: #1786961
Related-bug: #1871482
Change-Id: I47b95ad46e2d4e5b1f370a2f840826e87da2d703
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/762579/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-common-container-puppet.yaml'],1,47a1ae4c1a73fc2ecef466efc477f252326441d7,refactor_nova_db_config," - name: discover via nova_manager? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_manager'][0] }}"" nova_cellv2_discovery_container: nova_manager when: - groups['nova_manager'] is defined and (groups['nova_manager']|length>0) - name: discover via nova_api? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_api'][0] }}"" nova_cellv2_discovery_container: nova_api - groups['nova_api'] is defined and (groups['nova_api']|length>0) - name: Warn if no discovery host available fail: msg: 'No hosts available to run nova cell_v2 host discovery.' ignore_errors: yes when: - nova_cellv2_discovery_delegate_host is not defined command: ""{{ container_cli }} exec {{ nova_cellv2_discovery_container }} nova-manage cell_v2 discover_hosts --by-service"""," - name: discover via nova_compute? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_ironic'][0] }}"" - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service""",15,7
openstack%2Ftripleo-ansible~master~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,master,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,MERGED,2020-07-28 19:21:19.000000000,2020-11-19 20:56:47.000000000,2020-11-19 20:51:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 19:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc1609cc88c11e72a856a743c457a94ea46f2992', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n'}, {'number': 2, 'created': '2020-07-28 19:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15cf60f5236dc1d0a2ed3b32eac777f6e9e20a97', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n'}, {'number': 3, 'created': '2020-07-31 19:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f68d4738ee0de3197af367dcf0b8feca59c74b7', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n'}, {'number': 4, 'created': '2020-11-06 15:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ed2d06b3a95ffd57cb1010c95ca290af562d912', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n'}, {'number': 5, 'created': '2020-11-18 16:50:23.000000000', 'files': ['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de98a36b353a5ca6eb5acc290dd941e4b222a110', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n'}]",24,743620,de98a36b353a5ca6eb5acc290dd941e4b222a110,37,6,5,9914,,,0,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/743620/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml']",8,fc1609cc88c11e72a856a743c457a94ea46f2992,add_ca_update_role,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # tripleo_update_trusted_cas will add a set of certifcates in PEM format # to the trusted CA store. These are provided in a ca_map, which has # the format: # # ca_map: # first-ca-name: # content: | # The content of the CA cert goes here # second-ca-name: # content: | # The content of the CA cert goes here # etc. - name: Add ca files become: true copy: dest: ""/etc/pki/ca-trust/source/anchors/{{ item.key }}.pem"" content: ""{{ item.value.content }}"" mode: ""0644"" owner: ""root"" loop: ""{{ ca_map |dict2items }}"" - name: Update trust become: true command: /usr/bin/update-ca-trust extract ",,333,0
openstack%2Fpython-manilaclient~master~I099ccf4bce383905aeefc770905bd4d06470eaf2,openstack/python-manilaclient,master,I099ccf4bce383905aeefc770905bd4d06470eaf2,Add a waiter to share create/delete,MERGED,2020-10-01 22:34:20.000000000,2020-11-19 20:09:05.000000000,2020-11-19 20:07:27.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-10-01 22:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c4559b51a2d983cc71af3da94b5e9e68cf1d5b36', 'message': 'Add a waiter to share creation command\n\nChange-Id: I099ccf4bce383905aeefc770905bd4d06470eaf2\n'}, {'number': 2, 'created': '2020-10-02 02:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8552d8e5295b8944a46aaf87f17c65ad8a585d28', 'message': 'Add a waiter to share create/delete\n\nWIP\n\nChange-Id: I099ccf4bce383905aeefc770905bd4d06470eaf2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-10-02 22:37:44.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/exceptions.py', 'manilaclient/tests/unit/v2/fakes.py', 'releasenotes/notes/bug-1898304-add-wait-to-share-create-delete-f121073f2f4402ff.yaml', 'manilaclient/v2/shell.py', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/functional/base.py', 'manilaclient/tests/functional/test_shares.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d3c4e8fa16570e255dd3e00f4a4c40258542c06e', 'message': 'Add a waiter to share create/delete\n\nThis option enables ""create"" and ""delete""\ncommands to wait until the action has completed.\nThere are numerous asynchronous operations\nand this behavior is desirable for all\nof them, however, the feature will be implemented\nin parts and tracked as various ""low-hanging-fruit""\nbugs for new contributors to get a hang of\nthe contributor process.\n\nThis patch introduces a framework for future\nimplementations, including a sample set of\nunit and functional tests for create/delete\noperations on shares with the v2 shell client.\n\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898304\nChange-Id: I099ccf4bce383905aeefc770905bd4d06470eaf2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",9,755667,d3c4e8fa16570e255dd3e00f4a4c40258542c06e,24,6,3,16643,,,0,"Add a waiter to share create/delete

This option enables ""create"" and ""delete""
commands to wait until the action has completed.
There are numerous asynchronous operations
and this behavior is desirable for all
of them, however, the feature will be implemented
in parts and tracked as various ""low-hanging-fruit""
bugs for new contributors to get a hang of
the contributor process.

This patch introduces a framework for future
implementations, including a sample set of
unit and functional tests for create/delete
operations on shares with the v2 shell client.

Partially-implements: bp add-wait-to-async-commands
Closes-Bug: #1898304
Change-Id: I099ccf4bce383905aeefc770905bd4d06470eaf2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/67/755667/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shell.py'],1,c4559b51a2d983cc71af3da94b5e9e68cf1d5b36,bp/add-wait-to-async-commands,"@cliutils.arg( '--wait', action='store_true', help='Wait for share creation') if args.wait: time_elapsed = 0 poll_timeout = 300 message = (""Share %(share)s did not become 'available' within "" ""%(seconds)d seconds."") while True: share = _find_share(cs, share.id) if share.status == 'available' or 'error' in share.status: break else: time.sleep(2) time_elapsed += 2 if time_elapsed > poll_timeout: _print_share(cs, share) raise exceptions.RequestTimeout(message=message % { 'share': share['id'], 'seconds': poll_timeout }) ",,25,0
openstack%2Fnova~master~Id1a18d4d8cea1bf6bf2da76a0853a782ceef48d1,openstack/nova,master,Id1a18d4d8cea1bf6bf2da76a0853a782ceef48d1,WIP: Reproducer for unpinned to pinned resize bug,ABANDONED,2020-11-19 15:46:35.000000000,2020-11-19 19:55:24.000000000,,"[{'_account_id': 9008}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-19 15:46:35.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/64ef1d1a69c8950a67127f63871650e9665fc8ac', 'message': 'WIP: Reproducer for unpinned to pinned resize bug\n\nChange-Id: Id1a18d4d8cea1bf6bf2da76a0853a782ceef48d1\n'}]",1,763399,64ef1d1a69c8950a67127f63871650e9665fc8ac,8,6,1,8864,,,0,"WIP: Reproducer for unpinned to pinned resize bug

Change-Id: Id1a18d4d8cea1bf6bf2da76a0853a782ceef48d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/763399/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,64ef1d1a69c8950a67127f63871650e9665fc8ac,," def test_resize_unpinned_to_pinned(self): # Start computes without any pinning config for hostname in ('test_compute0', 'test_compute1'): self.start_compute(hostname=hostname) # Create unpinned server flavor_a_id = self._create_flavor(extra_spec={}) server = self._create_server(flavor_id=flavor_a_id) # Make sure it's unpinned ctx = nova_context.get_admin_context() inst = objects.Instance.get_by_uuid(ctx, server['id']) self.assertEqual(None, inst.numa_topology) # Resize server to have CPU pinning extra_spec = {'hw:cpu_policy': 'dedicated'} flavor_b_id = self._create_flavor(extra_spec=extra_spec) with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') post = {'confirmResize': None} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'ACTIVE') # FIXME(artom) This... should not be happening? Neither of our two # hosts has any CPU pinning config... ctx = nova_context.get_admin_context() inst = objects.Instance.get_by_uuid(ctx, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) # TODO(artom) Try to replicate what we're seeingin whitebox, where # deleting the server fails with: # nova.exception.CPUUnpinningInvalid: CPU set to unpin [2, 6] must be a # subset of pinned CPU set [] self._delete_server(server) ",,40,0
openstack%2Fcharm-nova-cloud-controller~stable%2F20.10~Id118f6a5794de298c31debf6e31ffe92271982d1,openstack/charm-nova-cloud-controller,stable/20.10,Id118f6a5794de298c31debf6e31ffe92271982d1,Add region config to [neutron] in nova.conf,MERGED,2020-11-10 14:36:59.000000000,2020-11-19 19:46:46.000000000,2020-11-19 19:46:46.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-11-10 14:36:59.000000000', 'files': ['templates/parts/section-neutron'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/420da9c6e791368364ae750b801d08973a34460e', 'message': 'Add region config to [neutron] in nova.conf\n\nOn multi-region deployments, Nova may talk to the wrong\nneutron endpoint (from the wrong region) if the region\nis unspecified.\n\nThe issue that requires this fix is most apparent when\ndoing live migrations, as the Conductor tries to call\nNeutron to perform port bindings.\n\nCloses-bug: #1903210\nChange-Id: Id118f6a5794de298c31debf6e31ffe92271982d1\n(cherry picked from commit 25da3180b53abc9843cba37b12e08258de8644bf)\n'}]",0,762152,420da9c6e791368364ae750b801d08973a34460e,18,7,1,14567,,,0,"Add region config to [neutron] in nova.conf

On multi-region deployments, Nova may talk to the wrong
neutron endpoint (from the wrong region) if the region
is unspecified.

The issue that requires this fix is most apparent when
doing live migrations, as the Conductor tries to call
Neutron to perform port bindings.

Closes-bug: #1903210
Change-Id: Id118f6a5794de298c31debf6e31ffe92271982d1
(cherry picked from commit 25da3180b53abc9843cba37b12e08258de8644bf)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/52/762152/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/parts/section-neutron'],1,420da9c6e791368364ae750b801d08973a34460e,bug/1903210-stable/20.10,{% if region -%} region_name = {{ region }} {% endif -%},,3,0
openstack%2Fcharm-nova-compute~stable%2F20.10~I9500ba400d55e6f1bc11f2ba05b25b4714cda578,openstack/charm-nova-compute,stable/20.10,I9500ba400d55e6f1bc11f2ba05b25b4714cda578,Add/update region config in nova.conf,MERGED,2020-11-10 14:37:08.000000000,2020-11-19 19:46:25.000000000,2020-11-19 19:46:25.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-11-10 14:37:08.000000000', 'files': ['templates/parts/section-placement', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7a178053f1cb915f3fe50f328c7a2cf90c03f565', 'message': 'Add/update region config in nova.conf\n\nOn multi-region deployments, Nova may talk to the wrong\nneutron endpoint (from the wrong region) if the region\nis unspecified.\n\nOn Rocky+ it will also require updating the\nos_region_name config to region_name, as os_region_name\nhas been deprecated, otherwise Nova will talk to the wrong\nplacement endpoint as well.\n\nThis fix addresses the issue where nova-compute will not\nregister the node to the correct nova_api/placement\ndatabase, and will also not be able to complete live-migrations.\n\nGiven that the template for the [placement] section is\napplied to every release, it is included both old and\nnew config options.\n\nChange-Id: I9500ba400d55e6f1bc11f2ba05b25b4714cda578\nCloses-bug: #1903210\n(cherry picked from commit 835d4b167ab7db41962239eaabb56f492fa34cde)\n'}]",0,762153,7a178053f1cb915f3fe50f328c7a2cf90c03f565,30,5,1,14567,,,0,"Add/update region config in nova.conf

On multi-region deployments, Nova may talk to the wrong
neutron endpoint (from the wrong region) if the region
is unspecified.

On Rocky+ it will also require updating the
os_region_name config to region_name, as os_region_name
has been deprecated, otherwise Nova will talk to the wrong
placement endpoint as well.

This fix addresses the issue where nova-compute will not
register the node to the correct nova_api/placement
database, and will also not be able to complete live-migrations.

Given that the template for the [placement] section is
applied to every release, it is included both old and
new config options.

Change-Id: I9500ba400d55e6f1bc11f2ba05b25b4714cda578
Closes-bug: #1903210
(cherry picked from commit 835d4b167ab7db41962239eaabb56f492fa34cde)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/53/762153/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/parts/section-placement', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/rocky/nova.conf']",4,7a178053f1cb915f3fe50f328c7a2cf90c03f565,bug/1903210-stable/20.10,{% if region -%} region_name = {{ region }} {% endif -%},,10,0
openstack%2Fopenstack-ansible~master~I520b38b9f9194c277f44783570e74adb6261d266,openstack/openstack-ansible,master,I520b38b9f9194c277f44783570e74adb6261d266,Added Netplan examples for a Openstack Infrastructure node.,MERGED,2020-10-28 09:26:17.000000000,2020-11-19 19:06:39.000000000,2020-11-19 19:04:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-10-28 09:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d670b9894e763a07963923b1fdd6c463b40f3556', 'message': 'Added Netplan examples for a Openstack Infrastructure node\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 2, 'created': '2020-10-28 09:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/66866a07b14cff7ee0f35bc24a2267b40d3e1e16', 'message': 'Added Netplan examples for a Openstack Infrastructure node\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 3, 'created': '2020-10-28 10:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8dcd3fdc18b6a7c8cb730e4fd706fba2d279b256', 'message': 'Added Netplan examples for a Openstack Infrastructure node\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 4, 'created': '2020-10-28 10:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d28e83f8c82adc56cc42325243d7e8bc3f8ac2fe', 'message': 'Added Netplan examples for a Openstack Infrastructure node\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 5, 'created': '2020-10-28 10:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4ebc5bac6200d510fa434d11f7e593decf90dbf5', 'message': 'Added Netplan examples for a Openstack Infrastructure node\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 6, 'created': '2020-10-28 10:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a430466da7188dbd26b7102ff8729bebd82dcea', 'message': 'Added Netplan examples for a Openstack Infrastructure node\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 7, 'created': '2020-10-29 06:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3ecd475c1bac73dc78e6eaf6a4d8f10820fa3621', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 8, 'created': '2020-10-29 08:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/47e1311fc83438156e632821884611015c4119b5', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 9, 'created': '2020-11-11 12:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0535f69e5204f9a8b00a304133c13c3fd4a769f7', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 10, 'created': '2020-11-13 12:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/20dcedffa53ad6e7694ba4939bc0e86eda2bd965', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 11, 'created': '2020-11-13 12:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe63744cb1f090ff867946d504dd0b7f143dfb99', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 12, 'created': '2020-11-13 13:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57c02ffcfb1c4ec695c2149fb8c57800e22e3230', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\nUpdated with reviews.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 13, 'created': '2020-11-16 08:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c82de32def3fc4f0727962cf64404c3288a74b81', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\nUpdated with reviews.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 14, 'created': '2020-11-16 11:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5229500a19d7f2711a05bf5c7f48a92623a73a5a', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\nUpdated with reviews.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}, {'number': 15, 'created': '2020-11-17 16:57:59.000000000', 'files': ['etc/netplan/README.md', 'etc/netplan/01-static.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/461071f1baedad7851eecb78428e750cd752d4d9', 'message': 'Added Netplan examples for a Openstack Infrastructure node.\n\nChange-Id: I520b38b9f9194c277f44783570e74adb6261d266\nCloses-Bug: 1900794\n'}]",24,760090,461071f1baedad7851eecb78428e750cd752d4d9,49,4,15,27915,,,0,"Added Netplan examples for a Openstack Infrastructure node.

Change-Id: I520b38b9f9194c277f44783570e74adb6261d266
Closes-Bug: 1900794
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/760090/9 && git format-patch -1 --stdout FETCH_HEAD,"['etc/netplan/README.md', 'etc/netplan/01-static.yml']",2,d670b9894e763a07963923b1fdd6c463b40f3556,1900794,network: version: 2 ethernets: eno1: mtu: 9000 eno2: mtu: 9000 bonds: bond0: interfaces: - eno1 - eno2 mtu: 9000 parameters: down-delay: 0 lacp-rate: fast mii-monitor-interval: 100 mode: 802.3ad transmit-hash-policy: layer3+4 up-delay: 0 vlans: bond0.18: dhcp4: no id: 18 link: bond0 bond0.9: dhcp4: no id: 9 link: bond0 bond0.12: dhcp4: no id: 12 link: bond0 bond0.19: dhcp4: no id: 19 link: bond0 bridges: br-mgmt: addresses: - 172.21.224.10/24 - 172.21.224.254/24 # VIP interfaces: - bond0 mtu: 9000 nameservers: addresses: - 8.8.8.8 - 8.8.4.4 search: - example.com parameters: forward-delay: 15 stp: false br-vxlan: addresses: - 172.21.225.10/24 interfaces: - bond0.18 mtu: 9000 parameters: forward-delay: 15 stp: false br-storage: addresses: - 172.21.236.10/24 interfaces: - bond0.9 mtu: 9000 parameters: forward-delay: 15 stp: false br-ext: addresses: - 192.1.1.10/24 interfaces: - bond0.12 gateway4: 192.1.1.1 mtu: 9000 parameters: forward-delay: 15 stp: false br-instances: interfaces: - bond0.19 mtu: 9000 parameters: forward-delay: 15 stp: false ,,106,0
openstack%2Ftripleo-heat-templates~master~I741059afad42d0aa1e17b5becd56cbbbb0003c82,openstack/tripleo-heat-templates,master,I741059afad42d0aa1e17b5becd56cbbbb0003c82,Create post-deploy.conf on update/upgrade for octavia,MERGED,2020-09-10 13:11:21.000000000,2020-11-19 18:59:55.000000000,2020-11-19 18:59:54.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-10 13:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37c9b72b88a068fb9043692c1593a9ae08dbcf2b', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nChange-Id: I741059afad42d0aa1e17b5becd56cbbbb0003c82\nRelated-Bug: #1863595\n'}, {'number': 2, 'created': '2020-09-10 13:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7b8ade02aff5dc9bfa5d90dc0d720b46732d691', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nChange-Id: I741059afad42d0aa1e17b5becd56cbbbb0003c82\nRelated-Bug: #1863595\n'}, {'number': 3, 'created': '2020-09-10 13:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e343e4d1eb16ec7c149019bdce4678d519028fcb', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nChange-Id: I741059afad42d0aa1e17b5becd56cbbbb0003c82\nRelated-Bug: #1863595\n'}, {'number': 4, 'created': '2020-11-16 19:23:52.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3826e9ec3c0532396c5c795e5764b24e63ddfed', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nChange-Id: I741059afad42d0aa1e17b5becd56cbbbb0003c82\nRelated-Bug: #1863595\n'}]",0,750986,d3826e9ec3c0532396c5c795e5764b24e63ddfed,17,8,4,6681,,,0,"Create post-deploy.conf on update/upgrade for octavia

Containers are restarted with new command lines during upgrade/updates
before the external_deploy_task are run that create a configuration file
that is used on the command line. This results in octavia services
failing to start.

Change-Id: I741059afad42d0aa1e17b5becd56cbbbb0003c82
Related-Bug: #1863595
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/750986/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",5,37c9b72b88a068fb9043692c1593a9ae08dbcf2b,bug/1863595," update_tasks: {get_attr: [OctaviaBase, update_tasks]} upgrade_tasks: {get_attr: [OctaviaBase, upgrade_tasks]}", upgrade_tasks: [],58,42
openstack%2Fcharm-keystone-ldap~master~Ib269e74c7d313d9c6d09da29661dd279995dffe4,openstack/charm-keystone-ldap,master,Ib269e74c7d313d9c6d09da29661dd279995dffe4,Explicitly define ldap configurations,MERGED,2020-08-27 06:51:57.000000000,2020-11-19 18:46:33.000000000,2020-11-19 18:46:32.000000000,"[{'_account_id': 935}, {'_account_id': 2276}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 7730}, {'_account_id': 8992}, {'_account_id': 9247}, {'_account_id': 10366}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 24824}, {'_account_id': 26040}, {'_account_id': 30561}, {'_account_id': 31289}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-08-27 06:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/939749c83ee59743fca9451a4029785602192b57', 'message': '[WIP] Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values.\n\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 2, 'created': '2020-08-31 06:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/d3e4f7c4b5236d649738a2174ad86e5c9b39ed2e', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 3, 'created': '2020-09-02 06:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/93a103b4c6f14b36cf38364ec7cf292f20362fc7', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 4, 'created': '2020-09-14 10:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/dfcf49a03372038bddd57de619fd233111c38a05', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 5, 'created': '2020-09-24 04:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/3423e496d241a3c38cfe8045b44058266319c9d9', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 6, 'created': '2020-09-30 03:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/c376e92420921ce4c8f8e4d02682282ef21bbba8', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 7, 'created': '2020-10-06 06:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/d7710a01d1abe3d1eaa7020611d1692fd87ebb71', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 8, 'created': '2020-10-06 08:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/ad3c17ae54642e3bb33497bcc1b069b54722a2cc', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 9, 'created': '2020-10-07 07:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/232fd41bbd477e1d23d0d06924fdf6913764d828', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 10, 'created': '2020-10-08 03:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/227c5fe964c5e086b9775f4b188a4a8698606252', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 11, 'created': '2020-10-26 14:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/0f94abb1480c933826413ad4392ec50a139edb96', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 12, 'created': '2020-10-27 14:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/900d0b981aa2b09416b4187e488f630919d864cf', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nset same as the upstream keystone ldap config options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/403\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 13, 'created': '2020-11-10 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/0d5f98b2347472ea8a8301013f1c2a307c02424e', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 14, 'created': '2020-11-10 18:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/41e15ed95f3426c7daf19950beffdba35e5c2f57', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 15, 'created': '2020-11-12 18:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/dd5470053792ba296c9be663ad2504ddca581d5f', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/458\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 16, 'created': '2020-11-13 10:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/8fdaa98b8145e288e133462340c28e3f72cd51e1', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/458\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 17, 'created': '2020-11-13 10:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/6eec5d0d02826ebe2c96b4de055afc5f714bef9d', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/458\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 18, 'created': '2020-11-16 20:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/2f6a4fc945655310ec3cf0aa48a7f8d32a82f796', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/458\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}, {'number': 19, 'created': '2020-11-16 20:46:28.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/templates/keystone.conf', 'src/lib/charm/openstack/keystone_ldap.py', 'src/tests/tests.yaml', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/65bb510b519f677ae03cc828100f545d476be667', 'message': 'Explicitly define ldap configurations\n\nAdd new options to keystone-ldap charm to explicitly specify\nnecessary ldap configuration values. The default values for\nthe new configuration parameters introduced in this patch are\nempty so the default upstream keystone ldap config options are\nused when undeclared.\n\nIf the same LDAP config options are specified in\nldap-config-flags and the respective charm config\noption, then the value from the charm config option\nwill be used.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/458\nChange-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4\nCloses-Bug: #1832765\n'}]",30,748364,65bb510b519f677ae03cc828100f545d476be667,136,24,19,10366,,,0,"Explicitly define ldap configurations

Add new options to keystone-ldap charm to explicitly specify
necessary ldap configuration values. The default values for
the new configuration parameters introduced in this patch are
empty so the default upstream keystone ldap config options are
used when undeclared.

If the same LDAP config options are specified in
ldap-config-flags and the respective charm config
option, then the value from the charm config option
will be used.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/458
Change-Id: Ib269e74c7d313d9c6d09da29661dd279995dffe4
Closes-Bug: #1832765
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/64/748364/18 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/keystone.conf']",2,939749c83ee59743fca9451a4029785602192b57,bug/1832765,{% if options.ldap_query_scope -%} query_scope = {{ options.ldap_query_scope }} {% endif -%} {% if options.ldap_use_pool is defined -%} use_pool = {{ options.ldap_use_pool }} {% endif -%} {% if options.ldap_pool_size -%} pool_size = {{ options.ldap_pool_size }} {% endif -%} {% if options.ldap_pool_retry_max -%} pool_retry_max = {{ options.ldap_pool_retry_max }} {% endif -%} {% if options.ldap_pool_connection_timeout -%} pool_connection_timeout = {{ options.ldap_pool_connection_timeout }} {% endif -%} {% if options.ldap_user_tree_dn -%} user_tree_dn = {{ options.ldap_user_tree_dn }} {% endif -%} {% if options.ldap_user_objectclass -%} user_objectclass = {{ options.ldap_user_objectclass }} {% endif -%} {% if options.ldap_user_id_attribute -%} user_id_attribute = {{ options.ldap_user_id_attribute }} {% endif -%} {% if options.ldap_user_name_attribute -%} user_name_attribute = {{ options.ldap_user_name_attribute }} {% endif -%} {% if options.ldap_group_tree_dn -%} group_tree_dn = {{ options.ldap_group_tree_dn }} {% endif -%} {% if options.ldap_group_id_attribute -%} group_id_attribute = {{ options.ldap_group_id_attribute }} {% endif -%} {% if options.ldap_group_objectclass -%} group_objectclass = {{ options.ldap_group_objectclass }} {% endif -%} {% if options.ldap_user_enabled_attribute -%} user_enabled_attribute = {{ options.ldap_user_enabled_attribute }} {% endif -%} {% if options.ldap_user_enabled_mask -%} user_enabled_mask = {{ options.ldap_user_enabled_mask }} {% endif -%} {% if options.ldap_user_enabled_invert is defined -%} user_enabled_invert = {{ options.ldap_user_enabled_invert }} {% endif -%} {% if options.ldap_user_enabled_default -%} user_enabled_default = {{ options.ldap_user_enabled_default }} {% endif -%} {% if options.ldap_user_enabled_emulation -%} user_enabled_emulation = {{ options.ldap_user_enabled_emulation }} {% endif -%} {% if options.ldap_user_enabled_emulation_dn -%} user_enabled_emulation_dn = {{ options.ldap_user_enabled_emulation_dn }} {% endif -%} ,,175,0
openstack%2Fopenstack-tempest-skiplist~master~Id1922804798321323620ca09b919050a0439c916,openstack/openstack-tempest-skiplist,master,Id1922804798321323620ca09b919050a0439c916,Skip test_encrypted_cinder_volumes_luks on all jobs,MERGED,2020-11-19 18:22:27.000000000,2020-11-19 18:44:11.000000000,2020-11-19 18:42:52.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 18:22:27.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/501fe8c6e0fbf4d7cf71e3909b5db92730b82aed', 'message': 'Skip test_encrypted_cinder_volumes_luks on all jobs\n\nThis test is failing on an increasing number of jobs.\nUse the blanket jobs: [] to skip this test on all jobs.\n\nChange-Id: Id1922804798321323620ca09b919050a0439c916\n'}]",0,763424,501fe8c6e0fbf4d7cf71e3909b5db92730b82aed,7,3,1,9976,,,0,"Skip test_encrypted_cinder_volumes_luks on all jobs

This test is failing on an increasing number of jobs.
Use the blanket jobs: [] to skip this test on all jobs.

Change-Id: Id1922804798321323620ca09b919050a0439c916
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/24/763424/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,501fe8c6e0fbf4d7cf71e3909b5db92730b82aed,skip-sc002-all, jobs: [], jobs: - tripleo-ci-centos-8-scenario002-standalone - periodic-tripleo-ci-centos-8-scenario002-standalone-master - periodic-tripleo-ci-centos-8-scenario002-standalone-victoria,1,4
openstack%2Ftempest~master~Ib0b1e6ecb23481103791b065a622b4b89190412e,openstack/tempest,master,Ib0b1e6ecb23481103791b065a622b4b89190412e,[Trivial]Remove unused variables and methods,MERGED,2020-11-18 07:37:22.000000000,2020-11-19 18:36:24.000000000,2020-11-19 18:34:19.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-18 07:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55cf3027d6b90e20e34b8038500d903e33f57e99', 'message': '[Trivial]Remove unused variables and methods\n\nThis is to remove unused variables and methods to keep code clean.\n\nChange-Id: Ib0b1e6ecb23481103791b065a622b4b89190412e\n'}, {'number': 2, 'created': '2020-11-19 01:19:35.000000000', 'files': ['tempest/api/identity/v3/test_application_credentials.py', 'tempest/api/network/test_floating_ips.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/api/object_storage/test_crossdomain.py', 'tempest/api/object_storage/test_object_slo.py', 'tempest/api/identity/admin/v3/test_application_credentials.py', 'tempest/api/object_storage/test_container_sync.py', 'tempest/api/object_storage/test_healthcheck.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bf5ed0b676b634af156b313e333a8f37e396b98c', 'message': '[Trivial]Remove unused variables and methods\n\nThis is to remove unused variables and methods to keep code clean.\n\nChange-Id: Ib0b1e6ecb23481103791b065a622b4b89190412e\n'}]",3,763132,bf5ed0b676b634af156b313e333a8f37e396b98c,13,4,2,20190,,,0,"[Trivial]Remove unused variables and methods

This is to remove unused variables and methods to keep code clean.

Change-Id: Ib0b1e6ecb23481103791b065a622b4b89190412e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/763132/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/v3/test_application_credentials.py', 'tempest/api/network/test_floating_ips.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/api/object_storage/test_crossdomain.py', 'tempest/api/object_storage/test_object_slo.py', 'tempest/api/identity/admin/v3/test_application_credentials.py', 'tempest/api/object_storage/test_container_sync.py', 'tempest/api/object_storage/test_healthcheck.py']",8,55cf3027d6b90e20e34b8038500d903e33f57e99,unuse,," def setUp(self): super(HealthcheckTest, self).setUp() ",10,16
openstack%2Fblazar~master~I95833549861a0c3500d558ca2ebb0986fadc2c06,openstack/blazar,master,I95833549861a0c3500d558ca2ebb0986fadc2c06,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-17 06:04:43.000000000,2020-11-19 18:15:48.000000000,2020-11-19 18:13:53.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 06:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a17efd3a89ced74b758283fd07a3d353ca269964', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I95833549861a0c3500d558ca2ebb0986fadc2c06\n'}, {'number': 2, 'created': '2020-11-19 16:09:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/ccf172708b0bff3d2642fc2d26fb25ec874e0e89', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I95833549861a0c3500d558ca2ebb0986fadc2c06\n'}]",0,762956,ccf172708b0bff3d2642fc2d26fb25ec874e0e89,10,2,2,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I95833549861a0c3500d558ca2ebb0986fadc2c06
",git fetch https://review.opendev.org/openstack/blazar refs/changes/56/762956/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a17efd3a89ced74b758283fd07a3d353ca269964,,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftacker~master~I99a2e43a564c4e8586f4427be8e62b62359c23a9,openstack/tacker,master,I99a2e43a564c4e8586f4427be8e62b62359c23a9,Remove some skipTest in FT,MERGED,2020-11-17 07:27:57.000000000,2020-11-19 18:10:39.000000000,2020-11-19 18:09:07.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27880}, {'_account_id': 31821}, {'_account_id': 32102}, {'_account_id': 32395}]","[{'number': 1, 'created': '2020-11-17 07:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/31b7eb2d7c25cd5501e57d94b1bfc8c9559fc02b', 'message': 'DNM: Remove skipTest in FT\n\n* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/\n  test_create_delete_vnf_tosca_no_monitoring:\n  - since Change 634372 this could be removed.\n* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/\n  test_create_delete_tosca_vnfc\n  - test if the downlink bandwidth limitation still exists\n* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/\n  test_vnf_param_with_artifacts_image_tosca_template\n  - BUG 1847188 is still open and no useful comments have been posted.\n    I cannot reproduce the issue in the bug description and the skipped\n    FT succeeds on my local two nodes environment. Let me see if things\n    are ok now.\n\nChange-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9\n'}, {'number': 2, 'created': '2020-11-17 10:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/17ee245c668cc4d8c220392251789b5834bcde3c', 'message': 'DNM: Remove skipTest in FT\n\n* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/\n  test_create_delete_vnf_tosca_no_monitoring:\n  - since Change 634372 this could be removed.\n* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/\n  test_create_delete_tosca_vnfc\n  - test if the downlink bandwidth limitation still exists\n* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/\n  test_vnf_param_with_artifacts_image_tosca_template\n  - BUG 1847188 is still open and no useful comments have been posted.\n    I cannot reproduce the issue in the bug description and the skipped\n    FT succeeds on my local two nodes environment. Let me see if things\n    are ok now.\n\nChange-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9\n'}, {'number': 3, 'created': '2020-11-17 14:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c3969256ec1fcc024c81cd7278914d727f50b6e4', 'message': 'DNM: Remove skipTest in FT\n\n* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/\n  test_create_delete_vnf_tosca_no_monitoring:\n  - since Change 634372 this could be removed.\n* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/\n  test_create_delete_tosca_vnfc\n  - test if the downlink bandwidth limitation still exists\n* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/\n  test_vnf_param_with_artifacts_image_tosca_template\n  - BUG 1847188 is still open and no useful comments have been posted.\n    I cannot reproduce the issue in the bug description and the skipped\n    FT succeeds on my local two nodes environment. Let me see if things\n    are ok now.\n\nChange-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9\n'}, {'number': 4, 'created': '2020-11-18 00:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4adcdd3dd33f2c1d4c2d72f129325afacd871da4', 'message': 'DNM: Remove skipTest in FT\n\n* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/\n  test_create_delete_vnf_tosca_no_monitoring:\n  - since Change 634372 this could be removed.\n* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/\n  test_create_delete_tosca_vnfc\n  - test if the downlink bandwidth limitation still exists\n* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/\n  test_vnf_param_with_artifacts_image_tosca_template\n  - BUG 1847188 is still open and no useful comments have been posted.\n    I cannot reproduce the issue in the bug description and the skipped\n    FT succeeds on my local two nodes environment. Let me see if things\n    are ok now.\n\nChange-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9\n'}, {'number': 5, 'created': '2020-11-18 02:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/df71074314e0a749af453dbe8c7927848320e082', 'message': ""Remove some skipTest in FT\n\nReactivate the next two FTs which have been skipped for a while:\n* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/\n  test_create_delete_vnf_tosca_no_monitoring:\n  - should've been done when Change 634372 was merged\n* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/\n  test_vnf_param_with_artifacts_image_tosca_template\n  - BUG 1847188 is still open and no useful comments have been posted,\n    while I made sure it works fine at the moment.\n\nNote that the following one, which is the only FT still being explicitly\nskipped, cannot be reactivated. The downlink bandwidth limitation seems\nto still exist.\n* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/\n  test_create_delete_tosca_vnfc\n\nChange-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9\n""}, {'number': 6, 'created': '2020-11-18 02:32:26.000000000', 'files': ['tacker/tests/functional/vnfm/test_tosca_vnf.py', 'tacker/tests/functional/vnfm/test_vnfm_param.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a260a0fb9bca83084cba3e5ee669fe3f641364f', 'message': ""Remove some skipTest in FT\n\nReactivate the next two FTs which have been skipped for a while:\n* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/\n  test_create_delete_vnf_tosca_no_monitoring:\n  - should've been done when Change 634372 was merged\n* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/\n  test_vnf_param_with_artifacts_image_tosca_template\n  - BUG 1847188 is still open and no useful comments have been posted,\n    while I made sure it works fine at the moment.\n\nNote that the following one, which is the only FT [1] still being\nexplicitly skipped, cannot be reactivated. The downlink bandwidth\nlimitation seems to still exist.\n* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/\n  test_create_delete_tosca_vnfc\n\n[1] except k8s VIM-related ones\n\nChange-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9\n""}]",3,762965,8a260a0fb9bca83084cba3e5ee669fe3f641364f,24,9,6,32395,,,0,"Remove some skipTest in FT

Reactivate the next two FTs which have been skipped for a while:
* vnfm.test_tosca_vnf.VnfTestToscaCreateImageCreation/
  test_create_delete_vnf_tosca_no_monitoring:
  - should've been done when Change 634372 was merged
* tacker.tests.functional.vnfm.test_vnfm_param.VnfmTestParam/
  test_vnf_param_with_artifacts_image_tosca_template
  - BUG 1847188 is still open and no useful comments have been posted,
    while I made sure it works fine at the moment.

Note that the following one, which is the only FT [1] still being
explicitly skipped, cannot be reactivated. The downlink bandwidth
limitation seems to still exist.
* tacker.tests.functional.vnfm.test_tosca_vnfc.VnfTestToscaVNFC/
  test_create_delete_tosca_vnfc

[1] except k8s VIM-related ones

Change-Id: I99a2e43a564c4e8586f4427be8e62b62359c23a9
",git fetch https://review.opendev.org/openstack/tacker refs/changes/65/762965/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/vnfm/test_tosca_vnf.py', 'tacker/tests/functional/vnfm/test_vnfm_param.py', 'tacker/tests/functional/vnfm/test_tosca_vnfc.py']",3,31b7eb2d7c25cd5501e57d94b1bfc8c9559fc02b,dnm/rm-skip-test,," @unittest.skip(""Until BUG 1673012"")",0,3
openstack%2Fkuryr-kubernetes~stable%2Fpike~Ic2616426e814a64fdd6c07422508a67c8bb56220,openstack/kuryr-kubernetes,stable/pike,Ic2616426e814a64fdd6c07422508a67c8bb56220,Back porting dockerfiles for Kuryr Controller and CNI.,ABANDONED,2020-11-19 15:39:39.000000000,2020-11-19 17:42:04.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-11-19 15:39:39.000000000', 'files': ['controller.Dockerfile', 'cni_ds_init', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c351b31483310cb7bc4cbae7e8208d7f12259edd', 'message': 'Back porting dockerfiles for Kuryr Controller and CNI.\n\nChange-Id: Ic2616426e814a64fdd6c07422508a67c8bb56220\n'}]",0,763397,c351b31483310cb7bc4cbae7e8208d7f12259edd,4,5,1,13692,,,0,"Back porting dockerfiles for Kuryr Controller and CNI.

Change-Id: Ic2616426e814a64fdd6c07422508a67c8bb56220
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/97/763397/1 && git format-patch -1 --stdout FETCH_HEAD,"['controller.Dockerfile', 'cni_ds_init', 'cni.Dockerfile']",3,c351b31483310cb7bc4cbae7e8208d7f12259edd,pike-dockerfiles,"FROM centos:7 LABEL authors=""Antoni Segura Puimedon<toni@kuryr.org>, Vikas Choudhary<vichoudh@redhat.com>"" ARG UPPER_CONSTRAINTS_FILE=""https://opendev.org/openstack/requirements/raw/branch/stable/pike/upper-constraints.txt"" ARG OSLO_LOCK_PATH=/var/kuryr-lock RUN yum install -y epel-release https://rdoproject.org/repos/rdo-release.rpm \ && yum install -y --setopt=tsflags=nodocs python-pip iproute bridge-utils openvswitch sudo jq \ && yum install -y --setopt=tsflags=nodocs gcc python-devel git COPY . /opt/kuryr-kubernetes RUN cd /opt/kuryr-kubernetes \ && pip install -c $UPPER_CONSTRAINTS_FILE . \ && rm -fr .git \ && yum -y history undo last \ && mkdir ${OSLO_LOCK_PATH} COPY ./cni_ds_init /usr/bin/cni_ds_init ARG CNI_CONFIG_DIR_PATH=/etc/cni/net.d ENV CNI_CONFIG_DIR_PATH ${CNI_CONFIG_DIR_PATH} ARG CNI_BIN_DIR_PATH=/opt/cni/bin ENV CNI_BIN_DIR_PATH ${CNI_BIN_DIR_PATH} ARG CNI_DAEMON=False ENV CNI_DAEMON ${CNI_DAEMON} ENV OSLO_LOCK_PATH=${OSLO_LOCK_PATH} VOLUME [ ""/sys/fs/cgroup"" ] ENTRYPOINT [ ""cni_ds_init"" ] ",,105,0
openstack%2Fpuppet-nova~master~I981a80d9767b7eae0854a64df720c23f855ab1be,openstack/puppet-nova,master,I981a80d9767b7eae0854a64df720c23f855ab1be,Add parameter to specify host_uuid,MERGED,2020-11-11 08:27:47.000000000,2020-11-19 17:37:21.000000000,2020-11-19 17:35:52.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-11 08:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/81665cd841af428dfb1e44db04b181f0d11a6457', 'message': 'Add ability to specify host_uuid\n\nCurrently, the `override_uuid` option, if set, will generate a random\nuuid to be set in libvirtd.conf. It might be desirable to set a specific\nuuid instead of a random one, create an option to do so.\n\nChange-Id: I981a80d9767b7eae0854a64df720c23f855ab1be\n'}, {'number': 2, 'created': '2020-11-11 23:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/73f9393f886122644e21fa4044db2a0c97056d19', 'message': 'Add parameter to specify host_uuid\n\nCurrently, the `override_uuid` parameter, if set, will generate a random\nuuid to be set in libvirtd.conf. It might be desirable to set a specific\nuuid instead of a random one, create a parameter to do so.\n\nChange-Id: I981a80d9767b7eae0854a64df720c23f855ab1be\n'}, {'number': 3, 'created': '2020-11-11 23:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bb79f356b38635d39ab3b35af906c36b43469d7f', 'message': 'Add parameter to specify host_uuid\n\nCurrently, the `override_uuid` parameter, if set, will generate a random\nuuid to be set in libvirtd.conf. It might be desirable to set a specific\nuuid instead of a random one, create a parameter to do so.\n\nChange-Id: I981a80d9767b7eae0854a64df720c23f855ab1be\n'}, {'number': 4, 'created': '2020-11-16 22:05:17.000000000', 'files': ['releasenotes/notes/add-libvirtd-host_uuid-ff1ab95e4586d176.yaml', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6f8369ccfa5de2fa6045c2f52fb2afbc8a1f2f8d', 'message': 'Add parameter to specify host_uuid\n\nCurrently, the `override_uuid` parameter, if set, will generate a random\nuuid to be set in libvirtd.conf. It might be desirable to set a specific\nuuid instead of a random one, create a parameter to do so.\n\nChange-Id: I981a80d9767b7eae0854a64df720c23f855ab1be\n'}]",1,762313,6f8369ccfa5de2fa6045c2f52fb2afbc8a1f2f8d,20,4,4,8064,,,0,"Add parameter to specify host_uuid

Currently, the `override_uuid` parameter, if set, will generate a random
uuid to be set in libvirtd.conf. It might be desirable to set a specific
uuid instead of a random one, create a parameter to do so.

Change-Id: I981a80d9767b7eae0854a64df720c23f855ab1be
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/13/762313/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",2,81665cd841af428dfb1e44db04b181f0d11a6457,," context 'with override_uuid enabled and host_uuid set' do let :params do { :override_uuid => true, :host_uuid => 'a8debd9d-e359-4bb2-8c77-edee431f94f2', } end it { is_expected.to contain_file('/etc/libvirt/libvirt_uuid').with({ :content => 'a8debd9d-e359-4bb2-8c77-edee431f94f2', }).that_requires('Package[libvirt]') } it { is_expected.to contain_augeas('libvirt-conf-uuid').with({ :context => '/files/etc/libvirt/libvirtd.conf', :changes => [ ""set host_uuid a8debd9d-e359-4bb2-8c77-edee431f94f2"" ], }).that_requires('Package[libvirt]').that_notifies('Service[libvirt]') } end ",,30,4
openstack%2Freleases~master~Iff6b798225909d46f8c49927e8fad1eab3ebdfe0,openstack/releases,master,Iff6b798225909d46f8c49927e8fad1eab3ebdfe0,[manila] Transition Stein to EM,MERGED,2020-11-11 19:24:45.000000000,2020-11-19 17:24:08.000000000,2020-11-19 17:24:08.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 19:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4be493dd9a0946c59c3a84f17c784cd8db859cfd', 'message': '[manila] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iff6b798225909d46f8c49927e8fad1eab3ebdfe0\n'}, {'number': 2, 'created': '2020-11-11 22:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7bdb0182994e2e210434b57c3568053463fb332b', 'message': '[manila] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iff6b798225909d46f8c49927e8fad1eab3ebdfe0\n'}, {'number': 3, 'created': '2020-11-12 02:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c00f0eda68898e685301233eebacd3494231c1ae', 'message': '[manila] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nThis change creates the 8.1.4 release of manila,\nthat includes several bug-fixes.\n\nChange-Id: Iff6b798225909d46f8c49927e8fad1eab3ebdfe0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-11-12 06:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3ef29ea3f7e83648bb94427a1dd99fa62d6240b9', 'message': '[manila] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nThis change creates the 8.1.4 release of manila,\nthat includes several bug-fixes.\n\nChange-Id: Iff6b798225909d46f8c49927e8fad1eab3ebdfe0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-11-12 09:37:54.000000000', 'files': ['deliverables/stein/manila.yaml', 'deliverables/stein/manila-ui.yaml', 'deliverables/stein/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5a5752bfce7d5485484f62aa5af9590ae1944685', 'message': '[manila] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nChange-Id: Iff6b798225909d46f8c49927e8fad1eab3ebdfe0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,762395,5a5752bfce7d5485484f62aa5af9590ae1944685,26,6,5,17685,,,0,"[manila] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Change-Id: Iff6b798225909d46f8c49927e8fad1eab3ebdfe0
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/762395/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/manila-tempest-plugin.yaml', 'deliverables/stein/manila-ui.yaml', 'deliverables/stein/manila.yaml', 'deliverables/stein/python-manilaclient.yaml']",4,4be493dd9a0946c59c3a84f17c784cd8db859cfd,stein-em, - version: stein-em projects: - repo: openstack/python-manilaclient hash: 07564879ae4bdcb73e856b3aedcb79e4420fa7eb,,16,0
openstack%2Freleases~master~I6cbabdaf69016e562c04038ab843ceb14aad2690,openstack/releases,master,I6cbabdaf69016e562c04038ab843ceb14aad2690,[OpenStackAnsible] Transition Stein to EM,MERGED,2020-11-11 20:12:20.000000000,2020-11-19 17:24:06.000000000,2020-11-19 17:24:06.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-11-11 20:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b0329bb46508c6fc5289b73738f1dd0bb775fc4c', 'message': '[OpenStackAnsible] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I6cbabdaf69016e562c04038ab843ceb14aad2690\n'}, {'number': 2, 'created': '2020-11-19 13:33:59.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/074a07875694f219a7f96aa070b68777bb0ff100', 'message': '[OpenStackAnsible] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I6cbabdaf69016e562c04038ab843ceb14aad2690\n'}]",4,762409,074a07875694f219a7f96aa070b68777bb0ff100,20,6,2,17685,,,0,"[OpenStackAnsible] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I6cbabdaf69016e562c04038ab843ceb14aad2690
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/762409/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/openstack-ansible.yaml', 'deliverables/stein/openstack-ansible-roles.yaml']",2,b0329bb46508c6fc5289b73738f1dd0bb775fc4c,stein-em,releases: - version: stein-em projects: - repo: openstack/ansible-role-atos-hsm hash: 1518dbd7921f76bfda941208e808ee183e3b6049 - repo: openstack/ansible-role-qdrouterd hash: eac5f430863fb71b90fd89a0077558192517da17 - repo: openstack/ansible-role-python_venv_build hash: 0f2f4e2eaba638949d42fb0b2793b6ba203519a0 - repo: openstack/ansible-role-systemd_mount hash: 16c7fb71efd218559718dfc903a4a2cabf6a53f5 - repo: openstack/ansible-role-systemd_networkd hash: 311961b7e93b8f23011cdff9fbf927e970a9e2e8 - repo: openstack/ansible-role-systemd_service hash: 7f22ad73e990f8a15d9cda697f1d15d35ba5936c - repo: openstack/ansible-role-thales-hsm hash: 1d88cc9cd3efa4cfb35e86f1a89566d728c0f602 - repo: openstack/ansible-hardening hash: a9e1753ecc40ad7e2827853f483d70cad6227835 - repo: openstack/openstack-ansible-apt_package_pinning hash: 14c2620785303097dbddf1b7dc58c418b8e95819 - repo: openstack/openstack-ansible-ceph_client hash: c1edab7aabd1fea17bce04c54b94d3dbf3872163 - repo: openstack/openstack-ansible-galera_client hash: afdbacc5f16af04021a046e153fe100e1574901a - repo: openstack/openstack-ansible-galera_server hash: 829b749732cfcf9fcc87aa66963f9f2fead40dc0 - repo: openstack/openstack-ansible-haproxy_server hash: bc9c3548c41681017feb1eef20269eee70ff4d77 - repo: openstack/openstack-ansible-lxc_container_create hash: 2eb9cfd1be8a5f01c1ae6aa1879dd057345aab1b - repo: openstack/openstack-ansible-lxc_hosts hash: c52784341834de13bb04cedd9b4529d1b3ca12ea - repo: openstack/openstack-ansible-memcached_server hash: 53c47874e5daa67741d6cb773be7589bd1d95722 - repo: openstack/openstack-ansible-nspawn_container_create hash: 0de6bf805343b265f018ab3c17dff6a12a93bd45 - repo: openstack/openstack-ansible-nspawn_hosts hash: ddb1b6e69b1660f24f345806cf27dbc86dd4afb3 - repo: openstack/openstack-ansible-openstack_hosts hash: 2d5e7a4bf4da0a71106855869d3aa8311c4fc0f0 - repo: openstack/openstack-ansible-openstack_openrc hash: 0e3aa057e3246d72051f4cad218233619fecdf8d - repo: openstack/openstack-ansible-ops hash: 505a82d2119c02b5846b1318d7afb53a7308d13c - repo: openstack/openstack-ansible-os_almanach hash: 6561429ec7ee8198dd22c5ec231dd4b9c9bd715a - repo: openstack/openstack-ansible-os_aodh hash: f292913132a80986f348de4d54a6cfcad9048e98 - repo: openstack/openstack-ansible-os_barbican hash: 7781f24af089276d7fb1252ccaead6b6a9afa355 - repo: openstack/openstack-ansible-os_blazar hash: d16a1906e91e6f13da2ff70dbe345481f71ee4a6 - repo: openstack/openstack-ansible-os_ceilometer hash: e613a300669070ee29c0cf4ee1efee93c2c7170d - repo: openstack/openstack-ansible-os_cinder hash: 20698cb76c257e62df57654cc46a3f33db922e1c - repo: openstack/openstack-ansible-os_cloudkitty hash: 1e324aa268da9f251c1ee16ee308d01de6d4bea8 - repo: openstack/openstack-ansible-os_congress hash: 526ec716bc6095c42cb15c99833c484e4e341063 - repo: openstack/openstack-ansible-os_designate hash: c7ffaaafb416b697af1f67ef985f012db3078f53 - repo: openstack/openstack-ansible-os_glance hash: 0e7457a35ddf1bc3f380a1ea1afe9c6faf5c6c8f - repo: openstack/openstack-ansible-os_gnocchi hash: 7c78bdcf7fdce01363369d5568718de3ffe51618 - repo: openstack/openstack-ansible-os_heat hash: 283a521d926f67da6c1208723a5e3739e0209068 - repo: openstack/openstack-ansible-os_horizon hash: 4df265206ff680ba982a8b9d52db78a84590c89d - repo: openstack/openstack-ansible-os_ironic hash: a6608a8da7e54c70e48d1616f042a915053d56a9 - repo: openstack/openstack-ansible-os_keystone hash: 50ebe7835bd3616b02098f586e55568484ad484f - repo: openstack/openstack-ansible-os_magnum hash: 1e9804858ae52ce7e8edc1cf9684e45343783e84 - repo: openstack/openstack-ansible-os_masakari hash: 6bff0044e46a392ca433c3e37784ebc57f28bf81 - repo: openstack/openstack-ansible-os_manila hash: e04744c79836f680aee087d7973dae6699286220 - repo: openstack/openstack-ansible-os_mistral hash: b774f0e62f17d0337cc401ad69664bccc48a8813 - repo: openstack/openstack-ansible-os_molteniron hash: 22a9ab5f540c6f2f38317ef29ce271e8ccd1502b - repo: openstack/openstack-ansible-os_monasca hash: 2ecccf4ac7396b13d030ec4d2db98d26eeda2c18 - repo: openstack/openstack-ansible-os_monasca-agent hash: 0545714ab2c62a1250cfc3f96545bf625f4c1216 - repo: openstack/openstack-ansible-os_neutron hash: d2af6918e97dd27c96fb1c4972e915f8fddfb127 - repo: openstack/openstack-ansible-os_nova hash: dda91ae04925fea37884864b3d5fb314647f3c15 - repo: openstack/openstack-ansible-os_octavia hash: 2b8f71c85dfc6f57f2ccbaaa515508fde4af0df3 - repo: openstack/openstack-ansible-os_panko hash: 0f8684a54a8cba97d923bec0d4d18b674ca67269 - repo: openstack/openstack-ansible-os_placement hash: 8a1513cc1432493644b127f57cc3fd00c97fe1d0 - repo: openstack/openstack-ansible-os_rally hash: 1af78bb2b6331cb1a79c01660e4c04b7df50e039 - repo: openstack/openstack-ansible-os_sahara hash: 7316b92e6ab0ad5030297f95a46400f68013f1d9 - repo: openstack/openstack-ansible-os_searchlight hash: 49741e645aa0fd09cdc523a89faef83991692544 - repo: openstack/openstack-ansible-os_swift hash: e54ba6fe3166e09a77abeb0fb4d9b88b42630cb5 - repo: openstack/openstack-ansible-os_tacker hash: 524efabe97d4942acc8aa58913c2e7f8deb2fdbf - repo: openstack/openstack-ansible-os_tempest hash: cfbfd94b3df42470f5a8aa85f9644a261f2b3bed - repo: openstack/openstack-ansible-os_trove hash: d9fed6ebe0c376d0420fa666403b4731af4a6de2 - repo: openstack/openstack-ansible-os_watcher hash: d25b18bd36591a9eebbdbf84df2cbfebacbcbc09 - repo: openstack/openstack-ansible-os_zaqar hash: ee668e73dc665786d6871678a0c43588e28e36cd - repo: openstack/openstack-ansible-os_zun hash: d4e79eb38f142ec8228a1042fb42ceec170cc331 - repo: openstack/openstack-ansible-pip_install hash: f46a5353ef3ddbc323c75fbab12b09ac757dff69 - repo: openstack/openstack-ansible-plugins hash: f3efb647e3f48d40627a1dd81045ae6db6bb68b8 - repo: openstack/openstack-ansible-rabbitmq_server hash: d371e41167dd0378e56836b15fa309c54c1ac498 - repo: openstack/openstack-ansible-repo_build hash: 287a4268212f5efaa2d63b7e0a84b98267196247 - repo: openstack/openstack-ansible-repo_server hash: c801daedaf07d4df36869685a27637e4de7768e0 - repo: openstack/openstack-ansible-rsyslog_client hash: ef875a488a1a3e4450afeb7e90ea48762413e0a5 - repo: openstack/openstack-ansible-rsyslog_server hash: 9efa53f36c2c10926adac48ea9ecfb3d9c5590b0 - repo: openstack/openstack-ansible-tests hash: daef7ce175061e01c9582f5a64cb18d1f9c8435e,,139,0
openstack%2Freleases~master~I9a90ff0d802dcbac0999be4c203510c149b02dc5,openstack/releases,master,I9a90ff0d802dcbac0999be4c203510c149b02dc5,[storlets] Transition Stein to EM,MERGED,2020-11-11 21:24:02.000000000,2020-11-19 17:24:05.000000000,2020-11-19 17:24:04.000000000,"[{'_account_id': 308}, {'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:24:02.000000000', 'files': ['deliverables/stein/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b44b95f69e4c71a89e0253489b7c43f3555819a', 'message': '[storlets] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9a90ff0d802dcbac0999be4c203510c149b02dc5\n'}]",0,762431,2b44b95f69e4c71a89e0253489b7c43f3555819a,9,5,1,17685,,,0,"[storlets] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I9a90ff0d802dcbac0999be4c203510c149b02dc5
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/762431/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/storlets.yaml'],1,2b44b95f69e4c71a89e0253489b7c43f3555819a,stein-em, - version: stein-em projects: - repo: openstack/storlets hash: fce31c97f2d12e664b95f74b5ca6a66a13a0487a,,4,0
openstack%2Fblazar~master~I2766db82ff18af9cd7eeefe237ca8ea329e11ccd,openstack/blazar,master,I2766db82ff18af9cd7eeefe237ca8ea329e11ccd,Remove unused DB utility functions,MERGED,2020-11-09 19:34:50.000000000,2020-11-19 17:06:47.000000000,2020-11-19 17:05:00.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-09 19:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/5ffb37056c5ab95008b91cd96c3f8129c55ea0a8', 'message': ""Remove unused DB utility functions\n\nThere are several DB functions that are not referenced anywhere but in\ntests. It's possible that there was some intent to surface them as some\nsort of reporting API, but that hasn't ever happened. Removing them as\ndead code.\n\nChange-Id: I2766db82ff18af9cd7eeefe237ca8ea329e11ccd\n""}, {'number': 2, 'created': '2020-11-09 21:10:11.000000000', 'files': ['blazar/tests/db/sqlalchemy/test_utils.py', 'blazar/db/utils.py', 'blazar/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/0847f7e98b9f0359f9d0cd7675bc4cb94ab9fdd4', 'message': ""Remove unused DB utility functions\n\nThere are several DB functions that are not referenced anywhere but in\ntests. It's possible that there was some intent to surface them as some\nsort of reporting API, but that hasn't ever happened. Removing them as\ndead code.\n\nChange-Id: I2766db82ff18af9cd7eeefe237ca8ea329e11ccd\n""}]",1,761990,0847f7e98b9f0359f9d0cd7675bc4cb94ab9fdd4,9,2,2,29100,,,0,"Remove unused DB utility functions

There are several DB functions that are not referenced anywhere but in
tests. It's possible that there was some intent to surface them as some
sort of reporting API, but that hasn't ever happened. Removing them as
dead code.

Change-Id: I2766db82ff18af9cd7eeefe237ca8ea329e11ccd
",git fetch https://review.opendev.org/openstack/blazar refs/changes/90/761990/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/db/sqlalchemy/test_utils.py', 'blazar/db/utils.py', 'blazar/db/sqlalchemy/utils.py']",3,5ffb37056c5ab95008b91cd96c3f8129c55ea0a8,remove-dead-db-utils,," def reservation_ratio(host_id, start_date, end_date): res_time = reservation_time(host_id, start_date, end_date).seconds return float(res_time) / (end_date - start_date).seconds def availability_time(host_id, start_date, end_date): res_time = reservation_time(host_id, start_date, end_date) return end_date - start_date - res_time def reservation_time(host_id, start_date, end_date): res_time = datetime.timedelta(0) for lease in _get_leases_from_host_id(host_id, start_date, end_date): res_time += lease.end_date - lease.start_date if lease.start_date < start_date: res_time -= start_date - lease.start_date if lease.end_date > end_date: res_time -= lease.end_date - end_date return res_time def number_of_reservations(host_id, start_date, end_date): return sum(1 for x in _get_leases_from_host_id(host_id, start_date, end_date)) def longest_lease(host_id, start_date, end_date): max_duration = datetime.timedelta(0) longest_lease = None session = get_session() query = (session.query(models.Lease).join(models.Reservation) .join(models.ComputeHostAllocation) .filter(models.ComputeHostAllocation.compute_host_id == host_id) .filter(models.Lease.start_date >= start_date) .filter(models.Lease.end_date <= end_date)) for lease in query: duration = lease.end_date - lease.start_date if max_duration < duration: max_duration = duration longest_lease = lease.id return longest_lease def shortest_lease(host_id, start_date, end_date): # TODO(frossigneux) Fix max timedelta min_duration = datetime.timedelta(365 * 1000) longest_lease = None session = get_session() query = (session.query(models.Lease).join(models.Reservation) .join(models.ComputeHostAllocation) .filter(models.ComputeHostAllocation.compute_host_id == host_id) .filter(models.Lease.start_date >= start_date) .filter(models.Lease.end_date <= end_date)) for lease in query: duration = lease.end_date - lease.start_date if min_duration > duration: min_duration = duration longest_lease = lease.id return longest_lease",0,235
openstack%2Fironic-python-agent~master~Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9,openstack/ironic-python-agent,master,Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9,Fix vendor info retrieval for some versions of lshw,MERGED,2020-11-16 14:25:42.000000000,2020-11-19 16:31:54.000000000,2020-11-18 17:27:07.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-16 14:25:42.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3761a448009467dd342bc0cb3ca3b182969def42', 'message': ""Fix vendor info retrieval for some versions of lshw\n\nThere is one more place that relies on lshw json output being a dict,\nso let's fix the function that gets the dict rather than places it is\nbeing used in.\n\nChange-Id: Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9\nTask: 39527\nStory: 2007588\n""}]",0,762850,3761a448009467dd342bc0cb3ca3b182969def42,11,5,1,12356,,,0,"Fix vendor info retrieval for some versions of lshw

There is one more place that relies on lshw json output being a dict,
so let's fix the function that gets the dict rather than places it is
being used in.

Change-Id: Ia1c2c2e6a32c76ac0249e6a46e4cced18d6093a9
Task: 39527
Story: 2007588
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/50/762850/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,3761a448009467dd342bc0cb3ca3b182969def42,fix-lshw-2," def test_get_system_vendor_info_lshw_list(self, mocked_execute): mocked_execute.return_value = (f""[{LSHW_JSON_OUTPUT_V2[0]}]"", """") vendor_info = self.hardware.get_system_vendor_info() self.assertEqual('ABCD', vendor_info.product_name) self.assertEqual('1234', vendor_info.serial_number) self.assertEqual('ABCD', vendor_info.manufacturer) @mock.patch.object(utils, 'execute', autospec=True)",,14,5
openstack%2Fvalidations-libs~master~I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9,openstack/validations-libs,master,I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9,Add Docstrings to validations_libs/group.py file,MERGED,2020-11-12 12:29:29.000000000,2020-11-19 16:28:22.000000000,2020-11-19 16:26:47.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-12 12:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7c5cea673a6bc5e23870b6e6bb6e7783f27ab0f8', 'message': 'Add docstring for validations_libs/group.py\n\nChange-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2020-11-12 12:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3cf4582175bd4c38385649e6a5097eb0b960fbc3', 'message': 'Add docstring for validations_libs/group.py\n\nChange-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2020-11-12 12:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/41fb89e8b9cc6f0eb9c35b7351c6774b182f1f6f', 'message': 'Add docstring for validations_libs/group.py\n\nChange-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2020-11-12 14:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b56f0036a9c0abcb7ee9bd60565e24c236c76c0b', 'message': 'Add docstring for validations_libs/group.py\n\nChange-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2020-11-13 08:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1e9f3afdccb44a24fe88649bbbe0eeea9a7d500b', 'message': 'Add docstring for validations_libs/group.py\n\nChange-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2020-11-18 11:22:39.000000000', 'files': ['validations_libs/group.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/10e9a19f22660d2dfe7e8607179adb2ddf666907', 'message': 'Add Docstrings to validations_libs/group.py file\n\nChange-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,762513,10e9a19f22660d2dfe7e8607179adb2ddf666907,17,3,6,11491,,,0,"Add Docstrings to validations_libs/group.py file

Change-Id: I857a54eb2b42acbcad19f3b16b1aa9e6922dc1b9
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/13/762513/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/group.py'],1,7c5cea673a6bc5e23870b6e6bb6e7783f27ab0f8,documentation," """"""An object for encapsulating the groups of validation The validations can be grouped together by specifying a ``groups`` metadata. These ``groups`` are referenced in a ``groups.yaml`` file on the filesystem. .. code-block:: yaml group1: - description: >- Description of the group1 group2: - description: >- Description of the group2 group3: - description: >- Description of the group3 """""" """"""Get the full content of the ``groups.yaml`` file :return: The content of the ``groups.yaml`` file :rtype: `dict` :Example: >>> groups = ""/foo/bar/groups.yaml"" >>> grp = Group(groups) >>> print(grp.get_data) {'group1': [{'description': 'Description of the group1'}], 'group2': [{'description': 'Description of the group2'}], 'group3': [{'description': 'Description of the group3'}]} """""" """"""Get a formated content for output display :return: :rtype: `list` of `tuples` :Example: >>> groups = ""/foo/bar/groups.yaml"" >>> grp = Group(groups) >>> print(grp.get_formated_group) [('group1', 'Description of the group1'), ('group2', 'Description of the group2'), ('group3', 'Description of the group3')] """""" """"""Get the list of the group name only :return: The list of the group name :rtype: `list` :Example: >>> groups = ""/foo/bar/groups.yaml"" >>> grp = Group(groups) >>> print(grp.get_groups_keys_list) ['group1', 'group2', 'group3'] """"""",,58,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I31581f176bb4f056309f127608451caec0202a68,openstack/tripleo-heat-templates,stable/train,I31581f176bb4f056309f127608451caec0202a68,[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state,MERGED,2020-11-18 09:16:14.000000000,2020-11-19 16:26:44.000000000,2020-11-19 16:26:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29455}, {'_account_id': 31324}]","[{'number': 1, 'created': '2020-11-18 09:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/534b9e9243799dcab927886c740b0ead171c38d1', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 2, 'created': '2020-11-18 09:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67eb797cc24ae361381f47a11ce5336f201696f1', 'message': 'WIP: [train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 3, 'created': '2020-11-18 09:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6338ec814caaccf51e8337eb892b01ecb57ac22a', 'message': 'WIP: [train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 4, 'created': '2020-11-18 10:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f70ccd4ff3aa6f4648acb4db39e454fc1389de24', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id which caused issues.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nPatch also fixes issue with ovn hybrid state where the hybrid state\nwould apply only if there are insecure registries used.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 5, 'created': '2020-11-18 11:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d6e652bd7f983baaab9c52e0344418a43fd2004', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id which caused issues.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 6, 'created': '2020-11-18 17:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d32f4c923dee6f1cf09460d3752991f5848f4ada', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id which caused issues.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 7, 'created': '2020-11-18 18:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9109c455383916accc34b319d15b0f823722d1a', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id which caused issues.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 8, 'created': '2020-11-18 18:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/979d704d29aa9c00580cfb7f4c5785fca3f2ef3c', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id which caused issues.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 9, 'created': '2020-11-18 19:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89a149eb3912cda9d7ce76bd1a133b02c0a8c50c', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id which caused issues.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}, {'number': 10, 'created': '2020-11-18 22:40:16.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af90cef667423b0d3474cc2b89955e45bfead5b4', 'message': '[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state\n\nDue to changes in paunch in Queens we had to separate out the\nconfig of hybrid state containers. We run them up separately but\nwe were reusing the tripleo_step4 config id.\nBy creating separate config id for each hybrid container. But this\nrequires us to remove the running container in different config.\n\nChange-Id: I31581f176bb4f056309f127608451caec0202a68\n'}]",1,763140,af90cef667423b0d3474cc2b89955e45bfead5b4,21,6,10,11166,,,0,"[train-only][ffwd] Dont reuse tripleo_step4 for hybrid state

Due to changes in paunch in Queens we had to separate out the
config of hybrid state containers. We run them up separately but
we were reusing the tripleo_step4 config id.
By creating separate config id for each hybrid container. But this
requires us to remove the running container in different config.

Change-Id: I31581f176bb4f056309f127608451caec0202a68
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/763140/10 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",3,534b9e9243799dcab927886c740b0ead171c38d1,, shell: paunch apply --file /var/lib/tripleo-config/docker-container-hybrid_neutron_sriov.json --config-id hybrid_neutron_sriov, shell: paunch apply --file /var/lib/tripleo-config/docker-container-hybrid_neutron_sriov.json --config-id tripleo_step4,3,3
openstack%2Fptgbot~master~Ic5eeec23652170061cbd2ce3606a3aee22463529,openstack/ptgbot,master,Ic5eeec23652170061cbd2ce3606a3aee22463529,PTGbot airbag to prevent unexpected crashes,MERGED,2020-11-13 16:41:49.000000000,2020-11-19 16:09:57.000000000,2020-11-19 16:09:57.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 16:41:49.000000000', 'files': ['ptgbot/bot.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/2aa77f38a4f01a2d1ff634b9226ecc393c6b4ee4', 'message': 'PTGbot airbag to prevent unexpected crashes\n\nCatch all previously-uncaught exceptions from on_pubmsg() and\non_privmsg() calls, to prevent the bot from crashing when people\nstart getting creative in their commands.\n\nThis should of course never happen, but if it does, better continue\nrunning than crash.\n\nChange-Id: Ic5eeec23652170061cbd2ce3606a3aee22463529\n'}]",0,762688,2aa77f38a4f01a2d1ff634b9226ecc393c6b4ee4,7,3,1,308,,,0,"PTGbot airbag to prevent unexpected crashes

Catch all previously-uncaught exceptions from on_pubmsg() and
on_privmsg() calls, to prevent the bot from crashing when people
start getting creative in their commands.

This should of course never happen, but if it does, better continue
running than crash.

Change-Id: Ic5eeec23652170061cbd2ce3606a3aee22463529
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/88/762688/1 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/bot.py'],1,2aa77f38a4f01a2d1ff634b9226ecc393c6b4ee4,wallaby-features,"def make_safe(func): def inner(*args, **kwargs): try: func(*args, **kwargs) except Exception as e: msg = ""Bot airbag activated: "" + str(e) args[0].log.error(msg) args[0].send(args[0].channel, msg) return inner @make_safe @make_safe",,13,0
openstack%2Fptgbot~master~I2f98c724c716ca4fd2e8fef34d4ca5af457b39e8,openstack/ptgbot,master,I2f98c724c716ca4fd2e8fef34d4ca5af457b39e8,Add new MOTD handling commands,MERGED,2020-11-13 16:40:57.000000000,2020-11-19 16:09:56.000000000,2020-11-19 16:09:56.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 16:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/2da45ab388bc539b9a644037e0e2121ce8e4de66', 'message': 'Add new MOTD handling commands\n\nRevamp the ~motd command so that it supports the following subcommands\non the newly-introduced array of MOTD messages:\n\n~motd add... (equivalent to old ~motd): adds a message\n~motd clean (equivalent to old ~cleanmotd\n~motd del n (to suppress message #n)\n~motd reorder x y z (to reorder/remove messages)\n\nChange-Id: I2f98c724c716ca4fd2e8fef34d4ca5af457b39e8\n'}, {'number': 2, 'created': '2020-11-13 16:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/3275a25cfacee2debda46ff18c1b183dabd78591', 'message': 'Add new MOTD handling commands\n\nRevamp the ~motd command so that it supports the following subcommands\non the newly-introduced array of MOTD messages:\n\n~motd add... (equivalent to old ~motd): adds a message\n~motd clean (equivalent to old ~cleanmotd\n~motd del n (to suppress message #n)\n~motd reorder x y z (to reorder/remove messages)\n\nChange-Id: I2f98c724c716ca4fd2e8fef34d4ca5af457b39e8\n'}, {'number': 3, 'created': '2020-11-13 17:15:35.000000000', 'files': ['ptgbot/db.py', 'ptgbot/bot.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/a0d3fbab411f08117a95d55cb474a34fadfa084e', 'message': 'Add new MOTD handling commands\n\nRevamp the ~motd command so that it supports the following subcommands\non the newly-introduced array of MOTD messages:\n\n~motd add... (equivalent to old ~motd): adds a message\n~motd clean (equivalent to old ~cleanmotd\n~motd del n (to suppress message #n)\n~motd reorder x y z (to reorder/remove messages)\n\nChange-Id: I2f98c724c716ca4fd2e8fef34d4ca5af457b39e8\n'}]",2,762686,a0d3fbab411f08117a95d55cb474a34fadfa084e,10,3,3,308,,,0,"Add new MOTD handling commands

Revamp the ~motd command so that it supports the following subcommands
on the newly-introduced array of MOTD messages:

~motd add... (equivalent to old ~motd): adds a message
~motd clean (equivalent to old ~cleanmotd
~motd del n (to suppress message #n)
~motd reorder x y z (to reorder/remove messages)

Change-Id: I2f98c724c716ca4fd2e8fef34d4ca5af457b39e8
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/86/762686/1 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/db.py', 'ptgbot/bot.py', 'README.rst']",3,2da45ab388bc539b9a644037e0e2121ce8e4de66,new-motd,"~motd add LEVEL MESSAGE info, success, warning or danger. Multiple messages can be provided. ~motd del N Removes Nth message from the top of the page (first message is number 1). ~motd reorder X Y... Reorder messages. For example, ~motd reorder 2 1 would swap the top two messages, and remove any other message present. ~motd clean Removes all messages of the day on top of the rendered page.","~motd LEVEL MESSAGE info, success, warning or danger. ~cleanmotd Removes message of the day on top of the rendered page.",99,13
openstack%2Freleases~master~Iad58bcd4a527e322d5497c8679a69edfdc9e8d6d,openstack/releases,master,Iad58bcd4a527e322d5497c8679a69edfdc9e8d6d,Add cloudkitty PTL as release liaison,ABANDONED,2020-11-19 15:46:24.000000000,2020-11-19 15:54:36.000000000,,[{'_account_id': 28356}],"[{'number': 1, 'created': '2020-11-19 15:46:24.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0cc84a651ecfad999f2b20cc6507f06a5b1a67b5', 'message': 'Add cloudkitty PTL as release liaison\n\nCloudkitty team does not have a release liaison appointed, so to keep\nit simple, add PTL as release liaison.\n\nChange-Id: Iad58bcd4a527e322d5497c8679a69edfdc9e8d6d\n'}]",0,763398,0cc84a651ecfad999f2b20cc6507f06a5b1a67b5,2,1,1,17685,,,0,"Add cloudkitty PTL as release liaison

Cloudkitty team does not have a release liaison appointed, so to keep
it simple, add PTL as release liaison.

Change-Id: Iad58bcd4a527e322d5497c8679a69edfdc9e8d6d
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/763398/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,0cc84a651ecfad999f2b20cc6507f06a5b1a67b5,,cloudkitty: - name: 'Rafael Weingartner' irc: n/a email: rafaelweingartner@gmail.com,,4,0
openstack%2Fptgbot~master~Id98281dba0c6b3cffe1a359d6e0c250b99084bb1,openstack/ptgbot,master,Id98281dba0c6b3cffe1a359d6e0c250b99084bb1,Turn MOTD into a list of messages,MERGED,2020-11-13 16:40:57.000000000,2020-11-19 15:53:03.000000000,2020-11-19 15:53:03.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 16:40:57.000000000', 'files': ['html/index.html', 'base.json', 'ptgbot/db.py', 'html/ptg.html', 'html/etherpads.html'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/9e052b1625eb64a7088b28d9a433d2f481464047', 'message': ""Turn MOTD into a list of messages\n\nThe message of the day used to be a single message with an importance\nlevel. It's actually useful to be able to have several distinct\nmessages and add/remove them separately.\n\nIn preparation for that change, turn the motd entry in the json DB into\nan array of messages. Gracefully migrate previous format DB into the\nnew one. Commands stay unchanged for now and just manipulate the first\nentry.\n\nChange-Id: Id98281dba0c6b3cffe1a359d6e0c250b99084bb1\n""}]",0,762685,9e052b1625eb64a7088b28d9a433d2f481464047,7,3,1,308,,,0,"Turn MOTD into a list of messages

The message of the day used to be a single message with an importance
level. It's actually useful to be able to have several distinct
messages and add/remove them separately.

In preparation for that change, turn the motd entry in the json DB into
an array of messages. Gracefully migrate previous format DB into the
new one. Commands stay unchanged for now and just manipulate the first
entry.

Change-Id: Id98281dba0c6b3cffe1a359d6e0c250b99084bb1
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/85/762685/1 && git format-patch -1 --stdout FETCH_HEAD,"['html/index.html', 'base.json', 'ptgbot/db.py', 'html/ptg.html', 'html/etherpads.html']",5,9e052b1625eb64a7088b28d9a433d2f481464047,new-motd,"{{#each motd}} <div class=""alert alert-{{this.level}}"" role=""alert"">{{this.message}}</div> {{/each}}","{{#if motd.message}} <div class=""alert alert-{{motd.level}}"" role=""alert"">{{motd.message}}</div> {{/if}}",20,12
openstack%2Fkuryr-kubernetes~master~I7dfc8bdee2ceb91a269bf955678ab8b7071b19b2,openstack/kuryr-kubernetes,master,I7dfc8bdee2ceb91a269bf955678ab8b7071b19b2,Fix l-c testing for Ubuntu Focal (py38),ABANDONED,2020-09-10 15:30:27.000000000,2020-11-19 15:45:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-10 15:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eb186296bb6553db5eb2bf3a8261ae1a874cd0c2', 'message': 'Fix l-c testing for Ubuntu Focal (py38)\n\nChange-Id: I7dfc8bdee2ceb91a269bf955678ab8b7071b19b2\nStory: 2007865\nTask: 40199\nCloses-Bug: #1886298\n'}, {'number': 2, 'created': '2020-09-11 01:21:29.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bb2f5b83a9869d52e9f551b91c6ee8c7e7be674e', 'message': 'Fix l-c testing for Ubuntu Focal (py38)\n\nChange-Id: I7dfc8bdee2ceb91a269bf955678ab8b7071b19b2\nStory: 2007865\nTask: 40199\nCloses-Bug: #1886298\n'}]",0,751028,bb2f5b83a9869d52e9f551b91c6ee8c7e7be674e,5,1,2,32067,,,0,"Fix l-c testing for Ubuntu Focal (py38)

Change-Id: I7dfc8bdee2ceb91a269bf955678ab8b7071b19b2
Story: 2007865
Task: 40199
Closes-Bug: #1886298
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/751028/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,eb186296bb6553db5eb2bf3a8261ae1a874cd0c2,,cffi==1.14.0greenlet==0.4.15MarkupSafe==1.1.0PyYAML==3.13,cffi==1.11.5greenlet==0.4.13MarkupSafe==1.0PyYAML==3.12,4,4
openstack%2Fkuryr-kubernetes~master~I0afa21081df2558497e9395c57f155a5aa3928c6,openstack/kuryr-kubernetes,master,I0afa21081df2558497e9395c57f155a5aa3928c6,WIP: Install part of SRIOV tempest test,ABANDONED,2019-10-02 07:48:03.000000000,2020-11-19 15:45:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25900}]","[{'number': 1, 'created': '2019-10-02 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8dbee2b56860cc95e2da01ddbdcef7e11d0a9043', 'message': ""Install part of SRIOV tempest test\n\nIt's not yet finished.\nTODO: add mapping into install scripts\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: I0afa21081df2558497e9395c57f155a5aa3928c6\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 2, 'created': '2019-10-02 07:49:16.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1f092eda75b9c69a27bdbb0a3e8c1cd9eea4060e', 'message': ""WIP: Install part of SRIOV tempest test\n\nIt's not yet finished.\nTODO: add mapping into install scripts\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: I0afa21081df2558497e9395c57f155a5aa3928c6\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}]",0,686096,1f092eda75b9c69a27bdbb0a3e8c1cd9eea4060e,4,2,2,28396,,,0,"WIP: Install part of SRIOV tempest test

It's not yet finished.
TODO: add mapping into install scripts

Partially implements: blueprint tempest-test-for-sr-iov
Change-Id: I0afa21081df2558497e9395c57f155a5aa3928c6
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/686096/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,8dbee2b56860cc95e2da01ddbdcef7e11d0a9043,, # SR-IOV KURYR_CONFIGURE_SRIOV=True DEFAULT_PHYSNET_SUBNETS= PHYSICAL_DEVICE_MAPPINGS= SRIOV_TEST_MODE=Full,,19,0
openstack%2Fkuryr-kubernetes~master~I4223eb6defa80981fd44e2ec1819a7ad3707b22a,openstack/kuryr-kubernetes,master,I4223eb6defa80981fd44e2ec1819a7ad3707b22a,WIP: Dummy SRIOV binding driver,ABANDONED,2019-10-02 07:48:03.000000000,2020-11-19 15:44:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 25900}]","[{'number': 1, 'created': '2019-10-02 07:48:03.000000000', 'files': ['kuryr_kubernetes/objects/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/cni/binding/base.py', 'setup.cfg', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4dfdb0d790a1354657f4932e61fac84a8ec591d4', 'message': 'WIP: Dummy SRIOV binding driver\n\nThis driver is necessary to run tempest test on the\nenvironment where there is no SR-IOV HW.\n\nTODO: put vf into container\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: I4223eb6defa80981fd44e2ec1819a7ad3707b22a\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}]",0,686095,4dfdb0d790a1354657f4932e61fac84a8ec591d4,3,2,1,28396,,,0,"WIP: Dummy SRIOV binding driver

This driver is necessary to run tempest test on the
environment where there is no SR-IOV HW.

TODO: put vf into container

Partially implements: blueprint tempest-test-for-sr-iov
Change-Id: I4223eb6defa80981fd44e2ec1819a7ad3707b22a
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/95/686095/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/objects/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/cni/binding/base.py', 'setup.cfg', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/utils.py']",9,4dfdb0d790a1354657f4932e61fac84a8ec591d4,," 'sriov', 'dummy-sriov'],"," 'sriov'],",71,15
openstack%2Fkuryr-kubernetes~master~I76efa2dd63e0b6e022aadb676e9fd0d96d989169,openstack/kuryr-kubernetes,master,I76efa2dd63e0b6e022aadb676e9fd0d96d989169,Avoid CNI restart if module is not loaded,ABANDONED,2020-01-28 21:56:05.000000000,2020-11-19 15:44:39.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-28 21:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/81ac7cacef3bd1ea6592c34e451eb059af51e12d', 'message': 'Avoid CNI restart if module is not loaded\n\nThis commit adds new type of exception, which\nallows to ignore healthcheck counter. This exception\nis used when module is not loaded during binding\nprocess.\n\nChange-Id: I76efa2dd63e0b6e022aadb676e9fd0d96d989169\nSigned-off-by: d.golov <d.golov@samsung.com>\n'}, {'number': 2, 'created': '2020-01-29 06:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0e184f6358eb491fb0396577769e07cdb3e811f7', 'message': 'Avoid CNI restart if module is not loaded\n\nThis commit adds new type of exception, which\nallows to ignore healthcheck counter. This exception\nis used when module is not loaded during binding\nprocess.\n\nChange-Id: I76efa2dd63e0b6e022aadb676e9fd0d96d989169\nSigned-off-by: d.golov <d.golov@samsung.com>\n'}, {'number': 3, 'created': '2020-02-03 11:57:34.000000000', 'files': ['kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50c099a330ad7aa0cb71138e2c737742f6fe51fe', 'message': 'Avoid CNI restart if module is not loaded\n\nThis commit adds new type of exception, which\nallows to ignore healthcheck counter. This exception\nis used when module is not loaded during binding\nprocess.\n\nChange-Id: I76efa2dd63e0b6e022aadb676e9fd0d96d989169\nSigned-off-by: d.golov <d.golov@samsung.com>\n'}]",8,704692,50c099a330ad7aa0cb71138e2c737742f6fe51fe,16,5,3,24604,,,0,"Avoid CNI restart if module is not loaded

This commit adds new type of exception, which
allows to ignore healthcheck counter. This exception
is used when module is not loaded during binding
process.

Change-Id: I76efa2dd63e0b6e022aadb676e9fd0d96d989169
Signed-off-by: d.golov <d.golov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/92/704692/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/cni/binding/sriov.py']",3,81ac7cacef3bd1ea6592c34e451eb059af51e12d,," if not os.path.exists('/sys/bus/pci/drivers/{}'.format(driver)): raise exceptions.CNIBindingFailure( ""Module {} is not loaded"".format(driver), apply_healthcheck=False)",,20,0
openstack%2Fkuryr-kubernetes~master~I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df,openstack/kuryr-kubernetes,master,I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df,[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job,ABANDONED,2019-09-17 04:00:49.000000000,2020-11-19 15:44:11.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-09-17 04:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5406dcf6c9780206f1e7dd699297c0f4dc147dc6', 'message': ""[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'kuryr-kubernetes-tempest-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'kuryr-kubernetes-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35900\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df\n""}, {'number': 2, 'created': '2020-02-10 15:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/86336ffcae3c2125e2d01e92bb47129a44d15e25', 'message': ""[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and\nTesting'[1], Tempest has defined the base job 'devstack-tempest-ipv6'\nwhich will deploy services on IPv6.\n\nThis commit adds the new job\n'kuryr-kubernetes-tempest-containerized-ipv6-only' run on gate which is\nderived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and\n  listen address\n- 'kuryr-kubernetes-tempest-containerized-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35900\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df\n""}, {'number': 3, 'created': '2020-02-10 16:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b12fe7b7a603ceba72a1ea734b9a097cdc88cec', 'message': ""[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and\nTesting'[1], Tempest has defined the base job 'devstack-tempest-ipv6'\nwhich will deploy services on IPv6.\n\nThis commit adds the new job\n'kuryr-kubernetes-tempest-containerized-ipv6-only' run on gate which is\nderived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and\n  listen address\n- 'kuryr-kubernetes-tempest-containerized-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35900\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df\n""}, {'number': 4, 'created': '2020-02-10 16:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c49f70c550fc9305a19de3571303ae9c23e2466a', 'message': ""[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and\nTesting'[1], Tempest has defined the base job 'devstack-tempest-ipv6'\nwhich will deploy services on IPv6.\n\nThis commit adds the new job\n'kuryr-kubernetes-tempest-containerized-ipv6-only' run on gate which is\nderived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and\n  listen address\n- 'kuryr-kubernetes-tempest-containerized-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35900\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df\n""}, {'number': 5, 'created': '2020-02-10 16:12:04.000000000', 'files': ['.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4f2c02c50cd9e1c802ffb0d57c5503a1c5956364', 'message': ""[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and\nTesting'[1], Tempest has defined the base job 'devstack-tempest-ipv6'\nwhich will deploy services on IPv6.\n\nThis commit adds the new job\n'kuryr-kubernetes-tempest-containerized-ipv6-only' run on gate which is\nderived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and\n  listen address\n- 'kuryr-kubernetes-tempest-containerized-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35900\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df\n""}]",8,682531,4f2c02c50cd9e1c802ffb0d57c5503a1c5956364,17,3,5,8556,,,0,"[train][goal] Define new 'kuryr-kubernetes-tempest-ipv6-only' job

As part of Train community goal 'Support IPv6-Only Deployments and
Testing'[1], Tempest has defined the base job 'devstack-tempest-ipv6'
which will deploy services on IPv6.

This commit adds the new job
'kuryr-kubernetes-tempest-containerized-ipv6-only' run on gate which is
derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and
  listen address
- 'kuryr-kubernetes-tempest-containerized-ipv6-only' will run the tests.

Story: #2005477
Task: #35900

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I3c02172e30cf962d9e10016a3e54f0e8e5b7e5df
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/682531/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/octavia.yaml']",2,5406dcf6c9780206f1e7dd699297c0f4dc147dc6,ipv6-only-deployment-and-testing, required-projects: &base_required_projects host-vars: &base_host_vars vars: &base_vars name: kuryr-kubernetes-tempest-ipv6-only parent: devstack-tempest-ipv6 description: | kuryr-kubernetes devstack tempest tests job for IPv6-only deployment voting: false timeout: 7800 required-projects: *base_required_projects pre-run: playbooks/get_amphora_tarball.yaml host-vars: *base_host_vars vars: *base_vars - job:, required-projects: host-vars: vars:,17,3
openstack%2Fkuryr-kubernetes~master~I39460f93ba4750b3ca00f301691752c7adbffc04,openstack/kuryr-kubernetes,master,I39460f93ba4750b3ca00f301691752c7adbffc04,nested_vif - Get trunk port IP from node annotation,ABANDONED,2018-09-05 06:24:36.000000000,2020-11-19 15:44:06.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25900}, {'_account_id': 28082}]","[{'number': 1, 'created': '2018-09-05 06:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/23edb2ccd020323422e82481f4e1a3a026d8bac3', 'message': ""nested_vif - Get trunk port IP from node label\n\nNow it is possible to use a specific interface as the trunk port\nby adding a label 'trunk_port_ip' to the k8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers.\n\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}, {'number': 2, 'created': '2019-04-23 02:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a26a0a05c819acbe678a0726fc45f215c174de46', 'message': ""nested_vif - Get trunk port IP from node label\n\nNow it is possible to use a specific interface as the trunk port\nby adding a label 'trunk_port_ip' to the k8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers.\n\nImplements: blueprint trunk-ip-nested-node\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}, {'number': 3, 'created': '2019-11-13 10:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ed02d7d4a6324817f00a321dfa9579a3bbf3dd4b', 'message': ""nested_vif - Get trunk port IP from node label\n\nNow it is possible to use a specific interface as the trunk port\nby adding a label 'trunk_port_ip' to the k8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers.\n\nImplements: blueprint trunk-ip-nested-node\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}, {'number': 4, 'created': '2019-11-14 02:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1552abcbe9e85b15e3556cca42659a5d075faf50', 'message': ""nested_vif - Get trunk port IP from node label\n\nNow it is possible to use a specific interface as the trunk port\nby adding a label 'trunk_port_ip' to the k8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers.\n\nImplements: blueprint trunk-ip-nested-node\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}, {'number': 5, 'created': '2019-11-14 09:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a2d243c1386d1f2b4a3040d2b771f72879dc7734', 'message': ""nested_vif - Get trunk port IP from node label\n\nNow it is possible to use a specific interface as the trunk port\nby adding a label 'trunk_port_ip' to the k8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers.\n\nImplements: blueprint trunk-ip-nested-node\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}, {'number': 6, 'created': '2019-11-21 02:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0c410df478da3df219ff617773c4cddc892a1964', 'message': ""nested_vif - Get trunk port IP from node annotation\n\nNow it is possible to use a specific interface as the trunk port\nby adding an annotation 'openstack.org/kuryr-trunk-port-ip' to the\nk8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers. Note that this patch only\nfixes this for the controller side. kuryr-cni still depends on the\nbinding.link_iface config value.\n\nImplements: blueprint trunk-ip-nested-node\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}, {'number': 7, 'created': '2019-11-21 02:59:35.000000000', 'files': ['kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'doc/source/installation/trunk_ports.rst', 'kuryr_kubernetes/constants.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/25ace2a23b5f898f5086eacb7aed983a572bac03', 'message': ""nested_vif - Get trunk port IP from node annotation\n\nNow it is possible to use a specific interface as the trunk port\nby adding an annotation 'openstack.org/kuryr-trunk-port-ip' to the\nk8s node.\n\nEarlier an assumption was made that hostIP is always attached to the\nneutron trunk port for nested_vif drivers. Note that this patch only\nfixes this for the controller side. kuryr-cni still depends on the\nbinding.link_iface config value.\n\nImplements: blueprint trunk-ip-nested-node\nChange-Id: I39460f93ba4750b3ca00f301691752c7adbffc04\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n""}]",25,599930,25ace2a23b5f898f5086eacb7aed983a572bac03,35,7,7,28082,,,0,"nested_vif - Get trunk port IP from node annotation

Now it is possible to use a specific interface as the trunk port
by adding an annotation 'openstack.org/kuryr-trunk-port-ip' to the
k8s node.

Earlier an assumption was made that hostIP is always attached to the
neutron trunk port for nested_vif drivers. Note that this patch only
fixes this for the controller side. kuryr-cni still depends on the
binding.link_iface config value.

Implements: blueprint trunk-ip-nested-node
Change-Id: I39460f93ba4750b3ca00f301691752c7adbffc04
Signed-off-by: Yash Gupta <y.gupta@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/599930/6 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/constants.py']",3,23edb2ccd020323422e82481f4e1a3a026d8bac3,bp/trunk-ip-nested-node,K8S_NODE_LABEL_TRUNK_PORT_IP = 'trunk_port_ip' ,,28,3
openstack%2Fkuryr-kubernetes~master~I50a65983615b123d41f9dfa993a58f6247828d3e,openstack/kuryr-kubernetes,master,I50a65983615b123d41f9dfa993a58f6247828d3e,Mark cni as unhealthy when ovs-vsctl cmd fails,ABANDONED,2019-05-09 01:42:45.000000000,2020-11-19 15:43:58.000000000,,"[{'_account_id': 11600}, {'_account_id': 14570}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 28082}, {'_account_id': 28396}, {'_account_id': 29615}, {'_account_id': 30247}]","[{'number': 1, 'created': '2019-05-09 01:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9ae4f40e6ae1cd654870ae250e15fe1780042db9', 'message': 'Mark cni as unhealthy when ovs-vsctl cmd fails\n\nResolves-Bug: 1825931\nChange-Id: I50a65983615b123d41f9dfa993a58f6247828d3e\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 2, 'created': '2019-08-30 02:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e49227b74ba0c54e73237a5b47b047247374c2a5', 'message': 'Mark cni as unhealthy when ovs-vsctl cmd fails\n\nResolves-Bug: 1825931\nChange-Id: I50a65983615b123d41f9dfa993a58f6247828d3e\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 3, 'created': '2019-10-17 09:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a7a20d9112f3cc5320ae1c16b927d306ff100e1d', 'message': 'Mark cni as unhealthy when ovs-vsctl cmd fails\n\nResolves-Bug: 1825931\nChange-Id: I50a65983615b123d41f9dfa993a58f6247828d3e\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 4, 'created': '2019-10-22 08:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d5698457897ed178c38c8d1bf18315e61b8b58b1', 'message': 'Mark cni as unhealthy when ovs-vsctl cmd fails\n\nResolves-Bug: 1825931\nChange-Id: I50a65983615b123d41f9dfa993a58f6247828d3e\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 5, 'created': '2019-11-21 02:30:33.000000000', 'files': ['kuryr_kubernetes/cni/daemon/service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b56eb6c5af9124498befa6a33f4bf93245f12155', 'message': 'Mark cni as unhealthy when ovs-vsctl cmd fails\n\nResolves-Bug: 1825931\nChange-Id: I50a65983615b123d41f9dfa993a58f6247828d3e\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}]",12,657909,b56eb6c5af9124498befa6a33f4bf93245f12155,37,10,5,29615,,,0,"Mark cni as unhealthy when ovs-vsctl cmd fails

Resolves-Bug: 1825931
Change-Id: I50a65983615b123d41f9dfa993a58f6247828d3e
Signed-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/09/657909/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/daemon/service.py'],1,9ae4f40e6ae1cd654870ae250e15fe1780042db9,bug/1825931,"from oslo_concurrency import processutils except processutils.ProcessExecutionError as e: LOG.error(""Unable to execute ovs-vsctl command: %s."", e) with self.healthy.get_lock(): self.healthy.value = False return '', httplib.INTERNAL_SERVER_ERROR, self.headers except processutils.ProcessExecutionError as e: LOG.error(""Unable to execute ovs-vsctl command: %s."", e) with self.healthy.get_lock(): self.healthy.value = False return '', httplib.INTERNAL_SERVER_ERROR, self.headers",,11,0
openstack%2Fkuryr-kubernetes~master~I67af1fab8926a8cbe752e2401524ebcb4d1523ca,openstack/kuryr-kubernetes,master,I67af1fab8926a8cbe752e2401524ebcb4d1523ca,Disable N530 PEP8 warning,ABANDONED,2019-07-08 11:50:31.000000000,2020-11-19 15:43:51.000000000,,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25900}, {'_account_id': 28396}, {'_account_id': 30247}]","[{'number': 1, 'created': '2019-07-08 11:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74c1a1ed792f319b773239f23717d68f042097f3', 'message': ""Disable N530 PEP8 warning\n\nWe're going to have direclt neutron imports to use neutron rpc.\n\nOther ignores added because this is default flake8 ignore list and it\ndoesn't work if anything specified explicitly.\n\nPartially-implements: blueprint neutron-push-notifications\nChange-Id: I67af1fab8926a8cbe752e2401524ebcb4d1523ca\nSigned-off-by: Ilya Maximets <i.maximets@samsung.com>\n""}, {'number': 2, 'created': '2019-07-09 13:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/844e5ca2308ccc4dd54093d6a75d0471cc19ddde', 'message': ""Disable N530 PEP8 warning\n\nWe're going to have direclt neutron imports to use neutron rpc.\n\nOther ignores added because this is default flake8 ignore list and it\ndoesn't work if anything specified explicitly.\n\nPartially-implements: blueprint neutron-push-notifications\nChange-Id: I67af1fab8926a8cbe752e2401524ebcb4d1523ca\nSigned-off-by: Ilya Maximets <i.maximets@samsung.com>\n""}, {'number': 3, 'created': '2019-07-10 12:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8db19e0aa78a0cfcaa56263442be1fa59a5ac683', 'message': ""Disable N530 PEP8 warning\n\nWe're going to have direclt neutron imports to use neutron rpc.\n\nOther ignores added because this is default flake8 ignore list and it\ndoesn't work if anything specified explicitly.\n\nPartially-implements: blueprint neutron-push-notifications\nChange-Id: I67af1fab8926a8cbe752e2401524ebcb4d1523ca\nSigned-off-by: Ilya Maximets <i.maximets@samsung.com>\n""}, {'number': 4, 'created': '2019-10-03 13:00:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/291a01120faaba08fcf7001158f81269b071a867', 'message': ""Disable N530 PEP8 warning\n\nWe're going to have direclt neutron imports to use neutron rpc.\n\nOther ignores added because this is default flake8 ignore list and it\ndoesn't work if anything specified explicitly.\n\nPartially-implements: blueprint neutron-push-notifications\nChange-Id: I67af1fab8926a8cbe752e2401524ebcb4d1523ca\nSigned-off-by: Ilya Maximets <i.maximets@samsung.com>\n""}]",0,669644,291a01120faaba08fcf7001158f81269b071a867,12,8,4,28396,,,0,"Disable N530 PEP8 warning

We're going to have direclt neutron imports to use neutron rpc.

Other ignores added because this is default flake8 ignore list and it
doesn't work if anything specified explicitly.

Partially-implements: blueprint neutron-push-notifications
Change-Id: I67af1fab8926a8cbe752e2401524ebcb4d1523ca
Signed-off-by: Ilya Maximets <i.maximets@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/669644/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,74c1a1ed792f319b773239f23717d68f042097f3,bp/neutron-push-notifications,"# E121,E123,E126,E226,E24,E704,W503,W504 Default flake8 ignores # N530 Direct neutron imports not allowed ignore = E121,E123,E126,E226,E24,E704,W503,W504,N530",,3,1
openstack%2Fkuryr-kubernetes~master~I1b3cf9b7dfdc79c7497bb1654af89c63ebfc9c0c,openstack/kuryr-kubernetes,master,I1b3cf9b7dfdc79c7497bb1654af89c63ebfc9c0c,Ensure Ingress is blocked upon NP that deny ingress is enforced,ABANDONED,2019-10-02 12:29:18.000000000,2020-11-19 15:43:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-02 12:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/48192f71a399fdc874b976ae7d9c833418aac97a', 'message': 'Ensure Ingress is blocked upon NP that deny ingress is enforced\n\nRight now when a NP that defines only egress is enforced, ingress\nis open and if after that a NP that blockes ingress traffic is enforced\nthe ingress traffic remains open. This commit ensure the blocking\ntraffic NP has precedence over the openning one.\n\nChange-Id: I1b3cf9b7dfdc79c7497bb1654af89c63ebfc9c0c\n'}, {'number': 2, 'created': '2019-10-02 12:44:46.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy_security_groups.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cbf9f14b12ffd90abaa4a76b6bdb583b1cff2785', 'message': 'Ensure Ingress is blocked upon NP that deny ingress is enforced\n\nRight now when a NP that defines only egress is enforced, ingress\nis open and if after that a NP that blockes ingress traffic is enforced\nthe ingress traffic remains open. This commit ensure the blocking\ntraffic NP has precedence over the openning one.\n\nChange-Id: I1b3cf9b7dfdc79c7497bb1654af89c63ebfc9c0c\n'}]",2,686144,cbf9f14b12ffd90abaa4a76b6bdb583b1cff2785,7,3,2,27032,,,0,"Ensure Ingress is blocked upon NP that deny ingress is enforced

Right now when a NP that defines only egress is enforced, ingress
is open and if after that a NP that blockes ingress traffic is enforced
the ingress traffic remains open. This commit ensure the blocking
traffic NP has precedence over the openning one.

Change-Id: I1b3cf9b7dfdc79c7497bb1654af89c63ebfc9c0c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/686144/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/network_policy_security_groups.py'],1,48192f71a399fdc874b976ae7d9c833418aac97a,ensure-nps-correctly-enforces-blocked-ingress," matched_crds = [] block_ingress = False policy_types = crd['spec']['networkpolicy_spec'].get('policyTypes') rule_list = crd['spec']['networkpolicy_spec'].get('ingress') # NOTE(maysams): We must ensure CRDs are not allowing ingress # when should be blocked. if not rule_list: if len(policy_types) == 1 and policy_types[0] == 'Ingress': block_ingress = True matched_crds.append(crd) matched_crds.append(crd) if block_ingress: for crd in matched_crds: matched = False updated_i_rules = [] e_rules = crd['spec'].get('egressSgRules') i_rules = crd['spec'].get('ingressSgRules') pod_selector = crd['spec'].get('podSelector') for i_rule in i_rules: sg_rule = i_rule['security_group_rule'] if (not sg_rule.get('remote_ip_prefix') and not (sg_rule.get('port_range_max') and sg_rule.get('port_range_min')): matched = True LOG.debug(""Deleting ingress rule as ingress is blocked"") driver_utils.delete_security_group_rule(sg_rule['id']) else: updated_i_rules.append(i_rule) pod_ip = driver_utils.get_pod_ip(pod) if not pod_ip: LOG.debug(""Skipping sg rule update"") continue rule = _create_sg_rule( crd['spec']['securityGroupId'], 'ingress', pod_ip) updated_i_rules.append(rule) driver_utils.patch_kuryrnetworkpolicy_crd( crd, updated_i_rules, e_rules, pod_selector, crd['spec'].get('networkpolicy_spec')) ",,40,1
openstack%2Fkuryr-kubernetes~master~Iabebf14b64b9306e4ebc6ff827151feee27e5c11,openstack/kuryr-kubernetes,master,Iabebf14b64b9306e4ebc6ff827151feee27e5c11,[WIP] Increase job and tests timeouts - multinode,ABANDONED,2019-09-06 09:40:09.000000000,2020-11-19 15:43:40.000000000,,"[{'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-09-06 09:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c9d1777b1fbe2ff0a4eaeed0aa26e8c8aada8b93', 'message': 'Increase timeout job multinode ha job\n\nChange-Id: Iabebf14b64b9306e4ebc6ff827151feee27e5c11\n'}, {'number': 2, 'created': '2019-09-06 09:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28bb75fe51168224f0a681daceb509c311015509', 'message': 'Increase timeout job multinode ha job\n\nChange-Id: Iabebf14b64b9306e4ebc6ff827151feee27e5c11\n'}, {'number': 3, 'created': '2019-09-12 12:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ab5198ade4df358643454442408294ae7ed7f234', 'message': '[WIP] Increase job and tests timeouts - multinode\n\nChange-Id: Iabebf14b64b9306e4ebc6ff827151feee27e5c11\n'}, {'number': 4, 'created': '2019-09-12 12:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/259ddcae824a9268b02218f90bbb36b93bd1922e', 'message': '[WIP] Increase job and tests timeouts - multinode\n\nChange-Id: Iabebf14b64b9306e4ebc6ff827151feee27e5c11\n'}, {'number': 5, 'created': '2019-09-12 12:05:59.000000000', 'files': ['.zuul.d/multinode.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5a14fa97310c1a917584fa4c597978faf60bf748', 'message': '[WIP] Increase job and tests timeouts - multinode\n\nChange-Id: Iabebf14b64b9306e4ebc6ff827151feee27e5c11\n'}]",2,680641,5a14fa97310c1a917584fa4c597978faf60bf748,14,3,5,4727,,,0,"[WIP] Increase job and tests timeouts - multinode

Change-Id: Iabebf14b64b9306e4ebc6ff827151feee27e5c11
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/680641/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/multinode.yaml'],1,c9d1777b1fbe2ff0a4eaeed0aa26e8c8aada8b93,multinode, timeout: 9000, timeout: 7800,1,1
openstack%2Fkuryr-kubernetes~master~Ia3c36d1f89ec89bd7b7f6eaf29cdc639936be5ee,openstack/kuryr-kubernetes,master,Ia3c36d1f89ec89bd7b7f6eaf29cdc639936be5ee,Avoid multiple LBaaS created for same SVC,ABANDONED,2019-08-30 08:44:15.000000000,2020-11-19 15:43:28.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-30 08:44:15.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1da0ee2e171c7fcc077b0aa6cbc58ced984e56cb', 'message': ""Avoid multiple LBaaS created for same SVC\n\nWhen the Kuryr-Controller restarts while a LBaaS creation\nevent is being handled, it's likely that the correspondent\nk8s endpoints will not get annotated with the lbaas_state,\nwhich might led to the situation of multiple leftovers\nin case the k8s SVC is recreated.\nThis commit fixes the issue by checking for the existence of\na LBaaS when a endpoints deletion event is triggered and no\nstate is annotated on the resource.\n\nChange-Id: Ia3c36d1f89ec89bd7b7f6eaf29cdc639936be5ee\n""}]",1,679396,1da0ee2e171c7fcc077b0aa6cbc58ced984e56cb,4,2,1,27032,,,0,"Avoid multiple LBaaS created for same SVC

When the Kuryr-Controller restarts while a LBaaS creation
event is being handled, it's likely that the correspondent
k8s endpoints will not get annotated with the lbaas_state,
which might led to the situation of multiple leftovers
in case the k8s SVC is recreated.
This commit fixes the issue by checking for the existence of
a LBaaS when a endpoints deletion event is triggered and no
state is annotated on the resource.

Change-Id: Ia3c36d1f89ec89bd7b7f6eaf29cdc639936be5ee
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/679396/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/utils.py']",4,1da0ee2e171c7fcc077b0aa6cbc58ced984e56cb,avoid-multiple-lbaas-when-recreate," def get_loadbalancers_by_attrs(**attrs): lbaas = clients.get_loadbalancer_client() response = lbaas.load_balancers(**attrs) try: os_lb = next(response) # openstacksdk returns a generator except (KeyError, StopIteration): return None return os_lb",,45,1
openstack%2Fkuryr-kubernetes~master~I6f277a6212d271dfe3c4a15a1f3759739e623161,openstack/kuryr-kubernetes,master,I6f277a6212d271dfe3c4a15a1f3759739e623161,Refine behaviour of VIFHandler,ABANDONED,2019-07-12 11:52:14.000000000,2020-11-19 15:43:21.000000000,,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 28396}, {'_account_id': 30247}]","[{'number': 1, 'created': '2019-07-12 11:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e7018ac1b83db0b0fb2137cbd9763e8c0e30e50b', 'message': 'Refine behaviour of VIFHandler\n\nPreviously VIFHandler did not save vif annotations\nin pod object after each _set_pod_state call. Thus\nif activate_vif call was not succeed, retry started\nwith old pod object where all vif objects were in\ninitial state, that is incorrect behaviour.\n\nAlso it was necessary to update resourceVersion\nfield in pod object after each modification to\navoid conflicts while setting new annotations.\n\nThis commit improves the behaviour of VIFHandler\nto avoid described issues.\n\nChange-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 2, 'created': '2019-07-15 07:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9a72f3560dc53184a87c8ee0c330cb0ad113a680', 'message': 'Refine behaviour of VIFHandler\n\nPreviously VIFHandler did not save vif annotations\nin pod object after each _set_pod_state call. Thus\nif activate_vif call was not succeed, retry started\nwith old pod object where all vif objects were in\ninitial state, that is incorrect behaviour.\n\nAlso it was necessary to update resourceVersion\nfield in pod object after each modification to\navoid conflicts while setting new annotations.\n\nThis commit improves the behaviour of VIFHandler\nto avoid described issues.\n\nChange-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 3, 'created': '2019-08-21 10:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9b694b6b10f01d1c30cdd0d4052e89f3fe371e76', 'message': 'Refine behaviour of VIFHandler\n\nPreviously VIFHandler did not save vif annotations\nin pod object after each _set_pod_state call. Thus\nif activate_vif call was not succeed, retry started\nwith old pod object where all vif objects were in\ninitial state, that is incorrect behaviour.\n\nAlso it was necessary to update resourceVersion\nfield in pod object after each modification to\navoid conflicts while setting new annotations.\n\nThis commit improves the behaviour of VIFHandler\nto avoid described issues.\n\nChange-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 4, 'created': '2019-08-21 11:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/045bcad1f2857385c498c53a35c612e79c3c4ca9', 'message': 'Refine behaviour of VIFHandler\n\nPreviously VIFHandler did not save vif annotations\nin pod object after each _set_pod_state call. Thus\nif activate_vif call was not succeed, retry started\nwith old pod object where all vif objects were in\ninitial state, that is incorrect behaviour.\n\nAlso it was necessary to update resourceVersion\nfield in pod object after each modification to\navoid conflicts while setting new annotations.\n\nThis commit improves the behaviour of VIFHandler\nto avoid described issues.\n\nChange-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161\nCloses-Bug: 1840910\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 5, 'created': '2019-08-23 11:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/329f16bb96a0acff68dd0fc667ff5474d1dcff20', 'message': 'Refine behaviour of VIFHandler\n\nPreviously VIFHandler did not save vif annotations\nin pod object after each _set_pod_state call. Thus\nif activate_vif call was not succeed, retry started\nwith old pod object where all vif objects were in\ninitial state, that is incorrect behaviour.\n\nAlso it was necessary to update resourceVersion\nfield in pod object after each modification to\navoid conflicts while setting new annotations.\n\nThis commit improves the behaviour of VIFHandler\nto avoid described issues.\n\nChange-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161\nCloses-Bug: 1840910\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 6, 'created': '2019-08-26 06:52:36.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/07d6e01f73108f065deb08124b004f9ac38275de', 'message': 'Refine behaviour of VIFHandler\n\nPreviously VIFHandler did not save vif annotations\nin pod object after each _set_pod_state call. Thus\nif activate_vif call was not succeed, retry started\nwith old pod object where all vif objects were in\ninitial state, that is incorrect behaviour.\n\nAlso it was necessary to update resourceVersion\nfield in pod object after each modification to\navoid conflicts while setting new annotations.\n\nThis commit improves the behaviour of VIFHandler\nto avoid described issues.\n\nChange-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161\nCloses-Bug: 1840910\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}]",0,670503,07d6e01f73108f065deb08124b004f9ac38275de,29,8,6,24604,,,0,"Refine behaviour of VIFHandler

Previously VIFHandler did not save vif annotations
in pod object after each _set_pod_state call. Thus
if activate_vif call was not succeed, retry started
with old pod object where all vif objects were in
initial state, that is incorrect behaviour.

Also it was necessary to update resourceVersion
field in pod object after each modification to
avoid conflicts while setting new annotations.

This commit improves the behaviour of VIFHandler
to avoid described issues.

Change-Id: I6f277a6212d271dfe3c4a15a1f3759739e623161
Closes-Bug: 1840910
Signed-off-by: Danil Golov <d.golov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/03/670503/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/vif.py'],1,e7018ac1b83db0b0fb2137cbd9763e8c0e30e50b,bug/1840910, all_active = True except Exception: all_active = False raise if not all_active: k8s = clients.get_kubernetes_client() pod_obj = k8s.get(pod['metadata']['selfLink']) new_version = pod_obj['metadata']['resourceVersion'] pod['metadata']['resourceVersion'] = new_version pod['metadata']['annotations'][constants.K8S_ANNOTATION_VIF] = ( annotation),,11,0
openstack%2Fkuryr-kubernetes~master~Ic29bf6a39cf0bbd8b67638cc4bbfa8a5f28e7a22,openstack/kuryr-kubernetes,master,Ic29bf6a39cf0bbd8b67638cc4bbfa8a5f28e7a22,Fix LBaaS SG update on Network Policy creation,ABANDONED,2019-05-13 10:07:16.000000000,2020-11-19 15:43:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-05-13 10:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8f3589d73590a429d9c62372fc2fe24476475972', 'message': 'Fix LBaaS SG update on Network Policy creation\n\nRight now, in order to keep LBaaS SG in sync with NP we try to update\nthe LBaaS state annotation on the endpoints, however\nthis does not cover the case when NP are created before LBaaS, because\nendpoints are only annotated after members are synced. This commit fixes\nthe issue by ensuring the service LBaaS spec annotation, which is created\nas soon as the LBaaS is created, not necessarily ACTIVE, contains the\nright security group.\n\nChange-Id: Ic29bf6a39cf0bbd8b67638cc4bbfa8a5f28e7a22\nCloses-Bug: 1828691\n'}, {'number': 2, 'created': '2019-05-13 13:57:53.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f51a1cc2104e31f01b96a03f77192b38a514e3e8', 'message': 'Fix LBaaS SG update on Network Policy creation\n\nRight now, in order to keep LBaaS SG in sync with NP we try to update\nthe LBaaS state annotation on the endpoints, however\nthis does not cover the case when NP are created before LBaaS, because\nendpoints are only annotated after members are synced. This commit fixes\nthe issue by ensuring the service LBaaS spec annotation, which is created\nas soon as the LBaaS is created, not necessarily ACTIVE, contains the\nright security group.\n\nChange-Id: Ic29bf6a39cf0bbd8b67638cc4bbfa8a5f28e7a22\nCloses-Bug: 1828691\n'}]",0,658779,f51a1cc2104e31f01b96a03f77192b38a514e3e8,9,3,2,27032,,,0,"Fix LBaaS SG update on Network Policy creation

Right now, in order to keep LBaaS SG in sync with NP we try to update
the LBaaS state annotation on the endpoints, however
this does not cover the case when NP are created before LBaaS, because
endpoints are only annotated after members are synced. This commit fixes
the issue by ensuring the service LBaaS spec annotation, which is created
as soon as the LBaaS is created, not necessarily ACTIVE, contains the
right security group.

Change-Id: Ic29bf6a39cf0bbd8b67638cc4bbfa8a5f28e7a22
Closes-Bug: 1828691
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/79/658779/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,8f3589d73590a429d9c62372fc2fe24476475972,bug/1828691," # NOTE(maysams): In case of a Network Policy being applied # before LBaaS is 'ACTIVE', the service spec annotation needs to # be set with the Network Policy SG to ensure # the right SG is enforced when the LBaaS becomes active. lbaas_spec = utils.get_lbaas_spec(service) if not lbaas_spec: return lbaas_spec.security_groups_ids = sgs utils.set_lbaas_spec(service, lbaas_spec) ",,10,1
openstack%2Fkuryr-kubernetes~master~I8cf1a0cd39821bef54b0f53e6584cef6b326686b,openstack/kuryr-kubernetes,master,I8cf1a0cd39821bef54b0f53e6584cef6b326686b,WiP: Fix cri-o gate,ABANDONED,2019-03-20 13:49:53.000000000,2020-11-19 15:41:44.000000000,,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 13:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/562212f2fa22e4faffce17502f0106fc2dae86f9', 'message': 'This aims to fix cri-o gate\n\nFor root cause see the commit this depends on.\n\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\nDepends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887\n'}, {'number': 2, 'created': '2019-03-20 14:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/65e31c53e670d77dbfa053985dbca2e92044cda3', 'message': 'Fix cri-o gate\n\nFor root cause see the commit this depends on.\n\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\nDepends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887\n'}, {'number': 3, 'created': '2019-03-22 14:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4082af7ce347addc45e9c7c41604048170427aa0', 'message': 'Fix cri-o gate\n\nFor root cause see the commit this depends on.\n\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\nDepends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887\n'}, {'number': 4, 'created': '2019-03-25 15:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1b3d12512310a41feb3cb147214d51b8a09b6fee', 'message': 'Fix cri-o gate\n\nFor root cause see the commit this depends on.\n\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\nDepends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887\n'}, {'number': 5, 'created': '2019-03-26 17:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cfa9004f41ed13a33412d6141606eed459c2259b', 'message': ""Fix cri-o gate\n\nFor root cause see the commit this depends on. Please note that due to\nbuildah issues [1] and [2] Ubuntu's support is completely broken at the\nmoment.\n\n[1] https://github.com/containers/buildah/issues/1206\n[2] https://github.com/containers/buildah/issues/1447\n\nDepends-On: I59d8c1ca6468b270f10ce84e0f6d579571739727\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\n""}, {'number': 6, 'created': '2019-03-26 19:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f8900f0915b4ca0cc84e405315f41d49de3c45c', 'message': 'Fix cri-o gate\n\nFor root cause see the commit this depends on.\n\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\nDepends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887\n'}, {'number': 7, 'created': '2019-03-27 10:48:02.000000000', 'files': ['.zuul.d/octavia.yaml', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b96bc6895a8a3e0adcb181bae4bfd74b91197b83', 'message': 'WiP: Fix cri-o gate\n\nFor root cause see the commit this depends on.\n\nChange-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b\nDepends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887\n'}]",1,644867,b96bc6895a8a3e0adcb181bae4bfd74b91197b83,37,3,7,11600,,,0,"WiP: Fix cri-o gate

For root cause see the commit this depends on.

Change-Id: I8cf1a0cd39821bef54b0f53e6584cef6b326686b
Depends-On: I17588b033aa4701494d5c27b5ba94ad4a31da887
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/67/644867/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,562212f2fa22e4faffce17502f0106fc2dae86f9,fix-crio, CRIO_UBUNTU_VERSION: 1.13,,1,0
openstack%2Fkuryr-kubernetes~master~I299d5cb181fe9c4dbdf0422421baa952f3588454,openstack/kuryr-kubernetes,master,I299d5cb181fe9c4dbdf0422421baa952f3588454,devstack: use a non-admin role user,ABANDONED,2018-12-17 17:56:09.000000000,2020-11-19 15:41:16.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-17 17:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/35e3258e2617d630b22cdd00acd97aa0fcc18a5a', 'message': 'devstack: use a non-admin role user\n\nKuryr is designed to be usable under a normal tenant user. This patch\nchanges the devstack plugin to use such user.\n\nChange-Id: I299d5cb181fe9c4dbdf0422421baa952f3588454\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-12-18 08:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2cf2ac3451643fa95ba3a6d3fe4aa077fe766da3', 'message': 'devstack: use a non-admin role user\n\nKuryr is designed to be usable under a normal tenant user. This patch\nchanges the devstack plugin to use such user.\n\nCloses-Bug: 1808506\nChange-Id: I299d5cb181fe9c4dbdf0422421baa952f3588454\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 3, 'created': '2018-12-18 09:20:09.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/498b3089c8c245be3741998c6e2915e120f66813', 'message': 'devstack: use a non-admin role user\n\nKuryr is designed to be usable under a normal tenant user. This patch\nchanges the devstack plugin to use such user.\n\nRelated-To: 1808506\nChange-Id: I299d5cb181fe9c4dbdf0422421baa952f3588454\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",1,625677,498b3089c8c245be3741998c6e2915e120f66813,9,5,3,14352,,,0,"devstack: use a non-admin role user

Kuryr is designed to be usable under a normal tenant user. This patch
changes the devstack plugin to use such user.

Related-To: 1808506
Change-Id: I299d5cb181fe9c4dbdf0422421baa952f3588454
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/77/625677/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,35e3258e2617d630b22cdd00acd97aa0fcc18a5a,fix_project_user," local k8s_project local kuryr_user local admin_user k8s_project=$(get_or_create_project ""$KURYR_NEUTRON_DEFAULT_PROJECT"" default) kuryr_user=$(get_or_create_user ""kuryr"" ""$ADMIN_PASSWORD"" default kuryr@kuryr.org) get_or_add_user_project_role ""member"" ""$kuryr_user"" ""$k8s_project"" admin_user=$(openstack user show ""admin"" -f value -c id) get_or_add_user_project_role ""admin"" ""$admin_user"" ""$k8s_project"" iniset ""$KURYR_CONFIG"" ""neutron"" auth_type password iniset ""$KURYR_CONFIG"" ""neutron"" auth_url ""$KEYSTONE_SERVICE_URI"" iniset ""$KURYR_CONFIG"" ""neutron"" username kuryr iniset ""$KURYR_CONFIG"" ""neutron"" password ""$ADMIN_PASSWORD"" iniset ""$KURYR_CONFIG"" ""neutron"" user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset ""$KURYR_CONFIG"" ""neutron"" project_name ""$KURYR_NEUTRON_DEFAULT_PROJECT"" iniset ""$KURYR_CONFIG"" ""neutron"" project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset ""$KURYR_CONFIG"" ""neutron"" cafile ""$SSL_BUNDLE_FILE"" iniset ""$KURYR_CONFIG"" ""neutron"" signing_dir ""$KURYR_AUTH_CACHE_DIR"" iniset ""$KURYR_CONFIG"" ""neutron"" memcached_servers localhost:11211 "," create_service_user ""kuryr"" ""admin"" get_or_create_service ""kuryr-kubernetes"" ""kuryr-kubernetes"" \ ""Kuryr-Kubernetes Service"" configure_auth_token_middleware ""$KURYR_CONFIG"" kuryr \ ""$KURYR_AUTH_CACHE_DIR"" neutron",21,5
openstack%2Fkuryr-kubernetes~master~I8e094bdf8328944512fe0e047046458f07685181,openstack/kuryr-kubernetes,master,I8e094bdf8328944512fe0e047046458f07685181,devstack: use https to access the k8s cluster,ABANDONED,2018-11-13 10:09:50.000000000,2020-11-19 15:41:04.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26287}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-11-13 10:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b6a92928cfefa7c128751967f2306c0a744c4092', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-11-13 14:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d1083e87b8b1c61a5c8016e522ac221ec02d482b', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 3, 'created': '2018-11-14 10:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa6d3e1b0926d6c4c24de36991c016052fb5e75e', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 4, 'created': '2018-11-14 13:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f290f8a39a199697c385a30151817898d5c12c3', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 5, 'created': '2018-11-14 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/048bd1a2d241784aa4e47cfcff91f4899f85bb71', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 6, 'created': '2018-11-14 15:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4325dfa3b9bc8b8acfca7f4b67ba12906438c7d2', 'message': 'devstack: use https to access the k8s cluster\n\nImplements: blueprint devstack-k8s-use-https\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 7, 'created': '2018-11-14 17:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45c1cbbdf89cd56115f045fdadbe3ace1ae64e4d', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 8, 'created': '2018-11-14 20:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d8c4f99f0326c3705bfb6a44f18db6ad6f3ce534', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 9, 'created': '2018-11-16 09:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7df8932af47736db2a8b4db61cf27110b663e9a3', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 10, 'created': '2018-11-16 11:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/41f9dda69c220e2762a210e11749a60e1f2c40ae', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 11, 'created': '2018-11-16 13:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1227fd9ae73f84258d33d303f88ed99eeed53313', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 12, 'created': '2018-11-19 12:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/22958846ce4d78f2faefab6d8a0a9fe8e0b15393', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 13, 'created': '2018-11-20 10:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5df4c974be4802e7fbbbc3b6e91d3cacac33df9a', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 14, 'created': '2018-11-20 11:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0ca52a7594fdc20713da8300a89b194ac32368f4', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 15, 'created': '2018-11-20 11:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/14a1255f53eef4efb62a6a197a4764387316919b', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 16, 'created': '2018-11-20 12:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dffc1d3d1206a16b3044079a50e485bd7028f26a', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 17, 'created': '2018-11-20 14:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7a2655643638d909798463c9bc7aafd5b2294f66', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 18, 'created': '2018-11-20 14:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ad6d098208ed1931d9aed993b462910ac139dd1f', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 19, 'created': '2018-11-20 15:08:46.000000000', 'files': ['devstack/local.conf.odl.sample', 'devstack/local.conf.ovn.sample', '.zuul.d/base.yaml', 'devstack/local.conf.sample', 'kuryr_kubernetes/config.py', 'devstack/plugin.sh', 'devstack/local.conf.worker.sample', 'devstack/lib/kuryr_kubernetes', 'devstack/local.conf.df.sample', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e14bd651a3dabc426fd9edba5b62fa01c4683445', 'message': 'devstack: use https to access the k8s cluster\n\nChange-Id: I8e094bdf8328944512fe0e047046458f07685181\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",6,617552,e14bd651a3dabc426fd9edba5b62fa01c4683445,44,9,19,14352,,,0,"devstack: use https to access the k8s cluster

Change-Id: I8e094bdf8328944512fe0e047046458f07685181
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/52/617552/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,b6a92928cfefa7c128751967f2306c0a744c4092,devstack_https,KURYR_K8S_API_PORT=${KURYR_K8S_API_PORT:-6443},KURYR_K8S_API_PORT=${KURYR_K8S_API_PORT:-8080},2,2
openstack%2Fkuryr-kubernetes~master~I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749,openstack/kuryr-kubernetes,master,I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749,[WIP] Move VIF pod annotation to CRDs,ABANDONED,2018-09-03 09:04:55.000000000,2020-11-19 15:40:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-09-03 09:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/18aab983481072b9aa28628627705d9be15263df', 'message': '[WIP] Move VIF pod annotation to CRDs\n\nTODOs:\n- Add blueprint\n- Check it works\n- Update devstack plugin (if needed)\n- Update ports pool recovery function\n- Update documentation an devref\n- Add unittest\n\nFollow up patch sets:\n- Add tempest\n- CRDs for pools too\n\nChange-Id: I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749\n'}, {'number': 2, 'created': '2018-09-27 14:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cd7e1acec83ca392ec2829d9c92829604741eb0b', 'message': '[WIP] Move VIF pod annotation to CRDs\n\nTODOs:\n- Add blueprint\n- Check it works\n- Update devstack plugin (if needed)\n- Update ports pool recovery function\n- Update documentation an devref\n- Remove os_vif?\n- Remove ov.o?\n- Add unittest\n\nFollow up patch sets:\n- Add tempest\n- CRDs for pools too\n\nChange-Id: I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749\n'}, {'number': 3, 'created': '2018-09-28 08:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/abeb12f25d006d017eb43388e7997f00b36b4b84', 'message': '[WIP] Move VIF pod annotation to CRDs\n\nTODOs:\n- Add blueprint\n- Check it works\n- Update devstack plugin (if needed)\n- Update ports pool recovery function\n- Update documentation an devref\n- Remove os_vif?\n- Remove ov.o?\n- Add unittest\n\nFollow up patch sets:\n- Add tempest\n- CRDs for pools too\n\nChange-Id: I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749\n'}, {'number': 4, 'created': '2018-09-28 15:37:37.000000000', 'files': ['kuryr_kubernetes/objects/fields.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/objects/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'devstack/plugin.sh', 'kuryr_kubernetes/k8s_client.py', 'kubernetes_crds/kuryrport.yaml', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/constants.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3db7b8422ff066c626b07371fa0d4f769a6c435a', 'message': '[WIP] Move VIF pod annotation to CRDs\n\nTODOs:\n- Add blueprint\n- Check it works\n- Update devstack plugin (if needed)\n- Update ports pool recovery function\n- Update documentation an devref\n- Remove os_vif?\n- Remove ov.o?\n- Add unittest\n\nFollow up patch sets:\n- Add tempest\n- CRDs for pools too\n\nChange-Id: I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749\n'}]",0,599320,3db7b8422ff066c626b07371fa0d4f769a6c435a,11,2,4,23567,,,0,"[WIP] Move VIF pod annotation to CRDs

TODOs:
- Add blueprint
- Check it works
- Update devstack plugin (if needed)
- Update ports pool recovery function
- Update documentation an devref
- Remove os_vif?
- Remove ov.o?
- Add unittest

Follow up patch sets:
- Add tempest
- CRDs for pools too

Change-Id: I94bf3f20bcae8d3cfdd3c7a94c5ce9a07d1b0749
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/599320/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/objects/fields.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/objects/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'devstack/plugin.sh', 'kubernetes_crds/kuryrports.yaml', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/cni/handlers.py', 'kuryr_kubernetes/constants.py']",10,18aab983481072b9aa28628627705d9be15263df,kuryrports,K8S_OBJ_KURYRPORT = 'KuryrPort'K8S_ANNOTATION_NET_CRD = K8S_ANNOTATION_PREFIX + '-net-crd' ,K8S_ANNOTATION_NET_CRD = K8S_ANNOTATION_PREFIX + '-net-crd',240,26
openstack%2Foslo.messaging~stable%2Ftrain~I23844887722f77e827f97390fc8986f322fc7a78,openstack/oslo.messaging,stable/train,I23844887722f77e827f97390fc8986f322fc7a78,Add oslo.messaging-tox-py27-func-rabbit non-voting.,MERGED,2020-11-17 11:15:53.000000000,2020-11-19 15:29:27.000000000,2020-11-19 15:23:24.000000000,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-17 11:15:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d98245cae84b06e3595034f1d0c3407c8231a976', 'message': 'Add oslo.messaging-tox-py27-func-rabbit non-voting.\n\nAt the moment train is block by this job. We have a random failure. Move\nthe job to non-voting.\n\nChange-Id: I23844887722f77e827f97390fc8986f322fc7a78\n'}]",0,762993,d98245cae84b06e3595034f1d0c3407c8231a976,9,3,1,31245,,,0,"Add oslo.messaging-tox-py27-func-rabbit non-voting.

At the moment train is block by this job. We have a random failure. Move
the job to non-voting.

Change-Id: I23844887722f77e827f97390fc8986f322fc7a78
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/93/762993/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d98245cae84b06e3595034f1d0c3407c8231a976,non_voting_oslo.messaging-tox-py27-func-rabbit, - oslo.messaging-tox-py27-func-rabbit: voting: false, - oslo.messaging-tox-py27-func-rabbit,2,1
openstack%2Fneutron~master~Idef05d8401408f7a1bb90e650819e52e4bf53186,openstack/neutron,master,Idef05d8401408f7a1bb90e650819e52e4bf53186,Remove ovs-vsctl rootwrap filters,ABANDONED,2020-11-19 12:44:12.000000000,2020-11-19 15:28:01.000000000,,"[{'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-19 12:44:12.000000000', 'files': ['etc/neutron/rootwrap.d/dhcp.filters', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'etc/neutron/rootwrap.d/l3.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44ff6147aabcfb985c357cf394a3868d3f80b39a', 'message': ""Remove ovs-vsctl rootwrap filters\n\nNeutron don't use it anymore so we don't need rootwrap filters for\nthat command.\n\nChange-Id: Idef05d8401408f7a1bb90e650819e52e4bf53186\n""}]",0,763365,44ff6147aabcfb985c357cf394a3868d3f80b39a,6,4,1,11975,,,0,"Remove ovs-vsctl rootwrap filters

Neutron don't use it anymore so we don't need rootwrap filters for
that command.

Change-Id: Idef05d8401408f7a1bb90e650819e52e4bf53186
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/763365/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/dhcp.filters', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'etc/neutron/rootwrap.d/l3.filters']",3,44ff6147aabcfb985c357cf394a3868d3f80b39a,,,"# ovs_lib (if OVSInterfaceDriver is used) ovs-vsctl: CommandFilter, ovs-vsctl, root ",0,5
openstack%2Fkayobe~stable%2Fvictoria~I7555a32e8d811656b655640271451776c9948fb9,openstack/kayobe,stable/victoria,I7555a32e8d811656b655640271451776c9948fb9,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-11-18 17:17:41.000000000,2020-11-19 15:06:07.000000000,2020-11-19 15:02:46.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:17:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b1be865d33fd52e9c969619f27aaa04a2c2a2a0c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7555a32e8d811656b655640271451776c9948fb9\n'}]",0,763220,b1be865d33fd52e9c969619f27aaa04a2c2a2a0c,12,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7555a32e8d811656b655640271451776c9948fb9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/763220/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1be865d33fd52e9c969619f27aaa04a2c2a2a0c,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria},5,5
openstack%2Fkayobe~stable%2Fvictoria~I0f3475552115cd9955327eab4f015e80f0d83a9f,openstack/kayobe,stable/victoria,I0f3475552115cd9955327eab4f015e80f0d83a9f,Update .gitreview for stable/victoria,MERGED,2020-11-18 17:17:39.000000000,2020-11-19 15:04:35.000000000,2020-11-19 15:02:45.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:17:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b5b4f740072c65c74ec455893280856989a28441', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I0f3475552115cd9955327eab4f015e80f0d83a9f\n'}]",0,763219,b5b4f740072c65c74ec455893280856989a28441,12,3,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I0f3475552115cd9955327eab4f015e80f0d83a9f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/763219/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b5b4f740072c65c74ec455893280856989a28441,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Ftripleo-ansible~master~Icba4ea8e545436550830190860431fa28b016ba1,openstack/tripleo-ansible,master,Icba4ea8e545436550830190860431fa28b016ba1,Fix the Copyright year in licence headers,MERGED,2020-11-18 18:17:14.000000000,2020-11-19 14:56:45.000000000,2020-11-19 14:56:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-18 18:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/74e0ddc01d4a954476f08085b207c6f051794e13', 'message': 'Fix the Copyright year in licence headers\n\nChange-Id: Icba4ea8e545436550830190860431fa28b016ba1\n'}, {'number': 2, 'created': '2020-11-18 18:22:07.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-network-provision.yaml', 'tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/playbooks/cli-overcloud-network-extract.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10e2d0eeadacb5e82e16a9f25762b35f6cc38304', 'message': 'Fix the Copyright year in licence headers\n\nChange-Id: Icba4ea8e545436550830190860431fa28b016ba1\n'}]",0,763244,10e2d0eeadacb5e82e16a9f25762b35f6cc38304,10,4,2,24245,,,0,"Fix the Copyright year in licence headers

Change-Id: Icba4ea8e545436550830190860431fa28b016ba1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/763244/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-network-provision.yaml', 'tripleo_ansible/playbooks/cli-overcloud-network-extract.yaml']",2,74e0ddc01d4a954476f08085b207c6f051794e13,network-data-v2,"# Copyright 2020 Red Hat, Inc.","# Copyright 2019 Red Hat, Inc.",2,2
openstack%2Fnova~master~I3b597a46314a1b29a952fc0f7a9c4537341e37b8,openstack/nova,master,I3b597a46314a1b29a952fc0f7a9c4537341e37b8,Add missing exception,MERGED,2020-11-16 17:49:24.000000000,2020-11-19 14:54:21.000000000,2020-11-19 14:48:27.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27478}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-16 17:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fedbf664ad28480d758b58d07b535b036d75ba4', 'message': ""Add missing exception\n\nChange Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for\ndiscovery of PMEM devices by the libvirt driver. Some error handling\ncode in this was expected to raise a 'GetPMEMNamespacesFailed'\nexception, however, a typo meant the exception was actually called\n'GetPMEMNamespaceFailed' (singular). This exception was later removed in\nchange I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no\nreferences.\n\nRe-introduce the exception, this time with the correct name, and add\nsome unit tests to prevent us regressing.\n\nChange-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1904446\n""}, {'number': 2, 'created': '2020-11-17 11:39:01.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/160ed6ff652b80cd0a86d41dc3f66c15cee66290', 'message': ""Add missing exception\n\nChange Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for\ndiscovery of PMEM devices by the libvirt driver. Some error handling\ncode in this was expected to raise a 'GetPMEMNamespacesFailed'\nexception, however, a typo meant the exception was actually called\n'GetPMEMNamespaceFailed' (singular). This exception was later removed in\nchange I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no\nreferences.\n\nRe-introduce the exception, this time with the correct name, and add\nsome unit tests to prevent us regressing.\n\nChange-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1904446\n""}]",7,762898,160ed6ff652b80cd0a86d41dc3f66c15cee66290,61,14,2,15334,,,0,"Add missing exception

Change Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for
discovery of PMEM devices by the libvirt driver. Some error handling
code in this was expected to raise a 'GetPMEMNamespacesFailed'
exception, however, a typo meant the exception was actually called
'GetPMEMNamespaceFailed' (singular). This exception was later removed in
change I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no
references.

Re-introduce the exception, this time with the correct name, and add
some unit tests to prevent us regressing.

Change-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1904446
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/762898/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7fedbf664ad28480d758b58d07b535b036d75ba4,bug/1904446," @mock.patch('nova.privsep.libvirt.get_pmem_namespaces') def test___get_vpmems_on_host__exception(self, mock_get_ns): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) mock_get_ns.side_effect = Exception('foo') self.assertRaises( exception.GetPMEMNamespacesFailed, drvr._get_vpmems_on_host) ",,13,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If6b6808e822989efe26834651f302e9d3175b1d7,openstack/tripleo-heat-templates,stable/train,If6b6808e822989efe26834651f302e9d3175b1d7,[train-only]paunch apply selected containers with --no-cleanup,ABANDONED,2020-11-17 11:18:59.000000000,2020-11-19 14:44:59.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 23811}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-17 11:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e52f9dbd572dd7f2c2ebd600f31c03f1ff2f8dd', 'message': ""[train-only]paunch apply selected containers with --cleanup False\n\nWe recently created hybrid config for some containers and want\nto run selected containers during upgrade. Let's use --cleanup\nFalse to not clean the other containers.\n\nChange-Id: If6b6808e822989efe26834651f302e9d3175b1d7\n""}, {'number': 2, 'created': '2020-11-18 09:54:53.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89312b4536fa7a7d5e6b6e9890427cbb0cd2a66b', 'message': ""[train-only]paunch apply selected containers with --no-cleanup\n\nWe recently created hybrid config for some containers and want\nto run selected containers during upgrade. Let's use --no-cleanup\nto not clean the other containers.\n\nDepends-On: https://review.opendev.org/#/c/763145/\nChange-Id: If6b6808e822989efe26834651f302e9d3175b1d7\n""}]",0,762994,89312b4536fa7a7d5e6b6e9890427cbb0cd2a66b,17,10,2,8833,,,0,"[train-only]paunch apply selected containers with --no-cleanup

We recently created hybrid config for some containers and want
to run selected containers during upgrade. Let's use --no-cleanup
to not clean the other containers.

Depends-On: https://review.opendev.org/#/c/763145/
Change-Id: If6b6808e822989efe26834651f302e9d3175b1d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/762994/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",3,9e52f9dbd572dd7f2c2ebd600f31c03f1ff2f8dd,, shell: paunch apply --cleanup False --file /var/lib/tripleo-config/docker-container-hybrid_neutron_sriov.json --config-id tripleo_step4, shell: paunch apply --file /var/lib/tripleo-config/docker-container-hybrid_neutron_sriov.json --config-id tripleo_step4,3,3
openstack%2Fpuppet-keystone~stable%2Ftrain~I6d47714e2de5f24ef3f47a26bbf5510b87928cc2,openstack/puppet-keystone,stable/train,I6d47714e2de5f24ef3f47a26bbf5510b87928cc2,Build containers for single consumer job,MERGED,2020-11-02 19:55:58.000000000,2020-11-19 14:30:09.000000000,2020-11-19 14:30:08.000000000,"[{'_account_id': 8175}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-11-02 19:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fd833e1e800a70ec93d0cc033ffa9f5a22b00335', 'message': 'Add content provider jobs for tripleo based jobs\n\nRelated change:\nhttps://review.opendev.org/#/c/760249/\n\nChange-Id: I6d47714e2de5f24ef3f47a26bbf5510b87928cc2\n(cherry picked from commit ab13a2acec8a9bd2e1edc25eca141aac90e502f8)\n'}, {'number': 2, 'created': '2020-11-06 13:34:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8ab3db386226a5f0bc692fc2bf1c46f537e79936', 'message': 'Build containers for single consumer job\n\nMake standalone job build containers when there is one single\nconsumer job in layout. Do not run content provider jobs in\nthis case.\n\nChange-Id: I6d47714e2de5f24ef3f47a26bbf5510b87928cc2\n(cherry picked from commit ab13a2acec8a9bd2e1edc25eca141aac90e502f8)\n'}]",0,761001,8ab3db386226a5f0bc692fc2bf1c46f537e79936,16,7,2,8175,,,0,"Build containers for single consumer job

Make standalone job build containers when there is one single
consumer job in layout. Do not run content provider jobs in
this case.

Change-Id: I6d47714e2de5f24ef3f47a26bbf5510b87928cc2
(cherry picked from commit ab13a2acec8a9bd2e1edc25eca141aac90e502f8)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/01/761001/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd833e1e800a70ec93d0cc033ffa9f5a22b00335,new-ci-job, - tripleo-ci-centos-8-content-provider - puppet-keystone-tripleo-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - puppet-keystone-tripleo-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider, - puppet-keystone-tripleo-standalone - puppet-keystone-tripleo-standalone,14,2
openstack%2Fheat~master~I0919150baa36112ccbd8bfd7ccebc7aab5735cf3,openstack/heat,master,I0919150baa36112ccbd8bfd7ccebc7aab5735cf3,"As of nova microversion 2.57, personality is deprecated",MERGED,2020-11-03 21:24:20.000000000,2020-11-19 14:15:00.000000000,2020-11-16 09:20:20.000000000,"[{'_account_id': 4257}, {'_account_id': 7130}, {'_account_id': 8833}, {'_account_id': 8864}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29268}]","[{'number': 1, 'created': '2020-11-03 21:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1ff8ef73018b7fd8c5af5778d165a81334383c9d', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 2, 'created': '2020-11-07 13:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b766dfcbff62f96542051f150de0ff4a5c725029', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 3, 'created': '2020-11-07 16:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/adc6cc28cf26ac583cc92237ebbc6df1686f6c59', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 4, 'created': '2020-11-07 23:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/12b787ef527cadd97be5c6d4d1d5fbf9f3a2cbb5', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 5, 'created': '2020-11-08 00:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e585ef7dff31654d7796f92b36c6b55f136b087d', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 6, 'created': '2020-11-08 00:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4d6c4502041e6e68ad65ada5313f3e3e33f2fa5f', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 7, 'created': '2020-11-08 00:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e84a56d8e7418291a3125b32f5435837428a69c5', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 8, 'created': '2020-11-08 00:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fddf7af9ef65d5f0d947affbc4b4e42ca6ea5416', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 9, 'created': '2020-11-08 01:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1126922f6b958b031a981e09ed5215e89c1b1cbe', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\n'}, {'number': 10, 'created': '2020-11-08 15:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/09a8dde7c74f78975ce4bb7b1517b886dd8d4305', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nCloses-task: #41229\n'}, {'number': 11, 'created': '2020-11-08 15:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/31dc815389895a6858b3c81424879b697b31f374', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nTask: #41229\n'}, {'number': 12, 'created': '2020-11-08 15:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30c4f5f534d7cc1dc5d613df1fcd50f64601e6b1', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nTask: 41229\n'}, {'number': 13, 'created': '2020-11-08 15:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d6a4e64e677cbd99c424b82629cebd360e7bb175', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nTask: 41229\n'}, {'number': 14, 'created': '2020-11-08 15:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/739890240910c0cb34e819b56fc5951fadf0e9c9', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nTask: 41229\n'}, {'number': 15, 'created': '2020-11-08 21:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/08451e926037059bfaa889c435c30db09c8645e9', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater and the personality parameter is also specified\nin the templates.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nTask: 41229\n'}, {'number': 16, 'created': '2020-11-09 12:38:42.000000000', 'files': ['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b068f45adda72fa12f50008a603c8f37fcabcdff', 'message': 'As of nova microversion 2.57, personality is deprecated\n\nThis patch returns a stack validation error if the nova microversion\nis 2.57 or greater and the personality parameter is also specified\nin the templates.\n\nChange-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3\nTask: 41229\n'}]",4,761230,b068f45adda72fa12f50008a603c8f37fcabcdff,47,7,16,7130,,,0,"As of nova microversion 2.57, personality is deprecated

This patch returns a stack validation error if the nova microversion
is 2.57 or greater and the personality parameter is also specified
in the templates.

Change-Id: I0919150baa36112ccbd8bfd7ccebc7aab5735cf3
Task: 41229
",git fetch https://review.opendev.org/openstack/heat refs/changes/30/761230/16 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/server.py'],1,1ff8ef73018b7fd8c5af5778d165a81334383c9d,depreacate_personality," MICROVERSION_NIC_TAGS, MICROVERSION_PERSONALITY) = ('2.26', '2.37', '2.42', '2.57') if self.client_plugin().is_version_supported( MICROVERSION_PERSONALITY): msg = (_('Cannot use ""personality"" property - nova does not support ' 'required api microversion.') raise exception.StackValidationFailed(message=msg) "," MICROVERSION_NIC_TAGS) = ('2.26', '2.37', '2.42')",7,1
openstack%2Fkayobe~stable%2Fstein~Iba16d6232e1a6ef069cd3ccb870e5bfa89cd913c,openstack/kayobe,stable/stein,Iba16d6232e1a6ef069cd3ccb870e5bfa89cd913c,Fix filtering of network names set to an empty string,MERGED,2020-11-04 09:35:52.000000000,2020-11-19 14:02:24.000000000,2020-11-19 14:00:59.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-04 09:35:52.000000000', 'files': ['ansible/group_vars/all/seed-hypervisor', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'ansible/group_vars/all/controllers', 'ansible/group_vars/all/storage', 'ansible/group_vars/all/compute'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/84c463e32d0c7f8234d478543e48589eb46386ba', 'message': 'Fix filtering of network names set to an empty string\n\nCurrently we filter out networks that are set to None. However, we\nshould also filter out networks set to an empty string. This affects the\novercloud ironic networks that were disabled in\nI300d0ef136224126f25d2c70a80a42afeea5f586 when ironic is disabled.\n\nStory: 2008207\nTask: 41076\n\nChange-Id: Iba16d6232e1a6ef069cd3ccb870e5bfa89cd913c\n(cherry picked from commit d2109e1c35011fcaeec368eb1b8bf6a9ec75e238)\n'}]",0,761332,84c463e32d0c7f8234d478543e48589eb46386ba,25,3,1,14826,,,0,"Fix filtering of network names set to an empty string

Currently we filter out networks that are set to None. However, we
should also filter out networks set to an empty string. This affects the
overcloud ironic networks that were disabled in
I300d0ef136224126f25d2c70a80a42afeea5f586 when ironic is disabled.

Story: 2008207
Task: 41076

Change-Id: Iba16d6232e1a6ef069cd3ccb870e5bfa89cd913c
(cherry picked from commit d2109e1c35011fcaeec368eb1b8bf6a9ec75e238)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/761332/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-hypervisor', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'ansible/group_vars/all/controllers', 'ansible/group_vars/all/storage', 'ansible/group_vars/all/compute']",6,84c463e32d0c7f8234d478543e48589eb46386ba,, compute_extra_network_interfaces) | select | unique | list }} (external_net_names if kolla_enable_neutron_provider_networks | bool else [])) | select | unique | list }}, compute_extra_network_interfaces) | reject('none') | unique | list }} (external_net_names if kolla_enable_neutron_provider_networks | bool else [])) | reject('none') | unique | list }},12,12
openstack%2Fkayobe~master~I7f1113577fd48aa0715b644cc66bfca197771ca6,openstack/kayobe,master,I7f1113577fd48aa0715b644cc66bfca197771ca6,Use OpenStack Victoria release,MERGED,2020-11-05 09:45:32.000000000,2020-11-19 13:58:14.000000000,2020-11-15 21:06:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-11-05 09:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0532d9be8cfdd80d9a1e84c8ce130cdb565f4300', 'message': 'Use OpenStack Victoria release\n\nSwitch all dependencies to use the OpenStack Victoria release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/victoria branch has been cut and RC1 released.\n\nChange-Id: I7f1113577fd48aa0715b644cc66bfca197771ca6\n'}, {'number': 2, 'created': '2020-11-05 11:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/143d8891ffaefc56f4199332545b4cbaa7c2f7ef', 'message': 'Use OpenStack Victoria release\n\nSwitch all dependencies to use the OpenStack Victoria release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/victoria branch has been cut and RC1 released.\n\nChange-Id: I7f1113577fd48aa0715b644cc66bfca197771ca6\n'}, {'number': 3, 'created': '2020-11-05 11:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4ee9d62814696483694d8e5e2ca847400eee3bb3', 'message': 'Use OpenStack Victoria release\n\nSwitch all dependencies to use the OpenStack Victoria release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/victoria branch has been cut and RC1 released.\n\nChange-Id: I7f1113577fd48aa0715b644cc66bfca197771ca6\n'}, {'number': 4, 'created': '2020-11-05 12:52:16.000000000', 'files': ['ansible/group_vars/all/openstack', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/074024d63f9cb364ca16a7a7f0ac94d77ee9466b', 'message': 'Use OpenStack Victoria release\n\nSwitch all dependencies to use the OpenStack Victoria release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/victoria branch has been cut and RC1 released.\n\nChange-Id: I7f1113577fd48aa0715b644cc66bfca197771ca6\n'}]",0,761522,074024d63f9cb364ca16a7a7f0ac94d77ee9466b,33,4,4,22629,,,0,"Use OpenStack Victoria release

Switch all dependencies to use the OpenStack Victoria release.

This commit should be reverted on the master branch once the
Kayobe stable/victoria branch has been cut and RC1 released.

Change-Id: I7f1113577fd48aa0715b644cc66bfca197771ca6
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/22/761522/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/openstack', 'etc/kayobe/openstack.yml', 'tox.ini']",3,0532d9be8cfdd80d9a1e84c8ce130cdb565f4300,victoria_release, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},10,10
openstack%2Fkolla~master~I083ce70772edd1abb873ad43f6beb73aae01383f,openstack/kolla,master,I083ce70772edd1abb873ad43f6beb73aae01383f,CI: Improve publish playbook,MERGED,2020-11-18 09:54:23.000000000,2020-11-19 13:47:46.000000000,2020-11-19 13:46:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-11-18 09:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70e3993ae0a4947a58ab135bc8a516927848fa59', 'message': 'CI: Improve publish playbook\n\nChange-Id: I083ce70772edd1abb873ad43f6beb73aae01383f\n'}, {'number': 2, 'created': '2020-11-19 10:34:24.000000000', 'files': ['tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3ad0c1212978fba797c79cf1017c293a8839b7be', 'message': ""CI: Improve publish playbook\n\nCurrently we use a for loop in shell that performs push of images\nto Docker Hub - that doesn't really seem to fail properly on push\nerrors (e.g. related to new Docker Hub limits).\n\nThis change introduces usage of Ansible docker_* modules for doing the\nsame job and improves logging (so it's easier to find out which image\nfailed to publish).\n\nChange-Id: I083ce70772edd1abb873ad43f6beb73aae01383f\n""}]",3,763146,3ad0c1212978fba797c79cf1017c293a8839b7be,18,4,2,22629,,,0,"CI: Improve publish playbook

Currently we use a for loop in shell that performs push of images
to Docker Hub - that doesn't really seem to fail properly on push
errors (e.g. related to new Docker Hub limits).

This change introduces usage of Ansible docker_* modules for doing the
same job and improves logging (so it's easier to find out which image
failed to publish).

Change-Id: I083ce70772edd1abb873ad43f6beb73aae01383f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/763146/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/publish.yml'],1,70e3993ae0a4947a58ab135bc8a516927848fa59,," - name: List all containers docker_host_info: images: yes images_filters: reference: ""kolla/*"" register: docker_host_info - name: Login to Dockerhub docker_login: username: ""{{ kolla_dockerhub_creds.user }}"" password: ""{{ kolla_dockerhub_creds.password }}"" - name: Push built container images docker_image: name: ""{{ item.RepoTags.0 }}"" push: yes loop: ""{{ docker_host_info.images }}"""," - name: Login to Dockerhub command: ""docker login -u {{ kolla_dockerhub_creds.user }} -p {{ kolla_dockerhub_creds.password }}"" no_log: true - shell: ""for img in $(docker images --format '{% raw %}{{ .Repository }}:{{ .Tag }}{% endraw %}' | grep kolla ); do docker push $img; done""",16,4
openstack%2Fansible-collections-openstack~master~I0b87c5c3336849bd2e62da5dee04614f74714dbf,openstack/ansible-collections-openstack,master,I0b87c5c3336849bd2e62da5dee04614f74714dbf,Migrating routers_info from AnsibleModule to OpenStackModule,MERGED,2020-11-18 10:27:52.000000000,2020-11-19 13:47:45.000000000,2020-11-19 13:47:44.000000000,"[{'_account_id': 10068}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-18 10:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e548288ff24daeb7a1b4cea0cfcb9a72e164e52d', 'message': 'migrating routers_info from AnsibleModule to OpenStackModule\n\nChange-Id: I0b87c5c3336849bd2e62da5dee04614f74714dbf\n'}, {'number': 2, 'created': '2020-11-19 10:28:28.000000000', 'files': ['plugins/modules/routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e1178fde34a6739a4fcf510292da089967d4928c', 'message': 'Migrating routers_info from AnsibleModule to OpenStackModule\n\nChange-Id: I0b87c5c3336849bd2e62da5dee04614f74714dbf\n'}]",4,763149,e1178fde34a6739a4fcf510292da089967d4928c,12,4,2,32458,,,0,"Migrating routers_info from AnsibleModule to OpenStackModule

Change-Id: I0b87c5c3336849bd2e62da5dee04614f74714dbf
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/49/763149/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/routers_info.py'],1,e548288ff24daeb7a1b4cea0cfcb9a72e164e52d,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class RouterInfoModule(OpenStackModule): argument_spec = dict( def run(self): self.log(""Starting router_info module"") kwargs = self.check_versioned( filters=self.params['filters'] ) if self.params['name']: kwargs['name_or_id'] = self.params['name'] routers = self.conn.search_routers(**kwargs) self.log(""routers: %s"" % routers) for port in self.conn.list_router_interfaces(router): self.exit(changed=False, openstack_routers=routers) def main(): module = RouterInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec, openstack_cloud_from_module def main(): argument_spec = openstack_full_argument_spec( module = AnsibleModule(argument_spec) sdk, cloud = openstack_cloud_from_module(module) try: routers = cloud.search_routers(module.params['name'], module.params['filters']) for port in cloud.list_router_interfaces(router): module.exit_json(changed=False, openstack_routers=routers) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",20,13
openstack%2Fkolla-ansible~master~I2fe6eb13ce7be68d346b1b3b7036859f34c896c4,openstack/kolla-ansible,master,I2fe6eb13ce7be68d346b1b3b7036859f34c896c4,Fix kolla-ansible to work with pyenv-virtualenv,MERGED,2020-11-11 17:13:22.000000000,2020-11-19 13:34:04.000000000,2020-11-19 10:42:36.000000000,"[{'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32662}]","[{'number': 1, 'created': '2020-11-11 17:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45d88156b5c4b51bbf14b2bb1a5f6033e3865eb2', 'message': 'Fix kolla-ansible to work with pyenv.\n\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n'}, {'number': 2, 'created': '2020-11-14 14:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4aa438fa3ebade3e22188499a2dfd4758e90a641', 'message': 'Fix kolla-ansible to work with pyenv.\n\nCloses-Bug: #1903887\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n'}, {'number': 3, 'created': '2020-11-18 16:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73d433fdce566529ac6cde20a008f8096779baea', 'message': 'Fix kolla-ansible to work with pyenv-virtualenv.\n\nCloses-Bug: #1903887\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n'}, {'number': 4, 'created': '2020-11-18 20:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3484979ae2958cae0bde9574c4d846f4d2891a26', 'message': 'Fix kolla-ansible to work with pyenv-virtualenv\n\nOne of the pyenv-virtualenv-set-up aliases depends on a symlink.\nIt seems pyenv runs the bash script from such a path and it fails\nbecause of a failing comparison (VIRTUAL_ENV not detected).\n\nThe VIRTUAL_ENV is ensured to be fully resolved as well for safety.\n\nThis requires readlink from GNU coreutils but all supported platforms\nhave it by default.\n\nExtra comments included, as well as simplification of directory\ndetection - readlink handles this (not that `bin` itself was\never a symlink...).\n\nCloses-Bug: #1903887\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n'}, {'number': 5, 'created': '2020-11-18 20:41:04.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aaab1d1b68db0c737b63ae6bce3179df0487f23f', 'message': 'Fix kolla-ansible to work with pyenv-virtualenv\n\nOne of the pyenv-virtualenv-set-up aliases depends on a symlink.\nIt seems pyenv runs the bash script from such a path and it fails\nbecause of a failing comparison (VIRTUAL_ENV not detected).\n\nThe VIRTUAL_ENV is ensured to be fully resolved as well for safety.\n\nThis requires readlink from GNU coreutils but all supported platforms\nhave it by default.\n\nExtra comments included, as well as simplification of directory\ndetection - readlink handles this (not that `bin` itself was\never a symlink...).\n\nCloses-Bug: #1903887\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4\n'}]",5,762365,aaab1d1b68db0c737b63ae6bce3179df0487f23f,24,7,5,32662,,,0,"Fix kolla-ansible to work with pyenv-virtualenv

One of the pyenv-virtualenv-set-up aliases depends on a symlink.
It seems pyenv runs the bash script from such a path and it fails
because of a failing comparison (VIRTUAL_ENV not detected).

The VIRTUAL_ENV is ensured to be fully resolved as well for safety.

This requires readlink from GNU coreutils but all supported platforms
have it by default.

Extra comments included, as well as simplification of directory
detection - readlink handles this (not that `bin` itself was
ever a symlink...).

Closes-Bug: #1903887
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I2fe6eb13ce7be68d346b1b3b7036859f34c896c4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/762365/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,45d88156b5c4b51bbf14b2bb1a5f6033e3865eb2,BUG-1903887," dir_name=$(readlink -f $(cd ""$(dirname ""$0"")"" &>/dev/null && pwd))"," dir_name=$(cd ""$(dirname ""$0"")"" &>/dev/null && pwd)",1,1
openstack%2Fneutron-tempest-plugin~master~I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3,openstack/neutron-tempest-plugin,master,I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3,[Scenario] New test to check extra_dhcp_opts,MERGED,2020-10-27 12:07:42.000000000,2020-11-19 12:41:37.000000000,2020-11-19 12:41:37.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-27 12:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9d2784a1df11a0ae705d8897d7cbaf1c5d4528eb', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}, {'number': 2, 'created': '2020-10-27 13:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0742f8e15780c29539a21037d68d7cfc5c891534', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}, {'number': 3, 'created': '2020-10-30 11:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/003044416628d970066a5be6fdebcf92eae3e0ab', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}, {'number': 4, 'created': '2020-11-01 20:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8b5e4cf496018836c4f266603d34196b3cad46a2', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}, {'number': 5, 'created': '2020-11-13 08:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/039348f64df8d03b85cd69bfef0c5e2865f185ff', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}, {'number': 6, 'created': '2020-11-13 08:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/45c981af25806a7c1dff6e856ab9b8b848de5e23', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}, {'number': 7, 'created': '2020-11-16 08:55:26.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2bc7367cc90b44d4ba2fa12983c6dcf6661e587b', 'message': '[Scenario] New test to check extra_dhcp_opts\n\nThis patch adds new scenario test which spawns vm attached to the\nneutron port with specified extra_dhcp_opts and then asserts that\noption was correctly passed and configured inside guest VM.\n\nChange-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3\n'}]",6,759852,2bc7367cc90b44d4ba2fa12983c6dcf6661e587b,39,7,7,11975,,,0,"[Scenario] New test to check extra_dhcp_opts

This patch adds new scenario test which spawns vm attached to the
neutron port with specified extra_dhcp_opts and then asserts that
option was correctly passed and configured inside guest VM.

Change-Id: I16a4ce814b9de9fe8e1bb736d28c048f04e5a5d3
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/52/759852/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_dhcp.py'],1,9d2784a1df11a0ae705d8897d7cbaf1c5d4528eb,bug/1892861,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from paramiko import ssh_exception as ssh_exc from tempest.common import utils from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from neutron_tempest_plugin.common import ip from neutron_tempest_plugin.common import ssh from neutron_tempest_plugin import config from neutron_tempest_plugin.scenario import base CONF = config.CONF LOG = log.getLogger(__name__) class DHCPTest(base.BaseTempestTestCase): credentials = ['primary', 'admin'] force_tenant_isolation = False @classmethod def resource_setup(cls): super(DHCPTest, cls).resource_setup() cls.rand_name = data_utils.rand_name( cls.__name__.rsplit('.', 1)[-1]) cls.network = cls.create_network(name=cls.rand_name) cls.subnet = cls.create_subnet( network=cls.network, name=cls.rand_name) cls.router = cls.create_router_by_client() cls.create_router_interface(cls.router['id'], cls.subnet['id']) cls.keypair = cls.create_keypair(name=cls.rand_name) cls.security_group = cls.create_security_group(name=cls.rand_name) cls.create_loginable_secgroup_rule(cls.security_group['id']) def _find_ip_for_fake_broadcast_address(self): port = self.create_port( network=self.network, name=""fake_broadcast_%s"" % self.rand_name) return port['fixed_ips'][0]['ip_address'] def _find_broadcast_address_on_vm(self, ssh_client, neutron_port): ip_command = ip.IPCommand(ssh_client) nic = ip_command.get_nic_name_by_mac(neutron_port['mac_address']) addresses = ip_command.list_addresses( device=nic, port=neutron_port) for address in addresses: return address.properties.get('brd') @utils.requires_ext(extension='extra_dhcp_opt', service='network') @decorators.idempotent_id('58f7c094-1980-4e03-b0d3-6c4dd27217b1') def test_extra_dhcp_opts(self): """"""This test case tests DHCP extra options configured for Neutron port. Test is checking just extra option ""28"" which is Broadcast address according to the RFC 2132: https://tools.ietf.org/html/rfc2132#section-5.3 To test that option, there are 2 ports created: - one just to get some IP address which will be used later as fake broadcast address, - second with configured dhcp extra option which is used in VM Next there is spawned VM connected to the ""second"" port mentioned above and test asserts that broadcast address configured inside VM is the same as specified in the extra_dhcp_opts parameter for the port. """""" broadcast_ip = self._find_ip_for_fake_broadcast_address() extra_dhcp_opts = [ {'opt_name': '28', 'opt_value': broadcast_ip}] port = self.create_port( network=self.network, name=self.rand_name, security_groups=[self.security_group['id']], extra_dhcp_opts=extra_dhcp_opts) floating_ip = self.create_floatingip(port=port) server = self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=self.keypair['name'], networks=[{'port': port['id']}]) self.wait_for_server_active(server['server']) try: ssh_client = ssh.Client( floating_ip['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) self.assertEqual( broadcast_ip, self._find_broadcast_address_on_vm(ssh_client, port)) except (lib_exc.SSHTimeout, ssh_exc.AuthenticationException) as ssh_e: LOG.debug(ssh_e) self._log_console_output([server]) self._log_local_network_status() raise except AssertionError as assert_e: LOG.debug(assert_e) self._log_console_output([server]) self._log_local_network_status() raise ",,116,0
openstack%2Fnova-specs~master~I0b11fbc32526df086f504b673dc49a6f98c3ffad,openstack/nova-specs,master,I0b11fbc32526df086f504b673dc49a6f98c3ffad,[Trivial] update the upgrade release goal,MERGED,2020-11-19 01:10:41.000000000,2020-11-19 12:36:28.000000000,2020-11-19 12:34:45.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 01:10:41.000000000', 'files': ['specs/victoria/approved/nova-support-webvnc-with-password-anthentication.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d6feb0ef6ea4fd60323224d53c4478d7592ffac3', 'message': '[Trivial] update the upgrade release goal\n\nChange-Id: I0b11fbc32526df086f504b673dc49a6f98c3ffad\n'}]",0,763294,d6feb0ef6ea4fd60323224d53c4478d7592ffac3,7,5,1,26458,,,0,"[Trivial] update the upgrade release goal

Change-Id: I0b11fbc32526df086f504b673dc49a6f98c3ffad
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/94/763294/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/nova-support-webvnc-with-password-anthentication.rst'],1,d6feb0ef6ea4fd60323224d53c4478d7592ffac3,,"cluster fully upgrade to Victoria release, the call can be success. otherwise return failure for the request.","cluster fully upgrade to Ussuri release, the call can be success. otherwise return failure for the request.",2,2
openstack%2Fneutron-tempest-plugin~master~I8f9949639691294886523dfe7b7b37bd5fbce81c,openstack/neutron-tempest-plugin,master,I8f9949639691294886523dfe7b7b37bd5fbce81c,Mark test_subport_connectivity as unstable for now,MERGED,2020-11-09 11:00:05.000000000,2020-11-19 12:31:27.000000000,2020-11-19 12:31:27.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-09 11:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b29039068fd64f787fce019e26dede4c6cce5642', 'message': ""Mark test_subport_connectivity as unstable for now\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nChange-Id: I8f9949639691294886523dfe7b7b37bd5fbce81c\nRelated-Bug: #1897796\n""}, {'number': 2, 'created': '2020-11-18 21:32:39.000000000', 'files': ['neutron_tempest_plugin/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c12b50cac6814bf4210b7d94fb3a1a7dc762e977', 'message': ""Mark test_subport_connectivity as unstable for now\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nChange-Id: I8f9949639691294886523dfe7b7b37bd5fbce81c\nRelated-Bug: #1897796\n""}]",0,761886,c12b50cac6814bf4210b7d94fb3a1a7dc762e977,13,4,2,11975,,,0,"Mark test_subport_connectivity as unstable for now

It's failing from time to time and it's reported in the related bug.
So lets mark this test as unstable for now, until we will fix the issue
to make our gate more stable.

Change-Id: I8f9949639691294886523dfe7b7b37bd5fbce81c
Related-Bug: #1897796
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/86/761886/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_trunk.py'],1,b29039068fd64f787fce019e26dede4c6cce5642,bug/1897796,"from neutron_lib.utils import test @test.unstable_test(""bug 1897796"")",,2,0
openstack%2Foctavia~master~I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90,openstack/octavia,master,I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90,Fix setting None in tls_versions and tls_ciphers in pools,MERGED,2020-11-18 14:06:29.000000000,2020-11-19 12:23:16.000000000,2020-11-19 12:20:35.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-11-18 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2e59985713d0351d0cf125d5c258f6e2c7849c3', 'message': 'Fix setting None in tls_versions and tls_ciphers in pools\n\nSetting None in tls_versions and tls_ciphers should reset their value\nto the default value\n\nStory 2008367\nTask 41276\n\nChange-Id: I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90\n'}, {'number': 2, 'created': '2020-11-18 14:18:49.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'releasenotes/notes/fix-unset-for-tls_versions-tls_ciphers-in-pools-7534715ce28bd8cb.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8a207a7e036538abe68db38539c2c785537171dd', 'message': 'Fix setting None in tls_versions and tls_ciphers in pools\n\nSetting None in tls_versions and tls_ciphers should reset their value\nto the default value\n\nStory 2008367\nTask 41276\n\nChange-Id: I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90\n'}]",0,763187,8a207a7e036538abe68db38539c2c785537171dd,13,5,2,29244,,,0,"Fix setting None in tls_versions and tls_ciphers in pools

Setting None in tls_versions and tls_ciphers should reset their value
to the default value

Story 2008367
Task 41276

Change-Id: I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/763187/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'releasenotes/notes/fix-unset-for-tls_versions-tls_ciphers-in-pools-7534715ce28bd8cb.yaml']",3,d2e59985713d0351d0cf125d5c258f6e2c7849c3,,"--- fixes: - | Fix an issue when updating ''tls_versions'' and ''tls_ciphers'' in Pools with empty (None) values, unsetting theses parameters now resets their values to the default values. ",,161,0
openstack%2Fkayobe~master~Ia29b3cfbedefca0fb6be1e37f0e0b92dc76f41bf,openstack/kayobe,master,Ia29b3cfbedefca0fb6be1e37f0e0b92dc76f41bf,Add Python3 wallaby unit tests,MERGED,2020-11-18 17:17:46.000000000,2020-11-19 12:17:30.000000000,2020-11-19 12:11:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:17:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ae93b364e55fd8c4d1f426b05b8cecbad632c61f', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia29b3cfbedefca0fb6be1e37f0e0b92dc76f41bf\n'}]",0,763222,ae93b364e55fd8c4d1f426b05b8cecbad632c61f,8,3,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia29b3cfbedefca0fb6be1e37f0e0b92dc76f41bf
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/22/763222/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ae93b364e55fd8c4d1f426b05b8cecbad632c61f,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fironic-tempest-plugin~master~Ia0fbc97184a4098635085edbdd6d7be5dfd2218c,openstack/ironic-tempest-plugin,master,Ia0fbc97184a4098635085edbdd6d7be5dfd2218c,Run redfish victoria job on focal,MERGED,2020-10-28 10:29:04.000000000,2020-11-19 12:15:51.000000000,2020-11-19 12:07:14.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-10-28 10:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/313808a7cace0a989a6a017cce90a50d89044c68', 'message': '[WIP] Run redfish victoria job on focal\n\nThe ironic-standalone-redfish-victoria job is using latest tinyipa\nbased on tinycore 11.x, but still running on bionic.\nThat causes issues during the ipa-ramdisk build because of kernel\ntoo old in bionic, so setting nodeset to focal.\n\nChange-Id: Ia0fbc97184a4098635085edbdd6d7be5dfd2218c\n'}, {'number': 2, 'created': '2020-11-11 08:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d550d0066499f5c1317e057572fca9d22ce5b312', 'message': '[WIP] Run redfish victoria job on focal\n\nThe ironic-standalone-redfish-victoria job is using latest tinyipa\nbased on tinycore 11.x, but still running on bionic.\nThat causes issues during the ipa-ramdisk build because of kernel\ntoo old in bionic, so setting nodeset to focal.\n\nChange-Id: Ia0fbc97184a4098635085edbdd6d7be5dfd2218c\n'}, {'number': 3, 'created': '2020-11-12 14:27:27.000000000', 'files': ['zuul.d/stable-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/131ffef6a695385c78126b8c30e92deec8b99fbe', 'message': 'Run redfish victoria job on focal\n\nThe ironic-standalone-redfish-victoria job is using latest tinyipa\nbased on tinycore 11.x, but still running on bionic.\nThat causes issues during the ipa-ramdisk build because of kernel\ntoo old in bionic, so setting nodeset to focal.\n\nChange-Id: Ia0fbc97184a4098635085edbdd6d7be5dfd2218c\n'}]",0,760102,131ffef6a695385c78126b8c30e92deec8b99fbe,22,4,3,23851,,,0,"Run redfish victoria job on focal

The ironic-standalone-redfish-victoria job is using latest tinyipa
based on tinycore 11.x, but still running on bionic.
That causes issues during the ipa-ramdisk build because of kernel
too old in bionic, so setting nodeset to focal.

Change-Id: Ia0fbc97184a4098635085edbdd6d7be5dfd2218c
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/02/760102/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/stable-jobs.yaml'],1,313808a7cace0a989a6a017cce90a50d89044c68,redfish-victoria-focal, nodeset: openstack-single-node-focal,,1,0
openstack%2Fkayobe-config-dev~stable%2Fvictoria~I00c5e05f5c025e15749f7da0b1caad59b886ba3b,openstack/kayobe-config-dev,stable/victoria,I00c5e05f5c025e15749f7da0b1caad59b886ba3b,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-11-18 17:18:04.000000000,2020-11-19 12:15:50.000000000,2020-11-19 12:15:50.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:18:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/4fb1f2aae2bf184bebecfa6c8a6b44567ca4c420', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I00c5e05f5c025e15749f7da0b1caad59b886ba3b\n'}]",0,763226,4fb1f2aae2bf184bebecfa6c8a6b44567ca4c420,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I00c5e05f5c025e15749f7da0b1caad59b886ba3b
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/26/763226/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4fb1f2aae2bf184bebecfa6c8a6b44567ca4c420,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config-dev~stable%2Fvictoria~If2b677c3932cf7a01d4bd73d5a65342ccc526695,openstack/kayobe-config-dev,stable/victoria,If2b677c3932cf7a01d4bd73d5a65342ccc526695,Update .gitreview for stable/victoria,MERGED,2020-11-18 17:18:02.000000000,2020-11-19 12:15:49.000000000,2020-11-19 12:15:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:18:02.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/8d394702138886b35fd4d710c6885dfd046311c9', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: If2b677c3932cf7a01d4bd73d5a65342ccc526695\n'}]",0,763225,8d394702138886b35fd4d710c6885dfd046311c9,7,3,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: If2b677c3932cf7a01d4bd73d5a65342ccc526695
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/25/763225/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8d394702138886b35fd4d710c6885dfd046311c9,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fkayobe-config~stable%2Fvictoria~Ib3ddbefdf8a8adc44fb54c342ca394fd1f23cdb6,openstack/kayobe-config,stable/victoria,Ib3ddbefdf8a8adc44fb54c342ca394fd1f23cdb6,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-11-18 17:17:54.000000000,2020-11-19 12:11:26.000000000,2020-11-19 12:11:26.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:17:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/44fcb163025c95560a14221136b45072bd73b764', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib3ddbefdf8a8adc44fb54c342ca394fd1f23cdb6\n'}]",0,763224,44fcb163025c95560a14221136b45072bd73b764,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib3ddbefdf8a8adc44fb54c342ca394fd1f23cdb6
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/24/763224/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44fcb163025c95560a14221136b45072bd73b764,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config~stable%2Fvictoria~I3ed7c19dc20fa8ab2c72f2d3cf60470c9a595c32,openstack/kayobe-config,stable/victoria,I3ed7c19dc20fa8ab2c72f2d3cf60470c9a595c32,Update .gitreview for stable/victoria,MERGED,2020-11-18 17:17:52.000000000,2020-11-19 12:11:25.000000000,2020-11-19 12:11:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:17:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/c703d05138fbeca23d97d5ef8f80928da690b024', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I3ed7c19dc20fa8ab2c72f2d3cf60470c9a595c32\n'}]",0,763223,c703d05138fbeca23d97d5ef8f80928da690b024,7,3,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I3ed7c19dc20fa8ab2c72f2d3cf60470c9a595c32
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/23/763223/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c703d05138fbeca23d97d5ef8f80928da690b024,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fironic~stable%2Fvictoria~I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c,openstack/ironic,stable/victoria,I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c,Limit the default value of [api]api_workers to 4,MERGED,2020-11-18 07:52:33.000000000,2020-11-19 12:02:03.000000000,2020-11-19 11:59:24.000000000,"[{'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 07:52:33.000000000', 'files': ['ironic/common/wsgi_service.py', 'ironic/tests/unit/common/test_wsgi_service.py', 'releasenotes/notes/api-workers-c06ea95a0c55b8cf.yaml', 'ironic/conf/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c860c6bff2e08de8a8b0a0d63621335a25e3327', 'message': 'Limit the default value of [api]api_workers to 4\n\nEach ironic-api process consumes non-negligible amount of RAM,\ndefaulting to CPU core count may result in many hundres of megabytes\noccupied by ironic-api processes. Limit the default value to 4\nand let people who actually need more than that pick their value.\n\nChange-Id: I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c\n(cherry picked from commit c9c492725ed581db1ba49a1a5985bfcf4952e82d)\n'}]",0,763133,6c860c6bff2e08de8a8b0a0d63621335a25e3327,15,5,1,10239,,,0,"Limit the default value of [api]api_workers to 4

Each ironic-api process consumes non-negligible amount of RAM,
defaulting to CPU core count may result in many hundres of megabytes
occupied by ironic-api processes. Limit the default value to 4
and let people who actually need more than that pick their value.

Change-Id: I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c
(cherry picked from commit c9c492725ed581db1ba49a1a5985bfcf4952e82d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/763133/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/wsgi_service.py', 'ironic/tests/unit/common/test_wsgi_service.py', 'releasenotes/notes/api-workers-c06ea95a0c55b8cf.yaml', 'ironic/conf/api.py']",4,6c860c6bff2e08de8a8b0a0d63621335a25e3327,api-workers-stable/victoria," 'The default is equal to the number of CPUs available, ' 'but not more than 4. One worker is used if the CPU ' 'number cannot be detected.')),"," 'The default is equal to the number of CPUs available ' 'if that can be determined, else a default worker ' 'count of 1 is returned.')),",32,8
openstack%2Fneutron-tempest-plugin~master~Iaf48a1d2649ce78c81464dfdb7c426e1156a157d,openstack/neutron-tempest-plugin,master,Iaf48a1d2649ce78c81464dfdb7c426e1156a157d,Disable Cinder services in all neutron-tempest-plugin jobs,MERGED,2020-11-12 15:49:27.000000000,2020-11-19 11:44:57.000000000,2020-11-19 11:44:57.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 15:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cfd855d387a9d332db6704762b7fa40928ac181f', 'message': ""Disable Cinder services in all neutron-tempest-plugin jobs\n\nWe don't need to run Cinder services in the neutron-tempest-plugin\njobs. That should speed jobs a bit and save some resources on the\ntest nodes.\n\nChange-Id: Iaf48a1d2649ce78c81464dfdb7c426e1156a157d\n""}, {'number': 2, 'created': '2020-11-17 15:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/05aa46d04d1bea3f7095c9bc88bdb34579fde3af', 'message': ""Disable Cinder services in all neutron-tempest-plugin jobs\n\nWe don't need to run Cinder services in the neutron-tempest-plugin\njobs. That should speed jobs a bit and save some resources on the\ntest nodes.\n\nChange-Id: Iaf48a1d2649ce78c81464dfdb7c426e1156a157d\n""}, {'number': 3, 'created': '2020-11-18 21:39:25.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/643820ca6276bca89ac6148216a2c1b6343fca14', 'message': ""Disable Cinder services in all neutron-tempest-plugin jobs\n\nWe don't need to run Cinder services in the neutron-tempest-plugin\njobs. That should speed jobs a bit and save some resources on the\ntest nodes.\n\nChange-Id: Iaf48a1d2649ce78c81464dfdb7c426e1156a157d\n""}]",2,762539,643820ca6276bca89ac6148216a2c1b6343fca14,15,4,3,11975,,,0,"Disable Cinder services in all neutron-tempest-plugin jobs

We don't need to run Cinder services in the neutron-tempest-plugin
jobs. That should speed jobs a bit and save some resources on the
test nodes.

Change-Id: Iaf48a1d2649ce78c81464dfdb7c426e1156a157d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/39/762539/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml']",2,cfd855d387a9d332db6704762b7fa40928ac181f,improve-neutron-ci, # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false, devstack_services: cinder: true ,24,6
openstack%2Ftripleo-docs~master~Ib9bf937120ef301628aa36482ddbfe9716f665f4,openstack/tripleo-docs,master,Ib9bf937120ef301628aa36482ddbfe9716f665f4,Fix YAML Example for aide.yaml,MERGED,2018-06-11 09:37:07.000000000,2020-11-19 11:41:36.000000000,2020-11-19 11:39:59.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 10239}, {'_account_id': 11491}, {'_account_id': 17893}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-11 09:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/300aecee59c28bc847b87e76ee7394f7c48e8c46', 'message': 'Fix YAML Example for aide.yaml\n\nSorry folks, just seen this was still not formatted correctly,\nI expect its the copy buffer in my text editor.\n\nChange-Id: Ib9bf937120ef301628aa36482ddbfe9716f665f4\n'}, {'number': 2, 'created': '2018-06-12 09:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/537a78587c619e0577ce272cf6b24b7490856395', 'message': 'Fix YAML Example for aide.yaml\n\nSorry folks, just seen this was still not formatted correctly,\nI expect its the copy buffer in my text editor.\n\nChange-Id: Ib9bf937120ef301628aa36482ddbfe9716f665f4\n'}, {'number': 3, 'created': '2020-11-16 22:37:03.000000000', 'files': ['deploy-guide/source/features/security_hardening.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8449756d32b780ad1b180816aeffceabdb7e72fd', 'message': 'Fix YAML Example for aide.yaml\n\nSorry folks, just seen this was still not formatted correctly,\nI expect its the copy buffer in my text editor.\n\nChange-Id: Ib9bf937120ef301628aa36482ddbfe9716f665f4\n'}]",4,574191,8449756d32b780ad1b180816aeffceabdb7e72fd,17,6,3,17893,,,0,"Fix YAML Example for aide.yaml

Sorry folks, just seen this was still not formatted correctly,
I expect its the copy buffer in my text editor.

Change-Id: Ib9bf937120ef301628aa36482ddbfe9716f665f4
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/91/574191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/security_hardening.rst'],1,300aecee59c28bc847b87e76ee7394f7c48e8c46,aide-fix, AideRules: 'TripleORules': content: 'TripleORules = p+sha256' order : 1 'etc': content: '/etc/ TripleORules' order : 2 'boot': content: '/boot/ TripleORules' order : 3 'sbin': content: '/sbin/ TripleORules' order : 4 'var': content: '/var/ TripleORules' order : 5 'not var/log': content: '!/var/log.*' order : 6 'not var/spool': content: '!/var/spool.*' order : 7 'not nova instances': content: '!/var/lib/nova/instances.*' order: 8 openstack overcloud deploy --templates -e \ /usr/share/openstack-tripleo-heat-templates/environments/aide.yaml, AideRules: 'TripleORules': content: 'TripleORules = p+sha256' order : 1 'etc': content: '/etc/ TripleORules' order : 2 'boot': content: '/boot/ TripleORules' order : 3 'sbin': content: '/sbin/ TripleORules' order : 4 'var': content: '/var/ TripleORules' order : 5 'not var/log': content: '!/var/log.*' order : 6 'not var/spool': content: '!/var/spool.*' order : 7 'not /var/adm/utmp': content: '!/var/adm/utmp$' order: 8 'not nova instances': content: '!/var/lib/nova/instances.*' order: 9 openstack overcloud deploy --templates -e /path/to/aide.yaml,27,29
openstack%2Freleases~master~I89ccffa4b60772c5c86823b887f55a90fac66554,openstack/releases,master,I89ccffa4b60772c5c86823b887f55a90fac66554,New bugfix release of oslo.concurrency for train.,MERGED,2020-11-16 10:07:57.000000000,2020-11-19 11:36:46.000000000,2020-11-19 11:36:46.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-11-16 10:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/759df1ac41536550f1ab86b8acfc0cc4616b50bd', 'message': 'New bugfix release of oslo.concurrency for train.\n\nNew bugfix release, monkey patch original current_thread_active in\nprocessutils.\n\nChange-Id: I89ccffa4b60772c5c86823b887f55a90fac66554\n'}, {'number': 2, 'created': '2020-11-19 09:40:02.000000000', 'files': ['deliverables/train/oslo.concurrency.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d3f6082528d734adf9e0f8907b605327aea2cfe5', 'message': 'New bugfix release of oslo.concurrency for train.\n\nNew bugfix release, monkey patch original current_thread_active in\nprocessutils.\n\nChange-Id: I89ccffa4b60772c5c86823b887f55a90fac66554\n'}]",0,762810,d3f6082528d734adf9e0f8907b605327aea2cfe5,14,5,2,31245,,,0,"New bugfix release of oslo.concurrency for train.

New bugfix release, monkey patch original current_thread_active in
processutils.

Change-Id: I89ccffa4b60772c5c86823b887f55a90fac66554
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/762810/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.concurrency.yaml'],1,759df1ac41536550f1ab86b8acfc0cc4616b50bd,, - version: 3.30.1 projects: - repo: openstack/oslo.concurrency hash: f4d2dd88174e5abdb43dab1958e1798ae177a3a7,,4,0
openstack%2Freleases~master~I9a892d6682b606181a724eead6cb6c150f089f77,openstack/releases,master,I9a892d6682b606181a724eead6cb6c150f089f77,[murano] Transition Stein to EM,MERGED,2020-11-11 19:45:20.000000000,2020-11-19 11:36:45.000000000,2020-11-19 11:36:45.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 19:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f21d85acf72fe967919eedb9f4a0f68ead117126', 'message': '[murano] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9a892d6682b606181a724eead6cb6c150f089f77\n'}, {'number': 2, 'created': '2020-11-11 22:37:17.000000000', 'files': ['deliverables/stein/murano-dashboard.yaml', 'deliverables/stein/murano-agent.yaml', 'deliverables/stein/murano.yaml', 'deliverables/stein/python-muranoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e11b397dadbc73435dfc93c0f0ae0877a8b1231a', 'message': '[murano] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9a892d6682b606181a724eead6cb6c150f089f77\n'}]",0,762403,e11b397dadbc73435dfc93c0f0ae0877a8b1231a,11,4,2,17685,,,0,"[murano] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I9a892d6682b606181a724eead6cb6c150f089f77
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/762403/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/murano-tempest-plugin.yaml', 'deliverables/stein/murano-dashboard.yaml', 'deliverables/stein/murano-agent.yaml', 'deliverables/stein/murano.yaml', 'deliverables/stein/python-muranoclient.yaml']",5,f21d85acf72fe967919eedb9f4a0f68ead117126,stein-em, - version: stein-em projects: - repo: openstack/python-muranoclient hash: ed7a0ee6823806e3b008b75247a273bc8b3d2981,,20,0
openstack%2Freleases~master~If1f7ca99a1a0de10729ad3f84826ed8f58b8bce1,openstack/releases,master,If1f7ca99a1a0de10729ad3f84826ed8f58b8bce1,[solum] Transition Stein to EM,MERGED,2020-11-11 21:07:21.000000000,2020-11-19 11:36:43.000000000,2020-11-19 11:36:43.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c0dbe687529a1bb2a826ad251274974305ebf7dd', 'message': '[solum] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If1f7ca99a1a0de10729ad3f84826ed8f58b8bce1\n'}, {'number': 2, 'created': '2020-11-11 22:52:38.000000000', 'files': ['deliverables/stein/python-solumclient.yaml', 'deliverables/stein/solum-dashboard.yaml', 'deliverables/stein/solum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d4baa962cdaccfa5134d1b5890768e870ceb468e', 'message': '[solum] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If1f7ca99a1a0de10729ad3f84826ed8f58b8bce1\n'}]",0,762422,d4baa962cdaccfa5134d1b5890768e870ceb468e,11,4,2,17685,,,0,"[solum] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: If1f7ca99a1a0de10729ad3f84826ed8f58b8bce1
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/762422/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/solum-tempest-plugin.yaml', 'deliverables/stein/python-solumclient.yaml', 'deliverables/stein/solum-dashboard.yaml', 'deliverables/stein/solum.yaml']",4,c0dbe687529a1bb2a826ad251274974305ebf7dd,stein-em, - version: stein-em projects: - repo: openstack/solum hash: c9d7760774ed7a749831592e426e14c6b5fba033,,16,0
openstack%2Foctavia~master~I03385d93575db4e44a72335c0af4fde490a93b0f,openstack/octavia,master,I03385d93575db4e44a72335c0af4fde490a93b0f,Add experimental amphorav2 jobs,MERGED,2020-06-25 12:26:15.000000000,2020-11-19 11:31:35.000000000,2020-11-19 11:25:02.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 12:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d825175c5a52b7d283b74a8576bd768ef19161e', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 2, 'created': '2020-07-02 09:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/64140e276e2bd141d51c12d8b778255dd3c6ff2c', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 3, 'created': '2020-07-09 07:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2531c3b6c4546591a009ed761397bd34905aee9', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 4, 'created': '2020-07-09 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d79e351611dec8c6ae6f5555a5ddbdd750b3307c', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 5, 'created': '2020-07-09 09:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/19475f7c26ed0dd6a75c1879f71ad07f3caef2fd', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 6, 'created': '2020-07-09 12:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b393a706cb8e24e500af4f9f99c3bf3d491299cc', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 7, 'created': '2020-07-10 09:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/54b536974799e9f31d2b708f84d0ca995e5580de', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 8, 'created': '2020-07-29 08:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/14228bc9d1370fd6bab96b0ebf929f0b6243fb4c', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 9, 'created': '2020-08-27 12:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eb073da30997c8305e0741eca1a82da8acd32c93', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 10, 'created': '2020-08-31 07:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6d125b24d464d0a21ff71a3ec3f96b51722361d7', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 11, 'created': '2020-09-02 07:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/63ae940c06c88ddd6240e953fcc1a555c23b69ac', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 12, 'created': '2020-09-15 13:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2d1b636312b9d81dd873b6b8bf3cbf7030d2c8a', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 13, 'created': '2020-10-05 11:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13c051853bf809fcc34e90eeb6e2b2abe71a477c', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}, {'number': 14, 'created': '2020-11-03 09:02:09.000000000', 'files': ['zuul.d/amphorav2-jobs.yaml', 'devstack/plugin.sh', 'zuul.d/projects.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9a6a90000f6f729bee23bc16882a0ee0c08e2097', 'message': 'Add experimental amphorav2 jobs\n\nThe following jobs with default amphorav2 added as experimental:\n* octavia-v2-dsvm-noop-api\n* octavia-v2-dsvm-tls-barbican\n* octavia-v2-dsvm-spare-pool\n* octavia-v2-act-stdby-dsvm-scenario\n* octavia-grenade\n* octavia-v2-dsvm-cinder-amphora\n* octavia-v2-dsvm-scenario-two-node\n\nNote: octavia-grenade-amphorav2 will show valid result\nwith renamed alias amphorav2 -> amphora.\n\nChange-Id: I03385d93575db4e44a72335c0af4fde490a93b0f\n'}]",1,737993,9a6a90000f6f729bee23bc16882a0ee0c08e2097,70,5,14,7249,,,0,"Add experimental amphorav2 jobs

The following jobs with default amphorav2 added as experimental:
* octavia-v2-dsvm-noop-api
* octavia-v2-dsvm-tls-barbican
* octavia-v2-dsvm-spare-pool
* octavia-v2-act-stdby-dsvm-scenario
* octavia-grenade
* octavia-v2-dsvm-cinder-amphora
* octavia-v2-dsvm-scenario-two-node

Note: octavia-grenade-amphorav2 will show valid result
with renamed alias amphorav2 -> amphora.

Change-Id: I03385d93575db4e44a72335c0af4fde490a93b0f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/737993/10 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/amphorav2-jobs.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",3,0d825175c5a52b7d283b74a8576bd768ef19161e,,,"- job: name: octavia-v2-dsvm-scenario-amphora-v2 parent: octavia-v2-dsvm-scenario vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_PROVIDER: True devstack_local_conf: post-config: $OCTAVIA_CONF: api_settings: default_provider_driver: amphorav2 enabled_provider_drivers: amphorav2:The v2 amphora driver. task_flow: jobboard_expiration_time: 100 test-config: ""$TEMPEST_CONFIG"": load_balancer: enabled_provider_drivers: amphorav2:The v2 amphora driver. provider: amphorav2 ",168,20
openstack%2Freleases~master~Ib578a99797e303777160a172c9444dd83fea6fb6,openstack/releases,master,Ib578a99797e303777160a172c9444dd83fea6fb6,[searchlight] Transition Stein to EM,MERGED,2020-11-11 21:03:01.000000000,2020-11-19 11:31:12.000000000,2020-11-19 11:31:12.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:03:01.000000000', 'files': ['deliverables/stein/searchlight-ui.yaml', 'deliverables/stein/searchlight.yaml', 'deliverables/stein/python-searchlightclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d7d2624faa764d4606b9bb01a2fa1cdcc60edc5f', 'message': '[searchlight] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ib578a99797e303777160a172c9444dd83fea6fb6\n'}]",0,762420,d7d2624faa764d4606b9bb01a2fa1cdcc60edc5f,9,4,1,17685,,,0,"[searchlight] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ib578a99797e303777160a172c9444dd83fea6fb6
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/762420/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/searchlight-ui.yaml', 'deliverables/stein/searchlight.yaml', 'deliverables/stein/python-searchlightclient.yaml']",3,d7d2624faa764d4606b9bb01a2fa1cdcc60edc5f,stein-em, - version: stein-em projects: - repo: openstack/python-searchlightclient hash: d363f6ba6b3820c41eac033dc151f69fe24a278c,,12,0
openstack%2Freleases~master~I840bacd1f0720a670afd072ef7e6a1c311494bb1,openstack/releases,master,I840bacd1f0720a670afd072ef7e6a1c311494bb1,[octavia] Transition Stein to EM,MERGED,2020-11-11 20:04:46.000000000,2020-11-19 11:22:25.000000000,2020-11-19 11:22:25.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 20:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7925ae641f01196eb560f28c4fdcfa241ea6a2e0', 'message': '[octavia] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I840bacd1f0720a670afd072ef7e6a1c311494bb1\n'}, {'number': 2, 'created': '2020-11-11 22:33:34.000000000', 'files': ['deliverables/stein/neutron-lbaas-dashboard.yaml', 'deliverables/stein/octavia-lib.yaml', 'deliverables/stein/octavia.yaml', 'deliverables/stein/neutron-lbaas.yaml', 'deliverables/stein/octavia-dashboard.yaml', 'deliverables/stein/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9472ad359df325d0f8f145656bd17fd99c402cca', 'message': '[octavia] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I840bacd1f0720a670afd072ef7e6a1c311494bb1\n'}]",1,762407,9472ad359df325d0f8f145656bd17fd99c402cca,18,6,2,17685,,,0,"[octavia] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I840bacd1f0720a670afd072ef7e6a1c311494bb1
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/762407/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/neutron-lbaas-dashboard.yaml', 'deliverables/stein/octavia-lib.yaml', 'deliverables/stein/octavia-tempest-plugin.yaml', 'deliverables/stein/octavia.yaml', 'deliverables/stein/neutron-lbaas.yaml', 'deliverables/stein/octavia-dashboard.yaml', 'deliverables/stein/python-octaviaclient.yaml']",7,7925ae641f01196eb560f28c4fdcfa241ea6a2e0,stein-em, - version: stein-em projects: - repo: openstack/python-octaviaclient hash: c9069d587228603db696496f88b6e686d380f022,,28,0
openstack%2Freleases~master~I76191abb0b5914ad73b872ac100427d47d7b8a4d,openstack/releases,master,I76191abb0b5914ad73b872ac100427d47d7b8a4d,New bugfix release for oslo.config for train.,MERGED,2020-11-16 10:20:31.000000000,2020-11-19 11:18:38.000000000,2020-11-19 11:18:37.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-16 10:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5d268148fdf9a151e9abf8cfeb2e8f3faa378bd8', 'message': 'New bugfix release for oslo.config for train.\n\nAdd a new type to support _ with hostname.\n\nChange-Id: I76191abb0b5914ad73b872ac100427d47d7b8a4d\n'}, {'number': 2, 'created': '2020-11-19 09:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/75943c3c615be039b14208048c4f44a379f8cf4c', 'message': 'New bugfix release for oslo.config for train.\n\nAdd a new type to support _ with hostname.\n\nChange-Id: I76191abb0b5914ad73b872ac100427d47d7b8a4d\n'}, {'number': 3, 'created': '2020-11-19 10:52:52.000000000', 'files': ['deliverables/train/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1f75bd4a9c7af2c17b72dfc3a24d68693fd3482f', 'message': 'New bugfix release for oslo.config for train.\n\nAdd a new type to support _ with hostname.\n\nChange-Id: I76191abb0b5914ad73b872ac100427d47d7b8a4d\n'}]",0,762811,1f75bd4a9c7af2c17b72dfc3a24d68693fd3482f,15,4,3,31245,,,0,"New bugfix release for oslo.config for train.

Add a new type to support _ with hostname.

Change-Id: I76191abb0b5914ad73b872ac100427d47d7b8a4d
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/762811/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.config.yaml'],1,5d268148fdf9a151e9abf8cfeb2e8f3faa378bd8,, - version: 6.11.3 projects: - repo: openstack/oslo.config hash: 9b1ccea642f0769cb6c49bf814ddab62ca5d8180,,4,0
openstack%2Freleases~master~Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d,openstack/releases,master,Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d,New bugfix release of oslo.concurrency for ussuri.,MERGED,2020-11-16 10:00:03.000000000,2020-11-19 11:18:36.000000000,2020-11-19 11:18:36.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-11-16 10:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3796e92b4e24c138e336cdb9d132b8c154023205', 'message': 'New bugfix release of oslo.concurrency for ussuri.\n\nNew bugfix release, monkey patch original current_thread_active in\nprocessutils.\n\nChange-Id: Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d\n'}, {'number': 2, 'created': '2020-11-19 09:39:54.000000000', 'files': ['deliverables/ussuri/oslo.concurrency.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e324b84ca917c6be519062590f8a84dcee904e80', 'message': 'New bugfix release of oslo.concurrency for ussuri.\n\nNew bugfix release, monkey patch original current_thread_active in\nprocessutils.\n\nChange-Id: Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d\n'}]",0,762809,e324b84ca917c6be519062590f8a84dcee904e80,15,5,2,31245,,,0,"New bugfix release of oslo.concurrency for ussuri.

New bugfix release, monkey patch original current_thread_active in
processutils.

Change-Id: Ic3baff81d8dd4acd1fe2cf2c86f1780d6735a04d
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/762809/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.concurrency.yaml'],1,3796e92b4e24c138e336cdb9d132b8c154023205,, - version: 4.0.3 projects: - repo: openstack/oslo.concurrency hash: adde6d913fd13b8c2369fa32e15fddf52b42a874,,4,0
openstack%2Freleases~master~I9daef363b3b561b92759933401b14a5414dc8063,openstack/releases,master,I9daef363b3b561b92759933401b14a5414dc8063,Release manila 8.1.4 for stable/stein,MERGED,2020-11-12 09:37:54.000000000,2020-11-19 11:16:06.000000000,2020-11-19 11:16:05.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-12 09:37:54.000000000', 'files': ['deliverables/stein/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6ab1ae07ea88fb98a448076f173e48fe672b8405', 'message': 'Release manila 8.1.4 for stable/stein\n\nThis change creates the 8.1.4 release of manila,\nthat includes several bug-fixes.\n\nChange-Id: I9daef363b3b561b92759933401b14a5414dc8063\n'}]",0,762484,6ab1ae07ea88fb98a448076f173e48fe672b8405,11,6,1,17685,,,0,"Release manila 8.1.4 for stable/stein

This change creates the 8.1.4 release of manila,
that includes several bug-fixes.

Change-Id: I9daef363b3b561b92759933401b14a5414dc8063
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/762484/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/manila.yaml'],1,6ab1ae07ea88fb98a448076f173e48fe672b8405,manila, - version: 8.1.4 projects: - repo: openstack/manila hash: ef8d704c3b08d7de64926549a2f8f14cec3bfd0b,,4,0
openstack%2Frequirements~master~I659333f0acd4eb40f66d4389044c01cb4a4a83d6,openstack/requirements,master,I659333f0acd4eb40f66d4389044c01cb4a4a83d6,update constraint for openstacksdk to new release 0.52.0,MERGED,2020-11-18 17:47:37.000000000,2020-11-19 11:12:23.000000000,2020-11-19 11:10:54.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-18 17:47:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/134c3e0bf07b216af0fb8e6bff4adfc06fc5ad28', 'message': 'update constraint for openstacksdk to new release 0.52.0\n\nChange-Id: I659333f0acd4eb40f66d4389044c01cb4a4a83d6\nmeta:version: 0.52.0\nmeta:diff-start: -\nmeta:series: wallaby\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Change-Id: I8a650c087f55176a4dacb2ef799435efc94fe4e3\nmeta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,763234,134c3e0bf07b216af0fb8e6bff4adfc06fc5ad28,13,4,1,11131,,,0,"update constraint for openstacksdk to new release 0.52.0

Change-Id: I659333f0acd4eb40f66d4389044c01cb4a4a83d6
meta:version: 0.52.0
meta:diff-start: -
meta:series: wallaby
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Stephen Finucane <sfinucan@redhat.com>
meta:release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta:release:Change-Id: I8a650c087f55176a4dacb2ef799435efc94fe4e3
meta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/763234/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,134c3e0bf07b216af0fb8e6bff4adfc06fc5ad28,new-release,openstacksdk===0.52.0,openstacksdk===0.51.0,1,1
openstack%2Fpython-tripleoclient~master~Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae,openstack/python-tripleoclient,master,Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae,Extract provisioned networks from stack,MERGED,2020-09-09 14:25:02.000000000,2020-11-19 11:04:13.000000000,2020-11-19 11:02:43.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-09 14:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4dab92d0244a4f25b6310685e4ec7e2013675f5', 'message': 'WIP - Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 2, 'created': '2020-09-14 18:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c14f66bf7df5c493171b7709c5798686eff30fc6', 'message': 'WIP - Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 3, 'created': '2020-09-16 17:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46e34ae7f86d6c5e55719fa53b6f0a2ce5a0ce8a', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 4, 'created': '2020-09-18 14:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b919cc8ef3283ecd8bcc86a849d22c40699653b9', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 5, 'created': '2020-09-21 10:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ca3030dd5e10df9515c144f8abb21d7cd6a4610', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 6, 'created': '2020-09-22 10:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/49db58730f124ae22b09c9b4a641684b7b8d11f3', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 7, 'created': '2020-09-25 13:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d9e7fd26176498d6e36c4114200d16cbf2a39c1c', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 8, 'created': '2020-09-30 11:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19f1386946303f2ed49a807b4cd287f4bffb2757', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 9, 'created': '2020-10-05 21:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c9f95ce4d06c12b55eb0482ec0c78fd62995b54', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 10, 'created': '2020-10-05 21:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/987b0e180b4ed4f55f52ff8bde7723110cab369f', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 11, 'created': '2020-10-07 11:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1ef4ba117d9e5567a283f6def4b00ed321967c2', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 12, 'created': '2020-10-12 08:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/910e4c6d70bbaf6da030866ad618c28fa0c1868e', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 13, 'created': '2020-10-23 14:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3df31f9aa2d050e9e0925704e88b308b1ab65412', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 14, 'created': '2020-11-03 16:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/00a30893c73c8a7915085a4bae2bb4b31f4bf8fd', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}, {'number': 15, 'created': '2020-11-04 13:27:02.000000000', 'files': ['tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v2/overcloud_network/__init__.py', 'setup.cfg', 'tripleoclient/v2/overcloud_network.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/006b1256379570402a6c412351798e6e32f9a684', 'message': 'Extract provisioned networks from stack\n\nExtract networks provisioned in stack and dump\noutput to valid network_data.yaml format.\n\nDepends-On: https://review.opendev.org/750671\nChange-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae\n'}]",8,750672,006b1256379570402a6c412351798e6e32f9a684,50,6,15,24245,,,0,"Extract provisioned networks from stack

Extract networks provisioned in stack and dump
output to valid network_data.yaml format.

Depends-On: https://review.opendev.org/750671
Change-Id: Ibae7e2f46eb2c1c20fc9c5aed95284e3a24c66ae
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/750672/12 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tripleoclient/v2/overcloud_network.py']",2,c4dab92d0244a4f25b6310685e4ec7e2013675f5,network-data-v2,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import logging import os from osc_lib.i18n import _ from osc_lib import utils from tripleoclient import command from tripleoclient import constants from tripleoclient import utils as oooutils class ExtractProvisionedNetworks(command.Command): log = logging.getLogger(__name__ + "".ExtractProvisionedNetworks"") def get_parser(self, prog_name): parser = super(ExtractProvisionedNetworks, self).get_parser(prog_name) parser.add_argument('--stack', dest='stack', help=_('Name or ID of heat stack ' '(default=Env: OVERCLOUD_STACK_NAME)'), default=utils.env('OVERCLOUD_STACK_NAME', default='overcloud')) parser.add_argument('-o', '--output', metavar='<network_deployment.yaml>', help=_('The output file path describing the ' 'network deployment')) parser.add_argument('-y', '--yes', default=False, action='store_true', help=_('Skip yes/no prompt for existing files ' '(assume yes).')) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"" % parsed_args) output_path = os.path.abspath(parsed_args.output) extra_vars = { ""stack_name"": parsed_args.stack, ""output"": output_path, ""prompt"": False if parsed_args.yes else True } with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-overcloud-network-extract-provisioned.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=oooutils.playbook_verbosity(self=self), extra_vars=extra_vars, ) ",,68,0
openstack%2Fcyborg~master~I94e1554028535a361cb9f9e6e73c15702e459e4f,openstack/cyborg,master,I94e1554028535a361cb9f9e6e73c15702e459e4f,improve pep8 check logic,MERGED,2020-09-18 02:45:51.000000000,2020-11-19 10:58:37.000000000,2020-11-19 10:57:06.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-09-18 02:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/81950fa8815f77357cc718d26ecc9de8bcf9e904', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n'}, {'number': 2, 'created': '2020-09-29 02:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/990aadf8e12f1ebf9b52b738a588fe0b5c868ca2', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n'}, {'number': 3, 'created': '2020-09-29 02:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0cb8d921cc761fe6b2a54dc31795f0fa847df427', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n'}, {'number': 4, 'created': '2020-10-07 08:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2f21a980492fd1608957172c04feef522141e832', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n'}, {'number': 5, 'created': '2020-10-09 05:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9798aa58eec0fa4043048cccf83df6fc7b7a3f76', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n'}, {'number': 6, 'created': '2020-10-09 05:56:24.000000000', 'files': ['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json', 'api-ref/source/v2/arqs.inc', 'tox.ini', 'doc/api_samples/accelerator_requests/accelerator_requests-update-resp.json', 'tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bb4fd104a3cc21ae93d67f1b64910c77bd79c664', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n'}]",1,752604,bb4fd104a3cc21ae93d67f1b64910c77bd79c664,18,5,6,26458,,,0,"improve pep8 check logic

Introduce the json file check, cherry-pick patches check, and use flake8
shell instead of flake8 command.

Change-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/04/752604/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/device_profiles/device_profiles-post-curl-with-bitstream.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json', 'tools/flake8wrap.sh', 'doc/api_samples/accelerator_requests/accelerator_requests-patch-curl.json', 'doc/api_samples/device_profiles/device_profiles-post-curl.json', 'doc/api_samples/accelerator_requests/accelerator_requests-post-curl.json', 'tox.ini', 'doc/api_samples/accelerator_requests/accelerator_requests-update-resp.json', 'tools/check-cherry-picks.sh']",10,81950fa8815f77357cc718d26ecc9de8bcf9e904,,"#!/bin/sh # # A tool to check the cherry-pick hashes from the current git commit message # to verify that they're all on either master or stable/ branches # commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p') checked=0 branches+="""" for hash in $hashes; do branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)') if [ $? -ne 0 ]; then echo ""Cherry pick hash $hash not on any master or stable branches"" exit 1 fi branches+="" $branch"" checked=$(($checked + 1)) done if [ $checked -eq 0 ]; then if ! grep -q '^defaultbranch=stable/' .gitreview; then echo ""Checked $checked cherry-pick hashes: OK"" exit 0 else if ! git show --format='%B' --quiet | grep -qi 'stable.*only'; then echo 'Stable branch requires either cherry-pick -x headers or [stable-only] tag!' exit 1 fi fi else echo Checked $checked cherry-pick hashes on branches: $(echo $branches | tr ' ' '\n' | sort | uniq) fi ",,128,92
openstack%2Fneutron~master~Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f,openstack/neutron,master,Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f,Fix migration from the HA to non-HA routers,MERGED,2020-08-25 12:57:13.000000000,2020-11-19 10:52:56.000000000,2020-11-18 02:18:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-08-25 12:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe1f46603633f13e766f36fb27cadb738df1cd3a', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's revision\nnumbers and update local cache with new router_info class in case if\nrevisions don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}, {'number': 2, 'created': '2020-08-26 20:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cd904c17473cf34b482b1dad431b93d21d11cac', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's revision\nnumbers and update local cache with new router_info class in case if\nrevisions don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}, {'number': 3, 'created': '2020-08-27 08:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d60d6ce001ffeef2aa7abf46cee3088a6ab8b83e', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's revision\nnumbers and update local cache with new router_info class in case if\nrevisions don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}, {'number': 4, 'created': '2020-08-28 11:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3007794b89190b399bee96fc7569b47945fee9d', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's ha and\ndistributed flags and update local cache with new router_info class\nin case if at least one of those flags don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}, {'number': 5, 'created': '2020-10-28 11:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51b401680c0c00247fe155c7c33c7a8fcfd67129', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's ha and\ndistributed flags and update local cache with new router_info class\nin case if at least one of those flags don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}, {'number': 6, 'created': '2020-11-05 08:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13cb3e04a31614c2f0197889950120e8b7c0f87e', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's ha and\ndistributed flags and update local cache with new router_info class\nin case if at least one of those flags don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}, {'number': 7, 'created': '2020-11-16 20:58:08.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/489e0ead7297e3b17ca2bf8c4bea9701ad14a939', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's ha and\ndistributed flags and update local cache with new router_info class\nin case if at least one of those flags don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n""}]",9,747922,489e0ead7297e3b17ca2bf8c4bea9701ad14a939,53,11,7,11975,,,0,"Fix migration from the HA to non-HA routers

In case if during switching HA router to be down, there will be any
failure, router_info will be stored in L3 agent's cache as HaRouter.
In case when next update on the router is migration to non-HA router
this is wrong class and it causes other issues, e.g. with
remove_vip_by_ip_address() which is correct only for HA routers.

This patch fixes that issue by adding check of the router's ha and
distributed flags and update local cache with new router_info class
in case if at least one of those flags don't match.

Change-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f
Closes-Bug: #1892846
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/747922/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,fe1f46603633f13e766f36fb27cadb738df1cd3a,bug/1892846," agent._process_router_if_compatible(router) def test_process_router_if_compatible_revision_match(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = {'id': _uuid(), 'routes': [], 'admin_state_up': True, 'revision_number': 1, 'external_gateway_info': {'network_id': 'aaa'}} ri = mock.Mock(router=router) agent.router_info[router['id']] = ri with mock.patch.object(agent, ""_create_router"") as create_router_mock: agent._process_router_if_compatible(router) create_router_mock.assert_not_called() self.assertIn(router['id'], agent.router_info) self.assertEqual( 1, agent.router_info[router['id']].router['revision_number']) def test_process_router_if_compatible_revision_mismatch(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = {'id': _uuid(), 'routes': [], 'admin_state_up': True, 'revision_number': 1, 'external_gateway_info': {'network_id': 'aaa'}} ri = mock.Mock(router=router) agent.router_info[router['id']] = ri new_router = copy.deepcopy(router) new_router['revision_number'] = 2 with mock.patch.object(agent, ""_create_router"") as create_router_mock: agent._process_router_if_compatible(new_router) create_router_mock.assert_called_once_with( new_router['id'], new_router) self.assertIn(router['id'], agent.router_info) self.assertEqual( 2, agent.router_info[router['id']].router['revision_number']) ",,50,0
openstack%2Freleases~master~Ida56ac1824c90efbf65a39f04e9cdda61856b45f,openstack/releases,master,Ida56ac1824c90efbf65a39f04e9cdda61856b45f,[zaqar] Transition Stein to EM,MERGED,2020-11-11 21:18:57.000000000,2020-11-19 10:52:22.000000000,2020-11-19 10:52:22.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/43e1abc1f48239fdc7af9cc8d50ec95edb9c5f53', 'message': '[zaqar] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ida56ac1824c90efbf65a39f04e9cdda61856b45f\n'}, {'number': 2, 'created': '2020-11-11 23:05:38.000000000', 'files': ['deliverables/stein/python-zaqarclient.yaml', 'deliverables/stein/zaqar-ui.yaml', 'deliverables/stein/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4f4c002d08bc36d755dafad3b4cebc2fbc76b205', 'message': '[zaqar] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ida56ac1824c90efbf65a39f04e9cdda61856b45f\n'}]",1,762429,4f4c002d08bc36d755dafad3b4cebc2fbc76b205,14,5,2,17685,,,0,"[zaqar] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ida56ac1824c90efbf65a39f04e9cdda61856b45f
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/762429/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-zaqarclient.yaml', 'deliverables/stein/zaqar-ui.yaml', 'deliverables/stein/zaqar-tempest-plugin.yaml', 'deliverables/stein/zaqar.yaml']",4,43e1abc1f48239fdc7af9cc8d50ec95edb9c5f53,stein-em, - version: stein-em projects: - repo: openstack/zaqar hash: a5752f84dd3b31f7b0087756c0bd906ef428ac42,,16,0
openstack%2Freleases~master~I47cbb52f9865f244d09ffcfd75736c556191865f,openstack/releases,master,I47cbb52f9865f244d09ffcfd75736c556191865f,[winstackers] Transition Stein to EM,MERGED,2020-11-11 20:00:55.000000000,2020-11-19 10:49:45.000000000,2020-11-19 10:49:44.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 20:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/21e8d11e00464fc569254bb7447679a08128e6e1', 'message': '[winstackers] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I47cbb52f9865f244d09ffcfd75736c556191865f\n'}, {'number': 2, 'created': '2020-11-11 22:35:03.000000000', 'files': ['deliverables/stein/os-win.yaml', 'deliverables/stein/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/55467db905d4efa587a224a1da6549be40bbaf51', 'message': '[winstackers] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I47cbb52f9865f244d09ffcfd75736c556191865f\n'}]",0,762406,55467db905d4efa587a224a1da6549be40bbaf51,11,5,2,17685,,,0,"[winstackers] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I47cbb52f9865f244d09ffcfd75736c556191865f
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/762406/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/oswin-tempest-plugin.yaml', 'deliverables/stein/os-win.yaml', 'deliverables/stein/networking-hyperv.yaml']",3,21e8d11e00464fc569254bb7447679a08128e6e1,stein-em, - version: stein-em projects: - repo: openstack/networking-hyperv hash: dd15b0e6c4b553b7120aa06054cfce5010e7c304,,12,0
openstack%2Fkuryr-tempest-plugin~master~I2f7bc9d3acb15c3353629130ee9575aadd212454,openstack/kuryr-tempest-plugin,master,I2f7bc9d3acb15c3353629130ee9575aadd212454,Split checks in test_network_policy_add_remove_pod,MERGED,2020-11-15 11:07:25.000000000,2020-11-19 10:46:22.000000000,2020-11-19 10:44:31.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-11-15 11:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1af92e9d73736cdeb86c60d3894f8ca496aa67ff', 'message': 'Split checks in test_network_policy_add_remove_pod\n\nCheck that the pod_ip of the deleted pod is not in SG rules\nbefore creating a new one to avoid the situation of failing because the\nnew pod gets the same IP as the deleted one\n\nChange-Id: I2f7bc9d3acb15c3353629130ee9575aadd212454\n'}, {'number': 2, 'created': '2020-11-17 11:49:29.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/65ad75aa6351c116ba2691227a49c359befee198', 'message': 'Split checks in test_network_policy_add_remove_pod\n\nCheck that the pod_ip of the deleted pod is not in SG rules\nbefore creating a new one to avoid the situation of failing because the\nnew pod gets the same IP as the deleted one\n\nChange-Id: I2f7bc9d3acb15c3353629130ee9575aadd212454\nDepends-On: I3c89441f83d3f133c68d5bbd79df2f8393673a2f\n'}]",0,762753,65ad75aa6351c116ba2691227a49c359befee198,26,6,2,4727,,,0,"Split checks in test_network_policy_add_remove_pod

Check that the pod_ip of the deleted pod is not in SG rules
before creating a new one to avoid the situation of failing because the
new pod gets the same IP as the deleted one

Change-Id: I2f7bc9d3acb15c3353629130ee9575aadd212454
Depends-On: I3c89441f83d3f133c68d5bbd79df2f8393673a2f
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/53/762753/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base_network_policy.py'],1,1af92e9d73736cdeb86c60d3894f8ca496aa67ff,np," # Check that the deleted pod is removed from SG rules self.check_sg_rules_for_np( namespace_name, np_name_client, ingress_cidrs_shouldnt_exist=[ first_server_pod_cidr], egress_cidrs_shouldnt_exist=[ first_server_pod_cidr]) egress_cidrs_should_exist=service_pods_cidrs)"," egress_cidrs_should_exist=service_pods_cidrs, ingress_cidrs_shouldnt_exist=[ first_server_pod_cidr], egress_cidrs_shouldnt_exist=[ first_server_pod_cidr])",8,5
openstack%2Freleases~master~I198ec2e6dd87abc51864c92eecddd32aca6a63bc,openstack/releases,master,I198ec2e6dd87abc51864c92eecddd32aca6a63bc,[nova] Transition Stein to EM,MERGED,2020-11-11 20:09:55.000000000,2020-11-19 10:46:13.000000000,2020-11-19 10:46:12.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 20:09:55.000000000', 'files': ['deliverables/stein/os-traits.yaml', 'deliverables/stein/python-novaclient.yaml', 'deliverables/stein/osc-placement.yaml', 'deliverables/stein/nova.yaml', 'deliverables/stein/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a1b4d5e680efd2b74c080cd8d64ae2b4df3ccfb9', 'message': '[nova] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I198ec2e6dd87abc51864c92eecddd32aca6a63bc\n'}]",0,762408,a1b4d5e680efd2b74c080cd8d64ae2b4df3ccfb9,10,6,1,17685,,,0,"[nova] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I198ec2e6dd87abc51864c92eecddd32aca6a63bc
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/762408/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/os-traits.yaml', 'deliverables/stein/python-novaclient.yaml', 'deliverables/stein/nova.yaml', 'deliverables/stein/osc-placement.yaml', 'deliverables/stein/os-vif.yaml']",5,a1b4d5e680efd2b74c080cd8d64ae2b4df3ccfb9,stein-em, - version: stein-em projects: - repo: openstack/os-vif hash: ec9d5430300c908ea9a1c64151eee7af522a44e7,,20,0
openstack%2Freleases~master~Ibc49f7d032c1f8922a181cbcd3954b9dccf622eb,openstack/releases,master,Ibc49f7d032c1f8922a181cbcd3954b9dccf622eb,[placement] Transition Stein to EM,MERGED,2020-11-11 20:35:45.000000000,2020-11-19 10:40:52.000000000,2020-11-19 10:40:52.000000000,"[{'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 20:35:45.000000000', 'files': ['deliverables/stein/os-resource-classes.yaml', 'deliverables/stein/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d05b14eb3af831e511a7f26958c60751dff1502', 'message': '[placement] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ibc49f7d032c1f8922a181cbcd3954b9dccf622eb\n'}]",0,762412,8d05b14eb3af831e511a7f26958c60751dff1502,8,4,1,17685,,,0,"[placement] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ibc49f7d032c1f8922a181cbcd3954b9dccf622eb
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/762412/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/os-resource-classes.yaml', 'deliverables/stein/placement.yaml']",2,8d05b14eb3af831e511a7f26958c60751dff1502,stein-em, - version: stein-em projects: - repo: openstack/placement hash: bdcbb2604bcbb195fa6e3a1b504ec2c31531308b,,8,0
openstack%2Freleases~master~If6cd14839a32a1360bac29ef67d822f85b27ca35,openstack/releases,master,If6cd14839a32a1360bac29ef67d822f85b27ca35,[freezer] Transition Stein to EM,MERGED,2020-11-11 18:49:49.000000000,2020-11-19 10:40:50.000000000,2020-11-19 10:40:50.000000000,"[{'_account_id': 11904}, {'_account_id': 13940}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 18:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/762aecf9a6679bdb17527457c3f5d5a5be0ab8cc', 'message': '[freezer] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If6cd14839a32a1360bac29ef67d822f85b27ca35\n'}, {'number': 2, 'created': '2020-11-11 22:16:27.000000000', 'files': ['deliverables/stein/python-freezerclient.yaml', 'deliverables/stein/freezer.yaml', 'deliverables/stein/freezer-web-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/59197d79bfe462deb1db2f16c684ff894e83b5a5', 'message': '[freezer] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: If6cd14839a32a1360bac29ef67d822f85b27ca35\n'}]",1,762381,59197d79bfe462deb1db2f16c684ff894e83b5a5,13,5,2,17685,,,0,"[freezer] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: If6cd14839a32a1360bac29ef67d822f85b27ca35
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/762381/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-freezerclient.yaml', 'deliverables/stein/freezer.yaml', 'deliverables/stein/freezer-web-ui.yaml', 'deliverables/stein/freezer-tempest-plugin.yaml']",4,762aecf9a6679bdb17527457c3f5d5a5be0ab8cc,stein-em, - version: stein-em projects: - repo: openstack/freezer-tempest-plugin hash: 0f2b0e9a8424e50adca10fdfa64359f6df93c569,,20,0
openstack%2Freleases~master~I35a7b38ddb403f22f25c8229913436e22457758f,openstack/releases,master,I35a7b38ddb403f22f25c8229913436e22457758f,[designate] Transition Stein to EM,MERGED,2020-11-11 18:32:38.000000000,2020-11-19 10:40:48.000000000,2020-11-19 10:40:48.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 18:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8bfa2877f7d7c1cd393d70e58ce180ef4273014a', 'message': '[designate] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I35a7b38ddb403f22f25c8229913436e22457758f\n'}, {'number': 2, 'created': '2020-11-11 19:52:29.000000000', 'files': ['deliverables/stein/python-designateclient.yaml', 'deliverables/stein/designate.yaml', 'deliverables/stein/designate-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bb630fec7140a47fddf73816358e9ee234066442', 'message': '[designate] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I35a7b38ddb403f22f25c8229913436e22457758f\n'}]",2,762379,bb630fec7140a47fddf73816358e9ee234066442,14,5,2,17685,,,0,"[designate] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I35a7b38ddb403f22f25c8229913436e22457758f
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/762379/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-designateclient.yaml', 'deliverables/stein/designate.yaml', 'deliverables/stein/designate-dashboard.yaml', 'deliverables/stein/designate-tempest-plugin.yaml']",4,8bfa2877f7d7c1cd393d70e58ce180ef4273014a,stein-em, - version: stein-em projects: - repo: openstack/designate-tempest-plugin hash: c1708fc0c878ea3fa544454c7e96c58581478853,,16,0
openstack%2Freleases~master~I0a6846a7d486878caa454de110d3dd4b7ac2104c,openstack/releases,master,I0a6846a7d486878caa454de110d3dd4b7ac2104c,[vitrage] Transition Stein to EM,MERGED,2020-11-11 21:16:16.000000000,2020-11-19 10:40:46.000000000,2020-11-19 10:40:46.000000000,"[{'_account_id': 11904}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/10896ec4f1fa93a7347f69cf51997059e6985b9a', 'message': '[vitrage] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0a6846a7d486878caa454de110d3dd4b7ac2104c\n'}, {'number': 2, 'created': '2020-11-11 23:06:53.000000000', 'files': ['deliverables/stein/python-vitrageclient.yaml', 'deliverables/stein/vitrage-dashboard.yaml', 'deliverables/stein/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2bbb843455d38851fddbe8a4f703100ed5950a2e', 'message': '[vitrage] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0a6846a7d486878caa454de110d3dd4b7ac2104c\n'}]",0,762427,2bbb843455d38851fddbe8a4f703100ed5950a2e,16,4,2,17685,,,0,"[vitrage] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I0a6846a7d486878caa454de110d3dd4b7ac2104c
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/762427/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-vitrageclient.yaml', 'deliverables/stein/vitrage-dashboard.yaml', 'deliverables/stein/vitrage-tempest-plugin.yaml', 'deliverables/stein/vitrage.yaml']",4,10896ec4f1fa93a7347f69cf51997059e6985b9a,stein-em, - version: stein-em projects: - repo: openstack/vitrage hash: c3aaf5042f3ea33ddc66d093f63c3fe826f167ff,,16,0
openstack%2Freleases~master~I44c7893443654e312abfec74cf93966ceedd4be2,openstack/releases,master,I44c7893443654e312abfec74cf93966ceedd4be2,[watcher] Transition Stein to EM,MERGED,2020-11-11 21:17:26.000000000,2020-11-19 10:40:43.000000000,2020-11-19 10:40:43.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 21:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b6d63e2df429c3ba1702556f7853110a51e0ecd7', 'message': '[watcher] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I44c7893443654e312abfec74cf93966ceedd4be2\n'}, {'number': 2, 'created': '2020-11-11 23:11:53.000000000', 'files': ['deliverables/stein/watcher.yaml', 'deliverables/stein/python-watcherclient.yaml', 'deliverables/stein/watcher-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c7c145dcc5680938d62004cbfad5fcf343b2be9a', 'message': '[watcher] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I44c7893443654e312abfec74cf93966ceedd4be2\n'}]",0,762428,c7c145dcc5680938d62004cbfad5fcf343b2be9a,14,5,2,17685,,,0,"[watcher] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I44c7893443654e312abfec74cf93966ceedd4be2
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/762428/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/watcher.yaml', 'deliverables/stein/watcher-tempest-plugin.yaml', 'deliverables/stein/python-watcherclient.yaml', 'deliverables/stein/watcher-dashboard.yaml']",4,b6d63e2df429c3ba1702556f7853110a51e0ecd7,stein-em, - version: stein-em projects: - repo: openstack/watcher-dashboard hash: 50437a47e418beff01038d92eed2d65714e50137,,16,0
openstack%2Freleases~master~I8311567a5b4a2af6cbf7eee5a83cbef87a6296bd,openstack/releases,master,I8311567a5b4a2af6cbf7eee5a83cbef87a6296bd,[glance] Transition Stein to EM,MERGED,2020-11-11 18:52:03.000000000,2020-11-19 10:40:40.000000000,2020-11-19 10:40:40.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 18:52:03.000000000', 'files': ['deliverables/stein/python-glanceclient.yaml', 'deliverables/stein/glance-store.yaml', 'deliverables/stein/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fe83739ddf4abb35dd1ab76510abc761c9c7f91b', 'message': '[glance] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I8311567a5b4a2af6cbf7eee5a83cbef87a6296bd\n'}]",1,762382,fe83739ddf4abb35dd1ab76510abc761c9c7f91b,12,5,1,17685,,,0,"[glance] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I8311567a5b4a2af6cbf7eee5a83cbef87a6296bd
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/762382/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-glanceclient.yaml', 'deliverables/stein/glance-store.yaml', 'deliverables/stein/glance.yaml']",3,fe83739ddf4abb35dd1ab76510abc761c9c7f91b,stein-em, - version: stein-em projects: - repo: openstack/glance hash: 149ea050cc58f39eaf9b4660bb8f0271b99d03da,,12,0
openstack%2Freleases~master~I30af6f079d1c2f2bdaf84b347fe028417c972bd0,openstack/releases,master,I30af6f079d1c2f2bdaf84b347fe028417c972bd0,New bugfix release for castellan for ussuri.,MERGED,2020-11-16 09:54:35.000000000,2020-11-19 10:40:36.000000000,2020-11-19 10:40:36.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-16 09:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d0cf4c9a03fc023defd21c973789bf1883ae9516', 'message': ""New bugfix release for castellan for ussuri.\n\nUse 'barbican_endpoint_type'config option to get endpoint from catalog.\n\nChange-Id: I30af6f079d1c2f2bdaf84b347fe028417c972bd0\n""}, {'number': 2, 'created': '2020-11-19 09:39:06.000000000', 'files': ['deliverables/ussuri/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4618017190f1d09f4058ba4a7df29470971dd6d2', 'message': ""New bugfix release for castellan for ussuri.\n\nUse 'barbican_endpoint_type'config option to get endpoint from catalog.\n\nChange-Id: I30af6f079d1c2f2bdaf84b347fe028417c972bd0\n""}]",0,762808,4618017190f1d09f4058ba4a7df29470971dd6d2,10,4,2,31245,,,0,"New bugfix release for castellan for ussuri.

Use 'barbican_endpoint_type'config option to get endpoint from catalog.

Change-Id: I30af6f079d1c2f2bdaf84b347fe028417c972bd0
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/762808/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/castellan.yaml'],1,d0cf4c9a03fc023defd21c973789bf1883ae9516,, - version: 3.0.3 projects: - repo: openstack/castellan hash: e8a9ce74395e8dd7329941527b6b2772c8933567,,4,0
openstack%2Freleases~master~I5f912dd0b2ea5e45ea30a981ee86d9a6ca785671,openstack/releases,master,I5f912dd0b2ea5e45ea30a981ee86d9a6ca785671,nova: Release Victoria 22.0.1,MERGED,2020-11-16 14:43:43.000000000,2020-11-19 10:40:35.000000000,2020-11-19 10:40:34.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 14:43:43.000000000', 'files': ['deliverables/victoria/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5121f611cce6f5611723ecf87869ade56dd28934', 'message': ""nova: Release Victoria 22.0.1\n\n$ git log --oneline --no-merges 22.0.0..HEAD\n059d53d4c3 Modify glance's copy_image permission for nova-ceph-multistore\nd8b8a8193b Update pci stat pools based on PCI device changes\na06e27592f Fix the compute RPC 5.12 issue\n239ffff2ab Add a regression test for 5.12 compute API issue\na919cc0cbd [doc]: Fix glance image_metadata link\n048a3337a8 libvirt: Only ask tpool.Proxy to autowrap vir* classes\n115fe350ad Fix virsh domifstat to get vhostuser vif statistics\n45a4110d20 Handle disabled CPU features to fix live migration failures\nfd7c66f61c libvirt: 'video.vram' property must be an integer\nf1e4f6b078 Follow up for cherry-pick check for merge patch\n4819f694b2 libvirt: Increase incremental and max sleep time during device detach\n7baca2b1d1 [stable-only] Update TOX_CONSTRAINTS_FILE for stable/victoria\nf74f6efb1a [stable-only] Update .gitreview for stable/victoria\n\nChange-Id: I5f912dd0b2ea5e45ea30a981ee86d9a6ca785671\n""}]",3,762851,5121f611cce6f5611723ecf87869ade56dd28934,12,7,1,17685,,,0,"nova: Release Victoria 22.0.1

$ git log --oneline --no-merges 22.0.0..HEAD
059d53d4c3 Modify glance's copy_image permission for nova-ceph-multistore
d8b8a8193b Update pci stat pools based on PCI device changes
a06e27592f Fix the compute RPC 5.12 issue
239ffff2ab Add a regression test for 5.12 compute API issue
a919cc0cbd [doc]: Fix glance image_metadata link
048a3337a8 libvirt: Only ask tpool.Proxy to autowrap vir* classes
115fe350ad Fix virsh domifstat to get vhostuser vif statistics
45a4110d20 Handle disabled CPU features to fix live migration failures
fd7c66f61c libvirt: 'video.vram' property must be an integer
f1e4f6b078 Follow up for cherry-pick check for merge patch
4819f694b2 libvirt: Increase incremental and max sleep time during device detach
7baca2b1d1 [stable-only] Update TOX_CONSTRAINTS_FILE for stable/victoria
f74f6efb1a [stable-only] Update .gitreview for stable/victoria

Change-Id: I5f912dd0b2ea5e45ea30a981ee86d9a6ca785671
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/762851/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/nova.yaml'],1,5121f611cce6f5611723ecf87869ade56dd28934,nova-victoria-22.0.1, - version: 22.0.1 projects: - repo: openstack/nova hash: a806b1dc4c578f4a53a6c13317b04eb028861301,,4,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I8a08f1c411c243c4d1cb6efd0e82de67a5151197,openstack/kolla-ansible,stable/victoria,I8a08f1c411c243c4d1cb6efd0e82de67a5151197,kibana: Remove 6.x migration from upgrade,MERGED,2020-11-18 16:37:04.000000000,2020-11-19 10:37:26.000000000,2020-11-19 10:35:59.000000000,"[{'_account_id': 10594}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-11-18 16:37:04.000000000', 'files': ['ansible/roles/kibana/tasks/migrate-kibana-index.yml', 'ansible/roles/kibana/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e492b580ac419281443c3f25cbcf582073712353', 'message': 'kibana: Remove 6.x migration from upgrade\n\nThis was required in Train and Ussuri for the 5.x to 6.x upgrade, but is\nno longer necessary.\n\nChange-Id: I8a08f1c411c243c4d1cb6efd0e82de67a5151197\n(cherry picked from commit 7020f9602981d745eb8ebe9cfb88127c834f6400)\n'}]",0,763214,e492b580ac419281443c3f25cbcf582073712353,10,4,1,14826,,,0,"kibana: Remove 6.x migration from upgrade

This was required in Train and Ussuri for the 5.x to 6.x upgrade, but is
no longer necessary.

Change-Id: I8a08f1c411c243c4d1cb6efd0e82de67a5151197
(cherry picked from commit 7020f9602981d745eb8ebe9cfb88127c834f6400)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/763214/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kibana/tasks/migrate-kibana-index.yml', 'ansible/roles/kibana/tasks/upgrade.yml']",2,e492b580ac419281443c3f25cbcf582073712353,,,- import_tasks: migrate-kibana-index.yml ,0,113
openstack%2Fkayobe~master~I79b0d63a283b56a12b5acd3aaa740a6be3c3cb6f,openstack/kayobe,master,I79b0d63a283b56a12b5acd3aaa740a6be3c3cb6f,Update master for stable/victoria,MERGED,2020-11-18 17:17:43.000000000,2020-11-19 10:30:12.000000000,2020-11-19 10:28:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:17:43.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/da6debd3b968e76713853026a256f41a7f97ce94', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: I79b0d63a283b56a12b5acd3aaa740a6be3c3cb6f\nSem-Ver: feature\n'}]",0,763221,da6debd3b968e76713853026a256f41a7f97ce94,8,3,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: I79b0d63a283b56a12b5acd3aaa740a6be3c3cb6f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/21/763221/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,da6debd3b968e76713853026a256f41a7f97ce94,reno-victoria, victoria,,7,0
openstack%2Fansible-collections-openstack~master~I3044f97465b6b483ea91333bb41421a89343139a,openstack/ansible-collections-openstack,master,I3044f97465b6b483ea91333bb41421a89343139a,Migrating routers_info from AnsibleModule to OpenStackModule,ABANDONED,2020-11-18 11:15:07.000000000,2020-11-19 10:29:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-18 11:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dec12e030634a7ff537e8fce54553c8c5922915a', 'message': 'Migrating routers_info from AnsibleModule to OpenStackModule\n\nChange-Id: I3044f97465b6b483ea91333bb41421a89343139a\n'}, {'number': 2, 'created': '2020-11-18 11:28:18.000000000', 'files': ['plugins/modules/routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/809c8836e6d2ef8fa189a9550269f0b4bac7c2f2', 'message': 'Migrating routers_info from AnsibleModule to OpenStackModule\n\nChange-Id: I3044f97465b6b483ea91333bb41421a89343139a\n'}]",0,763162,809c8836e6d2ef8fa189a9550269f0b4bac7c2f2,4,1,2,32458,,,0,"Migrating routers_info from AnsibleModule to OpenStackModule

Change-Id: I3044f97465b6b483ea91333bb41421a89343139a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/62/763162/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/routers_info.py'],1,dec12e030634a7ff537e8fce54553c8c5922915a,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class RouterInfoModule(OpenStackModule): argument_spec = dict( def run(self): kwargs = self.check_versioned( filters=self.params['filters'] ) if self.params['name']: kwargs['name_or_id'] = self.params['name'] routers = self.conn.search_routers(**kwargs) for port in self.conn.list_router_interfaces(router): self.exit(changed=False, openstack_routers=routers) def main(): module = RouterInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec, openstack_cloud_from_module def main(): argument_spec = openstack_full_argument_spec( module = AnsibleModule(argument_spec) sdk, cloud = openstack_cloud_from_module(module) try: routers = cloud.search_routers(module.params['name'], module.params['filters']) for port in cloud.list_router_interfaces(router): module.exit_json(changed=False, openstack_routers=routers) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",18,13
openstack%2Fneutron~master~I360ba1d074ecfac66f52656b61b5c27db72e9d26,openstack/neutron,master,I360ba1d074ecfac66f52656b61b5c27db72e9d26,"Add missing ""process_name"" argument on Windows",MERGED,2020-11-18 11:05:53.000000000,2020-11-19 10:28:17.000000000,2020-11-19 10:25:54.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-18 11:05:53.000000000', 'files': ['neutron/agent/windows/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/77db2cf7bd383b224b8f98b2aafd20571d055c79', 'message': 'Add missing ""process_name"" argument on Windows\n\nA recent change [1] added a ""process_name"" argument to the\n""pid_invoked_with_cmdline"" function. The Windows version wasn\'t\nupdated, so the ovs agent is now failing [2].\n\nThis change adds the missing argument to the Windows\n""pid_invoked_with_cmdline"" function.\n\n[1] If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61\n[2] http://paste.openstack.org/raw/800146/\n\nChange-Id: I360ba1d074ecfac66f52656b61b5c27db72e9d26\n'}]",1,763159,77db2cf7bd383b224b8f98b2aafd20571d055c79,11,6,1,8543,,,0,"Add missing ""process_name"" argument on Windows

A recent change [1] added a ""process_name"" argument to the
""pid_invoked_with_cmdline"" function. The Windows version wasn't
updated, so the ovs agent is now failing [2].

This change adds the missing argument to the Windows
""pid_invoked_with_cmdline"" function.

[1] If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61
[2] http://paste.openstack.org/raw/800146/

Change-Id: I360ba1d074ecfac66f52656b61b5c27db72e9d26
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/763159/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/windows/utils.py'],1,77db2cf7bd383b224b8f98b2aafd20571d055c79,,"def pid_invoked_with_cmdline(pid, expected_cmd, process_name=None):","def pid_invoked_with_cmdline(pid, expected_cmd):",1,1
openstack%2Fopenstack-ansible-os_neutron~master~I539dfd90576b34693eb8e7aef9f97e64739700ae,openstack/openstack-ansible-os_neutron,master,I539dfd90576b34693eb8e7aef9f97e64739700ae,Add neutron_keepalived_no_track variable,MERGED,2020-09-22 08:43:59.000000000,2020-11-19 10:22:10.000000000,2020-09-22 13:29:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-09-22 08:43:59.000000000', 'files': ['templates/l3_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/24d64bbd52a11d82c8891f2bc77e666b7ddd35d1', 'message': 'Add neutron_keepalived_no_track variable\n\nUntil neutron bug is not fixed, we should control whether to use no_track\nfor keepalived or not, based on the distro version\nWe should probably rollback it once upstream bug got fixed and bumped.\n\nChange-Id: I539dfd90576b34693eb8e7aef9f97e64739700ae\nRelated-Bug: #1896506\n'}]",0,753252,24d64bbd52a11d82c8891f2bc77e666b7ddd35d1,9,3,1,28619,,,0,"Add neutron_keepalived_no_track variable

Until neutron bug is not fixed, we should control whether to use no_track
for keepalived or not, based on the distro version
We should probably rollback it once upstream bug got fixed and bumped.

Change-Id: I539dfd90576b34693eb8e7aef9f97e64739700ae
Related-Bug: #1896506
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/52/753252/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/l3_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml']",4,24d64bbd52a11d82c8891f2bc77e666b7ddd35d1,bug/1896506,"# Enable/disable no_track for keepalived (available for keepalived >2.0) # NOTE(noonedeadpunk): Is is done until the merge and backport of the fix for # https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/1896506 neutron_keepalived_no_track: ""{{ _neutron_keepalived_no_track | default(True) }}"" ",,11,0
openstack%2Fcyborg-tempest-plugin~master~Id120869cbfa902849eed217cec4386eea2e6b1e6,openstack/cyborg-tempest-plugin,master,Id120869cbfa902849eed217cec4386eea2e6b1e6,move device profile data to cyborg_data file,MERGED,2020-11-03 09:32:33.000000000,2020-11-19 10:20:43.000000000,2020-11-19 10:20:43.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-11-03 09:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/412d5d1e386b57aa726196f8a50cb9f24bfa4e2e', 'message': 'move device profile data to cyborg_data file\n\nmova testcase device profile data to cyborg_data file\n\nChange-Id: Id120869cbfa902849eed217cec4386eea2e6b1e6\n'}, {'number': 2, 'created': '2020-11-03 10:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/5737d7dec634d9d5f62667ecabbe6697f887ce37', 'message': 'move device profile data to cyborg_data file\n\nmova testcase device profile data to cyborg_data file\n\nChange-Id: Id120869cbfa902849eed217cec4386eea2e6b1e6\n'}, {'number': 3, 'created': '2020-11-04 08:41:03.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/services/cyborg_data.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/2818814224f335664527a2612b2cb9fc325c1319', 'message': 'move device profile data to cyborg_data file\n\nmova testcase device profile data to cyborg_data file\n\nChange-Id: Id120869cbfa902849eed217cec4386eea2e6b1e6\n'}]",1,761102,2818814224f335664527a2612b2cb9fc325c1319,12,3,3,30409,,,0,"move device profile data to cyborg_data file

mova testcase device profile data to cyborg_data file

Change-Id: Id120869cbfa902849eed217cec4386eea2e6b1e6
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/02/761102/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/services/cyborg_data.py']",2,412d5d1e386b57aa726196f8a50cb9f24bfa4e2e,," BATCH_DELETE_DEVICE_PROFILE_DATA1 = [{ ""name"": ""afaas_example_1"", ""groups"": [ { ""resources:FPGA"": ""1"", ""trait:CUSTOM_FPGA_1"": ""required"", ""trait:CUSTOM_FUNCTION_ID_3AFB"": ""required"", }] }] BATCH_DELETE_DEVICE_PROFILE_DATA2 = [{ ""name"": ""afaas_example_2"", ""groups"": [ { ""resources:FPGA"": ""1"", ""trait:CUSTOM_FPGA_1"": ""required"", ""trait:CUSTOM_FUNCTION_ID_3AFB"": ""required"", }] }]",,23,28
openstack%2Fcyborg-tempest-plugin~master~I20517885f8aea6d47bc655ed3a7948f131e9ee25,openstack/cyborg-tempest-plugin,master,I20517885f8aea6d47bc655ed3a7948f131e9ee25,add create accelerator request api test,MERGED,2020-11-03 11:47:10.000000000,2020-11-19 10:09:43.000000000,2020-11-19 10:09:43.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-11-03 11:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/0e79bd10c89bc4b39704d1b4c3077d63fd74a155', 'message': 'add create accelerator request api test\n\nadd create accelerator request api testcase\n\nChange-Id: I20517885f8aea6d47bc655ed3a7948f131e9ee25\n'}, {'number': 2, 'created': '2020-11-04 01:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/1a6e060cf04613678656c7b3d0246155f7acad34', 'message': 'add create accelerator request api test\n\nadd create accelerator request api testcase\n\nChange-Id: I20517885f8aea6d47bc655ed3a7948f131e9ee25\n'}, {'number': 3, 'created': '2020-11-04 01:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/0a30cf96eb9909a55346d90e9df808e862090255', 'message': 'add create accelerator request api test\n\nadd create accelerator request api testcase in test file\n\nChange-Id: I20517885f8aea6d47bc655ed3a7948f131e9ee25\n'}, {'number': 4, 'created': '2020-11-04 02:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/d622d47cf34b8953d1cbd1e4f75b990a56269e9e', 'message': 'add create accelerator request api test\n\nadd create accelerator request api testcase in test file\n\nChange-Id: I20517885f8aea6d47bc655ed3a7948f131e9ee25\n'}, {'number': 5, 'created': '2020-11-04 08:38:44.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_accelerator_request.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/fa95dbcf288d0249e99a5332f72d35dacc19227d', 'message': 'add create accelerator request api test\n\nadd create accelerator request api testcase in test file\n\nChange-Id: I20517885f8aea6d47bc655ed3a7948f131e9ee25\n'}]",1,761121,fa95dbcf288d0249e99a5332f72d35dacc19227d,16,3,5,30409,,,0,"add create accelerator request api test

add create accelerator request api testcase in test file

Change-Id: I20517885f8aea6d47bc655ed3a7948f131e9ee25
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/21/761121/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_accelerator_request.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py']",2,0e79bd10c89bc4b39704d1b4c3077d63fd74a155,," AR_URL = '/accelerator_requests' def create_accelerator_request(self, body): body = json.dump_as_bytes(body) resp, body = self.post(self.AR_URL, body=body) return self._response_helper(resp, body) def delete_accelerator_request(self, accelerator_request_uuid): url = self.AR_URL + ""?arqs="" + accelerator_request_uuid resp, body = self.delete(url) return self._response_helper(resp, body) ",,50,0
openstack%2Ftempest~master~I118e2aeb0309e6236e41ea90091c695f3259f340,openstack/tempest,master,I118e2aeb0309e6236e41ea90091c695f3259f340,DNM - Test tempest.scenario.test_shelve_instance,ABANDONED,2020-11-19 09:21:19.000000000,2020-11-19 09:22:35.000000000,,[],"[{'number': 1, 'created': '2020-11-19 09:21:19.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/tempest/commit/43048fd85d8f439897008529e0490e1e9fe2be86', 'message': 'DNM - Test tempest.scenario.test_shelve_instance\n\nChange-Id: I118e2aeb0309e6236e41ea90091c695f3259f340\nDepends-On: https://review.opendev.org/#/c/752463/\n'}]",0,763324,43048fd85d8f439897008529e0490e1e9fe2be86,2,0,1,10135,,,0,"DNM - Test tempest.scenario.test_shelve_instance

Change-Id: I118e2aeb0309e6236e41ea90091c695f3259f340
Depends-On: https://review.opendev.org/#/c/752463/
",git fetch https://review.opendev.org/openstack/tempest refs/changes/24/763324/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,43048fd85d8f439897008529e0490e1e9fe2be86,,,,0,0
openstack%2Fsushy-tools~master~Ibf420dc3324b00548f55e4efd8610a61ded10dd3,openstack/sushy-tools,master,Ibf420dc3324b00548f55e4efd8610a61ded10dd3,Allow setting debug mode from command line,MERGED,2020-11-17 18:30:04.000000000,2020-11-19 09:20:23.000000000,2020-11-19 09:18:47.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 18:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/143b909171f277a27073c1a5137f3c6a3e3a96e5', 'message': 'Allow setting debug mode from command line\n\nAdds a --debug option to enable debug mode when running the\nsushy-emulator.\nThis should simplify debugging and development.\n\nChange-Id: Ibf420dc3324b00548f55e4efd8610a61ded10dd3\n'}, {'number': 2, 'created': '2020-11-17 18:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1b1e5ffd144de488a9ceff369cf28a0a1f1f344c', 'message': 'Allow setting debug mode from command line\n\nAdds a --debug option to enable debug mode when running the\nsushy-emulator.\nThis should simplify debugging and development.\n\nChange-Id: Ibf420dc3324b00548f55e4efd8610a61ded10dd3\n'}, {'number': 3, 'created': '2020-11-17 18:35:03.000000000', 'files': ['sushy_tools/emulator/main.py', 'releasenotes/notes/debug-mode-0dccdc3702c0590e.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e7dbba93f19b1b7aaf936896b3be5ede2a024cab', 'message': 'Allow setting debug mode from command line\n\nAdds a --debug option to the command-line that enables debug mode\nwhen running the sushy-emulator.\nThis should simplify debugging and development.\n\nChange-Id: Ibf420dc3324b00548f55e4efd8610a61ded10dd3\n'}]",0,763068,e7dbba93f19b1b7aaf936896b3be5ede2a024cab,10,3,3,23851,,,0,"Allow setting debug mode from command line

Adds a --debug option to the command-line that enables debug mode
when running the sushy-emulator.
This should simplify debugging and development.

Change-Id: Ibf420dc3324b00548f55e4efd8610a61ded10dd3
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/68/763068/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'releasenotes/notes/debug-mode-0dccdc3702c0590e.yaml']",2,143b909171f277a27073c1a5137f3c6a3e3a96e5,debug-option,--- features: - | Adds an option --debug to enable debug mode when running sushy-emulator. ,,9,0
openstack%2Frequirements~master~Ice33fa57916e3346f0cc5606470645d7448f2f53,openstack/requirements,master,Ice33fa57916e3346f0cc5606470645d7448f2f53,update constraint for ovsdbapp to new release 1.7.0,MERGED,2020-11-18 17:52:55.000000000,2020-11-19 09:10:06.000000000,2020-11-19 09:07:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-18 17:52:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6114b61a1164d0c7e37f68c0451bb8aabdb1f56f', 'message': 'update constraint for ovsdbapp to new release 1.7.0\n\nChange-Id: Ice33fa57916e3346f0cc5606470645d7448f2f53\nmeta:version: 1.7.0\nmeta:diff-start: -\nmeta:series: wallaby\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Jakub Libosvar <libosvar@redhat.com>\nmeta:release:Commit: Jakub Libosvar <libosvar@redhat.com>\nmeta:release:Change-Id: I69b042bc6ea73ffc520009c11afd5adedc8bc0a5\nmeta:release:Code-Review+1: Terry Wilson <twilson@redhat.com>\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,763236,6114b61a1164d0c7e37f68c0451bb8aabdb1f56f,10,4,1,11131,,,0,"update constraint for ovsdbapp to new release 1.7.0

Change-Id: Ice33fa57916e3346f0cc5606470645d7448f2f53
meta:version: 1.7.0
meta:diff-start: -
meta:series: wallaby
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Jakub Libosvar <libosvar@redhat.com>
meta:release:Commit: Jakub Libosvar <libosvar@redhat.com>
meta:release:Change-Id: I69b042bc6ea73ffc520009c11afd5adedc8bc0a5
meta:release:Code-Review+1: Terry Wilson <twilson@redhat.com>
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/763236/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6114b61a1164d0c7e37f68c0451bb8aabdb1f56f,new-release,ovsdbapp===1.7.0,ovsdbapp===1.6.0,1,1
openstack%2Fneutron~master~I94545c3c3d9be46ac2062691f69663e5e59cd648,openstack/neutron,master,I94545c3c3d9be46ac2062691f69663e5e59cd648,Remove deprecated use_veth_interconnection option,MERGED,2020-10-27 20:58:22.000000000,2020-11-19 09:09:43.000000000,2020-11-19 09:07:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-10-27 20:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a185b6dd0a0a38b710730601b8bd35474e4564a5', 'message': ""Remove deprecated use_veth_interconnection option\n\nUsing veth to interconnect openvswitch bridges was deprecated\nin Victoria cycle. Now it's time to remove it from the code.\n\nIn neutron-ovs-agent code, there is still kept piece of code which\nmigrates from the veth to the patch ports for bridges interconnection.\nWe will be able to remove that piece of code in X release.\n\nChange-Id: I94545c3c3d9be46ac2062691f69663e5e59cd648\nCloses-Bug: #1587296\n""}, {'number': 2, 'created': '2020-10-28 11:57:39.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'doc/source/contributor/internals/openvswitch_agent.rst', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/cmd/sanity_check.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d60febb2d3e141d03f033ac81136ba71922613a0', 'message': ""Remove deprecated use_veth_interconnection option\n\nUsing veth to interconnect openvswitch bridges was deprecated\nin Victoria cycle. Now it's time to remove it from the code.\n\nIn neutron-ovs-agent code, there is still kept piece of code which\nmigrates from the veth to the patch ports for bridges interconnection.\nWe will be able to remove that piece of code in X release.\n\nChange-Id: I94545c3c3d9be46ac2062691f69663e5e59cd648\nCloses-Bug: #1587296\n""}]",0,759947,d60febb2d3e141d03f033ac81136ba71922613a0,53,11,2,11975,,,0,"Remove deprecated use_veth_interconnection option

Using veth to interconnect openvswitch bridges was deprecated
in Victoria cycle. Now it's time to remove it from the code.

In neutron-ovs-agent code, there is still kept piece of code which
migrates from the veth to the patch ports for bridges interconnection.
We will be able to remove that piece of code in X release.

Change-Id: I94545c3c3d9be46ac2062691f69663e5e59cd648
Closes-Bug: #1587296
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/759947/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'doc/source/contributor/internals/openvswitch_agent.rst', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/cmd/sanity_check.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",6,a185b6dd0a0a38b710730601b8bd35474e4564a5,bug/1587296,," def test_setup_physical_bridges_using_veth_interconnection(self): self.agent.use_veth_interconnection = True with mock.patch.object(ip_lib.IPDevice, ""exists"") as devex_fn,\ mock.patch.object(sys, ""exit""),\ mock.patch.object(utils, ""execute"") as utilsexec_fn,\ mock.patch.object(self.agent, 'br_phys_cls') as phys_br_cls,\ mock.patch.object(self.agent, 'int_br') as int_br,\ mock.patch.object(self.agent, '_check_bridge_datapath_id'),\ mock.patch.object(ip_lib.IPWrapper, ""add_veth"") as addveth_fn,\ mock.patch.object(ip_lib.IpLinkCommand, ""delete"") as linkdel_fn,\ mock.patch.object(ip_lib.IpLinkCommand, ""set_up""),\ mock.patch.object(ip_lib.IpLinkCommand, ""set_mtu""),\ mock.patch.object(ovs_lib.BaseOVS, ""get_bridges"") as get_br_fn: devex_fn.return_value = True parent = mock.MagicMock() parent.attach_mock(utilsexec_fn, 'utils_execute') parent.attach_mock(linkdel_fn, 'link_delete') parent.attach_mock(addveth_fn, 'add_veth') addveth_fn.return_value = (ip_lib.IPDevice(""int-br-eth1""), ip_lib.IPDevice(""phy-br-eth1"")) phys_br = phys_br_cls() phys_br.add_port.return_value = ""phys_veth_ofport"" int_br.add_port.return_value = ""int_veth_ofport"" get_br_fn.return_value = [""br-eth""] self.agent.setup_physical_bridges({""physnet1"": ""br-eth""}) expected_calls = [mock.call.link_delete(), mock.call.utils_execute(['udevadm', 'settle', '--timeout=10']), mock.call.add_veth('int-br-eth', 'phy-br-eth')] parent.assert_has_calls(expected_calls, any_order=False) self.assertEqual(""int_veth_ofport"", self.agent.int_ofports[""physnet1""]) self.assertEqual(""phys_veth_ofport"", self.agent.phys_ofports[""physnet1""]) int_br.add_port.assert_called_with(""int-br-eth"") phys_br.add_port.assert_called_with(""phy-br-eth"") ",29,242
openstack%2Frequirements~master~I66556228565c4b6a3b8ac63d99bbccdbde79b170,openstack/requirements,master,I66556228565c4b6a3b8ac63d99bbccdbde79b170,update oslo.config to 8.3.3,MERGED,2020-11-19 00:32:22.000000000,2020-11-19 09:08:50.000000000,2020-11-19 09:07:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-19 00:32:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/96d5e43cf51d780bce90eeed1d0b0051e3a92e48', 'message': 'update oslo.config to 8.3.3\n\nChange-Id: I66556228565c4b6a3b8ac63d99bbccdbde79b170\n'}]",0,763290,96d5e43cf51d780bce90eeed1d0b0051e3a92e48,11,3,1,30533,,,0,"update oslo.config to 8.3.3

Change-Id: I66556228565c4b6a3b8ac63d99bbccdbde79b170
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/763290/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,96d5e43cf51d780bce90eeed1d0b0051e3a92e48,bug/oslo.config,oslo.config===8.3.3,oslo.config===8.3.2,1,1
openstack%2Frequirements~stable%2Fvictoria~Ifccdc38160811d2d1097607fa4ed031dc8a59136,openstack/requirements,stable/victoria,Ifccdc38160811d2d1097607fa4ed031dc8a59136,update constraint for oslo.config to new release 8.3.3,MERGED,2020-11-18 17:57:12.000000000,2020-11-19 09:07:20.000000000,2020-11-19 09:07:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:57:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0c6ba9b1ee76e5670d201bed97fa44611b93ba8b', 'message': 'update constraint for oslo.config to new release 8.3.3\n\nChange-Id: Ifccdc38160811d2d1097607fa4ed031dc8a59136\nmeta:version: 8.3.3\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Daniel Bengtsson <dbengt@redhat.com>\nmeta:release:Commit: Daniel Bengtsson <dbengt@redhat.com>\nmeta:release:Change-Id: I6c54381078985a6af2788b9a876cc7f2351cdf21\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,763239,0c6ba9b1ee76e5670d201bed97fa44611b93ba8b,8,3,1,11131,,,0,"update constraint for oslo.config to new release 8.3.3

Change-Id: Ifccdc38160811d2d1097607fa4ed031dc8a59136
meta:version: 8.3.3
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta:release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta:release:Change-Id: I6c54381078985a6af2788b9a876cc7f2351cdf21
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/763239/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0c6ba9b1ee76e5670d201bed97fa44611b93ba8b,new-release,oslo.config===8.3.3,oslo.config===8.3.2,1,1
openstack%2Ftrove~master~Ia38f313a87067f664e11b3f61fb60b6ce584e930,openstack/trove,master,Ia38f313a87067f664e11b3f61fb60b6ce584e930,[API Doc] Support datastore version number,MERGED,2020-11-19 04:39:54.000000000,2020-11-19 08:13:20.000000000,2020-11-19 08:11:50.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 04:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/545d6196fae446e08175c2a1743b820d9f9f9671', 'message': '[API Doc] Support datastore version number\n\nChange-Id: Ia38f313a87067f664e11b3f61fb60b6ce584e930\nStory: 2008358\nTask: 41263\n'}, {'number': 2, 'created': '2020-11-19 06:13:13.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/datastore-version-mgmt-show-response.json', 'api-ref/source/samples/datastore-version-mgmt-list-response.json', 'api-ref/source/samples/datastore-version-mgmt-patch-request.json', 'api-ref/source/samples/datastore-version-show-response.json', 'api-ref/source/samples/datastore-version-create-request.json', 'api-ref/source/samples/datastore-version-list-response.json', 'api-ref/source/datastore-versions.inc', 'api-ref/source/instances.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/19552632f8cc74741aa85deac7384fa7a8e878ab', 'message': '[API Doc] Support datastore version number\n\nChange-Id: Ia38f313a87067f664e11b3f61fb60b6ce584e930\nStory: 2008358\nTask: 41263\n'}]",0,763303,19552632f8cc74741aa85deac7384fa7a8e878ab,9,2,2,6732,,,0,"[API Doc] Support datastore version number

Change-Id: Ia38f313a87067f664e11b3f61fb60b6ce584e930
Story: 2008358
Task: 41263
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/763303/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/datastore-version-mgmt-show-response.json', 'api-ref/source/samples/datastore-version-mgmt-list-response.json', 'api-ref/source/samples/datastore-version-mgmt-patch-request.json', 'api-ref/source/samples/datastore-version-show-response.json', 'api-ref/source/samples/datastore-version-create-request.json', 'api-ref/source/samples/datastore-version-list-response.json', 'api-ref/source/datastore-versions.inc', 'api-ref/source/instances.inc']",9,545d6196fae446e08175c2a1743b820d9f9f9671,ds-version-5-api-doc,volume size and the network the instance is attached to. The service provisions the instance with - datastore.version_number: version_number - datastore.version_number: version_number,volume size and the tenant network ID. The service provisions the instance with,36,11
openstack%2Fdesignate~stable%2Fussuri~I500c932a502db24332aad95c54713b7056bc1df4,openstack/designate,stable/ussuri,I500c932a502db24332aad95c54713b7056bc1df4,fix database sync always get the wrong  value,MERGED,2020-09-29 20:53:59.000000000,2020-11-19 08:04:49.000000000,2020-11-19 08:03:17.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23084}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-09-29 20:53:59.000000000', 'files': ['designate/storage/impl_sqlalchemy/migrate_repo/versions/070_liberty.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9cf3b8ea4867e417f6e2f74b0647b71268b14848', 'message': 'fix database sync always get the wrong  value\n\nwe create a default pool  when exec database sync, and get the\ndefault_pool_id from designate.conf, but we did not register this\nopt before using  it, so we always get the default value which is\nwrong\n\nChange-Id: I500c932a502db24332aad95c54713b7056bc1df4\nCloses-Bug: 1881277\nRelated-Bug: https://bugs.launchpad.net/kolla-ansible/+bug/1855877\n(cherry picked from commit 609437e73deff55e9f5548538f093d01f0addd1b)\n'}]",0,755125,9cf3b8ea4867e417f6e2f74b0647b71268b14848,15,5,1,19298,,,0,"fix database sync always get the wrong  value

we create a default pool  when exec database sync, and get the
default_pool_id from designate.conf, but we did not register this
opt before using  it, so we always get the default value which is
wrong

Change-Id: I500c932a502db24332aad95c54713b7056bc1df4
Closes-Bug: 1881277
Related-Bug: https://bugs.launchpad.net/kolla-ansible/+bug/1855877
(cherry picked from commit 609437e73deff55e9f5548538f093d01f0addd1b)
",git fetch https://review.opendev.org/openstack/designate refs/changes/25/755125/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/impl_sqlalchemy/migrate_repo/versions/070_liberty.py'],1,9cf3b8ea4867e417f6e2f74b0647b71268b14848,,from designate.conf import centralcentral.register_opts(CONF) default_pool_id = CONF['service:central'].default_pool_id, default_pool_id = cfg.CONF['service:central'].default_pool_id,3,1
openstack%2Fneutron-tempest-plugin~master~I448ceb4507c2bf5e4d79d9d08dccd8df590844ef,openstack/neutron-tempest-plugin,master,I448ceb4507c2bf5e4d79d9d08dccd8df590844ef,Consolidate some tempest tests in the neutron-tempest-plugin jobs,MERGED,2020-11-04 14:01:37.000000000,2020-11-19 07:47:14.000000000,2020-11-19 07:47:14.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-04 14:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0c989f8346f46738d30e06a849db918b04281c26', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}, {'number': 2, 'created': '2020-11-05 08:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ee2b3da8137acb51ffb817afdc4fc79545b0e7fb', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}, {'number': 3, 'created': '2020-11-05 08:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8b2fcf883e6ffed023842d2d571182dcbe7a9c98', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}, {'number': 4, 'created': '2020-11-05 08:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/24c7af0be729a2c06709be018fe89486b23fd032', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}, {'number': 5, 'created': '2020-11-05 15:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/24ce369d390d25f6cd7d79cd9a57b7ac0a9ebbb5', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}, {'number': 6, 'created': '2020-11-05 20:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e92c8f75e95a4bd150b82895a1825600f7e0782c', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}, {'number': 7, 'created': '2020-11-09 09:07:51.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/231223ac398eac9672145774f72c549d811e2ac4', 'message': ""Consolidate some tempest tests in the neutron-tempest-plugin jobs\n\nIn the neutron repo we now have jobs like:\n\nneutron-tempest-linuxbridge\nneutron-tempest-iptables_hybrid\n\nwhich runs all network and compute related tests from the tempest\nrepo.\nBut most of those tests are API tests and don't really depend on\nbackend settings, like used L2 agent or firewall driver.\n\nSo I compared list of tests run in those jobs mentioned above and\nin similar neutron-tempest-plugin-scenario jobs and this patch\nis adding two additional test classes from tempest:\n\ntempest.api.compute.servers.test_attach_interfaces\ntempest.api.compute.servers.test_multiple_create\n\nto be run in the neutron-tempest-plugin-scenario jobs.\nWith that, as a next step I will drop\nneutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron\nci config.\nWe will have then 2 less jobs run in CI but coverage should be still the\nsame really as all those tempest api tests are also run in the\nneutron-tempest-multinode-full-py3 job.\n\nChange-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef\n""}]",1,761410,231223ac398eac9672145774f72c549d811e2ac4,39,6,7,11975,,,0,"Consolidate some tempest tests in the neutron-tempest-plugin jobs

In the neutron repo we now have jobs like:

neutron-tempest-linuxbridge
neutron-tempest-iptables_hybrid

which runs all network and compute related tests from the tempest
repo.
But most of those tests are API tests and don't really depend on
backend settings, like used L2 agent or firewall driver.

So I compared list of tests run in those jobs mentioned above and
in similar neutron-tempest-plugin-scenario jobs and this patch
is adding two additional test classes from tempest:

tempest.api.compute.servers.test_attach_interfaces
tempest.api.compute.servers.test_multiple_create

to be run in the neutron-tempest-plugin-scenario jobs.
With that, as a next step I will drop
neutron-tempest-{linuxbridge,iptables_hybrid} jobs from the neutron
ci config.
We will have then 2 less jobs run in CI but coverage should be still the
same really as all those tempest api tests are also run in the
neutron-tempest-multinode-full-py3 job.

Change-Id: I448ceb4507c2bf5e4d79d9d08dccd8df590844ef
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/10/761410/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,0c989f8346f46738d30e06a849db918b04281c26,improve-neutron-ci," tempest_test_regex: ""\ (?:neutron_tempest_plugin\.scenario)| (^tempest.api.compute.servers.test_attach_interfaces)| (^tempest.api.compute.servers.test_multiple_create)""", tempest_test_regex: ^neutron_tempest_plugin\.scenario,4,1
openstack%2Fcyborg~master~I0ef7139ded8f0218f037f1a532744b4d37f441bc,openstack/cyborg,master,I0ef7139ded8f0218f037f1a532744b4d37f441bc,Add project_id description in api_ref,MERGED,2020-10-09 02:26:51.000000000,2020-11-19 07:16:45.000000000,2020-11-19 07:14:46.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-10-09 02:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ece01daa0162cc145a9bdb853899fd7c782a8445', 'message': 'Add project_id description in api_ref\n\nChange-Id: I0ef7139ded8f0218f037f1a532744b4d37f441bc\n'}, {'number': 2, 'created': '2020-11-04 09:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/76df561fa42cf9b037510ac24654a1a9e060533d', 'message': 'Add project_id description in api_ref\n\nProject_id is added for arq, so update the api_ref correspondingly.\n\nChange-Id: I0ef7139ded8f0218f037f1a532744b4d37f441bc\n'}, {'number': 3, 'created': '2020-11-19 01:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/06f205f5afa5e689810bea76602c79324a91d8c6', 'message': 'Add project_id description in api_ref\n\nProject id is added for arq, so update the api_ref correspondingly.\n\ntask: 41290\nstory: 2008375\n\nChange-Id: I0ef7139ded8f0218f037f1a532744b4d37f441bc\n'}, {'number': 4, 'created': '2020-11-19 05:53:51.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/arqs.inc'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a069962852bdabc4b8c2d82c67554385b7d860f2', 'message': 'Add project_id description in api_ref\n\nProject id is added for arq, so update the api_ref correspondingly.\n\ntask: 41290\nstory: 2008375\n\nChange-Id: I0ef7139ded8f0218f037f1a532744b4d37f441bc\n'}]",4,756976,a069962852bdabc4b8c2d82c67554385b7d860f2,16,5,4,31412,,,0,"Add project_id description in api_ref

Project id is added for arq, so update the api_ref correspondingly.

task: 41290
story: 2008375

Change-Id: I0ef7139ded8f0218f037f1a532744b4d37f441bc
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/76/756976/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/arqs.inc']",2,ece01daa0162cc145a9bdb853899fd7c782a8445,, - instance_project_id: instance_project_id_bind_unbind_req ,,9,1
openstack%2Fmistral~master~I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a,openstack/mistral,master,I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a,created a new Api endpoints and added dynamic actions,MERGED,2020-10-01 10:36:03.000000000,2020-11-19 07:02:41.000000000,2020-11-19 07:01:06.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-10-01 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d3135e9df453902d2dc50e249a9d2119587affc9', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 2, 'created': '2020-10-01 13:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/14140de52e57f5a55c57736b6a15a233a88dde8d', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 3, 'created': '2020-10-01 14:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2f6fb1727b368bce7a41dc55b6f956374c16e995', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 4, 'created': '2020-10-13 13:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/993d4769fe000b7694fb13018695adf1f36d855c', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 5, 'created': '2020-10-14 15:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6ce36747465c5842667a19be7c1c8d696f9ac2f9', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 6, 'created': '2020-10-15 14:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a0397211abc31ad08d399b89926ab63652cdde7a', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 7, 'created': '2020-10-19 14:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/631fd03182cc4b3ac707e8abed030498d053b050', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 8, 'created': '2020-10-22 14:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9f4417658401cdef1507aa981eae8648ddba7fd9', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 9, 'created': '2020-10-27 15:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2865864fe8f5e200243f3ee9c55278dbe17ac06a', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 10, 'created': '2020-10-28 14:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/22a93b6d27294fac6f6909a54121aee1cdae2e7d', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 11, 'created': '2020-10-28 15:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/916932bf56888ebc38f2bb1bf414405415e05321', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 12, 'created': '2020-10-28 15:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/37c4627d4a7f1285af75aff52d9d043d0cc51195', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 13, 'created': '2020-10-29 08:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/54d937761fe2394b6be74ca09fbe2fc1dd01b16c', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 14, 'created': '2020-10-29 09:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1ee7c3dfccefaf2314ef28ca3ec51eeb8d3b294a', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 15, 'created': '2020-10-29 10:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2d9ef474ef9dd1b894b04c60b1fd444920bbc34e', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 16, 'created': '2020-10-29 13:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0f5cc3626aa6530b96440a1f17c96a5aa47c1b69', 'message': '(WIP) created a new Api endpoint for action creation\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 17, 'created': '2020-10-29 21:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cdfafa155543f76da4e5711e43850eaff84178a1', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 18, 'created': '2020-11-02 10:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1ac0a053b62d2f6799ec865fdbdf09f22da276e9', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 19, 'created': '2020-11-02 14:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/29c32e55222d59f1b2517c04bcef41a527bd5f75', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 20, 'created': '2020-11-02 15:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0281cc0ef298adb45cf2f3b0c31afc56698a274b', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 21, 'created': '2020-11-03 10:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5112e913788060f45b3df2eaf8661fb285435e9c', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 22, 'created': '2020-11-03 10:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1accbe554034e92b14aa6227d5de2e1305c9a286', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 23, 'created': '2020-11-05 08:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cbd7f755e55cffd2dad9c636bef91777a63d467a', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 24, 'created': '2020-11-05 10:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1c669ce1f639da7905d0db8ec5ac1adf577a2147', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 25, 'created': '2020-11-05 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/36372d5164a41410405d26a4d5bffbb366020254', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 26, 'created': '2020-11-05 15:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1ffa1aadc3ef1ad51a2beb56d7df646087f0b4d3', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 27, 'created': '2020-11-05 15:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c8f7b350444881c5156bd315119388b0b424a362', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 28, 'created': '2020-11-09 08:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4cc1d9070d0684d44c98768213d67c90d44e12a1', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 29, 'created': '2020-11-09 16:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/148925e7d475d2821928ad396b50c1bc838e7481', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 30, 'created': '2020-11-10 10:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d06dd328fd8aaa9a9237be90b2f05bd890f97de5', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 31, 'created': '2020-11-18 10:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/64b89d393ec48216193996c2830741d12b162edf', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamically added actions:\n     these actions are created and used in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 32, 'created': '2020-11-18 10:15:37.000000000', 'files': ['mistral/actions/dynamic_action.py', 'mistral/policies/__init__.py', 'mistral/services/actions.py', 'mistral/policies/code_sources.py', 'mistral/tests/unit/api/v2/test_code_sources.py', 'mistral/api/controllers/v2/root.py', 'mistral/api/controllers/v2/dynamic_action.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/tests/unit/actions/test_dynamic_action_provider.py', 'mistral/api/controllers/v2/resources.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/040_create_actions_new_tables.py', 'mistral/db/v2/api.py', 'mistral/services/dynamic_actions.py', 'mistral/services/code_sources.py', 'mistral/tests/unit/api/v2/test_dynamic_actions.py', 'mistral/api/controllers/v2/code_source.py', 'mistral/db/v2/sqlalchemy/api.py', 'releasenotes/notes/add_dynamic_actions.yaml', 'setup.cfg', 'mistral/policies/dynamic_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9be4f8e11937eef91365fb15b224e28ba14516e5', 'message': 'created a new Api endpoints and added dynamic actions\n\n * added dynamic actions:\n     these actions are created and modified in runtime,\n     each action needs a code source to be imported from and a\n     class name.\n\n - there are 2 new endpoints:\n    - /v2/code_sources/:\n       used to add new code sources to mistral.\n    - /v2/dynamic_actions/:\n      used to add dynamic actions to mistral in runtime\n\n - a new Action provider (DynamicActionProvider) was added:\n    it provides the actions created from the dynamic actions api.\n\nChange-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}]",897,755481,9be4f8e11937eef91365fb15b224e28ba14516e5,73,4,32,30755,,,0,"created a new Api endpoints and added dynamic actions

 * added dynamic actions:
     these actions are created and modified in runtime,
     each action needs a code source to be imported from and a
     class name.

 - there are 2 new endpoints:
    - /v2/code_sources/:
       used to add new code sources to mistral.
    - /v2/dynamic_actions/:
      used to add dynamic actions to mistral in runtime

 - a new Action provider (DynamicActionProvider) was added:
    it provides the actions created from the dynamic actions api.

Change-Id: I9fe8c28ffdef71016d9dc13aea60a288c8ebaa0a
Signed-off-by: ali <ali.abdelal@nokia.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/81/755481/4 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/db/sqlalchemy/migration/alembic_migrations/versions/040_create_actions_new_tables.py', 'mistral/api/controllers/v2/action_new.py', 'mistral/db/v2/api.py', 'mistral/services/actions.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/api/controllers/v2/root.py', 'mistral/db/v2/sqlalchemy/models.py']",7,d3135e9df453902d2dc50e249a9d2119587affc9,,"# this needs a new base class NewActionDefinition(mb.MistralSecureModelBase): """"""Contains info about registered Actions."""""" __tablename__ = 'action_definitions_v3' id = mb.id_column() name = sa.Column(sa.String(200)) src = sa.Column(sa.Text()) version = sa.Column(sa.Integer()), namespace = sa.Column(sa.String(255), nullable=True) # # __table_args__ = ( # sa.UniqueConstraint( # 'name', # 'namespace', # 'project_id'), # sa.Index('%s_project_id' % __tablename__, 'project_id'), # # sa.Index('%s_scope' % __tablename__, 'scope'), # ) class Actions(): """"""Contains info about registered Actions."""""" __tablename__ = 'actions' # Main properties. id = mb.id_column() name = sa.Column(sa.String(200)) # definition_id = sa.Column(sa.String(200)) # foreign key namespace = sa.Column(sa.String(255), nullable=True) scope = sa.Column(sa.String(80), default='private') __table_args__ = ( sa.UniqueConstraint( 'name', 'namespace', 'project_id'), sa.Index('%s_project_id' % __tablename__, 'project_id'), sa.Index('%s_scope' % __tablename__, 'scope'), ) Actions.definition_id = sa.Column( sa.String(36), sa.ForeignKey(NewActionDefinition.id, ondelete='CASCADE'), nullable=False ) ",,240,1
openstack%2Fironic~stable%2Fvictoria~I576c3c85515970262b5e7480913ff7daefa1b539,openstack/ironic,stable/victoria,I576c3c85515970262b5e7480913ff7daefa1b539,Fix incorrect network_data.json location,MERGED,2020-11-13 11:02:57.000000000,2020-11-19 06:57:39.000000000,2020-11-19 06:55:44.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 11:02:57.000000000', 'files': ['ironic/drivers/modules/image_utils.py', 'releasenotes/notes/fix-network-data2-f2600afdcc182dc4.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e92c3dda0c89598a3056673b980e43d60d2f6e4', 'message': 'Fix incorrect network_data.json location\n\nThere is no metadata subdirectory, it goes right into openstack/latest.\n\nChange-Id: I576c3c85515970262b5e7480913ff7daefa1b539\n(cherry picked from commit 3fd513ee1c5d9846b7d44ccd7f591e42a4b88f97)\n'}]",0,762638,1e92c3dda0c89598a3056673b980e43d60d2f6e4,9,4,1,10239,,,0,"Fix incorrect network_data.json location

There is no metadata subdirectory, it goes right into openstack/latest.

Change-Id: I576c3c85515970262b5e7480913ff7daefa1b539
(cherry picked from commit 3fd513ee1c5d9846b7d44ccd7f591e42a4b88f97)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/762638/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_utils.py', 'releasenotes/notes/fix-network-data2-f2600afdcc182dc4.yaml']",2,1e92c3dda0c89598a3056673b980e43d60d2f6e4,fix-network-data2-stable/victoria,--- fixes: - | Fixes incorrect injected network data location when using virtual media. ,,5,2
openstack%2Ftripleo-common~master~I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b,openstack/tripleo-common,master,I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b,Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.,MERGED,2020-11-04 15:21:21.000000000,2020-11-19 06:11:55.000000000,2020-11-19 06:09:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-04 15:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5be63d64d225d1c8619e5cb51f030d5142aa86b9', 'message': 'Add missing ComputeNeutron services into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n'}, {'number': 2, 'created': '2020-11-04 16:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d9f4bd8dfec8d113dc14b2a0ad58fafe1f6a36b', 'message': 'Add missing ComputeNeutron services into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nRelated-Bug: #1898256\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n'}, {'number': 3, 'created': '2020-11-12 10:35:53.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2a5d9856d109ce39f598dc64aeb41e9e4f3304b', 'message': 'Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nRelated-Bug: #1898256\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n'}]",0,761426,d2a5d9856d109ce39f598dc64aeb41e9e4f3304b,34,10,3,26343,,,0,"Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.

When using DVR the Compute roles make use of the services
ComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent
and ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was
missing from the tripleo_containers.yaml.j2 which causes issues at the time
of retrieving the images from the Undercloud registry.

Related-Bug: #1898256
Change-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/761426/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,5be63d64d225d1c8619e5cb51f030d5142aa86b9,, - OS::TripleO::Services::ComputeNeutronMetadataAgent - OS::TripleO::Services::ComputeNeutronCorePlugin,,2,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I543ee77ec38b6429989435122ae0c257d279e507,openstack/puppet-tripleo,stable/train,I543ee77ec38b6429989435122ae0c257d279e507,galera: expose 2-node mode for the galera resource,MERGED,2020-11-16 13:32:39.000000000,2020-11-19 06:10:01.000000000,2020-11-19 06:10:01.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-16 13:32:39.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e9b801d5d4843cb767478567a89aadbeb2d07c7', 'message': 'galera: expose 2-node mode for the galera resource\n\nWhen deploying a 2-node HA overcloud, the galera resource\nagent can be configured to enable a ""2-node mode"" heuristic,\nthat allows it to restart a galera node in the event of a\nnetwork split.\n\nMake this resource agent\'s option available in puppet via\nthe new parameter ""two_node_mode"".\n\nCloses-Bug: #1903051\n\nChange-Id: I543ee77ec38b6429989435122ae0c257d279e507\n(cherry picked from commit 5836bcc15b3e28160b13f25e1022a79002a71dd2)\n(cherry picked from commit 24d0ff54f38a1dc1fcc59e8999b0b55989e12070)\n(cherry picked from commit 7e7aa969b78acd7196cbe993173e26033744fbe2)\n'}]",0,762837,3e9b801d5d4843cb767478567a89aadbeb2d07c7,17,6,1,20778,,,0,"galera: expose 2-node mode for the galera resource

When deploying a 2-node HA overcloud, the galera resource
agent can be configured to enable a ""2-node mode"" heuristic,
that allows it to restart a galera node in the event of a
network split.

Make this resource agent's option available in puppet via
the new parameter ""two_node_mode"".

Closes-Bug: #1903051

Change-Id: I543ee77ec38b6429989435122ae0c257d279e507
(cherry picked from commit 5836bcc15b3e28160b13f25e1022a79002a71dd2)
(cherry picked from commit 24d0ff54f38a1dc1fcc59e8999b0b55989e12070)
(cherry picked from commit 7e7aa969b78acd7196cbe993173e26033744fbe2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/762837/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,3e9b801d5d4843cb767478567a89aadbeb2d07c7,galera-2node-stable/victoria-stable/ussuri-stable/train,"# [*two_node_mode*] # (Optional) Whether to configure the resource agent in special # 2-node cluster mode, to allow recovering from a network partition. # Defaults to false # $two_node_mode = false, if $two_node_mode == true { $two_node_mode_opt = ' two_node_mode=true' } else { $two_node_mode_opt = '' } resource_params => ""log='/var/log/mysql/mysqld.log' additional_parameters='--open-files-limit=${open_files_limit}' enable_creation=true wsrep_cluster_address='gcomm://${galera_nodes}' cluster_host_map='${cluster_host_map_string}'${two_node_mode_opt}"","," resource_params => ""log='/var/log/mysql/mysqld.log' additional_parameters='--open-files-limit=${open_files_limit}' enable_creation=true wsrep_cluster_address='gcomm://${galera_nodes}' cluster_host_map='${cluster_host_map_string}'"",",12,1
openstack%2Foctavia~master~I923accd73e0c9cadc91c115157c576432f428622,openstack/octavia,master,I923accd73e0c9cadc91c115157c576432f428622,Fix load balancers with failed amphora failover,MERGED,2020-11-07 00:31:11.000000000,2020-11-19 06:02:32.000000000,2020-11-19 06:00:22.000000000,"[{'_account_id': 1131}, {'_account_id': 3031}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2020-11-07 00:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b894f4a62afc49fcaa7849f9a9125451b1bf5268', 'message': 'Fix load balancers with failed amphora failover\n\nThis patch is a complement of [1] which we ensure\na fresh lb object, but only for AmpListenersUpdate\nclass.\n\nIt was observed, at least on train and ussuri\ndeployments that multiple failed amphoras were still\nhappening when using session persistence.\n\nThat is fixed and failover works flawless with session\npersistence when we also ensure a fresh lb object on\nAmphoraIndexListenerUpdate class.\n\n[1] https://review.opendev.org/#/c/756597/\n\nChange-Id: I923accd73e0c9cadc91c115157c576432f428622\nStory: 2008099\nTask: 40802\n'}, {'number': 2, 'created': '2020-11-10 02:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/86d813b681d8ddad6119f342a736d09d32fcedae', 'message': 'Fix load balancers with failed amphora failover\n\nThis patch is a complement of [1] which we ensure\na fresh lb object, but only for AmpListenersUpdate\nclass.\n\nIt was observed, at least on train and ussuri\ndeployments that multiple failed amphoras were still\nhappening when using session persistence.\n\nThat is fixed and failover works flawless with session\npersistence when we also ensure a fresh lb object on\nAmphoraIndexListenerUpdate class.\n\n[1] https://review.opendev.org/#/c/756597/\n\nChange-Id: I923accd73e0c9cadc91c115157c576432f428622\nStory: 2008099\nTask: 40802\n'}, {'number': 3, 'created': '2020-11-10 02:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b47a36e692d738da63f13ab6e534b61ef1aef18', 'message': 'Fix load balancers with failed amphora failover\n\nThis patch is a complement of [1] which we ensure\na fresh lb object, but only for AmpListenersUpdate\nclass.\n\nIt was observed, at least on train and ussuri\ndeployments that multiple failed amphoras were still\nhappening when using session persistence.\n\nThat is fixed and failover works flawless with session\npersistence when we also ensure a fresh lb object on\nAmphoraIndexListenerUpdate class.\n\n[1] https://review.opendev.org/#/c/756597/\n\nChange-Id: I923accd73e0c9cadc91c115157c576432f428622\nStory: 2008099\nTask: 40802\n'}, {'number': 4, 'created': '2020-11-10 03:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb0031c4c36eea7e8873d52e9489c7e21db9852d', 'message': 'Fix load balancers with failed amphora failover\n\nThis patch is a complement of [1] which we ensure\na fresh lb object, but only for AmpListenersUpdate\nclass.\n\nIt was observed, at least on train and ussuri\ndeployments that multiple failed amphoras were still\nhappening when using session persistence.\n\nThat is fixed and failover works flawless with session\npersistence when we also ensure a fresh lb object on\nAmphoraIndexListenerUpdate class.\n\n[1] https://review.opendev.org/#/c/756597/\n\nChange-Id: I923accd73e0c9cadc91c115157c576432f428622\nStory: 2008099\nTask: 40802\n'}, {'number': 5, 'created': '2020-11-10 12:59:58.000000000', 'files': ['octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f96251c74275ac44a8ac20ff23a0f6c850af44f5', 'message': 'Fix load balancers with failed amphora failover\n\nThis patch is a complement of [1] which we ensure\na fresh lb object, but only for AmpListenersUpdate\nclass.\n\nIt was observed, at least on train and ussuri\ndeployments that multiple failed amphoras were still\nhappening when using session persistence.\n\nThat is fixed and failover works flawless with session\npersistence when we also ensure a fresh lb object on\nAmphoraIndexListenerUpdate class.\n\n[1] https://review.opendev.org/#/c/756597/\n\nChange-Id: I923accd73e0c9cadc91c115157c576432f428622\nStory: 2008099\nTask: 40802\n'}]",3,761805,f96251c74275ac44a8ac20ff23a0f6c850af44f5,28,6,5,28008,,,0,"Fix load balancers with failed amphora failover

This patch is a complement of [1] which we ensure
a fresh lb object, but only for AmpListenersUpdate
class.

It was observed, at least on train and ussuri
deployments that multiple failed amphoras were still
happening when using session persistence.

That is fixed and failover works flawless with session
persistence when we also ensure a fresh lb object on
AmphoraIndexListenerUpdate class.

[1] https://review.opendev.org/#/c/756597/

Change-Id: I923accd73e0c9cadc91c115157c576432f428622
Story: 2008099
Task: 40802
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/761805/5 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/amphora_driver_tasks.py'],1,b894f4a62afc49fcaa7849f9a9125451b1bf5268,," # Make sure we have a fresh load balancer object loadbalancer = self.loadbalancer_repo.get(db_apis.get_session(), id=loadbalancer.id)",,3,0
openstack%2Ftrove~master~I2a50df7f6d09198e015970bd4b851c88cacd1003,openstack/trove,master,I2a50df7f6d09198e015970bd4b851c88cacd1003,Update docs for Ubuntu 20.04,ABANDONED,2020-11-19 05:46:30.000000000,2020-11-19 05:47:46.000000000,,[],"[{'number': 1, 'created': '2020-11-19 05:46:30.000000000', 'files': ['doc/source/install/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/17a560bdddba9010a9e19bda89c154e562dc6119', 'message': ""Update docs for Ubuntu 20.04\n\n* Use 'apt install' command instead of legacy 'apt-get'\n\nChange-Id: I2a50df7f6d09198e015970bd4b851c88cacd1003\n""}]",0,763312,17a560bdddba9010a9e19bda89c154e562dc6119,2,0,1,32029,,,0,"Update docs for Ubuntu 20.04

* Use 'apt install' command instead of legacy 'apt-get'

Change-Id: I2a50df7f6d09198e015970bd4b851c88cacd1003
",git fetch https://review.opendev.org/openstack/trove refs/changes/12/763312/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-ubuntu.rst'],1,17a560bdddba9010a9e19bda89c154e562dc6119,, # apt update # apt install python-trove trove-common trove-api trove-taskmanager trove-conductor, # apt-get update # apt-get install python-trove trove-common trove-api trove-taskmanager trove-conductor,2,2
openstack%2Fplacement~master~I96c16e137a0c32552b8985b1444aecc86e816e3f,openstack/placement,master,I96c16e137a0c32552b8985b1444aecc86e816e3f,Fix Placement Doc,MERGED,2020-11-13 02:55:22.000000000,2020-11-19 05:10:15.000000000,2020-11-19 05:08:44.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 31866}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-13 02:55:22.000000000', 'files': ['doc/source/user/provider-tree.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/c02a073c523d363d7136677ab12884dc4ec03e6f', 'message': 'Fix Placement Doc\n\nfix a small errors.\n\nChange-Id: I96c16e137a0c32552b8985b1444aecc86e816e3f\n'}]",0,762606,c02a073c523d363d7136677ab12884dc4ec03e6f,12,5,1,31866,,,0,"Fix Placement Doc

fix a small errors.

Change-Id: I96c16e137a0c32552b8985b1444aecc86e816e3f
",git fetch https://review.opendev.org/openstack/placement refs/changes/06/762606/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/provider-tree.rst'],1,c02a073c523d363d7136677ab12884dc4ec03e6f,,"This is because ``SS1`` is not in aggregate B, and because aggregate B on","This is because ``SS1`` is not in aggregate A, and because aggregate B on",1,1
openstack%2Fpython-openstackclient~master~I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31,openstack/python-openstackclient,master,I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31,"Add ""fields"" parameter to ListPort query",MERGED,2020-09-24 15:11:45.000000000,2020-11-19 05:10:13.000000000,2020-11-19 05:08:42.000000000,"[{'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-24 15:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/52332662295f4386cdad098c431724f47cc80969', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 2, 'created': '2020-09-25 07:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/16e388fe420bfb43a676ad3453899395f69e407f', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 3, 'created': '2020-09-25 14:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/440a9209e2f3d7aa656ccfdf5f889ebdc6b30a08', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 4, 'created': '2020-09-28 14:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff3fe50b4f2f637c5289b2ad39255bf58ea1535b', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 5, 'created': '2020-09-30 13:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3419689798601ab548515ce86ceb991ff3c0d3a3', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 6, 'created': '2020-10-01 10:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a11bc62944d672b42d47110de4c25eec8ccbca30', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 7, 'created': '2020-10-01 13:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b0405db62300a53acb3143830d44483c37cecbb0', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 8, 'created': '2020-11-03 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2db0fbab9c924de53ba32c185e8ff2d4aa72f296', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 9, 'created': '2020-11-05 17:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0e131c186a4043918ac6e0dd61b070940dc2e7b5', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 10, 'created': '2020-11-12 15:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/75ac501a180eedfbd3d1dce6931c6b8f2db2569e', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 11, 'created': '2020-11-12 15:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/395dfa71a7c8c2ac448fd28b7b5919918c4a50cb', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 12, 'created': '2020-11-12 15:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3cc8e4ad82476b86ab29e67cfd510844a8d8eaba', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 13, 'created': '2020-11-15 08:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7b54c6f40a896cf33aa351d272729812111eb4b9', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}, {'number': 14, 'created': '2020-11-18 17:42:14.000000000', 'files': ['requirements.txt', 'openstackclient/tests/unit/network/v2/test_port.py', 'lower-constraints.txt', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8387b114e38f21922967ba982bb1a25289fdb3ab', 'message': 'Add ""fields"" parameter to ListPort query\n\nThis new query parameter will allow to send a query to the Neutron\nserver filtering only by those parameters needed by the list\ncommand: ID, name, MAC address, fixed IPs and status.\n\nWhen using input parameter ""long"", security groups IDs, device owner\nand tags will be added to the fields filter.\n\nWith 4500 ports, those are the execution times for the command\n""openstack port list"" (average values in a development environment):\n\n                 Neutron API (seconds)  CLI (seconds)\nWithout filter:  3.05                   10.15\nWith filter:     2.76                   8.19\n\nDepends-On: https://review.opendev.org/#/c/754113/\n\nChange-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31\nCloses-Bug: #1897100\n'}]",11,754117,8387b114e38f21922967ba982bb1a25289fdb3ab,45,4,14,16688,,,0,"Add ""fields"" parameter to ListPort query

This new query parameter will allow to send a query to the Neutron
server filtering only by those parameters needed by the list
command: ID, name, MAC address, fixed IPs and status.

When using input parameter ""long"", security groups IDs, device owner
and tags will be added to the fields filter.

With 4500 ports, those are the execution times for the command
""openstack port list"" (average values in a development environment):

                 Neutron API (seconds)  CLI (seconds)
Without filter:  3.05                   10.15
With filter:     2.76                   8.19

Depends-On: https://review.opendev.org/#/c/754113/

Change-Id: I1cccf0bc3533f8085e8dd61bf2fbe78c49b74b31
Closes-Bug: #1897100
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/17/754117/13 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py']",2,52332662295f4386cdad098c431724f47cc80969,bug/1897100," FIELDS_TO_RETRIEVE = ['id', 'name', 'mac_address', 'fixed_ips', 'status'] data = network_client.ports(fields=self.FIELDS_TO_RETRIEVE, **filters)", data = network_client.ports(**filters),53,20
openstack%2Fpuppet-tripleo~stable%2Fqueens~I99a771c93bb44f62124b2b44cdddc883ce01fd17,openstack/puppet-tripleo,stable/queens,I99a771c93bb44f62124b2b44cdddc883ce01fd17,[queens only] mysql: make nproc limit configurable,MERGED,2020-10-21 15:47:11.000000000,2020-11-19 04:04:56.000000000,2020-11-19 04:04:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-21 15:47:11.000000000', 'files': ['templates/mysql/limits.conf', 'manifests/profile/base/database/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c485b379377677832c44deb2e922a59f756010a7', 'message': '[queens only] mysql: make nproc limit configurable\n\nDocker image for mysql inherits a nproc limit from the\nCentOS 7 base image, which results in the mysqld process being\nlimited to 4096 processes, which can be a problem.\n\nExpose a new parameter mysql_nproc_limit in puppet, to\nallow overriding that limit in hiera if needed.\n\nChange-Id: I99a771c93bb44f62124b2b44cdddc883ce01fd17\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nCloses-Bug: #1900864\n'}]",0,759083,c485b379377677832c44deb2e922a59f756010a7,11,3,1,20778,,,0,"[queens only] mysql: make nproc limit configurable

Docker image for mysql inherits a nproc limit from the
CentOS 7 base image, which results in the mysqld process being
limited to 4096 processes, which can be a problem.

Expose a new parameter mysql_nproc_limit in puppet, to
allow overriding that limit in hiera if needed.

Change-Id: I99a771c93bb44f62124b2b44cdddc883ce01fd17
Co-Authored-By: Michele Baldessari <michele@acksyn.org>
Closes-Bug: #1900864
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/759083/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mysql/limits.conf', 'manifests/profile/base/database/mysql.pp']",2,c485b379377677832c44deb2e922a59f756010a7,mysql-nproc,"# [*mysql_nproc_limit*] # (Optional) Maximum nproc limit in PAM for mysqld. # Defaults to undef # $mysql_nproc_limit = undef, if $mysql_nproc_limit { file { '/etc/security/limits.d/99-mysqld.conf': content => template('tripleo/mysql/limits.conf'), owner => '0', group => '0', mode => '0644', } } ",,16,0
openstack%2Ffreezer-web-ui~master~I0e9e30093f39230859fbfa415fd9fba00ff03e79,openstack/freezer-web-ui,master,I0e9e30093f39230859fbfa415fd9fba00ff03e79,:Update gate job for wallaby,MERGED,2020-11-10 01:41:41.000000000,2020-11-19 03:10:24.000000000,2020-11-19 03:10:24.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-10 01:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/acf57e7bd89729af3dbf500b77ae9880356ced85', 'message': 'Update gate job for wallaby\n\nUpdate  ""openstack-python3-victoria-jobs"" to  ""openstack-python3-wallaby-jobs"".\n\nChange-Id: I0e9e30093f39230859fbfa415fd9fba00ff03e79\n'}, {'number': 2, 'created': '2020-11-19 02:08:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/a18091a8683c552e0f79b76e8f3ca9f756763f89', 'message': ':Update gate job for wallaby\n\nUpdate  ""openstack-python3-victoria-jobs"" to  ""openstack-python3-wallaby-jobs"".\n\nChange-Id: I0e9e30093f39230859fbfa415fd9fba00ff03e79\n'}]",0,762026,a18091a8683c552e0f79b76e8f3ca9f756763f89,10,2,2,21069,,,0,":Update gate job for wallaby

Update  ""openstack-python3-victoria-jobs"" to  ""openstack-python3-wallaby-jobs"".

Change-Id: I0e9e30093f39230859fbfa415fd9fba00ff03e79
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/26/762026/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,acf57e7bd89729af3dbf500b77ae9880356ced85,, - openstack-python3-wallaby-jobs , - openstack-python3-victoria-jobs,2,1
openstack%2Fswift~master~I28edc7af4a6698a9459753830cc1db247d040b73,openstack/swift,master,I28edc7af4a6698a9459753830cc1db247d040b73,Cross-SSYNC race follow-up,NEW,2020-11-11 19:20:06.000000000,2020-11-19 02:39:34.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-11 19:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0a9da8d10f64cba036a05789693a0d8dd98cf44e', 'message': 'Cross-SSYNC race follow-up\n\nChange-Id: I28edc7af4a6698a9459753830cc1db247d040b73\n'}, {'number': 2, 'created': '2020-11-14 06:17:48.000000000', 'files': ['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/037a2e6f8e8f7fd3af758b8ecc73ec31cb4f6cbf', 'message': 'Cross-SSYNC race follow-up\n\nChange-Id: I28edc7af4a6698a9459753830cc1db247d040b73\n'}]",0,762393,037a2e6f8e8f7fd3af758b8ecc73ec31cb4f6cbf,17,2,2,15343,,,0,"Cross-SSYNC race follow-up

Change-Id: I28edc7af4a6698a9459753830cc1db247d040b73
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/762393/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'swift/obj/diskfile.py']",3,0a9da8d10f64cba036a05789693a0d8dd98cf44e,fixCrossReplicationRace," with self.partition_lock(device, policy, partition, def partition_lock(self, device, policy, partition, timeout): :param timeout: amount of time to wait to acquire the lock; this is usually fairly long when getting the replication lock in ssync_receiver, and fairly short when getting the partition lock in the replicator and reconstructor with lock_path(part_path, timeout=timeout, limit=1, timeout_class=PartitionLockTimeout, name='replication'):"," with self.partition_lock(device, policy, partition, name='replication', def partition_lock(self, device, policy, partition, name=None, timeout=None): if timeout is None: timeout = self.replication_lock_timeout with lock_path(part_path, timeout=timeout, timeout_class=PartitionLockTimeout, limit=1, name=name):",20,16
openstack%2Ftrove~master~Ieb0def81f2347c06a05eb354ad36b4fa807f7621,openstack/trove,master,Ieb0def81f2347c06a05eb354ad36b4fa807f7621,Support datastore version number for creating configuration,MERGED,2020-11-18 20:36:22.000000000,2020-11-19 02:34:14.000000000,2020-11-19 02:31:11.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 20:36:22.000000000', 'files': ['trove/db/sqlalchemy/migrate_repo/versions/044_remove_datastore_configuration_parameters_deleted.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/cmd/manage.py', 'trove/taskmanager/models.py', 'trove/common/apischema.py', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py', 'trove/configuration/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/d51b163e991f16acf2d542d99cbb2f2358feb9bc', 'message': 'Support datastore version number for creating configuration\n\n* Support ""version_number"" for creating configuration.\n* Fixed a bug for deleting datastore version, the config parameters should be\n  deleted first.\n* Support ""--version"" for trove-manage datastore_config_parameters\n  sub-commands.\n\nChange-Id: Ieb0def81f2347c06a05eb354ad36b4fa807f7621\nStory: 2008358\nTask: 41264\n'}]",0,763259,d51b163e991f16acf2d542d99cbb2f2358feb9bc,7,2,1,6732,,,0,"Support datastore version number for creating configuration

* Support ""version_number"" for creating configuration.
* Fixed a bug for deleting datastore version, the config parameters should be
  deleted first.
* Support ""--version"" for trove-manage datastore_config_parameters
  sub-commands.

Change-Id: Ieb0def81f2347c06a05eb354ad36b4fa807f7621
Story: 2008358
Task: 41264
",git fetch https://review.opendev.org/openstack/trove refs/changes/59/763259/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/db/sqlalchemy/migrate_repo/versions/044_remove_datastore_configuration_parameters_deleted.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/cmd/manage.py', 'trove/taskmanager/models.py', 'trove/common/apischema.py', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py', 'trove/configuration/models.py']",7,d51b163e991f16acf2d542d99cbb2f2358feb9bc,ds-version-4-configuration-params,"def load_datastore_configuration_parameters(datastore, datastore_version, config_file, version_number=None): type=datastore, version=datastore_version, return_inactive=True, version_number=version_number)def remove_datastore_configuration_parameters(datastore, datastore_version, version_number=None): type=datastore, version=datastore_version, return_inactive=True, version_number=version_number)"," deleted=False,def load_datastore_configuration_parameters(datastore, datastore_version, config_file): type=datastore, version=datastore_version, return_inactive=True)def remove_datastore_configuration_parameters(datastore, datastore_version): type=datastore, version=datastore_version, return_inactive=True)",84,19
openstack%2Ftrove~master~I5b0bb30c1cf7274bf8cff14b377dea5508e3974d,openstack/trove,master,I5b0bb30c1cf7274bf8cff14b377dea5508e3974d,Update datastore version name,MERGED,2020-11-17 03:24:54.000000000,2020-11-19 02:32:44.000000000,2020-11-19 02:31:02.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 03:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/daa97d3c96ba328dc7c9773dd861a85f4bcb3648', 'message': 'Update datastore version name\n\nChange-Id: I5b0bb30c1cf7274bf8cff14b377dea5508e3974d\n'}, {'number': 2, 'created': '2020-11-17 09:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/582ab4bb26eaaf7ed79b3de4be983fe0fb71eb6e', 'message': 'Update datastore version name\n\nChange-Id: I5b0bb30c1cf7274bf8cff14b377dea5508e3974d\n'}, {'number': 3, 'created': '2020-11-18 09:33:43.000000000', 'files': ['trove/extensions/mgmt/datastores/service.py', 'trove/datastore/models.py', 'trove/common/apischema.py', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/051cdbe08c03280cb6808010ade88f058011f2ab', 'message': 'Update datastore version name\n\nStory: 2008358\nTask: 41264\n\nChange-Id: I5b0bb30c1cf7274bf8cff14b377dea5508e3974d\n'}]",0,762948,051cdbe08c03280cb6808010ade88f058011f2ab,11,2,3,6732,,,0,"Update datastore version name

Story: 2008358
Task: 41264

Change-Id: I5b0bb30c1cf7274bf8cff14b377dea5508e3974d
",git fetch https://review.opendev.org/openstack/trove refs/changes/48/762948/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/extensions/mgmt/datastores/service.py', 'trove/datastore/models.py', 'trove/common/apischema.py', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py']",4,daa97d3c96ba328dc7c9773dd861a85f4bcb3648,ds-version-3-create-instance," def test_update_name(self): new_name = self.random_name('ds-version-name') body = { ""name"": new_name } orig_ver = models.DatastoreVersion.load(self.ds, self.ds_version1.id) output = self.version_controller.edit(MagicMock(), body, mock.ANY, self.ds_version1.id) self.assertEqual(202, output.status) updated_ver = models.DatastoreVersion.load(self.ds, self.ds_version1.id) self.assertEqual(new_name, updated_ver.name) self.assertEqual(orig_ver.image_id, updated_ver.image_id) self.assertEqual(orig_ver.image_tags, updated_ver.image_tags) self.assertEqual(orig_ver.version, updated_ver.version) ",,28,5
openstack%2Ftrove~master~I0e30194d65dcaa595b8927e2b9d5f8ec8c4300de,openstack/trove,master,I0e30194d65dcaa595b8927e2b9d5f8ec8c4300de,Support datastore version number for creating instance,MERGED,2020-11-18 09:08:48.000000000,2020-11-19 02:31:06.000000000,2020-11-19 02:31:06.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 09:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fb9d173b8cdbaadc3e658bddabd80fa29490c9ca', 'message': 'Support datastore version number for creating instance\n\nChange-Id: I0e30194d65dcaa595b8927e2b9d5f8ec8c4300de\n'}, {'number': 2, 'created': '2020-11-18 09:33:43.000000000', 'files': ['trove/common/exception.py', 'trove/tests/api/datastores.py', 'trove/datastore/models.py', 'trove/instance/models.py', 'trove/common/apischema.py', 'trove/tests/unittests/datastore/base.py', 'trove/tests/unittests/datastore/test_datastore_version_metadata.py', 'trove/instance/views.py', 'trove/cmd/manage.py', 'trove/tests/api/instances.py', 'trove/datastore/service.py', 'trove/tests/unittests/instance/test_service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/bf1ee5e8f29f286d2dee853db19912ea01ea4c78', 'message': ""Support datastore version number for creating instance\n\n* Support version number for datastore version flavor and volume type\n  association commands.\n* Support 'version_number' parameter for creating instance.\n\nStory: 2008358\nTask: 41264\n\nChange-Id: I0e30194d65dcaa595b8927e2b9d5f8ec8c4300de\n""}]",0,763139,bf1ee5e8f29f286d2dee853db19912ea01ea4c78,7,2,2,6732,,,0,"Support datastore version number for creating instance

* Support version number for datastore version flavor and volume type
  association commands.
* Support 'version_number' parameter for creating instance.

Story: 2008358
Task: 41264

Change-Id: I0e30194d65dcaa595b8927e2b9d5f8ec8c4300de
",git fetch https://review.opendev.org/openstack/trove refs/changes/39/763139/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/exception.py', 'trove/tests/api/datastores.py', 'trove/datastore/models.py', 'trove/instance/models.py', 'trove/common/apischema.py', 'trove/tests/unittests/datastore/base.py', 'trove/tests/unittests/datastore/test_datastore_version_metadata.py', 'trove/instance/views.py', 'trove/cmd/manage.py', 'trove/tests/api/instances.py', 'trove/datastore/service.py', 'trove/tests/unittests/instance/test_service.py']",12,fb9d173b8cdbaadc3e658bddabd80fa29490c9ca,ds-version-3-create-instance,"from trove.common import cfgfrom trove.common import exceptionCONF = cfg.CONF '', 1, version='test_image_tags version') ds_models.update_datastore_version( cls.ds_name, 'test_version', 'mysql', '', ['trove'], '', 1, version='version 1') ds_models.update_datastore_version( cls.ds_name, 'test_version', 'mysql', '', ['trove'], '', 1, version='version 2') image_id = self.random_uuid() mock_glance_client.images.list.return_value = [{'id': image_id}] name = self.random_name(name='instance', prefix='TestInstanceController') flavor = self.random_uuid() 'name': name, 'flavorRef': flavor, 'version': self.ds_version_imagetags.name, 'version_number': self.ds_version_imagetags.version mock_model_create.assert_called_once_with( mock.ANY, name, flavor, image_id, [], [], mock.ANY, mock.ANY, None, None, None, [], None, None, replica_count=None, volume_type=None, modules=None, locality=None, region_name=CONF.service_credentials.region_name, access=None ) args = mock_model_create.call_args[0] actual_ds_version = args[7] self.assertEqual(self.ds_version_imagetags.name, actual_ds_version.name) self.assertEqual(self.ds_version_imagetags.version, actual_ds_version.version) def test_create_multiple_versions(self): body = { 'instance': { 'name': self.random_name(name='instance', prefix='TestInstanceController'), 'flavorRef': self.random_uuid(), 'datastore': { 'type': self.ds_name, 'version': 'test_version' } } } self.assertRaises( exception.DatastoreVersionsNoUniqueMatch, self.controller.create, mock.MagicMock(), body, mock.ANY ) "," '', 1) mock_glance_client.images.list.return_value = [ {'id': self.random_uuid()}] 'name': self.random_name(name='instance', prefix='TestInstanceController'), 'flavorRef': self.random_uuid(), 'version': self.ds_version_imagetags.name",311,248
openstack%2Ftrove~master~I8069e6f4b972497f2b8be540ea35047d5fb2f9a5,openstack/trove,master,I8069e6f4b972497f2b8be540ea35047d5fb2f9a5,Add 'version' to datastore version,MERGED,2020-11-17 02:14:24.000000000,2020-11-19 02:22:19.000000000,2020-11-19 02:20:57.000000000,"[{'_account_id': 3031}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 02:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a06312d816b803681c517f5b5d1b4bac43a7ba8e', 'message': ""Add 'version' to datastore version\n\nThis patch is part of story 2008358 implementation.\n\n1. DB schema change\n2. trove-manage datastore_version_update subcommand change\n3. API change for creating and listing datastore version.\n\nStory: 2008358\nTask: 41264\n\nChange-Id: I8069e6f4b972497f2b8be540ea35047d5fb2f9a5\n""}, {'number': 2, 'created': '2020-11-17 03:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/159ac73a5c075eaacd08dad081f6e11e5095a8d3', 'message': ""Add 'version' to datastore version\n\nThis patch is part of story 2008358 implementation.\n\n1. DB schema change\n2. trove-manage datastore_version_update subcommand change\n3. API change for creating and listing datastore version.\n\nStory: 2008358\nTask: 41264\n\nChange-Id: I8069e6f4b972497f2b8be540ea35047d5fb2f9a5\n""}, {'number': 3, 'created': '2020-11-17 09:52:11.000000000', 'files': ['trove/common/exception.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/datastore/models.py', 'trove/cmd/manage.py', 'integration/scripts/trovestack', 'trove/extensions/mgmt/datastores/views.py', 'trove/common/apischema.py', 'devstack/plugin.sh', 'trove/datastore/views.py', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py', 'trove/db/sqlalchemy/migrate_repo/versions/048_add_version_to_datastore_version.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/33c0b640517e290821641ffd16df561517f10ed8', 'message': ""Add 'version' to datastore version\n\nThis patch is part of story 2008358 implementation.\n\n1. DB schema change\n2. trove-manage datastore_version_update subcommand change\n3. API change for creating and listing datastore version.\n\nStory: 2008358\nTask: 41264\n\nChange-Id: I8069e6f4b972497f2b8be540ea35047d5fb2f9a5\n""}]",2,762942,33c0b640517e290821641ffd16df561517f10ed8,13,3,3,6732,,,0,"Add 'version' to datastore version

This patch is part of story 2008358 implementation.

1. DB schema change
2. trove-manage datastore_version_update subcommand change
3. API change for creating and listing datastore version.

Story: 2008358
Task: 41264

Change-Id: I8069e6f4b972497f2b8be540ea35047d5fb2f9a5
",git fetch https://review.opendev.org/openstack/trove refs/changes/42/762942/3 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/exception.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/cmd/manage.py', 'trove/datastore/models.py', 'integration/scripts/trovestack', 'trove/extensions/mgmt/datastores/views.py', 'trove/common/apischema.py', 'devstack/plugin.sh', 'trove/datastore/views.py', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py', 'trove/db/sqlalchemy/migrate_repo/versions/048_add_version_to_datastore_version.py']",11,a06312d816b803681c517f5b5d1b4bac43a7ba8e,ds-version-2,"# Copyright 2020 Catalyst Cloud # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from migrate.changeset.constraint import UniqueConstraint from sqlalchemy import text from sqlalchemy.schema import Column from sqlalchemy.schema import MetaData from sqlalchemy.sql.expression import select from sqlalchemy.sql.expression import update from trove.db.sqlalchemy import utils as db_utils from trove.db.sqlalchemy.migrate_repo.schema import String from trove.db.sqlalchemy.migrate_repo.schema import Table def upgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine ds_table = Table('datastores', meta, autoload=True) ds_version_table = Table('datastore_versions', meta, autoload=True) ds_version_table.create_column( Column('version', String(255), nullable=True)) ds_versions = select( columns=[text(""id""), text(""name"")], from_obj=ds_version_table ).execute() # Use 'name' value as init 'version' value for version in ds_versions: update( table=ds_version_table, whereclause=text(""id='%s'"" % version.id), values=dict(version=version.name) ).execute() # Change unique constraint, need to drop the foreign key first and add back # later constraint_names = db_utils.get_foreign_key_constraint_names( engine=migrate_engine, table='datastore_versions', columns=['datastore_id'], ref_table='datastores', ref_columns=['id']) db_utils.drop_foreign_key_constraints( constraint_names=constraint_names, columns=[ds_version_table.c.datastore_id], ref_columns=[ds_table.c.id]) UniqueConstraint('datastore_id', 'name', name='ds_versions', table=ds_version_table).drop() UniqueConstraint('datastore_id', 'name', 'version', name='ds_versions', table=ds_version_table).create() db_utils.create_foreign_key_constraints( constraint_names=constraint_names, columns=[ds_version_table.c.datastore_id], ref_columns=[ds_table.c.id]) ",,130,33
openstack%2Fironic~master~Ief679596e49d8686fc778e342180d221255b15cf,openstack/ironic,master,Ief679596e49d8686fc778e342180d221255b15cf,[doc][trivial] Fix spelling error,MERGED,2020-11-18 17:27:11.000000000,2020-11-19 02:16:04.000000000,2020-11-18 19:24:28.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 17:27:11.000000000', 'files': ['doc/source/admin/interfaces/deploy.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4f8d4d940d0a4292b25a6b5b92c4d3117745d99', 'message': '[doc][trivial] Fix spelling error\n\nChange-Id: Ief679596e49d8686fc778e342180d221255b15cf\n'}]",0,763230,d4f8d4d940d0a4292b25a6b5b92c4d3117745d99,8,3,1,11292,,,0,"[doc][trivial] Fix spelling error

Change-Id: Ief679596e49d8686fc778e342180d221255b15cf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/763230/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/interfaces/deploy.rst'],1,d4f8d4d940d0a4292b25a6b5b92c4d3117745d99,servers,Each HTTP server should be configured to follow symlinks for images,Each HTTP servers should be configured to follow symlinks for images,1,1
openstack%2Ftripleo-docs~master~I448c18f59ffeb040cb51463007f6ea96fdbee1d2,openstack/tripleo-docs,master,I448c18f59ffeb040cb51463007f6ea96fdbee1d2,Update docs for new network config with ansible,MERGED,2020-11-18 10:11:23.000000000,2020-11-19 02:07:18.000000000,2020-11-19 02:05:51.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-11-18 10:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f7b61f3d75237977cd5d20a0d3350ca09506e18b', 'message': 'WIP Update docs for new network config with ansible\n\nThis updates docs to use the new network inerface config\nformat with ansible.\n\nChange-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2\n'}, {'number': 2, 'created': '2020-11-18 11:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6aa62bee16154511ee64adef6ed00af025e2c12a', 'message': 'Update docs for new network config with ansible\n\nThis updates docs to use the new network inerface config\nformat with ansible.\n\nChange-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2\n'}, {'number': 3, 'created': '2020-11-18 11:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f85898cd386e4c2732d214b71cc07754ef9b86b2', 'message': 'Update docs for new network config with ansible\n\nThis updates docs to use the new network inerface config\nformat with ansible.\n\nChange-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2\n'}, {'number': 4, 'created': '2020-11-18 12:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/15ac0e6704845d345fa29bb124236dbcc00cebc7', 'message': 'Update docs for new network config with ansible\n\nThis updates docs to use the new network inerface config\nformat with ansible.\n\nChange-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2\n'}, {'number': 5, 'created': '2020-11-18 13:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4dac799ade585bdc15ecbd3385b4da29de243a30', 'message': 'Update docs for new network config with ansible\n\nThis updates docs to use the new network inerface config\nformat with ansible.\n\nChange-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2\n'}, {'number': 6, 'created': '2020-11-18 14:51:27.000000000', 'files': ['deploy-guide/source/features/network_isolation_virt.rst', 'deploy-guide/source/features/network_isolation.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/affbf8d875df1c2f24e552d5704faa03408842a4', 'message': 'Update docs for new network config with ansible\n\nThis updates docs to use the new network inerface config\nformat with ansible.\n\nChange-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2\n'}]",9,763147,affbf8d875df1c2f24e552d5704faa03408842a4,28,5,6,8833,,,0,"Update docs for new network config with ansible

This updates docs to use the new network inerface config
format with ansible.

Change-Id: I448c18f59ffeb040cb51463007f6ea96fdbee1d2
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/47/763147/6 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/network_isolation_virt.rst', 'deploy-guide/source/features/network_isolation.rst']",2,f7b61f3d75237977cd5d20a0d3350ca09506e18b,os_net_config,"Earlier method of generating nettwork interface configurations with heat has been deprecated since victoria. To use a custom network configuration copy an appropriate sample network interface configuration file from `tripleo-ansible <https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates>` and make necessary changes. Then copy the generated The ``parameter_defaults`` section of the ``network-environment-overrides.yaml`` contains pointers to the network interface configuration files for the deployed roles. These files must exist at the path referenced here. ControllerNetworkConfigTemplate: 'templates/single_nic_vlans/single_nic_vlans.j2' ComputeNetworkConfigTemplate: 'templates/single_nic_vlans/single_nic_vlans.j2' BlockStorageNetworkConfigTemplate: 'templates/single_nic_vlans/single_nic_vlans_storage.j2' Users can still use the old network interface configuration heat templates for custom network configuration. Set ``NetworkConfigWithAnsible`` parameter to ``false`` to use them:: parameter_defaults: NetworkConfigWithAnsible: false Start by copying the existing templates in `tripleo-ansible<https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates>`. The first example copies the templates which include network bonding. The second example copies the templates which use a single network interface with multiple VLANs (this configuration is mostly intended for testing). $ cp /usr/share/ansible/roles/tripleo_network_config/templates/bonds_vlans/* \ $ cp /usr/share/ansible/roles/tripleo_network_config/templates/single_nic_vlans/* \location referenced in the ``parameter_defaults`` section of the environment file. --- {% set mtu_list = [ctlplane_mtu] %} {% for network in role_networks %} {{ mtu_list.append(lookup('vars', role_networks_lower[network] ~ '_mtu')) }} {%- endfor %} {% set min_viable_mtu = mtu_list | max %} network_config: - type: interface name: nic1 mtu: {{ ctlplane_mtu }} use_dhcp: false addresses: - ip_netmask: {{ ctlplane_ip }}/{{ ctlplane_subnet_cidr }} routes: {{ ctlplane_host_routes }} - type: ovs_bridge name: {{ neutron_physical_bridge_name }} dns_servers: {{ ctlplane_dns_nameservers }} domain: {{ dns_search_domains }} members: - type: ovs_bond name: bond1 mtu: {{ min_viable_mtu }} ovs_options: {{ bond_interface_ovs_options }} members: - type: interface name: nic3 mtu: {{ min_viable_mtu }} primary: true - type: interface name: nic4 mtu: {{ min_viable_mtu }} {% for network in role_networks %} - type: vlan mtu: {{ lookup('vars', role_networks_lower[network] ~ '_mtu') }} vlan_id: {{ lookup('vars', role_networks_lower[network] ~ '_vlan_id') }} addresses: - ip_netmask: {{ lookup('vars', role_networks_lower[network] ~ '_ip') }}/{{ lookup('vars', role_networks_lower[network] ~ '_cidr') }} routes: {{ lookup('vars', role_networks_lower[network] ~ '_host_routes') }} {%- endfor %} .. note:: If you are using network interface configuration templates from versions prior to Victoria, you may need to make updates to the templates. See below. Updating Existing Network Interface Configuration Templates ----------------------------------------------------------- Prior to Victoria relase the network interface configuration file used a ``OS::Heat::SoftwareConfig`` resource to configure interfaces:: type: OS::Heat::SoftwareConfig get_file: /usr/share/openstack-tripleo-heat-templates/network/scripts/run-os-net-config.sh [NETWORK INTERFACE CONFIGURATION HERE] The these templates are now expected to use ``OS::Heat::Value`` resource:: resources: OsNetConfigImpl: type: OS::Heat::Value properties: value: network_config: [NETWORK INTERFACE CONFIGURATION HERE] Old network inteface configuration heat templates should be converted using the provided script `convert-nic-config.py <https://github.com/openstack/tripleo-heat-templates/blob/master/tools/convert_nic_config.py>` Prior to the Ocata release, the network interface configuration files used a different mechanism for running os-net-config. Ocata introduced the run-os-net-config.sh script, and the old mechanism was deprecated. The deprecated mechanism was removed in Queens, so older templates must be updated. The resource definition must be changed, and {get_input: bridge_name} is replaced with the special token ""bridge_name"", which will be replaced with the value of the NeutronPhysicalBridge. resources: [NETWORK INTERFACE CONFIGURATION HERE] OsNetConfigImpl: type: OS::Heat::Value properties: value: network_config: [NETWORK INTERFACE CONFIGURATION HERE] network_config: - type: interface name: nic2 mtu: {{ ctlplane_mtu }} use_dhcp: true defroute: no - type: ovs_bridge name: {{ neutron_physical_bridge_name }} members: - type: ovs_bond name: bond1 mtu: {{ min_viable_mtu }} ovs_options: {{ bound_interface_ovs_options }} members: - type: interface name: nic3 mtu: {{ min_viable_mtu }} primary: true - type: interface name: nic4 mtu: {{ min_viable_mtu }} network_config: - type: interface name: nic1 use_dhcp: true defroute: no - type: interface name: nic2 use_dhcp: true - type: vlan device: bond1 vlan_id: {{ internal_api_vlan_id }} addresses: - ip_netmask: {{ internal_api_ip ~ '/' ~ internal_api_cidr }} routes: - ip_netmask: 10.1.2.0/24 next_hop: 172.17.0.1 - type: ovs_bridge name: br-vlan members: - type: interface name: nic4 primary: true - type: ovs_bridge name: bridge_name dns_servers: {{ ctlplane_dns_nameservers }} addresses: - ip_netmask: {{ external_ip ~ '/' ~ external_cidr }} routes: {{ external_host_routes }} members: - type: ovs_bond name: bond1 ovs_options: {{ bond_interface_ovs_options }} members: - type: interface name: nic3 primary: true - type: interface name: nic4 - type: ovs_bond ovs_options: {{ bond_interface_ovs_options }} members: - type: interface name: nic3 mtu: 9000 primary: true - type: interface name: nic4 mtu: 9000 - type: vlan vlan_id: {{ external_vlan_id }} addresses: - ip_netmask: {{ external_ip ~ '/' ~ external_cidr }} routes: {{ external_host_routes }} - type: vlan vlan_id: {{ internal_api_vlan_id }} addresses: - ip_netmask: {{ internal_api_ip ~ '/' ~ internal_api_cidr }}","In order to configure the ``resource registry`` section of the network environment of the cluster, copy the generated The ``resource_registry`` section of the ``network-environment-overrides.yaml`` contains pointers to the network interface configurations for the deployed roles. These files must exist at the path referenced here, and will be copied later in this guide. Example:: resource_registry: OS::TripleO::BlockStorage::Net::SoftwareConfig: /home/stack/templates/nic-configs/cinder-storage.yaml OS::TripleO::Compute::Net::SoftwareConfig: /home/stack/templates/nic-configs/compute.yaml OS::TripleO::Controller::Net::SoftwareConfig: /home/stack/templates/nic-configs/controller.yaml OS::TripleO::ObjectStorage::Net::SoftwareConfig: /home/stack/templates/nic-configs/swift-storage.yaml OS::TripleO::CephStorage::Net::SoftwareConfig: /home/stack/templates/nic-configs/ceph-storage.yamlStart by copying the generated configurations from one of the example directories. The first example copies the templates which include network bonding. The second example copies the templates which use a single network interface with multiple VLANs (this configuration is mostly intended for testing). $ cp ~/generated-openstack-tripleo-heat-templates/network/config/bond-with-vlans/* \ $ cp ~/generated-openstack-tripleo-heat-templates/network/config/single-nic-vlans/* \location referenced in the ``resource_registry`` section of the environment file. And ensure that the whole ``parameters`` section of all the custom NIC templates are replaced with the ``parameters`` section of the generated NIC templates. heat_template_version: 2015-04-30 description: > Software Config to drive os-net-config with 2 bonded nics on a bridge with a VLANs attached for the controller role. parameters: ControlPlaneIp: default: '' description: IP address/subnet on the ctlplane network type: string ExternalIpSubnet: default: '' description: IP address/subnet on the external network type: string InternalApiIpSubnet: default: '' description: IP address/subnet on the internal API network type: string StorageIpSubnet: default: '' description: IP address/subnet on the storage network type: string StorageMgmtIpSubnet: default: '' description: IP address/subnet on the storage mgmt network type: string TenantIpSubnet: default: '' description: IP address/subnet on the tenant network type: string BondInterfaceOvsOptions: default: '' description: The ovs_options string for the bond interface. Set things like lacp=active and/or bond_mode=balance-slb using this option. type: string ExternalNetworkVlanID: default: 10 description: Vlan ID for the external network traffic. type: number InternalApiNetworkVlanID: default: 20 description: Vlan ID for the internal_api network traffic. type: number StorageNetworkVlanID: default: 30 description: Vlan ID for the storage network traffic. type: number StorageMgmtNetworkVlanID: default: 40 description: Vlan ID for the storage mgmt network traffic. type: number TenantNetworkVlanID: default: 50 description: Vlan ID for the tenant network traffic. type: number ExternalInterfaceDefaultRoute: default: '10.0.0.1' description: Default route for the external network. type: string ControlPlaneSubnetCidr: # Override this via parameter_defaults default: '24' description: The subnet CIDR of the control plane network. type: string DnsServers: # Override this via parameter_defaults default: [] description: A list of DNS servers (2 max) to add to resolv.conf. type: json EC2MetadataIp: # Override this via parameter_defaults description: The IP address of the EC2 metadata server. type: string type: OS::Heat::StructuredConfig get_file: ../../scripts/run-os-net-config.sh - type: interface name: nic1 use_dhcp: false addresses: - ip_netmask: list_join: - '/' - - {get_param: ControlPlaneIp} - {get_param: ControlPlaneSubnetCidr} routes: - ip_netmask: 169.254.169.254/32 next_hop: {get_param: EC2MetadataIp} - type: ovs_bridge name: bridge_name dns_servers: {get_param: DnsServers} members: - type: ovs_bond name: bond1 ovs_options: {get_param: BondInterfaceOvsOptions} members: - type: interface name: nic3 primary: true - type: interface name: nic4 - type: vlan device: bond1 vlan_id: {get_param: ExternalNetworkVlanID} addresses: - ip_netmask: {get_param: ExternalIpSubnet} routes: - ip_netmask: 0.0.0.0/0 next_hop: {get_param: ExternalInterfaceDefaultRoute} - type: vlan device: bond1 vlan_id: {get_param: InternalApiNetworkVlanID} addresses: - ip_netmask: {get_param: InternalApiIpSubnet} - type: vlan device: bond1 vlan_id: {get_param: StorageNetworkVlanID} addresses: - ip_netmask: {get_param: StorageIpSubnet} - type: vlan device: bond1 vlan_id: {get_param: StorageMgmtNetworkVlanID} addresses: - ip_netmask: {get_param: StorageMgmtIpSubnet} - type: vlan device: bond1 vlan_id: {get_param: TenantNetworkVlanID} addresses: - ip_netmask: {get_param: TenantIpSubnet} outputs: OS::stack_id: description: The OsNetConfigImpl resource. value: {get_resource: OsNetConfigImpl} .. note:: If you are using network interface configuration templates from versions prior to Ocata, you may need to make updates to the templates. See below. Updating Existing Network Interface Configuration Templates ----------------------------------------------------------- Prior to the Ocata release, the network interface configuration files used a different mechanism for running os-net-config. Ocata introduced the run-os-net-config.sh script, and the old mechanism was deprecated. The deprecated mechanism was removed in Queens, so older templates must be updated. The resource definition must be changed, and {get_input: bridge_name} is replaced with the special token ""bridge_name"", which will be replaced with the value of the NeutronPhysicalBridge. resources: OsNetConfigImpl: type: OS::Heat::SoftwareConfig properties: group: script config: str_replace: template: # This filename can be relative to template root or absolute get_file: ../../scripts/run-os-net-config.sh params: $network_config: network_config: network_config: # Add a DHCP infrastructure network to nic2 - type: interface name: nic2 use_dhcp: true defroute: false - type: ovs_bridge name: bridge_name members: - type: ovs_bond name: bond1 ovs_options: {get_param: BondInterfaceOvsOptions} members: # Modify bond NICs to use nic3 and nic4 - type: interface name: nic3 primary: true - type: interface name: nic4 # No default route on the Provisioning network - type: interface name: nic1 use_dhcp: true defroute: no # Instead use this DHCP infrastructure VLAN as the default route - type: interface name: nic2 use_dhcp: true - type: vlan device: bond1 vlan_id: {get_param: InternalApiNetworkVlanID} addresses: - ip_netmask: {get_param: InternalApiIpSubnet} routes: - ip_netmask: 10.1.2.0/24 next_hop: 172.17.0.1 - type: ovs_bridge name: br-vlan members: - type: interface name: nic4 primary: true - type: ovs_bridge name: bridge_name dns_servers: {get_param: DnsServers} addresses: - ip_netmask: {get_param: ExternalIpSubnet} routes: - ip_netmask: 0.0.0.0/0 next_hop: {get_param: ExternalInterfaceDefaultRoute} members: - type: ovs_bond name: bond1 ovs_options: {get_param: BondInterfaceOvsOptions} members: - type: interface name: nic3 primary: true - type: interface name: nic4 - type: ovs_bond ovs_options: {get_param: BondInterfaceOvsOptions} members: - type: interface name: nic3 mtu: 9000 primary: true - type: interface name: nic4 mtu: 9000 - # The external interface should stay at default type: vlan vlan_id: {get_param: ExternalNetworkVlanID} addresses: - ip_netmask: {get_param: ExternalIpSubnet} routes: - ip_netmask: 0.0.0.0/0 next_hop: {get_param: ExternalInterfaceDefaultRoute} - # MTU 9000 for Internal API, Storage, and Storage Management type: vlan vlan_id: {get_param: InternalApiNetworkVlanID} addresses: - ip_netmask: {get_param: InternalApiIpSubnet}",182,302
openstack%2Ftripleo-ansible~stable%2Ftrain~I5c1109780f007849c5306adf21fd54b0e9a31494,openstack/tripleo-ansible,stable/train,I5c1109780f007849c5306adf21fd54b0e9a31494,Add tripleo_nodes_validation role,MERGED,2020-11-17 17:39:41.000000000,2020-11-19 01:31:58.000000000,2020-11-19 01:27:18.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-17 17:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6deb4457f35fb2937cabfe81f17817fd7e42519', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nNB: Conflicts in zuul.d/molecule.yaml due to context diff\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n(cherry picked from commit 51ad59a6779012cf68c8105b63a86cf26abf692a)\n'}, {'number': 2, 'created': '2020-11-18 09:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e28b727b923d542e0799e7d25aa29e8e5876dc7a', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nNB: Conflicts in zuul.d/molecule.yaml due to context diff\n\nPartial-Bug: #1904711\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n(cherry picked from commit 51ad59a6779012cf68c8105b63a86cf26abf692a)\n'}, {'number': 3, 'created': '2020-11-18 15:46:44.000000000', 'files': ['doc/source/roles/role-tripleo_nodes_validation.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/meta/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cfeb91eb172814a37e7a5e6b048e0594a6bcd2b', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nNote: Conflicts in zuul.d/molecule.yaml due to context diff\n      Also renamed molecule/default/converge.yml to molecule/default/playbook.yml\n\nPartial-Bug: #1904711\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n(cherry picked from commit 51ad59a6779012cf68c8105b63a86cf26abf692a)\n'}]",0,763053,0cfeb91eb172814a37e7a5e6b048e0594a6bcd2b,15,4,3,20172,,,0,"Add tripleo_nodes_validation role

Convert the all-nodes-validation.sh to a native ansible role. This role
pings the default gateway, checks that controllers are reachable and can
validate that the hostname matches what is in /etc/hosts

Note: Conflicts in zuul.d/molecule.yaml due to context diff
      Also renamed molecule/default/converge.yml to molecule/default/playbook.yml

Partial-Bug: #1904711

Change-Id: I5c1109780f007849c5306adf21fd54b0e9a31494
(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)
(cherry picked from commit 51ad59a6779012cf68c8105b63a86cf26abf692a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/763053/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo_nodes_validation.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nodes_validation/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/meta/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",9,e6deb4457f35fb2937cabfe81f17817fd7e42519,,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Collect Network Facts setup: gather_subset: - '!all' - '!any' - network - name: Check Default IPv4 Gateway availability command: ""ping -w 10 -c 1 {{ ansible_facts.default_ipv4.gateway }}"" retries: 10 delay: 60 changed_when: false when: - tripleo_nodes_validation_validate_gateway_icmp|bool - ansible_facts.default_ipv4 is defined - ansible_facts.default_ipv4.gateway is defined - name: Check Controllers availability command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -c 1 {{ controller }}"" retries: 10 delay: 60 loop_control: loop_var: controller loop: ""{{ tripleo_nodes_validation_ping_test_ips }}"" changed_when: false when: - tripleo_nodes_validation_validate_controllers_icmp|bool - tripleo_nodes_validation_ping_test_ips | length > 0 - name: Verify the configured FQDN vs /etc/hosts shell: | HOSTNAME=$(hostname) SHORT_NAME=$(hostname -s) FQDN_FROM_HOSTS=$(awk '$3 == ""'${SHORT_NAME}'""{print $2}' /etc/hosts) if [[ $HOSTNAME != $FQDN_FROM_HOSTS ]]; then echo ""FAILURE"" echo -e ""System hostname: ${HOSTNAME}\nEntry from /etc/hosts: ${FQDN_FROM_HOSTS}\n"" exit 1 fi exit 0 changed_when: false when: - tripleo_nodes_validation_validate_fqdn|bool ",,272,0
openstack%2Foslo.metrics~master~I7362ad86fdc5dcb0a83b5173c3f20611577d0692,openstack/oslo.metrics,master,I7362ad86fdc5dcb0a83b5173c3f20611577d0692,Add basic tests for message processing,MERGED,2020-09-29 15:49:27.000000000,2020-11-19 01:12:10.000000000,2020-11-19 01:11:00.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32523}]","[{'number': 1, 'created': '2020-09-29 15:49:27.000000000', 'files': ['oslo_metrics/tests/test_noop.py', 'oslo_metrics/tests/test_message_process.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/22bb04683d823b3614df4f659607743df0c742b1', 'message': 'Add basic tests for message processing\n\nAdd tests checking that a JSON message will be correctly mapped to\ntheir configured Prometheus client action.\n\nThis replaces the noop test that was just a noop.\n\nChange-Id: I7362ad86fdc5dcb0a83b5173c3f20611577d0692\n'}]",0,755069,22bb04683d823b3614df4f659607743df0c742b1,13,4,1,308,,,0,"Add basic tests for message processing

Add tests checking that a JSON message will be correctly mapped to
their configured Prometheus client action.

This replaces the noop test that was just a noop.

Change-Id: I7362ad86fdc5dcb0a83b5173c3f20611577d0692
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/69/755069/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_metrics/tests/test_noop.py', 'oslo_metrics/tests/test_message_process.py']",2,22bb04683d823b3614df4f659607743df0c742b1,basic-test-framework,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" test_message_process -------------------- Check that messages are processed correctly """""" from unittest import mock from oslo_metrics import message_router from oslotest import base import prometheus_client class TestProcessMessage(base.BaseTestCase): def setUp(self): super(TestProcessMessage, self).setUp() def test_process_counter(self): received_json = """"""{ ""module"": ""oslo_messaging"", ""name"": ""rpc_server_count_for_invocation_start"", ""action"": { ""action"": ""inc"", ""value"": null }, ""labels"": { ""exchange"": ""foo"", ""topic"": ""bar"", ""server"": ""foobar"", ""endpoint"": ""endpoint"", ""namespace"": ""ns"", ""version"": ""v2"", ""method"": ""get"", ""process"": ""done"" } }"""""".encode() with mock.patch.object( prometheus_client.Counter, 'inc', ) as mock_inc: router = message_router.MessageRouter() router.process(received_json) mock_inc.assert_called_once_with() def test_process_histogram(self): received_json = """"""{ ""module"": ""oslo_messaging"", ""name"": ""rpc_client_processing_time"", ""action"": { ""action"": ""observe"", ""value"": 1.26 }, ""labels"": { ""call_type"": ""call"", ""exchange"": ""foo"", ""topic"": ""bar"", ""server"": ""foobar"", ""namespace"": ""ns"", ""version"": ""v2"", ""process"": ""done"", ""fanout"": ""foo"" } }"""""".encode() with mock.patch.object( prometheus_client.Histogram, 'observe', ) as mock_inc: router = message_router.MessageRouter() router.process(received_json) mock_inc.assert_called_once_with(1.26) ",,85,30
openstack%2Foctavia~stable%2Fussuri~I04bb38c657c87ace941eb6e332f58f7218980ad1,openstack/octavia,stable/ussuri,I04bb38c657c87ace941eb6e332f58f7218980ad1,Remove unnecessary joinedload,MERGED,2020-10-19 06:52:10.000000000,2020-11-19 01:10:26.000000000,2020-11-19 01:08:49.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-19 06:52:10.000000000', 'files': ['octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3f09c41a886c19031ef47a025e4482651e3bc28', 'message': 'Remove unnecessary joinedload\n\nThis patch removes an unnecessary joinedload when looking up a\nload balancer from an amphora ID. This should reduce the database\nload when this method is called.\n\nChange-Id: I04bb38c657c87ace941eb6e332f58f7218980ad1\n(cherry picked from commit b627d7cf725b095f18e10728e9adc21abba1cdc9)\n'}]",0,758704,e3f09c41a886c19031ef47a025e4482651e3bc28,17,5,1,6469,,,0,"Remove unnecessary joinedload

This patch removes an unnecessary joinedload when looking up a
load balancer from an amphora ID. This should reduce the database
load when this method is called.

Change-Id: I04bb38c657c87ace941eb6e332f58f7218980ad1
(cherry picked from commit b627d7cf725b095f18e10728e9adc21abba1cdc9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/758704/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/db/repositories.py'],1,e3f09c41a886c19031ef47a025e4482651e3bc28,, consts.DELETED)).first(),from sqlalchemy.orm import joinedload consts.DELETED) # And what does this do? Some SQLAlchemy magic? .options(joinedload('*')) ).first(),1,5
openstack%2Ftripleo-ansible~stable%2Fussuri~I5c1109780f007849c5306adf21fd54b0e9a31494,openstack/tripleo-ansible,stable/ussuri,I5c1109780f007849c5306adf21fd54b0e9a31494,Add tripleo_nodes_validation role,MERGED,2020-11-17 17:38:15.000000000,2020-11-19 00:34:49.000000000,2020-11-19 00:26:10.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-17 17:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51ad59a6779012cf68c8105b63a86cf26abf692a', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n'}, {'number': 2, 'created': '2020-11-18 09:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c80e0f836129184e176accd1acf5bdd77ab96c7', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nCloses: #1904711\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n'}, {'number': 3, 'created': '2020-11-18 09:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5324c0937474eb4c7a322cc3eac22e15b65665d5', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nCloses-Bug: #1904711\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n'}, {'number': 4, 'created': '2020-11-18 09:27:34.000000000', 'files': ['doc/source/roles/role-tripleo_nodes_validation.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nodes_validation/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/meta/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/277cfee98b5cfa2b89489fedb7ac49334855e2ab', 'message': 'Add tripleo_nodes_validation role\n\nConvert the all-nodes-validation.sh to a native ansible role. This role\npings the default gateway, checks that controllers are reachable and can\nvalidate that the hostname matches what is in /etc/hosts\n\nPartial-Bug: #1904711\n\nChange-Id: I5c1109780f007849c5306adf21fd54b0e9a31494\n(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)\n'}]",1,763052,277cfee98b5cfa2b89489fedb7ac49334855e2ab,19,6,4,20172,,,0,"Add tripleo_nodes_validation role

Convert the all-nodes-validation.sh to a native ansible role. This role
pings the default gateway, checks that controllers are reachable and can
validate that the hostname matches what is in /etc/hosts

Partial-Bug: #1904711

Change-Id: I5c1109780f007849c5306adf21fd54b0e9a31494
(cherry picked from commit a19b9195fcae28f3790710645eee8a4dd531658d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/763052/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo_nodes_validation.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nodes_validation/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/meta/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",9,51ad59a6779012cf68c8105b63a86cf26abf692a,ussuri-stable,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Collect Network Facts setup: gather_subset: - '!all' - '!any' - network - name: Check Default IPv4 Gateway availability command: ""ping -w 10 -c 1 {{ ansible_facts.default_ipv4.gateway }}"" retries: 10 delay: 60 changed_when: false when: - tripleo_nodes_validation_validate_gateway_icmp|bool - ansible_facts.default_ipv4 is defined - ansible_facts.default_ipv4.gateway is defined - name: Check Controllers availability command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -c 1 {{ controller }}"" retries: 10 delay: 60 loop_control: loop_var: controller loop: ""{{ tripleo_nodes_validation_ping_test_ips }}"" changed_when: false when: - tripleo_nodes_validation_validate_controllers_icmp|bool - tripleo_nodes_validation_ping_test_ips | length > 0 - name: Verify the configured FQDN vs /etc/hosts shell: | HOSTNAME=$(hostname) SHORT_NAME=$(hostname -s) FQDN_FROM_HOSTS=$(awk '$3 == ""'${SHORT_NAME}'""{print $2}' /etc/hosts) if [[ $HOSTNAME != $FQDN_FROM_HOSTS ]]; then echo ""FAILURE"" echo -e ""System hostname: ${HOSTNAME}\nEntry from /etc/hosts: ${FQDN_FROM_HOSTS}\n"" exit 1 fi exit 0 changed_when: false when: - tripleo_nodes_validation_validate_fqdn|bool ",,273,0
openstack%2Fproject-config~master~I7a7db0dbc1ff6203855eb5dee40d234a26335db0,openstack/project-config,master,I7a7db0dbc1ff6203855eb5dee40d234a26335db0,"Revert ""Disable limestone provider due to IPv4-less nodes""",MERGED,2020-11-18 20:04:32.000000000,2020-11-19 00:33:35.000000000,2020-11-19 00:25:28.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 20:04:32.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/72acb93814f18106cec215ecc4300311cf7ef0b3', 'message': 'Revert ""Disable limestone provider due to IPv4-less nodes""\n\nThis reverts commit ef5cc142057b7dbb4bf9bcb9d8ef219be158c92d.\n\nWe now automatically discard nodes which lack working IPv4\nconnectivity, the condition which was previously causing occasional\nfailures in this provider.\n\nChange-Id: I7a7db0dbc1ff6203855eb5dee40d234a26335db0\n'}]",0,763254,72acb93814f18106cec215ecc4300311cf7ef0b3,8,3,1,5263,,,0,"Revert ""Disable limestone provider due to IPv4-less nodes""

This reverts commit ef5cc142057b7dbb4bf9bcb9d8ef219be158c92d.

We now automatically discard nodes which lack working IPv4
connectivity, the condition which was previously causing occasional
failures in this provider.

Change-Id: I7a7db0dbc1ff6203855eb5dee40d234a26335db0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/763254/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,72acb93814f18106cec215ecc4300311cf7ef0b3,require-ipvx, max-servers: 50, max-servers: 0,1,1
openstack%2Ftripleo-heat-templates~master~I7acaa9e6b9d95b067b9fb1be4f5890aeee68742c,openstack/tripleo-heat-templates,master,I7acaa9e6b9d95b067b9fb1be4f5890aeee68742c,Fix convert_nic_config.py script,MERGED,2020-11-18 05:21:11.000000000,2020-11-19 00:18:36.000000000,2020-11-19 00:18:36.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-11-18 05:21:11.000000000', 'files': ['tools/convert_nic_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddec6c8b65a2b52bed1340b123a390c950e0c967', 'message': ""Fix convert_nic_config.py script\n\nUse 'value' property of the OS::Heat::Value resource instead.\n\nChange-Id: I7acaa9e6b9d95b067b9fb1be4f5890aeee68742c\n""}]",0,763125,ddec6c8b65a2b52bed1340b123a390c950e0c967,14,6,1,8833,,,0,"Fix convert_nic_config.py script

Use 'value' property of the OS::Heat::Value resource instead.

Change-Id: I7acaa9e6b9d95b067b9fb1be4f5890aeee68742c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/763125/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/convert_nic_config.py'],1,ddec6c8b65a2b52bed1340b123a390c950e0c967,, del net_config_res_props['config'] net_config_res_props['value'] = new_config, net_config_res_props['config'] = new_config,2,1
openstack%2Ftempest~master~Ia125ffac1b42a1fe05b28dee7080e298426e7f2d,openstack/tempest,master,Ia125ffac1b42a1fe05b28dee7080e298426e7f2d,[Trivial]Do not use cls in instance method,MERGED,2020-11-18 07:07:43.000000000,2020-11-19 00:04:38.000000000,2020-11-19 00:02:46.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-18 07:07:43.000000000', 'files': ['tempest/api/compute/security_groups/test_security_group_rules.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d926b8d08fa53cd76de4115081b560492a5b8e65', 'message': '[Trivial]Do not use cls in instance method\n\ncls should not be used in instance method, self should be used instead.\n\nChange-Id: Ia125ffac1b42a1fe05b28dee7080e298426e7f2d\n'}]",0,763130,d926b8d08fa53cd76de4115081b560492a5b8e65,10,3,1,20190,,,0,"[Trivial]Do not use cls in instance method

cls should not be used in instance method, self should be used instead.

Change-Id: Ia125ffac1b42a1fe05b28dee7080e298426e7f2d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/763130/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/security_groups/test_security_group_rules.py'],1,d926b8d08fa53cd76de4115081b560492a5b8e65,cls_self," def setUp(self): super(SecurityGroupRulesTestJSON, self).setUp() from_port = self.from_port to_port = self.to_port self.expected = { 'ip_protocol': self.ip_protocol,"," def setUp(cls): super(SecurityGroupRulesTestJSON, cls).setUp() from_port = cls.from_port to_port = cls.to_port cls.expected = { 'ip_protocol': cls.ip_protocol,",6,6
openstack%2Fironic-inspector~master~Ic2a8a264e95ecd70902329fc5de3839625845129,openstack/ironic-inspector,master,Ic2a8a264e95ecd70902329fc5de3839625845129,Reuse the docs deps to benefit from constraints,MERGED,2020-11-18 02:00:53.000000000,2020-11-18 23:09:13.000000000,2020-11-18 23:06:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 02:00:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4ce61af741a2636984c6d94a050c128d53c0ec29', 'message': ""Reuse the docs deps to benefit from constraints\n\nTox trying to install latest versions for building docs,\nwhich may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: Ic2a8a264e95ecd70902329fc5de3839625845129\n""}]",0,763116,4ce61af741a2636984c6d94a050c128d53c0ec29,8,3,1,32029,,,0,"Reuse the docs deps to benefit from constraints

Tox trying to install latest versions for building docs,
which may not be supported by stable and lower branches,
so should be restricted by respective version's upper-constraints.txt

Change-Id: Ic2a8a264e95ecd70902329fc5de3839625845129
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/16/763116/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4ce61af741a2636984c6d94a050c128d53c0ec29,tox,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt,deps = -r{toxinidir}/test-requirements.txt,3,1
openstack%2Fneutron-tempest-plugin~master~I2e4de049d77858e5bf11b7d0758c9494099802f7,openstack/neutron-tempest-plugin,master,I2e4de049d77858e5bf11b7d0758c9494099802f7,"Implement ""get_hostname"" in SSH client class",MERGED,2020-11-12 14:28:38.000000000,2020-11-18 22:41:52.000000000,2020-11-18 22:41:52.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 14:28:38.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_internal_dns.py', 'neutron_tempest_plugin/common/ssh.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af394dd5f82ddc6a02ea944ce297593af3c69dbb', 'message': 'Implement ""get_hostname"" in SSH client class\n\nThis method will retrieve the remote machine host name first\nexecuting ""hostname"" command. If that command fails, it will try\nto read ""/etc/hostname"" file.\n\nChange-Id: I2e4de049d77858e5bf11b7d0758c9494099802f7\nCloses-Bug: #1903982\n'}]",0,762527,af394dd5f82ddc6a02ea944ce297593af3c69dbb,43,5,1,16688,,,0,"Implement ""get_hostname"" in SSH client class

This method will retrieve the remote machine host name first
executing ""hostname"" command. If that command fails, it will try
to read ""/etc/hostname"" file.

Change-Id: I2e4de049d77858e5bf11b7d0758c9494099802f7
Closes-Bug: #1903982
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/27/762527/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_internal_dns.py', 'neutron_tempest_plugin/common/ssh.py']",3,af394dd5f82ddc6a02ea944ce297593af3c69dbb,bug/1903982," def get_hostname(self): """"""Retrieve the remote machine hostname"""""" try: return self.exec_command('hostname') except exceptions.SSHExecCommandFailed: return self.exec_command('cat /etc/hostname') ",,9,2
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~If0c763a2d13470e394b127ec8ccf2e65211fc41e,openstack/puppet-openstack-integration,stable/victoria,If0c763a2d13470e394b127ec8ccf2e65211fc41e,Use Ceph Naitulus for Ubuntu,MERGED,2020-11-18 00:50:24.000000000,2020-11-18 22:37:30.000000000,2020-11-18 22:37:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 00:50:24.000000000', 'files': ['run_tests.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42e31b7b432ff1788bcb02ca377b68e6c54408cf', 'message': 'Use Ceph Naitulus for Ubuntu\n\nMimmic already reached eol when Octopus was released, so we should use\nthe supported version instead.\n\nRelated-Bug: 1902670\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n(cherry picked from commit f4d7fff8a29ae3e14644ee766e449c0219865d73)\n'}]",0,763109,42e31b7b432ff1788bcb02ca377b68e6c54408cf,7,3,1,9816,,,0,"Use Ceph Naitulus for Ubuntu

Mimmic already reached eol when Octopus was released, so we should use
the supported version instead.

Related-Bug: 1902670
Change-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e
(cherry picked from commit f4d7fff8a29ae3e14644ee766e449c0219865d73)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/763109/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml']",4,42e31b7b432ff1788bcb02ca377b68e6c54408cf,ceph-version-stable/victoria, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic-mimic,17,35
openstack%2Fproject-config~master~I5ebf008998b62f044d0a686de8a2337851ef3cf8,openstack/project-config,master,I5ebf008998b62f044d0a686de8a2337851ef3cf8,Require working IPv4 on all job nodes,MERGED,2020-11-18 20:04:32.000000000,2020-11-18 21:54:02.000000000,2020-11-18 21:54:02.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 20:04:32.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d55e312f8bafeafda1b3b3848ebbd917181307c1', 'message': ""Require working IPv4 on all job nodes\n\nWe're seeing nodes IPv6 nodes occasionally come up with no working\nIPv4 connectivity to the Internet. Declare that we require IPv4\nconfiguration and egress connectivity so these nodes will be\ndiscarded before they cause jobs expecting to be able to reach\nv4-only resources to fail.\n\nChange-Id: I5ebf008998b62f044d0a686de8a2337851ef3cf8\nDepends-On: https://review.opendev.org/763065\n""}]",0,763253,d55e312f8bafeafda1b3b3848ebbd917181307c1,7,3,1,5263,,,0,"Require working IPv4 on all job nodes

We're seeing nodes IPv6 nodes occasionally come up with no working
IPv4 connectivity to the Internet. Declare that we require IPv4
configuration and egress connectivity so these nodes will be
discarded before they cause jobs expecting to be able to reach
v4-only resources to fail.

Change-Id: I5ebf008998b62f044d0a686de8a2337851ef3cf8
Depends-On: https://review.opendev.org/763065
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/763253/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,d55e312f8bafeafda1b3b3848ebbd917181307c1,require-ipvx,zuul_site_ipv4_route_required: true,,1,0
openstack%2Fopenstacksdk~master~If0a2e0c98403baa5fcb2352fc99239106d27ffc6,openstack/openstacksdk,master,If0a2e0c98403baa5fcb2352fc99239106d27ffc6,Add tls_enabled param for Octavia Pools,MERGED,2020-11-18 14:16:47.000000000,2020-11-18 21:44:50.000000000,2020-11-18 21:42:39.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-18 14:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f44c545171965c058f7e155f6081ab0dc57fe7fb', 'message': 'Add tls_enabled param for Octavia Pools\n\ntls_enabled parameter allows the user to enable TLS communication\nbetween a load balancer and its members>\n\nStory 2008368\nTask 41278\n\nChange-Id: If0a2e0c98403baa5fcb2352fc99239106d27ffc6\n'}, {'number': 2, 'created': '2020-11-18 14:17:36.000000000', 'files': ['openstack/tests/unit/load_balancer/test_pool.py', 'releasenotes/notes/add-tls_enabled-parameter-for-octavia-pools-f0a23436d826b313.yaml', 'openstack/load_balancer/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ed8564ef2ae1a1218fddf130b6c77646d4acdc51', 'message': 'Add tls_enabled param for Octavia Pools\n\ntls_enabled parameter allows the user to enable TLS communication\nbetween a load balancer and its members.\n\nStory 2008368\nTask 41278\n\nChange-Id: If0a2e0c98403baa5fcb2352fc99239106d27ffc6\n'}]",0,763189,ed8564ef2ae1a1218fddf130b6c77646d4acdc51,10,4,2,29244,,,0,"Add tls_enabled param for Octavia Pools

tls_enabled parameter allows the user to enable TLS communication
between a load balancer and its members.

Story 2008368
Task 41278

Change-Id: If0a2e0c98403baa5fcb2352fc99239106d27ffc6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/763189/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/load_balancer/test_pool.py', 'releasenotes/notes/add-tls_enabled-parameter-for-octavia-pools-f0a23436d826b313.yaml', 'openstack/load_balancer/v2/pool.py']",3,f44c545171965c058f7e155f6081ab0dc57fe7fb,," 'tls_enabled', 'tls_ciphers', 'tls_versions', is_admin_state_up='admin_state_up', #: Use TLS for connections to backend member servers *Type: bool* tls_enabled = resource.Body('tls_enabled', type=bool)"," 'tls_ciphers', 'tls_versions', is_admin_state_up='admin_state_up',",13,1
openstack%2Fcliff~master~I58d14cd3a372f9bdf617cbfbcb5ce34169ac83f8,openstack/cliff,master,I58d14cd3a372f9bdf617cbfbcb5ce34169ac83f8,trivial: Remove references to Python 2.7,MERGED,2020-10-29 11:33:12.000000000,2020-11-18 21:10:15.000000000,2020-11-18 21:08:26.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 11:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/5e2ee779539df0c10649ae2f4b62b05d1f3ded10', 'message': 'trivial: Remove references to Python 2.7\n\nThere were some in both the docs and the demo application.\n\nChange-Id: I58d14cd3a372f9bdf617cbfbcb5ce34169ac83f8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-11-18 18:06:06.000000000', 'files': ['demoapp/setup.py', 'doc/source/contributors/index.rst'], 'web_link': 'https://opendev.org/openstack/cliff/commit/37e53cad857b1d30a5eefee019fce934c8d06a6d', 'message': 'trivial: Remove references to Python 2.7\n\nThere were some in both the docs and the demo application.\n\nChange-Id: I58d14cd3a372f9bdf617cbfbcb5ce34169ac83f8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,760334,37e53cad857b1d30a5eefee019fce934c8d06a6d,11,3,2,15334,,,0,"trivial: Remove references to Python 2.7

There were some in both the docs and the demo application.

Change-Id: I58d14cd3a372f9bdf617cbfbcb5ce34169ac83f8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/34/760334/1 && git format-patch -1 --stdout FETCH_HEAD,"['demoapp/setup.py', 'doc/source/contributors/index.rst']",2,5e2ee779539df0c10649ae2f4b62b05d1f3ded10,bp/six-removal,"The test suite for cliff uses tox_, which must be installed separatelyTo run the standard set of tests, run ``tox`` from the top level directory of the git repository. To run a single environment, specify it using the ``-e`` parameter. For example:: $ tox -e pep8.. _tox: https://tox.readthedocs.io/ Building Documentation ====================== The documentation for cliff is written in reStructuredText and converted to HTML using Sphinx. Like tests, the documentation can be built using ``tox``:: $ tox -e docs The output version of the documentation ends up in ``./docs/build/html``.","Building Documentation ====================== The documentation for cliff is written in reStructuredText and converted to HTML using Sphinx. The build itself is driven by make. You will need the following packages in order to build the docs: - Sphinx - docutils Once all of the tools are installed into a virtualenv using pip, run ``make docs`` to generate the HTML version of the documentation:: $ make docs (cd docs && make clean html) sphinx-build -b html -d build/doctrees source build/html Running Sphinx v1.1.3 loading pickled environment... done building [html]: targets for 1 source files that are out of date updating environment: 1 added, 1 changed, 0 removed reading sources... [100%] index looking for now-outdated files... none found pickling environment... done done preparing documents... done writing output... [100%] index writing additional files... genindex search copying static files... done dumping search index... done dumping object inventory... done build succeeded, 2 warnings. Build finished. The HTML pages are in build/html. The output version of the documentation ends up in ``./docs/build/html`` inside your sandbox. The test suite for clif uses tox_, which must be installed separatelyTo run the tests under Python 2.7 and 3.3 as well as PyPy, run ``tox`` from the top level directory of the git repository. To run tests under a single version of Python, specify the appropriate environment when running tox:: $ tox -e py27.. _tox: http://codespeak.net/tox",26,56
openstack%2Fopenstack-ansible~master~Id140d16d0a980c4c112e481af9c4006845e94fb2,openstack/openstack-ansible,master,Id140d16d0a980c4c112e481af9c4006845e94fb2,Unfreeze roles,MERGED,2020-11-10 18:03:35.000000000,2020-11-18 20:55:49.000000000,2020-11-18 20:53:51.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-11-10 18:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f63a01052cdb7c5a989f188c996cceb32271601', 'message': 'Unfreeze roles\n\nChange-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2\n'}, {'number': 2, 'created': '2020-11-16 12:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4469e80d1816230ab115fca01730fe6b53420f57', 'message': 'Unfreeze roles\n\nChange-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2\n'}, {'number': 3, 'created': '2020-11-16 12:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79ea621d0a0c86f98542606929930b6f29f31708', 'message': 'Unfreeze roles\n\nChange-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2\n'}, {'number': 4, 'created': '2020-11-16 12:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1457c258abe0b6309f8a09e35afbad65d5b0832f', 'message': 'Unfreeze roles\n\nChange-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2\n'}, {'number': 5, 'created': '2020-11-16 12:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/546bcb286de35a540dd5bc804b04f9685e18ea4f', 'message': 'Unfreeze roles\n\nChange-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2\n'}, {'number': 6, 'created': '2020-11-16 12:38:59.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af66ffe76b7d9511f0e23dfd5a11a4e152cb357a', 'message': 'Unfreeze roles\n\nChange-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2\n'}]",0,762185,af66ffe76b7d9511f0e23dfd5a11a4e152cb357a,43,5,6,28619,,,0,"Unfreeze roles

Change-Id: Id140d16d0a980c4c112e481af9c4006845e94fb2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/762185/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,0f63a01052cdb7c5a989f188c996cceb32271601,, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: stable-5.0 version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master, version: 4e44a54b95b76fec380d1bbdf82a939b025a128d version: 479d188c29bf9ca6b2b7500c13f5f695f8008ee6 version: a6347c381154deab33aca49188bea1992dc179ce version: d089b8e2ff01d8e8454ed083c20b41861a8fc053 version: f0c208fcb2383a190622a000ce0fa9f40becea02 version: 7f15ec569fbac2dec6fcd230e3f5f756ae01c7b7 version: 709f5aadf0bd969b54046f9e891c28dddcfe79b0 version: b4d4f858bb29e297ece13c307ece71441aff5a23 version: 46e10d21f15fa7ec50c35e800125278e270f46b6 version: 2bb11b1b1baceb19f465d7c387db6d18c3592317 version: 6e949f8e8b780061392ae17e58daed2935cb899e version: ddc4c832cc7522111bde4711b704a513aa23a973 version: 3387d719ad2f6d2db60f4837867c0fc4f6caa28d version: 4ab390adce2d0c7f9baca4682df1a7f7010cecec version: ac0bf987152a495c9a46ebfabfd0f001359a41ed version: 740806fa1dc4a12c4a75b31c93ce6125b5627e38 version: 67ee6977cb5b6cf7da341df3807621d5c8d2e254 version: ceca1dc8ae42186ace50436aee1f4cdd774e6f09 version: 26f5180a9a2462acde8d65156b09521060e40852 version: 2e553218499594e02602f51b9b5cfdeab79f9cb5 version: 7c9b4258fa6f9288fff25b219e88cb0c9ddfb3c0 version: 95fb8b334aa4b4a0966ccc8a8639e888d0e6ae37 version: 0fb579a11de5e790ac26007225c4389c7c2951f7 version: b007436ea44ac5264455531fae8336e432e33b97 version: 5ba9a1c6e8e5447d95293a59d9c7dbc07c7a0fbe version: 7256fbafdc3c999d67d7baef26fcad2ee584244d version: 3a7d20720a32db032e9feb222eeea0580e506d84 version: d6bb9046aae5455e1a3fe0900ac0b22677e56ce0 version: fc31f37f696ed27d6b2bd0c3cb3c9220d460f917 version: 5e0a408fdb89ff2d5a0fe890230e083113e89451 version: 4316f49bc84b35fb1893dd3c18eda8eb17e76ac2 version: 87a2549a7b69ff93fad6cc1f20df2443cd5324ac version: 7fb7f1ba753e0c146602839ec5f2a676d93830f5 version: 53f57a91b609fab1b3638a0830b5e139161e8d5b version: 2afa08eb9b13335e2c740a6ebda1091c3b1f5617 version: 77944eef30ac0a248743e4c0edc6f2773cf7100e version: a0eef75d6ee5ad7f787bba2fcd2e6a082029996b version: 120dac7ef6627d9cb4f127a2584e674e737fe72b version: 2b4d0634d5f4525948ada049b38504768898cf8b version: e971939b55f1d9aeaeb04b030d72397b6dcaf2ed version: b4f236f5d22eb0dcb4cd3c36df24046414101cea version: 1b492b9bfd4819c66bbfa991ee1bec21ca494b93 version: 07d78458207156378406db2f8cb7a6140c047b47 version: 0c40af3d4a8bb60f751a93d5aa44c4c1edc95175 version: 2b7b2ada9fc0ce7c0ca5508f6432627dc70edbac version: e93b7e3477c1e1d6767c447211bb70dbe023e3a8 version: 0e38f6e575fb40cd9f98e09b10cb4da6c94360ac version: d616af7883bd6e7a208be3a4f56d129bc2aa92ca version: d52263304292da2f207f4368625ac44c89f89521 version: 61587d5d88ce98deed989ab702af84bff0f037bf version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c version: ab9861e35c23342fa30c703d29e370da590ea582 version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: 7b7f20c636c12a02c0452c977e7952716fc9edcb version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: 7ae17fbd39885e0b37383e6d192d25e54d8554c8 version: e20e45fd41daa8374863a47bec8bed3a1e496a6a version: cb736cbc023382ef792465b7d6b3b89797446a25 version: 11af14d126618a553fe58b9e7d473a904807081d version: bcbd5344cf56338adea03ad3ef41466fd8615e70 version: 48a217bf2d8f1416541c92b44cbc80518013f322 version: 2cb805baff2af142099ba692cac047ae963493b1 version: 50a941f55294be4c7fffc77f6bcf99d9ff62a1d5,65,65
openstack%2Fkolla-ansible~stable%2Fstein~I5aa29fdb4f78c981deb53a9d40dad148c7d40849,openstack/kolla-ansible,stable/stein,I5aa29fdb4f78c981deb53a9d40dad148c7d40849,fluentd: Remove conditions from handler,MERGED,2020-11-18 10:40:44.000000000,2020-11-18 20:40:59.000000000,2020-11-18 20:39:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-18 10:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b435d68b7ea0cfaa13bafe11284fd1d512095c4f', 'message': ""fluentd: Remove conditions from handler\n\nIn https://review.opendev.org/#/c/757817/, the fluentd configuration\ngeneration was simplified to write out a single file. This removed 8\ndifferent registered variables, however these were not removed from the\nhandler condition. It's not clear to me why this was not caught by the\nreconfigure during testing.\n\nThis change removes the variables from the handler condition.\n\nCloses-Bug: #1904721\n\nChange-Id: I5aa29fdb4f78c981deb53a9d40dad148c7d40849\n""}, {'number': 2, 'created': '2020-11-18 10:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/676ba61f06f2e58d98a33fa4422c96c3cc14df05', 'message': ""fluentd: Remove conditions from handler\n\nIn https://review.opendev.org/#/c/757817/, the fluentd configuration\ngeneration was simplified to write out a single file. This removed 8\ndifferent registered variables, however these were not removed from the\nhandler condition. It's not clear to me why this was not caught by the\nreconfigure during testing.\n\nThis change removes the variables from the handler condition.\n\nCloses-Bug: #1904721\n\nChange-Id: I5aa29fdb4f78c981deb53a9d40dad148c7d40849\n""}, {'number': 3, 'created': '2020-11-18 13:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb3d360ef007aacdf3b7f5e1e15eb184beacdebe', 'message': ""fluentd: Remove conditions from handler\n\nStein only\n\nIn https://review.opendev.org/#/c/757817/, the fluentd configuration\ngeneration was simplified to write out a single file. This removed 8\ndifferent registered variables, however these were not removed from the\nhandler condition. It's not clear to me why this was not caught by the\nreconfigure during testing.\n\nThis change removes the variables from the handler condition.\n\nCloses-Bug: #1904721\n\nChange-Id: I5aa29fdb4f78c981deb53a9d40dad148c7d40849\n""}, {'number': 4, 'created': '2020-11-18 14:02:41.000000000', 'files': ['releasenotes/notes/fix-fluentd-without-change-7b310b85955966bf.yaml', 'ansible/roles/common/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7467b7db959b160a2a404f61a318a2d9740dc2e7', 'message': ""fluentd: Remove conditions from handler\n\nStein only\n\nIn https://review.opendev.org/#/c/757817/, the fluentd configuration\ngeneration was simplified to write out a single file. This removed 8\ndifferent registered variables, however these were not removed from the\nhandler condition. If the image is updated but configuration is not,\nthen the user will get the following error:\n\n  'fluentd_input' is undefined\n\nThis change removes the variables from the handler condition.\n\nCloses-Bug: #1904721\n\nChange-Id: I5aa29fdb4f78c981deb53a9d40dad148c7d40849\n""}]",2,763155,7467b7db959b160a2a404f61a318a2d9740dc2e7,18,5,4,14826,,,0,"fluentd: Remove conditions from handler

Stein only

In https://review.opendev.org/#/c/757817/, the fluentd configuration
generation was simplified to write out a single file. This removed 8
different registered variables, however these were not removed from the
handler condition. If the image is updated but configuration is not,
then the user will get the following error:

  'fluentd_input' is undefined

This change removes the variables from the handler condition.

Closes-Bug: #1904721

Change-Id: I5aa29fdb4f78c981deb53a9d40dad148c7d40849
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/763155/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/handlers/main.yml'],1,b435d68b7ea0cfaa13bafe11284fd1d512095c4f,bug/1904721,, or fluentd_input.changed | bool or fluentd_input_custom.changed | bool or fluentd_output.changed | bool or fluentd_output_custom.changed | bool or fluentd_format.changed | bool or fluentd_format_custom.changed | bool or fluentd_filter.changed | bool or fluentd_filter_custom.changed | bool,0,8
openstack%2Fpaunch~stable%2Fussuri~I9570b5e4e68b8e1d4181bd5c514193d648a9128f,openstack/paunch,stable/ussuri,I9570b5e4e68b8e1d4181bd5c514193d648a9128f,Fix option to not cleanup containers not in config,MERGED,2020-11-18 09:46:18.000000000,2020-11-18 20:00:36.000000000,2020-11-18 19:59:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-18 09:46:18.000000000', 'files': ['paunch/cmd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/5dcc4df5922e3fed766dd733627f008af456ca7a', 'message': ""Fix option to not cleanup containers not in config\n\nIn https://review.opendev.org/#/c/707278/ we added an option to\nnot cleanup containers not in config, but it's broken. We should\nuse --no-cleanup with action='strore_false' and default=True.\n\nChange-Id: I9570b5e4e68b8e1d4181bd5c514193d648a9128f\n""}]",0,763143,5dcc4df5922e3fed766dd733627f008af456ca7a,9,3,1,8833,,,0,"Fix option to not cleanup containers not in config

In https://review.opendev.org/#/c/707278/ we added an option to
not cleanup containers not in config, but it's broken. We should
use --no-cleanup with action='strore_false' and default=True.

Change-Id: I9570b5e4e68b8e1d4181bd5c514193d648a9128f
",git fetch https://review.opendev.org/openstack/paunch refs/changes/43/763143/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/cmd.py'],1,5dcc4df5922e3fed766dd733627f008af456ca7a,," '--no-cleanup', action='store_false',"," '--cleanup', action='store_true',",2,2
openstack%2Fcliff~master~I1656b976864c8f2343e658a4abf432d30c151d0b,openstack/cliff,master,I1656b976864c8f2343e658a4abf432d30c151d0b,Remove six,MERGED,2020-09-28 10:29:21.000000000,2020-11-18 19:58:24.000000000,2020-11-18 19:56:56.000000000,"[{'_account_id': 841}, {'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30092}]","[{'number': 1, 'created': '2020-09-28 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/df3b23f715c1aa1f3531d4cfef1c1ff1c05ce67d', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 2, 'created': '2020-09-29 05:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/596b177ecc44ce244621ac0cb2cd7ff492f6ff76', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 3, 'created': '2020-09-30 06:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/c17d20905e9647314b215cb6988739cb396317de', 'message': 'Remove Six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 4, 'created': '2020-10-07 06:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/43e05212687e2cc466ae3f15edc296dd77f733ad', 'message': 'Remove Six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 5, 'created': '2020-10-07 06:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/32ae7c6b92a409202233060b9619bed01af9faf8', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 6, 'created': '2020-10-08 07:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/7c2a5819fe3f7faa9a26a8552d454c055bf1f063', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 7, 'created': '2020-10-08 07:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/354fa6f3c76ed9f70d8dbe17a05d91022c79c83d', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}, {'number': 8, 'created': '2020-10-29 11:33:12.000000000', 'files': ['cliff/formatters/commaseparated.py', 'cliff/formatters/table.py', 'cliff/tests/test_help.py', 'cliff/tests/test_formatters_table.py', 'cliff/complete.py', 'cliff/tests/test_formatters_yaml.py', 'cliff/formatters/shell.py', 'requirements.txt', 'cliff/tests/test_formatters_value.py', 'cliff/_argparse.py', 'cliff/tests/test_app.py', 'cliff/utils.py', 'cliff/display.py', 'cliff/tests/test_utils.py', 'lower-constraints.txt', 'cliff/show.py', 'cliff/formatters/value.py', 'cliff/columns.py', 'cliff/tests/test_formatters_json.py', 'cliff/lister.py', 'cliff/app.py', 'cliff/formatters/base.py', 'cliff/command.py', 'cliff/hooks.py', 'cliff/tests/test_formatters_csv.py', 'cliff/tests/test_formatters_shell.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/bc76d324f514d21ea9d2a5023da094488354acfb', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.PY2\n- six.PY3\n- six.string_types\n- six.text_type\n\nChange-Id: I1656b976864c8f2343e658a4abf432d30c151d0b\n'}]",31,754683,bc76d324f514d21ea9d2a5023da094488354acfb,36,5,8,30092,,,0,"Remove six

Replace the following items with Python 3 style code.

- six.moves
- six.PY2
- six.PY3
- six.string_types
- six.text_type

Change-Id: I1656b976864c8f2343e658a4abf432d30c151d0b
",git fetch https://review.opendev.org/openstack/cliff refs/changes/83/754683/8 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/formatters/commaseparated.py', 'cliff/formatters/table.py', 'cliff/display.py', 'cliff/tests/test_formatters_table.py', 'cliff/complete.py', 'lower-constraints.txt', 'cliff/show.py', 'cliff/tests/test_formatters_yaml.py', 'cliff/formatters/value.py', 'cliff/columns.py', 'cliff/formatters/shell.py', 'cliff/tests/test_formatters_json.py', 'requirements.txt', 'cliff/lister.py', 'cliff/tests/test_formatters_value.py', 'cliff/app.py', 'cliff/tests/test_app.py', 'cliff/formatters/base.py', 'cliff/command.py', 'cliff/hooks.py', 'cliff/tests/test_formatters_csv.py', 'cliff/tests/test_formatters_shell.py', 'cliff/utils.py']",23,df3b23f715c1aa1f3531d4cfef1c1ff1c05ce67d,bp/six-removal,getwriter = codecs.getwriter,"import six if six.PY2: def getwriter(encoding): '''Override codecs.getwriter() to prevent codec errors. The StreamWriter returned by codecs.getwriter has an unfortunate property, it will attempt to encode every object presented to it's write() function. Normally we only want unicode objects to be encoded to a byte stream. If bytes are presented (e.g. str in Python2) we make the assumption those bytes represent an already encoded text stream or they are indeed binary bytes and hence should not be encoded. When the core StreamWriter attempts to encode a str object Python will first promote the str object to a unicode object. The promotion of str to unicode requires the str bytes to be decoded. However the encoding associated with the str object is not known therefore Python applies the default-encoding which is ASCII. In the case where the str object contains utf-8 encoded non-ASCII characters a decoding error is raised. By not attempting to encode a byte stream we avoid this error. It really does not make much sense to try and encode a byte stream. First of all a byte stream should not be encoded if it's not text (e.g. binary data). If the byte stream is encoded text the only way to re-encode it is if we known it's encoding so we can decode it into a canonical form (e.g. unicode). Thus to re-encode it we encode from the canonical form (e.g. unicode) to the new binary encoding. The problem in Python2 is we never know if the bytes in a str object are text or binary data and if it's text which encoding it is, hence we should not try to apply an encoding to a str object. ''' class _StreamWriter(codecs.StreamWriter): def __init__(self, stream, errors='strict'): codecs.StreamWriter.__init__(self, stream, errors) def encode(self, msg, errors='strict'): if isinstance(msg, six.text_type): return self.encoder(msg, errors) return msg, len(msg) _StreamWriter.encoder = codecs.getencoder(encoding) _StreamWriter.encoding = encoding return _StreamWriter else: getwriter = codecs.getwriter",90,269
openstack%2Fkuryr-kubernetes~master~I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834,openstack/kuryr-kubernetes,master,I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834,Resolve issues with object races.,MERGED,2020-11-05 15:39:34.000000000,2020-11-18 19:40:37.000000000,2020-11-18 19:38:55.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-11-05 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bdf6bf77b993619c76c8be4dc96b5eac33268b33', 'message': 'Resolve issues with racy objects.\n\nWIP\n\nRelated-Bug: 1903067\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n'}, {'number': 2, 'created': '2020-11-12 16:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e4d563ac2ab5c8c5a8cbc1de457f83f4dcc97aba', 'message': ""Resolve issues with racy objects.\n\nThere were two situations, where we were missing security group, one for\nLB VIP port, which have security group list empty, and on the request\nVIF in kuryrport, where we cannot create port, because SG wasn't created\nyet.\n\nCloses-Bug: 1903641\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n""}, {'number': 3, 'created': '2020-11-12 16:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/044bebc7805f27c9ee4299924c872ee4a1a28037', 'message': ""Resolve issues with racy objects.\n\nThere were two situations, where we were missing security group, one for\nLB VIP port, which have security group list empty, and on the request\nVIF in kuryrport, where we cannot create port, because SG wasn't created\nyet.\n\nCloses-Bug: 1903641\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n""}, {'number': 4, 'created': '2020-11-13 06:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/15f5f3207c6b1cb5de7dd91d1a1e3560a4d84f61', 'message': ""Resolve issues with object races.\n\nThere were two situations, where we were missing security group, one for\nLB VIP port, which have security group list empty, and on the request\nVIF in kuryrport, where we cannot create port, because SG wasn't created\nyet.\n\nCloses-Bug: 1903641\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n""}, {'number': 5, 'created': '2020-11-16 11:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6dee0569e9c7878cfdb49352025fe7d1b3b511cb', 'message': ""Resolve issues with object races.\n\nThere were two situations, where we were missing security group, one for\nLB VIP port, which have security group list empty, and on the request\nVIF in kuryrport, where we cannot create port, because SG wasn't created\nyet.\n\nCloses-Bug: 1903641\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n""}, {'number': 6, 'created': '2020-11-16 11:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e43f1b2d012863140a8c2bf0919774689d3d1a5b', 'message': 'Resolve issues with object races.\n\nThere were two situations, where we were missing security group, one for\nLB VIP port, which have security group list empty, and on the request\nVIF in kuryrport, where we cannot create port, because SG was gone\nduring that process.\n\nCloses-Bug: 1903641\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n'}, {'number': 7, 'created': '2020-11-16 17:53:11.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a028326141e3764b9361be1e2a0ba429af83429', 'message': 'Resolve issues with object races.\n\nThere were two situations, where we were missing security group, one for\nLB VIP port, which have security group list empty, and on the request\nVIF in kuryrport, where we cannot create port, because SG was gone\nduring that process.\n\nCloses-Bug: 1903641\nChange-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834\n'}]",7,761631,3a028326141e3764b9361be1e2a0ba429af83429,49,6,7,13692,,,0,"Resolve issues with object races.

There were two situations, where we were missing security group, one for
LB VIP port, which have security group list empty, and on the request
VIF in kuryrport, where we cannot create port, because SG was gone
during that process.

Closes-Bug: 1903641
Change-Id: I6958ebc4ce888e5d8d68e6458e2a6a270fe6c834
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/761631/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py']",2,bdf6bf77b993619c76c8be4dc96b5eac33268b33,bug-1903641," try: main_vif = self._drv_vif_pool.request_vif(pod, project_id, subnets, security_groups) except os_exc.ResourceNotFound: LOG.warning(""We don't have all the needed resources for creating "" ""vif for the kuryrport %s. Let's retry."", kuryrport_crd) raise k_exc.ResourceNotReady(pod['metadata']['name'])"," main_vif = self._drv_vif_pool.request_vif( pod, project_id, subnets, security_groups)",15,3
openstack%2Foctavia~stable%2Fussuri~I43b79c4c203ec5c7ecf617c449805fa963dd2db8,openstack/octavia,stable/ussuri,I43b79c4c203ec5c7ecf617c449805fa963dd2db8,Add octavia-tempest-plugin to devstack plugin list,ABANDONED,2020-11-03 19:26:32.000000000,2020-11-18 19:39:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-03 19:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/911009955b9265308e677203ca8868f9dab6b352', 'message': 'Add octavia-tempest-plugin to devstack plugin list\n\nPatch [1] deleted the test server binary file from the\noctavia-tempest-plugin Git repository. The test server will now be\ncompiled at devstack test-config phase via a hook in the\noctavia-tempest-plugin devstack plugin.\n\nThe dsvm-scenario jobs, defined in the octavia-tempest-plugin Git\nrepository, were updated to include the octavia-tempest-plugin devstack\nplugin in the devstack_plugins list. The same needs to be done in the\noctavia-grenade CI job defined in the octavia Git repository.\n\n[1] https://review.opendev.org/#/c/758778/\n\nChange-Id: I43b79c4c203ec5c7ecf617c449805fa963dd2db8\n'}, {'number': 2, 'created': '2020-11-13 22:33:26.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/45ca7e6996171a7b6f29770593579224e22fa4f1', 'message': 'Add octavia-tempest-plugin to devstack plugin list\n\nPatch [1] deleted the test server binary file from the\noctavia-tempest-plugin Git repository. The test server will now be\ncompiled at devstack test-config phase via a hook in the\noctavia-tempest-plugin devstack plugin.\n\nThe dsvm-scenario jobs, defined in the octavia-tempest-plugin Git\nrepository, were updated to include the octavia-tempest-plugin devstack\nplugin in the devstack_plugins list. The same needs to be done in the\noctavia-grenade CI job defined in the octavia Git repository.\n\n[1] https://review.opendev.org/#/c/758778/\n\nDepends-On: https://review.opendev.org/#/c/762716/\n\nChange-Id: I43b79c4c203ec5c7ecf617c449805fa963dd2db8\n'}]",0,761221,45ca7e6996171a7b6f29770593579224e22fa4f1,13,5,2,6469,,,0,"Add octavia-tempest-plugin to devstack plugin list

Patch [1] deleted the test server binary file from the
octavia-tempest-plugin Git repository. The test server will now be
compiled at devstack test-config phase via a hook in the
octavia-tempest-plugin devstack plugin.

The dsvm-scenario jobs, defined in the octavia-tempest-plugin Git
repository, were updated to include the octavia-tempest-plugin devstack
plugin in the devstack_plugins list. The same needs to be done in the
octavia-grenade CI job defined in the octavia Git repository.

[1] https://review.opendev.org/#/c/758778/

Depends-On: https://review.opendev.org/#/c/762716/

Change-Id: I43b79c4c203ec5c7ecf617c449805fa963dd2db8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/761221/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,911009955b9265308e677203ca8868f9dab6b352,, octavia-tempest-plugin: https://opendev.org/openstack/octavia-tempest-plugin.git,,1,0
openstack%2Foctavia~stable%2Fvictoria~I43b79c4c203ec5c7ecf617c449805fa963dd2db8,openstack/octavia,stable/victoria,I43b79c4c203ec5c7ecf617c449805fa963dd2db8,Add octavia-tempest-plugin to devstack plugin list,ABANDONED,2020-11-03 19:26:23.000000000,2020-11-18 19:37:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-03 19:26:23.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e5378e802c5d25074ec63f1b6113bcc6e4b5bec', 'message': 'Add octavia-tempest-plugin to devstack plugin list\n\nPatch [1] deleted the test server binary file from the\noctavia-tempest-plugin Git repository. The test server will now be\ncompiled at devstack test-config phase via a hook in the\noctavia-tempest-plugin devstack plugin.\n\nThe dsvm-scenario jobs, defined in the octavia-tempest-plugin Git\nrepository, were updated to include the octavia-tempest-plugin devstack\nplugin in the devstack_plugins list. The same needs to be done in the\noctavia-grenade CI job defined in the octavia Git repository.\n\n[1] https://review.opendev.org/#/c/758778/\n\nChange-Id: I43b79c4c203ec5c7ecf617c449805fa963dd2db8\n'}]",0,761220,2e5378e802c5d25074ec63f1b6113bcc6e4b5bec,7,2,1,6469,,,0,"Add octavia-tempest-plugin to devstack plugin list

Patch [1] deleted the test server binary file from the
octavia-tempest-plugin Git repository. The test server will now be
compiled at devstack test-config phase via a hook in the
octavia-tempest-plugin devstack plugin.

The dsvm-scenario jobs, defined in the octavia-tempest-plugin Git
repository, were updated to include the octavia-tempest-plugin devstack
plugin in the devstack_plugins list. The same needs to be done in the
octavia-grenade CI job defined in the octavia Git repository.

[1] https://review.opendev.org/#/c/758778/

Change-Id: I43b79c4c203ec5c7ecf617c449805fa963dd2db8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/761220/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,2e5378e802c5d25074ec63f1b6113bcc6e4b5bec,, octavia-tempest-plugin: https://opendev.org/openstack/octavia-tempest-plugin.git,,1,0
openstack%2Foctavia~master~I6693be3e2d2f0e34f19f07f55b0429f8fda317b2,openstack/octavia,master,I6693be3e2d2f0e34f19f07f55b0429f8fda317b2,Handle listener not found during loadbalancer status update,MERGED,2020-10-21 16:14:40.000000000,2020-11-18 19:28:14.000000000,2020-11-18 18:30:37.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-21 16:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b50f38b5b80e62f60391ed59b8f67fd4d3005ff7', 'message': 'Handle listener not found during loadbalancer status update\n\nIf a call to update loadbalancer status cannot find the\nspecified listener, the API server will throw an exception:\n\n""Error while updating the load balancer status: \'NoneType\'\n object has no attribute \'update\'""\n\nChange ListenerRepository.update() to check the DB query\nreturned a record, and if not, raise a NotFound exception\nback to the caller.\n\nChange-Id: I6693be3e2d2f0e34f19f07f55b0429f8fda317b2\nTask: 41108\nStory: 2008254\n'}, {'number': 2, 'created': '2020-11-12 14:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/54e88f01137299a8fbdfbdd63f55bc598a0cf08b', 'message': 'Handle listener not found during loadbalancer status update\n\nIf a call to update loadbalancer status cannot find the\nspecified listener, the API server will throw an exception:\n\n""Error while updating the load balancer status: \'NoneType\'\n object has no attribute \'update\'""\n\nChange ListenerRepository.update() to check the DB query\nreturned a record, and if not, raise a NotFound exception\nback to the caller.\n\nChange-Id: I6693be3e2d2f0e34f19f07f55b0429f8fda317b2\nTask: 41108\nStory: 2008254\n'}, {'number': 3, 'created': '2020-11-12 17:33:25.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/17ae2625da0487b7398b927e4e67a713b61569d1', 'message': 'Handle listener not found during loadbalancer status update\n\nIf a call to update loadbalancer status cannot find the\nspecified listener, the API server will throw an exception:\n\n""Error while updating the load balancer status: \'NoneType\'\n object has no attribute \'update\'""\n\nChange ListenerRepository.update() to check the DB query\nreturned a record, and if not, raise a NotFound exception\nback to the caller.\n\nChange-Id: I6693be3e2d2f0e34f19f07f55b0429f8fda317b2\nTask: 41108\nStory: 2008254\n'}]",3,759098,17ae2625da0487b7398b927e4e67a713b61569d1,21,5,3,1131,,,0,"Handle listener not found during loadbalancer status update

If a call to update loadbalancer status cannot find the
specified listener, the API server will throw an exception:

""Error while updating the load balancer status: 'NoneType'
 object has no attribute 'update'""

Change ListenerRepository.update() to check the DB query
returned a record, and if not, raise a NotFound exception
back to the caller.

Change-Id: I6693be3e2d2f0e34f19f07f55b0429f8fda317b2
Task: 41108
Story: 2008254
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/759098/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/db/repositories.py']",2,b50f38b5b80e62f60391ed59b8f67fd4d3005ff7,task/41009," if not listener_db: raise exceptions.NotFound( resource=data_models.Listener._name(), id=id)",,7,0
openstack%2Fironic-inspector~stable%2Fvictoria~Ie15348cd8fbcdca2238134201c5e6f1f7e928c33,openstack/ironic-inspector,stable/victoria,Ie15348cd8fbcdca2238134201c5e6f1f7e928c33,"Revert ""Power off before inspection""",MERGED,2020-11-18 01:30:39.000000000,2020-11-18 19:25:52.000000000,2020-11-18 19:24:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 01:30:39.000000000', 'files': ['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/conf/default.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/099484899dd32c714f986a9c3364d8b0318acf84', 'message': 'Revert ""Power off before inspection""\n\nThis reverts commit\n371c79f3a5037f62c03478d51cf875da09cb0ec4\nas it was found to break TripleO.\n\nPlease see https://review.opendev.org/#/c/754783/\nfor the master branch revert.\n\nChange-Id: Ie15348cd8fbcdca2238134201c5e6f1f7e928c33\n'}]",0,763111,099484899dd32c714f986a9c3364d8b0318acf84,11,6,1,11655,,,0,"Revert ""Power off before inspection""

This reverts commit
371c79f3a5037f62c03478d51cf875da09cb0ec4
as it was found to break TripleO.

Please see https://review.opendev.org/#/c/754783/
for the master branch revert.

Change-Id: Ie15348cd8fbcdca2238134201c5e6f1f7e928c33
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/11/763111/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py']",6,099484899dd32c714f986a9c3364d8b0318acf84,,," def _wait_for_power_state(node, state, ironic): timeout = CONF.power_timeout for count in openstack.utils.iterate_timeout( timeout, ""Timed out waiting for node %(node)s to reach power "" ""state %(state)s."" % {'node': node, 'state': state}): latest_node = ironic.get_node(node) if latest_node.power_state == state: return def set_power_state(node, state, ironic=None, wait=True): if ironic is None: ironic = get_client() try: ironic.set_node_power_state(node, state) if wait: _wait_for_power_state(node, state, ironic) except os_exc.SDKException as exc: raise utils.Error( 'Failed to set power state for node %(node)s ' 'Error: %(error)s' % {'node': node, 'error': exc})",3,107
openstack%2Fironic~master~I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670,openstack/ironic,master,I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670,Convert volume endpoint to plain JSON,MERGED,2020-09-10 02:13:12.000000000,2020-11-18 19:24:20.000000000,2020-11-18 19:24:20.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa40f8b1ec2d088620d7a84582c30936ae286c72', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5151525a086bfa4e355954438eb6e4b3c0b72a2d', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98e7ad3a842c2d0374d2bfbd5751de0a74a8f5f4', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/942e296c6f4d28675395d68ada600c8e3986ce78', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbf965ca38987ac900b48dce091b562f5b4ecd08', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a644e8d3ed9260c7e3ef1e1f767f07805f239dae', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8a1eb332699c68537355ec3f9858c4dd00ac496', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b8013ed51cc26b49dccd88b367cc8cd261270ce', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b109950a9dea889bc372f63177e8b27401f59b57', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69b5133384358e854200fa8b3041a0188c35951d', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/636b148fd050d2d3b7a894a0bbfdb8205c96ea91', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e65c69114ae8391b884f6e781329d8bec67c7cb7', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb355c3679f9ef7f557f7bdccabee858f4064e6a', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d76b4993e3ef2cfae215307443041834b275a82', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f3d4a6c8584680bb58aab124e45bc47b7225de2', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5dd171e97bb42b3423be2dc20b9beceaf876880', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2045351435c6c75d2d30144bde69c29c25665bd', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e491946c1a38ba4daa2346e026549ccf2747e7e', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/api/controllers/v1/volume.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a8f4324d656b36c7a393f7be316533962f08b0a', 'message': 'Convert volume endpoint to plain JSON\n\nChange-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670\nStory: 1651346\nTask: 10551\n'}]",0,750858,3a8f4324d656b36c7a393f7be316533962f08b0a,65,6,19,4571,,,0,"Convert volume endpoint to plain JSON

Change-Id: I10293c55c7f65374c4d5d98fe7ba0cfd8a90b670
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/750858/16 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/volume.py'],1,fa40f8b1ec2d088620d7a84582c30936ae286c72,story/1651346,"from ironic.api import methoddef convert(node_ident=None): url = api.request.public_url volume = {} if node_ident: resource = 'nodes' rargs = '%s/volume/' % node_ident else: resource = 'volume' rargs = '' volume['links'] = [ link.make_link('self', url, resource, rargs), link.make_link('bookmark', url, resource, rargs, bookmark=True)] volume['connectors'] = [ link.make_link('self', url, resource, rargs + 'connectors'), link.make_link('bookmark', url, resource, rargs + 'connectors', bookmark=True)] volume['targets'] = [ link.make_link('self', url, resource, rargs + 'targets'), link.make_link('bookmark', url, resource, rargs + 'targets', bookmark=True)] return volume @method.expose() return convert(self.parent_node_ident)","from ironic.api.controllers import basefrom ironic.api import exposeclass Volume(base.APIBase): """"""API representation of a volume root. This class exists as a root class for the volume connectors and volume targets controllers. """""" links = None """"""A list containing a self link and associated volume links"""""" connectors = None """"""Links to the volume connectors resource"""""" targets = None """"""Links to the volume targets resource"""""" @staticmethod def convert(node_ident=None): url = api.request.public_url volume = Volume() if node_ident: resource = 'nodes' args = '%s/volume/' % node_ident else: resource = 'volume' args = '' volume.links = [ link.make_link('self', url, resource, args), link.make_link('bookmark', url, resource, args, bookmark=True)] volume.connectors = [ link.make_link('self', url, resource, args + 'connectors'), link.make_link('bookmark', url, resource, args + 'connectors', bookmark=True)] volume.targets = [ link.make_link('self', url, resource, args + 'targets'), link.make_link('bookmark', url, resource, args + 'targets', bookmark=True)] return volume @expose.expose(Volume) return Volume.convert(self.parent_node_ident)",25,43
openstack%2Fironic~master~Ib7f1875051eed0fc5882cf675eead56694db76d7,openstack/ironic,master,Ib7f1875051eed0fc5882cf675eead56694db76d7,Convert ramdisk endpoint to plain JSON,MERGED,2020-09-10 02:13:12.000000000,2020-11-18 19:24:14.000000000,2020-11-18 19:24:14.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef3ae6c37a8ca33850188a869e01b37db53d60fc', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13f54d02e60748cdc5a1abf3907b5969be55c164', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7f8110c868dced0ce0f9a7291eef1971a9c312a', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bcc616b8795934b6cad2141595be513007a865ee', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3321a62fab6a65fb950f28db76aa8a2d1db9be6', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5607b1b0184fe1d6e6048ac7266b6b863ae73e4c', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c24971dc2874c02cd2cb2d7d18cd0fb208e001d', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-23 04:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0aee0d3910def3b23bb4d4ac303041e136544fe', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9cfb2938f2442a6520b3178d05cfaf2362502f6f', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d14c387e7a2b887a4d70a59b1af6cc104b221cd4', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29dbe9abf38c5eab1bbb600abcf8ed6c64abc946', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/652f8b6ed04bc7ab395d95215827bd3db357a680', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bea0ca5193d632906f6aa21c11d05e47dddd9484', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be6981efee3ce636f0be146a423da9a5fd85a2e8', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92ac0b22c7ca25ece080079621cd23c2014db3b7', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6efe53ebeb0ba2f301178bbec5681b7781c2ec8c', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c6f4c269245311e35c5d7c1125b41d0b0e9b374', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0b76f1484cb22a7384fdf0f4906be700583add8', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/api/controllers/v1/ramdisk.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca53858db05c462e44aaeac9553255a76db5a315', 'message': 'Convert ramdisk endpoint to plain JSON\n\nChange-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7\nStory: 1651346\nTask: 10551\n'}]",0,750857,ca53858db05c462e44aaeac9553255a76db5a315,72,7,19,4571,,,0,"Convert ramdisk endpoint to plain JSON

Change-Id: Ib7f1875051eed0fc5882cf675eead56694db76d7
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/750857/9 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/ramdisk.py'],1,ef3ae6c37a8ca33850188a869e01b37db53d60fc,story/1651346,"from ironic.api import method from ironic.common import argsdef convert_with_links(node): token = node.driver_internal_info.get('agent_secret_token') node = node_ctl.node_convert_with_links(node, _LOOKUP_RETURN_FIELDS) return {'node': node, 'config': config(token)} @method.expose() @args.validate(addresses=args.string_list, node_uuid=args.uuid) return convert_with_links(found_node) @method.expose(status_code=http_client.ACCEPTED) @args.validate(node_ident=args.uuid_or_name, callback_url=args.string, agent_version=args.string, agent_token=args.string)","from ironic.api.controllers import basefrom ironic.api.controllers.v1 import typesfrom ironic.api import exposeclass LookupResult(base.APIBase): """"""API representation of the node lookup result."""""" node = None """"""The short node representation."""""" config = {str: types.jsontype} """"""The configuration to pass to the ramdisk."""""" @classmethod def convert_with_links(cls, node): token = node.driver_internal_info.get('agent_secret_token') node = node_ctl.node_convert_with_links(node, _LOOKUP_RETURN_FIELDS) return cls(node=node, config=config(token)) @expose.expose(LookupResult, types.listtype, types.uuid) return LookupResult.convert_with_links(found_node) @expose.expose(None, types.uuid_or_name, str, str, str, status_code=http_client.ACCEPTED)",12,21
openstack%2Fopenstack-ansible~master~I103627c4e9c5d9583c5b6ee289ea9dbae0ebe365,openstack/openstack-ansible,master,I103627c4e9c5d9583c5b6ee289ea9dbae0ebe365,Make the different methods of integrating with a ceph cluster clearer,MERGED,2020-11-17 14:26:28.000000000,2020-11-18 19:02:58.000000000,2020-11-18 19:01:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-11-17 14:26:28.000000000', 'files': ['doc/source/user/ceph/full-deploy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0cce99df876c677591594a8d0aa69b1fd0791c33', 'message': 'Make the different methods of integrating with a ceph cluster clearer\n\nChange-Id: I103627c4e9c5d9583c5b6ee289ea9dbae0ebe365\n'}]",0,763019,0cce99df876c677591594a8d0aa69b1fd0791c33,8,3,1,25023,,,0,"Make the different methods of integrating with a ceph cluster clearer

Change-Id: I103627c4e9c5d9583c5b6ee289ea9dbae0ebe365
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/763019/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/ceph/full-deploy.rst'],1,0cce99df876c677591594a8d0aa69b1fd0791c33,,"integration in three ways: * connecting to your own pre-deployed ceph cluster by pointing to its information in ``user_variables.yml`` and allowing openstack-ansible to ssh to the ceph monitors to retrieve the contents of ceph.conf and the keyrings. * connecting to your own pre-deployed ceph cluster by pointing to its information in ``user_variables.yml`` and providing data to populate ceph.conf and ceph keyring files on the deploy host. This is described No ssh access by openstack-ansible is required to the ceph cluster. * deploying a ceph cluster as part of the openstack-ansible deployment by using the roles maintained by the `Ceph-Ansible`_ project. Deployers can enable the ``ceph-install`` playbook by adding hosts to the ``ceph-mon_hosts``, ``ceph-osd_hosts`` and ``ceph-rgw_hosts`` groups in ``openstack_user_config.yml``, and then configuring `Ceph-Ansible specific vars","integration in two ways: * connecting to your own ceph cluster by pointing to its information in ``user_variables.yml``. This is described* deploying a ceph cluster by using the roles maintained by the `Ceph-Ansible`_ project. Deployers can enable the ``ceph-install`` playbook by adding hosts to the ``ceph-mon_hosts``, ``ceph-osd_hosts`` and ``ceph-rgw_hosts`` groups in ``openstack_user_config.yml``, and then configuring `Ceph-Ansible specific vars",14,8
openstack%2Fopenstack-ansible-os_manila~stable%2Fussuri~Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1,openstack/openstack-ansible-os_manila,stable/ussuri,Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1,Updated from OpenStack Ansible Tests,MERGED,2020-06-01 13:32:25.000000000,2020-11-18 18:52:59.000000000,2020-11-18 18:51:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-06-01 13:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/054d308a1800e13e8dbc2f14dd734544d22b2e1f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1\n'}, {'number': 2, 'created': '2020-06-17 19:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/2261e99d8b9d05a04c10ca7af1e5b532e3874aea', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1\n'}, {'number': 3, 'created': '2020-08-14 07:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/242c4056ad93eac247a5b42829ca916627c8d9ed', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1\n'}, {'number': 4, 'created': '2020-08-14 20:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/40bfd5f252015e2b6180823af850578dd3de1b34', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746348\nChange-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1\n'}, {'number': 5, 'created': '2020-11-01 10:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/53673ee4dc397bc680cf41869d97937963fbcd87', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746348\nChange-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1\n'}, {'number': 6, 'created': '2020-11-10 12:10:28.000000000', 'files': ['bindep.txt', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/e6be9ced0357db618b92f5b25991fba691941ebc', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/761806\nChange-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1\n'}]",0,732360,e6be9ced0357db618b92f5b25991fba691941ebc,59,4,6,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/761806
Change-Id: Ib4dcdd3a026ef28028d3a68a8d12b754c11611b1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/60/732360/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,054d308a1800e13e8dbc2f14dd734544d22b2e1f,openstack/openstack-ansible-tests/sync-tests,iptables [platform:redhat],,1,0
openstack%2Fneutron~master~I448365bad076e67b32198277101f188fbfc3dece,openstack/neutron,master,I448365bad076e67b32198277101f188fbfc3dece,"Deprecate config option ""keepalived_use_no_track""",MERGED,2020-10-26 10:10:06.000000000,2020-11-18 18:50:54.000000000,2020-11-18 18:48:33.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-26 10:10:06.000000000', 'files': ['releasenotes/notes/deprecate-keepalived_use_no_track-50d481d2809604d4.yaml', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f66cb8182f6c1f07018584b7a4d721c03b5711a', 'message': 'Deprecate config option ""keepalived_use_no_track""\n\nChange-Id: I448365bad076e67b32198277101f188fbfc3dece\nRelated-Bug: #1896506\n'}]",0,759657,2f66cb8182f6c1f07018584b7a4d721c03b5711a,72,9,1,8313,,,0,"Deprecate config option ""keepalived_use_no_track""

Change-Id: I448365bad076e67b32198277101f188fbfc3dece
Related-Bug: #1896506
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/759657/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-keepalived_use_no_track-50d481d2809604d4.yaml', 'neutron/conf/agent/l3/config.py']",2,2f66cb8182f6c1f07018584b7a4d721c03b5711a,bug/1896506," deprecated_for_removal=True, deprecated_reason='By keepalived version detection introduced ' 'by https://review.opendev.org/757620 there ' 'is no need for this config option. To be ' 'removed in X.',",,10,0
openstack%2Ftripleo-docs~master~I8785809b1aad4e46dc167939946aefe53ceff258,openstack/tripleo-docs,master,I8785809b1aad4e46dc167939946aefe53ceff258,standalone: add CloudDomain in examples,MERGED,2020-11-17 12:27:33.000000000,2020-11-18 18:43:44.000000000,2020-11-18 18:41:41.000000000,"[{'_account_id': 3153}, {'_account_id': 9555}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 12:27:33.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/755cfe6bd5d48cb90b9861a4c2f4196f5583c207', 'message': 'standalone: add CloudDomain in examples\n\nCloudDomain is necessary if one changes the default, it will affect how\nthe services are configured and attached to the host, they need to be\nconfigured with the right domain and not the ""localdomain"" default when\nusing custom domains.\n\nChange-Id: I8785809b1aad4e46dc167939946aefe53ceff258\n'}]",0,763001,755cfe6bd5d48cb90b9861a4c2f4196f5583c207,11,5,1,3153,,,0,"standalone: add CloudDomain in examples

CloudDomain is necessary if one changes the default, it will affect how
the services are configured and attached to the host, they need to be
configured with the right domain and not the ""localdomain"" default when
using custom domains.

Change-Id: I8785809b1aad4e46dc167939946aefe53ceff258
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/01/763001/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,755cfe6bd5d48cb90b9861a4c2f4196f5583c207,clouddomain, CloudDomain: localdomain CloudDomain: localdomain,,2,0
openstack%2Ftempest~master~I34969b03230eff2a52f923d4e21fdf9248f247c1,openstack/tempest,master,I34969b03230eff2a52f923d4e21fdf9248f247c1,Skip test_server_rescue with volumes when there is no Cinder,MERGED,2020-11-13 09:11:34.000000000,2020-11-18 18:20:41.000000000,2020-11-18 18:18:53.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-13 09:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1680564a20667d6beee6253c09f4ab5754099e2a', 'message': 'Skip test_server_rescue with volumes when there is no Cinder\n\nChange-Id: I34969b03230eff2a52f923d4e21fdf9248f247c1\nCloses-Bug: #1904131\n'}, {'number': 2, 'created': '2020-11-17 18:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/298d9dbfb004d50b0aacb6bdc557bb31345cb583', 'message': 'Skip test_server_rescue with volumes when there is no Cinder\n\nChange-Id: I34969b03230eff2a52f923d4e21fdf9248f247c1\nCloses-Bug: #1904131\n'}, {'number': 3, 'created': '2020-11-18 01:27:06.000000000', 'files': ['tempest/api/compute/servers/test_server_rescue.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc360aeb0f63a70142f9c565ed6e29e7a0dd6224', 'message': 'Skip test_server_rescue with volumes when there is no Cinder\n\nChange-Id: I34969b03230eff2a52f923d4e21fdf9248f247c1\nCloses-Bug: #1904131\n'}]",2,762622,bc360aeb0f63a70142f9c565ed6e29e7a0dd6224,18,6,3,11975,,,0,"Skip test_server_rescue with volumes when there is no Cinder

Change-Id: I34969b03230eff2a52f923d4e21fdf9248f247c1
Closes-Bug: #1904131
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/762622/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_rescue.py'],1,1680564a20667d6beee6253c09f4ab5754099e2a,bug/1904131," @testtools.skipIf(not CONF.service_available.cinder, 'Cinder is not available') @classmethod def skip_checks(cls): super(ServerBootFromVolumeStableRescueTest, cls).skip_checks() if not CONF.service_available.cinder: skip_msg = (""%s skipped as Cinder is not available"" % cls.__name__) raise cls.skipException(skip_msg) ",,9,0
openstack%2Ftripleo-ansible~master~I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697,openstack/tripleo-ansible,master,I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697,CLI playbook: create overcloud composable network,MERGED,2020-09-14 10:19:02.000000000,2020-11-18 18:18:57.000000000,2020-11-13 13:10:35.000000000,"[{'_account_id': 4571}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-14 10:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c0490bf3ebfe35aac1b2e710c9d7f771f3a134d', 'message': 'WIP - Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 2, 'created': '2020-09-21 09:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e67f72f8b14a58917eb772703cff0e09c96c80ff', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 3, 'created': '2020-09-22 10:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c54836c993ed5c4c12132d0acc74efd64b07f4b8', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 4, 'created': '2020-09-22 16:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ef7e46170e755064167cbc6bdcfe6b6d6cae6b9a', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 5, 'created': '2020-09-22 22:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f23df1f0969d9318716fb00a548c289bfc917388', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 6, 'created': '2020-09-23 00:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c442cd09a412e47640f992dcd0d0683db1520043', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 7, 'created': '2020-09-23 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b267923dfdd17a5efae2ce3ef1da16e937caa6c', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 8, 'created': '2020-09-25 13:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08f2e5a186b54996f6db1ba8a54299ecdefb5c06', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 9, 'created': '2020-09-29 13:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc3d3f1d781953c999421efec2749f0cf881303e', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 10, 'created': '2020-09-29 22:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce641c78d8175ab51b0889c23ddc63f3f27a88b2', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 11, 'created': '2020-09-30 11:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbd4727ca4ed3a33cb97e16b6ee78c859e97bf8a', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 12, 'created': '2020-10-07 10:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a3c91001addf8260c31999b0665b2727048f2e5', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 13, 'created': '2020-10-07 10:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9298f88c47c6b1fc5a421f2e7aeb0c90ee94ad9b', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 14, 'created': '2020-10-07 11:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab1f9b06702cf8974e6e3e25eac96d042e15b609', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 15, 'created': '2020-10-15 08:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35c55fcb4cb3f7bd1b5b0ede0bb6c14f6715a640', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 16, 'created': '2020-11-04 13:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e336872c2878db938ce68c5556a2c6090f056654', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 17, 'created': '2020-11-05 14:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5578ab0b3baead2c4782ca67cc7590c9bf545c77', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 18, 'created': '2020-11-05 15:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/204157d3f9e9eafb2841b7122c5460d44a96a24c', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 19, 'created': '2020-11-05 16:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b64c9b45a45e6c3ce1f30492b53a4107d280f27e', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 20, 'created': '2020-11-09 12:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d40015e967211c90460f9b470fbdcffcd7e95ffd', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 21, 'created': '2020-11-12 08:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ad4863ad3f7e68a5298da98947fe15e6eaaa891', 'message': 'Ansible - create overcloud composable network\n\nA CLI playbook and two modules to create overcloud\ncomposable networks and build a ""deployed-network-env""\nfile that can be used as input to a simple heat templatea\nreplacing OS::TripleO::Network: network/networks.yaml\n\nThe json schema validator copies the validation errors\nprocessing code from os-net-config with just minor\nchanges.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 22, 'created': '2020-11-12 10:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb2ac413e6e9a1337cb5b8afe74ac9d605fce41d', 'message': 'CLI playbook: create overcloud composable network\n\nAdds CLI playbook cli-overcloud-network-provision.yaml\nPlaybook loads configuration data file, iterates over\neach composable network definition and calls the\ntripleo_composable_network to create/update the network,\nsegment and subnet resources.\n\nOnce composable networks are created/updated the\ntripleo_network_populate_environment module is called\nto create the heat environment for deployed-networks.\n\nFinally the deployed networks environment is written to\nthe output file.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}, {'number': 23, 'created': '2020-11-12 13:14:43.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-network-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91ce991f3e05130f2ac4ca363fdf517a1f95649a', 'message': 'CLI playbook: create overcloud composable network\n\nAdds CLI playbook cli-overcloud-network-provision.yaml\nPlaybook loads configuration data file, iterates over\neach composable network definition and calls the\ntripleo_composable_network to create/update the network,\nsegment and subnet resources.\n\nOnce composable networks are created/updated the\ntripleo_network_populate_environment module is called\nto create the heat environment for deployed-networks.\n\nFinally the deployed networks environment is written to\nthe output file.\n\nChange-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697\n'}]",13,751739,91ce991f3e05130f2ac4ca363fdf517a1f95649a,90,9,23,24245,,,0,"CLI playbook: create overcloud composable network

Adds CLI playbook cli-overcloud-network-provision.yaml
Playbook loads configuration data file, iterates over
each composable network definition and calls the
tripleo_composable_network to create/update the network,
segment and subnet resources.

Once composable networks are created/updated the
tripleo_network_populate_environment module is called
to create the heat environment for deployed-networks.

Finally the deployed networks environment is written to
the output file.

Change-Id: I98a5b6e966081da4f2fdf1ac77d02f13b7cbf697
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/751739/20 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-network-provision.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py']",3,8c0490bf3ebfe35aac1b2e710c9d7f771f3a134d,network-data-v2,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2018 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ipaddress import yaml from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = ''' --- module: tripleo_network_pupulate_environment short_description: Create TripleO Composable network deployed environemnt version_added: ""2.8"" description: - ""Create TripleO Composable network deployed environemnt data"" options: net_data: description: - Structure describing a TripleO composable network type: list author: - Harald Jenss <hjensas@redhat.com> ''' RETURN = ''' net_ip_version_map: description: - Dictionary mapping network's to ip_version returned: always type: dict net_cidr_map: description: - Dictionary mapping network to cidrs returned: always type: dict ''' EXAMPLES = ''' ''' def get_net_ip_version(net): ip_versions = {ipaddress.ip_network(subnet['ip_subnet']).version for name, subnet in net['subnets'].items()} if {4, 6} == ip_versions: # Full dual stack is currently not supported, operator must set # ipv6: true in network_data if services on the network should use ipv6 ip_versions = {6} if net.ipv6 else {4} return ip_versions.pop() def get_net_cidrs(net, ip_version): key = 'ipv6_subnet' if ip_version == 6 else 'ip_subnet' return [subnet[key] for name, subnet in net['subnets'].items() if ipaddress.ip_network(subnet[key]).version == ip_version] def run_module(): result = dict( success=False, changed=False, error="""", environment={}, ) argument_spec = openstack_full_argument_spec( **yaml.safe_load(DOCUMENTATION)['options'] ) module = AnsibleModule( argument_spec, supports_check_mode=False, **openstack_module_kwargs() ) net_data = module.params['net_data'] try: net_ip_version_map = dict() net_cidr_map = dict() for net in net_data: name = net['name_lower'] ip_version = get_net_ip_version(net) net_cidrs = get_net_cidrs(net, ip_version) net_ip_version_map.update({name: ip_version}) net_cidr_map.update({name: net_cidrs}) result['environment'] = { 'DeployedNetworkEnvironment': { 'net_ip_version_map': net_ip_version_map, 'net_cidr_map': net_cidr_map, } } result['success'] = True module.exit_json(**result) except Exception as err: result['error'] = str(err) result['msg'] = (""Error overcloud network provision failed!"") module.fail_json(**result) def main(): run_module() if __name__ == '__main__': main() ",,601,0
openstack%2Fhorizon~master~Ia249e83a7d40af873d6509c932b11cb9bb7a9497,openstack/horizon,master,Ia249e83a7d40af873d6509c932b11cb9bb7a9497,Drop the legacy way to retrieve neutron quotas and usages,MERGED,2020-10-26 08:36:50.000000000,2020-11-18 18:10:44.000000000,2020-11-18 18:08:06.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-10-26 08:36:50.000000000', 'files': ['releasenotes/notes/drop-neutron-quota-legacy-1efd1f1924ae3489.yaml', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/test/unit/usage/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/22741aaa3eb36a98e5c599833655e0274f58e544', 'message': 'Drop the legacy way to retrieve neutron quotas and usages\n\nquota_details neutron API extension was implemented since Pike\nand the enough migration period has passed. We have not received\nany negative feedback on the removal of the legacy way since\nits deprecation in Ussuri release.\n\nChange-Id: Ia249e83a7d40af873d6509c932b11cb9bb7a9497\n'}]",0,759652,22741aaa3eb36a98e5c599833655e0274f58e544,12,3,1,841,,,0,"Drop the legacy way to retrieve neutron quotas and usages

quota_details neutron API extension was implemented since Pike
and the enough migration period has passed. We have not received
any negative feedback on the removal of the legacy way since
its deprecation in Ussuri release.

Change-Id: Ia249e83a7d40af873d6509c932b11cb9bb7a9497
",git fetch https://review.opendev.org/openstack/horizon refs/changes/52/759652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-neutron-quota-legacy-1efd1f1924ae3489.yaml', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/test/unit/usage/test_quotas.py']",3,22741aaa3eb36a98e5c599833655e0274f58e544,drop-neutron-legacy-usage," def test_tenant_quota_usages_network(self): self.assertEqual(3, self.mock_is_extension_supported.call_count)"," def test_tenant_quota_usages_neutron_with_target_network_resources(self): self._test_tenant_quota_usages_neutron_with_target( targets=('network', 'subnet', 'router',)) def test_tenant_quota_usages_neutron_with_target_security_groups(self): self._test_tenant_quota_usages_neutron_with_target( targets=('security_group',)) def test_tenant_quota_usages_neutron_with_target_floating_ips(self): self._test_tenant_quota_usages_neutron_with_target( targets=('floatingip',)) def test_tenant_quota_usages_neutron_with_target_security_group_rule(self): self._test_tenant_quota_usages_neutron_with_target( targets=('security_group_rule',) ) def test_tenant_quota_usages_non_legacy(self): # network mock.call(test.IsHttpRequest(), 'quota_details'), # subnet mock.call(test.IsHttpRequest(), 'quota_details'), # port mock.call(test.IsHttpRequest(), 'quota_details'), # router mock.call(test.IsHttpRequest(), 'quota_details'), # floating IP mock.call(test.IsHttpRequest(), 'quota_details'), # security group mock.call(test.IsHttpRequest(), 'quota_details'), # security group rule mock.call(test.IsHttpRequest(), 'quota_details'), self.assertEqual(10, self.mock_is_extension_supported.call_count) @test.create_mocks({api.base: ('is_service_enabled',), cinder: ('is_volume_service_enabled',), api.neutron: ('floating_ip_supported', 'tenant_floating_ip_list', 'security_group_list', 'is_extension_supported', 'is_router_enabled', 'is_quotas_extension_supported', 'tenant_quota_get', 'network_list', 'subnet_list', 'router_list')}) def _test_tenant_quota_usages_neutron_with_target(self, targets): self._mock_service_enabled(network_enabled=True) if 'security_group' in targets or 'security_group_rule' in targets: self.mock_is_extension_supported.side_effect = [True, False] else: self.mock_is_extension_supported.side_effect = [False] self.mock_is_router_enabled.return_value = True self.mock_is_quotas_extension_supported.return_value = True self.mock_tenant_quota_get.return_value = self.neutron_quotas.first() if 'network' in targets: self.mock_network_list.return_value = self.networks.list() if 'subnet' in targets: self.mock_subnet_list.return_value = self.subnets.list() if 'router' in targets: self.mock_router_list.return_value = self.routers.list() if 'floatingip' in targets: self.mock_tenant_floating_ip_list.return_value = \ self.floating_ips.list() if 'security_group' in targets or 'security_group_rule' in targets: self.mock_security_group_list.return_value = \ self.security_groups.list() quota_usages = quotas.tenant_quota_usages(self.request, targets=targets) network_used = len(self.networks.list()) subnet_used = len(self.subnets.list()) router_used = len(self.routers.list()) fip_used = len(self.floating_ips.list()) security_groups = self.security_groups.list() sg_used = len(security_groups) sgr_used = sum(map( lambda group: len(group.security_group_rules), security_groups )) expected = { 'network': {'used': network_used, 'quota': 10, 'available': 10 - network_used}, 'subnet': {'used': subnet_used, 'quota': 10, 'available': 10 - subnet_used}, 'router': {'used': router_used, 'quota': 10, 'available': 10 - router_used}, 'security_group': {'used': sg_used, 'quota': 20, 'available': 20 - sg_used}, 'security_group_rule': { 'quota': 100, 'used': sgr_used, 'available': 100 - sgr_used }, 'floatingip': {'used': fip_used, 'quota': 50, 'available': 50 - fip_used}, } expected = dict((k, v) for k, v in expected.items() if k in targets) # Compare internal structure of usages to expected. self.assertEqual(expected, quota_usages.usages) # Compare available resources self.assertAvailableQuotasEqual(expected, quota_usages.usages) self._check_service_enabled({'network': 1}) if 'security_group' in targets or 'security_group_rule' in targets: self.mock_is_extension_supported.assert_has_calls([ mock.call(test.IsHttpRequest(), 'security-group'), mock.call(test.IsHttpRequest(), 'quota_details'), ]) self.assertEqual(2, self.mock_is_extension_supported.call_count) else: self.mock_is_extension_supported.assert_called_once_with( test.IsHttpRequest(), 'quota_details') if 'floatingip' in targets or 'router' in targets: self.mock_is_router_enabled.assert_called_once_with( test.IsHttpRequest()) else: self.mock_is_router_enabled.assert_not_called() self.mock_is_quotas_extension_supported.assert_called_once_with( test.IsHttpRequest()) self.mock_tenant_quota_get.assert_called_once_with( test.IsHttpRequest(), '1') if 'network' in targets: self.mock_network_list.assert_called_once_with( test.IsHttpRequest(), tenant_id=self.request.user.tenant_id) else: self.mock_network_list.assert_not_called() if 'subnet' in targets: self.mock_subnet_list.assert_called_once_with( test.IsHttpRequest(), tenant_id=self.request.user.tenant_id) else: self.mock_subnet_list.assert_not_called() if 'router' in targets: self.mock_router_list.assert_called_once_with( test.IsHttpRequest(), tenant_id=self.request.user.tenant_id) else: self.mock_router_list.assert_not_called() if 'floatingip' in targets: self.mock_tenant_floating_ip_list.assert_called_once_with( test.IsHttpRequest()) else: self.mock_tenant_floating_ip_list.assert_not_called() if 'security_group' in targets or 'security_group_rule' in targets: self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) else: self.mock_security_group_list.assert_not_called()",15,229
openstack%2Fpython-ironicclient~master~Ifc5d324e988f0e7d1fb9ce7b312fe2f6509894bb,openstack/python-ironicclient,master,Ifc5d324e988f0e7d1fb9ce7b312fe2f6509894bb,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-12 01:27:10.000000000,2020-11-18 17:40:00.000000000,2020-11-18 17:38:05.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-12 01:27:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6249fc0219d63755837c053240aa790f7519ef47', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ifc5d324e988f0e7d1fb9ce7b312fe2f6509894bb\n'}]",0,762451,6249fc0219d63755837c053240aa790f7519ef47,8,3,1,32029,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ifc5d324e988f0e7d1fb9ce7b312fe2f6509894bb
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/51/762451/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6249fc0219d63755837c053240aa790f7519ef47,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fironic-python-agent~master~Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497,openstack/ironic-python-agent,master,Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497,Add clean step 'erase_pstore',MERGED,2020-11-12 15:35:22.000000000,2020-11-18 17:39:47.000000000,2020-11-18 17:38:00.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-12 15:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d8735934f4996aedc03579bee5e58334459a99fe', 'message': ""Add clean step 'erase_pstore'\n\nAdd an automatic clean step to clean the Linux kernel's pstore.\nThe step is enabled by default.\n\nStory: #2008317\nTask: #41214\n\nChange-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497\n""}, {'number': 2, 'created': '2020-11-12 15:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/606e7976249f21abaec39ea7db64141dd6c7d2a6', 'message': ""Add clean step 'erase_pstore'\n\nAdd an automatic clean step to clean the Linux kernel's pstore.\nThe step is enabled by default.\n\nStory: #2008317\nTask: #41214\n\nChange-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497\n""}, {'number': 3, 'created': '2020-11-12 16:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ac58356607ab4a8471435cc3cb8ddb010116040c', 'message': ""Add clean step 'erase_pstore'\n\nAdd an automatic clean step to clean the Linux kernel's pstore.\nThe step is enabled by default.\n\nStory: #2008317\nTask: #41214\n\nChange-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497\n""}, {'number': 4, 'created': '2020-11-17 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/42498a90a40c1eeb811243b1a8bd92b372c90fdf', 'message': ""Add clean step 'erase_pstore'\n\nAdd an automatic clean step to clean the Linux kernel's pstore.\nThe step is enabled by default.\n\nStory: #2008317\nTask: #41214\n\nChange-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497\n""}, {'number': 5, 'created': '2020-11-17 16:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e5666c1ac882a44e68a4443c0c20799e3912208c', 'message': ""Add clean step 'erase_pstore'\n\nAdd an automatic clean step to clean the Linux kernel's pstore.\nThe step is disabled by default.\n\nStory: #2008317\nTask: #41214\n\nChange-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497\n""}, {'number': 6, 'created': '2020-11-17 17:02:23.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/add_erase_pstore-b109c58ed8f5d351.yaml', 'doc/source/admin/hardware_managers.rst', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/92e26b01e97418f3f491216eb193124703befd3d', 'message': ""Add clean step 'erase_pstore'\n\nAdd an automatic clean step to clean the Linux kernel's pstore.\nThe step is disabled by default.\n\nStory: #2008317\nTask: #41214\n\nChange-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497\n""}]",1,762537,92e26b01e97418f3f491216eb193124703befd3d,21,6,6,11292,,,0,"Add clean step 'erase_pstore'

Add an automatic clean step to clean the Linux kernel's pstore.
The step is disabled by default.

Story: #2008317
Task: #41214

Change-Id: Ie1a42dfff4c7e1c7abeaf39feca956bb9e2ea497
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/37/762537/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/add_erase_pstore-b109c58ed8f5d351.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,d8735934f4996aedc03579bee5e58334459a99fe,story_2008317,"import shutilPROC_MOUNTS_OUTPUT = ("""""" debugfs /sys/kernel/debug debugfs rw,relatime 0 0 /dev/sda2 / ext4 rw,relatime,errors=remount-ro 0 0 tmpfs /run/user/1000 tmpfs rw,nosuid,nodev,relatime 0 0 pstore /sys/fs/pstore pstore rw,nosuid,nodev,noexec,relatime 0 0 /dev/loop19 /snap/core/10126 squashfs ro,nodev,relatime 0 0 """""") PROC_MOUNTS_OUTPUT_NO_PSTORE = ("""""" debugfs /sys/kernel/debug debugfs rw,relatime 0 0 /dev/sda2 / ext4 rw,relatime,errors=remount-ro 0 0 tmpfs /run/user/1000 tmpfs rw,nosuid,nodev,relatime 0 0 pstore /sys/fs/pstore qstore rw,nosuid,nodev,noexec,relatime 0 0 /dev/loop19 /snap/core/10126 squashfs ro,nodev,relatime 0 0 """""") 'step': 'erase_pstore', 'priority': 20, 'interface': 'deploy', 'reboot_requested': False, 'abortable': True }, { def test__find_pstore_mount_point(self): with mock.patch('builtins.open', mock.mock_open(), create=True) as mocked_open: mocked_open.return_value.__iter__.return_value = \ PROC_MOUNTS_OUTPUT.splitlines() self.assertEqual(self.hardware._find_pstore_mount_point(), ""/sys/fs/pstore"") mocked_open.assert_called_once_with('/proc/mounts', 'r') def test__find_pstore_mount_point_no_pstore(self): with mock.patch('builtins.open', mock.mock_open(), create=True) as mocked_open: mocked_open.return_value.__iter__.return_value = \ PROC_MOUNTS_OUTPUT_NO_PSTORE.splitlines() self.assertIsNone(self.hardware._find_pstore_mount_point()) mocked_open.assert_called_once_with('/proc/mounts', 'r') @mock.patch('os.listdir', autospec=True) @mock.patch.object(shutil, 'rmtree', autospec=True) @mock.patch.object(hardware.GenericHardwareManager, '_find_pstore_mount_point', autospec=True) def test_erase_pstore(self, mocked_find_pstore, mocked_rmtree, mocked_listdir): mocked_find_pstore.return_value = '/sys/fs/pstore' pstore_entries = ['dmesg-erst-663482778', 'dmesg-erst-663482779'] mocked_listdir.return_value = pstore_entries self.hardware.erase_pstore(self.node, []) mocked_listdir.assert_called_once() self.assertEqual(mocked_rmtree.call_count, len(pstore_entries)) mocked_rmtree.assert_has_calls([ mock.call('/sys/fs/pstore/' + arg) for arg in pstore_entries ]) ",,107,0
openstack%2Freleases~master~Iad595c27f1ee9bdd3ec2b220d8f33c4428ba67a5,openstack/releases,master,Iad595c27f1ee9bdd3ec2b220d8f33c4428ba67a5,Add QA release liaison,MERGED,2020-11-17 18:42:40.000000000,2020-11-18 17:22:35.000000000,2020-11-18 17:22:34.000000000,"[{'_account_id': 5689}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-17 18:42:40.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6e5603c9bcd5cd443da6941afbbb072b6d409c5d', 'message': 'Add QA release liaison\n\nChange-Id: Iad595c27f1ee9bdd3ec2b220d8f33c4428ba67a5\n'}]",0,763073,6e5603c9bcd5cd443da6941afbbb072b6d409c5d,8,4,1,8556,,,0,"Add QA release liaison

Change-Id: Iad595c27f1ee9bdd3ec2b220d8f33c4428ba67a5
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/763073/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,6e5603c9bcd5cd443da6941afbbb072b6d409c5d,,Quality Assurance: - name: 'Ghanshyam Mann' irc: gmann email: gmann@ghanshyammann.com,,4,0
openstack%2Freleases~master~I8a650c087f55176a4dacb2ef799435efc94fe4e3,openstack/releases,master,I8a650c087f55176a4dacb2ef799435efc94fe4e3,Release openstacksdk 0.52.0,MERGED,2020-11-18 13:26:28.000000000,2020-11-18 17:22:33.000000000,2020-11-18 17:22:32.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-18 13:26:28.000000000', 'files': ['deliverables/wallaby/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb865624e7661d3d413f315a0f81aa409355cdbd', 'message': 'Release openstacksdk 0.52.0\n\nChange-Id: I8a650c087f55176a4dacb2ef799435efc94fe4e3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,763178,cb865624e7661d3d413f315a0f81aa409355cdbd,8,3,1,15334,,,0,"Release openstacksdk 0.52.0

Change-Id: I8a650c087f55176a4dacb2ef799435efc94fe4e3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/763178/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstacksdk.yaml'],1,cb865624e7661d3d413f315a0f81aa409355cdbd,openstacksdk, - version: 0.52.0 projects: - repo: openstack/openstacksdk hash: e169c495de39a2d97ef1d8bb7894b18e4ef268dd,,4,0
openstack%2Freleases~master~I69b042bc6ea73ffc520009c11afd5adedc8bc0a5,openstack/releases,master,I69b042bc6ea73ffc520009c11afd5adedc8bc0a5,Release ovsdbapp 1.7.0,MERGED,2020-11-13 15:48:13.000000000,2020-11-18 17:22:30.000000000,2020-11-18 17:22:30.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 15:48:13.000000000', 'files': ['deliverables/wallaby/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/73126530dbf51e220be3caeaeea3b5b230ad6dbe', 'message': 'Release ovsdbapp 1.7.0\n\nAdds new functionality: update_tables. It is possible to update tables\nin running IDL with new schema.\n\nChange-Id: I69b042bc6ea73ffc520009c11afd5adedc8bc0a5\n'}]",0,762676,73126530dbf51e220be3caeaeea3b5b230ad6dbe,9,5,1,8655,,,0,"Release ovsdbapp 1.7.0

Adds new functionality: update_tables. It is possible to update tables
in running IDL with new schema.

Change-Id: I69b042bc6ea73ffc520009c11afd5adedc8bc0a5
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/762676/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ovsdbapp.yaml'],1,73126530dbf51e220be3caeaeea3b5b230ad6dbe,ovsdbapp-1.7.0,releases: - version: 1.7.0 projects: - repo: openstack/ovsdbapp hash: e36f3270e67d899848341e205ec2f95addd48899,,5,0
openstack%2Freleases~master~I6c54381078985a6af2788b9a876cc7f2351cdf21,openstack/releases,master,I6c54381078985a6af2788b9a876cc7f2351cdf21,New bugfix release for oslo.config for victoria.,MERGED,2020-11-13 16:13:28.000000000,2020-11-18 17:22:28.000000000,2020-11-18 17:22:28.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-13 16:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d87d97dfa9551a71139461b77fe1f2121556ae3b', 'message': 'New bugfix release for oslo.messaging for victoria.\n\nAdd a default value to rpc_conn_pool_size option.\n\nChange-Id: I6c54381078985a6af2788b9a876cc7f2351cdf21\n'}, {'number': 2, 'created': '2020-11-16 13:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3922d1aa0b4c38d0d4d6634d55525bb58fbdefd4', 'message': 'New bugfix release for oslo.config for victoria.\n\nAdd a new type to support _ with hostname.\n\nChange-Id: I6c54381078985a6af2788b9a876cc7f2351cdf21\n'}, {'number': 3, 'created': '2020-11-18 09:23:13.000000000', 'files': ['deliverables/victoria/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dfa729ac99d4f0ca3da478a25b0eb87dc200b8d6', 'message': 'New bugfix release for oslo.config for victoria.\n\nAdd a new type to support _ with hostname.\n\nChange-Id: I6c54381078985a6af2788b9a876cc7f2351cdf21\n'}]",1,762680,dfa729ac99d4f0ca3da478a25b0eb87dc200b8d6,12,3,3,31245,,,0,"New bugfix release for oslo.config for victoria.

Add a new type to support _ with hostname.

Change-Id: I6c54381078985a6af2788b9a876cc7f2351cdf21
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/762680/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/oslo.config.yaml'],1,d87d97dfa9551a71139461b77fe1f2121556ae3b,, - version: 8.3.3 projects: - repo: openstack/oslo.config hash: d9129d8af7fb545c55a003e200e4a93931f79701,,4,0
openstack%2Fhorizon~master~Id2427c26dd8708b06b941fdd4e3cba0b2dd98808,openstack/horizon,master,Id2427c26dd8708b06b941fdd4e3cba0b2dd98808,[cleanup] Remove test-data for heat,MERGED,2020-10-29 07:57:02.000000000,2020-11-18 17:16:35.000000000,2020-11-18 17:14:40.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 07:57:02.000000000', 'files': ['openstack_dashboard/test/integration_tests/tests/test-data/stack_template'], 'web_link': 'https://opendev.org/openstack/horizon/commit/989eeb41dbb184fb7cc77f292c7e093e74b4cbe6', 'message': '[cleanup] Remove test-data for heat\n\nThis patch removes test-data to run integration test for heat\nbut heat is no longer a part of the horizon as it has a separate\nplugin heat-dashboard. So this patch removes heat test-data.\n\nChange-Id: Id2427c26dd8708b06b941fdd4e3cba0b2dd98808\n'}]",0,760295,989eeb41dbb184fb7cc77f292c7e093e74b4cbe6,8,3,1,29313,,,0,"[cleanup] Remove test-data for heat

This patch removes test-data to run integration test for heat
but heat is no longer a part of the horizon as it has a separate
plugin heat-dashboard. So this patch removes heat test-data.

Change-Id: Id2427c26dd8708b06b941fdd4e3cba0b2dd98808
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/760295/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/tests/test-data/stack_template'],1,989eeb41dbb184fb7cc77f292c7e093e74b4cbe6,,,heat_template_version: 2013-05-23 description: Simple template to deploy a single compute instance resources: my_instance: type: OS::Nova::Server properties: key_name: {0} image: {1} flavor: m1.tiny networks: - network: {2},0,11
openstack%2Freleases~master~I6f110fc37e9ca62b4c50e4916381e0a51be46e3d,openstack/releases,master,I6f110fc37e9ca62b4c50e4916381e0a51be46e3d,Release Kayobe 9.0.0.0rc1 and branch for Victoria,MERGED,2020-11-17 14:33:23.000000000,2020-11-18 17:09:27.000000000,2020-11-18 17:09:26.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 14:33:23.000000000', 'files': ['deliverables/victoria/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22d8dbf7634fa955559dc2a3800bab9458cda8aa', 'message': 'Release Kayobe 9.0.0.0rc1 and branch for Victoria\n\nChange-Id: I6f110fc37e9ca62b4c50e4916381e0a51be46e3d\n'}]",0,763022,22d8dbf7634fa955559dc2a3800bab9458cda8aa,7,2,1,14826,,,0,"Release Kayobe 9.0.0.0rc1 and branch for Victoria

Change-Id: I6f110fc37e9ca62b4c50e4916381e0a51be46e3d
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/763022/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/kayobe.yaml'],1,22d8dbf7634fa955559dc2a3800bab9458cda8aa,,releases: - version: 9.0.0.0rc1 projects: - repo: openstack/kayobe hash: 074024d63f9cb364ca16a7a7f0ac94d77ee9466b - repo: openstack/kayobe-config hash: 29a6c9be55a754a2fb6d037981720ef40b07fa06 - repo: openstack/kayobe-config-dev hash: 02619c16286341f1074420b66405b3e536197220 branches: - name: stable/victoria location: 9.0.0.0rc1,,12,0
openstack%2Fsahara~stable%2Ftrain~I0b2806b49fae64f10d2c312f82d22a4cc285f383,openstack/sahara,stable/train,I0b2806b49fae64f10d2c312f82d22a4cc285f383,Build containers on tripleo job,MERGED,2020-11-02 17:51:01.000000000,2020-11-18 17:03:22.000000000,2020-11-18 16:56:21.000000000,"[{'_account_id': 8175}, {'_account_id': 8868}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-11-02 17:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/17de0ae0ad60d5b200e1d3ccef73ca2a0b6dc236', 'message': 'Switch tripleo job to content provider\n\nContent provider job builds and shares the artifacts among\nconsumer jobs. This removes dependency on docker.io pulls.\n\nChange-Id: I0b2806b49fae64f10d2c312f82d22a4cc285f383\n'}, {'number': 2, 'created': '2020-11-12 16:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6decff8a7c41f21ca2a4bd8f1bf7eaa487b793bf', 'message': 'Build containers on tripleo job\n\nThis removes dependency on docker.io pulls.\nIt also bumps job to centos8 node.\n\nChange-Id: I0b2806b49fae64f10d2c312f82d22a4cc285f383\n'}, {'number': 3, 'created': '2020-11-16 14:48:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/64d79d7ec8b05d0f154a36d6631977008e6fd417', 'message': 'Build containers on tripleo job\n\nThis removes dependency on docker.io pulls.\nIt also bumps job to centos8 node.\n\nChange-Id: I0b2806b49fae64f10d2c312f82d22a4cc285f383\n'}]",0,760975,64d79d7ec8b05d0f154a36d6631977008e6fd417,27,5,3,8175,,,0,"Build containers on tripleo job

This removes dependency on docker.io pulls.
It also bumps job to centos8 node.

Change-Id: I0b2806b49fae64f10d2c312f82d22a4cc285f383
",git fetch https://review.opendev.org/openstack/sahara refs/changes/75/760975/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,17de0ae0ad60d5b200e1d3ccef73ca2a0b6dc236,new-ci-job, - tripleo-ci-centos-7-content-provider - sahara-tripleo-ci-centos-7-scenario003-standalone: &tripleo_sa vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-7-content-provider - tripleo-ci-centos-7-content-provider - sahara-tripleo-ci-centos-7-scenario003-standalone: *tripleo_sa, - sahara-tripleo-ci-centos-7-scenario003-standalone: - sahara-tripleo-ci-centos-7-scenario003-standalone: voting: false,11,3
openstack%2Fpatrole~master~Icf6a2c86b92937089f7e3af96eec5ad6b1304e8d,openstack/patrole,master,Icf6a2c86b92937089f7e3af96eec5ad6b1304e8d,Add Patrole gate job for stable/victoria,MERGED,2020-11-17 18:38:39.000000000,2020-11-18 17:03:08.000000000,2020-11-18 16:51:22.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-17 18:38:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/f6d7d0f8a98079a4cbffe156bf7983e58a0d79c4', 'message': 'Add Patrole gate job for stable/victoria\n\nNow we have stable/victoria branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the Patrole testing for stable/victoria\nby adding new jobs running on stable/victoria version of\nopenstack.\n\nChange-Id: Icf6a2c86b92937089f7e3af96eec5ad6b1304e8d\n'}]",0,763070,f6d7d0f8a98079a4cbffe156bf7983e58a0d79c4,8,3,1,8556,,,0,"Add Patrole gate job for stable/victoria

Now we have stable/victoria branch ready for devstack
and so does for all service projects.

This commit adds the Patrole testing for stable/victoria
by adding new jobs running on stable/victoria version of
openstack.

Change-Id: Icf6a2c86b92937089f7e3af96eec5ad6b1304e8d
",git fetch https://review.opendev.org/openstack/patrole refs/changes/70/763070/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f6d7d0f8a98079a4cbffe156bf7983e58a0d79c4,qa-victoria-release, name: patrole-member-victoria parent: patrole-member override-checkout: stable/victoria - job: - patrole-member-victoria - patrole-member-victoria,,7,0
openstack%2Fpatrole~master~Iaa0ddbdca454b93bd8373ce749603f28c5c59180,openstack/patrole,master,Iaa0ddbdca454b93bd8373ce749603f28c5c59180,Fix gate: Add feature flag for nova policies removed in Wallaby,MERGED,2020-11-17 01:37:59.000000000,2020-11-18 17:01:09.000000000,2020-11-18 16:51:21.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-17 01:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b377a9117becbb0ce9d2065185c6d3b55fa0e384', 'message': 'Fix gate: Add feature flag for nova policies removed in Wallaby\n\nThis patch set adds a new feature flag called\n``removed_nova_policies_wallaby`` under the configuration\ngroup ``[policy-feature-enabled]`` for skipping Nova\ntests whose policies were removed in Wallaby. This feature flag\nis currently applied to os-agents which is removed in nova\nrecently - https://review.opendev.org/#/c/749309\n\nChange-Id: Iaa0ddbdca454b93bd8373ce749603f28c5c59180\n'}, {'number': 2, 'created': '2020-11-17 14:15:07.000000000', 'files': ['releasenotes/notes/removed-nova-policies-wallaby-feature-flag-abf3045a0a3e3315.yaml', 'patrole_tempest_plugin/config.py', 'patrole_tempest_plugin/tests/api/compute/test_agents_rbac.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/patrole/commit/1b8838f189be1463265c017092e31bd1230d1772', 'message': 'Fix gate: Add feature flag for nova policies removed in Wallaby\n\nThis patch set adds a new feature flag called\n``removed_nova_policies_wallaby`` under the configuration\ngroup ``[policy-feature-enabled]`` for skipping Nova\ntests whose policies were removed in Wallaby. This feature flag\nis currently applied to os-agents which is removed in nova\nrecently - https://review.opendev.org/#/c/749309\n\nChange-Id: Iaa0ddbdca454b93bd8373ce749603f28c5c59180\n'}]",3,762937,1b8838f189be1463265c017092e31bd1230d1772,13,3,2,8556,,,0,"Fix gate: Add feature flag for nova policies removed in Wallaby

This patch set adds a new feature flag called
``removed_nova_policies_wallaby`` under the configuration
group ``[policy-feature-enabled]`` for skipping Nova
tests whose policies were removed in Wallaby. This feature flag
is currently applied to os-agents which is removed in nova
recently - https://review.opendev.org/#/c/749309

Change-Id: Iaa0ddbdca454b93bd8373ce749603f28c5c59180
",git fetch https://review.opendev.org/openstack/patrole refs/changes/37/762937/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/removed-nova-policies-wallaby-feature-flag-abf3045a0a3e3315.yaml', 'patrole_tempest_plugin/config.py', 'patrole_tempest_plugin/tests/api/compute/test_agents_rbac.py', 'devstack/plugin.sh']",4,b377a9117becbb0ce9d2065185c6d3b55fa0e384,, # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False fi if [[ ${DEVSTACK_SERIES} == 'victoria' ]]; then # TODO(gmann): Remove these once stable/victoria becomes EOL. # These policies were removed in Wallaby. iniset $TEMPEST_CONFIG policy-feature-enabled removed_nova_policies_wallaby False,,45,0
openstack%2Fkolla-ansible~master~I8a08f1c411c243c4d1cb6efd0e82de67a5151197,openstack/kolla-ansible,master,I8a08f1c411c243c4d1cb6efd0e82de67a5151197,kibana: Remove 6.x migration from upgrade,MERGED,2020-10-29 09:28:07.000000000,2020-11-18 16:37:04.000000000,2020-11-18 16:32:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-10-29 09:28:07.000000000', 'files': ['ansible/roles/kibana/tasks/migrate-kibana-index.yml', 'ansible/roles/kibana/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7020f9602981d745eb8ebe9cfb88127c834f6400', 'message': 'kibana: Remove 6.x migration from upgrade\n\nThis was required in Train and Ussuri for the 5.x to 6.x upgrade, but is\nno longer necessary.\n\nChange-Id: I8a08f1c411c243c4d1cb6efd0e82de67a5151197\n'}]",0,760308,7020f9602981d745eb8ebe9cfb88127c834f6400,14,5,1,14826,,,0,"kibana: Remove 6.x migration from upgrade

This was required in Train and Ussuri for the 5.x to 6.x upgrade, but is
no longer necessary.

Change-Id: I8a08f1c411c243c4d1cb6efd0e82de67a5151197
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/760308/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kibana/tasks/migrate-kibana-index.yml', 'ansible/roles/kibana/tasks/upgrade.yml']",2,7020f9602981d745eb8ebe9cfb88127c834f6400,,,- import_tasks: migrate-kibana-index.yml ,0,113
openstack%2Fopenstack-ansible-os_manila~master~I2515dc4abf93f2d30157a376c8a9a497c865aaf5,openstack/openstack-ansible-os_manila,master,I2515dc4abf93f2d30157a376c8a9a497c865aaf5,Add Manila key generation and distribution,MERGED,2020-01-30 14:14:02.000000000,2020-11-18 16:27:46.000000000,2020-11-18 16:26:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-30 14:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/315f14a42349e00c209ad9552c694fa263d71035', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 2, 'created': '2020-01-30 14:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/4fb95353e143ab5e4a47006b8b5f71b2231c2baf', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 3, 'created': '2020-01-30 14:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/eeb104bbc4c23d04dadf4933d64303bb5aa06951', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 4, 'created': '2020-01-30 17:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/ab1da31b9d5da96b0912a82e9365904d858b9579', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 5, 'created': '2020-01-30 18:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/9e85717c873570ccb55704b2e7739e5337f87f72', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 6, 'created': '2020-01-30 19:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/b4dca970171a454888da29b73e6eb94686278b57', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 7, 'created': '2020-01-31 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0da070e77ffa9a9bc8bbfd78cd9df5cfe0c964e8', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 8, 'created': '2020-02-11 08:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/507ba551e5c4826b4c60b2a07228ecaa42abd5c7', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 9, 'created': '2020-02-20 14:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0e63ff32153f038edb15a7bd851ac2ce1a0a758a', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}, {'number': 10, 'created': '2020-11-17 09:13:17.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'tasks/manila_keys.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/a045397c57ea2fd0edd470e7b798f881730079bd', 'message': 'Add Manila key generation and distribution\n\nChange-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5\n'}]",0,705019,a045397c57ea2fd0edd470e7b798f881730079bd,29,3,10,1004,,,0,"Add Manila key generation and distribution

Change-Id: I2515dc4abf93f2d30157a376c8a9a497c865aaf5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/19/705019/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'tasks/manila_keys.yml']",3,315f14a42349e00c209ad9552c694fa263d71035,osa/manila-generic,"--- - name: Create SSH keypair run_once: true delegate_to: localhost openssh_keypair: path: ""{{ manila_keypair_path }}"" - name: Distribute SSH keypair copy: src: ""{{ manila_keypair_path }}"" dest: ""/etc/manila/{{ manila_keypair_path | basename }}"" loop: - ""{{ manila_keypair_path }}.pub"" - ""{{ manila_keypair_path }}"" ",,29,0
openstack%2Fironic-inspector~master~I6ec31f9795e43610c98bc5eaa16e65dd1ff7d8ba,openstack/ironic-inspector,master,I6ec31f9795e43610c98bc5eaa16e65dd1ff7d8ba,Imported Translations from Zanata,MERGED,2020-11-16 06:49:01.000000000,2020-11-18 16:21:18.000000000,2020-11-18 16:19:12.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 06:49:01.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c3f5dea5b8a459c2c27af221b3298903a90741b1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6ec31f9795e43610c98bc5eaa16e65dd1ff7d8ba\n'}]",0,762781,c3f5dea5b8a459c2c27af221b3298903a90741b1,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6ec31f9795e43610c98bc5eaa16e65dd1ff7d8ba
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/81/762781/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,c3f5dea5b8a459c2c27af221b3298903a90741b1,zanata/translations,"""POT-Creation-Date: 2020-11-12 23:47+0000\n""""PO-Revision-Date: 2020-11-16 01:43+0000\n""msgid ""10.4.0-15"" msgstr ""10.4.0-15""""Adds a possibility to setup ironic inspector behind a proxy, while allowing "" ""the links of the resources API returns to remain correct. Inspector now "" ""respects the following headers that are passed with API requests: ``X-"" ""Forwarded-For``, ``X-Forwarded-Proto``, ``X-Forwarded-Host``, ``X-Forwarded-"" ""Port``, ``X-Forwarded-Prefix``. If the API is run providing ``SCRIPT_NAME`` "" ""environment variable, it is now also respected, and it allows to return the "" ""correct links in response to requests, even if inspector API is not placed "" ""at the web server root resource."" msgstr """" ""Adds a possibility to setup ironic inspector behind a proxy, while allowing "" ""the links of the resources API returns to remain correct. Inspector now "" ""respects the following headers that are passed with API requests: ``X-"" ""Forwarded-For``, ``X-Forwarded-Proto``, ``X-Forwarded-Host``, ``X-Forwarded-"" ""Port``, ``X-Forwarded-Prefix``. If the API is run providing ``SCRIPT_NAME`` "" ""environment variable, it is now also respected, and it allows to return the "" ""correct links in response to requests, even if inspector API is not placed "" ""at the web server root resource."" msgid """"","""POT-Creation-Date: 2020-10-27 17:15+0000\n""""PO-Revision-Date: 2020-10-28 02:09+0000\n""msgid ""10.4.0-10"" msgstr ""10.4.0-10""",23,4
openstack%2Fdevstack-plugin-ceph~master~Ieddd803fccb097657fffe30ef87c1c8385e7eb28,openstack/devstack-plugin-ceph,master,Ieddd803fccb097657fffe30ef87c1c8385e7eb28,zuul: Add devstack-plugin-ceph-compute-local-ephemeral job,MERGED,2020-08-26 12:33:56.000000000,2020-11-18 16:20:45.000000000,2020-11-18 16:14:16.000000000,"[{'_account_id': 4523}, {'_account_id': 6413}, {'_account_id': 9963}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-26 12:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d2f11acd6c9e3afc486553f4ad0385fd022596ff', 'message': 'zuul: Add devstack-plugin-ceph-compute-qcow2 job\n\nThis job covers the popular usecase of not using rbd for the\nimagebackend for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based imagecache of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}, {'number': 2, 'created': '2020-08-26 12:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5a71f5f6fa7d9804c09d1ef70eeaa3da05c02f10', 'message': 'zuul: Add devstack-plugin-ceph-compute-qcow2 job\n\nThis job covers the popular usecase of not using rbd for the\nimagebackend for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based imagecache of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}, {'number': 3, 'created': '2020-08-26 13:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/21fb1ba5e2909a1e92e593ec1faf63eb657fd774', 'message': 'zuul: Add devstack-plugin-ceph-compute-qcow2 job\n\nThis job covers the popular usecase of not using rbd for the\nimagebackend for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based imagecache of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}, {'number': 4, 'created': '2020-09-02 11:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/561c79669355ded5bae70e8a6b7613003475e902', 'message': 'zuul: Add devstack-plugin-ceph-compute-qcow2 job\n\nThis job covers the popular usecase of not using rbd for the\nimagebackend for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based imagecache of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}, {'number': 5, 'created': '2020-09-03 08:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bb4587d323438ec33cd2525e031eda2a24977a49', 'message': 'zuul: Add devstack-plugin-ceph-compute-local-eph job\n\nThis job covers the popular usecase of not using rbd for ephemeral\nstorage for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based ephemeral store of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}, {'number': 6, 'created': '2020-09-03 08:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/823fbc0462ad3a1342010f7c16b8b30a0498a5fb', 'message': 'zuul: Add devstack-plugin-ceph-compute-local-ephemeral job\n\nThis job covers the popular usecase of not using rbd for ephemeral\nstorage for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based ephemeral store of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}, {'number': 7, 'created': '2020-09-03 08:58:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/95665d8041279f419ed8a4f6126b4164467066bf', 'message': 'zuul: Add devstack-plugin-ceph-compute-local-ephemeral job\n\nThis job covers the popular usecase of not using rbd for ephemeral\nstorage for nova while it is used for Glance and Cinder.\n\nThis job additionally enables the recently implemented direct download\nof rbd hosted Glance images into the file based ephemeral store of Nova.\n\nChange-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28\n'}]",0,748212,95665d8041279f419ed8a4f6126b4164467066bf,33,6,7,10135,,,0,"zuul: Add devstack-plugin-ceph-compute-local-ephemeral job

This job covers the popular usecase of not using rbd for ephemeral
storage for nova while it is used for Glance and Cinder.

This job additionally enables the recently implemented direct download
of rbd hosted Glance images into the file based ephemeral store of Nova.

Change-Id: Ieddd803fccb097657fffe30ef87c1c8385e7eb28
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/12/748212/7 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d2f11acd6c9e3afc486553f4ad0385fd022596ff,bp/nova-image-download-via-rbd, name: devstack-plugin-ceph-compute-qcow2: parent: devstack-plugin-ceph-tempest-py3-base description: | Integration tests that runs with the ceph devstack plugin and py3. This job does not configure Nova to use rbd for ephemeral storage. It also enables the direct download of images via rbd into the local imagecache for Nova. vars: devstack_local_conf: post-config: $NOVA_CONF: glance: allowed_direct_url_schemes: rbd rbd_user: glance rbd_ceph_conf: /etc/ceph/ceph.conf rbd_pool: images libvirt: images_type: qcow2 - job:,,21,0
openstack%2Fironic~master~I7436100eaafd123d9d332f7a092a10f36a348ac8,openstack/ironic,master,I7436100eaafd123d9d332f7a092a10f36a348ac8,"Feature: finalize_rescue, send sha512 hashed password, not clear ones",ABANDONED,2019-11-22 10:10:28.000000000,2020-11-18 16:16:57.000000000,,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 15064}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 10:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5d2962439c5354956a40313bc92eb2143218c0d', 'message': 'Feature: finalize_rescue, send 512 hashed password, not clear one\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\nDepends on story/task: 2006777/37300\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\n'}, {'number': 2, 'created': '2019-11-22 10:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b73980d9431556bd21babd10101c9cb01537196', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\nDepends on story/task: 2006777/37300\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\n'}, {'number': 3, 'created': '2019-11-22 10:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18d7b9398b151094e96e0bb34c4a607520f69fb4', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}, {'number': 4, 'created': '2019-11-25 09:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b43fe60c8bc4e5764899c8c66f10b01706ade4f3', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}, {'number': 5, 'created': '2019-11-25 12:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d11d05becd84dc828b8083160b37653bee773c9', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}, {'number': 6, 'created': '2019-11-26 17:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d09ea36e525611b4af80eae88cff46f0c51ae4c0', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}, {'number': 7, 'created': '2019-11-26 20:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7240b832af2bdeb485414ee0a42bfb35a67d84ae', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}, {'number': 8, 'created': '2019-11-27 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ea194dd6522196e178508fdc0f61d1f4f730a29', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}, {'number': 9, 'created': '2019-11-28 12:12:00.000000000', 'files': ['ironic/conf/conductor.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/feature-hash-password-before-sending-to-agent-126f093ac338e65e.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/25d396ceb892e2ecfcf594dadf7744b81e2d5481', 'message': 'Feature: finalize_rescue, send sha512 hashed password, not clear ones\n\nRelated story: https://storyboard.openstack.org/#!/story/2006634\n\nChange-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8\nStory: 2006777\nTask: 37301\nDepends-On: https://review.opendev.org/#/c/691372/\n'}]",7,695649,25d396ceb892e2ecfcf594dadf7744b81e2d5481,36,8,9,15064,,,0,"Feature: finalize_rescue, send sha512 hashed password, not clear ones

Related story: https://storyboard.openstack.org/#!/story/2006634

Change-Id: I7436100eaafd123d9d332f7a092a10f36a348ac8
Story: 2006777
Task: 37301
Depends-On: https://review.opendev.org/#/c/691372/
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/695649/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/feature-hash-password-before-sending-to-agent-126f093ac338e65e.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,e5d2962439c5354956a40313bc92eb2143218c0d,hash_rescue_password," @mock.patch('crypt.crypt', return_value='$6$salt$hash', autospec=True) def test_finalize_rescue(self, mock_crypt): 'rescue_password': '$6$salt$hash', mock_crypt.assert_called_once_with('password', mock.ANY) @mock.patch('random.SystemRandom.choice', autospec=True, return_value='a') def test__hash_pass_sha512(self, _mock_random): password = 'someawesomepassword' hashed = self.client._hash_pass_sha512(password) self.assertEqual( hashed, '$6$aaaaaaaaaaaaaaaa$FqbKlKj9J8/mmXF/Re6Aookz.' 'EOp4CTPFEk2Zl9cXOZY5LRV6ZxODOmaQ/K0usdnD3XjsteOE9E4xSyqUJ4Bt0') "," def test_finalize_rescue(self): 'rescue_password': 'password',",32,3
openstack%2Fcharm-watcher~master~I8efb8ed0bed83c5676a836db9d63cfb44d75e851,openstack/charm-watcher,master,I8efb8ed0bed83c5676a836db9d63cfb44d75e851,Configure TLS,MERGED,2020-11-09 18:55:39.000000000,2020-11-18 15:58:00.000000000,2020-11-18 15:58:00.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 7730}, {'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 24824}, {'_account_id': 26040}, {'_account_id': 28014}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-09 18:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/327e9e76cd2b44087a99ec6c12e95f5f080dbfec', 'message': 'Configure TLS\n\nThis patch adds code which configures TLS which is essential since\nwithout it, the ssl-* config options are ignored.\n\nChange-Id: I8efb8ed0bed83c5676a836db9d63cfb44d75e851\nCloses-bug: #1903583\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2020-11-09 20:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/9019d268754bebce302db810141736df2c91e1bb', 'message': 'Configure TLS\n\nThis patch adds code which configures TLS which is essential since\nwithout it, the ssl-* config options are ignored.\n\nChange-Id: I8efb8ed0bed83c5676a836db9d63cfb44d75e851\nCloses-bug: #1903583\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2020-11-10 20:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/d0be7a5eedc6ebb4e68177c77dfb67d61b5aae13', 'message': 'Configure TLS and fix response to non action_managed_upgrades\n\nThis patch updates charms.openstack which, among other things, it\nconfigures TLS in config_changed [1] which is essential since without\nit, the ssl-* config options are ignored.\n\n[1] https://github.com/openstack/charms.openstack/blob/master/charms_openstack/charm/classes.py#L431\n\nChange-Id: I8efb8ed0bed83c5676a836db9d63cfb44d75e851\nCloses-bug: #1903583\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 4, 'created': '2020-11-11 07:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/5abf062d34654bd4a4cc30f848d53a4962698097', 'message': 'Configure TLS and fix response to non action_managed_upgrades\n\nThis patch updates charms.openstack which, among other things, it\nconfigures TLS in config_changed [1] which is essential since without\nit, the ssl-* config options are ignored.\n\n[1] https://github.com/openstack/charms.openstack/blob/master/charms_openstack/charm/classes.py#L431\n\nChange-Id: I8efb8ed0bed83c5676a836db9d63cfb44d75e851\nCloses-bug: #1903583\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 5, 'created': '2020-11-13 08:06:52.000000000', 'files': ['rebuild', 'requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/343828b30913ef11546a56b69735d96c1c580cf3', 'message': 'Configure TLS\n\nThis patch updates charms.openstack which, among other things, it\nconfigures TLS in config_changed [1] which is essential since without\nit, the ssl-* config options are ignored.\n\n[1] https://github.com/openstack/charms.openstack/blob/master/charms_openstack/charm/classes.py#L431\n\nChange-Id: I8efb8ed0bed83c5676a836db9d63cfb44d75e851\nCloses-bug: #1903583\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",4,761980,343828b30913ef11546a56b69735d96c1c580cf3,32,20,5,28014,,,0,"Configure TLS

This patch updates charms.openstack which, among other things, it
configures TLS in config_changed [1] which is essential since without
it, the ssl-* config options are ignored.

[1] https://github.com/openstack/charms.openstack/blob/master/charms_openstack/charm/classes.py#L431

Change-Id: I8efb8ed0bed83c5676a836db9d63cfb44d75e851
Closes-bug: #1903583
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/80/761980/2 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/watcher_handlers.py'],1,327e9e76cd2b44087a99ec6c12e95f5f080dbfec,,"import charmhelpers.core as ch_core pre_ssl_enabled = watcher_charm.get_state('ssl.enabled') watcher_charm.configure_tls( certificates_interface=reactive.endpoint_from_flag( 'certificates.available')) ssl_enabled = watcher_charm.get_state('ssl.enabled') if ssl_enabled != pre_ssl_enabled: ch_core.hookenv.log(( ""Detected switch to ssl.enabled: {}. "" ""Informing keystone."").format(ssl_enabled)) keystone = reactive.endpoint_from_flag( 'identity-service.available') keystone.register_endpoints(watcher_charm.service_type, watcher_charm.region, watcher_charm.public_url, watcher_charm.internal_url, watcher_charm.admin_url) watcher_charm.upgrade_if_available(args)",,18,0
openstack%2Fcharm-keystone~master~Id40a3ccbe565bd742e3fdbd5190deb6b21204a82,openstack/charm-keystone,master,Id40a3ccbe565bd742e3fdbd5190deb6b21204a82,Make Fernet key distribution more robust,MERGED,2020-11-13 11:51:48.000000000,2020-11-18 15:53:56.000000000,2020-11-18 15:53:56.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-13 11:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c1b9f1f84370dc5fb4b5d3b96871e68b62eca720', 'message': ""Make Fernet key distribution more robust\n\nThe related bug indicated that the Fernet keys could get out of sync\nbetween the leader and non-leader units.  This patchset assumes that\nhooks fail, or that units are off-line when the rotation occurs.  Thus\nit tries hard to ensure that the keys are in sync.  It still uses juju\nto 'send' the keys from the leader to the subordinate units, so in that\nsense, it is not a fix to the related bug, but it does make it more\nrobust.\n\nChange-Id: Id40a3ccbe565bd742e3fdbd5190deb6b21204a82\nRelated-Bug: #1849519\n""}, {'number': 2, 'created': '2020-11-13 14:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5669b206537e75ca4ac393e188036aaeeed205ed', 'message': ""Make Fernet key distribution more robust\n\nThe related bug indicated that the Fernet keys could get out of sync\nbetween the leader and non-leader units.  This patchset assumes that\nhooks fail, or that units are off-line when the rotation occurs.  Thus\nit tries hard to ensure that the keys are in sync.  It still uses juju\nto 'send' the keys from the leader to the subordinate units, so in that\nsense, it is not a fix to the related bug, but it does make it more\nrobust.\n\nChange-Id: Id40a3ccbe565bd742e3fdbd5190deb6b21204a82\nRelated-Bug: #1849519\n""}, {'number': 3, 'created': '2020-11-17 15:25:00.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'scripts/fernet_rotate_and_sync.py', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c7e34558c498497f81923feeff5a64cf96b192d9', 'message': ""Make Fernet key distribution more robust\n\nThe related bug indicated that the Fernet keys could get out of sync\nbetween the leader and non-leader units.  This patchset assumes that\nhooks fail, or that units are off-line when the rotation occurs.  Thus\nit tries hard to ensure that the keys are in sync.  It still uses juju\nto 'send' the keys from the leader to the subordinate units, so in that\nsense, it is not a fix to the related bug, but it does make it more\nrobust.\n\nChange-Id: Id40a3ccbe565bd742e3fdbd5190deb6b21204a82\nRelated-Bug: #1849519\n""}]",4,762645,c7e34558c498497f81923feeff5a64cf96b192d9,21,5,3,20870,,,0,"Make Fernet key distribution more robust

The related bug indicated that the Fernet keys could get out of sync
between the leader and non-leader units.  This patchset assumes that
hooks fail, or that units are off-line when the rotation occurs.  Thus
it tries hard to ensure that the keys are in sync.  It still uses juju
to 'send' the keys from the leader to the subordinate units, so in that
sense, it is not a fix to the related bug, but it does make it more
robust.

Change-Id: Id40a3ccbe565bd742e3fdbd5190deb6b21204a82
Related-Bug: #1849519
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/45/762645/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'scripts/fernet_rotate_and_sync.py', 'hooks/keystone_context.py']",5,c1b9f1f84370dc5fb4b5d3b96871e68b62eca720,bug/1849519," 'enabled': fernet_enabled(),"," 'enabled': (fernet_enabled() and is_leader()),",128,58
openstack%2Fcharm-ceph-mon~master~Ic180faae0cff2aa11504279f2b7b25248d62e988,openstack/charm-ceph-mon,master,Ic180faae0cff2aa11504279f2b7b25248d62e988,[DO NOT MERGE] Validate that charm-helpers#526 is backward-compatible,ABANDONED,2020-11-12 09:42:06.000000000,2020-11-18 15:52:58.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-12 09:42:06.000000000', 'files': ['lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ip.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c708439d8f57ba0c15c306908957182cdb273d2e', 'message': '[DO NOT MERGE] Validate that charm-helpers#526 is backward-compatible\n\nChange-Id: Ic180faae0cff2aa11504279f2b7b25248d62e988\n'}]",0,762485,c708439d8f57ba0c15c306908957182cdb273d2e,12,3,1,31289,,,0,"[DO NOT MERGE] Validate that charm-helpers#526 is backward-compatible

Change-Id: Ic180faae0cff2aa11504279f2b7b25248d62e988
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/85/762485/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ip.py']",7,c708439d8f57ba0c15c306908957182cdb273d2e,lourot-do-not-merge,"# TODO: reconcile 'int' vs 'internal' binding names # Note (thedac) bridge to begin the reconciliation between 'int' vs # 'internal' binding names 'internal': { 'binding': 'internal', 'config': 'os-internal-network', 'fallback': 'private-address', 'override': 'os-internal-hostname', }, def get_default_api_bindings(): _default_bindings = [] for binding in [INTERNAL, ADMIN, PUBLIC]: _default_bindings.append(ADDRESS_MAP[binding]['binding']) return _default_bindings",,159,41
openstack%2Fhorizon~master~I2bd06b7708a72a1986e75968aee79ba27457bf62,openstack/horizon,master,I2bd06b7708a72a1986e75968aee79ba27457bf62,Update docs for Ubuntu 20.04,MERGED,2020-11-12 10:38:03.000000000,2020-11-18 15:40:58.000000000,2020-11-18 15:38:49.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-11-12 10:38:03.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/quickstart.rst', 'doc/source/install/from-source.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/57999617ecb4ce053770aef651f6485dddb3195b', 'message': ""Update docs for Ubuntu 20.04\n\n* Add gettext package for development environment\n* Use 'apt install' command instead of legacy 'apt-get'\n\nChange-Id: I2bd06b7708a72a1986e75968aee79ba27457bf62\n""}]",0,762493,57999617ecb4ce053770aef651f6485dddb3195b,9,4,1,1736,,,0,"Update docs for Ubuntu 20.04

* Add gettext package for development environment
* Use 'apt install' command instead of legacy 'apt-get'

Change-Id: I2bd06b7708a72a1986e75968aee79ba27457bf62
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/762493/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/contributor/quickstart.rst', 'doc/source/install/from-source.rst']",3,57999617ecb4ce053770aef651f6485dddb3195b,ubuntu-docs, $ sudo apt install gettext $ sudo apt install apache2 libapache2-mod-wsgi, $ sudo apt-get install gettext $ sudo apt-get install apache2 libapache2-mod-wsgi,5,11
openstack%2Fheat~stable%2Ftrain~Ief22c7038eef2b7f9c6070e166917cfa612d262a,openstack/heat,stable/train,Ief22c7038eef2b7f9c6070e166917cfa612d262a,[TEST][DMT] Checking py27 under train branch,ABANDONED,2020-11-17 07:16:31.000000000,2020-11-18 15:27:25.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 07:16:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/769446b4fa3bacec6cd9ec47e70b64d63a86311d', 'message': '[TEST][DMT] Checking py27 under train branch\n\nChange-Id: Ief22c7038eef2b7f9c6070e166917cfa612d262a\n'}]",0,762964,769446b4fa3bacec6cd9ec47e70b64d63a86311d,5,2,1,12404,,,0,"[TEST][DMT] Checking py27 under train branch

Change-Id: Ief22c7038eef2b7f9c6070e166917cfa612d262a
",git fetch https://review.opendev.org/openstack/heat refs/changes/64/762964/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,769446b4fa3bacec6cd9ec47e70b64d63a86311d,check-py27-health,, templates: - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - periodic-stable-jobs - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 - grenade-heat - grenade-heat-multinode - heat-functional-convg-mysql-lbaasv2-amqp1 - heat-functional-convg-mysql-lbaasv2-non-apache - heat-functional-convg-mysql-lbaasv2-py3,0,14
openstack%2Fproject-config~master~I5e6b44cbe9a33fe29dc3c989b43c107a1a26599a,openstack/project-config,master,I5e6b44cbe9a33fe29dc3c989b43c107a1a26599a,Disable limestone provider due to IPv4-less nodes,MERGED,2020-11-17 15:47:23.000000000,2020-11-18 15:22:07.000000000,2020-11-18 08:42:07.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 15:47:23.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef5cc142057b7dbb4bf9bcb9d8ef219be158c92d', 'message': ""Disable limestone provider due to IPv4-less nodes\n\nWe keep getting nodes than don't have an IPv4 address which\nbreaks various jobs. Disable until we can get that fixed.\n\nChange-Id: I5e6b44cbe9a33fe29dc3c989b43c107a1a26599a\n""}]",0,763038,ef5cc142057b7dbb4bf9bcb9d8ef219be158c92d,11,7,1,13252,,,0,"Disable limestone provider due to IPv4-less nodes

We keep getting nodes than don't have an IPv4 address which
breaks various jobs. Disable until we can get that fixed.

Change-Id: I5e6b44cbe9a33fe29dc3c989b43c107a1a26599a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/763038/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,ef5cc142057b7dbb4bf9bcb9d8ef219be158c92d,disable-limestone, max-servers: 0, max-servers: 50,1,1
openstack%2Freleases~master~I732722b866234ca5d034272a18ca787a1106986c,openstack/releases,master,I732722b866234ca5d034272a18ca787a1106986c,[masakari] Transition Stein to EM,MERGED,2020-11-11 19:28:25.000000000,2020-11-18 15:13:48.000000000,2020-11-18 15:13:48.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-11 19:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/673b2d8d6aca92c8a81dd1917b0ee7cec4c06145', 'message': '[masakari] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I732722b866234ca5d034272a18ca787a1106986c\n'}, {'number': 2, 'created': '2020-11-12 17:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/95b49dfc56ab156212927bb5780faee1e743a9cd', 'message': '[masakari] Transition Stein to EM\n\nThis transitions the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I732722b866234ca5d034272a18ca787a1106986c\n'}, {'number': 3, 'created': '2020-11-13 12:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/14c54fe643839d1149e7df669b22566c4b903b8b', 'message': '[masakari] Transition Stein to EM\n\nThis transitions the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I732722b866234ca5d034272a18ca787a1106986c\n'}, {'number': 4, 'created': '2020-11-17 15:28:13.000000000', 'files': ['deliverables/stein/masakari-monitors.yaml', 'deliverables/stein/python-masakariclient.yaml', 'deliverables/stein/masakari.yaml', 'deliverables/stein/masakari-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/51b9905be9b82f0d1be9712f7106403c7d928fae', 'message': '[masakari] Transition Stein to EM\n\nThis transitions the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I732722b866234ca5d034272a18ca787a1106986c\n'}]",0,762397,51b9905be9b82f0d1be9712f7106403c7d928fae,25,4,4,17685,,,0,"[masakari] Transition Stein to EM

This transitions the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I732722b866234ca5d034272a18ca787a1106986c
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/762397/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/masakari-monitors.yaml', 'deliverables/stein/python-masakariclient.yaml', 'deliverables/stein/masakari.yaml', 'deliverables/stein/masakari-dashboard.yaml']",4,673b2d8d6aca92c8a81dd1917b0ee7cec4c06145,stein-em-patch2, - version: stein-em projects: - repo: openstack/masakari-dashboard hash: e05a1822db99178f79108b26625029cce477b441,,16,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I7a29b4b90a70c052a4aba690653541643b909fcd,openstack/puppet-openstack_spec_helper,stable/rocky,I7a29b4b90a70c052a4aba690653541643b909fcd,Pin beaker-hiera to 0.1.1,MERGED,2020-11-18 06:36:05.000000000,2020-11-18 15:11:34.000000000,2020-11-18 15:11:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 06:36:05.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/3cdfe93e2c417e1ace1aa4e19ba8a2b27404e75e', 'message': 'Pin beaker-hiera to 0.1.1\n\n0.2.0 is failing in ci\n\n2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant\nBeaker::DSL::Hiera\n\nChange-Id: I7a29b4b90a70c052a4aba690653541643b909fcd\n(cherry picked from commit 30465d33207dcfb568a2be67b8c849ae7a6699b3)\n(cherry picked from commit c3b4dc91742458282f32ad28acf993174b771445)\n'}]",0,763128,3cdfe93e2c417e1ace1aa4e19ba8a2b27404e75e,7,3,1,9816,,,0,"Pin beaker-hiera to 0.1.1

0.2.0 is failing in ci

2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant
Beaker::DSL::Hiera

Change-Id: I7a29b4b90a70c052a4aba690653541643b909fcd
(cherry picked from commit 30465d33207dcfb568a2be67b8c849ae7a6699b3)
(cherry picked from commit c3b4dc91742458282f32ad28acf993174b771445)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/28/763128/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,3cdfe93e2c417e1ace1aa4e19ba8a2b27404e75e,," # Pin breaker-hiera since 0.2.0 fails with the rest of our stuff. spec.add_dependency 'beaker-hiera', ['= 0.1.1']",,2,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I7a29b4b90a70c052a4aba690653541643b909fcd,openstack/puppet-openstack_spec_helper,stable/queens,I7a29b4b90a70c052a4aba690653541643b909fcd,Pin beaker-hiera to 0.1.1,MERGED,2020-11-18 06:41:59.000000000,2020-11-18 15:08:41.000000000,2020-11-18 15:08:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 06:41:59.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/629f671a5e92236bf8d1033c611f7ead68045f45', 'message': 'Pin beaker-hiera to 0.1.1\n\n0.2.0 is failing in ci\n\n2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant\nBeaker::DSL::Hiera\n\nConflicts:\n\tpuppet-openstack_spec_helper.gemspec\n\nChange-Id: I7a29b4b90a70c052a4aba690653541643b909fcd\n(cherry picked from commit 30465d33207dcfb568a2be67b8c849ae7a6699b3)\n(cherry picked from commit c3b4dc91742458282f32ad28acf993174b771445)\n(cherry picked from commit 3cdfe93e2c417e1ace1aa4e19ba8a2b27404e75e)\n'}]",0,763129,629f671a5e92236bf8d1033c611f7ead68045f45,7,3,1,9816,,,0,"Pin beaker-hiera to 0.1.1

0.2.0 is failing in ci

2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant
Beaker::DSL::Hiera

Conflicts:
	puppet-openstack_spec_helper.gemspec

Change-Id: I7a29b4b90a70c052a4aba690653541643b909fcd
(cherry picked from commit 30465d33207dcfb568a2be67b8c849ae7a6699b3)
(cherry picked from commit c3b4dc91742458282f32ad28acf993174b771445)
(cherry picked from commit 3cdfe93e2c417e1ace1aa4e19ba8a2b27404e75e)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/29/763129/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,629f671a5e92236bf8d1033c611f7ead68045f45,," # Pin breaker-hiera since 0.2.0 fails with the rest of our stuff. spec.add_dependency 'beaker-hiera', ['= 0.1.1']",,3,0
openstack%2Fopenstack-ansible-galera_server~master~Ifde912e98bd71f78ffedcd2daae0bca2208a6045,openstack/openstack-ansible-galera_server,master,Ifde912e98bd71f78ffedcd2daae0bca2208a6045,Fix to mariadb backup script,MERGED,2020-11-17 10:59:03.000000000,2020-11-18 15:07:49.000000000,2020-11-18 15:06:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-11-17 10:59:03.000000000', 'files': ['templates/mariabackup_script.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d0ca870fdff9e4fbb35b8b65732ad55bdc021841', 'message': 'Fix to mariadb backup script\n\nHandle cases where no full backup exists from which to take an\nincremental backup from.\n\nChange-Id: Ifde912e98bd71f78ffedcd2daae0bca2208a6045\n'}]",0,762990,d0ca870fdff9e4fbb35b8b65732ad55bdc021841,9,3,1,29865,,,0,"Fix to mariadb backup script

Handle cases where no full backup exists from which to take an
incremental backup from.

Change-Id: Ifde912e98bd71f78ffedcd2daae0bca2208a6045
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/90/762990/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/mariabackup_script.py.j2'],1,d0ca870fdff9e4fbb35b8b65732ad55bdc021841,," except ValueError: print(""No full backup found, cannot create incremental backup."") os.unlink(""/var/run/db_backup.pid"") raise SystemExit(1)"," except(OSError): basedir=""./""",4,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I7a29b4b90a70c052a4aba690653541643b909fcd,openstack/puppet-openstack_spec_helper,stable/stein,I7a29b4b90a70c052a4aba690653541643b909fcd,Pin beaker-hiera to 0.1.1,MERGED,2020-11-18 00:49:03.000000000,2020-11-18 15:05:05.000000000,2020-11-18 15:05:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 00:49:03.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c3b4dc91742458282f32ad28acf993174b771445', 'message': 'Pin beaker-hiera to 0.1.1\n\n0.2.0 is failing in ci\n\n2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant\nBeaker::DSL::Hiera\n\nChange-Id: I7a29b4b90a70c052a4aba690653541643b909fcd\n(cherry picked from commit 30465d33207dcfb568a2be67b8c849ae7a6699b3)\n'}]",0,763108,c3b4dc91742458282f32ad28acf993174b771445,8,3,1,9816,,,0,"Pin beaker-hiera to 0.1.1

0.2.0 is failing in ci

2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant
Beaker::DSL::Hiera

Change-Id: I7a29b4b90a70c052a4aba690653541643b909fcd
(cherry picked from commit 30465d33207dcfb568a2be67b8c849ae7a6699b3)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/08/763108/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,c3b4dc91742458282f32ad28acf993174b771445,," # Pin breaker-hiera since 0.2.0 fails with the rest of our stuff. spec.add_dependency 'beaker-hiera', ['= 0.1.1']",,2,0
openstack%2Fcinder~master~Ie1a596e14faa366ace9a010cc5808b8ea62f14be,openstack/cinder,master,Ie1a596e14faa366ace9a010cc5808b8ea62f14be,Add cinder-tempest-plugin to LIO job,ABANDONED,2018-05-16 14:59:48.000000000,2020-11-18 14:50:40.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-05-16 14:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ff246eaf5575fb65561713d9c477c7e781319ab', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}, {'number': 2, 'created': '2018-08-16 19:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a666cba58571aa19a66b69261ca62b31801e857', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}, {'number': 3, 'created': '2018-08-17 13:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2d275c991fb0cb57e3f4a0a182fb47b6190d0d7', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}, {'number': 4, 'created': '2018-08-17 15:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/209083bdc89fcc318943ee6609dc1dacd346fbc0', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}, {'number': 5, 'created': '2018-08-17 18:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d902b08e27ac8544698691bde072e873fbf63c45', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}, {'number': 6, 'created': '2018-08-20 19:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99cf61e0f0ada5413654f97b4ddb4a451e6fa354', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}, {'number': 7, 'created': '2019-02-13 15:02:12.000000000', 'files': ['playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2947d3f3e323a1289d72e82c9aed572234b67a9', 'message': 'Add cinder-tempest-plugin to LIO job\n\nWe should run the cinder-tempest-plugin tests here.\n\nChange-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be\n'}]",0,568873,c2947d3f3e323a1289d72e82c9aed572234b67a9,166,45,7,4523,,,0,"Add cinder-tempest-plugin to LIO job

We should run the cinder-tempest-plugin tests here.

Change-Id: Ie1a596e14faa366ace9a010cc5808b8ea62f14be
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/568873/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2ff246eaf5575fb65561713d9c477c7e781319ab,568873, - openstack/cinder-tempest-plugin,,1,0
openstack%2Fdevstack~master~If979a76ec4e7a2649b2c1a003cb9cef236559db4,openstack/devstack,master,If979a76ec4e7a2649b2c1a003cb9cef236559db4,Glance support for Cinder store,ABANDONED,2019-12-04 18:26:09.000000000,2020-11-18 14:48:58.000000000,,"[{'_account_id': 970}, {'_account_id': 4146}, {'_account_id': 4523}, {'_account_id': 5803}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30491}, {'_account_id': 31055}]","[{'number': 1, 'created': '2019-12-04 18:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/02ff6f0c871a3a155ab0c41b55f236fab2fe2044', 'message': 'WIP: Glance support for Cinder store\n\nEnable configuration of Cinder as a Glance\nbackend store.  This patch is mostly a POC\nfor now.  Need to determine what config options\netc. should be used to control this.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}, {'number': 2, 'created': '2020-02-03 09:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cb6d4fa2c3a955ad9f1f11901622cdc3783902f2', 'message': 'WIP: Glance support for Cinder store\n\nEnable configuration of Cinder as a Glance\nbackend store.  This patch is mostly a POC\nfor now.  Need to determine what config options\netc. should be used to control this.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}, {'number': 3, 'created': '2020-05-27 19:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fd0bbf9cdfddf416bfde068f3651ab3bc90481d2', 'message': 'Glance support for Cinder store\n\nEnable configuration of Cinder as a Glance\nbackend store.  This patch is mostly a POC\nfor now.  Need to determine what config options\netc. should be used to control this.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}, {'number': 4, 'created': '2020-05-28 13:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3081ba90ea297219afaa9e9c617fee8cde455b45', 'message': 'Glance support for Cinder store\n\nEnable configuration of Cinder as a Glance\nbackend store.  This patch is mostly a POC\nfor now.  Need to determine what config options\netc. should be used to control this.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nFinally, if we want to enable swift for c-bak\nthis should be added explicitly\xa0in the code.\nBecause of this $GLANCE_STORE=swift set for\nthis case.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}, {'number': 5, 'created': '2020-05-28 14:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/be46af8b1bbfc7ae17a98cda550ac619918563ce', 'message': 'Glance support for Cinder store\n\nEnable configuration of Cinder as a Glance\nbackend store.  This patch is mostly a POC\nfor now.  Need to determine what config options\netc. should be used to control this.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nFinally, if we want to enable swift as glance store\nwe need to set $GLANCE_STORE=swift.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}, {'number': 6, 'created': '2020-05-28 14:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9f4b77c3b0d12a4b0606f2c6cdfedfaa9d321bf', 'message': 'Glance support for Cinder store\n\nEnable configuration of Cinder as a Glance\nbackend store.  This patch is mostly a POC\nfor now.  Need to determine what config options\netc. should be used to control this.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nThis also sets a config option specifying the mount point\nfor glance when cinder backend is nfs.\n\nFinally, if we want to enable swift as glance store\nwe need to set $GLANCE_STORE=swift.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}, {'number': 7, 'created': '2020-05-28 15:15:05.000000000', 'files': ['lib/glance', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b1b0fcd8090d4331541be773b950158a77560bd3', 'message': 'Glance support for Cinder store\n\nThis patch enables configuration of Cinder as a Glance\nbackend store.\n\nSet GLANCE_STORE=cinder and add glance_store\nto LIBS_FROM_GIT to enable.\n\nMoves the first cirros image upload to Glance\nuntil after the Cinder service has started.\n\nThis also sets a config option specifying the mount point\nfor glance when cinder backend is nfs.\n\nFinally, if we want to enable swift as glance store\nwe need to set $GLANCE_STORE=swift.\n\nChange-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4\n'}]",22,697335,b1b0fcd8090d4331541be773b950158a77560bd3,38,14,7,4523,,,0,"Glance support for Cinder store

This patch enables configuration of Cinder as a Glance
backend store.

Set GLANCE_STORE=cinder and add glance_store
to LIBS_FROM_GIT to enable.

Moves the first cirros image upload to Glance
until after the Cinder service has started.

This also sets a config option specifying the mount point
for glance when cinder backend is nfs.

Finally, if we want to enable swift as glance store
we need to set $GLANCE_STORE=swift.

Change-Id: If979a76ec4e7a2649b2c1a003cb9cef236559db4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/697335/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/glance', 'stack.sh']",2,02ff6f0c871a3a155ab0c41b55f236fab2fe2044,697335,"# Install Images # ============== # Upload an image to Glance. # # The default image is CirrOS, a small testing image which lets you login as **root** # CirrOS has a ``cloud-init`` analog supporting login via keypair and sending # scripts as userdata. # See https://help.ubuntu.com/community/CloudInit for more on ``cloud-init`` if is_service_enabled g-reg; then echo_summary ""Uploading images"" for image_url in ${IMAGE_URLS//,/ }; do upload_image $image_url done fi","# Install Images # ============== # Upload an image to Glance. # # The default image is CirrOS, a small testing image which lets you login as **root** # CirrOS has a ``cloud-init`` analog supporting login via keypair and sending # scripts as userdata. # See https://help.ubuntu.com/community/CloudInit for more on ``cloud-init`` if is_service_enabled g-reg; then echo_summary ""Uploading images"" for image_url in ${IMAGE_URLS//,/ }; do upload_image $image_url done fi ",35,19
openstack%2Fopenstack-tempest-skiplist~master~I174b5d5368dc7e61b12b9d3d2d0d1c18570e7e1a,openstack/openstack-tempest-skiplist,master,I174b5d5368dc7e61b12b9d3d2d0d1c18570e7e1a,Update README with quickstart,MERGED,2020-11-18 11:04:10.000000000,2020-11-18 14:22:43.000000000,2020-11-18 14:21:10.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-18 11:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8045de86937c684faf800cd420d4b200e7cb7ca3', 'message': 'Update README with quickstart\n\nUpdating the tempest-skiplist README in order to add some quick\ninformation how it works.\n\nChange-Id: I174b5d5368dc7e61b12b9d3d2d0d1c18570e7e1a\n'}, {'number': 2, 'created': '2020-11-18 12:24:17.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/31b79081f2f4d9f86aeb2cd3ecd440bb91018696', 'message': 'Update README with quickstart\n\nUpdating the tempest-skiplist README in order to add some quick\ninformation how it works.\n\nChange-Id: I174b5d5368dc7e61b12b9d3d2d0d1c18570e7e1a\n'}]",4,763158,31b79081f2f4d9f86aeb2cd3ecd440bb91018696,11,5,2,8367,,,0,"Update README with quickstart

Updating the tempest-skiplist README in order to add some quick
information how it works.

Change-Id: I174b5d5368dc7e61b12b9d3d2d0d1c18570e7e1a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/58/763158/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8045de86937c684faf800cd420d4b200e7cb7ca3,update-readme," Quickstart ========== Installation ------------ Installing from git and virtualenv:: $ git clone https://opendev.org/openstack/openstack-tempest-skiplist $ cd openstack-tempest-skiplist $ virtualenv .venv $ source .venv/bin/activate $ pip install . Validation ---------- After edit your file, you can check if it is valid with the following command:: $ tempest-skiplist validate --file file.yaml Examples -------- A simple example of the structure of the yaml file expected by tempest-skiplist. For more information about each field, visit `the documentation website <https://docs.openstack.org/openstack-tempest-skiplist/latest/yaml/formatting.html>`: .. code-block:: yaml known_failures: - test: 'full.tempest.test' bz: 'https://bugzilla.redhat.com/1' lp: 'https://launchpad.net/bugs/1' deployment: - 'undercloud' - 'overcloud' jobs: - job1 - job2 reason: 'default reason' releases: - name: master lp: 'https://launchpad.net/bugs/2' reason: 'Some reason' - name: train bz: 'https://bugzilla.redhat.com/train1' - name: ussuri bz: 'https://bugzilla.redhat.com/ussuri1' In the example above, the test full.tempest.test will be executed by tempest in both deployments, undercloud, and overcloud (depending on the job). It will also only be skipped in the releases master, train and ussuri, and also only be skipped in the job1 and job2. It will not be skipped in any other job, no matter the release. Removing the list of jobs, means it will be skipped everywhere.",,57,0
openstack%2Ftripleo-ci~master~I6593ad6387aa91958e8479d1886efd4d0d8e6a37,openstack/tripleo-ci,master,I6593ad6387aa91958e8479d1886efd4d0d8e6a37,Make victoria upgrades job non-voting until fixed,ABANDONED,2020-11-17 22:46:09.000000000,2020-11-18 14:21:36.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-17 22:46:09.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e80c76182681e2840be2fe3103051280784b7cb', 'message': 'Make victoria upgrades job non-voting until fixed\n\nThe victoria upgrades jobs is failing consistently.\nThis review makes the job non-voting and removes it from gate.\n\nA parallel review will add a fs050 job to periodic.\n\nChange-Id: I6593ad6387aa91958e8479d1886efd4d0d8e6a37\n'}]",1,763097,6e80c76182681e2840be2fe3103051280784b7cb,9,5,1,9976,,,0,"Make victoria upgrades job non-voting until fixed

The victoria upgrades jobs is failing consistently.
This review makes the job non-voting and removes it from gate.

A parallel review will add a fs050 job to periodic.

Change-Id: I6593ad6387aa91958e8479d1886efd4d0d8e6a37
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/97/763097/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,6e80c76182681e2840be2fe3103051280784b7cb,victoria-upgrades-voting, voting: false, - tripleo-ci-centos-8-undercloud-upgrade-victoria: vars: *undercloud_consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-content-provider-ussuri voting: true,1,7
openstack%2Fswift~master~If4cafc9be571a31616186b9f67e7d1c0afeca0e7,openstack/swift,master,If4cafc9be571a31616186b9f67e7d1c0afeca0e7,Push shardrange audit hacks into a patchset,NEW,2020-09-03 00:42:23.000000000,2020-11-18 14:20:21.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 00:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fddc2f3cc289f7a02bdda0d69606e47c7ff3248a', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nNext I need to test and see if any of this actaully works :P\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}, {'number': 2, 'created': '2020-10-09 02:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a86f65a76ccedc80f6189c08e3a8c94e59d12fae', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nNext I need to test and see if any of this actaully works :P\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}, {'number': 3, 'created': '2020-10-13 02:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/669890ed448b5bb3e9dbe775406d724454c6fee9', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nNext I need to test and see if any of this actaully works :P\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}, {'number': 4, 'created': '2020-10-13 04:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2fbc1b4249c0ea7c5c5083bf1964765436c813a5', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nNext I need to test and see if any of this actaully works :P\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}, {'number': 5, 'created': '2020-10-16 06:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0879b4bcb9b4371643ccee1a38deb1bea85d4179', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nNext I need to test and see if any of this actaully works :P\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}, {'number': 6, 'created': '2020-10-22 23:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/362b3cd58d3178b589d93d7d1f14225de2b0779f', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nAlso added some initial tests.\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}, {'number': 7, 'created': '2020-11-18 09:47:31.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5edc85e66925f42fea3ade89b5290ad6c5ec2924', 'message': 'Push shardrange audit hacks into a patchset\n\nAlso a driveby to add the graphviz to manage_shard_ranges tool\nexpending it a bit more to use the RangeScanner weight calcs in the\ngraphviz SVG output.\n\nAlso added some initial tests.\n\nChange-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7\n'}]",41,749614,5edc85e66925f42fea3ade89b5290ad6c5ec2924,16,2,7,7233,,,0,"Push shardrange audit hacks into a patchset

Also a driveby to add the graphviz to manage_shard_ranges tool
expending it a bit more to use the RangeScanner weight calcs in the
graphviz SVG output.

Also added some initial tests.

Change-Id: If4cafc9be571a31616186b9f67e7d1c0afeca0e7
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/749614/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py']",2,fddc2f3cc289f7a02bdda0d69606e47c7ff3248a,sharder_auditor_hacks,"from itertools import chain class RangesScanner(object): def __init__(self, shard_account=None, root_conatiner=None, ranges=None, shard_threshold=None, shrink_size=None): # These are needed for building shardrange paths self.shard_account = shard_account self.root_container = root_conatiner # This assumes just a list of ranges. I'd assume we'd be smart, # and if we can't find a range with active shardranges we'd scan again # including ranges that are FOUND or CLEAVED, to make sure we do have # a valid complete range before we attempt to fix. self.ranges = ranges # These are used for the weight algorithm, because we don't like # ranges that are too small or too big as an overlap might just be # due to an cleave or shrink. self.shard_threshold = shard_threshold or \ DEFAULT_SHARD_CONTAINER_THRESHOLD self.shrink_size = shrink_size or \ DEFAULT_SHARD_CONTAINER_THRESHOLD * DEFAULT_SHARD_SHRINK_POINT self.reset() if ranges: self.scan() def reset(self): self.complete = list() self.frags = list() self.lowers = defaultdict(list) self.uppers = defaultdict(list) self._scanned = False def has_complete(self): return self._scanned and len(self.complete) > 0 def has_frags(self): return self._scanned and len(self.frags) > 0 def walk_range(self, lower, l=None, ranges=None, complete=True): if not l: l = [] if not ranges: ranges = list(self.ranges) if lower in self.lowers: multiple = len(self.lowers[lower]) > 1 for sr in self.lowers[lower]: if sr in ranges: ranges.remove(sr) if sr.upper_str == """": l.append(sr) if complete: self.complete.append(l) else: self.frags.append(l) return if multiple: new_l = list(l) new_l.append(sr) self.walk_range(sr.upper_str, new_l, ranges, complete) else: l.append(sr) self.walk_range(sr.upper_str, l, ranges, complete) elif l: self.frags.append(l) return def scan(self, ranges=None): self.reset() if ranges: self.ranges = ranges overlaps = False gaps = False ranges_left = list(self.ranges) for sr in self.ranges: self.lowers[sr.lower_str].append(sr) self.uppers[sr.upper_str].append(sr) if len(self.lowers[sr.lower_str]) > 1 or len(self.uppers[sr.upper_str]) > 1: overlaps = True # Quick check for gaps if set(self.lowers.keys()).difference(set(self.uppers.keys())): gaps = True # Short cut if not overlaps and not gaps: self.complete.append(self.ranges) return self.walk_range('', ranges=ranges_left) while ranges_left: ranges_left.sort() self.walk_range(ranges_left[0].lower, ranges=ranges_left, complete=False) self._scanned = True def _ranges_to_remove(self, good_path): remove_set = set() good_set = set(good_path) for path in chain(self.complete, self.frags): path = set(path) path.difference_update(good_set) remove_set.update(path) return list(remove_set) def _calc_range_weight(self, shard_range): return RangesScanner.calc_range_weight(shard_range, self.shard_threshold, self.shrink_size) @staticmethod def calc_range_weight(shard_range, shard_threshold, shrink_size): # Ideally we want to choose a path with the least movement, so we # and to choose a set of shard ranges that contain the most objects. # But it isn't that simple. What if we've just cleaved, we don't want # to pick and old un-cleaved range just to cleave it again. # Also what if we've just shrunk? Then a range that is too small isn't # one we actually want to pick either, because then we'd need to shrink # again. # Attempt 1: # weight == object_count / shard_threshold # Which should give us close to a percentage ""full"" anything over # 1 really needs to shard. # But, what if something has already sharded, or has just shrunk, then # we don't want to pick that complete path, otherwise we need to shard # or shrink again. So if it's > shard_threshold or smaller then shrink # size, we'll negate the sign. # # We do this because the we want to pick the path with the biggest # weight as we want to cleave of the paths with less object (because # data movement) so by giving them a negative they should become less # attractive. result = shard_range.object_count / float(shard_threshold) if shard_range.object_count < shrink_size \ or shard_range.object_count > shard_threshold: return result * -1 return result def _find_best_complete_path(self): if len(self.complete) == 1: return self.complete[0] # We have more then 1 complete range. This could be because: # 1: We're in split brain # 2: We've recently cleaved # 3: We've recently started shrinking. # In either case, let's walk and calulate the best path, noting # that it's isn't just object count. weighted_paths = [(path, sum(map(self._calc_range_weight, path))) for path in self.complete] return max(weighted_paths, key=lambda x: x[-1])[0] def _find_and_build_best_fragment_path(self): # we have 3 different types of fragments, mins, maxes and floating. # That is, by definition, a fragment is a path that doesn't go from # MIN to MAX. So: # - MINS: fragment paths that start at MIN # - MAXES: fragment paths that end at MAX # - FLOATING: fragments that dont start or end at MIN or MAX mins, maxes, floating = list(), list(), list() for frag in self.frags: if frag[0].lower == ShardRange.MIN: mins.append(frag) elif frag[-1].upper == ShardRange.MAX: maxes.append(frag) else: floating.append(frag) if not mins and not maxes and not floating: return None # When finding the best fragment path, let's make it simple, we want to # build a complete path by inserting a new shard range. So the best path # is a shard range that will fill the smallest gap. # So let's make an assumption that we want to find the smallest gap # in which case, let's start by finding the frag from mins that reaches # the furthest.. or the max(mins). # Then do the same for maxes, so the min(maxes). def max_shard_range(frag): return frag[-1].upper_str def min_shard_range(frag): return frag[0].lower_str min_frag = max(mins, key=max_shard_range) if mins else None max_frag = min(maxes, key=min_shard_range) if maxes else None # Let's attempt to connect the frags up. min_path = min_frag if min_frag else [] while floating: if not min_path: min_floating = min(floating, key=min_shard_range) min_path += self._make_new_range('', min_floating[0].lower_str) min_path += min_floating floating.remove(min_floating) else: # filter out everything < min_path floating = [f for f in floating if f[-1] > min_path[-1]] if not floating: continue min_floating = min(floating, key=min_shard_range) # _connect_frags connects the 2, deals with overlaps and # removes/add not required frags to self.frags so we can remove # them later. min_path = self._connect_frags(min_path, min_floating) floating.remove(min_floating) # Now we just need to connect the min_path to the max_frag if not min_path: min_path += self._make_new_range('', max_frag[0].lower_str) min_path += max_frag else: min_path = self._connect_frags(min_path, max_frag) return min_path def _connect_frags(self, left_frag, right_frag): # We've already filtered out fragments so the last one on the left, # is < the last one on the right. Meaning the last range on left must # either overlap or is well clear of the whole right range. (I think # that logic makes sense) overlap_map = map(left_frag[-1].overlaps, right_frag) if any(overlap_map): # we have overlaps so we want to find the last overlap. overlap_map.reverse() reverse_index = overlap_map.index(True) last_match_index = len(right_frag) - 1 - reverse_index # OK before me modify a SR, let's remove the existing frag # from frags. self.frags.remove(right_frag) # and add the new smaller one pre_overlap_frag = right_frag[:last_match_index] if pre_overlap_frag: self.frags.append(pre_overlap_frag) right_frag[last_match_index].lower = left_frag[-1].upper right_frag[last_match_index].state_timestamp = Timestamp.now() left_frag += right_frag[last_match_index:] else: # just connect the 2 with a new shard range. left_frag += self._make_new_range(left_frag[-1].upper_str, right_frag[0].lower_str) left_frag += right_frag return left_frag def _make_new_range(self, lower, upper): ts = Timestamp.now() path = ShardRange.make_path(self.shard_account, self.root_container, self.root_container, ts, 0) return ShardRange(path, ts, lower, upper, state=ShardRange.FOUND) def find_best_path(self): ranges_to_remove = list() # Rule 1: If there are complete paths these _always_ win over fragment # Paths if self.complete: # Rule 1.1: find all the fragment ranges that aren't a part of # the completed ranges to remove. path = self._find_best_complete_path() else: # Rule 2: There are no completed paths, so we need to build # the best path we can with the fragments we have. This # will involve adding a shardrange(s) :S path = self._find_and_build_best_fragment_path() ranges_to_remove = self._ranges_to_remove(path) return path, ranges_to_remove",,305,2
openstack%2Fcharm-swift-storage~master~Ib517eb372a07824f14e450203bf8d5784d931e67,openstack/charm-swift-storage,master,Ib517eb372a07824f14e450203bf8d5784d931e67,Add Groovy to the test gate,MERGED,2020-11-05 11:54:58.000000000,2020-11-18 14:12:35.000000000,2020-11-18 14:12:35.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:54:58.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/5df44cb7c545efed7eff9d14109ad32180c7c23c', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ib517eb372a07824f14e450203bf8d5784d931e67\n'}]",0,761590,5df44cb7c545efed7eff9d14109ad32180c7c23c,14,4,1,31289,,,0,"Add Groovy to the test gate

Change-Id: Ib517eb372a07824f14e450203bf8d5784d931e67
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/90/761590/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/storage/linux/ceph.py']",2,5df44cb7c545efed7eff9d14109ad32180c7c23c,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",23,6
openstack%2Fcinder~master~I6920a4d479b39c79247066e1b8036c7ad53e38fc,openstack/cinder,master,I6920a4d479b39c79247066e1b8036c7ad53e38fc,mypy: annotate volume manager (alternate style),ABANDONED,2020-10-12 13:22:43.000000000,2020-11-18 14:05:29.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-10-12 13:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/572828d1feb2fd62bf8e85509d5f671c824db248', 'message': 'mypy: annotate volume manager (alternate style)\n\nImport types directly, instead of the style in\nhttps://review.opendev.org/#/c/733621/\n\nChange-Id: I6920a4d479b39c79247066e1b8036c7ad53e38fc\n'}, {'number': 2, 'created': '2020-10-14 12:28:13.000000000', 'files': ['cinder/manager.py', 'cinder/volume/manager.py', 'cinder/context.py', 'cinder/volume/volume_types.py', 'mypy-files.txt', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a347f40b5bebf868e579a1426d034ebc4bc3ae7e', 'message': 'mypy: annotate volume manager (alternate style)\n\nImport types directly, instead of the style in\nhttps://review.opendev.org/#/c/733621/\n\nChange-Id: I6920a4d479b39c79247066e1b8036c7ad53e38fc\n'}]",0,757560,a347f40b5bebf868e579a1426d034ebc4bc3ae7e,51,23,2,4523,,,0,"mypy: annotate volume manager (alternate style)

Import types directly, instead of the style in
https://review.opendev.org/#/c/733621/

Change-Id: I6920a4d479b39c79247066e1b8036c7ad53e38fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/757560/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/manager.py', 'cinder/volume/manager.py', 'cinder/context.py', 'cinder/volume/volume_types.py', 'mypy-files.txt', 'cinder/image/glance.py']",6,572828d1feb2fd62bf8e85509d5f671c824db248,mypy,"import typing as tyfrom cinder import contextdef get_remote_image_service(context: context.RequestContext, image_href) -> ty.Tuple[GlanceImageService, str]:","def get_remote_image_service(context, image_href):",302,148
openstack%2Ftripleo-common~master~I54b9d9f341b521b415a6dccc6c78ae7a77821f6f,openstack/tripleo-common,master,I54b9d9f341b521b415a6dccc6c78ae7a77821f6f,Change qemu user id to match previous releases,MERGED,2020-11-12 10:52:49.000000000,2020-11-18 13:53:17.000000000,2020-11-18 13:51:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-11-12 10:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/184e81f90676a702a6e6e05daefc0cd5be99bade', 'message': ""Change qemu user id to match previous releases\n\nIn previous releases the qemu user was overwritten as the vhost-user\nsockets created on host has uid as 107 override kolla's default\nconfiguration for qemu-user. This also allows to bind mount the\ntls certificates used for libvirt-vnc into the libvirt container.\n\nCloses-Bug: #1903508\nRelated-Bug: #1900986\n\nChange-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f\n""}, {'number': 2, 'created': '2020-11-12 11:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c9cf5197b7fa303694db09f2d807e2831462c7b', 'message': 'Change qemu user id to match previous releases\n\nThe qemu user on the host gets created using uid/gid 107. Certificates\non the host, but also the vhost-user sockets created by ovs use this\nuid/gid. With the move to TCIB images the default kolla ids were\nreverted and the previous overwrite dropped. This make e.g. the qemu\nprocesses to fail to use the libvirt-vnc bind mounted certificates.\nThis change brings back the previous overwrite of the qemu user\nuid/gid.\n\nCloses-Bug: #1903508\nRelated-Bug: #1900986\n\nChange-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f\n'}, {'number': 3, 'created': '2020-11-12 15:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4c9f63cb9a3c742e8625fb133534d23f9b29fae', 'message': 'Change qemu user id to match previous releases\n\nThe qemu user on the host gets created using uid/gid 107. Certificates\non the host, but also the vhost-user sockets created by ovs use this\nuid/gid. With the move to TCIB images the default kolla ids were\nreverted and the previous overwrite dropped. This make e.g. the qemu\nprocesses to fail to use the libvirt-vnc bind mounted certificates.\nThis change brings back the previous overwrite of the qemu user\nuid/gid.\n\nCloses-Bug: #1903508\nRelated-Bug: #1900986\n\nChange-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f\n(cherry picked from commit 1c9cf5197b7fa303694db09f2d807e2831462c7b)\n'}, {'number': 4, 'created': '2020-11-12 15:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f4fed284b9e4aa2f02bdc72a750ec8d5d526ddf', 'message': 'Change qemu user id to match previous releases\n\nThe qemu user on the host gets created using uid/gid 107. Certificates\non the host, but also the vhost-user sockets created by ovs use this\nuid/gid. With the move to TCIB images the default kolla id were\nreverted and the previous overwrite dropped. This make e.g. the qemu\nprocesses to fail to use the libvirt-vnc bind mounted certificates.\nThis change brings back the previous overwrite of the qemu user\nuid/gid.\n\nCloses-Bug: #1903508\nRelated-Bug: #1900986\n\nChange-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f\n'}, {'number': 5, 'created': '2020-11-13 19:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05b1736f321557104d2c9a157e7a684089df1326', 'message': 'Change qemu user id to match previous releases\n\nThe qemu user on the host gets created using uid/gid 107. Certificates\non the host, but also the vhost-user sockets created by ovs use this\nuid/gid. With the move to TCIB images the default kolla id were\nreverted and the previous overwrite dropped. This make e.g. the qemu\nprocesses to fail to use the libvirt-vnc bind mounted certificates.\nThis change brings back the previous overwrite of the qemu user\nuid/gid.\n\nCloses-Bug: #1903508\nRelated-Bug: #1900986\n\nChange-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f\n'}, {'number': 6, 'created': '2020-11-17 18:45:43.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh', 'releasenotes/notes/qemu_user_id-32d8f17099a6f002.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/222c67e128620cfd4cc0d65ddd15d73991d486d6', 'message': 'Change qemu user id to match previous releases\n\nThe qemu user on the host gets created using uid/gid 107. Certificates\non the host, but also the vhost-user sockets created by ovs use this\nuid/gid. With the move to TCIB images the default kolla id were\nreverted and the previous overwrite dropped. This make e.g. the qemu\nprocesses to fail to use the libvirt-vnc bind mounted certificates.\nThis change brings back the previous overwrite of the qemu user\nuid/gid.\n\nCloses-Bug: #1903508\nRelated-Bug: #1900986\n\nChange-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f\n'}]",0,762497,222c67e128620cfd4cc0d65ddd15d73991d486d6,56,13,6,17216,,,0,"Change qemu user id to match previous releases

The qemu user on the host gets created using uid/gid 107. Certificates
on the host, but also the vhost-user sockets created by ovs use this
uid/gid. With the move to TCIB images the default kolla id were
reverted and the previous overwrite dropped. This make e.g. the qemu
processes to fail to use the libvirt-vnc bind mounted certificates.
This change brings back the previous overwrite of the qemu user
uid/gid.

Closes-Bug: #1903508
Related-Bug: #1900986

Change-Id: I54b9d9f341b521b415a6dccc6c78ae7a77821f6f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/762497/4 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/base/uid_gid_manage.sh', 'releasenotes/notes/qemu_user_id-32d8f17099a6f002.yaml']",2,184e81f90676a702a6e6e05daefc0cd5be99bade,qemu_user,--- fixes: - | In previous releases the qemu user was overwritten as the vhost-user sockets created on host has uid as 107 override kolla's default configuration for qemu-user. This also allows to bind mount the tls certificates used for libvirt-vnc into the libvirt container. ,,8,1
openstack%2Ftripleo-quickstart-extras~master~I9ce70c2780f7bad07eae96f8142966fcf5dfc3a1,openstack/tripleo-quickstart-extras,master,I9ce70c2780f7bad07eae96f8142966fcf5dfc3a1,ensure that repo-setup ALWAYS REruns after deployment for update/upgrade,MERGED,2020-11-13 15:06:42.000000000,2020-11-18 13:51:43.000000000,2020-11-18 13:51:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-13 15:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffdbf0fc8e446c0eb1708e9565ba61e5199418d5', 'message': 'ensure that repo-setup ALWAYS REruns after deployment for update/upgrade\n\nThe build tag was governing the repo-setup role\nand the build-test-packages role.  The build tag\nshould only be used for build-test-packages. The\nrole repo-setup should always rerun first thing\nand be governed by the upgrade tag.\n\nChange-Id: I9ce70c2780f7bad07eae96f8142966fcf5dfc3a1\n'}, {'number': 2, 'created': '2020-11-17 22:41:55.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml', 'playbooks/multinode-undercloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b8bbf8d93e12c08001a345a1f0e5311afca4a52', 'message': 'ensure that repo-setup ALWAYS REruns after deployment for update/upgrade\n\nThe build tag was governing the repo-setup role\nand the build-test-packages role.  The build tag\nshould only be used for build-test-packages. The\nrole repo-setup should always rerun first thing\nand be governed by the upgrade tag.\n\nChange-Id: I9ce70c2780f7bad07eae96f8142966fcf5dfc3a1\n'}]",1,762669,6b8bbf8d93e12c08001a345a1f0e5311afca4a52,15,6,2,9592,,,0,"ensure that repo-setup ALWAYS REruns after deployment for update/upgrade

The build tag was governing the repo-setup role
and the build-test-packages role.  The build tag
should only be used for build-test-packages. The
role repo-setup should always rerun first thing
and be governed by the upgrade tag.

Change-Id: I9ce70c2780f7bad07eae96f8142966fcf5dfc3a1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/69/762669/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-overcloud-upgrade.yml', 'playbooks/multinode-undercloud-upgrade.yml']",2,ffdbf0fc8e446c0eb1708e9565ba61e5199418d5,,"# the yum repos ALWAYS need to change - undercloud-upgrade vars: repo_setup_script: ""repo-setup-{{ lookup('env', 'UPGRADE_RELEASE') }}.sh"" repo_setup_log: ""repo-setup-{{ lookup('env', 'UPGRADE_RELEASE') }}.log"" repo_setup_run_update: false dlrn_hash_path: '' dlrn_hash_path_newest: '' # This should not be enabled because the updating of the packages occurs # durring the upgrade process. For general installation it's ok to have # this enabled, but this needs to be disabled for upgrades ib_gating_repo_update: false roles: - role: repo-setup # note: in upstream CI the gerrit change is built on the content-provider # this task will be skipped upstream - name: Build the gerrit changes on the relevant release for the upgrade hosts: undercloud tags:", - role: repo-setup,42,4
openstack%2Ftripleo-heat-templates~master~I7b9fdc481d5361a6ecbef66dce05c0d1b795be4f,openstack/tripleo-heat-templates,master,I7b9fdc481d5361a6ecbef66dce05c0d1b795be4f,Fix typo in bond options group var name (1/2),MERGED,2020-11-03 02:50:35.000000000,2020-11-18 13:51:41.000000000,2020-11-18 13:51:40.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-11-03 02:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec034f84ac6d3b7e1da090d03060f81e15bf7706', 'message': 'Fix typo in bond options group var name (1/2)\n\ns/bound_interface_ovs_options/bond_interface_ovs_options/\n\nChange-Id: I7b9fdc481d5361a6ecbef66dce05c0d1b795be4f\n'}, {'number': 2, 'created': '2020-11-09 12:22:32.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/633707d412f9d61db61ad9a65a21452cae7ae1e6', 'message': 'Fix typo in bond options group var name (1/2)\n\ns/bound_interface_ovs_options/bond_interface_ovs_options/\n\nChange-Id: I7b9fdc481d5361a6ecbef66dce05c0d1b795be4f\n'}]",2,761039,633707d412f9d61db61ad9a65a21452cae7ae1e6,13,5,2,24245,,,0,"Fix typo in bond options group var name (1/2)

s/bound_interface_ovs_options/bond_interface_ovs_options/

Change-Id: I7b9fdc481d5361a6ecbef66dce05c0d1b795be4f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/761039/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,ec034f84ac6d3b7e1da090d03060f81e15bf7706,fix-bond-options-typo, bond_interface_ovs_options: {get_param: BondInterfaceOvsOptions},,1,0
openstack%2Fcharms.openstack~master~I77fc6fd8203ad3e6767697c93e0d2f5f6afc7e0c,openstack/charms.openstack,master,I77fc6fd8203ad3e6767697c93e0d2f5f6afc7e0c,Support 'major.minor' in get_os_codename_package(),ABANDONED,2020-11-16 15:31:51.000000000,2020-11-18 13:50:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-16 15:31:51.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'charms_openstack/charm/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/540d806038d232beff89beb1d11bf4202ba37113', 'message': ""Support 'major.minor' in get_os_codename_package()\n\nChange-Id: I77fc6fd8203ad3e6767697c93e0d2f5f6afc7e0c\n""}]",0,762863,540d806038d232beff89beb1d11bf4202ba37113,4,2,1,31289,,,0,"Support 'major.minor' in get_os_codename_package()

Change-Id: I77fc6fd8203ad3e6767697c93e0d2f5f6afc7e0c
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/63/762863/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'charms_openstack/charm/utils.py']",3,540d806038d232beff89beb1d11bf4202ba37113,os-codename-major-minor,# NOTE(AJK): that we are breaking the camelcase rule as this is acting as a,# NOTE(AJK): that we are breaking the camalcase rule as this is acting as a,41,18
openstack%2Fpython-tripleoclient~master~I8f31886fcf8898c7844ce0b67e5006f592408f0f,openstack/python-tripleoclient,master,I8f31886fcf8898c7844ce0b67e5006f592408f0f,Improve the error message about image tags,MERGED,2020-10-22 04:04:14.000000000,2020-11-18 13:41:25.000000000,2020-11-18 13:40:02.000000000,"[{'_account_id': 597}, {'_account_id': 6681}, {'_account_id': 9976}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-22 04:04:14.000000000', 'files': ['tripleoclient/v1/overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8afc8de25e15ba323c5dd2186898c102bd543a95', 'message': 'Improve the error message about image tags\n\nThe origial message made no grammatic sense, especially\nfor the non-native speakers, who were unable to fill in\nthe blanks where the errors were.\n\nChange-Id: I8f31886fcf8898c7844ce0b67e5006f592408f0f\n'}]",0,759181,8afc8de25e15ba323c5dd2186898c102bd543a95,15,5,1,597,,,0,"Improve the error message about image tags

The origial message made no grammatic sense, especially
for the non-native speakers, who were unable to fill in
the blanks where the errors were.

Change-Id: I8f31886fcf8898c7844ce0b67e5006f592408f0f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/759181/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_image.py'],1,8afc8de25e15ba323c5dd2186898c102bd543a95,absurd_message, if img_kernel_id is None or img_ramdisk_id is None: self.log.error('Link of overcloud image %s to its initrd' ' or kernel images is MISSING.' 'You can keep it or fix it manually.' % overcloud_image.name) elif (img_kernel_id != kernel.id or img_ramdisk_id != ramdisk.id): self.log.error('Link of overcloud image %s to its initrd' ' or kernel images leads to OLD image.' 'You can keep it or fix it manually.' % overcloud_image.name), if (img_kernel_id != kernel.id or img_ramdisk_id != ramdisk.id): self.log.error('Link overcloud image to it\'s initrd and ' 'kernel images is MISSING OR leads to OLD ' 'image. You can keep it or fix it ' 'manually.'),11,6
openstack%2Fkolla-ansible~stable%2Fussuri~I50d28ea31c3c29322974b91a72a2bd7999324ac7,openstack/kolla-ansible,stable/ussuri,I50d28ea31c3c29322974b91a72a2bd7999324ac7,[baremetal]: Use $releasever in docker-ce repo,MERGED,2020-11-17 09:35:22.000000000,2020-11-18 13:36:42.000000000,2020-11-18 12:55:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-17 09:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42e545d5174e24f8321d3e23429ec47b4a6befbb', 'message': '[baremetal]: Use $releasever in docker-ce repo\n\nUpdate to CentOS 8 versions of packages in docker-ce repo (that are\nnow available)\n\nChange-Id: I50d28ea31c3c29322974b91a72a2bd7999324ac7\n(cherry picked from commit 883b79a1a522bc8b9cc4ed22870356d64a96fa6c)\n'}, {'number': 2, 'created': '2020-11-17 15:20:44.000000000', 'files': ['releasenotes/notes/docker-repo-centos-8-edc2412c57a2762c.yaml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a7197a6a5afb3b71214dffabca1104eaf15200f', 'message': '[baremetal]: Use $releasever in docker-ce repo\n\nUpdate to CentOS 8 versions of packages in docker-ce repo (that are\nnow available)\n\nChange-Id: I50d28ea31c3c29322974b91a72a2bd7999324ac7\n(cherry picked from commit 883b79a1a522bc8b9cc4ed22870356d64a96fa6c)\n'}]",0,762979,2a7197a6a5afb3b71214dffabca1104eaf15200f,16,6,2,22629,,,0,"[baremetal]: Use $releasever in docker-ce repo

Update to CentOS 8 versions of packages in docker-ce repo (that are
now available)

Change-Id: I50d28ea31c3c29322974b91a72a2bd7999324ac7
(cherry picked from commit 883b79a1a522bc8b9cc4ed22870356d64a96fa6c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/762979/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/defaults/main.yml'],1,42e545d5174e24f8321d3e23429ec47b4a6befbb,use_centos8_docker-stable/ussuri,"docker_yum_baseurl: ""{{ docker_yum_url }}/$releasever/$basearch/stable""","# FIXME(mgoddard): $releasever rather than 7. docker_yum_baseurl: ""{{ docker_yum_url }}/7/$basearch/stable""",1,2
openstack%2Fhorizon~master~I9730095365342cac1023f4112bae4b3a28cdeaf7,openstack/horizon,master,I9730095365342cac1023f4112bae4b3a28cdeaf7,Drop OPENSTACK_NOVA_EXTENSIONS_BLACKLIST finally,MERGED,2020-09-12 01:09:36.000000000,2020-11-18 13:36:36.000000000,2020-11-18 13:33:14.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-12 01:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/90014675d082fe71c5b3f790fa3cf8abce3229ab', 'message': 'Drop OPENSTACK_NOVA_EXTENSIONS_BLACKLIST finally\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (3/3)\n\nClean up nova extensions related code in the API layer.\n\nChange-Id: I9730095365342cac1023f4112bae4b3a28cdeaf7\n'}, {'number': 2, 'created': '2020-09-27 01:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0385f82f4e6ea7185a724323e0d9966bc95c70eb', 'message': 'Drop OPENSTACK_NOVA_EXTENSIONS_BLACKLIST finally\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (3/3)\n\nClean up nova extensions related code in the API layer.\n\nChange-Id: I9730095365342cac1023f4112bae4b3a28cdeaf7\n'}, {'number': 3, 'created': '2020-10-15 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4951945706f6cb772b05cf259ede229ea824d98f', 'message': 'Drop OPENSTACK_NOVA_EXTENSIONS_BLACKLIST finally\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (3/3)\n\nClean up nova extensions related code in the API layer.\n\nChange-Id: I9730095365342cac1023f4112bae4b3a28cdeaf7\n'}, {'number': 4, 'created': '2020-10-27 11:02:35.000000000', 'files': ['doc/source/configuration/settings.rst', 'releasenotes/notes/drop-nova-extensions-blacklist-7718f0ef622e3af8.yaml', 'openstack_dashboard/defaults.py', 'openstack_dashboard/test/unit/api/rest/test_nova.py', 'openstack_dashboard/api/rest/nova.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/672c43c43e13cb2e4b1177f77ad322cca60970ec', 'message': 'Drop OPENSTACK_NOVA_EXTENSIONS_BLACKLIST finally\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (3/3)\n\nClean up nova extensions related code in the API layer.\n\nChange-Id: I9730095365342cac1023f4112bae4b3a28cdeaf7\n'}]",0,751562,672c43c43e13cb2e4b1177f77ad322cca60970ec,20,4,4,841,,,0,"Drop OPENSTACK_NOVA_EXTENSIONS_BLACKLIST finally

Part of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (3/3)

Clean up nova extensions related code in the API layer.

Change-Id: I9730095365342cac1023f4112bae4b3a28cdeaf7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/751562/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/settings.rst', 'releasenotes/notes/drop-nova-extensions-blacklist-7718f0ef622e3af8.yaml', 'openstack_dashboard/defaults.py', 'openstack_dashboard/test/unit/api/rest/test_nova.py', 'openstack_dashboard/api/rest/nova.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py']",7,90014675d082fe71c5b3f790fa3cf8abce3229ab,drop-nova-ext-blacklist,,"from django.conf import settings# python-novaclient 16.0.0 removed the list_extensions module and the # GET /extensions API is deprecated since Newton. Furthermore, the ability # to enable/disable compute API extensions was also removed in Newton. # Therefore we hard-code the list of extensions here until the # OPENSTACK_NOVA_EXTENSIONS_BLACKLIST setting is no longer used. EXTENSIONS = ( 'AccessIPs', 'AdminActions', 'AdminPassword', 'Agents', 'Aggregates', 'AssistedVolumeSnapshots', 'AttachInterfaces', 'AvailabilityZone', 'BareMetalExtStatus', 'BareMetalNodes', 'BlockDeviceMapping', 'BlockDeviceMappingV2Boot', 'CellCapacities', 'Cells', 'Certificates', 'Cloudpipe', 'CloudpipeUpdate', 'ConfigDrive', 'ConsoleAuthTokens', 'ConsoleOutput', 'Consoles', 'CreateBackup', 'Createserverext', 'DeferredDelete', 'DiskConfig', 'Evacuate', 'ExtendedAvailabilityZone', 'ExtendedEvacuateFindHost', 'ExtendedFloatingIps', 'ExtendedHypervisors', 'ExtendedIps', 'ExtendedIpsMac', 'ExtendedNetworks', 'ExtendedQuotas', 'ExtendedRescueWithImage', 'ExtendedServerAttributes', 'ExtendedServices', 'ExtendedServicesDelete', 'ExtendedStatus', 'ExtendedStatus', 'ExtendedVolumes', 'FixedIPs', 'FlavorAccess', 'FlavorDisabled', 'FlavorExtraData', 'FlavorExtraSpecs', 'FlavorManage', 'FlavorRxtx', 'FlavorSwap', 'FloatingIpDns', 'FloatingIpPools', 'FloatingIps', 'FloatingIpsBulk', 'Fping', 'HideServerAddresses', 'Hosts', 'HypervisorStatus', 'Hypervisors', 'ImageSize', 'InstanceActions', 'Keypairs', 'LockServer', 'MigrateServer', 'Migrations', 'Multinic', 'MultipleCreate', 'NetworkAssociationSupport', 'Networks', 'OSInstanceUsageAuditLog', 'OSTenantNetworks', 'PauseServer', 'Personality', 'PreserveEphemeralOnRebuild', 'QuotaClasses', 'Quotas', 'Rescue', 'SchedulerHints', 'SecurityGroupDefaultRules', 'SecurityGroups', 'ServerDiagnostics', 'ServerExternalEvents', 'ServerGroupQuotas', 'ServerGroups', 'ServerListMultiStatus', 'ServerPassword', 'ServerSortKeys', 'ServerStartStop', 'ServerUsage', 'Services', 'Shelve', 'SimpleTenantUsage', 'SuspendServer', 'UsedLimits', 'UsedLimitsForAdmin', 'UserData', 'UserQuotas', 'VirtualInterfaces', 'VolumeAttachmentUpdate', 'Volumes' ) @memoized.memoized def list_extensions(request): """"""List all nova extension names, except the ones in the blacklist."""""" blacklist = set(settings.OPENSTACK_NOVA_EXTENSIONS_BLACKLIST) return tuple( extension for extension in EXTENSIONS if extension not in blacklist ) @profiler.trace @memoized.memoized def extension_supported(extension_name, request): """"""Determine if nova supports a given extension name. Example values for the extension_name include AdminActions, ConsoleOutput, etc. """""" return extension_name in list_extensions(request) @profiler.trace",13,218
openstack%2Fhorizon~master~Id43adbd44778d3375c0d49da3f7530cbb99e16fe,openstack/horizon,master,Id43adbd44778d3375c0d49da3f7530cbb99e16fe,Non-api filters not working with admin instance tab,MERGED,2020-09-28 08:59:22.000000000,2020-11-18 13:35:02.000000000,2020-11-18 13:33:06.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 31916}]","[{'number': 1, 'created': '2020-09-28 08:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c0c0846235958963c94ceac3eb09f9c2c5d98c54', 'message': ""Non-api Filters not working with admin tab.\n\nThe issue was with GET call for instances ,\ni.e the filtering opts like project_name, image_name,\nflavor_name are not supported by nova_api (non-api filters),\nso these get mapped to their id's first and then updated in\nsearch_opts dict which is passed for retrieving instances.\nFor the admin tab this call[1] was happening prior to\nnon-api filters mapping[2] , so in-order to work a second call\nwith updated search_opts dict should be called.\n\n[1] .https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L154\n\n[2]. https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L166\n\nChange-Id: Id43adbd44778d3375c0d49da3f7530cbb99e16fe\nCloses-Bug: #1888490\n""}, {'number': 2, 'created': '2020-10-08 15:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d3e2dd79de2d5942b31b619a7c9ddb82be53b12c', 'message': ""Non-api Filters not working with admin tab.\n\nThe issue was with GET call for instances ,\ni.e the filtering opts like project_name, image_name,\nflavor_name are not supported by nova_api (non-api filters),\nso these get mapped to their id's first and then updated in\nsearch_opts dict which is passed for retrieving instances.\nFor the admin tab this call[1] was happening prior to\nnon-api filters mapping[2] , so in-order to work a second call\nwith updated search_opts dict should be called.\n\n[1] .https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L154\n\n[2]. https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L166\n\nChange-Id: Id43adbd44778d3375c0d49da3f7530cbb99e16fe\nCloses-Bug: #1888490\n""}, {'number': 3, 'created': '2020-10-09 06:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5c56c1120389992430c0b4a487d1d2ee7a27b7aa', 'message': ""Non-api Filters not working with admin tab.\n\nThe issue was with GET call for instances ,\ni.e the filtering opts like project_name, image_name,\nflavor_name are not supported by nova_api (non-api filters),\nso these get mapped to their id's first and then updated in\nsearch_opts dict which is passed for retrieving instances.\nFor the admin tab this call[1] was happening prior to\nnon-api filters mapping[2] , so in-order to work a second call\nwith updated search_opts dict should be called.\n\n[1] .https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L154\n\n[2]. https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L166\n\nChange-Id: Id43adbd44778d3375c0d49da3f7530cbb99e16fe\nCloses-Bug: #1888490\n""}, {'number': 4, 'created': '2020-10-14 04:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/480340cb0d70a46f359d01002494edf584cc460f', 'message': ""Non-api Filters not working with admin tab.\n\nThe issue was with GET call for instances ,\ni.e the filtering opts like project_name, image_name,\nflavor_name are not supported by nova_api (non-api filters),\nso these get mapped to their id's first and then updated in\nsearch_opts dict which is passed for retrieving instances.\nFor the admin tab this call[1] was happening prior to\nnon-api filters mapping[2] , so in-order to work a second call\nwith updated search_opts dict should be called.\n\n[1] .https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L154\n\n[2]. https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/dashboards/admin/instances/views.py#L166\n\nChange-Id: Id43adbd44778d3375c0d49da3f7530cbb99e16fe\nCloses-Bug: #1888490\n""}, {'number': 5, 'created': '2020-10-27 11:25:56.000000000', 'files': ['openstack_dashboard/dashboards/admin/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6b79cdcc1b92a968c967286cc267bac39803c85e', 'message': ""Non-api filters not working with admin instance tab\n\nThe issue was that the filtering opts like project_name, image_name,\nflavor_name that are not supported by nova API (non-api filters) do\nnot work expectedly. These filters are mapped to their IDs [1], but\nan instance list retrieved before resolving non-API filters is used [2].\nThis commit changes the logic to resolve non-API filters first and\nthen retrieve instances using the updated search_opts.\n\nNote that the image list is handled a bit specially. If 'image_name'\nis specified as a filter, we retrieve a corresponding image detail\nfirst before fetching instances to resolve the image name into its ID.\nOtherwise, we retrieve images only related to instances retrieved\nand this happens after retrieving instances.\n\n[1] https://opendev.org/openstack/horizon/src/commit/f90c3cd50174af4927737e29e2765cd2d7ca507f/openstack_dashboard/dashboards/admin/instances/views.py#L166\n[2] https://opendev.org/openstack/horizon/src/commit/f90c3cd50174af4927737e29e2765cd2d7ca507f/openstack_dashboard/dashboards/admin/instances/views.py#L154\n\nCloses-Bug: #1888490\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Id43adbd44778d3375c0d49da3f7530cbb99e16fe\n""}]",4,754658,6b79cdcc1b92a968c967286cc267bac39803c85e,40,6,5,31916,,,0,"Non-api filters not working with admin instance tab

The issue was that the filtering opts like project_name, image_name,
flavor_name that are not supported by nova API (non-api filters) do
not work expectedly. These filters are mapped to their IDs [1], but
an instance list retrieved before resolving non-API filters is used [2].
This commit changes the logic to resolve non-API filters first and
then retrieve instances using the updated search_opts.

Note that the image list is handled a bit specially. If 'image_name'
is specified as a filter, we retrieve a corresponding image detail
first before fetching instances to resolve the image name into its ID.
Otherwise, we retrieve images only related to instances retrieved
and this happens after retrieving instances.

[1] https://opendev.org/openstack/horizon/src/commit/f90c3cd50174af4927737e29e2765cd2d7ca507f/openstack_dashboard/dashboards/admin/instances/views.py#L166
[2] https://opendev.org/openstack/horizon/src/commit/f90c3cd50174af4927737e29e2765cd2d7ca507f/openstack_dashboard/dashboards/admin/instances/views.py#L154

Closes-Bug: #1888490
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: Id43adbd44778d3375c0d49da3f7530cbb99e16fe
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/754658/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/instances/views.py'],1,c0c0846235958963c94ceac3eb09f9c2c5d98c54,bug/1888490," # Second Call to get instances with updated search_opts instances = self._get_instances(search_opts, sort_dir) ",,3,0
openstack%2Fhorizon~master~If4876634276eff37ab0a18a49e6e97851d41911b,openstack/horizon,master,If4876634276eff37ab0a18a49e6e97851d41911b,Drop the usage of nova extensions in JavaScript code,MERGED,2020-09-12 01:09:36.000000000,2020-11-18 13:33:11.000000000,2020-11-18 13:33:11.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-12 01:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/daaf9a8cac85128bcb0d0eb4cb55ab6b6a1312cf', 'message': 'Drop the usage of nova extensions in JavaScript code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (2/3)\n\nReferences to nova extensions are cleaned up.\nThe logic to fetch nova extension list is finally dropped.\n\nChange-Id: If4876634276eff37ab0a18a49e6e97851d41911b\n'}, {'number': 2, 'created': '2020-09-27 01:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c2b675eb5fae555a5791091d65a30b4ebc16949', 'message': 'Drop the usage of nova extensions in JavaScript code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (2/3)\n\nReferences to nova extensions are cleaned up.\nThe logic to fetch nova extension list is finally dropped.\n\nChange-Id: If4876634276eff37ab0a18a49e6e97851d41911b\n'}, {'number': 3, 'created': '2020-10-15 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d169501147e6c40f0b9762753449ef32c705784a', 'message': 'Drop the usage of nova extensions in JavaScript code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (2/3)\n\nReferences to nova extensions are cleaned up.\nThe logic to fetch nova extension list is finally dropped.\n\nChange-Id: If4876634276eff37ab0a18a49e6e97851d41911b\n'}, {'number': 4, 'created': '2020-10-27 11:02:35.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/static/app/core/workflow/decorator.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-workflow.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-workflow.service.spec.js', 'openstack_dashboard/static/app/core/cloud-services/hz-if-nova-extensions.directive.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/configuration/configuration.html', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/extensions.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/static/app/core/cloud-services/hz-if-nova-extensions.directive.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js', 'openstack_dashboard/static/app/core/workflow/decorator.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c6286a9e9c06c23eecfe922ac807fe7d39e6d00', 'message': 'Drop the usage of nova extensions in JavaScript code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (2/3)\n\nReferences to nova extensions are cleaned up.\nThe logic to fetch nova extension list is finally dropped.\n\nChange-Id: If4876634276eff37ab0a18a49e6e97851d41911b\n'}]",0,751561,3c6286a9e9c06c23eecfe922ac807fe7d39e6d00,16,4,4,841,,,0,"Drop the usage of nova extensions in JavaScript code

Part of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (2/3)

References to nova extensions are cleaned up.
The logic to fetch nova extension list is finally dropped.

Change-Id: If4876634276eff37ab0a18a49e6e97851d41911b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/61/751561/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/static/app/core/workflow/decorator.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-workflow.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-workflow.service.spec.js', 'openstack_dashboard/static/app/core/cloud-services/hz-if-nova-extensions.directive.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/configuration/configuration.html', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/extensions.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova-extensions.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/static/app/core/cloud-services/hz-if-nova-extensions.directive.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js', 'openstack_dashboard/static/app/core/workflow/decorator.service.spec.js']",14,daaf9a8cac85128bcb0d0eb4cb55ab6b6a1312cf,drop-nova-ext-blacklist," var decoratorService, catalogService, policyService, settingsService, $scope, deferred; { id: '4', setting: 'STEPS.step_4_enabled' }"," var decoratorService, catalogService, policyService, settingsService, $scope, deferred, novaExtensionsService; { id: '4', setting: 'STEPS.step_4_enabled' }, { id: '5', novaExtension: 'foo-novaExtension'} novaExtensionsService = $injector .get('horizon.app.core.openstack-service-api.novaExtensions'); spyOn(novaExtensionsService, 'ifNameEnabled').and.returnValue(deferred.promise); expect(novaExtensionsService.ifNameEnabled.calls.count()).toBe(1); expect(novaExtensionsService.ifNameEnabled).toHaveBeenCalledWith('foo-novaExtension');",26,437
openstack%2Fhorizon~master~I66cd0a9629253a6462aace9902ef8200b94b2a21,openstack/horizon,master,I66cd0a9629253a6462aace9902ef8200b94b2a21,Drop the usage of nova extensions in python code,MERGED,2020-09-12 01:09:36.000000000,2020-11-18 13:33:09.000000000,2020-11-18 13:33:08.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-12 01:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f5e6d1a864214f76e22f75f6dd04a1670ea4ec3', 'message': 'Drop the usage of nova extensions in python code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (1/3)\n\nAll references of nova extensions in the python code are cleaned up.\nNote that the API layer is not touched yet as it is used by the\nJavaScript side.\n\nChange-Id: I66cd0a9629253a6462aace9902ef8200b94b2a21\n'}, {'number': 2, 'created': '2020-09-27 01:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b9b49f9e60e10880fe25043ad067131e8499b2ca', 'message': 'Drop the usage of nova extensions in python code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (1/3)\n\nAll references of nova extensions in the python code are cleaned up.\nNote that the API layer is not touched yet as it is used by the\nJavaScript side.\n\nChange-Id: I66cd0a9629253a6462aace9902ef8200b94b2a21\n'}, {'number': 3, 'created': '2020-10-15 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/54b7937a1719e9ad4324b002d7ab5c4f91deffc8', 'message': 'Drop the usage of nova extensions in python code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (1/3)\n\nAll references of nova extensions in the python code are cleaned up.\nNote that the API layer is not touched yet as it is used by the\nJavaScript side.\n\nChange-Id: I66cd0a9629253a6462aace9902ef8200b94b2a21\n'}, {'number': 4, 'created': '2020-10-27 11:02:35.000000000', 'files': ['openstack_dashboard/usage/views.py', 'openstack_dashboard/dashboards/admin/aggregates/tests.py', 'openstack_dashboard/dashboards/admin/aggregates/panel.py', 'openstack_dashboard/dashboards/identity/projects/tests.py', 'openstack_dashboard/dashboards/admin/instances/tests.py', 'openstack_dashboard/dashboards/admin/overview/tests.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/usage/base.py', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/test/helpers.py', 'openstack_dashboard/dashboards/admin/hypervisors/tests.py', 'openstack_dashboard/dashboards/admin/hypervisors/compute/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c45cc6b1c577aac55969bd36244fb9f03f0f29dc', 'message': 'Drop the usage of nova extensions in python code\n\nPart of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (1/3)\n\nAll references of nova extensions in the python code are cleaned up.\nNote that the API layer is not touched yet as it is used by the\nJavaScript side.\n\nChange-Id: I66cd0a9629253a6462aace9902ef8200b94b2a21\n'}]",0,751560,c45cc6b1c577aac55969bd36244fb9f03f0f29dc,13,3,4,841,,,0,"Drop the usage of nova extensions in python code

Part of the removal of OPENSTACK_NOVA_EXTENSIONS_BLACKLIST (1/3)

All references of nova extensions in the python code are cleaned up.
Note that the API layer is not touched yet as it is used by the
JavaScript side.

Change-Id: I66cd0a9629253a6462aace9902ef8200b94b2a21
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/751560/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/usage/views.py', 'openstack_dashboard/dashboards/admin/aggregates/tests.py', 'openstack_dashboard/dashboards/admin/aggregates/panel.py', 'openstack_dashboard/dashboards/identity/projects/tests.py', 'openstack_dashboard/dashboards/admin/instances/tests.py', 'openstack_dashboard/dashboards/admin/overview/tests.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/usage/base.py', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/test/helpers.py', 'openstack_dashboard/dashboards/admin/hypervisors/tests.py', 'openstack_dashboard/dashboards/admin/hypervisors/compute/tables.py']",15,7f5e6d1a864214f76e22f75f6dd04a1670ea4ec3,drop-nova-ext-blacklist,," if not api.nova.extension_supported('AdminActions', request): return False if not api.nova.extension_supported('AdminActions', request): return False if not api.nova.extension_supported('AdminActions', request): return False if not api.nova.extension_supported('AdminActions', request): return False ",179,792
openstack%2Fpython-openstackclient~master~I04a0fcd98327b9f41e24e19bcab97c813760f414,openstack/python-openstackclient,master,I04a0fcd98327b9f41e24e19bcab97c813760f414,update lower-constraints.txt,MERGED,2020-10-29 01:55:26.000000000,2020-11-18 13:32:24.000000000,2020-11-18 13:28:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 01:55:26.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9b02f37e8f06bafb16a139aa1c978b4dd939f35e', 'message': 'update lower-constraints.txt\n\nWe also need to change the lower-constraint requirements to make them\npy3.8 compatible. See https://bugs.launchpad.net/nova/+bug/1886298\n\nMarkupSafe==1.1.1\nparamiko==2.7.1\n\nChange-Id: I04a0fcd98327b9f41e24e19bcab97c813760f414\n'}]",0,760270,9b02f37e8f06bafb16a139aa1c978b4dd939f35e,7,2,1,32029,,,0,"update lower-constraints.txt

We also need to change the lower-constraint requirements to make them
py3.8 compatible. See https://bugs.launchpad.net/nova/+bug/1886298

MarkupSafe==1.1.1
paramiko==2.7.1

Change-Id: I04a0fcd98327b9f41e24e19bcab97c813760f414
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/760270/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,9b02f37e8f06bafb16a139aa1c978b4dd939f35e,requitements,MarkupSafe==1.1.1paramiko==2.7.1,MarkupSafe==1.1.0paramiko==2.0.0,2,2
openstack%2Fvitrage~master~I2054ad3d54220317974c8f92490d8d5eff02de79,openstack/vitrage,master,I2054ad3d54220317974c8f92490d8d5eff02de79,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-17 10:56:27.000000000,2020-11-18 13:32:17.000000000,2020-11-18 13:29:50.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 10:56:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/18da1858167dd1c3a8d1f18e4a87d1a8d44881cc', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nhttps://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I2054ad3d54220317974c8f92490d8d5eff02de79\n'}]",0,762988,18da1858167dd1c3a8d1f18e4a87d1a8d44881cc,11,2,1,19134,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I2054ad3d54220317974c8f92490d8d5eff02de79
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/88/762988/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,18da1858167dd1c3a8d1f18e4a87d1a8d44881cc,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fopenstacksdk~master~I6ca7766e35c9c5882203479ffef0437a6925c2ae,openstack/openstacksdk,master,I6ca7766e35c9c5882203479ffef0437a6925c2ae,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-03 05:59:50.000000000,2020-11-18 13:30:52.000000000,2020-11-18 13:28:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-03 05:59:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2dead58ceb659af33386e12cc95bf3f136e55aa0', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I6ca7766e35c9c5882203479ffef0437a6925c2ae\n'}]",0,761055,2dead58ceb659af33386e12cc95bf3f136e55aa0,8,3,1,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I6ca7766e35c9c5882203479ffef0437a6925c2ae
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/55/761055/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2dead58ceb659af33386e12cc95bf3f136e55aa0,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fpython-openstackclient~master~I18991adf899c7b72c98bb89871bf0715d35943f0,openstack/python-openstackclient,master,I18991adf899c7b72c98bb89871bf0715d35943f0,"Add a few selectable fields to the ""openstack server list"" output",MERGED,2020-07-15 13:12:55.000000000,2020-11-18 13:30:48.000000000,2020-11-18 13:28:55.000000000,"[{'_account_id': 841}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 31733}]","[{'number': 1, 'created': '2020-07-15 13:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a12b3c809b7932c88740a8531123bd532c17c391', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | creation_date``to  ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 2, 'created': '2020-10-23 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e6facef753b5ffb9747cac876befd0abd5097ce', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | creation_date``to  ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 3, 'created': '2020-10-23 14:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/762de41de6d3197ad7de3aa14cdd358258fafb02', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | creation_date``to  ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 4, 'created': '2020-10-26 18:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/88b9bda6a3b491873168be5ce810868eaf7af5b4', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | creation_date``to  ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 5, 'created': '2020-10-29 13:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb6346cc01ebf317d2e3302a6d578bff00e6413e', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | creation_date``to  ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 6, 'created': '2020-11-04 10:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/da56fbc602b6dde945735b33ee83d39c64483d31', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | creation_date``to  ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 7, 'created': '2020-11-04 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/485084940699b8453bc2ac37cc95902884f84082', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | created_at`` to ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 8, 'created': '2020-11-05 08:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2311367884daa3c8365b2cd84ae12067015fa8fc', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | created_at`` to ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}, {'number': 9, 'created': '2020-11-05 13:01:21.000000000', 'files': ['releasenotes/notes/server-list-selectable-fields.yaml-1d5fb4784fa6f232.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/311f4130d2c59638074531fa59e67783c2571e91', 'message': 'Add a few selectable fields to the ""openstack server list"" output\n\nAdded ``-c project_id | user_id | created_at`` to ``openstack server list``\n    command to get these columns as an output.\n\nChange-Id: I18991adf899c7b72c98bb89871bf0715d35943f0\nStory: 2007925\n'}]",31,741181,311f4130d2c59638074531fa59e67783c2571e91,56,7,9,31733,,,0,"Add a few selectable fields to the ""openstack server list"" output

Added ``-c project_id | user_id | created_at`` to ``openstack server list``
    command to get these columns as an output.

Change-Id: I18991adf899c7b72c98bb89871bf0715d35943f0
Story: 2007925
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/81/741181/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/server-list-selectable-fields.yaml-1d5fb4784fa6f232.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,a12b3c809b7932c88740a8531123bd532c17c391,story/2007925, # support for additional columns if parsed_args.columns: # convert tuple to list to edit them column_headers = list(column_headers) columns = list(columns) for c in parsed_args.columns: if c == 'project_id': columns.append('tenant_id') column_headers.append('project_id') if c == 'user_id': columns.append('user_id') column_headers.append('user_id') if c == 'creation_date': columns.append('created') column_headers.append('creation_date') # convert back to tuple column_headers = tuple(column_headers) columns = tuple(columns) ,,44,0
openstack%2Fneutron-tempest-plugin~master~I54bf4374f43c3e830129fd9ce0b2d2503c26f886,openstack/neutron-tempest-plugin,master,I54bf4374f43c3e830129fd9ce0b2d2503c26f886,"""_log_ns_network_status"" log if namespace does not exist",MERGED,2020-11-17 10:06:23.000000000,2020-11-18 13:28:54.000000000,2020-11-18 13:28:53.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 10:06:23.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9817d4f4407296b068219f4fa7a740b0d6087c1e', 'message': '""_log_ns_network_status"" log if namespace does not exist\n\nDuring the capture of the host network configuration, if a namespace\nis deleted, the method ""_log_ns_network_status"" will not fail but log\nthat this namespace has been deleted synchronously.\n\nChange-Id: I54bf4374f43c3e830129fd9ce0b2d2503c26f886\nCloses-Bug: #1904544\n'}]",1,762984,9817d4f4407296b068219f4fa7a740b0d6087c1e,12,4,1,16688,,,0,"""_log_ns_network_status"" log if namespace does not exist

During the capture of the host network configuration, if a namespace
is deleted, the method ""_log_ns_network_status"" will not fail but log
that this namespace has been deleted synchronously.

Change-Id: I54bf4374f43c3e830129fd9ce0b2d2503c26f886
Closes-Bug: #1904544
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/84/762984/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,9817d4f4407296b068219f4fa7a740b0d6087c1e,bug/1904544," try: local_ips = ip_utils.IPCommand(namespace=ns_name).list_addresses() local_routes = ip_utils.IPCommand(namespace=ns_name).list_routes() arp_table = ip_utils.arp_table() except exceptions.ShellCommandFailed: LOG.debug('Namespace %s has been deleted synchronously during the ' 'host network collection process', ns_name) return ", local_ips = ip_utils.IPCommand(namespace=ns_name).list_addresses() local_routes = ip_utils.IPCommand(namespace=ns_name).list_routes() arp_table = ip_utils.arp_table(),9,3
openstack%2Fhorizon~master~I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d,openstack/horizon,master,I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d,"On the create instance from, when the image name is empty, show id",MERGED,2019-11-22 02:50:30.000000000,2020-11-18 13:22:44.000000000,2020-11-18 13:21:12.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-22 02:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1daee5af575e5cd2c012c48396ce932b2f502f46', 'message': 'On the create instance from, when the image name is empty, show id\n\nChange-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d\nCloses-Bug: #1853551\n'}, {'number': 2, 'created': '2020-11-03 21:38:20.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8158f6c31675297c3d35ecfee2ef0e22243e529', 'message': 'On the create instance from, when the image name is empty, show id\n\nChange-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d\nCloses-Bug: #1853551\n'}]",0,695619,a8158f6c31675297c3d35ecfee2ef0e22243e529,13,4,2,27822,,,0,"On the create instance from, when the image name is empty, show id

Change-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d
Closes-Bug: #1853551
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/695619/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js']",2,1daee5af575e5cd2c012c48396ce932b2f502f46,bug/1853551," { key: 'name_or_id', classList: ['hi-light', 'word-break'] },"," { key: 'name', classList: ['hi-light', 'word-break'] },",2,1
openstack%2Ftripleo-quickstart~master~Ib3285027c056b76aee27229e8147cbf162bfe46a,openstack/tripleo-quickstart,master,Ib3285027c056b76aee27229e8147cbf162bfe46a,update trunk/train to centos-8,MERGED,2020-11-06 14:40:41.000000000,2020-11-18 13:21:19.000000000,2020-11-18 13:19:55.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-06 14:40:41.000000000', 'files': ['config/release/trunk/train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dfa7596c156f507ce9fd3bd603b6e7605e29915f', 'message': 'update trunk/train to centos-8\n\nChange-Id: Ib3285027c056b76aee27229e8147cbf162bfe46a\n'}]",2,761750,dfa7596c156f507ce9fd3bd603b6e7605e29915f,12,7,1,9592,,,0,"update trunk/train to centos-8

Change-Id: Ib3285027c056b76aee27229e8147cbf162bfe46a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/761750/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/trunk/train.yml'],1,dfa7596c156f507ce9fd3bd603b6e7605e29915f,,"distro_ver: centos8docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', 'docker.io') }}""docker_registry_namespace: ""tripleotraincentos8"" dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar"" - type: file down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_tag }}/delorean.repo"" down_url: https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: http://mirror.centos.org/centos/8/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: http://mirror.centos.org/centos/8/AppStream/x86_64/os/ - type: generic reponame: quickstart-centos-powertools filename: quickstart-centos-powertools.repo baseurl: http://mirror.centos.org/centos/8/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: http://mirror.centos.org/centos/8/HighAvailability/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: http://mirror.centos.org/centos/8/extras/x86_64/os/ # centos-release-ceph-nautilus rpm do not exist yet - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: http://mirror.centos.org/centos/8/storage/x86_64/ceph-nautilus/ - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: http://mirror.centos.org/centos/8/opstools/x86_64/collectd-5/ sudo dnf repolist; sudo dnf update -y python3-tripleoclient# baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""","overcloud_image_url: https://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar ipa_image_url: https://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar - type: generic reponame: delorean baseurl: https://trunk.rdoproject.org/centos7-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/ priority: 20 down_url: https://trunk.rdoproject.org/centos7-{{ release }}/delorean-deps.repo - type: package pkg_name: centos-release-ceph-nautilus custom_cmd: 'sudo yum install -y --enablerepo=extras' sudo yum remove -y centos-release-ceph-hammer || true sudo yum remove -y centos-release-ceph-jewel || true sudo yum remove -y centos-release-ceph-luminous || true sudo yum-config-manager --save --setopt centos-ceph-nautilus.gpgcheck=0 sudo yum repolist; sudo yum update -y python-tripleoclient",52,17
openstack%2Fcinder~master~I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b,openstack/cinder,master,I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b,NetApp SolidFire: Fix error on cluster workload rebalancing,MERGED,2020-09-30 19:07:37.000000000,2020-11-18 13:12:43.000000000,2020-11-11 22:15:58.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28710}, {'_account_id': 28801}, {'_account_id': 29632}, {'_account_id': 29650}, {'_account_id': 29705}, {'_account_id': 30002}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-09-30 19:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31ac5e3de8164132d70eb713104ec9df6706ffd1', 'message': ""NetApp SolidFire: Fix API error moving primaries from node\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if a operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fix this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 2, 'created': '2020-10-06 11:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcd988eb1d370188719b66734e3221c398191a95', 'message': ""NetApp SolidFire: Fix error moving primaries from node\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if a operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fix this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 3, 'created': '2020-10-14 18:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7068b833f89e32258bc43dc42b0f7bce7155931d', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 4, 'created': '2020-10-14 18:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8355df7c4afdfb2acc1f0353067c5dfe36c07ba8', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 5, 'created': '2020-10-14 18:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/208da36a1defc2bcbe83702c987ca6685b5510e5', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 6, 'created': '2020-10-14 18:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f359fbf5a8d5d801bad2a752448a2e42f62a2751', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 7, 'created': '2020-10-30 14:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f241072c38a2063897f085595565c40789acea6b', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}, {'number': 8, 'created': '2020-11-06 08:06:50.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-error-on-cluster-rebalancing-515bf41104cd181a.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d0c08b4bb9d32f2c02dcc60f1f482331197e546', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n""}]",13,755373,8d0c08b4bb9d32f2c02dcc60f1f482331197e546,247,40,8,30555,,,0,"NetApp SolidFire: Fix error on cluster workload rebalancing

When SolidFire is under heavy load or being upgraded, the
SolidFire cluster may automatically move connections from primary
to secondary nodes, in order to rebalance cluster workload.

Although this operation ocurrs very quickly, if an operation is made
to a volume at the same time it's being moved, there might be a
chance that API calls such as create snapshot could fail with
xNotPrimary error. Normally this will succeed on a retry of the
operation.

This patch fixes this issue by adding the xNotPrimary exception to
our list of retryable exceptions in the SolidFire driver.

Change-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b
Closes-Bug: #1891914
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/755373/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-error-moving-primaries-from-node-0afa552a795709aa.yaml']",2,31ac5e3de8164132d70eb713104ec9df6706ffd1,bug/1891914,"--- fixes: - | `Bug #189114 <https://bugs.launchpad.net/cinder/+bug/189114>`_: Fix the xNotPrimary exception that may occur in the SolidFire driver, when a operation is made to a volume at the same time its connection is being moved to a secondary node due to a cluster rebalance or system upgrade. ",,10,1
openstack%2Fkuryr-kubernetes~stable%2Fvictoria~I47d7e61787675252cf16a9b4ae51871d8a31dc0a,openstack/kuryr-kubernetes,stable/victoria,I47d7e61787675252cf16a9b4ae51871d8a31dc0a,Handle None or {} labels in match_selector(),MERGED,2020-11-10 09:11:57.000000000,2020-11-18 13:08:43.000000000,2020-11-18 13:07:11.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-11-10 09:11:57.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b7c7bb1839d8357fd29789aaf1e3de05d3e2f59d', 'message': 'Handle None or {} labels in match_selector()\n\nmatch_selector() has a bug causing it to return True for any\npodSelector with any matchLabel and pods without labels at all. This is\ntotally incorrect, casues issues like applying NPs to pods that should\nnot be affected by them and probably others.\n\nChange-Id: I47d7e61787675252cf16a9b4ae51871d8a31dc0a\nCloses-Bug: 1903067\nCloses-Bug: 1903572\n(cherry picked from commit 4bfe85db0b3aa04360ae4b05d0a8ecf34f83853e)\n'}]",0,762094,b7c7bb1839d8357fd29789aaf1e3de05d3e2f59d,20,5,1,11600,,,0,"Handle None or {} labels in match_selector()

match_selector() has a bug causing it to return True for any
podSelector with any matchLabel and pods without labels at all. This is
totally incorrect, casues issues like applying NPs to pods that should
not be affected by them and probably others.

Change-Id: I47d7e61787675252cf16a9b4ae51871d8a31dc0a
Closes-Bug: 1903067
Closes-Bug: 1903572
(cherry picked from commit 4bfe85db0b3aa04360ae4b05d0a8ecf34f83853e)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/762094/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py']",2,b7c7bb1839d8357fd29789aaf1e3de05d3e2f59d,bug/1903067-stable/victoria," def test_match_selector(self): self.assertFalse( utils.match_selector({'matchLabels': {'app': 'demo'}}, None)) self.assertFalse( utils.match_selector({'matchLabels': {'app': 'demo'}}, {})) self.assertFalse( utils.match_selector({'matchLabels': {'app': 'demo'}}, {'app': 'foobar'})) self.assertTrue( utils.match_selector({'matchLabels': {'app': 'demo'}}, {'app': 'demo'})) self.assertTrue( utils.match_selector({'matchLabels': {'app': 'demo'}}, {'app': 'demo', 'foo': 'bar'})) self.assertTrue( utils.match_selector({'matchLabels': {'app': 'demo', 'foo': 'bar'}}, {'app': 'demo', 'foo': 'bar'})) self.assertFalse( utils.match_selector({'matchLabels': {'app': 'demo', 'foo': 'bar'}}, {'app': 'demo'}))",,27,3
openstack%2Ftripleo-heat-templates~master~I023efc0cb6b7775aafa4b1fcc9049197724669e5,openstack/tripleo-heat-templates,master,I023efc0cb6b7775aafa4b1fcc9049197724669e5,Add aodh-expirer cron job,MERGED,2020-08-16 23:56:29.000000000,2020-11-18 13:06:07.000000000,2020-11-18 13:04:44.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-16 23:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aadc02eebca60ec4cb8b279337cdf1f5004acb4e', 'message': 'Add aodh-expirer cron job\n\nThis patch introduces aodh_api_cron container to aodh-expirer cron job,\nwhich is required to remove expired alarms from database.\n\nDepends-on: https://review.opendev.org/#/c/746241/\nDepends-on: https://review.opendev.org/#/c/746424/\nChange-Id: I023efc0cb6b7775aafa4b1fcc9049197724669e5\n'}, {'number': 2, 'created': '2020-08-17 01:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b9aac4ddbd37cc3d8f86f8a032dd5f987139026', 'message': 'Add aodh-expirer cron job\n\nThis patch introduces aodh_api_cron container to aodh-expirer cron job,\nwhich is required to remove expired alarms from database.\n\nDepends-on: https://review.opendev.org/#/c/746241/\nDepends-on: https://review.opendev.org/#/c/746424/\nChange-Id: I023efc0cb6b7775aafa4b1fcc9049197724669e5\n'}, {'number': 3, 'created': '2020-08-17 07:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d3e0f628cd1df510a6778d9f06094c4974d24e9', 'message': 'Add aodh-expirer cron job\n\nThis patch introduces aodh_api_cron container to aodh-expirer cron job,\nwhich is required to remove expired alarms from database.\n\nDepends-on: https://review.opendev.org/#/c/746241/\nDepends-on: https://review.opendev.org/#/c/746424/\nChange-Id: I023efc0cb6b7775aafa4b1fcc9049197724669e5\n'}, {'number': 4, 'created': '2020-08-17 12:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5ae7a75480fa94be6e9ffe206e788d7a4e41656', 'message': 'Add aodh-expirer cron job\n\nThis patch introduces aodh_api_cron container to aodh-expirer cron job,\nwhich is required to remove old alarm histories from database.\n\nCloses-Bug: #1891888\nDepends-on: https://review.opendev.org/#/c/746241/\nDepends-on: https://review.opendev.org/#/c/746424/\nChange-Id: I023efc0cb6b7775aafa4b1fcc9049197724669e5\n'}, {'number': 5, 'created': '2020-08-17 23:16:28.000000000', 'files': ['releasenotes/notes/aodh-expirer-6631733d237a872e.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46113c54531c5fd801097f5a85a6c37e0fa5ac68', 'message': 'Add aodh-expirer cron job\n\nThis patch introduces aodh_api_cron container to aodh-expirer cron job,\nwhich is required to remove old alarm histories from database.\n\nCloses-Bug: #1891888\nDepends-on: https://review.opendev.org/#/c/746241/\nDepends-on: https://review.opendev.org/#/c/746424/\nChange-Id: I023efc0cb6b7775aafa4b1fcc9049197724669e5\n'}]",3,746425,46113c54531c5fd801097f5a85a6c37e0fa5ac68,35,5,5,9816,,,0,"Add aodh-expirer cron job

This patch introduces aodh_api_cron container to aodh-expirer cron job,
which is required to remove old alarm histories from database.

Closes-Bug: #1891888
Depends-on: https://review.opendev.org/#/c/746241/
Depends-on: https://review.opendev.org/#/c/746424/
Change-Id: I023efc0cb6b7775aafa4b1fcc9049197724669e5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/746425/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aodh/aodh-api-container-puppet.yaml'],1,aadc02eebca60ec4cb8b279337cdf1f5004acb4e,bug/1891888," EnableAodhExpirer: type: boolean default: true description: Enable aodh expirer to periodically delete alarms from db AodhExpirerMinute: type: string description: > Cron to delete alarms data from db - Minute default: '1' AodhExpirerHour: type: string description: > Cron to delete alarms data from db - Hour default: '0' AodhExpirerMonthday: type: string description: > Cron to delete alarms data from db - Month Day default: '*' AodhExpirerMonth: type: string description: > Cron to delete alarms data from db - Month default: '*' AodhExpirerWeekday: type: string description: > Cron to delete alarms from db - Week Day default: '*' AodhMaxDelay: type: string description: > Cron to delete alarms from db - Max Delay default: '3600' /var/lib/kolla/config_files/aodh_api_cron.json: command: /usr/sbin/crond -n config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true permissions: - path: /var/log/aodh owner: aodh:aodh recurse: true aodh_api_cron: image: *aodh_api_image net: host user: root privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron aodh' volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/aodh_api_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/aodh:/var/lib/kolla/config_files/src:ro - /var/log/containers/aodh:/var/log/aodh - /var/log/containers/httpd/aodh-api:/var/log/httpd - aodh_api_cron",,62,0
openstack%2Ftripleo-common~master~I2238eb33f8d6a8df366bdc908dbbc568500179c0,openstack/tripleo-common,master,I2238eb33f8d6a8df366bdc908dbbc568500179c0,Re-add ndctl to nova-compute image,MERGED,2020-11-16 17:48:03.000000000,2020-11-18 13:03:56.000000000,2020-11-18 13:02:14.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 27478}]","[{'number': 1, 'created': '2020-11-16 17:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7556fe80556805cd47f21d5fcec44b7ec900274b', 'message': 'Re-add ndctl to nova-compute image\n\nWhile ndctl was added to kolla with I8ed1b6c1d0985b2a73206bd9249a5664cd80c912\nthe package is now missing in the tcib created container image. Seems the\npackage/change got missed on sync to tcib. This fix adds it back to the\nnova-compute container definition.\n\nCloses-Bug: #1904448\n\nChange-Id: I2238eb33f8d6a8df366bdc908dbbc568500179c0\n'}, {'number': 2, 'created': '2020-11-16 17:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/165d2c1acfac992117de5d42d3c94a5010a0bd35', 'message': 'Re-add ndctl to nova-compute image\n\nWhile ndctl was added to kolla with I8ed1b6c1d0985b2a73206bd9249a5664cd80c912\nthe package is now missing in the tcib created container image. Seems the\npackage/change got missed on sync to tcib. This fix adds it back to the\nnova-compute container definition.\n\nCloses-Bug: #1904448\n\nChange-Id: I2238eb33f8d6a8df366bdc908dbbc568500179c0\n(cherry picked from commit 7556fe80556805cd47f21d5fcec44b7ec900274b)\n'}, {'number': 3, 'created': '2020-11-16 17:51:38.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a7c14fcabe10bb7946e264483641a9022f6eb1d', 'message': 'Re-add ndctl to nova-compute image\n\nWhile ndctl was added to kolla with I8ed1b6c1d0985b2a73206bd9249a5664cd80c912\nthe package is now missing in the tcib created container image. Seems the\nchange got missed on sync to tcib. This fix adds it back to the nova-compute\ncontainer definition.\n\nCloses-Bug: #1904448\n\nChange-Id: I2238eb33f8d6a8df366bdc908dbbc568500179c0\n'}]",0,762897,5a7c14fcabe10bb7946e264483641a9022f6eb1d,27,7,3,17216,,,0,"Re-add ndctl to nova-compute image

While ndctl was added to kolla with I8ed1b6c1d0985b2a73206bd9249a5664cd80c912
the package is now missing in the tcib created container image. Seems the
change got missed on sync to tcib. This fix adds it back to the nova-compute
container definition.

Closes-Bug: #1904448

Change-Id: I2238eb33f8d6a8df366bdc908dbbc568500179c0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/762897/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml'],1,7556fe80556805cd47f21d5fcec44b7ec900274b,re-add_ndctl, - ndctl,,1,0
openstack%2Fpuppet-barbican~stable%2Ftrain~Ica3f915c971237e020702330b56eb2f7d5810b71,openstack/puppet-barbican,stable/train,Ica3f915c971237e020702330b56eb2f7d5810b71,DNM: branch health check,ABANDONED,2020-11-16 21:23:15.000000000,2020-11-18 12:51:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-16 21:23:15.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/cde736dc896849dd40b054919b73f2ab7d0536a9', 'message': 'DNM: branch health check\n\nChange-Id: Ica3f915c971237e020702330b56eb2f7d5810b71\n'}]",0,762921,cde736dc896849dd40b054919b73f2ab7d0536a9,3,1,1,7973,,,0,"DNM: branch health check

Change-Id: Ica3f915c971237e020702330b56eb2f7d5810b71
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/21/762921/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,cde736dc896849dd40b054919b73f2ab7d0536a9,,,,0,1
openstack%2Fcinder~stable%2Fussuri~If8c17eb48b67e7b109e19e4b064260cb52b5cecf,openstack/cinder,stable/ussuri,If8c17eb48b67e7b109e19e4b064260cb52b5cecf,[IBM DS8K]: Fixed rest API issue to get bundle,MERGED,2020-10-27 06:34:23.000000000,2020-11-18 12:46:10.000000000,2020-11-18 12:44:38.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 18883}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 32171}]","[{'number': 1, 'created': '2020-10-27 06:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6252f428f700b9207d2b95f636000ba5cecc10a', 'message': '[IBM DS8K]: Fixed rest API issue to get bundle\n\nCinder driver for IBM storage DS8K is calling the unsupported\nrest API ""api/v1"", which is failing with R9 version. Some\nhow this unsupported API is working with R7 and R8 versions.\n\nModified IBM DS8K driver to use the supported API to get the\nbundle information.\n\ncloses bug: #1895510\n\nChange-Id: If8c17eb48b67e7b109e19e4b064260cb52b5cecf\n(cherry picked from commit b477632a664f37be9da4ef7c2276fdf191710d75)\n'}, {'number': 3, 'created': '2020-11-10 02:25:16.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'releasenotes/notes/bug-1895510-REST-API-issue-to-get-bundle-198a3b89255759bb.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ed427b90d9895fb5558c657268319dbf9229b7e', 'message': '[IBM DS8K]: Fixed rest API issue to get bundle\n\nCinder driver for IBM storage DS8K is calling the unsupported\nrest API ""api/v1"", which is failing with R9 version. Some\nhow this unsupported API is working with R7 and R8 versions.\n\nModified IBM DS8K driver to use the supported API to get the\nbundle information.\n\ncloses bug: #1895510\n\nChange-Id: If8c17eb48b67e7b109e19e4b064260cb52b5cecf\n(cherry picked from commit b477632a664f37be9da4ef7c2276fdf191710d75)\n'}]",1,759818,9ed427b90d9895fb5558c657268319dbf9229b7e,89,19,2,6062,,,0,"[IBM DS8K]: Fixed rest API issue to get bundle

Cinder driver for IBM storage DS8K is calling the unsupported
rest API ""api/v1"", which is failing with R9 version. Some
how this unsupported API is working with R7 and R8 versions.

Modified IBM DS8K driver to use the supported API to get the
bundle information.

closes bug: #1895510

Change-Id: If8c17eb48b67e7b109e19e4b064260cb52b5cecf
(cherry picked from commit b477632a664f37be9da4ef7c2276fdf191710d75)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/759818/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'releasenotes/notes/bug-1895510-REST-API-issue-to-get-bundle-198a3b89255759bb.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",3,a6252f428f700b9207d2b95f636000ba5cecc10a,bug/1895510-stable/ussuri," ""bundle"": ""87.51.63.0"", ""bundle"": ""87.51.63.0"", self.backend['rest_version'] = self._get_version()['bundle'] ""bundle"": ""87.50.38.0"" ""bundle"": ""88.10.112.0"" ""bundle"": ""87.50.22.0"" ""bundle"": ""88.10.112.0"" ""bundle"": ""88.20.40.0"" @ddt.data({'bundle': ""87.51.60.0""}, {'bundle': ""88.20.47.0""})"," ""bundle"": ""87.51.9.0"", ""bundle"": ""87.51.9.0"", self.backend['rest_version'] = self._get_version()['bundle_version'] ""bundle_version"": ""5.7.50.0"" ""bundle_version"": ""5.8.10.0"" ""bundle_version"": ""5.7.50.0"" ""bundle_version"": ""5.8.10.0"" ""bundle_version"": ""5.8.20.0"" @ddt.data({'bundle_version': ""5.7.51.1067""}, {'bundle_version': ""5.8.20.1058""})",42,33
openstack%2Fironic~master~Iff9f4d42e5e70991b42314057ba5d1385449fb8a,openstack/ironic,master,Iff9f4d42e5e70991b42314057ba5d1385449fb8a,Convert conductors endpoint to plain JSON,MERGED,2020-08-12 04:45:02.000000000,2020-11-18 12:15:01.000000000,2020-11-18 12:12:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/02d37658b510a93d51e68cc753f01e52303faf9e', 'message': 'Convert conductor endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bea3f7e37e65a78b78118ce4c5207bbf9be934fa', 'message': 'Convert conductor endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5a8085e48a3c2d1cade86c7e4d9a465fbfea76e', 'message': 'Convert conductor endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b422d89d0917c2181a7a65827a09102dc8f6123', 'message': 'Convert conductor endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed3893eb4dfee6686e8f8297ff8229ed42f5ae3d', 'message': 'Convert conductor endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbe0a15dab70bc0abc9c429b76d0fe7fc703184d', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/514b52bc4729e4172f5fcd8b8a117e202217b282', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6747e27ebe20dcb90025d2aee22533d7cb2ae391', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cd1309ff3840a489d5c46f6f716f3838541cf41', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc19d63ea353bd420d06c58a2c068ca6d5c64e48', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e925860786de361b0305f5d0f7cceab4aa50b9d7', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e14593ad4c5a09f88dff5dadcd8c361acc2cb079', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2c4f085432194557eb16622f805ca1c5a763b98', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea74ec252a7700e9a0e07b190793bb5d9df18f69', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30fc8d99a55e6ff703730bf89617dde0828e5353', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c73c407ce2116377fca3b3789f20ace350a03987', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6bc5080cc982b8aad83631f671606fd4dd24994', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ca76ec037d3cf5795b2b53aad084083632e4dc7', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc2a76096fde131c18cf3ec4ef25a81b1ee85cf9', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/facfe06fc7f1c80ca46c99077991f3f8c958a3b9', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe20e28c4fe7101bb494b1dd0c8e7c7788e3eda9', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/20834009140b54608ffc5f18e7792f71d520a8e6', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/api/controllers/v1/conductor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c128467a3bcb3f081f849fafe39950135c17fdb', 'message': 'Convert conductors endpoint to plain JSON\n\nChange-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a\nStory: 1651346\nTask: 10551\n'}]",0,745779,3c128467a3bcb3f081f849fafe39950135c17fdb,93,7,23,4571,,,0,"Convert conductors endpoint to plain JSON

Change-Id: Iff9f4d42e5e70991b42314057ba5d1385449fb8a
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/745779/23 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/conductor.py'],1,02d37658b510a93d51e68cc753f01e52303faf9e,story/1651346,"from ironic.api import method from ironic.common import argsDEFAULT_RETURN_FIELDS = ['hostname', 'conductor_group', 'alive'] ALWAYS_FIELDS = ['links'] def convert_with_links(rpc_conductor, fields=None, sanitize=True): url = api.request.public_url conductor = { 'hostname': rpc_conductor.hostname, 'created_at': (rpc_conductor.created_at and rpc_conductor.created_at.isoformat() or None), 'updated_at': (rpc_conductor.updated_at and rpc_conductor.updated_at.isoformat() or None), 'conductor_group': rpc_conductor.conductor_group, 'alive': not timeutils.is_older_than(rpc_conductor.updated_at, CONF.conductor.heartbeat_timeout), 'drivers': rpc_conductor.drivers, 'links': [link.make_link('self', url, 'conductors', rpc_conductor.hostname), link.make_link('bookmark', url, 'conductors', rpc_conductor.hostname, bookmark=True)] } if fields is not None: api_utils.check_for_invalid_fields(fields, conductor) if sanitize: sanitize_conductor(conductor, fields) return conductor def sanitize_conductor(conductor, fields): if fields is not None: for field in set(conductor.keys()): if field not in fields + ALWAYS_FIELDS: conductor.pop(field, None) def list_convert_with_links(rpc_conductors, limit, url=None, fields=None, **kwargs): conductors_list = [convert_with_links(c, fields=fields, sanitize=False) for c in rpc_conductors] conductors = { 'conductors': conductors_list } next_hostname = collection.get_next(conductors_list, limit, url=url, fields=fields, key_field='hostname', **kwargs) if next_hostname: conductors['next'] = next_hostname for conductor in conductors_list: sanitize_conductor(conductor, fields) return conductors return list_convert_with_links(conductors, limit, url=resource_url, fields=fields, **parameters) @method.expose() @args.validate(marker=args.name, limit=args.integer, sort_key=args.string, sort_dir=args.string, fields=args.string_list, detail=args.boolean) DEFAULT_RETURN_FIELDS) @method.expose() @args.validate(hostname=args.name, fields=args.string_list) return convert_with_links(conductor, fields=fields)","import datetime from ironic.api.controllers import basefrom ironic.api.controllers.v1 import typesfrom ironic.api import expose from ironic.api import types as atypes_DEFAULT_RETURN_FIELDS = ('hostname', 'conductor_group', 'alive') class Conductor(base.APIBase): """"""API representation of a bare metal conductor."""""" hostname = atypes.wsattr(str) """"""The hostname for this conductor"""""" conductor_group = atypes.wsattr(str) """"""The conductor group this conductor belongs to"""""" alive = types.boolean """"""Indicates whether this conductor is considered alive"""""" drivers = atypes.wsattr([str]) """"""The drivers enabled on this conductor"""""" links = None """"""A list containing a self link and associated conductor links"""""" def __init__(self, **kwargs): self.fields = [] fields = list(objects.Conductor.fields) # NOTE(kaifeng): alive is not part of objects.Conductor.fields # because it's an API-only attribute. fields.append('alive') for field in fields: # Skip fields we do not expose. if not hasattr(self, field): continue self.fields.append(field) setattr(self, field, kwargs.get(field, atypes.Unset)) @staticmethod def _convert_with_links(conductor, url, fields=None): conductor.links = [link.make_link('self', url, 'conductors', conductor.hostname), link.make_link('bookmark', url, 'conductors', conductor.hostname, bookmark=True)] return conductor @classmethod def convert_with_links(cls, rpc_conductor, fields=None): conductor = Conductor(**rpc_conductor.as_dict()) conductor.alive = not timeutils.is_older_than( conductor.updated_at, CONF.conductor.heartbeat_timeout) if fields is not None: api_utils.check_for_invalid_fields(fields, conductor.as_dict()) conductor = cls._convert_with_links(conductor, api.request.public_url, fields=fields) conductor.sanitize(fields) return conductor def sanitize(self, fields): """"""Removes sensitive and unrequested data. Will only keep the fields specified in the ``fields`` parameter. :param fields: list of fields to preserve, or ``None`` to preserve them all :type fields: list of str """""" if fields is not None: self.unset_fields_except(fields) @classmethod def sample(cls, expand=True): time = datetime.datetime(2000, 1, 1, 12, 0, 0) sample = cls(hostname='computer01', conductor_group='', alive=True, drivers=['ipmi'], created_at=time, updated_at=time) fields = None if expand else _DEFAULT_RETURN_FIELDS return cls._convert_with_links(sample, 'http://localhost:6385', fields=fields) class ConductorCollection(collection.Collection): """"""API representation of a collection of conductors."""""" conductors = [Conductor] """"""A list containing conductor objects"""""" def __init__(self, **kwargs): self._type = 'conductors' # NOTE(kaifeng) Override because conductors use hostname instead of uuid. @classmethod def get_key_field(cls): return 'hostname' @staticmethod def convert_with_links(conductors, limit, url=None, fields=None, **kwargs): collection = ConductorCollection() collection.conductors = [Conductor.convert_with_links(c, fields=fields) for c in conductors] collection.next = collection.get_next(limit, url=url, fields=fields, **kwargs) for conductor in collection.conductors: conductor.sanitize(fields) return collection @classmethod def sample(cls): sample = cls() conductor = Conductor.sample(expand=False) sample.conductors = [conductor] return sample return ConductorCollection.convert_with_links(conductors, limit, url=resource_url, fields=fields, **parameters) @expose.expose(ConductorCollection, types.name, int, str, str, types.listtype, types.boolean) _DEFAULT_RETURN_FIELDS) @expose.expose(Conductor, types.name, types.listtype) return Conductor.convert_with_links(conductor, fields=fields)",57,124
openstack%2Fopenstacksdk~master~Ia6711b1c27514d0698fec1efedaefeeb93722b9d,openstack/openstacksdk,master,Ia6711b1c27514d0698fec1efedaefeeb93722b9d,Complete compute aggregate functions,MERGED,2020-11-10 12:45:15.000000000,2020-11-18 12:09:59.000000000,2020-11-18 12:08:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-10 12:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/49d02788a2d469bc91c4fbddcd87fe1dc4e5b3ba', 'message': 'Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n'}, {'number': 2, 'created': '2020-11-12 15:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/90f83c3a37cd3f3da96808d0c764d402caa9380a', 'message': 'Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n'}, {'number': 3, 'created': '2020-11-12 16:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/88f47f13759b7a13e81ae4f7a3d32a135d2dc932', 'message': 'Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n'}, {'number': 4, 'created': '2020-11-16 16:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b390fb01212dff475832e1a31c1ecc38cb9b1ba4', 'message': 'Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n'}, {'number': 5, 'created': '2020-11-16 17:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e732fb09b2d3492b069d00365ba6fb29e8110c9', 'message': ""Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nSince this is another example when API returns 400 if we try accessing\nresource with name and it doesn't support - modify general behavior for\nalso skipping 400 in the find method\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n""}, {'number': 6, 'created': '2020-11-16 19:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ca0c748f5e83e42dabd03a4ae43f48d39afc7e87', 'message': ""Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nSince this is another example when API returns 400 if we try accessing\nresource with name and it doesn't support - modify general behavior for\nalso skipping 400 in the find method\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n""}, {'number': 7, 'created': '2020-11-17 09:43:04.000000000', 'files': ['openstack/tests/unit/compute/v2/test_aggregate.py', 'openstack/compute/v2/aggregate.py', 'openstack/resource.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/complete-aggregate-functions-45d5f2beeeac2b48.yaml', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b60915aab3ee0348f3e3cc8aa548f94d2a68b7eb', 'message': ""Complete compute aggregate functions\n\nIn order to switch next part of OSC towards SDK we need to add some\nmissing bits to the aggregates.\n\nSince this is another example when API returns 400 if we try accessing\nresource with name and it doesn't support - modify general behavior for\nalso skipping 400 in the find method\n\nChange-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d\n""}]",19,762131,b60915aab3ee0348f3e3cc8aa548f94d2a68b7eb,28,3,7,27900,,,0,"Complete compute aggregate functions

In order to switch next part of OSC towards SDK we need to add some
missing bits to the aggregates.

Since this is another example when API returns 400 if we try accessing
resource with name and it doesn't support - modify general behavior for
also skipping 400 in the find method

Change-Id: Ia6711b1c27514d0698fec1efedaefeeb93722b9d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/31/762131/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_aggregate.py', 'openstack/compute/v2/aggregate.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/complete-aggregate-functions-45d5f2beeeac2b48.yaml', 'openstack/compute/v2/_proxy.py']",5,49d02788a2d469bc91c4fbddcd87fe1dc4e5b3ba,osc-first," def find_aggregate(self, name_or_id, ignore_missing=True): """"""Find a single aggregate :param name_or_id: The name or ID of an aggregate. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.compute.v2.aggregate.Aggregate` or None """""" return self._find(_aggregate.Aggregate, name_or_id, ignore_missing=ignore_missing) def aggregate_precache_images(self, aggregate, images): """"""Requests image precaching on an aggregate :param aggregate: Either the ID of a aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param images: Single image id or list of images. :returns: ``None`` """""" aggregate = self._get_resource(_aggregate.Aggregate, aggregate) # We need to ensure we pass list of image IDs if isinstance(images, str): images = [images] return aggregate.precache_images(self, images) # ========== Images ========== ",,124,14
openstack%2Fopenstacksdk~stable%2Fvictoria~I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,openstack/openstacksdk,stable/victoria,I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,Don't set list_type to dict for server groups.,MERGED,2020-11-18 03:01:15.000000000,2020-11-18 12:09:36.000000000,2020-11-18 12:08:03.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32368}]","[{'number': 1, 'created': '2020-11-18 03:01:15.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c5a9a9df21400953664746396b5377f7a9d0dab9', 'message': ""Don't set list_type to dict for server groups.\n\nWhen server_groups is present for retrieved server, this ends up\nwith the following exception [1]. So we should rather have\nregular list instead of dict.\n\n[1] http://paste.openstack.org/show/797758/\n\nChange-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77\nStory: 2007710\nTask: 39843\n(cherry picked from commit 1c2a06350d615af6bef2615a94224ec49ac155b4)\n""}]",0,763119,c5a9a9df21400953664746396b5377f7a9d0dab9,7,3,1,3153,,,0,"Don't set list_type to dict for server groups.

When server_groups is present for retrieved server, this ends up
with the following exception [1]. So we should rather have
regular list instead of dict.

[1] http://paste.openstack.org/show/797758/

Change-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77
Story: 2007710
Task: 39843
(cherry picked from commit 1c2a06350d615af6bef2615a94224ec49ac155b4)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/19/763119/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py']",2,c5a9a9df21400953664746396b5377f7a9d0dab9,bug/39843-stable/victoria," 'server_groups': ['3caf4187-8010-491f-b6f5-a4a68a40371e'], self.assertEqual(EXAMPLE['server_groups'], sot.server_groups)",,3,1
openstack%2Fopenstacksdk~master~I69587a4a75d1ff2c220b0aee7df09f9c61fe3149,openstack/openstacksdk,master,I69587a4a75d1ff2c220b0aee7df09f9c61fe3149,Add update_flavor method,MERGED,2020-11-17 10:57:39.000000000,2020-11-18 12:08:38.000000000,2020-11-18 12:07:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-17 10:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee58522a879277a2aadfc4ca464c29e611042d12', 'message': 'Add update_flavor method\n\nMethod for updating flavors was missed in previous implementations.\n\nChange-Id: I69587a4a75d1ff2c220b0aee7df09f9c61fe3149\nRequired-By: https://review.opendev.org/#/c/750151/\n'}, {'number': 2, 'created': '2020-11-17 18:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e6d1f4b196d9ae3473f39069ebe2af5825c04940', 'message': 'Add update_flavor method\n\nMethod for updating flavors was missed in previous implementations.\n\nChange-Id: I69587a4a75d1ff2c220b0aee7df09f9c61fe3149\nRequired-By: https://review.opendev.org/#/c/750151/\n'}, {'number': 3, 'created': '2020-11-17 18:59:05.000000000', 'files': ['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/flavor.py', 'openstack/tests/unit/compute/v2/test_flavor.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8cd14bbe4abcb0f8c869f77e8acb48355f9d71e6', 'message': 'Add update_flavor method\n\nMethod for updating flavors was missed in previous implementations.\n\nChange-Id: I69587a4a75d1ff2c220b0aee7df09f9c61fe3149\nRequired-By: https://review.opendev.org/#/c/750151/\n'}]",0,762989,8cd14bbe4abcb0f8c869f77e8acb48355f9d71e6,16,3,3,27900,,,0,"Add update_flavor method

Method for updating flavors was missed in previous implementations.

Change-Id: I69587a4a75d1ff2c220b0aee7df09f9c61fe3149
Required-By: https://review.opendev.org/#/c/750151/
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/762989/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py']",2,ee58522a879277a2aadfc4ca464c29e611042d12,osc-first," def update_flavor(self, flavor, **attrs): """"""Update a flavor :param server: Either the ID of a flavot or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :attrs kwargs: The attributes to update on the flavor represented by ``flavor``. :returns: The updated flavor :rtype: :class:`~openstack.compute.v2.flavor.Flavor` """""" return self._update(_flavor.Flavor, flavor, **attrs) ",,16,0
openstack%2Fpython-openstackclient~master~Ibfdbb9542d7b26bd6b85d172e784b63af5a1186a,openstack/python-openstackclient,master,Ibfdbb9542d7b26bd6b85d172e784b63af5a1186a,[goal] Migrate testing to Focal,ABANDONED,2020-09-09 21:27:36.000000000,2020-11-18 11:57:39.000000000,,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-09-09 21:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff758092cbad871e7776558b219db42f39410d78', 'message': '[goal] Migrate testing to Focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump required loser constraints and use libffi7.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Ibfdbb9542d7b26bd6b85d172e784b63af5a1186a\nStory: #2007865\nTask: #40206\n'}, {'number': 2, 'created': '2020-09-09 21:55:29.000000000', 'files': ['bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a6caadae66a478d0d22772761c64f2f95093fbd7', 'message': '[goal] Migrate testing to Focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump required lower constraints and use libffi7.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: Ibfdbb9542d7b26bd6b85d172e784b63af5a1186a\nStory: #2007865\nTask: #40206\n'}]",4,750814,a6caadae66a478d0d22772761c64f2f95093fbd7,8,4,2,8556,,,0,"[goal] Migrate testing to Focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Bump required lower constraints and use libffi7.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: Ibfdbb9542d7b26bd6b85d172e784b63af5a1186a
Story: #2007865
Task: #40206
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/14/750814/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'lower-constraints.txt']",2,ff758092cbad871e7776558b219db42f39410d78,,cffi==1.14.0greenlet==0.4.15PyYAML==3.13,cffi==1.7.0greenlet==0.4.10PyYAML==3.12,5,4
openstack%2Fkuryr-kubernetes~stable%2Fstein~I3c89441f83d3f133c68d5bbd79df2f8393673a2f,openstack/kuryr-kubernetes,stable/stein,I3c89441f83d3f133c68d5bbd79df2f8393673a2f,Save DIB logs and switch to Ubuntu Amp,MERGED,2020-11-16 08:51:06.000000000,2020-11-18 11:56:57.000000000,2020-11-18 11:51:57.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-11-16 08:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ccbe8675daee43307aa4ea191fdf8a8e12b97b5c', 'message': 'Add Octavia logs to stable/stein\n\nChange-Id: I3c89441f83d3f133c68d5bbd79df2f8393673a2f\n'}, {'number': 2, 'created': '2020-11-17 11:40:53.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/abe6e97e1cc014ca494cdab75e453913c6134ea6', 'message': ""Save DIB logs and switch to Ubuntu Amp\n\nRename of HAProxy package in EPEL repos broke DIB builds of CentOS\namphora. I don't think we need to care about that, so this commit\nswitches Amphora builds in the gate to use Ubuntu. Also I'm making sure\nDIB logs are saved into gate results to make debugging of those problems\neasier in the future.\n\nChange-Id: I3c89441f83d3f133c68d5bbd79df2f8393673a2f\n""}]",0,762799,abe6e97e1cc014ca494cdab75e453913c6134ea6,11,4,2,11600,,,0,"Save DIB logs and switch to Ubuntu Amp

Rename of HAProxy package in EPEL repos broke DIB builds of CentOS
amphora. I don't think we need to care about that, so this commit
switches Amphora builds in the gate to use Ubuntu. Also I'm making sure
DIB logs are saved into gate results to make debugging of those problems
easier in the future.

Change-Id: I3c89441f83d3f133c68d5bbd79df2f8393673a2f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/762799/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,ccbe8675daee43307aa4ea191fdf8a8e12b97b5c,, zuul_copy_output: '/var/log/dib-build': logs '/var/log/octavia-amphora.log': logs '/var/log/octavia-tenant-traffic.log': logs,,4,0
openstack%2Fpython-openstackclient~master~Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6,openstack/python-openstackclient,master,Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6,Remove six.PY2,ABANDONED,2020-09-08 07:39:56.000000000,2020-11-18 11:55:36.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-08 07:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c645a668165e70c4da0bdc4ace7f40dbb13888ec', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 2, 'created': '2020-09-08 07:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/943e5f59635602e3aeec23fa2047e119a2f4f9b9', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 3, 'created': '2020-09-08 09:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/054224c57b8c62e6415a131b353afe084f3953fb', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 4, 'created': '2020-09-08 11:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/311e21daf76e76a369cc50cc2d8325ba258ec384', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 5, 'created': '2020-09-10 08:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7807168c9172fd529e0a353882d7d34465261b8d', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 6, 'created': '2020-09-10 11:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/79f96863b6bf0a03645a82b3d8355ad43c813a97', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 7, 'created': '2020-09-11 09:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ce5679c09d2ce11a803910a1c1094a1b42071ef7', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 8, 'created': '2020-09-18 06:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/676a83ab7ddc25b72cd9ff235fdbf96553f73e5f', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 9, 'created': '2020-09-22 07:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a8ef8d67b44dd7809dcbe89daa8498e2fb1cdc3a', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}, {'number': 10, 'created': '2020-10-10 02:30:14.000000000', 'files': ['openstackclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e5acf0510dd15c004a5011c1cb9720b4f8376e99', 'message': 'Remove six.PY2\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6\n'}]",1,750288,e5acf0510dd15c004a5011c1cb9720b4f8376e99,24,5,10,32029,,,0,"Remove six.PY2

The Python 2.7 Support has been dropped since Ussuri.
So remove hacking rules for compatibility between python 2 and 3

Change-Id: Ie43ce5b2c455a94907bc7cfe9ab48b435acd5ee6
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/88/750288/8 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/shell.py'],1,c645a668165e70c4da0bdc4ace7f40dbb13888ec,removal-py2,," if six.PY2: # Emulate Py3, decode argv into Unicode based on locale so that # commands always see arguments as text instead of binary data encoding = locale.getpreferredencoding() if encoding: argv = map(lambda arg: arg.decode(encoding), argv)",0,6
openstack%2Fpython-openstackclient~master~I30770b9abd41543543ea22e37688b35b7496c295,openstack/python-openstackclient,master,I30770b9abd41543543ea22e37688b35b7496c295,Add missing 'name' parameter in list role,NEW,2020-07-20 14:41:28.000000000,2020-11-18 11:54:27.000000000,,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 14:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6d8409a72969e29c110c68cce9efe468982e17d0', 'message': ""Add missing 'name' parameter in 'role' help\n\nIn keystone api-ref[1] the 'name' parameter can also be passed as\nfilter in request of list roles. This patch add the information\nabout the same in CLI help.\n\n[1] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-roles-detail#id501\n\nChange-Id: I30770b9abd41543543ea22e37688b35b7496c295\n""}, {'number': 2, 'created': '2020-07-21 14:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/61c5c26a308ca33a830960ca0c6fc5a7b67516e9', 'message': ""Add missing 'name' parameter in list role\n\nIn keystone api-ref[1] the 'name' parameter can also be passed as\nfilter in request of list roles. This addresses the above issue,\nby adding param --name in parser of ListRole.\n\n[1] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-roles-detail#id501\n\nChange-Id: I30770b9abd41543543ea22e37688b35b7496c295\n""}, {'number': 3, 'created': '2020-07-22 14:43:21.000000000', 'files': ['releasenotes/notes/add-name-param-to-list-role-0233d3e184bae843.yaml', 'openstackclient/identity/v3/role.py', 'openstackclient/tests/unit/identity/v3/test_role.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c2ce99ac225533ebd4b723652e70442ba50d4820', 'message': ""Add missing 'name' parameter in list role\n\nIn keystone api-ref[1] the 'name' parameter can also be passed as\nfilter in request of list roles. This addresses the above issue,\nby adding param --name in parser of ListRole.\n\n[1] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-roles-detail#id501\n\nChange-Id: I30770b9abd41543543ea22e37688b35b7496c295\n""}]",1,741959,c2ce99ac225533ebd4b723652e70442ba50d4820,13,8,3,27621,,,0,"Add missing 'name' parameter in list role

In keystone api-ref[1] the 'name' parameter can also be passed as
filter in request of list roles. This addresses the above issue,
by adding param --name in parser of ListRole.

[1] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-roles-detail#id501

Change-Id: I30770b9abd41543543ea22e37688b35b7496c295
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/59/741959/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/identity/v3/role.py'],1,6d8409a72969e29c110c68cce9efe468982e17d0,," parser.add_argument( '--name', metavar='<name>', help=_('The role name'), )",,5,0
openstack%2Fironic~master~I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15,openstack/ironic,master,I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15,Convert chassis endpoint to plain JSON,MERGED,2020-08-10 06:04:22.000000000,2020-11-18 11:47:12.000000000,2020-11-18 11:45:15.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-10 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cda815a53afb78cecdca8330a8aae03c735cfb2', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b755316bec6f66b0ae5c7442b49d3d081bc6231', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6823302f54abd47fad63836a2d0ca5c44b01e4c4', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74ff8adc3fe906238554fe65082abf323befb779', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e0a43c813db2540d7625336b19fcf8732f96b7aa', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f9f1ef7e075878a95082322ecf4ac920e58847b', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/836022c491d543cd7436be7e383836a8b4889b55', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4305bb971ee147f78bfa38bebb2dbdcbe8de84fd', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50e5e73dfaa3a2daca04ef387e9f61da8265a476', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bce934b0ea7bb76060aa9b5813a8b1b6a27f25bd', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a9697970ea50f17210b0dbeb554a37204ee3445', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/928c4283d0ed3d95be890804fe514b1473dc0232', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a5c1118b349aa5b12d3b58fd6b6441128bae9b2', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4437db978d90e2443156afa1f67e7c96fc8a969', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d112a1ed1572eab42e9b2bebab94b3f07eddbb06', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/743c2c9876e5c363058a2d267e8bab5a86216a0b', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/197afb8b50e09440e3242ca97cde1a931df5c0b6', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ade1d05a2c0270c80540b73655868af1b766f0d', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b80d9bf1f6c894d6243efc8263c1a65989fc9e8c', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01e28115138314eae2815cc301eab520c3d5a1d3', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a580022a2f7afc43842cdfce211fe0676940787', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89ef42b61052dfbe8594166084dffb40691d7c43', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/04e33734e17331c1ca801884eb54e7a0611b3248', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}, {'number': 24, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e810dc8bf72aadb0ba4263ce963bfd355544ef5', 'message': 'Convert chassis endpoint to plain JSON\n\nChange-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15\nStory: 1651346\nTask: 10551\n'}]",0,745476,4e810dc8bf72aadb0ba4263ce963bfd355544ef5,101,8,24,4571,,,0,"Convert chassis endpoint to plain JSON

Change-Id: I9cf8c8ace2aae5bcd9cb99e8dc2ab1bdcec8dd15
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/745476/24 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py']",3,3cda815a53afb78cecdca8330a8aae03c735cfb2,story/1651346," valid_error_message = (' is too long') valid_error_message = ""Failed validating 'type' in ""","from ironic.api.controllers.v1 import chassis as api_chassisfrom ironic.api import types as atypesfrom ironic.tests import baseclass TestChassisObject(base.TestCase): def test_chassis_init(self): chassis_dict = apiutils.chassis_post_data() del chassis_dict['description'] chassis = api_chassis.Chassis(**chassis_dict) self.assertEqual(atypes.Unset, chassis.description) def test_chassis_sample(self): expected_description = 'Sample chassis' sample = api_chassis.Chassis.sample(expand=False) self.assertEqual(expected_description, sample.as_dict()['description']) valid_error_message = ('Value should have a maximum character ' 'requirement of 255') valid_error_message = 'Value should be string'",104,183
openstack%2Ftripleo-common~master~I005043cc1c1438bcaa7c34c3368749e9b2377473,openstack/tripleo-common,master,I005043cc1c1438bcaa7c34c3368749e9b2377473,Drop --layers from buildah,MERGED,2020-11-09 20:40:00.000000000,2020-11-18 11:19:31.000000000,2020-11-11 03:11:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-09 20:40:00.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/76856521c56b66df02b73b2cd4233276dafcf1e4', 'message': 'Drop --layers from buildah\n\nSince we parallelize buildah, we are hitting issues with layers\ndisapearing. This is likely due the use of --layers which enables\ncaching intermediate layers during build which means they might go away\nwhen one processs is done before the other uses it.\n\nChange-Id: I005043cc1c1438bcaa7c34c3368749e9b2377473\nRelated-Bug: #1901753\n'}]",3,761996,76856521c56b66df02b73b2cd4233276dafcf1e4,18,8,1,14985,,,0,"Drop --layers from buildah

Since we parallelize buildah, we are hitting issues with layers
disapearing. This is likely due the use of --layers which enables
caching intermediate layers during build which means they might go away
when one processs is done before the other uses it.

Change-Id: I005043cc1c1438bcaa7c34c3368749e9b2377473
Related-Bug: #1901753
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/761996/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,76856521c56b66df02b73b2cd4233276dafcf1e4,bug/1901753," '--tls-verify=False', '--logfile', '--tls-verify=False', '--tls-verify=False',"," '--tls-verify=False', '--layers', '--logfile', '--tls-verify=False', '--layers', '--tls-verify=False', '--layers',",4,4
openstack%2Fneutron~master~If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61,openstack/neutron,master,If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61,Add process name to AsyncProcess,MERGED,2020-11-03 17:11:40.000000000,2020-11-18 11:10:32.000000000,2020-11-16 14:56:58.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-03 17:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1894bf96ccdf7010d1cc3397bd80ab55cd3328e', 'message': 'Add process name to AsyncProcess\n\nSince [1], Neutron sets the name of some processes (Neutron agents).\nThe ""ps"" output is modified consequently according to the defined\nstring:\n  ""<process name> (<process command>)""\n\n""AsyncProcess"" class should use the process name to parse the ""ps""\noutput correctly.\n\nCloses-Bug: #1902678\n\n[1]https://review.opendev.org/#/c/735125/\n\nChange-Id: If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61\n'}, {'number': 2, 'created': '2020-11-05 18:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ce7824e98591a0db47aeb71e302ab6976ad5fe1', 'message': 'Add process name to AsyncProcess\n\nSince [1], Neutron sets the name of some processes (Neutron agents).\nThe ""ps"" output is modified consequently according to the defined\nstring:\n  ""<process name> (<process command>)""\n\n""AsyncProcess"" class should use the process name to parse the ""ps""\noutput correctly.\n\nCloses-Bug: #1902678\n\n[1]https://review.opendev.org/#/c/735125/\n\nChange-Id: If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61\n'}, {'number': 3, 'created': '2020-11-06 09:18:18.000000000', 'files': ['neutron/tests/fullstack/resources/process.py', 'neutron/agent/common/async_process.py', 'neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad0605f9c3cced115c829c57dbeb0ee96b5ad8bb', 'message': 'Add process name to AsyncProcess\n\nSince [1], Neutron sets the name of some processes (Neutron agents).\nThe ""ps"" output is modified consequently according to the defined\nstring:\n  ""<process name> (<process command>)""\n\n""AsyncProcess"" class should use the process name to parse the ""ps""\noutput correctly.\n\nCloses-Bug: #1902678\n\n[1]https://review.opendev.org/#/c/735125/\n\nChange-Id: If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61\n'}]",7,761202,ad0605f9c3cced115c829c57dbeb0ee96b5ad8bb,78,9,3,16688,,,0,"Add process name to AsyncProcess

Since [1], Neutron sets the name of some processes (Neutron agents).
The ""ps"" output is modified consequently according to the defined
string:
  ""<process name> (<process command>)""

""AsyncProcess"" class should use the process name to parse the ""ps""
output correctly.

Closes-Bug: #1902678

[1]https://review.opendev.org/#/c/735125/

Change-Id: If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/761202/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/process.py', 'neutron/agent/common/async_process.py', 'neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py']",4,a1894bf96ccdf7010d1cc3397bd80ab55cd3328e,bug/1902678," self.assertTrue(utils.cmd_matches_expected(cmd, cmd, None)) ['script'], None)) self.assertFalse(utils.cmd_matches_expected('foo', 'bar', None)) def test_cmd_matches_expected_matches_script_with_procname(self): self.assertTrue(utils.cmd_matches_expected( ['proc_name', '(python', 'script)'], ['script'], 'proc_name'))"," self.assertTrue(utils.cmd_matches_expected(cmd, cmd)) ['script'])) self.assertFalse(utils.cmd_matches_expected('foo', 'bar'))",26,9
openstack%2Fnova~master~Ia94be98dea22f97bc89201ee2a0a1a4e6b54c875,openstack/nova,master,Ia94be98dea22f97bc89201ee2a0a1a4e6b54c875,[docs] Fix a placement client's command,MERGED,2020-11-13 14:26:49.000000000,2020-11-18 10:37:10.000000000,2020-11-18 10:33:15.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-13 14:26:49.000000000', 'files': ['doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/52c8137b4bda71356ff00e6fb76eb3e22114711f', 'message': ""[docs] Fix a placement client's command\n\nFor amending a single value, `--amend` switch is required to be\nused. Otherwise Placement will return 400 about required\nproperties being missing.\n\nChange-Id: Ia94be98dea22f97bc89201ee2a0a1a4e6b54c875\n""}]",0,762663,52c8137b4bda71356ff00e6fb76eb3e22114711f,14,9,1,30491,,,0,"[docs] Fix a placement client's command

For amending a single value, `--amend` switch is required to be
used. Otherwise Placement will return 400 about required
properties being missing.

Change-Id: Ia94be98dea22f97bc89201ee2a0a1a4e6b54c875
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/762663/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,52c8137b4bda71356ff00e6fb76eb3e22114711f,docs-resources, $ openstack resource provider inventory set --resource VCPU:allocation_ratio=1.0 --amend 815a5634-86fb-4e1e-8824-8a631fee3e06, $ openstack resource provider inventory set --resource VCPU:allocation_ratio=1.0 815a5634-86fb-4e1e-8824-8a631fee3e06,1,1
openstack%2Fnova~master~Id0577bceed9808b52da4acc352cf9c204f6c8861,openstack/nova,master,Id0577bceed9808b52da4acc352cf9c204f6c8861,Reproduce bug 1896463 in func env,MERGED,2020-09-24 13:41:04.000000000,2020-11-18 10:35:51.000000000,2020-11-18 10:29:06.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-24 13:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59a7a17f860574be9816e74c05c5dad0c89ec5ee', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n'}, {'number': 2, 'created': '2020-09-25 11:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9788c0a52e2755c50f51cd6b9e950d3db3d53b6d', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n'}, {'number': 3, 'created': '2020-10-14 14:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dad90c5fa222256919ca5e49e8c968e9d0ebc582', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n'}, {'number': 4, 'created': '2020-11-04 14:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6207a81e5f4ae9a9c9db408d1665ac5f5d84e7f3', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n'}, {'number': 5, 'created': '2020-11-04 14:07:15.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1896463.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f348602ae4a40c52c7135b2cb48deaa6052c488', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n'}]",29,754100,3f348602ae4a40c52c7135b2cb48deaa6052c488,51,11,5,9708,,,0,"Reproduce bug 1896463 in func env

There is a race condition between the rebuild and the
_update_available_resource periodic task on the compute. This patch adds
a reproducer functional test. Unfortunately it needs some injected sleep
to make the race happen in a stable way. This is suboptimal but only
adds 3 seconds of slowness to the test execution.

Change-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861
Related-Bug: #1896463
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/754100/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1896463.py'],1,59a7a17f860574be9816e74c05c5dad0c89ec5ee,bug/1896463,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import copy import fixtures import time from oslo_config import cfg from nova import context from nova import objects from nova import test from nova import utils from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.virt import fake CONF = cfg.CONF class TestEvacuateResourceTrackerRace( test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Demonstrate bug #1896463. Trigger a race condition between an almost finished evacuation that is dropping the migration context, and the _update_available_resource() periodic task that already loaded the instance list but haven't loaded the migration list yet. The result is that the PCI allocation made by the evacuation is deleted by the overlapping periodic task run and the instance will not have PCI allocation after the evacuation. """""" def setUp(self): super().setUp() self.neutron = self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.placement = self.useFixture(func_fixtures.PlacementFixture()).api self.api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.admin_api = self.api_fixture.admin_api self.admin_api.microversion = 'latest' self.api = self.admin_api self.start_service('conductor') if 'PciPassthroughFilter' not in CONF.filter_scheduler.enabled_filters: self.flags( enabled_filters=CONF.filter_scheduler.enabled_filters + ['PciPassthroughFilter'], group='filter_scheduler') self.scheduler_service = self.start_service('scheduler') self.flags(compute_driver='fake.FakeDriverWithPciResources') self.useFixture( fake.FakeDriverWithPciResources. FakeDriverWithPciResourcesConfigFixture()) self.compute1 = self._start_compute('host1') self.compute1_id = self._get_compute_node_id_by_host('host1') self.compute1_service_id = self.admin_api.get_services( host='host1', binary='nova-compute')[0]['id'] self.compute2 = self._start_compute('host2') self.compute2_id = self._get_compute_node_id_by_host('host2') self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] self.neutron._ports[self.neutron.sriov_port['id']] = \ copy.deepcopy(self.neutron.sriov_port) self.neutron._networks[ self.neutron.network_2['id']] = self.neutron.network_2 self.neutron._subnets[ self.neutron.subnet_2['id']] = self.neutron.subnet_2 self.ctxt = context.get_admin_context() def _get_compute_node_id_by_host(self, host): # we specifically need the integer id of the node not the UUID so we # need to use the old microversion with utils.temporary_mutation(self.admin_api, microversion='2.52'): hypers = self.admin_api.api_get( 'os-hypervisors').body['hypervisors'] for hyper in hypers: if hyper['hypervisor_hostname'] == host: return hyper['id'] self.fail('Hypervisor with hostname=%s not found' % host) def _assert_pci_device_allocated( self, instance_uuid, compute_node_id, num=1): """"""Assert that a given number of PCI devices are allocated to the instance on the given host."""""" devices = objects.PciDeviceList.get_by_instance_uuid( self.ctxt, instance_uuid) devices_on_host = [dev for dev in devices if dev.compute_node_id == compute_node_id] self.assertEquals(num, len(devices_on_host)) def test_evacuate_races_with_update_available_resource(self): # Create a server with a direct port to have PCI allocation server = self._create_server( name='test-server-for-bug-1896463', networks=[{'port': self.neutron.sriov_port['id']}], host='host1' ) self._assert_pci_device_allocated(server['id'], self.compute1_id) self._assert_pci_device_allocated( server['id'], self.compute2_id, num=0) # stop and force down the compute the instance is on to allow # evacuation self.compute1.stop() self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'true'}) # Inject some sleeps both in the Instance.drop_migration_context and # the MigrationList.get_in_progress_and_error code to make them # overlap. # We want to create the following execution scenario: # 1) The evacuation makes a move claim on the dest including the PCI # claim. This means there is a migration context. But the evacuation # is not complete yet so the instance.host does not point to the # dest host. # 2) The dest resource tracker starts an _update_available_resource() # periodic task and this task loads the list of instances on its # host from the DB. Our instance is not in this list due to #1. # 3) The evacuation finishes, the instance.host is set to the dest host # and the migration context is deleted. # 4) The periodic task now loads the list of in-progress migration from # the DB to check for incoming our outgoing migrations. However due # to #3 our instance is not in this list either. # 5) The periodic task cleans up every lingering PCI claim that is not # connected to any instance collected above from the instance list # and from the migration list. As our instance is not in either of # the lists, the resource tracker cleans up the PCI allocation for # the already finished evacuation of our instance. orig_drop = objects.Instance.drop_migration_context def slow_drop(*args, **kwargs): time.sleep(1) return orig_drop(*args, **kwargs) self.useFixture( fixtures.MockPatch( 'nova.objects.instance.Instance.drop_migration_context', new=slow_drop)) orig_get_mig = objects.MigrationList.get_in_progress_and_error def slow_get_mig(*args, **kwargs): time.sleep(2) return orig_get_mig(*args, **kwargs) self.useFixture( fixtures.MockPatch( 'nova.objects.migration.MigrationList.' 'get_in_progress_and_error', new=slow_get_mig)) self.admin_api.post_server_action(server['id'], {'evacuate': {}}) # we trigger the _update_available_resource periodic to overlap with # the already started evacuation self._run_periodics() self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host2', 'status': 'ACTIVE'}) self._assert_pci_device_allocated(server['id'], self.compute1_id) # This is bug #1896463 as the PCI allocation was deleted by the racing # _update_available_resource periodic task. self._assert_pci_device_allocated( server['id'], self.compute2_id, num=0) # When this bug is fixed (or if you remove the sleeps above to avoid # the race condition) then we expect that the PCI allocation exists on # the destination host too. # self._assert_pci_device_allocated(server['id'], self.compute2_id) ",,196,0
openstack%2Ftosca-parser~master~I5cd3e092709d9d6d72c83f569bc54f747465560a,openstack/tosca-parser,master,I5cd3e092709d9d6d72c83f569bc54f747465560a,Enable _get_explicit_relationship to maintain original relationship type name,ABANDONED,2020-09-28 10:15:41.000000000,2020-11-18 10:35:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-28 10:15:41.000000000', 'files': ['toscaparser/tests/data/test_tosca_custom_rel.yaml'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/67bb6323a18f5be7b72e800660d30cffa414a46a', 'message': 'Enable _get_explicit_relationship to maintain original relationship type name\n\nRelated-Bug #1897267\n\nChange-Id: I5cd3e092709d9d6d72c83f569bc54f747465560a\n'}]",0,754682,67bb6323a18f5be7b72e800660d30cffa414a46a,3,1,1,19724,,,0,"Enable _get_explicit_relationship to maintain original relationship type name

Related-Bug #1897267

Change-Id: I5cd3e092709d9d6d72c83f569bc54f747465560a
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/82/754682/1 && git format-patch -1 --stdout FETCH_HEAD,['toscaparser/tests/data/test_tosca_custom_rel.yaml'],1,67bb6323a18f5be7b72e800660d30cffa414a46a,bug/1897267,,,0,1
openstack%2Fkuryr-kubernetes~master~I9eeb629a7eae9b3b726ee7025e24ee49fc0ede87,openstack/kuryr-kubernetes,master,I9eeb629a7eae9b3b726ee7025e24ee49fc0ede87,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-17 06:03:45.000000000,2020-11-18 10:35:16.000000000,2020-11-18 10:33:23.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-17 06:03:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8a53492a817e389b97c617b5a1e73e3caaf043f6', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I9eeb629a7eae9b3b726ee7025e24ee49fc0ede87\n'}]",0,762955,8a53492a817e389b97c617b5a1e73e3caaf043f6,11,4,1,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I9eeb629a7eae9b3b726ee7025e24ee49fc0ede87
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/762955/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a53492a817e389b97c617b5a1e73e3caaf043f6,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fneutron~master~I7c89659e0de130f0c4b720ee7489d895a308f69d,openstack/neutron,master,I7c89659e0de130f0c4b720ee7489d895a308f69d,[OVN] Make OVN IPv6 job voting again,MERGED,2020-11-12 09:29:50.000000000,2020-11-18 10:35:06.000000000,2020-11-18 10:29:00.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-12 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fed5c6670e19ef299d69c651628db0f25d3e03db', 'message': '[OVN] Make OVN IPv6 job voting again\n\nThis job neutron-ovn-tempest-ovs-release-ipv6-only was\nbroken due to a os-vif misconfiguration which is now fixed by\nhttps://review.opendev.org/#/c/753575.\n\nChange-Id: I7c89659e0de130f0c4b720ee7489d895a308f69d\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-11-12 09:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e83ae836a169dffd9d3a5465a0e1416f11b8c3ee', 'message': '[OVN] Make OVN IPv6 job voting again\n\nThe job neutron-ovn-tempest-ovs-release-ipv6-only was\nbroken due to a os-vif misconfiguration which is now fixed by\nhttps://review.opendev.org/#/c/753575.\n\nChange-Id: I7c89659e0de130f0c4b720ee7489d895a308f69d\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-11-17 14:58:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b495f4abbbbd871d5289ff10bbefb795c02fbe94', 'message': '[OVN] Make OVN IPv6 job voting again\n\nThis job neutron-ovn-tempest-ovs-release-ipv6-only was\nbroken due to a os-vif misconfiguration which is now fixed by\nhttps://review.opendev.org/#/c/753575.\n\nChange-Id: I7c89659e0de130f0c4b720ee7489d895a308f69d\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,762483,b495f4abbbbd871d5289ff10bbefb795c02fbe94,21,7,3,6773,,,0,"[OVN] Make OVN IPv6 job voting again

This job neutron-ovn-tempest-ovs-release-ipv6-only was
broken due to a os-vif misconfiguration which is now fixed by
https://review.opendev.org/#/c/753575.

Change-Id: I7c89659e0de130f0c4b720ee7489d895a308f69d
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/762483/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fed5c6670e19ef299d69c651628db0f25d3e03db,ovn-ipv6-voting, - neutron-ovn-tempest-ovs-release-ipv6-only - neutron-ovn-tempest-ovs-release-ipv6-only, - neutron-ovn-tempest-ovs-release-ipv6-only: voting: false,2,2
openstack%2Fnova~master~I4098178e73134c91697c3ac8205ffe8346937f3c,openstack/nova,master,I4098178e73134c91697c3ac8205ffe8346937f3c,[Trivial]Add missing white space in the log message,MERGED,2020-11-16 09:29:54.000000000,2020-11-18 10:33:04.000000000,2020-11-18 10:33:03.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-16 09:29:54.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c28b74340f24810fb690cfd0ebaa197212d838e', 'message': '[Trivial]Add missing white space in the log message\n\nThis is to add missing white space in the log message.\n\nChange-Id: I4098178e73134c91697c3ac8205ffe8346937f3c\n'}]",0,762804,2c28b74340f24810fb690cfd0ebaa197212d838e,36,13,1,20190,,,0,"[Trivial]Add missing white space in the log message

This is to add missing white space in the log message.

Change-Id: I4098178e73134c91697c3ac8205ffe8346937f3c
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/762804/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,2c28b74340f24810fb690cfd0ebaa197212d838e,missing_ws," LOG.warning(""Cannot destroy instance, general system """," LOG.warning(""Cannot destroy instance, general system""",1,1
openstack%2Fnova~master~Ica180165184b319651d22fe77e076af036228860,openstack/nova,master,Ica180165184b319651d22fe77e076af036228860,Set instance host and drop migration under lock,MERGED,2020-09-28 16:51:13.000000000,2020-11-18 10:32:56.000000000,2020-11-18 10:32:56.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24713}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-28 16:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80bd2bc125fec38375a381d987bc46d804a100fd', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n'}, {'number': 2, 'created': '2020-09-29 11:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12446c168d44709df6c1735ed97ed1df2ff2e321', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to the host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running then there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n'}, {'number': 3, 'created': '2020-10-14 14:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0aa3ab286ac3e9f122cb428b1626721f65e67fd', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n'}, {'number': 4, 'created': '2020-10-16 11:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2029049af0b722f489e6c7dae316d4f366df831f', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n'}, {'number': 5, 'created': '2020-11-04 14:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4def5e54a8e837fc833afb745e0a8d8fbd74c0a', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n'}, {'number': 6, 'created': '2020-11-04 14:08:38.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7675964af81472f3dd57db952d704539e61a3e6e', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n'}]",11,754815,7675964af81472f3dd57db952d704539e61a3e6e,72,13,6,9708,,,0,"Set instance host and drop migration under lock

The _update_available_resources periodic makes resource allocation
adjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the
list of instances assigned to this host of the resource tracker and
based on the migrations where the source or the target host is the host
of the resource tracker. So if the instance.host or the migration
context changes without holding the COMPUTE_RESOURCE_SEMAPHORE while
the _update_available_resources task is running there there will be data
inconsistency in the resource tracker.

This patch makes sure that during evacuation the instance.host and the
migration context is changed while holding the semaphore.

Change-Id: Ica180165184b319651d22fe77e076af036228860
Closes-Bug: #1896463
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/754815/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,80bd2bc125fec38375a381d987bc46d804a100fd,bug/1896463," @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) def finish_evacuation(self, instance, node, migration): instance.apply_migration_context() # NOTE (ndipanov): This save will now update the host and node # attributes making sure that next RT pass is consistent since # it will be based on the instance and not the migration DB # entry. print('node', node) instance.host = self.host instance.node = node instance.save() instance.drop_migration_context() # NOTE (ndipanov): Mark the migration as done only after we # mark the instance as belonging to this host. if migration: migration.status = 'done' migration.save()",,36,32
openstack%2Fhorizon~master~Iad66c882738fd90eb6dd6de3df96459c10a29aa2,openstack/horizon,master,Iad66c882738fd90eb6dd6de3df96459c10a29aa2,Refactor quota related unit tests,MERGED,2020-10-26 08:36:50.000000000,2020-11-18 10:15:47.000000000,2020-11-18 10:13:53.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-10-26 08:36:50.000000000', 'files': ['openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/test/unit/usage/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b89c7051649a72df898ff0f5396e1f32303da8ed', 'message': 'Refactor quota related unit tests\n\nopenstack_dashboard/dashboards/project/floating_ips/tests.py:\nThe floating IP panel implementation calls\nopenstack_dashboard.usage.quotas.tenant_quota_usages, but\nits unit test mocks functions called inside tenant_quota_usages.\ntenant_quota_usages itself should be mocked.\n\nopenstack_dashboard/test/unit/usage/test_quotas.py:\nMocked methods were not verified test_tenant_quota_usages_non_legacy.\nVerifications for called methods are added.\nMocking floating_ip_supported is dropped as it is not called and\nthere is no need to mock it.\n\nChange-Id: Iad66c882738fd90eb6dd6de3df96459c10a29aa2\n'}]",0,759651,b89c7051649a72df898ff0f5396e1f32303da8ed,8,3,1,841,,,0,"Refactor quota related unit tests

openstack_dashboard/dashboards/project/floating_ips/tests.py:
The floating IP panel implementation calls
openstack_dashboard.usage.quotas.tenant_quota_usages, but
its unit test mocks functions called inside tenant_quota_usages.
tenant_quota_usages itself should be mocked.

openstack_dashboard/test/unit/usage/test_quotas.py:
Mocked methods were not verified test_tenant_quota_usages_non_legacy.
Verifications for called methods are added.
Mocking floating_ip_supported is dropped as it is not called and
there is no need to mock it.

Change-Id: Iad66c882738fd90eb6dd6de3df96459c10a29aa2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/759651/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/test/unit/usage/test_quotas.py']",2,b89c7051649a72df898ff0f5396e1f32303da8ed,drop-neutron-legacy-usage," api.neutron: ('is_extension_supported', self.mock_is_quotas_extension_supported.return_value = True self.assert_mock_multiple_calls_with_same_arguments( self.mock_is_service_enabled, len(test_data), mock.call(test.IsHttpRequest(), 'network')) # NOTE: is_volume_service_enabled() needs to be mocked # as _mock_service_enabled() requires it, but it is never called here. self.mock_is_volume_service_enabled.assert_not_called() self.mock_is_extension_supported.assert_has_calls([ # network mock.call(test.IsHttpRequest(), 'quota_details'), # subnet mock.call(test.IsHttpRequest(), 'quota_details'), # port mock.call(test.IsHttpRequest(), 'quota_details'), # router mock.call(test.IsHttpRequest(), 'router'), mock.call(test.IsHttpRequest(), 'quota_details'), # floating IP mock.call(test.IsHttpRequest(), 'quota_details'), # security group mock.call(test.IsHttpRequest(), 'security-group'), mock.call(test.IsHttpRequest(), 'quota_details'), # security group rule mock.call(test.IsHttpRequest(), 'security-group'), mock.call(test.IsHttpRequest(), 'quota_details'), ]) self.assertEqual(10, self.mock_is_extension_supported.call_count) self.assert_mock_multiple_calls_with_same_arguments( self.mock_is_quotas_extension_supported, len(test_data), mock.call(test.IsHttpRequest())) self.assert_mock_multiple_calls_with_same_arguments( self.mock_tenant_quota_detail_get, len(test_data), mock.call(test.IsHttpRequest(), self.request.user.tenant_id)) "," api.neutron: ('floating_ip_supported', 'is_extension_supported',",43,26
openstack%2Fhorizon~stable%2Fussuri~I1baf5d00da7e7750e4f87ef8bb7c7bb2b9d362d9,openstack/horizon,stable/ussuri,I1baf5d00da7e7750e4f87ef8bb7c7bb2b9d362d9,Imported Translations from Zanata,MERGED,2020-11-07 07:00:09.000000000,2020-11-18 10:15:00.000000000,2020-11-18 10:13:22.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-07 07:00:09.000000000', 'files': ['openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fd6b12f1605e5cf2f32f13e43fde5eeca73240d7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1baf5d00da7e7750e4f87ef8bb7c7bb2b9d362d9\n'}]",0,761807,fd6b12f1605e5cf2f32f13e43fde5eeca73240d7,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1baf5d00da7e7750e4f87ef8bb7c7bb2b9d362d9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/07/761807/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po']",2,fd6b12f1605e5cf2f32f13e43fde5eeca73240d7,zanata/translations,"# Alberto Molina Coballes <alb.molina@gmail.com>, 2020. #zanata""POT-Creation-Date: 2020-10-28 16:16+0000\n""""PO-Revision-Date: 2020-11-06 06:52+0000\n""msgid ""Click here for filters or full text search."" msgstr ""Haga click aqu para filtros o bsqueda completa por texto."" msgid ""Forbidden. Insufficient permissions of the requested operation"" msgstr ""Prohibido. Insuficientes permisos en la operacin solicitada"" ","""POT-Creation-Date: 2019-09-03 20:32+0000\n""""PO-Revision-Date: 2018-05-01 06:36+0000\n""",310,4
openstack%2Fhorizon~stable%2Fvictoria~I2504f03270904a650752452bcf9fad3388e96f90,openstack/horizon,stable/victoria,I2504f03270904a650752452bcf9fad3388e96f90,Imported Translations from Zanata,MERGED,2020-11-07 07:05:52.000000000,2020-11-18 10:14:50.000000000,2020-11-18 10:13:20.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-07 07:05:52.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'doc/source/locale/es/LC_MESSAGES/doc.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/969c7e930f00601b888a646e6441a0c5785ff4e7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2504f03270904a650752452bcf9fad3388e96f90\n'}]",0,761808,969c7e930f00601b888a646e6441a0c5785ff4e7,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2504f03270904a650752452bcf9fad3388e96f90
",git fetch https://review.opendev.org/openstack/horizon refs/changes/08/761808/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/es/LC_MESSAGES/django.po', 'doc/source/locale/es/LC_MESSAGES/doc.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po']",3,969c7e930f00601b888a646e6441a0c5785ff4e7,zanata/translations,"# Alberto Molina Coballes <alb.molina@gmail.com>, 2020. #zanata""POT-Creation-Date: 2020-10-15 06:02+0000\n""""PO-Revision-Date: 2020-11-06 06:53+0000\n""msgid ""Click here for filters or full text search."" msgstr ""Haga click aqu para filtros o bsqueda completa por texto."" msgid ""Forbidden. Insufficient permissions of the requested operation"" msgstr ""Prohibido. Permisos insuficientes para la operacin solicitada"" ","""POT-Creation-Date: 2019-09-03 20:32+0000\n""""PO-Revision-Date: 2018-05-01 06:36+0000\n""",135,4
openstack%2Fopenstack-ansible-ops~master~Id949a73fd59735062e8b157d2de881959eb247af,openstack/openstack-ansible-ops,master,Id949a73fd59735062e8b157d2de881959eb247af,Change ansible tests to prefer Python3 over Python2 in vitualenv,ABANDONED,2020-09-14 12:15:01.000000000,2020-11-18 09:52:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-14 12:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/95c407d936e9115cbb461da8423c4d778dafbb00', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 2, 'created': '2020-09-14 12:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/42332e7a12b6f8742b2deddeba392b1c7838f665', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 3, 'created': '2020-09-15 08:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/01d5ccff72b8047fccd70900d463705704049702', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 4, 'created': '2020-09-15 08:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/39cb05a28245edb9afc7aad95e54610cc5fc1ea3', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 5, 'created': '2020-09-29 09:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/29ac0ad87cae27f00bbabea4aac09018f7e8049e', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 6, 'created': '2020-09-29 11:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/02c693f672d3824a7ff1a999afb1d645b852b666', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 7, 'created': '2020-09-29 12:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e0f2d396194b995a8bf9d21fd392e9216ad8c9be', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 8, 'created': '2020-09-29 14:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/dddd0b89c5ee27ed7176f182463cff55d970767b', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 9, 'created': '2020-09-29 15:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6b752ff9884ca1a06eb3de0f5396fb469d807bae', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 10, 'created': '2020-09-29 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ba90b866220c6b8abcf66d442fefc90aae35c98b', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 11, 'created': '2020-09-30 08:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/557ffc5b7b98438b7d3dd6db4cad22bfdf4c680a', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 12, 'created': '2020-10-05 12:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/19872f9d7f73d5685cbd7553bab648e1716eef4b', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}, {'number': 13, 'created': '2020-11-12 11:10:46.000000000', 'files': ['elk_metrics_6x/createElasticIndexes.yml', 'elk_metrics_7x/tests/inventory/test-container-inventory.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'zuul.d/project.yaml', 'elk_metrics_7x/createElasticIndexes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3fa9d048bdb953b660319cf45f809e297c4c0f2f', 'message': 'Change ansible tests to prefer Python3 over Python2 in vitualenv\n\nDepends-On: https://review.opendev.org/741997\n\nChange-Id: Id949a73fd59735062e8b157d2de881959eb247af\n'}]",0,751773,3fa9d048bdb953b660319cf45f809e297c4c0f2f,29,2,13,31749,,,0,"Change ansible tests to prefer Python3 over Python2 in vitualenv

Depends-On: https://review.opendev.org/741997

Change-Id: Id949a73fd59735062e8b157d2de881959eb247af
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/73/751773/11 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'],1,95c407d936e9115cbb461da8423c4d778dafbb00,python3-preference," if [[ -f ""/usr/bin/python3"" ]]; then elif [[ -f ""/usr/bin/python2"" ]]; then virtualenv --system-site-packages --python=""/usr/bin/python2"" ""${ANSIBLE_EMBED_HOME}"""," if [[ -f ""/usr/bin/python2"" ]]; then virtualenv --system-site-packages --python=""/usr/bin/python2"" ""${ANSIBLE_EMBED_HOME}"" elif [[ -f ""/usr/bin/python3"" ]]; then",3,3
openstack%2Fpython-vitrageclient~master~I3734e725abb56ab4515cf1d958ae33386333ef67,openstack/python-vitrageclient,master,I3734e725abb56ab4515cf1d958ae33386333ef67,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-17 12:24:42.000000000,2020-11-18 09:48:17.000000000,2020-11-18 09:46:35.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 12:24:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/3b976540d9ca5881003c3884bed12993d43b00cc', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nhttps://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I3734e725abb56ab4515cf1d958ae33386333ef67\n'}]",0,763000,3b976540d9ca5881003c3884bed12993d43b00cc,7,2,1,19134,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I3734e725abb56ab4515cf1d958ae33386333ef67
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/00/763000/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3b976540d9ca5881003c3884bed12993d43b00cc,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fkuryr-kubernetes~master~I109afd8ab797d99a3fd85793f049af30d90a3784,openstack/kuryr-kubernetes,master,I109afd8ab797d99a3fd85793f049af30d90a3784,Update tempest configs according Kuryr enabled configs,MERGED,2020-11-16 17:40:42.000000000,2020-11-18 09:44:56.000000000,2020-11-18 09:42:32.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-11-16 17:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e580ddc5476c81808f550b634c6c36d9ca4c58a1', 'message': 'Include Namespace and KuryrNetwork to default handlers\n\nTempest Tests related to KuryrNetworks are enabled by default\non Devstack, but the Namespace and KuryrNetwok handler might\nnot be. This commit ensures those handlers are enabled by\ndefault.\n\nChange-Id: I109afd8ab797d99a3fd85793f049af30d90a3784\n'}, {'number': 2, 'created': '2020-11-16 17:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c1715c9c27a7a132d5358142a9aaccc5888e9aca', 'message': 'Include Namespace and KuryrNetwork to default handlers\n\nTempest Tests related to KuryrNetworks are enabled by default\non Devstack, but the Namespace and KuryrNetwok handler might\nnot be. This commit ensures those handlers are enabled by\ndefault.\n\nChange-Id: I109afd8ab797d99a3fd85793f049af30d90a3784\n'}, {'number': 3, 'created': '2020-11-16 22:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/502282286a6a08ecbeef9eb6f4b3c2a1dc31e267', 'message': 'Update tempest configs according Kuryr enabled configs\n\nTempest Tests related to KuryrNetworks are enabled by default\non Devstack, but the Namespace and KuryrNetwok handler might\nnot be. This commit ensures the tempest config is only updated\nwhen the respective Kuryr handler/driver is enabled.\n\nChange-Id: I109afd8ab797d99a3fd85793f049af30d90a3784\n'}, {'number': 4, 'created': '2020-11-16 22:40:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2c8bb8ac398e002a616981f04db0f38b8fa4016a', 'message': 'Update tempest configs according Kuryr enabled configs\n\nTempest Tests related to KuryrNetworks are enabled by default\non Devstack, but the Namespace and KuryrNetwok handler might\nnot be. This commit ensures the tempest config is only updated\nwhen the respective Kuryr handler/driver is enabled.\n\nChange-Id: I109afd8ab797d99a3fd85793f049af30d90a3784\n'}]",0,762893,2c8bb8ac398e002a616981f04db0f38b8fa4016a,14,3,4,27032,,,0,"Update tempest configs according Kuryr enabled configs

Tempest Tests related to KuryrNetworks are enabled by default
on Devstack, but the Namespace and KuryrNetwok handler might
not be. This commit ensures the tempest config is only updated
when the respective Kuryr handler/driver is enabled.

Change-Id: I109afd8ab797d99a3fd85793f049af30d90a3784
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/93/762893/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,e580ddc5476c81808f550b634c6c36d9ca4c58a1,fix-enabled-handlers,"KURYR_ENABLED_HANDLERS=${KURYR_ENABLED_HANDLERS:-vif,endpoints,service,namespace,kuryrloadbalancer,kuryrport,kuryrnetwork}","KURYR_ENABLED_HANDLERS=${KURYR_ENABLED_HANDLERS:-vif,endpoints,service,kuryrloadbalancer,kuryrport}",1,1
openstack%2Fkuryr-kubernetes~master~Idb879245607a6f0f914a44220312d54aa40e2e3d,openstack/kuryr-kubernetes,master,Idb879245607a6f0f914a44220312d54aa40e2e3d,Ensure members are deleted from pools when there is no endpoints,MERGED,2020-11-16 09:37:14.000000000,2020-11-18 09:43:45.000000000,2020-11-18 09:42:30.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-11-16 09:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/781c1f8178631e4683197aec76a3a7c4355691ae', 'message': 'Ensure members are deleted from pools when there is no endpoints\n\nThis patch ensures that endpoints scale down to 0 event is handled\nand therefore members are deleted from the loadbalancer pool\n\nChange-Id: Idb879245607a6f0f914a44220312d54aa40e2e3d\nCloses-Bug: 1904395\n'}, {'number': 2, 'created': '2020-11-16 16:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e449de23357b8ef08b398cdd11c535b5b6f7cbeb', 'message': 'Ensure members are deleted from pools when there is no endpoints\n\nThis patch ensures that endpoints scale down to 0 event is handled\nand therefore members are deleted from the loadbalancer pool\n\nChange-Id: Idb879245607a6f0f914a44220312d54aa40e2e3d\nCloses-Bug: 1904395\n'}, {'number': 3, 'created': '2020-11-16 16:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea8d51aee3a53ca11981196aaf8b73e63c0d8eb2', 'message': 'Ensure members are deleted from pools when there is no endpoints\n\nThis patch ensures that endpoints scale down to 0 event is handled\nand therefore members are deleted from the loadbalancer pool\n\nChange-Id: Idb879245607a6f0f914a44220312d54aa40e2e3d\nCloses-Bug: 1904395\n'}, {'number': 4, 'created': '2020-11-17 10:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/546e08e31cd617f975b9d2d65f20a2a549a5b8b4', 'message': 'Ensure members are deleted from pools when there is no endpoints\n\nThis patch ensures that endpoints scale down to 0 event is handled\nand therefore members are deleted from the loadbalancer pool\n\nChange-Id: Idb879245607a6f0f914a44220312d54aa40e2e3d\nCloses-Bug: 1904395\n'}, {'number': 5, 'created': '2020-11-17 12:11:00.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/885710a1bf45c7fff32cb86b0a21f193e4881f4c', 'message': 'Ensure members are deleted from pools when there is no endpoints\n\nThis patch ensures that endpoints scale down to 0 event is handled\nand therefore members are deleted from the loadbalancer pool\n\nChange-Id: Idb879245607a6f0f914a44220312d54aa40e2e3d\nCloses-Bug: 1904395\n'}]",0,762807,885710a1bf45c7fff32cb86b0a21f193e4881f4c,30,5,5,23567,,,0,"Ensure members are deleted from pools when there is no endpoints

This patch ensures that endpoints scale down to 0 event is handled
and therefore members are deleted from the loadbalancer pool

Change-Id: Idb879245607a6f0f914a44220312d54aa40e2e3d
Closes-Bug: 1904395
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/07/762807/5 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/loadbalancer.py'],1,781c1f8178631e4683197aec76a3a7c4355691ae,bug-1904395, return not(self._has_pods(loadbalancer_crd) or loadbalancer_crd.get('status')), return not(self._has_pods(loadbalancer_crd)),2,1
openstack%2Fneutron-tempest-plugin~master~I67b55e739b5c33f7d16f4750ff557d2d9218ea21,openstack/neutron-tempest-plugin,master,I67b55e739b5c33f7d16f4750ff557d2d9218ea21,Update TOX_CONSTRAINTS_FILE,MERGED,2020-11-17 06:05:22.000000000,2020-11-18 08:24:47.000000000,2020-11-18 08:23:16.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 06:05:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d783a82901fea42152d71e65ca64dfaacdad866b', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I67b55e739b5c33f7d16f4750ff557d2d9218ea21\n'}]",0,762957,d783a82901fea42152d71e65ca64dfaacdad866b,8,3,1,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I67b55e739b5c33f7d16f4750ff557d2d9218ea21
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/57/762957/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d783a82901fea42152d71e65ca64dfaacdad866b,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ffreezer~master~Ic27d20b03e3a312e2a332f3893377bb39b3d623b,openstack/freezer,master,Ic27d20b03e3a312e2a332f3893377bb39b3d623b,Correct spelling errors,MERGED,2020-11-18 07:24:07.000000000,2020-11-18 07:55:56.000000000,2020-11-18 07:54:35.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 07:24:07.000000000', 'files': ['doc/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c4bdfb6693e4dc7ef5cdebfa6055c75754f82ffd', 'message': 'Correct spelling errors\n\nUpdate ""--restore-abs-pat"" to ""--restore-abs-path""\n\nChange-Id: Ic27d20b03e3a312e2a332f3893377bb39b3d623b\n'}]",0,763131,c4bdfb6693e4dc7ef5cdebfa6055c75754f82ffd,7,2,1,21069,,,0,"Correct spelling errors

Update ""--restore-abs-pat"" to ""--restore-abs-path""

Change-Id: Ic27d20b03e3a312e2a332f3893377bb39b3d623b
",git fetch https://review.opendev.org/openstack/freezer refs/changes/31/763131/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/README.rst'],1,c4bdfb6693e4dc7ef5cdebfa6055c75754f82ffd,, $ sudo freezer-agent --action restore --restore-abs-path /data/dir/to/backup, $ sudo freezer-agent --action restore --restore-abs-pat /data/dir/to/backup,1,1
openstack%2Fironic~master~I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c,openstack/ironic,master,I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c,Limit the default value of [api]api_workers to 4,MERGED,2020-11-03 15:35:05.000000000,2020-11-18 07:52:33.000000000,2020-11-18 03:06:29.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-11-03 15:35:05.000000000', 'files': ['ironic/common/wsgi_service.py', 'ironic/tests/unit/common/test_wsgi_service.py', 'releasenotes/notes/api-workers-c06ea95a0c55b8cf.yaml', 'ironic/conf/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c9c492725ed581db1ba49a1a5985bfcf4952e82d', 'message': 'Limit the default value of [api]api_workers to 4\n\nEach ironic-api process consumes non-negligible amount of RAM,\ndefaulting to CPU core count may result in many hundres of megabytes\noccupied by ironic-api processes. Limit the default value to 4\nand let people who actually need more than that pick their value.\n\nChange-Id: I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c\n'}]",0,761185,c9c492725ed581db1ba49a1a5985bfcf4952e82d,36,7,1,10239,,,0,"Limit the default value of [api]api_workers to 4

Each ironic-api process consumes non-negligible amount of RAM,
defaulting to CPU core count may result in many hundres of megabytes
occupied by ironic-api processes. Limit the default value to 4
and let people who actually need more than that pick their value.

Change-Id: I5aefa8c6c7aadc56aea151647e1c0a5af54ada4c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/761185/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/wsgi_service.py', 'ironic/tests/unit/common/test_wsgi_service.py', 'releasenotes/notes/api-workers-c06ea95a0c55b8cf.yaml', 'ironic/conf/api.py']",4,c9c492725ed581db1ba49a1a5985bfcf4952e82d,api-workers," 'The default is equal to the number of CPUs available, ' 'but not more than 4. One worker is used if the CPU ' 'number cannot be detected.')),"," 'The default is equal to the number of CPUs available ' 'if that can be determined, else a default worker ' 'count of 1 is returned.')),",32,8
openstack%2Fironic~master~I479da7491fe8de9f511540b656f30b37adbd7ed8,openstack/ironic,master,I479da7491fe8de9f511540b656f30b37adbd7ed8,Convert bios endpoint to plain JSON,MERGED,2020-08-10 06:04:22.000000000,2020-11-18 07:14:49.000000000,2020-11-18 07:10:33.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-10 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dafe73eadafcf06ba44e6420693d0ff47093bce3', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f15af9e01fef62190c757c1f14794a469be437fe', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbef4537da816818248ee788e82070f41952ab79', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/82591e80c5fdb0a1bc374484632dc8448011e416', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25cfa977c1d1f14b7f9565106a9e122377d2f48b', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f6256b0abc79dc74d873187aba92932a863cc5f', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-10 02:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2415181939e00a22daab2d046f03dd542a0b6071', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-10 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9f1f20e0b88c378f2a2166a7f8f4d3cbca44b5bf', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-11 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db1650168ceec71ce4e5f9e103545b0c701e67e1', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e767d8bcf0d26aadce62a34c39cb41689b06a975', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-15 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ff6432e7393780048b0a11a2626aa09f3e1256c', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/632056b2c9db2aa14ca237e6c553024970b45895', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7319e4de142ceb4743d830555921cb2aba6e226', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8428ae477fd27b3fe80fc6e1725f189c34e0288', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd1a42c364c6bdeb7506f7cfe32fc06121cb46f0', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b8483db63e0dcbc2ec312eff7691ac09416dc0a', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc7f156373af89434dc4cdf32b9c2ff96d923c27', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-09-30 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33a2defd7f37877913099fb314544cf49011b610', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 19, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ef0357dca3b5aee4e3d61e13d538a9305eef07b', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 20, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ae35ae2e3a52799f4a54e6a7d2e0e6c716b6096', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 21, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71f9cb9996659efb3300d53b5a17ec3fc5c39bfd', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 22, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a4fc29ea5ec776b9eccfb51e89661510918174e', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 23, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9773c7d8b7fe5a418f6e72e8d972428d63da31b1', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}, {'number': 24, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/api/controllers/v1/bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/541f1acb22cd7d4f8a3a7bb0f8141eec2a4aea22', 'message': 'Convert bios endpoint to plain JSON\n\nUnit test coverage is provided by\nironic.tests.unit.api.controllers.v1.test_node.TestBIOS\n\nChange-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8\nStory: 1651346\nTask: 10551\n'}]",0,745475,541f1acb22cd7d4f8a3a7bb0f8141eec2a4aea22,100,8,24,4571,,,0,"Convert bios endpoint to plain JSON

Unit test coverage is provided by
ironic.tests.unit.api.controllers.v1.test_node.TestBIOS

Change-Id: I479da7491fe8de9f511540b656f30b37adbd7ed8
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/745475/14 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/bios.py'],1,dafe73eadafcf06ba44e6420693d0ff47093bce3,story/1651346,"from ironic.api import method from ironic.common import argsdef convert_with_links(rpc_bios, node_uuid): """"""Build a dict containing a bios setting value."""""" url = api.request.host_url bios = { 'name': rpc_bios.name, 'created_at': (rpc_bios.created_at and rpc_bios.created_at.isoformat() or None), 'updated_at': (rpc_bios.updated_at and rpc_bios.updated_at.isoformat() or None), 'value': rpc_bios.value, 'links': [link.make_link('self', url, 'nodes', ""%s/bios/%s"" % (node_uuid, rpc_bios.name)), link.make_link('bookmark', url, 'nodes', ""%s/bios/%s"" % (node_uuid, rpc_bios.name), bookmark=True)] } return bios def collection_from_list(node_ident, bios_settings): bios_list = [] for bios_setting in bios_settings: bios_list.append(convert_with_links(bios_setting, node_ident)) return {'bios': bios_list} @method.expose() return collection_from_list(self.node_ident, settings) @method.expose() @args.validate(setting_name=args.name) return {setting_name: convert_with_links(setting, node.uuid)}","from ironic.api.controllers import basefrom ironic.api.controllers.v1 import typesfrom ironic.api import expose from ironic.api import types as atypesclass BIOSSetting(base.APIBase): """"""API representation of a BIOS setting."""""" name = atypes.wsattr(str) value = atypes.wsattr(str) links = None def __init__(self, **kwargs): self.fields = [] fields = list(objects.BIOSSetting.fields) for k in fields: if hasattr(self, k): self.fields.append(k) value = kwargs.get(k, atypes.Unset) setattr(self, k, value) @staticmethod def _convert_with_links(bios, node_uuid, url): """"""Add links to the bios setting."""""" name = bios.name bios.links = [link.make_link('self', url, 'nodes', ""%s/bios/%s"" % (node_uuid, name)), link.make_link('bookmark', url, 'nodes', ""%s/bios/%s"" % (node_uuid, name), bookmark=True)] return bios @classmethod def convert_with_links(cls, rpc_bios, node_uuid): """"""Add links to the bios setting."""""" bios = BIOSSetting(**rpc_bios.as_dict()) return cls._convert_with_links(bios, node_uuid, api.request.host_url) class BIOSSettingsCollection(base.Base): """"""API representation of the bios settings for a node."""""" bios = [BIOSSetting] """"""Node bios settings list"""""" @staticmethod def collection_from_list(node_ident, bios_settings): col = BIOSSettingsCollection() bios_list = [] for bios_setting in bios_settings: bios_list.append(BIOSSetting.convert_with_links(bios_setting, node_ident)) col.bios = bios_list return col @expose.expose(BIOSSettingsCollection) return BIOSSettingsCollection.collection_from_list(self.node_ident, settings) @expose.expose({str: BIOSSetting}, types.name) return {setting_name: BIOSSetting.convert_with_links(setting, node.uuid)}",29,60
openstack%2Fironic~master~Ie2c0f32f254275007b491748e2a63fa94aa09434,openstack/ironic,master,Ie2c0f32f254275007b491748e2a63fa94aa09434,Duplicate trait validation with jsonschema,MERGED,2020-08-12 04:45:02.000000000,2020-11-18 07:13:07.000000000,2020-11-18 07:10:14.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-12 04:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1c3ef139cb212230489d46a28b02bfb4e1ab40c', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-08-18 00:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd2443178b7323a3e78f7fbd8aba189c0e04d7a8', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-08-25 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c90606110996a715de9bc8d39f1446a4a4c553a', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-09-01 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47dd5783bb6566b4a4cd4bfa8086778756c38e46', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-09-07 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9fd027ba5867e12ed01422b49490e6c1a0a94cf', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 6, 'created': '2020-09-14 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/012f97569c6768696d9677aeffaf16184100ed02', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 7, 'created': '2020-09-22 04:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a777ec0d39617c13d748f174d5a4fbeab527981', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 8, 'created': '2020-09-22 21:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15ff4b589cbb4217c2df2dc2fd06910183cce583', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 9, 'created': '2020-09-25 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/426b1ff80565e10f92c4d46aec82466626f67e9a', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 10, 'created': '2020-09-27 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d97c872388b08332055c4b76080dddc83a2338a1', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 11, 'created': '2020-09-27 22:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65f82e4422b2b70635fcc750b59a4650a91176af', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 12, 'created': '2020-09-29 03:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/035720d76dd84d1e9b6949dc517663765e5de1d4', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 13, 'created': '2020-10-01 03:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5ee7f7be6edb15195f2c0cca23c82ac93618074', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 14, 'created': '2020-10-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e4417e8bc3dde4e4793768d26fac4af7baadec9', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 15, 'created': '2020-10-18 20:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3344060a4427c8b6c4db2ac111ab0678b26c3ff3', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 16, 'created': '2020-10-30 02:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/677caf7b045083449b1b9c59f2a11f2135843db8', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 17, 'created': '2020-11-03 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/315916871d8c33de08a45935ef72cfd17a099986', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}, {'number': 18, 'created': '2020-11-15 21:52:33.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8677be53b7cffb30544633c060e8650a3935726f', 'message': 'Duplicate trait validation with jsonschema\n\nThis change implements the same validation rules as the validate_trait\nfunction, but with jsonschema.\n\nWhen the 3 uses of validate_trait are converted to using jsonschema\nfor post (and patch) calls, this function can be deleted.\n\nChange-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434\nStory: 1651346\nTask: 10551\n'}]",0,745778,8677be53b7cffb30544633c060e8650a3935726f,89,9,18,4571,,,0,"Duplicate trait validation with jsonschema

This change implements the same validation rules as the validate_trait
function, but with jsonschema.

When the 3 uses of validate_trait are converted to using jsonschema
for post (and patch) calls, this function can be deleted.

Change-Id: Ie2c0f32f254275007b491748e2a63fa94aa09434
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/745778/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/utils.py']",2,a1c3ef139cb212230489d46a28b02bfb4e1ab40c,story/1651346,"CUSTOM_TRAIT_PATTERN = ""^%s[A-Z0-9_]+$"" % os_traits.CUSTOM_NAMESPACE CUSTOM_TRAIT_REGEX = re.compile(CUSTOM_TRAIT_PATTERN) TRAITS_SCHEMA = {'anyOf': [ {'type': 'string', 'minLength': 1, 'maxLength': 255, 'pattern': CUSTOM_TRAIT_PATTERN}, {'type': 'string', 'enum': STANDARD_TRAITS}, ]} # TODO(sbaker) remove when all trait validation is jsonschema based","CUSTOM_TRAIT_REGEX = re.compile(""^%s[A-Z0-9_]+$"" % os_traits.CUSTOM_NAMESPACE)",34,1
openstack%2Fopenstack-manuals~master~I58a8e7b39884069e31b3b819a368d78b54a8cae7,openstack/openstack-manuals,master,I58a8e7b39884069e31b3b819a368d78b54a8cae7,Enable htaccess charm-deployment-guide,MERGED,2020-11-17 21:49:27.000000000,2020-11-18 06:17:17.000000000,2020-11-18 06:02:42.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 21:49:27.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1025ea0dcc3336df6bd4fc38e2e4a02f07f7555d', 'message': 'Enable htaccess charm-deployment-guide\n\nChange-Id: I58a8e7b39884069e31b3b819a368d78b54a8cae7\n'}]",0,763091,1025ea0dcc3336df6bd4fc38e2e4a02f07f7555d,7,2,1,30561,,,0,"Enable htaccess charm-deployment-guide

Change-Id: I58a8e7b39884069e31b3b819a368d78b54a8cae7
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/91/763091/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,1025ea0dcc3336df6bd4fc38e2e4a02f07f7555d,cdg-reorg, has_in_tree_htaccess: true,,1,0
openstack%2Ftripleo-puppet-elements~master~Ic053d58401b623a696ef65b7637255eebb3fd542,openstack/tripleo-puppet-elements,master,Ic053d58401b623a696ef65b7637255eebb3fd542,Remove 03-centos-rt,ABANDONED,2020-11-16 03:43:28.000000000,2020-11-18 05:18:27.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-16 03:43:28.000000000', 'files': ['elements/overcloud-compute/pre-install.d/03-centos-rt'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d241287b0487877ece5d267746bdf4a51fad6187', 'message': ""Remove 03-centos-rt\n\nCentOS mirror doesn't provide rt directory anymore at\nhttp://mirror.centos.org/centos/7/.\nTo avoid the unnecessary failure by missing repository,\nWe should remove 03-centos-rt file.\n\nChange-Id: Ic053d58401b623a696ef65b7637255eebb3fd542\n""}]",0,762772,d241287b0487877ece5d267746bdf4a51fad6187,5,3,1,25613,,,0,"Remove 03-centos-rt

CentOS mirror doesn't provide rt directory anymore at
http://mirror.centos.org/centos/7/.
To avoid the unnecessary failure by missing repository,
We should remove 03-centos-rt file.

Change-Id: Ic053d58401b623a696ef65b7637255eebb3fd542
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/72/762772/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-compute/pre-install.d/03-centos-rt'],1,d241287b0487877ece5d267746bdf4a51fad6187,,,"#!/bin/bash -x if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail if [[ ""$DISTRO_NAME"" == *""centos7""* ]]; then current_rt_repo=$(yum repolist all|grep ""centos7-rt"" |awk '{print $1}'| head -n 1 || true) if [[ ""$current_rt_repo"" == """" ]]; then cat << EOF > /etc/yum.repos.d/centos7-rt.repo [centos7-rt] name=CentOS 7 - Realtime baseurl=http://mirror.centos.org/centos/7/rt/x86_64/ enabled=1 gpgcheck=0 EOF else yum-config-manager --enable $current_rt_repo fi fi ",0,22
openstack%2Ftripleo-puppet-elements~master~I4a449b6167453064be81a24442767232e9f9c5e7,openstack/tripleo-puppet-elements,master,I4a449b6167453064be81a24442767232e9f9c5e7,Remove puppet-panko,MERGED,2020-08-29 09:02:51.000000000,2020-11-18 04:18:23.000000000,2020-11-18 04:18:23.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 09:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/93fddd47adf4fc43d2d2e29a0fe7d18b28021a81', 'message': 'Remove puppet-panko\n\n... because Panko is no longer supported by TripleO.\n\nChange-Id: I4a449b6167453064be81a24442767232e9f9c5e7\n'}, {'number': 2, 'created': '2020-08-30 08:32:45.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/9b38313c73977b47ac32fc65e19a7e7e997583ff', 'message': 'Remove puppet-panko\n\n... because Panko is no longer supported by TripleO[1].\n\n[1] 112f485c7fe1cc64445d3c09b2e9655026697225\n\nChange-Id: I4a449b6167453064be81a24442767232e9f9c5e7\n'}]",0,748800,9b38313c73977b47ac32fc65e19a7e7e997583ff,20,6,2,9816,,,0,"Remove puppet-panko

... because Panko is no longer supported by TripleO[1].

[1] 112f485c7fe1cc64445d3c09b2e9655026697225

Change-Id: I4a449b6167453064be81a24442767232e9f9c5e7
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/00/748800/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,93fddd47adf4fc43d2d2e29a0fe7d18b28021a81,remove-panko,,puppet-panko git /opt/stack/puppet-modules/panko https://opendev.org/openstack/puppet-panko.git,0,2
openstack%2Ftripleo-puppet-elements~stable%2Fqueens~Ia2e7f2b0e5b8e707681dbd08a634b4b0abe61b3c,openstack/tripleo-puppet-elements,stable/queens,Ia2e7f2b0e5b8e707681dbd08a634b4b0abe61b3c,"Revert ""Remove 03-centos-rt element - the rt repo no longer exists""",MERGED,2020-11-17 14:05:22.000000000,2020-11-18 04:18:22.000000000,2020-11-18 04:18:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-17 14:05:22.000000000', 'files': ['elements/overcloud-compute/pre-install.d/03-centos-rt'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/83378d81927e5f1e0c1b7e85cf7c4258c4e32356', 'message': 'Revert ""Remove 03-centos-rt element - the rt repo no longer exists""\n\nThis reverts commit 8a2fa38ec16fd041812fc84a8df95ae7ce9a70d3.\n\nChange-Id: Ia2e7f2b0e5b8e707681dbd08a634b4b0abe61b3c\n'}]",1,763014,83378d81927e5f1e0c1b7e85cf7c4258c4e32356,11,6,1,9976,,,0,"Revert ""Remove 03-centos-rt element - the rt repo no longer exists""

This reverts commit 8a2fa38ec16fd041812fc84a8df95ae7ce9a70d3.

Change-Id: Ia2e7f2b0e5b8e707681dbd08a634b4b0abe61b3c
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/14/763014/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-compute/pre-install.d/03-centos-rt'],1,83378d81927e5f1e0c1b7e85cf7c4258c4e32356,bug1904483,"#!/bin/bash -x if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail if [[ ""$DISTRO_NAME"" == *""centos""* ]]; then current_rt_repo=$(yum repolist all|grep ""centos7-rt"" |awk '{print $1}'| head -n 1 || true) if [[ ""$current_rt_repo"" == """" ]]; then cat << EOF > /etc/yum.repos.d/centos7-rt.repo [centos7-rt] name=CentOS 7 - Realtime baseurl=http://mirror.centos.org/centos/7/rt/x86_64/ enabled=1 gpgcheck=0 EOF else yum-config-manager --enable $current_rt_repo fi fi ",,22,0
openstack%2Ftosca-parser~master~I843fa7dfc928cb811ffd2fd8145644663e239976,openstack/tosca-parser,master,I843fa7dfc928cb811ffd2fd8145644663e239976,Enable _get_explicit_relationship to maintain original relationship type name,MERGED,2020-09-28 10:12:03.000000000,2020-11-18 04:01:31.000000000,2020-11-18 04:00:18.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-28 10:12:03.000000000', 'files': ['toscaparser/tests/test_toscatpl.py', 'toscaparser/elements/relationshiptype.py', 'toscaparser/tests/data/test_tosca_custom_rel.yaml', 'toscaparser/nodetemplate.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/b598d9cfe40b384d2d3b77555be8c6eda23efc16', 'message': 'Enable _get_explicit_relationship to maintain original relationship type name\n\nRelated-Bug #189726\n\nChange-Id: I843fa7dfc928cb811ffd2fd8145644663e239976\n'}]",0,754680,b598d9cfe40b384d2d3b77555be8c6eda23efc16,10,3,1,19724,,,0,"Enable _get_explicit_relationship to maintain original relationship type name

Related-Bug #189726

Change-Id: I843fa7dfc928cb811ffd2fd8145644663e239976
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/80/754680/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/tests/test_toscatpl.py', 'toscaparser/elements/relationshiptype.py', 'toscaparser/tests/data/test_tosca_custom_rel.yaml', 'toscaparser/nodetemplate.py']",4,b598d9cfe40b384d2d3b77555be8c6eda23efc16,bug/189726," req, relationship, self)"," req, rtype.type, self)",48,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If31e620b88830ef85a2bddaccd6cd7064cce4472,openstack/tripleo-heat-templates,stable/train,If31e620b88830ef85a2bddaccd6cd7064cce4472,Use `undercloud` instead of `Undercloud` when delegating tasks,MERGED,2020-10-21 15:29:37.000000000,2020-11-18 03:43:08.000000000,2020-11-18 03:43:08.000000000,"[{'_account_id': 5046}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-21 15:29:37.000000000', 'files': ['deployment/ipa/ipaservices-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0180a7ef634a0750d1d483701ea46b8fe9587300', 'message': 'Use `undercloud` instead of `Undercloud` when delegating tasks\n\nIf ansible detects uppercase characters in delegate_to, it assumes the\ntarget is a grou, not a host.\n\nWe should use all lowercase representation (e.g., `undercloud`) so that\nansible does the right thing and looks for the host, instead of looking\nfor the `Undercloud` group.\n\nChange-Id: If31e620b88830ef85a2bddaccd6cd7064cce4472\n(cherry picked from commit ac916a38c6e70926b854b0e5c9249423f860a1ab)\n(cherry picked from commit 514ac5b08ca5ad26bd35454e4d4e9cefa68ba1a4)\n'}]",0,759077,0180a7ef634a0750d1d483701ea46b8fe9587300,15,7,1,5046,,,0,"Use `undercloud` instead of `Undercloud` when delegating tasks

If ansible detects uppercase characters in delegate_to, it assumes the
target is a grou, not a host.

We should use all lowercase representation (e.g., `undercloud`) so that
ansible does the right thing and looks for the host, instead of looking
for the `Undercloud` group.

Change-Id: If31e620b88830ef85a2bddaccd6cd7064cce4472
(cherry picked from commit ac916a38c6e70926b854b0e5c9249423f860a1ab)
(cherry picked from commit 514ac5b08ca5ad26bd35454e4d4e9cefa68ba1a4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/759077/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ipa/ipaservices-baremetal-ansible.yaml'],1,0180a7ef634a0750d1d483701ea46b8fe9587300,, delegate_to: undercloud, delegate_to: Undercloud,1,1
openstack%2Fmurano-pkg-check~master~I8834252a459b9d6ecd39fb18d46e5baa048bb8c3,openstack/murano-pkg-check,master,I8834252a459b9d6ecd39fb18d46e5baa048bb8c3,Imported Translations from Zanata,MERGED,2020-11-16 07:25:17.000000000,2020-11-18 03:38:53.000000000,2020-11-18 03:38:53.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 07:25:17.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/0b4922fb7294b1430a4019b630385674aaca9a9b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8834252a459b9d6ecd39fb18d46e5baa048bb8c3\n'}]",0,762786,0b4922fb7294b1430a4019b630385674aaca9a9b,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8834252a459b9d6ecd39fb18d46e5baa048bb8c3
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/86/762786/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,0b4922fb7294b1430a4019b630385674aaca9a9b,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2020. #zanata""Project-Id-Version: muranopkgcheck Release Notes\n""""POT-Creation-Date: 2020-11-14 01:41+0000\n""""PO-Revision-Date: 2020-11-16 01:36+0000\n""msgid ""0.3.0-61"" msgstr ""0.3.0-61""","""Project-Id-Version: murano-pkg-check\n""""POT-Creation-Date: 2019-11-25 06:57+0000\n""""PO-Revision-Date: 2019-12-21 02:45+0000\n""msgid ""0.3.0-48"" msgstr ""0.3.0-48""",6,5
openstack%2Fmurano~master~Id007239bfeeaa96c8cf8ad4ab01b28d579cd6bb1,openstack/murano,master,Id007239bfeeaa96c8cf8ad4ab01b28d579cd6bb1,Imported Translations from Zanata,MERGED,2020-11-16 07:29:31.000000000,2020-11-18 03:35:36.000000000,2020-11-18 03:34:22.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 07:29:31.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano/commit/38c7835dcde5b13ede474da618cd09894099d69f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id007239bfeeaa96c8cf8ad4ab01b28d579cd6bb1\n'}]",0,762787,38c7835dcde5b13ede474da618cd09894099d69f,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id007239bfeeaa96c8cf8ad4ab01b28d579cd6bb1
",git fetch https://review.opendev.org/openstack/murano refs/changes/87/762787/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,38c7835dcde5b13ede474da618cd09894099d69f,zanata/translations,"""POT-Creation-Date: 2020-11-05 07:21+0000\n""""PO-Revision-Date: 2020-11-16 01:39+0000\n""msgid ""10.0.0-5"" msgstr ""10.0.0-5"" ""Avoid the `'method' object has no attribute '__yaql_function__'` error when "" ""calling some YAQL functions with Python 3"" msgstr """" ""Avoid the `'method' object has no attribute '__yaql_function__'` error when "" ""calling some YAQL functions with Python 3"" msgid """"","""POT-Creation-Date: 2020-09-25 07:04+0000\n""""PO-Revision-Date: 2020-10-10 01:49+0000\n""",12,2
openstack%2Fpuppet-barbican~stable%2Ftrain~I84b66d56a0914ea9e10eebb44c99ba2951ddba61,openstack/puppet-barbican,stable/train,I84b66d56a0914ea9e10eebb44c99ba2951ddba61,Add p11_crypto_plugin token options,MERGED,2020-10-30 16:43:25.000000000,2020-11-18 03:22:23.000000000,2020-11-18 03:21:06.000000000,"[{'_account_id': 7973}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-30 16:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d44cf525ca5e3402dd0a3f2c086c5d25ef17fe6c', 'message': 'Add p11_crypto_plugin token options\n\nThis patch adds support for two new options in the\np11_crypto_plugin section of the config file.\n\nDepends-On: I115cf1a7006a6c85f37c5e50ded13134a3dfd1a3\nChange-Id: I84b66d56a0914ea9e10eebb44c99ba2951ddba61\n(cherry picked from commit 432a34e076f30475aa3fada53b1526d9b36fe174)\n'}, {'number': 2, 'created': '2020-11-17 20:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/3c7987e622cb2850e18b39492027bc5532b4b2fc', 'message': 'Add p11_crypto_plugin token options\n\nThis patch adds support for two new options in the\np11_crypto_plugin section of the config file.\n\nDepends-On: I115cf1a7006a6c85f37c5e50ded13134a3dfd1a3\nDepends-On: I7a29b4b90a70c052a4aba690653541643b909fcd\nChange-Id: I84b66d56a0914ea9e10eebb44c99ba2951ddba61\n(cherry picked from commit 432a34e076f30475aa3fada53b1526d9b36fe174)\n'}, {'number': 3, 'created': '2020-11-18 01:00:13.000000000', 'files': ['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/add-support-for-token-label-and-serial-5b6ec6acc7f9d791.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/e1acd2d994b3f74186346559adef685d552f75fe', 'message': 'Add p11_crypto_plugin token options\n\nThis patch adds support for two new options in the\np11_crypto_plugin section of the config file.\n\nDepends-On: I115cf1a7006a6c85f37c5e50ded13134a3dfd1a3\nChange-Id: I84b66d56a0914ea9e10eebb44c99ba2951ddba61\n(cherry picked from commit 432a34e076f30475aa3fada53b1526d9b36fe174)\n'}]",0,760638,e1acd2d994b3f74186346559adef685d552f75fe,22,4,3,7973,,,0,"Add p11_crypto_plugin token options

This patch adds support for two new options in the
p11_crypto_plugin section of the config file.

Depends-On: I115cf1a7006a6c85f37c5e50ded13134a3dfd1a3
Change-Id: I84b66d56a0914ea9e10eebb44c99ba2951ddba61
(cherry picked from commit 432a34e076f30475aa3fada53b1526d9b36fe174)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/38/760638/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/add-support-for-token-label-and-serial-5b6ec6acc7f9d791.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb']",3,d44cf525ca5e3402dd0a3f2c086c5d25ef17fe6c,," :p11_crypto_plugin_token_serial_number => 'token_serial', :p11_crypto_plugin_token_label => 'token_label', is_expected.to contain_barbican_config('p11_crypto_plugin/token_serial_number') \ .with_value(params[:p11_crypto_plugin_token_serial_number]) is_expected.to contain_barbican_config('p11_crypto_plugin/token_label') \ .with_value(params[:p11_crypto_plugin_token_label])",,30,6
openstack%2Fopenstacksdk~master~I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,openstack/openstacksdk,master,I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,Don't set list_type to dict for server groups.,MERGED,2020-09-01 19:41:24.000000000,2020-11-18 03:01:42.000000000,2020-09-16 09:56:35.000000000,"[{'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-01 19:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/26ba2afd8e55de4b2bc8edd5c56732d230d95fe8', 'message': ""Don't set list_type to dict for server groups, this is not what the API returns.\n\nChange-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77\n""}, {'number': 2, 'created': '2020-09-01 19:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/28e1c7b805ee6ddead271b2bace95048a0254fdc', 'message': ""Don't set list_type to dict for server groups, this is not what the API returns.\n\nChange-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77\nStory: 2007710\n""}, {'number': 3, 'created': '2020-09-01 20:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e0ffe4e4c85786bb8b79b50eab285b10edecfbb6', 'message': ""Don't set list_type to dict for server groups, this is not what the API returns.\n\nChange-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77\nStory: 2007710\nTask: 39843\n""}, {'number': 4, 'created': '2020-09-11 11:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3348911f3c1a5024ad7d56227f8f91b27d776965', 'message': ""Don't set list_type to dict for server groups.\n\nWhen server_groups is present for retrieved server, this ends up\nwith the following exception [1]. So we should rather have\nregular list instead of dict.\n\n[1] http://paste.openstack.org/show/797758/\n\nChange-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77\nStory: 2007710\nTask: 39843\n""}, {'number': 5, 'created': '2020-09-11 12:31:36.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1c2a06350d615af6bef2615a94224ec49ac155b4', 'message': ""Don't set list_type to dict for server groups.\n\nWhen server_groups is present for retrieved server, this ends up\nwith the following exception [1]. So we should rather have\nregular list instead of dict.\n\n[1] http://paste.openstack.org/show/797758/\n\nChange-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77\nStory: 2007710\nTask: 39843\n""}]",0,749381,1c2a06350d615af6bef2615a94224ec49ac155b4,20,6,5,32368,,,0,"Don't set list_type to dict for server groups.

When server_groups is present for retrieved server, this ends up
with the following exception [1]. So we should rather have
regular list instead of dict.

[1] http://paste.openstack.org/show/797758/

Change-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77
Story: 2007710
Task: 39843
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/81/749381/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/server.py'],1,26ba2afd8e55de4b2bc8edd5c56732d230d95fe8,bug/39843," server_groups = resource.Body('server_groups', type=list)"," server_groups = resource.Body('server_groups', type=list, list_type=dict)",1,1
openstack%2Fheat~master~Id6890719b5e68bdc2b4562562a34252b91b07d57,openstack/heat,master,Id6890719b5e68bdc2b4562562a34252b91b07d57,Sync grenade job config with functional job,NEW,2020-09-27 08:42:26.000000000,2020-11-18 02:59:03.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2020-09-27 08:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cbb0506e5f28e301e58125fabaf92413efde73f7', 'message': ""Skip grenade-heat and update grenade-heat-multinode\n\nThis patch propose to:\n* Skip grenade-heat job: since we already running grenade-heat-multinode\njob. I feel it already covers all grenade-heat's functionalities.\n* increase grenade-heat-multinode timeout.\n* Sync configs with heat functional job. Some definition from grenade\njob isn't required by heat testing. We should sync configs from functional job.\n\nChange-Id: Id6890719b5e68bdc2b4562562a34252b91b07d57\n""}, {'number': 2, 'created': '2020-09-27 08:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/13dbaf3e78b53c220d29563f8301c90079df0cd4', 'message': ""Skip grenade-heat and update grenade-heat-multinode\n\nThis patch propose to:\n* Skip grenade-heat job: since we already running grenade-heat-multinode\njob. I feel it already covers all grenade-heat's functionalities.\n* Sync configs with heat functional job. Some definition from grenade\njob isn't required by heat testing. We should sync configs from functional job.\n\nChange-Id: Id6890719b5e68bdc2b4562562a34252b91b07d57\n""}, {'number': 3, 'created': '2020-11-16 13:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b03df9319e317a428baa6d1252a9786bd2f9f360', 'message': 'Sync grenade job config with functional job\n\nChange-Id: Id6890719b5e68bdc2b4562562a34252b91b07d57\n'}, {'number': 4, 'created': '2020-11-18 01:56:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/f9c5b305367e4984231f231c94d0ba018f44f4ff', 'message': 'Sync grenade job config with functional job\n\nChange-Id: Id6890719b5e68bdc2b4562562a34252b91b07d57\n'}]",1,754600,f9c5b305367e4984231f231c94d0ba018f44f4ff,10,3,4,12404,,,0,"Sync grenade job config with functional job

Change-Id: Id6890719b5e68bdc2b4562562a34252b91b07d57
",git fetch https://review.opendev.org/openstack/heat refs/changes/00/754600/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cbb0506e5f28e301e58125fabaf92413efde73f7,improve-grenade," name: grenade-heat-multinode parent: grenade-multinode timeout: 14400 s-account: false s-container: false s-object: false s-proxy: false devstack_local_conf: post-config: $HEAT_CONF: DEFAULT: convergence_engine: true stack_scheduler_hints: true hidden_stack_tags: hidden encrypt_parameters_and_properties: True logging_exception_prefix: ""%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s"" enable_stack_adopt: true enable_stack_abandon: true heat_api: workers: 2 heat_api_cfn: workers: 2 cache: enabled: True eventlet_opts: client_socket_timeout: 120 oslo_messaging_notifications: driver: messagingv2 test-config: $TEMPEST_CONFIG: service_available: heat: True heat_plugin: convergence_engine_enabled: true minimal_image_ref: ${DEFAULT_IMAGE_NAME:-cirros-0.3.6-x86_64-disk} instance_type: m1.heat_int minimal_instance_type: m1.heat_micro image_ref: Fedora-Cloud-Base-31-1.9.x86_64 hidden_stack_tag: hidden heat_config_notify_script: /opt/stack/heat-agents/heat-config/bin/heat-config-notify boot_config_env: /opt/stack/heat-templates/hot/software-config/boot-config/test_image_env.yaml credential_secret_id: $OS_CREDENTIAL_SECRET_ID heat_features_enabled: multi_cloud: True # disable cinder backup feature volume-feature-enabled: backup: False", name: grenade-heat parent: grenade- job: name: grenade-heat-multinode parent: grenade-heat nodeset: openstack-two-node-bionic - grenade-heat - grenade-heat,47,9
openstack%2Fcharm-ceph-mon~master~Ic1f468c96931a136ba897d4a02b8cd43dfdf056b,openstack/charm-ceph-mon,master,Ic1f468c96931a136ba897d4a02b8cd43dfdf056b,Add actions to reweight and remove OSDs.,MERGED,2020-10-12 02:45:27.000000000,2020-11-18 02:27:34.000000000,2020-11-18 02:27:34.000000000,"[{'_account_id': 8992}, {'_account_id': 10086}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 02:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d0933695f343e066c5a5bd7df577c8eddbc18d72', 'message': 'Add action to remove a single OSD\n\nAdds action change-osd-weight, to allow changing the weight of an OSD.\n\nAdds action purge-osd, to remove an OSD entirely from the crush map.\n\nChange-Id: Ic1f468c96931a136ba897d4a02b8cd43dfdf056b\nCloses-bug: #1761048\n'}, {'number': 2, 'created': '2020-10-12 02:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4ff26905658629a8d3b1a98fb6d9a22dcf720e62', 'message': 'Add action to remove a single OSD\n\nAdds action change-osd-weight, to allow changing the weight of an OSD.\n\nAdds action purge-osd, to remove an OSD entirely from the crush map.\n\nChange-Id: Ic1f468c96931a136ba897d4a02b8cd43dfdf056b\nCloses-bug: #1761048\n'}, {'number': 3, 'created': '2020-10-19 01:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1b2b9d174ca5f9c9ee7793b2e70181c3e272124e', 'message': 'Add action to remove a single OSD\n\nAdds action change-osd-weight, to allow changing the weight of an OSD.\n\nAdds action purge-osd, to remove an OSD entirely from the crush map.\n\nChange-Id: Ic1f468c96931a136ba897d4a02b8cd43dfdf056b\nCloses-bug: #1761048\n'}, {'number': 4, 'created': '2020-10-21 20:43:02.000000000', 'files': ['actions/change-osd-weight', 'actions/purge-osd', 'actions/change_osd_weight.py', 'unit_tests/test_action_change_osd_weight.py', 'actions/purge_osd.py', 'README.md', 'actions.yaml', 'unit_tests/test_action_purge_osd.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a5ef8d687d1b315138ab5c7076f268e78aab6d35', 'message': 'Add actions to reweight and remove OSDs.\n\nAdds action change-osd-weight, to allow changing the weight of an OSD.\n\nAdds action purge-osd, to remove an OSD entirely from the crush map.\n\nChange-Id: Ic1f468c96931a136ba897d4a02b8cd43dfdf056b\nCloses-bug: #1761048\n'}]",7,757370,a5ef8d687d1b315138ab5c7076f268e78aab6d35,19,6,4,10086,,,0,"Add actions to reweight and remove OSDs.

Adds action change-osd-weight, to allow changing the weight of an OSD.

Adds action purge-osd, to remove an OSD entirely from the crush map.

Change-Id: Ic1f468c96931a136ba897d4a02b8cd43dfdf056b
Closes-bug: #1761048
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/70/757370/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/change-osd-weight', 'actions/purge-osd', 'actions/change_osd_weight.py', 'unit_tests/test_action_change_osd_weight.py', 'actions/purge_osd.py', 'actions.yaml', 'unit_tests/test_action_purge_osd.py']",7,d0933695f343e066c5a5bd7df577c8eddbc18d72,bug/1761048,"# Copyright 2020 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Tests for purge_osd action."""""" from actions import purge_osd as action from mock import mock from test_utils import CharmTestCase class PurgeTestCase(CharmTestCase): """"""Run tests for action."""""" def setUp(self): """"""Init mocks for test cases."""""" super(PurgeTestCase, self).setUp( action, [""check_call"", ""function_get"", ""function_fail"", ""open""] ) @mock.patch(""actions.purge_osd.get_osd_weight"") @mock.patch(""actions.purge_osd.cmp_pkgrevno"") @mock.patch(""charmhelpers.contrib.storage.linux.ceph.get_osds"") def test_purge_osd(self, _get_osds, _cmp_pkgrevno, _get_osd_weight): """"""Test purge_osd action has correct calls."""""" _get_osds.return_value = [0, 1, 2, 3, 4, 5] _cmp_pkgrevno.return_value = 1 _get_osd_weight.return_value = 0 osd = 4 action.purge_osd(osd) cmds = [ mock.call([""ceph"", ""osd"", ""out"", ""osd.4""]), mock.call( [""ceph"", ""osd"", ""purge"", str(osd), ""--yes-i-really-mean-it""] ), ] self.check_call.assert_has_calls(cmds) @mock.patch(""actions.purge_osd.get_osd_weight"") @mock.patch(""actions.purge_osd.cmp_pkgrevno"") @mock.patch(""charmhelpers.contrib.storage.linux.ceph.get_osds"") def test_purge_invalid_osd( self, _get_osds, _cmp_pkgrevno, _get_osd_weight ): """"""Test purge_osd action captures bad OSD string."""""" _get_osds.return_value = [0, 1, 2, 3, 4, 5] _cmp_pkgrevno.return_value = 1 _get_osd_weight.return_value = 0 osd = 99 action.purge_osd(osd) self.function_fail.assert_called() @mock.patch(""actions.purge_osd.get_osd_weight"") @mock.patch(""actions.purge_osd.cmp_pkgrevno"") @mock.patch(""charmhelpers.contrib.storage.linux.ceph.get_osds"") def test_purge_osd_weight_high( self, _get_osds, _cmp_pkgrevno, _get_osd_weight ): """"""Test purge_osd action fails when OSD has weight >0."""""" _get_osds.return_value = [0, 1, 2, 3, 4, 5] _cmp_pkgrevno.return_value = 1 _get_osd_weight.return_value = 2.5 osd = ""4"" action.purge_osd(osd) self.function_fail.assert_called() ",,273,0
openstack%2Fswift~master~Icdbebb55e85763a7bd2a269753ced61a99e557be,openstack/swift,master,Icdbebb55e85763a7bd2a269753ced61a99e557be,py2: Suppress more CryptographyDeprecationWarnings,MERGED,2020-11-13 01:32:54.000000000,2020-11-18 02:22:30.000000000,2020-11-18 02:19:03.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 01:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc11a9b6b8cd369fddd3b9b51e9ce565545bbe2f', 'message': 'py2: Suppress more CryptographyDeprecationWarnings\n\nChange-Id: Icdbebb55e85763a7bd2a269753ced61a99e557be\n'}, {'number': 2, 'created': '2020-11-14 06:04:20.000000000', 'files': ['swift/__init__.py', 'test/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/104afe56face81fec79d25b1384566ded5353411', 'message': 'py2: Suppress more CryptographyDeprecationWarnings\n\nChange-Id: Icdbebb55e85763a7bd2a269753ced61a99e557be\n'}]",0,762601,104afe56face81fec79d25b1384566ded5353411,29,3,2,15343,,,0,"py2: Suppress more CryptographyDeprecationWarnings

Change-Id: Icdbebb55e85763a7bd2a269753ced61a99e557be
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/762601/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/__init__.py'],1,dc11a9b6b8cd369fddd3b9b51e9ce565545bbe2f,,"warnings.filterwarnings('ignore', module='cryptography|OpenSSL', message=(","warnings.filterwarnings('ignore', module='cryptography', message=(",1,1
openstack%2Fswift~master~I1dca3c3a51a83c9d5212ee5a0ad2ba1343c68cf9,openstack/swift,master,I1dca3c3a51a83c9d5212ee5a0ad2ba1343c68cf9,Use socket_timeout kwarg instead of useless eventlet.wsgi.WRITE_TIMEOUT,MERGED,2020-11-11 22:24:51.000000000,2020-11-18 02:21:12.000000000,2020-11-18 02:19:01.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-11 22:24:51.000000000', 'files': ['swift/obj/server.py', 'etc/proxy-server.conf-sample', 'test/functional/__init__.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/918ab8543ecf93c98e1cb49640b68e7a181f9a50', 'message': ""Use socket_timeout kwarg instead of useless eventlet.wsgi.WRITE_TIMEOUT\n\nNo version of eventlet that I'm aware of hasany sort of support for\neventlet.wsgi.WRITE_TIMEOUT; I don't know why we've been setting that.\nOn the other hand, the socket_timeout argument for eventlet.wsgi.Server\nhas been supported for a while -- since 0.14 in 2013.\n\nDrive-by: Fix up handling of sub-second client_timeouts.\n\nChange-Id: I1dca3c3a51a83c9d5212ee5a0ad2ba1343c68cf9\nRelated-Change: I1d4d028ac5e864084a9b7537b140229cb235c7a3\nRelated-Change: I433c97df99193ec31c863038b9b6fd20bb3705b8\n""}]",0,762436,918ab8543ecf93c98e1cb49640b68e7a181f9a50,33,3,1,15343,,,0,"Use socket_timeout kwarg instead of useless eventlet.wsgi.WRITE_TIMEOUT

No version of eventlet that I'm aware of hasany sort of support for
eventlet.wsgi.WRITE_TIMEOUT; I don't know why we've been setting that.
On the other hand, the socket_timeout argument for eventlet.wsgi.Server
has been supported for a while -- since 0.14 in 2013.

Drive-by: Fix up handling of sub-second client_timeouts.

Change-Id: I1dca3c3a51a83c9d5212ee5a0ad2ba1343c68cf9
Related-Change: I1d4d028ac5e864084a9b7537b140229cb235c7a3
Related-Change: I433c97df99193ec31c863038b9b6fd20bb3705b8
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/762436/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'etc/proxy-server.conf-sample', 'test/functional/__init__.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'etc/object-server.conf-sample']",6,918ab8543ecf93c98e1cb49640b68e7a181f9a50,,# client_timeout = 60.0,# client_timeout = 60,10,14
openstack%2Fneutron~master~I688d1e83ba07b444290f35c78e4a06e1edaac428,openstack/neutron,master,I688d1e83ba07b444290f35c78e4a06e1edaac428,Fix local neutron folder path in ovn/sparse/Vagrantfile,MERGED,2020-11-03 16:02:45.000000000,2020-11-18 01:58:13.000000000,2020-11-18 01:56:36.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-03 16:02:45.000000000', 'files': ['vagrant/ovn/sparse/.gitignore', 'vagrant/ovn/sparse/Vagrantfile'], 'web_link': 'https://opendev.org/openstack/neutron/commit/70ef01c12fa2aca9cfe9c46861afe529634a9ff2', 'message': 'Fix local neutron folder path in ovn/sparse/Vagrantfile\n\nChange-Id: I688d1e83ba07b444290f35c78e4a06e1edaac428\n'}]",1,761187,70ef01c12fa2aca9cfe9c46861afe529634a9ff2,12,8,1,27329,,,0,"Fix local neutron folder path in ovn/sparse/Vagrantfile

Change-Id: I688d1e83ba07b444290f35c78e4a06e1edaac428
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/761187/1 && git format-patch -1 --stdout FETCH_HEAD,"['vagrant/ovn/sparse/.gitignore', 'vagrant/ovn/sparse/Vagrantfile']",2,70ef01c12fa2aca9cfe9c46861afe529634a9ff2,ovn-vagrant-sparse," config.vm.synced_folder File.expand_path(""../../..""), ""/home/vagrant/neutron"""," config.vm.synced_folder File.expand_path(""../..""), ""/home/vagrant/neutron""",2,1
openstack%2Fneutron~stable%2Frocky~I2f476bc66b83232e7d40dad33c230be35897eddd,openstack/neutron,stable/rocky,I2f476bc66b83232e7d40dad33c230be35897eddd,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""",MERGED,2020-11-17 14:34:03.000000000,2020-11-18 01:56:25.000000000,2020-11-18 01:56:25.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-17 14:34:03.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0507fd0e1160493cc5410c044a8cf0eb97be1a9', 'message': 'Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""\n\nThis reverts commit 64a0916d2b97700c8f0401ab284684569deebe78.\n\nChange-Id: I2f476bc66b83232e7d40dad33c230be35897eddd\nCloses-Bug: #1903531\n'}]",0,763025,b0507fd0e1160493cc5410c044a8cf0eb97be1a9,8,6,1,11975,,,0,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""

This reverts commit 64a0916d2b97700c8f0401ab284684569deebe78.

Change-Id: I2f476bc66b83232e7d40dad33c230be35897eddd
Closes-Bug: #1903531
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/763025/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py']",12,b0507fd0e1160493cc5410c044a8cf0eb97be1a9,bug/1867119-stable/train-stable/stein-stable/rocky, for ip in addresses:," for ip, _mac in addresses:",42,94
openstack%2Fmanila~master~Idbed4745104de26af99bb16e07c6890637dfcfd1,openstack/manila,master,Idbed4745104de26af99bb16e07c6890637dfcfd1,[NetApp] Fix hard-coded CA cert path for SSL,MERGED,2020-10-17 05:59:12.000000000,2020-11-18 01:43:41.000000000,2020-11-18 01:42:08.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-10-17 05:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/71dae69de0ad4af909e73d41361aa6c492eed3e0', 'message': ""[NetApp] Fix hard-coded CA cert path for SSL\n\nNetApp driver is hard-coding the location of CA certificates for SSL\nverification during HTTPS requests. This location may change depending\non the environment or/and backend.\n\nThis patch adds the `netapp_ssl_cert_path` configuration, enabling\neach backend to choose the directory with certificates of trusted CA\nor the CA bundle. If set to a directory, it must have been processed\nusing the c_rehash utility supplied with OpenSSL. If not informed,\nit will use the Mozilla's carefully curated collection of Root\nCertificates for validating the trustworthiness of SSL certificates.\n\nCloses-Bug: #1900191\nChange-Id: Idbed4745104de26af99bb16e07c6890637dfcfd1\n""}, {'number': 2, 'created': '2020-11-16 19:05:00.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/data_motion.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_data_motion.py', 'manila/share/drivers/netapp/dataontap/client/client_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'releasenotes/notes/1900191-netapp-fix-ssl-cert-path-option-35354c9b7a9c37e6.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/70f7859f986a48e53b117a3e16a11cb5454f74e3', 'message': ""[NetApp] Fix hard-coded CA cert path for SSL\n\nNetApp driver is hard-coding the location of CA certificates for SSL\nverification during HTTPS requests. This location may change depending\non the environment or/and backend.\n\nThis patch adds the `netapp_ssl_cert_path` configuration, enabling\neach backend to choose the directory with certificates of trusted CA\nor the CA bundle. If set to a directory, it must have been processed\nusing the c_rehash utility supplied with OpenSSL. If not informed,\nit will use the Mozilla's carefully curated collection of Root\nCertificates for validating the trustworthiness of SSL certificates.\n\nCloses-Bug: #1900191\nChange-Id: Idbed4745104de26af99bb16e07c6890637dfcfd1\n""}]",3,758641,70f7859f986a48e53b117a3e16a11cb5454f74e3,38,10,2,31721,,,0,"[NetApp] Fix hard-coded CA cert path for SSL

NetApp driver is hard-coding the location of CA certificates for SSL
verification during HTTPS requests. This location may change depending
on the environment or/and backend.

This patch adds the `netapp_ssl_cert_path` configuration, enabling
each backend to choose the directory with certificates of trusted CA
or the CA bundle. If set to a directory, it must have been processed
using the c_rehash utility supplied with OpenSSL. If not informed,
it will use the Mozilla's carefully curated collection of Root
Certificates for validating the trustworthiness of SSL certificates.

Closes-Bug: #1900191
Change-Id: Idbed4745104de26af99bb16e07c6890637dfcfd1
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/758641/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/data_motion.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_data_motion.py', 'manila/share/drivers/netapp/dataontap/client/client_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py', 'releasenotes/notes/1900191-netapp-fix-ssl-cert-path-option-35354c9b7a9c37e6.yaml']",9,71dae69de0ad4af909e73d41361aa6c492eed3e0,bug/1900191,"--- fixes: - | Fixed an issue on ONTAP NetApp driver that was forcing the location of CA certificates for SSL verification during HTTPS requests. It adds the `netapp_ssl_cert_path` configuration, enabling the user to choose the directory with certificates of trusted CA or the CA bundle. If set to a directory, it must have been processed using the c_rehash utility supplied with OpenSSL. If not informed, it will use the Mozilla's carefully curated collection of Root Certificates for validating the trustworthiness of SSL certificates. Please refer to the `Launchpad bug #1900191 <https://bugs.launchpad.net/manila/+bug/1900191>`_ for more details. ",,41,6
openstack%2Fmanila~stable%2Fvictoria~I3c1a2ec19d6bc18638db0875519ce60f2c89f33a,openstack/manila,stable/victoria,I3c1a2ec19d6bc18638db0875519ce60f2c89f33a,Retry unmount operation on the LVM driver,MERGED,2020-11-17 17:57:57.000000000,2020-11-18 01:40:46.000000000,2020-11-18 01:39:07.000000000,"[{'_account_id': 9003}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-17 17:57:57.000000000', 'files': ['releasenotes/notes/bug-1903773-fix-lvmdriver-share-unmounting-after-migration-75640e3c9dc62dba.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/bd19642dfd69af3c63dd4d3711d25c353eed4ab6', 'message': 'Retry unmount operation on the LVM driver\n\nWhen a share is mounted on the same host as the manila-share\nprocess, the kernel prevents us from destroying the\nmount directory until the share has been cleanly unmounted\nfrom the host. Kernel mounts can take a few seconds to get\nunmounted fully especially when there are a lot of\nlinux namespaces that the mountpoint has been shared to.\n\nAdd a retry on these operations to harden the deletion\nprocess and prevent spurious failures.\n\nChange-Id: I3c1a2ec19d6bc18638db0875519ce60f2c89f33a\nCloses-Bug: #1903773\nRelated-Bug: #1896672\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 8a691d8631b9fdb18996566e0706e05776fa0ec4)\n'}]",0,763061,bd19642dfd69af3c63dd4d3711d25c353eed4ab6,12,6,1,16643,,,0,"Retry unmount operation on the LVM driver

When a share is mounted on the same host as the manila-share
process, the kernel prevents us from destroying the
mount directory until the share has been cleanly unmounted
from the host. Kernel mounts can take a few seconds to get
unmounted fully especially when there are a lot of
linux namespaces that the mountpoint has been shared to.

Add a retry on these operations to harden the deletion
process and prevent spurious failures.

Change-Id: I3c1a2ec19d6bc18638db0875519ce60f2c89f33a
Closes-Bug: #1903773
Related-Bug: #1896672
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 8a691d8631b9fdb18996566e0706e05776fa0ec4)
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/763061/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1903773-fix-lvmdriver-share-unmounting-after-migration-75640e3c9dc62dba.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",3,bd19642dfd69af3c63dd4d3711d25c353eed4ab6,bug/1903773,"from manila.share import utils as share_utils from manila import utils self._unmount_device(share, raise_if_missing=False, retry_busy_device=True) def _unmount_device(self, share_or_snapshot, raise_if_missing=True, retry_busy_device=False): retries = 10 if retry_busy_device else 1 @utils.retry(exception.ShareBusyException, retries=retries) def _unmount_device_with_retry(): try: self._execute('umount', '-f', mount_path, run_as_root=True) except exception.ProcessExecutionError as exc: if 'is busy' in exc.stderr.lower(): raise exception.ShareBusyException( reason=share_or_snapshot['name']) elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) raise else: LOG.error('Unable to umount: %s', exc) _unmount_device_with_retry() snapshot_access_rules, __, __ = share_utils.change_rules_to_readonly( access_rules, add_rules, delete_rules = ( share_utils.change_rules_to_readonly( access_rules, add_rules, delete_rules) ) 'db_version': share_utils.get_recent_db_migration_id(),","from manila.share import utils self._unmount_device(share, raise_if_missing=False) def _unmount_device(self, share_or_snapshot, raise_if_missing=True): # umount, may be busy try: self._execute('umount', '-f', mount_path, run_as_root=True) except exception.ProcessExecutionError as exc: if 'device is busy' in exc.stderr.lower(): raise exception.ShareBusyException( reason=share_or_snapshot['name']) elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) else: LOG.error('Unable to umount: %s', exc) raise snapshot_access_rules, __, __ = utils.change_rules_to_readonly( access_rules, add_rules, delete_rules = utils.change_rules_to_readonly( access_rules, add_rules, delete_rules) 'db_version': utils.get_recent_db_migration_id(),",57,27
openstack%2Fneutron~stable%2Fqueens~Ida8a8848813f06dff7a8d98bb0264534dde37573,openstack/neutron,stable/queens,Ida8a8848813f06dff7a8d98bb0264534dde37573,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""",MERGED,2020-11-17 14:34:08.000000000,2020-11-18 01:39:27.000000000,2020-11-18 01:39:27.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-17 14:34:08.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f6bf5b4321fabf0a7770a75064aa17118d240c1', 'message': 'Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""\n\nThis reverts commit bd6203b2c7e1e4af63813b307bc4ec1b49516bd5.\n\nChange-Id: Ida8a8848813f06dff7a8d98bb0264534dde37573\nCloses-Bug: #1903531\n'}]",0,763026,2f6bf5b4321fabf0a7770a75064aa17118d240c1,8,6,1,11975,,,0,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""

This reverts commit bd6203b2c7e1e4af63813b307bc4ec1b49516bd5.

Change-Id: Ida8a8848813f06dff7a8d98bb0264534dde37573
Closes-Bug: #1903531
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/763026/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py']",12,2f6bf5b4321fabf0a7770a75064aa17118d240c1,bug/1867119, for ip in addresses:," for ip, _mac in addresses:",42,94
openstack%2Fheat~master~I15b5f1463dadef750ff9e24fe510b06958eba188,openstack/heat,master,I15b5f1463dadef750ff9e24fe510b06958eba188,S2007837: Fixes domain_id parameter in the user find call,MERGED,2020-06-19 15:57:41.000000000,2020-11-18 01:36:07.000000000,2020-11-17 16:51:44.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 30515}]","[{'number': 1, 'created': '2020-06-19 15:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/131a0ee4dd81ddfe04d79b8a4b71f9148c7feb9f', 'message': 'S2007837: Fixes domain_id parameter in the user find call\n\nKeystone database has domain stored in domain_id column\nFind function call does not use domain_id since the parameter\nwas passed as domain instead of domain_id. This change fixes\nthe incorrect parameter name.\n\nChange-Id: I15b5f1463dadef750ff9e24fe510b06958eba188\n'}, {'number': 2, 'created': '2020-06-19 17:25:33.000000000', 'files': ['heat/tests/clients/test_keystone_client.py', 'heat/engine/clients/os/keystone/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e79e76dadecf904dddab801790c9e008a46b68fa', 'message': 'S2007837: Fixes domain_id parameter in the user find call\n\nKeystone database has domain stored in domain_id column\nFind function call does not use domain_id since the parameter\nwas passed as domain instead of domain_id. This change fixes\nthe incorrect parameter name.\n\nStory: 2007837\nTask: 40124\n\nChange-Id: I15b5f1463dadef750ff9e24fe510b06958eba188\n'}]",2,737040,e79e76dadecf904dddab801790c9e008a46b68fa,14,5,2,30515,,,0,"S2007837: Fixes domain_id parameter in the user find call

Keystone database has domain stored in domain_id column
Find function call does not use domain_id since the parameter
was passed as domain instead of domain_id. This change fixes
the incorrect parameter name.

Story: 2007837
Task: 40124

Change-Id: I15b5f1463dadef750ff9e24fe510b06958eba188
",git fetch https://review.opendev.org/openstack/heat refs/changes/40/737040/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/clients/test_keystone_client.py', 'heat/engine/clients/os/keystone/__init__.py']",2,131a0ee4dd81ddfe04d79b8a4b71f9148c7feb9f,S2007837, domain_id=domain), domain=domain),4,4
openstack%2Fironic-inspector~stable%2Fvictoria~I7405420ad441428dc82360d84b75e03921031482,openstack/ironic-inspector,stable/victoria,I7405420ad441428dc82360d84b75e03921031482,Power off before inspection,MERGED,2020-11-13 13:15:45.000000000,2020-11-18 01:30:39.000000000,2020-11-18 00:20:45.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-13 13:15:45.000000000', 'files': ['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/conf/default.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/371c79f3a5037f62c03478d51cf875da09cb0ec4', 'message': 'Power off before inspection\n\nPower off nodes before inspection as failed previous\ninspection attempts may cause re-inspection attempts\nto fail.\n\nChange-Id: I7405420ad441428dc82360d84b75e03921031482\nStory: 2008107\nTask: 40820\n(cherry picked from commit 34b264ef080272fead07af32c81b5c82b65b2839)\n'}]",0,762651,371c79f3a5037f62c03478d51cf875da09cb0ec4,9,4,1,23851,,,0,"Power off before inspection

Power off nodes before inspection as failed previous
inspection attempts may cause re-inspection attempts
to fail.

Change-Id: I7405420ad441428dc82360d84b75e03921031482
Story: 2008107
Task: 40820
(cherry picked from commit 34b264ef080272fead07af32c81b5c82b65b2839)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/51/762651/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py']",6,371c79f3a5037f62c03478d51cf875da09cb0ec4,," def _wait_for_power_state(node, state, ironic): timeout = CONF.power_timeout for count in openstack.utils.iterate_timeout( timeout, ""Timed out waiting for node %(node)s to reach power "" ""state %(state)s."" % {'node': node, 'state': state}): latest_node = ironic.get_node(node) if latest_node.power_state == state: return def set_power_state(node, state, ironic=None, wait=True): if ironic is None: ironic = get_client() try: ironic.set_node_power_state(node, state) if wait: _wait_for_power_state(node, state, ironic) except os_exc.SDKException as exc: raise utils.Error( 'Failed to set power state for node %(node)s ' 'Error: %(error)s' % {'node': node, 'error': exc})",,107,3
openstack%2Fkeystone~stable%2Ftrain~Id80b17bdff015e10340e636102576b7435bd564f,openstack/keystone,stable/train,Id80b17bdff015e10340e636102576b7435bd564f,Properly handle octet (byte) strings when converting LDAP responses,MERGED,2020-08-25 13:09:47.000000000,2020-11-18 01:24:01.000000000,2020-11-18 01:21:59.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd69020dfae518614a7f1cd9700ae21b5c040ef6', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nConflicts:\n    keystone/identity/backends/ldap/common.py due to python2 and 3\n    compatability with six.\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n""}, {'number': 2, 'created': '2020-08-27 15:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fe54a86e2b6989258649bb37063a4449bcf13e87', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nConflicts:\n    keystone/identity/backends/ldap/common.py due to python2 and 3\n    compatability with six.\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n""}, {'number': 3, 'created': '2020-09-02 16:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07df6b6c23491b3d49e646d09881bf62fd379567', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nConflicts:\n      keystone/identity/backends/ldap/common.py\n      Due to python3 string detection differences between ussuri and\n      train.\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n(cherry picked from commit d5870f69c12c034dd97b164345e85e6259ee7abe)\n""}, {'number': 4, 'created': '2020-09-09 18:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2f93673379995897e209feb6f94592b4746f39b9', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nConflicts:\n      keystone/identity/backends/ldap/common.py\n      Due to python3 string detection differences between ussuri and\n      train.\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n(cherry picked from commit d5870f69c12c034dd97b164345e85e6259ee7abe)\n""}, {'number': 5, 'created': '2020-11-03 22:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dc4496d0b808f1ad2e9fa9e028138c2e9381bbb3', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nConflicts:\n      keystone/identity/backends/ldap/common.py\n      Due to python3 string detection differences between ussuri and\n      train.\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n(cherry picked from commit d5870f69c12c034dd97b164345e85e6259ee7abe)\n""}, {'number': 6, 'created': '2020-11-11 16:43:27.000000000', 'files': ['keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1889936-78d6853b5212b8f1.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9beb3a58011596af5c704e3930a0f01d67f5c845', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nConflicts:\n      keystone/identity/backends/ldap/common.py\n      Due to python3 string detection differences between ussuri and\n      train.\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n(cherry picked from commit d5870f69c12c034dd97b164345e85e6259ee7abe)\n""}]",4,747927,9beb3a58011596af5c704e3930a0f01d67f5c845,63,8,6,5046,,,0,"Properly handle octet (byte) strings when converting LDAP responses

If LDAP returns a UUID as an octet string the LDAP driver will fail to
convert it to something meaningful. The error usually looks something
like:

  ID attribute objectGUID not found in LDAP object

Microsoft AD's `objectGUID` parameter is stored and transmitted as an
octet string [0]. If you attempt to use the `objectGUID` to generate
user or group IDs, you'll get an HTTP 404 because keystone can't decode
it properly. This is unfortunate because `objectGUID` are a fixed
length, UUID format, and ideal for generating IDs in keystone. As
opposed to using the object's CN, which is variable length, and can
generate hashes that are larger than keystone's database table limit for
user IDs.

[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid

Conflicts:
      keystone/identity/backends/ldap/common.py
      Due to python3 string detection differences between ussuri and
      train.

Change-Id: Id80b17bdff015e10340e636102576b7435bd564f
Closes-Bug: 1889936
(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)
(cherry picked from commit d5870f69c12c034dd97b164345e85e6259ee7abe)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/27/747927/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1889936-78d6853b5212b8f1.yaml']",3,dd69020dfae518614a7f1cd9700ae21b5c040ef6,,"--- fixes: - | [`bug 1889936 <https://bugs.launchpad.net/keystone/+bug/1889936>`_] Properly decode octet strings, or byte arrays, returned from LDAP. ",,30,1
openstack%2Fpython-openstackclient~master~I9093cc1197a0287984d83e2020fba100d0c958b3,openstack/python-openstackclient,master,I9093cc1197a0287984d83e2020fba100d0c958b3,trivial: Document removal of support for agents,MERGED,2020-11-16 11:16:47.000000000,2020-11-18 01:23:25.000000000,2020-11-18 01:22:02.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-16 11:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2cdcfee1e03a940a3f2a31fc11a2ade79eba6cfb', 'message': ""trivial: Document removal of support for agents\n\nWe can't remove these commands for a long time, given OSC's intention to\nsupport multiple releases of OpenStack, but we can at least indicate to\nusers that this thing might not work anymore.\n\nChange-Id: I9093cc1197a0287984d83e2020fba100d0c958b3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-17 11:44:31.000000000', 'files': ['openstackclient/compute/v2/agent.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a5101a413983c868c8dd865c6db42b5d87456d0e', 'message': ""trivial: Document removal of support for agents\n\nWe can't remove these commands for a long time, given OSC's intention to\nsupport multiple releases of OpenStack, but we can at least indicate to\nusers that this thing might not work anymore.\n\nChange-Id: I9093cc1197a0287984d83e2020fba100d0c958b3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,762825,a5101a413983c868c8dd865c6db42b5d87456d0e,13,3,2,15334,,,0,"trivial: Document removal of support for agents

We can't remove these commands for a long time, given OSC's intention to
support multiple releases of OpenStack, but we can at least indicate to
users that this thing might not work anymore.

Change-Id: I9093cc1197a0287984d83e2020fba100d0c958b3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/25/762825/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/agent.py'],1,2cdcfee1e03a940a3f2a31fc11a2ade79eba6cfb,remove-xenapi," """"""Create compute agent. The compute agent functionality is hypervisor specific and is only supported by the XenAPI hypervisor driver. It was removed from nova in the 23.0.0 (Wallaby) release. """""" """"""Delete compute agent(s). The compute agent functionality is hypervisor specific and is only supported by the XenAPI hypervisor driver. It was removed from nova in the 23.0.0 (Wallaby) release. """""" """"""List compute agents. The compute agent functionality is hypervisor specific and is only supported by the XenAPI hypervisor driver. It was removed from nova in the 23.0.0 (Wallaby) release. """""" """"""Set compute agent properties. The compute agent functionality is hypervisor specific and is only supported by the XenAPI hypervisor driver. It was removed from nova in the 23.0.0 (Wallaby) release. """""""," _description = _(""Create compute agent"") _description = _(""Delete compute agent(s)"") _description = _(""List compute agents"") _description = _(""Set compute agent properties"")",24,4
openstack%2Fopenstacksdk~master~I21f19d4d904e181c172391d481b5c312ec592fc8,openstack/openstacksdk,master,I21f19d4d904e181c172391d481b5c312ec592fc8,Remove duplicate test_zone_create,MERGED,2020-11-17 17:59:46.000000000,2020-11-18 01:23:20.000000000,2020-11-18 01:22:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 17:59:46.000000000', 'files': ['openstack/tests/unit/dns/v2/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/06bcfd8e0c16ec26b240ce255d1835db766e04bd', 'message': 'Remove duplicate test_zone_create\n\nLooks like a C&P mistake\n\nChange-Id: I21f19d4d904e181c172391d481b5c312ec592fc8\n'}]",0,763062,06bcfd8e0c16ec26b240ce255d1835db766e04bd,7,2,1,14369,,,0,"Remove duplicate test_zone_create

Looks like a C&P mistake

Change-Id: I21f19d4d904e181c172391d481b5c312ec592fc8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/62/763062/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/dns/v2/test_proxy.py'],1,06bcfd8e0c16ec26b240ce255d1835db766e04bd,dns/ptr_unit_test,," def test_zone_create(self): self.verify_create(self.proxy.create_zone, zone.Zone, method_kwargs={'name': 'id'}, expected_kwargs={'name': 'id', 'prepend_key': False}) ",0,6
openstack%2Fgrenade~stable%2Fussuri~I8f976041e98502de4770ece8cb7f04a928e8f3d9,openstack/grenade,stable/ussuri,I8f976041e98502de4770ece8cb7f04a928e8f3d9,Remove the trove-grenade job,MERGED,2020-09-01 17:04:44.000000000,2020-11-18 01:02:36.000000000,2020-11-18 00:58:27.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-01 17:04:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/f2c4fe2ba92c9bebdd63b1fcc12096ff8c1192a8', 'message': 'Remove the trove-grenade job\n\nThe job is only executed by the grenade experimental queue, but:\n\n- it is not run for changes in the trove respository (from\n  I49bd6c824b837d22d9f3945a3e8c2343c831b352) and when it was,\n  it was experimental anyway;\n- more important: trove has no grenade plugin,\n  so the test is probably not relevant;\n- as a side effect, this will allow us to remove\n  that legacy job completely, as a trove grenade\n  plugin may not arrive soon.\n\nChange-Id: I8f976041e98502de4770ece8cb7f04a928e8f3d9\n(cherry picked from commit a267f2d381916d73eaed6ff3a57ec14bb85e60fc)\n'}]",0,749364,f2c4fe2ba92c9bebdd63b1fcc12096ff8c1192a8,12,4,1,10459,,,0,"Remove the trove-grenade job

The job is only executed by the grenade experimental queue, but:

- it is not run for changes in the trove respository (from
  I49bd6c824b837d22d9f3945a3e8c2343c831b352) and when it was,
  it was experimental anyway;
- more important: trove has no grenade plugin,
  so the test is probably not relevant;
- as a side effect, this will allow us to remove
  that legacy job completely, as a trove grenade
  plugin may not arrive soon.

Change-Id: I8f976041e98502de4770ece8cb7f04a928e8f3d9
(cherry picked from commit a267f2d381916d73eaed6ff3a57ec14bb85e60fc)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/64/749364/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2c4fe2ba92c9bebdd63b1fcc12096ff8c1192a8,native-zuulv3-migration,, - trove-grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,0,4
openstack%2Fopenstack-helm-images~master~Ia81a05d714877c44bfa5c16877f032530bfdb5b8,openstack/openstack-helm-images,master,Ia81a05d714877c44bfa5c16877f032530bfdb5b8,[Update] Nagios: Update the Docker file,MERGED,2020-11-17 13:26:20.000000000,2020-11-18 00:57:13.000000000,2020-11-18 00:52:57.000000000,"[{'_account_id': 8863}, {'_account_id': 18538}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 27499}, {'_account_id': 30582}, {'_account_id': 31026}]","[{'number': 1, 'created': '2020-11-17 13:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/836dc8329a285252438bf4fff296c0b5935befac', 'message': '[Update] Nagios: Update the Docker file\n\nThe urllib is updated to install without a hardcoded version since\nthe 1.23 version has some medium security cve\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 2, 'created': '2020-11-17 15:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8a7e2d8d8ad24e9df1ca784d6948451057ffe88a', 'message': '[Update] Nagios: Update the Docker file\n\nThe urllib is updated to latest version\nsince the 1.23 version has some medium security cve\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 3, 'created': '2020-11-17 16:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0307188eb517fb04e140dcac2524d7f751865ad', 'message': '[Update] Nagios: Update the Docker file\n\nThe docker file is since the 1.23 version has some medium security cve\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 4, 'created': '2020-11-17 16:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/25639f68aba9a6aafa6cc440e20fe76dc6ee2a8d', 'message': '[Update] Nagios: Update the Docker file\n\nThe docker file is since the 1.23 version has some medium security cve\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 5, 'created': '2020-11-17 17:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9713d975b59b536cba5e2d1e160c722d58018ca8', 'message': '[Update] Nagios: Update the Docker file\n\nThe urllib3 was hardcoded to 1.23 version since it was required by the requests library.\nBut the 1.23 has some medium security cve.\nUpdating to install latest.\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 6, 'created': '2020-11-17 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ad337e9a90abf7911a2234a4d3fc05c0b9403278', 'message': '[Update] Nagios: Update the Docker file\n\nThe urllib3 was hardcoded to 1.23 version since it was required by the requests library.\nBut the 1.23 has some medium security cve.\nUpdating to install latest.\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 7, 'created': '2020-11-17 21:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a5147944e6ab302f4bda6e792d4c87f02b7cd099', 'message': '[Update] Nagios: Update the Docker file\n\nThe urllib3 was hardcoded to 1.23 version since it was required by the requests library.\nBut the 1.23 has some medium security cve.\nUpdating to install latest.\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}, {'number': 8, 'created': '2020-11-17 21:15:34.000000000', 'files': ['nagios/Dockerfile.ubuntu_xenial', 'nagios/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5f5351f6720e67abe918c907ef4e9a09c9d6d7c8', 'message': '[Update] Nagios: Update the Docker file\n\nThe urllib3 was hardcoded to 1.23 version since requests library only worked with 1.23.\nThe request library is updated to support the latest urllib3.\nAnd the 1.23 has some medium security cve.\nUpdating the Nagios image to install latest.\n\nChange-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8\n'}]",2,763008,5f5351f6720e67abe918c907ef4e9a09c9d6d7c8,27,7,8,30582,,,0,"[Update] Nagios: Update the Docker file

The urllib3 was hardcoded to 1.23 version since requests library only worked with 1.23.
The request library is updated to support the latest urllib3.
And the 1.23 has some medium security cve.
Updating the Nagios image to install latest.

Change-Id: Ia81a05d714877c44bfa5c16877f032530bfdb5b8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/08/763008/5 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/Dockerfile.ubuntu_xenial', 'nagios/Dockerfile.ubuntu_bionic']",2,836dc8329a285252438bf4fff296c0b5935befac,, && pip3 --no-cache-dir install urllib3, && pip3 --no-cache-dir install urllib3==1.23,2,2
openstack%2Ftripleo-common~stable%2Fussuri~I28628100e1300e789114af420bf3ea0dfe9c0d70,openstack/tripleo-common,stable/ussuri,I28628100e1300e789114af420bf3ea0dfe9c0d70,Ensure tripleo ansible inventory file update is atomic,MERGED,2020-08-10 11:41:15.000000000,2020-11-18 00:57:13.000000000,2020-08-11 04:32:04.000000000,"[{'_account_id': 3153}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-10 11:41:15.000000000', 'files': ['tripleo_common/inventories.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62f4084537b38fa80cde1196a73a2c9b9494a510', 'message': 'Ensure tripleo ansible inventory file update is atomic\n\nMultiple python-tripleoclient commands can run concurrently\nand all attempt to update the same inventory file in\n~/tripleo-ansible-inventory.yaml. Make the update atomic to\nensure the inventory file is always complete/valid.\n\nChange-Id: I28628100e1300e789114af420bf3ea0dfe9c0d70\n(cherry picked from commit 8e082f45ddfb8f29bd02feb1c9fd1ace4e9ec6dd)\n'}]",2,745516,62f4084537b38fa80cde1196a73a2c9b9494a510,13,7,1,11090,,,0,"Ensure tripleo ansible inventory file update is atomic

Multiple python-tripleoclient commands can run concurrently
and all attempt to update the same inventory file in
~/tripleo-ansible-inventory.yaml. Make the update atomic to
ensure the inventory file is always complete/valid.

Change-Id: I28628100e1300e789114af420bf3ea0dfe9c0d70
(cherry picked from commit 8e082f45ddfb8f29bd02feb1c9fd1ace4e9ec6dd)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/745516/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventories.py', 'tripleo_common/inventory.py']",2,62f4084537b38fa80cde1196a73a2c9b9494a510,,"import os # Atomic update as concurrent tripleoclient commands can call this with tempfile.NamedTemporaryFile('w', delete=False) as inventory_file: os.rename(inventory_file.name, inventory_file_path)","import os.path with open(inventory_file_path, 'w') as inventory_file:",9,4
openstack%2Ftripleo-common~master~I28628100e1300e789114af420bf3ea0dfe9c0d70,openstack/tripleo-common,master,I28628100e1300e789114af420bf3ea0dfe9c0d70,Ensure tripleo ansible inventory file update is atomic,MERGED,2020-08-07 15:20:08.000000000,2020-11-18 00:56:19.000000000,2020-08-07 23:49:01.000000000,"[{'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 15:20:08.000000000', 'files': ['tripleo_common/inventories.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8e082f45ddfb8f29bd02feb1c9fd1ace4e9ec6dd', 'message': 'Ensure tripleo ansible inventory file update is atomic\n\nMultiple python-tripleoclient commands can run concurrently\nand all attempt to update the same inventory file in\n~/tripleo-ansible-inventory.yaml. Make the update atomic to\nensure the inventory file is always complete/valid.\n\nChange-Id: I28628100e1300e789114af420bf3ea0dfe9c0d70\n'}]",2,745358,8e082f45ddfb8f29bd02feb1c9fd1ace4e9ec6dd,14,5,1,23811,,,0,"Ensure tripleo ansible inventory file update is atomic

Multiple python-tripleoclient commands can run concurrently
and all attempt to update the same inventory file in
~/tripleo-ansible-inventory.yaml. Make the update atomic to
ensure the inventory file is always complete/valid.

Change-Id: I28628100e1300e789114af420bf3ea0dfe9c0d70
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/58/745358/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventories.py', 'tripleo_common/inventory.py']",2,8e082f45ddfb8f29bd02feb1c9fd1ace4e9ec6dd,,"import os # Atomic update as concurrent tripleoclient commands can call this with tempfile.NamedTemporaryFile('w', delete=False) as inventory_file: os.rename(inventory_file.name, inventory_file_path)","import os.path with open(inventory_file_path, 'w') as inventory_file:",9,4
openstack%2Fswift~master~I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921,openstack/swift,master,I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921,Add a new URL parameter to allow for async cleanup of SLO segments,MERGED,2020-06-02 23:19:36.000000000,2020-11-18 00:52:21.000000000,2020-11-18 00:50:54.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-02 23:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/17f7aea46239c97a9fdc5fe7a58c5bc1e6bf94a3', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and they are\nall plain-old-swift-objects, that way we only have two auth checks to\nmake.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 2, 'created': '2020-06-05 05:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/32dbc7c1c55f5ce4323f93373f0dfe36a0fdca2c', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and they are\nall plain-old-swift-objects, that way we only have two auth checks to\nmake.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 3, 'created': '2020-06-05 15:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b92ef95794d98898c6e4006a409af9b5a6951b8d', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and they are\nall plain-old-swift-objects, that way we only have two auth checks to\nmake.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 4, 'created': '2020-06-06 04:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc18bf2b53ac984410477eec98f163ab2033de07', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and they are\nall plain-old-swift-objects, that way we only have two auth checks to\nmake.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 5, 'created': '2020-09-16 15:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/16b633eab48fe56ad02653508f4910ba13ff0d27', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and they are\nall plain-old-swift-objects, that way we only have two auth checks to\nmake.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 6, 'created': '2020-09-17 20:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e18cb01e02f7196e9e3314fd02e03c9138c8f501', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 7, 'created': '2020-09-17 22:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b091c3b5b61f755c38880c1b1db0439504936c59', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 8, 'created': '2020-09-23 20:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e21a2127a94141d83e32060e2e22783aec2f6e3', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 9, 'created': '2020-09-24 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/66b6b2376f0c909e7971953230baee38b760e657', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 10, 'created': '2020-09-24 22:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/493e7465fffe8ae33a3bdd108cec241b65bcd886', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api use this new mode if the data seems to have been uploaded via\nS3 (since it should be safe to assume that the above criteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 11, 'created': '2020-09-29 21:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/049c5c2be5434725d3c2362c81e7ef5f42fb7b2f', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api try to use this new mode if the data seems to have been\nuploaded via S3 (since it should be safe to assume that the above\ncriteria are met).\n\nAdd a new config option to SLO, allow_async_delete, to give operators an\nescape hatch in case their expirer queues get out of hand.\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 12, 'created': '2020-10-08 19:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a7e429d2f1b21ab8d18d7faa97893dc0a6731471', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nOnly allow this if all segments are in the same container and none are\nnested SLOs, that way we only have two auth checks to make.\n\nHave s3api try to use this new mode if the data seems to have been\nuploaded via S3 (since it should be safe to assume that the above\ncriteria are met).\n\nAdd a new config option to SLO, allow_async_delete, to give operators an\nescape hatch in case their expirer queues get out of hand.\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 13, 'created': '2020-10-14 23:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6495dfa12c99017f8868907cb1ed87e05748e0fb', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nAdd a new config option to SLO, allow_async_delete, to allow operators\nto opt-in to this new behavior. If their expirer queues get out of hand,\nthey can always turn it back off.\n\nIf the option is disabled, handle the delete inline; this matches the\nbehavior of old Swift.\n\nOnly allow an async delete if all segments are in the same container and\nnone are nested SLOs, that way we only have two auth checks to make.\n\nHave s3api try to use this new mode if the data seems to have been\nuploaded via S3 (since it should be safe to assume that the above\ncriteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 14, 'created': '2020-10-14 23:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e93787c1ce17e00bd9bc1d406c90a9107766189d', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nAdd a new config option to SLO, allow_async_delete, to allow operators\nto opt-in to this new behavior. If their expirer queues get out of hand,\nthey can always turn it back off.\n\nIf the option is disabled, handle the delete inline; this matches the\nbehavior of old Swift.\n\nOnly allow an async delete if all segments are in the same container and\nnone are nested SLOs, that way we only have two auth checks to make.\n\nHave s3api try to use this new mode if the data seems to have been\nuploaded via S3 (since it should be safe to assume that the above\ncriteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 15, 'created': '2020-11-10 00:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d870936ba381cbcd69d519cf5b2c6d3ed41a0d46', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nAdd a new config option to SLO, allow_async_delete, to allow operators\nto opt-in to this new behavior. If their expirer queues get out of hand,\nthey can always turn it back off.\n\nIf the option is disabled, handle the delete inline; this matches the\nbehavior of old Swift.\n\nOnly allow an async delete if all segments are in the same container and\nnone are nested SLOs, that way we only have two auth checks to make.\n\nHave s3api try to use this new mode if the data seems to have been\nuploaded via S3 (since it should be safe to assume that the above\ncriteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}, {'number': 16, 'created': '2020-11-10 18:22:05.000000000', 'files': ['test/unit/cli/test_container_deleter.py', 'doc/saio/swift/proxy-server.conf', 'test/unit/common/middleware/s3api/test_obj.py', 'swift/cli/container_deleter.py', 'swift/obj/expirer.py', 'test/unit/obj/test_expirer.py', 'swift/common/utils.py', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/helpers.py', 'test/unit/common/test_utils.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e78377624ab7d34d2fedc06e907dcb9899d89b4a', 'message': 'Add a new URL parameter to allow for async cleanup of SLO segments\n\nAdd a new config option to SLO, allow_async_delete, to allow operators\nto opt-in to this new behavior. If their expirer queues get out of hand,\nthey can always turn it back off.\n\nIf the option is disabled, handle the delete inline; this matches the\nbehavior of old Swift.\n\nOnly allow an async delete if all segments are in the same container and\nnone are nested SLOs, that way we only have two auth checks to make.\n\nHave s3api try to use this new mode if the data seems to have been\nuploaded via S3 (since it should be safe to assume that the above\ncriteria are met).\n\nDrive-by: Allow the expirer queue and swift-container-deleter to use\nhigh-precision timestamps.\n\nChange-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921\n'}]",57,733026,e78377624ab7d34d2fedc06e907dcb9899d89b4a,78,5,16,15343,,,0,"Add a new URL parameter to allow for async cleanup of SLO segments

Add a new config option to SLO, allow_async_delete, to allow operators
to opt-in to this new behavior. If their expirer queues get out of hand,
they can always turn it back off.

If the option is disabled, handle the delete inline; this matches the
behavior of old Swift.

Only allow an async delete if all segments are in the same container and
none are nested SLOs, that way we only have two auth checks to make.

Have s3api try to use this new mode if the data seems to have been
uploaded via S3 (since it should be safe to assume that the above
criteria are met).

Drive-by: Allow the expirer queue and swift-container-deleter to use
high-precision timestamps.

Change-Id: I0bbe1ccd06776ef3e23438b40d8fb9a7c2de8921
",git fetch https://review.opendev.org/openstack/swift refs/changes/26/733026/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'swift/common/middleware/s3api/s3request.py']",2,17f7aea46239c97a9fdc5fe7a58c5bc1e6bf94a3,slo-async-delete," if not resp.is_slo: return {} elif resp.sysmeta_headers.get(sysmeta_header('object', 'etag')): return {'multipart-manifest': 'delete', 'async': 'on'} else: return {'multipart-manifest': 'delete'}", return {'multipart-manifest': 'delete'} if resp.is_slo else {},92,2
openstack%2Fpuppet-openstack-integration~master~If0c763a2d13470e394b127ec8ccf2e65211fc41e,openstack/puppet-openstack-integration,master,If0c763a2d13470e394b127ec8ccf2e65211fc41e,Use Ceph Naitulus for Ubuntu,MERGED,2020-10-28 15:54:14.000000000,2020-11-18 00:50:24.000000000,2020-11-17 23:32:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-28 15:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e9f13232fb31a9037b1225dfee7330e847a03198', 'message': 'Use Ceph naitulus for Ubuntu\n\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n'}, {'number': 2, 'created': '2020-10-29 14:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eaca742dc93b71f3bf2d6a03f2bb94a0bcd97f0c', 'message': 'Use Ceph naitulus for Ubuntu\n\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n'}, {'number': 3, 'created': '2020-11-03 07:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/39f080ccfb2733463d55c97bfd0b7177565d02ac', 'message': 'Use Ceph naitulus for Ubuntu\n\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n'}, {'number': 4, 'created': '2020-11-03 07:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b8fbfc357ee4f8450778b35d27154aebe930841d', 'message': 'Use Ceph Naitulus for Ubuntu\n\nMimmic already reached eol when Octopus was released, so we should use\nthe supported version instead.\n\nRelated-Bug: 1902670\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n'}, {'number': 5, 'created': '2020-11-16 13:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/115a0e32748fbb44ff697bbada4b8b8f23babd95', 'message': 'Use Ceph Naitulus for Ubuntu\n\nMimmic already reached eol when Octopus was released, so we should use\nthe supported version instead.\n\nRelated-Bug: 1902670\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n'}, {'number': 6, 'created': '2020-11-16 13:12:35.000000000', 'files': ['run_tests.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f4d7fff8a29ae3e14644ee766e449c0219865d73', 'message': 'Use Ceph Naitulus for Ubuntu\n\nMimmic already reached eol when Octopus was released, so we should use\nthe supported version instead.\n\nRelated-Bug: 1902670\nChange-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e\n'}]",0,760173,f4d7fff8a29ae3e14644ee766e449c0219865d73,22,4,6,9816,,,0,"Use Ceph Naitulus for Ubuntu

Mimmic already reached eol when Octopus was released, so we should use
the supported version instead.

Related-Bug: 1902670
Change-Id: If0c763a2d13470e394b127ec8ccf2e65211fc41e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/760173/5 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml']",3,e9f13232fb31a9037b1225dfee7330e847a03198,ceph-version, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic-mimic,10,26
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I7a29b4b90a70c052a4aba690653541643b909fcd,openstack/puppet-openstack_spec_helper,stable/train,I7a29b4b90a70c052a4aba690653541643b909fcd,Pin beaker-hiera to 0.1.1,MERGED,2020-11-17 15:49:37.000000000,2020-11-18 00:49:03.000000000,2020-11-17 23:02:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7973}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 15:49:37.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/30465d33207dcfb568a2be67b8c849ae7a6699b3', 'message': 'Pin beaker-hiera to 0.1.1\n\n0.2.0 is failing in ci\n\n2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant\nBeaker::DSL::Hiera\n\nChange-Id: I7a29b4b90a70c052a4aba690653541643b909fcd\n'}]",0,763039,30465d33207dcfb568a2be67b8c849ae7a6699b3,11,5,1,14985,,,0,"Pin beaker-hiera to 0.1.1

0.2.0 is failing in ci

2020-11-16 14:00:37.087662 | centos-7 |   uninitialized constant
Beaker::DSL::Hiera

Change-Id: I7a29b4b90a70c052a4aba690653541643b909fcd
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/39/763039/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,30465d33207dcfb568a2be67b8c849ae7a6699b3,," # Pin breaker-hiera since 0.2.0 fails with the rest of our stuff. spec.add_dependency 'beaker-hiera', ['= 0.1.1']",,2,0
openstack%2Fcharm-keystone~master~Id0ff3bd6db7c05816a8985da0ac85336af1fd0e9,openstack/charm-keystone,master,Id0ff3bd6db7c05816a8985da0ac85336af1fd0e9,Redo Interfaces section,MERGED,2020-11-16 23:58:03.000000000,2020-11-18 00:30:55.000000000,2020-11-18 00:30:55.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 23:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a3c7a1265a8a6c1a79060758fad6561eb3a0cd93', 'message': 'Redo application endpoints section\n\nChange-Id: Id0ff3bd6db7c05816a8985da0ac85336af1fd0e9\n'}, {'number': 2, 'created': '2020-11-17 03:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/1a0df210880ab01179a2e8b41dca3d42c2784173', 'message': 'Redo Interfaces section\n\nChange-Id: Id0ff3bd6db7c05816a8985da0ac85336af1fd0e9\n'}, {'number': 3, 'created': '2020-11-18 00:04:16.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/01be292d1d9bf7f25740746895ec256aa91c5e8d', 'message': 'Redo Interfaces section\n\nChange-Id: Id0ff3bd6db7c05816a8985da0ac85336af1fd0e9\n'}]",12,762931,01be292d1d9bf7f25740746895ec256aa91c5e8d,14,3,3,30561,,,0,"Redo Interfaces section

Change-Id: Id0ff3bd6db7c05816a8985da0ac85336af1fd0e9
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/31/762931/3 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a3c7a1265a8a6c1a79060758fad6561eb3a0cd93,general-cleanup-of-readme,"## Application endpoints The charm supports the following application endpoints and are primarily of use to developers: * `identity-admin`: Used by charms to obtain the credentials for the admin user. This is intended for charms that automatically provision users, tenants, etc. or that otherwise automate using the OpenStack cluster deployment. * `identity-credentials`: Used by charms to obtain Keystone credentials without creating a service catalogue entry. Set 'username' only on the relation and Keystone will set defaults and return authentication details. Possible relation settings: * `username`: Username to be created. * `project`: Project (tenant) name to be created. Defaults to service's project. * `requested_roles`: Comma-delimited list of roles to be created. * `requested_grants`: Comma-delimited list of roles to be granted. Defaults to Admin role. * `domain`: Keystone v3 domain the user will be created in. Defaults to the Default domain. * `identity-notifications`: Used to broadcast messages to services listening on the corresponding interface. * `identity-service`: Used by API endpoints to request an entry in the Keystone service catalogue and the endpoint template catalogue. > **Note**: The `identity-service` endpoint is not used by Horizon (see `keystone-service` instead). When a relation is established Keystone receives the following data from the requesting API endpoint: * `service_name` * `region` * `public_url` * `admin_url` * `internal_url` Keystone verifies that the requested service is supported (the list of supported services should remain updated). The following will occur for a supported service: 1. an entry in the service catalogue is created 1. an endpoint template is created 1. an admin token is generated. The API endpoint receives the token and is informed of the ports that Keystone is listening on. * `keystone-service`: Used only by Horizon. Horizon requests its configured default role and Keystone responds with a token. Horizon also receives the authentication and admin ports on which Keystone is listening. * `nrpe-external-master`: Used to generate Nagios checks. ","The following interfaces are provided: - nrpe-external-master: Used to generate Nagios checks. - identity-service: OpenStack API endpoints request an entry in the Keystone service catalog + endpoint template catalog. When a relation is established, Keystone receives: `service_name`, `region`, `public_url`, `admin_url` and `internal_url`. It first checks that the requested service is listed as a supported service. This list should stay updated to support current OpenStack core services. If the service is supported, an entry in the service catalog is created, an endpoint template is created and an admin token is generated. The other end of the relation receives the token as well as info on which ports Keystone is listening on. - keystone-service: This is currently only used by Horizon/dashboard as its interaction with Keystone is different from other OpenStack API services. That is, Horizon requests a Keystone role and token exists. During a relation, Horizon requests its configured default role and Keystone responds with a token and the auth + admin ports on which Keystone is listening. - identity-admin: Charms use this relation to obtain the credentials for the admin user. This is intended for charms that automatically provision users, tenants, etc. or that otherwise automate using the OpenStack cluster deployment. - identity-notifications: Used to broadcast messages to any services listening on the interface. - identity-credentials: Charms use this relation to obtain Keystone credentials without creating a service catalog entry. Set 'username' only on the relation and Keystone will set defaults and return authentication details. Possible relation settings: - `username` Username to be created. - `project` Project (tenant) name to be created. Defaults to services project. - `requested_roles` Comma delimited list of roles to be created. - `requested_grants` Comma delimited list of roles to be granted. Defaults to Admin role. - `domain` Keystone v3 domain the user will be created in. Defaults to the Default domain. ",59,42
openstack%2Fironic~master~I93a63c898a54926edd93b1978e86d0bdb33fe55e,openstack/ironic,master,I93a63c898a54926edd93b1978e86d0bdb33fe55e,Minor follow-up doc change,MERGED,2020-11-17 16:57:47.000000000,2020-11-18 00:25:11.000000000,2020-11-18 00:21:00.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 16:57:47.000000000', 'files': ['doc/source/admin/upgrade-to-hardware-types.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9df407845f9b3842049e4fb37dcdeedc28ef4d49', 'message': 'Minor follow-up doc change\n\nI7cd08a37071ce330b4c254595d0745ca154ced2b only got some of the\n$uuid instances. I thought I was just getting one, but there were\nseveral. *shrugs*\n\nChange-Id: I93a63c898a54926edd93b1978e86d0bdb33fe55e\n'}]",0,763045,9df407845f9b3842049e4fb37dcdeedc28ef4d49,9,4,1,11655,,,0,"Minor follow-up doc change

I7cd08a37071ce330b4c254595d0745ca154ced2b only got some of the
$uuid instances. I thought I was just getting one, but there were
several. *shrugs*

Change-Id: I93a63c898a54926edd93b1978e86d0bdb33fe55e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/763045/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrade-to-hardware-types.rst'],1,9df407845f9b3842049e4fb37dcdeedc28ef4d49,openstack-ironic-task-40964-v6, baremetal node set <node> --driver ipmi --deploy-interface direct baremetal node set <node> --inspect-interface inspector baremetal node set <node> --console-interface ipmitool-shellinabox baremetal node set <node> --raid-interface agent, baremetal node set $uuid --driver ipmi --deploy-interface direct baremetal node set $uuid --inspect-interface inspector baremetal node set $uuid --console-interface ipmitool-shellinabox baremetal node set $uuid --raid-interface agent,4,4
openstack%2Fironic~master~I7cd08a37071ce330b4c254595d0745ca154ced2b,openstack/ironic,master,I7cd08a37071ce330b4c254595d0745ca154ced2b,Update .rst files,MERGED,2020-10-22 09:51:38.000000000,2020-11-18 00:23:44.000000000,2020-11-18 00:20:52.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 32522}]","[{'number': 1, 'created': '2020-10-22 09:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/639a5893201ea9961e444a1f42cc1eb230d26af6', 'message': 'Update .rst files\n\nThis commit follows up the observations in review 756708, updates\n`$node_ident` and `$uuid` to <node>.\n\nStory: 2008194\nTask: 40964\n\nChange-Id\n\nChange-Id: I7cd08a37071ce330b4c254595d0745ca154ced2b\n'}, {'number': 2, 'created': '2020-10-22 09:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a366b8311c4ea4786b4b89e8437b9ea0b410eaf3', 'message': 'Update .rst files\n\nThis commit follows up the observations in review 756708, updates\n`$node_ident` and `$uuid` to <node>.\n\nStory: 2008194\nTask: 40964\n\nChange-Id: I7cd08a37071ce330b4c254595d0745ca154ced2b\n'}, {'number': 3, 'created': '2020-11-07 04:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8e92c957eea330cc0a3c4e748d6dfa5edee46f2', 'message': 'Update .rst files\n\nThis commit follows up the observations in review 756708, updates\n`$node_ident`, `$uuid` & `${node_uuid}` to <node>.\n\nStory: 2008194\nTask: 40964\n\nChange-Id: I7cd08a37071ce330b4c254595d0745ca154ced2b\n'}, {'number': 4, 'created': '2020-11-16 07:27:38.000000000', 'files': ['doc/source/admin/upgrade-to-hardware-types.rst', 'doc/source/install/configure-nova-flavors.rst', 'doc/source/admin/drivers/idrac.rst', 'doc/source/admin/node-deployment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/20886329e7f212af10de4a9f1247bd04781644e0', 'message': 'Update .rst files\n\nThis commit follows up the observations in review 756708, updates\n`$node_ident`, `$uuid` & `${node_uuid}` to <node>.\n\nStory: 2008194\nTask: 40964\n\nChange-Id: I7cd08a37071ce330b4c254595d0745ca154ced2b\n'}]",7,759236,20886329e7f212af10de4a9f1247bd04781644e0,23,6,4,32522,,,0,"Update .rst files

This commit follows up the observations in review 756708, updates
`$node_ident`, `$uuid` & `${node_uuid}` to <node>.

Story: 2008194
Task: 40964

Change-Id: I7cd08a37071ce330b4c254595d0745ca154ced2b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/759236/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'doc/source/admin/upgrade-to-hardware-types.rst', 'doc/source/install/configure-nova-flavors.rst', 'doc/source/admin/drivers/idrac.rst', 'doc/source/admin/node-deployment.rst']",5,639a5893201ea9961e444a1f42cc1eb230d26af6,openstack-ironic-task-40964-v6, baremetal node show <node> -f value -c driver_internal_infoto the node represented by ``<node>``: baremetal node add trait <node> CUSTOM_HYPERTHREADING_ON baremetal node add trait <node> CUSTOM_HYPERTHREADING_OFF, baremetal node show $node_ident -f value -c driver_internal_infoto the node represented by ``$node_ident``: baremetal node add trait $node_ident CUSTOM_HYPERTHREADING_ON baremetal node add trait $node_ident CUSTOM_HYPERTHREADING_OFF,10,10
openstack%2Fpython-tripleoclient~stable%2Ftrain~I5a5d942c87af1f97ebc9ff9bc7be7919af564b46,openstack/python-tripleoclient,stable/train,I5a5d942c87af1f97ebc9ff9bc7be7919af564b46,Add detection of package manager for undercloud upgrade,MERGED,2020-11-09 11:21:15.000000000,2020-11-18 00:23:01.000000000,2020-11-18 00:17:37.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-11-09 11:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3d4dba8f6ad7f7f2ad02be8f83b8d762257b2dc6', 'message': 'Use dnf when running upgrade on train\n\nClose-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}, {'number': 2, 'created': '2020-11-09 12:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/510292758451b66d344697e53d6872894d4d498e', 'message': 'Remove detection of package manager for undercloud upgrade\n\nIn [1] we added protection for yum not being available.\nWe should just default to dnf for anything newer than\nussuri.\n\n[1] https://github.com/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca\n\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n(cherry picked from commit 4a07e16a5883fc72613e63a95da02332f75226fa)\n'}, {'number': 3, 'created': '2020-11-09 13:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c25d4c4cede2774fbd09cdea39acd88f8814cc8', 'message': 'Add detection of package manager for undercloud upgrade\n\nIn [1] we removed protection for yum not being available.\nWe should get it back for train because it may still run on\ncentos-7 and have yum.\n\n[1] commit 4a07e16a5883fc72613e63a95da02332f75226fa\n\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}, {'number': 4, 'created': '2020-11-10 09:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f59057449072fa423dfaae136e3249a04ca858de', 'message': 'Add detection of package manager for undercloud upgrade\n\nIn [1] we removed protection for yum not being available.\nWe should get it back for train because it may still run on\ncentos-7 and have yum.\n\n2. Removed redundant jobs from layout to get the patch in.\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}, {'number': 5, 'created': '2020-11-10 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c02df3167adcaec6d18994ea60cbadf2945f20d', 'message': 'Add detection of package manager for undercloud upgrade\n\nIn [1] we removed protection for yum not being available.\nWe should get it back for train because it may still run on\ncentos-7 and have yum.\n[1] https://github.com/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca\n\n2. Removed redundant jobs from layout to get the patch in.\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}, {'number': 6, 'created': '2020-11-16 22:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/382b640c83b1d2840ff273bad4201843db1e2413', 'message': 'Add detection of package manager for undercloud upgrade\n\nIn [1] we removed protection for yum not being available.\nWe should get it back for train because it may still run on\ncentos-7 and have yum.\n[1] https://github.com/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca\n\n2. Removed redundant jobs from layout to get the patch in.\n\nAdding a depends-on to clear the image build failures.\n\nDepends-On: https://review.opendev.org/762926\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}, {'number': 7, 'created': '2020-11-17 01:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10535b9a51159bf3ad1fac730cce402db6357dd5', 'message': 'Add detection of package manager for undercloud upgrade\n\nIn [1] we removed protection for yum not being available.\nWe should get it back for train because it may still run on\ncentos-7 and have yum.\n[1] https://github.com/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca\n\n2. Removed redundant jobs from layout to get the patch in.\n\nAdding a depends-on to clear the image build failures.\n\nDepends-On: https://review.opendev.org/762935\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}, {'number': 8, 'created': '2020-11-17 01:40:43.000000000', 'files': ['tripleoclient/v1/undercloud.py', 'zuul.d/layout.yaml', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a5027a6a6ba258ef30da8eb0f8d21f37d6d0b4c', 'message': 'Add detection of package manager for undercloud upgrade\n\nIn [1] we removed protection for yum not being available.\nWe should get it back for train because it may still run on\ncentos-7 and have yum.\n[1] https://github.com/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca\n\n2. Removed redundant jobs from layout to get the patch in.\n\nCloses-Bug: #1903498\nChange-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46\n'}]",5,761892,4a5027a6a6ba258ef30da8eb0f8d21f37d6d0b4c,67,11,8,10969,,,0,"Add detection of package manager for undercloud upgrade

In [1] we removed protection for yum not being available.
We should get it back for train because it may still run on
centos-7 and have yum.
[1] https://github.com/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca

2. Removed redundant jobs from layout to get the patch in.

Closes-Bug: #1903498
Change-Id: I5a5d942c87af1f97ebc9ff9bc7be7919af564b46
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/761892/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud.py'],1,3d4dba8f6ad7f7f2ad02be8f83b8d762257b2dc6,trainfix," cmd = ['sudo', 'dnf', 'upgrade', '-y'] + packages"," cmd = ['sudo', 'yum', 'upgrade', '-y'] + packages",1,1
openstack%2Fopenstack-helm-deployments~master~If3ebc039871dcb08ccec017973be4304f4644f85,openstack/openstack-helm-deployments,master,If3ebc039871dcb08ccec017973be4304f4644f85,DNM: rerunning gate,ABANDONED,2020-11-15 23:22:17.000000000,2020-11-18 00:04:18.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2020-11-15 23:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/e25612a165e638c6006f243372cd1a1f29acfd3d', 'message': 'DNM: rerunning gate\n\nChange-Id: If3ebc039871dcb08ccec017973be4304f4644f85\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-11-16 05:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/9616371d85c0dea1202e7b0988530df91bad9bbd', 'message': 'DNM: rerunning gate\n\nChange-Id: If3ebc039871dcb08ccec017973be4304f4644f85\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-11-16 15:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/528d66e9e649d5d66f383174d02f471963b5484f', 'message': 'DNM: rerunning gate\n\nChange-Id: If3ebc039871dcb08ccec017973be4304f4644f85\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-11-16 23:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/9f0f08cf8e3f06819d187589e7419e0a4844eb55', 'message': 'DNM: rerunning gate\n\nChange-Id: If3ebc039871dcb08ccec017973be4304f4644f85\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-11-17 15:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/fbf3dd39fcf3c40859d22a3d4078713b17681d65', 'message': 'DNM: rerunning gate\n\nChange-Id: If3ebc039871dcb08ccec017973be4304f4644f85\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2020-11-17 19:55:55.000000000', 'files': ['playbooks/get-vm-config.yaml', 'manifests/site/test-site/phases/patch_phases.yaml', 'zuul.d/jobs.yaml', 'manifests/site/test-site/phases/kustomization.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/4c524d65b51bf9b653947562d2c2c88ff907024c', 'message': 'DNM: rerunning gate\n\nChange-Id: If3ebc039871dcb08ccec017973be4304f4644f85\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,762770,4c524d65b51bf9b653947562d2c2c88ff907024c,21,3,6,20466,,,0,"DNM: rerunning gate

Change-Id: If3ebc039871dcb08ccec017973be4304f4644f85
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/70/762770/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e25612a165e638c6006f243372cd1a1f29acfd3d,dnm/test,,,0,1
openstack%2Fcharm-deployment-guide~master~I481a822da914a5fabfe54d70460709edc315affe,openstack/charm-deployment-guide,master,I481a822da914a5fabfe54d70460709edc315affe,Begin refactor,MERGED,2020-11-17 20:43:10.000000000,2020-11-18 00:02:49.000000000,2020-11-18 00:01:29.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 20:43:10.000000000', 'files': ['deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/1', 'deploy-guide/source/index.rst', 'deploy-guide/source/install-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/179449df29b0b4daf3b5b6c3f031ede361459d33', 'message': ""Begin refactor\n\nUse content from the 'index.rst' file to create\n'install-overview.rst' for the new Installation\nsection.\n\nMinor rewording of the beginnings of a few files.\nRemove their Overview sections.\n\nRemove index file 'app.rst' used for appendices.\nDisplay appendices directly in the menu and give\nthem better visible menu names. Many of these will\neventually become parts of new sections in\nsubsequent PRs.\n\nRemove rogue file '1' that slipped in during Ceph\nerasure coding work.\n\nAdd '.html' extension to a few links.\n\nChange-Id: I481a822da914a5fabfe54d70460709edc315affe\n""}]",0,763083,179449df29b0b4daf3b5b6c3f031ede361459d33,7,2,1,30561,,,0,"Begin refactor

Use content from the 'index.rst' file to create
'install-overview.rst' for the new Installation
section.

Minor rewording of the beginnings of a few files.
Remove their Overview sections.

Remove index file 'app.rst' used for appendices.
Display appendices directly in the menu and give
them better visible menu names. Many of these will
eventually become parts of new sections in
subsequent PRs.

Remove rogue file '1' that slipped in during Ceph
erasure coding work.

Add '.html' extension to a few links.

Change-Id: I481a822da914a5fabfe54d70460709edc315affe
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/83/763083/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/1', 'deploy-guide/source/app.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/install-overview.rst']",8,179449df29b0b4daf3b5b6c3f031ede361459d33,cdg-reorg,"======== Overview ======== The purpose of the Installation section is to demonstrate how to build a multi-node OpenStack cloud with `MAAS`_, `Juju`_, and `OpenStack Charms`_. For easy adoption the cloud will be minimal. Nevertheless, it will be capable of both performing some real work and scaling to fit more ambitious projects. High availability will not be implemented beyond natively HA applications (Ceph, MySQL8, OVN, Swift, and RabbitMQ). The software versions used in this guide are as follows: * **Ubuntu 20.04 LTS (Focal)** for the MAAS server, Juju client, Juju controller, and all cloud nodes (including containers) * **MAAS 2.8.2** * **Juju 2.8.1** * **OpenStack Ussuri** Proceed to the :doc:`Install MAAS <install-maas>` page to begin your installation journey. Hardware requirements are also listed there. .. LINKS .. _MAAS: https://maas.io .. _Juju: https://juju.is .. _OpenStack Charms: https://docs.openstack.org/charm-guide ",,79,251
openstack%2Fcinder~master~Ida093a1ebf3395a73298cb087c28290229fbb92e,openstack/cinder,master,Ida093a1ebf3395a73298cb087c28290229fbb92e,Synology: Improve session expired error handling,MERGED,2019-10-30 07:52:51.000000000,2020-11-17 23:45:01.000000000,2020-11-17 23:42:55.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31216}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-10-30 07:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0491b075cadf575fed1725bd6e291fa573e63988', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause of error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 2, 'created': '2019-10-31 07:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/194a2d6afad27dd7bc25eab24575ba0d2fc4d8a3', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 3, 'created': '2019-11-01 08:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12c1018637314ce49b26946c4fd0306401bf55a1', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 4, 'created': '2019-11-15 10:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/322d003a09559580e63350041a1ed0cb81998dcc', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 5, 'created': '2019-11-18 01:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6696acecc432d6b8e4f2a9645679f88ea7a3f88d', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 6, 'created': '2019-11-18 05:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71da826afb9264e2bfefe156efe34535798fb560', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 7, 'created': '2019-11-18 09:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/792d8b1a254027c303805acc51e01343aa928e8f', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 8, 'created': '2020-05-29 10:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6329fa013ccfd97c7e504ec04caa230f7d82f27b', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 9, 'created': '2020-06-01 03:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2761ed7111db6df94a0f835452ec1b67ca50b4e9', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}, {'number': 10, 'created': '2020-06-08 02:16:44.000000000', 'files': ['cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e92a480bf6063aa7bf4a108b0915af84ba03a93', 'message': 'Synology: Improve session expired error handling\n\nSession may not reconnect when current session is expired\nbecause error handling only handles Error Code 105 (No Permission)\nbut 119 (SID Not Found) is needed as well.\n\nChange-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e\nCloses-Bug: #1850601\n'}]",5,692064,0e92a480bf6063aa7bf4a108b0915af84ba03a93,324,45,10,31216,,,0,"Synology: Improve session expired error handling

Session may not reconnect when current session is expired
because error handling only handles Error Code 105 (No Permission)
but 119 (SID Not Found) is needed as well.

Change-Id: Ida093a1ebf3395a73298cb087c28290229fbb92e
Closes-Bug: #1850601
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/692064/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/synology/synology_common.py'],1,0491b075cadf575fed1725bd6e291fa573e63988,bug/1850601," and result['error']['code'] in [105, 119]):", and result['error']['code'] == 105):,1,1
openstack%2Fpuppet-openstack-integration~stable%2Frocky~If7653b7991387116ff8a9a3ea3f038ec01a27985,openstack/puppet-openstack-integration,stable/rocky,If7653b7991387116ff8a9a3ea3f038ec01a27985,Ubuntu/Debian: Do not use mirror repository for mimic,MERGED,2020-11-16 13:07:54.000000000,2020-11-17 23:39:06.000000000,2020-11-17 23:39:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 13:07:54.000000000', 'files': ['configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3075f79acacabfdf176a48104f853d7fa2488832', 'message': 'Ubuntu/Debian: Do not use mirror repository for mimic\n\n... because mimic is no longer hosted in the mirror repository[1].\n\n[1] http://mirror.iad.rax.opendev.org/\n\nCloses-Bug: #1902670\nChange-Id: If7653b7991387116ff8a9a3ea3f038ec01a27985\n(cherry picked from commit 19a526e1bb48d999d55a9572626166f7971c0f40)\n(cherry picked from commit dccdecd4f021cae59bafb991e8214b0efa0f19e9)\n(cherry picked from commit 4584b0259aa35ed23d86c749a148f95012deabad)\n(cherry picked from commit d9227ff0372cc12197a046684a002b4c7a025d52)\n(cherry picked from commit 18fcc881555789d65efd1f9d7d978d4a79c8aec1)\n'}]",0,762832,3075f79acacabfdf176a48104f853d7fa2488832,10,4,1,9816,,,0,"Ubuntu/Debian: Do not use mirror repository for mimic

... because mimic is no longer hosted in the mirror repository[1].

[1] http://mirror.iad.rax.opendev.org/

Closes-Bug: #1902670
Change-Id: If7653b7991387116ff8a9a3ea3f038ec01a27985
(cherry picked from commit 19a526e1bb48d999d55a9572626166f7971c0f40)
(cherry picked from commit dccdecd4f021cae59bafb991e8214b0efa0f19e9)
(cherry picked from commit 4584b0259aa35ed23d86c749a148f95012deabad)
(cherry picked from commit d9227ff0372cc12197a046684a002b4c7a025d52)
(cherry picked from commit 18fcc881555789d65efd1f9d7d978d4a79c8aec1)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/32/762832/1 && git format-patch -1 --stdout FETCH_HEAD,['configure_facts.sh'],1,3075f79acacabfdf176a48104f853d7fa2488832,bug/1902670-stable/stein-stable/rocky," if [ ""$CEPH_VERSION"" == ""mimic"" ]; then CEPH_MIRROR_HOST=""http://download.ceph.com/debian-${CEPH_VERSION}"" else CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/ceph-deb-${CEPH_VERSION}"" fi"," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/ceph-deb-${CEPH_VERSION}""",5,1
openstack%2Fswift~master~I959adaabf7c16b62a51e8700a9292869c25fbe4e,openstack/swift,master,I959adaabf7c16b62a51e8700a9292869c25fbe4e,Have internal_client accept bytes on py3,NEW,2020-11-17 19:58:40.000000000,2020-11-17 23:25:52.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 19:58:40.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f38525b275018e9ce9d8a80b540cf44b0e538098', 'message': 'Have internal_client accept bytes on py3\n\nChange-Id: I959adaabf7c16b62a51e8700a9292869c25fbe4e\nDrive-by: Turn make_path into a static method.\n'}]",0,763080,f38525b275018e9ce9d8a80b540cf44b0e538098,3,2,1,15343,,,0,"Have internal_client accept bytes on py3

Change-Id: I959adaabf7c16b62a51e8700a9292869c25fbe4e
Drive-by: Turn make_path into a static method.
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/763080/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py']",2,f38525b275018e9ce9d8a80b540cf44b0e538098,," @staticmethod def make_path(account, container=None, obj=None): if six.PY3: if isinstance(account, bytes): account = account.decode('utf8', errors='surrogateescape') if isinstance(container, bytes): container = container.decode('utf8', errors='surrogateescape') if isinstance(obj, bytes): obj = obj.decode('utf8', errors='surrogateescape')"," def make_path(self, account, container=None, obj=None):",21,3
openstack%2Fcharm-openstack-dashboard~stable%2F20.10~I3e774e1ce98a9e77905bf49075c95ba478cb13c3,openstack/charm-openstack-dashboard,stable/20.10,I3e774e1ce98a9e77905bf49075c95ba478cb13c3,"Revert ""Update template to enable offline-compression""",MERGED,2020-11-17 22:17:41.000000000,2020-11-17 23:19:20.000000000,2020-11-17 23:19:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 22:17:41.000000000', 'files': ['templates/ocata/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a3ae0e2475236855cf08a8567d7437ef609903d8', 'message': 'Revert ""Update template to enable offline-compression""\n\nThis reverts commit 0fe556e389f4b7dcf68a5bbe1421c848cd78e6e1.\n\nCloses-Bug: 1903911\nRelated-Bug: 1902890\n\nChange-Id: I3e774e1ce98a9e77905bf49075c95ba478cb13c3\nSigned-off-by: Eric Desrochers <eric.desrochers@canonical.com>\n(cherry picked from commit 6ba0b72827115447de0f3060940d66b079f6d7da)\n'}]",0,763093,a3ae0e2475236855cf08a8567d7437ef609903d8,7,3,1,20944,,,0,"Revert ""Update template to enable offline-compression""

This reverts commit 0fe556e389f4b7dcf68a5bbe1421c848cd78e6e1.

Closes-Bug: 1903911
Related-Bug: 1902890

Change-Id: I3e774e1ce98a9e77905bf49075c95ba478cb13c3
Signed-off-by: Eric Desrochers <eric.desrochers@canonical.com>
(cherry picked from commit 6ba0b72827115447de0f3060940d66b079f6d7da)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/93/763093/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ocata/local_settings.py'],1,a3ae0e2475236855cf08a8567d7437ef609903d8,bug/1903911-stable/20.10,#COMPRESS_OFFLINE = True,COMPRESS_OFFLINE = True,1,1
openstack%2Fcinder~master~I57ec3e7e99c78535fa8051d011d970adb7fb89ab,openstack/cinder,master,I57ec3e7e99c78535fa8051d011d970adb7fb89ab,Replace md5 with oslo version,MERGED,2020-09-23 20:40:48.000000000,2020-11-17 23:08:45.000000000,2020-11-17 23:05:30.000000000,"[{'_account_id': 4523}, {'_account_id': 5046}, {'_account_id': 5997}, {'_account_id': 7973}, {'_account_id': 9008}, {'_account_id': 9914}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27954}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31661}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-09-23 20:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f48a800dbd81047e07a93d3c2649f4dfe179769', 'message': ""Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nReviewers need to pay particular attention as to whether the keyword\nparameter (usedforsecurity) is set correctly.  Almost all instances\nof md5 usage appear to be to refer to etags, to do checksums, or to\ngenerate uuids for paths.\n\nThe one instance I found that appears to be using md5 in a security\ncontext is in cinder/volume/drivers/synology/synology_common.py.\nIf this is really the case, then we'll need to consider how to\nreplace md5 in this usage.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nChange-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab\n""}, {'number': 2, 'created': '2020-10-05 20:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ea51f6de7a9cd496ca2bdc53f793e5ae15981f5', 'message': ""Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nReviewers need to pay particular attention as to whether the keyword\nparameter (usedforsecurity) is set correctly.  Almost all instances\nof md5 usage appear to be to refer to etags, to do checksums, or to\ngenerate uuids for paths.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nWith this patch (and the corresponding os-brick and oslo-versioned_object\ndependent changes) all the functional tests and alnmost all the unit tests\npass on a FIPS enabled system.\n\nIssues I found were as follows:\n\n- Cinder appears to be using md5 in a security context in\n  cinder/volume/drivers/synology/synology_common.py.  If this is really\n  the case, then we'll need to consider how to replace md5 in this usage.\n  This case did not appear to exercised in the unit or functional tests I ran.\n\n- Cinder appears to use md5 in a security context in\n  cinder/volume/drivers/stx/client.py, which resulted in the failed unit test\n  cinder.tests.unit.volume.drivers.test_seagate.TestSeagateClient.test_login\n  This was the only unit test that failed.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nChange-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab\nDepends-On: https://review.opendev.org/#/c/756151\nDepneds-On: https://review.opendev.org/756153\n""}, {'number': 3, 'created': '2020-10-29 20:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab60eef07c1160d0de1bcf93eef54a25f7653aad', 'message': ""Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nReviewers need to pay particular attention as to whether the keyword\nparameter (usedforsecurity) is set correctly.  Almost all instances\nof md5 usage appear to be to refer to etags, to do checksums, or to\ngenerate uuids for paths.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nWith this patch (and the corresponding os-brick and oslo-versioned_object\ndependent changes) all the functional tests and alnmost all the unit tests\npass on a FIPS enabled system.\n\nIssues I found were as follows:\n\n- Cinder appears to be using md5 in a security context in\n  cinder/volume/drivers/synology/synology_common.py.  If this is really\n  the case, then we'll need to consider how to replace md5 in this usage.\n  This case did not appear to exercised in the unit or functional tests I ran.\n\n- Cinder appears to use md5 in a security context in\n  cinder/volume/drivers/stx/client.py, which resulted in the failed unit test\n  cinder.tests.unit.volume.drivers.test_seagate.TestSeagateClient.test_login\n  This was the only unit test that failed.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nChange-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab\nDepends-On: https://review.opendev.org/#/c/756151\nDepneds-On: https://review.opendev.org/756153\nDepends-On: https://review.opendev.org/#/c/760160\n""}, {'number': 4, 'created': '2020-10-30 15:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51e4d09a745fe11c2dd8cdacdd15ca391d563547', 'message': ""Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nReviewers need to pay particular attention as to whether the keyword\nparameter (usedforsecurity) is set correctly.  Almost all instances\nof md5 usage appear to be to refer to etags, to do checksums, or to\ngenerate uuids for paths.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nWith this patch (and the corresponding os-brick and oslo-versioned_object\ndependent changes) all the functional tests and alnmost all the unit tests\npass on a FIPS enabled system.\n\nIssues I found were as follows:\n\n- Cinder appears to be using md5 in a security context in\n  cinder/volume/drivers/synology/synology_common.py.  If this is really\n  the case, then we'll need to consider how to replace md5 in this usage.\n  This case did not appear to exercised in the unit or functional tests I ran.\n\n- Cinder appears to use md5 in a security context in\n  cinder/volume/drivers/stx/client.py, which resulted in the failed unit test\n  cinder.tests.unit.volume.drivers.test_seagate.TestSeagateClient.test_login\n  This was the only unit test that failed.\n\nChange-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab\nDepends-On: https://review.opendev.org/#/c/756151\nDepneds-On: https://review.opendev.org/756153\nDepends-On: https://review.opendev.org/#/c/760160\n""}, {'number': 5, 'created': '2020-11-05 19:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1634b0d7f6cd0ef81055758828b9c433298cb0f', 'message': ""Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nReviewers need to pay particular attention as to whether the keyword\nparameter (usedforsecurity) is set correctly.  Almost all instances\nof md5 usage appear to be to refer to etags, to do checksums, or to\ngenerate uuids for paths.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nWith this patch (and the corresponding os-brick and oslo-versioned_object\ndependent changes) all the functional tests and alnmost all the unit tests\npass on a FIPS enabled system.\n\nIssues I found were as follows:\n\n- Cinder appears to be using md5 in a security context in\n  cinder/volume/drivers/synology/synology_common.py.  If this is really\n  the case, then we'll need to consider how to replace md5 in this usage.\n  This case did not appear to exercised in the unit or functional tests I ran.\n\n- Cinder appears to use md5 in a security context in\n  cinder/volume/drivers/stx/client.py, which resulted in the failed unit test\n  cinder.tests.unit.volume.drivers.test_seagate.TestSeagateClient.test_login\n  This was the only unit test that failed.\n\nChange-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab\nDepends-On: https://review.opendev.org/#/c/756151\n""}, {'number': 6, 'created': '2020-11-13 21:01:28.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/api/v3/volume_metadata.py', 'cinder/tests/unit/volume/drivers/veritas_access/test_veritas_iscsi.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_nfs.py', 'lower-constraints.txt', 'cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/fake_swift_client2.py', 'requirements.txt', 'cinder/volume/drivers/stx/client.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/remotefs.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb25e9550b4ab3241c5d05434cb790ad9dcebcec', 'message': ""Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nReviewers need to pay particular attention as to whether the keyword\nparameter (usedforsecurity) is set correctly.  Almost all instances\nof md5 usage appear to be to refer to etags, to do checksums, or to\ngenerate uuids for paths.\n\nI had hoped to update the bandit config to enable scanning for instances\nof md5 and bad algorithms, so that instances would not creep in in future,\nbut I couldn't find the bandit config.\n\nWith this patch (and the corresponding os-brick and oslo-versioned_object\ndependent changes) all the functional tests and alnmost all the unit tests\npass on a FIPS enabled system.\n\nIssues I found were as follows:\n\n- Cinder appears to be using md5 in a security context in\n  cinder/volume/drivers/synology/synology_common.py.  If this is really\n  the case, then we'll need to consider how to replace md5 in this usage.\n  This case did not appear to exercised in the unit or functional tests I ran.\n\n- Cinder appears to use md5 in a security context in\n  cinder/volume/drivers/stx/client.py, which resulted in the failed unit test\n  cinder.tests.unit.volume.drivers.test_seagate.TestSeagateClient.test_login\n  This was the only unit test that failed.\n\nChange-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab\nDepends-On: https://review.opendev.org/#/c/756151\n""}]",2,753848,bb25e9550b4ab3241c5d05434cb790ad9dcebcec,129,37,6,9914,,,0,"Replace md5 with oslo version

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

This patch is to replace the instances of hashlib.md5() with this new
encapsulation, adding an annotation indicating whether the usage is
a security context or not.

Reviewers need to pay particular attention as to whether the keyword
parameter (usedforsecurity) is set correctly.  Almost all instances
of md5 usage appear to be to refer to etags, to do checksums, or to
generate uuids for paths.

I had hoped to update the bandit config to enable scanning for instances
of md5 and bad algorithms, so that instances would not creep in in future,
but I couldn't find the bandit config.

With this patch (and the corresponding os-brick and oslo-versioned_object
dependent changes) all the functional tests and alnmost all the unit tests
pass on a FIPS enabled system.

Issues I found were as follows:

- Cinder appears to be using md5 in a security context in
  cinder/volume/drivers/synology/synology_common.py.  If this is really
  the case, then we'll need to consider how to replace md5 in this usage.
  This case did not appear to exercised in the unit or functional tests I ran.

- Cinder appears to use md5 in a security context in
  cinder/volume/drivers/stx/client.py, which resulted in the failed unit test
  cinder.tests.unit.volume.drivers.test_seagate.TestSeagateClient.test_login
  This was the only unit test that failed.

Change-Id: I57ec3e7e99c78535fa8051d011d970adb7fb89ab
Depends-On: https://review.opendev.org/#/c/756151
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/753848/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/api/v3/volume_metadata.py', 'cinder/tests/unit/volume/drivers/veritas_access/test_veritas_iscsi.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_nfs.py', 'cinder/tests/unit/backup/fake_swift_client2.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/remotefs.py', 'cinder/backup/chunkeddriver.py']",18,6f48a800dbd81047e07a93d3c2649f4dfe179769,replace_md5_for_fips,"from oslo_utils import secretutils md5 = eventlet.tpool.execute(secretutils.md5, data).hexdigest()"," md5 = eventlet.tpool.execute(hashlib.md5, data).hexdigest()",48,41
openstack%2Fneutron~stable%2Fvictoria~Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc,openstack/neutron,stable/victoria,Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc,Make test_agent_show only look for its own agents,MERGED,2020-10-23 09:56:32.000000000,2020-11-17 23:07:16.000000000,2020-11-17 23:05:23.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 09:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/948018d67df1850c862c791c84b6c78078cd91f8', 'message': ""Make test_agent_show only look for its own agents\n\nSince plugin agents are a global resource, relying just on the\n'type' field for test_agent_show may end up finding an agent that\nwe don't know about, and that agent could be deleted by another\ntest. This reworks test_agent_show to sepecifically look for its\nown OVN controller agent and test agent.\n\nThis also adds the 'id' field to the returned agent_status from\ncreate_or_update_agent() to make it possible to look for the agent\nthat was just created.\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc\nCloses-Bug: #1899004\n""}, {'number': 2, 'created': '2020-11-05 17:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58fff617341817a431736a578d6ac74f7ed9cbd6', 'message': ""Make test_agent_show only look for its own agents\n\nSince plugin agents are a global resource, relying just on the\n'type' field for test_agent_show may end up finding an agent that\nwe don't know about, and that agent could be deleted by another\ntest. This reworks test_agent_show to sepecifically look for its\nown OVN controller agent and test agent.\n\nThis also adds the 'id' field to the returned agent_status from\ncreate_or_update_agent() to make it possible to look for the agent\nthat was just created.\n\nChange-Id: Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc\nCloses-Bug: #1899004\n(cherry picked from commit df2c7baa23b814ccd118fb69d16427b2bf59cecc)\n""}, {'number': 3, 'created': '2020-11-13 16:53:11.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/baf54722e47e22d3f105d8d4adc248d28e14f531', 'message': ""Make test_agent_show only look for its own agents\n\nSince plugin agents are a global resource, relying just on the\n'type' field for test_agent_show may end up finding an agent that\nwe don't know about, and that agent could be deleted by another\ntest. This reworks test_agent_show to sepecifically look for its\nown OVN controller agent and test agent.\n\nThis also adds the 'id' field to the returned agent_status from\ncreate_or_update_agent() to make it possible to look for the agent\nthat was just created.\n\nChange-Id: Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc\nCloses-Bug: #1899004\n(cherry picked from commit df2c7baa23b814ccd118fb69d16427b2bf59cecc)\n""}]",2,759389,baf54722e47e22d3f105d8d4adc248d28e14f531,47,8,3,16688,,,0,"Make test_agent_show only look for its own agents

Since plugin agents are a global resource, relying just on the
'type' field for test_agent_show may end up finding an agent that
we don't know about, and that agent could be deleted by another
test. This reworks test_agent_show to sepecifically look for its
own OVN controller agent and test agent.

This also adds the 'id' field to the returned agent_status from
create_or_update_agent() to make it possible to look for the agent
that was just created.

Change-Id: Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc
Closes-Bug: #1899004
(cherry picked from commit df2c7baa23b814ccd118fb69d16427b2bf59cecc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/759389/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,948018d67df1850c862c791c84b6c78078cd91f8,bug/1899004," self.controller_agent = self.add_fake_chassis(self.host) _, status = self.plugin.create_or_update_agent(self.context, agent) self.test_agent = status['id'] mock.patch.object(self.mech_driver, 'ping_all_chassis', return_value=False).start() def test_agent_show_non_ovn(self): self.assertTrue(self.plugin.get_agent(self.context, self.test_agent)) def test_agent_show_ovn_controller(self): self.assertTrue(self.plugin.get_agent(self.context, self.controller_agent))"," self.add_fake_chassis(self.host) self.plugin.create_or_update_agent(self.context, agent) def get_agent(self, agent_type): return next(iter(self.plugin.get_agents( self.context, filters={'agent_type': agent_type}))) def test_agent_show(self): for agent_type in ('test', ovn_const.OVN_CONTROLLER_AGENT): agent = self.get_agent(agent_type) self.assertTrue(self.plugin.get_agent(self.context, agent['id']))",11,9
openstack%2Fswift~master~Ic014d0a9bc4f2092b3b762e2e8f2b2b6b118dc69,openstack/swift,master,Ic014d0a9bc4f2092b3b762e2e8f2b2b6b118dc69,Add test for replicated GET client disconnect,NEW,2020-11-17 19:01:05.000000000,2020-11-17 22:24:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-17 19:01:05.000000000', 'files': ['test/unit/proxy/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/34e2803d8502f1c1462ca02c5f39c6f984f79f3f', 'message': 'Add test for replicated GET client disconnect\n\nChange-Id: Ic014d0a9bc4f2092b3b762e2e8f2b2b6b118dc69\n'}]",0,763074,34e2803d8502f1c1462ca02c5f39c6f984f79f3f,2,1,1,7847,,,0,"Add test for replicated GET client disconnect

Change-Id: Ic014d0a9bc4f2092b3b762e2e8f2b2b6b118dc69
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/763074/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/test_server.py'],1,34e2803d8502f1c1462ca02c5f39c6f984f79f3f,p-test-repl-get-client-disconnect," @unpatch_policies def test_repl_get_client_disconnect(self): policy = POLICIES[0] prolis = _test_sockets[0] container_name = policy.name + '-discon' obj_name = container_name + '/test' # create connection sock = connect_tcp(('localhost', prolis.getsockname()[1])) fd = sock.makefile('rwb') # create container fd.write(('PUT /v1/a/%s HTTP/1.1\r\n' 'Host: localhost\r\n' 'Content-Length: 0\r\n' 'X-Storage-Token: t\r\n' 'X-Storage-Policy: %s\r\n' '\r\n' % (container_name, policy.name)).encode('ascii')) fd.flush() headers = readuntil2crlfs(fd) exp = b'HTTP/1.1 2' self.assertEqual(headers[:len(exp)], exp) # create object # the ec version of this test passes with an object of 256KiB but for # replicated policy the fails (i.e. proxy logs 200) with 256KiB # seemingly because the entire object is written out of proxy before # the client disconnect obj = b'a' * 512 * 2 ** 10 fd.write(('PUT /v1/a/%s HTTP/1.1\r\n' 'Host: localhost\r\n' 'Content-Length: %d\r\n' 'X-Storage-Token: t\r\n' 'Content-Type: donuts\r\n' '\r\n' % (obj_name, len(obj))).encode('ascii')) fd.write(obj) fd.flush() headers = readuntil2crlfs(fd) exp = b'HTTP/1.1 201' self.assertEqual(headers[:len(exp)], exp) class WrappedTimeout(utils.WatchdogTimeout): def __enter__(self): timeouts[self] = traceback.extract_stack() return super(WrappedTimeout, self).__enter__() def __exit__(self, typ, value, tb): timeouts[self] = None return super(WrappedTimeout, self).__exit__(typ, value, tb) timeouts = {} with mock.patch('swift.proxy.controllers.base.WatchdogTimeout', WrappedTimeout): with mock.patch.object(_test_servers[0], 'client_timeout', new=5): # get object fd.write(('GET /v1/a/%s HTTP/1.1\r\n' 'Host: localhost\r\n' 'Connection: close\r\n' 'X-Storage-Token: t\r\n' '\r\n' % obj_name).encode('ascii')) fd.flush() headers = readuntil2crlfs(fd) exp = b'HTTP/1.1 200' self.assertEqual(headers[:len(exp)], exp) # read most of the object, and disconnect fd.read(10) if six.PY2: sock.fd._sock.close() else: sock.fd._real_close() self._sleep_enough( lambda: _test_servers[0].logger.get_lines_for_level('warning')) # check for disconnect message! expected = [""Client disconnected on read of '/a/%s'"" % obj_name] self.assertEqual( _test_servers[0].logger.get_lines_for_level('warning'), expected) info_lines = _test_servers[0].logger.get_lines_for_level('info') self.assertIn(obj_name + ' HTTP/1.0 499', info_lines[-1]) # check that no coro was left waiting to write self.assertTrue(timeouts) # sanity - WrappedTimeout did get called missing_exits = [tb for tb in timeouts.values() if tb is not None] self.assertFalse( missing_exits, 'Failed to exit all ChunkWriteTimeouts.\n' + ''.join(['No exit from ChunkWriteTimeout entered at:\n' + ''.join(traceback.format_list(tb)[:-1]) for tb in missing_exits])) # and check that the ChunkWriteTimeouts did not raise Exceptions self.assertFalse(_test_servers[0].logger.get_lines_for_level('error')) def test_ec_get_client_disconnect(self): container_name = self.ec_policy.name + '-discon' obj_name = container_name + '/test' fd.write(('PUT /v1/a/%s HTTP/1.1\r\n' '\r\n' % (container_name, fd.write(('PUT /v1/a/%s HTTP/1.1\r\n' '\r\n' % (obj_name, len(obj))).encode('ascii')) fd.write(('GET /v1/a/%s HTTP/1.1\r\n' '\r\n' % obj_name).encode('ascii')) expected = [""Client disconnected on read of '/a/%s'"" % obj_name] * 2 info_lines = _test_servers[0].logger.get_lines_for_level('info') self.assertIn(obj_name + ' HTTP/1.0 499', info_lines[-1]) "," def test_ec_client_disconnect(self): fd.write(('PUT /v1/a/%s-discon HTTP/1.1\r\n' '\r\n' % (self.ec_policy.name, fd.write(('PUT /v1/a/%s-discon/test HTTP/1.1\r\n' '\r\n' % (self.ec_policy.name, len(obj))).encode('ascii')) fd.write(('GET /v1/a/%s-discon/test HTTP/1.1\r\n' '\r\n' % self.ec_policy.name).encode('ascii')) expected = [""Client disconnected on read of '/a/%s-discon/test'"" % self.ec_policy.name] * 2",111,9
openstack%2Fcharm-openstack-dashboard~stable%2F20.10~I7193dba6f4fe65fae0d7acdcf6b30c8ffc75a106,openstack/charm-openstack-dashboard,stable/20.10,I7193dba6f4fe65fae0d7acdcf6b30c8ffc75a106,"Revert ""Update template to enable offline-compression""",ABANDONED,2020-11-16 14:52:56.000000000,2020-11-17 22:18:21.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20944}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-16 14:52:56.000000000', 'files': ['templates/ocata/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5e19f0ebf0ca44ec44502b963d6aa820ab12471d', 'message': 'Revert ""Update template to enable offline-compression""\n\nThis reverts commit 0fe556e389f4b7dcf68a5bbe1421c848cd78e6e1.\n\nCloses-Bug: 1903911\nRelated-Bug: 1902890\n\nChange-Id: I7193dba6f4fe65fae0d7acdcf6b30c8ffc75a106\nSigned-off-by: Eric Desrochers <eric.desrochers@canonical.com>\n'}]",0,762854,5e19f0ebf0ca44ec44502b963d6aa820ab12471d,9,5,1,20944,,,0,"Revert ""Update template to enable offline-compression""

This reverts commit 0fe556e389f4b7dcf68a5bbe1421c848cd78e6e1.

Closes-Bug: 1903911
Related-Bug: 1902890

Change-Id: I7193dba6f4fe65fae0d7acdcf6b30c8ffc75a106
Signed-off-by: Eric Desrochers <eric.desrochers@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/54/762854/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ocata/local_settings.py'],1,5e19f0ebf0ca44ec44502b963d6aa820ab12471d,bug/1903911,#COMPRESS_OFFLINE = True,COMPRESS_OFFLINE = True,1,1
openstack%2Fcharm-openstack-dashboard~master~I3e774e1ce98a9e77905bf49075c95ba478cb13c3,openstack/charm-openstack-dashboard,master,I3e774e1ce98a9e77905bf49075c95ba478cb13c3,"Revert ""Update template to enable offline-compression""",MERGED,2020-11-13 16:38:59.000000000,2020-11-17 22:17:41.000000000,2020-11-16 14:13:19.000000000,"[{'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 16:38:59.000000000', 'files': ['templates/ocata/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/6ba0b72827115447de0f3060940d66b079f6d7da', 'message': 'Revert ""Update template to enable offline-compression""\n\nThis reverts commit 0fe556e389f4b7dcf68a5bbe1421c848cd78e6e1.\n\nCloses-Bug: 1903911\nRelated-Bug: 1902890\n\nChange-Id: I3e774e1ce98a9e77905bf49075c95ba478cb13c3\nSigned-off-by: Eric Desrochers <eric.desrochers@canonical.com>\n'}]",0,762684,6ba0b72827115447de0f3060940d66b079f6d7da,9,4,1,20944,,,0,"Revert ""Update template to enable offline-compression""

This reverts commit 0fe556e389f4b7dcf68a5bbe1421c848cd78e6e1.

Closes-Bug: 1903911
Related-Bug: 1902890

Change-Id: I3e774e1ce98a9e77905bf49075c95ba478cb13c3
Signed-off-by: Eric Desrochers <eric.desrochers@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/84/762684/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ocata/local_settings.py'],1,6ba0b72827115447de0f3060940d66b079f6d7da,bug/1903911,#COMPRESS_OFFLINE = True,COMPRESS_OFFLINE = True,1,1
openstack%2Ftripleo-quickstart~master~Ib036d9758f64ab78c6cf0f91c5fd788e0e167eda,openstack/tripleo-quickstart,master,Ib036d9758f64ab78c6cf0f91c5fd788e0e167eda,Update fs037 to containers-default-parameters after stein,MERGED,2020-11-16 16:25:39.000000000,2020-11-17 20:57:32.000000000,2020-11-17 20:55:50.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-16 16:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7a1a09f6c615271f830bc9b98e25604c1b10ffe7', 'message': 'Update fs037 to containers-default-parameters after stein\n\nEnsure that the container_registry_fileis referenced\ncorrectly for upgrades involves releases stein\nand before.\n\nThis is the third revision of patches to address\nthe related bug.\n\nChange-Id: Ib036d9758f64ab78c6cf0f91c5fd788e0e167eda\nRelated-Bug: #1903581\n'}, {'number': 2, 'created': '2020-11-16 16:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/201c1ef67beadc24cc4639b9bd27ea8c7b25cc76', 'message': 'Update fs037 to containers-default-parameters after stein\n\nEnsure that the container_registry_file is referenced\ncorrectly for upgrades involves releases stein\nand before.\n\nThis is the third revision of patches to address\nthe related bug.\n\nChange-Id: Ib036d9758f64ab78c6cf0f91c5fd788e0e167eda\nRelated-Bug: #1903581\n'}, {'number': 3, 'created': '2020-11-17 07:03:50.000000000', 'files': ['config/general_config/featureset037.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ae871a35c8b8e047d7cc0c8a6d7918e7348cae9e', 'message': 'Update fs037 to containers-default-parameters after stein\n\nEnsure that the container_registry_file is referenced\ncorrectly for upgrades involves releases stein\nand before.\n\nThis is the third revision of patches to address\nthe related bug.\n\nChange-Id: Ib036d9758f64ab78c6cf0f91c5fd788e0e167eda\nRelated-Bug: #1903581\n'}]",3,762871,ae871a35c8b8e047d7cc0c8a6d7918e7348cae9e,30,9,3,9976,,,0,"Update fs037 to containers-default-parameters after stein

Ensure that the container_registry_file is referenced
correctly for upgrades involves releases stein
and before.

This is the third revision of patches to address
the related bug.

Change-Id: Ib036d9758f64ab78c6cf0f91c5fd788e0e167eda
Related-Bug: #1903581
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/71/762871/3 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset037.yml'],1,7a1a09f6c615271f830bc9b98e25604c1b10ffe7,bug1903581," {% if release not in ['ocata','pike','queens','rocky','stein'] -%} '' containers-default-parameters.yaml"," {% if release in ['queens', 'rocky'] -%} containers-default-parameters.yaml containers-prepare-parameter.yaml",3,3
openstack%2Fopenstack-tempest-skiplist~master~Icc4587d78235ab98bb38679675c4532aa0d61d15,openstack/openstack-tempest-skiplist,master,Icc4587d78235ab98bb38679675c4532aa0d61d15,Add periodic sc002 tests to skip for bug 1904223,MERGED,2020-11-17 19:36:04.000000000,2020-11-17 20:56:43.000000000,2020-11-17 20:55:00.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 19:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/47933bca2d779d3693ccf8726bfe9bf02e4c83e8', 'message': 'Correct the test listed to skip for bug 1904223\n\nChange-Id: Icc4587d78235ab98bb38679675c4532aa0d61d15\n'}, {'number': 2, 'created': '2020-11-17 20:28:51.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cae1ad0a3282931c0a8899cb314a22583b2c89bc', 'message': 'Add periodic sc002 tests to skip for bug 1904223\n\nInitially, only the scenario002 check job was added.\ntest_encrypted_cinder_volumes_luks is also\nnow also failing in master and victoria periodic\njobs. This review adds those periodic jobs.\n\nChange-Id: Icc4587d78235ab98bb38679675c4532aa0d61d15\n'}]",0,763078,cae1ad0a3282931c0a8899cb314a22583b2c89bc,9,3,2,9976,,,0,"Add periodic sc002 tests to skip for bug 1904223

Initially, only the scenario002 check job was added.
test_encrypted_cinder_volumes_luks is also
now also failing in master and victoria periodic
jobs. This review adds those periodic jobs.

Change-Id: Icc4587d78235ab98bb38679675c4532aa0d61d15
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/78/763078/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,47933bca2d779d3693ccf8726bfe9bf02e4c83e8,edit-bug1904223-test, - test: 'barbican_tempest_plugin.tests.scenario.test_volume_encryption.VolumeEncryptionTest', - test: 'barbican_tempest_plugin.tests.scenario.test_volume_encryption.VolumeEncryptionTest.test_encrypted_cinder_volumes_luks',1,1
openstack%2Fcinder~master~Ibbe8bf2a9fea3ce203f117e306a62f93c44ffaf7,openstack/cinder,master,Ibbe8bf2a9fea3ce203f117e306a62f93c44ffaf7,Imported Translations from Zanata,MERGED,2020-11-16 06:16:39.000000000,2020-11-17 19:42:33.000000000,2020-11-16 15:16:50.000000000,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-11-16 06:16:39.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c400c6d95fd5fc5a14a10f49e3ad0391e7a290ed', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibbe8bf2a9fea3ce203f117e306a62f93c44ffaf7\n'}]",0,762775,c400c6d95fd5fc5a14a10f49e3ad0391e7a290ed,25,18,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibbe8bf2a9fea3ce203f117e306a62f93c44ffaf7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/762775/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po']",11,c400c6d95fd5fc5a14a10f49e3ad0391e7a290ed,zanata/translations,"""POT-Creation-Date: 2020-11-14 22:35+0000\n""","""POT-Creation-Date: 2020-11-02 05:05+0000\n""""%(op)s: backup %(bck_id)s, volume %(vol_id)s failed. Backup object has "" ""unexpected mode. Image or file backups supported, actual mode is "" ""%(vol_mode)s."" msgstr """" ""%(op)s: copia de seguridad %(bck_id)s, volumen %(vol_id)s ha fallado. El "" ""objeto de copia de seguridad tiene una modalidad inesperada. Se soportan las "" ""copias de seguridad de imagen o archivo, la modalidad real es %(vol_mode)s."" #, python-format msgid """"msgid """" ""Volume metadata backup requested but this driver does not yet support this "" ""feature."" msgstr """" ""Se ha solicitado copia de seguridad de metadatos de volumen pero este "" ""controlador no soporta an esta caracterstica."" #, python-format msgid """" ""backup: %(vol_id)s failed to create device hardlink from %(vpath)s to "" ""%(bpath)s.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" msgstr """" ""copia de seguridad: %(vol_id)s no ha podido crear enlace fijo de dispositivo "" ""de %(vpath)s a %(bpath)s.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" #, python-format msgid """" ""backup: %(vol_id)s failed to obtain backup success notification from "" ""server.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" msgstr """" ""copia de seguridad: %(vol_id)s no ha podido obtener notificacin de xito de "" ""copia de seguridad de servidor.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" #, python-format msgid """" ""backup: %(vol_id)s failed to run dsmc on %(bpath)s.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" msgstr """" ""copia de seguridad: %(vol_id)s no ha podido ejecutar dsmc en %(bpath)s.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" #, python-format msgid ""backup: %(vol_id)s failed. %(path)s is not a file."" msgstr ""copia de seguridad: %(vol_id)s ha fallado. %(path)s no es un archivo."" #, python-format msgid """" ""backup: %(vol_id)s failed. %(path)s is unexpected file type. Block or "" ""regular files supported, actual file mode is %(vol_mode)s."" msgstr """" ""copia de seguridad: %(vol_id)s ha fallado. %(path)s es de un tipo de archivo "" ""inesperado. Se soportan archivos de bloque o normales, la modalidad de "" ""archivo real es %(vol_mode)s."" #, python-format msgid """" ""backup: %(vol_id)s failed. Cannot obtain real path to volume at %(path)s."" msgstr """" ""copia de seguridad: %(vol_id)s ha fallado. No se puede obtener va de acceso "" ""real al volumen en %(path)s."" #, python-format msgid """" ""delete: %(vol_id)s failed to run dsmc with stdout: %(out)s\n"" "" stderr: %(err)s"" msgstr """" ""suprimir: %(vol_id)s no ha podido ejecutar dsmc sin salida estndar: "" ""%(out)s\n"" "" stderr: %(err)s"" #, python-format msgid """" ""restore: %(vol_id)s failed to run dsmc on %(bpath)s.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" msgstr """" ""restaurar: %(vol_id)s no ha podido ejecutar dsmc en %(bpath)s.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s"" #, python-format msgid """" ""restore: %(vol_id)s failed.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s."" msgstr """" ""restaurar: %(vol_id)s ha fallado.\n"" ""stdout: %(out)s\n"" "" stderr: %(err)s."" ",70,995
openstack%2Fmanila~master~I86c3de32d36940e85545fcb337723e4b3edce216,openstack/manila,master,I86c3de32d36940e85545fcb337723e4b3edce216,[NetApp] Support NFS shares on windows,MERGED,2020-10-28 19:12:50.000000000,2020-11-17 19:28:05.000000000,2020-11-17 13:37:26.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-10-28 19:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05a67be4c2f2f2b08a21624ba1753f9962ea83b8', 'message': '[NetApp] Support NFS shares on windows\n\nSet following 4 attributes when creating nfs shares:\n    showmount:          enabled\n    v3-ms-dos-client:   support\n    v3-connection-drop: disable\n    ejukebox-errors:    disable\n\nChange-Id: I86c3de32d36940e85545fcb337723e4b3edce216\nCloses-bug: 1901937\nCo-authored-by: Maurice Escher <maurice.escher@sap.com>\n'}, {'number': 2, 'created': '2020-11-16 20:04:19.000000000', 'files': ['releasenotes/notes/bug-1901937-netapp-nfs-for-windows-465e704524277ea2.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5e01d9e292582bbd1e6a87cec8b92874996585f7', 'message': '[NetApp] Support NFS shares on windows\n\nSet following 4 attributes when creating nfs shares:\n    showmount:          enabled\n    v3-ms-dos-client:   support\n    v3-connection-drop: disable\n    ejukebox-errors:    disable\n\nChange-Id: I86c3de32d36940e85545fcb337723e4b3edce216\nCloses-bug: 1901937\nCo-authored-by: Maurice Escher <maurice.escher@sap.com>\n'}]",0,760210,5e01d9e292582bbd1e6a87cec8b92874996585f7,31,8,2,18816,,,0,"[NetApp] Support NFS shares on windows

Set following 4 attributes when creating nfs shares:
    showmount:          enabled
    v3-ms-dos-client:   support
    v3-connection-drop: disable
    ejukebox-errors:    disable

Change-Id: I86c3de32d36940e85545fcb337723e4b3edce216
Closes-bug: 1901937
Co-authored-by: Maurice Escher <maurice.escher@sap.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/760210/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",2,05a67be4c2f2f2b08a21624ba1753f9962ea83b8,bug/1901937," 'showmount': 'true', 'is-v3-ms-dos-client-enabled': 'true', 'is-nfsv3-connection-drop-enabled': 'false', 'enable-ejukebox': 'false',",,8,0
openstack%2Fproject-config~master~Id9d33eb8d145082c91c39268ac895460da6d768b,openstack/project-config,master,Id9d33eb8d145082c91c39268ac895460da6d768b,Add zuul/zuul-regsitry to openstack tenant,MERGED,2020-11-17 18:40:16.000000000,2020-11-17 19:20:56.000000000,2020-11-17 19:02:10.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 18:40:16.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d09ca37aa6f432cb3fe7239e24500d3fe91b46bf', 'message': ""Add zuul/zuul-regsitry to openstack tenant\n\nWe'd like to use this project in ansible-role-zuul-registry, like we do\nwith other roles like ansible-role-nodepool for example (It will use\nzuul/nodepool).\n\nChange-Id: Id9d33eb8d145082c91c39268ac895460da6d768b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,763071,d09ca37aa6f432cb3fe7239e24500d3fe91b46bf,10,5,1,4162,,,0,"Add zuul/zuul-regsitry to openstack tenant

We'd like to use this project in ansible-role-zuul-registry, like we do
with other roles like ansible-role-nodepool for example (It will use
zuul/nodepool).

Change-Id: Id9d33eb8d145082c91c39268ac895460da6d768b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/763071/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,d09ca37aa6f432cb3fe7239e24500d3fe91b46bf,, - zuul/zuul-registry,,1,0
openstack%2Fcharm-ceph-iscsi~master~I3e815acd79ee298395e5dfce1c06d4478d8c8a2d,openstack/charm-ceph-iscsi,master,I3e815acd79ee298395e5dfce1c06d4478d8c8a2d,Refresh README,MERGED,2020-11-17 14:49:21.000000000,2020-11-17 19:01:39.000000000,2020-11-17 19:01:39.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-17 14:49:21.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/4d12385af73caf1978b71b3ae6cc67954cd061fe', 'message': 'Refresh README\n\nChange-Id: I3e815acd79ee298395e5dfce1c06d4478d8c8a2d\n'}]",0,763031,4d12385af73caf1978b71b3ae6cc67954cd061fe,13,4,1,30561,,,0,"Refresh README

Change-Id: I3e815acd79ee298395e5dfce1c06d4478d8c8a2d
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/31/763031/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,4d12385af73caf1978b71b3ae6cc67954cd061fe,refresh-readme,> **Note**: BlueStore compression is supported starting with Ceph Mimic. juju deploy -n 2 ceph-iscsiActions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions ceph-iscsi`. If the charm is not deployed then see file `actions.yaml`.## VMware integration Ceph can be used to back iSCSI targets for VMware initiators. This is,**Note**: BlueStore compression is supported starting with Ceph Mimic. juju deploy -n 2 cs:~openstack-charmers-next/ceph-iscsiActions allow specific operations to be performed on a per-unit basis.## VMWare integration Ceph can be used to back iSCSI targets for VMWare initiators. This is,7,5
openstack%2Fcharm-deployment-guide~master~I36817a080e5df55f4a116c243c91ca8895ff1136,openstack/charm-deployment-guide,master,I36817a080e5df55f4a116c243c91ca8895ff1136,Enable htaccess,MERGED,2020-11-17 18:18:43.000000000,2020-11-17 18:57:54.000000000,2020-11-17 18:56:07.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 18:18:43.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/configure-openstack.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/432b0f6f12853a5d67ae11c81f2fdaf655935633', 'message': 'Enable htaccess\n\nChange-Id: I36817a080e5df55f4a116c243c91ca8895ff1136\n'}]",0,763067,432b0f6f12853a5d67ae11c81f2fdaf655935633,7,2,1,30561,,,0,"Enable htaccess

Change-Id: I36817a080e5df55f4a116c243c91ca8895ff1136
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/67/763067/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/configure-openstack.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/index.rst']",7,432b0f6f12853a5d67ae11c81f2fdaf655935633,cdg-reorg, configure-openstack.rst, config-openstack.rst,6,4
openstack%2Fpython-tripleoclient~stable%2Fqueens~I52b8458bef41fe63036b2ea364ac8da5e86c6690,openstack/python-tripleoclient,stable/queens,I52b8458bef41fe63036b2ea364ac8da5e86c6690,[queens] Migrate to content provider jobs/templates,MERGED,2020-10-27 18:24:43.000000000,2020-11-17 18:57:52.000000000,2020-11-17 18:57:52.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-10-27 18:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/612ffcb925331bf988556db7fb716f55fc61fd8f', 'message': '[queens] Migrate to content provider jobs/templates\n\nThis change migrate jobs/templates to content provider\njos so consumer jobs can use resources built by provider\njobs.\n\nChange-Id: I52b8458bef41fe63036b2ea364ac8da5e86c6690\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2020-10-28 11:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/929248f56376b4084d0602f923ed414030c55979', 'message': '[queens] Migrate to content provider jobs/templates\n\nThis change migrate jobs/templates to content provider\njos so consumer jobs can use resources built by provider\njobs.\n\nDepends-On: https://review.opendev.org/759985\n\nChange-Id: I52b8458bef41fe63036b2ea364ac8da5e86c6690\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2020-10-28 13:53:08.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/625d07d4f0519018ea8ec57651f2318645242a47', 'message': '[queens] Migrate to content provider jobs/templates\n\nThis change migrate jobs/templates to content provider\njos so consumer jobs can use resources built by provider\njobs.\n\nDepends-On: https://review.opendev.org/759985\nChange-Id: I52b8458bef41fe63036b2ea364ac8da5e86c6690\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",1,759924,625d07d4f0519018ea8ec57651f2318645242a47,32,5,3,30750,,,0,"[queens] Migrate to content provider jobs/templates

This change migrate jobs/templates to content provider
jos so consumer jobs can use resources built by provider
jobs.

Depends-On: https://review.opendev.org/759985
Change-Id: I52b8458bef41fe63036b2ea364ac8da5e86c6690
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/759924/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,612ffcb925331bf988556db7fb716f55fc61fd8f,new-ci-job, - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline, - tripleo-undercloud-jobs - tripleo-multinode-container-minimal,2,2
openstack%2Fheat~master~Ic01877e2524e094b087fcbddac7504356e395031,openstack/heat,master,Ic01877e2524e094b087fcbddac7504356e395031,Add test cases to check user{domain} pattern.,MERGED,2020-08-28 15:54:48.000000000,2020-11-17 18:46:42.000000000,2020-11-17 18:44:38.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6d78a31a7590b9be093e0e9aa9b4fd7119f51a36', 'message': 'Add test cases to check user{domain}\npattern.\n\nHeat uses domain in user{domain} pattern to\nfind the user in the corresponding domain.\n\nChange-Id: Ic01877e2524e094b087fcbddac7504356e395031\nStory:2007867\nTask:40234\n'}, {'number': 2, 'created': '2020-11-17 15:19:13.000000000', 'files': ['heat_integrationtests/functional/test_keystone_user_with_domain.py', 'heat_integrationtests/common/test.py', 'heat_integrationtests/common/clients.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d2be2f9cfecffc9228207e180f59f049bf14df41', 'message': 'Add test cases to check user{domain}\npattern.\n\nHeat uses domain in user{domain} pattern to\nfind the user in the corresponding domain.\n\nChange-Id: Ic01877e2524e094b087fcbddac7504356e395031\nStory:2007867\nTask:40234\n'}]",2,748709,d2be2f9cfecffc9228207e180f59f049bf14df41,15,3,2,30515,,,0,"Add test cases to check user{domain}
pattern.

Heat uses domain in user{domain} pattern to
find the user in the corresponding domain.

Change-Id: Ic01877e2524e094b087fcbddac7504356e395031
Story:2007867
Task:40234
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/748709/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_keystone_user_with_domain.py', 'heat_integrationtests/common/test.py', 'heat_integrationtests/common/clients.py']",3,6d78a31a7590b9be093e0e9aa9b4fd7119f51a36,,"from keystoneclient.v3 import client as kc_v3 self.keystone_client = self._get_keystone_client() def _get_keystone_client(self): # Create our default Keystone client to use in testing return kc_v3.Client( session=self.identity_client.session, region_name=self.conf.region) ",,192,0
openstack%2Fopenstack-tempest-skiplist~master~I75089b6a5d729ab49fe0068620d57d298c4a14f5,openstack/openstack-tempest-skiplist,master,I75089b6a5d729ab49fe0068620d57d298c4a14f5,Add victoria to releases for bug1904223 skiplist entry,MERGED,2020-11-17 17:51:45.000000000,2020-11-17 18:41:27.000000000,2020-11-17 18:39:57.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 17:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ff6c1a861eb02e3cab03f18a6d7358dabe440a89', 'message': 'Add victoria to releases for bug1904223 skiplist entry\n\nThe error described in the related bug is showing\nup on the scenario002 job in the victoria pipeline\nnow. Adding victoria to the releases on this\nskiplist entry.\n\nChange-Id: I75089b6a5d729ab49fe0068620d57d298c4a14f5\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1904223\n'}, {'number': 2, 'created': '2020-11-17 18:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/9e1a19c68cc971ee81a4d5179b5be7c33ad7741d', 'message': 'Add victoria to releases for bug1904223 skiplist entry\n\nThe error described in the related bug is showing\nup on the scenario002 job in the victoria pipeline\nnow. Adding victoria to the releases on this\nskiplist entry.\n\nChange-Id: I75089b6a5d729ab49fe0068620d57d298c4a14f5\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1904223\n'}, {'number': 3, 'created': '2020-11-17 18:06:42.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/658ac190b62b9b45e2fbe780039a6a065c6731fb', 'message': 'Add victoria to releases for bug1904223 skiplist entry\n\nThe error described in the related bug is showing\nup on the scenario002 job in the victoria pipeline\nnow. Adding victoria to the releases on this\nskiplist entry.\n\nChange-Id: I75089b6a5d729ab49fe0068620d57d298c4a14f5\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1904223\n'}]",0,763057,658ac190b62b9b45e2fbe780039a6a065c6731fb,11,3,3,9976,,,0,"Add victoria to releases for bug1904223 skiplist entry

The error described in the related bug is showing
up on the scenario002 job in the victoria pipeline
now. Adding victoria to the releases on this
skiplist entry.

Change-Id: I75089b6a5d729ab49fe0068620d57d298c4a14f5
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1904223
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/57/763057/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,ff6c1a861eb02e3cab03f18a6d7358dabe440a89,bug1904223-victoria,roles/validate-tempest/vars/tempest_skip.yml - name: 'stein' reason: 'neutron tempest tests are froles/validate-tempest/vars/tempest_skip.ymlailing by giving 503 Service Unavailable' releases:roles/validate-tempest/vars/tempest_skip.yml - name: 'victoria' reason: 'tempest.lib.exceptions.SSHTimeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1904223', - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' releases:,6,3
openstack%2Foslo.policy~master~I138e5cf6deb82ad29a2bf70392c1859354b84800,openstack/oslo.policy,master,I138e5cf6deb82ad29a2bf70392c1859354b84800,Fix grammar issues,MERGED,2020-10-28 05:21:27.000000000,2020-11-17 18:23:08.000000000,2020-11-17 18:21:41.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32519}]","[{'number': 1, 'created': '2020-10-28 05:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/05fa3f112ba8398cc9b1b121243e16c088b060a1', 'message': 'Fix grammar issues\n\nChange-Id: I138e5cf6deb82ad29a2bf70392c1859354b84800\n'}, {'number': 2, 'created': '2020-11-02 02:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/27f65e5a668c096aaef7614c959e06b38c40a1e9', 'message': 'Fix grammar issues\n\nChange-Id: I138e5cf6deb82ad29a2bf70392c1859354b84800\n'}, {'number': 3, 'created': '2020-11-02 02:08:49.000000000', 'files': ['doc/source/configuration/index.rst', 'CONTRIBUTING.rst', 'doc/source/user/usage.rst', 'doc/source/user/plugins.rst', 'doc/source/user/sphinxpolicygen.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/96cfafb261acba2524461c481b68c98831697cb9', 'message': 'Fix grammar issues\n\nChange-Id: I138e5cf6deb82ad29a2bf70392c1859354b84800\n'}]",10,760049,96cfafb261acba2524461c481b68c98831697cb9,18,7,3,32519,,,0,"Fix grammar issues

Change-Id: I138e5cf6deb82ad29a2bf70392c1859354b84800
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/49/760049/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'CONTRIBUTING.rst', 'doc/source/user/usage.rst', 'doc/source/user/plugins.rst', 'doc/source/user/sphinxpolicygen.rst']",5,05fa3f112ba8398cc9b1b121243e16c088b060a1,bug_fix," utility. This can be a full path or a value relative to the documentation ``.policy.yaml.sample`` extension to generate the final output file, and the path is relative to the documentation source directory (``app.srcdir``). As such,"," utility. This can be an full path or a value relative to the documentation ``.policy.yaml.sample`` extension to generate the final output file and the path is relative to documentation source directory (``app.srcdir``). As such,",18,17
openstack%2Fos-net-config~master~I5da2965a1412a63871951f0c6475fc0f0534b88b,openstack/os-net-config,master,I5da2965a1412a63871951f0c6475fc0f0534b88b,Gracefully handle interface name TypeErrors,ABANDONED,2018-07-16 15:57:45.000000000,2020-11-17 18:19:18.000000000,,"[{'_account_id': 360}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-07-16 15:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/eb507dde97a69e09cb1987e1e59f2ddf0d9d6d44', 'message': ""Gracefully handle interface name TypeErrors\n\nAvoid that a non-string value for interface name leads\nos-net-config to exit ungracefully with\nTypeError: unhashable type: 'dict'\n\nChange-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b\n""}, {'number': 2, 'created': '2018-07-16 15:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3b15335cea8da8bee349a5fb68db58439206dcf0', 'message': ""Gracefully handle interface name TypeErrors\n\nAvoid that a non-string value for interface name leads\nos-net-config to exit ungracefully with\nTypeError: unhashable type: 'dict'\n\nChange-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b\n""}, {'number': 3, 'created': '2018-07-16 16:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8f997a63fc803955f07ffac3d0acb799ac12623d', 'message': ""Gracefully handle interface name TypeErrors\n\nAvoid that a non-string value for interface name leads\nos-net-config to exit ungracefully with\nTypeError: unhashable type: 'dict'\n\nCloses-Bug: 1781983\nChange-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b\n""}, {'number': 4, 'created': '2018-07-16 16:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0d75a0932908f84900a3643ac949a864acf606cf', 'message': ""Gracefully handle interface name TypeErrors\n\nAvoid that a non-string value for interface name leads\nos-net-config to exit ungracefully with\nTypeError: unhashable type: 'dict'\n\nCloses-Bug: 1781983\nChange-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b\n""}, {'number': 5, 'created': '2018-07-16 16:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/da4ebb24e1e3bf0400b7e593cc24b434bb012c6f', 'message': ""Gracefully handle interface name TypeErrors\n\nAvoid that a non-string value for interface name leads\nos-net-config to exit ungracefully with\nTypeError: unhashable type: 'dict'\n\nCloses-Bug: 1781983\nChange-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b\n""}, {'number': 6, 'created': '2018-09-21 21:19:00.000000000', 'files': ['os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9158e13168d76b543c19d3f8abce2c6374ec6a1d', 'message': ""Gracefully handle interface name TypeErrors\n\nAvoid that a non-string value for interface name leads\nos-net-config to exit ungracefully with\nTypeError: unhashable type: 'dict'\n\nCloses-Bug: 1781983\nChange-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b\n""}]",1,582989,9158e13168d76b543c19d3f8abce2c6374ec6a1d,23,8,6,24042,,,0,"Gracefully handle interface name TypeErrors

Avoid that a non-string value for interface name leads
os-net-config to exit ungracefully with
TypeError: unhashable type: 'dict'

Closes-Bug: 1781983
Change-Id: I5da2965a1412a63871951f0c6475fc0f0534b88b
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/89/582989/3 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/objects.py'],1,eb507dde97a69e09cb1987e1e59f2ddf0d9d6d44,bug/1781983," try: if name in mapped_nic_names: if persist_mapping: self.name = name self.hwname = mapped_nic_names[name] self.hwaddr = utils.interface_mac(self.hwname) self.renamed = True else: self.name = mapped_nic_names[name] else: self.name = name except TypeError: logger.error(""TypeError for specified name (%s) "" ""with NIC mapping (%s). "" ""Make sure that all input values are strings."" % (name, str(mapped_nic_names))) exit(1) except: raise", if name in mapped_nic_names: if persist_mapping: self.name = name self.hwname = mapped_nic_names[name] self.hwaddr = utils.interface_mac(self.hwname) self.renamed = True else: self.name = mapped_nic_names[name] else: self.name = name,18,9
openstack%2Fbifrost~master~Id5477f9cf7e680467c236ff4dde1c9d3ee5a421b,openstack/bifrost,master,Id5477f9cf7e680467c236ff4dde1c9d3ee5a421b,Expand testenv documentation,MERGED,2020-11-12 17:22:14.000000000,2020-11-17 18:18:58.000000000,2020-11-17 18:17:19.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-12 17:22:14.000000000', 'files': ['doc/source/contributor/testenv.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e5f0b8d668844ec5ca343a388845ecccfc3efef8', 'message': 'Expand testenv documentation\n\nChange-Id: Id5477f9cf7e680467c236ff4dde1c9d3ee5a421b\n'}]",0,762553,e5f0b8d668844ec5ca343a388845ecccfc3efef8,8,3,1,10239,,,0,"Expand testenv documentation

Change-Id: Id5477f9cf7e680467c236ff4dde1c9d3ee5a421b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/762553/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testenv.rst'],1,e5f0b8d668844ec5ca343a388845ecccfc3efef8,docs,"Quick start with bifrost-cli ============================ If you want to try Bifrost on virtual machines instead of real hardware, you need to prepare a testing environment. The easiest way is via ``bifrost-cli``, available since the Victoria release series: .. code-block:: bash ./bifrost-cli testenv Additionally, the following parameters can be useful: ``--develop`` Install services in develop mode, so that the changes to the repositories in ``/opt`` get immediately reflected in the virtual environment. .. note:: You still need to restart services to apply any changes, e.g.:: sudo systemctl restart ironic-conductor ``--driver=[ipmi|redfish]`` Choose the default driver for the generated nodes inventory. .. note:: Both IPMI and Redfish support is configured anyway, so you can switch the drivers on fly if needed. IPMI support uses VirtualBMC_, Redfish - sushy-tools_. See the built-in documentation for more details: .. code-block:: bash ./bifrost-cli testenv --help Reproduce CI testing locally ============================hardware type can be used as for real hardware. Redfish emulator from sushy-tools_ is also installed... _sushy-tools: https://docs.openstack.org/sushy-tools/",Execute local testing =====================hardware type can be used as for real hardware.,42,3
openstack%2Ftripleo-ha-utils~master~Iadaffc0ef397ff76d323ad063cd54fd907055522,openstack/tripleo-ha-utils,master,Iadaffc0ef397ff76d323ad063cd54fd907055522,WIP - Introduce simulate failure task,ABANDONED,2018-06-15 16:16:36.000000000,2020-11-17 18:17:29.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-06-15 16:16:36.000000000', 'files': ['roles/validate-ha/vars/test_list_mitaka.yml', 'roles/validate-ha/tasks/simulate-failure.yml', 'roles/validate-ha/tasks/main.yml', 'roles/validate-ha/vars/test_list_ocata.yml', 'roles/validate-ha/vars/test_list_rocky.yml', 'roles/validate-ha/vars/test_list_liberty.yml', 'roles/validate-ha/vars/test_list_newton.yml', 'roles/validate-ha/vars/test_list_pike.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/912454dd3391281a4a85e58a57262cd5b93e6b1a', 'message': ""WIP - Introduce simulate failure task\n\nThis commit introduces an additional way of testing, by simulating a\nfailure on service(s) and/or container(s) after creating the test stack.\nIt after the stop and start of the requested components the test\ninstance is still reachable, the test is considerated passed.\n\nNOTE 1: the neutron test will be removed before committing, it's just\nhere for test purposes;\n\nNOTE 2: the container management should be done via ansible\ndocker_container module, but since there's a bug in ansible (see TODO\ninside simulate-failure.yml at the moment is managed via command;\n\nChange-Id: Iadaffc0ef397ff76d323ad063cd54fd907055522\n""}]",2,575784,912454dd3391281a4a85e58a57262cd5b93e6b1a,8,4,1,20936,,,0,"WIP - Introduce simulate failure task

This commit introduces an additional way of testing, by simulating a
failure on service(s) and/or container(s) after creating the test stack.
It after the stop and start of the requested components the test
instance is still reachable, the test is considerated passed.

NOTE 1: the neutron test will be removed before committing, it's just
here for test purposes;

NOTE 2: the container management should be done via ansible
docker_container module, but since there's a bug in ansible (see TODO
inside simulate-failure.yml at the moment is managed via command;

Change-Id: Iadaffc0ef397ff76d323ad063cd54fd907055522
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/84/575784/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-ha/vars/test_list_mitaka.yml', 'roles/validate-ha/tasks/main.yml', 'roles/validate-ha/tasks/simulate-failure.yml', 'roles/validate-ha/vars/test_list_ocata.yml', 'roles/validate-ha/vars/test_list_rocky.yml', 'roles/validate-ha/vars/test_list_liberty.yml', 'roles/validate-ha/vars/test_list_newton.yml', 'roles/validate-ha/vars/test_list_pike.yml']",8,912454dd3391281a4a85e58a57262cd5b93e6b1a,,test_ha_neutron_containers_failure: true,,68,0
openstack%2Fpython-openstackclient~master~I121294a0064f64fa0c041b77b13b0c8399ecb062,openstack/python-openstackclient,master,I121294a0064f64fa0c041b77b13b0c8399ecb062,WIP: Add aggregate cache images support,ABANDONED,2019-10-16 15:34:16.000000000,2020-11-17 18:10:20.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-16 15:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d775ddd70ba3a7c9418a8c470d1acda4d9911a5a', 'message': ""WIP: Add aggregate cache images support\n\nI know this isn't ready yet, but I want it up so I can ask for help :)\n\nRelated to blueprint image-precache-support\n\nChange-Id: I121294a0064f64fa0c041b77b13b0c8399ecb062\n""}, {'number': 2, 'created': '2019-10-16 15:35:08.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'setup.cfg', 'openstackclient/compute/v2/aggregate.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6a76f2b7795aa4362769790255f70c42d2a784f2', 'message': ""WIP: Add aggregate cache images support\n\nI know this isn't ready yet, but I want it up so I can ask for help :)\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687141\nChange-Id: I121294a0064f64fa0c041b77b13b0c8399ecb062\n""}]",8,688960,6a76f2b7795aa4362769790255f70c42d2a784f2,9,4,2,4393,,,0,"WIP: Add aggregate cache images support

I know this isn't ready yet, but I want it up so I can ask for help :)

Related to blueprint image-precache-support

Depends-On: https://review.opendev.org/#/c/687141
Change-Id: I121294a0064f64fa0c041b77b13b0c8399ecb062
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/60/688960/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'setup.cfg', 'openstackclient/compute/v2/aggregate.py']",3,d775ddd70ba3a7c9418a8c470d1acda4d9911a5a,bp/image-precache-support," class CacheImagesOnAggregate(command.Command): _description = _(""Request images be cached on hosts within an aggregate"") def get_parser(self, prog_name): parser = super(CacheImagesOnAggregate, self).get_parser(prog_name) parser.add_argument( ""aggregate"", metavar=""<aggregate>"", help=_(""Aggregate on which to cache images"") ) parser.add_argument( ""--image"", metavar=""<image>"", action=""append"", help=_(""Image to be cached on hosts within the aggregate"") ) return parser def take_action(self, parsed_args): compute_client = self.app.client_manager.compute image_client = self.app.client_manager.image aggregate = utils.find_resource( compute_client.aggregates, parsed_args.aggregate) images = [utils.find_resource(image_client.images, image_id) for image_id in parsed_args.image] compute_client.aggregates.cache_images(aggregate, images)",,64,0
openstack%2Fcinder~master~I284bb7cb713983764aef9f528d53254c926cc1d7,openstack/cinder,master,I284bb7cb713983764aef9f528d53254c926cc1d7,Import HTTPStatus instead of http_client,ABANDONED,2020-11-17 02:09:23.000000000,2020-11-17 18:08:15.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 31868}, {'_account_id': 32326}]","[{'number': 1, 'created': '2020-11-17 02:09:23.000000000', 'files': ['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/functional/test_extensions.py', 'cinder/api/v2/limits.py', 'cinder/tests/unit/test_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b2d8854a9411b0fc5565c2e2e5231fbb7efff36', 'message': ""Import HTTPStatus instead of http_client\n\nWe don't need an HTTP client for this, we only\nneed status codes. Just load that instead.\n\nhttps://docs.python.org/3/library/http.html\n\nChange-Id: I284bb7cb713983764aef9f528d53254c926cc1d7\n""}]",0,762941,2b2d8854a9411b0fc5565c2e2e5231fbb7efff36,19,13,1,32326,,,0,"Import HTTPStatus instead of http_client

We don't need an HTTP client for this, we only
need status codes. Just load that instead.

https://docs.python.org/3/library/http.html

Change-Id: I284bb7cb713983764aef9f528d53254c926cc1d7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/762941/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/functional/test_extensions.py', 'cinder/api/v2/limits.py', 'cinder/tests/unit/test_api.py']",5,2b2d8854a9411b0fc5565c2e2e5231fbb7efff36,,"from http import HTTPStatus """"""A fake socket implementation for HTTPStatus.HTTPResponse, trivial."""""" """"""A fake HTTPStatus.HTTPConnection for boto. the HTTPStatus.HTTPResponse that boto expects. self.http_response = HTTPStatus.HTTPResponse(self.sock)","from http import client as http_client """"""A fake socket implementation for http_client.HTTPResponse, trivial."""""" """"""A fake http_client.HTTPConnection for boto. the http_client.HTTPResponse that boto expects. self.http_response = http_client.HTTPResponse(self.sock)",25,25
openstack%2Fmanila-tempest-plugin~master~I15fe5a95037a31d313450a5a4c1ca394f0c259b6,openstack/manila-tempest-plugin,master,I15fe5a95037a31d313450a5a4c1ca394f0c259b6,[ci] Switch lvm driver job to focal fossa,MERGED,2020-11-10 23:26:54.000000000,2020-11-17 18:01:12.000000000,2020-11-17 13:37:25.000000000,"[{'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-10 23:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4408373f053a0f87ad407a4193ebd80b76ca9981', 'message': '[ci] Switch lvm driver job to focal fossa\n\nChange-Id: I15fe5a95037a31d313450a5a4c1ca394f0c259b6\nPartial-Bug: #1896672\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-11-12 18:23:34.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1214b82277f3a1e438231de7094453ce8d9a8cd9', 'message': '[ci] Switch lvm driver job to focal fossa\n\nDepends-On: https://review.opendev.org/762468/\nChange-Id: I15fe5a95037a31d313450a5a4c1ca394f0c259b6\nPartial-Bug: #1896672\nRelated-Bug: #1903773\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,762219,1214b82277f3a1e438231de7094453ce8d9a8cd9,13,6,2,16643,,,0,"[ci] Switch lvm driver job to focal fossa

Depends-On: https://review.opendev.org/762468/
Change-Id: I15fe5a95037a31d313450a5a4c1ca394f0c259b6
Partial-Bug: #1896672
Related-Bug: #1903773
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/19/762219/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,4408373f053a0f87ad407a4193ebd80b76ca9981,migrate-to-focal,, # TODO(gmann): Remove the below nodeset setting to Bionic once # https://bugs.launchpad.net/manila/+bug/1896672 is fixed # Once nodeset is removed form here then devstack base job # will automatically run this job on Ubuntu Focal nodeset from # Victoria gate onwards. nodeset: openstack-single-node-bionic,0,6
openstack%2Fmanila~master~I3c1a2ec19d6bc18638db0875519ce60f2c89f33a,openstack/manila,master,I3c1a2ec19d6bc18638db0875519ce60f2c89f33a,Retry unmount operation on the LVM driver,MERGED,2020-11-12 07:27:30.000000000,2020-11-17 18:00:49.000000000,2020-11-17 12:22:33.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}]","[{'number': 1, 'created': '2020-11-12 07:27:30.000000000', 'files': ['releasenotes/notes/bug-1903773-fix-lvmdriver-share-unmounting-after-migration-75640e3c9dc62dba.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8a691d8631b9fdb18996566e0706e05776fa0ec4', 'message': 'Retry unmount operation on the LVM driver\n\nWhen a share is mounted on the same host as the manila-share\nprocess, the kernel prevents us from destroying the\nmount directory until the share has been cleanly unmounted\nfrom the host. Kernel mounts can take a few seconds to get\nunmounted fully especially when there are a lot of\nlinux namespaces that the mountpoint has been shared to.\n\nAdd a retry on these operations to harden the deletion\nprocess and prevent spurious failures.\n\nChange-Id: I3c1a2ec19d6bc18638db0875519ce60f2c89f33a\nCloses-Bug: #1903773\nRelated-Bug: #1896672\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,762468,8a691d8631b9fdb18996566e0706e05776fa0ec4,16,7,1,16643,,,0,"Retry unmount operation on the LVM driver

When a share is mounted on the same host as the manila-share
process, the kernel prevents us from destroying the
mount directory until the share has been cleanly unmounted
from the host. Kernel mounts can take a few seconds to get
unmounted fully especially when there are a lot of
linux namespaces that the mountpoint has been shared to.

Add a retry on these operations to harden the deletion
process and prevent spurious failures.

Change-Id: I3c1a2ec19d6bc18638db0875519ce60f2c89f33a
Closes-Bug: #1903773
Related-Bug: #1896672
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/762468/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1903773-fix-lvmdriver-share-unmounting-after-migration-75640e3c9dc62dba.yaml', 'manila/tests/share/drivers/test_lvm.py', 'manila/share/drivers/lvm.py']",3,8a691d8631b9fdb18996566e0706e05776fa0ec4,bug/1903773,"from manila.share import utils as share_utils from manila import utils self._unmount_device(share, raise_if_missing=False, retry_busy_device=True) def _unmount_device(self, share_or_snapshot, raise_if_missing=True, retry_busy_device=False): retries = 10 if retry_busy_device else 1 @utils.retry(exception.ShareBusyException, retries=retries) def _unmount_device_with_retry(): try: self._execute('umount', '-f', mount_path, run_as_root=True) except exception.ProcessExecutionError as exc: if 'is busy' in exc.stderr.lower(): raise exception.ShareBusyException( reason=share_or_snapshot['name']) elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) raise else: LOG.error('Unable to umount: %s', exc) _unmount_device_with_retry() snapshot_access_rules, __, __ = share_utils.change_rules_to_readonly( access_rules, add_rules, delete_rules = ( share_utils.change_rules_to_readonly( access_rules, add_rules, delete_rules) ) 'db_version': share_utils.get_recent_db_migration_id(),","from manila.share import utils self._unmount_device(share, raise_if_missing=False) def _unmount_device(self, share_or_snapshot, raise_if_missing=True): # umount, may be busy try: self._execute('umount', '-f', mount_path, run_as_root=True) except exception.ProcessExecutionError as exc: if 'device is busy' in exc.stderr.lower(): raise exception.ShareBusyException( reason=share_or_snapshot['name']) elif 'not mounted' in exc.stderr.lower(): if raise_if_missing: LOG.error('Unable to find device: %s', exc) else: LOG.error('Unable to umount: %s', exc) raise snapshot_access_rules, __, __ = utils.change_rules_to_readonly( access_rules, add_rules, delete_rules = utils.change_rules_to_readonly( access_rules, add_rules, delete_rules) 'db_version': utils.get_recent_db_migration_id(),",57,27
openstack%2Fmanila~master~I4aba76b72df274d0a8cb90fe0ab8799523c260ef,openstack/manila,master,I4aba76b72df274d0a8cb90fe0ab8799523c260ef,Retry unmount operation on the ZFSOnLinux driver,MERGED,2020-11-10 21:35:41.000000000,2020-11-17 17:57:35.000000000,2020-11-17 01:56:33.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}]","[{'number': 1, 'created': '2020-11-10 21:35:41.000000000', 'files': ['releasenotes/notes/bug-1903773-fix-zfsonlinux-share-unmounting-after-migration-329b1eb2f33f78a3.yaml', 'manila/tests/share/drivers/zfsonlinux/test_driver.py', 'manila/share/drivers/zfsonlinux/driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e3fea14788471cca01c8219e1ef638007e64c97f', 'message': 'Retry unmount operation on the ZFSOnLinux driver\n\nWhen a share is mounted on the same host as the manila-share\nprocess, zfs prevents us from destroying the underlying\ndataset until the share has been cleanly unmounted from\nthe host. Kernel mounts can take a few seconds to get\nunmounted fully especially when there are a lot of\nlinux namespaces that the mountpoint has been shared to.\n\nAdd a retry on these operations to harden the deletion\nprocess and prevent spurious failures.\n\nChange-Id: I4aba76b72df274d0a8cb90fe0ab8799523c260ef\nCloses-Bug: #1903773\nRelated-Bug: #1896672\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,762212,e3fea14788471cca01c8219e1ef638007e64c97f,38,8,1,16643,,,0,"Retry unmount operation on the ZFSOnLinux driver

When a share is mounted on the same host as the manila-share
process, zfs prevents us from destroying the underlying
dataset until the share has been cleanly unmounted from
the host. Kernel mounts can take a few seconds to get
unmounted fully especially when there are a lot of
linux namespaces that the mountpoint has been shared to.

Add a retry on these operations to harden the deletion
process and prevent spurious failures.

Change-Id: I4aba76b72df274d0a8cb90fe0ab8799523c260ef
Closes-Bug: #1903773
Related-Bug: #1896672
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/12/762212/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1903773-fix-zfsonlinux-share-unmounting-after-migration-329b1eb2f33f78a3.yaml', 'manila/tests/share/drivers/zfsonlinux/test_driver.py', 'manila/share/drivers/zfsonlinux/driver.py']",3,e3fea14788471cca01c8219e1ef638007e64c97f,bug/1903773," @utils.retry(exception.ProcessExecutionError) def _zfs_destroy_with_retry(): """"""Retry destroying dataset ten times with exponential backoff."""""" # NOTE(bswartz): There appears to be a bug in ZFS when creating and # destroying datasets concurrently where the filesystem remains # mounted even though ZFS thinks it's unmounted. The most reliable # workaround I've found is to force the unmount, then attempt the # destroy, with short pauses around the unmount. (See bug#1546723) try: self.execute('sudo', 'umount', mountpoint) except exception.ProcessExecutionError: # Ignore failed umount, it's normal pass time.sleep(2) # NOTE(vponomaryov): Now, when no file usages and mounts of dataset # exist, destroy dataset. _zfs_destroy_with_retry()"," # NOTE(vponomaryov): Now, when no file usages and mounts of dataset # exist, destroy dataset. try: return except exception.ProcessExecutionError: LOG.info(""Failed to destroy ZFS dataset, retrying one time"") # NOTE(bswartz): There appears to be a bug in ZFS when creating and # destroying datasets concurrently where the filesystem remains mounted # even though ZFS thinks it's unmounted. The most reliable workaround # I've found is to force the unmount, then retry the destroy, with # short pauses around the unmount. time.sleep(1) try: self.execute('sudo', 'umount', mountpoint) except exception.ProcessExecutionError: # Ignore failed umount, it's normal pass time.sleep(1) # This time the destroy is expected to succeed. self.zfs('destroy', '-f', name)",72,71
openstack%2Fcharm-deployment-guide~master~I3f16562ddfd095f3a29b0fe6f6c7588762e37a85,openstack/charm-deployment-guide,master,I3f16562ddfd095f3a29b0fe6f6c7588762e37a85,"Revert ""Begin refactor of CDG""",MERGED,2020-11-17 17:01:41.000000000,2020-11-17 17:34:26.000000000,2020-11-17 17:33:04.000000000,"[{'_account_id': 8992}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-11-17 17:01:41.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/config-openstack.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/1', 'deploy-guide/source/install-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/71daea0c38225950a5c9815c2464b3f037f9f235', 'message': 'Revert ""Begin refactor of CDG""\n\nHypothesis is that the .htaccess file has caused a 500 code internal server error.\n\nThis reverts commit 6e8487816b52514b94f428ae9ef1a69337d85960.\n\nChange-Id: I3f16562ddfd095f3a29b0fe6f6c7588762e37a85\n'}]",0,763047,71daea0c38225950a5c9815c2464b3f037f9f235,8,4,1,30561,,,0,"Revert ""Begin refactor of CDG""

Hypothesis is that the .htaccess file has caused a 500 code internal server error.

This reverts commit 6e8487816b52514b94f428ae9ef1a69337d85960.

Change-Id: I3f16562ddfd095f3a29b0fe6f6c7588762e37a85
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/47/763047/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/config-openstack.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/1', 'deploy-guide/source/install-overview.rst']",12,71daea0c38225950a5c9815c2464b3f037f9f235,cdg-reorg,,"======== Overview ======== The purpose of the Installation section is to demonstrate how to build a multi-node OpenStack cloud with `MAAS`_, `Juju`_, and `OpenStack Charms`_. For easy adoption the cloud will be minimal. Nevertheless, it will be capable of both performing some real work and scaling to fit more ambitious projects. High availability will not be implemented beyond natively HA applications (Ceph, MySQL8, OVN, Swift, and RabbitMQ). The software versions used in this guide are as follows: * **Ubuntu 20.04 LTS (Focal)** for the MAAS server, Juju client, Juju controller, and all cloud nodes (including containers) * **MAAS 2.8.2** * **Juju 2.8.1** * **OpenStack Ussuri** Proceed to the :doc:`Install MAAS <install-maas>` page to begin your installation journey. Hardware requirements are also listed there. .. LINKS .. _MAAS: https://maas.io .. _Juju: https://juju.is .. _OpenStack Charms: https://docs.openstack.org/charm-guide ",256,85
openstack%2Fopenstack-ansible~master~Iecb8daff36c89aa54516cd1f35e376e38b7fe64d,openstack/openstack-ansible,master,Iecb8daff36c89aa54516cd1f35e376e38b7fe64d,Fix octavia tempest tests,MERGED,2020-10-02 09:23:27.000000000,2020-11-17 17:16:55.000000000,2020-10-14 12:26:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-10-02 09:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dbbcbc302bd997a8499788c9055d25b5b7e42c54', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 2, 'created': '2020-10-02 12:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c160903e8301d5fdcbe3fa3ab1c04c1ab9baec0c', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 3, 'created': '2020-10-05 07:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b078c8022e7dbf477cc309da7d3dfaa51a382969', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 4, 'created': '2020-10-05 12:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4348f39effdedcf0b3795018e167330f6eab19d7', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 5, 'created': '2020-10-05 15:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7fd7979777b4c83e7e1937dbea4bd3e0a214189', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 6, 'created': '2020-10-06 11:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93178a2c5e600c58d5c48bc2a303e9b32bb7c38c', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 7, 'created': '2020-10-07 10:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10fab8fbdac04c39cef97084f55d7e4419a45428', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}, {'number': 8, 'created': '2020-10-08 13:03:51.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eae210982469d3fdb190e61acb6d19df5f008374', 'message': 'Fix octavia tempest tests\n\nBecause of bind-to-mgmt, octavia now listens only on internal/admin URL\nuntil [1] got merged.\nTo fix tempest jobs in the meanwhile, we should\nexternaly set to use internal endpoint for interaction.\n\n[1] https://review.opendev.org/733408\n\nChange-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d\nNeeded-By: https://review.opendev.org/755576\n'}]",0,755737,eae210982469d3fdb190e61acb6d19df5f008374,40,4,8,28619,,,0,"Fix octavia tempest tests

Because of bind-to-mgmt, octavia now listens only on internal/admin URL
until [1] got merged.
To fix tempest jobs in the meanwhile, we should
externaly set to use internal endpoint for interaction.

[1] https://review.opendev.org/733408

Change-Id: Iecb8daff36c89aa54516cd1f35e376e38b7fe64d
Needed-By: https://review.opendev.org/755576
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/755737/8 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'],1,dbbcbc302bd997a8499788c9055d25b5b7e42c54,, endpoint_type: internalURL,,1,0
openstack%2Fnova-specs~master~I7a4b87690b597a934e27e254cdb801779f17536c,openstack/nova-specs,master,I7a4b87690b597a934e27e254cdb801779f17536c,Add modernize-os-hypervisors-api spec,MERGED,2020-09-29 19:06:48.000000000,2020-11-17 17:09:51.000000000,2020-11-17 17:07:36.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-29 19:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c2962cdf14f95058d0b4a26ce72eb991d6e5c46d', 'message': ""Add modernize-os-hypervisors-api spec\n\nAdd a spec to track the removal of fields from the\n'/os-hypervisors/detail' API and the entire removal of the\n'/os-hypervisors/statistics' API.\n\nChange-Id: I7a4b87690b597a934e27e254cdb801779f17536c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-09-30 09:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/197b178ee43f8ba0269cb744e1e98f453bc01173', 'message': ""Add modernize-os-hypervisors-api spec\n\nAdd a spec to track the removal of fields from the\n'/os-hypervisors/detail' API and the entire removal of the\n'/os-hypervisors/statistics' API.\n\nChange-Id: I7a4b87690b597a934e27e254cdb801779f17536c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-10-01 11:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/92bbfec70ea08c1c1aaf4bfcc696bf975a2082c9', 'message': ""Add modernize-os-hypervisors-api spec\n\nAdd a spec to track the removal of fields from the\n'/os-hypervisors/detail' API and the entire removal of the\n'/os-hypervisors/statistics' API.\n\nChange-Id: I7a4b87690b597a934e27e254cdb801779f17536c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-11-17 12:28:16.000000000', 'files': ['specs/wallaby/approved/modernize-os-hypervisors-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e7876cd57c9134fc0b45986bcc6be53ccdd41a81', 'message': ""Add modernize-os-hypervisors-api spec\n\nAdd a spec to track the removal of fields from the\n'/os-hypervisors/detail' API and the entire removal of the\n'/os-hypervisors/statistics' API.\n\nChange-Id: I7a4b87690b597a934e27e254cdb801779f17536c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",51,755109,e7876cd57c9134fc0b45986bcc6be53ccdd41a81,31,7,4,15334,,,0,"Add modernize-os-hypervisors-api spec

Add a spec to track the removal of fields from the
'/os-hypervisors/detail' API and the entire removal of the
'/os-hypervisors/statistics' API.

Change-Id: I7a4b87690b597a934e27e254cdb801779f17536c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/09/755109/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/modernize-os-hypervisors-api.rst'],1,c2962cdf14f95058d0b4a26ce72eb991d6e5c46d,bp/modernize-os-hypervisors-api,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================= Remove resource information from ``os-hypervisors`` API ======================================================= https://blueprints.launchpad.net/nova/+spec/modernize-os-hypervisors-api The ``os-hypervisors`` API is around since the early days of nova. Back in those halcyon days, it provided a nice way to get a quick summary of the resource usage of individual compute nodes in your deployment. Today, however, it's a shell of itself. The more detailed information it returns is hypervisor-specific and frequently wrong, especially with advanced features like CPU pinning or file-based memory. With the elevation of placement to its rightful place as lord of (almost) all things resource'y, the ``os-hypervisor`` API needs to slim down significantly. Problem description =================== Consider the output of a typical ``GET /os-hypervisors/detail`` call, as taken from the API ref [1]_: .. code-block:: json { ""hypervisors"": [ { ""cpu_info"": { ""arch"": ""x86_64"", ""model"": ""Nehalem"", ""vendor"": ""Intel"", ""features"": [ ""pge"", ""clflush"" ], ""topology"": { ""cores"": 1, ""threads"": 1, ""sockets"": 4 } }, ""current_workload"": 0, ""status"": ""enabled"", ""state"": ""up"", ""disk_available_least"": 0, ""host_ip"": ""1.1.1.1"", ""free_disk_gb"": 1028, ""free_ram_mb"": 7680, ""hypervisor_hostname"": ""host1"", ""hypervisor_type"": ""fake"", ""hypervisor_version"": 1000, ""id"": 2, ""local_gb"": 1028, ""local_gb_used"": 0, ""memory_mb"": 8192, ""memory_mb_used"": 512, ""running_vms"": 0, ""service"": { ""host"": ""host1"", ""id"": 6, ""disabled_reason"": null }, ""vcpus"": 2, ""vcpus_used"": 0 } ], ""hypervisors_links"": [ { ""href"": ""http://openstack.example.com/v2.1/6f70656e737461636b20342065766572/os-hypervisors/detail?limit=1&marker=2"", ""rel"": ""next"" } ] } The fields here broadly fall into three categories: useful but duplicated in the summary (non-detailed) view, useful and unique to the detailed view, and not useful. First, the useful but duplicated fields: - ``id`` - ``status`` - ``state`` - ``hypervisor_hostname`` Next, the useful fields unique to the detailed view: - ``host_ip`` - ``hypervisor_type`` - ``hypervisor_version`` - ``service`` - ``current_workload`` Finally, the useless fields: - ``cpu_info`` Useful at face value but irrelevant in practice outside of requests for specific CPU features, which are already handled by placement trait requests. - ``free_disk_gb``, ``local_gb``, ``local_gb_used``, ``disk_available_least``  Almost always wrong if shared storage is in use and doesn't take overcommit into account. Use placement. - ``free_ram_mb``, ``memory_mb``, ``memory_mb_used`` Doesn't take overcommit into account. Use placement. - ``running_vms`` Easily figured out by filtering running instances by host (admin-only, like this API). .. [1]: https://docs.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail,show-hypervisor-details-detail Use Cases --------- As a user, I don't want to see misleading information reported from my API. Proposed change =============== Remove the resource-related fields from the output of the ``/os-hypervisors/detail`` API and remove the ``/os-hypervisors/statistics`` API in its entirety. Alternatives ------------ We could document the incorrect nature of these APIs. This is less desirable since people don't read documentation. Data model impact ----------------- None. REST API impact --------------- The ``/os-hypervisors/detail`` API will no longer include the following fields in it's response: ``cpu_info``, ``free_disk_gb``, ``local_gb``, ``local_gb_used``, ``disk_available_least``, ``free_ram_mb``, ``memory_mb``, ``memory_mb_used`` and ``running_vms``. The ``/os-hypervisors/statistics`` API will be removed entirely. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- The clients will need to be updated. Documentation referencing these APIs will need to be updated with recommendations to look at placement instead. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: stephenfinucane Other contributors: None Feature Liaison --------------- None. Work Items ---------- - Update the APIs in a new microversion. - Update the documentation to remove references to these deprecated APIs. - Update the clients to reflect the deprecations. Dependencies ============ None. Testing ======= Unit and functional tests. Tempest tests will need to be updated to cap against the latest microversion to support these APIs. Documentation Impact ==================== References to the APIs will need to be removed or updated. References ========== None. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Wallaby - Introduced ",,245,0
openstack%2Freleases~master~I4ec3f0fcc496d97db4fb4dae9b974b41f999287b,openstack/releases,master,I4ec3f0fcc496d97db4fb4dae9b974b41f999287b,Release OpenStack-Ansible Victoria Milestone,MERGED,2020-11-16 11:00:12.000000000,2020-11-17 17:04:01.000000000,2020-11-17 17:04:00.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-16 11:00:12.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2c0a067785bcf540c3f744571efb62f026c83f3c', 'message': 'Release OpenStack-Ansible Victoria Milestone\n\nChange-Id: I4ec3f0fcc496d97db4fb4dae9b974b41f999287b\n'}]",0,762821,2c0a067785bcf540c3f744571efb62f026c83f3c,8,3,1,28619,,,0,"Release OpenStack-Ansible Victoria Milestone

Change-Id: I4ec3f0fcc496d97db4fb4dae9b974b41f999287b
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/762821/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,2c0a067785bcf540c3f744571efb62f026c83f3c,release_osa,releases: - version: 22.0.0.0b1 projects: - repo: openstack/openstack-ansible hash: d27c9f595159b28920e8bbb636619c68f6af58dd,,5,0
openstack%2Fcharm-deployment-guide~master~Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c,openstack/charm-deployment-guide,master,Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c,Begin refactor of CDG,MERGED,2020-11-13 18:56:09.000000000,2020-11-17 17:01:41.000000000,2020-11-17 15:53:15.000000000,"[{'_account_id': 8992}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-11-13 18:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6bc232615283a61e3b5e776628cb3ae9e3d7c0c5', 'message': 'Begin refactor of CDG\n\nUsed content from the index.rst file to create an\noverview.rst file for the new Installation section.\n\nMinor rewording of the beginnings of a few files.\nRemove their Overview sections.\n\nRemove index file used for appendices (app.rst).\nDisplay them directly in the menu and give them\nbetter visible menu names. Many of these will\neventually become parts of new sections in\nsubsequent PRs.\n\nRemove a rogue file (""1"") that slipped in during\nCeph erasure coding work.\n\nChange-Id: Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c\n'}, {'number': 2, 'created': '2020-11-13 20:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9114329475153d219b6c81a29484218f2bd9ddd9', 'message': ""Begin refactor of CDG\n\nEnable htaccess file to allow for HTTP redirections.\nThe guide's reorg (topic 'cdg-reorg') will require\na number of them. Here, the first one is being\nimplemented and has been tested locally:\n\n'config-openstack.rst' --> 'configure-openstack.rst'\n\nUse content from the index.rst file to create\n'overview.rst' for the new Installation section.\n\nMinor rewording of the beginnings of a few files.\nRemove their Overview sections.\n\nRemove index file 'app.rst' used for appendices.\nDisplay appendices directly in the menu and give\nthem better visible menu names. Many of these will\neventually become parts of new sections in\nsubsequent PRs.\n\nRemove rogue file '1' that slipped in during\nCeph erasure coding work.\n\nChange-Id: Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c\n""}, {'number': 3, 'created': '2020-11-13 20:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/571549478a722b8652cb8f34a528a5bd47ef6b58', 'message': ""Begin refactor of CDG\n\nEnable htaccess file to allow for HTTP redirections.\nThe guide's reorg (topic 'cdg-reorg') will require\na number of them. Here, the first one is being\nimplemented and has been tested locally:\n\n'config-openstack.rst' --> 'configure-openstack.rst'\n\nUse content from the index.rst file to create\n'install-overview.rst' for the new Installation\nsection.\n\nMinor rewording of the beginnings of a few files.\nRemove their Overview sections.\n\nRemove index file 'app.rst' used for appendices.\nDisplay appendices directly in the menu and give\nthem better visible menu names. Many of these will\neventually become parts of new sections in\nsubsequent PRs.\n\nRemove rogue file '1' that slipped in during Ceph\nerasure coding work.\n\nChange-Id: Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c\n""}, {'number': 4, 'created': '2020-11-13 21:10:34.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/app-masakari.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/configure-openstack.rst', 'deploy-guide/source/conf.py', 'deploy-guide/source/index.rst', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/1', 'deploy-guide/source/install-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6e8487816b52514b94f428ae9ef1a69337d85960', 'message': ""Begin refactor of CDG\n\nEnable htaccess file to allow for HTTP redirections.\nThe guide's reorg (topic 'cdg-reorg') will require\na number of them. Here, the first one is being\nimplemented and has been tested locally:\n\nconfig-openstack.rst --> configure-openstack.rst\n\nUse content from the 'index.rst' file to create\n'install-overview.rst' for the new Installation\nsection.\n\nMinor rewording of the beginnings of a few files.\nRemove their Overview sections.\n\nRemove index file 'app.rst' used for appendices.\nDisplay appendices directly in the menu and give\nthem better visible menu names. Many of these will\neventually become parts of new sections in\nsubsequent PRs.\n\nRemove rogue file '1' that slipped in during Ceph\nerasure coding work.\n\nAdd '.html' extension to a few links.\n\nChange-Id: Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c\n""}]",2,762703,6e8487816b52514b94f428ae9ef1a69337d85960,17,4,4,30561,,,0,"Begin refactor of CDG

Enable htaccess file to allow for HTTP redirections.
The guide's reorg (topic 'cdg-reorg') will require
a number of them. Here, the first one is being
implemented and has been tested locally:

config-openstack.rst --> configure-openstack.rst

Use content from the 'index.rst' file to create
'install-overview.rst' for the new Installation
section.

Minor rewording of the beginnings of a few files.
Remove their Overview sections.

Remove index file 'app.rst' used for appendices.
Display appendices directly in the menu and give
them better visible menu names. Many of these will
eventually become parts of new sections in
subsequent PRs.

Remove rogue file '1' that slipped in during Ceph
erasure coding work.

Add '.html' extension to a few links.

Change-Id: Ib6cbca00f84bb79f9f56c5166e5811fab78ee16c
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/03/762703/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/1', 'deploy-guide/source/app.rst', 'deploy-guide/source/config-openstack.rst', 'deploy-guide/source/overview.rst', 'deploy-guide/source/index.rst']",7,6bc232615283a61e3b5e776628cb3ae9e3d7c0c5,cdg-reorg,"The OpenStack Charms Deployment Guide is the main source of information for OpenStack Charms usage. A search facility is available as a separate :ref:`search`. Also included is a wealth of information in the form of appendices. These cover a wide variety of subjects, such as an elaboration of a specific charm feature or instructions for upgrading an OpenStack cloud... note:: For project information, development guidelines, release notes, and release schedules, please refer to the `OpenStack Charm Guide`_. :caption: Installation :maxdepth: 1 overview install-maas install-juju install-openstack install-openstack-bundle config-openstack .. toctree:: :caption: Appendices :maxdepth: 1 OpenStack upgrades <app-upgrade-openstack> Series upgrade <app-series-upgrade> Series upgrade OpenStack <app-series-upgrade-openstack> Vault <app-vault> Certificate lifecycle management <app-certificate-management> Encryption at Rest <app-encryption-at-rest> Additional Nova cells <app-nova-cells> Octavia LBaaS <app-octavia> PCI passthrough <app-pci-passthrough-gpu> Ceph erasure coding <app-erasure-coding> Ceph RADOS Gateway multisite replication <app-rgw-multisite> Ceph RBD mirroring <app-ceph-rbd-mirror> Ceph iSCSI <app-ceph-iscsi> Ceph charm deprecation <app-ceph-migration> Masakari <app-masakari> Policy overrides <app-policy-overrides> OVN <app-ovn> Managing power events <app-managing-power-events> Manila Ganesha <app-manila-ganesha> Swift usage <app-swift> NIC hardware offload <app-hardware-offload> High availability <app-ha> TrilioVault Data Protection <app-trilio-vault> Bridge interface configuration <app-bridge-interface-configuration>.. _OpenStack Charm Guide: https://docs.openstack.org/charm-guide",".. OpenStack documentation master file, created by sphinx-quickstart on Fri Jun 30 11:14:11 2017. You can adapt this file completely to your liking, but it should at least contain the root `toctree` directive. Overview -------- The main purpose of the OpenStack Charms Deployment Guide is to demonstrate how to build a multi-node OpenStack cloud with `MAAS`_, `Juju`_, and `OpenStack Charms`_. For easy adoption the cloud will be minimal. Nevertheless, it will be capable of both performing some real work and scaling to fit more ambitious projects. High availability will not be implemented beyond natively HA applications (Ceph, MySQL8, OVN, Swift, and RabbitMQ). .. note:: For OpenStack Charms project information, development guidelines, release notes, and release schedules, please refer to the `OpenStack Charm Guide`_. Requirements ------------ The software versions used in this guide are as follows: * **Ubuntu 20.04 LTS (Focal)** for the MAAS server, Juju client, Juju controller, and all cloud nodes (including containers) * **MAAS 2.8.2** * **Juju 2.8.1** * **OpenStack Ussuri** Hardware requirements are listed on the :doc:`Install MAAS <install-maas>` page. Appendices ---------- The guide also includes a wealth of information in the form of appendices. These cover a wide variety of subjects, such as an elaboration of a specific charm feature, how to upgrade an OpenStack cloud, or how to manage power events in a cloud. Help improve this guide -----------------------Table of contents ----------------- :maxdepth: 2 install-maas.rst install-juju.rst install-openstack.rst install-openstack-bundle.rst config-openstack.rst app.rst * :ref:`search`.. _MAAS: https://maas.io .. _Juju: https://jaas.ai .. _OpenStack Charms: https://docs.openstack.org/charm-guide .. _OpenStack Charm Guide: https://docs.openstack.org/charm-guide",74,250
openstack%2Fheat~master~I3422e96a66b9f4fd41590ca0081bc9afff5cd666,openstack/heat,master,I3422e96a66b9f4fd41590ca0081bc9afff5cd666,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-09 05:28:48.000000000,2020-11-17 16:56:15.000000000,2020-11-17 16:54:27.000000000,"[{'_account_id': 12404}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 05:28:48.000000000', 'files': ['heat/tests/engine/test_check_resource.py', 'heat/tests/openstack/keystone/test_role_assignments.py', 'heat/tests/openstack/nova/test_flavor.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f0c7508aba62541f4579319f81a9196514f0da9b', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I3422e96a66b9f4fd41590ca0081bc9afff5cd666\n'}]",0,740161,f0c7508aba62541f4579319f81a9196514f0da9b,9,3,1,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I3422e96a66b9f4fd41590ca0081bc9afff5cd666
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/740161/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/test_check_resource.py', 'heat/tests/openstack/keystone/test_role_assignments.py', 'heat/tests/openstack/nova/test_flavor.py', 'heat/tests/test_resource.py']",4,f0c7508aba62541f4579319f81a9196514f0da9b,unittest2," self.assertCountEqual([1, 3], res.requires) self.assertCountEqual([5, 3], res.requires) self.assertCountEqual([5, 3], res.requires) self.assertCountEqual([3, 4], res.requires) self.assertCountEqual([2, 3, 4], res.requires) self.assertCountEqual([2], res.requires)"," self.assertItemsEqual([1, 3], res.requires) self.assertItemsEqual([5, 3], res.requires) self.assertItemsEqual([5, 3], res.requires) self.assertItemsEqual([3, 4], res.requires) self.assertItemsEqual([2, 3, 4], res.requires) self.assertItemsEqual([2], res.requires)",10,10
openstack%2Fswift~master~I99b351eee4fb86b6fcd54f7936b11f4918e1b999,openstack/swift,master,I99b351eee4fb86b6fcd54f7936b11f4918e1b999,slo: 5xx while validating first segment is a server error,ABANDONED,2020-11-13 22:43:16.000000000,2020-11-17 16:39:32.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 22:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a63f3e6444a0f7fac613e2b0cdef9ea2b699a123', 'message': 'slo: 5xx while validating first segment is a server error\n\nChange-Id: I99b351eee4fb86b6fcd54f7936b11f4918e1b999\n'}, {'number': 2, 'created': '2020-11-14 06:08:38.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/request_helpers.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6e92ba19590ab6981417cdd9d8b5ddb5ae009742', 'message': 'slo: 5xx while validating first segment is a server error\n\nChange-Id: I99b351eee4fb86b6fcd54f7936b11f4918e1b999\n'}]",10,762718,6e92ba19590ab6981417cdd9d8b5ddb5ae009742,6,2,2,15343,,,0,"slo: 5xx while validating first segment is a server error

Change-Id: I99b351eee4fb86b6fcd54f7936b11f4918e1b999
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/762718/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/request_helpers.py', 'swift/common/exceptions.py']",4,a63f3e6444a0f7fac613e2b0cdef9ea2b699a123,," def __init__(self, msg, resp=None): super(SwiftException, self).__init__(msg) self.resp = resp", pass,36,7
openstack%2Fceilometer~master~If0b3ecffaccff9512ec43b853a8a6eaa8088251e,openstack/ceilometer,master,If0b3ecffaccff9512ec43b853a8a6eaa8088251e,Reuse the docs deps to benefit from constraints,MERGED,2020-11-17 11:55:35.000000000,2020-11-17 16:31:52.000000000,2020-11-17 16:29:48.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-17 11:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c9e776508d954f68f6e5294e0c516c535a4a3e88', 'message': ""Reuse the docs deps to benefit from constraints\n\nTox trying to install latest versions for building releasenotes,\nwhich may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: If0b3ecffaccff9512ec43b853a8a6eaa8088251e\n""}, {'number': 2, 'created': '2020-11-17 12:01:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3cb72163aa6f303e0f3875912b0ddb34733f3e6d', 'message': ""Reuse the docs deps to benefit from constraints\n\nTox trying to install latest versions for building releasenotes,\nwhich may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: If0b3ecffaccff9512ec43b853a8a6eaa8088251e\n""}]",0,762999,3cb72163aa6f303e0f3875912b0ddb34733f3e6d,8,2,2,32029,,,0,"Reuse the docs deps to benefit from constraints

Tox trying to install latest versions for building releasenotes,
which may not be supported by stable and lower branches,
so should be restricted by respective version's upper-constraints.txt

Change-Id: If0b3ecffaccff9512ec43b853a8a6eaa8088251e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/99/762999/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9e776508d954f68f6e5294e0c516c535a4a3e88,releasenotes,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fpuppet-nova~master~I994d16125d8cc03f522f3e4be536b76a35a102a5,openstack/puppet-nova,master,I994d16125d8cc03f522f3e4be536b76a35a102a5,Build containers for single consumer job,MERGED,2020-10-29 17:08:01.000000000,2020-11-17 16:13:45.000000000,2020-11-17 16:13:45.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 17:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ddae15404ec67974cc1068db226b5758783dc64d', 'message': 'Add content provider jobs for tripleo based jobs\n\nRelated change:\nhttps://review.opendev.org/#/c/760249/\n\nChange-Id: I994d16125d8cc03f522f3e4be536b76a35a102a5\n'}, {'number': 2, 'created': '2020-11-06 14:27:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7f3321d8a6c468aaa13b039239fde3835352fd78', 'message': 'Build containers for single consumer job\n\nMake standalone job build containers when there is one single\nconsumer job in layout. Do not run content provider jobs in\nthis case.\n\nChange-Id: I994d16125d8cc03f522f3e4be536b76a35a102a5\n'}]",1,760418,7f3321d8a6c468aaa13b039239fde3835352fd78,28,6,2,9976,,,0,"Build containers for single consumer job

Make standalone job build containers when there is one single
consumer job in layout. Do not run content provider jobs in
this case.

Change-Id: I994d16125d8cc03f522f3e4be536b76a35a102a5
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/18/760418/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ddae15404ec67974cc1068db226b5758783dc64d,new-ci-job, - tripleo-ci-centos-8-content-provider - puppet-nova-tripleo-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - puppet-nova-tripleo-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider, - puppet-nova-tripleo-standalone - puppet-nova-tripleo-standalone,14,2
openstack%2Fgrenade~stable%2Fussuri~I389e2a4f8135e0e22a70098b95c17457cbedf1cf,openstack/grenade,stable/ussuri,I389e2a4f8135e0e22a70098b95c17457cbedf1cf,Fix horizon upgrade: remove screen_stop call,MERGED,2020-08-24 08:54:44.000000000,2020-11-17 16:09:00.000000000,2020-11-17 16:06:59.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 08:54:44.000000000', 'files': ['projects/80_horizon/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/451d8fd19c9e8a5161231412fb81376b7a239e54', 'message': 'Fix horizon upgrade: remove screen_stop call\n\nThe screen_stop function was removed some time ago together\nwith the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)\n\nThis does probably mean no proper horizon/grenade testing has been\ndone in the past 3 years...\n\nChange-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf\n(cherry picked from commit 290ebb4220e95da85a7906fe0de9bc1c8728b295)\n'}]",0,747650,451d8fd19c9e8a5161231412fb81376b7a239e54,8,3,1,10459,,,0,"Fix horizon upgrade: remove screen_stop call

The screen_stop function was removed some time ago together
with the screen support (I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a)

This does probably mean no proper horizon/grenade testing has been
done in the past 3 years...

Change-Id: I389e2a4f8135e0e22a70098b95c17457cbedf1cf
(cherry picked from commit 290ebb4220e95da85a7906fe0de9bc1c8728b295)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/50/747650/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/80_horizon/upgrade.sh'],1,451d8fd19c9e8a5161231412fb81376b7a239e54,fix-horizon-upgrade-screen,,# Kill horizon screen session if there one screen_stop horizon,0,2
openstack%2Freleases~master~Ia382d51a276edd38ec633eb929597da7eed2a3a8,openstack/releases,master,Ia382d51a276edd38ec633eb929597da7eed2a3a8,Release hacking 4.0.0,MERGED,2020-11-09 19:30:19.000000000,2020-11-17 15:53:34.000000000,2020-11-12 11:08:00.000000000,"[{'_account_id': 308}, {'_account_id': 5689}, {'_account_id': 8281}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-11-09 19:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0bec50e1781ce1aa50d98990eee7d7cbffae95ba', 'message': 'Release hacking 4.0.0\n\nChange-Id: Ia382d51a276edd38ec633eb929597da7eed2a3a8\n'}, {'number': 2, 'created': '2020-11-09 20:00:57.000000000', 'files': ['deliverables/_independent/hacking.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2d580808e548763c984e21081d3d60192bfb8c9c', 'message': 'Release hacking 4.0.0\n\nChange-Id: Ia382d51a276edd38ec633eb929597da7eed2a3a8\n'}]",4,761988,2d580808e548763c984e21081d3d60192bfb8c9c,16,8,2,8556,,,0,"Release hacking 4.0.0

Change-Id: Ia382d51a276edd38ec633eb929597da7eed2a3a8
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/761988/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/hacking.yaml'],1,0bec50e1781ce1aa50d98990eee7d7cbffae95ba,, - version: 4.0.0  projects:  - repo: openstack/hacking  hash: f82f995d022f5e1786460900266dc0e54786eacd,,4,0
openstack%2Fproject-config~master~I0cedc5519d7c56c7b050664cd960650e6756b40d,openstack/project-config,master,I0cedc5519d7c56c7b050664cd960650e6756b40d,Add SNMP Armada App to StarlingX.,MERGED,2020-10-08 14:02:47.000000000,2020-11-17 15:51:42.000000000,2020-10-14 15:36:39.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 16986}, {'_account_id': 22348}, {'_account_id': 26026}, {'_account_id': 28286}, {'_account_id': 31799}, {'_account_id': 31928}, {'_account_id': 31978}, {'_account_id': 32241}, {'_account_id': 32244}, {'_account_id': 32249}, {'_account_id': 32392}]","[{'number': 1, 'created': '2020-10-08 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2912167ed48ae1f09d9ec643947340161ca484ca', 'message': 'Add initial files to project-config repo.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- net-snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to starlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask:  40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}, {'number': 2, 'created': '2020-10-08 14:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a81771218f7cc935d59e6080d26ae56dbd7c120b', 'message': 'Add initial files to project-config repo.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- net-snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to starlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask: 40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}, {'number': 3, 'created': '2020-10-08 14:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/44270f73ea225d808d86619a2f0a132cadeb7272', 'message': 'Add SNMP Armada app to StarlingX.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- net-snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to starlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask: 40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}, {'number': 4, 'created': '2020-10-09 14:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5902f280f3c2191760217ac3f060692e8b3f455', 'message': 'Add initial files to project-config repo.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- net-snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to starlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask:  40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}, {'number': 5, 'created': '2020-10-09 15:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f1109459606048cf0082249fc0a13dbf8ed9ebbc', 'message': 'Add SNMP Armada App to StarlingX.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to StarlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask: 40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}, {'number': 6, 'created': '2020-10-09 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f06dc54b7534598f107fc6181544cbeaf9facce1', 'message': 'Add SNMP Armada App to StarlingX.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to StarlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask: 40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}, {'number': 7, 'created': '2020-10-09 16:55:54.000000000', 'files': ['gerrit/acls/starlingx/snmp-armada-app.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8db97a2b0e948be70e0f02d87550b067ef4b546f', 'message': 'Add SNMP Armada App to StarlingX.\n\nIn order to include the new SNMP Armada App we are adding\nthese 3 files:\n- snmp-armada-app.config: repo definition config\n- projects.yaml: include the project to StarlingX environment\n- main.yaml: add reference to new application\n\nStory: 2008132\nTask: 40857\n\nChange-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d\nSigned-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>\n'}]",4,756717,8db97a2b0e948be70e0f02d87550b067ef4b546f,33,13,7,32392,,,0,"Add SNMP Armada App to StarlingX.

In order to include the new SNMP Armada App we are adding
these 3 files:
- snmp-armada-app.config: repo definition config
- projects.yaml: include the project to StarlingX environment
- main.yaml: add reference to new application

Story: 2008132
Task: 40857

Change-Id: I0cedc5519d7c56c7b050664cd960650e6756b40d
Signed-off-by: Nicolas Alvarez <nicolas.alvarez@windriver.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/756717/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/starlingx/net-snmp-armada-app.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,2912167ed48ae1f09d9ec643947340161ca484ca,756717, - starlingx/net-snmp-armada-app,,24,0
openstack%2Freleases~master~I1a2bc2b007580a7500b933369cb17f5919cfbf02,openstack/releases,master,I1a2bc2b007580a7500b933369cb17f5919cfbf02,[monasca] Transition Stein to EM,MERGED,2020-11-11 19:42:55.000000000,2020-11-17 15:48:35.000000000,2020-11-17 15:48:35.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-11 19:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c1368f5a7b75b67dbe2590fccafd43bebe257880', 'message': '[monasca] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1a2bc2b007580a7500b933369cb17f5919cfbf02\n'}, {'number': 2, 'created': '2020-11-11 22:36:23.000000000', 'files': ['deliverables/stein/python-monascaclient.yaml', 'deliverables/stein/monasca-events-api.yaml', 'deliverables/stein/monasca-log-api.yaml', 'deliverables/stein/monasca-api.yaml', 'deliverables/stein/monasca-persister.yaml', 'deliverables/stein/monasca-ceilometer.yaml', 'deliverables/stein/monasca-ui.yaml', 'deliverables/stein/monasca-common.yaml', 'deliverables/stein/monasca-notification.yaml', 'deliverables/stein/monasca-thresh.yaml', 'deliverables/stein/monasca-kibana-plugin.yaml', 'deliverables/stein/monasca-statsd.yaml', 'deliverables/stein/monasca-transform.yaml', 'deliverables/stein/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/47ed53bdc4c06c96a3cd8b0d48c64436dd752487', 'message': '[monasca] Transition Stein to EM\n\nThis transition the stein branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1a2bc2b007580a7500b933369cb17f5919cfbf02\n'}]",0,762402,47ed53bdc4c06c96a3cd8b0d48c64436dd752487,19,4,2,17685,,,0,"[monasca] Transition Stein to EM

This transition the stein branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I1a2bc2b007580a7500b933369cb17f5919cfbf02
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/762402/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/python-monascaclient.yaml', 'deliverables/stein/monasca-events-api.yaml', 'deliverables/stein/monasca-log-api.yaml', 'deliverables/stein/monasca-api.yaml', 'deliverables/stein/monasca-persister.yaml', 'deliverables/stein/monasca-tempest-plugin.yaml', 'deliverables/stein/monasca-ceilometer.yaml', 'deliverables/stein/monasca-ui.yaml', 'deliverables/stein/monasca-common.yaml', 'deliverables/stein/monasca-notification.yaml', 'deliverables/stein/monasca-thresh.yaml', 'deliverables/stein/monasca-kibana-plugin.yaml', 'deliverables/stein/monasca-statsd.yaml', 'deliverables/stein/monasca-transform.yaml', 'deliverables/stein/monasca-agent.yaml']",15,c1368f5a7b75b67dbe2590fccafd43bebe257880,stein-em, - version: stein-em projects: - repo: openstack/monasca-agent hash: b3ee53d4f5901e517a74920c6d1ba0f5ebfb9e7b,,60,0
openstack%2Fheat~master~Ie498b5fe77129e27a163b76a8f9ec335a5407d52,openstack/heat,master,Ie498b5fe77129e27a163b76a8f9ec335a5407d52,Create subnet when subnetpool and cidr are given.,NEW,2020-09-24 06:07:09.000000000,2020-11-17 15:38:51.000000000,,"[{'_account_id': 10068}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-24 06:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/73dd767849c7cff2e3a38e0ee6da84e594c31f47', 'message': 'Create subnet when subnetpool and cidr are given\n\nHeat cannot create subnet when both subnetpool and cidr\nare specified.\nSo changed the validation to accept the condition.\n\nChange-Id: Ie498b5fe77129e27a163b76a8f9ec335a5407d52\nCloses-Bug: #2007985\n'}, {'number': 2, 'created': '2020-09-29 09:20:37.000000000', 'files': ['heat/engine/resources/openstack/neutron/subnet.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/07e9adc96511ced821a5c042cdbeb091048562d5', 'message': 'Create subnet when subnetpool and cidr are given.\n\nHeat cannot create subnet when both subnetpool and cidr\nare specified.\nSo changed the validation to accept the condition.\n\nChange-Id: Ie498b5fe77129e27a163b76a8f9ec335a5407d52\nCloses-Bug: #2007985\n'}]",0,753947,07e9adc96511ced821a5c042cdbeb091048562d5,6,3,2,32450,,,0,"Create subnet when subnetpool and cidr are given.

Heat cannot create subnet when both subnetpool and cidr
are specified.
So changed the validation to accept the condition.

Change-Id: Ie498b5fe77129e27a163b76a8f9ec335a5407d52
Closes-Bug: #2007985
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/753947/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/subnet.py'],1,73dd767849c7cff2e3a38e0ee6da84e594c31f47,,," if subnetpool is not None and cidr: raise exception.ResourcePropertyConflict(self.SUBNETPOOL, self.CIDR)",0,3
openstack%2Fheat~master~I0700e8835f21a283ac024eb6a637dedd1674cf36,openstack/heat,master,I0700e8835f21a283ac024eb6a637dedd1674cf36,Add heat-manage command to check convergence status,NEW,2020-06-15 13:22:54.000000000,2020-11-17 15:27:54.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-15 13:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eba00b2f03561122026e5efe60083694c7bf27cb', 'message': 'Add heat-manage command to check convergence migration status\n\nChange-Id: I0700e8835f21a283ac024eb6a637dedd1674cf36\n'}, {'number': 2, 'created': '2020-07-02 05:19:32.000000000', 'files': ['heat/rpc/client.py', 'heat/tests/engine/service/test_service_engine.py', 'releasenotes/notes/add-heat-manage-check-convergence-status-8298b057537b9ab4.yaml', 'heat/cmd/manage.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/77060d077a01f61cb65267d50ef7ec8b74dc11a9', 'message': 'Add heat-manage command to check convergence status\n\nThis adds a new command to check convegence migration status\nof a stack or all stacks.\n\nTask: 40265\nChange-Id: I0700e8835f21a283ac024eb6a637dedd1674cf36\n'}]",5,735589,77060d077a01f61cb65267d50ef7ec8b74dc11a9,6,4,2,8833,,,0,"Add heat-manage command to check convergence status

This adds a new command to check convegence migration status
of a stack or all stacks.

Task: 40265
Change-Id: I0700e8835f21a283ac024eb6a637dedd1674cf36
",git fetch https://review.opendev.org/openstack/heat refs/changes/89/735589/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/rpc/client.py', 'heat/tests/engine/service/test_service_engine.py', 'heat/cmd/manage.py', 'heat/engine/service.py']",4,eba00b2f03561122026e5efe60083694c7bf27cb,," RPC_API_VERSION = '1.37' def migrate_convergence_1(self, ctxt, stack_id, check_only=False): if check_only: return parent_stack.convergence "," RPC_API_VERSION = '1.36' def migrate_convergence_1(self, ctxt, stack_id):",36,6
openstack%2Fopenstacksdk~master~I714d7b5e9dbb2e76c6061419af58fc76817185a9,openstack/openstacksdk,master,I714d7b5e9dbb2e76c6061419af58fc76817185a9,Fix the invalid if statement,MERGED,2020-11-17 09:14:43.000000000,2020-11-17 15:26:56.000000000,2020-11-17 15:25:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-17 09:14:43.000000000', 'files': ['openstack/tests/functional/cloud/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fc36c34724ac389102909fb775d996aa8e1d0245', 'message': 'Fix the invalid if statement\n\nThis is to fix the invalid if statement like ""if \'interface\' == \'internal\'""\n\nChange-Id: I714d7b5e9dbb2e76c6061419af58fc76817185a9\n'}]",0,762975,fc36c34724ac389102909fb775d996aa8e1d0245,7,2,1,20190,,,0,"Fix the invalid if statement

This is to fix the invalid if statement like ""if 'interface' == 'internal'""

Change-Id: I714d7b5e9dbb2e76c6061419af58fc76817185a9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/762975/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/cloud/test_endpoints.py'],1,fc36c34724ac389102909fb775d996aa8e1d0245,string_compare, if e['interface'] == 'internal': elif e['interface'] == 'public':, if 'interface' == 'internal': elif 'interface' == 'public':,2,2
openstack%2Freleases~master~I65ed4b6c0d8313c3624ea10e99049d832e92383b,openstack/releases,master,I65ed4b6c0d8313c3624ea10e99049d832e92383b,Re-release Masakari Monitors,ABANDONED,2020-11-13 12:45:51.000000000,2020-11-17 15:26:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-13 12:45:51.000000000', 'files': ['deliverables/stein/masakari-monitors.yaml', 'deliverables/train/masakari-monitors.yaml', 'deliverables/ussuri/masakari-monitors.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/535f8c865e7b7fa4739398621a8b77ac3fb65413', 'message': 'Re-release Masakari Monitors\n\nDue to [1].\nThe faulting dep has been removed in [2].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018733.html\n[2] https://review.opendev.org/762637\n\nChange-Id: I65ed4b6c0d8313c3624ea10e99049d832e92383b\n'}]",0,762648,535f8c865e7b7fa4739398621a8b77ac3fb65413,5,2,1,30491,,,0,"Re-release Masakari Monitors

Due to [1].
The faulting dep has been removed in [2].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018733.html
[2] https://review.opendev.org/762637

Change-Id: I65ed4b6c0d8313c3624ea10e99049d832e92383b
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/762648/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/masakari-monitors.yaml', 'deliverables/train/masakari-monitors.yaml', 'deliverables/ussuri/masakari-monitors.yaml']",3,535f8c865e7b7fa4739398621a8b77ac3fb65413,masakari-monitors-2020-11-13, - version: 9.0.2 projects: - repo: openstack/masakari-monitors hash: 04c6d79a32137b834d635d0c4db937deada74120,,12,0
openstack%2Fpaunch~stable%2Ftrain~I8b1fbbb7499a69e7a131fd8650c6f50fb4ab978e,openstack/paunch,stable/train,I8b1fbbb7499a69e7a131fd8650c6f50fb4ab978e,Fix inspect images calls to not use the index format keyword,MERGED,2020-11-12 19:03:14.000000000,2020-11-17 15:18:01.000000000,2020-11-14 15:51:14.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-12 19:03:14.000000000', 'files': ['paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/7e496911451b5d6fca9766fe1e294c7e5e5523ff', 'message': 'Fix inspect images calls to not use the index format keyword\n\nVia https://review.opendev.org/#/c/752937/ we added the following code:\n       if container_image:\n            image_id_str = self.runner.inspect(\n                container_image, ""{{index .Id}}"", o_type=\'image\')\n            if str(image_id_str).strip() != inspect_info.get(\'Image\'):\n                self.log.debug(""Deleting container (image updated): ""\n                               ""%s"" % container)\n                self.runner.remove_container(container)\n                return True\n\nThis code works fine in docker:\n[root@controller-0 ~]# docker inspect --type image --format \'{{index\n.Id}}\' f6ec0f326154\nsha256:f6ec0f326154a80b6844a03c2de2904bbbefea6cdf87acb606ff869ace1a8dd4\n\nBut is problematic in podman (both on 1.6.4 and 2.1.1 versions):\n[root@controller-0 ~]# podman inspect --type image --format \'{{index\n.Id}}\'\nundercloud-0.ctlplane.redhat.local:8787/rh-osbs/rhosp16-openstack-cinder-volume:16.2_20201110.2-hotfixupdate2\nERRO[0000] Error printing inspect output: Template parsing error:\ntemplate: image:1:8: executing ""image"" at <.Id>: can\'t evaluate field Id\nin type *entities.ImageInspectReport\n\nThis has the side-effect of restarting all containers at each identical\nredeploy.\n\nWe can just drop the \'index\' in the query since it works in both docker\nand podman:\n[root@controller-0 ~]# docker inspect --type image --format \'{{.Id}}\'\nf6ec0f326154\nsha256:f6ec0f326154a80b6844a03c2de2904bbbefea6cdf87acb606ff869ace1a8dd4\n\n[root@controller-0 ~]# podman inspect --type image --format \'{{.Id}}\'\n5093412f3a08\n\nChange-Id: I8b1fbbb7499a69e7a131fd8650c6f50fb4ab978e\nCloses-Bug: #1904043\n'}]",0,762567,7e496911451b5d6fca9766fe1e294c7e5e5523ff,20,5,1,20172,,,0,"Fix inspect images calls to not use the index format keyword

Via https://review.opendev.org/#/c/752937/ we added the following code:
       if container_image:
            image_id_str = self.runner.inspect(
                container_image, ""{{index .Id}}"", o_type='image')
            if str(image_id_str).strip() != inspect_info.get('Image'):
                self.log.debug(""Deleting container (image updated): ""
                               ""%s"" % container)
                self.runner.remove_container(container)
                return True

This code works fine in docker:
[root@controller-0 ~]# docker inspect --type image --format '{{index
.Id}}' f6ec0f326154
sha256:f6ec0f326154a80b6844a03c2de2904bbbefea6cdf87acb606ff869ace1a8dd4

But is problematic in podman (both on 1.6.4 and 2.1.1 versions):
[root@controller-0 ~]# podman inspect --type image --format '{{index
.Id}}'
undercloud-0.ctlplane.redhat.local:8787/rh-osbs/rhosp16-openstack-cinder-volume:16.2_20201110.2-hotfixupdate2
ERRO[0000] Error printing inspect output: Template parsing error:
template: image:1:8: executing ""image"" at <.Id>: can't evaluate field Id
in type *entities.ImageInspectReport

This has the side-effect of restarting all containers at each identical
redeploy.

We can just drop the 'index' in the query since it works in both docker
and podman:
[root@controller-0 ~]# docker inspect --type image --format '{{.Id}}'
f6ec0f326154
sha256:f6ec0f326154a80b6844a03c2de2904bbbefea6cdf87acb606ff869ace1a8dd4

[root@controller-0 ~]# podman inspect --type image --format '{{.Id}}'
5093412f3a08

Change-Id: I8b1fbbb7499a69e7a131fd8650c6f50fb4ab978e
Closes-Bug: #1904043
",git fetch https://review.opendev.org/openstack/paunch refs/changes/67/762567/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/base.py', 'paunch/tests/test_builder_base.py']",2,7e496911451b5d6fca9766fe1e294c7e5e5523ff,ussuri-stable/train," '{{.Id}}', '{{.Id}}',"," '{{index .Id}}', '{{index .Id}}',",3,3
openstack%2Fnova~master~Ia627bab8ed911baf329e0bda385beb2ffcbbe7d6,openstack/nova,master,Ia627bab8ed911baf329e0bda385beb2ffcbbe7d6,api-ref: Move 'os-agents' API to obsolete section,MERGED,2020-10-02 08:41:17.000000000,2020-11-17 14:55:18.000000000,2020-11-17 14:51:48.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-10-02 08:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee78030547b29446c55649e7eac058f814398339', 'message': ""api-ref: Move 'os-agents' API to obsolete section\n\nFollow up for change I9512f605dd2b3b0e88c951ed086250d57056303d.\n\nChange-Id: Ia627bab8ed911baf329e0bda385beb2ffcbbe7d6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-10-23 11:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57a77fbba27b9515721efac53190ee5e382648d6', 'message': ""api-ref: Move 'os-agents' API to obsolete section\n\nFollow up for change I9512f605dd2b3b0e88c951ed086250d57056303d.\n\nChange-Id: Ia627bab8ed911baf329e0bda385beb2ffcbbe7d6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-11-17 11:42:41.000000000', 'files': ['api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e13e8c8cd4994d45aba820f10f3db17614d76073', 'message': ""api-ref: Move 'os-agents' API to obsolete section\n\nFollow up for change I9512f605dd2b3b0e88c951ed086250d57056303d.\n\nChange-Id: Ia627bab8ed911baf329e0bda385beb2ffcbbe7d6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,755729,e13e8c8cd4994d45aba820f10f3db17614d76073,31,11,3,15334,,,0,"api-ref: Move 'os-agents' API to obsolete section

Follow up for change I9512f605dd2b3b0e88c951ed086250d57056303d.

Change-Id: Ia627bab8ed911baf329e0bda385beb2ffcbbe7d6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/755729/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/index.rst'],1,ee78030547b29446c55649e7eac058f814398339,remove-xenapi,.. include:: os-agents.inc,.. include:: os-agents.inc,1,1
openstack%2Fpython-openstackclient~master~Id411e70b8e1a79c0e88a0e22be7ff37e5c30fcda,openstack/python-openstackclient,master,Id411e70b8e1a79c0e88a0e22be7ff37e5c30fcda,Switch 'openstack keypair' ops to use SDK,MERGED,2020-11-09 12:15:52.000000000,2020-11-17 14:54:49.000000000,2020-11-17 14:53:11.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-09 12:15:52.000000000', 'files': ['releasenotes/notes/switch-keypair-to-sdk-81e28380e66a7f9c.yaml', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/compute/v2/keypair.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/512ba114a18d9ae49eb3e6b4123e92dd896d3f4f', 'message': ""Switch 'openstack keypair' ops to use SDK\n\nLet's continue our journey and start using SDK for the keypair\noperations\n\nDepends-On: https://review.opendev.org/#/c/761883/\nChange-Id: Id411e70b8e1a79c0e88a0e22be7ff37e5c30fcda\n""}]",0,761904,512ba114a18d9ae49eb3e6b4123e92dd896d3f4f,14,3,1,27900,,,0,"Switch 'openstack keypair' ops to use SDK

Let's continue our journey and start using SDK for the keypair
operations

Depends-On: https://review.opendev.org/#/c/761883/
Change-Id: Id411e70b8e1a79c0e88a0e22be7ff37e5c30fcda
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/761904/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/switch-keypair-to-sdk-81e28380e66a7f9c.yaml', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/compute/v2/keypair.py']",3,512ba114a18d9ae49eb3e6b4123e92dd896d3f4f,osc-first,"from openstack import utils as sdk_utilsdef _get_keypair_columns(item, hide_pub_key=False, hide_priv_key=False): # To maintain backwards compatibility we need to rename sdk props to # whatever OSC was using before column_map = {} hidden_columns = ['links', 'location'] if hide_pub_key: hidden_columns.append('public_key') if hide_priv_key: hidden_columns.append('private_key') return utils.get_osc_show_columns_for_sdk_resource( item, column_map, hidden_columns) compute_client = self.app.client_manager.sdk_connection.compute kwargs = { 'name': parsed_args.name } kwargs['public_key'] = public_key if parsed_args.type: if not sdk_utils.supports_microversion(compute_client, '2.2'): if not sdk_utils.supports_microversion(compute_client, '2.10'): keypair = compute_client.create_keypair(**kwargs) if public_key or private_key: display_columns, columns = _get_keypair_columns( keypair, hide_pub_key=True, hide_priv_key=True) data = utils.get_item_properties(keypair, columns) return (display_columns, data) compute_client = self.app.client_manager.sdk_connection.compute if not sdk_utils.supports_microversion(compute_client, '2.10'): compute_client.delete_keypair( n, **kwargs, ignore_missing=False) compute_client = self.app.client_manager.sdk_connection.compute if not sdk_utils.supports_microversion(compute_client, '2.10'): data.extend(compute_client.keypairs(user_id=user.id)) elif parsed_args.user: if not sdk_utils.supports_microversion(compute_client, '2.10'): data = compute_client.keypairs(user_id=user.id) else: data = compute_client.keypairs() if sdk_utils.supports_microversion(compute_client, '2.2'): compute_client = self.app.client_manager.sdk_connection.compute if not sdk_utils.supports_microversion(compute_client, '2.10'): keypair = compute_client.find_keypair( parsed_args.name, **kwargs, ignore_missing=False) if not parsed_args.public_key: display_columns, columns = _get_keypair_columns( keypair, hide_pub_key=True) data = utils.get_item_properties(keypair, columns) return (display_columns, data) else:","from novaclient import api_versions compute_client = self.app.client_manager.compute kwargs = { 'name': parsed_args.name, 'public_key': public_key, } if parsed_args.type: if compute_client.api_version < api_versions.APIVersion('2.2'): if compute_client.api_version < api_versions.APIVersion('2.10'): keypair = compute_client.keypairs.create(**kwargs) info = {} if public_key or private_key: info.update(keypair._info) if 'public_key' in info: del info['public_key'] if 'private_key' in info: del info['private_key'] return zip(*sorted(info.items())) compute_client = self.app.client_manager.compute if compute_client.api_version < api_versions.APIVersion('2.10'): data = utils.find_resource( compute_client.keypairs, n) compute_client.keypairs.delete(data.name, **kwargs) compute_client = self.app.client_manager.compute if compute_client.api_version < api_versions.APIVersion('2.10'): data.extend(compute_client.keypairs.list(user_id=user.id)) elif parsed_args.user: if compute_client.api_version < api_versions.APIVersion('2.10'): data = compute_client.keypairs.list(user_id=user.id) else: data = compute_client.keypairs.list() if compute_client.api_version >= api_versions.APIVersion('2.2'): compute_client = self.app.client_manager.compute if compute_client.api_version < api_versions.APIVersion('2.10'): keypair = utils.find_resource( compute_client.keypairs, parsed_args.name, **kwargs) info = {} info.update(keypair._info) if not parsed_args.public_key: del info['public_key'] return zip(*sorted(info.items())) else: # NOTE(dtroyer): a way to get the public key in a similar form # as the private key in the create command",128,146
openstack%2Fneutron~master~Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7,openstack/neutron,master,Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7,Add port NUMA affinity policy,MERGED,2020-07-08 16:56:28.000000000,2020-11-17 14:54:00.000000000,2020-11-17 14:51:19.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-08 16:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a08ca9ef22f9f2dace54df304f9d5b5f7c612083', 'message': '[WIP] Add port NUMA affinity policy\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 2, 'created': '2020-07-10 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a22df05b2544a5e247041df99419dca992a25663', 'message': '[WIP] Add port NUMA affinity policy\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 3, 'created': '2020-07-31 13:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee9b2ec0569e425d4a2f2793797e23f9c35573ae', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 4, 'created': '2020-07-31 14:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/571d9e0b3398b93b05691c392c1c5a5cd3e279e9', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 5, 'created': '2020-08-13 20:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cad9766191d473894c783bcfe39d3a7adb1a9f84', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 6, 'created': '2020-08-24 13:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c601d5bc9cd849c45a433ee50bc283c0cb79b249', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 7, 'created': '2020-08-25 17:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4474de5ff17d36b74e5f83ddaa60c4f367f1a2d', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 8, 'created': '2020-08-26 09:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d95787e26f634e59ed091033b7b867be078f7891', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 9, 'created': '2020-08-26 16:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8aa7e7db1e0282b0b645a98452672dd212614287', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 10, 'created': '2020-08-27 07:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/833a6f2a090a9a72d2a7a76f19491a002d97b70f', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 11, 'created': '2020-09-04 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6f56d1c623586389cb3a643337b0001d93beae9', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 12, 'created': '2020-09-09 15:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ece7c978b5ae28f6caf9791674da98e9a5b6452', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 13, 'created': '2020-09-10 10:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a83edf5d70d6fec2cf993446dbd0bdc1df853bb5', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 14, 'created': '2020-09-17 11:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84a9fad00938d97f55c356e3299057277e9e9f2c', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 15, 'created': '2020-09-25 07:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0061c3f320bac656cd13edfe984d982788d8bcf0', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 16, 'created': '2020-09-28 12:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8ebc558570e523cadff59d96bb6986b68eb1e95', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 17, 'created': '2020-09-30 13:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a844ee9737a40bc9f2b28f4dc149318c2744de7', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 18, 'created': '2020-09-30 13:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68211fc8e1a0e7c793678a9c2d992a6685b0e8ad', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 19, 'created': '2020-10-01 10:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/698b3d6f670f8172fdaf07cf29a1be638df040d7', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 20, 'created': '2020-10-05 10:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/593096b951c2718ef465c0e0921f1f65d2a9545e', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 21, 'created': '2020-10-07 10:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a8ecd8d49c32f9f2d5ffc6835857b1c04d68cf5', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 22, 'created': '2020-10-09 08:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc88852d4c3795c252ed5c5e7eacb12770452b8b', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 23, 'created': '2020-10-15 11:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afedc3e42d63b87a547f41d2d1ff8c4e71a5c642', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 24, 'created': '2020-11-04 16:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a79931d6a35cbf3e891ec580e37fe95841ca8e4', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 25, 'created': '2020-11-05 11:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/641cf3af5d8ed08a158dff6ea9d966d3ef148a37', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 26, 'created': '2020-11-05 13:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0593706879e9447e6b324b4b794020739ef6ab5', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 27, 'created': '2020-11-06 09:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12d4610994181e0411a2e0d6acafe53ee7f45d89', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}, {'number': 28, 'created': '2020-11-13 15:49:55.000000000', 'files': ['neutron/tests/unit/objects/port/extensions/test_port_numa_affinity_policy.py', 'neutron/objects/port/extensions/port_numa_affinity_policy.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/port_numa_affinity_policy_db.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/extensions/port_numa_affinity_policy.py', 'neutron/common/ovn/extensions.py', 'neutron/objects/ports.py', 'neutron/db/migration/alembic_migrations/versions/wallaby/expand/532aa95457e2_port_numa_affinity_policy.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/db/models/port_numa_affinity_policy.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/tests/tools.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/plugins/ml2/extensions/port_numa_affinity_policy.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/extensions/test_port_numa_affinity_policy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a217a5d29094bd68196bff54f8055defdc9ffe13', 'message': 'Add port NUMA affinity policy\n\nAdded a new port extension: NUMA affinity policy. This extension adds\nthe ""numa_affinity_policy"" parameter to the ""port"" API and specifies\nthe NUMA affinity policy per port.\n\nThis parameter is passed to Nova when a virtual machine is created.\nNova will use this information to schedule the virtual machine.\n\nFor backwards compatibility, this parameter will be ""None"" by default.\n\nDepends-On: https://review.opendev.org/#/c/740058/\nCloses-Bug: #1886798\n\nChange-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7\n'}]",46,740067,a217a5d29094bd68196bff54f8055defdc9ffe13,187,12,28,16688,,,0,"Add port NUMA affinity policy

Added a new port extension: NUMA affinity policy. This extension adds
the ""numa_affinity_policy"" parameter to the ""port"" API and specifies
the NUMA affinity policy per port.

This parameter is passed to Nova when a virtual machine is created.
Nova will use this information to schedule the virtual machine.

For backwards compatibility, this parameter will be ""None"" by default.

Depends-On: https://review.opendev.org/#/c/740058/
Closes-Bug: #1886798

Change-Id: Ie3d68c098ddb727ab8333aa1de4064e67a4f00a7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/740067/25 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/models/port_numa_affinity_policy.py', 'neutron/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron/db/migration/alembic_migrations/versions/victoria/contract/5c382725466d_port_numa_affinity_policy.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/532aa95457e2_port_numa_affinity_policy.py']",5,a08ca9ef22f9f2dace54df304f9d5b5f7c612083,bug/1886798,"# Copyright 2020 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from alembic import op from neutron_lib.db import constants as db_const from neutron_lib import constants as n_const import sqlalchemy as sa """"""port_numa_affinity_policy Revision ID: 532aa95457e2 Revises: dfe425060830 Create Date: 2020-07-08 14:59:18.868245 """""" # revision identifiers, used by Alembic. revision = '532aa95457e2' down_revision = 'dfe425060830' def upgrade(): op.create_table('portnumaaffinitypolicy', sa.Column('port_id', sa.String(length=db_const.UUID_FIELD_SIZE), sa.ForeignKey('ports.id', ondelete='CASCADE'), primary_key=True), sa.Column('numa_affinity_policy', sa.Enum(n_const.PORT_NUMA_POLICIES + (None, )), server_default=sa.sql.null()) ) ",,109,2
openstack%2Fnova~master~Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47,openstack/nova,master,Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47,Restore retrying the RPC connection to conductor,MERGED,2020-11-13 10:53:19.000000000,2020-11-17 14:53:47.000000000,2020-11-17 14:51:25.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-13 10:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41cc2653705c6977a727e91a5fdb8a4d571aa5ee', 'message': 'Restore retrying the  RCP connection to conductor\n\nBefore Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 if the compute was\nstarted before the conductor then the compute retried the connection\nuntil the conductor was up. The Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\nbreak this behavior as the service version check runs before this RPC\nretry mechanism and therefore the compute simply fails to start without\na retry if no conductor is started.\n\nThis patch moves the service version check after the RPC connection\nretry mechanism.\n\nChange-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47\nCloses-Bug: #1904181\n'}, {'number': 2, 'created': '2020-11-13 11:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4a61e20939265ce6aa25fb9322c81a0027fc8ad', 'message': 'Restore retrying the RCP connection to conductor\n\nBefore Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 if the compute was\nstarted before the conductor then the compute retried the connection\nuntil the conductor was up. The Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\nbreak this behavior as the service version check runs before this RPC\nretry mechanism and therefore the compute simply fails to start without\na retry if no conductor is started.\n\nThis patch moves the service version check after the RPC connection\nretry mechanism.\n\nChange-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47\nCloses-Bug: #1904181\n'}, {'number': 3, 'created': '2020-11-13 17:04:27.000000000', 'files': ['nova/service.py', 'nova/tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/433bee58bc8d7d65edb6a0805021e51972e6bed6', 'message': 'Restore retrying the RPC connection to conductor\n\nBefore Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 if the compute was\nstarted before the conductor then the compute retried the connection\nuntil the conductor was up. The Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\nbreak this behavior as the service version check runs before this RPC\nretry mechanism and therefore the compute simply fails to start without\na retry if no conductor is started.\n\nThis patch moves the service version check after the RPC connection\nretry mechanism.\n\nChange-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47\nCloses-Bug: #1904181\n'}]",3,762633,433bee58bc8d7d65edb6a0805021e51972e6bed6,54,13,3,9708,,,0,"Restore retrying the RPC connection to conductor

Before Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 if the compute was
started before the conductor then the compute retried the connection
until the conductor was up. The Ie15ec8299ae52ae8f5334d591ed3944e9585cf71
break this behavior as the service version check runs before this RPC
retry mechanism and therefore the compute simply fails to start without
a retry if no conductor is started.

This patch moves the service version check after the RPC connection
retry mechanism.

Change-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47
Closes-Bug: #1904181
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/762633/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/service.py'],1,41cc2653705c6977a727e91a5fdb8a4d571aa5ee,bug/1904181, # NOTE(gibi): This have to be after the service object creation as # that is the point where we can safely use the RPC to the conductor. # E.g. the Service.__init__ actually waits for the conductor to start # up before it allows the service to be created. The # raise_if_old_compute() depends on the RPC to be up and does not # implement its own retry mechanism to connect to the conductor. utils.raise_if_old_compute() , utils.raise_if_old_compute() ,8,2
openstack%2Fheat~master~Icae5e603f2bcb301fd5db457f73033008ede2c28,openstack/heat,master,Icae5e603f2bcb301fd5db457f73033008ede2c28,Add py38 package metadata,ABANDONED,2020-05-22 08:26:10.000000000,2020-11-17 14:52:16.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-22 08:26:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/27b056e94401c2e2bec862fbb6e6a308ebb4d0f0', 'message': 'Add py38 package metadata\n\nChange-Id: Icae5e603f2bcb301fd5db457f73033008ede2c28\n'}]",0,730276,27b056e94401c2e2bec862fbb6e6a308ebb4d0f0,5,2,1,30384,,,0,"Add py38 package metadata

Change-Id: Icae5e603f2bcb301fd5db457f73033008ede2c28
",git fetch https://review.opendev.org/openstack/heat refs/changes/76/730276/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,27b056e94401c2e2bec862fbb6e6a308ebb4d0f0,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fos-brick~master~I93b6aea505bc0b4e3e91229e7a2f35a8c01db6d7,openstack/os-brick,master,I93b6aea505bc0b4e3e91229e7a2f35a8c01db6d7,Stop configuring install_command in tox.,MERGED,2020-09-08 10:18:59.000000000,2020-11-17 14:52:14.000000000,2020-11-17 14:50:49.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 27615}, {'_account_id': 27710}, {'_account_id': 30615}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-09-08 10:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d26a775c3d024209bdc37d5248d892d484202b33', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I93b6aea505bc0b4e3e91229e7a2f35a8c01db6d7\n""}, {'number': 2, 'created': '2020-09-09 04:30:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/070ab479c929d3885fa4f7c1c48a900beb7c504b', 'message': 'Stop configuring install_command in tox.\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I93b6aea505bc0b4e3e91229e7a2f35a8c01db6d7\n'}]",1,750309,070ab479c929d3885fa4f7c1c48a900beb7c504b,44,16,2,30615,,,0,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I93b6aea505bc0b4e3e91229e7a2f35a8c01db6d7
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/09/750309/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d26a775c3d024209bdc37d5248d892d484202b33,,,install_command = pip install {opts} {packages},0,1
openstack%2Fnova~master~Ib9387c381d39fac389374c731b210815c6d4af03,openstack/nova,master,Ib9387c381d39fac389374c731b210815c6d4af03,Fix the vGPU dynamic options race,MERGED,2020-10-15 17:23:42.000000000,2020-11-17 14:51:34.000000000,2020-11-17 14:51:33.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31866}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-10-15 17:23:42.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bd8900d9b2600fba74341e249701051fb78eb37', 'message': 'Fix the vGPU dynamic options race\n\nAs we lookup the existing dynamic options *before* creating them as\n_get_supported_vgpu_types() is called *before* compute init_host(),\nwe need to make sure we call again the dynamic options registration\nwithin it.\n\nChange-Id: Ib9387c381d39fac389374c731b210815c6d4af03\nCloses-Bug: #1900006\n'}]",1,758470,2bd8900d9b2600fba74341e249701051fb78eb37,57,16,1,7166,,,0,"Fix the vGPU dynamic options race

As we lookup the existing dynamic options *before* creating them as
_get_supported_vgpu_types() is called *before* compute init_host(),
we need to make sure we call again the dynamic options registration
within it.

Change-Id: Ib9387c381d39fac389374c731b210815c6d4af03
Closes-Bug: #1900006
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/758470/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2bd8900d9b2600fba74341e249701051fb78eb37,bug/1900006," @mock.patch.object(nova.conf.devices, 'register_dynamic_opts') def test_get_supported_vgpu_types_registering_dynamic_opts(self, rdo): self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], group='devices') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._get_supported_vgpu_types() # Okay below is confusing, but remember, ._get_supported_vgpu_types() # is first called by the LibvirtDriver object creation, so when # calling the above drvr._get_supported_vgpu_types() method, it will # be the second time that register_dynamic_opts() will be called. rdo.assert_has_calls([mock.call(CONF), mock.call(CONF)]) ",,19,0
openstack%2Fneutron~stable%2Fqueens~I2e3aa7c400d7bb17cc117b65faaa160b41013dde,openstack/neutron,stable/queens,I2e3aa7c400d7bb17cc117b65faaa160b41013dde,[Security] fix allowed-address-pair 0.0.0.0/0 issue,MERGED,2020-07-31 11:31:45.000000000,2020-11-17 14:34:08.000000000,2020-08-07 11:06:28.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 11:31:45.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd6203b2c7e1e4af63813b307bc4ec1b49516bd5', 'message': ""[Security] fix allowed-address-pair 0.0.0.0/0 issue\n\nWhen add allowed-address-pair 0.0.0.0/0 to one port, it will\nunexpectedly open all others' protocol under same security\ngroup. IPv6 has the same problem.\n\nThe root cause is the openflow rules calculation of the\nsecurity group, it will unexpectedly allow all IP(4&6)\ntraffic to get through.\n\nFor openvswitch openflow firewall, this patch adds a source\nmac address match for the allowed-address-pair which has\nprefix lenght 0, that means all ethernet packets from this\nmac will be accepted. It exactly will meet the request of\naccepting any IP address from the configured VM.\n\nTest result shows that the remote security group and\nallowed address pair works:\n1. Port has 0.0.0.0/0 allowed-address-pair clould send any\n   IP (src) packet out.\n2. Port has x.x.x.x/y allowed-address-pair could be accepted\n   for those VMs under same security group.\n3. Ports under same network can reach each other (remote\n   security group).\n4. Protocol port number could be accessed only when there\n   has related rule.\n\nConflicts:\n    neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py\n\nCloses-bug: #1867119\nChange-Id: I2e3aa7c400d7bb17cc117b65faaa160b41013dde\n(cherry picked from commit 00298fe6e84cd7610b39af50e9517885a182f47c)\n""}]",0,744137,bd6203b2c7e1e4af63813b307bc4ec1b49516bd5,14,5,1,11975,,,0,"[Security] fix allowed-address-pair 0.0.0.0/0 issue

When add allowed-address-pair 0.0.0.0/0 to one port, it will
unexpectedly open all others' protocol under same security
group. IPv6 has the same problem.

The root cause is the openflow rules calculation of the
security group, it will unexpectedly allow all IP(4&6)
traffic to get through.

For openvswitch openflow firewall, this patch adds a source
mac address match for the allowed-address-pair which has
prefix lenght 0, that means all ethernet packets from this
mac will be accepted. It exactly will meet the request of
accepting any IP address from the configured VM.

Test result shows that the remote security group and
allowed address pair works:
1. Port has 0.0.0.0/0 allowed-address-pair clould send any
   IP (src) packet out.
2. Port has x.x.x.x/y allowed-address-pair could be accepted
   for those VMs under same security group.
3. Ports under same network can reach each other (remote
   security group).
4. Protocol port number could be accessed only when there
   has related rule.

Conflicts:
    neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py

Closes-bug: #1867119
Change-Id: I2e3aa7c400d7bb17cc117b65faaa160b41013dde
(cherry picked from commit 00298fe6e84cd7610b39af50e9517885a182f47c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/744137/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py']",12,bd6203b2c7e1e4af63813b307bc4ec1b49516bd5,bug/1867119," for ip, _mac in addresses:", for ip in addresses:,94,42
openstack%2Fneutron~stable%2Frocky~I2e3aa7c400d7bb17cc117b65faaa160b41013dde,openstack/neutron,stable/rocky,I2e3aa7c400d7bb17cc117b65faaa160b41013dde,[Security] fix allowed-address-pair 0.0.0.0/0 issue,MERGED,2020-07-31 11:23:18.000000000,2020-11-17 14:34:03.000000000,2020-08-07 14:00:38.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 11:23:18.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64a0916d2b97700c8f0401ab284684569deebe78', 'message': ""[Security] fix allowed-address-pair 0.0.0.0/0 issue\n\nWhen add allowed-address-pair 0.0.0.0/0 to one port, it will\nunexpectedly open all others' protocol under same security\ngroup. IPv6 has the same problem.\n\nThe root cause is the openflow rules calculation of the\nsecurity group, it will unexpectedly allow all IP(4&6)\ntraffic to get through.\n\nFor openvswitch openflow firewall, this patch adds a source\nmac address match for the allowed-address-pair which has\nprefix lenght 0, that means all ethernet packets from this\nmac will be accepted. It exactly will meet the request of\naccepting any IP address from the configured VM.\n\nTest result shows that the remote security group and\nallowed address pair works:\n1. Port has 0.0.0.0/0 allowed-address-pair clould send any\n   IP (src) packet out.\n2. Port has x.x.x.x/y allowed-address-pair could be accepted\n   for those VMs under same security group.\n3. Ports under same network can reach each other (remote\n   security group).\n4. Protocol port number could be accessed only when there\n   has related rule.\n\nCloses-bug: #1867119\nChange-Id: I2e3aa7c400d7bb17cc117b65faaa160b41013dde\n(cherry picked from commit 00298fe6e84cd7610b39af50e9517885a182f47c)\n""}]",0,744135,64a0916d2b97700c8f0401ab284684569deebe78,17,5,1,11975,,,0,"[Security] fix allowed-address-pair 0.0.0.0/0 issue

When add allowed-address-pair 0.0.0.0/0 to one port, it will
unexpectedly open all others' protocol under same security
group. IPv6 has the same problem.

The root cause is the openflow rules calculation of the
security group, it will unexpectedly allow all IP(4&6)
traffic to get through.

For openvswitch openflow firewall, this patch adds a source
mac address match for the allowed-address-pair which has
prefix lenght 0, that means all ethernet packets from this
mac will be accepted. It exactly will meet the request of
accepting any IP address from the configured VM.

Test result shows that the remote security group and
allowed address pair works:
1. Port has 0.0.0.0/0 allowed-address-pair clould send any
   IP (src) packet out.
2. Port has x.x.x.x/y allowed-address-pair could be accepted
   for those VMs under same security group.
3. Ports under same network can reach each other (remote
   security group).
4. Protocol port number could be accessed only when there
   has related rule.

Closes-bug: #1867119
Change-Id: I2e3aa7c400d7bb17cc117b65faaa160b41013dde
(cherry picked from commit 00298fe6e84cd7610b39af50e9517885a182f47c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/744135/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py']",12,64a0916d2b97700c8f0401ab284684569deebe78,bug/1867119-stable/train-stable/stein-stable/rocky," for ip, _mac in addresses:", for ip in addresses:,94,42
openstack%2Fneutron~stable%2Fstein~I2e3aa7c400d7bb17cc117b65faaa160b41013dde,openstack/neutron,stable/stein,I2e3aa7c400d7bb17cc117b65faaa160b41013dde,[Security] fix allowed-address-pair 0.0.0.0/0 issue,MERGED,2020-07-31 11:23:01.000000000,2020-11-17 14:33:58.000000000,2020-08-07 05:28:36.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 11:23:01.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/18a171808ba8c5e4806feda43f571fb8cfc0b9a1', 'message': ""[Security] fix allowed-address-pair 0.0.0.0/0 issue\n\nWhen add allowed-address-pair 0.0.0.0/0 to one port, it will\nunexpectedly open all others' protocol under same security\ngroup. IPv6 has the same problem.\n\nThe root cause is the openflow rules calculation of the\nsecurity group, it will unexpectedly allow all IP(4&6)\ntraffic to get through.\n\nFor openvswitch openflow firewall, this patch adds a source\nmac address match for the allowed-address-pair which has\nprefix lenght 0, that means all ethernet packets from this\nmac will be accepted. It exactly will meet the request of\naccepting any IP address from the configured VM.\n\nTest result shows that the remote security group and\nallowed address pair works:\n1. Port has 0.0.0.0/0 allowed-address-pair clould send any\n   IP (src) packet out.\n2. Port has x.x.x.x/y allowed-address-pair could be accepted\n   for those VMs under same security group.\n3. Ports under same network can reach each other (remote\n   security group).\n4. Protocol port number could be accessed only when there\n   has related rule.\n\nCloses-bug: #1867119\nChange-Id: I2e3aa7c400d7bb17cc117b65faaa160b41013dde\n(cherry picked from commit 00298fe6e84cd7610b39af50e9517885a182f47c)\n""}]",0,744134,18a171808ba8c5e4806feda43f571fb8cfc0b9a1,11,5,1,11975,,,0,"[Security] fix allowed-address-pair 0.0.0.0/0 issue

When add allowed-address-pair 0.0.0.0/0 to one port, it will
unexpectedly open all others' protocol under same security
group. IPv6 has the same problem.

The root cause is the openflow rules calculation of the
security group, it will unexpectedly allow all IP(4&6)
traffic to get through.

For openvswitch openflow firewall, this patch adds a source
mac address match for the allowed-address-pair which has
prefix lenght 0, that means all ethernet packets from this
mac will be accepted. It exactly will meet the request of
accepting any IP address from the configured VM.

Test result shows that the remote security group and
allowed address pair works:
1. Port has 0.0.0.0/0 allowed-address-pair clould send any
   IP (src) packet out.
2. Port has x.x.x.x/y allowed-address-pair could be accepted
   for those VMs under same security group.
3. Ports under same network can reach each other (remote
   security group).
4. Protocol port number could be accessed only when there
   has related rule.

Closes-bug: #1867119
Change-Id: I2e3aa7c400d7bb17cc117b65faaa160b41013dde
(cherry picked from commit 00298fe6e84cd7610b39af50e9517885a182f47c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/744134/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/agent/linux/ipset_manager.py']",12,18a171808ba8c5e4806feda43f571fb8cfc0b9a1,bug/1867119-stable/train-stable/stein," for ip, _mac in addresses:", for ip in addresses:,94,42
openstack%2Fproject-config~master~Icc30a79f770ed78674354f6226d28907bab7eb1d,openstack/project-config,master,Icc30a79f770ed78674354f6226d28907bab7eb1d,Clean up pti-python-tarball python-branch-tarball,MERGED,2020-11-13 18:14:15.000000000,2020-11-17 14:25:58.000000000,2020-11-17 14:25:58.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-13 18:14:15.000000000', 'files': ['playbooks/pti-python-tarball/pre.yaml', 'playbooks/python-branch-tarball/post.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a4c873b51a244f99f18850cd1603ae3a0116bcc3', 'message': ""Clean up pti-python-tarball python-branch-tarball\n\nOpenStack's Python release jobs don't run tox, and don't install the\nprojects being packaged, not even in the branch tarball variants\nthese days. Remove the bindep, ensure-tox and collect-tox-logs roles\nfrom pti-python-tarball and python-branch-tarball playbooks so that\nthe jobs using them can be more portable between distro versions\nwith less work. This should also make the jobs considerably faster.\n\nChange-Id: Icc30a79f770ed78674354f6226d28907bab7eb1d\n""}]",5,762699,a4c873b51a244f99f18850cd1603ae3a0116bcc3,15,9,1,5263,,,0,"Clean up pti-python-tarball python-branch-tarball

OpenStack's Python release jobs don't run tox, and don't install the
projects being packaged, not even in the branch tarball variants
these days. Remove the bindep, ensure-tox and collect-tox-logs roles
from pti-python-tarball and python-branch-tarball playbooks so that
the jobs using them can be more portable between distro versions
with less work. This should also make the jobs considerably faster.

Change-Id: Icc30a79f770ed78674354f6226d28907bab7eb1d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/762699/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pti-python-tarball/pre.yaml', 'playbooks/python-branch-tarball/post.yaml']",2,a4c873b51a244f99f18850cd1603ae3a0116bcc3,python-releases,, - fetch-tox-output,1,3
openstack%2Fkeystoneauth~master~Iee8f7c760fb33a5bc54724e50104eb638adff527,openstack/keystoneauth,master,Iee8f7c760fb33a5bc54724e50104eb638adff527,Update master for stable/victoria,MERGED,2020-09-10 17:05:42.000000000,2020-11-17 14:25:29.000000000,2020-11-17 14:23:52.000000000,"[{'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-10 17:05:42.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d441f33cd55b3342c60a6cb5eb560190daaff2c7', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: Iee8f7c760fb33a5bc54724e50104eb638adff527\nSem-Ver: feature\n'}]",0,751054,d441f33cd55b3342c60a6cb5eb560190daaff2c7,10,5,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: Iee8f7c760fb33a5bc54724e50104eb638adff527
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/54/751054/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,d441f33cd55b3342c60a6cb5eb560190daaff2c7,reno-victoria, victoria,,7,0
openstack%2Fironic-python-agent~stable%2Fvictoria~I87d87fd035701303e7d530a47b682db84e72ccb9,openstack/ironic-python-agent,stable/victoria,I87d87fd035701303e7d530a47b682db84e72ccb9,Fix physical memory calculation with new lshw,MERGED,2020-11-16 13:47:05.000000000,2020-11-17 14:24:02.000000000,2020-11-17 14:22:39.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-16 13:47:05.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8c38177e0ed5f4e05a23f6d1514be2efab8ffb4d', 'message': 'Fix physical memory calculation with new lshw\n\nIt seems that fix Id5a30028b139c51cae6232cac73a50b917fea233 was\ndealing with a different issue. According to the description\nin the story, and the linked commit there, the problem is the\nfact that output is changed from dictionary to a list (with just\none value supposedly?). This commit changes the isinstance call\nto check if an output of lshw is a list, and if so, we just use\nthe first element of the list.\n\nStory: 2007588\nTask: 39527\nChange-Id: I87d87fd035701303e7d530a47b682db84e72ccb9\n(cherry picked from commit 448ded43fe1cfea9247dbd5612715124e5abbb55)\n'}]",0,762841,8c38177e0ed5f4e05a23f6d1514be2efab8ffb4d,9,4,1,12356,,,0,"Fix physical memory calculation with new lshw

It seems that fix Id5a30028b139c51cae6232cac73a50b917fea233 was
dealing with a different issue. According to the description
in the story, and the linked commit there, the problem is the
fact that output is changed from dictionary to a list (with just
one value supposedly?). This commit changes the isinstance call
to check if an output of lshw is a list, and if so, we just use
the first element of the list.

Story: 2007588
Task: 39527
Change-Id: I87d87fd035701303e7d530a47b682db84e72ccb9
(cherry picked from commit 448ded43fe1cfea9247dbd5612715124e5abbb55)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/762841/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,8c38177e0ed5f4e05a23f6d1514be2efab8ffb4d,fix-lshw-stable/victoria," @mock.patch('psutil.virtual_memory', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_memory_lshw_list(self, mocked_execute, mocked_psutil): mocked_psutil.return_value.total = 3952 * 1024 * 1024 mocked_execute.return_value = (f""[{LSHW_JSON_OUTPUT_V2[0]}]"", """") mem = self.hardware.get_memory() self.assertEqual(3952 * 1024 * 1024, mem.total) self.assertEqual(65536, mem.physical_mb) ",,14,2
openstack%2Ftripleo-specs~master~Ib0462279935ba8fe649d1eb2a086b31010857400,openstack/tripleo-specs,master,Ib0462279935ba8fe649d1eb2a086b31010857400,Update min tox version to 2.0,MERGED,2018-11-02 05:18:01.000000000,2020-11-17 14:23:50.000000000,2020-11-17 14:22:12.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28956}]","[{'number': 1, 'created': '2018-11-02 05:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/32215e436c0e94e3db3d8ef15f28cfa908c3da64', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0. Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ib0462279935ba8fe649d1eb2a086b31010857400\n'}, {'number': 2, 'created': '2019-03-29 22:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8f6722a4e71a7ffd74184b1c8850dcc82dbc5234', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0. Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ib0462279935ba8fe649d1eb2a086b31010857400\n'}, {'number': 3, 'created': '2020-11-16 22:56:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0b1e242052d112cc822efde76e73ef21cfc8d4fd', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0. Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ib0462279935ba8fe649d1eb2a086b31010857400\n'}]",0,614987,0b1e242052d112cc822efde76e73ef21cfc8d4fd,18,5,3,28174,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0. Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Ib0462279935ba8fe649d1eb2a086b31010857400
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/87/614987/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,32215e436c0e94e3db3d8ef15f28cfa908c3da64,update-min-tox,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fos-service-types~master~Ia7e08e12aa53bc7b7cee92b497275f9e990ac0a3,openstack/os-service-types,master,Ia7e08e12aa53bc7b7cee92b497275f9e990ac0a3,bump py37 to py38 in tox.ini,MERGED,2020-10-12 05:52:48.000000000,2020-11-17 14:19:34.000000000,2020-11-17 14:17:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-10-12 05:52:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/5056a77a18d60fcd2dd13de11b1bb844444cc374', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Ia7e08e12aa53bc7b7cee92b497275f9e990ac0a3\n""}]",0,757430,5056a77a18d60fcd2dd13de11b1bb844444cc374,7,2,1,31027,,,0,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: Ia7e08e12aa53bc7b7cee92b497275f9e990ac0a3
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/30/757430/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5056a77a18d60fcd2dd13de11b1bb844444cc374,,"envlist = py38,pep8","envlist = py37,pep8",1,1
