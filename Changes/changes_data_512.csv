id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fswift~master~I381bba97b1ff86ad6abb52c3cb6ebb0725f166f1,openstack/swift,master,I381bba97b1ff86ad6abb52c3cb6ebb0725f166f1,configurable diskfile per policy fixups,ABANDONED,2018-06-07 16:26:49.000000000,2018-07-05 13:42:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-07 16:26:49.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'test/unit/obj/test_server.py', 'test/unit/cli/test_relinker.py', 'swift/common/storage_policy.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ecbf265e5801fb78b2e9e2c7421653645185b8fd', 'message': 'configurable diskfile per policy fixups\n\nRelated-Change: I070c21bc1eaf1c71ac0652cec9e813cadcc14851\nChange-Id: I381bba97b1ff86ad6abb52c3cb6ebb0725f166f1\n'}]",0,573309,ecbf265e5801fb78b2e9e2c7421653645185b8fd,3,1,1,7847,,,0,"configurable diskfile per policy fixups

Related-Change: I070c21bc1eaf1c71ac0652cec9e813cadcc14851
Change-Id: I381bba97b1ff86ad6abb52c3cb6ebb0725f166f1
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/573309/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_storage_policy.py', 'test/unit/obj/test_server.py', 'test/unit/cli/test_relinker.py', 'swift/common/storage_policy.py', 'swift/cli/relinker.py']",5,ecbf265e5801fb78b2e9e2c7421653645185b8fd,feature/losf," audit_location_generator, get_logger policy.load_diskfile_manager(conf, get_logger(conf))"," audit_location_generator policy.load_diskfile_manager(conf, logger)",17,40
openstack%2Fopenstack-manuals~master~Iee4e33c750ea96a3764673c103ee3f299a11924c,openstack/openstack-manuals,master,Iee4e33c750ea96a3764673c103ee3f299a11924c,Update the outdated content about project API reference,MERGED,2018-07-04 14:02:18.000000000,2018-07-05 13:39:28.000000000,2018-07-05 13:39:27.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 14:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9531b7881bfb6a78efd3b8d5d4377fca45b5709d', 'message': 'Update the outdated content about project API reference\n\nThe zuul/layout.yaml file has been removed from project-config.\nWe should edit the ""zuul.d/projects.yaml"" file instead.\n\nChange-Id: Iee4e33c750ea96a3764673c103ee3f299a11924c\n'}, {'number': 2, 'created': '2018-07-05 02:15:22.000000000', 'files': ['doc/doc-contrib-guide/source/api-guides.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e6e7c65d92c22ca770b95acfe104e67588048fc2', 'message': 'Update the outdated content about project API reference\n\nThe zuul/layout.yaml file has been removed from project-config.\nWe should edit the ""zuul.d/projects.yaml"" file instead.\n\nChange-Id: Iee4e33c750ea96a3764673c103ee3f299a11924c\n'}]",0,580168,e6e7c65d92c22ca770b95acfe104e67588048fc2,9,3,2,19779,,,0,"Update the outdated content about project API reference

The zuul/layout.yaml file has been removed from project-config.
We should edit the ""zuul.d/projects.yaml"" file instead.

Change-Id: Iee4e33c750ea96a3764673c103ee3f299a11924c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/68/580168/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/doc-contrib-guide/source/api-guides.rst'],1,9531b7881bfb6a78efd3b8d5d4377fca45b5709d,api-ref,"#. Add the ``api-ref-jobs`` template to your project, patch the `zuul.d/projects.yaml <https://git.openstack.org/cgit/openstack-infra/project-config/tree/zuul.d/projects.yaml>`__ file stored in ``openstack-infra/project-config`` repository.landing page and the OpenStack Governance reference document, ``projects.yaml``.","#. Create a build job similar to the nova job for your project. Examples: https://review.openstack.org/#/c/305464/ and https://review.openstack.org/#/c/305485/.landing page and the OpenStack Governance reference document, projects.yaml.",4,4
openstack%2Fkolla-ansible~master~I5794fc5a7d236f7f486011f53366a5b3f4c59731,openstack/kolla-ansible,master,I5794fc5a7d236f7f486011f53366a5b3f4c59731,Add enable_ironic_ipxe option to globals.yml,MERGED,2018-07-05 07:47:49.000000000,2018-07-05 13:08:43.000000000,2018-07-05 13:08:43.000000000,"[{'_account_id': 9414}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28176}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-05 07:47:49.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7e64beaed2663cf6e649a2622633ad22a65ac98', 'message': 'Add enable_ironic_ipxe option to globals.yml\n\nKolla Ironic reference point out enable booting via iPXE by setting\n""enable_ironic_ipxe"" to ""true"" in ""/etc/kolla/globals.yml"", but there\nis no enable_ironic_ipxe option exists in globals.yml.\n\nChange-Id: I5794fc5a7d236f7f486011f53366a5b3f4c59731\n'}]",0,580313,f7e64beaed2663cf6e649a2622633ad22a65ac98,11,6,1,19779,,,0,"Add enable_ironic_ipxe option to globals.yml

Kolla Ironic reference point out enable booting via iPXE by setting
""enable_ironic_ipxe"" to ""true"" in ""/etc/kolla/globals.yml"", but there
is no enable_ironic_ipxe option exists in globals.yml.

Change-Id: I5794fc5a7d236f7f486011f53366a5b3f4c59731
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/580313/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,f7e64beaed2663cf6e649a2622633ad22a65ac98,enable-ironic-ipxe,"#enable_ironic_ipxe: ""no""",,1,0
openstack%2Fnetworking-midonet~stable%2Fqueens~I796e247bcbafc9c5b6d14e30a52e936b16157b8d,openstack/networking-midonet,stable/queens,I796e247bcbafc9c5b6d14e30a52e936b16157b8d,Port rally plugins to use proper modules,ABANDONED,2018-07-02 09:33:14.000000000,2018-07-05 13:03:16.000000000,,"[{'_account_id': 9545}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 09:33:14.000000000', 'files': ['rally-jobs/plugins/network_plugin.py', 'midonet/neutron/db/l3_db_midonet.py', 'midonet/os_vif/vif_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/185aa0cb3a063d50f7343f21d95d7f2ae2ec1498', 'message': ""Port rally plugins to use proper modules\n\nSometime ago, all OpenStack related stuff moved from the main repository\nto the separate one - https://github.com/openstack/rally-openstack .\nAll further development and maintance will be done only in a new\nrepository. As for first major release, the structure is not changed, so\nonly imports should be changed.\n\nThis commit includes the following unrelated change to\npass the gate.\n----------------------------------------\nAdd dummy docstrings to avoid Sphinx 1.7.x warnings\n\nWe need to workaround this locally because:\n- It's unclear how long os-vif patch [1] will take\n  to be merged.\n- While Neutron patch [2] has been merged, docs build on\n  gate is using released versions of dependencies.\n\nThe idea was taken from keystone. [3]\n\n[1] https://review.openstack.org/#/c/577028/\n[2] https://review.openstack.org/#/c/577029/\n[3] https://review.openstack.org/#/c/578121/\n\nRelated-Bug: #1771092\nChange-Id: I2d125ce2251473f896fc251b8fa51cfa29721850\n----------------------------------------\n\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nDepends-On: I3446ccd5a36cb686282e85a9ea210d1723da1fef\nChange-Id: I796e247bcbafc9c5b6d14e30a52e936b16157b8d\n(cherry picked from commit 5e82157f3cfcd437e0716356df0cfc06c575e29b)\n""}]",0,579504,185aa0cb3a063d50f7343f21d95d7f2ae2ec1498,5,3,1,6854,,,0,"Port rally plugins to use proper modules

Sometime ago, all OpenStack related stuff moved from the main repository
to the separate one - https://github.com/openstack/rally-openstack .
All further development and maintance will be done only in a new
repository. As for first major release, the structure is not changed, so
only imports should be changed.

This commit includes the following unrelated change to
pass the gate.
----------------------------------------
Add dummy docstrings to avoid Sphinx 1.7.x warnings

We need to workaround this locally because:
- It's unclear how long os-vif patch [1] will take
  to be merged.
- While Neutron patch [2] has been merged, docs build on
  gate is using released versions of dependencies.

The idea was taken from keystone. [3]

[1] https://review.openstack.org/#/c/577028/
[2] https://review.openstack.org/#/c/577029/
[3] https://review.openstack.org/#/c/578121/

Related-Bug: #1771092
Change-Id: I2d125ce2251473f896fc251b8fa51cfa29721850
----------------------------------------

Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Depends-On: I3446ccd5a36cb686282e85a9ea210d1723da1fef
Change-Id: I796e247bcbafc9c5b6d14e30a52e936b16157b8d
(cherry picked from commit 5e82157f3cfcd437e0716356df0cfc06c575e29b)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/04/579504/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/plugins/network_plugin.py', 'midonet/neutron/db/l3_db_midonet.py', 'midonet/os_vif/vif_midonet.py']",3,185aa0cb3a063d50f7343f21d95d7f2ae2ec1498,bug/1762795," """"""Perform operations to plug the VIF properly. :param vif: `os_vif.objects.vif.VIFBase` object. :param instance_info: `os_vif.objects.instance_info.InstanceInfo` object. :raises: `processutils.ProcessExecutionError`. Plugins implementing this method should let `processutils.ProcessExecutionError` bubble up. """""" # REVISIT(yamamoto): The above docstring can be removed once # https://review.openstack.org/#/c/577028/ is released. """"""Perform operations to unplug the VIF properly. :param vif: `os_vif.objects.vif.VIFBase` object. :param instance_info: `os_vif.objects.instance_info.InstanceInfo` object. :raises: `processutils.ProcessExecutionError`. Plugins implementing this method should let `processutils.ProcessExecutionError` bubble up. """""" # REVISIT(yamamoto): The above docstring can be removed once # https://review.openstack.org/#/c/577028/ is released.",,38,3
openstack%2Ftripleo-ci~master~Id5a3b70f0ffc7384a9b92c39eb122717bb675713,openstack/tripleo-ci,master,Id5a3b70f0ffc7384a9b92c39eb122717bb675713,WIP: run CI playbooks separately,ABANDONED,2018-07-03 14:08:17.000000000,2018-07-05 12:59:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-03 14:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a7f93a5450838809970abdb76a23e812eba5a95', 'message': 'WIP: run CI playbooks separately\n\ntesting..\n\nChange-Id: Id5a3b70f0ffc7384a9b92c39eb122717bb675713\n'}, {'number': 2, 'created': '2018-07-03 14:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e907a5d29dcc2c3283d68f66752e636df855f93', 'message': 'WIP: run CI playbooks separately\n\ntesting..\nDepends-On: Ieebf477e4cb03d8b8c3c2460cd4a73b083a3c480\nChange-Id: Id5a3b70f0ffc7384a9b92c39eb122717bb675713\n'}, {'number': 3, 'created': '2018-07-03 21:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fa0895832a5f4dd37d29c99107704e89656ab101', 'message': 'WIP: run CI playbooks separately\n\ntesting..\nChange-Id: Id5a3b70f0ffc7384a9b92c39eb122717bb675713\n'}, {'number': 4, 'created': '2018-07-03 21:19:20.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml', 'playbooks/ci-prepare/pre.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c41fa7b5495467b6d441548d2bc36de21c89f84c', 'message': 'WIP: run CI playbooks separately\n\ntesting..\nChange-Id: Id5a3b70f0ffc7384a9b92c39eb122717bb675713\n'}]",0,579880,c41fa7b5495467b6d441548d2bc36de21c89f84c,9,2,4,10969,,,0,"WIP: run CI playbooks separately

testing..
Change-Id: Id5a3b70f0ffc7384a9b92c39eb122717bb675713
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/80/579880/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/run-v3.yaml', 'playbooks/ci-prepare/pre.yml', 'zuul.d/base.yaml']",3,2a7f93a5450838809970abdb76a23e812eba5a95,sprint15, - playbooks/ci-prepare/pre.yml,,64,50
openstack%2Ftripleo-ci~master~I38e3ce837e1d3f1bef626e882871549b6afb6b58,openstack/tripleo-ci,master,I38e3ce837e1d3f1bef626e882871549b6afb6b58,WIP: run only quickstart in the job w/o preparations,ABANDONED,2018-06-20 16:42:11.000000000,2018-07-05 12:59:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-20 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d150bf0bf5099d358aed605f7b111026f1478ef7', 'message': 'WIP: run only quickstart in the job w/o preparations\n\nMake all preparations in pre.yml to save time and run only\nansible-playbooks in run.yml during the job.\n\nChange-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58\n'}, {'number': 2, 'created': '2018-06-20 22:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/644d0a6b0cebba59ecd6979b33e56b41272825c0', 'message': 'WIP: run only quickstart in the job w/o preparations\n\nMake all preparations in pre.yml to save time and run only\nansible-playbooks in run.yml during the job.\n\nChange-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58\n'}, {'number': 3, 'created': '2018-06-20 22:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8e8e58ca068bcc7bd3ec57dd9b0ad9c6f096bd33', 'message': 'WIP: run only quickstart in the job w/o preparations\n\nMake all preparations in pre.yml to save time and run only\nansible-playbooks in run.yml during the job.\n\nChange-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58\n'}, {'number': 4, 'created': '2018-06-21 11:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37c7d907d9e5803e8689d27b9faa3bfbde18f90f', 'message': 'WIP: run only quickstart in the job w/o preparations\n\nMake all preparations in pre.yml to save time and run only\nansible-playbooks in run.yml during the job.\n\nChange-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58\n'}, {'number': 5, 'created': '2018-06-25 13:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9db5d0c13144892ace1fb2917646235580569a2e', 'message': 'WIP: run only quickstart in the job w/o preparations\n\nMake all preparations in pre.yml to save time and run only\nansible-playbooks in run.yml during the job.\n\nChange-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58\n'}, {'number': 6, 'created': '2018-07-03 21:18:26.000000000', 'files': ['playbooks/tripleo-ci/run.yaml', 'playbooks/multinode-networking/pre.yaml', 'playbooks/multinode-prepare/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/edc9f026ca73e31e4f8ce5c30975c43cdee03f2e', 'message': 'WIP: run only quickstart in the job w/o preparations\n\nMake all preparations in pre.yml to save time and run only\nansible-playbooks in run.yml during the job.\n\nChange-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58\n'}]",0,576913,edc9f026ca73e31e4f8ce5c30975c43cdee03f2e,17,2,6,10969,,,0,"WIP: run only quickstart in the job w/o preparations

Make all preparations in pre.yml to save time and run only
ansible-playbooks in run.yml during the job.

Change-Id: I38e3ce837e1d3f1bef626e882871549b6afb6b58
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/576913/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/run.yaml', 'zuul.d/base.yaml', 'playbooks/multinode-prepare/pre.yml']",3,d150bf0bf5099d358aed605f7b111026f1478ef7,newzuul,"- hosts: - primary - centos-7 name: Autoconverted job from tripleo legacy jobs tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export TOCI_JOBTYPE={{ toci_jobtype }} # ZUUL does not set these for periodic jobs export ZUUL_BRANCH=${ZUUL_BRANCH:-master} export ZUUL_REF=${ZUUL_REF:-None} # Compatibility with zuul v3 variables export JOB_NAME={{ zuul.job }} export LOG_PATH={{ zuul.change[-2:] }}/{{ zuul.change }}/{{ zuul.patchset }}/{{ zuul.pipeline }}/{{ zuul.job }}/{{ zuul.build[:7] }} export BRANCH_OVERRIDE=""{{ branch_override | default('default') }}"" if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=0 export DEVSTACK_GATE_EXERCISES=0 export DEVSTACK_GATE_HORIZON=1 export PROJECTS=""openstack/tripleo-quickstart $PROJECTS"" export PROJECTS=""openstack/tripleo-quickstart-extras $PROJECTS"" export PROJECTS=""openstack/tripleo-upgrade $PROJECTS"" /opt/stack/new/tripleo-ci/toci_gate_test.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,67,54
openstack%2Ftripleo-heat-templates~master~I286da578c42df24242ba38df12d42c8a8fdd4a4f,openstack/tripleo-heat-templates,master,I286da578c42df24242ba38df12d42c8a8fdd4a4f,Handle blank lines followed by comment in nic conversion script,MERGED,2018-06-28 18:26:09.000000000,2018-07-05 12:57:59.000000000,2018-07-05 10:54:39.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 9414}, {'_account_id': 11090}, {'_account_id': 12398}, {'_account_id': 18851}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 18:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55ed562d5eff3752972d83492a8336405be35ece', 'message': ""Handle blank lines followed by comment in nic conversion script\n\nCurrently if a blank line is followed by a comment the 'last_non_comment_spaces'\nvariable gets reset, which results in the comment line not being indented.\nThis just ignores blank lines so that 'last_non_comment_spaces' isn't reset\nand the comment line is properly indented.\n\nCloses-Bug: 1779191\nChange-Id: I286da578c42df24242ba38df12d42c8a8fdd4a4f\n""}, {'number': 2, 'created': '2018-06-28 18:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a9f67e7bb0dbf481ff13d959199661ae3a07dcc', 'message': ""Handle blank lines followed by comment in nic conversion script\n\nCurrently if a blank line is followed by a comment the 'last_non_comment_spaces'\nvariable gets reset, which results in the comment line not being indented.\nThis just ignores blank lines so that 'last_non_comment_spaces' isn't reset\nand the comment line is properly indented.\n\nCloses-Bug: 1779191\nChange-Id: I286da578c42df24242ba38df12d42c8a8fdd4a4f\n""}, {'number': 3, 'created': '2018-06-29 07:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03dd3ee2a9a75bd8c31771f5ec306613cbc3e1f2', 'message': ""Handle blank lines followed by comment in nic conversion script\n\nCurrently if a blank line is followed by a comment the 'last_non_comment_spaces'\nvariable gets reset, which results in the comment line not being indented.\nThis just ignores blank lines so that 'last_non_comment_spaces' isn't reset\nand the comment line is properly indented.\n\nCloses-Bug: 1779191\nChange-Id: I286da578c42df24242ba38df12d42c8a8fdd4a4f\n""}, {'number': 4, 'created': '2018-06-29 08:02:22.000000000', 'files': ['tools/yaml-nic-config-2-script.py', 'releasenotes/notes/nic-config-script-handle-blank-line-f86553d7589826ed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f997e3da60fe21e545736f78f3045167e06f0d1b', 'message': ""Handle blank lines followed by comment in nic conversion script\n\nCurrently if a blank line is followed by a comment the 'last_non_comment_spaces'\nvariable gets reset, which results in the comment line not being indented.\nThis just ignores blank lines so that 'last_non_comment_spaces' isn't reset\nand the comment line is properly indented.\n\nCloses-Bug: 1779191\nChange-Id: I286da578c42df24242ba38df12d42c8a8fdd4a4f\n""}]",4,578956,f997e3da60fe21e545736f78f3045167e06f0d1b,29,9,4,21909,,,0,"Handle blank lines followed by comment in nic conversion script

Currently if a blank line is followed by a comment the 'last_non_comment_spaces'
variable gets reset, which results in the comment line not being indented.
This just ignores blank lines so that 'last_non_comment_spaces' isn't reset
and the comment line is properly indented.

Closes-Bug: 1779191
Change-Id: I286da578c42df24242ba38df12d42c8a8fdd4a4f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/578956/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/yaml-nic-config-2-script.py', 'releasenotes/notes/nic-config-script-handle-blank-line-f86553d7589826ed.yaml']",2,55ed562d5eff3752972d83492a8336405be35ece,bug/1779191,--- fixes: - This fixes an issue with the yaml-nic-config-2-script.py script that converts old-style nic config files to new-style. It now handles blank lines followed by a comment line. ,,8,0
openstack%2Fnetworking-midonet~master~Ibdfcd4083291a01cad52622162edaf52b1ddad3e,openstack/networking-midonet,master,Ibdfcd4083291a01cad52622162edaf52b1ddad3e,Comment out autodoc stuff,MERGED,2018-07-04 09:03:08.000000000,2018-07-05 12:55:34.000000000,2018-07-05 12:55:24.000000000,"[{'_account_id': 156}, {'_account_id': 9925}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 09:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/832efedbad5511b47c6942b5022f58394ff0e5dd', 'message': 'Comment out autodoc stuff\n\nAs a workaround for the Related-Bug.\n\nRelated-Bug: #1779801\nChange-Id: Ibdfcd4083291a01cad52622162edaf52b1ddad3e\n'}, {'number': 2, 'created': '2018-07-04 09:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bc84d1a5039e03503622bf1c653d85b428ea9645', 'message': 'Comment out autodoc stuff\n\nAs a workaround for the Related-Bug.\n\nRelated-Bug: #1779801\nChange-Id: Ibdfcd4083291a01cad52622162edaf52b1ddad3e\n'}, {'number': 3, 'created': '2018-07-04 11:30:47.000000000', 'files': ['doc/source/contributor/api/index.rst', 'doc/source/contributor/index.rst', 'doc/source/conf.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e1d8cdd420ec06e309833ea5db63444d87ff2158', 'message': 'Comment out autodoc stuff\n\nAs a workaround for the Related-Bug.\n\nRelated-Bug: #1779801\nChange-Id: Ibdfcd4083291a01cad52622162edaf52b1ddad3e\n'}]",0,580098,e1d8cdd420ec06e309833ea5db63444d87ff2158,12,4,3,6854,,,0,"Comment out autodoc stuff

As a workaround for the Related-Bug.

Related-Bug: #1779801
Change-Id: Ibdfcd4083291a01cad52622162edaf52b1ddad3e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/98/580098/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/conf.py']",2,832efedbad5511b47c6942b5022f58394ff0e5dd,bug/1779801," # 'sphinx.ext.autodoc',"," 'sphinx.ext.autodoc',",7,7
openstack%2Fnova~master~Ie7862a86ba60638e119ba431747a9053679c4779,openstack/nova,master,Ie7862a86ba60638e119ba431747a9053679c4779,placement: return consumer info even when no alloc,ABANDONED,2018-07-02 17:52:04.000000000,2018-07-05 12:50:27.000000000,,"[{'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 17:52:04.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1778591.yaml', 'nova/api/openstack/placement/handlers/allocation.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b681e3830db35fb8fe02ae2b66bd8b6eb035e6b', 'message': ""placement: return consumer info even when no alloc\n\nA consumer can end up being created with no allocations (bug 1779725),\nbut it is also legitimate that all of a consumer's allocation records\nare deleted -- but the consumer continues to exist.\n\nIn both of these cases, there was no way to retrieve the consumer's\ngeneration when no allocation records existed for the consumer. In the\nfirst case, the auto-created consumer record is not removed when we fail\nto create allocations for the consumer (either we get a 400 or 409 when\ncreating them). When retrying the call to ``PUT\n/allocations/{consumer}``, the caller would be confused when the retried\noperation asked for a non-null consumer generation. There was no way to\nactually get that consumer generation since ``GET\n/allocations/{consumer}`` was not returning generation or project/user\ninformation when there were no allocation records.\n\nChange-Id: Ie7862a86ba60638e119ba431747a9053679c4779\nCloses-bug: #1778591\nRelated-bug: #1779725\n""}]",0,579654,7b681e3830db35fb8fe02ae2b66bd8b6eb035e6b,25,15,1,7,,,0,"placement: return consumer info even when no alloc

A consumer can end up being created with no allocations (bug 1779725),
but it is also legitimate that all of a consumer's allocation records
are deleted -- but the consumer continues to exist.

In both of these cases, there was no way to retrieve the consumer's
generation when no allocation records existed for the consumer. In the
first case, the auto-created consumer record is not removed when we fail
to create allocations for the consumer (either we get a 400 or 409 when
creating them). When retrying the call to ``PUT
/allocations/{consumer}``, the caller would be confused when the retried
operation asked for a non-null consumer generation. There was no way to
actually get that consumer generation since ``GET
/allocations/{consumer}`` was not returning generation or project/user
information when there were no allocation records.

Change-Id: Ie7862a86ba60638e119ba431747a9053679c4779
Closes-bug: #1778591
Related-bug: #1779725
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/579654/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1778591.yaml', 'nova/api/openstack/placement/handlers/allocation.py']",2,7b681e3830db35fb8fe02ae2b66bd8b6eb035e6b,bug/1779725,"from nova.api.openstack.placement.objects import consumer as consumer_objdef _serialize_allocations_for_consumer(allocations, consumer, want_version): # NOTE(jaypipes): Even if the consumer doesn't have allocations, we still # want to return the project, user and generation if consumer is not None and want_version.matches((1, 12)): try: consumer = consumer_obj.Consumer.get_by_uuid(context, consumer_id) except exception.NotFound: # TODO(jaypipes): In a future microversion, allow for returning a 404 # Not Found here when the caller requests a consumer that doesn't # exist consumer = None output = _serialize_allocations_for_consumer( allocations, consumer, want_version)","def _serialize_allocations_for_consumer(allocations, want_version): if allocations and want_version.matches((1, 12)): # We're looking at a list of allocations by consumer id so project and # user are consistent across the list consumer = allocations[0].consumer output = _serialize_allocations_for_consumer(allocations, want_version)",30,9
openstack%2Fnetworking-bagpipe~master~I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a,openstack/networking-bagpipe,master,I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a,switch to stestr and requirements updates,MERGED,2018-07-03 07:20:04.000000000,2018-07-05 12:45:36.000000000,2018-07-05 12:45:36.000000000,"[{'_account_id': 8871}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 07:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/8966d2f7347b710abbd2e2319f07d984046f4230', 'message': 'switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}, {'number': 2, 'created': '2018-07-03 11:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4f14d4bbc5fc39bb2cc5be16b23a796dcc4e2b28', 'message': 'switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}, {'number': 3, 'created': '2018-07-03 13:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/dfc490d24a65411f3c25a87fc5963f2c4797b8d8', 'message': 'switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\n(it was required to also sync requirements)\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}, {'number': 4, 'created': '2018-07-04 07:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/ccb3d43398ce421fe7defbd79fa2bf0abf1eb3ad', 'message': 'switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\n(it was required to also sync requirements)\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}, {'number': 5, 'created': '2018-07-04 12:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a362e8505e95ab91baf6683305d9e2951031fa63', 'message': 'switch to stestr and requirements updates\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nTo unbreak it was required to also sync requirements,\nin particular increase the lower bound for SQLAlchemy.\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}, {'number': 6, 'created': '2018-07-04 14:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/99d7904cd7a328f1402c6cc468469d655f415288', 'message': 'switch to stestr and requirements updates\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nTo unbreak it was required to also sync requirements,\nin particular increase the lower bound for neutron-lib\nand SQLAlchemy.\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}, {'number': 7, 'created': '2018-07-04 15:44:06.000000000', 'files': ['tools/ostestr_compat_shim.sh', 'requirements.txt', '.gitignore', 'test-requirements.txt', '.testr.conf', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1391ab569e988a73ac74a91d0f12baab19a43826', 'message': 'switch to stestr and requirements updates\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nTo unbreak it was required to also sync requirements,\nin particular increase the lower bound for neutron-lib\nand SQLAlchemy.\n\nChange-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a\n'}]",0,579789,1391ab569e988a73ac74a91d0f12baab19a43826,26,3,7,12021,,,0,"switch to stestr and requirements updates

Update to new PTI:
https://governance.openstack.org/tc/reference/pti/python.html#python-test-running

To unbreak it was required to also sync requirements,
in particular increase the lower bound for neutron-lib
and SQLAlchemy.

Change-Id: I68b2b4dc1d1f825ebffb843533acbb9e55bbc03a
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/89/579789/7 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ostestr_compat_shim.sh', '.gitignore', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",5,8966d2f7347b710abbd2e2319f07d984046f4230,switch-to-stestr, OS_LOG_CAPTURE={env:OS_LOG_CAPTURE:true} OS_STDOUT_CAPTURE={env:OS_STDOUT_CAPTURE:true} OS_STDERR_CAPTURE={env:OS_STDERR_CAPTURE:true}commands = stestr run {posargs}commands = stestr run {posargs}setenv = PYTHON = coverage run --source networking_bgpvpn --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml," VIRTUAL_ENV={envdir}commands = {toxinidir}/tools/ostestr_compat_shim.sh {posargs}commands = {toxinidir}/tools/ostestr_compat_shim.sh {posargs} python setup.py test --coverage --coverage-package-name=networking_bagpipe --omit=""*/tests/*"" --testr-args='{posargs}' coverage report --omit=""*/tests/*"" -m",13,15
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,openstack/openstack-ansible-pip_install,stable/queens,I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,Pin get-pip.py to 3.2,MERGED,2018-07-04 09:54:38.000000000,2018-07-05 12:43:35.000000000,2018-07-05 12:43:35.000000000,"[{'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 09:54:38.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/f3a1342e6a35bb35a7006bd2f14f33e2bb8066dc', 'message': ""Pin get-pip.py to 3.2\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script. Version 3.2 maps to\npip 7.1.2 which fulfills our needs.\n\nCloses-Bug: 1779534\nChange-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc\n(cherry picked from commit 6c00fab455fd764836442b51b5d788fed32f8278)\n""}]",0,580116,f3a1342e6a35bb35a7006bd2f14f33e2bb8066dc,7,3,1,6816,,,0,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Closes-Bug: 1779534
Change-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc
(cherry picked from commit 6c00fab455fd764836442b51b5d788fed32f8278)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/16/580116/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f3a1342e6a35bb35a7006bd2f14f33e2bb8066dc,bug/1779534-stable/queens,pip_upstream_url: https://bootstrap.pypa.io/3.2/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/3.2/get-pip.py,pip_upstream_url: https://bootstrap.pypa.io/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/get-pip.py,2,2
openstack%2Fopenstack-ansible-pip_install~stable%2Focata~I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,openstack/openstack-ansible-pip_install,stable/ocata,I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,Pin get-pip.py to 3.2,MERGED,2018-07-04 09:54:55.000000000,2018-07-05 12:43:12.000000000,2018-07-05 12:43:12.000000000,"[{'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 09:54:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/1c8778b5bb8e1275cb599a0f4d21d81c19dfc5a5', 'message': ""Pin get-pip.py to 3.2\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script. Version 3.2 maps to\npip 7.1.2 which fulfills our needs.\n\nCloses-Bug: 1779534\nChange-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc\n(cherry picked from commit 6c00fab455fd764836442b51b5d788fed32f8278)\n""}]",0,580118,1c8778b5bb8e1275cb599a0f4d21d81c19dfc5a5,7,3,1,6816,,,0,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Closes-Bug: 1779534
Change-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc
(cherry picked from commit 6c00fab455fd764836442b51b5d788fed32f8278)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/18/580118/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1c8778b5bb8e1275cb599a0f4d21d81c19dfc5a5,bug/1779534-stable/ocata,pip_upstream_url: https://bootstrap.pypa.io/3.2/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/3.2/get-pip.py,pip_upstream_url: https://bootstrap.pypa.io/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/get-pip.py,2,2
openstack%2Fopenstack-ansible-pip_install~stable%2Fpike~I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,openstack/openstack-ansible-pip_install,stable/pike,I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,Pin get-pip.py to 3.2,MERGED,2018-07-04 09:54:47.000000000,2018-07-05 12:43:11.000000000,2018-07-05 12:43:11.000000000,"[{'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 09:54:47.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/385d3381cb95da8c4e2a0e8cf693f05c7c7b9fe2', 'message': ""Pin get-pip.py to 3.2\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script. Version 3.2 maps to\npip 7.1.2 which fulfills our needs.\n\nCloses-Bug: 1779534\nChange-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc\n(cherry picked from commit 6c00fab455fd764836442b51b5d788fed32f8278)\n""}]",0,580117,385d3381cb95da8c4e2a0e8cf693f05c7c7b9fe2,7,3,1,6816,,,0,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Closes-Bug: 1779534
Change-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc
(cherry picked from commit 6c00fab455fd764836442b51b5d788fed32f8278)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/17/580117/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,385d3381cb95da8c4e2a0e8cf693f05c7c7b9fe2,bug/1779534-stable/pike,pip_upstream_url: https://bootstrap.pypa.io/3.2/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/3.2/get-pip.py,pip_upstream_url: https://bootstrap.pypa.io/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/get-pip.py,2,2
openstack%2Fkolla-ansible~master~Ia595f2ab485904e76fb76211f6715a7c019886ea,openstack/kolla-ansible,master,Ia595f2ab485904e76fb76211f6715a7c019886ea,Standardise Monasca Kafka variable name,MERGED,2018-07-04 10:13:47.000000000,2018-07-05 12:41:54.000000000,2018-07-05 12:41:54.000000000,"[{'_account_id': 9414}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28587}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-04 10:13:47.000000000', 'files': ['ansible/roles/monasca/templates/monasca-api/api-config.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api.conf.j2', 'ansible/roles/monasca/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b54ceef8bfef643ee9ee73f29858b2f148a81913', 'message': 'Standardise Monasca Kafka variable name\n\nOther lists of servers have the postfix _servers. To be consistent\nthis change uses the same format for Kafka.\n\nChange-Id: Ia595f2ab485904e76fb76211f6715a7c019886ea\nPartially-Implements: blueprint monasca-roles\n'}]",0,580123,b54ceef8bfef643ee9ee73f29858b2f148a81913,11,6,1,17669,,,0,"Standardise Monasca Kafka variable name

Other lists of servers have the postfix _servers. To be consistent
this change uses the same format for Kafka.

Change-Id: Ia595f2ab485904e76fb76211f6715a7c019886ea
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/580123/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/templates/monasca-api/api-config.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api.conf.j2', 'ansible/roles/monasca/defaults/main.yml']",3,b54ceef8bfef643ee9ee73f29858b2f148a81913,bp/monasca-roles,"monasca_kafka_servers: ""{% for host in groups['kafka'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ kafka_port }}{% if not loop.last %},{% endif %}{% endfor %}""","monasca_kafka: ""{% for host in groups['kafka'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ kafka_port }}{% if not loop.last %},{% endif %}{% endfor %}""",4,4
openstack%2Fopenstack-ansible-os_glance~master~Ie8820ebfe9a7417918893ec83ae5014c19511ef8,openstack/openstack-ansible-os_glance,master,Ie8820ebfe9a7417918893ec83ae5014c19511ef8,Allow an easy sync of MQ files,ABANDONED,2018-07-02 09:13:17.000000000,2018-07-05 12:30:21.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 09:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/a852351ba9811052c4738bc323aecc8f6cae44b2', 'message': 'Allow an easy sync of MQ files\n\nIf we pass the variables through the main.yml, we can easily\ncopy the mq_setup.yml files across roles. This reduces the\nmaintenance burden.\n\nChange-Id: Ie8820ebfe9a7417918893ec83ae5014c19511ef8\n'}, {'number': 2, 'created': '2018-07-02 11:16:31.000000000', 'files': ['tasks/glance_mq_setup.yml', 'tasks/main.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/34c0b9af465db1a53b8849671ee9909f9cc980e6', 'message': 'Allow an easy sync of MQ files\n\nIf we pass the variables through the main.yml, we can easily\ncopy the mq_setup.yml files across roles. This reduces the\nmaintenance burden.\n\nChange-Id: Ie8820ebfe9a7417918893ec83ae5014c19511ef8\n'}]",0,579498,34c0b9af465db1a53b8849671ee9909f9cc980e6,6,2,2,17068,,,0,"Allow an easy sync of MQ files

If we pass the variables through the main.yml, we can easily
copy the mq_setup.yml files across roles. This reduces the
maintenance burden.

Change-Id: Ie8820ebfe9a7417918893ec83ae5014c19511ef8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/98/579498/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/mq_setup.yml']",2,a852351ba9811052c4738bc323aecc8f6cae44b2,move-mq-setup-into-roles," delegate_to: ""{{ oslomsg_rpc_setup_host }}"" when: - ""oslomsg_rpc_transport == 'rabbit'"" name: ""{{ oslomsg_rpc_vhost }}"" user: ""{{ oslomsg_rpc_userid }}"" password: ""{{ oslomsg_rpc_password }}"" vhost: ""{{ oslomsg_rpc_vhost }}"" delegate_to: ""{{ oslomsg_notify_setup_host }}"" when: - ""oslomsg_rpc_transport == 'rabbit'"" name: ""{{ oslomsg_notify_vhost }}"" user: ""{{ oslomsg_notify_userid }}"" password: ""{{ oslomsg_notify_password }}"" vhost: ""{{ oslomsg_notify_vhost }}"""," delegate_to: ""{{ glance_oslomsg_rpc_setup_host }}"" when: - ""glance_oslomsg_rpc_transport == 'rabbit'"" name: ""{{ glance_oslomsg_rpc_vhost }}"" user: ""{{ glance_oslomsg_rpc_userid }}"" password: ""{{ glance_oslomsg_rpc_password }}"" vhost: ""{{ glance_oslomsg_rpc_vhost }}"" delegate_to: ""{{ glance_oslomsg_notify_setup_host }}"" when: - ""glance_oslomsg_rpc_transport == 'rabbit'"" name: ""{{ glance_oslomsg_notify_vhost }}"" user: ""{{ glance_oslomsg_notify_userid }}"" password: ""{{ glance_oslomsg_notify_password }}"" vhost: ""{{ glance_oslomsg_notify_vhost }}""",22,13
openstack%2Fcinder~master~I1e89dd2324a6fcd05e2c5336bb0816abf7c5ca2e,openstack/cinder,master,I1e89dd2324a6fcd05e2c5336bb0816abf7c5ca2e,INFINIDAT: change create_child to create_snapshot,MERGED,2018-07-03 13:01:49.000000000,2018-07-05 12:29:22.000000000,2018-07-05 12:29:22.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22683}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26968}]","[{'number': 1, 'created': '2018-07-03 13:01:49.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a15924850e46b2cf187ec8cb2b58c170af47a507', 'message': 'INFINIDAT: change create_child to create_snapshot\n\ncreate_child method was deprecated in favor of create_snapshot\nin infinisdk package. This is an internal change and should have\nno customer impact.\n\nChange-Id: I1e89dd2324a6fcd05e2c5336bb0816abf7c5ca2e\n'}]",0,579863,a15924850e46b2cf187ec8cb2b58c170af47a507,56,30,1,22683,,,0,"INFINIDAT: change create_child to create_snapshot

create_child method was deprecated in favor of create_snapshot
in infinisdk package. This is an internal change and should have
no customer impact.

Change-Id: I1e89dd2324a6fcd05e2c5336bb0816abf7c5ca2e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/579863/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",2,a15924850e46b2cf187ec8cb2b58c170af47a507,, infinidat_clone = infinidat_snapshot.create_snapshot(name=clone_name), infinidat_clone = infinidat_snapshot.create_child(name=clone_name),3,3
openstack%2Fpuppet-openstack-integration~master~I280adf43e8a427b555a91d1f481ea3c0c5334370,openstack/puppet-openstack-integration,master,I280adf43e8a427b555a91d1f481ea3c0c5334370,Remove base fedora repos as fedora-stable is enabled,MERGED,2018-07-03 14:35:55.000000000,2018-07-05 12:24:45.000000000,2018-07-05 12:24:45.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 14:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6c11c316778ce4accf783706971466961efa8b9e', 'message': ""Remove base fedora repos as fedora-stable is enabled\n\nhttps://review.openstack.org/#/c/577819/ enabled\nstable-base repo which includes all required packages\nfor fedora. We don't need fedora base repos, so remove them\nafter repos are configured.\n\nChange-Id: I280adf43e8a427b555a91d1f481ea3c0c5334370\n""}, {'number': 2, 'created': '2018-07-04 05:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/89577ca0646445afbdd299b21bbf9ecb04f50683', 'message': ""Remove base fedora repos as fedora-stable is enabled\n\nhttps://review.openstack.org/#/c/577819/ enabled\nstable-base repo which includes all required packages\nfor fedora. We don't need fedora base repos, so remove them\nafter repos are configured.\n\nChange-Id: I280adf43e8a427b555a91d1f481ea3c0c5334370\n""}, {'number': 3, 'created': '2018-07-04 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9620a817622f7e27532daa179c2bc718de16c0a1', 'message': ""Remove base fedora repos as fedora-stable is enabled\n\nhttps://review.openstack.org/#/c/577819/ enabled\nstable-base repo which includes all required packages\nfor fedora. We don't need fedora base repos, so remove them\nafter repos are configured.\n\nChange-Id: I280adf43e8a427b555a91d1f481ea3c0c5334370\n""}, {'number': 4, 'created': '2018-07-04 08:32:44.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5f3a71521745d3ca0018394d880af20832ca9fc7', 'message': ""Remove base fedora repos as fedora-stable is enabled\n\nhttps://review.openstack.org/#/c/577819/ enabled\nstable-base repo which includes all required packages\nfor fedora. We don't need fedora base repos, so remove them\nafter repos are configured.\n\nChange-Id: I280adf43e8a427b555a91d1f481ea3c0c5334370\n""}]",0,579884,5f3a71521745d3ca0018394d880af20832ca9fc7,20,5,4,13861,,,0,"Remove base fedora repos as fedora-stable is enabled

https://review.openstack.org/#/c/577819/ enabled
stable-base repo which includes all required packages
for fedora. We don't need fedora base repos, so remove them
after repos are configured.

Change-Id: I280adf43e8a427b555a91d1f481ea3c0c5334370
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/84/579884/4 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,6c11c316778ce4accf783706971466961efa8b9e,enable-py3," if [ -f /etc/fedora-release ]; then # Remove base fedora repos, as with fedora, fedora-stable repo is enabled # https://trunk.rdoproject.org/fedora/delorean-deps.repo $SUDO rm -rf /etc/yum.repos.d/fedora* fi",,5,0
openstack%2Frequirements~master~Ie347ab273a1b239d9d264704482d3202dc4e4c74,openstack/requirements,master,Ie347ab273a1b239d9d264704482d3202dc4e4c74,Ignore empty requirements/constraints when building lower-constraints,MERGED,2018-07-04 23:53:27.000000000,2018-07-05 11:59:45.000000000,2018-07-05 11:59:45.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 23:53:27.000000000', 'files': ['openstack_requirements/cmds/build_lower_constraints.py', 'openstack_requirements/tests/test_build_lower_constraints.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8bc094cf9e922579bdc6aa42eaad9979d11b82ed', 'message': 'Ignore empty requirements/constraints when building lower-constraints\n\nSome constraints files[1] contain valid data but we want to ignore them\nwhen generating a combined lower-constraints.txt, rather than erroring\nout:\n\n [tony@thor requirements]$ time .tox/venv/bin/build-lower-constraints ../*/lower-constraints.txt > tjmaxx.txt\n Traceback (most recent call last):\n   File "".tox/venv/bin/build-lower-constraints"", line 10, in <module>\n     sys.exit(main())\n   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 71, in main\n     merged = list(merge_constraints_sets(constraints_sets))\n   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 53, in merge_constraints_sets\n     val = max((c[0] for c in constraints), key=get_requirements_version)\n   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 43, in get_requirements_version\n     raise ValueError(\'could not find version for {}\'.format(req))\n ValueError: could not find version for Requirement(package=\'\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# flake8==2.5.5\', extras=frozenset())\n\nLet\'s just ignore comments in those files.\n\n[1] http://git.openstack.org/cgit/openstack/zaqar/tree/lower-constraints.txt#n28\n\nChange-Id: Ie347ab273a1b239d9d264704482d3202dc4e4c74\n'}]",0,580237,8bc094cf9e922579bdc6aa42eaad9979d11b82ed,9,5,1,12898,,,0,"Ignore empty requirements/constraints when building lower-constraints

Some constraints files[1] contain valid data but we want to ignore them
when generating a combined lower-constraints.txt, rather than erroring
out:

 [tony@thor requirements]$ time .tox/venv/bin/build-lower-constraints ../*/lower-constraints.txt > tjmaxx.txt
 Traceback (most recent call last):
   File "".tox/venv/bin/build-lower-constraints"", line 10, in <module>
     sys.exit(main())
   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 71, in main
     merged = list(merge_constraints_sets(constraints_sets))
   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 53, in merge_constraints_sets
     val = max((c[0] for c in constraints), key=get_requirements_version)
   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 43, in get_requirements_version
     raise ValueError('could not find version for {}'.format(req))
 ValueError: could not find version for Requirement(package='', location='', specifiers='', markers='', comment='# flake8==2.5.5', extras=frozenset())

Let's just ignore comments in those files.

[1] http://git.openstack.org/cgit/openstack/zaqar/tree/lower-constraints.txt#n28

Change-Id: Ie347ab273a1b239d9d264704482d3202dc4e4c74
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/580237/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/cmds/build_lower_constraints.py', 'openstack_requirements/tests/test_build_lower_constraints.py']",2,8bc094cf9e922579bdc6aa42eaad9979d11b82ed,build-lower-constraint-list," def test_one_input_file_with_comments(self): inputs = [ requirement.parse('package==1.2.3\n # package2==0.9.8'), ] expected = [ 'package==1.2.3\n', ] self.assertEqual( expected, list(build_lower_constraints.merge_constraints_sets(inputs)) )",,14,1
openstack%2Ftripleo-quickstart~master~Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef,openstack/tripleo-quickstart,master,Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef,Allow custom host kernel params for libguestfs,MERGED,2018-06-20 07:41:05.000000000,2018-07-05 11:31:28.000000000,2018-07-05 11:31:28.000000000,"[{'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 11090}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-06-20 07:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/182fe971e5731421ef0b87d42cf1ed1c1db9c9a3', 'message': 'Allow custom host kernel params for libguestfs\n\nIn the libvirt mode of the reproducer script, it may be\nvery useful to allow customize kernel versions used for\nlibguestfs commands.\n\nAllow to define those via exported LIBGUESTFS_BACKEND,\nSUPERMIN_KERNEL, SUPERMIN_KERNEL_VERSION, SUPERMIN_MODULES\nenv vars on the virthost.\n\nChange-Id: Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-06-22 08:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a02d863dc92d379a55d8d1e5a1947107dc72866e', 'message': 'Allow custom host kernel params for libguestfs\n\nIn the libvirt mode of the reproducer script, it may be\nvery useful to allow customize kernel versions used for\nlibguestfs commands.\n\nAllow to define those via exported LIBGUESTFS_BACKEND,\nSUPERMIN_KERNEL, SUPERMIN_KERNEL_VERSION, SUPERMIN_MODULES\nenv vars on the virthost.\n\nChange-Id: Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-06-25 06:15:54.000000000', 'files': ['playbooks/libvirt-nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b469bc0923824303cf234a2f62e39abcbffdf3aa', 'message': 'Allow custom host kernel params for libguestfs\n\nIn the libvirt mode of the reproducer script, it may be\nvery useful to allow customize kernel versions used for\nlibguestfs commands.\n\nAllow to define those via exported LIBGUESTFS_BACKEND,\nSUPERMIN_KERNEL, SUPERMIN_KERNEL_VERSION, SUPERMIN_MODULES\nenv vars on the virthost.\n\nChange-Id: Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",5,576772,b469bc0923824303cf234a2f62e39abcbffdf3aa,64,13,3,6926,,,0,"Allow custom host kernel params for libguestfs

In the libvirt mode of the reproducer script, it may be
very useful to allow customize kernel versions used for
libguestfs commands.

Allow to define those via exported LIBGUESTFS_BACKEND,
SUPERMIN_KERNEL, SUPERMIN_KERNEL_VERSION, SUPERMIN_MODULES
env vars on the virthost.

Change-Id: Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/72/576772/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/libvirt-nodepool.yml'],1,182fe971e5731421ef0b87d42cf1ed1c1db9c9a3,libvirt_repro_tweaks," - role: libvirt/setup/overcloud environment: SUPERMIN_KERNEL_VERSION: ""{{ lookup('env', 'SUPERMIN_KERNEL_VERSION') }}"" SUPERMIN_KERNEL: ""{{ lookup('env', 'SUPERMIN_KERNEL') }}"" SUPERMIN_MODULES: ""{{ lookup('env', 'SUPERMIN_MODULES') }}"" LIBGUESTFS_BACKEND: ""{{ lookup('env', 'LIBGUESTFS_BACKEND') }}""", - libvirt/setup/overcloud,6,1
openstack%2Fkolla-ansible~master~I8b8631e1c215580dd7711a0c0b3683b06ddc47d3,openstack/kolla-ansible,master,I8b8631e1c215580dd7711a0c0b3683b06ddc47d3,Fix missed notify for zun-wsproxy container.,MERGED,2018-07-04 10:31:19.000000000,2018-07-05 11:17:55.000000000,2018-07-05 11:17:55.000000000,"[{'_account_id': 9414}, {'_account_id': 10068}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-07-04 10:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f477d1a65baa14ac5838c085715e6cda928006f6', 'message': 'Update zun-wsproxy configuration\n\nChange-Id: I8b8631e1c215580dd7711a0c0b3683b06ddc47d3\n'}, {'number': 2, 'created': '2018-07-05 02:27:54.000000000', 'files': ['ansible/roles/zun/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acccec75a3099151063f742d148c850ccd41023d', 'message': 'Fix missed notify for zun-wsproxy container.\n\nChange-Id: I8b8631e1c215580dd7711a0c0b3683b06ddc47d3\n'}]",3,580126,acccec75a3099151063f742d148c850ccd41023d,16,6,2,28012,,,0,"Fix missed notify for zun-wsproxy container.

Change-Id: I8b8631e1c215580dd7711a0c0b3683b06ddc47d3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/580126/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/zun/tasks/config.yml'],1,f477d1a65baa14ac5838c085715e6cda928006f6,, - Restart zun-wsproxy container - Restart zun-wsproxy container - Restart zun-wsproxy container - Restart zun-wsproxy container ,,5,0
openstack%2Foslo.middleware~master~I637254de2b5e1fcf2ecf94c10d44e303db5256eb,openstack/oslo.middleware,master,I637254de2b5e1fcf2ecf94c10d44e303db5256eb,Removing oslo.serialization in test-requirements.txt,ABANDONED,2018-07-05 01:19:54.000000000,2018-07-05 11:00:01.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-05 01:19:54.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/d1f1965d218852b93360152882dd61dc08c12254', 'message': 'Removing oslo.serialization in test-requirements.txt\n\noslo.serialization is not required in test-requirements.txt\nThis patch removes this unnecessary package.\n\nChange-Id: I637254de2b5e1fcf2ecf94c10d44e303db5256eb\n'}]",0,580240,d1f1965d218852b93360152882dd61dc08c12254,6,3,1,25903,,,0,"Removing oslo.serialization in test-requirements.txt

oslo.serialization is not required in test-requirements.txt
This patch removes this unnecessary package.

Change-Id: I637254de2b5e1fcf2ecf94c10d44e303db5256eb
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/40/580240/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d1f1965d218852b93360152882dd61dc08c12254,removing_unnecessary_requirement,,"oslo.serialization!=2.19.1,>=2.18.0 # Apache-2.0",0,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba,openstack/tripleo-heat-templates,stable/queens,Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba,Do not grant caps if pool name is empty,MERGED,2018-07-02 15:26:55.000000000,2018-07-05 10:54:50.000000000,2018-07-05 10:54:50.000000000,"[{'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-02 15:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe440de265a98cef9f1c82c69fcfa708aa6d91d5', 'message': 'Do not grant caps if pool name is empty\n\nThe openstack_keys map can have permissions for an empty pool\nwhich results in an invalid kerying.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba\nCloses-Bug: 1776987\n(cherry picked from commit 9746e2f9bb7926c6a5ff3028d5ae496ba4836a49)\n'}, {'number': 2, 'created': '2018-07-02 16:21:40.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70271cd94dee7020eaacb1e83036f66d2383f179', 'message': 'Do not grant caps if pool name is empty\n\nThe openstack_keys map can have permissions for an empty pool\nwhich results in an invalid kerying.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba\nCloses-Bug: 1776987\n(cherry picked from commit 9746e2f9bb7926c6a5ff3028d5ae496ba4836a49)\n'}]",2,579600,70271cd94dee7020eaacb1e83036f66d2383f179,21,4,2,18002,,,0,"Do not grant caps if pool name is empty

The openstack_keys map can have permissions for an empty pool
which results in an invalid kerying.

Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba
Closes-Bug: 1776987
(cherry picked from commit 9746e2f9bb7926c6a5ff3028d5ae496ba4836a49)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/579600/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,fe440de265a98cef9f1c82c69fcfa708aa6d91d5,bug/1776987," caps: mgr: ""allow *"" mon: ""profile rbd"" osd: list_join: - ', ' - repeat: template: 'profile rbd pool=<%pool%>' for_each: <%pool%>: list_concat_unique:"," mgr_cap: ""allow *"" mon_cap: ""profile rbd"" osd_cap: str_replace: template: 'profile rbd pool=CEPH_CLIENT_POOLS' params: CEPH_CLIENT_POOLS: list_join: - ', profile rbd pool=' - list_concat_unique:",11,10
openstack%2Ftripleo-common~master~Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d,openstack/tripleo-common,master,Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d,ensure unique ironic node ID with UCS driver,MERGED,2017-12-18 13:52:41.000000000,2018-07-05 10:54:48.000000000,2018-07-05 10:54:48.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-12-18 13:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df9eaa6ce1309d8c8ebe45b9839985add694c1fa', 'message': 'UCS Ironic node driver info added\n\nThe UCS driver info handling is split off the common\nPrefixedDriverInfo implementation for the purpose of\ngenerating unique node IDs in a driver-specific and\nclean way.\n\nThis change un-deprecates `pm_service_profile` option\nsupport.\n\nChange-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d\n'}, {'number': 2, 'created': '2017-12-19 13:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/064475d61f9238e41e99a110bdb21628bfaac432', 'message': 'UCS Ironic node driver info added\n\nThe UCS driver info handling is split off the common\nPrefixedDriverInfo implementation for the purpose of\ngenerating unique node IDs in a driver-specific and\nclean way.\n\nThis change un-deprecates `pm_service_profile` option\nsupport.\n\nCloses-Bug: #1739024\nChange-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d\n'}, {'number': 3, 'created': '2018-01-04 15:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e201773dc968619746335590ef0b0feaf9d06d7e', 'message': 'UCS Ironic node driver info added\n\nThe UCS driver info handling is split off the common\nPrefixedDriverInfo implementation for the purpose of\ngenerating unique node IDs in a driver-specific and\nclean way.\n\nThis change un-deprecates `pm_service_profile` option\nsupport.\n\nCloses-Bug: #1739024\nChange-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d\n'}, {'number': 4, 'created': '2018-06-06 11:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bcfcb94248f76f494dd10a123474cacbec66037e', 'message': 'UCS Ironic node driver info added\n\nThe UCS driver info handling is split off the common\nPrefixedDriverInfo implementation for the purpose of\ngenerating unique node IDs in a driver-specific and\nclean way.\n\nThis change un-deprecates `pm_service_profile` option\nsupport.\n\nCloses-Bug: #1739024\nChange-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d\n'}, {'number': 5, 'created': '2018-06-06 15:56:13.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'releasenotes/notes/ironic-ucs-driver-node-uniqueness-fix-c74110a9728d1023.yaml', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ea50e58eb6c4d0aab9d79a531a3644fd136993c5', 'message': 'ensure unique ironic node ID with UCS driver\n\nThe UCS driver info handling is split off the common\nPrefixedDriverInfo implementation for the purpose of\ngenerating unique node IDs in a driver-specific and\nclean way.\n\nThis change un-deprecates `pm_service_profile` option\nsupport.\n\nCloses-Bug: #1739024\nChange-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d\n'}]",4,528726,ea50e58eb6c4d0aab9d79a531a3644fd136993c5,41,8,5,26340,,,0,"ensure unique ironic node ID with UCS driver

The UCS driver info handling is split off the common
PrefixedDriverInfo implementation for the purpose of
generating unique node IDs in a driver-specific and
clean way.

This change un-deprecates `pm_service_profile` option
support.

Closes-Bug: #1739024
Change-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/528726/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,df9eaa6ce1309d8c8ebe45b9839985add694c1fa,bug/1739024,"class UcsDriverInfo(DriverInfo): def __init__(self): mapping = { 'pm_addr': 'ucs_address', 'pm_user': 'ucs_username', 'pm_password': 'ucs_password', 'pm_service_profile': 'ucs_service_profile' } mandatory_fields = list(mapping) super(UcsDriverInfo, self).__init__( 'ucs', mapping, mandatory_fields=mandatory_fields, ) def unique_id_from_fields(self, fields): try: return '%s:%s' % (fields['pm_addr'], fields['pm_service_profile']) except KeyError: return def unique_id_from_node(self, node): try: return '%s:%s' % (node.driver_info['ucs_address'], node.driver_info['ucs_service_profile']) except KeyError: return '(cisco\-ucs\-managed|.*_ucs)': UcsDriverInfo(),"," '(cisco\-ucs\-managed|.*_ucs)': PrefixedDriverInfo('ucs'),",69,1
openstack%2Ftripleo-ci~master~I7bd0ebba906887db31c34085a1c8a7efa31871a9,openstack/tripleo-ci,master,I7bd0ebba906887db31c34085a1c8a7efa31871a9,Use correct release file for periodic jobs,MERGED,2018-06-28 13:15:22.000000000,2018-07-05 10:54:47.000000000,2018-07-05 10:54:47.000000000,"[{'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-06-28 13:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0279b4221788b1a9d3da7f840ef5ce7773dd378c', 'message': 'Use correct release file for periodic jobs\n\nAfter emit releases script refactoring, we were using\n{stable_release}.yml as release file for periodic jobs\nperiodic jobs should use\npromotion-testing-hash-{stable_release}.yml\n\nChange-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9\nRelated-Bug: 1779108\n'}, {'number': 2, 'created': '2018-06-29 12:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f1e5692cf6df6432ae50e98aaa3c08b282bc552', 'message': 'Use correct release file for periodic jobs\n\nAfter emit releases script refactoring, we were using\n{stable_release}.yml as release file for periodic jobs\nperiodic jobs should use\npromotion-testing-hash-{stable_release}.yml\n\nChange-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9\nRelated-Bug: 1779108\n'}, {'number': 3, 'created': '2018-06-29 12:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b67799b9480f916e976744d3dda981dcddc97759', 'message': 'Use correct release file for periodic jobs\n\nAfter emit releases script refactoring, we were using\n{stable_release}.yml as release file for periodic jobs\nperiodic jobs should use\npromotion-testing-hash-{stable_release}.yml\n\nChange-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9\nRelated-Bug: 1779108\n'}, {'number': 4, 'created': '2018-06-29 12:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dfab38443ad8243c22688fad25ba743b50292dff', 'message': 'Use correct release file for periodic jobs\n\nAfter emit releases script refactoring, we were using\n{stable_release}.yml as release file for periodic jobs\nperiodic jobs should use\npromotion-testing-hash-{stable_release}.yml\n\nCloses-Bug: 1779108\n\nChange-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9\n'}, {'number': 5, 'created': '2018-06-30 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ec3334d6f6d47d85d7a3f1017f7df3aff436ec24', 'message': 'Use correct release file for periodic jobs\n\nAfter emit releases script refactoring, we were using\n{stable_release}.yml as release file for periodic jobs\nperiodic jobs should use\npromotion-testing-hash-{stable_release}.yml\n\nCloses-Bug: 1779108\n\nChange-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9\n'}, {'number': 6, 'created': '2018-07-02 05:57:16.000000000', 'files': ['scripts/emit_releases_file/emit_releases_file.py', 'toci_gate_test.sh', 'scripts/emit_releases_file/test_release_file.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/90cce3d112a438aed8ae112475e5e5fe7f8f4480', 'message': 'Use correct release file for periodic jobs\n\nAfter emit releases script refactoring, we were using\n{stable_release}.yml as release file for fs010 periodic jobs\nThe correct release file for it should use\npromotion-testing-hash-{stable_release}.yml\n\nCloses-Bug: 1779108\n\nChange-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9\n'}]",8,578793,90cce3d112a438aed8ae112475e5e5fe7f8f4480,34,11,6,27898,,,0,"Use correct release file for periodic jobs

After emit releases script refactoring, we were using
{stable_release}.yml as release file for fs010 periodic jobs
The correct release file for it should use
promotion-testing-hash-{stable_release}.yml

Closes-Bug: 1779108

Change-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/578793/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/emit_releases_file.py', 'toci_gate_test.sh', 'scripts/emit_releases_file/test_release_file.py']",3,0279b4221788b1a9d3da7f840ef5ce7773dd378c,bug/1779108," assert (shim_convert_old_release_names(releases_name, is_periodic=False) == expected_releases_file) # Also periodic jobs use the same release files assert (shim_convert_old_release_names(releases_name, is_periodic=True) == assert (shim_convert_old_release_names(releases_name, is_periodic=False) ==def test_converting_from_periodic_uc_upgrade_has_single_release_with_sufix(): releases_name = { 'undercloud_install_release': 'queens', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_release': 'master', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_release': 'master', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_target_release': 'master', 'overcloud_target_hash': 'current-tripleo', } expected_releases_file = { 'undercloud_install_release': 'promotion-testing-hash-queens', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_release': 'promotion-testing-hash-master', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_release': 'promotion-testing-hash-master', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_target_release': 'promotion-testing-hash-master', 'overcloud_target_hash': 'current-tripleo', } assert (shim_convert_old_release_names(releases_name, is_periodic=True) == expected_releases_file) assert (shim_convert_old_release_names(releases_name, is_periodic=False) == expected_releases_file) def test_converting_from_periodic_noop_has_single_release_with_sufix(): releases_name = { 'undercloud_install_release': 'master', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_release': 'master', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_release': 'master', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_target_release': 'master', 'overcloud_target_hash': 'current-tripleo', } expected_releases_file = { 'undercloud_install_release': 'promotion-testing-hash-master', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_release': 'promotion-testing-hash-master', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_release': 'promotion-testing-hash-master', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_target_release': 'promotion-testing-hash-master', 'overcloud_target_hash': 'current-tripleo', } assert (shim_convert_old_release_names(releases_name, is_periodic=True) ==", assert (shim_convert_old_release_names(releases_name) == assert (shim_convert_old_release_names(releases_name) == assert (shim_convert_old_release_names(releases_name) ==,84,10
openstack%2Ftripleo-heat-templates~master~I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14,openstack/tripleo-heat-templates,master,I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14,Handle roles w/o deprecated_nic_config_name during template cleanup,MERGED,2018-06-20 19:28:15.000000000,2018-07-05 10:54:45.000000000,2018-07-05 10:54:45.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-20 19:28:15.000000000', 'files': ['tools/process-templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdeabe06e72d2b8eda6773100975addd75225a50', 'message': ""Handle roles w/o deprecated_nic_config_name during template cleanup\n\nDon't assume the role dict has a deprecated_nic_config_name key during\ncleanup of the process templates. This isn't a required field, so we\ncan't assume it exists, otherwise the script will traceback with a\nKeyError.\n\nChange-Id: I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14\n""}]",0,576946,fdeabe06e72d2b8eda6773100975addd75225a50,15,5,1,7144,,,0,"Handle roles w/o deprecated_nic_config_name during template cleanup

Don't assume the role dict has a deprecated_nic_config_name key during
cleanup of the process templates. This isn't a required field, so we
can't assume it exists, otherwise the script will traceback with a
KeyError.

Change-Id: I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/576946/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/process-templates.py'],1,fdeabe06e72d2b8eda6773100975addd75225a50,," if 'deprecated_nic_config_name' in role: delete(os.path.join( nic_config_dir, sample_nic_config_dir, role['deprecated_nic_config_name']))"," delete(os.path.join( nic_config_dir, sample_nic_config_dir, role['deprecated_nic_config_name']))",4,3
openstack%2Ftripleo-common~master~If9365f53c215c656cc558f07fd6651dd4a471fbf,openstack/tripleo-common,master,If9365f53c215c656cc558f07fd6651dd4a471fbf,Force lowercase hostnames,MERGED,2018-06-19 14:32:58.000000000,2018-07-05 10:54:43.000000000,2018-07-05 10:54:43.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-19 14:32:58.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/templates/deployments.yaml', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/acd1bed60752efbe1d40a80583f0bb696b63fe07', 'message': 'Force lowercase hostnames\n\nUpdates the inventory, config-download and deployments.yaml tasks file\nto force using lowercase hostnames everywhere. Hostnames should be\ntreated as case insensitive.\n\nChange-Id: If9365f53c215c656cc558f07fd6651dd4a471fbf\nCloses-Bug: #1777660\n'}]",0,576534,acd1bed60752efbe1d40a80583f0bb696b63fe07,19,8,1,7144,,,0,"Force lowercase hostnames

Updates the inventory, config-download and deployments.yaml tasks file
to force using lowercase hostnames everywhere. Hostnames should be
treated as case insensitive.

Change-Id: If9365f53c215c656cc558f07fd6651dd4a471fbf
Closes-Bug: #1777660
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/576534/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/templates/deployments.yaml', 'tripleo_common/inventory.py']",3,acd1bed60752efbe1d40a80583f0bb696b63fe07,bug/1777660," shortnames = [n.split("".%s."" % self.host_network)[0].lower()"," shortnames = [n.split("".%s."" % self.host_network)[0]",4,4
openstack%2Ftripleo-common~master~Ibbe1e9a6776b16078c88b9b2111bf7b774a50161,openstack/tripleo-common,master,Ibbe1e9a6776b16078c88b9b2111bf7b774a50161,Workflows for manipulating deployment status,MERGED,2018-06-27 18:39:13.000000000,2018-07-05 10:54:42.000000000,2018-07-05 10:54:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-27 18:39:13.000000000', 'files': ['workbooks/deployment.yaml', 'releasenotes/notes/deployment-status-workflows-7f6ba3b69f805f06.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a9f9239331568a727f55aaee248d6764f8e3557', 'message': 'Workflows for manipulating deployment status\n\nAdds new workflows for setting the deployment status to either success,\nfailed, or deploying. These are useful when interacting with the\ndeployment manually, such as manually running config-download.\n\nChange-Id: Ibbe1e9a6776b16078c88b9b2111bf7b774a50161\n'}]",0,578518,6a9f9239331568a727f55aaee248d6764f8e3557,13,4,1,7144,,,0,"Workflows for manipulating deployment status

Adds new workflows for setting the deployment status to either success,
failed, or deploying. These are useful when interacting with the
deployment manually, such as manually running config-download.

Change-Id: Ibbe1e9a6776b16078c88b9b2111bf7b774a50161
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/578518/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/deployment.yaml', 'releasenotes/notes/deployment-status-workflows-7f6ba3b69f805f06.yaml']",2,6a9f9239331568a727f55aaee248d6764f8e3557,,"--- features: - New workflows are added for manipulating the deployment status, including tripleo.deployment.v1.set_deployment_status_success, tripleo.deployment.v1.set_deployment_status_failed, and tripleo.deployment.v1.set_deployment_status_deploying. ",,111,0
openstack%2Ftripleo-heat-templates~master~I07374da9ddbd61f9feb2a17dcbe4514f43d70457,openstack/tripleo-heat-templates,master,I07374da9ddbd61f9feb2a17dcbe4514f43d70457,Fluentd: disable log path docker transformation,MERGED,2018-07-04 15:26:54.000000000,2018-07-05 10:54:41.000000000,2018-07-05 10:54:41.000000000,"[{'_account_id': 6926}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-04 15:26:54.000000000', 'files': ['docker/services/fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0a27757c4e7fb7236fc1f9c67db13b6d5ad7ed6', 'message': 'Fluentd: disable log path docker transformation\n\nCurrently fluentd is using a path transformation to set the log\npath on all the docker services. This transformation creates\n/var/log/containers path from /var/log, so all the log paths are\nconfigured wrongly as /var/log/containers/containers/\n\nThis path disables the transformation on the fluentd service.\n\nCloses-Bug: #1780050\n\nChange-Id: I07374da9ddbd61f9feb2a17dcbe4514f43d70457\n'}]",0,580193,b0a27757c4e7fb7236fc1f9c67db13b6d5ad7ed6,9,6,1,22954,,,0,"Fluentd: disable log path docker transformation

Currently fluentd is using a path transformation to set the log
path on all the docker services. This transformation creates
/var/log/containers path from /var/log, so all the log paths are
configured wrongly as /var/log/containers/containers/

This path disables the transformation on the fluentd service.

Closes-Bug: #1780050

Change-Id: I07374da9ddbd61f9feb2a17dcbe4514f43d70457
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/580193/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/fluentd.yaml'],1,b0a27757c4e7fb7236fc1f9c67db13b6d5ad7ed6,bug/1780050,, - tripleo::profile::base::logging::fluentd::fluentd_path_transform: - /var/log/ - /var/log/containers/,0,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,openstack/tripleo-heat-templates,stable/queens,Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,OVN: Remove environment files which deploy OVN dbs in non HA,MERGED,2018-07-03 07:39:04.000000000,2018-07-05 10:54:38.000000000,2018-07-05 10:54:38.000000000,"[{'_account_id': 10237}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-03 07:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/786c1c279b3cd145283ab8b949c70623e1560f50', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nConflicts:\n\tenvironments/neutron-ml2-ovn-dvr.yaml\n\tenvironments/neutron-ml2-ovn.yaml\n\tenvironments/services-docker/neutron-ovn-dvr.yaml\n\tenvironments/services-docker/neutron-ovn.yaml\n\tenvironments/services/neutron-ovn-dvr.yaml\n\tenvironments/services/neutron-ovn.yaml\n\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n(cherry picked from 819805d708cccc6e1419a47b16fc012955ce9156)\n'}, {'number': 2, 'created': '2018-07-03 13:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d63922a31ecd0d201b59cac8e16874dc113cb411', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nConflicts:\n\tenvironments/neutron-ml2-ovn-dvr.yaml\n\tenvironments/neutron-ml2-ovn.yaml\n\tenvironments/services-docker/neutron-ovn-dvr.yaml\n\tenvironments/services-docker/neutron-ovn.yaml\n\tenvironments/services/neutron-ovn-dvr.yaml\n\tenvironments/services/neutron-ovn.yaml\n\nDepends-On: Ib09acb90fcc64475d1eeb2729d914efc22a90a9d\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n(cherry picked from 819805d708cccc6e1419a47b16fc012955ce9156)\n'}, {'number': 3, 'created': '2018-07-04 10:02:24.000000000', 'files': ['environments/services-docker/neutron-ovn.yaml', 'environments/neutron-ml2-ovn.yaml', 'environments/services/neutron-ovn.yaml', 'releasenotes/notes/ovn-remove-nonha-env-files-7b68a1e656b9f753.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/services-docker/neutron-ovn-dvr.yaml', 'environments/services/neutron-ovn-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e2df5a617ce47b9a05375541b8f77265dc10e1c', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nConflicts:\n\tenvironments/neutron-ml2-ovn-dvr.yaml\n\tenvironments/neutron-ml2-ovn.yaml\n\tenvironments/services-docker/neutron-ovn-dvr.yaml\n\tenvironments/services-docker/neutron-ovn.yaml\n\tenvironments/services/neutron-ovn-dvr.yaml\n\tenvironments/services/neutron-ovn.yaml\n\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n(cherry picked from 819805d708cccc6e1419a47b16fc012955ce9156)\n'}]",0,579796,1e2df5a617ce47b9a05375541b8f77265dc10e1c,16,4,3,10237,,,0,"OVN: Remove environment files which deploy OVN dbs in non HA

In a 3 node controller deployment OVN db servers are started only on one node
and if that node goes down, we hit the down time for ovsdb-servers and neutron-server.

So it is highly recommended to deploy OVN db servers as a pacemaker HA resource.

Conflicts:
	environments/neutron-ml2-ovn-dvr.yaml
	environments/neutron-ml2-ovn.yaml
	environments/services-docker/neutron-ovn-dvr.yaml
	environments/services-docker/neutron-ovn.yaml
	environments/services/neutron-ovn-dvr.yaml
	environments/services/neutron-ovn.yaml

Change-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735
Closes-bug: #1779123
(cherry picked from 819805d708cccc6e1419a47b16fc012955ce9156)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/579796/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-ovn.yaml', 'environments/services-docker/neutron-ovn.yaml', 'environments/services/neutron-ovn.yaml', 'releasenotes/notes/ovn-remove-nonha-env-files-7b68a1e656b9f753.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/services-docker/neutron-ovn-dvr.yaml', 'environments/services/neutron-ovn-dvr.yaml']",7,786c1c279b3cd145283ab8b949c70623e1560f50,bug/1779123,,"# A Heat environment that can be used to deploy OVN services with non HA OVN DB servers. resource_registry: OS::TripleO::Docker::NeutronMl2PluginBase: ../../puppet/services/neutron-plugin-ml2-ovn.yaml OS::TripleO::Services::OVNController: ../../docker/services/ovn-controller.yaml OS::TripleO::Services::OVNDBs: ../../docker/services/ovn-dbs.yaml # Disabling Neutron services that overlap with OVN OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None OS::TripleO::Services::NeutronL3Agent: OS::Heat::None OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::NeutronDhcpAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronCorePlugin: OS::Heat::None parameter_defaults: NeutronMechanismDrivers: ovn OVNVifType: ovs OVNNeutronSyncMode: log OVNQosDriver: ovn-qos OVNTunnelEncapType: geneve NeutronEnableDHCPAgent: false NeutronTypeDrivers: 'geneve,vlan,flat' NeutronNetworkType: 'geneve' NeutronServicePlugins: 'qos,ovn-router,trunk' NeutronVniRanges: ['1:65536', ] NeutronEnableDVR: true ",8,180
openstack%2Fsahara-dashboard~master~Ia4f0ae1b01c632708bb5062f13dbe733ef74da37,openstack/sahara-dashboard,master,Ia4f0ae1b01c632708bb5062f13dbe733ef74da37,Switch to stestr,ABANDONED,2018-07-05 02:58:00.000000000,2018-07-05 10:47:12.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 02:58:00.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/170f550f657ac66a27c4434abede1b11d056a5bd', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ia4f0ae1b01c632708bb5062f13dbe733ef74da37\n""}]",0,580255,170f550f657ac66a27c4434abede1b11d056a5bd,4,2,1,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ia4f0ae1b01c632708bb5062f13dbe733ef74da37
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/55/580255/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",5,170f550f657ac66a27c4434abede1b11d056a5bd,stestr,[DEFAULT] test_path=./sahara_dashboard/tests top_dir=./ ,,13,1
openstack%2Ftripleo-specs~master~I126812c33e0c99401214c04f7e5ddbd7151d5e36,openstack/tripleo-specs,master,I126812c33e0c99401214c04f7e5ddbd7151d5e36,"Revert ""[WIP] Spec for improved privilege escalation in py-scripts""",MERGED,2018-07-03 14:13:59.000000000,2018-07-05 10:41:26.000000000,2018-07-03 15:07:56.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-03 14:13:59.000000000', 'files': ['specs/stein/0-placeholder.rst', 'specs/stein/improve-privilege-mgmt-in-pythonclient.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1a96c16375ec1c76e16ec7ec08bd8f68fa0708cd', 'message': 'Revert ""[WIP] Spec for improved privilege escalation in py-scripts""\n\nThis was not ready to be merged.\n\nThis reverts commit a9924accdc0869084e812dac8f6fbed02bca527f.\n\nChange-Id: I126812c33e0c99401214c04f7e5ddbd7151d5e36\n'}]",0,579881,1a96c16375ec1c76e16ec7ec08bd8f68fa0708cd,10,10,1,7144,,,0,"Revert ""[WIP] Spec for improved privilege escalation in py-scripts""

This was not ready to be merged.

This reverts commit a9924accdc0869084e812dac8f6fbed02bca527f.

Change-Id: I126812c33e0c99401214c04f7e5ddbd7151d5e36
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/81/579881/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein/0-placeholder.rst', 'specs/stein/improve-privilege-mgmt-in-pythonclient.rst']",2,1a96c16375ec1c76e16ec7ec08bd8f68fa0708cd,priv-mgmt,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Improve privilege mgmt in Python Client Code ============================================ https://blueprints.launchpad.net/tripleo/+spec/improve-privilege-mgmt-in-tripleo Currently python-tripleoclient doesn't properly manage privilege escalation, and requires ""sudo"" calls either inside its code, or when calling the scripts. In other python library and script, we also encounter this kind of issues. This ends up with either NOPASSWD:ALL in sudoers, or in an endless list of rights we can't maintain in a convenient way. This discussion has started on an etherpad ([0]_) Problem Description =================== We do not want to keep on that track - it's neither a good practice nor secure. * Customers might have concerns with such loose rights management on their systems * System operators might want to try to reduce the rights and break the whole thing * Documentation is lacking regarding the usage of such rights, and does not address security concerns Proposed Change =============== Overview -------- The Oslo library proposes an interesting approach with two complementary tools: * oslo.rootwrap ([1]_) * oslo.privsep ([2]_) They allow to get a simple sudoer file, while ensuring with complex filter support the intended use only is allowed. Integrating the privsep library will require a huge code refactoring, but this is for the best, as it will ensure we have a proper, common way to do privilege escalation. Converging the code is the best way to get a clean, maintainable, understandable code. More over, as it seems the use of privsep is quiet new, we still can be involved in the best practices establishment. There are already a couple of blog posts covering them, and it would be a good thing to follow them, and if needed, make them better suited. Alternatives ------------ * Do Nothing: If we don't address this, end users are impacted as the current implementation will be rejected by security compliance standards such as ANSSI, DoD STIG etc * Use ""plain"" sudo calls in the python script. This can of course be a real alternative, but probably not the smartest, as rootwrap allows a finer control over the context and command allowed. More over, it does not depend on the user running the script - so we have only one entry in sudo per user being able to run the python code. Security Impact --------------- * Will improve security, only allowed actions will be running with elevated privileges. * Will allow to get a common way to make privilege escalations across the projects. * Might push good practices in python devel regarding privilege escalation and its issues. Other End User Impact --------------------- None Performance Impact ------------------ The use of rootwrap should not cause any performance impact. Other Deployer Impact --------------------- Modify the sudoers in order to allow calls to rootwrap only. Developer Impact ---------------- * The code will need a refactoring in order to integrate oslo.privsep. In addition new features will need to follow the (good) practices in place in order to ensure code readability and overall comprehension. * Following existing examples, all functions/configuration for privsep should be in a dedicated directory, and we should avoid aliasing the imports. * When adding a new function needing privilege escalation, an update to the rootwrap configuration must be done * Proper testing must be added in order to ensure privileges are really used and correct Implementation ============== Assignee(s) ----------- Primary assignee: lhinds@redhat.com Other contributors: cjeanner@redhat.com jaosorior@redhat.com Work Items ---------- 1. List all the calls in the libraries and scripts. This step is critical, as it will require a proper understanding of the code, as well as a proper understanding of ""who IS"" running, and ""who SHOULD"" run parts of the functions/calls. 2. Refactor the code, especially following the proposed practice ([3]_). 3. Proper testing must be added, following the already existing examples. 4. Documentation must be provided for other developpers in order to ensure they correctly implement the privilege escalation in their patch. Dependencies ============ * oslo.privsep Testing ======= Unit and functionality tests must be updated in order to take into account the privilege escalation, and ensure it is actually working as expected. Further tests should be done in order to ensure the allowed scope in rootwrap isn't too wide. Documentation Impact ==================== Documentation about privsep usage must be provided. References ========== .. [0] https://etherpad.openstack.org/p/tripleo-heat-admin-security .. [1] https://docs.openstack.org/oslo.rootwrap/latest/ .. [2] https://docs.openstack.org/oslo.privsep/latest/ .. [3] https://www.madebymikal.com/adding-oslo-privsep-to-a-new-project-a-worked-example/ ",0,178
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,openstack/puppet-tripleo,stable/queens,Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,Run cinder's db sync only on bootstrap node,MERGED,2018-07-03 01:50:54.000000000,2018-07-05 10:39:04.000000000,2018-07-05 10:39:04.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-03 01:50:54.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/cinder/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/690bf10462d2ac922e8c22631320e359cba9698f', 'message': ""Run cinder's db sync only on bootstrap node\n\nThe sync_db variable (which is True only on bootstrap node) needs to be\npassed to the ::cinder::api resource to ensure the db sync only happens\non the bootstrap node.\n\nCloses-Bug: #1779112\nChange-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a\n(cherry picked from commit 34810fc361e71cfabe5d8ad6e083c664af9120e8)\n""}]",0,579732,690bf10462d2ac922e8c22631320e359cba9698f,15,4,1,21129,,,0,"Run cinder's db sync only on bootstrap node

The sync_db variable (which is True only on bootstrap node) needs to be
passed to the ::cinder::api resource to ensure the db sync only happens
on the bootstrap node.

Closes-Bug: #1779112
Change-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a
(cherry picked from commit 34810fc361e71cfabe5d8ad6e083c664af9120e8)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/32/579732/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/cinder/api.pp']",2,690bf10462d2ac922e8c22631320e359cba9698f,bug/1779112-stable/queens," sync_db => $sync_db,",,21,3
openstack%2Frally~master~I91c7447916ddcc76acae3731d0ed7e86ab3757ac,openstack/rally,master,I91c7447916ddcc76acae3731d0ed7e86ab3757ac,Invalid links in doc,MERGED,2018-07-05 09:05:58.000000000,2018-07-05 10:36:08.000000000,2018-07-05 10:36:08.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 09:05:58.000000000', 'files': ['doc/source/verification/overview.rst', 'doc/source/task/index.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/dd4716229213f9ac6d2e559bd38e79e7d6628ea3', 'message': 'Invalid links in doc\n\nChange-Id: I91c7447916ddcc76acae3731d0ed7e86ab3757ac\n'}]",0,580325,dd4716229213f9ac6d2e559bd38e79e7d6628ea3,6,2,1,18320,,,0,"Invalid links in doc

Change-Id: I91c7447916ddcc76acae3731d0ed7e86ab3757ac
",git fetch https://review.opendev.org/openstack/rally refs/changes/25/580325/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/verification/overview.rst', 'doc/source/task/index.rst']",2,dd4716229213f9ac6d2e559bd38e79e7d6628ea3,,to `CLI reference <../cli_reference.html#category-task>`_,to `CLI reference <../cli/cli_reference.html#category-task>`_,3,2
openstack%2Fnetworking-ovn~master~Ie938dfcae231b1702645ea3f50795766b1e4a06d,openstack/networking-ovn,master,Ie938dfcae231b1702645ea3f50795766b1e4a06d,Don't check specific revision numbers in tests,ABANDONED,2018-07-05 10:27:28.000000000,2018-07-05 10:33:58.000000000,,[],"[{'number': 1, 'created': '2018-07-05 10:27:28.000000000', 'files': ['networking_ovn/tests/functional/test_revision_numbers.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1939ce0006c68e51d86ee18ee90a3934aac3de0a', 'message': ""Don't check specific revision numbers in tests\n\nWe can't know exactly what the revision number will be, so just\ncheck that it matches the neutron resource.o\n\nDepends-On: I530a6e54d82daa5d1c34a026434e432c31554287\nChange-Id: Ie938dfcae231b1702645ea3f50795766b1e4a06d\n""}]",0,580339,1939ce0006c68e51d86ee18ee90a3934aac3de0a,2,0,1,5756,,,0,"Don't check specific revision numbers in tests

We can't know exactly what the revision number will be, so just
check that it matches the neutron resource.o

Depends-On: I530a6e54d82daa5d1c34a026434e432c31554287
Change-Id: Ie938dfcae231b1702645ea3f50795766b1e4a06d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/580339/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/test_revision_numbers.py'],1,1939ce0006c68e51d86ee18ee90a3934aac3de0a,loosen_rev_num_test, # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API # Assert itmatches with the newest returned by neutron API," self.assertEqual(str(2), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(3), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(5), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(6), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(0), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(1), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(0), ovn_revision) # Assert it also matches with the newest returned by neutron API self.assertEqual(str(1), ovn_revision) # Assert it also matches with the newest returned by neutron API",8,16
openstack%2Fcinder~master~I65fabec317a3e3dce2512002247e8a7b75fbe5d7,openstack/cinder,master,I65fabec317a3e3dce2512002247e8a7b75fbe5d7,NetApp ONTAP NFS: Enable multiattach capability,MERGED,2018-06-25 20:16:38.000000000,2018-07-05 10:29:15.000000000,2018-07-05 05:41:44.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-25 20:16:38.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/enable-multiattach-nfs-netapp-driver-406b9b285d85c989.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e064a3ae7ddc305e7226432d5248f4d7ae6c77d', 'message': 'NetApp ONTAP NFS: Enable multiattach capability\n\nChange-Id: I65fabec317a3e3dce2512002247e8a7b75fbe5d7\n'}]",0,577919,4e064a3ae7ddc305e7226432d5248f4d7ae6c77d,46,30,1,25186,,,0,"NetApp ONTAP NFS: Enable multiattach capability

Change-Id: I65fabec317a3e3dce2512002247e8a7b75fbe5d7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/577919/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/enable-multiattach-nfs-netapp-driver-406b9b285d85c989.yaml']",3,4e064a3ae7ddc305e7226432d5248f4d7ae6c77d,multiattach,--- features: - | NetApp ONTAP NFS multiattach capability enabled.,,6,2
openstack%2Ftempest~master~I4121b85aa271ccd7df30d7675bd923cb84a5673a,openstack/tempest,master,I4121b85aa271ccd7df30d7675bd923cb84a5673a,refactor: Combine nearly duplicate group tests together,MERGED,2018-07-03 18:21:39.000000000,2018-07-05 10:21:55.000000000,2018-07-05 10:21:55.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-07-03 18:21:39.000000000', 'files': ['tempest/api/identity/admin/v3/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/597236208c222df2dd0b4583bcc214f9b44b3161', 'message': ""refactor: Combine nearly duplicate group tests together\n\nThis patchset combines test_group_update_with_few_fields with\ntest_group_create_update_get since the first one is almost the\nexact same as the update scenario in the second test.\n\ntest_group_update_with_few_fields just updates 1 field and\nchecks whether the other fields remain unchanged. This is a\nunique test case that is very niche and so shouldn't really be\nits own test case. It can be combined with\ntest_group_create_update_get.\n\nAlso this patchset adds better comments and also adds assertions\nfor checking that the domain_id of the group is correct.\n\nChange-Id: I4121b85aa271ccd7df30d7675bd923cb84a5673a\n""}]",2,579942,597236208c222df2dd0b4583bcc214f9b44b3161,10,6,1,23186,,,0,"refactor: Combine nearly duplicate group tests together

This patchset combines test_group_update_with_few_fields with
test_group_create_update_get since the first one is almost the
exact same as the update scenario in the second test.

test_group_update_with_few_fields just updates 1 field and
checks whether the other fields remain unchanged. This is a
unique test case that is very niche and so shouldn't really be
its own test case. It can be combined with
test_group_create_update_get.

Also this patchset adds better comments and also adds assertions
for checking that the domain_id of the group is correct.

Change-Id: I4121b85aa271ccd7df30d7675bd923cb84a5673a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/579942/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_groups.py'],1,597236208c222df2dd0b4583bcc214f9b44b3161,group-test," # Verify group creation works. self.assertEqual(self.domain['id'], group['domain_id']) # Verify updating name and description works. first_name_update = data_utils.rand_name('UpdateGroup') first_desc_update = data_utils.rand_name('UpdateDescription') group['id'], name=first_name_update, description=first_desc_update)['group'] self.assertEqual(updated_group['name'], first_name_update) self.assertEqual(updated_group['description'], first_desc_update) # Verify that the updated values are reflected after performing show. self.assertEqual(first_name_update, new_group['name']) self.assertEqual(first_desc_update, new_group['description']) # Verify that updating a single field for a group (name) leaves the # other fields (description, domain_id) unchanged. second_name_update = data_utils.rand_name( self.__class__.__name__ + 'UpdateGroup') group['id'], name=second_name_update)['group'] self.assertEqual(second_name_update, updated_group['name']) # Verify that 'description' and 'domain_id' were not updated or # deleted. self.assertEqual(first_desc_update, updated_group['description']) self.assertEqual(self.domain['id'], updated_group['domain_id'])"," new_name = data_utils.rand_name('UpdateGroup') new_desc = data_utils.rand_name('UpdateDescription') group['id'], name=new_name, description=new_desc)['group'] self.assertEqual(updated_group['name'], new_name) self.assertEqual(updated_group['description'], new_desc) self.assertEqual(new_name, new_group['name']) self.assertEqual(new_desc, new_group['description']) @decorators.idempotent_id('b66eb441-b08a-4a6d-81ab-fef71baeb26c') def test_group_update_with_few_fields(self): name = data_utils.rand_name('Group') old_description = data_utils.rand_name('Description') group = self.setup_test_group(name=name, domain_id=self.domain['id'], description=old_description) new_name = data_utils.rand_name('UpdateGroup') group['id'], name=new_name)['group'] self.assertEqual(new_name, updated_group['name']) # Verify that 'description' is not being updated or deleted. self.assertEqual(old_description, updated_group['description'])",22,19
openstack%2Foslo.messaging~master~Ib748e4f8ba1263f2c6475c8641c800b7df872b88,openstack/oslo.messaging,master,Ib748e4f8ba1263f2c6475c8641c800b7df872b88,Moving stestr to correct package order in test-requirements.txt,MERGED,2018-07-05 01:32:20.000000000,2018-07-05 10:20:45.000000000,2018-07-05 10:20:45.000000000,"[{'_account_id': 2813}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 01:32:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bcbebb7d6a6a36280a867143a07cc54ac902e794', 'message': 'Moving stestr to correct package order in test-requirements.txt\n\nAs the comment from Stephen [1],\nafter moving to stestr, the package should be in exact position\nwhere testrepository is removed.\n\n[1] https://review.openstack.org/#/c/579743/2/test-requirements.txt@16\n\nChange-Id: Ib748e4f8ba1263f2c6475c8641c800b7df872b88\n'}]",0,580242,bcbebb7d6a6a36280a867143a07cc54ac902e794,7,3,1,25903,,,0,"Moving stestr to correct package order in test-requirements.txt

As the comment from Stephen [1],
after moving to stestr, the package should be in exact position
where testrepository is removed.

[1] https://review.openstack.org/#/c/579743/2/test-requirements.txt@16

Change-Id: Ib748e4f8ba1263f2c6475c8641c800b7df872b88
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/42/580242/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bcbebb7d6a6a36280a867143a07cc54ac902e794,correct_group,stestr>=2.0.0 # Apache-2.0,stestr>=2.0.0 # Apache-2.0,1,1
openstack%2Ftempest~master~I86b418f56dfb8087e49965196971b28ab71c138e,openstack/tempest,master,I86b418f56dfb8087e49965196971b28ab71c138e,refactor: Add setup_test_group to identity admin base test class,MERGED,2018-07-03 18:10:13.000000000,2018-07-05 10:18:40.000000000,2018-07-05 10:18:40.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-03 18:10:13.000000000', 'files': ['tempest/api/identity/admin/v3/test_tokens.py', 'tempest/api/identity/admin/v3/test_groups.py', 'tempest/api/identity/admin/v3/test_domains.py', 'tempest/api/identity/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d44150717ab816dbedaaad55bd3dab05fa51789e', 'message': ""refactor: Add setup_test_group to identity admin base test class\n\nThis patchset adds a setup_test_group helper to identity admin\nbase test class which is similar to other methods like setup_test_user\nto cut down on cookie cutter create/addCleanup code throughout\ntests that create groups. Note that this is an instance level method\nso class level group creation isn't refactored.\n\nChange-Id: I86b418f56dfb8087e49965196971b28ab71c138e\n""}]",0,579940,d44150717ab816dbedaaad55bd3dab05fa51789e,9,5,1,23186,,,0,"refactor: Add setup_test_group to identity admin base test class

This patchset adds a setup_test_group helper to identity admin
base test class which is similar to other methods like setup_test_user
to cut down on cookie cutter create/addCleanup code throughout
tests that create groups. Note that this is an instance level method
so class level group creation isn't refactored.

Change-Id: I86b418f56dfb8087e49965196971b28ab71c138e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/579940/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_tokens.py', 'tempest/api/identity/admin/v3/test_groups.py', 'tempest/api/identity/admin/v3/test_domains.py', 'tempest/api/identity/base.py']",4,d44150717ab816dbedaaad55bd3dab05fa51789e,setup_test_group," def setup_test_group(self, **kwargs): """"""Set up a test group."""""" if 'name' not in kwargs: kwargs['name'] = data_utils.rand_name( self.__class__.__name__ + '_test_project') if 'description' not in kwargs: kwargs['description'] = data_utils.rand_name( self.__class__.__name__ + '_test_description') group = self.groups_client.create_group(**kwargs)['group'] self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.groups_client.delete_group, group['id']) return group ",,23,31
openstack%2Frequirements~master~I60d87555de3eed0081157fd5ce48ba70169832e4,openstack/requirements,master,I60d87555de3eed0081157fd5ce48ba70169832e4,Updated from generate-constraints,ABANDONED,2018-07-05 06:29:30.000000000,2018-07-05 10:18:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-05 06:29:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9b0c4d65a74f3b74260fe35ac610f197836d39ed', 'message': 'Updated from generate-constraints\n\nChange-Id: I60d87555de3eed0081157fd5ce48ba70169832e4\n'}]",0,580296,9b0c4d65a74f3b74260fe35ac610f197836d39ed,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I60d87555de3eed0081157fd5ce48ba70169832e4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/580296/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9b0c4d65a74f3b74260fe35ac610f197836d39ed,openstack/requirements/constraints,ryu===4.26pytest===3.6.3networkx===2.1Pillow===5.2.0deprecation===2.0.5google-auth===1.5.0eventlet===0.22.1graphviz===0.8.4gunicorn===19.9.0google-api-python-client===1.7.3sphinxcontrib-httpdomain===1.7.0 metalsmith===0.5.0keyring===13.2.0PyMySQL===0.9.2botocore===1.10.50Django===1.11.14;python_version=='2.7' Django===2.0.7;python_version=='3.4' Django===2.0.7;python_version=='3.5'distro===1.3.0pyldap===3.0.0.post1;python_version=='3.4' pyldap===3.0.0.post1;python_version=='3.5',ryu===4.25pytest===3.6.2networkx===1.11Pillow===5.1.0deprecation===2.0.4google-auth===1.4.1eventlet===0.20.0graphviz===0.8.3gunicorn===19.8.1google-api-python-client===1.6.7sphinxcontrib-httpdomain===1.6.1 metalsmith===0.4.0keyring===13.1.0PyMySQL===0.9.0botocore===1.10.48Django===1.11.13;python_version=='2.7' Django===2.0.6;python_version=='3.4' Django===2.0.6;python_version=='3.5'pyldap===3.0.0;python_version=='3.4' pyldap===3.0.0;python_version=='3.5'distro===1.3.0,21,21
openstack%2Freleases~master~Ib488e2b972916013424c86f8cb60abab78ceb37f,openstack/releases,master,Ib488e2b972916013424c86f8cb60abab78ceb37f,Release ironic 11.0.0 for Rocky,MERGED,2018-07-04 15:26:48.000000000,2018-07-05 10:12:39.000000000,2018-07-05 10:12:39.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 15:26:48.000000000', 'files': ['deliverables/rocky/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c81ba3319f5d0994cd8a2b6d9a28f13943b6c7d1', 'message': 'Release ironic 11.0.0 for Rocky\n\nChange-Id: Ib488e2b972916013424c86f8cb60abab78ceb37f\n'}]",0,580192,c81ba3319f5d0994cd8a2b6d9a28f13943b6c7d1,6,3,1,10239,,,0,"Release ironic 11.0.0 for Rocky

Change-Id: Ib488e2b972916013424c86f8cb60abab78ceb37f
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/580192/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/ironic.yaml'],1,c81ba3319f5d0994cd8a2b6d9a28f13943b6c7d1,ironic,releases: - projects: - hash: e43cd0cc5bf0c13d6a70f873a8ce57f36b719a37 repo: openstack/ironic version: 11.0.0,,5,0
openstack%2Fcloudkitty-dashboard~stable%2Fqueens~I2576e8078f5aceba994280990c275937f0a133f2,openstack/cloudkitty-dashboard,stable/queens,I2576e8078f5aceba994280990c275937f0a133f2,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-22 04:52:01.000000000,2018-07-05 10:03:27.000000000,2018-07-05 10:03:27.000000000,"[{'_account_id': 12015}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2018-02-22 04:52:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/c5f98865e9c984556dac3f41120d33629dc26205', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/queens\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I2576e8078f5aceba994280990c275937f0a133f2\n""}]",0,546867,c5f98865e9c984556dac3f41120d33629dc26205,7,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I2576e8078f5aceba994280990c275937f0a133f2
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/67/546867/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c5f98865e9c984556dac3f41120d33629dc26205,create-queens,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fcloudkitty-dashboard~stable%2Fqueens~I234a8a55e57af30a17340ba8bb2d7220e968a678,openstack/cloudkitty-dashboard,stable/queens,I234a8a55e57af30a17340ba8bb2d7220e968a678,Update .gitreview for stable/queens,MERGED,2018-02-22 04:51:58.000000000,2018-07-05 10:03:22.000000000,2018-07-05 10:03:22.000000000,"[{'_account_id': 12015}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2018-02-22 04:51:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/ac8a701b012b0e24f12afa1c48d803c7c9152829', 'message': 'Update .gitreview for stable/queens\n\nChange-Id: I234a8a55e57af30a17340ba8bb2d7220e968a678\n'}]",0,546866,ac8a701b012b0e24f12afa1c48d803c7c9152829,7,3,1,22816,,,0,"Update .gitreview for stable/queens

Change-Id: I234a8a55e57af30a17340ba8bb2d7220e968a678
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/66/546866/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ac8a701b012b0e24f12afa1c48d803c7c9152829,create-queens,defaultbranch=stable/queens,,1,0
openstack%2Fblazar~master~Ib0eabb34f4ed367de5096a741be5ece8307d3d97,openstack/blazar,master,Ib0eabb34f4ed367de5096a741be5ece8307d3d97,Query multiple events in the event loop,MERGED,2018-06-01 04:59:42.000000000,2018-07-05 09:55:58.000000000,2018-07-05 09:55:58.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-01 04:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f3b37745a42fbc1e8a9e08e9021da7e7ec0da749', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bugs: #1747560\n'}, {'number': 2, 'created': '2018-06-05 05:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/1221bd27456564369a4bd98a3278f53091c8875b', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bug: #1747560\n'}, {'number': 3, 'created': '2018-06-07 06:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4a862655857c6852b686fa2ab4f4e6e125e58edc', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bug: #1747560\n'}, {'number': 4, 'created': '2018-06-08 09:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/67dc87885bd03ffd0f8ce74fdb055e885d9c8603', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bug: #1747560\n'}, {'number': 5, 'created': '2018-06-25 05:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/06fc314ba0f55eb27eb5a741993cf287314ec512', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bug: #1747560\n'}, {'number': 6, 'created': '2018-06-25 08:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d8390c018948d985fbc388efbb5dc03346024261', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bug: #1747560\n'}, {'number': 7, 'created': '2018-07-05 08:13:37.000000000', 'files': ['blazar/manager/service.py', 'blazar/tests/manager/test_service.py', 'blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'blazar/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/8dd7a70a37b06cb122ae4988e7af024eb41a657d', 'message': 'Query multiple events in the event loop\n\nThe blazar manager queries only one event once a loop. The interval\nof the loop is 10 seconds. So if more than 7 events start at same\ntime some events delay to start.\n\nThis patch enables the event loop queries multiple events at once.\n\nChange-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97\nCloses-Bug: #1747560\n'}]",5,571634,8dd7a70a37b06cb122ae4988e7af024eb41a657d,32,5,7,8878,,,0,"Query multiple events in the event loop

The blazar manager queries only one event once a loop. The interval
of the loop is 10 seconds. So if more than 7 events start at same
time some events delay to start.

This patch enables the event loop queries multiple events at once.

Change-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97
Closes-Bug: #1747560
",git fetch https://review.opendev.org/openstack/blazar refs/changes/34/571634/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'blazar/tests/manager/test_service.py', 'blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'blazar/db/sqlalchemy/api.py']",4,f3b37745a42fbc1e8a9e08e9021da7e7ec0da749,bug/1747560, if 'time' in filters: border = filters['time']['border'] if filters['time']['op'] == 'lt': events_query = events_query.filter(models.Event.time < border) elif filters['time']['op'] == 'le': events_query = events_query.filter(models.Event.time <= border) elif filters['time']['op'] == 'gt': events_query = events_query.filter(models.Event.time > border) elif filters['time']['op'] == 'ge': events_query = events_query.filter(models.Event.time >= border) elif filters['time']['op'] == 'eq': events_query = events_query.filter(models.Event.time == border),,80,13
openstack%2Fswift~master~If6441d61ee0cb11641c38d46763db6244e05e275,openstack/swift,master,If6441d61ee0cb11641c38d46763db6244e05e275,Be consistent about capitalizing Swift in the README,MERGED,2018-07-05 06:06:25.000000000,2018-07-05 09:53:18.000000000,2018-07-05 09:53:18.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 06:06:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/7bacd5306233e7bb2e4462ce293ddb62d7fd55ff', 'message': 'Be consistent about capitalizing Swift in the README\n\nChange-Id: If6441d61ee0cb11641c38d46763db6244e05e275\n'}]",0,580292,7bacd5306233e7bb2e4462ce293ddb62d7fd55ff,6,2,1,15343,,,0,"Be consistent about capitalizing Swift in the README

Change-Id: If6441d61ee0cb11641c38d46763db6244e05e275
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/580292/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7bacd5306233e7bb2e4462ce293ddb62d7fd55ff,,tests against Swift and trying out new features and bug fixes.You can run functional tests against a Swift cluster with,tests against swift and trying out new features and bug fixes.You can run functional tests against a swift cluster with,2,2
openstack%2Fswift~master~Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103,openstack/swift,master,Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103,Make docs link consistent,MERGED,2018-07-05 06:05:15.000000000,2018-07-05 09:51:03.000000000,2018-07-05 09:51:03.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 06:05:15.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/f27f1ae6490a30183c155f703a2bc31bcdd8aac0', 'message': ""Make docs link consistent\n\nWe already link to Swift's docs in particular (as opposed to OpenStack's\nin general) later in the README, may as well do it earlier, too.\n\nChange-Id: Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103\n""}]",0,580291,f27f1ae6490a30183c155f703a2bc31bcdd8aac0,6,2,1,15343,,,0,"Make docs link consistent

We already link to Swift's docs in particular (as opposed to OpenStack's
in general) later in the README, may as well do it earlier, too.

Change-Id: Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/580291/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f27f1ae6490a30183c155f703a2bc31bcdd8aac0,,https://docs.openstack.org/swift/latest/.,https://docs.openstack.org/.,1,1
openstack%2Fswift~master~Ie327fecb6a3055ff146a94e1171ec0ec68d7179f,openstack/swift,master,Ie327fecb6a3055ff146a94e1171ec0ec68d7179f,Address some review comments,MERGED,2018-04-04 04:14:37.000000000,2018-07-05 09:40:47.000000000,2018-07-05 09:40:47.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-04 04:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4cd39edfeee4f0892c09353912986c1afbd301d', 'message': ""Address some review comments\n\nThere's already a nice way to reap a process if it's exited while not\nwaiting, and it doesn't require timeouts.\n\nAnd nothing should be raising an eventlet Timeout in replicate anymore.\n\nChange-Id: Ie327fecb6a3055ff146a94e1171ec0ec68d7179f\nRelated-Change: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa\n""}, {'number': 2, 'created': '2018-06-28 00:17:40.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7ae2cc4cc8fcf3306f5792fb44ca546c110f10db', 'message': ""Address some review comments\n\nThere's already a nice way to reap a process if it's exited while not\nwaiting, and it doesn't require timeouts.\n\nChange-Id: Ie327fecb6a3055ff146a94e1171ec0ec68d7179f\nRelated-Change: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa\n""}]",3,558692,7ae2cc4cc8fcf3306f5792fb44ca546c110f10db,11,5,2,15343,,,0,"Address some review comments

There's already a nice way to reap a process if it's exited while not
waiting, and it doesn't require timeouts.

Change-Id: Ie327fecb6a3055ff146a94e1171ec0ec68d7179f
Related-Change: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/558692/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,f4cd39edfeee4f0892c09353912986c1afbd301d,558692," def __init__(self, polls_needed=0, *args, **kwargs): self._polls = 0 self._polls_needed = polls_needed if not self._polls_needed: self._state = 'os-reaped' return 137 if timeout is not None: raise subprocess.TimeoutExpired('some cmd', timeout) raise BaseException(""You're waiting indefinitely on something "" ""we've established is hung"") def poll(self): self._calls.append(('poll', self._state)) self._polls += 1 if self._polls >= self._polls_needed: self._state = 'os-reaped' return 137 else: return None proc = MockHungProcess(polls_needed=2) ('poll', 'killed'), ('poll', 'killed'),"," def __init__(self, waits_needed=1, *args, **kwargs): self._waits = 0 self._waits_needed = waits_needed elif self._state == 'killed': self._waits += 1 if self._waits >= self._waits_needed: return else: raise subprocess.TimeoutExpired('some cmd', timeout) proc = MockHungProcess(waits_needed=2) ('wait', 'killed'),",26,18
openstack%2Fnova~master~I88d1a5fb2576ff7ac81981798d300a27030f74f7,openstack/nova,master,I88d1a5fb2576ff7ac81981798d300a27030f74f7,Time how long pre_live_migration() takes,MERGED,2018-06-11 23:14:59.000000000,2018-07-05 09:37:02.000000000,2018-07-05 09:37:02.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27386}]","[{'number': 1, 'created': '2018-06-11 23:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0791149e832398d2d2b19fe45db4e8d54dcb95d2', 'message': 'Time how long pre_live_migration() takes\n\nNow that we have the long_rpc_timeout setting for\npre_live_migration rpc calls from the source to\ndestination host, timing that operation is a bit more\ninteresting so this adds a timer and log message\nfor how long that round-trip takes.\n\nChange-Id: I88d1a5fb2576ff7ac81981798d300a27030f74f7\n'}, {'number': 2, 'created': '2018-06-14 20:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d37e023c371f71b86bd684beb6d5629ce937eef', 'message': 'Time how long pre_live_migration() takes\n\nNow that we have the long_rpc_timeout setting for\npre_live_migration rpc calls from the source to\ndestination host, timing that operation is a bit more\ninteresting so this adds a timer and log message\nfor how long that round-trip takes.\n\nChange-Id: I88d1a5fb2576ff7ac81981798d300a27030f74f7\n'}, {'number': 3, 'created': '2018-07-03 19:00:39.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f81657818068e49fe2925cdfae7ab1365850729', 'message': 'Time how long pre_live_migration() takes\n\nNow that we have the long_rpc_timeout setting for\npre_live_migration rpc calls from the source to\ndestination host, timing that operation is a bit more\ninteresting so this adds a timer and log message\nfor how long that round-trip takes.\n\nChange-Id: I88d1a5fb2576ff7ac81981798d300a27030f74f7\n'}]",2,574481,7f81657818068e49fe2925cdfae7ab1365850729,63,20,3,6873,,,0,"Time how long pre_live_migration() takes

Now that we have the long_rpc_timeout setting for
pre_live_migration rpc calls from the source to
destination host, timing that operation is a bit more
interesting so this adds a timer and log message
for how long that round-trip takes.

Change-Id: I88d1a5fb2576ff7ac81981798d300a27030f74f7
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/574481/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,0791149e832398d2d2b19fe45db4e8d54dcb95d2,use-heartbeat," with timeutils.StopWatch() as timer: migrate_data = self.compute_rpcapi.pre_live_migration( context, instance, block_migration, disk, dest, migrate_data) LOG.info('Took %0.2f seconds for pre_live_migration.', timer.elapsed(), instance=instance)"," migrate_data = self.compute_rpcapi.pre_live_migration( context, instance, block_migration, disk, dest, migrate_data)",6,3
openstack%2Fopenstack-manuals~master~Ic91c09bdccfe533b53e280f08f178b89b610a269,openstack/openstack-manuals,master,Ic91c09bdccfe533b53e280f08f178b89b610a269,Add Watcher API reference,MERGED,2018-06-27 08:19:42.000000000,2018-07-05 09:26:32.000000000,2018-07-05 09:26:32.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 19055}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 08:19:42.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d0f01a35ba28a859ead023b81abf364a11f662fe', 'message': 'Add Watcher API reference\n\nThis patch set adds API reference[1]\n1. https://review.openstack.org/#/c/558559/\n\nChange-Id: Ic91c09bdccfe533b53e280f08f178b89b610a269\n'}]",0,578312,d0f01a35ba28a859ead023b81abf364a11f662fe,15,5,1,19055,,,0,"Add Watcher API reference

This patch set adds API reference[1]
1. https://review.openstack.org/#/c/558559/

Change-Id: Ic91c09bdccfe533b53e280f08f178b89b610a269
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/12/578312/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,d0f01a35ba28a859ead023b81abf364a11f662fe,watcher-api, has_api_ref: true,,1,0
openstack%2Fneutron-lib~master~I7a2c0c063dac86e663f7f8110758711714fca75f,openstack/neutron-lib,master,I7a2c0c063dac86e663f7f8110758711714fca75f,"Revert ""remove CORE and L3 from neutron_lib.constants""",ABANDONED,2018-07-05 08:15:23.000000000,2018-07-05 09:12:25.000000000,,[{'_account_id': 6773}],"[{'number': 1, 'created': '2018-07-05 08:15:23.000000000', 'files': ['releasenotes/notes/rm-dup-pluginconst-085d0fcee4e931b8.yaml', 'neutron_lib/plugins/directory.py', 'neutron_lib/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f29d4994afdf07e76eb235b62da4eec5843c78b9', 'message': 'Revert ""remove CORE and L3 from neutron_lib.constants""\n\nThis commit is breaking the out-of-tree plugins because they depend on\nreleased versions of neutron (from pypi) which is incompatible with this\nchange [0].\n\nThis can be re-reverted once a new version of Neutron is released.\n\n[0] The last stable version 12.0.3 depends on these constants\n\nThis reverts commit ec829f9384547864aebb56390da8e17df7051aac.\n\nChange-Id: I7a2c0c063dac86e663f7f8110758711714fca75f\n'}]",0,580317,f29d4994afdf07e76eb235b62da4eec5843c78b9,3,1,1,6773,,,0,"Revert ""remove CORE and L3 from neutron_lib.constants""

This commit is breaking the out-of-tree plugins because they depend on
released versions of neutron (from pypi) which is incompatible with this
change [0].

This can be re-reverted once a new version of Neutron is released.

[0] The last stable version 12.0.3 depends on these constants

This reverts commit ec829f9384547864aebb56390da8e17df7051aac.

Change-Id: I7a2c0c063dac86e663f7f8110758711714fca75f
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/17/580317/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rm-dup-pluginconst-085d0fcee4e931b8.yaml', 'neutron_lib/plugins/directory.py', 'neutron_lib/constants.py']",3,f29d4994afdf07e76eb235b62da4eec5843c78b9,, ########################## # Plugin related constants ########################## # Plugin constants that are universally used across all neutron repos. # The alias for the core plugin. # TODO(boden): remove and replace consumer usage with plugins/constants.py CORE = 'CORE' # The alias for the L3 plugin. L3 = 'L3_ROUTER_NAT',,12,6
openstack%2Frally~master~Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf,openstack/rally,master,Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf,fix typos,MERGED,2018-06-21 08:21:08.000000000,2018-07-05 09:08:33.000000000,2018-07-05 09:08:33.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-06-21 08:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ac07576e7d4053a6ab2cfee3b29757cdce4f4408', 'message': 'fix typos\n\nChange-Id: Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf\n'}, {'number': 2, 'created': '2018-06-21 09:43:22.000000000', 'files': ['doc/specs/in-progress/cleanup_refactoring.rst', 'rally/common/db/migrations/versions/2018_02_bc908ac9a1fc_move_deployment_to_env_2.py', 'doc/specs/implemented/deployment_type.rst', 'rally/common/db/models.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/0813f356b7b693ed4eff9c4a14623f703f6843c9', 'message': 'fix typos\n\nChange-Id: Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf\n'}]",0,577089,0813f356b7b693ed4eff9c4a14623f703f6843c9,9,3,2,27511,,,0,"fix typos

Change-Id: Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf
",git fetch https://review.opendev.org/openstack/rally refs/changes/89/577089/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/specs/in-progress/cleanup_refactoring.rst', 'rally/common/db/migrations/versions/2018_02_bc908ac9a1fc_move_deployment_to_env_2.py', 'doc/specs/implemented/deployment_type.rst', 'rally/common/db/models.py']",4,ac07576e7d4053a6ab2cfee3b29757cdce4f4408,fix_typos," """"""Represent an environment."""""""," """"""Represent a environment.""""""",5,5
openstack%2Fkolla~master~I80b1c9d702224dd8d622ec616c745723ab2bb01d,openstack/kolla,master,I80b1c9d702224dd8d622ec616c745723ab2bb01d,Fix blazar build,MERGED,2018-07-04 11:43:38.000000000,2018-07-05 08:52:06.000000000,2018-07-05 08:52:06.000000000,"[{'_account_id': 24}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 11:43:38.000000000', 'files': ['docker/blazar/blazar-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6e5b6e7fcfa4787cefd6258ca8eb95e3dbf6247', 'message': 'Fix blazar build\n\nBlazar recently implemented policy in code.\nThey removed policy.json\n\nChange-Id: I80b1c9d702224dd8d622ec616c745723ab2bb01d\n'}]",0,580143,a6e5b6e7fcfa4787cefd6258ca8eb95e3dbf6247,8,4,1,19316,,,0,"Fix blazar build

Blazar recently implemented policy in code.
They removed policy.json

Change-Id: I80b1c9d702224dd8d622ec616c745723ab2bb01d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/580143/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/blazar/blazar-base/Dockerfile.j2'],1,a6e5b6e7fcfa4787cefd6258ca8eb95e3dbf6247,fix-blazar-build,, && cp /blazar/etc/policy.json /etc/blazar \,0,1
openstack%2Fmonasca-api~master~If599eda62aeedacdd5660d8efc2462ad83da2ae6,openstack/monasca-api,master,If599eda62aeedacdd5660d8efc2462ad83da2ae6,Show how to enable more OpenStack services in devstack,MERGED,2018-07-03 12:32:09.000000000,2018-07-05 08:32:24.000000000,2018-07-05 08:32:24.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-07-03 12:32:09.000000000', 'files': ['devstack/Vagrantfile'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c1adf3b30da8a529c13cbf9a2c1677081f29f5a3', 'message': 'Show how to enable more OpenStack services in devstack\n\nChange-Id: If599eda62aeedacdd5660d8efc2462ad83da2ae6\n'}]",0,579852,c1adf3b30da8a529c13cbf9a2c1677081f29f5a3,10,4,1,21922,,,0,"Show how to enable more OpenStack services in devstack

Change-Id: If599eda62aeedacdd5660d8efc2462ad83da2ae6
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/52/579852/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/Vagrantfile'],1,c1adf3b30da8a529c13cbf9a2c1677081f29f5a3,enable_service,"# Enable more OpenStack services if neccessary: # https://github.com/openstack-dev/devstack/blob/master/stackrc#L56-L81 # Nova - services to support libvirt based openstack clouds # enable_service n-api n-cpu n-cond n-sch n-novnc n-cauth n-api-meta # Placement and Glance services needed for Nova # enable_service placement-api placement-client # enable_service g-api g-reg # Cinder, Neutron # enable_service cinder c-api c-vol c-sch c-bak # enable_service neutron q-svc q-agt q-dhcp q-meta q-l3 ",,11,0
openstack%2Freleases~master~Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe,openstack/releases,master,Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe,Oslo releases for 2018-7-3,MERGED,2018-07-03 21:20:44.000000000,2018-07-05 08:18:15.000000000,2018-07-05 08:18:15.000000000,"[{'_account_id': 308}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 21:20:44.000000000', 'files': ['deliverables/_independent/pbr.yaml', 'deliverables/rocky/oslo.config.yaml', 'deliverables/rocky/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ec7f918a702c7d9a4d4dad4cd09419c84eff9ff0', 'message': 'Oslo releases for 2018-7-3\n\nChange-Id: Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe\n'}]",0,579992,ec7f918a702c7d9a4d4dad4cd09419c84eff9ff0,8,3,1,6928,,,0,"Oslo releases for 2018-7-3

Change-Id: Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/579992/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/pbr.yaml', 'deliverables/rocky/oslo.config.yaml', 'deliverables/rocky/oslo.messaging.yaml']",3,ec7f918a702c7d9a4d4dad4cd09419c84eff9ff0,oslo-2018-7-2, - projects: - hash: 044e6f20e65084f3c4ecc554672d3271b2a2acd3 repo: openstack/oslo.messaging version: 7.0.0,,12,0
openstack%2Fwatcher~master~I842a4e4bbe0bb713c8206df32952b4297b21d15f,openstack/watcher,master,I842a4e4bbe0bb713c8206df32952b4297b21d15f,Triggers the api-ref-jobs to publish wather api reference,MERGED,2018-07-03 09:00:48.000000000,2018-07-05 08:13:48.000000000,2018-07-05 08:13:48.000000000,"[{'_account_id': 6547}, {'_account_id': 19055}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 09:00:48.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c783a29047909d9bdf5c70db227f503181e9135c', 'message': 'Triggers the api-ref-jobs to publish wather api reference\n\nChange-Id: I842a4e4bbe0bb713c8206df32952b4297b21d15f\n'}]",0,579819,c783a29047909d9bdf5c70db227f503181e9135c,10,4,1,19779,,,0,"Triggers the api-ref-jobs to publish wather api reference

Change-Id: I842a4e4bbe0bb713c8206df32952b4297b21d15f
",git fetch https://review.opendev.org/openstack/watcher refs/changes/19/579819/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,c783a29047909d9bdf5c70db227f503181e9135c,watcher-api, value in a subsequent limited request. type: string , value in a subsequent limited request. type: string,2,2
openstack%2Fmonasca-log-api~master~Ib6c577cca038dc50836264bd17c83ed8cd0acfb8,openstack/monasca-log-api,master,Ib6c577cca038dc50836264bd17c83ed8cd0acfb8,Show how to enable more OpenStack services in devstack,MERGED,2018-07-03 12:19:00.000000000,2018-07-05 07:36:42.000000000,2018-07-05 07:36:42.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-07-03 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/3b5f788cee7eed488db35cc3fdf4d5a1e6fc8144', 'message': 'Show how to enable more OpenStack services in devstack\n\nChange-Id: Ib6c577cca038dc50836264bd17c83ed8cd0acfb8\n'}, {'number': 2, 'created': '2018-07-03 12:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/f9f773e19ccb12f5c49f91267473571c5a3ca1c2', 'message': 'Show how to enable more OpenStack services in devstack\n\nChange-Id: Ib6c577cca038dc50836264bd17c83ed8cd0acfb8\n'}, {'number': 3, 'created': '2018-07-03 14:48:00.000000000', 'files': ['devstack/Vagrantfile'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/fa3b160b8407286f3f722d766cc2a31ab32cea1a', 'message': 'Show how to enable more OpenStack services in devstack\n\nChange-Id: Ib6c577cca038dc50836264bd17c83ed8cd0acfb8\n'}]",0,579850,fa3b160b8407286f3f722d766cc2a31ab32cea1a,11,4,3,21922,,,0,"Show how to enable more OpenStack services in devstack

Change-Id: Ib6c577cca038dc50836264bd17c83ed8cd0acfb8
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/50/579850/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/Vagrantfile'],1,3b5f788cee7eed488db35cc3fdf4d5a1e6fc8144,enable_service,"# Nova - services to support libvirt based openstack clouds # enable_service n-api n-cpu n-cond n-sch n-novnc n-cauth n-api-meta # Placement and Glance services needed for Nova # enable_service placement-api placement-client # enable_service g-api g-reg # Cinder, Neutron # enable_service cinder c-api c-vol c-sch c-bak # enable_service neutron q-svc q-agt q-dhcp q-meta q-l3 ",,9,0
openstack%2Fmonasca-log-api~master~I9cde2c00785596f3971378520cbc0ea96e141ac1,openstack/monasca-log-api,master,I9cde2c00785596f3971378520cbc0ea96e141ac1,Fix and unify cover environment,MERGED,2018-06-29 12:02:52.000000000,2018-07-05 07:36:41.000000000,2018-07-05 07:36:41.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-06-29 12:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/f46fc2ab14e353c0a43c309d4d8186209fe6da41', 'message': 'Fix and unify cover environment\n\nFix cover environment and unify it accordingly to Project Testing\nInterface [1].\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs\n\nChange-Id: I9cde2c00785596f3971378520cbc0ea96e141ac1\n'}, {'number': 2, 'created': '2018-07-02 13:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/f900ac0ff5f2fdd93650deac2753e539ec534e8a', 'message': 'Fix and unify cover environment\n\nFix cover environment and unify it accordingly to Project Testing\nInterface [1].\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs\n\nChange-Id: I9cde2c00785596f3971378520cbc0ea96e141ac1\n'}, {'number': 3, 'created': '2018-07-02 13:29:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/3fac2891598d4bbbcea4f7258fa94c43b5a75810', 'message': 'Fix and unify cover environment\n\nFix cover environment and unify it accordingly to Project Testing\nInterface [1].\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs\n\nChange-Id: I9cde2c00785596f3971378520cbc0ea96e141ac1\n'}]",0,579130,3fac2891598d4bbbcea4f7258fa94c43b5a75810,10,3,3,16222,,,0,"Fix and unify cover environment

Fix cover environment and unify it accordingly to Project Testing
Interface [1].

[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs

Change-Id: I9cde2c00785596f3971378520cbc0ea96e141ac1
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/30/579130/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f46fc2ab14e353c0a43c309d4d8186209fe6da41,579130,basepython = python3 setenv = PYTHON=coverage run --source monasca_log_api --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml,basepython = python2.7 coverage erase python setup.py test --coverage --testr-args='{posargs}' --coverage-package-name=monasca_log_api coverage report,7,4
openstack%2Fnova~master~Iad256079945bf8b5745ebdcc393c55115dbcab75,openstack/nova,master,Iad256079945bf8b5745ebdcc393c55115dbcab75,Fix unbound local when saving an unchanged RequestSpec,MERGED,2018-06-08 16:02:36.000000000,2018-07-05 07:31:59.000000000,2018-07-04 15:28:12.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27336}, {'_account_id': 27386}]","[{'number': 1, 'created': '2018-06-08 16:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84ece1f06111345356c721dad5de092416fe6900', 'message': 'Fix unbound local when saving an unchanged RequestSpec\n\nRequestSpec._get_update_primitives() tried to return the unitialized\ndb_updates field when the object has no changes. This patch initalizes\nthat local to None and handles that None in create() and save() where\nthe RequestSpec._get_update_primitives() is called.\n\nChange-Id: Iad256079945bf8b5745ebdcc393c55115dbcab75\nCloses-Bug: #1775863\n'}, {'number': 2, 'created': '2018-07-03 09:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ec2138e9b44d10eecd72a755d3a8d6c17c2c8a0', 'message': 'Fix unbound local when saving an unchanged RequestSpec\n\nRequestSpec._get_update_primitives() tried to return the unitialized\ndb_updates field when the object has no changes. This patch initalizes\nthat local to None and handles that None in create() and save() where\nthe RequestSpec._get_update_primitives() is called.\n\nChange-Id: Iad256079945bf8b5745ebdcc393c55115dbcab75\nCloses-Bug: #1775863\n'}, {'number': 3, 'created': '2018-07-03 13:02:54.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08fb09e878dcaedbb446e18502a6172fa4d43121', 'message': 'Fix unbound local when saving an unchanged RequestSpec\n\nRequestSpec._get_update_primitives() tried to return the unitialized\ndb_updates field when the object has no changes. This patch initalizes\nthat local to None and handles that None in create() and save() where\nthe RequestSpec._get_update_primitives() is called.\n\nChange-Id: Iad256079945bf8b5745ebdcc393c55115dbcab75\nCloses-Bug: #1775863\n'}]",2,573768,08fb09e878dcaedbb446e18502a6172fa4d43121,50,20,3,9708,,,0,"Fix unbound local when saving an unchanged RequestSpec

RequestSpec._get_update_primitives() tried to return the unitialized
db_updates field when the object has no changes. This patch initalizes
that local to None and handles that None in create() and save() where
the RequestSpec._get_update_primitives() is called.

Change-Id: Iad256079945bf8b5745ebdcc393c55115dbcab75
Closes-Bug: #1775863
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/573768/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py']",2,84ece1f06111345356c721dad5de092416fe6900,bug/1775863," def test_save_can_be_called_on_unchanged_object(self): ctxt = context.RequestContext(uuids.user_id, uuids.project_id) req_obj = request_spec.RequestSpec(context=ctxt) req_obj.create() req_obj.save() ",,15,6
openstack%2Fkolla-ansible~master~Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba,openstack/kolla-ansible,master,Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba,Migrate ceph keyring creation to kolla_ceph_keyring module,MERGED,2018-03-30 02:53:33.000000000,2018-07-05 07:29:37.000000000,2018-07-05 07:29:37.000000000,"[{'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 9820}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24574}, {'_account_id': 26556}, {'_account_id': 27661}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-30 02:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c92bc55d417c6ffc964740a77ec364dab868c5ab', 'message': '[wip] move glance keyring to kolla_ceph_keyring module\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}, {'number': 2, 'created': '2018-03-30 03:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ada1ec556a386439b05a50d4e43a393b62adcd9b', 'message': '[wip] move glance keyring to kolla_ceph_keyring module\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}, {'number': 3, 'created': '2018-03-30 03:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/02e617a91402ba54d713329cc1a5fcdde79686e7', 'message': '[wip] move glance keyring to kolla_ceph_keyring module\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}, {'number': 4, 'created': '2018-03-30 04:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59ccdf7f83804671880af5b4cd270ac5ed1598a2', 'message': '[wip] move glance keyring to kolla_ceph_keyring module\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}, {'number': 5, 'created': '2018-03-30 05:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96771e451d2af6e8ed09c009b749c3dbbb05900a', 'message': 'Migrate ceph keyring creation to kolla_ceph_keyring module\n\nIn this way, keyring caps is updatable.\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}, {'number': 6, 'created': '2018-04-01 17:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63171cd6cbf7eb7ee49834c9d79028a09ecbe4dc', 'message': 'Migrate ceph keyring creation to kolla_ceph_keyring module\n\nIn this way, keyring caps is updatable.\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}, {'number': 7, 'created': '2018-07-02 01:49:58.000000000', 'files': ['ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/nova/tasks/ceph.yml', 'ansible/roles/ceph/tasks/start_mdss.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/ceph/tasks/start_mgrs.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3397668d10aac69e016e7c6bd72d16c625e1e0d1', 'message': 'Migrate ceph keyring creation to kolla_ceph_keyring module\n\nIn this way, keyring caps is updatable.\n\nChange-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba\n'}]",2,557872,3397668d10aac69e016e7c6bd72d16c625e1e0d1,39,14,7,7488,,,0,"Migrate ceph keyring creation to kolla_ceph_keyring module

In this way, keyring caps is updatable.

Change-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/557872/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/glance/defaults/main.yml']",2,c92bc55d417c6ffc964740a77ec364dab868c5ab,,"ceph_client_glance_keyring_caps: mon: 'allow r' osd: 'allow class-read object_prefix rbd_children, allow rwx pool={{ ceph_glance_pool_name }}, allow rwx pool={{ ceph_glance_pool_name }}-cache' ",,10,4
openstack%2Fnova~master~I692a048b3a8da4e912e000b47da977dda466348b,openstack/nova,master,I692a048b3a8da4e912e000b47da977dda466348b,Merge server create schema for user data extension,MERGED,2018-06-27 10:15:33.000000000,2018-07-05 07:29:07.000000000,2018-07-05 07:19:03.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 10:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/181ba0c043809702f07665d42c27799620daea36', 'message': 'Merge server create schema for user data extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for user data\nextensions.\n\nAlso this commit removes the logic of appending the extensions\nschema as this is the last extensions schema to merge.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I692a048b3a8da4e912e000b47da977dda466348b\n'}, {'number': 2, 'created': '2018-06-27 15:08:00.000000000', 'files': ['nova/api/openstack/compute/user_data.py', 'nova/api/openstack/compute/schemas/user_data.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de03b832adcf74702c0747ff66ae6aa570538a72', 'message': 'Merge server create schema for user data extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for user data\nextensions.\n\nAlso this commit removes the logic of appending the extensions\nschema as this is the last extensions schema to merge.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I692a048b3a8da4e912e000b47da977dda466348b\n'}]",3,578349,de03b832adcf74702c0747ff66ae6aa570538a72,59,19,2,8556,,,0,"Merge server create schema for user data extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for user data
extensions.

Also this commit removes the logic of appending the extensions
schema as this is the last extensions schema to merge.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I692a048b3a8da4e912e000b47da977dda466348b
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/578349/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/user_data.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/schemas/user_data.py', 'nova/api/openstack/compute/servers.py']",4,181ba0c043809702f07665d42c27799620daea36,bp/api-extensions-merge-rocky," @validation.schema(schema_servers.base_create_v20, '2.0', '2.0') @validation.schema(schema_servers.base_create, '2.1', '2.18') @validation.schema(schema_servers.base_create_v219, '2.19', '2.31') @validation.schema(schema_servers.base_create_v232, '2.32', '2.32') @validation.schema(schema_servers.base_create_v233, '2.33', '2.36') @validation.schema(schema_servers.base_create_v237, '2.37', '2.41') @validation.schema(schema_servers.base_create_v242, '2.42', '2.51') @validation.schema(schema_servers.base_create_v252, '2.52', '2.56') @validation.schema(schema_servers.base_create_v257, '2.57', '2.62') @validation.schema(schema_servers.base_create_v263, '2.63') @validation.schema(schema_servers.base_update_v20, '2.0', '2.0') @validation.schema(schema_servers.base_update, '2.1', '2.18') @validation.schema(schema_servers.base_update_v219, '2.19') @validation.schema(schema_servers.base_rebuild_v20, '2.0', '2.0') @validation.schema(schema_servers.base_rebuild, '2.1', '2.18') @validation.schema(schema_servers.base_rebuild_v219, '2.19', '2.53') @validation.schema(schema_servers.base_rebuild_v254, '2.54', '2.56') @validation.schema(schema_servers.base_rebuild_v257, '2.57', '2.62') @validation.schema(schema_servers.base_rebuild_v263, '2.63')"," schema_server_create = schema_servers.base_create schema_server_update = schema_servers.base_update schema_server_rebuild = schema_servers.base_rebuild schema_server_create_v20 = schema_servers.base_create_v20 schema_server_update_v20 = schema_servers.base_update_v20 schema_server_rebuild_v20 = schema_servers.base_rebuild_v20 schema_server_create_v219 = schema_servers.base_create_v219 schema_server_update_v219 = schema_servers.base_update_v219 schema_server_rebuild_v219 = schema_servers.base_rebuild_v219 schema_server_rebuild_v254 = schema_servers.base_rebuild_v254 schema_server_rebuild_v257 = schema_servers.base_rebuild_v257 schema_server_create_v232 = schema_servers.base_create_v232 schema_server_create_v233 = schema_servers.base_create_v233 schema_server_create_v237 = schema_servers.base_create_v237 schema_server_create_v242 = schema_servers.base_create_v242 schema_server_create_v252 = schema_servers.base_create_v252 schema_server_create_v257 = schema_servers.base_create_v257 schema_server_create_v263 = schema_servers.base_create_v263 schema_server_rebuild_v263 = schema_servers.base_rebuild_v263 # NOTE(alex_xu): Please do not add more items into this list. This list # should be removed in the future. schema_func_list = [ user_data.get_server_create_schema, ] # TODO(alex_xu): The final goal is that merging all of # extended json-schema into server main json-schema. self._create_schema(self.schema_server_create_v263, '2.63') self._create_schema(self.schema_server_create_v257, '2.57') self._create_schema(self.schema_server_create_v252, '2.52') self._create_schema(self.schema_server_create_v242, '2.42') self._create_schema(self.schema_server_create_v237, '2.37') self._create_schema(self.schema_server_create_v233, '2.33') self._create_schema(self.schema_server_create_v232, '2.32') self._create_schema(self.schema_server_create_v219, '2.19') self._create_schema(self.schema_server_create, '2.1') self._create_schema(self.schema_server_create_v20, '2.0') @validation.schema(schema_server_create_v20, '2.0', '2.0') @validation.schema(schema_server_create, '2.1', '2.18') @validation.schema(schema_server_create_v219, '2.19', '2.31') @validation.schema(schema_server_create_v232, '2.32', '2.32') @validation.schema(schema_server_create_v232, '2.33', '2.36') @validation.schema(schema_server_create_v237, '2.37', '2.41') @validation.schema(schema_server_create_v242, '2.42', '2.51') @validation.schema(schema_server_create_v252, '2.52', '2.56') @validation.schema(schema_server_create_v257, '2.57', '2.62') @validation.schema(schema_server_create_v263, '2.63') def _create_schema(self, create_schema, version): for schema_func in self.schema_func_list: self._create_schema_by_func(create_schema, version, schema_func) def _create_schema_by_func(self, create_schema, version, schema_func): schema = schema_func(version) create_schema['properties']['server']['properties'].update(schema) @validation.schema(schema_server_update_v20, '2.0', '2.0') @validation.schema(schema_server_update, '2.1', '2.18') @validation.schema(schema_server_update_v219, '2.19') @validation.schema(schema_server_rebuild_v20, '2.0', '2.0') @validation.schema(schema_server_rebuild, '2.1', '2.18') @validation.schema(schema_server_rebuild_v219, '2.19', '2.53') @validation.schema(schema_server_rebuild_v254, '2.54', '2.56') @validation.schema(schema_server_rebuild_v257, '2.57', '2.62') @validation.schema(schema_server_rebuild_v263, '2.63')",31,111
openstack%2Fkolla-ansible~master~Ic03eb9f414e7258b6e7b710904ba7327092a7cca,openstack/kolla-ansible,master,Ic03eb9f414e7258b6e7b710904ba7327092a7cca,Test11,ABANDONED,2018-07-03 10:06:27.000000000,2018-07-05 07:24:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 10:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e3f9dc9618d65fb23d82bdd48ddf346d43a6478', 'message': 'Test\n\nChange-Id: Ic03eb9f414e7258b6e7b710904ba7327092a7cca\n'}, {'number': 2, 'created': '2018-07-03 10:13:47.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/046053df918b388d16d3dcdaa6b185fccabb3e13', 'message': 'Test11\n\nChange-Id: Ic03eb9f414e7258b6e7b710904ba7327092a7cca\n'}]",0,579836,046053df918b388d16d3dcdaa6b185fccabb3e13,5,1,2,14151,,,0,"Test11

Change-Id: Ic03eb9f414e7258b6e7b710904ba7327092a7cca
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/579836/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,5e3f9dc9618d65fb23d82bdd48ddf346d43a6478,,tsss ,,1,0
openstack%2Ftripleo-common~master~Icdaa734a44c55c830c0109d25488b68838e8736f,openstack/tripleo-common,master,Icdaa734a44c55c830c0109d25488b68838e8736f,Workflow for configuring BIOS settings to ironic nodes,MERGED,2018-06-19 09:24:49.000000000,2018-07-05 07:13:33.000000000,2018-07-05 07:13:33.000000000,"[{'_account_id': 6133}, {'_account_id': 8871}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21151}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-06-19 09:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/adce4f680351beecf5440fa4b2af78c9e2f5d90b', 'message': 'Workflow for configuring BIOS settings to ironic nodes\n\nIntroduces two workflows for configuring BIOS settings:\n\n1) tripleo.baremetal.v1.apply_bios_settings\n2) tripleo.baremetal.v1.reset_bios_settings\n\nNote configuring BIOS settings requires a particular\nhardware type to support BIOS interface.\n\nChange-Id: Icdaa734a44c55c830c0109d25488b68838e8736f\n'}, {'number': 2, 'created': '2018-06-20 03:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eae5e051980f1ddc19b7fe08ad448ddde9889b55', 'message': 'Workflow for configuring BIOS settings to ironic nodes\n\nIntroduces four workflows for configuring BIOS settings:\n\n1) tripleo.baremetal.v1.apply_bios_settings\n2) tripleo.baremetal.v1.reset_bios_settings\n3) tripleo.baremetal.v1.apply_bios_settings_on_manageable_nodes\n4) tripleo.baremetal.v1.reset_bios_settings_on_manageable_nodes\n\nNote configuring BIOS settings requires a particular\nhardware type to support BIOS interface.\n\nChange-Id: Icdaa734a44c55c830c0109d25488b68838e8736f\n'}, {'number': 3, 'created': '2018-06-20 07:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/61ea647602639cf7c9680df524c4c1de5853ff98', 'message': 'Workflow for configuring BIOS settings to ironic nodes\n\nIntroduces four workflows for configuring BIOS settings:\n\n1) tripleo.baremetal.v1.apply_bios_settings\n2) tripleo.baremetal.v1.reset_bios_settings\n3) tripleo.baremetal.v1.apply_bios_settings_on_manageable_nodes\n4) tripleo.baremetal.v1.reset_bios_settings_on_manageable_nodes\n\nNote configuring BIOS settings requires a particular\nhardware type to support BIOS interface.\n\nChange-Id: Icdaa734a44c55c830c0109d25488b68838e8736f\n'}, {'number': 4, 'created': '2018-06-20 09:16:21.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e4b8dc9cb2b9e3ea477aa7eb25aa1dcd07e1c8d', 'message': 'Workflow for configuring BIOS settings to ironic nodes\n\nIntroduces four workflows for configuring BIOS settings:\n\n1) tripleo.baremetal.v1.apply_bios_settings\n2) tripleo.baremetal.v1.reset_bios_settings\n3) tripleo.baremetal.v1.apply_bios_settings_on_manageable_nodes\n4) tripleo.baremetal.v1.reset_bios_settings_on_manageable_nodes\n\nNote configuring BIOS settings requires a particular\nhardware type to support BIOS interface.\n\nChange-Id: Icdaa734a44c55c830c0109d25488b68838e8736f\n'}]",8,576449,6e4b8dc9cb2b9e3ea477aa7eb25aa1dcd07e1c8d,42,10,4,21151,,,0,"Workflow for configuring BIOS settings to ironic nodes

Introduces four workflows for configuring BIOS settings:

1) tripleo.baremetal.v1.apply_bios_settings
2) tripleo.baremetal.v1.reset_bios_settings
3) tripleo.baremetal.v1.apply_bios_settings_on_manageable_nodes
4) tripleo.baremetal.v1.reset_bios_settings_on_manageable_nodes

Note configuring BIOS settings requires a particular
hardware type to support BIOS interface.

Change-Id: Icdaa734a44c55c830c0109d25488b68838e8736f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/576449/4 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,adce4f680351beecf5440fa4b2af78c9e2f5d90b,bp/bios-workflow," apply_bios_settings: description: Apply BIOS settings for given nodes input: - node_uuids - settings - queue_name: tripleo tags: - tripleo-common-managed tasks: apply_configuration: with-items: node_uuid in <% $.node_uuids %> workflow: tripleo.baremetal.v1.manual_cleaning input: node_uuid: <% $.node_uuid %> clean_steps: - interface: bios step: apply_configuration args: <% $.settings %> on-complete: send_message publish-on-error: status: FAILED message: <% task(apply_configuration).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> reset_bios_settings: description: Reset BIOS settings for given nodes to factory default input: - node_uuids - queue_name: tripleo tags: - tripleo-common-managed tasks: factory_reset: with-items: node_uuid in <% $.node_uuids %> workflow: tripleo.baremetal.v1.manual_cleaning input: node_uuid: <% $.node_uuid %> clean_steps: - interface: bios step: factory_reset on-complete: send_message publish-on-error: status: FAILED message: <% task(factory_reset).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %>",,68,0
openstack%2Ftripleo-heat-templates~master~Iabb447699910876d7c33a03efd2f35fc22618a0d,openstack/tripleo-heat-templates,master,Iabb447699910876d7c33a03efd2f35fc22618a0d,Update scenario003 to deploy separate messaging backends,MERGED,2018-05-06 23:06:20.000000000,2018-07-05 07:06:59.000000000,2018-07-05 07:06:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-06 23:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c393b16c7c3f3b9fd079dc503ae0492891e0b43', 'message': '[DNM] testing separate messaging backends\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}, {'number': 2, 'created': '2018-05-17 20:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1221e1dd0314f327ca75ddb9d78d3cdc031995fa', 'message': '[DNM] testing separate messaging backends\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}, {'number': 3, 'created': '2018-05-31 18:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5135ff515db6c8394188b3f0ab60ab4c27321038', 'message': '[DNM] testing separate messaging backends\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}, {'number': 4, 'created': '2018-06-11 14:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8aebcc96a1408f3f430360b58b4a681530104be', 'message': '[DNM] testing separate messaging backends\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}, {'number': 5, 'created': '2018-06-18 13:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a663dc7062f323079b32bf4c372013beb4fb70c3', 'message': '[DNM] testing separate messaging backends\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}, {'number': 6, 'created': '2018-06-24 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35245f15cb4ea72f26d6989564ca67377efa5558', 'message': '[DNM] testing separate messaging backends\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}, {'number': 7, 'created': '2018-06-25 16:00:57.000000000', 'files': ['README.rst', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/139b5521523bc1161cf30c2db7e9787a0d4fc25a', 'message': 'Update scenario003 to deploy separate messaging backends\n\nThis patch:\n* Sets up amqp1/qdrouterd for RPC and rabbit/rabbitmq for Notify\n\nChange-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d\n'}]",0,566483,139b5521523bc1161cf30c2db7e9787a0d4fc25a,41,6,7,20523,,,0,"Update scenario003 to deploy separate messaging backends

This patch:
* Sets up amqp1/qdrouterd for RPC and rabbit/rabbitmq for Notify

Change-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/566483/7 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/multinode-3nodes-registry.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",7,0c393b16c7c3f3b9fd079dc503ae0492891e0b43,bp/tripleo-messaging, OS::TripleO::Services::OsloMessagingRpc: ../../docker/services/messaging/rpc-qdrouterd.yaml OS::TripleO::Services::OsloMessagingNotify: ../../docker/services/pacemaker/notify-rabbitmq.yaml RpcPort: 31459 NotifyPort: 5672, OS::TripleO::Services::OsloMessagingRpc: ../../docker/services/pacemaker/rpc-rabbitmq.yaml OS::TripleO::Services::OsloMessagingNotify: ../../docker/services/messaging/notify-rabbitmq-shared.yaml,28,14
openstack%2Fmonasca-ui~master~I63302965cabb1deb0a1a74ca62f3e56bd04309b7,openstack/monasca-ui,master,I63302965cabb1deb0a1a74ca62f3e56bd04309b7,Adding support to use grafana templating,MERGED,2018-06-07 12:38:16.000000000,2018-07-05 07:00:14.000000000,2018-07-05 07:00:14.000000000,"[{'_account_id': 16171}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2018-06-07 12:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/e9295eebd57916333ace99c2d4adc69e4c3e9e2b', 'message': 'Adding support to use grafana templating\n\nChange-Id: I63302965cabb1deb0a1a74ca62f3e56bd04309b7\nStory: 2002175\nTask: 20041\n'}, {'number': 2, 'created': '2018-06-14 08:34:20.000000000', 'files': ['monitoring/overview/views.py', 'monitoring/api/monitor.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c5f514815ca0de79c667bde5192b3a9fa023fd3c', 'message': 'Adding support to use grafana templating\n\nChange-Id: I63302965cabb1deb0a1a74ca62f3e56bd04309b7\nStory: 2002175\nTask: 20041\n'}]",0,573214,c5f514815ca0de79c667bde5192b3a9fa023fd3c,16,6,2,28062,,,0,"Adding support to use grafana templating

Change-Id: I63302965cabb1deb0a1a74ca62f3e56bd04309b7
Story: 2002175
Task: 20041
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/14/573214/2 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/overview/views.py', 'monitoring/api/monitor.py']",2,e9295eebd57916333ace99c2d4adc69e4c3e9e2b,grafana_templating," @profiler.trace def metrics_dimension_value_list(request, **kwargs): result = client.monascaclient(request).metrics.list_dimension_values(**kwargs) return result['elements'] if type(result) is dict else result",,10,0
openstack%2Fmonasca-notification~master~I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635,openstack/monasca-notification,master,I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635,Convert README to reStructuredText,MERGED,2018-06-05 13:33:08.000000000,2018-07-05 06:50:02.000000000,2018-07-05 06:50:02.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 27191}]","[{'number': 1, 'created': '2018-06-05 13:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e25771b74009baf8c2c7b8e85d010ad9cae853e0', 'message': 'Convert README to reStructuredText\n\nChange-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635\nStory: 2001980\nTask: 20004\n'}, {'number': 2, 'created': '2018-06-05 13:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c3d53516c046bd4d59738b0dee2b9960d077fc6f', 'message': 'Convert README to reStructuredText\n\nChange-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635\nStory: 2001980\nTask: 20004\n'}, {'number': 3, 'created': '2018-06-06 08:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/79f86ba9402710e43b08c3546c42c5ae58d9af36', 'message': 'Convert README to reStructuredText\n\n* Add PyPI validation check for README.rst [1]\n* Add docutils to test-requirements.txt\n\n[1] https://docs.openstack.org/project-team-guide/project-setup/python.html#running-the-style-checks\n\nChange-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635\nStory: 2001980\nTask: 20004\n'}, {'number': 4, 'created': '2018-06-06 13:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/b2b6c91c8febbdca9165e8660f9ab469d4202727', 'message': 'Convert README to reStructuredText\n\n* Add PyPI validation check for README.rst [1]\n* Add docutils to test-requirements.txt\n\n[1] https://docs.openstack.org/project-team-guide/project-setup/python.html#running-the-style-checks\n\nChange-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635\nStory: 2001980\nTask: 20013\n'}, {'number': 5, 'created': '2018-06-19 09:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/8a8f346ea644d6030c6b59c2e723b3ffbb938fce', 'message': 'Convert README to reStructuredText\n\n* Add PyPI validation check for README.rst [1]\n* Add docutils to test-requirements.txt\n\n[1] https://docs.openstack.org/project-team-guide/project-setup/python.html#running-the-style-checks\n\nChange-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635\nStory: 2001980\nTask: 20013\n'}, {'number': 6, 'created': '2018-06-19 13:19:54.000000000', 'files': ['test-requirements.txt', 'README.rst', 'lower-constraints.txt', 'setup.cfg', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/20d655774440595d06675fc1ccff34b3f3a4321c', 'message': 'Convert README to reStructuredText\n\n* Add PyPI validation check for README.rst [1]\n* Add docutils to test-requirements.txt\n* Add lower bound for jira\n\n[1] https://docs.openstack.org/project-team-guide/project-setup/python.html#running-the-style-checks\n\nChange-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635\nStory: 2001980\nTask: 20013\n'}]",0,572393,20d655774440595d06675fc1ccff34b3f3a4321c,16,3,6,16222,,,0,"Convert README to reStructuredText

* Add PyPI validation check for README.rst [1]
* Add docutils to test-requirements.txt
* Add lower bound for jira

[1] https://docs.openstack.org/project-team-guide/project-setup/python.html#running-the-style-checks

Change-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635
Story: 2001980
Task: 20013
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/93/572393/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'README.md']",2,e25771b74009baf8c2c7b8e85d010ad9cae853e0,docs,,"Team and repository tags ======================== [![Team and repository tags](https://governance.openstack.org/tc/badges/monasca-notification.svg)](https://governance.openstack.org/tc/reference/tags/index.html) <!-- Change things from this point on --> # Notification Engine This engine reads alarms from Kafka and then notifies the customer using the configured notification method. Multiple notification and retry engines can run in parallel, up to one per available Kafka partition. Zookeeper is used to negotiate access to the Kafka partitions whenever a new process joins or leaves the working set. # Architecture The notification engine generates notifications using the following steps: 1. Read Alarms from Kafka, with no auto commit. - monasca_common.kafka.KafkaConsumer class 2. Determine notification type for an alarm. Done by reading from mysql. - AlarmProcessor class 3. Send notification. - NotificationProcessor class 4. Add successful notifications to a sent notification topic. - NotificationEngine class 5. Add failed notifications to a retry topic. - NotificationEngine class 6. Commit offset to Kafka - KafkaConsumer class The notification engine uses three Kafka topics: 1. alarm_topic: Alarms inbound to the notification engine. 2. notification_topic: Successfully sent notifications. 3. notification_retry_topic: Failed notifications. A retry engine runs in parallel with the notification engine and gives any failed notification a configurable number of extra chances at success. The retry engine generates notifications using the following steps: 1. Read notification json data from Kafka, with no auto commit. - KafkaConsumer class 2. Rebuild the notification that failed. - RetryEngine class 3. Send notification. - NotificationProcessor class 4. Add successful notifications to a sent notification topic. - RetryEngine class 5. Add failed notifications that have not hit the retry limit back to the retry topic. - RetryEngine class 6. Discard failed notifications that have hit the retry limit. - RetryEngine class 7. Commit offset to Kafka. - KafkaConsumer class The retry engine uses two Kafka topics: 1. notification_retry_topic: Notifications that need to be retried. 2. notification_topic: Successfully sent notifications. ## Fault Tolerance When reading from the alarm topic, no committing is done. The committing is done only after processing. This allows the processing to continue even though some notifications can be slow. In the event of a catastrophic failure some notifications could be sent but the alarms have not yet been acknowledged. This is an acceptable failure mode, better to send a notification twice than not at all. The general process when a major error is encountered is to exit the daemon which should allow the other processes to renegotiate access to the Kafka partitions. It is also assumed that the notification engine will be run by a process supervisor which will restart it in case of a failure. In this way, any errors which are not easy to recover from are automatically handled by the service restarting and the active daemon switching to another instance. Though this should cover all errors, there is the risk that an alarm or a set of alarms can be processed and notifications are sent out multiple times. To minimize this risk a number of techniques are used: - Timeouts are implemented for all notification types. - An alarm TTL is utilized. Any alarm older than the TTL is not processed. # Operation ``oslo.config`` is used for handling configuration options. A sample configuration file ``etc/monasca/notification.conf.sample`` can be generated by running: ``` tox -e genconfig ``` ## Monitoring StatsD is incorporated into the daemon and will send all stats to the StatsD server launched by monasca-agent. Default host and port points to **localhost:8125**. - Counters - ConsumedFromKafka - AlarmsFailedParse - AlarmsNoNotification - NotificationsCreated - NotificationsSentSMTP - NotificationsSentWebhook - NotificationsSentPagerduty - NotificationsSentFailed - NotificationsInvalidType - AlarmsFinished - PublishedToKafka - Timers - ConfigDBTime - SendNotificationTime # Future Considerations - More extensive load testing is needed: - How fast is the mysql db? How much load do we put on it. Initially I think it makes most sense to read notification details for each alarm but eventually I may want to cache that info. - How expensive are commits to Kafka for every message we read? Should we commit every N messages? - How efficient is the default Kafka consumer batch size? - Currently we can get ~200 notifications per second per NotificationEngine instance using webhooks to a local http server. Is that fast enough? - Are we putting too much load on Kafka at ~200 commits per second? ",139,108
openstack%2Frequirements~master~Ifa21c3b3d55988c725e049733b227fa0ee22fbbd,openstack/requirements,master,Ifa21c3b3d55988c725e049733b227fa0ee22fbbd,switch project-requirements-change to use python3,MERGED,2018-06-28 17:31:18.000000000,2018-07-05 06:48:46.000000000,2018-07-05 06:48:46.000000000,"[{'_account_id': 2472}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 17:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c8190612dd901368b9e838d788e7e807d7d94ad2', 'message': 'switch project-requirements-change to use python3\n\nUpdate the version of python used to run the requirements-check script\nas part of the python3-first goal.\n\nChange-Id: Ifa21c3b3d55988c725e049733b227fa0ee22fbbd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-07-03 13:21:23.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c6ee7f563a56b5e7a80780fad20b64e1d0500179', 'message': 'switch project-requirements-change to use python3\n\nUpdate the version of python used to run the requirements-check script\nas part of the python3-first goal.\n\nChange-Id: Ifa21c3b3d55988c725e049733b227fa0ee22fbbd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,578944,c6ee7f563a56b5e7a80780fad20b64e1d0500179,15,4,2,2472,,,0,"switch project-requirements-change to use python3

Update the version of python used to run the requirements-check script
as part of the python3-first goal.

Change-Id: Ifa21c3b3d55988c725e049733b227fa0ee22fbbd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/44/578944/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,c8190612dd901368b9e838d788e7e807d7d94ad2,python3-first,#! /usr/bin/env python3,#! /usr/bin/env python,1,1
openstack%2Fheat~master~Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384,openstack/heat,master,Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384,[Test][DMT]Test py36,ABANDONED,2018-06-06 01:25:35.000000000,2018-07-05 06:43:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-06 01:25:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/755bf932e9d4d99e0289ad11645130e1b2a4afb3', 'message': '[Test][DMT]Test py36\n\nChange-Id: Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384\n'}]",0,572655,755bf932e9d4d99e0289ad11645130e1b2a4afb3,4,1,1,12404,,,0,"[Test][DMT]Test py36

Change-Id: Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/572655/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,755bf932e9d4d99e0289ad11645130e1b2a4afb3,test-py36, - openstack-tox-py36,,1,0
openstack%2Fheat~master~Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e,openstack/heat,master,Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e,Refactor resource plugins for microversion usage,MERGED,2017-09-12 11:54:47.000000000,2018-07-05 06:42:13.000000000,2018-07-05 06:42:12.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-12 11:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea84c01ee135f92a0a925771657a9c824da3ca0c', 'message': 'WIP Refactor use of microversions with nova\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}, {'number': 2, 'created': '2017-09-12 13:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4c5ef04e731ffbb636f202bfb9971fe48fa5a41b', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 3, 'created': '2017-09-14 06:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e346c4cc6f287322a542dc833c7f677ac966d105', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 4, 'created': '2017-09-14 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30cd47b7f9db4e30623409ca02d04fdbcec79b23', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 5, 'created': '2017-09-20 05:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2061d718e1a396ceb482d3cf49f6db018becf3e6', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 6, 'created': '2018-01-08 06:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/08674f7318d09e146d93d71546b49cc845cbac22', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 7, 'created': '2018-01-08 06:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e8634c274f79cca273ed5e6c06b12456dbe67717', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 8, 'created': '2018-03-02 13:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a5653d4c4a026c8ab8601c785431aab6b14bb7de', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would ignore\nthe version specified and use the max supported version by checking\nget_current().version.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 9, 'created': '2018-03-26 06:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7010cc77d056ce2f15b1096d3779773aad8a1cf8', 'message': ""Refactor use of microversions with nova\n\nWe don't need to maintain a list of versions in the nova client\nplugin. Supporting a latest microversion means supporting all\nversions earlier.\n\nThis refactors the way we support microversions. We would use the max\nsupported, if a version is not specified.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n""}, {'number': 10, 'created': '2018-03-27 10:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ee13c1f88145129a32a7352ce1a62cb3f2ca1587', 'message': 'Refactor resource plugins for microversion usage\n\nThis changes the way nova client plugin is used in some nova\nresource plugins.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}, {'number': 11, 'created': '2018-03-28 02:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c7a3103486e1c774da79066ff788b9b372a5d8c0', 'message': 'Refactor resource plugins for microversion usage\n\nThis changes the way nova client plugin is used in some nova\nresource plugins.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}, {'number': 12, 'created': '2018-04-30 10:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5a604c2acca70fc1ab037ce8d3635b50289e2d67', 'message': 'Refactor resource plugins for microversion usage\n\nThis changes the way nova client plugin is used in some nova\nresource plugins.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}, {'number': 13, 'created': '2018-06-14 06:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4e4be1c4f5479399d7ad2920ac9c78c80e268691', 'message': 'Refactor resource plugins for microversion usage\n\nThis changes the way nova client plugin is used in some nova\nresource plugins.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}, {'number': 14, 'created': '2018-06-28 17:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/45d841a0f0d1e4529d3ff489c0d3d5fbdb8c7fef', 'message': 'Refactor resource plugins for microversion usage\n\nThis changes the way nova client plugin is used in some nova\nresource plugins.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}, {'number': 15, 'created': '2018-06-29 04:08:20.000000000', 'files': ['heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/openstack/nova/server_group.py', 'heat/tests/openstack/nova/test_server.py', 'heat/engine/clients/os/nova.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/tests/openstack/nova/test_keypair.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3c06347a93343850409a243b3c7e1f11eeb4db3f', 'message': 'Refactor resource plugins for microversion usage\n\nThis changes the way nova client plugin is used in some nova\nresource plugins.\n\nChange-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e\n'}]",26,502961,3c06347a93343850409a243b3c7e1f11eeb4db3f,68,7,15,8833,,,0,"Refactor resource plugins for microversion usage

This changes the way nova client plugin is used in some nova
resource plugins.

Change-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/502961/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/openstack/nova/server_group.py', 'heat/tests/openstack/heat/test_resource_group.py', 'heat/tests/openstack/nova/test_server.py', 'heat/engine/clients/os/nova.py', 'heat/tests/openstack/nova/fakes.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/tests/clients/test_nova_client.py', 'heat/tests/openstack/nova/test_keypair.py']",9,ea84c01ee135f92a0a925771657a9c824da3ca0c,microversion_mixin," self.cp_mock.assert_called_once_with() self.cp_mock.assert_called_once_with() self.cp_mock.assert_called_once_with() def _test_validate(self, key_type=None, user=None): msg = (('Cannot use ""%s"" properties - nova does not support ' 'required api microversion.') % validate_props) self.patchobject(nova.NovaClientPlugin, '_get_max_micro_version', return_value='2.1') self._test_validate(key_type='x509') self.patchobject(nova.NovaClientPlugin, '_get_max_micro_version', return_value='2.1') self._test_validate(user='user_A')"," self.cp_mock.assert_called_once_with(version='2.2') self.cp_mock.assert_called_once_with(version='2.10') self.cp_mock.assert_called_once_with(version='2.10') def _test_validate(self, key_type=None, user=None, nc_version=None): self.patchobject(nova.NovaClientPlugin, '_create', side_effect=exception.InvalidServiceVersion( service='compute', version=nc_version )) msg = (('Cannot use ""%(prop)s"" properties - nova does not support: ' 'Invalid service compute version %(ver)s') % {'prop': validate_props, 'ver': nc_version}) self._test_validate(key_type='x509', nc_version='2.2') self._test_validate(user='user_A', nc_version='2.10')",87,147
openstack%2Fbifrost~master~I10359bd752cd89cb8ff66dbec4b321449a8c7eb6,openstack/bifrost,master,I10359bd752cd89cb8ff66dbec4b321449a8c7eb6,Add repository & storyboard link to README,MERGED,2018-07-02 08:28:49.000000000,2018-07-05 06:26:18.000000000,2018-07-05 06:26:18.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2018-07-02 08:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/970c756583d90da5fd3060c850a1320c01187d9f', 'message': 'Add source code repository notes link to README\n\nChange-Id: I10359bd752cd89cb8ff66dbec4b321449a8c7eb6\n'}, {'number': 2, 'created': '2018-07-02 09:36:36.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/106eade6947cabeb293d8a44bdc05876608c3477', 'message': 'Add repository & storyboard link to README\n\nChange-Id: I10359bd752cd89cb8ff66dbec4b321449a8c7eb6\n'}]",5,579488,106eade6947cabeb293d8a44bdc05876608c3477,14,4,2,25254,,,0,"Add repository & storyboard link to README

Change-Id: I10359bd752cd89cb8ff66dbec4b321449a8c7eb6
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/88/579488/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,970c756583d90da5fd3060c850a1320c01187d9f,579488,The project source code repository is located at: https://git.openstack.org/cgit/openstack/bifrost/ The project home is at: https://launchpad.net/bifrost/ ,,6,0
openstack%2Fqinling~master~Ie85f1d3c7eae3009a74721d9582d34415ca10eed,openstack/qinling,master,Ie85f1d3c7eae3009a74721d9582d34415ca10eed,Add an example for function cookbook,MERGED,2018-06-29 03:57:46.000000000,2018-07-05 06:18:07.000000000,2018-07-05 06:18:06.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 03:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/71fbe07ad58d2b81d00f34dad27d016b2f4912fa', 'message': 'Python developer guide for Qinling\n\nChange-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed\n'}, {'number': 2, 'created': '2018-06-29 05:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/c0310ced9fbcfcd777cc6ab1fc9bd6f49af84653', 'message': 'Python developer guide for Qinling\n\nChange-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed\n'}, {'number': 3, 'created': '2018-06-29 05:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/1b92f555e4e3dca251de7f32b96ee118a790d7d0', 'message': 'Python developer guide for Qinling\n\nChange-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed\n'}, {'number': 4, 'created': '2018-07-03 12:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/3774f7d6b2e7c17e6635aa08fcfa306563ac0d9b', 'message': 'Add an example for function cookbook\n\nStory: 2001577\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\nChange-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed\n'}, {'number': 5, 'created': '2018-07-03 13:14:06.000000000', 'files': ['doc/source/user/cookbook_function.rst', 'doc/source/function_developer/python_dev.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/16f5bb28261f82014df2e345619b99f0fc09ee5f', 'message': 'Add an example for function cookbook\n\nStory: 2001577\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\nChange-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed\n'}]",0,579050,16f5bb28261f82014df2e345619b99f0fc09ee5f,15,3,5,15285,,,0,"Add an example for function cookbook

Story: 2001577
Co-Authored-By: Lingxian Kong <anlin.kong@gmail.com>
Change-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed
",git fetch https://review.opendev.org/openstack/qinling refs/changes/50/579050/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/function_developer/python_dev.rst'],1,71fbe07ad58d2b81d00f34dad27d016b2f4912fa,579050,"This guide describes an easy to create a deployment package using python environment. You need to start by creating a customized python function package. This package would contain the python code and its dependencies. If you want to create python function with libraries in a package then following few steps. #. Create Python runtime using admin credential. ``Runtime`` in Qinling is the environment in which the function is actually running, ``runtime`` is supposed to be created/deleted/updated only by cloud operator. After creation, check the runtime status until it's ``available`` before invoking any functions: Using CLI: .. code-block:: console $ cd $DEVSTACK_DIR && source openrc admin admin $ openstack runtime create openstackqinling/python-runtime --name python2.7 +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | id | 4866b566-2c9a-4f00-9665-7808f7d811f8 | | name | python2.7 | | image | openstackqinling/python-runtime | | status | available | | description | None | | project_id | ce157785ffb24b3c862720283be4dbc8 | | created_at | 2017-12-11 22:40:16 | | updated_at | None | +-------------+--------------------------------------+ .. end Record the runtime ID for the function invocation later on. #. Create a directory, for ex: ~/qinling_test .. code-block:: console $ mkdir ~/qinling_test .. end #. Write a custom python code for resizing an image at the root level of this directory .. code-block:: console $ cat <<EOF > ~/qinling_test/resize_test.py from PIL import Image basewidth = 200 img = Image.open('origin.jpg') wpercent = (basewidth/float(img.size[0])) hsize = int((float(img.size[1])*float(wpercent))) img = img.resize((basewidth,hsize), Image.ANTIALIAS) img.save('resized.jpg') EOF $ curl -SL http://greenstack.die.upm.es/files/2017/10/sydney-openstack-summit-750x422.jpg -o origin.jpg .. end #. Install the python libraries necessary for the program execution using pip. The libraries need to be installed at the root level of the directory. .. code-block:: console pip install module-name -t path/to/dir .. end For example, we would install the library ``pillow`` in our project directory .. code-block:: console pip install Pillow -t ~/qinling_test .. end #. You need to zip the contents of the directory which is now your deployment package. Make sure you zip the contents of the directory and not the directory itself. .. code-block:: console cd ~/qinling_test && zip -r ~/qinling_test/resize_test.zip ./* .. end #. Create function: .. code-block:: console $ runtime_id=601efeb8-3e41-4e5c-a12a-986dbda252e3 $ TOKEN=$(openstack token issue -f yaml -c id | awk '{print $2}') $ openstack function create --name resize_test \ --runtime $runtime_id \ --entry resize_test.main \ --package ~/qinling_test/resize_test.zip +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | id | c9195311-9aa7-4748-bd4b-1b0f9c28d858 | | name | resize_test | | description | None | | count | 0 | | code | {u'source': u'package'} | | runtime_id | 601efeb8-3e41-4e5c-a12a-986dbda252e3 | | entry | resize_test.main | | created_at | 2017-12-11 23:21:21 | | updated_at | None | +-------------+--------------------------------------+ #. Invoke the function by specifying function_id: .. code-block:: console $ openstack function execution create c9195311-9aa7-4748-bd4b-1b0f9c28d858 +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | id | b7ffdd3a-a0a8-441b-874d-3b6dcf7446d9 | | function_id | c9195311-9aa7-4748-bd4b-1b0f9c28d858 | | description | None | | input | {} | | result | {""duration"": 1.483, ""output"": 30} | | status | success | | sync | True | | created_at | 2017-12-11 23:27:04 | | updated_at | 2017-12-11 23:27:05 | +-------------+--------------------------------------+ Create Deployment Package Using a Python Environment Created with Virtualenv ============================================================================ With the following example, we would be creating a deployment package for python environment created using a Virtualenv tool. #. Install virtualenvwrapper using pip. Add three lines to your shell startup file (.bashrc, .profile, etc.) to set the location where the virtual environments should live, the location of your development project directories, and the location of the script installed with this package. .. code-block:: console pip install virtualenvwrapper export WORKON_HOME=$HOME/.virtualenvs mkdir -p $WORKON_HOME source /usr/local/bin/virtualenvwrapper.sh .. end #. We move on to create a new environment. The following command would create and activate the environment. .. code-block:: console mkvirtualenv qinling_functions .. end #. Install the pillow package in the activated environment. .. code-block:: console pip install pillow .. end #. Create a .zip file for the contents of the directory which is now your deployment package. #. Add the libraries from preceding activated virtual environment to the .zip file. That is, you add the content of the following directory to the .zip file. .. code-block:: console .virtualenvs/project-dir/lib/python2.7/site-packages .. end References ========== * Creating a Deployment Package (Python) https://docs.aws.amazon.com/lambda/latest/dg/lambda-python-how-to-create-deployment-package.html * virtualenvwrapper 4.8.3.dev4 http://virtualenvwrapper.readthedocs.io/en/latest/install.html",,189,0
openstack%2Fmanila-tempest-plugin~master~I77d87c8e6f98054f2f02bc4202c14314ff321964,openstack/manila-tempest-plugin,master,I77d87c8e6f98054f2f02bc4202c14314ff321964,Add ou to security service tests,MERGED,2018-02-01 14:20:13.000000000,2018-07-05 05:46:24.000000000,2018-07-05 05:46:24.000000000,"[{'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 14:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9c0819723a763184004e30f2ceb6a70c04da8457', 'message': 'Add ou to security service tests\n\nThis patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nby adding tests for ou parameter at security services with new\nmicroversion 2.43.\n\nChange-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964\n'}, {'number': 2, 'created': '2018-04-24 22:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9b03c95aafd7c5ddff55e56765d841d5714e668a', 'message': 'Add ou to security service tests\n\nThis patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nby adding tests for ou parameter at security services with new\nmicroversion 2.44.\n\nDepends-On: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nChange-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964\nPartial-Bug: #1696669\n'}, {'number': 3, 'created': '2018-06-09 12:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b357c738b04a0cae193f702056726d5bfa62bf4f', 'message': 'Add ou to security service tests\n\nThis patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nby adding tests for ou parameter at security services with new\nmicroversion 2.44.\n\nDepends-On: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nChange-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964\nPartial-Bug: #1696669\n'}, {'number': 4, 'created': '2018-06-25 06:05:27.000000000', 'files': ['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5ac3717d742fa068773f0a86581c01ff4c903573', 'message': 'Add ou to security service tests\n\nThis patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nby adding tests for ou parameter at security services with new\nmicroversion 2.44.\n\nDepends-On: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nChange-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964\nPartial-Bug: #1696669\n'}]",3,539969,5ac3717d742fa068773f0a86581c01ff4c903573,36,6,4,18816,,,0,"Add ou to security service tests

This patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac
by adding tests for ou parameter at security services with new
microversion 2.44.

Depends-On: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac
Change-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964
Partial-Bug: #1696669
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/69/539969/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",4,9c0819723a763184004e30f2ceb6a70c04da8457,bug/1696669," ############### def create_security_service(self, ss_type=""ldap"", version=LATEST_MICROVERSION, **kwargs): """"""Creates Security Service. :param ss_type: ldap, kerberos, active_directory :param version: microversion string :param kwargs: name, description, dns_ip, server, ou, domain, user, :param kwargs: password """""" post_body = {""type"": ss_type} post_body.update(kwargs) body = json.dumps({""security_service"": post_body}) resp, body = self.post(""security-services"", body, version=version) self.expected_success(200, resp.status) return self._parse_resp(body) def update_security_service(self, ss_id, version=LATEST_MICROVERSION, **kwargs): """"""Updates Security Service. :param ss_id: id of security-service entity :param version: microversion string :param kwargs: dns_ip, server, ou, domain, user, password, name, :param kwargs: description :param kwargs: for 'active' status can be changed :param kwargs: only 'name' and 'description' fields """""" body = json.dumps({""security_service"": kwargs}) resp, body = self.put(""security-services/%s"" % ss_id, body, version=version) self.expected_success(200, resp.status) return self._parse_resp(body) def get_security_service(self, ss_id, version=LATEST_MICROVERSION): resp, body = self.get(""security-services/%s"" % ss_id, version=version) self.expected_success(200, resp.status) return self._parse_resp(body) def list_security_services(self, detailed=False, params=None, version=LATEST_MICROVERSION): uri = ""security-services"" if detailed: uri += '/detail' if params: uri += ""?%s"" % urlparse.urlencode(params) resp, body = self.get(uri, version=version) self.expected_success(200, resp.status) return self._parse_resp(body)",,107,4
openstack%2Fpython-heatclient~master~I043f90541c8d2d604f3edb4e7ea082ec8adb4b25,openstack/python-heatclient,master,I043f90541c8d2d604f3edb4e7ea082ec8adb4b25,Fix log_http_request function in http module,MERGED,2018-02-01 06:58:03.000000000,2018-07-05 05:45:19.000000000,2018-07-05 05:45:19.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 06:58:03.000000000', 'files': ['heatclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/6a27997abb1944f19feedf52b9f1415c15157861', 'message': 'Fix log_http_request function in http module\n\nChange-Id: I043f90541c8d2d604f3edb4e7ea082ec8adb4b25\nCloses-Bug:  #1746669\n'}]",0,539834,6a27997abb1944f19feedf52b9f1415c15157861,8,3,1,25395,,,0,"Fix log_http_request function in http module

Change-Id: I043f90541c8d2d604f3edb4e7ea082ec8adb4b25
Closes-Bug:  #1746669
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/34/539834/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/common/http.py'],1,6a27997abb1944f19feedf52b9f1415c15157861,bug/1746669, if not parse.urlparse(url).netloc: url = self.endpoint + url curl.append(url)," curl.append('%s%s' % (self.endpoint, url))",4,1
openstack%2Fqinling~master~Ib4b007d0c1e0401ed652bdf7a90993200bbfb576,openstack/qinling,master,Ib4b007d0c1e0401ed652bdf7a90993200bbfb576,Enable oslo_config mutable configurations,MERGED,2018-07-04 11:03:45.000000000,2018-07-05 05:28:52.000000000,2018-07-05 05:28:51.000000000,"[{'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 11:03:45.000000000', 'files': ['qinling/cmd/engine.py', 'qinling/cmd/api.py', 'releasenotes/notes/enable-mutable-configuration-a0527660fa58532c.yaml'], 'web_link': 'https://opendev.org/openstack/qinling/commit/779bcf76074890bbedeb9703aa20023cb535ff7f', 'message': 'Enable oslo_config mutable configurations\n\nThis patch enables oslo_config mutable configuration for the Qinling\ncontrol plane processes. The configuration will be updated when the\nparent process receives a HUP signal.\nThis completes the Rocky goal: Enable mutable configuration.\n\nChange-Id: Ib4b007d0c1e0401ed652bdf7a90993200bbfb576\nStory: 2001545\nTask: 6400\n'}]",0,580134,779bcf76074890bbedeb9703aa20023cb535ff7f,6,2,1,6732,,,0,"Enable oslo_config mutable configurations

This patch enables oslo_config mutable configuration for the Qinling
control plane processes. The configuration will be updated when the
parent process receives a HUP signal.
This completes the Rocky goal: Enable mutable configuration.

Change-Id: Ib4b007d0c1e0401ed652bdf7a90993200bbfb576
Story: 2001545
Task: 6400
",git fetch https://review.opendev.org/openstack/qinling refs/changes/34/580134/1 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/cmd/engine.py', 'qinling/cmd/api.py', 'releasenotes/notes/enable-mutable-configuration-a0527660fa58532c.yaml']",3,779bcf76074890bbedeb9703aa20023cb535ff7f,mutable-config,"--- features: - | Operators can now update the running configuration of the Qinling control plane processes by sending the parent process a ""HUP"" signal. Note: The configuration option must support mutation. ",,10,1
openstack%2Fzun~master~Ia623cd54432f83505c93f94680859c492adc4f22,openstack/zun,master,Ia623cd54432f83505c93f94680859c492adc4f22,Backward-compatible with old restart_policy,MERGED,2018-07-05 03:10:29.000000000,2018-07-05 05:06:19.000000000,2018-07-05 05:06:19.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-07-05 03:10:29.000000000', 'files': ['zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/schemas/parameter_types.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/1526cfd22d364970f88d248a17273e23e4aa0f92', 'message': ""Backward-compatible with old restart_policy\n\nThe property 'restart_policy' is changed in spec content [1], but\nunfortunately it doesn't change in a backward-compatible way and\nbreaks the gophercloud CI. This patch fixes it.\n\n[1] https://review.openstack.org/#/c/571398/\n\nChange-Id: Ia623cd54432f83505c93f94680859c492adc4f22\n""}]",0,580257,1526cfd22d364970f88d248a17273e23e4aa0f92,7,3,1,11536,,,0,"Backward-compatible with old restart_policy

The property 'restart_policy' is changed in spec content [1], but
unfortunately it doesn't change in a backward-compatible way and
breaks the gophercloud CI. This patch fixes it.

[1] https://review.openstack.org/#/c/571398/

Change-Id: Ia623cd54432f83505c93f94680859c492adc4f22
",git fetch https://review.opendev.org/openstack/zun refs/changes/57/580257/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/schemas/parameter_types.py']",2,1526cfd22d364970f88d248a17273e23e4aa0f92,," # NOTE(hongbin): property 'restartPolicy' is deprecated but we keep # it here for backward-compatibility. Will remove it after the # deprecation period. ""restartPolicy"": capsule_restart_policy,",,11,2
openstack%2Fcongress~master~Ia63614a84742833c75ca3cadec7db48a44200e9d,openstack/congress,master,Ia63614a84742833c75ca3cadec7db48a44200e9d,Data source driver preserves data types,MERGED,2018-04-18 01:25:40.000000000,2018-07-05 04:38:28.000000000,2018-07-05 04:38:28.000000000,"[{'_account_id': 8215}, {'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 23518}, {'_account_id': 25553}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-04-18 01:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/6f246b89fad11a889a0b11137b29a6ddb3e36091', 'message': 'Data source driver preserves data types\n\nMove the conversion to agnostic-compatible types from\ndatasource_driver to agnostic.\n\nInternal change only; external API unaffected.\n\nThe datalog compiler and the agnostic policy engine in Congress\ndo not support booleans and Nones/nulls. To work with that design,\nthe data source drivers currently convert booleans and Nones into\nstrings. This works well for agnostic, but unnecessarily limits\nthe types handled by the data source drivers.\n\nIn the spirit of the original architecture to support policy engines\nin addition to agnostic, this change expands the types handled by the\ndata source drivers and the Congress data bus to all the JSON scalar\ntypes, de-coupling from the more limited set of types accepted by\nagnostic. This way, other policy engines can independently choose\nwhich subset of the data types to work with.\n\nThis would be a small first step toward integrating other policy\nengines such as those based on SQL, z3, or Open Policy Agent.\n\nChange-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d\n'}, {'number': 2, 'created': '2018-04-18 18:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/6271008e2057e47bd14c845ba5f27a40708fb1eb', 'message': 'Data source driver preserves data types\n\nMove the conversion to agnostic-compatible types from\ndatasource_driver to agnostic.\n\nInternal change only; external API unaffected.\n\nThe datalog compiler and the agnostic policy engine in Congress\ndo not support booleans and Nones/nulls. To work with that design,\nthe data source drivers currently convert booleans and Nones into\nstrings. This works well for agnostic, but unnecessarily limits\nthe types handled by the data source drivers.\n\nIn the spirit of the original architecture to support policy engines\nin addition to agnostic, this change expands the types handled by the\ndata source drivers and the Congress data bus to all the JSON scalar\ntypes, de-coupling from the more limited set of types accepted by\nagnostic. This way, other policy engines can independently choose\nwhich subset of the data types to work with.\n\nThis would be a small first step toward integrating other policy\nengines such as those based on SQL, z3, or Open Policy Agent.\n\nChange-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d\n'}, {'number': 3, 'created': '2018-06-28 03:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/a28c17952689ccd03fbe9328ec761ef434cfe3c2', 'message': 'Data source driver preserves data types\n\nMove the conversion to agnostic-compatible types from\ndatasource_driver to agnostic.\n\nInternal change only; external API unaffected.\n\nThe datalog compiler and the agnostic policy engine in Congress\ndo not support booleans and Nones/nulls. To work with that design,\nthe data source drivers currently convert booleans and Nones into\nstrings. This works well for agnostic, but unnecessarily limits\nthe types handled by the data source drivers.\n\nIn the spirit of the original architecture to support policy engines\nin addition to agnostic, this change expands the types handled by the\ndata source drivers and the Congress data bus to all the JSON scalar\ntypes, de-coupling from the more limited set of types accepted by\nagnostic. This way, other policy engines can independently choose\nwhich subset of the data types to work with.\n\nThis would be a small first step toward integrating other policy\nengines such as those based on SQL, z3, or Open Policy Agent.\n\nChange-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d\n'}, {'number': 4, 'created': '2018-07-04 05:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/0a8ebe1c04338bf4361dacfc2d2bd934ecf86d5f', 'message': 'Data source driver preserves data types\n\nMove the conversion to agnostic-compatible types from\ndatasource_driver to agnostic.\n\nInternal change only; external API unaffected.\n\nThe datalog compiler and the agnostic policy engine in Congress\ndo not support booleans and Nones/nulls. To work with that design,\nthe data source drivers currently convert booleans and Nones into\nstrings. This works well for agnostic, but unnecessarily limits\nthe types handled by the data source drivers.\n\nIn the spirit of the original architecture to support policy engines\nin addition to agnostic, this change expands the types handled by the\ndata source drivers and the Congress data bus to all the JSON scalar\ntypes, de-coupling from the more limited set of types accepted by\nagnostic. This way, other policy engines can independently choose\nwhich subset of the data types to work with.\n\nThis would be a small first step toward integrating other policy\nengines such as those based on SQL, z3, or Open Policy Agent.\n\nChange-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d\n'}, {'number': 5, 'created': '2018-07-05 00:03:52.000000000', 'files': ['congress/utils.py', 'congress/tests/datasources/test_keystonev3_driver.py', 'congress/tests/datasources/test_keystone_driver.py', 'congress/tests/datasources/test_cloudfoundryv2_driver.py', 'congress/tests/datasources/test_datasource_driver.py', 'congress/tests/datasources/test_nova_driver.py', 'congress/policy_engines/agnostic.py', 'congress/tests/datasources/test_murano_driver.py', 'congress/datasources/datasource_driver.py', 'congress/tests/datasources/test_cinder_driver.py', 'congress/tests/datasources/test_glancev2_driver.py', 'congress/tests/datasources/test_ironic_driver.py', 'congress/datasources/murano_driver.py', 'congress/tests/datasources/test_mistral_driver.py', 'congress/tests/datasources/test_neutronv2_qos_driver.py', 'congress/tests/datasources/test_neutronv2_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/c8b3774a161d0062048cce42dac4aed6b73afa33', 'message': 'Data source driver preserves data types\n\nMove the conversion to agnostic-compatible types from\ndatasource_driver to agnostic.\n\nInternal change only; external API unaffected.\n\nThe datalog compiler and the agnostic policy engine in Congress\ndo not support booleans and Nones/nulls. To work with that design,\nthe data source drivers currently convert booleans and Nones into\nstrings. This works well for agnostic, but unnecessarily limits\nthe types handled by the data source drivers.\n\nIn the spirit of the original architecture to support policy engines\nin addition to agnostic, this change expands the types handled by the\ndata source drivers and the Congress data bus to all the JSON scalar\ntypes, de-coupling from the more limited set of types accepted by\nagnostic. This way, other policy engines can independently choose\nwhich subset of the data types to work with.\n\nThis would be a small first step toward integrating other policy\nengines such as those based on SQL, z3, or Open Policy Agent.\n\nChange-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d\n'}]",5,562089,c8b3774a161d0062048cce42dac4aed6b73afa33,25,7,5,18591,,,0,"Data source driver preserves data types

Move the conversion to agnostic-compatible types from
datasource_driver to agnostic.

Internal change only; external API unaffected.

The datalog compiler and the agnostic policy engine in Congress
do not support booleans and Nones/nulls. To work with that design,
the data source drivers currently convert booleans and Nones into
strings. This works well for agnostic, but unnecessarily limits
the types handled by the data source drivers.

In the spirit of the original architecture to support policy engines
in addition to agnostic, this change expands the types handled by the
data source drivers and the Congress data bus to all the JSON scalar
types, de-coupling from the more limited set of types accepted by
agnostic. This way, other policy engines can independently choose
which subset of the data types to work with.

This would be a small first step toward integrating other policy
engines such as those based on SQL, z3, or Open Policy Agent.

Change-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d
",git fetch https://review.opendev.org/openstack/congress refs/changes/89/562089/4 && git format-patch -1 --stdout FETCH_HEAD,"['congress/utils.py', 'congress/tests/datasources/test_keystonev3_driver.py', 'congress/tests/datasources/test_keystone_driver.py', 'congress/tests/datasources/test_cloudfoundryv2_driver.py', 'congress/tests/datasources/test_datasource_driver.py', 'congress/tests/datasources/test_nova_driver.py', '.zuul.yaml', 'congress/policy_engines/agnostic.py', 'congress/datasources/monasca_driver.py', 'congress/tests/datasources/test_murano_driver.py', 'congress/datasources/datasource_driver.py', 'congress/tests/datasources/test_cinder_driver.py', 'congress/tests/datasources/test_glancev2_driver.py', 'congress/tests/datasources/test_ironic_driver.py', 'congress/datasources/murano_driver.py', 'congress/tests/datasources/test_mistral_driver.py', 'congress/tests/datasources/test_neutronv2_qos_driver.py', 'congress/tests/datasources/test_neutronv2_driver.py']",18,6f246b89fad11a889a0b11137b29a6ddb3e36091,explicit-types," '10.0.0.1', True, None, None), '169.254.169.253', True, None, None), '1.1.1.1', True, None, None)]), (""61cea855-49cb-4846-997d-801b70c71bdd"", None, ""376da547-b977-4cfe-9cba-275c80debf57"", None, ""172.24.4.227"", None, ""DOWN"")]), 'feee0a965cc34274917fb753623dd57d', 'DOWN', True, 'myrouter', False)]), 'feee0a965cc34274917fb753623dd57d', None, 'egress', 'IPv4', None, None, None, None), 'ed7fd9f6-e390-448a-9f5f-8dd4659282f7', '', None, 'egress', 'IPv6', None, None, None, None), '1d943e83-e4e6-472a-9655-f74eb22f3668', '', None, 'egress', 'IPv4', None, None, None, None), 'IPv4', None, None, None, None), 'IPv6', None, None, None, None), 'IPv6', None, None, None, None), 'ingress', 'IPv4', None, None, None, None), 'feee0a965cc34274917fb753623dd57d', None, 'egress', 'IPv6', None, None, None, None)]), 'fa:16:3e:08:31:6e', True, 'DOWN', 'fa:16:3e:b7:78:e8', True, 'DOWN', 'fa:16:3e:af:56:fa', True, 'DOWN', '', ''), 'fa:16:3e:f3:19:e5', True, 'DOWN', 'ecdea1af-7197-43c8-b3b0-34d90f72a2a8', True)]), 'ACTIVE', True, False), 'ACTIVE', True, False)]),"," '10.0.0.1', 'True', 'None', 'None'), '169.254.169.253', 'True', 'None', 'None'), '1.1.1.1', 'True', 'None', 'None')]), (""61cea855-49cb-4846-997d-801b70c71bdd"", 'None', ""376da547-b977-4cfe-9cba-275c80debf57"", 'None', ""172.24.4.227"", 'None', ""DOWN"")]), 'feee0a965cc34274917fb753623dd57d', 'DOWN', 'True', 'myrouter', 'False')]), 'feee0a965cc34274917fb753623dd57d', 'None', 'egress', 'IPv4', 'None', 'None', 'None', 'None'), 'ed7fd9f6-e390-448a-9f5f-8dd4659282f7', '', 'None', 'egress', 'IPv6', 'None', 'None', 'None', 'None'), '1d943e83-e4e6-472a-9655-f74eb22f3668', '', 'None', 'egress', 'IPv4', 'None', 'None', 'None', 'None'), 'IPv4', 'None', 'None', 'None', 'None'), 'IPv6', 'None', 'None', 'None', 'None'), 'IPv6', 'None', 'None', 'None', 'None'), 'ingress', 'IPv4', 'None', 'None', 'None', 'None'), 'feee0a965cc34274917fb753623dd57d', 'None', 'egress', 'IPv6', 'None', 'None', 'None', 'None')]), 'fa:16:3e:08:31:6e', 'True', 'DOWN', 'fa:16:3e:b7:78:e8', 'True', 'DOWN', 'fa:16:3e:af:56:fa', 'True', 'DOWN', '', ''), 'fa:16:3e:f3:19:e5', 'True', 'DOWN', 'ecdea1af-7197-43c8-b3b0-34d90f72a2a8', 'True')]), 'ACTIVE', 'True', 'False'), 'ACTIVE', 'True', 'False')]),",132,123
openstack%2Fpuppet-tripleo~stable%2Focata~I977cd46534a4c840741d5cc929994794e7b82eb4,openstack/puppet-tripleo,stable/ocata,I977cd46534a4c840741d5cc929994794e7b82eb4,Prepare 6.5.14 (ocata),MERGED,2018-07-04 15:50:46.000000000,2018-07-05 04:36:56.000000000,2018-07-05 04:36:56.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-04 15:50:46.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e0ee312234c5b324950e04d2c85ef5879a520e0', 'message': 'Prepare 6.5.14 (ocata)\n\nChange-Id: I977cd46534a4c840741d5cc929994794e7b82eb4\n'}]",0,580202,6e0ee312234c5b324950e04d2c85ef5879a520e0,7,3,1,3153,,,0,"Prepare 6.5.14 (ocata)

Change-Id: I977cd46534a4c840741d5cc929994794e7b82eb4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/580202/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6e0ee312234c5b324950e04d2c85ef5879a520e0,release/ocata," ""version"": ""6.5.14"","," ""version"": ""6.5.13"",",1,1
openstack%2Fpuppet-tripleo~stable%2Fpike~I7ef6f1c45c952b6de9315245bff76623ecd1f18b,openstack/puppet-tripleo,stable/pike,I7ef6f1c45c952b6de9315245bff76623ecd1f18b,Prepare 7.4.14 (pike),MERGED,2018-07-04 15:51:15.000000000,2018-07-05 04:36:55.000000000,2018-07-05 04:36:55.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-04 15:51:15.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5a0b738d513890122d79376eb720fb00ec134fd8', 'message': 'Prepare 7.4.14 (pike)\n\nChange-Id: I7ef6f1c45c952b6de9315245bff76623ecd1f18b\n'}]",0,580203,5a0b738d513890122d79376eb720fb00ec134fd8,7,3,1,3153,,,0,"Prepare 7.4.14 (pike)

Change-Id: I7ef6f1c45c952b6de9315245bff76623ecd1f18b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/580203/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5a0b738d513890122d79376eb720fb00ec134fd8,release/pike," ""version"": ""7.4.14"","," ""version"": ""7.4.13"",",1,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I3ea3774e86bb41de6a9efd96ef168a2d14299dcd,openstack/puppet-tripleo,stable/queens,I3ea3774e86bb41de6a9efd96ef168a2d14299dcd,Prepare 8.3.4 (queens),MERGED,2018-07-04 15:51:43.000000000,2018-07-05 04:36:54.000000000,2018-07-05 04:36:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-04 15:51:43.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/15a81ad902728cf75750fad9bde3f8439a99f913', 'message': 'Prepare 8.3.4 (queens)\n\nChange-Id: I3ea3774e86bb41de6a9efd96ef168a2d14299dcd\n'}]",0,580206,15a81ad902728cf75750fad9bde3f8439a99f913,7,3,1,3153,,,0,"Prepare 8.3.4 (queens)

Change-Id: I3ea3774e86bb41de6a9efd96ef168a2d14299dcd
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/580206/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,15a81ad902728cf75750fad9bde3f8439a99f913,release/queens," ""version"": ""8.3.4"","," ""version"": ""8.3.3"",",1,1
openstack%2Ftripleo-ui~stable%2Fqueens~I3d6b49678264a4d74898866a2280570390075511,openstack/tripleo-ui,stable/queens,I3d6b49678264a4d74898866a2280570390075511,Prepare 8.3.2 (queens),MERGED,2018-07-04 15:52:46.000000000,2018-07-05 04:36:53.000000000,2018-07-05 04:36:53.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 15:52:46.000000000', 'files': ['npm-shrinkwrap.json', 'package.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/93101f26e25ec8788b061554d3181d4c84148c9c', 'message': 'Prepare 8.3.2 (queens)\n\nChange-Id: I3d6b49678264a4d74898866a2280570390075511\n'}]",0,580207,93101f26e25ec8788b061554d3181d4c84148c9c,6,2,1,3153,,,0,"Prepare 8.3.2 (queens)

Change-Id: I3d6b49678264a4d74898866a2280570390075511
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/07/580207/1 && git format-patch -1 --stdout FETCH_HEAD,"['npm-shrinkwrap.json', 'package.json']",2,93101f26e25ec8788b061554d3181d4c84148c9c,release/queens," ""version"": ""8.3.2"","," ""version"": ""8.3.1"",",2,2
openstack%2Ftripleo-heat-templates~master~Iecf855a785bc1f787234e4e54430c929cb9cb906,openstack/tripleo-heat-templates,master,Iecf855a785bc1f787234e4e54430c929cb9cb906,Disable pid file usage in the swift_rsync container,MERGED,2018-06-22 12:19:39.000000000,2018-07-05 04:36:52.000000000,2018-07-05 04:36:52.000000000,"[{'_account_id': 6926}, {'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-22 12:19:39.000000000', 'files': ['docker/services/swift-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/448e04029e5d8bc982cbc3fbd4409304488437ec', 'message': 'Disable pid file usage in the swift_rsync container\n\nThe pidfile is useless within containers, but prevents a restart if the\nprocess has been stopped unclean. This happens for example when a\nrestart takes longer than the default timeout of 10 seconds.\n\nThis is mainly a workaround because the pid file setting is hardcoded in\nthe used Puppet module template. It should be removed later once the\nsetting can be disabled cleanly with an updated Puppet rsync module.\n\nRelated-Bug: 1724559\nChange-Id: Iecf855a785bc1f787234e4e54430c929cb9cb906\n'}]",1,577403,448e04029e5d8bc982cbc3fbd4409304488437ec,22,5,1,6968,,,0,"Disable pid file usage in the swift_rsync container

The pidfile is useless within containers, but prevents a restart if the
process has been stopped unclean. This happens for example when a
restart takes longer than the default timeout of 10 seconds.

This is mainly a workaround because the pid file setting is hardcoded in
the used Puppet module template. It should be removed later once the
setting can be disabled cleanly with an updated Puppet rsync module.

Related-Bug: 1724559
Change-Id: Iecf855a785bc1f787234e4e54430c929cb9cb906
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/577403/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/swift-storage.yaml'],1,448e04029e5d8bc982cbc3fbd4409304488437ec,bug/1724559," # FIXME (cschwede): remove this once the pid file setting is disabled swift_rsync_fix: image: {get_param: DockerSwiftObjectImage} net: host user: root detach: false command: ['/bin/bash', '-c', 'sed -i ""/pid file/d"" /var/lib/kolla/config_files/src/etc/rsyncd.conf'] volumes: - /var/lib/config-data/puppet-generated/swift/:/var/lib/kolla/config_files/src:rw",,9,0
openstack%2Fheat~master~If8f13def196442e6f28616e88972f28f8ec23d0d,openstack/heat,master,If8f13def196442e6f28616e88972f28f8ec23d0d,Restore auth-less version negotiation,MERGED,2018-06-12 11:28:01.000000000,2018-07-05 04:33:11.000000000,2018-07-05 04:33:11.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 11:28:01.000000000', 'files': ['etc/heat/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/63cf3761bebe24c56d40ad8a894b3c5ee73866e6', 'message': 'Restore auth-less version negotiation\n\nchange Change-Id: I097bf70431a999a0f6aa56079ffb5743b50d4d7f\ninadvertently started to require (keystone) authentication\nwhen accessing API root to get the API version document.\n\nThis breaks standard version negotiation (that usually does not require\nauth) and also some monitoring / loadbalancing that used to check\nreturns on GET to API root.\n\nChange-Id: If8f13def196442e6f28616e88972f28f8ec23d0d\nStory: 2002531\nTask: 22072\n'}]",0,574697,63cf3761bebe24c56d40ad8a894b3c5ee73866e6,11,5,1,9542,,,0,"Restore auth-less version negotiation

change Change-Id: I097bf70431a999a0f6aa56079ffb5743b50d4d7f
inadvertently started to require (keystone) authentication
when accessing API root to get the API version document.

This breaks standard version negotiation (that usually does not require
auth) and also some monitoring / loadbalancing that used to check
returns on GET to API root.

Change-Id: If8f13def196442e6f28616e88972f28f8ec23d0d
Story: 2002531
Task: 22072
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/574697/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/heat/api-paste.ini'],1,63cf3761bebe24c56d40ad8a894b3c5ee73866e6,versionnegotiation,pipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authtoken context osprofiler apiv1apppipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authpassword context apiv1apppipeline = cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken authtoken context osprofiler apicfnv1apppipeline = cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken context apicfnv1app,pipeline = cors request_id faultwrap authurl authtoken context http_proxy_to_wsgi versionnegotiation osprofiler apiv1apppipeline = cors request_id faultwrap authurl authpassword context http_proxy_to_wsgi versionnegotiation apiv1apppipeline = cors request_id ec2authtoken authtoken context http_proxy_to_wsgi cfnversionnegotiation osprofiler apicfnv1apppipeline = cors request_id ec2authtoken context http_proxy_to_wsgi cfnversionnegotiation apicfnv1app,4,4
openstack%2Fzun~master~I644f7488190e11205ce958d8b79c9541a7ea10ec,openstack/zun,master,I644f7488190e11205ce958d8b79c9541a7ea10ec,capsule: convert 'command' from string to list,MERGED,2018-07-05 02:53:03.000000000,2018-07-05 04:20:55.000000000,2018-07-05 04:20:55.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 02:53:03.000000000', 'files': ['zun/api/controllers/v1/capsules.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/aafdd20617e882620f956a2c7cac3c67343cf690', 'message': ""capsule: convert 'command' from string to list\n\nChange-Id: I644f7488190e11205ce958d8b79c9541a7ea10ec\nRelated-Bug: #1755019\n""}]",0,580253,aafdd20617e882620f956a2c7cac3c67343cf690,6,2,1,11536,,,0,"capsule: convert 'command' from string to list

Change-Id: I644f7488190e11205ce958d8b79c9541a7ea10ec
Related-Bug: #1755019
",git fetch https://review.opendev.org/openstack/zun refs/changes/53/580253/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/capsules.py'],1,aafdd20617e882620f956a2c7cac3c67343cf690,bug/1755019, container_dict['command'] + container_dict['args'] elif container_dict.get('args'):," container_dict = self._transfer_list_to_str(container_dict, 'command') container_dict = self._transfer_list_to_str(container_dict, 'args') container_dict['command'] + ' ' + container_dict['args'] elif container_dict.get('command'): container_dict = self._transfer_list_to_str(container_dict, 'command') elif container_dict.get('args'): container_dict = self._transfer_list_to_str(container_dict, 'args')",1,10
openstack%2Fcastellan~master~I0980a08f35965292a705ad7299cfdc9a433dfc87,openstack/castellan,master,I0980a08f35965292a705ad7299cfdc9a433dfc87,fix tox python3 overrides,MERGED,2018-06-06 18:50:25.000000000,2018-07-05 04:09:32.000000000,2018-07-05 04:09:32.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-06 18:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/ad802d5e94bde36f520d6f2fb1f15a5cf22b72c8', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0980a08f35965292a705ad7299cfdc9a433dfc87\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-06 18:53:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/castellan/commit/b9f6436776ddc9d9fafe3f7353532cc1fa1a0fe0', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0980a08f35965292a705ad7299cfdc9a433dfc87\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,572869,b9f6436776ddc9d9fafe3f7353532cc1fa1a0fe0,21,5,2,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0980a08f35965292a705ad7299cfdc9a433dfc87
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/castellan refs/changes/69/572869/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ad802d5e94bde36f520d6f2fb1f15a5cf22b72c8,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,9,0
openstack%2Fnova~master~I3816176ccd33995486a7cd19217bd76100f8bddf,openstack/nova,master,I3816176ccd33995486a7cd19217bd76100f8bddf,Remove remaining legacy DB API instance_group* methods,MERGED,2018-06-27 17:24:46.000000000,2018-07-05 03:48:18.000000000,2018-07-04 17:36:40.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 17:24:46.000000000', 'files': ['nova/tests/functional/db/test_instance_group_model.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/683fbe3c84ee70e817ffb8396fefb9ff6cd8830d', 'message': 'Remove remaining legacy DB API instance_group* methods\n\nSince Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no\nlonger have compat code in the InstanceGroup object\nand everything is handled in the API database, so we can\ndrop the legacy DB API methods for instance groups.\n\nChange-Id: I3816176ccd33995486a7cd19217bd76100f8bddf\n'}]",0,578497,683fbe3c84ee70e817ffb8396fefb9ff6cd8830d,35,17,1,6873,,,0,"Remove remaining legacy DB API instance_group* methods

Since Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no
longer have compat code in the InstanceGroup object
and everything is handled in the API database, so we can
drop the legacy DB API methods for instance groups.

Change-Id: I3816176ccd33995486a7cd19217bd76100f8bddf
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/578497/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_instance_group_model.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,683fbe3c84ee70e817ffb8396fefb9ff6cd8830d,remove-newton-online-compat-code,,"def _instance_group_get_query(context, model_class, id_field=None, id=None, read_deleted=None): columns_to_join = {models.InstanceGroup: ['_policies', '_members']} query = model_query(context, model_class, read_deleted=read_deleted, project_only=True) for c in columns_to_join.get(model_class, []): query = query.options(joinedload(c)) if id and id_field: query = query.filter(id_field == id) return query @pick_context_manager_writer def instance_group_create(context, values, policies=None, members=None): """"""Create a new group."""""" uuid = values.get('uuid', None) if uuid is None: uuid = uuidutils.generate_uuid() values['uuid'] = uuid try: group = models.InstanceGroup() group.update(values) group.save(context.session) except db_exc.DBDuplicateEntry: raise exception.InstanceGroupIdExists(group_uuid=uuid) # We don't want '_policies' and '_members' attributes to be lazy loaded # later. We know there is nothing here since we just created this # instance group. if policies: _instance_group_policies_add(context, group.id, policies) else: group._policies = [] if members: _instance_group_members_add(context, group.id, members) else: group._members = [] return instance_group_get(context, uuid) @pick_context_manager_reader def instance_group_get(context, group_uuid): """"""Get a specific group by uuid."""""" group = _instance_group_get_query(context, models.InstanceGroup, models.InstanceGroup.uuid, group_uuid).\ first() if not group: raise exception.InstanceGroupNotFound(group_uuid=group_uuid) return group @pick_context_manager_reader def instance_group_get_by_instance(context, instance_uuid): group_member = model_query(context, models.InstanceGroupMember).\ filter_by(instance_id=instance_uuid).\ first() if not group_member: raise exception.InstanceGroupNotFound(group_uuid='') group = _instance_group_get_query(context, models.InstanceGroup, models.InstanceGroup.id, group_member.group_id).first() if not group: raise exception.InstanceGroupNotFound( group_uuid=group_member.group_id) return group @pick_context_manager_writer def instance_group_update(context, group_uuid, values): """"""Update the attributes of a group. If values contains a metadata key, it updates the aggregate metadata too. Similarly for the policies and members. """""" group = model_query(context, models.InstanceGroup).\ filter_by(uuid=group_uuid).\ first() if not group: raise exception.InstanceGroupNotFound(group_uuid=group_uuid) policies = values.get('policies') if policies is not None: _instance_group_policies_add(context, group.id, values.pop('policies'), set_delete=True) members = values.get('members') if members is not None: _instance_group_members_add(context, group.id, values.pop('members'), set_delete=True) group.update(values) if policies: values['policies'] = policies if members: values['members'] = members @pick_context_manager_reader def instance_group_get_all(context): """"""Get all groups."""""" return _instance_group_get_query(context, models.InstanceGroup).all() @pick_context_manager_reader def instance_group_get_all_by_project_id(context, project_id): """"""Get all groups."""""" return _instance_group_get_query(context, models.InstanceGroup).\ filter_by(project_id=project_id).\ all() def _instance_group_count_by_project_and_user(context, project_id, user_id): return model_query(context, models.InstanceGroup, read_deleted=""no"").\ filter_by(project_id=project_id).\ filter_by(user_id=user_id).\ count() def _instance_group_model_get_query(context, model_class, group_id, read_deleted='no'): return model_query(context, model_class, read_deleted=read_deleted).\ filter_by(group_id=group_id) def _instance_group_id(context, group_uuid): """"""Returns the group database ID for the group UUID."""""" result = model_query(context, models.InstanceGroup, (models.InstanceGroup.id,)).\ filter_by(uuid=group_uuid).\ first() if not result: raise exception.InstanceGroupNotFound(group_uuid=group_uuid) return result.id def _instance_group_members_add(context, id, members, set_delete=False): all_members = set(members) query = _instance_group_model_get_query(context, models.InstanceGroupMember, id) if set_delete: query.filter(~models.InstanceGroupMember.instance_id.in_( all_members)).\ soft_delete(synchronize_session=False) query = query.filter( models.InstanceGroupMember.instance_id.in_(all_members)) already_existing = set() for member_ref in query.all(): already_existing.add(member_ref.instance_id) for instance_id in members: if instance_id in already_existing: continue member_ref = models.InstanceGroupMember() member_ref.update({'instance_id': instance_id, 'group_id': id}) context.session.add(member_ref) return members def _instance_group_policies_add(context, id, policies, set_delete=False): allpols = set(policies) query = _instance_group_model_get_query(context, models.InstanceGroupPolicy, id) if set_delete: query.filter(~models.InstanceGroupPolicy.policy.in_(allpols)).\ soft_delete(synchronize_session=False) query = query.filter(models.InstanceGroupPolicy.policy.in_(allpols)) already_existing = set() for policy_ref in query.all(): already_existing.add(policy_ref.policy) for policy in policies: if policy in already_existing: continue policy_ref = models.InstanceGroupPolicy() policy_ref.update({'policy': policy, 'group_id': id}) context.session.add(policy_ref) return policies #################### ",2,486
openstack%2Ftripleo-heat-templates~master~I5db52d5dd833833c989532931baea8fac03f9cb7,openstack/tripleo-heat-templates,master,I5db52d5dd833833c989532931baea8fac03f9cb7,Ensure node is rebooted before enabling DPDK,MERGED,2018-02-09 06:31:43.000000000,2018-07-05 03:31:16.000000000,2018-02-19 20:46:36.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-09 06:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/425b2cbcb99a0b9e01e441d61caf6901a36f88da', 'message': 'WIP: Ensure node is rebooted before enabling DPDK\n\nChange-Id: I5db52d5dd833833c989532931baea8fac03f9cb7\n'}, {'number': 2, 'created': '2018-02-13 06:05:23.000000000', 'files': ['extraconfig/pre_network/host_config_and_reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9e099f218c4c5bcba5ae3daeabc7e15d75fe136', 'message': 'Ensure node is rebooted before enabling DPDK\n\nIn the PreNetworkConfig, the order of resources sent to os-collect-config\nchanged after introducing vhost user resource. The current order is\n1. HostParametersDeployment\n2. DpdkVhostGroupDeployment\n3. RebootDeployment and EnableDpdkDeployment\nHere the expectation is that RebootDeployment should be completed\nbefore enabling DPDK, but since both are provided at the same time to\nos-collect-config, DPDK is enabled first. The reson is RebootDepolyment\nis having signal transport as NONE and EnableDpdkDeployment is moved\nafter reboot because of ovs2.7 change of restart vswitchd, when DPDK is\nenabled. This is causing the a failure.\nThis patch modifies the order as below:\n1. HostParametersDeployment and DpdkVhostGroupDeployment\n2. RebootDeployment and RebootEnsureDeployment\n3. EnableDpdkDeployment\n\nChange-Id: I5db52d5dd833833c989532931baea8fac03f9cb7\n'}]",3,542623,f9e099f218c4c5bcba5ae3daeabc7e15d75fe136,19,8,2,18575,,,0,"Ensure node is rebooted before enabling DPDK

In the PreNetworkConfig, the order of resources sent to os-collect-config
changed after introducing vhost user resource. The current order is
1. HostParametersDeployment
2. DpdkVhostGroupDeployment
3. RebootDeployment and EnableDpdkDeployment
Here the expectation is that RebootDeployment should be completed
before enabling DPDK, but since both are provided at the same time to
os-collect-config, DPDK is enabled first. The reson is RebootDepolyment
is having signal transport as NONE and EnableDpdkDeployment is moved
after reboot because of ovs2.7 change of restart vswitchd, when DPDK is
enabled. This is causing the a failure.
This patch modifies the order as below:
1. HostParametersDeployment and DpdkVhostGroupDeployment
2. RebootDeployment and RebootEnsureDeployment
3. EnableDpdkDeployment

Change-Id: I5db52d5dd833833c989532931baea8fac03f9cb7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/542623/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_network/host_config_and_reboot.yaml'],1,425b2cbcb99a0b9e01e441d61caf6901a36f88da,ovs_dpdk_fails_on_pre_network," depends_on: [HostParametersDeployment, DpdkVhostGroupDeployment] # For successful RebootDeployment, the signal_transport should be NO_SIGNAL, # which will make the resource as COMPLETE immediately. If the # RebootDeployment is the last resource of the tree, then it will be # synchronized, else the next resource (EnableDpdkDeployment), is also sent # along with RebootDeployment. Because of which sometimes, EnableDpdkDeployment # is executed before rebooting. As hugepages are not set to bootargs (waiting # for reboot), EnableDpdkDeployment will fail. To ensure synchronization, # a dummpy deployment RebootEnsureDeployment has been introduced to wait # for reboot to enable DPDK. RebootEnsureConfig: type: OS::Heat::SoftwareConfig condition: is_reboot_config_required properties: group: script config: | #!/bin/bash echo ""Reboot completed"" RebootEnsureDeployment: type: OS::Heat::SoftwareDeployment depends_on: RebootDeployment condition: is_reboot_config_required properties: name: RebootEnsureDeployment server: {get_param: server} config: {get_resource: RebootEnsureConfig} actions: if: - deployment_actions_empty - [] - ['CREATE'] # Only do this on CREATE depends_on: RebootEnsureDeployment", depends_on: HostParametersDeployment depends_on: HostParametersDeployment depends_on: DpdkVhostGroupDeployment depends_on: DpdkVhostGroupDeployment depends_on: RebootDeployment depends_on: RebootDeployment,34,6
openstack%2Frequirements~master~Id15691a0d415f38b243ca49351f31891168812ae,openstack/requirements,master,Id15691a0d415f38b243ca49351f31891168812ae,[DNR] Block pyroute 0.5.2 for neutron-fwaas,ABANDONED,2018-07-04 13:25:49.000000000,2018-07-05 03:21:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-04 13:25:49.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f86c76220aa178544281a80efb304cfc159ea069', 'message': '[DNR] Block pyroute 0.5.2 for neutron-fwaas\n\nChange-Id: Id15691a0d415f38b243ca49351f31891168812ae\n'}]",0,580166,f86c76220aa178544281a80efb304cfc159ea069,3,1,1,25254,,,0,"[DNR] Block pyroute 0.5.2 for neutron-fwaas

Change-Id: Id15691a0d415f38b243ca49351f31891168812ae
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/580166/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,f86c76220aa178544281a80efb304cfc159ea069,block_pyroute,pyroute2===0.5.1,pyroute2===0.5.2,2,2
openstack%2Fopenstack-helm~master~I1398e357f39ebb7dfe62a87eb33513443f22f91b,openstack/openstack-helm,master,I1398e357f39ebb7dfe62a87eb33513443f22f91b,configure rabbitmq objects at startup,ABANDONED,2018-07-03 07:05:25.000000000,2018-07-05 03:17:12.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 28162}]","[{'number': 1, 'created': '2018-07-03 07:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed478bf6e201a3a2b56e056e85da04513b883c2e', 'message': 'configure rabbitmq objects at startup\n\nThis feature allows to configure at startup rabbitmq objects like policies,\nusers, permissions, etc.\nhttp://www.rabbitmq.com/management.html#load-definitions\n\nThe default rmq policies have been added for nova, keystone, glance, heat notifications queues so\nall messages are mirrored to the rest of the cluster and expire within 70 seconds. (the expired message will\nbe discarded if it reaches the head of a queue)\n\nThe configuration example:\ndefinitions:\n  users:\n    test_user:\n      name: ""test""\n      password: ...\n  permissions:\n    test_user_perm:\n      user: ""test""\n      vhost: ""/""\n      ...\n  policies:\n    ttl_keystone:\n      name: ""ttl_keystone""\n      vhost: ""keystone""\n      definition:\n        message-ttl: 70000\n\n  which will beequal to in rabbitmq notations:\n{""users: [\n {\n   ""name"": ""test"",\n   ""password"": ...,\n },\n],\n""permissions"": [\n {\n   ""user"": ""test"",\n   ""vhost"": ""/"",\n   ...\n },\n],\n""policies"": [\n {\n   ""name"": ""ttl_keystone"",\n   ""vhost"": ""keystone"",\n   ""definition"":{""message-ttl"":70000}\n   ...\n }\n]\n\nChange-Id: I1398e357f39ebb7dfe62a87eb33513443f22f91b\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 2, 'created': '2018-07-03 08:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ffb77cf8f28dbbf49094c13966e1abdb24f93201', 'message': 'configure rabbitmq objects at startup\n\nThis feature allows to configure at startup rabbitmq objects like policies,\nusers, permissions, etc.\nhttp://www.rabbitmq.com/management.html#load-definitions\n\nThe default rmq policies have been added for nova, keystone, glance, heat notifications queues so\nall messages are mirrored to the rest of the cluster and expire within 70 seconds. (the expired message will\nbe discarded if it reaches the head of a queue)\n\nThe configuration example:\ndefinitions:\n  users:\n    - name: ""test""\n      password: ...\n  permissions:\n    - user: ""test""\n      vhost: ""/""\n      ...\n  policies:\n    - name: ""ttl_keystone""\n      vhost: ""keystone""\n      definition:\n        message-ttl: 70000\n\n  which will beequal to in rabbitmq notations:\n{""users: [\n {\n   ""name"": ""test"",\n   ""password"": ...,\n },\n],\n""permissions"": [\n {\n   ""user"": ""test"",\n   ""vhost"": ""/"",\n   ...\n },\n],\n""policies"": [\n {\n   ""name"": ""ttl_keystone"",\n   ""vhost"": ""keystone"",\n   ""definition"":{""message-ttl"":70000}\n   ...\n }\n]\n\nChange-Id: I1398e357f39ebb7dfe62a87eb33513443f22f91b\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 3, 'created': '2018-07-03 08:23:57.000000000', 'files': ['rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32fd13dfbc294e6874c5bfa046cf9e10501ef970', 'message': 'configure rabbitmq objects at startup\n\nThis feature allows to configure at startup rabbitmq objects like policies,\nusers, permissions, etc.\nhttp://www.rabbitmq.com/management.html#load-definitions\n\nThe default rmq policies have been added for nova, keystone, glance, heat notifications queues so\nall messages are mirrored to the rest of the cluster and expire within 70 seconds. (the expired message will\nbe discarded if it reaches the head of a queue)\n\nThe configuration example:\ndefinitions:\n  users:\n    - name: ""test""\n      password: ...\n  permissions:\n    - user: ""test""\n      vhost: ""/""\n      ...\n  policies:\n    - name: ""ttl_keystone""\n      vhost: ""keystone""\n      definition:\n        message-ttl: 70000\n\n  which will beequal to in rabbitmq notations:\n{""users: [\n {\n   ""name"": ""test"",\n   ""password"": ...,\n },\n],\n""permissions"": [\n {\n   ""user"": ""test"",\n   ""vhost"": ""/"",\n   ...\n },\n],\n""policies"": [\n {\n   ""name"": ""ttl_keystone"",\n   ""vhost"": ""keystone"",\n   ""definition"":{""message-ttl"":70000}\n   ...\n }\n]\n\nChange-Id: I1398e357f39ebb7dfe62a87eb33513443f22f91b\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}]",4,579785,32fd13dfbc294e6874c5bfa046cf9e10501ef970,13,7,3,28162,,,0,"configure rabbitmq objects at startup

This feature allows to configure at startup rabbitmq objects like policies,
users, permissions, etc.
http://www.rabbitmq.com/management.html#load-definitions

The default rmq policies have been added for nova, keystone, glance, heat notifications queues so
all messages are mirrored to the rest of the cluster and expire within 70 seconds. (the expired message will
be discarded if it reaches the head of a queue)

The configuration example:
definitions:
  users:
    - name: ""test""
      password: ...
  permissions:
    - user: ""test""
      vhost: ""/""
      ...
  policies:
    - name: ""ttl_keystone""
      vhost: ""keystone""
      definition:
        message-ttl: 70000

  which will beequal to in rabbitmq notations:
{""users: [
 {
   ""name"": ""test"",
   ""password"": ...,
 },
],
""permissions"": [
 {
   ""user"": ""test"",
   ""vhost"": ""/"",
   ...
 },
],
""policies"": [
 {
   ""name"": ""ttl_keystone"",
   ""vhost"": ""keystone"",
   ""definition"":{""message-ttl"":70000}
   ...
 }
]

Change-Id: I1398e357f39ebb7dfe62a87eb33513443f22f91b
Signed-off-by: Ruslan Khanbikov <rk760n@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/579785/1 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/etc/_definitions.json.tpl', 'rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/values.yaml']",3,ed478bf6e201a3a2b56e056e85da04513b883c2e,rabbitmq-definitions," definitions: #NOTE(rk760n): ttl policy to make sure notifications from opentack services don't fill up the queues and ha to # mirror notifications to all nodes to protect tha data in case of failure policies: ha_ttl_keystone: vhost: ""keystone"" name: ""ha_ttl_keystone"" definition: #mirror messges to other nodes in rmq cluster ha-mode: ""all"" ha-sync-mode: ""automatic"" #70s message-ttl: 70000 priority: 0 applyto: queues pattern: '(notifications)\.' ha_ttl_nova: vhost: ""nova"" name: ""ha_ttl_nova"" definition: #mirror queues to other nodes in rmq cluster ha-sync-mode: ""automatic"" ha-mode: ""all"" #70s message-ttl: 70000 priority: 0 applyto: queues pattern: '(notifications)\.' ha_ttl_heat: vhost: ""heat"" name: ""ha_ttl_heat"" definition: #mirror queues to other nodes in rmq cluster ha-sync-mode: ""automatic"" ha-mode: ""all"" #70s message-ttl: 70000 priority: 0 applyto: queues pattern: '(notifications)\.' ha_ttl_glance: vhost: ""glance"" name: ""ha_ttl_glance"" definition: #mirror queues to other nodes in rmq cluster ha-sync-mode: ""automatic"" ha-mode: ""all"" #70s message-ttl: 70000 priority: 0 applyto: queues pattern: '(notifications)\.' ha_ttl_neutron: vhost: ""neutron"" name: ""ha_ttl_neutron"" definition: #mirror queues to other nodes in rmq cluster ha-sync-mode: ""automatic"" ha-mode: ""all"" #70s message-ttl: 70000 priority: 0 applyto: queues pattern: '(notifications)\.' #NOTE(rk760n): path to definitions rabbitmq will export when starting management: load_definitions: '/etc/rabbitmq/rabbitmq_definitions.json'",,124,1
openstack%2Fzun~master~I7471003a3af04c96bc859d89a59a3fed355f7ff2,openstack/zun,master,I7471003a3af04c96bc859d89a59a3fed355f7ff2,"Revert ""Modify restart_policy to spec content""",ABANDONED,2018-07-05 02:28:18.000000000,2018-07-05 03:11:20.000000000,,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-07-05 02:28:18.000000000', 'files': ['zun/common/utils.py', 'template/capsule/capsule.yaml', 'zun/tests/unit/api/test_validations.py', 'template/capsule/capsule-volume.yaml', 'zun/api/controllers/v1/capsules.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/tests/unit/common/test_utils.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f2f788f0d66c67d84376677a7e68e3fb853f2d1b', 'message': 'Revert ""Modify restart_policy to spec content""\n\nThis reverts commit 1e8503e870d09f5e77b8803783f7bd59c120753f.\n\nChange-Id: I7471003a3af04c96bc859d89a59a3fed355f7ff2\n'}]",0,580249,f2f788f0d66c67d84376677a7e68e3fb853f2d1b,4,6,1,11536,,,0,"Revert ""Modify restart_policy to spec content""

This reverts commit 1e8503e870d09f5e77b8803783f7bd59c120753f.

Change-Id: I7471003a3af04c96bc859d89a59a3fed355f7ff2
",git fetch https://review.opendev.org/openstack/zun refs/changes/49/580249/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'template/capsule/capsule.yaml', 'zun/tests/unit/api/test_validations.py', 'template/capsule/capsule-volume.yaml', 'zun/api/controllers/v1/capsules.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/tests/unit/common/test_utils.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/versions.py']",10,f2f788f0d66c67d84376677a7e68e3fb853f2d1b,,CURRENT_MAX_VER = '1.15', * 1.16 - Modify restart_policy to capsule spec contentCURRENT_MAX_VER = '1.16',26,37
openstack%2Fkolla-ansible~master~I0e3c098db9d1f0a8fda383910c05ed5efc929994,openstack/kolla-ansible,master,I0e3c098db9d1f0a8fda383910c05ed5efc929994,Update using openstack section of quickstart,MERGED,2018-05-10 09:32:43.000000000,2018-07-05 02:59:58.000000000,2018-07-05 02:59:58.000000000,"[{'_account_id': 1390}, {'_account_id': 9414}, {'_account_id': 9820}, {'_account_id': 14151}, {'_account_id': 19779}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28176}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-05-10 09:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b92f78f5bca377f1c66a6a917204952a2e51745', 'message': 'Update using openstack section of quickstart\n\nChange-Id: I0e3c098db9d1f0a8fda383910c05ed5efc929994\n'}, {'number': 2, 'created': '2018-06-27 12:38:46.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47e2b6221bb4d11f56d9b08e6098ca5557350c5a', 'message': 'Update using openstack section of quickstart\n\nChange-Id: I0e3c098db9d1f0a8fda383910c05ed5efc929994\n'}]",0,567536,47e2b6221bb4d11f56d9b08e6098ca5557350c5a,27,13,2,19779,,,0,"Update using openstack section of quickstart

Change-Id: I0e3c098db9d1f0a8fda383910c05ed5efc929994
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/567536/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,2b92f78f5bca377f1c66a6a917204952a2e51745,development_guidline,"#. Install basic OpenStack CLI clients: .. code-block:: console pip install python-openstackclient python-glanceclient python-neutronclient .. end #. OpenStack requires an openrc file where credentials for admin user etc are set. To generate this file: * For deployment or evaluation, run: .. code-block:: console kolla-ansible post-deploy . /etc/kolla/admin-openrc.sh .. end * For development, run: .. code-block:: console cd kolla-ansible/tools ./kolla-ansible post-deploy . /etc/kolla/admin-openrc.sh .. end #. Depending on how you installed Kolla-Ansible, there is a script that will create example networks, images, and so on. * For deployment or evaluation, run ``init-runonce`` script on CentOS: .. code-block:: console . /usr/share/kolla-ansible/init-runonce .. end Run ``init-runonce`` script on Ubuntu: .. code-block:: console . /usr/local/share/kolla-ansible/init-runonce .. end * For development, run: .. code-block:: console . kolla-ansible/tools/init-runonce .. end","OpenStack requires an openrc file where credentials for admin user etc are set. To generate this file run .. code-block:: console kolla-ansible post-deploy . /etc/kolla/admin-openrc.sh .. end Install basic OpenStack CLI clients: .. code-block:: console pip install python-openstackclient python-glanceclient python-neutronclient .. end Depending on how you installed Kolla-Ansible, there is script that will create example networks, images, and so on. For pip install and CentOS host: .. code-block:: console . /usr/share/kolla-ansible/init-runonce .. end For pip install and Ubuntu host: .. code-block:: console . /usr/local/share/kolla-ansible/init-runonce .. end For git pulled source: .. code-block:: console . kolla-ansible/tools/init-runonce .. end",37,24
openstack%2Fzun~master~I24cec2b92ebef0c984cbf74bac074633624c498a,openstack/zun,master,I24cec2b92ebef0c984cbf74bac074633624c498a,Modify restart_policy to spec content,MERGED,2018-05-31 07:45:37.000000000,2018-07-05 02:28:18.000000000,2018-06-11 02:04:10.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-05-31 07:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c85119951b114cfb394c8de3fe88b8298720aa2a', 'message': 'Modify restart_policy to spec content\n\nAlign with Kubernetes\n\nChange-Id: I24cec2b92ebef0c984cbf74bac074633624c498a\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}, {'number': 2, 'created': '2018-06-06 14:26:19.000000000', 'files': ['zun/common/utils.py', 'template/capsule/capsule.yaml', 'zun/tests/unit/api/test_validations.py', 'template/capsule/capsule-volume.yaml', 'zun/api/controllers/v1/capsules.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/tests/unit/common/test_utils.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/1e8503e870d09f5e77b8803783f7bd59c120753f', 'message': 'Modify restart_policy to spec content\n\nAlign with Kubernetes\n\nChange-Id: I24cec2b92ebef0c984cbf74bac074633624c498a\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}]",3,571398,1e8503e870d09f5e77b8803783f7bd59c120753f,18,6,2,22076,,,0,"Modify restart_policy to spec content

Align with Kubernetes

Change-Id: I24cec2b92ebef0c984cbf74bac074633624c498a
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
",git fetch https://review.opendev.org/openstack/zun refs/changes/98/571398/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'template/capsule/capsule.yaml', 'zun/tests/unit/api/test_validations.py', 'template/capsule/capsule-volume.yaml', 'zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/tests/unit/common/test_utils.py']",7,c85119951b114cfb394c8de3fe88b8298720aa2a,," params = ({""kind"": ""capsule"", ""spec"": { ""containers"": [{""image"": ""test1""}], ""restartPolicy"": ""Always"", self.assertEqual(spec_content[""restart_policy""], ""always"") params = (u'{""kind"": ""capsule"", ""spec"": {' u'""containers"": [{""image"": ""test1""}],' u'""restartPolicy"": ""Always""}}') self.assertEqual(spec_content[""restart_policy""], ""always"")"," params = ({""kind"": ""capsule"", ""restartPolicy"": ""Always"", ""spec"": { ""containers"": [{""image"": ""test1""}] self.assertEqual(tpl_json[""restart_policy""], ""always"") params = (u'{""kind"": ""capsule"", ""restartPolicy"": ""Always"", ""spec"": {' u'""containers"": [{""image"": ""test1""}]}}') self.assertEqual(tpl_json[""restart_policy""], ""always"")",28,23
openstack%2Fsenlin~master~Iaf9174b4a372df6fc38935a67648229bfb1ebc16,openstack/senlin,master,Iaf9174b4a372df6fc38935a67648229bfb1ebc16,Add node poll url detection type to health policy,MERGED,2018-06-18 22:17:23.000000000,2018-07-05 01:49:14.000000000,2018-07-05 01:49:14.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-06-18 22:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a0f0cf82fc0d85e982a6cc88629d549c00cb1298', 'message': ""[WIP] Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL.  If the response\nbody of the GET operation contains the string specified by\npoll_url_healthy_response in the health policy, the node is considered\nto be healthy.  If it does not contain that string, the health manager\nwill retry the GET operation the number of times specified in\npoll_url_retry_limit while sleeping the time interval specified in\npoll_url_retry_interval between each retry.  If the response body of\neach of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n\nTO-DO:\n* Fix test cases\n* Add test cases for NODE_STATUS_POLL_URL\n* Update docs\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 2, 'created': '2018-06-19 21:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b7578c0c7297c0491d7da8e751730df8ebc186ec', 'message': ""[WIP] Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nTO-DO:\n* Fix test cases\n* Add test cases for NODE_STATUS_POLL_URL\n* Update docs\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 3, 'created': '2018-06-20 20:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a036c0156754821d3389313e61140a47863ad921', 'message': ""[WIP] Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nTO-DO:\n* Fix test cases\n* Add test cases for NODE_STATUS_POLL_URL\n* Update docs\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 4, 'created': '2018-06-20 23:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/670a8a5dea27fcee0903b2e63d89f1158c6c6531', 'message': ""[WIP] Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nTO-DO:\n* Fix test cases\n* Add test cases for NODE_STATUS_POLL_URL\n* Update docs\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 5, 'created': '2018-06-24 05:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/04e77e8c47d52f1fa8084351794abe73b5dd6efe', 'message': ""[WIP] Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nTO-DO:\n* Fix test cases\n* Add test cases for NODE_STATUS_POLL_URL\n* Update docs\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 6, 'created': '2018-06-24 06:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/fa5895e45570ddb775f1164da5c41ea03d9e7f47', 'message': ""Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nThe senlin documentation and senlin-tempest-plugin will be updated to\ninclude the health policy detection type in a separate patch sets.\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 7, 'created': '2018-06-25 23:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/72bca4dd42473f1df19eea5d4776994420e95285', 'message': ""Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nThe senlin documentation and senlin-tempest-plugin will be updated to\ninclude the health policy detection type in a separate patch sets.\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}, {'number': 8, 'created': '2018-06-26 00:56:27.000000000', 'files': ['senlin/engine/health_manager.py', 'senlin/policies/health_policy.py', 'senlin/profiles/os/nova/server.py', 'releasenotes/notes/health-poll-url-236392171bb28b3f.yaml', 'examples/policies/health_policy_poll_url.yaml', 'senlin/common/config.py', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/tests/unit/policies/test_health_policy.py', 'senlin/common/utils.py', 'senlin/common/consts.py', 'senlin/tests/unit/engine/service/test_nodes.py', 'senlin/engine/service.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/profiles/base.py', 'senlin/objects/health_registry.py', 'senlin/tests/unit/profiles/test_profile_base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/309fefa68cd91113813233f16cf053ae422df795', 'message': ""Add node poll url detection type to health policy\n\nThe current implementation of health policy is able to check node health\neither using lifecycle events sent by Nova or by actively polling the\nthe node status using Nova driver.  However, neither of those detection\ntypes will detect that a node is unhealthy because the compute node on\nwhich the node is running on went down.  In that case Nova will still\nreport the node status as active even though the node is no longer\nrunning.\n\nThis change adds a new detection type that actively polls the node\nhealth using a URL specified in the health policy.  That way the user\ncan integrate Senlin health policy with another custom or 3rd party\nhealth check service.  Using this external health check service, the\nhealth policy will be able to detect the failure scenario when a compute\nnode running the node goes down.\n\nWhen a health policy with NODE_STATUS_POLL_URL is attached to a cluster,\nthe health manager performs a GET operation on the URL. The URL\nspecified in NODE_STATUS_POLL_URL can contain expansion parameters that\nare resolved by the health manager before the GET operation is executed.\nThe only valid expansion parameter at this time is {nodename}.\n\nIf the response body of the GET operation contains the string specified\nby poll_url_healthy_response in the health policy, the node is\nconsidered to be healthy.  If it does not contain that string, the\nhealth manager will retry the GET operation the number of times\nspecified in poll_url_retry_limit while sleeping the time interval\nspecified in poll_url_retry_interval between each retry.  If the\nresponse body of each of those GET operations still does not contain the\npoll_url_healthy_response string, the node is considered to be\nunhealthy.\n\nOnce a node is determined to be unhealthy, the health manager will\nattempt to recover the node using the recovery type specified in the\nhealth policy.  In the case when a compute node was shutdown, the\ndeletion of an existing node will never finish.  If node_force_recreate\nis set to True in the health policy's recovery options, the health\nmanager will wait for the time interval in node_delete_timeout before\ncontinuing to create the node even if the node deletion failed due to\ntimeout.\n\nThe detailed changes include:\n* Add new options to health policy related to node poll url detection\ntype\n* Update health manager to support node status polling by URL\n* Update server profile to handle force_recreate option\n* Add supported status to health policy\n* Add new configuration value health_check_interval_min\n\nThe senlin documentation and senlin-tempest-plugin will be updated to\ninclude the health policy detection type in a separate patch sets.\n\nChange-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16\n""}]",21,576278,309fefa68cd91113813233f16cf053ae422df795,37,6,8,27224,,,0,"Add node poll url detection type to health policy

The current implementation of health policy is able to check node health
either using lifecycle events sent by Nova or by actively polling the
the node status using Nova driver.  However, neither of those detection
types will detect that a node is unhealthy because the compute node on
which the node is running on went down.  In that case Nova will still
report the node status as active even though the node is no longer
running.

This change adds a new detection type that actively polls the node
health using a URL specified in the health policy.  That way the user
can integrate Senlin health policy with another custom or 3rd party
health check service.  Using this external health check service, the
health policy will be able to detect the failure scenario when a compute
node running the node goes down.

When a health policy with NODE_STATUS_POLL_URL is attached to a cluster,
the health manager performs a GET operation on the URL. The URL
specified in NODE_STATUS_POLL_URL can contain expansion parameters that
are resolved by the health manager before the GET operation is executed.
The only valid expansion parameter at this time is {nodename}.

If the response body of the GET operation contains the string specified
by poll_url_healthy_response in the health policy, the node is
considered to be healthy.  If it does not contain that string, the
health manager will retry the GET operation the number of times
specified in poll_url_retry_limit while sleeping the time interval
specified in poll_url_retry_interval between each retry.  If the
response body of each of those GET operations still does not contain the
poll_url_healthy_response string, the node is considered to be
unhealthy.

Once a node is determined to be unhealthy, the health manager will
attempt to recover the node using the recovery type specified in the
health policy.  In the case when a compute node was shutdown, the
deletion of an existing node will never finish.  If node_force_recreate
is set to True in the health policy's recovery options, the health
manager will wait for the time interval in node_delete_timeout before
continuing to create the node even if the node deletion failed due to
timeout.

The detailed changes include:
* Add new options to health policy related to node poll url detection
type
* Update health manager to support node status polling by URL
* Update server profile to handle force_recreate option
* Add supported status to health policy
* Add new configuration value health_check_interval_min

The senlin documentation and senlin-tempest-plugin will be updated to
include the health policy detection type in a separate patch sets.

Change-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16
",git fetch https://review.opendev.org/openstack/senlin refs/changes/78/576278/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/health_manager.py', 'senlin/engine/service.py', 'senlin/policies/health_policy.py', 'senlin/profiles/os/nova/server.py', 'senlin/profiles/base.py', 'senlin/common/utils.py', 'senlin/objects/health_registry.py', 'senlin/common/consts.py']",8,a0f0cf82fc0d85e982a6cc88629d549c00cb1298,healthpol_poll_url," LIFECYCLE_EVENTS, NODE_STATUS_POLLING, NODE_STATUS_POLL_URL, 'LIFECYCLE_EVENTS', 'NODE_STATUS_POLLING', 'NODE_STATUS_POLL_URL',"," LIFECYCLE_EVENTS, NODE_STATUS_POLLING, 'LIFECYCLE_EVENTS', 'NODE_STATUS_POLLING',",259,22
openstack%2Fsenlin~master~I4caeba85d880c5f0456efeac963ea9d792180498,openstack/senlin,master,I4caeba85d880c5f0456efeac963ea9d792180498,modify grammatical errors,MERGED,2018-06-19 13:00:26.000000000,2018-07-05 01:49:13.000000000,2018-07-05 01:49:13.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}, {'_account_id': 27511}]","[{'number': 1, 'created': '2018-06-19 13:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5dbc6fbdd6beac14d937015aa2a9754416a5d393', 'message': 'modify grammatical errors\n\nChange-Id: I4caeba85d880c5f0456efeac963ea9d792180498\n'}, {'number': 2, 'created': '2018-06-20 12:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2cf1aea096915cb79ec39c1724aefb590c053bf2', 'message': 'modify grammatical errors\n\nChange-Id: I4caeba85d880c5f0456efeac963ea9d792180498\n'}, {'number': 3, 'created': '2018-06-27 13:06:52.000000000', 'files': ['api-ref/source/parameters.yaml', 'senlin/engine/health_manager.py', 'senlin/policies/lb_policy.py', 'senlin/db/api.py', 'FEATURES.rst', 'doc/specs/workflow-recover.rst', 'senlin/policies/affinity_policy.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/446e713d04052e1997ad24c3885a761779fcd967', 'message': 'modify grammatical errors\n\nChange-Id: I4caeba85d880c5f0456efeac963ea9d792180498\n'}]",0,576513,446e713d04052e1997ad24c3885a761779fcd967,20,5,3,27511,,,0,"modify grammatical errors

Change-Id: I4caeba85d880c5f0456efeac963ea9d792180498
",git fetch https://review.opendev.org/openstack/senlin refs/changes/13/576513/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'senlin/db/api.py']",2,5dbc6fbdd6beac14d937015aa2a9754416a5d393,0619_modify_typo, '''Check whether an action has been locked(by an owner).''', '''Check whether an action has been locked(by a owner).''',2,2
openstack%2Fsenlin~master~I6d03ebde27b93955b97368846754fbbb95a20251,openstack/senlin,master,I6d03ebde27b93955b97368846754fbbb95a20251,Add space to error messages,MERGED,2018-07-03 17:12:40.000000000,2018-07-05 01:44:17.000000000,2018-07-05 01:44:17.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-07-03 17:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0b1f85e7712b8bfefa7e72589a11d26c15163eee', 'message': 'Add space to error messages\n\nChange-Id: I6d03ebde27b93955b97368846754fbbb95a20251\n'}, {'number': 2, 'created': '2018-07-03 20:18:48.000000000', 'files': ['senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_delete.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/7b945457bb799e99a1c998ccca2d499c36d89651', 'message': 'Add space to error messages\n\nChange-Id: I6d03ebde27b93955b97368846754fbbb95a20251\n'}]",0,579929,7b945457bb799e99a1c998ccca2d499c36d89651,11,4,2,27224,,,0,"Add space to error messages

Change-Id: I6d03ebde27b93955b97368846754fbbb95a20251
",git fetch https://review.opendev.org/openstack/senlin refs/changes/29/579929/2 && git format-patch -1 --stdout FETCH_HEAD,['senlin/engine/actions/cluster_action.py'],1,0b1f85e7712b8bfefa7e72589a11d26c15163eee,stop_node_before_delete," return res, 'Failed in stopping nodes: %s' % reason reason = 'Failed in deleting nodes: %s' % reason"," return res, 'Failed in stopping nodes:%s' % reason reason = 'Failed in deleting nodes:%s' % reason",2,2
openstack%2Fsenlin~master~I2248419cc7b1e359c9a189fae97d7883bab3ec84,openstack/senlin,master,I2248419cc7b1e359c9a189fae97d7883bab3ec84,Add cluster option cluster.stop_node_before_delete,MERGED,2018-06-27 17:03:41.000000000,2018-07-05 01:42:08.000000000,2018-07-05 01:42:08.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-06-27 17:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/40bfe7089b53bc0915af134a1d9f41da971ee0c7', 'message': ""[WIP] Add cluster option cluster.stop_node_before_delete\n\nThis adds 'cluster.stop_node_before_delete' as a new boolean cluster\nconfig option. If true, a cluster will issue a stop to a node and then a\ndelete for all cluster operations that trigger a node delete. If not\nset, the config option defaults to False and the cluster will perform a\nregular node delete. The cluster operations affected by this change are\ncluster delete, scale-in and resize.\n\nChange-Id: I2248419cc7b1e359c9a189fae97d7883bab3ec84\n""}, {'number': 2, 'created': '2018-06-29 18:01:06.000000000', 'files': ['senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_delete.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/e7dae6c45830eb700afdce3f30c7f4bdc80c32fd', 'message': ""Add cluster option cluster.stop_node_before_delete\n\nThis adds 'cluster.stop_node_before_delete' as a new boolean cluster\nconfig option. If true, a cluster will issue a stop to a node and then a\ndelete for all cluster operations that trigger a node delete. If not\nset, the config option defaults to False and the cluster will perform a\nregular node delete. The cluster operations affected by this change are\ncluster delete, scale-in and resize.\n\nChange-Id: I2248419cc7b1e359c9a189fae97d7883bab3ec84\n""}]",11,578487,e7dae6c45830eb700afdce3f30c7f4bdc80c32fd,15,6,2,27224,,,0,"Add cluster option cluster.stop_node_before_delete

This adds 'cluster.stop_node_before_delete' as a new boolean cluster
config option. If true, a cluster will issue a stop to a node and then a
delete for all cluster operations that trigger a node delete. If not
set, the config option defaults to False and the cluster will perform a
regular node delete. The cluster operations affected by this change are
cluster delete, scale-in and resize.

Change-Id: I2248419cc7b1e359c9a189fae97d7883bab3ec84
",git fetch https://review.opendev.org/openstack/senlin refs/changes/87/578487/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_delete.py']",2,40bfe7089b53bc0915af134a1d9f41da971ee0c7,stop_node_before_delete," cluster = mock.Mock(id='FAKE_CLUSTER', desired_capacity=100, config={}) name='node_delete_NODE_ID', cause='Derived Action', inputs={}) def test__delete_nodes_single_stop_node(self, mock_wait, mock_start, mock_dep, mock_action, mock_update, mock_load): # prepare mocks cluster = mock.Mock(id='FAKE_CLUSTER', desired_capacity=100, config={'cluster.stop_node_before_delete': True}) # cluster action is real mock_load.return_value = cluster action = ca.ClusterAction(cluster.id, 'CLUSTER_ACTION', self.ctx) action.id = 'CLUSTER_ACTION_ID' action.inputs = {'destroy_after_deletion': False} mock_wait.return_value = (action.RES_OK, 'All dependents completed') mock_action.return_value = 'NODE_ACTION_ID' # do it res_code, res_msg = action._delete_nodes(['NODE_ID']) # assertions self.assertEqual(action.RES_OK, res_code) self.assertEqual('All dependents completed', res_msg) create_actions = [ mock.call(action.context, 'NODE_ID', 'NODE_OPERATION', name='node_delete_NODE_ID', cause='Derived Action', inputs={'operation': 'stop'}), mock.call(action.context, 'NODE_ID', 'NODE_DELETE', name='node_delete_NODE_ID', cause='Derived Action', inputs={}) ] mock_action.assert_has_calls(create_actions) dep_calls = [ mock.call(action.context, ['NODE_ACTION_ID'], 'CLUSTER_ACTION_ID'), mock.call(action.context, ['NODE_ACTION_ID'], 'CLUSTER_ACTION_ID'), ] mock_dep.assert_has_calls(dep_calls) update_calls = [ mock.call(action.context, 'NODE_ACTION_ID', {'status': 'READY'}), mock.call(action.context, 'NODE_ACTION_ID', {'status': 'READY'}) ] mock_update.assert_has_calls(update_calls) mock_start.assert_has_calls([mock.call(), mock.call()]) mock_wait.assert_has_calls([mock.call(), mock.call()]) self.assertEqual(['NODE_ID'], action.outputs['nodes_removed']) cluster.remove_node.assert_called_once_with('NODE_ID') @mock.patch.object(ao.Action, 'update') @mock.patch.object(ab.Action, 'create') @mock.patch.object(dobj.Dependency, 'create') @mock.patch.object(dispatcher, 'start_action') @mock.patch.object(ca.ClusterAction, '_wait_for_dependents') cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) name='node_delete_NODE_ID', cause='Derived Action', inputs={}) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) name='node_delete_NODE_ID', cause='Derived Action with Lifecycle Hook', inputs={}) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) name='node_delete_NODE_ID', cause='Derived Action with Lifecycle Hook', inputs={}) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) name='node_delete_NODE_ID', cause='Derived Action with Lifecycle Hook', inputs={}) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100, config={}) cluster = mock.Mock(id='ID', config={}) def test__remove_nodes_normally(self, mock_wait, mock_start, mock_dep, res_code, res_msg = action._remove_nodes_normally('NODE_REMOVE', def test__remove_nodes_with_hook(self, mock_wait, mock_start, mock_post, res_code, res_msg = action._remove_nodes_with_hook( name='node_delete_NODE_ID', cause='Derived Action with Lifecycle Hook', inputs={}) res_code, res_msg = action._remove_nodes_with_hook( name='node_delete_NODE_1', cause='Derived Action with Lifecycle Hook', inputs={}), name='node_delete_NODE_2', cause='Derived Action with Lifecycle Hook', inputs={})"," cluster = mock.Mock(id='FAKE_CLUSTER', desired_capacity=100) name='node_delete_NODE_ID', cause='Derived Action') cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) name='node_delete_NODE_ID', cause='Derived Action') cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) name='node_delete_NODE_ID', cause='Derived Action with ' 'Lifecycle Hook') cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) name='node_delete_NODE_ID', cause='Derived Action with ' 'Lifecycle Hook') cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) name='node_delete_NODE_ID', cause='Derived Action with ' 'Lifecycle Hook') cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) cluster = mock.Mock(id='ID') def test__delete_nodes_normally(self, mock_wait, mock_start, mock_dep, res_code, res_msg = action._delete_nodes_normally('NODE_REMOVE', def test__delete_nodes_with_hook(self, mock_wait, mock_start, mock_post, res_code, res_msg = action._delete_nodes_with_hook( name='node_delete_NODE_ID', cause='Derived Action with ' 'Lifecycle Hook') res_code, res_msg = action._delete_nodes_with_hook( name='node_delete_NODE_1', cause='Derived Action with ' 'Lifecycle Hook'), name='node_delete_NODE_2', cause='Derived Action with ' 'Lifecycle Hook')",106,33
openstack%2Fpuppet-openstack-integration~master~I539aaa03671f6fdd59fcd372ffa9904541fb8a4c,openstack/puppet-openstack-integration,master,I539aaa03671f6fdd59fcd372ffa9904541fb8a4c,Remove tripleo-puppet-ci-centos-7-undercloud-oooq from gate,ABANDONED,2018-07-05 01:36:09.000000000,2018-07-05 01:40:10.000000000,,[],"[{'number': 1, 'created': '2018-07-05 01:36:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5c62b5a24154d2e84e944c67928274ce0cafb6de', 'message': 'Remove tripleo-puppet-ci-centos-7-undercloud-oooq from gate\n\ntripleo-puppet-ci-centos-7-undercloud-oooq is non voting, we want to\nremove it from the gate as well.\n\nChange-Id: I539aaa03671f6fdd59fcd372ffa9904541fb8a4c\n'}]",0,580243,5c62b5a24154d2e84e944c67928274ce0cafb6de,2,0,1,3153,,,0,"Remove tripleo-puppet-ci-centos-7-undercloud-oooq from gate

tripleo-puppet-ci-centos-7-undercloud-oooq is non voting, we want to
remove it from the gate as well.

Change-Id: I539aaa03671f6fdd59fcd372ffa9904541fb8a4c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/43/580243/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5c62b5a24154d2e84e944c67928274ce0cafb6de,nonvoting,, - tripleo-puppet-ci-centos-7-undercloud-oooq,0,1
openstack%2Fmagnum~master~I43e82a53f5ee2f97d851b31db7a63f47de20015e,openstack/magnum,master,I43e82a53f5ee2f97d851b31db7a63f47de20015e,Do not repeat pull images when container recreate in magnum cluster,ABANDONED,2018-06-15 07:23:02.000000000,2018-07-05 01:39:34.000000000,,"[{'_account_id': 6484}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-15 07:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/757693702e361711e81cdff1d3dfca40f29f8d3b', 'message': 'Do not repeat pull images when container recreate\nin magnum cluster\n\nChange-Id: I43e82a53f5ee2f97d851b31db7a63f47de20015e\n'}, {'number': 2, 'created': '2018-07-04 08:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0772e1e23711ef9667e7e9f07df44ff10deabd03', 'message': 'Do not repeat pull images when container recreate\nin magnum cluster\n\nChange-Id: I43e82a53f5ee2f97d851b31db7a63f47de20015e\nStory: 2002572\nTask: 22139\n'}, {'number': 3, 'created': '2018-07-04 08:52:33.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-coredns.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring'], 'web_link': 'https://opendev.org/openstack/magnum/commit/66d5ce9d337cee8ee3bcb4a8a8429daf3e6060e8', 'message': 'Do not repeat pull images when container recreate in magnum cluster\n\nChange-Id: I43e82a53f5ee2f97d851b31db7a63f47de20015e\nStory: 2002572\nTask: 22139\n'}]",0,575663,66d5ce9d337cee8ee3bcb4a8a8429daf3e6060e8,8,2,3,25311,,,0,"Do not repeat pull images when container recreate in magnum cluster

Change-Id: I43e82a53f5ee2f97d851b31db7a63f47de20015e
Story: 2002572
Task: 22139
",git fetch https://review.opendev.org/openstack/magnum refs/changes/63/575663/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-coredns.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring']",3,757693702e361711e81cdff1d3dfca40f29f8d3b,imagepull, imagePullPolicy: IfNotPresent, imagePullPolicy: Always,3,3
openstack%2Foslo.messaging~master~I89b785c91738ab62e3f42da42c431b9df8ccfd70,openstack/oslo.messaging,master,I89b785c91738ab62e3f42da42c431b9df8ccfd70,Switch to stestr,MERGED,2018-07-03 02:55:20.000000000,2018-07-05 01:32:38.000000000,2018-07-04 13:03:07.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 02:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f499764f84c2411e4795661322805256163ba1b2', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I89b785c91738ab62e3f42da42c431b9df8ccfd70\n""}, {'number': 2, 'created': '2018-07-04 01:31:34.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7e5be7c54c02cac0262c39c621d139c2a7ee4833', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I89b785c91738ab62e3f42da42c431b9df8ccfd70\n""}]",10,579743,7e5be7c54c02cac0262c39c621d139c2a7ee4833,11,3,2,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I89b785c91738ab62e3f42da42c431b9df8ccfd70
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/43/579743/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,f499764f84c2411e4795661322805256163ba1b2,stestr,[DEFAULT] test_path=./oslo_messaging/tests top_path=./ ,,18,17
openstack%2Fpuppet-tripleo~master~I271559d040853c0399ab5c282b8dcdeefa7abcab,openstack/puppet-tripleo,master,I271559d040853c0399ab5c282b8dcdeefa7abcab,fix tox python3 overrides,ABANDONED,2018-07-03 08:28:36.000000000,2018-07-05 01:29:45.000000000,,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-03 08:28:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cb56e6589f0ddd884da3cf09a388aa70cfa0c6ae', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because of that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I271559d040853c0399ab5c282b8dcdeefa7abcab\n'}]",0,579806,cb56e6589f0ddd884da3cf09a388aa70cfa0c6ae,6,3,1,28427,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because of that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I271559d040853c0399ab5c282b8dcdeefa7abcab
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/579806/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb56e6589f0ddd884da3cf09a388aa70cfa0c6ae,fix_tox_python3_overrides,basepython = python3,,1,0
openstack%2Foslo.middleware~master~I9b230222866d41a12713f321cee88da896ba76a1,openstack/oslo.middleware,master,I9b230222866d41a12713f321cee88da896ba76a1,Switch to stestr,MERGED,2018-07-03 04:24:39.000000000,2018-07-05 01:21:18.000000000,2018-07-04 11:57:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 04:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/7f0d7b9e4d18b8fdb6e0733f2e0eff464314fe66', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I9b230222866d41a12713f321cee88da896ba76a1\n""}, {'number': 2, 'created': '2018-07-03 06:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/6a1ceb6053ffef51465133550e475689d56099c4', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I9b230222866d41a12713f321cee88da896ba76a1\n""}, {'number': 3, 'created': '2018-07-03 08:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/fb9ab5ecb46ae120171561b65d8a9592c309533e', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I9b230222866d41a12713f321cee88da896ba76a1\n""}, {'number': 4, 'created': '2018-07-04 01:18:08.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/48ec101f159f2345bdadb688fe2d35b08a038686', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I9b230222866d41a12713f321cee88da896ba76a1\n""}]",6,579759,48ec101f159f2345bdadb688fe2d35b08a038686,15,3,4,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I9b230222866d41a12713f321cee88da896ba76a1
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/59/579759/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,7f0d7b9e4d18b8fdb6e0733f2e0eff464314fe66,stestr,[DEFAULT] test_path=./oslo_middleware/tests top_path=./ ,,7,8
openstack%2Fsenlin~master~I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96,openstack/senlin,master,I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96,Add config option to user documentation,MERGED,2018-06-26 18:11:35.000000000,2018-07-05 01:16:40.000000000,2018-07-05 01:16:40.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-06-26 18:11:35.000000000', 'files': ['doc/source/user/clusters.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b02acea3e6a99a6b2103e63f2c64da3e0ac9f172', 'message': 'Add config option to user documentation\n\nThis adds user documentation for the node.name.format config property\nadded in Queens [1].\n\n[1] http://git.openstack.org/cgit/openstack/senlin/tree/releasenotes/notes/node-name-formatter-284b768be7fbe6c6.yaml\n\nChange-Id: I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96\n'}]",0,578165,b02acea3e6a99a6b2103e63f2c64da3e0ac9f172,8,4,1,27224,,,0,"Add config option to user documentation

This adds user documentation for the node.name.format config property
added in Queens [1].

[1] http://git.openstack.org/cgit/openstack/senlin/tree/releasenotes/notes/node-name-formatter-284b768be7fbe6c6.yaml

Change-Id: I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96
",git fetch https://review.opendev.org/openstack/senlin refs/changes/65/578165/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/clusters.rst'],1,b02acea3e6a99a6b2103e63f2c64da3e0ac9f172,add_doc_node_name_format,"You can use the option :option:`--config` to pass in key-value pairs to the cluster to be created. The following config properties are supported: - ``node.name.format``: Specify how cluster nodes are automatically named. The value can contain placeholders like ``$nI`` for node index padded with n number of zeros to the left, or ``$nR`` for random string of length n. ",,7,0
openstack%2Fsenlin~master~I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0,openstack/senlin,master,I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0,add a link to release notes in README file,MERGED,2018-06-19 12:48:03.000000000,2018-07-05 01:16:40.000000000,2018-07-05 01:16:39.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-06-19 12:48:03.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2183eb149ffdd02ad1347877659b72009244da91', 'message': 'add a link to release notes in README file\n\nChange-Id: I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0\n'}]",0,576508,2183eb149ffdd02ad1347877659b72009244da91,7,3,1,27511,,,0,"add a link to release notes in README file

Change-Id: I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0
",git fetch https://review.opendev.org/openstack/senlin refs/changes/08/576508/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2183eb149ffdd02ad1347877659b72009244da91,0619_add_link_to_release_note, Release notes ------------------ - Release notes: https://docs.openstack.org/releasenotes/senlin/,,4,0
openstack%2Fsenlin~master~I8e77f1f8a98bcda81308504676fad74f9194bddf,openstack/senlin,master,I8e77f1f8a98bcda81308504676fad74f9194bddf,Update auth_url in install docs,MERGED,2018-05-12 16:07:23.000000000,2018-07-05 01:01:30.000000000,2018-07-05 01:01:30.000000000,"[{'_account_id': 8246}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 25674}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-12 16:07:23.000000000', 'files': ['doc/source/install/install-source.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/32242332bca33468b0897ace016919103867e067', 'message': 'Update auth_url in install docs\n\nBeginning with the Queens release, the keystone install guide\nrecommends running all interfaces on the same port. This patch\nupdates the install guide to reflect that change.\n\nChange-Id: I8e77f1f8a98bcda81308504676fad74f9194bddf\n'}]",0,568001,32242332bca33468b0897ace016919103867e067,9,5,1,22165,,,0,"Update auth_url in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port. This patch
updates the install guide to reflect that change.

Change-Id: I8e77f1f8a98bcda81308504676fad74f9194bddf
",git fetch https://review.opendev.org/openstack/senlin refs/changes/01/568001/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-source.rst', 'doc/source/install/install-rdo.rst']",2,32242332bca33468b0897ace016919103867e067,, identity_uri = http://<HOST>:5000, identity_uri = http://<HOST>:35357,2,2
openstack%2Fpaunch~master~Id4b4b7897d8f7da4eda33c1e5187514c234f3a79,openstack/paunch,master,Id4b4b7897d8f7da4eda33c1e5187514c234f3a79,Implement group_add,MERGED,2018-06-28 01:17:56.000000000,2018-07-05 00:33:11.000000000,2018-07-05 00:33:11.000000000,"[{'_account_id': 6926}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 01:17:56.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/56d62300029e3530ad22878bfdf783cdc144de36', 'message': 'Implement group_add\n\nThis is part of the compose v2 spec, and may prove useful to allowing\nthe mistral-executor container to have membership to the docker group\n\nBlueprint: container-prepare-workflow\nChange-Id: Id4b4b7897d8f7da4eda33c1e5187514c234f3a79\n'}]",0,578620,56d62300029e3530ad22878bfdf783cdc144de36,13,4,1,4571,,,0,"Implement group_add

This is part of the compose v2 spec, and may prove useful to allowing
the mistral-executor container to have membership to the docker group

Blueprint: container-prepare-workflow
Change-Id: Id4b4b7897d8f7da4eda33c1e5187514c234f3a79
",git fetch https://review.opendev.org/openstack/paunch refs/changes/20/578620/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py']",2,56d62300029e3530ad22878bfdf783cdc144de36,bp/container-prepare-workflow," self.list_arg(cconfig, cmd, 'group_add', '--group-add')",,4,1
openstack%2Fkolla-ansible~master~I04bd9cf102a1aa0a4d159a11c384118aba45257d,openstack/kolla-ansible,master,I04bd9cf102a1aa0a4d159a11c384118aba45257d,Make dev mode available to glance-registry,MERGED,2018-04-15 16:10:43.000000000,2018-07-05 00:31:10.000000000,2018-04-21 16:03:25.000000000,"[{'_account_id': 1390}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-15 16:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/162087e6f467f796e356605199fc6a4f88e0c7cd', 'message': 'Make the glance-register can use dev mode\n\nChange-Id: I04bd9cf102a1aa0a4d159a11c384118aba45257d\n'}, {'number': 2, 'created': '2018-04-15 16:20:07.000000000', 'files': ['ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/654196d67499c35444127ffd798cf8ff74151888', 'message': 'Make dev mode available to glance-registry\n\nChange-Id: I04bd9cf102a1aa0a4d159a11c384118aba45257d\n'}]",1,561467,654196d67499c35444127ffd798cf8ff74151888,10,4,2,22165,,,0,"Make dev mode available to glance-registry

Change-Id: I04bd9cf102a1aa0a4d159a11c384118aba45257d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/561467/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/defaults/main.yml'],1,162087e6f467f796e356605199fc6a4f88e0c7cd,," - ""{{ kolla_dev_repos_directory ~ '/glance/glance:/var/lib/kolla/venv/lib/python2.7/site-packages/glance' if glance_dev_mode | bool else '' }}""",,1,0
openstack%2Fcongress~master~Ieb2efb8237ab787e44ba5309104531cb861ac04b,openstack/congress,master,Ieb2efb8237ab787e44ba5309104531cb861ac04b,minor fix to test case,MERGED,2018-06-29 18:47:25.000000000,2018-07-05 00:29:42.000000000,2018-07-05 00:29:41.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-06-29 18:47:25.000000000', 'files': ['congress/tests/datasources/test_datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/f782ffc73f23645d8718acab5a97e251caf0a0fd', 'message': ""minor fix to test case\n\n'parent_key': 'id'  refers to a column which does not exist in the parent\ntranslator.\nFixed by changing to 'col_id' defined on line 1199 in parent translator.\n\nChange-Id: Ieb2efb8237ab787e44ba5309104531cb861ac04b\n""}]",0,579247,f782ffc73f23645d8718acab5a97e251caf0a0fd,7,3,1,18591,,,0,"minor fix to test case

'parent_key': 'id'  refers to a column which does not exist in the parent
translator.
Fixed by changing to 'col_id' defined on line 1199 in parent translator.

Change-Id: Ieb2efb8237ab787e44ba5309104531cb861ac04b
",git fetch https://review.opendev.org/openstack/congress refs/changes/47/579247/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/tests/datasources/test_datasource_driver.py'],1,f782ffc73f23645d8718acab5a97e251caf0a0fd,," 'parent-key': 'id_col', 'val-col': 'val',"," 'parent-key': 'id', 'val-col': 'val',",1,1
openstack%2Fopenstack-helm~master~I42d83b5f6ff63368f5497f6ab020718e87078576,openstack/openstack-helm,master,I42d83b5f6ff63368f5497f6ab020718e87078576,Fix the gnocchi home,MERGED,2018-05-15 07:17:28.000000000,2018-07-05 00:27:29.000000000,2018-05-19 16:11:11.000000000,"[{'_account_id': 14151}, {'_account_id': 20466}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-15 07:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/efb1d524df505da0070e323fe56c91c39c2a94fc', 'message': 'Fix the gnocchi home\n\nChange-Id: I42d83b5f6ff63368f5497f6ab020718e87078576\n'}, {'number': 2, 'created': '2018-05-15 07:18:46.000000000', 'files': ['gnocchi/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e98b5404bebe574f80d37a21f7095fbc53c07cee', 'message': 'Fix the gnocchi home\n\nChange-Id: I42d83b5f6ff63368f5497f6ab020718e87078576\n'}]",2,568479,e98b5404bebe574f80d37a21f7095fbc53c07cee,13,6,2,22165,,,0,"Fix the gnocchi home

Change-Id: I42d83b5f6ff63368f5497f6ab020718e87078576
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/568479/2 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/Chart.yaml'],1,efb1d524df505da0070e323fe56c91c39c2a94fc,,home: https://gnocchi.xyz/ ,home: https://docs.openstack.org/developer/gnocchi,1,1
openstack%2Foctavia~stable%2Fqueens~I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,openstack/octavia,stable/queens,I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,[amphora-agent] add local net to routing table 1,MERGED,2018-07-03 07:38:27.000000000,2018-07-04 23:23:01.000000000,2018-07-04 23:23:01.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 8871}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26086}]","[{'number': 1, 'created': '2018-07-03 07:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eed5056bfaf738947d7953c0c805273d84e97372', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n(cherry picked from commit 1fa91ab0c9c6c7530302da0654db0e796202c0a0)\n'}, {'number': 2, 'created': '2018-07-03 07:38:50.000000000', 'files': ['octavia/common/utils.py', 'releasenotes/notes/fix-route-table-b2ec0aa7b92d2abc.yaml', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/tests/unit/common/test_utils.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_route_ethX.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a99f70f7c7d1c8131ce02d75c3090bd5b231ec07', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22716\n(cherry picked from commit 1fa91ab0c9c6c7530302da0654db0e796202c0a0)\n'}]",0,579795,a99f70f7c7d1c8131ce02d75c3090bd5b231ec07,17,6,2,6469,,,0,"[amphora-agent] add local net to routing table 1

ensure local route is added to table 1 routing table to prevent
all traffic being routed through the default gateway

Change-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19
Story: 2002691
Task: 22716
(cherry picked from commit 1fa91ab0c9c6c7530302da0654db0e796202c0a0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/579795/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'releasenotes/notes/fix-route-table-b2ec0aa7b92d2abc.yaml', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/common/test_utils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_route_ethX.conf.j2']",7,eed5056bfaf738947d7953c0c805273d84e97372,story/2002691-stable/queens,{{ network }} dev {{ interface }} src {{ vip }} scope link table 1,,56,4
openstack%2Fcinder~master~Ifb778dd9d418e9a638a385db585add55698d7e21,openstack/cinder,master,Ifb778dd9d418e9a638a385db585add55698d7e21,Fix time convert error in testcases.,MERGED,2018-06-27 08:20:26.000000000,2018-07-04 22:44:15.000000000,2018-07-04 22:44:15.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-27 08:20:26.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ac8be26a9d62bb7507eb275e6870280c2a4224d', 'message': ""Fix time convert error in testcases.\n\nThe converted time differs via different timezones, this patch replace\nthe expected value with 'mock.ANY' to avoid testcase failure.\n\nChange-Id: Ifb778dd9d418e9a638a385db585add55698d7e21\n""}]",0,578314,0ac8be26a9d62bb7507eb275e6870280c2a4224d,29,24,1,23083,,,0,"Fix time convert error in testcases.

The converted time differs via different timezones, this patch replace
the expected value with 'mock.ANY' to avoid testcase failure.

Change-Id: Ifb778dd9d418e9a638a385db585add55698d7e21
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/578314/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py'],1,0ac8be26a9d62bb7507eb275e6870280c2a4224d,bug/fix_time_convert_error," 'timestamp': mock.ANY}, 'timestamp': mock.ANY}, 'timestamp': mock.ANY},"," 'timestamp': '2017/12/08, 20:01:18'}, 'timestamp': '2017/12/08, 20:01:18'}, 'timestamp': '2017/12/08, 20:01:18'},",3,3
openstack%2Frequirements~stable%2Fqueens~I902a66891e2f1f35434f794c2a20ac9929547bdf,openstack/requirements,stable/queens,I902a66891e2f1f35434f794c2a20ac9929547bdf,update constraint for cliff to new release 2.11.1,MERGED,2018-07-03 14:06:32.000000000,2018-07-04 21:51:32.000000000,2018-07-04 21:51:31.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 14:06:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c793a23a2714dd9a68466adef2cb2e73227f5fde', 'message': 'update constraint for cliff to new release 2.11.1\n\nChange-Id: I902a66891e2f1f35434f794c2a20ac9929547bdf\nmeta:version: 2.11.1\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Commit: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Change-Id: I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,579878,c793a23a2714dd9a68466adef2cb2e73227f5fde,16,4,1,11131,,,0,"update constraint for cliff to new release 2.11.1

Change-Id: I902a66891e2f1f35434f794c2a20ac9929547bdf
meta:version: 2.11.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/579878/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c793a23a2714dd9a68466adef2cb2e73227f5fde,new-release,cliff===2.11.1,cliff===2.11.0,1,1
openstack%2Fironic~master~I494a51422de3701632b6c348357670a158a09d00,openstack/ironic,master,I494a51422de3701632b6c348357670a158a09d00,iDRAC RAID10 creation with greater than 16 drives,ABANDONED,2018-06-29 14:16:57.000000000,2018-07-04 21:06:22.000000000,,"[{'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 14:16:57.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2084287d74fc9bef20177b0867a7146320aa8560', 'message': ""iDRAC RAID10 creation with greater than 16 drives\n\nThis patch enables creation of large RAID10's with greater than 16\ndrives when using the iDRAC hardware type.  Best practice is to not\npass span length and span depth when creating a RAID10.  In this\ncase, the iDRAC will calculate these values using information queried\nfrom the RAID controller.\n\nSee this white paper on intelligent mirroring for more information:\nhttps://www.dell.com/support/article/us/en/04/sln111362/\nintelligent-mirroring-and-enhanced-raid-10-aka-raid-10e-?lang=en\n\nChange-Id: I494a51422de3701632b6c348357670a158a09d00\nTask: # 22634\nStory: #2002771\n""}]",0,579171,2084287d74fc9bef20177b0867a7146320aa8560,9,6,1,10250,,,0,"iDRAC RAID10 creation with greater than 16 drives

This patch enables creation of large RAID10's with greater than 16
drives when using the iDRAC hardware type.  Best practice is to not
pass span length and span depth when creating a RAID10.  In this
case, the iDRAC will calculate these values using information queried
from the RAID controller.

See this white paper on intelligent mirroring for more information:
https://www.dell.com/support/article/us/en/04/sln111362/
intelligent-mirroring-and-enhanced-raid-10-aka-raid-10e-?lang=en

Change-Id: I494a51422de3701632b6c348357670a158a09d00
Task: # 22634
Story: #2002771
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/579171/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py']",2,2084287d74fc9bef20177b0867a7146320aa8560,, # Best practice is to not pass span_length and span_depth when creating a # RAID10. The iDRAC will dynamically calculate these values using maximum # values obtained from the RAID controller. logical_disk['span_depth'] = None logical_disk['span_length'] = None if logical_disk['raid_level'] != '1+0': logical_disk['span_depth'] = spans_count logical_disk['span_length'] = disks_per_span, logical_disk['span_depth'] = spans_count logical_disk['span_length'] = disks_per_span,60,3
openstack%2Fheat~master~Iec6f3606c9fdf8474f393b0990356f34d38bcf75,openstack/heat,master,Iec6f3606c9fdf8474f393b0990356f34d38bcf75,Support region_name for software deployment,MERGED,2018-07-02 08:18:17.000000000,2018-07-04 21:04:05.000000000,2018-07-04 16:31:06.000000000,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 08:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ce0100618d46c2dcb1cd113c1ab235148091096b', 'message': ""Support region_name for software deployment\n\nIn magnum, we're running into a problem that the heat-container-agent can't\nget the region name. As a result, it can't get the correct Heat endpoint,\nwhich is causing problems. This patch fixes this from heat side.\n\nTask: 22661\nStory: 2002781\n\nChange-Id: Iec6f3606c9fdf8474f393b0990356f34d38bcf75\n""}, {'number': 2, 'created': '2018-07-02 18:52:02.000000000', 'files': ['heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fe7d98bdde01cbf60bbf09bf46c5c6990f6b807e', 'message': ""Support region_name for software deployment\n\nIn magnum, we're running into a problem that the heat-container-agent can't\nget the region name. As a result, it can't get the correct Heat endpoint,\nwhich is causing problems. This patch fixes this from heat side.\n\nTask: 22661\nStory: 2002781\n\nChange-Id: Iec6f3606c9fdf8474f393b0990356f34d38bcf75\n""}]",1,579485,fe7d98bdde01cbf60bbf09bf46c5c6990f6b807e,12,6,2,6484,,,0,"Support region_name for software deployment

In magnum, we're running into a problem that the heat-container-agent can't
get the region name. As a result, it can't get the correct Heat endpoint,
which is causing problems. This patch fixes this from heat side.

Task: 22661
Story: 2002781

Change-Id: Iec6f3606c9fdf8474f393b0990356f34d38bcf75
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/579485/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/software_deployment.py']",2,ce0100618d46c2dcb1cd113c1ab235148091096b,story/2002781," DEPLOY_QUEUE_ID, DEPLOY_REGION_NAME 'deploy_queue_id', 'deploy_region_name' yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))", DEPLOY_QUEUE_ID 'deploy_queue_id',7,4
openstack%2Fsahara-dashboard~master~Iaf272af9919f8a69562c0a469130bbf8628936cf,openstack/sahara-dashboard,master,Iaf272af9919f8a69562c0a469130bbf8628936cf,Goodbye mox - no more needed,MERGED,2018-07-04 15:51:33.000000000,2018-07-04 20:16:15.000000000,2018-07-04 20:16:15.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 15:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/bceb4183b4f3f1c55209b0caec2b3b3492a8a037', 'message': 'Goodbye mox - no more needed\n\nThe porting to mock is completed. This fulfills the community goal\n""Remove Use of mox/mox3 for Testing"" set for Rocky:\nhttps://governance.openstack.org/tc/goals/rocky/mox_removal.html\n\nChange-Id: Iaf272af9919f8a69562c0a469130bbf8628936cf\n'}, {'number': 2, 'created': '2018-07-04 17:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/90b6576d89902fd929ac3d989259484db660d505', 'message': 'Goodbye mox - no more needed (almost)\n\nThe porting to mock of sahara-dashboard is complete.\nThis fulfills the community goal\n""Remove Use of mox/mox3 for Testing"" set for Rocky:\nhttps://governance.openstack.org/tc/goals/rocky/mox_removal.html\n\nRight now mox3 remains in lower-requirements.txt because it\'s\nneeded by few Horizon tests classes. The lower-requirement job\ninstalls Horizon as library, so its test requirements are not\npulled automatically as it happens for normal unit tests\nof sahara-dashboard.\n\nChange-Id: Iaf272af9919f8a69562c0a469130bbf8628936cf\n'}, {'number': 3, 'created': '2018-07-04 17:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/baeeb69f7a3d89750058f6e58be3d5c2f85aa716', 'message': 'Goodbye mox - no more needed\n\nThe porting to mock of sahara-dashboard is complete.\nThis fulfills the community goal\n""Remove Use of mox/mox3 for Testing"" set for Rocky:\nhttps://governance.openstack.org/tc/goals/rocky/mox_removal.html\n\nRaise the requirement to the Rocky M2 release of Horizon,\nwhich drops the usage of mox by default (it should be\nexplicitly enabled). Without a forced import from Horizon\nthe mox dependencies can be dropped here.\n\nChange-Id: Iaf272af9919f8a69562c0a469130bbf8628936cf\n'}, {'number': 4, 'created': '2018-07-04 17:39:27.000000000', 'files': ['sahara_dashboard/content/data_processing/clusters/image_registry/tests.py', 'test-requirements.txt', 'lower-constraints.txt', 'sahara_dashboard/content/data_processing/clusters/cluster_templates/tests.py', 'sahara_dashboard/content/data_processing/jobs/job_templates/tests.py', 'requirements.txt', 'sahara_dashboard/content/data_processing/clusters/nodegroup_templates/tests.py', 'sahara_dashboard/content/data_processing/jobs/jobs/tests.py', 'sahara_dashboard/test/helpers.py', 'sahara_dashboard/content/data_processing/clusters/wizard/tests.py', 'sahara_dashboard/content/data_processing/data_plugins/tests.py', 'sahara_dashboard/content/data_processing/jobs/data_sources/tests.py', 'sahara_dashboard/content/data_processing/clusters/clusters/tests.py', 'sahara_dashboard/content/data_processing/jobs/job_binaries/tests.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/56b69d6477099c59ab34a84bab8b9d3454957f06', 'message': 'Goodbye mox - no more needed\n\nThe porting to mock of sahara-dashboard is complete.\nThis fulfills the community goal\n""Remove Use of mox/mox3 for Testing"" set for Rocky:\nhttps://governance.openstack.org/tc/goals/rocky/mox_removal.html\n\nRaise the requirement to the Rocky M2 release of Horizon,\nwhich drops the usage of mox by default (it should be\nexplicitly enabled). Without a forced import from Horizon\nthe mox dependencies can be dropped here.\nBump also a dependency needed by this new version of Horizon.\n\nChange-Id: Iaf272af9919f8a69562c0a469130bbf8628936cf\n'}]",0,580205,56b69d6477099c59ab34a84bab8b9d3454957f06,12,2,4,10459,,,0,"Goodbye mox - no more needed

The porting to mock of sahara-dashboard is complete.
This fulfills the community goal
""Remove Use of mox/mox3 for Testing"" set for Rocky:
https://governance.openstack.org/tc/goals/rocky/mox_removal.html

Raise the requirement to the Rocky M2 release of Horizon,
which drops the usage of mox by default (it should be
explicitly enabled). Without a forced import from Horizon
the mox dependencies can be dropped here.
Bump also a dependency needed by this new version of Horizon.

Change-Id: Iaf272af9919f8a69562c0a469130bbf8628936cf
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/05/580205/3 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_dashboard/content/data_processing/clusters/image_registry/tests.py', 'test-requirements.txt', 'lower-constraints.txt', 'sahara_dashboard/content/data_processing/clusters/cluster_templates/tests.py', 'sahara_dashboard/content/data_processing/jobs/job_templates/tests.py', 'sahara_dashboard/content/data_processing/clusters/nodegroup_templates/tests.py', 'sahara_dashboard/content/data_processing/jobs/jobs/tests.py', 'sahara_dashboard/test/helpers.py', 'sahara_dashboard/content/data_processing/clusters/wizard/tests.py', 'sahara_dashboard/content/data_processing/data_plugins/tests.py', 'sahara_dashboard/content/data_processing/jobs/data_sources/tests.py', 'sahara_dashboard/content/data_processing/clusters/clusters/tests.py', 'sahara_dashboard/content/data_processing/jobs/job_binaries/tests.py']",13,bceb4183b4f3f1c55209b0caec2b3b3492a8a037,mox-removal,, use_mox = False ,0,23
openstack%2Fsahara-dashboard~master~I12347f3fa30a67c0e16a8b0f019663786ce686fa,openstack/sahara-dashboard,master,I12347f3fa30a67c0e16a8b0f019663786ce686fa,Remove mox from DataProcessingJobTemplateTests,MERGED,2018-07-04 15:51:33.000000000,2018-07-04 20:10:58.000000000,2018-07-04 20:10:58.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 15:51:33.000000000', 'files': ['sahara_dashboard/content/data_processing/jobs/job_templates/tests.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/5fc84cd7d2c8330a661312eccca947a824d0488a', 'message': 'Remove mox from DataProcessingJobTemplateTests\n\nThis change is part of ""Remove Use of mox/mox3 for Testing""\ncommunity goal set for Rocky:\nhttps://governance.openstack.org/tc/goals/rocky/mox_removal.html\n\nChange-Id: I12347f3fa30a67c0e16a8b0f019663786ce686fa\n'}]",0,580204,5fc84cd7d2c8330a661312eccca947a824d0488a,6,2,1,10459,,,0,"Remove mox from DataProcessingJobTemplateTests

This change is part of ""Remove Use of mox/mox3 for Testing""
community goal set for Rocky:
https://governance.openstack.org/tc/goals/rocky/mox_removal.html

Change-Id: I12347f3fa30a67c0e16a8b0f019663786ce686fa
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/04/580204/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/jobs/job_templates/tests.py'],1,5fc84cd7d2c8330a661312eccca947a824d0488a,mox-removal,"import mock use_mox = False @test.create_mocks({api.sahara: ('job_execution_list', self.mock_job_list.return_value = self.jobs.list() self.mock_job_list.assert_called_once_with( test.IsHttpRequest(), {}) @test.create_mocks({api.sahara: ('job_get',)}) def test_details(self): self.mock_job_get.return_value = self.jobs.first() res = self.client.get(DETAILS_URL) self.mock_job_get.assert_called_with( test.IsHttpRequest(), 'id') self.assertTemplateUsed(res, 'horizon/common/_detail.html') self.assertContains(res, 'pigjob') self.assertContains(res, 'example.pig') self.assertContains(res, 'udf.jar') @test.create_mocks({api.sahara: ('job_binary_list', self.mock_job_binary_list.return_value = [] self.mock_job_types_list.return_value = self.job_types.list() self.assert_mock_multiple_calls_with_same_arguments( self.mock_job_binary_list, 2, mock.call(test.IsHttpRequest())) self.mock_job_types_list.assert_called_once_with( test.IsHttpRequest()) self.mock_job_create.assert_called_once_with( test.IsHttpRequest(), 'test', 'Pig', [], [], 'test create', interface=[], is_public=False, is_protected=False) @test.create_mocks({api.sahara: ('job_binary_list', self.mock_job_binary_list.return_value = [] self.mock_job_types_list.return_value = self.job_types.list() self.assert_mock_multiple_calls_with_same_arguments( self.mock_job_binary_list, 2, mock.call(test.IsHttpRequest())) self.mock_job_types_list.assert_called_once_with( test.IsHttpRequest()) self.mock_job_create.assert_called_once_with( test.IsHttpRequest(), 'test_interface', 'Pig', [], [], 'test create', interface=[ { ""name"": ""argument"", ""description"": None, ""mapping_type"": ""args"", ""location"": ""0"", ""value_type"": ""number"", ""required"": True, ""default"": None }, { ""name"": ""config"", ""description"": ""Really great config"", ""mapping_type"": ""configs"", ""location"": ""edp.important.config"", ""value_type"": ""string"", ""required"": False, ""default"": ""A value"" }], is_public=False, is_protected=False) @test.create_mocks({api.sahara: ('job_list', self.mock_job_list.return_value = self.jobs.list() self.mock_job_list.assert_called_once_with( test.IsHttpRequest(), {}) self.mock_job_delete.assert_called_once_with( test.IsHttpRequest(), job.id) @test.create_mocks({api.sahara: ('job_execution_create', self.mock_job_get.return_value = job self.mock_job_get_configs.return_value = job self.mock_cluster_list.return_value = self.clusters.list() self.mock_data_source_list.return_value = self.data_sources.list() self.mock_job_list.return_value = self.jobs.list() self.mock_job_get.return_value = job self.mock_job_execution_create.return_value = job_execution # there seem not to be an easy way to check the order # of the calls; check only if they happened self.assert_mock_multiple_calls_with_same_arguments( self.mock_job_get, 2, mock.call(test.IsHttpRequest(), job.id)) self.mock_job_get_configs.assert_called_once_with( test.IsHttpRequest(), job.type) self.assert_mock_multiple_calls_with_same_arguments( self.mock_cluster_list, 2, mock.call(test.IsHttpRequest())) self.mock_data_source_list.assert_called_with( test.IsHttpRequest()) self.mock_job_list.assert_called_once_with( test.IsHttpRequest()) self.mock_job_execution_create.assert_called_once_with( test.IsHttpRequest(), job.id, cluster.id, input_ds.id, output_ds.id, { 'params': {}, 'args': [], 'configs': { 'edp.substitute_data_source_for_name': True, 'edp.substitute_data_source_for_uuid': True} }, {}, is_public=False, is_protected=False)","from django import httpfrom mox3.mox import IsA # noqa import six @test.create_stubs({api.sahara: ('job_execution_list', api.sahara.job_list(IsA(http.HttpRequest), {}) \ .AndReturn(self.jobs.list()) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('job_get',)}) def test_details(self): api.sahara.job_get(IsA(http.HttpRequest), IsA(six.text_type)) \ .MultipleTimes().AndReturn(self.jobs.first()) self.mox.ReplayAll() res = self.client.get(DETAILS_URL) self.assertTemplateUsed(res, 'horizon/common/_detail.html') @test.create_stubs({api.sahara: ('job_binary_list', api.sahara.job_binary_list(IsA(http.HttpRequest)).AndReturn([]) api.sahara.job_binary_list(IsA(http.HttpRequest)).AndReturn([]) api.sahara.job_create(IsA(http.HttpRequest), 'test', 'Pig', [], [], 'test create', interface=[], is_public=False, is_protected=False) api.sahara.job_types_list(IsA(http.HttpRequest)) \ .AndReturn(self.job_types.list()) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('job_binary_list', api.sahara.job_binary_list(IsA(http.HttpRequest)).AndReturn([]) api.sahara.job_binary_list(IsA(http.HttpRequest)).AndReturn([]) api.sahara.job_create(IsA(http.HttpRequest), 'test_interface', 'Pig', [], [], 'test create', interface=[ { ""name"": ""argument"", ""description"": None, ""mapping_type"": ""args"", ""location"": ""0"", ""value_type"": ""number"", ""required"": True, ""default"": None }, { ""name"": ""config"", ""description"": ""Really great config"", ""mapping_type"": ""configs"", ""location"": ""edp.important.config"", ""value_type"": ""string"", ""required"": False, ""default"": ""A value"" }], is_public=False, is_protected=False) api.sahara.job_types_list(IsA(http.HttpRequest)) \ .AndReturn(self.job_types.list()) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('job_list', api.sahara.job_list(IsA(http.HttpRequest), {}) \ .AndReturn(self.jobs.list()) api.sahara.job_delete(IsA(http.HttpRequest), job.id) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('job_execution_create', api.sahara.job_get(IsA(http.HttpRequest), IsA(six.text_type)) \ .AndReturn(job) api.sahara.job_get_configs(IsA(http.HttpRequest), job.type) \ .AndReturn(job) api.sahara.cluster_list(IsA(http.HttpRequest)) \ .AndReturn(self.clusters.list()) api.sahara.data_source_list(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(self.data_sources.list()) api.sahara.job_list(IsA(http.HttpRequest)) \ .AndReturn(self.jobs.list()) api.sahara.job_get(IsA(http.HttpRequest), IsA(six.text_type)) \ .AndReturn(job) api.sahara.job_execution_create(IsA(http.HttpRequest), IsA(six.text_type), IsA(six.text_type), IsA(six.text_type), IsA(six.text_type), IsA(dict), IsA(dict), is_public=False, is_protected=False).AndReturn( job_execution) self.mox.ReplayAll()",111,84
openstack%2Ftripleo-common~master~If5ad384cfc8783c3b10c4cc567e42f06e5c6880b,openstack/tripleo-common,master,If5ad384cfc8783c3b10c4cc567e42f06e5c6880b,Retry inspect of container images,MERGED,2018-07-03 02:11:04.000000000,2018-07-04 18:30:44.000000000,2018-07-04 18:30:44.000000000,"[{'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 9592}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 02:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/534b575848ff4e019195ffc66f83e9d62daf3591', 'message': 'Retry inspect of container images\n\nThis change parses the error output of a failed skopeo inspect to\ndetect if it is a missing image error, then adds tenacity retries for all\nother error types.\n\nFailures are being seen in CI due to transient AWS DNS issues, so this change\nshould make image inspections more resilient.\n\nChange-Id: If5ad384cfc8783c3b10c4cc567e42f06e5c6880b\nCloses-Bug: #1779213\n'}, {'number': 2, 'created': '2018-07-04 16:09:51.000000000', 'files': ['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2dbcc9036aed8f47467e81b028f2fae76dd28816', 'message': 'Retry inspect of container images\n\nThis change parses the error output of a failed skopeo inspect to\ndetect if it is a missing image error, then adds tenacity retries for all\nother error types.\n\nFailures are being seen in CI due to transient AWS DNS issues, so this change\nshould make image inspections more resilient.\n\nChange-Id: If5ad384cfc8783c3b10c4cc567e42f06e5c6880b\nCloses-Bug: #1779213\n'}]",1,579734,2dbcc9036aed8f47467e81b028f2fae76dd28816,12,6,2,4571,,,0,"Retry inspect of container images

This change parses the error output of a failed skopeo inspect to
detect if it is a missing image error, then adds tenacity retries for all
other error types.

Failures are being seen in CI due to transient AWS DNS issues, so this change
should make image inspections more resilient.

Change-Id: If5ad384cfc8783c3b10c4cc567e42f06e5c6880b
Closes-Bug: #1779213
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/579734/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",3,534b575848ff4e019195ffc66f83e9d62daf3591,bug/1779213,"from tripleo_common.image.exception import ImageNotFoundException except ImageNotFoundException: @tenacity.retry( # Retry up to 5 times with jittered exponential backoff reraise=True, retry=tenacity.retry_if_exception_type(ImageUploaderException), wait=tenacity.wait_random_exponential(multiplier=1, max=10), stop=tenacity.stop_after_attempt(5) ) not_found_msgs = ( 'manifest unknown', # returned by docker.io 'requested access to the resource is denied' ) if any(n in err for n in not_found_msgs): raise ImageNotFoundException('Not found image: %s\n%s' % (image, err))", except Exception:,28,12
openstack%2Fproject-config~master~I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4,openstack/project-config,master,I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4,"Revert ""Temporarily stop booting nodes in vexxhost""",MERGED,2018-07-02 19:10:41.000000000,2018-07-04 18:16:58.000000000,2018-07-03 00:27:22.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 19:10:41.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5450a084a69706bcda139d4c098acd108417725a', 'message': 'Revert ""Temporarily stop booting nodes in vexxhost""\n\nThis reverts commit edc1710e34ba86df1349f2235619bb6cdd044d99.\n\nRouting issues appear to be sorted out and ipv6 addrs ping in vexxhost\nonce again.\n\nChange-Id: I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4\n'}]",0,579671,5450a084a69706bcda139d4c098acd108417725a,11,4,1,4146,,,0,"Revert ""Temporarily stop booting nodes in vexxhost""

This reverts commit edc1710e34ba86df1349f2235619bb6cdd044d99.

Routing issues appear to be sorted out and ipv6 addrs ping in vexxhost
once again.

Change-Id: I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/579671/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,5450a084a69706bcda139d4c098acd108417725a,vexxhost, max-servers: 50, max-servers: 0,1,1
openstack%2Fneutron-lbaas~stable%2Fqueens~I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6,openstack/neutron-lbaas,stable/queens,I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6,tempest: healthmonitor is deleted via resource_cleanup,ABANDONED,2018-05-29 07:33:12.000000000,2018-07-04 18:08:28.000000000,,"[{'_account_id': 2245}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-05-29 07:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/166e0945e8c2248ac8b552035dfc283e4b6233ad', 'message': 'tempest: healthmonitor is deleted via resource_cleanup\n\nNo need for an explicit cleanup. Explicit cleanup of monitors deleted by\nresource_cleanup causes tempest tests to fail\n\nChange-Id: I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6\nCloses-bug: 1709602\n'}, {'number': 2, 'created': '2018-06-26 06:23:19.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/ddt/base_ddt.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/e0376c20573e6eb0777c947e09188e9f30b8c581', 'message': 'tempest: healthmonitor is deleted via resource_cleanup\n\nNo need for an explicit cleanup. Explicit cleanup of monitors deleted by\nresource_cleanup causes tempest tests to fail\n\nChange-Id: I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6\nCloses-bug: 1709602\n'}]",0,570850,e0376c20573e6eb0777c947e09188e9f30b8c581,12,4,2,23735,,,0,"tempest: healthmonitor is deleted via resource_cleanup

No need for an explicit cleanup. Explicit cleanup of monitors deleted by
resource_cleanup causes tempest tests to fail

Change-Id: I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6
Closes-bug: 1709602
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/50/570850/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/tests/tempest/v2/ddt/base_ddt.py'],1,166e0945e8c2248ac8b552035dfc283e4b6233ad,bug/1709602-stable/queens," 'admin_state_up': admin_state_up_flag, 'cleanup': False}", 'admin_state_up': admin_state_up_flag},2,1
openstack%2Fheat~master~If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b,openstack/heat,master,If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b,Fix purging events from stacks converted to convergence,MERGED,2018-06-29 20:06:51.000000000,2018-07-04 18:08:20.000000000,2018-07-04 18:08:20.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 20:06:51.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d12512ab17b35ca8adaba9eea407dda6c62c8137', 'message': ""Fix purging events from stacks converted to convergence\n\nStacks with convergence enabled are guaranteed not to have a backup stack,\nbut they may have previously had backup stacks (prior to being converted to\nconvergence) that remain only soft-deleted. In this case they may still\nfail the foreign key constraints in the database when purging events, so\ndon't bail out of the workaround path when we encounter this situation.\n\nThis will allow events to be purged from these stacks without having to\nwait for purge_deleted to purge the backup stacks first.\n\nChange-Id: If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b\nStory: #2002643\nTask: 22648\n""}]",0,579276,d12512ab17b35ca8adaba9eea407dda6c62c8137,15,3,1,4257,,,0,"Fix purging events from stacks converted to convergence

Stacks with convergence enabled are guaranteed not to have a backup stack,
but they may have previously had backup stacks (prior to being converted to
convergence) that remain only soft-deleted. In this case they may still
fail the foreign key constraints in the database when purging events, so
don't bail out of the workaround path when we encounter this situation.

This will allow events to be purged from these stacks without having to
wait for purge_deleted to purge the backup stacks first.

Change-Id: If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b
Story: #2002643
Task: 22648
",git fetch https://review.opendev.org/openstack/heat refs/changes/76/579276/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,d12512ab17b35ca8adaba9eea407dda6c62c8137,,, if stack.convergence: LOG.debug('Not searching for backup of convergence-enabled stack') return,0,3
openstack%2Foslo.messaging~master~I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525,openstack/oslo.messaging,master,I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525,Fix the bandit security linter test,MERGED,2018-06-13 20:43:02.000000000,2018-07-04 18:04:50.000000000,2018-07-04 18:04:50.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-13 20:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8937d68f8d57ce15063132f0f2f78d847dc9c704', 'message': 'Fix the bandit security linter test\n\nAdd the bandit security linter test to the pep8 target\n\nChange-Id: I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525\n'}, {'number': 2, 'created': '2018-07-02 17:21:33.000000000', 'files': ['oslo_messaging/_drivers/amqp1_driver/controller.py', 'tox.ini', 'oslo_messaging/_drivers/common.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ae9e67388706e57561531652145ba187f8870b94', 'message': 'Fix the bandit security linter test\n\nAdd the bandit security linter test to the pep8 target\n\nChange-Id: I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525\n'}]",2,575226,ae9e67388706e57561531652145ba187f8870b94,10,4,2,8770,,,0,"Fix the bandit security linter test

Add the bandit security linter test to the pep8 target

Change-Id: I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/26/575226/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/amqp1_driver/controller.py', 'tox.ini', 'oslo_messaging/_drivers/common.py']",3,8937d68f8d57ce15063132f0f2f78d847dc9c704,fix-bandit," except Exception as exc: LOG.debug(""pooled conn close failure (ignored): %s"", str(exc)) LOG.debug(""pooled conn close failure (ignored): %s"", str(exc))", except Exception: pass pass,16,12
openstack%2Fkeystone~master~I1e2b1229edb8272333340b29cc1897a36ed324d5,openstack/keystone,master,I1e2b1229edb8272333340b29cc1897a36ed324d5,Ignore .eggs dir as well,MERGED,2018-07-04 12:45:22.000000000,2018-07-04 18:04:49.000000000,2018-07-04 18:04:49.000000000,"[{'_account_id': 2903}, {'_account_id': 15699}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 12:45:22.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/keystone/commit/91fe8a925bbdd0438e92ce599ec57bc79a1d3387', 'message': 'Ignore .eggs dir as well\n\nChange-Id: I1e2b1229edb8272333340b29cc1897a36ed324d5\n'}]",0,580154,91fe8a925bbdd0438e92ce599ec57bc79a1d3387,7,3,1,9542,,,0,"Ignore .eggs dir as well

Change-Id: I1e2b1229edb8272333340b29cc1897a36ed324d5
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/580154/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,91fe8a925bbdd0438e92ce599ec57bc79a1d3387,ignore-eggs,*.egg*/,*.egg/,1,1
openstack%2Fopenstack-zuul-jobs~master~Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda,openstack/openstack-zuul-jobs,master,Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda,Cleanup the kata setup role,MERGED,2018-06-23 01:03:41.000000000,2018-07-04 17:52:38.000000000,2018-07-04 17:52:38.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-23 01:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/93f1ce2996b93caf8af389bb14f581e4ce8249c2', 'message': 'Cleanup the kata setup role\n\nThis adds a modprove for vhost_net to ensure it is present for kata.\nAlso we will remove the explicit docker install as .ci/setup.sh should\ndo it for us now.\n\nChange-Id: Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda\n'}, {'number': 2, 'created': '2018-07-04 00:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0f3c06728f025e167496f970a1a424464d9c99f9', 'message': 'Cleanup the kata setup role\n\nThis adds a modprobe for vhost_net to ensure it is present for kata.\nAlso we will remove the explicit docker install as .ci/setup.sh should\ndo it for us now.\n\nAllow k8s cluster-cidr range to talk to port 6443 (k8s api server).\n\nChange-Id: Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda\n'}, {'number': 3, 'created': '2018-07-04 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f9406fecb0c16827ce1dc63a97af2613cb2de542', 'message': 'Cleanup the kata setup role\n\nThis adds a modprobe for vhost_net to ensure it is present for kata.\nAlso we will remove the explicit docker install as .ci/setup.sh should\ndo it for us now.\n\nAllow k8s cluster-cidr range to talk to port 6443 (k8s api server).\n\nChange-Id: Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda\n'}, {'number': 4, 'created': '2018-07-04 03:07:49.000000000', 'files': ['roles/kata-setup/tasks/setup/Fedora.yaml', 'roles/kata-setup/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7bfe80df739d34f4b2639814a37b342b01775049', 'message': 'Cleanup the kata setup role\n\nThis adds a modprobe for vhost_net to ensure it is present for kata.\nAlso we will remove the explicit docker install as .ci/setup.sh should\ndo it for us now.\n\nAllow k8s cluster-cidr range to talk to port 6443 (k8s api server).\n\nChange-Id: Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda\n'}]",0,577590,7bfe80df739d34f4b2639814a37b342b01775049,15,4,4,4146,,,0,"Cleanup the kata setup role

This adds a modprobe for vhost_net to ensure it is present for kata.
Also we will remove the explicit docker install as .ci/setup.sh should
do it for us now.

Allow k8s cluster-cidr range to talk to port 6443 (k8s api server).

Change-Id: Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/90/577590/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/kata-setup/tasks/setup/Fedora.yaml'],1,93f1ce2996b93caf8af389bb14f581e4ce8249c2,kata-cleanups, # TODO why isn't this necessary on Ubuntu? - name: Ensure vhost and vhost_net modules are present as kata checks for these args: executable: /bin/bash shell: | set -x modprobe vhost_net become: yes,,9,0
openstack%2Fopenstack-ansible-plugins~master~I7a4e89c579a3e688decaeb91b9035500129c7b16,openstack/openstack-ansible-plugins,master,I7a4e89c579a3e688decaeb91b9035500129c7b16,Template the physical host address,MERGED,2018-06-30 04:48:33.000000000,2018-07-04 17:49:49.000000000,2018-07-04 17:49:49.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-06-30 04:48:33.000000000', 'files': ['strategy/linear.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a743d4c81fc202633f68ebcc132bc9ae19030270', 'message': 'Template the physical host address\n\nIn the scenario where the fallback group \'all\' is used to find the\nphysical host address, there are typically containers present in this\ngroup with ansible_host settings like ""{{ container_name }}"".\n\nWhen this happens, you get physical_host_addrs lists like:\naiotest1 127.0.0.1\ntest1 1.1.1.1\ntest-1-zbx1 {{ container_name }}\ntest-1-cdns1 {{ container_name }}\ntest-1-lb1 {{ container_name }}\ntest-1-lb2 {{ container_name }}\nfatal: [aiotest1]: FAILED! => {""msg"": ""\'container_name\' is undefined""}\n\nTo avoid this we need to run the physical_host_addr through a templar\nloaded with the physical_host_vars:\n\naiotest1 127.0.0.1\ntest1 1.1.1.1\ntest-1-zbx1 test-1-zbx1\ntest-1-cdns1 test-1-cdns1\ntest-1-lb1 test-1-lb1\ntest-1-lb2 test-1-lb2\ntest-1-tpxy1 test-1-tpxy1\nok: [aiotest1]\n\nChange-Id: I7a4e89c579a3e688decaeb91b9035500129c7b16\n'}]",0,579320,a743d4c81fc202633f68ebcc132bc9ae19030270,7,3,1,17799,,,0,"Template the physical host address

In the scenario where the fallback group 'all' is used to find the
physical host address, there are typically containers present in this
group with ansible_host settings like ""{{ container_name }}"".

When this happens, you get physical_host_addrs lists like:
aiotest1 127.0.0.1
test1 1.1.1.1
test-1-zbx1 {{ container_name }}
test-1-cdns1 {{ container_name }}
test-1-lb1 {{ container_name }}
test-1-lb2 {{ container_name }}
fatal: [aiotest1]: FAILED! => {""msg"": ""'container_name' is undefined""}

To avoid this we need to run the physical_host_addr through a templar
loaded with the physical_host_vars:

aiotest1 127.0.0.1
test1 1.1.1.1
test-1-zbx1 test-1-zbx1
test-1-cdns1 test-1-cdns1
test-1-lb1 test-1-lb1
test-1-lb2 test-1-lb2
test-1-tpxy1 test-1-tpxy1
ok: [aiotest1]

Change-Id: I7a4e89c579a3e688decaeb91b9035500129c7b16
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/20/579320/1 && git format-patch -1 --stdout FETCH_HEAD,['strategy/linear.py'],1,a743d4c81fc202633f68ebcc132bc9ae19030270,physical-host-var," physical_host_templar = LINEAR.Templar(loader=self._loader, variables=physical_host_vars) physical_host_addr = physical_host_templar.template( physical_host_vars.get('ansible_host', physical_host))"," physical_host_addr = physical_host_vars.get('ansible_host', physical_host)",5,2
openstack%2Foslo.service~master~Ia82a17fe26b41730c8c323819591523d66a8cb36,openstack/oslo.service,master,Ia82a17fe26b41730c8c323819591523d66a8cb36,Convert oslo.service to using stestr,MERGED,2018-07-02 03:01:11.000000000,2018-07-04 17:44:42.000000000,2018-07-04 17:44:42.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-02 03:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/298024633349981b603262bf5c1c7ab0157eb834', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 2, 'created': '2018-07-02 05:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/5d617d4abed5d46e44a70589e2cbf4bef82d0875', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 3, 'created': '2018-07-02 06:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/941e24aa620a64deb6ea724595fa2a97c825cc46', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 4, 'created': '2018-07-02 08:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/96e2cac23ddd8d57d1c460192fb374dcf1348399', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 5, 'created': '2018-07-02 09:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/12cba27d0bc4fe29e5f77ef940d5f2b23906b6ab', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 6, 'created': '2018-07-02 09:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/8c4f6c60b09e84fb6b9d7f3c5e488a55c049208b', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 7, 'created': '2018-07-03 01:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d6c46ec42ab6098ea9a2772c7037583efad87f19', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 8, 'created': '2018-07-03 03:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/589bf0c2b82ece5dcc68abd1444a57a207e78e81', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 9, 'created': '2018-07-03 09:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/93fce01fede2372e0af2188e5197c4b2306fd92e', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}, {'number': 10, 'created': '2018-07-04 01:38:38.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/ebad161c897e2bf61d0f3ccd04e2262f18f8843c', 'message': ""Convert oslo.service to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.service. Let's switch to using stestr, too!\nEveryone's doing it...\nThis patch follows [2] in oslo.policy\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n[2] https://review.openstack.org/#/c/579295/\n\nChange-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36\n""}]",5,579420,ebad161c897e2bf61d0f3ccd04e2262f18f8843c,33,4,10,25903,,,0,"Convert oslo.service to using stestr

With the upgrade to oslotest 3.6.0 [0], testr no longer works [1].
This is because oslotest no longer requires testr and we don't depend
on it directly in oslo.service. Let's switch to using stestr, too!
Everyone's doing it...
This patch follows [2] in oslo.policy

[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431
[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2
[2] https://review.openstack.org/#/c/579295/

Change-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/20/579420/10 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini', '.stestr.conf']",3,298024633349981b603262bf5c1c7ab0157eb834,unnecessary_pyNN,[DEFAULT] test_path=./oslo_service/tests top_path=./ ,,5,1
openstack%2Frequirements~stable%2Fqueens~I2d7f8a571b7a781c416116a29033bfa1ac41e21b,openstack/requirements,stable/queens,I2d7f8a571b7a781c416116a29033bfa1ac41e21b,"Revert ""Add constraints for the neutron-lbaas""",MERGED,2018-07-02 23:36:18.000000000,2018-07-04 17:24:21.000000000,2018-07-04 17:24:20.000000000,"[{'_account_id': 2472}, {'_account_id': 6579}, {'_account_id': 6593}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 12898}, {'_account_id': 14200}, {'_account_id': 14288}, {'_account_id': 16198}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23871}]","[{'number': 1, 'created': '2018-07-02 23:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4735c509e6f55b4b48d5922f2c577f7757026de1', 'message': 'Revert ""Add constraints for the neutron-lbaas""\n\nThis breaks the stable branches. We don\'t constrain any of the neutron plugins on the stable branches.\n\nThis reverts commit 0227404b79404cc34784798654df771f180e896e.\n\nChange-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b\n'}, {'number': 2, 'created': '2018-07-02 23:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c7b7d858eb8e631cdab0030b332b55561cb7aa2', 'message': 'Revert ""Add constraints for the neutron-lbaas""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches.\n\nThis reverts commit 0227404b79404cc34784798654df771f180e896e.\n\nChange-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b\n'}, {'number': 3, 'created': '2018-07-03 01:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8c53ca592c192de2fcdd2900511247e5c2ba23b8', 'message': 'Revert ""Add constraints for the neutron-lbaas""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches.\n\nThis reverts commit 0227404b79404cc34784798654df771f180e896e.\n\nChange-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b\n'}, {'number': 4, 'created': '2018-07-03 01:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/920a247531ffcd36513a0def99ebc31671629164', 'message': 'Revert ""Add constraints for the neutron-lbaas""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches.\n\nThis reverts commit 0227404b79404cc34784798654df771f180e896e.\n\nChange-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b\n'}, {'number': 5, 'created': '2018-07-03 18:04:06.000000000', 'files': ['upper-constraints-xfails.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e067590b1e69ae51a5e5620dd9577f8b0033ca84', 'message': 'Revert ""Add constraints for the neutron-lbaas""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches.\n\nThis reverts commit 0227404b79404cc34784798654df771f180e896e.\n\nChange-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b\n'}]",0,579717,e067590b1e69ae51a5e5620dd9577f8b0033ca84,30,15,5,11628,,,0,"Revert ""Add constraints for the neutron-lbaas""

This breaks the stable branches. We don't constrain any of the
neutron plugins on the stable branches.

This reverts commit 0227404b79404cc34784798654df771f180e896e.

Change-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/579717/2 && git format-patch -1 --stdout FETCH_HEAD,"['upper-constraints-xfails.txt', 'upper-constraints.txt']",2,4735c509e6f55b4b48d5922f2c577f7757026de1,neutron-lbaas-pin,,neutron-lbaas===12.0.0,0,2
openstack%2Fheat~master~Ifd345a3098342c8ae5b7b64054f6a130dad2a03c,openstack/heat,master,Ifd345a3098342c8ae5b7b64054f6a130dad2a03c,Fix an exception message,MERGED,2018-06-27 02:45:46.000000000,2018-07-04 17:06:15.000000000,2018-07-04 17:06:15.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 02:45:46.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a2c6f14c632fc5c992d54827e91a6304cff1a53f', 'message': 'Fix an exception message\n\nThe message contained ""<built-in function id>"" instead of the row ID.\n\nChange-Id: Ifd345a3098342c8ae5b7b64054f6a130dad2a03c\n'}]",0,578255,a2c6f14c632fc5c992d54827e91a6304cff1a53f,23,4,1,4257,,,0,"Fix an exception message

The message contained ""<built-in function id>"" instead of the row ID.

Change-Id: Ifd345a3098342c8ae5b7b64054f6a130dad2a03c
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/578255/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,a2c6f14c632fc5c992d54827e91a6304cff1a53f,, _('ResourcePropertiesData with id %s not found') % resource_prop_data_id), _('ResourcePropertiesData with id %s not found') % id),2,1
openstack%2Fmistral~master~I23197a23001cd28f7137fa5741a8a7ddcc05c101,openstack/mistral,master,I23197a23001cd28f7137fa5741a8a7ddcc05c101,fix tox python3 overrides,MERGED,2018-06-06 20:07:27.000000000,2018-07-04 17:03:23.000000000,2018-07-04 17:03:23.000000000,"[{'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15334}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-06 20:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2ace39774fd974ee58317e2c7a2e16bc40b7349c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I23197a23001cd28f7137fa5741a8a7ddcc05c101\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-13 18:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9b5062a9e1224012ca76825e9e9a7dd73fc71cda', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I23197a23001cd28f7137fa5741a8a7ddcc05c101\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-06-19 13:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fb62698140f8950c4415a2829f6a714029c03157', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I23197a23001cd28f7137fa5741a8a7ddcc05c101\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-06-28 12:46:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/60fba7239eb49c1fdd1285f728fe986522b2715f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I23197a23001cd28f7137fa5741a8a7ddcc05c101\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,572967,60fba7239eb49c1fdd1285f728fe986522b2715f,24,8,4,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I23197a23001cd28f7137fa5741a8a7ddcc05c101
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/67/572967/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ace39774fd974ee58317e2c7a2e16bc40b7349c,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,7,0
openstack%2Fmistral~master~If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4,openstack/mistral,master,If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4,Refresh a number of retry a task when task was rerun,MERGED,2018-05-20 15:37:34.000000000,2018-07-04 17:03:22.000000000,2018-07-04 17:03:22.000000000,"[{'_account_id': 7065}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-05-20 15:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ae283d70fbe6d438c3a08d46510f327723d7da1c', 'message': 'Refresh a number of retry a task when task was rerun\n\nChange-Id: If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4\nCloses-Bug: #1772265\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 2, 'created': '2018-05-21 00:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/45a212854f724b1a0d23bdac11d75630e417fbc3', 'message': 'Refresh a number of retry a task when task was rerun\n\nChange-Id: If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4\nCloses-Bug: #1772265\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 3, 'created': '2018-05-31 08:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/51e7bcbf4d0685605684dab81d476682abfbcb7f', 'message': 'Refresh a number of retry a task when task was rerun\n\nChange-Id: If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4\nCloses-Bug: #1772265\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 4, 'created': '2018-06-24 05:34:33.000000000', 'files': ['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/engine/workflows.py', 'mistral/engine/policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/78b542c4c5e7ed6604bed4e50088690d187ab683', 'message': 'Refresh a number of retry a task when task was rerun\n\nChange-Id: If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4\nCloses-Bug: #1772265\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}]",3,569643,78b542c4c5e7ed6604bed4e50088690d187ab683,26,7,4,27008,,,0,"Refresh a number of retry a task when task was rerun

Change-Id: If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4
Closes-Bug: #1772265
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/43/569643/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/engine/task_handler.py', 'mistral/engine/workflows.py']",3,ae283d70fbe6d438c3a08d46510f327723d7da1c,bug/1772265, if cmds: # Import the task_handler module here to avoid circular reference. from mistral.engine import task_handler task_handler.refresh_runtime_context(task_ex) ,,65,0
openstack%2Fnova~stable%2Focata~Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,openstack/nova,stable/ocata,Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,Use instance project/user when creating RequestSpec during resize reschedule,MERGED,2018-06-25 20:50:06.000000000,2018-07-04 16:55:07.000000000,2018-07-04 16:55:07.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-25 20:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67de251efe0cc7bfb69442ae6a1181678a0705f4', 'message': 'Use instance project/user when creating RequestSpec during resize reschedule\n\nWhen rescheduling from a failed cold migrate / resize, the compute\nservice does not pass the request spec back to conductor so we\ncreate one based on the in-scope variables.\n\nThis introduces a problem for some scheduler filters like the\nAggregateMultiTenancyIsolation filter since it will create the\nRequestSpec using the project and user information from the current\ncontext, which for a cold migrate is the admin and might not be\nthe owner of the instance (which could be in some other project).\nSo the AggregateMultiTenancyIsolation filter might reject the\nrequest or select a host that fits an aggregate for the admin but\nnot the end user.\n\nThis fixes the problem by using the instance project/user information\nwhen constructing the RequestSpec which will take priority over\nthe context in RequestSpec.from_components().\n\nLong-term we need the compute service to pass the request spec back\nto the conductor during a reschedule, but we do this first since we\ncan backport it.\n\nNOTE(mriedem): RequestSpec.user_id was added in Rocky in commit\n6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its\nusage in this backport.\n\nChange-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee\nCloses-Bug: #1774205\n(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)\n(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)\n(cherry picked from commit ce7ad878093e5730b8dcec5ca717b831db8965eb)\n'}, {'number': 2, 'created': '2018-06-26 16:14:21.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/09e678ee142ea297640e44ce9af630402871c38a', 'message': 'Use instance project/user when creating RequestSpec during resize reschedule\n\nWhen rescheduling from a failed cold migrate / resize, the compute\nservice does not pass the request spec back to conductor so we\ncreate one based on the in-scope variables.\n\nThis introduces a problem for some scheduler filters like the\nAggregateMultiTenancyIsolation filter since it will create the\nRequestSpec using the project and user information from the current\ncontext, which for a cold migrate is the admin and might not be\nthe owner of the instance (which could be in some other project).\nSo the AggregateMultiTenancyIsolation filter might reject the\nrequest or select a host that fits an aggregate for the admin but\nnot the end user.\n\nThis fixes the problem by using the instance project/user information\nwhen constructing the RequestSpec which will take priority over\nthe context in RequestSpec.from_components().\n\nLong-term we need the compute service to pass the request spec back\nto the conductor during a reschedule, but we do this first since we\ncan backport it.\n\nNOTE(mriedem): RequestSpec.user_id was added in Rocky in commit\n6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its\nusage in this backport.\n\nNOTE(mriedem): Some existing tests in test_conductor.py had to\nbe updated to set a project_id on the fake instance since change\nI34b1d99a9d0d2aca80f094a79ec1656abaf762dc is not in Ocata.\n\nChange-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee\nCloses-Bug: #1774205\n(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)\n(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)\n(cherry picked from commit ce7ad878093e5730b8dcec5ca717b831db8965eb)\n'}]",0,577929,09e678ee142ea297640e44ce9af630402871c38a,20,8,2,6873,,,0,"Use instance project/user when creating RequestSpec during resize reschedule

When rescheduling from a failed cold migrate / resize, the compute
service does not pass the request spec back to conductor so we
create one based on the in-scope variables.

This introduces a problem for some scheduler filters like the
AggregateMultiTenancyIsolation filter since it will create the
RequestSpec using the project and user information from the current
context, which for a cold migrate is the admin and might not be
the owner of the instance (which could be in some other project).
So the AggregateMultiTenancyIsolation filter might reject the
request or select a host that fits an aggregate for the admin but
not the end user.

This fixes the problem by using the instance project/user information
when constructing the RequestSpec which will take priority over
the context in RequestSpec.from_components().

Long-term we need the compute service to pass the request spec back
to the conductor during a reschedule, but we do this first since we
can backport it.

NOTE(mriedem): RequestSpec.user_id was added in Rocky in commit
6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its
usage in this backport.

NOTE(mriedem): Some existing tests in test_conductor.py had to
be updated to set a project_id on the fake instance since change
I34b1d99a9d0d2aca80f094a79ec1656abaf762dc is not in Ocata.

Change-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee
Closes-Bug: #1774205
(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)
(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)
(cherry picked from commit ce7ad878093e5730b8dcec5ca717b831db8965eb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/577929/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,67de251efe0cc7bfb69442ae6a1181678a0705f4,bug/1774205," filter_properties, None, instance.availability_zone, project_id=instance.project_id)"," filter_properties, None, instance.availability_zone)",7,1
openstack%2Fironic~master~I468f511dd8ad9a25c17f2a2754f7a45f7147c483,openstack/ironic,master,I468f511dd8ad9a25c17f2a2754f7a45f7147c483,Ensure we allow Ironic API traffic from baremetal network,MERGED,2018-07-02 13:35:36.000000000,2018-07-04 16:43:38.000000000,2018-07-04 16:43:38.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-07-02 13:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33758f5202eb77be02b06e5c9c27d6a6f21eecae', 'message': 'Ensure we allow Ironic API traffic from baremetal network\n\nIn deployments with a separate baremetal network we need to ensure we\napply an iptables rule to allow traffic on port 80 to the Ironic API.\n\nChange-Id: I468f511dd8ad9a25c17f2a2754f7a45f7147c483\nStory: 2002788\nTask: 22673\n'}, {'number': 2, 'created': '2018-07-02 15:32:48.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2bb87c1b69839d969ac372044f95cc3bf2987d7e', 'message': 'Ensure we allow Ironic API traffic from baremetal network\n\nIn deployments with a separate baremetal network we need to ensure we\napply an iptables rule to allow traffic on port 80 to the Ironic API.\n\nChange-Id: I468f511dd8ad9a25c17f2a2754f7a45f7147c483\nStory: 2002788\nTask: 22673\n'}]",3,579560,2bb87c1b69839d969ac372044f95cc3bf2987d7e,18,10,2,6637,,,0,"Ensure we allow Ironic API traffic from baremetal network

In deployments with a separate baremetal network we need to ensure we
apply an iptables rule to allow traffic on port 80 to the Ironic API.

Change-Id: I468f511dd8ad9a25c17f2a2754f7a45f7147c483
Story: 2002788
Task: 22673
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/579560/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,33758f5202eb77be02b06e5c9c27d6a6f21eecae,, # open ironic API on baremetal network sudo iptables -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport 80 -j ACCEPT || true,,2,0
openstack%2Freleases~master~Ib88e24ee41fc462176b608c87f83ef304bd8efcc,openstack/releases,master,Ib88e24ee41fc462176b608c87f83ef304bd8efcc,new_release: increment feature version with skips,ABANDONED,2018-07-04 15:29:10.000000000,2018-07-04 16:40:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-04 15:29:10.000000000', 'files': ['openstack_releases/cmds/new_release.py', 'openstack_releases/tests/test_new_release.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/abf151d1a9b31d2254e79d63a152344a20c4af5a', 'message': 'new_release: increment feature version with skips\n\nProperly increment feature version based on the depth at which\nthe last release was found.\n\nChange-Id: Ib88e24ee41fc462176b608c87f83ef304bd8efcc\nTask: 22351\n'}]",0,580196,abf151d1a9b31d2254e79d63a152344a20c4af5a,3,1,1,308,,,0,"new_release: increment feature version with skips

Properly increment feature version based on the depth at which
the last release was found.

Change-Id: Ib88e24ee41fc462176b608c87f83ef304bd8efcc
Task: 22351
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/580196/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/new_release.py', 'openstack_releases/tests/test_new_release.py']",2,abf151d1a9b31d2254e79d63a152344a20c4af5a,support-stable-deliverables," class TestFeatureIncrement(base.BaseTestCase): def test_last_release_in_current(self): release_history = [ [ {'version': '1.1.1'}, {'version': '1.1.0'}, ], [ {'version': '1.0.0'}, ], ] last = new_release.get_last_release( release_history, 'anydeliverable', 'feature', ) self.assertEqual(1, new_release.feature_increment(last)) def test_last_release_in_previous(self): release_history = [ [], [ {'version': '1.0.0'}, ], ] last = new_release.get_last_release( release_history, 'anydeliverable', 'feature', ) self.assertEqual(1, new_release.feature_increment(last)) def test_previous_was_skipped(self): release_history = [ [], [], [ {'version': '1.1.3'}, ], ] last = new_release.get_last_release( release_history, 'anydeliverable', 'feature', ) self.assertEqual(2, new_release.feature_increment(last))",,62,2
openstack%2Fpython-tripleoclient~master~I85f59182ac86034dc7e2d7ba2d7f6db0702d8473,openstack/python-tripleoclient,master,I85f59182ac86034dc7e2d7ba2d7f6db0702d8473,undercloud: chown config/templates to deployment user,ABANDONED,2018-04-06 05:19:14.000000000,2018-07-04 16:35:10.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-04-06 05:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b18fe82bd99bd15129373801af993d608f1a6f5', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 2, 'created': '2018-04-06 20:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84688044f8213bdef8eb2de0fa051a33a5ffea8b', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 3, 'created': '2018-04-07 01:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ec64d6fc2546b4a671d73b6de14bb7364a32c06', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 4, 'created': '2018-04-07 05:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3653878ebcf4eae30e2cd1e3cedd4b513ee2521', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 5, 'created': '2018-04-07 05:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/56c2d33c19eeda284a6379df590cbce9e7c51475', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 6, 'created': '2018-04-07 16:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98fb5a67dea7eaca7ac86bd8b5287eb22e64bac2', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 7, 'created': '2018-04-10 03:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/375b96a9f284aa2b380deecf7fc51c15a3d4444c', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 8, 'created': '2018-04-10 12:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/89c781b5d3490d69f6c10eb393f90df9e7da9ad2', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 9, 'created': '2018-04-10 15:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ba05b5c0f81559b9fc985fc47c1ea3c304984ae', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 10, 'created': '2018-04-10 18:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/11a467d173509e3fff674c647b4bc2befe811921', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 11, 'created': '2018-04-30 21:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8693f2e2f69c40d5c078ba3600665f494fc88df6', 'message': 'WIP - undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 12, 'created': '2018-04-30 21:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c514cf95e0d30f2ae30b46bb22d2fde9dcde87f', 'message': 'WIP - undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 13, 'created': '2018-04-30 23:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/18235eab4406cee95360476d185d28cb73e9fbfe', 'message': 'WIP - undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 14, 'created': '2018-04-30 23:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ad07071371541bbf52a88d289159854f7c20aed8', 'message': 'WIP - undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 15, 'created': '2018-04-30 23:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/010f082f518a811b009255774e9f3b04b7518dfa', 'message': 'WIP - undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 16, 'created': '2018-05-01 04:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/63db95a1ee2627530cf641112c6eb20a93cd84d7', 'message': 'WIP - undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 17, 'created': '2018-05-02 04:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f7375caa954748e774de8b15f8880b1148de565', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 18, 'created': '2018-05-02 14:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ee834fd443dfbf64df32f98e2ebc8b5d7d1bb2b', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 19, 'created': '2018-05-02 17:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e64a258687f4aff816f719ee44b7b1765b1c7011', 'message': 'undercloud: chown config to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well.\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n'}, {'number': 20, 'created': '2018-05-03 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5cdfeb4994badea3488ae492f345d5d0c9d276d7', 'message': ""undercloud: chown config/templates to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well. Same for generated THT.\n\nNote: no need to change permisisons for the deployment log file, it's\nreadable by the operator but not writable (which is fine).\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n""}, {'number': 21, 'created': '2018-05-03 17:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7226b51801e18ec212055c01a4c80d93b34b9baf', 'message': ""undercloud: chown config/templates to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well. Same for generated THT.\n\nNote: no need to change permisisons for the deployment log file, it's\nreadable by the operator but not writable (which is fine).\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n""}, {'number': 22, 'created': '2018-05-03 18:03:42.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a25d022e800be7735a20acefc4820baddfabbfd', 'message': ""undercloud: chown config/templates to deployment user\n\nFor tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,\nchange the permissions so the files are owned by the deployment user,\nand have 0600 mask.\n\nFor config-download directory, change the directory (recursively) so the\nfiles are owned by the deployment user as well. Same for generated THT.\n\nNote: no need to change permisisons for the deployment log file, it's\nreadable by the operator but not writable (which is fine).\n\nChange-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473\nCloses-Bug: #1761595\n""}]",21,559265,6a25d022e800be7735a20acefc4820baddfabbfd,90,8,22,3153,,,0,"undercloud: chown config/templates to deployment user

For tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,
change the permissions so the files are owned by the deployment user,
and have 0600 mask.

For config-download directory, change the directory (recursively) so the
files are owned by the deployment user as well. Same for generated THT.

Note: no need to change permisisons for the deployment log file, it's
readable by the operator but not writable (which is fine).

Change-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473
Closes-Bug: #1761595
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/559265/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_deploy.py'],1,1b18fe82bd99bd15129373801af993d608f1a6f5,bug/1761595,"DEPLOYMENT_USER = utils.get_deployment_user() # Secure password files shutil.chown(pw_file, user=DEPLOYMENT_USER) os.chown(pw_file, 0o600) shutil.chown(undercloud_pw_file, user=DEPLOYMENT_USER) os.chown(undercloud_pw_file, 0o600) # Make the config available from deployment user subprocess.check_call(['chown', '-R', DEPLOYMENT_USER, ansible_dir]) "," # Using chmod here instead of permissions on the open above so we don't # have to fight with umask. os.chmod(pw_file, 0o600) os.chmod(undercloud_pw_file, 0o600)",10,4
openstack%2Fopenstack-zuul-jobs~master~I114455d076623f627ca71adba3bcaeea92f347f8,openstack/openstack-zuul-jobs,master,I114455d076623f627ca71adba3bcaeea92f347f8,Do not merge: Test review for include_role issue,ABANDONED,2018-02-19 22:02:04.000000000,2018-07-04 16:28:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-19 22:02:04.000000000', 'files': ['roles/native/tasks/main.yaml', 'roles/included/tasks/main.yaml', 'tests/base.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/182541d66b4550f83b6c54ee565829a4cbb27178', 'message': 'Do not merge: Test review for include_role issue\n\nChange-Id: I114455d076623f627ca71adba3bcaeea92f347f8\n'}]",0,545994,182541d66b4550f83b6c54ee565829a4cbb27178,3,1,1,9061,,,0,"Do not merge: Test review for include_role issue

Change-Id: I114455d076623f627ca71adba3bcaeea92f347f8
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/94/545994/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/native/tasks/main.yaml', 'roles/included/tasks/main.yaml', 'tests/base.yaml']",3,182541d66b4550f83b6c54ee565829a4cbb27178,,"- hosts: all roles: - native tasks: - name: Include a role include_role: name: included when: tempest_post_devstack is not defined - hosts: all roles: - native vars: rolename: included tasks: - name: Include a role include_role: name: ""{{ rolename }}"" when: tempest_post_devstack is not defined",,23,0
openstack%2Fopenstack-zuul-jobs~master~I1ed92d21ad72b345fab996cce7eeca44d415e778,openstack/openstack-zuul-jobs,master,I1ed92d21ad72b345fab996cce7eeca44d415e778,Do not merge: test ara-report with base-minimal/base-test,ABANDONED,2018-03-16 03:16:38.000000000,2018-07-04 16:26:31.000000000,,"[{'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 03:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/183107fbcb7c88153e27d1b5dd640be5231e2677', 'message': 'Do not merge: Re-parent integration jobs to base-test\n\nThis is a test for the new ara-report role being tested with base-test.\n\nDepends-On: https://review.openstack.org/#/c/513874/\nChange-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778\n'}, {'number': 2, 'created': '2018-03-19 18:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1b20165c0004d2952fbe9299d7464b7149a512e6', 'message': 'Do not merge: Re-parent integration jobs to base-test\n\nThis is a test for the new ara-report role being tested with base-test.\n\nDepends-On: https://review.openstack.org/#/c/513874/\nChange-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778\n'}, {'number': 3, 'created': '2018-03-29 16:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/61b44b70d80e27164cf911e87e20bfc0441a9497', 'message': 'Do not merge: Re-parent integration jobs to base-test\n\nThis is a test for the new ara-report role being tested with base-test.\n\nDepends-On: https://review.openstack.org/#/c/513874/\nChange-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778\n'}, {'number': 4, 'created': '2018-03-29 17:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/275c93afc0824ad65751fd4e4931db5d781c589f', 'message': 'Do not merge: test ara-report parameters\n\nThis is a test for the new ara-report role being tested with base-test.\n\nChange-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778\n'}, {'number': 5, 'created': '2018-03-29 21:42:50.000000000', 'files': ['tests/base.yaml', 'tests/multinode.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8d018e7fad0a40af7429dc66a36bff1ab6eebb3e', 'message': 'Do not merge: test ara-report with base-minimal/base-test\n\nChange-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778\n'}]",0,553663,8d018e7fad0a40af7429dc66a36bff1ab6eebb3e,15,2,5,9061,,,0,"Do not merge: test ara-report with base-minimal/base-test

Change-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/63/553663/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/base.yaml', 'tests/multinode.yaml', 'zuul.d/jobs.yaml']",3,183107fbcb7c88153e27d1b5dd640be5231e2677,ara-sqlite-middleware, parent: base-test parent: base-test, parent: base-minimal parent: base-minimal vars: ara_generate_html: true,3,5
openstack%2Fansible-role-k8s-mariadb~master~I0398ce2b30eefb9c271f9e63b91abce544d912b6,openstack/ansible-role-k8s-mariadb,master,I0398ce2b30eefb9c271f9e63b91abce544d912b6,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:57:43.000000000,2018-07-04 16:25:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-09 19:57:43.000000000', 'files': ['tasks/provision.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-mariadb/commit/84992120aee870e45307ebd83f4b2f25b5c08372', 'message': 'Stop using the tripleoupstream docker.io namespace\n\ntripleoupstream is unmaintained and docker.io/tripleomaster should be\nused instead.\nThe ""latest"" tag is not used in this namespace so default to a tested\ntag: current-tripleo.\n\nChange-Id: I0398ce2b30eefb9c271f9e63b91abce544d912b6\n'}]",0,543005,84992120aee870e45307ebd83f4b2f25b5c08372,3,1,1,9061,,,0,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: I0398ce2b30eefb9c271f9e63b91abce544d912b6
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-mariadb refs/changes/05/543005/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/provision.yml'],1,84992120aee870e45307ebd83f4b2f25b5c08372,default-registry," image: ""triplemaster/centos-binary-mariadb:current-tripleo"" image: ""tripleomaster/centos-binary-mariadb:current-tripleo""", image: tripleoupstream/centos-binary-mariadb image: tripleoupstream/centos-binary-mariadb,2,2
openstack%2Fansible-role-k8s-keystone~master~I338e7c51a95369c823937fe70a8cdbd9c2e20d7e,openstack/ansible-role-k8s-keystone,master,I338e7c51a95369c823937fe70a8cdbd9c2e20d7e,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:56:06.000000000,2018-07-04 16:25:45.000000000,,"[{'_account_id': 1955}, {'_account_id': 6159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-09 19:56:06.000000000', 'files': ['tasks/provision.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-keystone/commit/1edff23a4c70adcdedb9b2ac70a56a751ed0eb20', 'message': 'Stop using the tripleoupstream docker.io namespace\n\ntripleoupstream is unmaintained and docker.io/tripleomaster should be\nused instead.\nThe ""latest"" tag is not used in this namespace so default to a tested\ntag: current-tripleo.\n\nChange-Id: I338e7c51a95369c823937fe70a8cdbd9c2e20d7e\n'}]",0,543004,1edff23a4c70adcdedb9b2ac70a56a751ed0eb20,5,3,1,9061,,,0,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: I338e7c51a95369c823937fe70a8cdbd9c2e20d7e
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-keystone refs/changes/04/543004/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/provision.yml'],1,1edff23a4c70adcdedb9b2ac70a56a751ed0eb20,default-registry," - image: ""tripleomaster/centos-binary-keystone:current-tripleo"" - image: ""tripleomaster/centos-binary-keystone-fernet:current-tripleo"" - image: ""tripleomaster/centos-binary-keystone:current-tripleo"" image: ""tripleomaster/centos-binary-keystone:current-tripleo""", - image: tripleoupstream/centos-binary-keystone - image: tripleoupstream/centos-binary-keystone-fernet - image: tripleoupstream/centos-binary-keystone image: tripleoupstream/centos-binary-keystone,4,4
openstack%2Fansible-role-k8s-glance~master~Iacb53a425fd8e3112a153195e62c5401158380b8,openstack/ansible-role-k8s-glance,master,Iacb53a425fd8e3112a153195e62c5401158380b8,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:54:21.000000000,2018-07-04 16:25:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-09 19:54:21.000000000', 'files': ['tasks/provision.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-glance/commit/159085984ef92619dcfce0008217f3bcd3f0c7ac', 'message': 'Stop using the tripleoupstream docker.io namespace\n\ntripleoupstream is unmaintained and docker.io/tripleomaster should be\nused instead.\nThe ""latest"" tag is not used in this namespace so default to a tested\ntag: current-tripleo.\n\nChange-Id: Iacb53a425fd8e3112a153195e62c5401158380b8\n'}]",0,543003,159085984ef92619dcfce0008217f3bcd3f0c7ac,3,1,1,9061,,,0,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: Iacb53a425fd8e3112a153195e62c5401158380b8
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-glance refs/changes/03/543003/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/provision.yml'],1,159085984ef92619dcfce0008217f3bcd3f0c7ac,default-registry," - image: ""tripleomaster/centos-binary-glance-api:current-tripleo"" image: ""tripleomaster/centos-binary-glance-api:current-tripleo""", - image: tripleoupstream/centos-binary-glance-api image: tripleoupstream/centos-binary-glance-api,2,2
openstack%2Fansible-role-k8s-tripleo~master~I57c52930ff5a00c53fc8c050a1654cca2f05280c,openstack/ansible-role-k8s-tripleo,master,I57c52930ff5a00c53fc8c050a1654cca2f05280c,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:49:34.000000000,2018-07-04 16:25:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-09 19:49:34.000000000', 'files': ['tasks/bootstrap-service-endpoints.yml', 'tasks/create-database.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-tripleo/commit/2ec3254f6c0512abfe93c77b10576b57d836e263', 'message': 'Stop using the tripleoupstream docker.io namespace\n\ntripleoupstream is unmaintained and docker.io/tripleomaster should be\nused instead.\nThe ""latest"" tag is not used in this namespace so default to a tested\ntag: current-tripleo.\n\nChange-Id: I57c52930ff5a00c53fc8c050a1654cca2f05280c\n'}]",0,543000,2ec3254f6c0512abfe93c77b10576b57d836e263,3,1,1,9061,,,0,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: I57c52930ff5a00c53fc8c050a1654cca2f05280c
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-tripleo refs/changes/00/543000/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/bootstrap-service-endpoints.yml', 'tasks/create-database.yml']",2,2ec3254f6c0512abfe93c77b10576b57d836e263,default-registry," - image: ""tripleomaster/centos-binary-mariadb:current-tripleo"""," - image: ""tripleoupstream/centos-binary-mariadb""",5,5
openstack%2Fansible-role-k8s-tripleo~master~I0036652afea6db746e198bf4ac0e03e683f7465a,openstack/ansible-role-k8s-tripleo,master,I0036652afea6db746e198bf4ac0e03e683f7465a,Add .gitreview,ABANDONED,2018-02-09 19:49:34.000000000,2018-07-04 16:25:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-09 19:49:34.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ansible-role-k8s-tripleo/commit/5798bd1304a531c1499b3c5b611383db63899aba', 'message': 'Add .gitreview\n\nChange-Id: I0036652afea6db746e198bf4ac0e03e683f7465a\n'}]",0,542999,5798bd1304a531c1499b3c5b611383db63899aba,3,1,1,9061,,,0,"Add .gitreview

Change-Id: I0036652afea6db746e198bf4ac0e03e683f7465a
",git fetch https://review.opendev.org/openstack/ansible-role-k8s-tripleo refs/changes/99/542999/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5798bd1304a531c1499b3c5b611383db63899aba,default-registry,[gerrit] host=review.openstack.org port=29418 project=openstack/ansible-role-k8s-tripleo.git ,,4,0
openstack%2Fproject-config~master~I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7,openstack/project-config,master,I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7,Exclude COMMAND=/bin/true from sudoers verification,ABANDONED,2017-10-27 12:38:42.000000000,2018-07-04 16:24:45.000000000,,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 12:38:42.000000000', 'files': ['jenkins/scripts/zuul-sudo-grep.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c993b3e58db739323d828d6dd1c0da90e0e3f7fe', 'message': ""Exclude COMMAND=/bin/true from sudoers verification\n\nWe're actually using the /bin/true command as a means to verify\nif sudo is enabled for a given user [1], we don't want this to\ntrigger an alarm that sudo was attempted because of that.\n\n[1]: http://git.openstack.org/cgit/openstack-infra/zuul-jobs/tree/roles/revoke-sudo/tasks/main.yaml\n\nChange-Id: I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7\n""}]",0,515700,c993b3e58db739323d828d6dd1c0da90e0e3f7fe,6,3,1,9061,,,0,"Exclude COMMAND=/bin/true from sudoers verification

We're actually using the /bin/true command as a means to verify
if sudo is enabled for a given user [1], we don't want this to
trigger an alarm that sudo was attempted because of that.

[1]: http://git.openstack.org/cgit/openstack-infra/zuul-jobs/tree/roles/revoke-sudo/tasks/main.yaml

Change-Id: I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/515700/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/zuul-sudo-grep.sh'],1,c993b3e58db739323d828d6dd1c0da90e0e3f7fe,,"PATTERN=""sudo.*zuul.*:.*(incorrect password attempts|command not allowed)(\!\?COMMAND=/bin/true)"" egrep ""$PATTERN"" $LOGFILE > /tmp/zuul-sudo-log/pre egrep ""$PATTERN"" $OLDLOGFILE > /tmp/zuul-sudo-log/post egrep ""$PATTERN"" $LOGFILE >> /tmp/zuul-sudo-log/post","PATTERN=""sudo.*zuul.*:.*\(incorrect password attempts\|command not allowed\)"" grep -h ""$PATTERN"" $LOGFILE > /tmp/zuul-sudo-log/pre grep -h ""$PATTERN"" $OLDLOGFILE > /tmp/zuul-sudo-log/post grep -h ""$PATTERN"" $LOGFILE >> /tmp/zuul-sudo-log/post",4,4
openstack%2Fopenstack-ansible~master~Iab3f57af5633ef34ef55077fe0d703247335efb5,openstack/openstack-ansible,master,Iab3f57af5633ef34ef55077fe0d703247335efb5,Do not merge: retrieve ara database,ABANDONED,2017-10-15 20:57:56.000000000,2018-07-04 16:24:38.000000000,,"[{'_account_id': 7353}, {'_account_id': 9061}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-10-15 20:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/30cd31f287d3af2b86f61319c7e196d9e56e877e', 'message': 'Do not merge: retrieve ara database\n\nChange-Id: Iab3f57af5633ef34ef55077fe0d703247335efb5\n'}, {'number': 2, 'created': '2017-10-16 00:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ef8a81d352a9e31914c92adc48418ec926314355', 'message': 'Do not merge: retrieve ara database\n\nChange-Id: Iab3f57af5633ef34ef55077fe0d703247335efb5\nDepends-On: I7ea2d242588f3203f5e31341e498f1d93db56ebf\n'}, {'number': 3, 'created': '2017-10-16 02:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a460b1467351dda4759e4e43f342e3dc3297510', 'message': 'Do not merge: retrieve ara database\n\nChange-Id: Iab3f57af5633ef34ef55077fe0d703247335efb5\n'}, {'number': 4, 'created': '2017-10-16 02:15:52.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e2719fa1666653186589b27d104ef59bc178caa', 'message': 'Do not merge: retrieve ara database\n\nChange-Id: Iab3f57af5633ef34ef55077fe0d703247335efb5\n'}]",0,512115,6e2719fa1666653186589b27d104ef59bc178caa,14,4,4,9061,,,0,"Do not merge: retrieve ara database

Change-Id: Iab3f57af5633ef34ef55077fe0d703247335efb5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/512115/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,30cd31f287d3af2b86f61319c7e196d9e56e877e,, cp ~/.ara/ansible.sqlite ${GATE_LOG_DIR}/ || true,,1,0
openstack%2Fpuppet-openstack-integration~master~Ia2ac79a8392544b147938af2b4bacca60d89c2b6,openstack/puppet-openstack-integration,master,Ia2ac79a8392544b147938af2b4bacca60d89c2b6,WIP: Add role to validate Zuul variables,ABANDONED,2017-10-13 20:29:01.000000000,2018-07-04 16:24:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-10-13 20:29:01.000000000', 'files': ['playbooks/roles/r10k/meta/main.yaml', 'playbooks/roles/validate-zuul-variables/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1f692c823f5b600e5e204bdba71847f6648e0bc6', 'message': 'WIP: Add role to validate Zuul variables\n\nChange-Id: Ia2ac79a8392544b147938af2b4bacca60d89c2b6\n'}]",0,511958,1f692c823f5b600e5e204bdba71847f6648e0bc6,5,1,1,9061,,,0,"WIP: Add role to validate Zuul variables

Change-Id: Ia2ac79a8392544b147938af2b4bacca60d89c2b6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/511958/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/r10k/meta/main.yaml', 'playbooks/roles/validate-zuul-variables/tasks/main.yaml']",2,1f692c823f5b600e5e204bdba71847f6648e0bc6,,"- when: variables is defined block: - name: Validate that the required Zuul variables are available assert: that: - item is defined with_items: ""{{ variables }}"" rescue: - name: An expected variable was undefined fail: msg: | A variable expected to be provided was missing. There was either a problem or you are not running inside a Zuul v3 environment. Please make sure to supply the following variable(s) when running your playbook: {{ variables | join(', ') }} ",,22,0
openstack%2Fdevstack-gate~master~Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f,openstack/devstack-gate,master,Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f,"DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs",ABANDONED,2017-09-08 19:37:37.000000000,2018-07-04 16:24:23.000000000,,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 6593}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-08 19:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7647a1262033cc92832ce24183e514fe1040c618', 'message': 'DNM: Try centos-7 and opensuse-423 devstack jobs\n\nChange-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f\n'}, {'number': 2, 'created': '2017-09-08 19:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/bf29f3544de335e7bcaa4cd28728e97a24ead6d9', 'message': 'DNM: Try centos-7 and opensuse-423 devstack jobs\n\nChange-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f\n'}, {'number': 3, 'created': '2017-09-08 23:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cc1e671ebfd9e1896d87700368ee7ab38ae9aa5c', 'message': 'DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs\n\nChange-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f\n'}, {'number': 4, 'created': '2017-09-08 23:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/dc1a307799c418c85b26002ef34d5e0f6d1ab935', 'message': 'DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs\n\nChange-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f\n'}, {'number': 5, 'created': '2017-09-13 15:49:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/88ba584d3e4a40dbe28f5096fad579e771a0c2a3', 'message': 'DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs\n\nChange-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f\n'}]",2,502147,88ba584d3e4a40dbe28f5096fad579e771a0c2a3,50,5,5,9061,,,0,"DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs

Change-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/47/502147/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7647a1262033cc92832ce24183e514fe1040c618,zuulv3," name: devstack-ubuntu-xenial-single-node- nodeset: name: devstack-opensuse-423-single-node nodes: - name: primary label: opensuse-423 - nodeset: name: devstack-centos-7-single-node nodes: - name: primary label: centos-7 name: devstack-legacy-ubuntu-tempest-dsvm-neutron-full nodes: devstack-ubuntu-xenial-single-node vars: devstack_local_conf_contents: | [[local|localrc]] ENABLE_FILE_INJECTION=True devstack_legacy_shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TLSPROXY=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh - job: name: devstack-legacy-opensuse-423-tempest-dsvm-neutron-full parent: devstack-legacy nodes: devstack-opensuse-423-single-node vars: devstack_local_conf_contents: | [[local|localrc]] ENABLE_FILE_INJECTION=True devstack_legacy_shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TLSPROXY=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh - job: name: devstack-legacy-centos-7-tempest-dsvm-neutron-full parent: devstack-legacy nodes: devstack-centos-7-single-node - devstack-legacy-ubuntu-xenial-tempest-dsvm-neutron-full - devstack-legacy-opensuse-423-tempest-dsvm-neutron-full - devstack-legacy-centos-7-tempest-dsvm-neutron-full", name: devstack-single-node nodes: devstack-single-node name: devstack-legacy-tempest-dsvm-neutron-full - devstack-legacy-tempest-dsvm-neutron-full: files: - ^playbooks/legacy-pre - ^playbooks/legacy-post - ^playbooks/devstack-legacy ,62,9
openstack%2Fdevstack-gate~master~Ic82f006644d6414b5ad47c444562ba0c5eb0bba0,openstack/devstack-gate,master,Ic82f006644d6414b5ad47c444562ba0c5eb0bba0,Add ansible-lint and ansible-playbook syntax as a non-voting job,ABANDONED,2017-08-26 03:12:29.000000000,2018-07-04 16:23:54.000000000,,"[{'_account_id': 4162}, {'_account_id': 6589}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-26 03:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/170e59e52b4ecd80c4b43b0a4696ae14b03cf963', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remote the 'bashate' v2 job.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 2, 'created': '2017-08-26 03:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8c11cc2dfa63f73151d412d4a0613f5386e4265e', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 3, 'created': '2017-08-26 03:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c47ee58b28009f9fb68f77b4f089b70f1136d65d', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 4, 'created': '2017-09-03 14:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cd1c7127d03511fd4390be7ec9c0c4961903f975', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 5, 'created': '2017-09-03 14:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ad82cb3a5775ae6efcdded0663882ec219135525', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 6, 'created': '2017-09-03 14:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/5272c069d5e03b2f3d0b2cb43a08179383dcf3fc', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 7, 'created': '2017-09-03 15:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4aa4e9bbb5fed92a6911c739bd31dad770a6ac3d', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}, {'number': 8, 'created': '2017-09-03 15:50:19.000000000', 'files': ['tests/inventory', 'tests/ansible.cfg', 'test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/49d300c32614fe68c45b1e3c9065c43cb94a265c', 'message': ""Add ansible-lint and ansible-playbook syntax as a non-voting job\n\nIt also aggregates bashate so we can remove the 'bashate' v2 job.\nansible-lint and ansible-playbook syntax check should hopefully help\nus find errors easily.\n\nChange-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0\n""}]",8,498140,49d300c32614fe68c45b1e3c9065c43cb94a265c,23,4,8,9061,,,0,"Add ansible-lint and ansible-playbook syntax as a non-voting job

It also aggregates bashate so we can remove the 'bashate' v2 job.
ansible-lint and ansible-playbook syntax check should hopefully help
us find errors easily.

Change-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/40/498140/8 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'run-linters.sh', '.zuul.yaml', 'tox.ini']",4,170e59e52b4ecd80c4b43b0a4696ae14b03cf963,zuulv3,"envlist = bashate,lintersinstall_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} deps = -r{toxinidir}/test-requirements.txt whitelist_externals = bashbasepython = python2 bash -c ""./run-tests.sh"" bash -c ""./run-tests.sh"" [testenv:linters] setenv = ANSIBLE_ROLES_PATH = roles:playbooks/roles commands = bash -c ""./run-linters.sh"" bash -c ""ls *.sh | xargs bashate -v {posargs} -iE006 -eE005""","envlist = bashateinstall_command = pip install -U {opts} {packages}deps = -r{toxinidir}/test-requirements.txt bash -c ""./run-tests.sh""deps = -r{toxinidir}/test-requirements.txt bash -c ""./run-tests.sh""deps= {env:BASHATE_INSTALL_PATH:bashate==0.5.0} whitelist_externals= bash bash -c ""ls *.sh | xargs bashate -v {posargs} -iE006 -eE005""",35,11
openstack%2Fdevstack-gate~master~I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1,openstack/devstack-gate,master,I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1,Dynamically retrieve the location of ARA to work on both py2 & py3,ABANDONED,2017-07-23 01:43:15.000000000,2018-07-04 16:23:46.000000000,,[{'_account_id': 6589}],"[{'number': 1, 'created': '2017-07-23 01:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/557cd90b2bb9976e57caa44324becf82c305bfa4', 'message': ""Dynamically retrieve the location of ARA to work on both py2 & py3\n\nRemove the hardcoded callback path with python2.7 and use the\nvirtualenv python to determine the path where ARA is installed so\nthat no matter if we're running py2 or py3, it will work.\n\nChange-Id: I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1\n""}, {'number': 2, 'created': '2017-08-04 01:17:15.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3c02b4d73b2f0a6925668cd2bf5f3962a0346b0a', 'message': ""Dynamically retrieve the location of ARA to work on both py2 & py3\n\nRemove the hardcoded callback path with python2.7 and use the\nvirtualenv python to determine the path where ARA is installed so\nthat no matter if we're running py2 or py3, it will work.\n\nChange-Id: I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1\n""}]",0,486356,3c02b4d73b2f0a6925668cd2bf5f3962a0346b0a,9,1,2,9061,,,0,"Dynamically retrieve the location of ARA to work on both py2 & py3

Remove the hardcoded callback path with python2.7 and use the
virtualenv python to determine the path where ARA is installed so
that no matter if we're running py2 or py3, it will work.

Change-Id: I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/56/486356/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,557cd90b2bb9976e57caa44324becf82c305bfa4,ara-py3,"# Dynamically retrieve the location of the ARA callback so we are able to find # it on both py2 and py3 ara_location=$(/tmp/ansible/bin/python -c ""import os,ara; print(os.path.dirname(ara.__file__))"")callback_plugins = $WORKSPACE/devstack-gate/playbooks/plugins/callback:${ara_location}/plugins/callbacks",callback_plugins = $WORKSPACE/devstack-gate/playbooks/plugins/callback:/tmp/ansible/lib/python2.7/site-packages/ara/plugins/callbacks,4,1
openstack%2Ftripleo-common~master~I671bd1ba60e39c2809e3dad03fa3f7579389f581,openstack/tripleo-common,master,I671bd1ba60e39c2809e3dad03fa3f7579389f581,Test container images from trunk.registry.rdoproject.org,ABANDONED,2017-05-24 15:09:36.000000000,2018-07-04 16:23:39.000000000,,"[{'_account_id': 1955}, {'_account_id': 9061}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-05-24 15:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba073ae8b5088402007d49c064fcd3fb2dea9b55', 'message': 'Test container images from trunk.registry.rdoproject.org\n\nChange-Id: I671bd1ba60e39c2809e3dad03fa3f7579389f581\n'}, {'number': 2, 'created': '2017-05-24 18:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d54050b32fbab12b4ff2c265cab79b1d8cc9cd43', 'message': 'Test container images from trunk.registry.rdoproject.org\n\nChange-Id: I671bd1ba60e39c2809e3dad03fa3f7579389f581\n'}, {'number': 3, 'created': '2017-05-29 18:24:21.000000000', 'files': ['container-images/overcloud_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e068f0fcd74a4436bb41c28a02c33b690667fa26', 'message': 'Test container images from trunk.registry.rdoproject.org\n\nChange-Id: I671bd1ba60e39c2809e3dad03fa3f7579389f581\n'}]",0,467651,e068f0fcd74a4436bb41c28a02c33b690667fa26,22,3,3,9061,,,0,"Test container images from trunk.registry.rdoproject.org

Change-Id: I671bd1ba60e39c2809e3dad03fa3f7579389f581
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/467651/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml'],1,ba073ae8b5088402007d49c064fcd3fb2dea9b55,,- imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-aodh-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-aodh-evaluator:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-aodh-listener:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-aodh-notifier:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-ceilometer-central:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-ceilometer-compute:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-ceilometer-notification:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-cinder-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-cinder-backup:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-cinder-scheduler:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-etcd:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-glance-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-gnocchi-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-gnocchi-metricd:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-gnocchi-statsd:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-heat-api-cfn:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-heat-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-heat-engine:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-horizon:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-ironic-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-ironic-conductor:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-ironic-pxe:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-keystone:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-mariadb:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-memcached:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-mistral-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-mistral-engine:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-mistral-executor:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-mongodb:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-neutron-dhcp-agent:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-neutron-l3-agent:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-neutron-metadata-agent:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-neutron-openvswitch-agent:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-neutron-server:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-base:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-compute-ironic:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-compute:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-conductor:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-libvirt:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-placement-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-nova-scheduler:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-panko-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-rabbitmq:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-redis:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-sahara-api:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-sahara-engine:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-swift-account:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-swift-container:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-swift-object:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-swift-proxy-server:latest - imagename: trunk.registry.rdoproject.org/tripleo/centos-binary-zaqar:latest,- imagename: tripleoupstream/centos-binary-aodh-api:latest - imagename: tripleoupstream/centos-binary-aodh-evaluator:latest - imagename: tripleoupstream/centos-binary-aodh-listener:latest - imagename: tripleoupstream/centos-binary-aodh-notifier:latest - imagename: tripleoupstream/centos-binary-ceilometer-central:latest - imagename: tripleoupstream/centos-binary-ceilometer-compute:latest - imagename: tripleoupstream/centos-binary-ceilometer-notification:latest - imagename: tripleoupstream/centos-binary-cinder-api:latest - imagename: tripleoupstream/centos-binary-cinder-backup:latest - imagename: tripleoupstream/centos-binary-cinder-scheduler:latest - imagename: tripleoupstream/centos-binary-etcd:latest - imagename: tripleoupstream/centos-binary-glance-api:latest - imagename: tripleoupstream/centos-binary-gnocchi-api:latest - imagename: tripleoupstream/centos-binary-gnocchi-metricd:latest - imagename: tripleoupstream/centos-binary-gnocchi-statsd:latest - imagename: tripleoupstream/centos-binary-heat-api-cfn:latest - imagename: tripleoupstream/centos-binary-heat-api:latest - imagename: tripleoupstream/centos-binary-heat-engine:latest - imagename: tripleoupstream/centos-binary-horizon:latest - imagename: tripleoupstream/centos-binary-ironic-api:latest - imagename: tripleoupstream/centos-binary-ironic-conductor:latest - imagename: tripleoupstream/centos-binary-ironic-pxe:latest - imagename: tripleoupstream/centos-binary-keystone:latest - imagename: tripleoupstream/centos-binary-mariadb:latest - imagename: tripleoupstream/centos-binary-memcached:latest - imagename: tripleoupstream/centos-binary-mistral-api:latest - imagename: tripleoupstream/centos-binary-mistral-engine:latest - imagename: tripleoupstream/centos-binary-mistral-executor:latest - imagename: tripleoupstream/centos-binary-mongodb:latest - imagename: tripleoupstream/centos-binary-neutron-dhcp-agent:latest - imagename: tripleoupstream/centos-binary-neutron-l3-agent:latest - imagename: tripleoupstream/centos-binary-neutron-metadata-agent:latest - imagename: tripleoupstream/centos-binary-neutron-openvswitch-agent:latest - imagename: tripleoupstream/centos-binary-neutron-server:latest - imagename: tripleoupstream/centos-binary-nova-api:latest - imagename: tripleoupstream/centos-binary-nova-base:latest - imagename: tripleoupstream/centos-binary-nova-compute-ironic:latest - imagename: tripleoupstream/centos-binary-nova-compute:latest - imagename: tripleoupstream/centos-binary-nova-conductor:latest - imagename: tripleoupstream/centos-binary-nova-libvirt:latest - imagename: tripleoupstream/centos-binary-nova-placement-api:latest - imagename: tripleoupstream/centos-binary-nova-scheduler:latest - imagename: tripleoupstream/centos-binary-panko-api:latest - imagename: tripleoupstream/centos-binary-rabbitmq:latest - imagename: tripleoupstream/centos-binary-redis:latest - imagename: tripleoupstream/centos-binary-sahara-api:latest - imagename: tripleoupstream/centos-binary-sahara-engine:latest - imagename: tripleoupstream/centos-binary-swift-account:latest - imagename: tripleoupstream/centos-binary-swift-container:latest - imagename: tripleoupstream/centos-binary-swift-object:latest - imagename: tripleoupstream/centos-binary-swift-proxy-server:latest - imagename: tripleoupstream/centos-binary-zaqar:latest,52,52
openstack%2Fpuppet-openstack-integration~master~I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf,openstack/puppet-openstack-integration,master,I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf,WIP: Translate run_test.sh framework to Ansible,ABANDONED,2016-11-29 23:22:32.000000000,2018-07-04 16:23:29.000000000,,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9061}]","[{'number': 1, 'created': '2016-11-29 23:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5dc47b08cd2a1038a479be6118685b91eb5fa0d1', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 2, 'created': '2016-11-29 23:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eb11968b9719e3c7198d656e74e6992244c407cc', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 3, 'created': '2016-11-29 23:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e0e01b2632716eb88e6d31901be50915d2bff22e', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 4, 'created': '2016-11-29 23:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d6f557f333435ce8f2c9ceeb2d49559e624d28da', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 5, 'created': '2016-12-01 01:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8620e0b8bc6d2a4eab141b3efc20d019f1056e9c', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 6, 'created': '2016-12-01 01:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2e8f2248050850f62bae7a9979797783ef8b5e9b', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 7, 'created': '2016-12-03 15:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bf8415085c166eca56f47963e0f5dc31a3cfceae', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 8, 'created': '2016-12-03 15:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f9ce4aafe88086bdce221b1fc12340554dcdcd23', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 9, 'created': '2016-12-03 15:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b148961b2dc3714bb06cceb7dab91fa8dc0578d3', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 10, 'created': '2016-12-03 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0058e06407fe6823b8b2c5d6c5e699389767c449', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 11, 'created': '2016-12-03 15:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fa7f162992c70408efce872815cdc07e995d6448', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 12, 'created': '2016-12-03 15:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b0caf231cec20ec0d095d2a43f69712d7ead0a3', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 13, 'created': '2016-12-03 15:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fabbdb6a94d878f18c42c2d30d3cb528e008c942', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 14, 'created': '2016-12-03 16:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/27eab7a47fbeb894b8439ecf3342ecb61e04cc29', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 15, 'created': '2016-12-03 16:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2c8d753bad661f74cea6486e8113bc4e8ac29eca', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 16, 'created': '2016-12-03 16:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/407d70523281d82186fb16b3ab0bcaa20c628d78', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 17, 'created': '2016-12-03 16:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/78bc4a68a336ff9b49fe27cf8db760de236d04e2', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 18, 'created': '2016-12-03 16:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dcda7fd251a9ee7d8cde485cb483efc4345a774c', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 19, 'created': '2016-12-03 16:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42e1891a1b6585caad259421a44426898d6792af', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 20, 'created': '2016-12-04 15:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/01c382100a30404843a35f9d7df333d82f2b5fbf', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 21, 'created': '2016-12-04 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/640ee2754975d4a903d1aedf058090aacdab7275', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 22, 'created': '2016-12-04 15:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cd312906c7eff9f1728f664830bff590ad714979', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 23, 'created': '2016-12-04 16:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a848ad4aa355fb4d18bbfbde3c0bc4572a67e927', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 24, 'created': '2016-12-04 16:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8aca9d332bb27736192db63da2536cb812309e64', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 25, 'created': '2016-12-04 16:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2aa06dfba5507108b1a9be6a0975a4ac39395273', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 26, 'created': '2016-12-04 16:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3756796cc16146d3fb986ff375ca39bef44d1e24', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 27, 'created': '2016-12-04 16:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4a16917856208cd527056ecf30db40307df8c499', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 28, 'created': '2016-12-04 16:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b2f0378ff6a627148f2df814252790b42a4017d8', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 29, 'created': '2016-12-05 18:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/be56450477300f416847155f008379f1263cc626', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 30, 'created': '2016-12-05 19:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5794f4f21fd3366506a896f5cb6ec9f09ad8bea3', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 31, 'created': '2016-12-05 19:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/75aaa6447508258cd213d65c4d431c971829925a', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 32, 'created': '2017-02-12 20:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ebe4d72878fa735487ed551c9cd80dc1bf854102', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 33, 'created': '2017-04-25 13:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8fe3d25aa15a6b22babaf679229122cdc2b0cdcd', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 34, 'created': '2017-04-25 14:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/04789188e0da3f2fc164b6550fca5b9370df8459', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 35, 'created': '2017-04-25 15:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0f4b229b5e11acd781e0439f7a1784e454f2b8c1', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 36, 'created': '2017-04-25 15:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/abce80250ac6cf72a12fb631b8ebc849381492dc', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}, {'number': 37, 'created': '2017-04-25 16:14:08.000000000', 'files': ['tests/integration-tests.yml', 'tests/roles/setup/vars/Ubuntu.yml', 'run_tests.sh', 'tests/roles/setup/defaults/main.yml', 'tests/roles/setup/files/dstat.service', 'bindep.txt', 'tests/roles/setup/tasks/external.yml', 'tests/roles/setup/tasks/main.yml', 'tests/roles/setup/tasks/base.yml', 'tests/roles/setup/tasks/gate.yml', 'tests/roles/setup/vars/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8b9a9ac4f293985bac0e41df82dde3e6975891bb', 'message': 'WIP: Translate run_test.sh framework to Ansible\n\nThis is a rough draft, obviously, and very WIP.\nFeel free to discuss.\n\nChange-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf\n'}]",0,404471,8b9a9ac4f293985bac0e41df82dde3e6975891bb,67,3,37,9061,,,0,"WIP: Translate run_test.sh framework to Ansible

This is a rough draft, obviously, and very WIP.
Feel free to discuss.

Change-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/404471/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/integration-tests.yml', 'run_tests.sh', 'tests/roles/setup/defaults/main.yml', 'tests/roles/setup/vars/Ubuntu.yml', 'tests/roles/setup/files/dstat.service', 'tests/roles/setup/tasks/external.yml', 'tests/roles/setup/tasks/main.yml', 'tests/roles/setup/tasks/base.yml', 'tests/roles/setup/tasks/gate.yml', 'tests/roles/setup/vars/RedHat.yml']",10,5dc47b08cd2a1038a479be6118685b91eb5fa0d1,ansible,"--- base_packages: - dstat - setools - setroubleshoot - audit package_suffix: ""rpm"" puppet_release: ""puppetlabs-release-pc1"" puppet_release_url: ""http://yum.puppetlabs.com/{{ puppet_release }}-el-7.noarch.rpm"" ",,225,224
openstack%2Fpuppet-nova~master~Ib147e84d1ed8dee7527be16ddd04ad06b13276fa,openstack/puppet-nova,master,Ib147e84d1ed8dee7527be16ddd04ad06b13276fa,WIP: Add a nova_keypair provider,ABANDONED,2016-09-12 18:22:10.000000000,2018-07-04 16:22:56.000000000,,"[{'_account_id': 3}, {'_account_id': 8297}, {'_account_id': 8971}, {'_account_id': 9061}, {'_account_id': 18795}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-09-12 18:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/36fcb4c5c0521ded7a8f7ee172ff7a98793cbe65', 'message': 'WIP: Add a nova_keypair provider\n\nThis is a WIP to add a nova_keypair provider that would ideally be\nused like so:\n\n    nova_keypair { \'keypair\'\n        ensure       => present,\n        public_key   => \'/root/.ssh/id_rsa.pub\'\n        project_name => \'some_project\'\n    }\n\nThe challenge lies in the fact that the ""openstack keypair create""\ncommand does not have a ""project id"" or ""project name"" parameter\nin order to choose where the keypair will be created.\n\nIn order to create a keypair in a particular project, it is required\nto ""impersonate"" (authenticate as) another project.\nIt seems there is a way to do things like that [1] but I haven\'t got\nit to work yet.\n\n[1]: https://github.com/openstack/puppet-keystone/blob/master/lib/puppet/provider/keystone_user/openstack.rb#L105-L145\n\nChange-Id: Ib147e84d1ed8dee7527be16ddd04ad06b13276fa\n'}, {'number': 2, 'created': '2017-04-29 12:09:22.000000000', 'files': ['lib/puppet/type/nova_keypair.rb', 'lib/puppet/provider/nova_keypair/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/403ea19c50619d791966a95ee47397ba88bd2143', 'message': 'WIP: Add a nova_keypair provider\n\nThis is a WIP to add a nova_keypair provider that would ideally be\nused like so:\n\n    nova_keypair { \'keypair\'\n        ensure       => present,\n        public_key   => \'/root/.ssh/id_rsa.pub\'\n        project_name => \'some_project\'\n    }\n\nThe challenge lies in the fact that the ""openstack keypair create""\ncommand does not have a ""project id"" or ""project name"" parameter\nin order to choose where the keypair will be created.\n\nIn order to create a keypair in a particular project, it is required\nto ""impersonate"" (authenticate as) another project.\nIt seems there is a way to do things like that [1] but I haven\'t got\nit to work yet.\n\n[1]: https://github.com/openstack/puppet-keystone/blob/master/lib/puppet/provider/keystone_user/openstack.rb#L105-L145\n\nChange-Id: Ib147e84d1ed8dee7527be16ddd04ad06b13276fa\n'}]",0,369003,403ea19c50619d791966a95ee47397ba88bd2143,19,6,2,9061,,,0,"WIP: Add a nova_keypair provider

This is a WIP to add a nova_keypair provider that would ideally be
used like so:

    nova_keypair { 'keypair'
        ensure       => present,
        public_key   => '/root/.ssh/id_rsa.pub'
        project_name => 'some_project'
    }

The challenge lies in the fact that the ""openstack keypair create""
command does not have a ""project id"" or ""project name"" parameter
in order to choose where the keypair will be created.

In order to create a keypair in a particular project, it is required
to ""impersonate"" (authenticate as) another project.
It seems there is a way to do things like that [1] but I haven't got
it to work yet.

[1]: https://github.com/openstack/puppet-keystone/blob/master/lib/puppet/provider/keystone_user/openstack.rb#L105-L145

Change-Id: Ib147e84d1ed8dee7527be16ddd04ad06b13276fa
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/03/369003/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/nova_keypair.rb', 'lib/puppet/provider/nova_keypair/openstack.rb']",2,36fcb4c5c0521ded7a8f7ee172ff7a98793cbe65,magnum-testing,"require File.join(File.dirname(__FILE__), '..','..','..', 'puppet/provider/nova') Puppet::Type.type(:nova_keypair).provide( :openstack, :parent => Puppet::Provider::Nova ) do desc <<-EOT Manage Nova keypair EOT @credentials = Puppet::Provider::Openstack::CredentialsV2_0.new def initialize(value={}) super(value) @property_flush = {} end def create opts = [@resource[:name]] opts << '--public-key' << @resource[:public_key] @property_hash = self.class.request('keypair', 'create', opts) @property_hash[:ensure] = :present end def exists? @property_hash[:ensure] == :present end def destroy self.class.request('keypair', 'delete', @property_hash[:name]) end mk_resource_methods def name=(value) fail('name is read only') end def public_key=(value) fail('public_key is read only') end def self.instances request('keypair', 'list').collect do |attrs| properties = Hash[attrs[:properties].scan(/(\S+)='([^']*)'/)] rescue nil new( :ensure => :present, :name => attrs[:name], ) end end def self.prefetch(resources) keypairs = instances resources.keys.each do |name| if provider = keypairs.find{ |keypair| keypair.name == name } resources[name].provider = provider end end end private end ",,115,0
openstack%2Fkolla-ansible~master~I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1,openstack/kolla-ansible,master,I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1,Refactor the baremetal role,ABANDONED,2016-12-16 17:43:39.000000000,2018-07-04 16:22:28.000000000,,"[{'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 9061}, {'_account_id': 11604}, {'_account_id': 13039}, {'_account_id': 23157}]","[{'number': 1, 'created': '2016-12-16 17:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e065979705ca54db5e3dbd7776260145d567a37b', 'message': 'WIP: Refactor the baremetal role\n\n- Use best practices for including OS family or distribution vars\n- Use blocks to re-group several tasks that use the same condition\n- Remove some superfluous/unnecessary tasks\n- docker-py is now installed from binary instead of source, the\n  base operating systems (Debian, Ubuntu, CentOS/RHEL) all have\n  a high enough version to satisfy our requirements\n- Re-order and move some tasks from pre-install to install\n- Standardize syntax on proper yaml dict layout (foo=bar vs foo: bar)\n\nChange-Id: I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1\n'}, {'number': 2, 'created': '2016-12-16 19:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b212ef80f9d90ffb1ba10b7fda4e6873644c218d', 'message': ""WIP: Refactor the baremetal role\n\n- Use best practices for including OS family or distribution vars\n- Use blocks to re-group several tasks that use the same condition\n- Remove some superfluous/unnecessary tasks\n- docker-py is now installed from binary instead of source, the\n  base operating systems (Debian, Ubuntu, CentOS/RHEL) all have\n  a high enough version to satisfy our requirements\n- Re-order/move/merge some tasks between pre-install/install/post-install\n- Standardize syntax on proper yaml dict layout (foo=bar vs foo: bar)\n- Don't needlessly do things (ex: restart docker all the time)\n- Only return a changed status when relevant to do so, re-running the\n  same role twice should not yield any changed statuses\n\nChange-Id: I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1\n""}, {'number': 3, 'created': '2016-12-16 21:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1784551a885b591fc18db009fad04226fb219336', 'message': ""Refactor the baremetal role\n\nThe purpose of this patch is to be mostly no-op - it doesn't\nchange the end result, it cleans up, re-organizes and optimizes\nthe tasks.\nThe only actual difference is that now docker-py is installed\nfrom packages instead of from pip.\n\nSummary of changes:\n- Use best practices for including OS family or distribution vars\n- Use blocks to re-group several tasks that use the same condition\n- Remove some superfluous/unnecessary tasks\n- docker-py is now installed from binary instead of source, the\n  base operating systems (Debian, Ubuntu, CentOS/RHEL) all have\n  a high enough version to satisfy our requirements\n- Re-order/move/merge some tasks between pre-install/install/post-install\n- Standardize syntax on proper yaml dict layout (foo=bar vs foo: bar)\n- Don't needlessly do things (ex: restart docker all the time)\n- Only return a changed status when relevant to do so, re-running the\n  same role twice should not yield any changed statuses\n\nChange-Id: I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1\n""}, {'number': 4, 'created': '2016-12-21 14:16:12.000000000', 'files': ['ansible/roles/baremetal/vars/Debian.yml', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/baremetal/tasks/main.yml', 'ansible/roles/baremetal/vars/Ubuntu.yml', 'ansible/roles/baremetal/tasks/pre-install.yml', 'releasenotes/notes/bootstrap-servers-refactor-4e184d682c88d96a.yaml', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/baremetal/vars/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a46c40dbbc20be7d89dad9f6252cfaf74984d3d0', 'message': ""Refactor the baremetal role\n\nThe purpose of this patch is to be mostly no-op - it doesn't\nchange the end result, it cleans up, re-organizes and optimizes\nthe tasks.\nThe only actual difference is that now docker-py is installed\nfrom packages instead of from pip.\n\nSummary of changes:\n- Use best practices for including OS family or distribution vars\n- Use blocks to re-group several tasks that use the same condition\n- Remove some superfluous/unnecessary tasks\n- docker-py is now installed from binary instead of pip, the\n  base operating systems (Debian, Ubuntu, CentOS/RHEL) all have\n  a high enough version to satisfy our requirements\n- Re-order/move/merge some tasks between pre-install/install/post-install\n- Standardize syntax on proper yaml dict layout (foo=bar vs foo: bar)\n- Don't needlessly do things (ex: restart docker all the time)\n- Only return a changed status when relevant to do so, re-running the\n  same role twice should not yield any changed statuses\n\nChange-Id: I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1\n""}]",31,411930,a46c40dbbc20be7d89dad9f6252cfaf74984d3d0,23,8,4,9061,,,0,"Refactor the baremetal role

The purpose of this patch is to be mostly no-op - it doesn't
change the end result, it cleans up, re-organizes and optimizes
the tasks.
The only actual difference is that now docker-py is installed
from packages instead of from pip.

Summary of changes:
- Use best practices for including OS family or distribution vars
- Use blocks to re-group several tasks that use the same condition
- Remove some superfluous/unnecessary tasks
- docker-py is now installed from binary instead of pip, the
  base operating systems (Debian, Ubuntu, CentOS/RHEL) all have
  a high enough version to satisfy our requirements
- Re-order/move/merge some tasks between pre-install/install/post-install
- Standardize syntax on proper yaml dict layout (foo=bar vs foo: bar)
- Don't needlessly do things (ex: restart docker all the time)
- Only return a changed status when relevant to do so, re-running the
  same role twice should not yield any changed statuses

Change-Id: I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/411930/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/vars/Debian.yml', 'ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/baremetal/tasks/main.yml', 'ansible/roles/baremetal/vars/Ubuntu.yml', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/baremetal/vars/RedHat.yml']",8,e065979705ca54db5e3dbd7776260145d567a37b,weirdo-kolla,--- baremetal_install_packages: - deltarpm - docker-engine-1.11.0 - epel-release - git - ntp - python-docker-py - python-setuptools baremetal_remove_packages: - libvirt ,,187,193
openstack%2Fdevstack-gate~master~If5036341ba8b280320ef62ee2644ecc2c135b8a6,openstack/devstack-gate,master,If5036341ba8b280320ef62ee2644ecc2c135b8a6,DNM: Test devstack-legacy multinode,ABANDONED,2017-09-13 16:22:41.000000000,2018-07-04 16:22:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-09-13 16:22:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8adbf939ca4afea30122ea56983484b72dee06d2', 'message': 'DNM: Test devstack-legacy multinode\n\nChange-Id: If5036341ba8b280320ef62ee2644ecc2c135b8a6\n'}]",0,503734,8adbf939ca4afea30122ea56983484b72dee06d2,6,1,1,9061,,,0,"DNM: Test devstack-legacy multinode

Change-Id: If5036341ba8b280320ef62ee2644ecc2c135b8a6
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/34/503734/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8adbf939ca4afea30122ea56983484b72dee06d2,zuulv3," parent: multinode name: devstack-legacy-multinode-tempest-full NOVA_VNC_ENABLED=true VNCSERVER_LISTEN=0.0.0.0 VNCSERVER_PROXYCLIENT_ADDRESS=$HOST_IP export DEVSTACK_GATE_CONFIGDRIVE=0 export BRANCH_OVERRIDE={branch-override} export DEVSTACK_GATE_TOPOLOGY=""multinode"" name: devstack-legacy-multinode-ubuntu-xenial-tempest-full parent: devstack-legacy-multinode-tempest-full nodes: ubuntu-xenial-2-node name: devstack-legacy-multinode-centos-7-tempest-full parent: devstack-legacy-multinode-tempest-full nodes: centos-7-2-node - devstack-legacy-multinode-ubuntu-xenial-tempest-full - devstack-legacy-multinode-centos-7-tempest-full","- nodeset: name: devstack-ubuntu-xenial-single-node nodes: - name: primary label: ubuntu-xenial - nodeset: name: devstack-opensuse-423-single-node nodes: - name: primary label: opensuse-423 - nodeset: name: devstack-centos-7-single-node nodes: - name: primary label: centos-7 - nodeset: name: devstack-fedora-26-single-node nodes: - name: primary label: fedora-26 parent: base-test name: devstack-legacy-tempest-dsvm-neutron-full ENABLE_FILE_INJECTION=True export DEVSTACK_GATE_NEUTRON=1 export BRANCH_OVERRIDE=default name: devstack-legacy-ubuntu-xenial-tempest-dsvm-neutron-full parent: devstack-legacy-tempest-dsvm-neutron-full nodes: devstack-ubuntu-xenial-single-node name: devstack-legacy-opensuse-423-tempest-dsvm-neutron-full parent: devstack-legacy-tempest-dsvm-neutron-full nodes: devstack-opensuse-423-single-node vars: devstack_local_conf_contents: | [[local|localrc]] ENABLE_FILE_INJECTION=True # https://bugs.launchpad.net/devstack/+bug/1716066 disable_service peakmem_tracker memory_tracker devstack_legacy_shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TLSPROXY=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh - job: name: devstack-legacy-centos-7-tempest-dsvm-neutron-full parent: devstack-legacy-tempest-dsvm-neutron-full nodes: devstack-centos-7-single-node - job: name: devstack-legacy-fedora-26-tempest-dsvm-neutron-full parent: devstack-legacy-tempest-dsvm-neutron-full nodes: devstack-fedora-26-single-node - devstack-legacy-centos-7-tempest-dsvm-neutron-full - devstack-legacy-fedora-26-tempest-dsvm-neutron-full - devstack-legacy-opensuse-423-tempest-dsvm-neutron-full - devstack-legacy-ubuntu-xenial-tempest-dsvm-neutron-full",17,68
openstack%2Fnova~master~I649d8a27baa8840bc1bb567fef027c749c663432,openstack/nova,master,I649d8a27baa8840bc1bb567fef027c749c663432,Add action initiator attribute to the instance payload,MERGED,2018-01-22 08:00:55.000000000,2018-07-04 16:15:06.000000000,2018-07-04 05:19:55.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24268}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-22 08:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2770fe47fc0c4d6afb6c03f9b81b2c2b209f6a8a', 'message': 'Fix the wrong user_id record in the log\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, in the log that recorded is the\nuser_id that vm belong to not the user_id that\nreal do the action. So fix this small problem.\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\n'}, {'number': 2, 'created': '2018-06-08 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d84eb6c7642a9fe77c60222b64eeacf6403dacd6', 'message': 'Add action initiator attribute to the instance info\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, the log shows instance ower id simply.\nNo action initiator info founded in log which may confuse someone\nelse. So fix this small problem by adding a new attribute in\ninstance information field.\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\n'}, {'number': 3, 'created': '2018-06-11 02:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d2d80ea8eb840e360010e7d5838b588cf8a5b5d', 'message': 'Add action initiator attribute to the instance info\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, the log shows instance ower id simply.\nNo action initiator info founded in log which may confuse someone\nelse. So fix this small problem by adding a new attribute in\ninstance information field.\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\n'}, {'number': 4, 'created': '2018-06-11 07:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50e5a3723663cb8fcc006e499e66542ac14b666a', 'message': 'Add action initiator attribute to the instance info\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, the log shows instance ower id simply.\nNo action initiator info founded in log which may confuse someone\nelse. So fix this small problem by adding a new attribute in\ninstance information field.\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\n'}, {'number': 5, 'created': '2018-06-12 06:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a6bf1f754fe88add95e9da7da428a143262d3ec', 'message': 'Add action initiator attribute to the payload\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, the log shows instance ower id simply.\nNo action initiator info founded in log which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 6, 'created': '2018-06-12 11:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a6eb073d0024d94387ac0b8176ee89962491f96', 'message': 'Add action initiator attribute to the payload\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, the log shows instance ower id simply.\nNo action initiator info founded in log which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 7, 'created': '2018-06-13 01:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da99886adc5cf0035775039d2ae9bcf31e4f7e98', 'message': 'Add action initiator attribute to the payload\n\nwhen do some actions to the vm, it will be recorded in\nthe log. However, the log shows instance ower id simply.\nNo action initiator info founded in log which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 8, 'created': '2018-06-13 08:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c5c7b7b13342ec2208577656e83ab01a7aeced0', 'message': ""Add action initiator attribute to the payload\n\nDoing some actions(such as reboot migrate)to the vm, payload will be\nset to notification. However, the notification shows instance's\nower_id simply and no action initiator info which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n""}, {'number': 9, 'created': '2018-06-13 10:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2bf85338b9efd7600b8f709d58f3c52cef31a92', 'message': ""Add action initiator attribute to the payload\n\nDoing some actions(such as reboot migrate)to the vm, payload will be\nset to notification. However, the notification shows instance's\nower_id simply and no action initiator info which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n""}, {'number': 10, 'created': '2018-06-13 12:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6d07337a5a9038b02a965e91c833dac66d640b7', 'message': ""Add action initiator attribute to the payload\n\nDoing some actions(such as reboot migrate)to the vm, payload will be\nset to notification. However, the notification shows instance's\nower_id simply and no action initiator info which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n""}, {'number': 11, 'created': '2018-06-14 00:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ce9e9c47ffd1491f2b590e84ad6308f8e2e7687', 'message': ""Add action initiator attribute to the payload\n\nDoing some actions(such as reboot migrate)to the vm, payload will be\nset to notification. However, the notification shows instance's\nower_id simply and no action initiator info which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n""}, {'number': 12, 'created': '2018-06-14 03:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6e1a9215cb8276d280d93ef98a62e100c7fde00', 'message': ""Add action initiator attribute to the payload\n\nDoing some actions(such as reboot migrate)to the vm, payload will be\nset to notification. However, the notification shows instance's\nower_id simply and no action initiator info which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n""}, {'number': 13, 'created': '2018-06-14 05:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e7a3e303751135acec5c7529c34707e1ccd081b', 'message': ""Add action initiator attribute to the payload\n\nDoing some actions(such as reboot migrate)to the vm, payload will be\nset to notification. However, the notification shows instance's\nower_id simply and no action initiator info which may confuse someone\nelse. So fix this small problem by adding two new attributes to\nthe payload .\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n""}, {'number': 14, 'created': '2018-06-14 07:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9c4d838d1db26b99189b8f3c520b436aef230ea', 'message': 'Add action initiator attribute to the update payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 15, 'created': '2018-06-15 01:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc7e65128237684397b6244597b9bd8b85b7ad84', 'message': 'Add action initiator attribute to the update payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 16, 'created': '2018-06-21 13:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3896367699a6706fe35bf52834e97bed0ade4b06', 'message': 'Add action initiator attribute to the update payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 17, 'created': '2018-06-22 04:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/723d89e562ac5b929ed18f865230b4db5c0b57d0', 'message': 'Add action initiator attribute to the update payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 18, 'created': '2018-06-23 08:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ab6dade95382efa31ba3edfe670266a2ce38daf', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 19, 'created': '2018-06-26 17:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a716c33c054a88d5e6df02a70c0344063cdb63b4', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 20, 'created': '2018-06-27 06:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b80bff6789d189c8e820d0105a5520db6c2472b6', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 21, 'created': '2018-07-03 09:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05513c86aecef72332d360b6356f1c94a8415b16', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 22, 'created': '2018-07-03 12:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f47ff65944aeb965c89ae948f24bc90f076a9a7', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 23, 'created': '2018-07-03 15:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ebb9c7631c26b558760dd4952e5f9f78002814e', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}, {'number': 24, 'created': '2018-07-03 18:45:48.000000000', 'files': ['doc/notification_samples/instance-live_migration_post_dest-start.json', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'doc/notification_samples/instance-live_migration_post_dest-end.json', 'doc/notification_samples/common_payloads/InstanceActionRebuildPayload.json', 'doc/notification_samples/instance-live_migration_pre-start.json', 'doc/notification_samples/common_payloads/InstanceExistsPayload.json', 'doc/notification_samples/instance-live_migration_abort-start.json', 'doc/notification_samples/common_payloads/InstanceUpdatePayload.json', 'doc/notification_samples/instance-evacuate.json', 'doc/notification_samples/common_payloads/InstanceActionVolumeSwapPayload.json', 'nova/notifications/objects/instance.py', 'doc/notification_samples/instance-live_migration_abort-end.json', 'doc/notification_samples/instance-live_migration_pre-end.json', 'doc/notification_samples/common_payloads/InstanceActionVolumePayload.json', 'doc/notification_samples/common_payloads/InstancePayload.json', 'doc/notification_samples/common_payloads/InstanceActionSnapshotPayload.json', 'doc/notification_samples/common_payloads/InstanceActionPayload.json', 'doc/notification_samples/common_payloads/InstanceCreatePayload.json', 'doc/notification_samples/common_payloads/InstanceActionResizePrepPayload.json', 'releasenotes/notes/add-action-initiator-to-instance-action-notifications-27e6a3031da274c5.yaml', 'doc/notification_samples/instance-live_migration_rollback-start.json', 'doc/notification_samples/instance-live_migration_rollback-end.json', 'doc/notification_samples/common_payloads/InstanceActionRescuePayload.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bca6431e69bf2c6e657736b7fe11f5a2fbb9433', 'message': 'Add action initiator attribute to the instance payload\n\nThe instance action notifications contain the user id and the\nproject id of the owner of the instance. However an instance\naction might be initiated by another user. It could be another\nuser from the same project or can be an admin from the admin project.\nTo be able to distinguish between the user who initiated the instance\naction from the user owning the instance we need to add two new\nfields to the instance action notifications, action_initiator_user\nand action_initiator_project\n\nChange-Id: I649d8a27baa8840bc1bb567fef027c749c663432\nCloses-bug: #1744658\nBlueprint: add-action-initiator-to-instance-action-notifications\n'}]",37,536243,2bca6431e69bf2c6e657736b7fe11f5a2fbb9433,256,23,24,27188,,,0,"Add action initiator attribute to the instance payload

The instance action notifications contain the user id and the
project id of the owner of the instance. However an instance
action might be initiated by another user. It could be another
user from the same project or can be an admin from the admin project.
To be able to distinguish between the user who initiated the instance
action from the user owning the instance we need to add two new
fields to the instance action notifications, action_initiator_user
and action_initiator_project

Change-Id: I649d8a27baa8840bc1bb567fef027c749c663432
Closes-bug: #1744658
Blueprint: add-action-initiator-to-instance-action-notifications
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/536243/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/base.py', 'nova/tests/unit/test_notifications.py']",2,2770fe47fc0c4d6afb6c03f9b81b2c2b209f6a8a,bug/1744658," def test_payload_with_user_id(self): self.context.user_id = 'fake2' info = notifications.info_from_instance(self.context, self.instance, self.net_info, None) self.assertEqual(""fake2"", info[""user_id""]) ",,7,1
openstack%2Fmanila~master~Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb,openstack/manila,master,Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb,Change depreciated to deprecated,MERGED,2018-07-04 09:20:53.000000000,2018-07-04 16:10:56.000000000,2018-07-04 15:50:48.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-07-04 09:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/efb44291142c350de4b90ee374a4d9795dc03e06', 'message': 'Change depreciated to deprecated\n\nChange-Id: Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb\n'}, {'number': 2, 'created': '2018-07-04 13:41:28.000000000', 'files': ['releasenotes/notes/remove-deprecated-default-options-00fed1238fb6dca0.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/3657c5969d0a0f1e96fa062a38034e52858309dc', 'message': 'Change depreciated to deprecated\n\nTrivialFix\n\nChange-Id: Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb\n'}]",0,580101,3657c5969d0a0f1e96fa062a38034e52858309dc,24,10,2,9414,,,0,"Change depreciated to deprecated

TrivialFix

Change-Id: Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb
",git fetch https://review.opendev.org/openstack/manila refs/changes/01/580101/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-deprecated-default-options-00fed1238fb6dca0.yaml'],1,efb44291142c350de4b90ee374a4d9795dc03e06,fix-typo,,,0,0
openstack%2Fkolla~master~Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9,openstack/kolla,master,Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9,[WIP] Use kolla-scripts in rabbitmq,ABANDONED,2018-06-28 13:03:33.000000000,2018-07-04 16:10:39.000000000,,"[{'_account_id': 1390}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 13:03:33.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be14204cc13062b178d8eb13444f8d6c88a74207', 'message': '[WIP] Use kolla-scripts in rabbitmq\n\nPOC to show how separately packaged scripts can be used in kolla images\n\nChange-Id: Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9\n'}]",0,578791,be14204cc13062b178d8eb13444f8d6c88a74207,4,2,1,1390,,,0,"[WIP] Use kolla-scripts in rabbitmq

POC to show how separately packaged scripts can be used in kolla images

Change-Id: Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/578791/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2']",2,be14204cc13062b178d8eb13444f8d6c88a74207,,#COPY extend_start.sh /usr/local/bin/kolla_extend_start #COPY rabbitmq_get_gospel_node.py /usr/local/bin/rabbitmq_get_gospel_node RUN cp /tmp/kolla-scripts-venv/lib/python2.7/site-packages/kolla_scripts/rabbitmq/extend_start.sh /usr/local/bin/kolla_extend_start \ && cp /tmp/kolla-scripts-venv/lib/python2.7/site-packages/kolla_scripts/rabbitmq/rabbitmq_get_gospel_node.py /usr/local/bin/rabbitmq_get_gospel_node \ && chmod 755 /usr/local/bin/kolla_extend_start /usr/local/bin/rabbitmq_get_gospel_node,COPY extend_start.sh /usr/local/bin/kolla_extend_start COPY rabbitmq_get_gospel_node.py /usr/local/bin/rabbitmq_get_gospel_node RUN chmod 755 /usr/local/bin/kolla_extend_start /usr/local/bin/rabbitmq_get_gospel_node,23,11
openstack%2Fkolla-ansible~master~Ia0961ec63fa8816f56dab6d7985d55780a42e22b,openstack/kolla-ansible,master,Ia0961ec63fa8816f56dab6d7985d55780a42e22b,Add spec for splitting out the kolla start scripts,ABANDONED,2018-03-08 17:26:08.000000000,2018-07-04 16:10:25.000000000,,"[{'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 6697}, {'_account_id': 7488}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-08 17:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a13c01fe44bdc9f32c5419dc6e11950387a92950', 'message': 'Add spec for bind mounting kolla start scripts\n\nThis was discussed during the Rocky PTG[0]\n\n[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor\n\nChange-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b\n'}, {'number': 2, 'created': '2018-03-08 17:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a88c9c32650e66a77aac20efe8abe92108a3279', 'message': 'Add spec for bind mounting kolla start scripts\n\nThis was discussed during the Rocky PTG[0]\n\n[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor\n\nChange-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b\n'}, {'number': 3, 'created': '2018-03-30 10:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec60ef6c411276728611f53f1a01a4045037b304', 'message': 'Add spec for bind mounting kolla start scripts\n\nThis was discussed during the Rocky PTG[0]\n\n[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor\n\nChange-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b\n'}, {'number': 4, 'created': '2018-06-28 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20b8f8015339bcb3bb8b93f51ef7e394bc8d7e46', 'message': 'Add spec for splitting out the kolla start scripts\n\nThis was discussed during the Rocky PTG[0]\n\n[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor\n\nChange-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b\n'}, {'number': 5, 'created': '2018-06-28 10:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b0a8a42d40d2f6361d5a99dea47b012a6cbd385', 'message': 'Add spec for splitting out the kolla start scripts\n\nThis was discussed during the Rocky PTG[0]\n\n[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor\n\nChange-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b\n'}, {'number': 6, 'created': '2018-06-28 10:39:16.000000000', 'files': ['specs/package-start-scripts.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cab4db634282e74af21ecaeb63050a6117e0e02e', 'message': 'Add spec for splitting out the kolla start scripts\n\nThis was discussed during the Rocky PTG[0]\n\n[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor\n\nChange-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b\n'}]",9,550958,cab4db634282e74af21ecaeb63050a6117e0e02e,26,10,6,1390,,,0,"Add spec for splitting out the kolla start scripts

This was discussed during the Rocky PTG[0]

[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor

Change-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/550958/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/externalise-start-scripts.rst'],1,a13c01fe44bdc9f32c5419dc6e11950387a92950,externalise-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Externalise Kolla Start Scripts =============================== This spec details the necessary changes which would allow us to decouple kolla-ansible from the kolla images. Problem description =================== When Kolla was created, we knew a lot less about the best way to run services in containers compared to what we know now. There were many efforts to make truly idempotent containers, where everything from config to start scripts were baked in, and nothing could change without upgrading the container. In practice, baking the start scripts into the containers has essentially coupled the containers to kolla-ansible, meaning kolla-ansible must be used with kolla containers, and vice versa. Managing config and start logic externally now seems to be becoming more common place, making containers essentially lightweight packages for processes, leaving the orchestration and config of those processes to tools that specialise in this, e.g. ansible, k8s, etc. Moving the start and management scripts from the Kolla images into kolla-ansible brings Kolla more inline with current best practice, and will allow operators to mix and match images as they wish, e.g. loci images, official database images, etc. Use cases --------- 1. As an operator, I would like to use loci[0] images with kolla-ansible. 2. As an operator, I would like to use the official rabbitmq[1] image with kolla-ansible, rather than the kolla maintained one. 3. As a developer, I would like to use Kolla images with my own custom orchestration, without feeling I need to conform to the config layout and commands defined in the those images. Proposed change =============== This change will move the various scripts (e.g. start.sh, extend_start.sh, set_configs.py, etc.) into the kolla-ansible repository. They will then be bind mounted into the images at runtime. This should not have any impact to existing users of Kolla. Scripts will remain in the Kolla images for at least one cycle, following standard deprecation processes. Security impact --------------- If an attacker was to gain access to a system, the bind mounted scripts could be modified to cause harm. However, if an attacker has got to the point where they have permissions to modify the scripts and restart containers to pick these up, you are already compromised. Will still minimise risk by ensuring files are copied with appropriate permissions, and bind mounted as read only in the containers. Performance Impact ------------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: pbourke Milestones ---------- Target Milestone for completion: rocky Work Items ---------- * Move the scripts for one service as a proof of concept and to establish a pattern[2] * Apply this pattern across the rest of the services. * Mark the scripts within the images as deprecated. Testing ======= The existing gate jobs should be sufficient to test this work, i.e. if things continue to deploy, we have not broken anything. Documentation Impact ==================== Documentation should be updated to reflect this change and to inform operators how they might use this functionality. References ========== [0] https://github.com/openstack/loci [1] https://hub.docker.com/_/rabbitmq/ [2] https://review.openstack.org/#/c/550500/ ",,106,0
openstack%2Fansible-role-tripleo-modify-image~master~Ifebc943675e109dbb1241c1a2283e6a0e1693d3b,openstack/ansible-role-tripleo-modify-image,master,Ifebc943675e109dbb1241c1a2283e6a0e1693d3b,Add ability to skip images based on labels,ABANDONED,2018-06-28 15:46:16.000000000,2018-07-04 16:08:23.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 13039}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 15:46:16.000000000', 'files': ['tasks/yum_update.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/bf218db726089b95421f2005e9d007fdb66d8c6b', 'message': 'Add ability to skip images based on labels\n\nIf the `only_with_label` variable is provided, then only the container\nimages where the given label is set will be processed.\n\nChange-Id: Ifebc943675e109dbb1241c1a2283e6a0e1693d3b\n'}]",0,578856,bf218db726089b95421f2005e9d007fdb66d8c6b,5,5,1,13039,,,0,"Add ability to skip images based on labels

If the `only_with_label` variable is provided, then only the container
images where the given label is set will be processed.

Change-Id: Ifebc943675e109dbb1241c1a2283e6a0e1693d3b
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/56/578856/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/yum_update.yml', 'README.md']",2,bf218db726089b95421f2005e9d007fdb66d8c6b,no_repoquery,| `only_with_label` | `[undefined]` | Only modify images that include the given label |,,77,64
openstack%2Fkolla-ansible~master~Ic45094594c21116b5b0d6a606f568fc7954175e3,openstack/kolla-ansible,master,Ic45094594c21116b5b0d6a606f568fc7954175e3,Add a job for testing deployment of bifrost,MERGED,2018-03-05 14:33:33.000000000,2018-07-04 15:51:45.000000000,2018-07-04 15:51:45.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26355}, {'_account_id': 27781}, {'_account_id': 28217}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-03-05 14:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/500c51efb9b0e8161586220c3fee262aafad8917', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 2, 'created': '2018-03-05 14:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9ecc2f450734434a33f370b1fd9c54e411236d1', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 3, 'created': '2018-03-05 16:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ec0bae50e123acbc6e2ffc89cb6906cf72cf869', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 4, 'created': '2018-03-05 16:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f264402f75d08b6b38d88485655a7e89883e48a8', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 5, 'created': '2018-03-05 16:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/666e4506cddaf6fc7f57fbc71bf451842ea4a6bc', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 6, 'created': '2018-03-05 17:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efb36ce4035a052ef5afca0ec34c8f29cb15a76b', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 7, 'created': '2018-03-05 17:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/986c6e963c1bc6aa5d202abf43c8d464175603b8', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 8, 'created': '2018-03-05 18:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7be4aef01f2daf13b71f31f5d21ee783e1cfd4c4', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 9, 'created': '2018-03-06 11:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20d8c1702b203fa0318c013142e197840711110c', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 10, 'created': '2018-03-06 13:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56050dac59614e5f6a31aca04a2b281663164147', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 11, 'created': '2018-03-07 18:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5b017c5008f5f839dd08ab8eefd231108df4c73', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\nDepends-On: If7151ea03a0a90ec9a95b2f0649ed3e355a45cc2\n'}, {'number': 12, 'created': '2018-03-08 10:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/098933384ddb45a04af921ca14cfa3dc8cf9e94e', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\nDepends-On: If7151ea03a0a90ec9a95b2f0649ed3e355a45cc2\n'}, {'number': 13, 'created': '2018-03-08 11:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2810ecc040cc091037733694cfed91eeafdfc9e', 'message': 'WIP: Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\nDepends-On: If7151ea03a0a90ec9a95b2f0649ed3e355a45cc2\n'}, {'number': 14, 'created': '2018-03-13 10:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6e5e9b2d79787c7f351e354a5d6bbc33e163d1e', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\nDepends-On: If7151ea03a0a90ec9a95b2f0649ed3e355a45cc2\n'}, {'number': 15, 'created': '2018-04-03 15:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff5b3a90b2509811714c5c6f10bc98251b1254b6', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\nDepends-On: If7151ea03a0a90ec9a95b2f0649ed3e355a45cc2\n'}, {'number': 16, 'created': '2018-04-03 17:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/052906f6dc96b64545e95fc9b8a1e0fc28cb0f65', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 17, 'created': '2018-04-04 08:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44bcc9d991411b20938c07b429721106b827ade8', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 18, 'created': '2018-04-04 10:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c0dffa113fc21564c0f52db8026666faf3572f0', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 19, 'created': '2018-04-23 09:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc0bebf532828131e22e5e85ad7c2985901337b0', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 20, 'created': '2018-05-17 01:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1dd25991811f0cbbe0e808e94176b9cdc8faa36', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 21, 'created': '2018-06-04 12:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/017619f25de83705a28971c4bcb43af382dd8f5a', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 22, 'created': '2018-06-18 10:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e52c1c6048dde9c141024aa331f36608e492cf58', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}, {'number': 23, 'created': '2018-06-18 12:41:43.000000000', 'files': ['tests/get_logs.sh', 'tests/run.yml', '.zuul.yaml', 'tests/templates/globals-default.j2', 'tools/setup_gate.sh', 'tests/templates/bifrost-dib-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45a4f9c07589c9aa2e08fa342a57561eec21d137', 'message': 'Add a job for testing deployment of bifrost\n\nDeploys a bifrost container using kolla-ansible bifrost-deploy.\n\nIPA and disk images are downloaded rather than built to improve\nreliability.\n\nCurrently only minimal testing of the deployment is performed, creating\nand deleting an ironic node. Ideally we would perform a bare metal node\ndeployment.\n\nThe job is based on CentOS, as Ubuntu bifrost deployment is currently\nfailing with a python-MySQLdb error.\n\nChange-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3\n'}]",2,549775,45a4f9c07589c9aa2e08fa342a57561eec21d137,87,15,23,14826,,,0,"Add a job for testing deployment of bifrost

Deploys a bifrost container using kolla-ansible bifrost-deploy.

IPA and disk images are downloaded rather than built to improve
reliability.

Currently only minimal testing of the deployment is performed, creating
and deleting an ironic node. Ideally we would perform a bare metal node
deployment.

The job is based on CentOS, as Ubuntu bifrost deployment is currently
failing with a python-MySQLdb error.

Change-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/549775/16 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tests/run-bifrost.yml', 'tools/setup_gate_bifrost.sh']",3,500c51efb9b0e8161586220c3fee262aafad8917,check-bifrost,"#!/bin/bash set -o xtrace set -o errexit # Enable unbuffered output for Ansible in Jenkins. export PYTHONUNBUFFERED=1 GIT_PROJECT_DIR=$(mktemp -d) function clone_repos { cat > /tmp/clonemap <<EOF clonemap: - name: openstack/kolla dest: ${GIT_PROJECT_DIR}/kolla - name: openstack/requirements dest: ${GIT_PROJECT_DIR}/requirements EOF /usr/zuul-env/bin/zuul-cloner -m /tmp/clonemap --workspace ""$(pwd)"" \ --cache-dir /opt/git git://git.openstack.org \ openstack/kolla openstack/requirements } function setup_config { # Use Infra provided pypi. # Wheel package mirror may be not compatible. So do not enable it. PIP_CONF=$(mktemp) cat > ${PIP_CONF} <<EOF [global] timeout = 60 index-url = $NODEPOOL_PYPI_MIRROR trusted-host = $NODEPOOL_MIRROR_HOST EOF echo ""RUN echo $(base64 -w0 ${PIP_CONF}) | base64 -d > /etc/pip.conf"" | sudo tee /etc/kolla/header rm ${PIP_CONF} # Get base distro and install type from workspace. The full path looks like # /home/jenkins/workspace/gate-kolla-ansible-dsvm-deploy-centos-source-centos-7-nv # NOTE(Jeffrey4l): use different a docker namespace name in case it pull image from hub.docker.io when deplying GATE_IMAGES=""bifrost-deploy"" cat <<EOF | sudo tee /etc/kolla/kolla-build.conf [DEFAULT] include_header = /etc/kolla/header namespace = lokolla base = ${BASE_DISTRO} install_type = ${INSTALL_TYPE} profile = gate registry = 127.0.0.1:4000 push = true [profiles] gate = ${GATE_IMAGES} EOF if [[ ""${DISTRO}"" == ""Debian"" ]]; then # Infra does not sign their mirrors so we ignore gpg signing in the gate echo ""RUN echo 'APT::Get::AllowUnauthenticated \""true\"";' > /etc/apt/apt.conf"" | sudo tee -a /etc/kolla/header # Optimize the repos to take advantage of the Infra provided mirrors for Ubuntu cat << EOF | sudo tee -a /etc/kolla/kolla-build.conf apt_sources_list = /etc/kolla/sources.list EOF sudo cp /etc/apt/sources.list /etc/kolla/sources.list sudo cat /etc/apt/sources.list.available.d/ubuntu-cloud-archive.list | sudo tee -a /etc/kolla/sources.list # Append non-infra provided repos to list cat << EOF | sudo tee -a /etc/kolla/sources.list deb http://nyc2.mirrors.digitalocean.com/mariadb/repo/10.0/ubuntu xenial main deb http://repo.percona.com/apt xenial main deb http://packages.elastic.co/elasticsearch/2.x/debian stable main deb http://packages.elastic.co/kibana/4.6/debian stable main EOF fi } function detect_distro { DISTRO=$(ansible all -i ""localhost,"" -msetup -clocal | awk -F\"" '/ansible_os_family/ {print $4}') } function setup_ansible { RAW_INVENTORY=/etc/kolla/inventory # TODO(SamYaple): Move to virtualenv sudo -H pip install -U ""ansible>=2,<2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara"" detect_distro sudo mkdir /etc/ansible ara_location=$(python -c ""import os,ara; print(os.path.dirname(ara.__file__))"") sudo tee /etc/ansible/ansible.cfg<<EOF [defaults] callback_plugins = ${ara_location}/plugins/callbacks host_key_checking = False EOF # Record the running state of the environment as seen by the setup module ansible all -i ${RAW_INVENTORY} -m setup > /tmp/logs/ansible/initial-setup } function setup_node { ansible-playbook -i ${RAW_INVENTORY} tools/playbook-setup-nodes.yml } function prepare_images { sudo docker run -d -p 4000:5000 --restart=always -v /opt/kolla_registry/:/var/lib/registry --name registry registry:2 # NOTE(Jeffrey4l): Zuul adds all changes depend on to ZUUL_CHANGES # variable. if find ""openstack/kolla:"" string, it means this patch depends # on one of Kolla patch. Then build image by using Kolla's code. # Otherwise, pull images from tarballs.openstack.org site. # NOTE(inc0): Publisher variable is set when Kolla runs publisher jobs. # When that happens we don't build images, we download them from temp location. if echo ""$ZUUL_CHANGES"" | grep -i ""openstack/kolla:"" && ! [[ $PUBLISHER ]]; then pushd ""${GIT_PROJECT_DIR}/kolla"" sudo tox -e ""build-${BASE_DISTRO}-${INSTALL_TYPE}"" popd else BRANCH=$(echo ""$ZUUL_BRANCH"" | cut -d/ -f2) filename=${BASE_DISTRO}-${INSTALL_TYPE}-registry-${BRANCH}.tar.gz wget -q -c -O ""/tmp/$filename"" \ ""${NODEPOOL_TARBALLS_MIRROR}/kolla/images/${TMP_REGISTRY}${filename}"" sudo tar xzf ""/tmp/$filename"" -C /opt/kolla_registry fi } function sanity_check { # TODO(mgoddard): More testing. docker exec bifrost_deploy bash -c ""source env-vars && ironic node-list"" docker exec bifrost_deploy bash -c ""source env-vars && ironic node-create --driver ipmi --name test-node"" docker exec bifrost_deploy bash -c ""source env-vars && ironic node-delete test-node"" } check_failure() { # All docker container's status are created, restarting, running, removing, # paused, exited and dead. Containers without running status are treated as # failure. removing is added in docker 1.13, just ignore it now. failed_containers=$(sudo docker ps -a --format ""{{.Names}}"" \ --filter status=created \ --filter status=restarting \ --filter status=paused \ --filter status=exited \ --filter status=dead) if [[ -n ""$failed_containers"" ]]; then exit 1; fi } clone_repos setup_ansible setup_config setup_node tools/kolla-ansible -i ${RAW_INVENTORY} bootstrap-servers > /tmp/logs/ansible/bootstrap-servers prepare_images # Actually do the deployment #tools/kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks > /tmp/logs/ansible/prechecks # TODO(jeffrey4l): add pull action when we have a local registry # service in CI tools/kolla-ansible -i ${RAW_INVENTORY} -vvv bifrost-deploy > /tmp/logs/ansible/bifrost-deploy # Test OpenStack Environment # TODO: use kolla-ansible check when it's ready sanity_check # TODO(jeffrey4l): make some configure file change and # trigger a real reconfigure tools/kolla-ansible -i ${RAW_INVENTORY} -vvv bifrost-deploy > /tmp/logs/ansible/bifrost-deploy2 # run prechecks again #tools/kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks > /tmp/logs/ansible/prechecks2 ara generate html /tmp/logs/playbook_reports/ gzip --recursive --best /tmp/logs/playbook_reports/ check_failure ",,304,6
openstack%2Fheat~master~Ic06a4bd7afbd4838ca97be302d75dede5402ae6e,openstack/heat,master,Ic06a4bd7afbd4838ca97be302d75dede5402ae6e,Allow lazy load of raw_template but log warning,MERGED,2016-10-20 01:18:28.000000000,2018-07-04 15:36:08.000000000,2018-07-04 15:36:08.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 12404}, {'_account_id': 13564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-10-20 01:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1fdc45fd0bd10a17f8d23e7ac9d96481235f515c', 'message': ""Support lazy and eager loading of raw_template\n\nRather than pretend a db_stack's raw_template is None if it hasn't\nbeen eagerly loaded, lazy load it if necessary.\n\nChange-Id: Ic06a4bd7afbd4838ca97be302d75dede5402ae6e\n""}, {'number': 2, 'created': '2016-11-02 21:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/549675981de24f3b7ff33123af4d2994659380d6', 'message': ""Allow eager load of raw_template but log warning\n\nTo avoid hard-to-debug bugs, rather than represent a db_stack's\nraw_template as None if it hasn't been eagerly loaded, lazy load it if\nnecessary. In this case, log a warning so developers are aware a\nnon-eager loading query needs to be fixed.\n\nChange-Id: Ic06a4bd7afbd4838ca97be302d75dede5402ae6e\n""}, {'number': 3, 'created': '2016-11-02 22:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9419bffde58f2b24170a09d8fadc6471d6e17eb4', 'message': ""Allow lazy load of raw_template but log warning\n\nTo avoid hard-to-debug bugs, rather than represent a db_stack's\nraw_template as None if it hasn't been eagerly loaded, lazy load\nit. In the lazy loading case, log a warning so developers are aware\nthere is a non-eager loading query that needs to be fixed.\n\nChange-Id: Ic06a4bd7afbd4838ca97be302d75dede5402ae6e\n""}, {'number': 4, 'created': '2017-07-31 14:54:07.000000000', 'files': ['heat/tests/test_stack.py', 'heat/objects/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7cd0d244640c188e40448841af50352deee7c45a', 'message': ""Allow lazy load of raw_template but log warning\n\nTo avoid hard-to-debug bugs, rather than represent a db_stack's\nraw_template as None if it hasn't been eagerly loaded, lazy load\nit. In the lazy loading case, log a warning so developers are aware\nthere is a non-eager loading query that needs to be fixed.\n\nChange-Id: Ic06a4bd7afbd4838ca97be302d75dede5402ae6e\n""}]",0,388951,7cd0d244640c188e40448841af50352deee7c45a,22,6,4,13564,,,0,"Allow lazy load of raw_template but log warning

To avoid hard-to-debug bugs, rather than represent a db_stack's
raw_template as None if it hasn't been eagerly loaded, lazy load
it. In the lazy loading case, log a warning so developers are aware
there is a non-eager loading query that needs to be fixed.

Change-Id: Ic06a4bd7afbd4838ca97be302d75dede5402ae6e
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/388951/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_stack.py', 'heat/objects/stack.py']",2,1fdc45fd0bd10a17f8d23e7ac9d96481235f515c,bug/1634127," 'raw_template_obj': fields.ObjectField('RawTemplate'), if field == 'raw_template_obj': stack._raw_template = raw_template_obj @property def raw_template(self): if hasattr(self, '_raw_template'): return self._raw_template if self.raw_template_id is None: self._raw_template = None else: self._raw_template = raw_template.RawTemplate.get_by_id( self._context, self['raw_template_id']) return self._raw_template @raw_template.setter def raw_template(self, value): self['raw_template_obj'] = value self._raw_template = value "," 'raw_template': fields.ObjectField('RawTemplate'), if field == 'raw_template': stack['raw_template'] = raw_template_obj",42,3
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4,openstack/openstack-ansible-nspawn_container_create,master,Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4,Follow the new PTI for document build,MERGED,2018-07-03 09:13:46.000000000,2018-07-04 15:31:16.000000000,2018-07-04 15:31:16.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-07-03 09:13:46.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/7ea32e92198e505eea1a934988037de3ff389ce6', 'message': ""Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more details information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nIn order to pass the requirements check, a new lower bound is set for the\n'pyasn1' and 'requests' packages.\n\nChange-Id: Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4\n""}]",0,579826,7ea32e92198e505eea1a934988037de3ff389ce6,13,5,1,6816,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more details information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

In order to pass the requirements check, a new lower bound is set for the
'pyasn1' and 'requests' packages.

Change-Id: Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/26/579826/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,7ea32e92198e505eea1a934988037de3ff389ce6,updated-pti,deps = -r{toxinidir}/doc/requirements.txt sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,15,9
openstack%2Fnova~stable%2Focata~I00f7dee26f031366dbc0d3d6a03abe89afeb85fd,openstack/nova,stable/ocata,I00f7dee26f031366dbc0d3d6a03abe89afeb85fd,Ensure resource class cache when listing usages,MERGED,2018-06-11 14:31:54.000000000,2018-07-04 15:28:18.000000000,2018-07-04 15:28:18.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-11 14:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1e44000e87ff12d0ac21de2eb81dd14aee383a3', 'message': ""Ensure resource class cache when listing usages\n\nIn rare circumstances it is possible to list usages in a new placement\nprocess that has not yet instantiated the _RC_CACHE but for which\nthere are inventories and allocations in the database (added by\nother processes running against the same db). Before this change\nthat would cause a 500 error (AttributeError) when the Usage objects\nin the UsageList were instantiated.\n\nThe fix is to added _ensure_rc_cache to the two list methods. The\naddition is done there rather than in the _from_db_object as the\nlatter would cause a lot of redundant checks.\n\nWhile we could probably devise a test for this, it's perhaps good\nenough to evaluate the change by inspection. If not, suggestions\nwelcome.\n\nConflicts happened in the backport to ocata from queens because\nlisting usages by project uuid is not possible in ocata.\n\nChange-Id: I00f7dee26f031366dbc0d3d6a03abe89afeb85fd\nCloses-Bug: #1775308\n(cherry picked from commit 724d440122232a5bfdfec51eb0d37ca4f1d748d8)\n(cherry picked from commit 79a1a113775df87d420b242cea4bbf953df3779c)\n""}, {'number': 2, 'created': '2018-06-25 15:49:37.000000000', 'files': ['nova/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4bd2a8d9d97ba8ce2e1bab404454aeb543561760', 'message': ""Ensure resource class cache when listing usages\n\nIn rare circumstances it is possible to list usages in a new placement\nprocess that has not yet instantiated the _RC_CACHE but for which\nthere are inventories and allocations in the database (added by\nother processes running against the same db). Before this change\nthat would cause a 500 error (AttributeError) when the Usage objects\nin the UsageList were instantiated.\n\nThe fix is to added _ensure_rc_cache to the two list methods. The\naddition is done there rather than in the _from_db_object as the\nlatter would cause a lot of redundant checks.\n\nWhile we could probably devise a test for this, it's perhaps good\nenough to evaluate the change by inspection. If not, suggestions\nwelcome.\n\nThis, the ocata version, has only half the changes provided by\ncommits in newer versions because in ocata, get_all_by_project_user\nis not yet available.\n\nChange-Id: I00f7dee26f031366dbc0d3d6a03abe89afeb85fd\nCloses-Bug: #1775308\n(cherry picked from commit 724d440122232a5bfdfec51eb0d37ca4f1d748d8)\n(cherry picked from commit 79a1a113775df87d420b242cea4bbf953df3779c)\n(cherry picked from commit 6e1dd287f18e03428b6f991c5b4bdd66901f8c2d)\n""}]",0,574279,4bd2a8d9d97ba8ce2e1bab404454aeb543561760,21,8,2,11564,,,0,"Ensure resource class cache when listing usages

In rare circumstances it is possible to list usages in a new placement
process that has not yet instantiated the _RC_CACHE but for which
there are inventories and allocations in the database (added by
other processes running against the same db). Before this change
that would cause a 500 error (AttributeError) when the Usage objects
in the UsageList were instantiated.

The fix is to added _ensure_rc_cache to the two list methods. The
addition is done there rather than in the _from_db_object as the
latter would cause a lot of redundant checks.

While we could probably devise a test for this, it's perhaps good
enough to evaluate the change by inspection. If not, suggestions
welcome.

This, the ocata version, has only half the changes provided by
commits in newer versions because in ocata, get_all_by_project_user
is not yet available.

Change-Id: I00f7dee26f031366dbc0d3d6a03abe89afeb85fd
Closes-Bug: #1775308
(cherry picked from commit 724d440122232a5bfdfec51eb0d37ca4f1d748d8)
(cherry picked from commit 79a1a113775df87d420b242cea4bbf953df3779c)
(cherry picked from commit 6e1dd287f18e03428b6f991c5b4bdd66901f8c2d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/574279/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,d1e44000e87ff12d0ac21de2eb81dd14aee383a3,bug/1775308, _ensure_rc_cache(context),,1,0
openstack%2Fpuppet-ironic~master~Ide6de7f7a147e15b2941706f282455baa9d8f671,openstack/puppet-ironic,master,Ide6de7f7a147e15b2941706f282455baa9d8f671,Expose power sync parameters,MERGED,2018-07-03 14:52:23.000000000,2018-07-04 15:26:10.000000000,2018-07-04 15:26:10.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 14:52:23.000000000', 'files': ['releasenotes/notes/power-sync-parameters-d168a56a376b9c1e.yaml', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5310a06d4611ede31980e08cf1662ef1beaaad6f', 'message': ""Expose power sync parameters\n\nA busy environment is likely to tune these parameters, let's expose them.\n\nChange-Id: Ide6de7f7a147e15b2941706f282455baa9d8f671\n""}]",0,579893,5310a06d4611ede31980e08cf1662ef1beaaad6f,10,5,1,10239,,,0,"Expose power sync parameters

A busy environment is likely to tune these parameters, let's expose them.

Change-Id: Ide6de7f7a147e15b2941706f282455baa9d8f671
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/93/579893/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/power-sync-parameters-d168a56a376b9c1e.yaml', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb']",3,5310a06d4611ede31980e08cf1662ef1beaaad6f,power-sync," is_expected.to contain_ironic_config('conductor/sync_power_state_interval').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_ironic_config('conductor/power_state_sync_max_retries').with(:value => '<SERVICE DEFAULT>') :power_state_change_timeout => '300', :sync_power_state_interval => 120, :power_state_sync_max_retries => 5, is_expected.to contain_ironic_config('conductor/sync_power_state_interval').with_value(p[:sync_power_state_interval]) is_expected.to contain_ironic_config('conductor/power_state_sync_max_retries').with_value(p[:power_state_sync_max_retries])", :power_state_change_timeout => '300',26,1
openstack%2Fkolla-ansible~master~Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6,openstack/kolla-ansible,master,Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6,Option for enable SSL verification on docker registry,MERGED,2018-06-13 08:27:07.000000000,2018-07-04 15:02:55.000000000,2018-07-04 15:02:55.000000000,"[{'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-13 08:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd67e95b42b735aa26190f6e4c8f7c070d1c7b41', 'message': 'Option for enable SSL verification on docker registry\n\nBy default, kolla configure docker to use an insecure connection\nwith the private registry. If we want to use SSL verification we need\nto add an option.\n\nChange-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6\n'}, {'number': 2, 'created': '2018-06-13 09:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6eac94338a73daf468bad25fc6d9c831dbc4d7a', 'message': 'Option for enable SSL verification on docker registry\n\nBy default, kolla configure docker to use an insecure connection\nwith the private registry. If we want to use SSL verification we need\nto add an option.\n\nChange-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6\n'}, {'number': 3, 'created': '2018-06-13 15:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/50fa0ff359d018529e54a576cedad0677d74d3e1', 'message': 'Option for enable SSL verification on docker registry\n\nBy default, kolla configure docker to use an insecure connection\nwith the private registry. If we want to use SSL verification we need\nto add an option.\n\nChange-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6\n'}, {'number': 4, 'created': '2018-07-02 09:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ac68342f7c060185d8987bf6433565a943c219b', 'message': 'Option for enable SSL verification on docker registry\n\nBy default, kolla configure docker to use an insecure connection\nwith the private registry. If we want to use SSL verification we need\nto add an option.\n\nChange-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6\n'}, {'number': 5, 'created': '2018-07-02 15:02:03.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/docker_insecure_registry-857bfb9c760aa3bf.yaml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acfc4fd26acd007a72061adc97c9c62c06bab86b', 'message': 'Option for enable SSL verification on docker registry\n\nBy default, kolla configure docker to use an insecure connection\nwith the private registry. If we want to use SSL verification we need\nto add an option.\n\nChange-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6\n'}]",3,575023,acfc4fd26acd007a72061adc97c9c62c06bab86b,22,8,5,18368,,,0,"Option for enable SSL verification on docker registry

By default, kolla configure docker to use an insecure connection
with the private registry. If we want to use SSL verification we need
to add an option.

Change-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/575023/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/docker_insecure_registry-857bfb9c760aa3bf.yaml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2']",3,cd67e95b42b735aa26190f6e4c8f7c070d1c7b41,docker_insecure,"ExecStart=/usr/bin/{{ docker_binary_name|default(""docker daemon"", true) }}{% if docker_registry_insecure | bool %} --insecure-registry {{ docker_registry }}{% endif %}{% if docker_storage_driver %} --storage-driver {{ docker_storage_driver }}{% endif %}{% if docker_runtime_directory %} --graph {{ docker_runtime_directory }}{% endif %}{% if docker_custom_option %} {{ docker_custom_option }}{% endif %}","ExecStart=/usr/bin/{{ docker_binary_name|default(""docker daemon"", true) }}{% if docker_registry %} --insecure-registry {{ docker_registry }}{% endif %}{% if docker_storage_driver %} --storage-driver {{ docker_storage_driver }}{% endif %}{% if docker_runtime_directory %} --graph {{ docker_runtime_directory }}{% endif %}{% if docker_custom_option %} {{ docker_custom_option }}{% endif %}",6,1
openstack%2Fnova~master~I55cf259c715ba129fa8479d1e8a0d11ec15aaa43,openstack/nova,master,I55cf259c715ba129fa8479d1e8a0d11ec15aaa43,libvirt: add qemu version check when configuring mtu for network,MERGED,2018-07-02 15:48:11.000000000,2018-07-04 14:54:20.000000000,2018-07-04 14:54:19.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 15:48:11.000000000', 'files': ['nova/virt/libvirt/vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2d7189f4ff7e4a2697256cf3f695327e1d71db2', 'message': ""libvirt: add qemu version check when configuring mtu for network\n\nThis adds a QEMU check when configuring MTU for ethernet and bridge\ninterface types. When creating and configuring tap devices, libvirt is\nsetting MTU but also configures the virtio-net devices to let it\ndiscovers the MTU used. This QEMU 'host_mtu' option is supported by\nQEMU version 2.9 and more.\n\nCloses-Bug: 1779626\nChange-Id: I55cf259c715ba129fa8479d1e8a0d11ec15aaa43\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n""}]",6,579611,e2d7189f4ff7e4a2697256cf3f695327e1d71db2,45,17,1,7730,,,0,"libvirt: add qemu version check when configuring mtu for network

This adds a QEMU check when configuring MTU for ethernet and bridge
interface types. When creating and configuring tap devices, libvirt is
setting MTU but also configures the virtio-net devices to let it
discovers the MTU used. This QEMU 'host_mtu' option is supported by
QEMU version 2.9 and more.

Closes-Bug: 1779626
Change-Id: I55cf259c715ba129fa8479d1e8a0d11ec15aaa43
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/579611/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/vif.py'],1,e2d7189f4ff7e4a2697256cf3f695327e1d71db2,bug/1779626,"# setting interface mtu was intoduced in libvirt 3.3, We also need to # check for QEMU that because libvirt is configuring in same time # host_mtu for virtio-net, fails if not supported.MIN_QEMU_INTERFACE_MTU = (2, 9, 0) return host.has_min_version(MIN_LIBVIRT_INTERFACE_MTU, MIN_QEMU_INTERFACE_MTU)",# setting interface mtu was intoduced in libvirt 3.3 return host.has_min_version(MIN_LIBVIRT_INTERFACE_MTU),6,2
openstack%2Fnova~stable%2Focata~Id67e1285a0522474844de130c9263e11868f67fb,openstack/nova,stable/ocata,Id67e1285a0522474844de130c9263e11868f67fb,Add policy rule to block image-backed servers with 0 root disk flavor,MERGED,2018-04-23 17:49:07.000000000,2018-07-04 14:54:14.000000000,2018-07-04 14:54:14.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 17:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df680cf0116319d542d2c47e7a81b9bb022aef4c', 'message': ""Add policy rule to block image-backed servers with 0 root disk flavor\n\nThis adds a new policy rule which defaults to behave in a\nbackward compatible way, but will allow operators to enforce\nthat servers created with a zero disk flavor must also be\nvolume-backed servers.\n\nAllowing users to upload their own images and create image-backed\nservers on local disk with zero root disk size flavors can be\npotentially hazardous if the size of the image is unexpectedly\nlarge, since it can consume the local disk (or shared storage pool).\n\nIt should be noted that disabling the new policy rule will\nresult in a non-backward compatible API behavior change and no\nmicroversion is being introduced for this because enforcement via\na new microversion would not close the security gap on any previous\nmicroversions.\n\nRelated compute API reference and user documentation is updated\nto mention the policy rule along with a release note since\nthis is tied to a security bug, which will be backported to stable\nbranches.\n\nConflicts:\n      api-ref/source/parameters.yaml\n      doc/source/admin/flavors2.rst\n      nova/policies/servers.py\n      nova/tests/functional/wsgi/test_servers.py\n\nNOTE(mriedem): The api-ref/source/parameters.yaml conflict is due\nto If646149efb7eec8c90bf7d07c39ff4c495349941 not being in Pike.\nThe doc/source/admin/flavors2.rst conflict is due to the doc\nnot being in Ocata - it was migrated from the central admin-guide\nin Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1.\nThe nova/policies/servers.py conflict is due to two changes in Pike:\nI17b6ca6e17c777ae7d337bf70ec4774ffe5187a8 and\nI050c4f5f19aa79a682e076cc3e47eba597f272dd. The DocumentedRuleDefault\nclass was added to oslo.policy starting in 1.21.1 in Pike which is\nnewer than what stable/ocata supports in global-requirements so we\ncan't use it in this backport.\nThe nova/tests/functional/wsgi/test_servers.py conflict is due to\nIfcaaf285c8f98a1d0e8bbbc87b2f57fbce057346 and\nI294c54e5a22dd6e5b226a4b00e7cd116813f0704 not being in Ocata.\n\nChange-Id: Id67e1285a0522474844de130c9263e11868f67fb\nCloses-Bug: #1739646\n(cherry picked from commit 796c8879971d263ece1bf208d54ea04909615a89)\n(cherry picked from commit 294896e5e7e47cadabc415480e6ce14026ec1c6f)\n(cherry picked from commit 6b9a6bd3f9d2ab3eb42d965cc413280363d9bc8f)\n""}, {'number': 2, 'created': '2018-06-18 18:17:17.000000000', 'files': ['api-ref/source/parameters.yaml', 'releasenotes/notes/bug-1739646-enforce_volume_backed_for_zero_disk_flavor-b36a6eb4fa8b2964.yaml', 'nova/exception.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/unit/test_policy.py', 'nova/policies/servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8392c7f2656ae624877e3df539681c0a8f8b4926', 'message': ""Add policy rule to block image-backed servers with 0 root disk flavor\n\nThis adds a new policy rule which defaults to behave in a\nbackward compatible way, but will allow operators to enforce\nthat servers created with a zero disk flavor must also be\nvolume-backed servers.\n\nAllowing users to upload their own images and create image-backed\nservers on local disk with zero root disk size flavors can be\npotentially hazardous if the size of the image is unexpectedly\nlarge, since it can consume the local disk (or shared storage pool).\n\nIt should be noted that disabling the new policy rule will\nresult in a non-backward compatible API behavior change and no\nmicroversion is being introduced for this because enforcement via\na new microversion would not close the security gap on any previous\nmicroversions.\n\nRelated compute API reference and user documentation is updated\nto mention the policy rule along with a release note since\nthis is tied to a security bug, which will be backported to stable\nbranches.\n\nConflicts:\n      api-ref/source/parameters.yaml\n      doc/source/admin/flavors2.rst\n      nova/policies/servers.py\n      nova/tests/functional/wsgi/test_servers.py\n\nNOTE(mriedem): The api-ref/source/parameters.yaml conflict is due\nto If646149efb7eec8c90bf7d07c39ff4c495349941 not being in Pike.\nThe doc/source/admin/flavors2.rst conflict is due to the doc\nnot being in Ocata - it was migrated from the central admin-guide\nin Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1.\nThe nova/policies/servers.py conflict is due to two changes in Pike:\nI17b6ca6e17c777ae7d337bf70ec4774ffe5187a8 and\nI050c4f5f19aa79a682e076cc3e47eba597f272dd. The DocumentedRuleDefault\nclass was added to oslo.policy starting in 1.21.1 in Pike which is\nnewer than what stable/ocata supports in global-requirements so we\ncan't use it in this backport.\nThe nova/tests/functional/wsgi/test_servers.py conflict is due to\nIfcaaf285c8f98a1d0e8bbbc87b2f57fbce057346 and\nI294c54e5a22dd6e5b226a4b00e7cd116813f0704 not being in Ocata.\n\nChange-Id: Id67e1285a0522474844de130c9263e11868f67fb\nCloses-Bug: #1739646\n(cherry picked from commit 763fd62464e9a0753e061171cc1fd826055bbc01)\n(cherry picked from commit 7bcd581c78bb5916bf4b52e213322e7b56283572)\n(cherry picked from commit 0bf75621bbd25d4ce8a3588f112cf714891556eb)\n""}]",0,563719,8392c7f2656ae624877e3df539681c0a8f8b4926,21,10,2,6873,,,0,"Add policy rule to block image-backed servers with 0 root disk flavor

This adds a new policy rule which defaults to behave in a
backward compatible way, but will allow operators to enforce
that servers created with a zero disk flavor must also be
volume-backed servers.

Allowing users to upload their own images and create image-backed
servers on local disk with zero root disk size flavors can be
potentially hazardous if the size of the image is unexpectedly
large, since it can consume the local disk (or shared storage pool).

It should be noted that disabling the new policy rule will
result in a non-backward compatible API behavior change and no
microversion is being introduced for this because enforcement via
a new microversion would not close the security gap on any previous
microversions.

Related compute API reference and user documentation is updated
to mention the policy rule along with a release note since
this is tied to a security bug, which will be backported to stable
branches.

Conflicts:
      api-ref/source/parameters.yaml
      doc/source/admin/flavors2.rst
      nova/policies/servers.py
      nova/tests/functional/wsgi/test_servers.py

NOTE(mriedem): The api-ref/source/parameters.yaml conflict is due
to If646149efb7eec8c90bf7d07c39ff4c495349941 not being in Pike.
The doc/source/admin/flavors2.rst conflict is due to the doc
not being in Ocata - it was migrated from the central admin-guide
in Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1.
The nova/policies/servers.py conflict is due to two changes in Pike:
I17b6ca6e17c777ae7d337bf70ec4774ffe5187a8 and
I050c4f5f19aa79a682e076cc3e47eba597f272dd. The DocumentedRuleDefault
class was added to oslo.policy starting in 1.21.1 in Pike which is
newer than what stable/ocata supports in global-requirements so we
can't use it in this backport.
The nova/tests/functional/wsgi/test_servers.py conflict is due to
Ifcaaf285c8f98a1d0e8bbbc87b2f57fbce057346 and
I294c54e5a22dd6e5b226a4b00e7cd116813f0704 not being in Ocata.

Change-Id: Id67e1285a0522474844de130c9263e11868f67fb
Closes-Bug: #1739646
(cherry picked from commit 763fd62464e9a0753e061171cc1fd826055bbc01)
(cherry picked from commit 7bcd581c78bb5916bf4b52e213322e7b56283572)
(cherry picked from commit 0bf75621bbd25d4ce8a3588f112cf714891556eb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/563719/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'releasenotes/notes/bug-1739646-enforce_volume_backed_for_zero_disk_flavor-b36a6eb4fa8b2964.yaml', 'nova/exception.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/unit/test_policy.py', 'nova/policies/servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",8,df680cf0116319d542d2c47e7a81b9bb022aef4c,bug/1739646," except (exception.BootFromVolumeRequiredForZeroDiskFlavor, exception.ExternalNetworkAttachForbidden) as error:", except exception.ExternalNetworkAttachForbidden as error:,126,2
openstack%2Fnova~stable%2Fpike~Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,openstack/nova,stable/pike,Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,Use instance project/user when creating RequestSpec during resize reschedule,MERGED,2018-06-25 20:42:35.000000000,2018-07-04 14:54:08.000000000,2018-07-04 14:54:08.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-25 20:42:35.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce7ad878093e5730b8dcec5ca717b831db8965eb', 'message': 'Use instance project/user when creating RequestSpec during resize reschedule\n\nWhen rescheduling from a failed cold migrate / resize, the compute\nservice does not pass the request spec back to conductor so we\ncreate one based on the in-scope variables.\n\nThis introduces a problem for some scheduler filters like the\nAggregateMultiTenancyIsolation filter since it will create the\nRequestSpec using the project and user information from the current\ncontext, which for a cold migrate is the admin and might not be\nthe owner of the instance (which could be in some other project).\nSo the AggregateMultiTenancyIsolation filter might reject the\nrequest or select a host that fits an aggregate for the admin but\nnot the end user.\n\nThis fixes the problem by using the instance project/user information\nwhen constructing the RequestSpec which will take priority over\nthe context in RequestSpec.from_components().\n\nLong-term we need the compute service to pass the request spec back\nto the conductor during a reschedule, but we do this first since we\ncan backport it.\n\nNOTE(mriedem): RequestSpec.user_id was added in Rocky in commit\n6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its\nusage in this backport.\n\nConflicts:\n      nova/tests/unit/conductor/test_conductor.py\n\nNOTE(mriedem): The conflict is due to not having change\nIbc44e3b2261b314bb92062a88ca9ee6b81298dc3 in Pike.\n\nChange-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee\nCloses-Bug: #1774205\n(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)\n(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)\n'}]",0,577926,ce7ad878093e5730b8dcec5ca717b831db8965eb,11,7,1,6873,,,0,"Use instance project/user when creating RequestSpec during resize reschedule

When rescheduling from a failed cold migrate / resize, the compute
service does not pass the request spec back to conductor so we
create one based on the in-scope variables.

This introduces a problem for some scheduler filters like the
AggregateMultiTenancyIsolation filter since it will create the
RequestSpec using the project and user information from the current
context, which for a cold migrate is the admin and might not be
the owner of the instance (which could be in some other project).
So the AggregateMultiTenancyIsolation filter might reject the
request or select a host that fits an aggregate for the admin but
not the end user.

This fixes the problem by using the instance project/user information
when constructing the RequestSpec which will take priority over
the context in RequestSpec.from_components().

Long-term we need the compute service to pass the request spec back
to the conductor during a reschedule, but we do this first since we
can backport it.

NOTE(mriedem): RequestSpec.user_id was added in Rocky in commit
6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its
usage in this backport.

Conflicts:
      nova/tests/unit/conductor/test_conductor.py

NOTE(mriedem): The conflict is due to not having change
Ibc44e3b2261b314bb92062a88ca9ee6b81298dc3 in Pike.

Change-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee
Closes-Bug: #1774205
(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)
(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/577926/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,ce7ad878093e5730b8dcec5ca717b831db8965eb,bug/1774205," filter_properties, None, instance.availability_zone, project_id=instance.project_id)"," filter_properties, None, instance.availability_zone)",7,1
openstack%2Fnetworking-bgpvpn~master~I3b7eec8b4e0003866d14f7a242768b14802f4906,openstack/networking-bgpvpn,master,I3b7eec8b4e0003866d14f7a242768b14802f4906,New tempest test added for many bgvpn routes.,MERGED,2018-05-14 12:22:47.000000000,2018-07-04 14:50:07.000000000,2018-07-04 14:50:07.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 10068}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 12:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0405a778e10d4b1c59b423fbdae58ce268b8ddac', 'message': 'Add a test test_bgpvpn_loopback_port_association_create_and_update\nto test many loopbacks (default 100).\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}, {'number': 2, 'created': '2018-05-16 14:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ab455685fc24aed3bfd3cd72d4e50cfc7b807ccb', 'message': 'New tempest test added for many bgvpn routes.\n* Test many bgpvpn routes association for one port.\n    * Number of routes is defined by AMOUNT_LOOPBACKS\n    * Test no ping before association\n    * Test ping after association\n    * Test no ping after removing association\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}, {'number': 3, 'created': '2018-05-16 14:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/824b2bf35fc28bba66e6e8b2f40009de1e743b2f', 'message': 'New tempest test added for many bgvpn routes.\n\n* Test many bgpvpn routes association for one port.\n    * Number of routes is defined by AMOUNT_LOOPBACKS\n    * Test no ping before association\n    * Test ping after association\n    * Test no ping after removing association\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}, {'number': 4, 'created': '2018-05-30 08:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/14bbad58f0a15e1445f959fda47c379a64795e35', 'message': 'New tempest test added for many bgvpn routes.\n\n* Test many bgpvpn routes association for one port.\n    * Number of routes is defined by AMOUNT_LOOPBACKS\n    * Test no ping before association\n    * Test ping after association\n    * Test no ping after removing association\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}, {'number': 5, 'created': '2018-05-30 11:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0f8174901761715e2e5223b351876cd0af66efa9', 'message': 'New tempest test added for many bgvpn routes.\n\n* Test many bgpvpn routes association for one port.\n    * Number of routes is defined by AMOUNT_LOOPBACKS\n    * Test no ping before association\n    * Test ping after association\n    * Test no ping after removing association\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}, {'number': 6, 'created': '2018-06-01 12:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f9076d5b6670c683caec29c27f5ecf29f6971053', 'message': 'New tempest test added for many bgvpn routes.\n\n* Test many bgpvpn routes association for one port.\n    * Number of routes is defined by AMOUNT_LOOPBACKS\n    * Test no ping before association\n    * Test ping after association\n    * Test no ping after removing association\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}, {'number': 7, 'created': '2018-06-13 10:58:38.000000000', 'files': ['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ddbffe90a9fb712b670c684329cf6b62a7b359fd', 'message': 'New tempest test added for many bgvpn routes.\n\n* Test many bgpvpn routes association for one port.\n    * Number of routes is defined by AMOUNT_LOOPBACKS\n    * Test no ping before association\n    * Test ping after association\n    * Test no ping after removing association\n\nChange-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906\n'}]",21,568279,ddbffe90a9fb712b670c684329cf6b62a7b359fd,28,5,7,27800,,,0,"New tempest test added for many bgvpn routes.

* Test many bgpvpn routes association for one port.
    * Number of routes is defined by AMOUNT_LOOPBACKS
    * Test no ping before association
    * Test ping after association
    * Test no ping after removing association

Change-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/79/568279/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py'],1,0405a778e10d4b1c59b423fbdae58ce268b8ddac,," @decorators.idempotent_id('d92a8a18-c4d0-40d5-8592-713d7dae7d25') @utils.services('compute', 'network') @utils.requires_ext(extension='bgpvpn-routes-control', service='network') def test_bgpvpn_loopback_port_association_create_and_update(self): """"""This test checks port association in BGPVPN. 1. Create networks A and B with their respective subnets 2. Create L3 BGPVPN 3. Create router and connect it to network A 4. Create router and connect it to network B 5. Start up server 1 in network A 6. Start up server 2 in network B 7. Give a FIP to all servers 8. Configure ip forwarding on server 2 9. Configure alternative loopback address on server 2 10. Associate network A to a given L3 BGPVPN 11. Associate port of server 2 to a given L3 BGPVPN 12. Check that server 1 can ping server's 2 alternative ip 13. Update created before port association by routes removal 14. Check that server 1 cannot ping server's 2 alternative ip """""" ADD_LOOPBACKS = 90 START_ADD_LOOPBACKS = 31 IP_C_S1 = [] for ln in range(ADD_LOOPBACKS): IP_C_S1.append(str(S1C[ln + START_ADD_LOOPBACKS])) self._create_networks_and_subnets(port_security=False) self._create_l3_bgpvpn() self._create_servers([[self.networks[NET_A], IP_A_S1_1], [self.networks[NET_B], IP_B_S1_1]], port_security=False) self._create_fip_router(subnet_id=self.subnets[NET_A][0]['id']) self._create_fip_router(subnet_id=self.subnets[NET_B][0]['id']) self._associate_fip(0) self._associate_fip(1) # preliminary check that no connectivity to 192.168.0.1 initially # exists LOG.debug(""!!! preliminary check that no connectivity to "" + IP_C_S1_1) self._check_l3_bgpvpn_by_specific_ip( should_succeed=False, to_server_ip=IP_C_S1_1) for ln in range(ADD_LOOPBACKS): LOG.debug(""!!! preliminary check that no connectivity to "" + IP_C_S1[ln]) self._check_l3_bgpvpn_by_specific_ip( should_succeed=False, to_server_ip=IP_C_S1[ln]) self._setup_ip_forwarding(1) self._setup_ip_address(1, IP_C_S1_1) for ln in range(ADD_LOOPBACKS): self._setup_ip_address(1, IP_C_S1[ln]) self.bgpvpn_client.create_network_association( self.bgpvpn['id'], self.networks[NET_A]['id']) port_id = self.ports[self.servers[1]['id']]['id'] port_routes = [] port_routes.append({'type': 'prefix', 'prefix': IP_C_S1_1 + ""/32""}) for ln in range(ADD_LOOPBACKS): port_routes.append({'type': 'prefix', 'prefix': IP_C_S1[ln] + ""/32""}) body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], port_id=port_id, routes=port_routes) port_association = body['port_association'] LOG.debug(""!!! Check that server 1 can ping server's 2 alternative ip "" + IP_C_S1_1) self._check_l3_bgpvpn_by_specific_ip( to_server_ip=IP_C_S1_1) for ln in range(ADD_LOOPBACKS): LOG.debug(""!!! Check that server 1 can "" + ""ping server's 2 alternative ip "" + IP_C_S1[ln]) self._check_l3_bgpvpn_by_specific_ip( to_server_ip=IP_C_S1[ln]) self.bgpvpn_client.update_port_association( self.bgpvpn['id'], port_association['id'], routes=[]) LOG.debug(""!!! Check that server 1 cannot "" + ""ping server's 2 alternative ip "" + IP_C_S1_1) self._check_l3_bgpvpn_by_specific_ip( should_succeed=False, to_server_ip=IP_C_S1_1) for ln in range(ADD_LOOPBACKS): LOG.debug(""!!! Check that server 1 cannot "" + ""ping server's 2 alternative ip "" + IP_C_S1[ln]) self._check_l3_bgpvpn_by_specific_ip( should_succeed=False, to_server_ip=IP_C_S1[ln]) ",,97,0
openstack%2Fironic~master~Iaeb365ffb1e59479e15c676e268542fdfef38a91,openstack/ironic,master,Iaeb365ffb1e59479e15c676e268542fdfef38a91,Add a prelude for version 11,MERGED,2018-06-19 16:21:37.000000000,2018-07-04 14:50:05.000000000,2018-07-04 14:50:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-19 16:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbc05e8e06aff76272c7b0b6a30c212978a6a993', 'message': 'Add a prelude for version 11\n\nAdds a simple prelude for the rocky release cycle release.\n\nChange-Id: Iaeb365ffb1e59479e15c676e268542fdfef38a91\n'}, {'number': 2, 'created': '2018-07-02 14:57:22.000000000', 'files': ['releasenotes/notes/ironic-11-prelude-6dae469633823f8d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d049f7e14e5cb82965900cb7ffeaa4edd27f9f6', 'message': 'Add a prelude for version 11\n\nAdds a simple prelude for the rocky release cycle release.\n\nChange-Id: Iaeb365ffb1e59479e15c676e268542fdfef38a91\n'}]",7,576575,9d049f7e14e5cb82965900cb7ffeaa4edd27f9f6,14,5,2,11655,,,0,"Add a prelude for version 11

Adds a simple prelude for the rocky release cycle release.

Change-Id: Iaeb365ffb1e59479e15c676e268542fdfef38a91
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/576575/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ironic-11-prelude-6dae469633823f8d.yaml'],1,fbc05e8e06aff76272c7b0b6a30c212978a6a993,576575,"--- prelude: > Ironic turns the dial to `11` In preparation for the OpenStack Rocky development cycle release, the ""ironic"" Bare Metal as a Service team announces the release of version 11.0. While it is not quite like a volume knob, this release includes quite a bit of foundation for future releases and overall improvements to enhance the user experience. Some of these include the BIOS configuration framework, power fault recovery, additonal error handling, refactoring, removal of classic drivers, and many bug fixes. ",,14,0
openstack%2Fnova~master~Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12,openstack/nova,master,Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12,Fix missing versioned notification examples,MERGED,2018-07-02 05:44:27.000000000,2018-07-04 14:47:15.000000000,2018-07-02 16:53:51.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-07-02 05:44:27.000000000', 'files': ['doc/ext/versioned_notifications.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54d3e7096ca3b68af3cf5f0d30f7c0949e87c6d9', 'message': ""Fix missing versioned notification examples\n\nPython 3 is used in executing 'tox -e docs' by default currently.\nWhen Python 3 is used, there are some missing notification examples.\n\nIn python 3, map function returns an iterator instead of a list,\nand importlib.import_module is not executed in the document generation.\nSo it causes missing versioned notification examples in the nova docs.\n\nThis patch fixes it.\n\nChange-Id: Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12\nCloses-Bug: #1779606\n""}]",1,579436,54d3e7096ca3b68af3cf5f0d30f7c0949e87c6d9,13,9,1,7634,,,0,"Fix missing versioned notification examples

Python 3 is used in executing 'tox -e docs' by default currently.
When Python 3 is used, there are some missing notification examples.

In python 3, map function returns an iterator instead of a list,
and importlib.import_module is not executed in the document generation.
So it causes missing versioned notification examples in the nova docs.

This patch fixes it.

Change-Id: Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12
Closes-Bug: #1779606
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/579436/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/versioned_notifications.py'],1,54d3e7096ca3b68af3cf5f0d30f7c0949e87c6d9,bug/1779606," list(map(lambda module: importlib.import_module(module), ('nova.notifications.objects.' + name for _, name, _ in pkgutil.iter_modules(nova.notifications.objects.__path__))))"," map(lambda module: importlib.import_module(module), ('nova.notifications.objects.' + name for _, name, _ in pkgutil.iter_modules(nova.notifications.objects.__path__)))",3,3
openstack%2Fnetworking-bgpvpn~master~Iba72d0bd67d6d6331b1abcfa338d02a8f4070562,openstack/networking-bgpvpn,master,Iba72d0bd67d6d6331b1abcfa338d02a8f4070562,Add python3 django 1.11 job instead of django 2.0 job,MERGED,2018-06-12 15:01:27.000000000,2018-07-04 14:42:36.000000000,2018-07-04 14:42:36.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 15:01:27.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/656b62c6ad5c94ec8e5f9d6e03bd0eee480a9d93', 'message': 'Add python3 django 1.11 job instead of django 2.0 job\n\nDjango 2.0 is now used in tox py35 job, so there is no need for\npy35dj20 job. Instead, Django 1.11 with python3 is not covered.\n\n- py35dj20 job is dropped from tox.ini.\n- python3-django111 is added to tox.ini.\n  python3 is specified to basepython to avoid a specific python version.\n- .zuul.yaml is updated to consume horizon-openstack-tox-python3-django111\n  and drop horizon-openstack-tox-py35dj20.\n\nChange-Id: Iba72d0bd67d6d6331b1abcfa338d02a8f4070562\n'}]",0,574759,656b62c6ad5c94ec8e5f9d6e03bd0eee480a9d93,12,4,1,841,,,0,"Add python3 django 1.11 job instead of django 2.0 job

Django 2.0 is now used in tox py35 job, so there is no need for
py35dj20 job. Instead, Django 1.11 with python3 is not covered.

- py35dj20 job is dropped from tox.ini.
- python3-django111 is added to tox.ini.
  python3 is specified to basepython to avoid a specific python version.
- .zuul.yaml is updated to consume horizon-openstack-tox-python3-django111
  and drop horizon-openstack-tox-py35dj20.

Change-Id: Iba72d0bd67d6d6331b1abcfa338d02a8f4070562
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/59/574759/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,656b62c6ad5c94ec8e5f9d6e03bd0eee480a9d93,django20-support,"[testenv:py3-dj111] basepython = python3 pip install django>=1.11,<2","[testenv:py35dj20] basepython = python3.5 pip install django>=2.0,<2.1",5,9
openstack%2Fopenstack-ansible~master~Ib20057b9cc2860167c6eeed064c303519c4c9b5c,openstack/openstack-ansible,master,Ib20057b9cc2860167c6eeed064c303519c4c9b5c,Ensure python-keystoneclient has a lower bound,MERGED,2018-07-02 06:37:11.000000000,2018-07-04 14:38:34.000000000,2018-07-04 14:38:34.000000000,"[{'_account_id': 6816}, {'_account_id': 13404}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-07-02 06:37:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/132544930466876a80c6ef13641c8a289ac0e31d', 'message': 'Ensure python-keystoneclient has a lower bound\n\nIn order to pass the requirements test, every lib in\nthe *requirements.txt files must have a lower bound.\n\nChange-Id: Ib20057b9cc2860167c6eeed064c303519c4c9b5c\n'}]",0,579463,132544930466876a80c6ef13641c8a289ac0e31d,27,6,1,6816,,,0,"Ensure python-keystoneclient has a lower bound

In order to pass the requirements test, every lib in
the *requirements.txt files must have a lower bound.

Change-Id: Ib20057b9cc2860167c6eeed064c303519c4c9b5c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/579463/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,132544930466876a80c6ef13641c8a289ac0e31d,common-role-python-reqs,python-keystoneclient>=3.8.0 # Apache-2.0,python-keystoneclient!=2.1.0 # Apache-2.0,1,1
openstack%2Fsahara-dashboard~master~If0010e61e4f3c25c9800a8adc73ea1563366a34c,openstack/sahara-dashboard,master,If0010e61e4f3c25c9800a8adc73ea1563366a34c,Remove mox3 from DataProcessingClusterTemplateTests,MERGED,2018-04-21 14:42:56.000000000,2018-07-04 14:37:35.000000000,2018-07-04 14:37:35.000000000,"[{'_account_id': 24}, {'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 14:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/8066412a8d34e0c37864c103ce843de8225c0055', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 2, 'created': '2018-04-25 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/0237298191eb659622d1dea679a74f04c4830451', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nDepends-On: Ibf95b642f49aee9b3165f46e0422ff6bf56e9391\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 3, 'created': '2018-04-26 17:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/fcfa99ce3d2ce38c89b273dd272b7086caa509f8', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nDepends-On: Ibf95b642f49aee9b3165f46e0422ff6bf56e9391\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 4, 'created': '2018-04-27 12:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/094f44c50f0208cb0e6f4132669480be2928bb45', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nApart of the mox3 community goal for rocky.\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 5, 'created': '2018-04-30 19:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/194e4328e04e71a7b3811b05e8699a65adaf6864', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nApart of the mox3 community goal for rocky.\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 6, 'created': '2018-07-04 11:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/dca2b5a78b87716c2a4e89bb447322ad714701f7', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nApart of the mox3 community goal for rocky.\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 7, 'created': '2018-07-04 12:48:01.000000000', 'files': ['sahara_dashboard/content/data_processing/clusters/cluster_templates/tests.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/77bc89043272e2d3b6c743c81788dbf4e4f977f2', 'message': 'Remove mox3 from DataProcessingClusterTemplateTests\n\nApart of the mox3 community goal for rocky.\n\nChange-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",6,563424,77bc89043272e2d3b6c743c81788dbf4e4f977f2,31,4,7,24,,,0,"Remove mox3 from DataProcessingClusterTemplateTests

Apart of the mox3 community goal for rocky.

Change-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/24/563424/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_dashboard/test/helpers.py', 'sahara_dashboard/content/data_processing/clusters/cluster_templates/tests.py']",2,8066412a8d34e0c37864c103ce843de8225c0055,mox-removal,"from sahara_dashboard.test.helpers import IsHttpRequest @test.create_mocks({api.sahara: ('cluster_template_list', self.mock_cluster_template_list.return_value = \ self.cluster_templates.list() self.mock_cluster_template_list.assert_called_once_with( IsHttpRequest(), {}) @test.create_mocks({api.sahara: ('cluster_template_get', self.mock_flavor_get.return_value = flavor self.mock_cluster_template_get.return_value = ct @test.create_mocks({api.sahara: ('client', self.mock_cluster_template_get.return_value = ct self.mock_plugin_get_version_details.return_value = configs self.mock_nodegroup_template_find.return_value = ngts self.mock_cluster_template_get.assert_called_once_with( IsHttpRequest(), ct.id) @test.create_mocks({api.sahara: ('cluster_template_list', self.mock_cluster_template_list.return_value = \ self.cluster_templates.list() self.mock_cluster_template_delete.return_value = None self.mock_cluster_template_list.assert_called_once_with( IsHttpRequest(), {}) self.mock_cluster_template_delete.assert_called_once_with( IsHttpRequest(), ct.id) @test.create_mocks({api.sahara: ('client', self.mock_cluster_template_get.return_value = ct self.mock_plugin_get_version_details.return_value = configs self.mock_nodegroup_template_find.return_value = ngts self.mock_cluster_template_update.return_value = new_ct","from django import httpfrom mox3.mox import IsA # noqaimport six @test.create_stubs({api.sahara: ('cluster_template_list', api.sahara.cluster_template_list(IsA(http.HttpRequest), {}) \ .AndReturn(self.cluster_templates.list()) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('cluster_template_get', dash_api.nova.flavor_get(IsA(http.HttpRequest), flavor.id) \ .MultipleTimes().AndReturn(flavor) api.sahara.cluster_template_get(IsA(http.HttpRequest), IsA(six.text_type)) \ .MultipleTimes().AndReturn(ct) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('client', api.sahara.cluster_template_get(IsA(http.HttpRequest), ct.id) \ .AndReturn(ct) api.sahara.plugin_get_version_details(IsA(http.HttpRequest), ct.plugin_name, ct.hadoop_version) \ .MultipleTimes().AndReturn(configs) api.sahara.nodegroup_template_find(IsA(http.HttpRequest), plugin_name=ct.plugin_name, hadoop_version=ct.hadoop_version) \ .MultipleTimes().AndReturn(ngts) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('cluster_template_list', api.sahara.cluster_template_list(IsA(http.HttpRequest), {}) \ .AndReturn(self.cluster_templates.list()) api.sahara.cluster_template_delete(IsA(http.HttpRequest), ct.id) self.mox.ReplayAll() @test.create_stubs({api.sahara: ('client', api.sahara.cluster_template_get(IsA(http.HttpRequest), ct.id) \ .AndReturn(ct) api.sahara.plugin_get_version_details(IsA(http.HttpRequest), ct.plugin_name, ct.hadoop_version) \ .MultipleTimes().AndReturn(configs) api.sahara.nodegroup_template_find(IsA(http.HttpRequest), plugin_name=ct.plugin_name, hadoop_version=ct.hadoop_version) \ .MultipleTimes().AndReturn(ngts) api.sahara.cluster_template_update(request=IsA(http.HttpRequest), ct_id=ct.id, name=new_name, plugin_name=ct.plugin_name, hadoop_version=ct.hadoop_version, description=ct.description, cluster_configs=ct.cluster_configs, node_groups=ct.node_groups, anti_affinity=ct.anti_affinity, use_autoconfig=False, shares=ct.shares, is_public=False, is_protected=False, domain_name=ct.domain_name) \ .AndReturn(new_ct) self.mox.ReplayAll()",34,60
openstack%2Fpuppet-murano~master~I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5,openstack/puppet-murano,master,I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5,Add release note link in README,MERGED,2018-06-27 14:16:51.000000000,2018-07-04 14:37:03.000000000,2018-07-04 14:37:03.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 14:16:51.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/8a4221008c0dee4b68d0bf2fbf3a9c648c1597ca', 'message': 'Add release note link in README\n\nChange-Id: I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5\n'}]",0,578406,8a4221008c0dee4b68d0bf2fbf3a9c648c1597ca,7,3,1,17499,,,0,"Add release note link in README

Change-Id: I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/06/578406/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,8a4221008c0dee4b68d0bf2fbf3a9c648c1597ca,,* https://docs.openstack.org/releasenotes/puppet-murano/,**1.0.0** * Initial,1,3
openstack%2Fproject-config~master~Ibf891deadcaa8e5d323992e9626765341ca5c44a,openstack/project-config,master,Ibf891deadcaa8e5d323992e9626765341ca5c44a,Add executor used HDD metric to zuul-status dashboard,MERGED,2018-07-03 20:20:33.000000000,2018-07-04 14:35:55.000000000,2018-07-04 14:35:55.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 20:20:33.000000000', 'files': ['grafana/zuul-status.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a911a8b6379aacc5ac4783bc58a13f1ccbb6436', 'message': 'Add executor used HDD metric to zuul-status dashboard\n\nStart tracking HDD usage for zuul-executors, as it now has the\nability to stop / start builds.\n\nChange-Id: Ibf891deadcaa8e5d323992e9626765341ca5c44a\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,579970,0a911a8b6379aacc5ac4783bc58a13f1ccbb6436,8,4,1,4162,,,0,"Add executor used HDD metric to zuul-status dashboard

Start tracking HDD usage for zuul-executors, as it now has the
ability to stop / start builds.

Change-Id: Ibf891deadcaa8e5d323992e9626765341ca5c44a
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/579970/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/zuul-status.yaml'],1,0a911a8b6379aacc5ac4783bc58a13f1ccbb6436,," - title: Used HDD span: 6 targets: - target: aliasSub(stats.gauges.zuul.executor.*.pct_used_hdd, "".*\.(.*)_openstack_org.*"", ""\1"") type: graph",,5,0
openstack%2Fopenstack-ansible-tests~master~I748b509d24b0060908ac75322dd20062a1515169,openstack/openstack-ansible-tests,master,I748b509d24b0060908ac75322dd20062a1515169,Ensure clouds.yaml is placed correctly,MERGED,2018-07-03 19:56:21.000000000,2018-07-04 14:29:17.000000000,2018-07-04 13:15:15.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27190}]","[{'number': 1, 'created': '2018-07-03 19:56:21.000000000', 'files': ['test-prepare-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cdad81ae96a181ca50c9ec58fe81d823aa41e9ea', 'message': 'Ensure clouds.yaml is placed correctly\n\nWhen placing the clouds.yaml file, it needs to be accessible to\nthe user running ansible. This user is not necessarily root and\nfor openstack-infra is a non-root user.\n\nTo ensure that the file is placed in the right directory and with\nthe right permissions, we provide the right variable value to\nansible when it runs the role.\n\nChange-Id: I748b509d24b0060908ac75322dd20062a1515169\n'}]",0,579959,cdad81ae96a181ca50c9ec58fe81d823aa41e9ea,11,4,1,6816,,,0,"Ensure clouds.yaml is placed correctly

When placing the clouds.yaml file, it needs to be accessible to
the user running ansible. This user is not necessarily root and
for openstack-infra is a non-root user.

To ensure that the file is placed in the right directory and with
the right permissions, we provide the right variable value to
ansible when it runs the role.

Change-Id: I748b509d24b0060908ac75322dd20062a1515169
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/59/579959/1 && git format-patch -1 --stdout FETCH_HEAD,['test-prepare-host.yml'],1,cdad81ae96a181ca50c9ec58fe81d823aa41e9ea,bp/python-build-install-simplification," vars: openrc_file_dest: ""{{ lookup('env', 'HOME') }}/openrc"" openrc_file_owner: ""{{ lookup('env', 'USER') }}"" openrc_openstack_client_config_dir_dest: ""{{ lookup('env', 'HOME') }}/.config/openstack"" openrc_openstack_client_config_dir_owner: ""{{ lookup('env', 'USER') }}"" openrc_clouds_yml_file_owner: ""{{ lookup('env', 'USER') }}""",,6,0
openstack%2Fkuryr-kubernetes~master~I6d1622891c874f6477b37f37a0249ab636dcadab,openstack/kuryr-kubernetes,master,I6d1622891c874f6477b37f37a0249ab636dcadab,Move multinode gate to check pipeline,MERGED,2018-07-03 09:38:02.000000000,2018-07-04 14:21:17.000000000,2018-07-04 14:21:17.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 17880}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-07-03 09:38:02.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ad211c0debf53155085b92a4ad8c59db120a56ba', 'message': 'Move multinode gate to check pipeline\n\nAfter the split of .zuul.yaml into .zuul.d/ files multinode gate, which\nwas added to check by [1] was left back on experimental. This commit\nmoves it back to check pipeline.\n\n[1] https://review.openstack.org/#/c/578792/\n\nChange-Id: I6d1622891c874f6477b37f37a0249ab636dcadab\n'}]",0,579829,ad211c0debf53155085b92a4ad8c59db120a56ba,8,6,1,14885,,,0,"Move multinode gate to check pipeline

After the split of .zuul.yaml into .zuul.d/ files multinode gate, which
was added to check by [1] was left back on experimental. This commit
moves it back to check pipeline.

[1] https://review.openstack.org/#/c/578792/

Change-Id: I6d1622891c874f6477b37f37a0249ab636dcadab
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/579829/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,ad211c0debf53155085b92a4ad8c59db120a56ba,move_multinode_to_check, - kuryr-kubernetes-tempest-multinode-octavia, - kuryr-kubernetes-tempest-multinode-octavia,1,1
openstack%2Ftripleo-heat-templates~master~Idc5d48d60ab82139c2444cc40e7bf923732b41f9,openstack/tripleo-heat-templates,master,Idc5d48d60ab82139c2444cc40e7bf923732b41f9,"Revert ""Correct log location in container environment for Fluentd""",ABANDONED,2018-07-04 09:24:46.000000000,2018-07-04 14:14:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-04 09:24:46.000000000', 'files': ['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/nova-api.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/designate-sink.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/heat-api.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/ec2-api.yaml', 'tools/yaml-validate.py', 'docker/services/cinder-scheduler.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/neutron-api.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/keystone.yaml', 'docker/services/sahara-api.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/nova-placement.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/heat-engine.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/cinder-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc2f471307c72bce8b9a53420d675297e3b98574', 'message': 'Revert ""Correct log location in container environment for Fluentd""\n\nThis patch makes fluentd set the services log path wrong.\nThe service log path should be something like\n/var/log/containers/SERVICE but currently is\n/var/log/containers/containers/SERVICE due to this patch.\n\nIt can be seen at the gate:\nhttp://logs.openstack.org/97/579697/1/check/tripleo-ci-centos-7-scenario001-multinode-oooq-container/16ae389/logs/subnode-2/var/log/config-data/fluentd/etc/fluentd/config.d/100-openstack-ceilometer_agent_central.conf.txt.gz\n\nThis patch set the log path on the dockers as\n/var/log/containers/XXXX, but fluentd already has a\npuppet-transformation for it.\nhttps://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/logging/fluentd/fluentd_service.pp#L36-L39\n\nCloses-Bug: #1780050\n\nThis reverts commit 3848713182c0cdb1e0e78cee9233a278d69cf3ab.\n\nChange-Id: Idc5d48d60ab82139c2444cc40e7bf923732b41f9\n'}]",0,580102,fc2f471307c72bce8b9a53420d675297e3b98574,4,2,1,22954,,,0,"Revert ""Correct log location in container environment for Fluentd""

This patch makes fluentd set the services log path wrong.
The service log path should be something like
/var/log/containers/SERVICE but currently is
/var/log/containers/containers/SERVICE due to this patch.

It can be seen at the gate:
http://logs.openstack.org/97/579697/1/check/tripleo-ci-centos-7-scenario001-multinode-oooq-container/16ae389/logs/subnode-2/var/log/config-data/fluentd/etc/fluentd/config.d/100-openstack-ceilometer_agent_central.conf.txt.gz

This patch set the log path on the dockers as
/var/log/containers/XXXX, but fluentd already has a
puppet-transformation for it.
https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/logging/fluentd/fluentd_service.pp#L36-L39

Closes-Bug: #1780050

This reverts commit 3848713182c0cdb1e0e78cee9233a278d69cf3ab.

Change-Id: Idc5d48d60ab82139c2444cc40e7bf923732b41f9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/580102/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/nova-api.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/designate-sink.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/heat-api.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/ec2-api.yaml', 'tools/yaml-validate.py', 'docker/services/cinder-scheduler.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/neutron-api.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/keystone.yaml', 'docker/services/sahara-api.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/nova-placement.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/heat-engine.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/cinder-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/nova-compute.yaml']",38,fc2f471307c72bce8b9a53420d675297e3b98574,bug/1780050," service_config_settings: {get_attr: [NovaComputeBase, role_data, service_config_settings]}"," NovaComputeLoggingSource: type: json default: tag: openstack.nova.compute path: /var/log/containers/nova/nova-compute.log service_config_settings: map_merge: - get_attr: [NovaComputeBase, role_data, service_config_settings] - fluentd: tripleo_fluentd_groups_nova_compute: - nova tripleo_fluentd_sources_nova_compute: - {get_param: NovaComputeLoggingSource}",32,482
openstack%2Fnova~master~I7150e15694bb149ae67da37b5e43b6ea7507fe82,openstack/nova,master,I7150e15694bb149ae67da37b5e43b6ea7507fe82,libvirt: Fix the rescue race for vGPU instances,MERGED,2018-06-22 13:51:44.000000000,2018-07-04 14:14:02.000000000,2018-06-29 08:51:59.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-22 13:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56c4111409312dc8511ca58a0ac87bfb8748beaa', 'message': 'libvirt: Fix the rescue race for vGPU instances\n\nWhen rescueing an instance having a vGPU, we were not using the vGPU.\nThere would then be a race condition during the rescue where the vGPU\ncould be passed to another instance.\nInstead, we should just make sure the vGPU would also be in the rescued\ninstance.\n\nChange-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82\nCloses-bug: #1762688\n'}, {'number': 2, 'created': '2018-06-28 22:41:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c59397e09de5506bccba513ef31ffb8585fcdc3', 'message': 'libvirt: Fix the rescue race for vGPU instances\n\nWhen rescuing an instance having a vGPU, we were not using the vGPU.\nThere would then be a race condition during the rescue where the vGPU\ncould be passed to another instance.\nInstead, we should just make sure the vGPU would also be in the rescued\ninstance.\n\nChange-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82\nCloses-bug: #1762688\n'}]",7,577424,1c59397e09de5506bccba513ef31ffb8585fcdc3,29,15,2,7166,,,0,"libvirt: Fix the rescue race for vGPU instances

When rescuing an instance having a vGPU, we were not using the vGPU.
There would then be a race condition during the rescue where the vGPU
could be passed to another instance.
Instead, we should just make sure the vGPU would also be in the rescued
instance.

Change-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82
Closes-bug: #1762688
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/577424/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,56c4111409312dc8511ca58a0ac87bfb8748beaa,bug/1762688," @mock.patch('nova.virt.libvirt.LibvirtDriver.' '_get_all_assigned_mediated_devices') mock_get_mdev, mock_get_mdev.return_value = {uuids.mdev1: uuids.inst1} # The generated domain XML should also contain any existing mdev self.assertEqual( [uuids.mdev1], doc.xpath(""devices/*[@type='mdev']/source/address/@uuid"")) ",,17,8
openstack%2Fheat~master~I6dde50de599eb3b6b001cbc044929c64df044575,openstack/heat,master,I6dde50de599eb3b6b001cbc044929c64df044575,fix tox python3 overrides,MERGED,2018-06-06 20:07:02.000000000,2018-07-04 14:09:51.000000000,2018-07-04 14:09:51.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-06 20:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dff37c0800569808c9643fe4a42d10c4640773d0', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I6dde50de599eb3b6b001cbc044929c64df044575\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-13 19:00:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/55d1f4006ccab853ccae34ab861834f9e28b0f10', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I6dde50de599eb3b6b001cbc044929c64df044575\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,572959,55d1f4006ccab853ccae34ab861834f9e28b0f10,12,4,2,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I6dde50de599eb3b6b001cbc044929c64df044575
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/572959/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dff37c0800569808c9643fe4a42d10c4640773d0,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,10,0
openstack%2Ffreezer-web-ui~stable%2Fpike~I9bff33eac9c756afb571f81824a8a3242477f321,openstack/freezer-web-ui,stable/pike,I9bff33eac9c756afb571f81824a8a3242477f321,Avoid using deprecated opt in Web-UI,MERGED,2018-07-02 23:09:56.000000000,2018-07-04 14:07:41.000000000,2018-07-04 14:07:41.000000000,"[{'_account_id': 13940}, {'_account_id': 22348}, {'_account_id': 22595}]","[{'number': 1, 'created': '2018-07-02 23:09:56.000000000', 'files': ['disaster_recovery/actions/workflows/action.py'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/a712fd4fe7cade6caff2ea0da9272abd1e4d5fdd', 'message': 'Avoid using deprecated opt in Web-UI\n\nUse new opt instead of deprecated opt to avoid KeyError.\n\nChange-Id: I9bff33eac9c756afb571f81824a8a3242477f321\nCloses-Bug: #1777705\n(cherry picked from commit 40a07a0e003961b26a1a87172f796f75a215b917)\n'}]",0,579713,a712fd4fe7cade6caff2ea0da9272abd1e4d5fdd,7,3,1,25601,,,0,"Avoid using deprecated opt in Web-UI

Use new opt instead of deprecated opt to avoid KeyError.

Change-Id: I9bff33eac9c756afb571f81824a8a3242477f321
Closes-Bug: #1777705
(cherry picked from commit 40a07a0e003961b26a1a87172f796f75a215b917)
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/13/579713/1 && git format-patch -1 --stdout FETCH_HEAD,['disaster_recovery/actions/workflows/action.py'],1,a712fd4fe7cade6caff2ea0da9272abd1e4d5fdd,bug/1777705-stable/pike," os_identity_api_version = forms.ChoiceField( def populate_os_identity_api_version_choices(self, request, context): 'os_identity_api_version',"," os_auth_ver = forms.ChoiceField( def populate_os_auth_ver_choices(self, request, context): 'os_auth_ver',",3,3
openstack%2Fpython-heatclient~master~Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6,openstack/python-heatclient,master,Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6,Add extra functional tests in heatclient,NEW,2016-12-13 07:09:35.000000000,2018-07-04 14:06:22.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 22863}, {'_account_id': 24081}]","[{'number': 1, 'created': '2016-12-13 07:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/c749a10adc69c024d41bfa3d8bbc6dffc99a686c', 'message': ""Add extra functinoal tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\nAdd functional test for 'openstack stack list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\nImplements: bp add-functional\n""}, {'number': 2, 'created': '2016-12-14 11:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/86a5d6337d869315048eae240a9fe28fb29f6015', 'message': ""Add extra functinoal tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\n\nAdd functional test for 'openstack stack list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\nImplements: bp add-functional\n""}, {'number': 3, 'created': '2016-12-15 02:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/679c18d297826fbcf81ff3281e1872e606186433', 'message': ""Add extra functinoal tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\n\nAdd functional test for 'openstack stack list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\nImplements: bp add-functional\n""}, {'number': 4, 'created': '2016-12-15 07:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/88173a94455363f84690bef1c92a7eaa41c8adae', 'message': ""Add extra functinoal tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\n\nAdd functional test for 'openstack stack list'\n                        'openstack stack snapshot list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\nImplements: bp add-functional\n""}, {'number': 5, 'created': '2017-07-19 14:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/0e51fed642389f041bfb0cb261f33b48484718f1', 'message': ""Add extra functinoal tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\n\nAdd functional test for 'openstack stack list'\n                        'openstack stack snapshot list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\n""}, {'number': 6, 'created': '2017-09-22 10:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/7c1d0cc2eace4ac9a9b2944db2ca93d998276290', 'message': ""Add extra functinoal tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\n\nAdd functional test for 'openstack stack list'\n                        'openstack stack snapshot list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\n""}, {'number': 7, 'created': '2018-07-04 12:57:00.000000000', 'files': ['heatclient/tests/functional/osc/v1/test_stack.py', 'heatclient/tests/functional/osc/v1/base.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/c5c8356ec0d095bed476049bc7009fe6422af578', 'message': ""Add extra functional tests in heatclient\n\nFor now, there are several heat osc CLIs which do not have own\nfunctional tests in heatclient/tests/functional/osc/v1.\nI think it is time to add some for heatclient.\n\nAdd functional test for 'openstack stack list'\n                        'openstack stack snapshot list'\n\nChange-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6\n""}]",4,410063,c5c8356ec0d095bed476049bc7009fe6422af578,25,6,7,22863,,,0,"Add extra functional tests in heatclient

For now, there are several heat osc CLIs which do not have own
functional tests in heatclient/tests/functional/osc/v1.
I think it is time to add some for heatclient.

Add functional test for 'openstack stack list'
                        'openstack stack snapshot list'

Change-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/63/410063/6 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/tests/functional/osc/v1/test_stack.py', 'heatclient/tests/functional/osc/v1/base.py']",2,c749a10adc69c024d41bfa3d8bbc6dffc99a686c,add-functional-test, def _stack_list(self): cmd='stack list' stack_raw=self.opesntack(cmd) return self.list_to_dict(stack_raw) ,,11,0
openstack%2Fnova~stable%2Fqueens~I7150e15694bb149ae67da37b5e43b6ea7507fe82,openstack/nova,stable/queens,I7150e15694bb149ae67da37b5e43b6ea7507fe82,libvirt: Fix the rescue race for vGPU instances,MERGED,2018-07-02 09:32:47.000000000,2018-07-04 14:01:26.000000000,2018-07-04 14:01:26.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 25562}]","[{'number': 1, 'created': '2018-07-02 09:32:47.000000000', 'files': ['nova/virt/libvirt/driver.py', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3163c9391ec2569f77e583bccf6163c309e45482', 'message': 'libvirt: Fix the rescue race for vGPU instances\n\nWhen rescuing an instance having a vGPU, we were not using the vGPU.\nThere would then be a race condition during the rescue where the vGPU\ncould be passed to another instance.\nInstead, we should just make sure the vGPU would also be in the rescued\ninstance.\n\nChange-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82\nCloses-bug: #1762688\n(cherry picked from commit 1c59397e09de5506bccba513ef31ffb8585fcdc3)\n'}]",0,579503,3163c9391ec2569f77e583bccf6163c309e45482,14,8,1,7166,,,0,"libvirt: Fix the rescue race for vGPU instances

When rescuing an instance having a vGPU, we were not using the vGPU.
There would then be a race condition during the rescue where the vGPU
could be passed to another instance.
Instead, we should just make sure the vGPU would also be in the rescued
instance.

Change-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82
Closes-bug: #1762688
(cherry picked from commit 1c59397e09de5506bccba513ef31ffb8585fcdc3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/579503/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,3163c9391ec2569f77e583bccf6163c309e45482,bug/1762688-stable/queens," @mock.patch('nova.virt.libvirt.LibvirtDriver.' '_get_all_assigned_mediated_devices') mock_get_mdev, mock_get_mdev.return_value = {uuids.mdev1: uuids.inst1} # The generated domain XML should also contain any existing mdev self.assertEqual( [uuids.mdev1], doc.xpath(""devices/*[@type='mdev']/source/address/@uuid"")) ",,21,2
openstack%2Fopenstack-ansible~master~I2a49a407e82c23540cd0aff209bd276c8a303bf0,openstack/openstack-ansible,master,I2a49a407e82c23540cd0aff209bd276c8a303bf0,Pin get-pip.py to 3.2,MERGED,2018-07-03 17:10:37.000000000,2018-07-04 13:44:18.000000000,2018-07-04 13:44:18.000000000,"[{'_account_id': 6816}, {'_account_id': 13404}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-07-03 17:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29b3d1bf4c38b180ee815521f6c98569887f1ab3', 'message': ""Pin get-pip.py to 3.3\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script.\n\nChange-Id: I2a49a407e82c23540cd0aff209bd276c8a303bf0\nCloses-Bug: 1779534\n""}, {'number': 2, 'created': '2018-07-04 08:22:56.000000000', 'files': ['scripts/scripts-library.sh', 'playbooks/common-tasks/set-pip-vars.yml', 'inventory/group_vars/all/pip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e79314ecd462f1388d72bada681cc792a588d8db', 'message': ""Pin get-pip.py to 3.2\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script. Version 3.2 maps to\npip 7.1.2 which fulfills our needs.\n\nChange-Id: I2a49a407e82c23540cd0aff209bd276c8a303bf0\nCloses-Bug: 1779534\n""}]",0,579927,e79314ecd462f1388d72bada681cc792a588d8db,14,6,2,6816,,,0,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Change-Id: I2a49a407e82c23540cd0aff209bd276c8a303bf0
Closes-Bug: 1779534
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/579927/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/scripts-library.sh', 'playbooks/common-tasks/set-pip-vars.yml', 'inventory/group_vars/all/pip.yml']",3,29b3d1bf4c38b180ee815521f6c98569887f1ab3,bug/1779534,"pip_upstream_url: ""{{ (pip_offline_install | bool) | ternary('https://bootstrap.pypa.io/3.3/get-pip.py', repo_release_path ~ '/get-pip.py') }}""","pip_upstream_url: ""{{ (pip_offline_install | bool) | ternary('https://bootstrap.pypa.io/get-pip.py', repo_release_path ~ '/get-pip.py') }}""",4,4
openstack%2Fneutron-fwaas~master~I30642267b93eed0bc3eb6523b4ff7eae18104da0,openstack/neutron-fwaas,master,I30642267b93eed0bc3eb6523b4ff7eae18104da0,[DNR] trying to understand functional test,ABANDONED,2018-07-03 10:03:54.000000000,2018-07-04 13:29:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 10:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/89082bcafa05a727dd012108a0ebda98e89d8720', 'message': '[DNR] trying to understand functional test\n\nChange-Id: I30642267b93eed0bc3eb6523b4ff7eae18104da0\n'}, {'number': 2, 'created': '2018-07-03 12:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5b09e54392ddd27bcc230932cea0f41ed25faad7', 'message': '[DNR] trying to understand functional test\n\nDepends-On: https://review.openstack.org/#/c/578001/\n\nChange-Id: I30642267b93eed0bc3eb6523b4ff7eae18104da0\n'}, {'number': 3, 'created': '2018-07-04 09:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7e99ac2b6ea8dc377cb91bc6f0f1d6be6d91949b', 'message': '[DNR] trying to understand functional test\n\nDepends-On: https://review.openstack.org/#/c/578001/\n\nChange-Id: I30642267b93eed0bc3eb6523b4ff7eae18104da0\n'}, {'number': 4, 'created': '2018-07-04 09:57:40.000000000', 'files': ['requirements.txt', 'neutron_fwaas/tests/functional/privileged/test_netlink_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9ce94c8f49333dc0dcd6c5eb0a29258d6790f18f', 'message': '[DNR] trying to understand functional test\n\nChange-Id: I30642267b93eed0bc3eb6523b4ff7eae18104da0\n'}]",0,579835,9ce94c8f49333dc0dcd6c5eb0a29258d6790f18f,9,1,4,25254,,,0,"[DNR] trying to understand functional test

Change-Id: I30642267b93eed0bc3eb6523b4ff7eae18104da0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/35/579835/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/functional/privileged/test_netlink_lib.py'],1,89082bcafa05a727dd012108a0ebda98e89d8720,579835," print(""ADUU: "", namespace) print(""ADUU: "", namespace) print(""ADUU: "", namespace) print(""NEXT: "", entries_list) nl_lib.delete_entries(entries=delete_entries, namespace=namespace) nl_lib.delete_entries(entries=delete_entries, namespace=namespace)"," nl_lib.delete_entries(namespace=namespace, entries=delete_entries) nl_lib.delete_entries(namespace=namespace, entries=delete_entries)",7,2
openstack%2Fcinder~master~I3e84e54eb5cd9eb81604740732ea2d717a7e25e9,openstack/cinder,master,I3e84e54eb5cd9eb81604740732ea2d717a7e25e9,Correct Pure Storage configuration documentation,MERGED,2018-07-03 17:41:59.000000000,2018-07-04 13:29:15.000000000,2018-07-03 22:31:56.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12924}, {'_account_id': 13425}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-03 17:41:59.000000000', 'files': ['doc/source/configuration/block-storage/drivers/pure-storage-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52deeff8d2519c1700aa880d3fae0bb0e83ea86c', 'message': 'Correct Pure Storage configuration documentation\n\nThe Automatic thin-provisioning/oversubscription ratio section\nincorrectly defines the default value.\n\nRewrite section to be correct.\n\nChange-Id: I3e84e54eb5cd9eb81604740732ea2d717a7e25e9\nCloses-Bug: 1779911\n'}]",3,579934,52deeff8d2519c1700aa880d3fae0bb0e83ea86c,27,19,1,13425,,,0,"Correct Pure Storage configuration documentation

The Automatic thin-provisioning/oversubscription ratio section
incorrectly defines the default value.

Rewrite section to be correct.

Change-Id: I3e84e54eb5cd9eb81604740732ea2d717a7e25e9
Closes-Bug: 1779911
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/579934/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/pure-storage-driver.rst'],1,52deeff8d2519c1700aa880d3fae0bb0e83ea86c,bug/1779911,This feature allows the driver to calculate the array oversubscription ratio as (total provisioned/actual used). By default this feature is enabled. To disable this feature and honor the hard-coded configuration option ``max_over_subscription_ratio`` add the following option in the ``cinder.conf`` file: pure_automatic_max_oversubscription_ratio = False,"To enable this feature where we calculate the array oversubscription ratio as (total provisioned/actual used), add the following option in the ``cinder.conf`` file: pure_automatic_max_oversubscription_ratio = True By default, this is disabled and we honor the hard-coded configuration option ``max_over_subscription_ratio``.",7,7
openstack%2Fpython-heatclient~master~Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763,openstack/python-heatclient,master,Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763,fix tox python3 overrides,MERGED,2018-06-07 16:45:15.000000000,2018-07-04 13:22:53.000000000,2018-07-04 13:22:53.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-07 16:45:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4c782b2817b9519cafe8e7c0f96469e6b97453e5', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,573335,4c782b2817b9519cafe8e7c0f96469e6b97453e5,10,4,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/35/573335/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c782b2817b9519cafe8e7c0f96469e6b97453e5,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,6,0
openstack%2Fwatcher~stable%2Fqueens~I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,openstack/watcher,stable/queens,I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,Remove undefined job,MERGED,2018-07-03 20:27:28.000000000,2018-07-04 13:06:11.000000000,2018-07-04 13:06:11.000000000,"[{'_account_id': 6547}, {'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 20:27:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e0faeea60815908d6ad31bcb59b9bbd9acf22b00', 'message': 'Remove undefined job\n\nThe legacy-rally-dsvm-watcher-rally job does not exist but it is listed\nin the .zuul.yaml config. This is a zuul configuration error. Remove\nthis job which does not exist to fix zuul.\n\nChange-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d\n'}]",0,579973,e0faeea60815908d6ad31bcb59b9bbd9acf22b00,7,3,1,4146,,,0,"Remove undefined job

The legacy-rally-dsvm-watcher-rally job does not exist but it is listed
in the .zuul.yaml config. This is a zuul configuration error. Remove
this job which does not exist to fix zuul.

Change-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d
",git fetch https://review.opendev.org/openstack/watcher refs/changes/73/579973/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e0faeea60815908d6ad31bcb59b9bbd9acf22b00,fix-zuul-queens,, - legacy-rally-dsvm-watcher-rally,0,1
openstack%2Fpuppet-qdr~master~I717a5fb84e85ebe5611cadbacbe960fe33461a83,openstack/puppet-qdr,master,I717a5fb84e85ebe5611cadbacbe960fe33461a83,Add release note link in README,MERGED,2018-06-27 14:36:48.000000000,2018-07-04 13:05:38.000000000,2018-07-04 13:05:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 14:36:48.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/42d68ba1b40f2578c7da1d97f5f0aa6487256f66', 'message': 'Add release note link in README\n\nChange-Id: I717a5fb84e85ebe5611cadbacbe960fe33461a83\n'}]",0,578420,42d68ba1b40f2578c7da1d97f5f0aa6487256f66,7,3,1,17499,,,0,"Add release note link in README

Change-Id: I717a5fb84e85ebe5611cadbacbe960fe33461a83
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/20/578420/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,42d68ba1b40f2578c7da1d97f5f0aa6487256f66,, * https://docs.openstack.org/releasenotes/puppet-qdr ,,2,0
openstack%2Frpm-packaging~stable%2Fpike~I5a901ade60949af2c5246ce1ae1877d7feb37b4d,openstack/rpm-packaging,stable/pike,I5a901ade60949af2c5246ce1ae1877d7feb37b4d,Use python3 as python for envs as spec_cleaner dropped python2,MERGED,2018-07-02 13:16:35.000000000,2018-07-04 13:02:07.000000000,2018-07-04 13:02:07.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-02 13:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a8a8e62fa5869a5d5b7b4b7d8e90075574a36189', 'message': 'Use python3 as python for envs as spec_cleaner dropped python2\n\nhttps://github.com/openSUSE/spec-cleaner/issues/234\n\nChange-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d\n'}, {'number': 2, 'created': '2018-07-02 13:18:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f26060324399827bee83b98ce5ff0b4112fcec7c', 'message': 'Use python3 as python for envs as spec_cleaner dropped python2\n\nhttps://github.com/openSUSE/spec-cleaner/issues/234\n\nChange-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d\n'}]",0,579550,f26060324399827bee83b98ce5ff0b4112fcec7c,9,4,2,23735,,,0,"Use python3 as python for envs as spec_cleaner dropped python2

https://github.com/openSUSE/spec-cleaner/issues/234

Change-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/50/579550/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a8a8e62fa5869a5d5b7b4b7d8e90075574a36189,,basepython = python3,,1,0
openstack%2Fpuppet-ovn~master~I09d72f715331c86e663b979879f2fb6d0c957bbb,openstack/puppet-ovn,master,I09d72f715331c86e663b979879f2fb6d0c957bbb,Add release note link in README,MERGED,2018-06-27 13:34:29.000000000,2018-07-04 13:01:58.000000000,2018-07-04 13:01:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 13:34:29.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f0d4e4b52118b79cecadc9e087ba25bb0cdb837f', 'message': 'Add release note link in README\n\nChange-Id: I09d72f715331c86e663b979879f2fb6d0c957bbb\n'}]",0,578383,f0d4e4b52118b79cecadc9e087ba25bb0cdb837f,7,3,1,17499,,,0,"Add release note link in README

Change-Id: I09d72f715331c86e663b979879f2fb6d0c957bbb
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/83/578383/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,f0d4e4b52118b79cecadc9e087ba25bb0cdb837f,, Release notes for the project can be found at: https://docs.openstack.org/releasenotes/puppet-ovn/,,3,0
openstack%2Frpm-packaging~master~Ia7047f4303346b4bdf9bc4624164074373af7866,openstack/rpm-packaging,master,Ia7047f4303346b4bdf9bc4624164074373af7866,DNM: python3,ABANDONED,2018-07-02 13:05:17.000000000,2018-07-04 12:47:26.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-02 13:05:17.000000000', 'files': ['tools/run_speccleaner.sh'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4aa4fd712c84db57380ccb0cb6a3f1719c40bc1b', 'message': 'DNM: python3\n\nChange-Id: Ia7047f4303346b4bdf9bc4624164074373af7866\n'}]",0,579546,4aa4fd712c84db57380ccb0cb6a3f1719c40bc1b,5,3,1,6593,,,0,"DNM: python3

Change-Id: Ia7047f4303346b4bdf9bc4624164074373af7866
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/46/579546/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/run_speccleaner.sh'],1,4aa4fd712c84db57380ccb0cb6a3f1719c40bc1b,linters," python3 spec-cleaner -m -d --no-copyright --diff-prog ""diff -uw"" \ $spec > $tmpdir/`basename ${spec}`.cleaner.diff &"," spec-cleaner -m -d --no-copyright --diff-prog ""diff -uw"" \ $spec > $tmpdir/`basename ${spec}`.cleaner.diff &",2,2
openstack%2Fpuppet-horizon~stable%2Fqueens~I53a9107a33e9afffc5d00884c66c073e77c59237,openstack/puppet-horizon,stable/queens,I53a9107a33e9afffc5d00884c66c073e77c59237,Fix redirect to https bug and testing,ABANDONED,2018-07-04 07:19:29.000000000,2018-07-04 12:46:21.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 07:19:29.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/horizon_wsgi_apache_spec.rb', 'releasenotes/notes/ssl-redirect-bug-38095eeba290933a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/08ad0a3d936b991acef9c0838f91eee46b9ec0de', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}]",0,580062,08ad0a3d936b991acef9c0838f91eee46b9ec0de,4,2,1,16137,,,0,"Fix redirect to https bug and testing

Fixes a bug where having listen_ssl and ssl_redirect
set to true did not redirect http to https if your
root_url was empty or '/'.

This now forces redirection from http to https no
matter what your root_url is if listen_ssl and ssl_redirect
is set to true.

This also cleans up all apache::wsgi::apache testing and fixes
the structure so it doesn't enforce some context tests only for
the SSL enabled context but for everything.

Change-Id: I53a9107a33e9afffc5d00884c66c073e77c59237
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/62/580062/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/horizon_wsgi_apache_spec.rb', 'releasenotes/notes/ssl-redirect-bug-38095eeba290933a.yaml']",3,08ad0a3d936b991acef9c0838f91eee46b9ec0de,backport-bugfix,--- fixes: - | Fixed a bug where having ssl and redirection enabled combined with a empty root_url did not redirect. If you are setting listen_ssl and ssl_redirect to true it will always redirect to https no matter what your root_url is. - | Fixed a bug where the http vhost would not redirect to the custom root_url when setting listen_ssl to true and ssl_redirect to false. ,,164,3
openstack%2Fwatcher~master~Id94e49347006bca850f72a0400794da8c2a67144,openstack/watcher,master,Id94e49347006bca850f72a0400794da8c2a67144,Remove non-voting jobs from gate queue,MERGED,2018-07-04 09:43:45.000000000,2018-07-04 12:28:55.000000000,2018-07-04 12:28:55.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 09:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/52a29f2324e737a2461350ce70e254147acc25b8', 'message': 'Remove non-voting jobs from gate queue\n\nNon-voting jobs should not be in gate queue at all, remove them.\nThey are wasting needlessly are resources.\n\nTo make clearer which jobs are non-voting, move voting:false\nfrom base job to individual jobs.\n\nChange-Id: Id94e49347006bca850f72a0400794da8c2a67144\n'}, {'number': 2, 'created': '2018-07-04 09:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/93b0000950cfbacd86994e02571fccea21b1d8fa', 'message': 'Remove non-voting jobs from gate queue\n\nNon-voting jobs should not be in gate queue at all, remove them.\nThey are wasting needlessly are resources.\n\nTo make clearer which jobs are non-voting, move voting:false\nfrom base job to individual jobs.\n\nMake watcherclient-tempest-functional as voting job and explicitly set\nit non-voting in project stanza so that it can be easier to make it\nvoting in other repos.\n\nChange-Id: Id94e49347006bca850f72a0400794da8c2a67144\n'}, {'number': 3, 'created': '2018-07-04 09:50:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c9e88866313d59dd77b073db954f073ecc6d4eb5', 'message': 'Remove non-voting jobs from gate queue\n\nNon-voting jobs should not be in gate queue at all, remove them.\nThey are wasting needlessly are resources.\n\nTo make clearer which jobs are non-voting, move voting:false\nfrom base job to individual jobs.\n\nMake watcherclient-tempest-functional as voting job and explicitly set\nit non-voting in project stanza so that it can be easier to make it\nvoting in other repos.\n\nChange-Id: Id94e49347006bca850f72a0400794da8c2a67144\n'}]",0,580110,c9e88866313d59dd77b073db954f073ecc6d4eb5,8,2,3,6547,,,0,"Remove non-voting jobs from gate queue

Non-voting jobs should not be in gate queue at all, remove them.
They are wasting needlessly are resources.

To make clearer which jobs are non-voting, move voting:false
from base job to individual jobs.

Make watcherclient-tempest-functional as voting job and explicitly set
it non-voting in project stanza so that it can be easier to make it
voting in other repos.

Change-Id: Id94e49347006bca850f72a0400794da8c2a67144
",git fetch https://review.opendev.org/openstack/watcher refs/changes/10/580110/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,52a29f2324e737a2461350ce70e254147acc25b8,fix-zuul, voting: false voting: false voting: false voting: false, - watcher-tempest-dummy_optim - watcher-tempest-actuator - watcher-tempest-basic_optim - watcher-tempest-workload_balancing - watcherclient-tempest-functional voting: false,4,6
openstack%2Fwatcher~master~I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,openstack/watcher,master,I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,Remove undefined job,MERGED,2018-07-03 20:26:42.000000000,2018-07-04 12:28:55.000000000,2018-07-04 12:28:54.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 20:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3dad3b1ce4172e03277f3e79e33e955c36e75152', 'message': 'Remove undefined job\n\nThe legacy-rally-dsvm-watcher-rally job does not exist but it is listed\nin the .zuul.yaml config. This is a zuul configuration error. Remove\nthis job which does not exist to fix zuul.\n\nChange-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d\n'}, {'number': 2, 'created': '2018-07-03 20:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/80a8bec02bf0a1ae99a3185c76648fd0f4f98427', 'message': 'Remove undefined job\n\nThe legacy-rally-dsvm-watcher-rally job does not exist but it is listed\nin the .zuul.yaml config. This is a zuul configuration error. Remove\nthis job which does not exist to fix zuul.\n\nChange-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d\n'}, {'number': 3, 'created': '2018-07-04 09:28:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/737358867378966235a036b368b5641430391219', 'message': 'Remove undefined job\n\nThe legacy-rally-dsvm-watcher-rally job does not exist but it is listed\nin the .zuul.yaml config. This is a zuul configuration error. Remove\nthis job which does not exist to fix zuul.\n\nChange-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d\n'}]",0,579972,737358867378966235a036b368b5641430391219,15,4,3,4146,,,0,"Remove undefined job

The legacy-rally-dsvm-watcher-rally job does not exist but it is listed
in the .zuul.yaml config. This is a zuul configuration error. Remove
this job which does not exist to fix zuul.

Change-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d
",git fetch https://review.opendev.org/openstack/watcher refs/changes/72/579972/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3dad3b1ce4172e03277f3e79e33e955c36e75152,fix-zuul,, - legacy-rally-dsvm-watcher-rally - legacy-rally-dsvm-watcher-rally,0,2
openstack%2Fopenstack-ansible-os_sahara~master~Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80,openstack/openstack-ansible-os_sahara,master,Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80,Switch to using project-templates,MERGED,2018-06-22 19:30:53.000000000,2018-07-04 12:17:42.000000000,2018-07-04 12:17:41.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 19:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/ec1198a0aafea9c4a60336e82a6f5aad70ab4dab', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead.\n\nChange-Id: Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80\n'}, {'number': 2, 'created': '2018-06-24 16:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/d1e39bc25e0a97b22b0f69ef9431c82650afa61d', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead.\n\nDepends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9\nChange-Id: Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80\n'}, {'number': 3, 'created': '2018-07-02 23:25:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/edf8782081a58d12b187eef8ce957449c6f00cbf', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead.\n\nDepends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9\nChange-Id: Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80\n'}]",0,577523,edf8782081a58d12b187eef8ce957449c6f00cbf,18,5,3,28521,,,0,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Depends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9
Change-Id: Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/23/577523/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ec1198a0aafea9c4a60336e82a6f5aad70ab4dab,, templates: - openstack-ansible-role-jobs, - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial,2,13
openstack%2Fnova~master~I075785abcd4f4a8e180959daeadf215b9cd175c8,openstack/nova,master,I075785abcd4f4a8e180959daeadf215b9cd175c8,Provide a direct interface to placement,MERGED,2018-06-05 22:36:29.000000000,2018-07-04 12:14:39.000000000,2018-06-15 04:52:26.000000000,"[{'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-06-05 22:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/632e3c02e063aa6ead51a5242ee058296ce67998', 'message': 'WIP: Spike a direct interface to placement\n\nEmphasis on the WIP and Spike.\n\nThis is a demonstration of using wsgi-intercept to provide a context\nmanager that allows talking to placement over requests, but without a\nnetwork. This is a quick and dirty way to talk to and make changes in\nthe placement database where the only network traffic is with the\nplacement database.\n\nThe basic idea is that we spin up the WSGI stack with no auth,\nconfigured using whatever already loaded CONF we happen to have\navailable. That CONF points to the placement database and all the\nusual stuff. The context manager provides the url and a requests\nsession for accessing placement. The full WSGI is brought because we\nneed various bits of middleware to help ensure that policy calls don\'t\nexplode and so JSON validation is in place.\n\nIn this model everything else is left up to the caller: constructing\nthe JSON, choosing which URIs to call with what methods (see test_direct\nfor minimal examples that ought to give an idea of what real callers\ncould expect).\n\nCaveats to be aware of:\n\n* This is (intentionally) set up to circumvent authentication and\n  authorization. If you have access to the necessary database connection\n  string, then you are good to go. That\'s what we want, right?\n\n  There\'s a flag in the code to make it so you can declare that you want\n  keystone in the loop.\n\n* CONF construction being left up to the caller is on purpose because\n  right now placement itself is not super flexible in this area and\n  flexibility is desired here.\n\nThis is not (by a long shot) the only way to do this. Other options\ninclude:\n\n* Constructing a WSGI environ that has all the necessary bits to allow\n  calling the methods in the handlers directly (as python commands).\n  This would duplicate a fair bit of the middleware and seems error prone,\n  because it\'s hard to discern what parts of the environ need to be\n  filled. It\'s also weird for data input: we need to use a BytesIO to\n  pass in data on PUTs and POSTs.\n\n* Using this wsgi-intercept model, but integrating more tightly with the\n  scheduler report client, either by mocking keystone or creating an\n  adapter that we can swap into keystoneauth1\'s client creation.\n\n* Using either the WSGI environ or wsgi-intercept models but wrap it\n  with a pythonic library that exposes a ""pretty"" interface to callers.\n  Something like:\n\n      placement.direct.allocations.update(consumer_uuid, {data})\n\n* Creating a python library that assembles the necessary data for\n  calling the methods in the resource provider objects and exposing that\n  to:\n  a) the callers who want this direct stuff\n  b) the existing handlers in placement (which remain responsible for\n     json manipulation and validation and microversion handling, and\n     marshal data appropriately for the python lib)\n\nI\'ve chosen the simplest thing as a starting point because it gives us\nsomething to talk over and could solve the immediate problem. If we were\nto eventually pursue the 4th option, I would hope that we had some\nsignificant discussion before doing so as I think it is a) harder than\nit might seem at first glance, b) likely to lead to many asking ""why\nbother with the http interface at all?"". Both require thought.\n\nChange-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8\n'}, {'number': 2, 'created': '2018-06-10 18:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2f1e2b73d49c613bb8c0b8bd06c688479b8b57', 'message': 'Provide a direct interface to placement\n\nThis is a method of using wsgi-intercept to provide a context\nmanager that allows talking to placement over requests, but without\na network. It is a quick and dirty way to talk to and make changes\nin the placement database where the only network traffic is with the\nplacement database.\n\nThis is expected to be useful in the creation of tools for\nperforming fast forward upgrades where each compute node may need to\n""migrate"" its resource providers, inventory and allocations in the\nface of changinge representations of hardware (for example\npre-existing VGPUs being represented as nested providers) but would\nlike to do so when all non-database services are stopped. A system\nlike this would allow code on the compute node to update the\nplacement database, using well known HTTP interactions, without the\nplacement service being up.\n\nThe basic idea is that we spin up the WSGI stack with no auth,\nconfigured using whatever already loaded CONF we happen to have\navailable. That CONF points to the placement database and all the\nusual stuff. The context manager provides an HTTP client for\naccessing placement, based on the existing ReportClient. The full\nWSGI stack is brought up because we need various bits of middleware\nto help ensure that policy calls don\'t explode and so JSON\nvalidation is in place.\n\nIn this model everything else is left up to the caller: constructing\nthe JSON, choosing which URIs to call with what methods (see\ntest_direct for minimal examples that ought to give an idea of what\nreal callers could expect).\n\nCaveats to be aware of:\n\n* This is (intentionally) set up to circumvent authentication and\n  authorization. If you have access to the necessary database\n  connection string, then you are good to go. That\'s what we want,\n  right?\n\n  There\'s a flag in the code to make it so you can declare that you\n  want keystone in the loop.\n\n* CONF construction being left up to the caller is on purpose\n  because right now placement itself is not super flexible in this\n  area and flexibility is desired here.\n\nSome areas that may need some additional thought:\n\nAs indicated by the FIXME in direct.py (and to lesser extent the one in\ntest_report_client), there\'s some overlap between what should be ""nova""\nand what should be ""placement"" about how this is done, with regard to\nthe use a subclass of the ReportClient within PlacementDirect. For this\ngo round, I\'ve met the immediate needs of nova. In the future, when we\nwant PlacementDirect to not have a dependency on nova we\'ll want to do\nthings differently, perhaps by subclassing a simplified PlacementDirect.\nInput on this encouraged.\n\nThis is not (by a long shot) the only way to do this. Other options\ninclude:\n\n* Constructing a WSGI environ that has all the necessary bits to\n  allow calling the methods in the handlers directly (as python\n  commands).  This would duplicate a fair bit of the middleware and\n  seems error prone, because it\'s hard to discern what parts of the\n  environ need to be filled. It\'s also weird for data input: we need\n  to use a BytesIO to pass in data on PUTs and POSTs.\n\n* Using either the WSGI environ or wsgi-intercept models but wrap it\n  with a pythonic library that exposes a ""pretty"" interface to\n  callers. Something like:\n\n      placement.direct.allocations.update(consumer_uuid, {data})\n\n* Creating a python library that assembles the necessary data for\n  calling the methods in the resource provider objects and exposing\n  that to:\n  a) the callers who want this direct stuff\n  b) the existing handlers in placement (which remain responsible\n     for json manipulation and validation and microversion handling,\n     and marshal data appropriately for the python lib)\n\nI\'ve chosen the simplest thing as a starting point because it gives\nus something to talk over and could solve the immediate problem. If\nwe were to eventually pursue the 4th option, I would hope that we\nhad some significant discussion before doing so as I think it is a)\nharder than it might seem at first glance, b) likely to lead to many\nasking ""why bother with the http interface at all?"". Both require\nthought.\n\nPartially implements blueprint reshape-provider-tree\nChange-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8\n'}, {'number': 3, 'created': '2018-06-10 22:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b47d23c959491533996bea0b63bfa5c18e67c04', 'message': 'Provide a direct interface to placement\n\nThis is a method of using wsgi-intercept to provide a context\nmanager that allows talking to placement over requests, but without\na network. It is a quick and dirty way to talk to and make changes\nin the placement database where the only network traffic is with the\nplacement database.\n\nThis is expected to be useful in the creation of tools for\nperforming fast forward upgrades where each compute node may need to\n""migrate"" its resource providers, inventory and allocations in the\nface of changinge representations of hardware (for example\npre-existing VGPUs being represented as nested providers) but would\nlike to do so when all non-database services are stopped. A system\nlike this would allow code on the compute node to update the\nplacement database, using well known HTTP interactions, without the\nplacement service being up.\n\nThe basic idea is that we spin up the WSGI stack with no auth,\nconfigured using whatever already loaded CONF we happen to have\navailable. That CONF points to the placement database and all the\nusual stuff. The context manager provides an HTTP client for\naccessing placement, based on the existing ReportClient. The full\nWSGI stack is brought up because we need various bits of middleware\nto help ensure that policy calls don\'t explode and so JSON\nvalidation is in place.\n\nIn this model everything else is left up to the caller: constructing\nthe JSON, choosing which URIs to call with what methods (see\ntest_direct for minimal examples that ought to give an idea of what\nreal callers could expect).\n\nCaveats to be aware of:\n\n* This is (intentionally) set up to circumvent authentication and\n  authorization. If you have access to the necessary database\n  connection string, then you are good to go. That\'s what we want,\n  right?\n\n  There\'s a flag in the code to make it so you can declare that you\n  want keystone in the loop.\n\n* CONF construction being left up to the caller is on purpose\n  because right now placement itself is not super flexible in this\n  area and flexibility is desired here.\n\nSome areas that may need some additional thought:\n\nAs indicated by the FIXME in direct.py (and to lesser extent the one in\ntest_report_client), there\'s some overlap between what should be ""nova""\nand what should be ""placement"" about how this is done, with regard to\nthe use a subclass of the ReportClient within PlacementDirect. For this\ngo round, I\'ve met the immediate needs of nova. In the future, when we\nwant PlacementDirect to not have a dependency on nova we\'ll want to do\nthings differently, perhaps by subclassing a simplified PlacementDirect.\nInput on this encouraged.\n\nThis is not (by a long shot) the only way to do this. Other options\ninclude:\n\n* Constructing a WSGI environ that has all the necessary bits to\n  allow calling the methods in the handlers directly (as python\n  commands).  This would duplicate a fair bit of the middleware and\n  seems error prone, because it\'s hard to discern what parts of the\n  environ need to be filled. It\'s also weird for data input: we need\n  to use a BytesIO to pass in data on PUTs and POSTs.\n\n* Using either the WSGI environ or wsgi-intercept models but wrap it\n  with a pythonic library that exposes a ""pretty"" interface to\n  callers. Something like:\n\n      placement.direct.allocations.update(consumer_uuid, {data})\n\n* Creating a python library that assembles the necessary data for\n  calling the methods in the resource provider objects and exposing\n  that to:\n  a) the callers who want this direct stuff\n  b) the existing handlers in placement (which remain responsible\n     for json manipulation and validation and microversion handling,\n     and marshal data appropriately for the python lib)\n\nI\'ve chosen the simplest thing as a starting point because it gives\nus something to talk over and could solve the immediate problem. If\nwe were to eventually pursue the 4th option, I would hope that we\nhad some significant discussion before doing so as I think it is a)\nharder than it might seem at first glance, b) likely to lead to many\nasking ""why bother with the http interface at all?"". Both require\nthought.\n\nPartially implements blueprint reshape-provider-tree\nChange-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8\n'}, {'number': 4, 'created': '2018-06-12 11:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0683ee4a45f8700be84d903f890b9ea55db9721', 'message': 'Provide a direct interface to placement\n\nThis is a method of using wsgi-intercept to provide a context\nmanager that allows talking to placement over requests, but without\na network. It is a quick and dirty way to talk to and make changes\nin the placement database where the only network traffic is with the\nplacement database.\n\nThis is expected to be useful in the creation of tools for\nperforming fast forward upgrades where each compute node may need to\n""migrate"" its resource providers, inventory and allocations in the\nface of changing representations of hardware (for example\npre-existing VGPUs being represented as nested providers) but would\nlike to do so when all non-database services are stopped. A system\nlike this would allow code on the compute node to update the\nplacement database, using well known HTTP interactions, without the\nplacement service being up.\n\nThe basic idea is that we spin up the WSGI stack with no auth,\nconfigured using whatever already loaded CONF we happen to have\navailable. That CONF points to the placement database and all the\nusual stuff. The context manager provides a keystoneauth1 Adapter\nclass that operates as a client for accessing placement. The full\nWSGI stack is brought up because we need various bits of middleware\nto help ensure that policy calls don\'t explode and so JSON\nvalidation is in place.\n\nIn this model everything else is left up to the caller: constructing\nthe JSON, choosing which URIs to call with what methods (see\ntest_direct for minimal examples that ought to give an idea of what\nreal callers could expect).\n\nTo make things friendly in the nova context and ease creation of fast\nforward upgrade tools, SchedulerReportClient is tweaked to take an\noptional adapter kwarg on construction. If specified, this is used\ninstead of creating one with get_ksa_adapter(), using settings from\n[placement] conf.\n\nDoing things in this way draws a clear line between the placement parts\nand the nova parts while keeping the nova parts straightforward.\n\nNoAuthReportClient is replaced with a base test class,\ntest_report_client.SchedulerReportClientTestBase. This provides an\n_interceptor() context manager which is a wrapper around\nPlacementDirect, but instead of producing an Adapter, it produces a\nSchedulerReportClient (which has been passed the Adapter provided by\nPlacementDirect). test_resource_tracker and test_report_client are\nupdated accordingly.\n\nCaveats to be aware of:\n\n* This is (intentionally) set up to circumvent authentication and\n  authorization. If you have access to the necessary database\n  connection string, then you are good to go. That\'s what we want,\n  right?\n\n* CONF construction being left up to the caller is on purpose\n  because right now placement itself is not super flexible in this\n  area and flexibility is desired here.\n\nThis is not (by a long shot) the only way to do this. Other options\ninclude:\n\n* Constructing a WSGI environ that has all the necessary bits to\n  allow calling the methods in the handlers directly (as python\n  commands).  This would duplicate a fair bit of the middleware and\n  seems error prone, because it\'s hard to discern what parts of the\n  environ need to be filled. It\'s also weird for data input: we need\n  to use a BytesIO to pass in data on PUTs and POSTs.\n\n* Using either the WSGI environ or wsgi-intercept models but wrap it\n  with a pythonic library that exposes a ""pretty"" interface to\n  callers. Something like:\n\n      placement.direct.allocations.update(consumer_uuid, {data})\n\n* Creating a python library that assembles the necessary data for\n  calling the methods in the resource provider objects and exposing\n  that to:\n  a) the callers who want this direct stuff\n  b) the existing handlers in placement (which remain responsible\n     for json manipulation and validation and microversion handling,\n     and marshal data appropriately for the python lib)\n\nI\'ve chosen the simplest thing as a starting point because it gives\nus something to talk over and could solve the immediate problem. If\nwe were to eventually pursue the 4th option, I would hope that we\nhad some significant discussion before doing so as I think it is a)\nharder than it might seem at first glance, b) likely to lead to many\nasking ""why bother with the http interface at all?"". Both require\nthought.\n\nPartially implements blueprint reshape-provider-tree\nCo-Authored-By: Eric Fried <efried@us.ibm.com>\nChange-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8\n'}, {'number': 5, 'created': '2018-06-12 16:05:02.000000000', 'files': ['nova/tests/functional/test_report_client.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/api/openstack/placement/test_direct.py', 'nova/api/openstack/placement/direct.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43cc59abe2ac087f3447ef1a294041684545d1e4', 'message': 'Provide a direct interface to placement\n\nThis is a method of using wsgi-intercept to provide a context\nmanager that allows talking to placement over requests, but without\na network. It is a quick and dirty way to talk to and make changes\nin the placement database where the only network traffic is with the\nplacement database.\n\nThis is expected to be useful in the creation of tools for\nperforming fast forward upgrades where each compute node may need to\n""migrate"" its resource providers, inventory and allocations in the\nface of changing representations of hardware (for example\npre-existing VGPUs being represented as nested providers) but would\nlike to do so when all non-database services are stopped. A system\nlike this would allow code on the compute node to update the\nplacement database, using well known HTTP interactions, without the\nplacement service being up.\n\nThe basic idea is that we spin up the WSGI stack with no auth,\nconfigured using whatever already loaded CONF we happen to have\navailable. That CONF points to the placement database and all the\nusual stuff. The context manager provides a keystoneauth1 Adapter\nclass that operates as a client for accessing placement. The full\nWSGI stack is brought up because we need various bits of middleware\nto help ensure that policy calls don\'t explode and so JSON\nvalidation is in place.\n\nIn this model everything else is left up to the caller: constructing\nthe JSON, choosing which URIs to call with what methods (see\ntest_direct for minimal examples that ought to give an idea of what\nreal callers could expect).\n\nTo make things friendly in the nova context and ease creation of fast\nforward upgrade tools, SchedulerReportClient is tweaked to take an\noptional adapter kwarg on construction. If specified, this is used\ninstead of creating one with get_ksa_adapter(), using settings from\n[placement] conf.\n\nDoing things in this way draws a clear line between the placement parts\nand the nova parts while keeping the nova parts straightforward.\n\nNoAuthReportClient is replaced with a base test class,\ntest_report_client.SchedulerReportClientTestBase. This provides an\n_interceptor() context manager which is a wrapper around\nPlacementDirect, but instead of producing an Adapter, it produces a\nSchedulerReportClient (which has been passed the Adapter provided by\nPlacementDirect). test_resource_tracker and test_report_client are\nupdated accordingly.\n\nCaveats to be aware of:\n\n* This is (intentionally) set up to circumvent authentication and\n  authorization. If you have access to the necessary database\n  connection string, then you are good to go. That\'s what we want,\n  right?\n\n* CONF construction being left up to the caller is on purpose\n  because right now placement itself is not super flexible in this\n  area and flexibility is desired here.\n\nThis is not (by a long shot) the only way to do this. Other options\ninclude:\n\n* Constructing a WSGI environ that has all the necessary bits to\n  allow calling the methods in the handlers directly (as python\n  commands).  This would duplicate a fair bit of the middleware and\n  seems error prone, because it\'s hard to discern what parts of the\n  environ need to be filled. It\'s also weird for data input: we need\n  to use a BytesIO to pass in data on PUTs and POSTs.\n\n* Using either the WSGI environ or wsgi-intercept models but wrap it\n  with a pythonic library that exposes a ""pretty"" interface to\n  callers. Something like:\n\n      placement.direct.allocations.update(consumer_uuid, {data})\n\n* Creating a python library that assembles the necessary data for\n  calling the methods in the resource provider objects and exposing\n  that to:\n  a) the callers who want this direct stuff\n  b) the existing handlers in placement (which remain responsible\n     for json manipulation and validation and microversion handling,\n     and marshal data appropriately for the python lib)\n\nI\'ve chosen the simplest thing as a starting point because it gives\nus something to talk over and could solve the immediate problem. If\nwe were to eventually pursue the 4th option, I would hope that we\nhad some significant discussion before doing so as I think it is a)\nharder than it might seem at first glance, b) likely to lead to many\nasking ""why bother with the http interface at all?"". Both require\nthought.\n\nPartially implements blueprint reshape-provider-tree\nCo-Authored-By: Eric Fried <efried@us.ibm.com>\nChange-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8\n'}]",86,572576,43cc59abe2ac087f3447ef1a294041684545d1e4,76,20,5,11564,,,0,"Provide a direct interface to placement

This is a method of using wsgi-intercept to provide a context
manager that allows talking to placement over requests, but without
a network. It is a quick and dirty way to talk to and make changes
in the placement database where the only network traffic is with the
placement database.

This is expected to be useful in the creation of tools for
performing fast forward upgrades where each compute node may need to
""migrate"" its resource providers, inventory and allocations in the
face of changing representations of hardware (for example
pre-existing VGPUs being represented as nested providers) but would
like to do so when all non-database services are stopped. A system
like this would allow code on the compute node to update the
placement database, using well known HTTP interactions, without the
placement service being up.

The basic idea is that we spin up the WSGI stack with no auth,
configured using whatever already loaded CONF we happen to have
available. That CONF points to the placement database and all the
usual stuff. The context manager provides a keystoneauth1 Adapter
class that operates as a client for accessing placement. The full
WSGI stack is brought up because we need various bits of middleware
to help ensure that policy calls don't explode and so JSON
validation is in place.

In this model everything else is left up to the caller: constructing
the JSON, choosing which URIs to call with what methods (see
test_direct for minimal examples that ought to give an idea of what
real callers could expect).

To make things friendly in the nova context and ease creation of fast
forward upgrade tools, SchedulerReportClient is tweaked to take an
optional adapter kwarg on construction. If specified, this is used
instead of creating one with get_ksa_adapter(), using settings from
[placement] conf.

Doing things in this way draws a clear line between the placement parts
and the nova parts while keeping the nova parts straightforward.

NoAuthReportClient is replaced with a base test class,
test_report_client.SchedulerReportClientTestBase. This provides an
_interceptor() context manager which is a wrapper around
PlacementDirect, but instead of producing an Adapter, it produces a
SchedulerReportClient (which has been passed the Adapter provided by
PlacementDirect). test_resource_tracker and test_report_client are
updated accordingly.

Caveats to be aware of:

* This is (intentionally) set up to circumvent authentication and
  authorization. If you have access to the necessary database
  connection string, then you are good to go. That's what we want,
  right?

* CONF construction being left up to the caller is on purpose
  because right now placement itself is not super flexible in this
  area and flexibility is desired here.

This is not (by a long shot) the only way to do this. Other options
include:

* Constructing a WSGI environ that has all the necessary bits to
  allow calling the methods in the handlers directly (as python
  commands).  This would duplicate a fair bit of the middleware and
  seems error prone, because it's hard to discern what parts of the
  environ need to be filled. It's also weird for data input: we need
  to use a BytesIO to pass in data on PUTs and POSTs.

* Using either the WSGI environ or wsgi-intercept models but wrap it
  with a pythonic library that exposes a ""pretty"" interface to
  callers. Something like:

      placement.direct.allocations.update(consumer_uuid, {data})

* Creating a python library that assembles the necessary data for
  calling the methods in the resource provider objects and exposing
  that to:
  a) the callers who want this direct stuff
  b) the existing handlers in placement (which remain responsible
     for json manipulation and validation and microversion handling,
     and marshal data appropriately for the python lib)

I've chosen the simplest thing as a starting point because it gives
us something to talk over and could solve the immediate problem. If
we were to eventually pursue the 4th option, I would hope that we
had some significant discussion before doing so as I think it is a)
harder than it might seem at first glance, b) likely to lead to many
asking ""why bother with the http interface at all?"". Both require
thought.

Partially implements blueprint reshape-provider-tree
Co-Authored-By: Eric Fried <efried@us.ibm.com>
Change-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/572576/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/test_direct.py', 'nova/api/openstack/placement/direct.py']",2,632e3c02e063aa6ead51a5242ee058296ce67998,placement-direct-as-adapter,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Call any URI in the placement service directly without real HTTP. This is useful for those cases where processes wish to manipulate the Placement datastore but do not want to run Placement as a long running service. A PlacementDirect context manager is provided. Within that HTTP requests may be made as normal but they will not actually traverse a real socket. """""" import uuid import requests from wsgi_intercept import interceptor from nova.api.openstack.placement import deploy class PlacementDirect(interceptor.RequestsInterceptor): def __init__(self, conf, keystone=False): if not keystone: conf.api.auth_strategy = 'noauth2' app = lambda: deploy.loadapp(conf) self.url = 'http://%s/placement' % str(uuid.uuid4()) session = requests.Session() session.headers.update({ 'accept': 'application/json', 'content-type': 'application/json', 'openstack-api-version': 'placement latest', }) if not keystone: session.headers.update({'x-auth-token': 'admin'}) self.session = session super(PlacementDirect, self).__init__(app, url=self.url) def __enter__(self): super(PlacementDirect, self).__enter__() return self.url, self.session ",,112,0
openstack%2Foslo.serialization~master~I78a93c29f2c9033bba1859c79d826578d72257f5,openstack/oslo.serialization,master,I78a93c29f2c9033bba1859c79d826578d72257f5,Switch to stestr,MERGED,2018-07-03 06:32:53.000000000,2018-07-04 12:06:55.000000000,2018-07-04 12:06:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 06:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/ef8e5165c58bb387e9df0e8b3d849646c3802102', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I78a93c29f2c9033bba1859c79d826578d72257f5\n""}, {'number': 2, 'created': '2018-07-03 08:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/2ecd5829302de83299994866e78ecfba7909e640', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I78a93c29f2c9033bba1859c79d826578d72257f5\n""}, {'number': 3, 'created': '2018-07-04 01:20:40.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/dc592c68e351c1461e94610976b548081b451790', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I78a93c29f2c9033bba1859c79d826578d72257f5\n""}]",4,579773,dc592c68e351c1461e94610976b548081b451790,12,3,3,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I78a93c29f2c9033bba1859c79d826578d72257f5
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/73/579773/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,ef8e5165c58bb387e9df0e8b3d849646c3802102,stestr,[DEFAULT] test_path=./oslo_serialization/tests top_path=./ ,,7,8
openstack%2Foslo.utils~master~Ica0262653e8c18681d049acca6d5920ac38f97e6,openstack/oslo.utils,master,Ica0262653e8c18681d049acca6d5920ac38f97e6,Switch to stestr,MERGED,2018-07-03 06:39:36.000000000,2018-07-04 11:57:35.000000000,2018-07-04 11:57:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 06:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/52eb2cc9d70475b24b3f7a9618ae2f822ad4b772', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ica0262653e8c18681d049acca6d5920ac38f97e6\n""}, {'number': 2, 'created': '2018-07-03 08:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/fe51cb2f592c54e13fc191e56680ebdb6b7040d7', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ica0262653e8c18681d049acca6d5920ac38f97e6\n""}, {'number': 3, 'created': '2018-07-04 01:26:21.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0812f94a2367cf16d8379a6432f1a60a46c89616', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ica0262653e8c18681d049acca6d5920ac38f97e6\n""}]",8,579776,0812f94a2367cf16d8379a6432f1a60a46c89616,12,3,3,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ica0262653e8c18681d049acca6d5920ac38f97e6
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/76/579776/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,52eb2cc9d70475b24b3f7a9618ae2f822ad4b772,stestr,[DEFAULT] test_path=./oslo_utils/tests top_path=./ ,,7,8
openstack%2Foslo.context~master~Ic863da849df2a728ce6b26bfd946262a5439fcad,openstack/oslo.context,master,Ic863da849df2a728ce6b26bfd946262a5439fcad,Switch to stestr,MERGED,2018-07-03 02:40:32.000000000,2018-07-04 11:57:34.000000000,2018-07-04 11:57:34.000000000,"[{'_account_id': 8871}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 02:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/2594116f6eeb4208230d8104219f8aef2139aced', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ic863da849df2a728ce6b26bfd946262a5439fcad\n""}, {'number': 2, 'created': '2018-07-03 06:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/7bd3ce98a8fc065a2dd43973e9d05627338c49dd', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ic863da849df2a728ce6b26bfd946262a5439fcad\n""}, {'number': 3, 'created': '2018-07-03 07:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/be6bb8558840d4b5e7eb58b2f2c29aec1fc37731', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ic863da849df2a728ce6b26bfd946262a5439fcad\n""}, {'number': 4, 'created': '2018-07-04 01:27:55.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/4abd5377e4d847102a4e87a528d689e31cc1713c', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ic863da849df2a728ce6b26bfd946262a5439fcad\n""}]",4,579739,4abd5377e4d847102a4e87a528d689e31cc1713c,17,4,4,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ic863da849df2a728ce6b26bfd946262a5439fcad
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/39/579739/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",7,2594116f6eeb4208230d8104219f8aef2139aced,stestr,[DEFAULT] test_path=./oslo_context/tests/unit top_path=./ ,,8,8
openstack%2Fpython-watcherclient~master~I73fd45772ba9c793dad3221c852af4e9606362e1,openstack/python-watcherclient,master,I73fd45772ba9c793dad3221c852af4e9606362e1,Don't run voting jobs in gate,MERGED,2018-07-04 09:48:14.000000000,2018-07-04 11:49:07.000000000,2018-07-04 11:49:07.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-04 09:48:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/152804168dc0457396f58ae59269bb1734e4ad7f', 'message': ""Don't run voting jobs in gate\n\nNon-voting jobs should not be in gate queue at all, remove them.\nThey are wasting needlessly our resources since they get ignored.\n\nMark the job explictely as non-voting, since another change will make\nthe job voting by default - which allows to make it easily voting here.\n\nSee also https://review.openstack.org/580110\n\nChange-Id: I73fd45772ba9c793dad3221c852af4e9606362e1\n""}]",0,580112,152804168dc0457396f58ae59269bb1734e4ad7f,6,2,1,6547,,,0,"Don't run voting jobs in gate

Non-voting jobs should not be in gate queue at all, remove them.
They are wasting needlessly our resources since they get ignored.

Mark the job explictely as non-voting, since another change will make
the job voting by default - which allows to make it easily voting here.

See also https://review.openstack.org/580110

Change-Id: I73fd45772ba9c793dad3221c852af4e9606362e1
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/12/580112/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,152804168dc0457396f58ae59269bb1734e4ad7f,, - watcherclient-tempest-functional: voting: false, - watcherclient-tempest-functional - watcherclient-tempest-functional,2,2
openstack%2Foslo.vmware~master~Iea425a8583f7396cc4e9d6964f3efa9875dc59ac,openstack/oslo.vmware,master,Iea425a8583f7396cc4e9d6964f3efa9875dc59ac,Switch to stestr,MERGED,2018-07-03 06:47:19.000000000,2018-07-04 11:47:18.000000000,2018-07-04 11:47:18.000000000,"[{'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 06:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/8b8cc1946de0e8e26b3efdac7fffe4370402ff3a', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Iea425a8583f7396cc4e9d6964f3efa9875dc59ac\n""}, {'number': 2, 'created': '2018-07-03 08:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/52c7af542b326c702a377caaea181c3bfdb65459', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Iea425a8583f7396cc4e9d6964f3efa9875dc59ac\n""}, {'number': 3, 'created': '2018-07-04 01:05:49.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/d1cfde2b6de415a076e5b712588a8b0612631671', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Iea425a8583f7396cc4e9d6964f3efa9875dc59ac\n""}]",4,579780,d1cfde2b6de415a076e5b712588a8b0612631671,17,4,3,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Iea425a8583f7396cc4e9d6964f3efa9875dc59ac
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/80/579780/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,8b8cc1946de0e8e26b3efdac7fffe4370402ff3a,stestr,[DEFAULT] test_path=./oslo_vmware/tests top_path=./ ,,7,8
openstack%2Fnova~master~I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e,openstack/nova,master,I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e,Prevent updating an RP's parent to form a loop,MERGED,2018-07-02 16:01:28.000000000,2018-07-04 11:44:11.000000000,2018-07-04 05:20:01.000000000,"[{'_account_id': 7}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 16:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b81b8b04d8f9422f9d5de5ca496f04ef39e4a50', 'message': ""Prevent updating an RP's parent to form a loop\n\nPlacement had RP loop detection for RP creation but if an RP is created\nwithout a parent (e.g. root RP) then the parent can be set later with a\nPUT /resource_providers/{uuid} request by providing the UUID of the\nparent. In this code path the loop detection was missing from the\nvalidation. Moreover there are different loop cases for create than for\nset. For create the only possible loop is when the RP being created is\npoints to itself as a parent. However when the parent is provided later\nin a PUT the RP being updated can have descendant RPs. Setting a parent\nto a descendant also creates a loop.\n\nThis patch adds the missing check and returns HTTP 400 if loop is detected.\n\nCloses-Bug: #1779635\nChange-Id: I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e\n""}, {'number': 2, 'created': '2018-07-02 16:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54dce6a42b92c6b5a48b5caf7a2306b15025037b', 'message': ""Prevent updating an RP's parent to form a loop\n\nPlacement had RP loop detection for RP creation but if an RP is created\nwithout a parent (e.g. root RP) then the parent can be set later with a\nPUT /resource_providers/{uuid} request by providing the UUID of the\nparent. In this code path the loop detection was missing from the\nvalidation. Moreover there are different loop cases for create than for\nset. For create the only possible loop is when the RP being created is\npoints to itself as a parent. However when the parent is provided later\nin a PUT the RP being updated can have descendant RPs. Setting a parent\nto a descendant also creates a loop.\n\nThis patch adds the missing check and returns HTTP 400 if loop is detected.\n\nCloses-Bug: #1779635\nChange-Id: I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e\n""}, {'number': 3, 'created': '2018-07-03 08:08:28.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/00b13a2e2fab6e9a9635c4df186269a16d9fbfbd', 'message': ""Prevent updating an RP's parent to form a loop\n\nPlacement had RP loop detection for RP creation but if an RP is created\nwithout a parent (e.g. root RP) then the parent can be set later with a\nPUT /resource_providers/{uuid} request by providing the UUID of the\nparent. In this code path the loop detection was missing from the\nvalidation. Moreover there are different loop cases for create than for\nset. For create the only possible loop is when the RP being created is\npoints to itself as a parent. However when the parent is provided later\nin a PUT the RP being updated can have descendant RPs. Setting a parent\nto a descendant also creates a loop.\n\nThis patch adds the missing check and returns HTTP 400 if loop is detected.\n\nCloses-Bug: #1779635\nChange-Id: I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e\n""}]",11,579618,00b13a2e2fab6e9a9635c4df186269a16d9fbfbd,48,17,3,9708,,,0,"Prevent updating an RP's parent to form a loop

Placement had RP loop detection for RP creation but if an RP is created
without a parent (e.g. root RP) then the parent can be set later with a
PUT /resource_providers/{uuid} request by providing the UUID of the
parent. In this code path the loop detection was missing from the
validation. Moreover there are different loop cases for create than for
set. For create the only possible loop is when the RP being created is
points to itself as a parent. However when the parent is provided later
in a PUT the RP being updated can have descendant RPs. Setting a parent
to a descendant also creates a loop.

This patch adds the missing check and returns HTTP 400 if loop is detected.

Closes-Bug: #1779635
Change-Id: I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/579618/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider.yaml']",2,0b81b8b04d8f9422f9d5de5ca496f04ef39e4a50,bug/1779635, status: 400 response_strings: - 'creating loop in the provider tree is not allowed.' - name: fail updating the parent to point to its child PUT: /resource_providers/$ENVIRON['PARENT_PROVIDER_UUID'] request_headers: content-type: application/json data: name: parent parent_provider_uuid: $ENVIRON['RP_UUID'] status: 400 response_strings: - 'creating loop in the provider tree is not allowed.',# this reproduces bug 1779635 as this should be HTTP 400 as we have a loop now # in the tree status: 200,32,3
openstack%2Fneutron~stable%2Fpike~I202db59acb7fb0b7924748cf7def2879a748e56a,openstack/neutron,stable/pike,I202db59acb7fb0b7924748cf7def2879a748e56a,Add/rm centralized fips for DVR+HA from standby node,MERGED,2018-06-15 08:55:40.000000000,2018-07-04 11:28:43.000000000,2018-07-04 11:28:43.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23430}]","[{'number': 1, 'created': '2018-06-15 08:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b3dcac48094aa9d3d57117e6039d904806eaf7f', 'message': 'Add/rm centralized fips for DVR+HA from standby node\n\nFor DVR+HA:\nWhen adding/removing a centralized fip, just add/remove it to/from\nkeepalived instance and do not check if it is a master router.\n\nWhen adding a centralized fip, it is still needed to invoke method\nof supperclass to configure nat rules on master node.\n\nWhen removing a centralized fip, it is still needed to invoke method\nof supperclass to clean contrack on master node.\n\nChange-Id: I202db59acb7fb0b7924748cf7def2879a748e56a\nCloses-Bug: #1736068\n(cherry picked from commit 2200b1c3697a478af9f25a20ce09564bc2c9a968)\n'}, {'number': 2, 'created': '2018-06-18 14:16:23.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e967131eec7035a019adaa93284f16830faf510', 'message': 'Add/rm centralized fips for DVR+HA from standby node\n\nFor DVR+HA:\nWhen adding/removing a centralized fip, just add/remove it to/from\nkeepalived instance and do not check if it is a master router.\n\nWhen adding a centralized fip, it is still needed to invoke method\nof supperclass to configure nat rules on master node.\n\nWhen removing a centralized fip, it is still needed to invoke method\nof supperclass to clean contrack on master node.\n\nChange-Id: I202db59acb7fb0b7924748cf7def2879a748e56a\nCloses-Bug: #1736068\n(cherry picked from commit 2200b1c3697a478af9f25a20ce09564bc2c9a968)\n'}]",0,575690,5e967131eec7035a019adaa93284f16830faf510,33,8,2,11975,,,0,"Add/rm centralized fips for DVR+HA from standby node

For DVR+HA:
When adding/removing a centralized fip, just add/remove it to/from
keepalived instance and do not check if it is a master router.

When adding a centralized fip, it is still needed to invoke method
of supperclass to configure nat rules on master node.

When removing a centralized fip, it is still needed to invoke method
of supperclass to clean contrack on master node.

Change-Id: I202db59acb7fb0b7924748cf7def2879a748e56a
Closes-Bug: #1736068
(cherry picked from commit 2200b1c3697a478af9f25a20ce09564bc2c9a968)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/575690/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",2,0b3dcac48094aa9d3d57117e6039d904806eaf7f,bug/1736068,"from neutron.agent.l3 import dvr_edge_ha_router as dvr_edge_ha_rtr @mock.patch.object(dvr_edge_rtr.DvrEdgeRouter, 'add_centralized_floatingip') def test_add_centralized_floatingip(self, super_add_centralized_floatingip): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent.conf.agent_mode = lib_constants.L3_AGENT_MODE_DVR_SNAT router = l3_test_common.prepare_router_data(num_internal_ports=2) router['gw_port_host'] = HOSTNAME self.mock_driver.unplug.reset_mock() self._set_ri_kwargs(agent, router['id'], router) fip = {'id': _uuid()} fip_cidr = '11.22.33.44/24' ri = dvr_edge_ha_rtr.DvrEdgeHaRouter(HOSTNAME, [], **self.ri_kwargs) ri.is_router_master = mock.Mock(return_value=False) ri._add_vip = mock.Mock() interface_name = ri.get_snat_external_device_interface_name( ri.get_ex_gw_port()) ri.add_centralized_floatingip(fip, fip_cidr) ri._add_vip.assert_called_once_with(fip_cidr, interface_name) super_add_centralized_floatingip.assert_not_called() ri1 = dvr_edge_ha_rtr.DvrEdgeHaRouter(HOSTNAME, [], **self.ri_kwargs) ri1.is_router_master = mock.Mock(return_value=True) ri1._add_vip = mock.Mock() interface_name = ri1.get_snat_external_device_interface_name( ri1.get_ex_gw_port()) ri1.add_centralized_floatingip(fip, fip_cidr) ri1._add_vip.assert_called_once_with(fip_cidr, interface_name) super_add_centralized_floatingip.assert_called_once_with(fip, fip_cidr) @mock.patch.object(dvr_edge_rtr.DvrEdgeRouter, 'remove_centralized_floatingip') def test_remove_centralized_floatingip(self, super_remove_centralized_floatingip): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent.conf.agent_mode = lib_constants.L3_AGENT_MODE_DVR_SNAT router = l3_test_common.prepare_router_data(num_internal_ports=2) router['gw_port_host'] = HOSTNAME self.mock_driver.unplug.reset_mock() self._set_ri_kwargs(agent, router['id'], router) fip_cidr = '11.22.33.44/24' ri = dvr_edge_ha_rtr.DvrEdgeHaRouter(HOSTNAME, [], **self.ri_kwargs) ri.is_router_master = mock.Mock(return_value=False) ri._remove_vip = mock.Mock() ri.remove_centralized_floatingip(fip_cidr) ri._remove_vip.assert_called_once_with(fip_cidr) super_remove_centralized_floatingip.assert_not_called() ri1 = dvr_edge_ha_rtr.DvrEdgeHaRouter(HOSTNAME, [], **self.ri_kwargs) ri1.is_router_master = mock.Mock(return_value=True) ri1._remove_vip = mock.Mock() ri1.remove_centralized_floatingip(fip_cidr) ri1._remove_vip.assert_called_once_with(fip_cidr) super_remove_centralized_floatingip.assert_called_once_with(fip_cidr)",,65,4
openstack%2Fpython-glanceclient~master~I7de7c27a067f6346ebb9a29f76a7531502801a71,openstack/python-glanceclient,master,I7de7c27a067f6346ebb9a29f76a7531502801a71,Add release note link in README,MERGED,2018-06-27 17:52:56.000000000,2018-07-04 11:19:46.000000000,2018-07-04 11:19:46.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-06-27 17:52:56.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/45ba4e3b28081f8872b74b9005dd5d109fd621a0', 'message': 'Add release note link in README\n\nChange-Id: I7de7c27a067f6346ebb9a29f76a7531502801a71\n'}]",0,578500,45ba4e3b28081f8872b74b9005dd5d109fd621a0,7,3,1,17499,,,0,"Add release note link in README

Change-Id: I7de7c27a067f6346ebb9a29f76a7531502801a71
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/00/578500/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,45ba4e3b28081f8872b74b9005dd5d109fd621a0,,.. _Release notes: https://docs.openstack.org/releasenotes/python-glanceclient,,1,1
openstack%2Fopenstack-ansible-tests~master~I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2,openstack/openstack-ansible-tests,master,I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2,Pin get-pip.py to 3.2,MERGED,2018-07-03 17:09:40.000000000,2018-07-04 11:18:48.000000000,2018-07-04 10:31:42.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-07-03 17:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/61d80de3693b3d23220c9ae2748e9c0a397d2649', 'message': ""Pin get-pip.py to 3.3\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script.\n\nChange-Id: I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2\nCloses-Bug: 1779534\n""}, {'number': 2, 'created': '2018-07-04 08:23:44.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/aa0a76ce9c1cae9e9b11d13be6b67bfd81232c75', 'message': ""Pin get-pip.py to 3.2\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script. Version 3.2 maps to\npip 7.1.2 which fulfills our needs.\n\nChange-Id: I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2\nCloses-Bug: 1779534\n""}]",0,579926,aa0a76ce9c1cae9e9b11d13be6b67bfd81232c75,12,3,2,6816,,,0,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Change-Id: I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2
Closes-Bug: 1779534
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/26/579926/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,61d80de3693b3d23220c9ae2748e9c0a397d2649,bug/1779534, https://bootstrap.pypa.io/3.3/get-pip.py | sudo python2.7, https://bootstrap.pypa.io/get-pip.py | sudo python2.7,1,1
openstack%2Fglance-specs~master~I6482178dfbd4be00d997b80c068f465875103cff,openstack/glance-specs,master,I6482178dfbd4be00d997b80c068f465875103cff,"Move specs implemented in Rocky-{1,2} milestones",MERGED,2018-06-20 21:55:44.000000000,2018-07-04 11:16:47.000000000,2018-07-04 11:16:47.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-20 21:55:44.000000000', 'files': ['specs/rocky/implemented/index.rst', 'specs/rocky/implemented/glance/spec-lite-deprecate-owner_is_tenant.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'specs/rocky/implemented/glance/Support-revert-pending-delete.rst', 'specs/rocky/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/0cd9928970c888ac340fa289710f4a9c89d82161', 'message': ""Move specs implemented in Rocky-{1,2} milestones\n\nThe owner_is_tenant option was deprecated in R-1.\nThe pending-delete revert was merged for R-2.\nThis patch moves the specs to 'implemented' and sets up redirects\nfrom 'approved' so links won't be broken.\n\nChange-Id: I6482178dfbd4be00d997b80c068f465875103cff\n""}]",0,576996,0cd9928970c888ac340fa289710f4a9c89d82161,7,3,1,5314,,,0,"Move specs implemented in Rocky-{1,2} milestones

The owner_is_tenant option was deprecated in R-1.
The pending-delete revert was merged for R-2.
This patch moves the specs to 'implemented' and sets up redirects
from 'approved' so links won't be broken.

Change-Id: I6482178dfbd4be00d997b80c068f465875103cff
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/96/576996/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/rocky/implemented/index.rst', 'specs/rocky/implemented/glance/spec-lite-deprecate-owner_is_tenant.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'specs/rocky/implemented/glance/Support-revert-pending-delete.rst', 'specs/rocky/index.rst']",6,0cd9928970c888ac340fa289710f4a9c89d82161,move-to-implemented, implemented/*,.. implemented/*,20,1
openstack%2Fopenstack-ansible-os_sahara~master~Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4,openstack/openstack-ansible-os_sahara,master,Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4,Use tests repo for common role test requirements,MERGED,2018-07-02 15:31:03.000000000,2018-07-04 11:13:29.000000000,2018-07-04 11:13:29.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 15:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/6770a29c00835fd480f946da555d56cc773963b2', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4\n""}, {'number': 2, 'created': '2018-07-02 23:24:59.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/b8fe070f8db2f8b7953191c039397b5f8b53ea6a', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4\n""}]",0,579602,b8fe070f8db2f8b7953191c039397b5f8b53ea6a,11,4,2,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/02/579602/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,6770a29c00835fd480f946da555d56cc773963b2,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""",deps = -r{toxinidir}/test-requirements.txt[testenv:ansible] deps = {[testenv]deps} -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps},1,28
openstack%2Fkuryr-kubernetes~master~Id60bae1adfcf9825a22f0c53544bd239c2118ed6,openstack/kuryr-kubernetes,master,Id60bae1adfcf9825a22f0c53544bd239c2118ed6,OCP-Route: configuration and testing documentation,MERGED,2018-06-28 13:51:59.000000000,2018-07-04 11:04:49.000000000,2018-07-04 11:04:49.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 13:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0d0e422951020cadfc3ef0a832ddbc84b0bdb0dd', 'message': 'OCP-Route: configuration and testing documentation\n\nThis patch adds configuration and testing document for OCP-Route.\nCloses-Bug: #1779133\n\nChange-Id: Id60bae1adfcf9825a22f0c53544bd239c2118ed6\n'}, {'number': 2, 'created': '2018-07-01 06:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/602561d73a607f51e8fff1c256c4c164e16c0bbf', 'message': 'OCP-Route: configuration and testing documentation\n\nThis patch adds configuration and testing document for OCP-Route.\nCloses-Bug: #1779133\n\nChange-Id: Id60bae1adfcf9825a22f0c53544bd239c2118ed6\n'}, {'number': 3, 'created': '2018-07-01 06:40:03.000000000', 'files': ['doc/source/installation/ocp_route.rst', 'doc/source/installation/index.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/496ba3ce7f916e37bd831b3400a817fe8d0f1b9f', 'message': 'OCP-Route: configuration and testing documentation\n\nThis patch adds configuration and testing document for OCP-Route.\nCloses-Bug: #1779133\n\nChange-Id: Id60bae1adfcf9825a22f0c53544bd239c2118ed6\n'}]",1,578806,496ba3ce7f916e37bd831b3400a817fe8d0f1b9f,13,4,3,21041,,,0,"OCP-Route: configuration and testing documentation

This patch adds configuration and testing document for OCP-Route.
Closes-Bug: #1779133

Change-Id: Id60bae1adfcf9825a22f0c53544bd239c2118ed6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/06/578806/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/ocp_route.rst', 'doc/source/installation/index.rst']",2,0d0e422951020cadfc3ef0a832ddbc84b0bdb0dd,bug/1779133, ocp_route,,146,0
openstack%2Foctavia~master~I18c5b92f872e048b6735dcd111b33e8ba9760512,openstack/octavia,master,I18c5b92f872e048b6735dcd111b33e8ba9760512,Fix a Python3 issue with start_stop_listener,ABANDONED,2017-07-06 09:02:02.000000000,2018-07-04 10:53:49.000000000,,"[{'_account_id': 6579}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-07-06 09:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/664127ac6ba5b40cd7ff02d99e213d9b9c3ce1b5', 'message': 'Fix a Python3 issue with start_stop_listener\n\nChange-Id: I18c5b92f872e048b6735dcd111b33e8ba9760512\nRelated-Bug: #1690812\n'}, {'number': 2, 'created': '2017-08-05 21:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/98616a80d7aba1575002add2458400d534d121dd', 'message': 'Fix a Python3 issue with start_stop_listener\n\nChange-Id: I18c5b92f872e048b6735dcd111b33e8ba9760512\nRelated-Bug: #1690812\n'}, {'number': 3, 'created': '2017-09-27 19:20:52.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/76da0dd9232fe4a6e333d35aac27fea15958c58c', 'message': 'Fix a Python3 issue with start_stop_listener\n\nChange-Id: I18c5b92f872e048b6735dcd111b33e8ba9760512\nRelated-Bug: #1690812\n'}]",0,480919,76da0dd9232fe4a6e333d35aac27fea15958c58c,11,2,3,6579,,,0,"Fix a Python3 issue with start_stop_listener

Change-Id: I18c5b92f872e048b6735dcd111b33e8ba9760512
Related-Bug: #1690812
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/480919/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/listener.py'],1,664127ac6ba5b40cd7ff02d99e213d9b9c3ce1b5,bug/1690812, if b'Job is already running' not in e.output:, if 'Job is already running' not in e.output:,1,1
openstack%2Fnova~master~Ief1634f7e31c473b226e9f19240ecd21840ebdb3,openstack/nova,master,Ief1634f7e31c473b226e9f19240ecd21840ebdb3,Handle nested serialized json entries in assertJsonEqual,MERGED,2018-07-02 15:51:38.000000000,2018-07-04 10:48:47.000000000,2018-07-03 12:54:22.000000000,"[{'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 15:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5feaee018d40ddcaf3464c1b02809ea02b38992', 'message': 'Use assertJsonEqual in test_pre_live_migration_volume_backed* tests\n\nThe tests are comparing nested dict structures so we should use\nthe more advanced assertJsonEqual for handling the recursion and\nnot blow up on random key order.\n\nChange-Id: Ief1634f7e31c473b226e9f19240ecd21840ebdb3\nCloses-Bug: #1779711\n'}, {'number': 2, 'created': '2018-07-02 16:28:56.000000000', 'files': ['nova/test.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac9acce283a28326c6f9af4a158e6f3c1e09db45', 'message': 'Handle nested serialized json entries in assertJsonEqual\n\ntest_pre_live_migration_volume_backed* tests are comparing\nprimitive versions of LibvirtLiveMigrateData objects which\nnest primitive LibvirtLiveMigrateBDMInfo which have\nserialized connection_info_json fields in them, which can\nhave a random key order when comparing which makes the tests\nfail. This changes assertJsonEqual to try and deserialize\nnested json strings like it does for the top level expected\nand observed variables, and updates the test to use\nassertJsonEqual.\n\nChange-Id: Ief1634f7e31c473b226e9f19240ecd21840ebdb3\nCloses-Bug: #1779711\n'}]",0,579615,ac9acce283a28326c6f9af4a158e6f3c1e09db45,36,17,2,6873,,,0,"Handle nested serialized json entries in assertJsonEqual

test_pre_live_migration_volume_backed* tests are comparing
primitive versions of LibvirtLiveMigrateData objects which
nest primitive LibvirtLiveMigrateBDMInfo which have
serialized connection_info_json fields in them, which can
have a random key order when comparing which makes the tests
fail. This changes assertJsonEqual to try and deserialize
nested json strings like it does for the top level expected
and observed variables, and updates the test to use
assertJsonEqual.

Change-Id: Ief1634f7e31c473b226e9f19240ecd21840ebdb3
Closes-Bug: #1779711
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/579615/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,c5feaee018d40ddcaf3464c1b02809ea02b38992,bug/1779711," self.assertJsonEqual(expected_migrate_data.obj_to_primitive(), returned_migrate_data.obj_to_primitive())"," self.assertEqual(expected_migrate_data.obj_to_primitive(), returned_migrate_data.obj_to_primitive())",2,2
openstack%2Fkuryr-kubernetes~master~I43a6b5423bd32a564511ea10ae620922bbad2d2a,openstack/kuryr-kubernetes,master,I43a6b5423bd32a564511ea10ae620922bbad2d2a,devstack support for openshift-dns,MERGED,2018-06-29 15:48:22.000000000,2018-07-04 10:40:19.000000000,2018-07-04 10:40:19.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-06-29 15:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e4c573c67110895ff9452e7bab889cf58dd8b562', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 2, 'created': '2018-06-29 15:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d8800c8e06e257dd07cae9c16cfc63c3e15b1299', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 3, 'created': '2018-06-29 15:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/48fe3493df5735530b404267e6165f61e19c17fa', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 4, 'created': '2018-06-30 10:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0a2f783234187c4bd4db223862bd86d9477a1b1', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 5, 'created': '2018-06-30 21:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b1a90f9477349d47ebaeeda86b92888a968bf8a', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 6, 'created': '2018-06-30 22:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7b95ab69343c337f5a42769322c4343c68ecaa88', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 7, 'created': '2018-06-30 22:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d3b1d5305b71c7cbed23b6d078f374c59c16231', 'message': '[WIP] devstack support for openshift-dns\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 8, 'created': '2018-06-30 23:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/803193a044c131b896f4b95cc42d6cf96b9e70db', 'message': 'devstack support for openshift-dns\n\nThis adds a new devstack service to provide cluster local DNS\nfor Pods. It uses dnsmasq to still allow access to the upstream\nnameserver, so an extra devstack service openshift-dnsmasq is\nalso created.\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 9, 'created': '2018-06-30 23:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/031310568a61e7e6a74ae4bc1b2c00ec34faa901', 'message': 'devstack support for openshift-dns\n\nThis adds a new devstack service to provide cluster local DNS\nfor Pods. It uses dnsmasq to still allow access to the upstream\nnameserver, so an extra devstack service openshift-dnsmasq is\nalso created.\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 10, 'created': '2018-07-01 09:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7991a36d26302565e42da6ad62c2d0d319cfe166', 'message': 'devstack support for openshift-dns\n\nThis adds a new devstack service to provide cluster local DNS\nfor Pods. It uses dnsmasq to still allow access to the upstream\nnameserver, so an extra devstack service openshift-dnsmasq is\nalso created.\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 11, 'created': '2018-07-03 08:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cba23bae0099419fa7e959c69200d68f99282d6c', 'message': 'devstack support for openshift-dns\n\nThis adds a new devstack service to provide cluster local DNS\nfor Pods. It uses dnsmasq to still allow access to the upstream\nnameserver, so an extra devstack service openshift-dnsmasq is\nalso created.\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 12, 'created': '2018-07-03 09:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ed86d607a8e7fe4e813825d3b62b29131a87c020', 'message': 'devstack support for openshift-dns\n\nThis adds a new devstack service to provide cluster local DNS\nfor Pods. It uses dnsmasq to still allow access to the upstream\nnameserver, so an extra devstack service openshift-dnsmasq is\nalso created.\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}, {'number': 13, 'created': '2018-07-03 12:15:50.000000000', 'files': ['devstack/local.conf.openshift.sample', 'devstack/plugin.sh', '.zuul.d/octavia.yaml', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46f750edae74225a4dfbcce1f70990e1122a9613', 'message': 'devstack support for openshift-dns\n\nThis adds a new devstack service to provide cluster local DNS\nfor Pods. It uses dnsmasq to still allow access to the upstream\nnameserver, so an extra devstack service openshift-dnsmasq is\nalso created.\n\nChange-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a\nSigned-off-by: Antoni Segura Puimedon <asegurap@redhat.com>\n'}]",4,579203,46f750edae74225a4dfbcce1f70990e1122a9613,35,6,13,14352,,,0,"devstack support for openshift-dns

This adds a new devstack service to provide cluster local DNS
for Pods. It uses dnsmasq to still allow access to the upstream
nameserver, so an extra devstack service openshift-dnsmasq is
also created.

Change-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a
Signed-off-by: Antoni Segura Puimedon <asegurap@redhat.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/03/579203/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes']",2,e4c573c67110895ff9452e7bab889cf58dd8b562,openshift-dns," # openshift_node_set_dns_config # Description: Configures Openshift node's DNS section atomically # Params: # node_conf_path: path_to_node_config # upstream_dns_ip: IP of the upstream DNS function openshift_node_set_dns_config { local openshift_dnsmasq_recursive_resolv openshift_dnsmasq_recursive_resolv=""${OPENSHIFT_DATA_DIR}/node/resolv.conf"" cat > ""$openshift_dnsmasq_recursive_resolv"" << EOF nameserver $upstream_dns_ip EOF python - <<EOF ""$@"" import os import sys import tempfile import yaml if len(sys.argv) < 3: sys.exit(1) node_conf_path = sys.argv[1] conf_dir = os.path.dirname(node_conf_path) upstream_dns_ip = sys.argv[2] def dns_configure_copy(conf): new_conf = conf.copy() new_conf['dnsBindAddress'] = '127.0.0.1:53' new_conf['dnsDomain'] = 'cluster.local' new_conf['dnsIP'] = '0.0.0.0' new_conf['dnsRecursiveResolvConf'] = '$openshift_dnsmasq_recursive_resolv' return new_conf old_config = {} while True: tp = tempfile.NamedTemporaryFile(dir=conf_dir, delete=False) try: with open(node_conf_path) as node_conf: current_conf = yaml.load(node_conf.read()) if current_conf == old_config: tp.write(yaml.dump(new_conf, default_flow_style=False)) tp.flush() os.fsync(tp.fileno()) tp.close() os.rename(tp.name, node_conf_path) break else: new_conf = dns_configure_copy(current_conf) old_config = current_conf tp.close() os.unlink(tp.name) except Exception: tp.close() os.unlink(tp.name) EOF } # run_openshift_dnsmasq # Description: Configures and runs a dnsmasq instance to be run as the node # DNS server that will choose between openshift's DNS and the # upstream DNS depending on the domain # Params: # upstream_dns_ip: IP of the upstream DNS function run_openshift_dnsmasq { local dnmasq_binary local cmd local upstream_dns_ip local openshift_dnsmasq_conf_path local search_domains upstream_dns_ip=""$1"" openshift_dnsmasq_conf_path=""${OPENSHIFT_DATA_DIR}/node/node_dnsmasq.conf"" install_package dnsmasq cat > ""$openshift_dnsmasq_conf_path"" << EOF server=$upstream_dns_ip no-resolv domain-needed no-negcache max-cache-ttl=1 # Enable dbus so openshift dns can use it to set cluster.local rules enable-dbus dns-forward-max=10000 cache-size=10000 bind-dynamic # Do not bind to 127.0.0.1 (where skydns binds) except-interface=lo EOF dnsmasq_binary=""$(command -v dnsmasq)"" cmd=""${dnsmasq_binary} -C ${openshift_dnsmasq_conf_path}"" if [[ ""$USE_SYSTEMD"" = ""True"" ]]; then # If systemd is being used, proceed as normal run_process openshift-dnsmasq ""$cmd"" root root else # If screen is being used, there is a possibility that the devstack # environment is on a stable branch. Older versions of run_process have # a different signature. Sudo is used as a workaround that works in # both older and newer versions of devstack. run_process openshift-dnsmasq ""sudo $cmd"" fi cp /etc/resolv.conf /etc/resolv.conf.orig search_domains=$(awk '/search/ {for (i=2; i<NF; i++) printf $i "" ""; print $NF}' /etc/resolv.conf.orig) search_domains=""cluster.local ${search_domains}"" echo ""$search_domains"" > /etc/resolv.conf.openshift_devstack echo ""nameserver ${HOST_IP}"" >> /etc/resolv.conf.openshift_devstack grep ""nameserver"" /etc/resolv.conf.orig >> /etc/resolv.conf.openshift_devstack mv /etc/resolv.conf.openshift_devstack /etc/resolv.conf } function reinstate_old_dns_config { mv /etc/resolv.conf.orig /etc/resolv.conf } # run_openshift_dns # Description: Starts openshift's DNS function run_openshift_dns { local command command=""sudo openshift start network \ --enable=dns \ --config=${OPENSHIFT_DATA_DIR}/node/node-config.yaml \ --kubeconfig=${OPENSHIFT_DATA_DIR}/node/node.kubeconfig"" if [[ ""$USE_SYSTEMD"" = ""True"" ]]; then # If systemd is being used, proceed as normal run_process openshift-dns ""$command"" root root else # If screen is being used, there is a possibility that the devstack # environment is on a stable branch. Older versions of run_process have # a different signature. Sudo is used as a workaround that works in # both older and newer versions of devstack. run_process openshift-dns ""sudo $command"" fi }",,148,0
openstack%2Fnetworking-bgpvpn~master~I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3,openstack/networking-bgpvpn,master,I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3,switch to stestr,MERGED,2018-07-03 07:14:49.000000000,2018-07-04 10:37:44.000000000,2018-07-04 10:37:44.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 07:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e125999ce8cceab03ab008ea2ac284100f9b4656', 'message': 'switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3\n'}, {'number': 2, 'created': '2018-07-03 13:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/54cd39e3ef48862d08a01e731f3044731d842e87', 'message': 'switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3\n'}, {'number': 3, 'created': '2018-07-04 07:09:25.000000000', 'files': ['tools/ostestr_compat_shim.sh', 'requirements.txt', '.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e9ab21a29d944f298616538fd1442201519be507', 'message': ""switch to stestr\n\nUpdate to new PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nThis change also wraps in a change to requirements.txt that\npoint pre-rocky neutron pypi release, which is the only\nway I found to have the functional job get a fresh-enough\nneutron (it's not a tox job and hence does not benefit\nfrom the tox-siblings magic). This also reflects better what\nis the real dependency we have (when rocky will ship we will\nhave neutron>=13.0.0.0).\n\nChange-Id: I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3\n""}]",0,579787,e9ab21a29d944f298616538fd1442201519be507,10,4,3,12021,,,0,"switch to stestr

Update to new PTI:
https://governance.openstack.org/tc/reference/pti/python.html#python-test-running

This change also wraps in a change to requirements.txt that
point pre-rocky neutron pypi release, which is the only
way I found to have the functional job get a fresh-enough
neutron (it's not a tox job and hence does not benefit
from the tox-siblings magic). This also reflects better what
is the real dependency we have (when rocky will ship we will
have neutron>=13.0.0.0).

Change-Id: I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/87/579787/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ostestr_compat_shim.sh', '.gitignore', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",5,e125999ce8cceab03ab008ea2ac284100f9b4656,switch-to-stestr, OS_LOG_CAPTURE={env:OS_LOG_CAPTURE:true} OS_STDOUT_CAPTURE={env:OS_STDOUT_CAPTURE:true} OS_STDERR_CAPTURE={env:OS_STDERR_CAPTURE:true}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}setenv = PYTHON = coverage run --source networking_bgpvpn --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml," VIRTUAL_ENV={envdir}commands = {toxinidir}/tools/ostestr_compat_shim.sh {posargs}commands = {toxinidir}/tools/ostestr_compat_shim.sh {posargs}commands = {toxinidir}/tools/ostestr_compat_shim.sh {posargs} python setup.py test --coverage --coverage-package-name=networking_bgpvpn --omit=""*/tests/*"" --testr-args='{posargs}' coverage report --omit=""*/tests/*"" -m",14,18
openstack%2Fopenstack-ansible-galera_server~master~Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3,openstack/openstack-ansible-galera_server,master,Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3,Fix upgrades to test from Queens,ABANDONED,2018-06-21 21:48:51.000000000,2018-07-04 10:10:58.000000000,,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-21 21:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/6b69319cd89ed73f2033a8c4b29421c04e73dfe4', 'message': ""Fix upgrades to test from Queens\n\nIt seems that we're trying to upgrade from Pike -> Master, we should\nbe instead doing Queens -> Master\n\nChange-Id: Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3\n""}, {'number': 2, 'created': '2018-06-27 14:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3bca54ad60bf22ee813badcbf865ee30c04ef7be', 'message': ""Fix upgrades to test from Queens\n\nIt seems that we're trying to upgrade from Pike -> Master, we should\nbe instead doing Queens -> Master\n\nChange-Id: Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3\n""}, {'number': 3, 'created': '2018-06-27 14:30:18.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/01cf23a20ece0030c1091036ea8af37e9b4224ea', 'message': ""Fix upgrades to test from Queens\n\nIt seems that we're trying to upgrade from Pike -> Master, we should\nbe instead doing Queens -> Master\n\nChange-Id: Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3\n""}]",0,577305,01cf23a20ece0030c1091036ea8af37e9b4224ea,9,3,3,1004,,,0,"Fix upgrades to test from Queens

It seems that we're trying to upgrade from Pike -> Master, we should
be instead doing Queens -> Master

Change-Id: Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/05/577305/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,6b69319cd89ed73f2033a8c4b29421c04e73dfe4,, version: stable/queens, version: stable/pike,1,1
openstack%2Fmonasca-api~master~I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7,openstack/monasca-api,master,I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7,remove AUTHORS file from git,MERGED,2018-07-03 16:31:11.000000000,2018-07-04 10:06:59.000000000,2018-07-04 10:06:59.000000000,"[{'_account_id': 9414}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 16:31:11.000000000', 'files': ['AUTHORS'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/30658b866300240bbc8e71f6a350c2e224b1ad5a', 'message': 'remove AUTHORS file from git\n\nThe AUTHORS file is generated automatically by pbr as part of building a\npackage, so it should not be checked in to git.\n\nChange-Id: I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,579913,30658b866300240bbc8e71f6a350c2e224b1ad5a,7,3,1,2472,,,0,"remove AUTHORS file from git

The AUTHORS file is generated automatically by pbr as part of building a
package, so it should not be checked in to git.

Change-Id: I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/13/579913/1 && git format-patch -1 --stdout FETCH_HEAD,['AUTHORS'],1,30658b866300240bbc8e71f6a350c2e224b1ad5a,clean-up-packaging-metadata,,Adrian Czarnecki <adrian.czarnecki@ts.fujitsu.com> Akira Yoshiyama <akirayoshiyama@gmail.com> Amir Mofakhar <amofakhar@op5.com> Andrea Adams <aadams@hpe.com> Andreas Jaeger <aj@suse.com> Angelo Mendonca <angelomendonca@gmail.com> Anh Tran <anhtt@vn.fujitsu.com> Artur Basiak <artur.basiak@ts.fujitsu.com> Ben Motz <bmotz@cray.com> Bertrand Lallau <bertrand.lallau@thalesgroup.com> Boris Bobrov <bbobrov@suse.com> Brad Klein <bradley.klein@twcable.com> Cao Xuan Hoang <hoangcx@vn.fujitsu.com> Chandan Kumar <chkumar@redhat.com> Christoph Held <christoph.held@est.fujitsu.com> Clenimar Filemon <clenimar.filemon@gmail.com> Craig Bryant <craig.bryant@hp.com> Craig Bryant <craig.bryant@hpe.com> Darren Hague <d.hague@sap.com> David C Kennedy <david.c.kennedy@hp.com> David C Kennedy <david.c.kennedy@hpe.com> Deepak <deepak.os31@yahoo.com> Deklan Dieterly <deklan.dieterly@hp.com> Deklan Dieterly <deklan.dieterly@hpe.com> Deklan Dieterly <dieterly@gmail.com> Derrick Johnson <derrick.johnson@hp.com> Derrick Johnson <johnson.derrick@gmail.com> Dexter Fryar <dexter.fryar@outlook.com> Dirk Mueller <dirk@dmllr.de> Dobroslaw Zybort <dobroslaw.zybort@ts.fujitsu.com> Doug Hellmann <doug@doughellmann.com> Emma Foley <emma.l.foley@intel.com> Erickson Santos <erickson@lsd.ufcg.edu.br> Flavio Percoco <flaper87@gmail.com> Flvio Ramalho <flaviosr@lsd.ufcg.edu.br> Georgia-Anna Farmaki <georgia-anna.farmaki@est.fujitsu.com> Ghanshyam <ghanshyam.mann@nectechnologies.in> Habeeb Mohammed <habeeb.mohammed@hpe.com> Haiwei Xu <xu-haiwei@mxw.nes.nec.co.jp> Hangdong Zhang <hdzhang@fiberhome.com> Hironori Shiina <shiina.hironori@jp.fujitsu.com> Igor Natanael <igornsa@lsd.ufcg.edu.br> Jakub Wachowski <jakub.wachowski@ts.fujitsu.com> James E. Blair <jeblair@redhat.com> James Gu <jgu@suse.com> Janonymous <janonymous.codevulture@gmail.com> Jeremy Stanley <fungi@yuggoth.org> Joachim Barheine <joachim.barheine@sap.com> Joe Keen <joe.keen@hp.com> Jonathan Halterman <jhalterman@gmail.com> Jonathan Halterman <jhalterman@hp.com> Kaiyan Sheng <kaiyan.sheng@hp.com> Kamil Choroba <kamil.choroba@est.fujitsu.com> Ken'ichi Ohmichi <ken-oomichi@wx.jp.nec.com> Koji Nakazono <nakazono_0507@jp.fujitsu.com> Laszlo Hegedus <laszlo.hegedus@ericsson.com> LiuNanke <nanke.liu@easystack.cn> Lukasz Zajaczkowski <Lukasz.Zajaczkowski@ts.fujitsu.com> Luong Anh Tuan <tuanla@vn.fujitsu.com> Matteus Silva <silvamatteus@lsd.ufcg.edu.br> Michael Bielinski <michael.bielinski@hp.com> Michael James Hoppal <michael.jam.hoppal@hp.com> Michal Zielonka <michal.zielonka@ts.fujitsu.com> Monasca CI <aadams@hpe.com> Monty Taylor <mordred@inaugust.com> Nam Nguyen Hoai <namnh@vn.fujitsu.com> OpenStack Release Bot <infra-root@openstack.org> Pradeep Kumar Velusamy <PradeepKumar.V@cognizant.com> Rob Raymond <rob.raymond@hp.com> Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com> Roland Hochmuth <roland.hochmuth@hp.com> Ryan Bak <ryan.bak@twcable.com> Ryan Brandt <ryan.brandt@hp.com> SamKirsch10 <sam.kirsch@hp.com> Scott Grasley <scott.grasley@suse.com> Sean McGinnis <sean.mcginnis@huawei.com> Shinya Kawabata <s-kawabata@wx.jp.nec.com> Srinivas Sakhamuri <srini.openstack@gmail.com> Stefano Canepa <stefano.canepa@hp.com> Steve Simpson <stevejims@gmail.com> Swapnil Kulkarni (coolsvap) <me@coolsvap.net> Thomas Bechtold <tbechtold@suse.com> Thomas Graichen <thomas.graichen@sap.com> Tim Kuhlman <tim.kuhlman@hp.com> Tomasz Trbski <kornicameister@gmail.com> Tomasz Trbski <tomasz.trebski@ts.fujitsu.com> Tong Li <litong01@us.ibm.com> Victor Ion Munteanu <victor.munteanu@equillon.ro> Vu Cong Tuan <tuanvc@vn.fujitsu.com> Witold Bedyk <witold.bedyk@est.fujitsu.com> Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com> ZhiQiang Fan <aji.zqfan@gmail.com> Zuul <zuul@review.openstack.org> alpineriveredge <alpineriveredge@gmail.com> anilkumarthovi <anilkumar.thovi@cognizant.com> bandorf <matthias.bandorf@est.fujitsu.com> bklei <bradley.klein@twcable.com> cindy oneill <cindy.o-neill@hp.com> dieterly <deklan.dieterly@hpe.com> gary-hessler <gary.hessler@hp.com> gecong1973 <ge.cong@zte.com.cn> haali1 <haneef.ali@hp.com> henriquetruta <henrique@lsd.ufcg.edu.br> hochmuth <roland.hochmuth@hp.com> inspurericzhang <zhanglf01@inspur.com> ji-xuepeng <ji.xuepeng@zte.com.cn> kaiyan-sheng <kaiyan.sheng@hp.com> liu-sheng <liusheng@huawei.com> liyingjun <yingjun.li@kylin-cloud.com> loooosy <syluo5695@fiberhome.com> melissaml <ma.lei@99cloud.net> mhoppal <michael.jam.hoppal@hpe.com> oiskam1 <oiskam1@yandex.ru> pallavi <pallavi.s@nectechnologies.in> raymondr <raymondr@users.noreply.github.com> roland-hochmuth <roland.hochmuth@hpe.com> satsuki_fukazu <fukazu.satsuki@po.ntts.co.jp> venkatamahesh <venkatamaheshkotha@gmail.com> wangqi <wang.qi@99cloud.net> ,0,119
openstack%2Fwatcher~master~I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125,openstack/watcher,master,I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125,Fix unit test error,MERGED,2018-07-03 04:42:22.000000000,2018-07-04 10:04:07.000000000,2018-07-04 10:04:07.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-07-03 04:42:22.000000000', 'files': ['watcher/tests/common/test_clients.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/393d68f6583b7cbb29ea54298aa795348a75d4ef', 'message': 'Fix unit test error\n\nThis patch fixes watcher.tests.common.test_clients.TestClients.\ntest_clients_ironic unit test error due to python-ironicclient 2.4.0.\n\nChange-Id: I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125\n'}]",0,579763,393d68f6583b7cbb29ea54298aa795348a75d4ef,9,3,1,13111,,,0,"Fix unit test error

This patch fixes watcher.tests.common.test_clients.TestClients.
test_clients_ironic unit test error due to python-ironicclient 2.4.0.

Change-Id: I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125
",git fetch https://review.opendev.org/openstack/watcher refs/changes/63/579763/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/common/test_clients.py'],1,393d68f6583b7cbb29ea54298aa795348a75d4ef,fix_unit_test," endpoint_override=ironic_url,"," ironic_url,",1,1
openstack%2Fopenstack-ansible-os_sahara~master~I1952353c0eea966a02e5cb20140170d671808b42,openstack/openstack-ansible-os_sahara,master,I1952353c0eea966a02e5cb20140170d671808b42,Add packages required for osprofiler,MERGED,2018-06-08 04:40:01.000000000,2018-07-04 10:00:56.000000000,2018-07-04 10:00:56.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 10459}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-06-08 04:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/520515e5db5ae4451cea642b66c000c5b93a4d6c', 'message': 'Add packages required for osprofiler\n\nThe following packages are required in-order to run osprofiler.\nthese packages will provide deployers the ability to profile\na service on demand should they choose to enable the profile\nfunctionality.\n\nChange-Id: I1952353c0eea966a02e5cb20140170d671808b42\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-06-12 03:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/63cfb25ad59df367d03215f6ba98096914219f2e', 'message': 'Add packages required for osprofiler\n\nThe following packages are required in-order to run osprofiler.\nthese packages will provide deployers the ability to profile\na service on demand should they choose to enable the profile\nfunctionality.\n\nChange-Id: I1952353c0eea966a02e5cb20140170d671808b42\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-06-24 17:16:16.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/adf0c5b9cefaae6738a23b2b3f71c83f3d8c1733', 'message': 'Add packages required for osprofiler\n\nThe following packages are required in-order to run osprofiler.\nthese packages will provide deployers the ability to profile\na service on demand should they choose to enable the profile\nfunctionality.\n\nDepends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9\nChange-Id: I1952353c0eea966a02e5cb20140170d671808b42\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,573514,adf0c5b9cefaae6738a23b2b3f71c83f3d8c1733,25,6,3,7353,,,0,"Add packages required for osprofiler

The following packages are required in-order to run osprofiler.
these packages will provide deployers the ability to profile
a service on demand should they choose to enable the profile
functionality.

Depends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9
Change-Id: I1952353c0eea966a02e5cb20140170d671808b42
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/14/573514/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,520515e5db5ae4451cea642b66c000c5b93a4d6c,osprofiler, - elasticsearch - osprofiler,,2,0
openstack%2Ftripleo-quickstart~master~Ib09acb90fcc64475d1eeb2729d914efc22a90a9d,openstack/tripleo-quickstart,master,Ib09acb90fcc64475d1eeb2729d914efc22a90a9d,OVN fset030: Switch to OVN DBs HA for queens,ABANDONED,2018-07-03 13:05:51.000000000,2018-07-04 09:56:49.000000000,,"[{'_account_id': 10237}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-07-03 13:05:51.000000000', 'files': ['config/general_config/featureset030.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07bab6c358c3b6411fe599cd2757c82fcc777337', 'message': 'OVN fset030: Switch to OVN DBs HA for queens\n\nThe master is already switched to OVN DBs HA.\n\nChange-Id: Ib09acb90fcc64475d1eeb2729d914efc22a90a9d\nPartial-bug: #1779123\n'}]",0,579864,07bab6c358c3b6411fe599cd2757c82fcc777337,12,6,1,10237,,,0,"OVN fset030: Switch to OVN DBs HA for queens

The master is already switched to OVN DBs HA.

Change-Id: Ib09acb90fcc64475d1eeb2729d914efc22a90a9d
Partial-bug: #1779123
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/64/579864/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset030.yml'],1,07bab6c358c3b6411fe599cd2757c82fcc777337,bug/1779123, {% if release in ['pike'] -%}," {% if release in ['pike', 'queens'] -%}",1,1
openstack%2Fopenstack-ansible-pip_install~master~I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,openstack/openstack-ansible-pip_install,master,I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,Pin get-pip.py to 3.2,MERGED,2018-07-03 17:04:41.000000000,2018-07-04 09:54:55.000000000,2018-07-04 09:54:23.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-07-03 17:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/e6b99534b4fc1106c3b6d3a0c64eece39b6875d9', 'message': ""Pin get-pip.py to 3.3\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script.\n\nCloses-Bug: 1779534\nChange-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc\n""}, {'number': 2, 'created': '2018-07-04 08:24:18.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/6c00fab455fd764836442b51b5d788fed32f8278', 'message': ""Pin get-pip.py to 3.2\n\nAs get-pip.py evolves based on pip 10, while we're still using\npip 9, changes in the way it can be used are causing problems.\n\nFor example, the ability to use --download is no longer there.\n\nAs such, let's pin to a known good version and leave it at that\nuntil we no longer need to use this script. Version 3.2 maps to\npip 7.1.2 which fulfills our needs.\n\nCloses-Bug: 1779534\nChange-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc\n""}]",0,579924,6c00fab455fd764836442b51b5d788fed32f8278,12,3,2,6816,,,0,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Closes-Bug: 1779534
Change-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/24/579924/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e6b99534b4fc1106c3b6d3a0c64eece39b6875d9,bug/1779534,pip_upstream_url: https://bootstrap.pypa.io/3.3/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/3.3/get-pip.py,pip_upstream_url: https://bootstrap.pypa.io/get-pip.py pip_fallback_url: https://raw.githubusercontent.com/pypa/get-pip/master/get-pip.py,2,2
openstack%2Fmistral~master~I7990abcbefbae08f69b3c2f7632eff95f0229f89,openstack/mistral,master,I7990abcbefbae08f69b3c2f7632eff95f0229f89,Add CloudFlow info to Mistral documentation,MERGED,2018-07-03 14:40:35.000000000,2018-07-04 09:54:47.000000000,2018-07-04 09:54:47.000000000,"[{'_account_id': 8731}, {'_account_id': 10068}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-07-03 14:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2c172fe5e4249767ffb33398737c8f0f390063ea', 'message': 'Add CloudFlow info to Mistral documentation\n\nChange-Id: I7990abcbefbae08f69b3c2f7632eff95f0229f89\n'}, {'number': 2, 'created': '2018-07-04 06:30:25.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2bfc9d1ad86835d4785d5e6d19c58cc48a7c485a', 'message': 'Add CloudFlow info to Mistral documentation\n\nChange-Id: I7990abcbefbae08f69b3c2f7632eff95f0229f89\n'}]",0,579887,2bfc9d1ad86835d4785d5e6d19c58cc48a7c485a,10,5,2,28603,,,0,"Add CloudFlow info to Mistral documentation

Change-Id: I7990abcbefbae08f69b3c2f7632eff95f0229f89
",git fetch https://review.opendev.org/openstack/mistral refs/changes/87/579887/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst']",2,2c172fe5e4249767ffb33398737c8f0f390063ea,add_cloudflow_info_to_doc,* CloudFlow: visualization tool for workflow executions on https://github.com/nokia/CloudFlow ,,6,0
openstack%2Ftripleo-heat-templates~master~I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362,openstack/tripleo-heat-templates,master,I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362,OVN: Set mac-table-size for provider bridges,ABANDONED,2018-07-02 15:12:44.000000000,2018-07-04 09:53:02.000000000,,"[{'_account_id': 4328}, {'_account_id': 10237}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-02 15:12:44.000000000', 'files': ['docker/services/ovn-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f94530ed882711a0fb2b679b05b6b6ad8ff98793', 'message': ""OVN: Set mac-table-size for provider bridges\n\nOpenvSwitch maintains a MAC-IP table for every bridge and updates this table with the MACs it\nlearns. OVS learns the macs when NORMAL action is used. The default size of this table is 2048.\nAs per this bug report - [1], ovs-vswitchd CPU usage shoots to 100% when this table overflows.\nAlthough OVN doesn't use NORMAL action for the integration bridge, the provider bridges\n(br-ex for example) can be programmed with NORMAL action and we can see the same issue.\n\nTo address this problem, this patch programs the provider bridges to a mac table size of 50000.\nThis table size is quite huge and should be enough to handle this issue.\n\nIn the docker_config, step 3 this patch runs a container which reads the 'ovn-bridge-mappings'\nvalue from the openvswitch table (ovs-vsctl get open . external_ids:ovn-bridge-mappings), gets the\nprovider bridges and runs ovs-vsctl set bridge $br other_config:mac-table-siz=50000. If the node\nis not configured with ovn-bridge-mappings, it will be a no-op.\n\n[1] - https://bugzilla.redhat.com/show_bug.cgi?id=1589058\nChange-Id: I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362\nCloses-bug: #1779706\n""}]",1,579593,f94530ed882711a0fb2b679b05b6b6ad8ff98793,8,5,1,10237,,,0,"OVN: Set mac-table-size for provider bridges

OpenvSwitch maintains a MAC-IP table for every bridge and updates this table with the MACs it
learns. OVS learns the macs when NORMAL action is used. The default size of this table is 2048.
As per this bug report - [1], ovs-vswitchd CPU usage shoots to 100% when this table overflows.
Although OVN doesn't use NORMAL action for the integration bridge, the provider bridges
(br-ex for example) can be programmed with NORMAL action and we can see the same issue.

To address this problem, this patch programs the provider bridges to a mac table size of 50000.
This table size is quite huge and should be enough to handle this issue.

In the docker_config, step 3 this patch runs a container which reads the 'ovn-bridge-mappings'
value from the openvswitch table (ovs-vsctl get open . external_ids:ovn-bridge-mappings), gets the
provider bridges and runs ovs-vsctl set bridge $br other_config:mac-table-siz=50000. If the node
is not configured with ovn-bridge-mappings, it will be a no-op.

[1] - https://bugzilla.redhat.com/show_bug.cgi?id=1589058
Change-Id: I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362
Closes-bug: #1779706
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/579593/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ovn-controller.yaml'],1,f94530ed882711a0fb2b679b05b6b6ad8ff98793,bug/1779706," set_provider_bridge_mac_table_size: start_order: 1 detach: false net: host privileged: true user: root command: ['/bin/bash', '-c', 'ovs-vsctl get open . external_ids | grep ovn-bridge-mappings; if [ ""$?"" == ""0"" ]; then mappings=$(ovs-vsctl get open . external_ids:ovn-bridge-mappings | tr -d ""\""""); fi; for i in $(echo $mappings | tr "","" "" ""); do br=$(echo $i | cut -d "":"" -f2) ; ovs-vsctl show | grep $br; if [ ""$?"" == ""0"" ]; then ovs-vsctl set bridge $br other-config:mac-table-size=50000; fi; done'] image: *ovn_controller_image volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /lib/modules:/lib/modules:ro - /run/openvswitch:/run/openvswitch",,14,0
openstack%2Frelease-tools~master~Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e,openstack/release-tools,master,Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e,This repository is now retired,MERGED,2018-06-29 15:02:22.000000000,2018-07-04 09:39:28.000000000,2018-07-04 09:39:28.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 15:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-tools/commit/86d1a8698cb214f445ff60881dbb5542b085396a', 'message': 'This repository is now retired\n\nThe Release Management Team ceased using this months ago. Its\ncontents are replaced with a retirement notice so that potential\nusers will realize it is no longer maintained.\n\nChange-Id: Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e\nDepends-On: https://review.openstack.org/579185\n'}, {'number': 2, 'created': '2018-06-29 15:53:18.000000000', 'files': ['presentations/onboarding/plugin/zoom-js/zoom.js', 'presentations/onboarding/css/font-awesome.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.eot', 'releasetools/__init__.py', 'functions', 'test-requirements.txt', 'presentations/onboarding/plugin/markdown/example.md', 'presentations/6-months-in-the-life-of-openstack/js/jquery-3.1.1.js', 'presentations/6-months-in-the-life-of-openstack/css/theme/moon.css', 'presentations/onboarding/plugin/multiplex/index.js', 'presentations/6-months-in-the-life-of-openstack/tools/output.py', 'presentations/onboarding/PROCESS.rst', 'bugs-fixed-since.py', 'presentations/6-months-in-the-life-of-openstack/css/reveal.scss', 'presentations/6-months-in-the-life-of-openstack/css/selectable.css', 'lp-tag.py', 'presentations/6-months-in-the-life-of-openstack/plugin/notes-server/notes.html', 'rccut.sh', 'presentations/onboarding/plugin/math/math.js', 'presentations/onboarding/css/theme/source/moon.scss', 'pre_expire_bugs.py', 'presentations/onboarding/css/theme/league.css', 'releasetools/cmds/__init__.py', 'presentations/onboarding/.gitignore', 'presentations/6-months-in-the-life-of-openstack/plugin/print-pdf/print-pdf.js', 'rcdelivery.sh', 'presentations/6-months-in-the-life-of-openstack/plugin/zoom-js/zoom.js', 'releasetools/cmds/milestone_rename.py', 'presentations/onboarding/css/theme/source/solarized.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro.css', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/example.html', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.woff', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/moon.scss', 'consolidate_release_page.py', 'validate_tarballs.sh', 'presentations/onboarding/Gruntfile.js', 'presentations/onboarding/css/theme/white.css', 'presentations/onboarding/css/theme/source/beige.scss', 'wait_for_tarball.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.ttf', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/beige.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/dhellmann.scss', 'presentations/onboarding/css/theme/source/league.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/league.scss', 'requirements.txt', 'bindep.txt', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.ttf', 'releasetools/gitutils.py', 'presentations/6-months-in-the-life-of-openstack/plugin/notes/notes.js', 'presentations/6-months-in-the-life-of-openstack/css/font-awesome.min.css', 'repo_tarball_diff.sh', 'presentations/6-months-in-the-life-of-openstack/css/print/paper.css', 'expire_old_bug_reports.py', 'presentations/onboarding/css/print/pdf.css', 'presentations/onboarding/css/theme/blood.css', 'ms2version.py', 'presentations/6-months-in-the-life-of-openstack/.gitignore', 'releasetools/cmds/sanity_check_version.py', 'presentations/onboarding/tools/showcode.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/black.scss', 'releasetools/launchpadutils.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/night.css', 'adjust_blueprints.py', 'annotate-lp-bugs.py', 'presentations/onboarding/fonts/fontawesome-webfont.svg', 'presentations/onboarding/package.json', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.svg', 'lp-filter-bugs-by-tag.py', 'README.rst', 'setup.py', 'presentations/onboarding/css/theme/source/sky.scss', 'spec2bp.py', 'presentations/onboarding/plugin/search/search.js', 'presentations/onboarding/css/theme/beige.css', 'presentations/onboarding/fonts/fontawesome-webfont.eot', 'presentations/onboarding/plugin/markdown/markdown.js', 'releasetools/cmds/milestone_checkup.py', 'presentations/onboarding/css/theme/serif.css', 'presentations/6-months-in-the-life-of-openstack/lib/css/github.css', 'presentations/onboarding/fonts/fontawesome-webfont.woff2', 'presentations/onboarding/img/cc-by-88x31.png', 'LICENSE', 'releasetools/cmds/milestone_ensure.py', 'presentations/6-months-in-the-life-of-openstack/demo.html', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/solarized.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/white.scss', 'presentations/onboarding/plugin/multiplex/package.json', 'presentations/onboarding/css/theme/source/blood.scss', 'presentations/onboarding/css/theme/source/black.scss', 'releasetools/cmds/milestones_create.py', 'presentations/onboarding/js/jquery-3.1.1.js', 'presentations/onboarding/plugin/multiplex/client.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/LICENSE', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/index.js', 'presentations/onboarding/plugin/multiplex/master.js', 'releasetools/tests/test_governance.py', '.gitignore', 'presentations/onboarding/fonts/FontAwesome.otf', 'presentations/6-months-in-the-life-of-openstack/css/reveal.css', 'releasetools/cmds/get_repo_owner.py', 'presentations/6-months-in-the-life-of-openstack/requirements.txt', 'autokick.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.woff', 'presentations/6-months-in-the-life-of-openstack/tools/showcode.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/beige.css', 'releasetools/governance.py', 'presentations/onboarding/css/theme/README.md', 'presentations/onboarding/bower.json', 'presentations/onboarding/css/print/paper.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/night.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.eot', 'presentations/6-months-in-the-life-of-openstack/css/theme/template/theme.scss', 'presentations/6-months-in-the-life-of-openstack/README.rst', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/marked.js', 'presentations/onboarding/css/theme/source/dhellmann.scss', 'releasetools/semver.py', 'upload_release.py', 'presentations/onboarding/css/theme/template/mixins.scss', 'presentations/onboarding/requirements.txt', 'presentations/6-months-in-the-life-of-openstack/plugin/highlight/highlight.js', 'bug_cleanup.py', 'presentations/onboarding/css/theme/simple.css', 'presentations/onboarding/css/theme/night.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/black.css', 'presentations/6-months-in-the-life-of-openstack/css/selectable.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/template/settings.scss', 'sb-tag.py', 'presentations/6-months-in-the-life-of-openstack/lib/js/head.min.js', 'presentations/onboarding/css/reveal.min.css', 'releasetools/update_reviews.py', 'presentations/onboarding/css/font-awesome.min.css', 'releasetools/rst2txt.py', 'releasetools/cmds/launchpad_login.py', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.ttf', 'presentations/onboarding/package-lock.json', 'presentations/6-months-in-the-life-of-openstack/img/cc-by-80x15.png', 'presentations/6-months-in-the-life-of-openstack/plugin/notes/notes.html', 'presentations/onboarding/css/theme/source/serif.scss', 'presentations/6-months-in-the-life-of-openstack/css/reveal.min.css', 'presentations/onboarding/css/theme/sky.css', 'presentations/onboarding/plugin/notes-server/client.js', 'presentations/6-months-in-the-life-of-openstack/css/theme/solarized.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/serif.scss', 'lp-filter-bugs-by-importance.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/README.md', 'presentations/6-months-in-the-life-of-openstack/css/theme/sky.css', 'presentations/6-months-in-the-life-of-openstack/img/cc-by-88x31.png', 'presentations/6-months-in-the-life-of-openstack/package-lock.json', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/client.js', 'presentations/6-months-in-the-life-of-openstack/lib/css/zenburn.css', 'presentations/onboarding/css/reveal.scss', 'presentations/onboarding/plugin/notes-server/index.js', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.woff2', 'presentations/6-months-in-the-life-of-openstack/index.html', 'presentations/6-months-in-the-life-of-openstack/lib/js/classList.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.eot', 'presentations/onboarding/css/reveal.css', 'presentations/onboarding/css/custom.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/league.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/sky.scss', 'presentations/onboarding/css/theme/dhellmann.css', 'presentations/6-months-in-the-life-of-openstack/plugin/search/search.js', 'presentations/onboarding/tools/output.py', 'presentations/6-months-in-the-life-of-openstack/reveal-readme.md', 'presentations/onboarding/js/lineselect.js', 'presentations/onboarding/css/theme/solarized.css', 'sb-filter-stories-by-tag.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/template/mixins.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.woff', 'list_deliverable_changes.py', 'releasetools/tests/test_update_reviews.py', 'releasetools/cmds/mail.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.eot', 'presentations/onboarding/plugin/notes-server/notes.html', 'translation-cleanup.sh', 'presentations/6-months-in-the-life-of-openstack/plugin/math/math.js', 'presentations/6-months-in-the-life-of-openstack/css/font-awesome.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/blood.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/LICENSE', 'presentations/onboarding/css/theme/source/simple.scss', 'presentations/onboarding/js/reveal.js', 'presentations/onboarding/plugin/markdown/marked.js', 'presentations/6-months-in-the-life-of-openstack/fonts/FontAwesome.otf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.woff', 'presentations/onboarding/plugin/notes/notes.html', 'releasetools/cmds/milestone_close.py', 'presentations/onboarding/css/theme/black.css', 'presentations/6-months-in-the-life-of-openstack/package.json', 'presentations/onboarding/fonts/fontawesome-webfont.woff', 'presentations/onboarding/plugin/markdown/example.html', 'process_bugs.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.woff', 'presentations/6-months-in-the-life-of-openstack/plugin/notes-server/client.js', '.gitreview', 'presentations/6-months-in-the-life-of-openstack/js/reveal.js', 'create_milestones.sample.yaml', 'presentations/onboarding/css/theme/template/theme.scss', 'presentations/6-months-in-the-life-of-openstack/plugin/notes-server/index.js', 'releasetools/cmds/update_reviews.py', 'stable_freeze.py', 'presentations/6-months-in-the-life-of-openstack/js/lineselect.js', 'presentations/6-months-in-the-life-of-openstack/css/theme/simple.css', 'presentations/6-months-in-the-life-of-openstack/Gruntfile.js', 'presentations/onboarding/plugin/highlight/highlight.js', 'presentations/6-months-in-the-life-of-openstack/css/custom.css', 'presentations/onboarding/README.rst', 'presentations/onboarding/css/theme/source/white.scss', 'presentations/onboarding/plugin/notes/notes.js', 'eol_branch.sh', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.eot', 'presentations/onboarding/index.html', 'presentations/onboarding/css/theme/template/settings.scss', 'presentations/onboarding/css/theme/moon.css', 'releasetools/release_notes.py', 'presentations/6-months-in-the-life-of-openstack/bower.json', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/markdown.js', 'releasetools/tests/test_semver.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.ttf', 'releasetools/tests/__init__.py', 'setup.cfg', 'tox.ini', 'releasetools/cmds/release_notes.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/simple.scss', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/example.md', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/package.json', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/serif.css', 'check_library_constraints.sh', 'presentations/6-months-in-the-life-of-openstack/css/theme/blood.css', 'presentations/onboarding/js/reveal.min.js', 'presentations/6-months-in-the-life-of-openstack/lib/css/vs.css', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.eot', 'compare_tarball_diff.sh', 'presentations/6-months-in-the-life-of-openstack/css/theme/white.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.woff', 'presentations/6-months-in-the-life-of-openstack/css/print/pdf.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/dhellmann.css', 'presentations/6-months-in-the-life-of-openstack/lib/js/html5shiv.js', 'presentations/6-months-in-the-life-of-openstack/js/reveal.min.js', 'presentations/onboarding/fonts/fontawesome-webfont.ttf', '.testr.conf', 'presentations/onboarding/css/theme/source/night.scss', 'lp-reset-backport-potential.py', 'presentations/onboarding/plugin/print-pdf/print-pdf.js', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/master.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.ttf'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/39a82df080dda0b3028be623f016354ff0544520', 'message': 'This repository is now retired\n\nThe Release Management Team ceased using this months ago. Its\ncontents are replaced with a retirement notice so that potential\nusers will realize it is no longer maintained. Publicly announced\nat:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-June/131920.html\n\nChange-Id: Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e\nDepends-On: https://review.openstack.org/579185\n'}]",4,579188,39a82df080dda0b3028be623f016354ff0544520,15,4,2,5263,,,0,"This repository is now retired

The Release Management Team ceased using this months ago. Its
contents are replaced with a retirement notice so that potential
users will realize it is no longer maintained. Publicly announced
at:

http://lists.openstack.org/pipermail/openstack-dev/2018-June/131920.html

Change-Id: Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e
Depends-On: https://review.openstack.org/579185
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/88/579188/2 && git format-patch -1 --stdout FETCH_HEAD,"['presentations/onboarding/plugin/zoom-js/zoom.js', 'presentations/onboarding/css/font-awesome.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.eot', 'releasetools/__init__.py', 'functions', 'test-requirements.txt', 'presentations/onboarding/plugin/markdown/example.md', 'presentations/6-months-in-the-life-of-openstack/js/jquery-3.1.1.js', 'presentations/6-months-in-the-life-of-openstack/css/theme/moon.css', 'presentations/onboarding/plugin/multiplex/index.js', 'presentations/6-months-in-the-life-of-openstack/tools/output.py', 'presentations/onboarding/PROCESS.rst', 'bugs-fixed-since.py', 'presentations/6-months-in-the-life-of-openstack/css/reveal.scss', 'presentations/6-months-in-the-life-of-openstack/css/selectable.css', 'lp-tag.py', 'presentations/6-months-in-the-life-of-openstack/plugin/notes-server/notes.html', 'rccut.sh', 'presentations/onboarding/plugin/math/math.js', 'presentations/onboarding/css/theme/source/moon.scss', 'pre_expire_bugs.py', 'presentations/onboarding/css/theme/league.css', 'releasetools/cmds/__init__.py', 'presentations/onboarding/.gitignore', 'presentations/6-months-in-the-life-of-openstack/plugin/print-pdf/print-pdf.js', 'rcdelivery.sh', 'presentations/6-months-in-the-life-of-openstack/plugin/zoom-js/zoom.js', 'releasetools/cmds/milestone_rename.py', 'presentations/onboarding/css/theme/source/solarized.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro.css', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/example.html', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.woff', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/moon.scss', 'consolidate_release_page.py', 'validate_tarballs.sh', 'presentations/onboarding/Gruntfile.js', 'presentations/onboarding/css/theme/white.css', 'presentations/onboarding/css/theme/source/beige.scss', 'wait_for_tarball.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.ttf', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/beige.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/dhellmann.scss', 'presentations/onboarding/css/theme/source/league.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/league.scss', 'requirements.txt', 'bindep.txt', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.ttf', 'releasetools/gitutils.py', 'presentations/6-months-in-the-life-of-openstack/plugin/notes/notes.js', 'presentations/6-months-in-the-life-of-openstack/css/font-awesome.min.css', 'repo_tarball_diff.sh', 'presentations/6-months-in-the-life-of-openstack/css/print/paper.css', 'expire_old_bug_reports.py', 'presentations/onboarding/css/print/pdf.css', 'presentations/onboarding/css/theme/blood.css', 'ms2version.py', 'presentations/6-months-in-the-life-of-openstack/.gitignore', 'releasetools/cmds/sanity_check_version.py', 'presentations/onboarding/tools/showcode.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/black.scss', 'releasetools/launchpadutils.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/night.css', 'adjust_blueprints.py', 'annotate-lp-bugs.py', 'presentations/onboarding/fonts/fontawesome-webfont.svg', 'presentations/onboarding/package.json', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.svg', 'lp-filter-bugs-by-tag.py', 'README.rst', 'setup.py', 'presentations/onboarding/css/theme/source/sky.scss', 'spec2bp.py', 'presentations/onboarding/plugin/search/search.js', 'presentations/onboarding/css/theme/beige.css', 'presentations/onboarding/fonts/fontawesome-webfont.eot', 'presentations/onboarding/plugin/markdown/markdown.js', 'releasetools/cmds/milestone_checkup.py', 'presentations/onboarding/css/theme/serif.css', 'presentations/6-months-in-the-life-of-openstack/lib/css/github.css', 'presentations/onboarding/fonts/fontawesome-webfont.woff2', 'presentations/onboarding/img/cc-by-88x31.png', 'LICENSE', 'releasetools/cmds/milestone_ensure.py', 'presentations/6-months-in-the-life-of-openstack/demo.html', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/solarized.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/white.scss', 'presentations/onboarding/plugin/multiplex/package.json', 'presentations/onboarding/css/theme/source/blood.scss', 'presentations/onboarding/css/theme/source/black.scss', 'releasetools/cmds/milestones_create.py', 'presentations/onboarding/js/jquery-3.1.1.js', 'presentations/onboarding/plugin/multiplex/client.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/LICENSE', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/index.js', 'presentations/onboarding/plugin/multiplex/master.js', 'releasetools/tests/test_governance.py', '.gitignore', 'presentations/onboarding/fonts/FontAwesome.otf', 'presentations/6-months-in-the-life-of-openstack/css/reveal.css', 'releasetools/cmds/get_repo_owner.py', 'presentations/6-months-in-the-life-of-openstack/requirements.txt', 'autokick.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.woff', 'presentations/6-months-in-the-life-of-openstack/tools/showcode.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/beige.css', 'releasetools/governance.py', 'presentations/onboarding/css/theme/README.md', 'presentations/onboarding/bower.json', 'presentations/onboarding/css/print/paper.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/night.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.eot', 'presentations/6-months-in-the-life-of-openstack/css/theme/template/theme.scss', 'presentations/6-months-in-the-life-of-openstack/README.rst', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/marked.js', 'presentations/onboarding/css/theme/source/dhellmann.scss', 'releasetools/semver.py', 'upload_release.py', 'presentations/onboarding/css/theme/template/mixins.scss', 'presentations/onboarding/requirements.txt', 'presentations/6-months-in-the-life-of-openstack/plugin/highlight/highlight.js', 'bug_cleanup.py', 'presentations/onboarding/css/theme/simple.css', 'presentations/onboarding/css/theme/night.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/black.css', 'presentations/6-months-in-the-life-of-openstack/css/selectable.scss', 'presentations/6-months-in-the-life-of-openstack/css/theme/template/settings.scss', 'sb-tag.py', 'presentations/6-months-in-the-life-of-openstack/lib/js/head.min.js', 'presentations/onboarding/css/reveal.min.css', 'releasetools/update_reviews.py', 'presentations/onboarding/css/font-awesome.min.css', 'releasetools/rst2txt.py', 'releasetools/cmds/launchpad_login.py', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.ttf', 'presentations/onboarding/package-lock.json', 'presentations/6-months-in-the-life-of-openstack/img/cc-by-80x15.png', 'presentations/6-months-in-the-life-of-openstack/plugin/notes/notes.html', 'presentations/onboarding/css/theme/source/serif.scss', 'presentations/6-months-in-the-life-of-openstack/css/reveal.min.css', 'presentations/onboarding/css/theme/sky.css', 'presentations/onboarding/plugin/notes-server/client.js', 'presentations/6-months-in-the-life-of-openstack/css/theme/solarized.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/serif.scss', 'lp-filter-bugs-by-importance.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/README.md', 'presentations/6-months-in-the-life-of-openstack/css/theme/sky.css', 'presentations/6-months-in-the-life-of-openstack/img/cc-by-88x31.png', 'presentations/6-months-in-the-life-of-openstack/package-lock.json', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/client.js', 'presentations/6-months-in-the-life-of-openstack/lib/css/zenburn.css', 'presentations/onboarding/css/reveal.scss', 'presentations/onboarding/plugin/notes-server/index.js', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.woff2', 'presentations/6-months-in-the-life-of-openstack/index.html', 'presentations/6-months-in-the-life-of-openstack/lib/js/classList.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.eot', 'presentations/onboarding/css/reveal.css', 'presentations/onboarding/css/custom.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/league.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/sky.scss', 'presentations/onboarding/css/theme/dhellmann.css', 'presentations/6-months-in-the-life-of-openstack/plugin/search/search.js', 'presentations/onboarding/tools/output.py', 'presentations/6-months-in-the-life-of-openstack/reveal-readme.md', 'presentations/onboarding/js/lineselect.js', 'presentations/onboarding/css/theme/solarized.css', 'sb-filter-stories-by-tag.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/template/mixins.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.woff', 'list_deliverable_changes.py', 'releasetools/tests/test_update_reviews.py', 'releasetools/cmds/mail.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.eot', 'presentations/onboarding/plugin/notes-server/notes.html', 'translation-cleanup.sh', 'presentations/6-months-in-the-life-of-openstack/plugin/math/math.js', 'presentations/6-months-in-the-life-of-openstack/css/font-awesome.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/blood.scss', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/LICENSE', 'presentations/onboarding/css/theme/source/simple.scss', 'presentations/onboarding/js/reveal.js', 'presentations/onboarding/plugin/markdown/marked.js', 'presentations/6-months-in-the-life-of-openstack/fonts/FontAwesome.otf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.woff', 'presentations/onboarding/plugin/notes/notes.html', 'releasetools/cmds/milestone_close.py', 'presentations/onboarding/css/theme/black.css', 'presentations/6-months-in-the-life-of-openstack/package.json', 'presentations/onboarding/fonts/fontawesome-webfont.woff', 'presentations/onboarding/plugin/markdown/example.html', 'process_bugs.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.woff', 'presentations/6-months-in-the-life-of-openstack/plugin/notes-server/client.js', '.gitreview', 'presentations/6-months-in-the-life-of-openstack/js/reveal.js', 'create_milestones.sample.yaml', 'presentations/onboarding/css/theme/template/theme.scss', 'presentations/6-months-in-the-life-of-openstack/plugin/notes-server/index.js', 'releasetools/cmds/update_reviews.py', 'stable_freeze.py', 'presentations/6-months-in-the-life-of-openstack/js/lineselect.js', 'presentations/6-months-in-the-life-of-openstack/css/theme/simple.css', 'presentations/6-months-in-the-life-of-openstack/Gruntfile.js', 'presentations/onboarding/plugin/highlight/highlight.js', 'presentations/6-months-in-the-life-of-openstack/css/custom.css', 'presentations/onboarding/README.rst', 'presentations/onboarding/css/theme/source/white.scss', 'presentations/onboarding/plugin/notes/notes.js', 'eol_branch.sh', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.eot', 'presentations/onboarding/index.html', 'presentations/onboarding/css/theme/template/settings.scss', 'presentations/onboarding/css/theme/moon.css', 'releasetools/release_notes.py', 'presentations/6-months-in-the-life-of-openstack/bower.json', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/markdown.js', 'releasetools/tests/test_semver.py', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.ttf', 'releasetools/tests/__init__.py', 'setup.cfg', 'tox.ini', 'releasetools/cmds/release_notes.py', 'presentations/6-months-in-the-life-of-openstack/css/theme/source/simple.scss', 'presentations/6-months-in-the-life-of-openstack/plugin/markdown/example.md', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/package.json', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/serif.css', 'check_library_constraints.sh', 'presentations/6-months-in-the-life-of-openstack/css/theme/blood.css', 'presentations/onboarding/js/reveal.min.js', 'presentations/6-months-in-the-life-of-openstack/lib/css/vs.css', 'presentations/6-months-in-the-life-of-openstack/fonts/fontawesome-webfont.eot', 'compare_tarball_diff.sh', 'presentations/6-months-in-the-life-of-openstack/css/theme/white.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.woff', 'presentations/6-months-in-the-life-of-openstack/css/print/pdf.css', 'presentations/6-months-in-the-life-of-openstack/css/theme/dhellmann.css', 'presentations/6-months-in-the-life-of-openstack/lib/js/html5shiv.js', 'presentations/6-months-in-the-life-of-openstack/js/reveal.min.js', 'presentations/onboarding/fonts/fontawesome-webfont.ttf', '.testr.conf', 'presentations/onboarding/css/theme/source/night.scss', 'lp-reset-backport-potential.py', 'presentations/onboarding/plugin/print-pdf/print-pdf.js', 'presentations/6-months-in-the-life-of-openstack/plugin/multiplex/master.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.ttf']",247,86d1a8698cb214f445ff60881dbb5542b085396a,retire-release-tools,,,11,82268
openstack%2Fheat~master~I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c,openstack/heat,master,I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c,[TEST][DMT] check unittest issue,ABANDONED,2018-07-04 03:19:21.000000000,2018-07-04 09:36:24.000000000,,[],"[{'number': 1, 'created': '2018-07-04 03:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9fdec87e2790dce7e5ce56425ba13e4752e163d0', 'message': '[TEST][DMT] check unittest issue\n\nChange-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c\n'}, {'number': 2, 'created': '2018-07-04 07:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0761404b1d33f2f832ee693041af30236fd93c32', 'message': '[TEST][DMT] check unittest issue\n\nDepends-On: https://review.openstack.org/579750\n\nChange-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c\n'}, {'number': 3, 'created': '2018-07-04 08:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/76315a6d6d67b8a27244a73be963b9dd9bb92b58', 'message': '[TEST][DMT] check unittest issue\n\nDepends-On: https://review.openstack.org/579750\n\nChange-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c\n'}, {'number': 4, 'created': '2018-07-04 08:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/efb854dbfef2b0542e91db60bc71147c876bda46', 'message': '[TEST][DMT] check unittest issue\n\nDepends-On: https://review.openstack.org/579750\n\nChange-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c\n'}, {'number': 5, 'created': '2018-07-04 09:04:39.000000000', 'files': ['heat/tests/api/openstack_v1/test_stacks.py', 'requirements.txt', 'heat/tests/test_common_context.py', 'heat/tests/openstack/heat/test_remote_stack.py', 'heat/api/openstack/v1/stacks.py', 'heat/engine/resources/openstack/heat/remote_stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/90095ff6505da056ef30a78e51ba64aed223c40b', 'message': '[TEST][DMT] check unittest issue\n\nDepends-On: https://review.openstack.org/579750\n\nChange-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c\n'}]",0,580023,90095ff6505da056ef30a78e51ba64aed223c40b,8,0,5,12404,,,0,"[TEST][DMT] check unittest issue

Depends-On: https://review.openstack.org/579750

Change-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/580023/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,9fdec87e2790dce7e5ce56425ba13e4752e163d0,bp/multiple-cloud-support,,,1,0
openstack%2Fnova~master~Ia1772057de4e0e5763d354e6b31ffafea959c37c,openstack/nova,master,Ia1772057de4e0e5763d354e6b31ffafea959c37c,[placement] Fix bug in consumer generation handling,ABANDONED,2018-06-25 19:51:12.000000000,2018-07-04 09:34:01.000000000,,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-25 19:51:12.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/allocations-1.28.yaml', 'nova/api/openstack/placement/handlers/allocation.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa95850bbfc7fd90c042311915cce3b7e34c6c28', 'message': ""[placement] Fix bug in consumer generation handling\n\nWhen PUTting allocations to a non-existent consumer, the code expects\nthe consumer generation to be 'null'. When there is only one resource\nprovider in the set of allocations sent, this works well.\n\nUnfortunately when there is more than one resource provider the loop\nwhich calls _new_allocations still uses the 'null' generation but now\nthe code expects the generation to be 0, because the consumer now\nexists.\n\nThis patch fixes the bug by looking at the generation of the newly\ncreated consumer after the first iteration of the loop that calls\n_new_allocations. It then uses that for the next iteration through\nthe loop. The change is made in both PUT and POST allocations, both\nof which use _new_allocations.\n\nThe x-failing test for PUT allocations is now passing, and an additional\ntest has been added for POST.\n\nThis fix is the expedient one. It works with the existing style of how\nensure_consumer works and preserves the HTTP interface that we planned\nbut does it in a way that feels a bit icky: externally the consumer\nshould have no generation at all until there are some allocations.\n\nCloses-Bug: #1778576\nChange-Id: Ia1772057de4e0e5763d354e6b31ffafea959c37c\n""}]",3,577915,aa95850bbfc7fd90c042311915cce3b7e34c6c28,19,15,1,11564,,,0,"[placement] Fix bug in consumer generation handling

When PUTting allocations to a non-existent consumer, the code expects
the consumer generation to be 'null'. When there is only one resource
provider in the set of allocations sent, this works well.

Unfortunately when there is more than one resource provider the loop
which calls _new_allocations still uses the 'null' generation but now
the code expects the generation to be 0, because the consumer now
exists.

This patch fixes the bug by looking at the generation of the newly
created consumer after the first iteration of the loop that calls
_new_allocations. It then uses that for the next iteration through
the loop. The change is made in both PUT and POST allocations, both
of which use _new_allocations.

The x-failing test for PUT allocations is now passing, and an additional
test has been added for POST.

This fix is the expedient one. It works with the existing style of how
ensure_consumer works and preserves the HTTP interface that we planned
but does it in a way that feels a bit icky: externally the consumer
should have no generation at all until there are some allocations.

Closes-Bug: #1778576
Change-Id: Ia1772057de4e0e5763d354e6b31ffafea959c37c
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/577915/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/allocations-1.28.yaml', 'nova/api/openstack/placement/handlers/allocation.py']",2,aa95850bbfc7fd90c042311915cce3b7e34c6c28,bug/1778576," consumer_generation = data.get('consumer_generation') consumer_generation, consumer_generation = new_allocations[0].consumer.generation consumer_generation = new_allocations[0].consumer.generation"," data.get('consumer_generation'),",31,2
openstack%2Fpython-tripleoclient~stable%2Fpike~If0b9a678354b634a2f060df4a6ff1b479967d566,openstack/python-tripleoclient,stable/pike,If0b9a678354b634a2f060df4a6ff1b479967d566,Avoid tox_install.sh for constraints support,MERGED,2018-06-30 18:25:05.000000000,2018-07-04 09:32:01.000000000,2018-07-04 09:32:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-30 18:25:05.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/77b99d617d7406994ba2318c509270163f3c5c67', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: If0b9a678354b634a2f060df4a6ff1b479967d566\n(cherry picked from commit c88f0f4b39cc319d074846003ddc25166bbd01ef)\n'}]",0,579344,77b99d617d7406994ba2318c509270163f3c5c67,11,6,1,14985,,,0,"Avoid tox_install.sh for constraints support

We do not need tox_install.sh, pip can handle constraints itself
and install the project correctly. Thus update tox.ini and remove
the now obsolete tools/tox_install.sh file.

This follows https://review.openstack.org/#/c/508061 to remove
tools/tox_install.sh.

Change-Id: If0b9a678354b634a2f060df4a6ff1b479967d566
(cherry picked from commit c88f0f4b39cc319d074846003ddc25166bbd01ef)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/579344/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,77b99d617d7406994ba2318c509270163f3c5c67,fix-ci,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} -r{toxinidir}/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages} BRANCH_NAME=master CLIENT_NAME=python-tripleoclientdeps = -r{toxinidir}/requirements.txt,4,34
openstack%2Fheat~master~I6580fbbddcbb2952136abc24149bf066e09e5d0a,openstack/heat,master,I6580fbbddcbb2952136abc24149bf066e09e5d0a,[TEST][DMT] check unittest,ABANDONED,2018-07-04 08:38:26.000000000,2018-07-04 09:22:00.000000000,,[],"[{'number': 1, 'created': '2018-07-04 08:38:26.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3b315f058fd7d21d5a418971c4b4e1e965cbe827', 'message': '[TEST][DMT] check unittest\n\nDepends-On: https://review.openstack.org/#/c/578392\nChange-Id: I6580fbbddcbb2952136abc24149bf066e09e5d0a\n'}]",0,580091,3b315f058fd7d21d5a418971c4b4e1e965cbe827,2,0,1,12404,,,0,"[TEST][DMT] check unittest

Depends-On: https://review.openstack.org/#/c/578392
Change-Id: I6580fbbddcbb2952136abc24149bf066e09e5d0a
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/580091/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,3b315f058fd7d21d5a418971c4b4e1e965cbe827,test1,,,1,0
openstack%2Ftripleo-quickstart~master~Ib240c3184fe4a43be26193dd7be2a3adf6845037,openstack/tripleo-quickstart,master,Ib240c3184fe4a43be26193dd7be2a3adf6845037,Switch to the containerized services defaults,MERGED,2018-06-29 07:19:50.000000000,2018-07-04 09:17:36.000000000,2018-07-04 09:17:36.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 13039}, {'_account_id': 17280}, {'_account_id': 18846}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-29 07:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c6e23a9c912b235f81362831814dad035c78da32', 'message': 'Switch to the containerized services defaults\n\n...for queens as well\n\nDepends-On: I923731f46ea26582160a11d2dfe85792ab74110b\n\nChange-Id: Ib240c3184fe4a43be26193dd7be2a3adf6845037\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-07-02 06:32:40.000000000', 'files': ['config/general_config/featureset030.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aae68194f4e56323e05da8ed5b5cb1d5901b3947', 'message': 'Switch to the containerized services defaults\n\n...for queens as well\n\nDepends-On: I923731f46ea26582160a11d2dfe85792ab74110b\n\nChange-Id: Ib240c3184fe4a43be26193dd7be2a3adf6845037\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,579080,aae68194f4e56323e05da8ed5b5cb1d5901b3947,21,11,2,6926,,,0,"Switch to the containerized services defaults

...for queens as well

Depends-On: I923731f46ea26582160a11d2dfe85792ab74110b

Change-Id: Ib240c3184fe4a43be26193dd7be2a3adf6845037
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/80/579080/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset030.yml'],1,c6e23a9c912b235f81362831814dad035c78da32,containers-default-stable/queens, {% if release == 'pike' -%}," {% if release in ['pike', 'queens'] -%}",1,1
openstack%2Fnova~master~I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0,openstack/nova,master,I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0,Remove unnecessary execute permissions of a file,MERGED,2018-07-02 10:42:24.000000000,2018-07-04 09:12:25.000000000,2018-07-02 18:00:31.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24791}, {'_account_id': 25562}]","[{'number': 1, 'created': '2018-07-02 10:42:24.000000000', 'files': ['doc/notification_samples/instance-exists.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/0083b58dc20564b1842c0db110f9588572effc83', 'message': 'Remove unnecessary execute permissions of a file\n\nTrivialFix\nChange-Id: I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0\n'}]",0,579511,0083b58dc20564b1842c0db110f9588572effc83,14,10,1,7634,,,0,"Remove unnecessary execute permissions of a file

TrivialFix
Change-Id: I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/579511/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/notification_samples/instance-exists.json'],1,0083b58dc20564b1842c0db110f9588572effc83,fix_file_permission,,,0,0
openstack%2Fnova~master~I01c68d14ecdfd853b839b527c559c7aac675f336,openstack/nova,master,I01c68d14ecdfd853b839b527c559c7aac675f336,Add api sample tests for security group rules,ABANDONED,2017-03-31 06:22:55.000000000,2018-07-04 09:07:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-31 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5c24410dc83e8d48e2ca7e8b8e90e7f8ec11cb4', 'message': 'Add api sample tests for security group rules\n\napi sample tests for security group rules are missing and so\ntheir sample files.\n\nThis commit adds those which will be used ti fill the api-ref\nfor this API.\n\nChange-Id: I01c68d14ecdfd853b839b527c559c7aac675f336\n'}, {'number': 2, 'created': '2017-04-04 07:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6474dc478c2cc36b859bd37a324e2c29ec4c357d', 'message': 'Add api sample tests for security group rules\n\napi sample tests for security group rules are missing and so\ntheir sample files.\n\nThis commit adds those which will be used ti fill the api-ref\nfor this API.\n\nChange-Id: I01c68d14ecdfd853b839b527c559c7aac675f336\n'}, {'number': 3, 'created': '2017-04-04 07:28:45.000000000', 'files': ['doc/api_samples/os-security-group-rules/security-group-rules-create-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-security-group-rules/security-group-rules-create-resp.json.tpl', 'doc/api_samples/os-security-group-rules/security-group-rules-create-resp.json', 'nova/tests/functional/api_sample_tests/test_security_group_rules.py', 'nova/tests/functional/api_sample_tests/api_samples/os-security-group-rules/security-group-rules-create-req.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac82dedc0f2d12d002c2631186366a7d6bcda16d', 'message': 'Add api sample tests for security group rules\n\napi sample tests for security group rules are missing and so\ntheir sample files.\n\nThis commit adds those which will be used to fill the api-ref\nfor this API.\n\nChange-Id: I01c68d14ecdfd853b839b527c559c7aac675f336\n'}]",9,452055,ac82dedc0f2d12d002c2631186366a7d6bcda16d,33,14,3,8556,,,0,"Add api sample tests for security group rules

api sample tests for security group rules are missing and so
their sample files.

This commit adds those which will be used to fill the api-ref
for this API.

Change-Id: I01c68d14ecdfd853b839b527c559c7aac675f336
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/452055/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-security-group-rules/security-group-rules-create-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-security-group-rules/security-group-rules-create-resp.json.tpl', 'doc/api_samples/os-security-group-rules/security-group-rules-create-resp.json', 'nova/tests/functional/api_sample_tests/test_security_group_rules.py', 'nova/tests/functional/api_sample_tests/api_samples/os-security-group-rules/security-group-rules-create-req.json.tpl']",5,f5c24410dc83e8d48e2ca7e8b8e90e7f8ec11cb4,(detached,"{ ""security_group_rule"": { ""parent_group_id"": ""%(id)s"", ""group_id"": ""%(id)s"", ""ip_protocol"": ""TCP"", ""from_port"": ""80"", ""to_port"": ""80"", ""cidr"": ""10.10.10.0/24"" } } ",,127,0
openstack%2Fnova~master~Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd,openstack/nova,master,Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd,Regression test for bug 1779635,MERGED,2018-07-02 10:16:34.000000000,2018-07-04 09:05:41.000000000,2018-07-02 21:28:43.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 10:16:34.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/resource-provider.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/16812e8979e6a58534b97d031c7d965c3a91f97f', 'message': 'Regression test for bug 1779635\n\nThis patch adds a test that shows that placement allows setting the\nparent of an RP to itself.\n\nChange-Id: Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd\nRelated-Bug: #1779635\n'}]",1,579508,16812e8979e6a58534b97d031c7d965c3a91f97f,20,12,1,9708,,,0,"Regression test for bug 1779635

This patch adds a test that shows that placement allows setting the
parent of an RP to itself.

Change-Id: Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd
Related-Bug: #1779635
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/579508/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/resource-provider.yaml'],1,16812e8979e6a58534b97d031c7d965c3a91f97f,bug/1779635, - name: fail updating a parent to itself PUT: /resource_providers/$ENVIRON['PARENT_PROVIDER_UUID'] request_headers: content-type: application/json data: name: parent parent_provider_uuid: $ENVIRON['PARENT_PROVIDER_UUID'] # this reproduces bug 1779635 as this should be HTTP 400 as we have a loop now # in the tree status: 200,,11,0
openstack%2Fmonasca-ui~master~Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594,openstack/monasca-ui,master,Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594,remove ChangeLog from git,MERGED,2018-07-03 16:32:19.000000000,2018-07-04 09:05:34.000000000,2018-07-04 09:05:34.000000000,"[{'_account_id': 9414}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 16:32:19.000000000', 'files': ['ChangeLog'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/e123ece039a789cc00bce59b897aefac3ea3f3f4', 'message': 'remove ChangeLog from git\n\nThe ChangeLog file is automatically generated by pbr as the package is\nbuilt and does not need to be checked in to git.\n\nChange-Id: Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,579914,e123ece039a789cc00bce59b897aefac3ea3f3f4,7,3,1,2472,,,0,"remove ChangeLog from git

The ChangeLog file is automatically generated by pbr as the package is
built and does not need to be checked in to git.

Change-Id: Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/14/579914/1 && git format-patch -1 --stdout FETCH_HEAD,['ChangeLog'],1,e123ece039a789cc00bce59b897aefac3ea3f3f4,clean-up-packaging-metadata,,"CHANGES ======= * Updates for grafana 2 * Dump thresholds as JSON, not python repr() * Fix pagination of alarm_definitions and alarms 1.0.30 ------ * Imported Translations from Zanata 1.0.29 ------ * Fix functions of translation * Remove unused field, add translation target and some adjustments * Imported Translations from Zanata * Display all alarms without service * Imported Translations from Zanata * KibanaProxyView does not forward headers * Change Git URL from GitHub to OpenStack 1.0.28 ------ * This is a preparation for using Zanata * Make timezone memorized when press next(prev) button in alarm history * Fix the label * Enhance changing page button of list in monasca-ui * Fix edit notification page field is too small * Add help tooltips to creating dialogues * Add rouded borders to the dimension field * Drop MANIFEST.in - it's not needed with PBR * Enhance changing page button of list in monasca-ui * remove python 2.6 trove classifier * FIX Overview page to be able to handle multibyte characters * Move Grafana to Apache's DocumentRoot * Sync Django with Horizon requirement * Fix letter case of some words * FIX the page title * FIX the description for Notification * FIX the alarm filter dialog for i18n * Deprecated tox -downloadcache option removed * Adding support for ng strict checks * Delete python bytecode before every test run * Change link from stackforge to openstack * Make alarm groups configurable on overview page * Make match_by item configurable in create alarm definition dialog * UTC/Browser time as timestamp display format * Make notification more readable - leftover * Notification more readable in create alarm dialog * Change repositories from stackforge to openstack * Update .gitreview for new namespace * Allow to specify different static url in js * Scope requests to horizon scoped region * Read STATIC_URL from Horizon settings * UTC/Browser time as timestamp display format * Fix sorting timestamp column in alarm history table * The ""Create Alarm Definition"" dialog is closed unintentionally * Simple Kibana integration * Allow per-project grafana dashboards * Fix unittests * FIX the page title * added ability to filter all alarms with parameters in modal 1.0.27 ------ * fixed overview service/hostname bug * Added alarm definition pagination and notification * Add the ability to disable the notification panel * Provide default limit and offset for alarm_list * Wrapped the table cells to maintain alignment 1.0.26 ------ * Changed Edit Alarm to Edit Notification * Fixed metric selection in both Chrome and Firefox * Fix for retrieving alarms * Wrapped the metric chooser to handle long metrics * Added Alarm Id to the alarms tables * Added the SQL pagination for Alarms with offset and limit * Added pagination to the alarms table view * Response error message changed The error message was changed to make it more user friendly with a message that is more clear about the unsupported operation 2015.1 ------ * Modifying the README for grafana 1.0.25 ------ * Grabbing the list_measurements when getting metrics_list * alarams graph link broken * Allow dynamic dashboard links 1.0.24 ------ * correct tokens present in url requests 1.0.23 ------ * Fixed display of HTTP exceptions * Format timestamp to be easier to read and sortable 1.0.22 ------ * Handle api returning dict rather than list * Reformat info so it displays well with older horizon versions * move alarm defintion name to be second column since it is useful to recognize alarm * Added Pagerduty to Notification UI * Added a config file for documentation generation using Markdown and readthedocs.org 1.0.21 ------ * Clear leftover text when focus moves from dimension chooser * Add general alarm information to top of alarm history * Adding common alarm metrics dimensions to state change history * Since API does not support actions_enabled on create, don't show in form * Change layout of alarmdef detail to match the latest horizon CSS * Show dashboard buttons on the same line 1.0.20 ------ * Sort alarms by status initially * Show label with status icon. Improves sorting as well * Modify README to include steps to set up dev environment * Outputting common dimensions for multiple metrics * Added a button for the Monasca Health dashboard https://blueprints.launchpad.net/monasca/+spec/monitoring-of-monitoring * Fix filter action logic to allow server side filtering in future * Fixed a dead link in the documentation to alarm expressions. Changed it to the github repo docs * Remove some old unused code 1.0.19 ------ * Allow edits to threshold value * Use relative path from overview to alarm drill down * Add support for non-default WSGIScriptAlias * Ensure that dimensions do not extend beyond field * Backout change for dimension length. No break characters * Allow bulk delete of notifications * Fix layout of metrics with long dimension * Adding option to select WEBHOOK notification 1.0.18 ------ * Cleanup up templates and docs for forms * Fix validation of notification fields * Clean up some small changes 1.0.17 ------ * Pass in monasca-api endpoint to grafana * Only show panesl when the service is in catalog * Pare down requirements.txt to minimum * Added monasca-ui permissions policy * Moved files for better egg packaging 1.0.16 ------ * Allow service type to be customized * Fix bug where we were not saving threshold values in expression editor 1.0.15 ------ * One more place to remap attribute 1.0.14 ------ * Use new layout for alarms JSON 1.0.13 ------ * Display fields from definitions in alarms Display services and hosts in overview panel 1.0.12 ------ * Implement match by for alarm definitions * Remove docutils pin * Show more interesting columns in Alarms table * Move expression field to angularjas so that fields line up better * Filter out dimensions with the typeahead text * Improve expression layout 1.0.11 ------ * Alarm Definition bug fixes 1.0.10 ------ * Changes to work with alarm definition * Add Alarm Definition Make changes to UI to differentiate between alarms and alarm definitions. At some point the backend of Monasca will change to support this and then we will use the new APIs. But for now, this exposes the user model but still uses the existing underlying alarm data model 1.0.9 ----- * Use openstack.json dashboard in grafana 1.0.8 ----- * Allow bulk deletion of alarms * Change detail panel to take over screen * Pass threshold to drilldown script in grafana * Only support email for notifications * Add ability to group by dimension for service health 1.0.7 ----- * Add and remove from all 3 notification lists for alarms * Remove trailing / from endpoint * Find monasca api endpoint from Keystone's service catalog * Move service health view into new overview panel * In Create Alarm dialog, show metrics that match currently selected criteria * Add Graphh Metric button to lauunch grafana 1.0.6 ----- * Use data_files to install data files * Update buttons to bootstrap3, add icons, add filter * Move local_settings to config 1.0.5 ----- * Fill in expression fields when there is a form redraw * fix max size of autocomplete parameter * Add local_settings.py to setup.cfg so it gets installed 1.0.4 ----- * Change styles to match new version of bootstrap in horizon * Move service health configuration to local_settings * Quit calling ajax when there is an error * Add unit tests 1.0.3 ----- * Move from overcloud dashboard to monitoring * Validate expression and return better errors to user * Update README with latest instructions for dev environment * Fix key error on compound alarm expressions * Updated ChangeLog 1.0.2 ----- * using python-monascaclient instead of old python-monclient * Use default system dashboard * Save enabled field on alarm edit * Remove mocked up show metrics action * Bump hacking to 0.9.x series 1.0.1 ----- * setup.cfg and README name change 1.0.0 ----- * Add .gitreview and tox.ini files * Don't hardcode grafana URL * Add grafana * Updated ChangeLog * Changes to work with api keystone. Changes for tests * Resolve all pep8 issues * Enable unit and pep8 tests * Implement dimension chooser angular field * alarms detail and edit catch monclient exception, pep8 changes * Show description instead of expression in alarms table * Fix problem where form validation failed for alarms with notifications * Allow deletion of notifications from alarms * Refactor template files for alarms * Dynamically update status without refreshing page * removed clear alarm option * Remove unused import * Added Notification update * Modified ChangeLog * Forgot to checkin tables.py for notifications * New version to changelog * ChangeLog new version info, alarm history removed reason_data for now * Notification list, Notification delete, and Notification create action and button * Alarms History added * Fix notification create * Allow editing of notifications. Fix templates to new url * Change path to panel * Clean up notifications to remove old code * Give the chicklets a minimum width for consistency * Add Clear Alarm action to alarms table * Refactor to make alarms and notifications as panels * Give the chicklets a minimum width for consistency * Add Clear Alarm action to alarms table * First pass at refactor notifications * Filter metrics based on selected service * Track the service that the alarm view uses so that it can be naviagated to * Version 1.0.1 included packages cosmos,enabled in setup.cfg * Added top level ChangeLog * pypi packaging files * Make delete alarm last action in menu. Remove demo data * Tweak layout of chicklets * Make project_id configurable in settings * Redesign chicklets based on UX feedback * Pick up new icons from Piet in UX * Allow editing of alarm expressions. Remap severity * Show service by status on index page * Remove some wierd characters that got added * Fix all pep8 errors except demo code in views * Fix some remaining paths for includes * Make status color correct. Move images to constants * Add expression field. Make endpoint configurable * Hard code tenant id. Place framework for list meters * Remove demo data for alarms list * Remove panel group Other in dashboard * Add enabled field * Changes to support AlarmServiceView * Add new templates for Alarm Edit * Add alarm edit * Migrate API to new signtures. Add Alarm delete * Add button to list all alarms * Set DEFAULT_PANEL to monitoring panel * Add in Cosmos dashboard * Add cosmos dashboard * Add Create Notification button to table * Update README.md * Switch to overcloud dashboard * Progress on alarms (details and create) * Add forms for alarms and partially for notifications * Initial installer work * Changes for demo * Snapshot latest * Latest changes * Update README.md * Update README.md * Create README.md * Restructure tree * Initial UI (only mockup) ",0,359
openstack%2Fnetworking-midonet~master~I6169fa7c0e74e4678a46980f66b0ee05bd781da6,openstack/networking-midonet,master,I6169fa7c0e74e4678a46980f66b0ee05bd781da6,autodoc: Mock neutron and neutron_lib,ABANDONED,2018-07-03 04:28:50.000000000,2018-07-04 09:03:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 04:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/60e73f1af601c83617aed54bf299afeb80ae9924', 'message': 'autodoc: Mock neutron_lib\n\nChange-Id: I6169fa7c0e74e4678a46980f66b0ee05bd781da6\n'}, {'number': 2, 'created': '2018-07-04 08:39:15.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bd82058cf98df6066421937f378e4c25abb8779f', 'message': 'autodoc: Mock neutron and neutron_lib\n\nChange-Id: I6169fa7c0e74e4678a46980f66b0ee05bd781da6\n'}]",0,579761,bd82058cf98df6066421937f378e4c25abb8779f,5,1,2,6854,,,0,"autodoc: Mock neutron and neutron_lib

Change-Id: I6169fa7c0e74e4678a46980f66b0ee05bd781da6
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/61/579761/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,60e73f1af601c83617aed54bf299afeb80ae9924,bug/1779801," # bug/1779801 'neutron_lib',",,2,0
openstack%2Frequirements~stable%2Fqueens~I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37,openstack/requirements,stable/queens,I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37,"Revert ""add neutron-lbaas to global-requirements""",MERGED,2018-07-03 01:21:29.000000000,2018-07-04 09:01:24.000000000,2018-07-04 09:01:23.000000000,"[{'_account_id': 2}, {'_account_id': 5367}, {'_account_id': 6579}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 01:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8cb8b4570b72993c8c52b6255091245843beb041', 'message': 'Revert ""add neutron-lbaas to global-requirements""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.\n\nThis reverts commit abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd.\n\nChange-Id: I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37\n'}, {'number': 2, 'created': '2018-07-03 17:54:32.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/99131cfb8ec7643fc331000623676f3e3b1448d8', 'message': 'Revert ""add neutron-lbaas to global-requirements""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.\n\nThis reverts commit abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd.\n\nChange-Id: I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37\n'}]",0,579725,99131cfb8ec7643fc331000623676f3e3b1448d8,14,7,2,11628,,,0,"Revert ""add neutron-lbaas to global-requirements""

This breaks the stable branches. We don't constrain any of the
neutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.

This reverts commit abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd.

Change-Id: I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/579725/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,8cb8b4570b72993c8c52b6255091245843beb041,bug/1778054,,neutron-lbaas>=12.0.0 # Apache-2.0,0,1
openstack%2Frequirements~stable%2Fqueens~I5c8c1926d7ce3f812ad80e5435f19ced601aae13,openstack/requirements,stable/queens,I5c8c1926d7ce3f812ad80e5435f19ced601aae13,Remove spec-cleaner from upper-constraints/gr tracking,MERGED,2018-07-03 17:53:54.000000000,2018-07-04 09:01:23.000000000,2018-07-04 09:01:23.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 17:53:54.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0149c941feb0b7b0c381ed800501335dea78b220', 'message': 'Remove spec-cleaner from upper-constraints/gr tracking\n\nspec-cleaner is used for rpm-packaging spec linting, it is not intended\nas an OpenStack dependency per se. This could be added as a blacklisted\nitem as all the other linters are but rpm-packaging itself is not a\ntracked project so it is not required to add it there.\n\nChange-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13\n'}]",0,579938,0149c941feb0b7b0c381ed800501335dea78b220,8,3,1,6593,,,0,"Remove spec-cleaner from upper-constraints/gr tracking

spec-cleaner is used for rpm-packaging spec linting, it is not intended
as an OpenStack dependency per se. This could be added as a blacklisted
item as all the other linters are but rpm-packaging itself is not a
tracked project so it is not required to add it there.

Change-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/579938/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,0149c941feb0b7b0c381ed800501335dea78b220,,,spec-cleaner===1.0.1,0,2
openstack%2Foctavia~master~Idaf608c6e5fd2fa74a68c3b562be441a20107a50,openstack/octavia,master,Idaf608c6e5fd2fa74a68c3b562be441a20107a50,Enable oslo_config mutable configurations,MERGED,2018-07-01 19:16:18.000000000,2018-07-04 08:57:16.000000000,2018-07-04 08:57:16.000000000,"[{'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-01 19:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0f4e0a0c7ef73d545cc04d6aac55bd260ee612cf', 'message': 'Enable oslo_config mutable configurations\n\nThis patch enables oslo_config mutable configuration for the Octavia\ncontrol plane processes. The configuration will be updated when the\nparent process receives a HUP signal.\nThis completes the Rocky goal: Enable mutable configuration.\n\nChange-Id: Idaf608c6e5fd2fa74a68c3b562be441a20107a50\nStory: 2001545\nTask: 6391\n'}, {'number': 2, 'created': '2018-07-01 23:45:31.000000000', 'files': ['octavia/cmd/health_manager.py', 'octavia/cmd/house_keeping.py', 'releasenotes/notes/enable-mutable-configuration-1d7f62a133148767.yaml', 'octavia/cmd/octavia_worker.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'octavia/tests/unit/cmd/test_health_manager.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5021e0f5471871680f3a043f677f59a274be38d2', 'message': 'Enable oslo_config mutable configurations\n\nThis patch enables oslo_config mutable configuration for the Octavia\ncontrol plane processes. The configuration will be updated when the\nparent process receives a HUP signal.\nThis completes the Rocky goal: Enable mutable configuration.\n\nChange-Id: Idaf608c6e5fd2fa74a68c3b562be441a20107a50\nStory: 2001545\nTask: 6391\n'}]",0,579391,5021e0f5471871680f3a043f677f59a274be38d2,11,4,2,11628,,,0,"Enable oslo_config mutable configurations

This patch enables oslo_config mutable configuration for the Octavia
control plane processes. The configuration will be updated when the
parent process receives a HUP signal.
This completes the Rocky goal: Enable mutable configuration.

Change-Id: Idaf608c6e5fd2fa74a68c3b562be441a20107a50
Story: 2001545
Task: 6391
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/579391/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/health_manager.py', 'octavia/cmd/house_keeping.py', 'releasenotes/notes/enable-mutable-configuration-1d7f62a133148767.yaml', 'octavia/cmd/octavia_worker.py']",4,0f4e0a0c7ef73d545cc04d6aac55bd260ee612cf,," oslo_config_glue.setup(sm, CONF, reload_method=""mutate"")"," oslo_config_glue.setup(sm, CONF)",27,1
openstack%2Fnova~master~Ieee66aee7bef4f0839e8934916b133d051aadfbe,openstack/nova,master,Ieee66aee7bef4f0839e8934916b133d051aadfbe,"[Ugly POC] Addition of ""unavailable_servers"" key to GET /servers response",ABANDONED,2018-06-17 19:41:34.000000000,2018-07-04 08:54:49.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-06-17 19:41:34.000000000', 'files': ['nova/compute/instance_list.py', 'nova/api/openstack/compute/views/servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py', 'nova/compute/multi_cell_list.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/521d2e50200a42a2eb3184fa95f6b456d38118f6', 'message': '[Ugly POC] Addition of ""unavailable_servers"" key to GET /servers response\n\nThe patch is only a WIP/POC, does not do any version bumps yet, because\nthe logic is still being explored. This is being proposed only for\npushing the alternative option listed in the handling-down-cell spec\nforward.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Ieee66aee7bef4f0839e8934916b133d051aadfbe\n'}]",13,575996,521d2e50200a42a2eb3184fa95f6b456d38118f6,21,15,1,26936,,,0,"[Ugly POC] Addition of ""unavailable_servers"" key to GET /servers response

The patch is only a WIP/POC, does not do any version bumps yet, because
the logic is still being explored. This is being proposed only for
pushing the alternative option listed in the handling-down-cell spec
forward.

Related to blueprint handling-down-cell

Change-Id: Ieee66aee7bef4f0839e8934916b133d051aadfbe
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/575996/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/instance_list.py', 'nova/api/openstack/compute/views/servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py', 'nova/compute/multi_cell_list.py']",5,521d2e50200a42a2eb3184fa95f6b456d38118f6,bp/handling-down-cell,"from nova import objects unavailable_instances = [] cell = objects.CellMapping.get_by_uuid(ctx, k) instance_mappings = objects.InstanceMappingList.get_by_cell_id( ctx, cell.id) for im in instance_mappings: if not im.queued_for_delete: req_spec = objects.RequestSpec.get_by_instance_uuid( ctx, im.instance_uuid) flavor = req_spec.flavor unavailable_instances.append({ 'flavor': flavor, 'power_state': 0, 'image_ref': req_spec.image.id, 'created_at': (im.created_at).replace(tzinfo=None), 'id': im.instance_uuid, 'availability_zone': req_spec.availability_zone, 'project_id': im.project_id, }) # undoubtedly ugly yielding/ not sure if the above logic of querying # for uuids from instance_mapping table should be done here or higher # up in the stack. If done higher up, not sure how to connect the # ""is the cell down? and if yes, which cell"" part to querying from # API DB. yield unavailable_instances",,47,15
openstack%2Fnova~master~Ie4eddda36439e6746cb2d97e43b91f63d835877b,openstack/nova,master,Ie4eddda36439e6746cb2d97e43b91f63d835877b,conf: Resolve Sphinx errors,MERGED,2018-07-02 13:01:01.000000000,2018-07-04 08:42:05.000000000,2018-07-03 19:02:52.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 13:01:01.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/notifications.py', 'nova/conf/devices.py', 'nova/conf/guestfs.py', 'nova/conf/libvirt.py', 'nova/conf/spice.py', 'nova/conf/cells.py', 'nova/conf/scheduler.py', 'nova/conf/configdrive.py', 'nova/conf/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2b790e8e84404e236bfccc8fd30ddb393aa184f', 'message': 'conf: Resolve Sphinx errors\n\nThis resolves all the warnings currently emitted by oslo.config for nova\nand makes the output nicer looking to boot. There are still some issues\nbut these lie without other projects (osprofiler, oslo.db) and will be\nresolved in a future update of those packages.\n\nChange-Id: Ie4eddda36439e6746cb2d97e43b91f63d835877b\n'}]",13,579545,e2b790e8e84404e236bfccc8fd30ddb393aa184f,17,13,1,15334,,,0,"conf: Resolve Sphinx errors

This resolves all the warnings currently emitted by oslo.config for nova
and makes the output nicer looking to boot. There are still some issues
but these lie without other projects (osprofiler, oslo.db) and will be
resolved in a future update of those packages.

Change-Id: Ie4eddda36439e6746cb2d97e43b91f63d835877b
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/579545/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/notifications.py', 'nova/conf/devices.py', 'nova/conf/guestfs.py', 'nova/conf/libvirt.py', 'nova/conf/spice.py', 'nova/conf/cells.py', 'nova/conf/configdrive.py', 'nova/conf/scheduler.py', 'nova/conf/wsgi.py']",10,e2b790e8e84404e236bfccc8fd30ddb393aa184f,bug/1755783,"* Valid HTTP header, like ``HTTP_X_FORWARDED_PROTO``","* Valid HTTP header, like HTTP_X_FORWARDED_PROTO",39,32
openstack%2Fnova~master~If9d6747f8e894c1a78a6d89961a3fa2bc6459465,openstack/nova,master,If9d6747f8e894c1a78a6d89961a3fa2bc6459465,Request only instance_uuid in ironic node list,MERGED,2018-01-31 12:08:45.000000000,2018-07-04 08:41:46.000000000,2018-07-02 20:04:06.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11564}, {'_account_id': 13689}, {'_account_id': 14384}, {'_account_id': 14826}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}, {'_account_id': 27702}]","[{'number': 1, 'created': '2018-01-31 12:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af4ba517baf7a2abf8d366643fc3db8283d625de', 'message': 'Request only instance_uuid in ironic node list\n\nFor list_instances and list_instance_uuids in the ironic virt driver, we\nonly need the instance_uuid field of ironic nodes, so restrict the\nnode list request to include only that field.\n\nChange-Id: If9d6747f8e894c1a78a6d89961a3fa2bc6459465\nRelated-Bug: #1746209\n'}, {'number': 2, 'created': '2018-03-21 18:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b9215586aa069c1ba1a087f4963d9db4e4fe17f', 'message': 'Request only instance_uuid in ironic node list\n\nFor list_instances and list_instance_uuids in the ironic virt driver, we\nonly need the instance_uuid field of ironic nodes, so restrict the\nnode list request to include only that field.\n\nChange-Id: If9d6747f8e894c1a78a6d89961a3fa2bc6459465\nRelated-Bug: #1746209\n'}, {'number': 3, 'created': '2018-04-03 13:44:30.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e91fc7da82755358ae6523842d19968f3ac269de', 'message': 'Request only instance_uuid in ironic node list\n\nFor list_instances and list_instance_uuids in the ironic virt driver, we\nonly need the instance_uuid field of ironic nodes, so restrict the\nnode list request to include only that field.\n\nChange-Id: If9d6747f8e894c1a78a6d89961a3fa2bc6459465\nRelated-Bug: #1746209\n'}]",3,539509,e91fc7da82755358ae6523842d19968f3ac269de,60,20,3,14826,,,0,"Request only instance_uuid in ironic node list

For list_instances and list_instance_uuids in the ironic virt driver, we
only need the instance_uuid field of ironic nodes, so restrict the
node list request to include only that field.

Change-Id: If9d6747f8e894c1a78a6d89961a3fa2bc6459465
Related-Bug: #1746209
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/539509/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,af4ba517baf7a2abf8d366643fc3db8283d625de,bug/1746209," nodes.append(ironic_utils.get_test_node(instance_uuid=uuid, fields=['instance_uuid'])) mock_call.assert_called_with(""node.list"", associated=True, fields=['instance_uuid'], limit=0) mock_call.assert_called_with(""node.list"", associated=True, fields=['instance_uuid'], limit=0) instance_uuid=uuidutils.generate_uuid(), fields=['instance_uuid'])) mock_call.assert_called_with('node.list', associated=True, fields=['instance_uuid'], limit=0)"," nodes.append(ironic_utils.get_test_node(instance_uuid=uuid)) mock_call.assert_called_with(""node.list"", associated=True, limit=0) mock_call.assert_called_with(""node.list"", associated=True, limit=0) instance_uuid=uuidutils.generate_uuid())) mock_call.assert_called_with('node.list', associated=True, limit=0)",15,8
openstack%2Fopenstack-ansible-ops~master~I5964a7ac3f142434eef76e5fab77299d3a29a651,openstack/openstack-ansible-ops,master,I5964a7ac3f142434eef76e5fab77299d3a29a651,fix tox python3 overrides,ABANDONED,2018-07-03 07:44:55.000000000,2018-07-04 08:38:33.000000000,,"[{'_account_id': 19853}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 07:44:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a204df48bea196d6475069f3a1481ee855478b11', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because of that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I5964a7ac3f142434eef76e5fab77299d3a29a651\n'}]",0,579797,a204df48bea196d6475069f3a1481ee855478b11,5,2,1,28427,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because of that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I5964a7ac3f142434eef76e5fab77299d3a29a651
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/97/579797/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a204df48bea196d6475069f3a1481ee855478b11,fix_tox_python3_overrides,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,6,0
openstack%2Frpm-packaging~stable%2Fqueens~I5a901ade60949af2c5246ce1ae1877d7feb37b4d,openstack/rpm-packaging,stable/queens,I5a901ade60949af2c5246ce1ae1877d7feb37b4d,Use python3 as python for envs as spec_cleaner dropped python2,MERGED,2018-07-02 13:16:18.000000000,2018-07-04 08:24:38.000000000,2018-07-04 08:24:38.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-02 13:16:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/75cb259975056fdcdac5804532f1f10eb93a110e', 'message': 'Use python3 as python for envs as spec_cleaner dropped python2\n\nhttps://github.com/openSUSE/spec-cleaner/issues/234\n\nChange-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d\n'}]",0,579549,75cb259975056fdcdac5804532f1f10eb93a110e,9,4,1,23735,,,0,"Use python3 as python for envs as spec_cleaner dropped python2

https://github.com/openSUSE/spec-cleaner/issues/234

Change-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/49/579549/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,75cb259975056fdcdac5804532f1f10eb93a110e,,basepython = python3,,1,0
openstack%2Fmonasca-agent~master~Ieb4039e5af8d876218ce9b20d6f293c3dff989a9,openstack/monasca-agent,master,Ieb4039e5af8d876218ce9b20d6f293c3dff989a9,Python3: Make monasca-setup compatible with py35,MERGED,2018-06-20 10:09:55.000000000,2018-07-04 08:21:54.000000000,2018-07-04 08:21:54.000000000,"[{'_account_id': 16222}, {'_account_id': 19853}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2018-06-20 10:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f16f7b85defb9845e90d28d2fbbfbd74e818171d', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 2, 'created': '2018-06-20 10:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1b76c498692a81593b63aa6e23f5d53bebb6c9b5', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 3, 'created': '2018-06-20 10:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a9c216b2ceb3fd64ee83100f26991aceee1e94c7', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 4, 'created': '2018-06-20 11:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/cbac354734f0dc40306287c83e532e6ea75a72bc', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 5, 'created': '2018-06-22 10:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/42562313a9ffc90f2596269b33b8076dd6280bf8', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 6, 'created': '2018-07-02 07:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d8257fbedcf9ec4cef9c0aff20d3712ed1aa3ee0', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 7, 'created': '2018-07-02 08:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3f1e90f87bbffa2abd067a3971ffcb1a2c9ee6c8', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 8, 'created': '2018-07-02 09:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a9a90ef0df3f709eddf861ab675bd8cf111dedbc', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 9, 'created': '2018-07-02 09:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/79cdfd71239004c578efc3ee9cca96cbdc043e2d', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 10, 'created': '2018-07-03 06:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/bbe05ff13bd310493d3d3add4e8dc2ae4668e0ff', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 11, 'created': '2018-07-03 07:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/484ce8f6fc08c0f600d7e8c52b56cbc20bc970fb', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 12, 'created': '2018-07-03 09:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1e142646df956a8789dd8661663a48599630f066', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}, {'number': 13, 'created': '2018-07-03 13:09:07.000000000', 'files': ['monasca_setup/detection/args_plugin.py', 'monasca_setup/detection/plugins/apache.py', 'monasca_setup/detection/__init__.py', 'monasca_setup/detection/plugins/congestion.py', 'monasca_setup/agent_config.py', 'monasca_setup/main.py', 'monasca_setup/detection/plugins/ovs.py', 'monasca_setup/detection/plugins/vcenter.py', 'monasca_setup/detection/plugin.py', 'monasca_agent/common/util.py', 'monasca_setup/utils.py', 'monasca_setup/detection/plugins/rabbitmq.py', 'monasca_setup/detection/service_plugin.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/92ac626c9b6d6b93ce7bdd8b93006d7f92efd151', 'message': 'Python3: Make monasca-setup compatible with py35\n\nChange-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9\n'}]",2,576815,92ac626c9b6d6b93ce7bdd8b93006d7f92efd151,32,6,13,26141,,,0,"Python3: Make monasca-setup compatible with py35

Change-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/15/576815/9 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_setup/detection/plugins/apache.py', 'monasca_setup/detection/__init__.py', 'monasca_setup/service/__init__.py', 'monasca_setup/detection/plugins/congestion.py', 'monasca_setup/agent_config.py', 'monasca_setup/main.py', 'monasca_setup/detection/plugins/ovs.py', 'monasca_setup/detection/plugins/vcenter.py', 'monasca_setup/detection/plugin.py', 'monasca_agent/common/util.py', 'monasca_setup/utils.py', 'monasca_setup/detection/plugins/rabbitmq.py', 'monasca_setup/detection/service_plugin.py', 'monasca-agent']",14,f16f7b85defb9845e90d28d2fbbfbd74e818171d,goal-python35,/vagrant_home/dev/monasca-agent,,38,33
openstack%2Fansible-role-tripleo-modify-image~master~I15284189fda16514f7ba70b95ab551d58eca7ab1,openstack/ansible-role-tripleo-modify-image,master,I15284189fda16514f7ba70b95ab551d58eca7ab1,Remove previous yum.repos.d to only used the custom ones,MERGED,2018-07-03 08:17:28.000000000,2018-07-04 08:15:34.000000000,2018-07-04 08:15:34.000000000,"[{'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 13039}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-07-03 08:17:28.000000000', 'files': ['templates/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a9055e351b31e3370fe2c868e45bda3bf1526460', 'message': 'Remove previous yum.repos.d to only used the custom ones\n\nThere are some repos that are deactivated in the hosts\nbut not deactivated in the docker images, like\nCentOS-QEMU-EV.repo, this patch remove the old repos dir\nto just use the the ones injected.\n\nChange-Id: I15284189fda16514f7ba70b95ab551d58eca7ab1\nCloses-Bug: 1779642\n'}]",5,579803,a9055e351b31e3370fe2c868e45bda3bf1526460,15,8,1,27898,,,0,"Remove previous yum.repos.d to only used the custom ones

There are some repos that are deactivated in the hosts
but not deactivated in the docker images, like
CentOS-QEMU-EV.repo, this patch remove the old repos dir
to just use the the ones injected.

Change-Id: I15284189fda16514f7ba70b95ab551d58eca7ab1
Closes-Bug: 1779642
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/03/579803/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/Dockerfile.j2'],1,a9055e351b31e3370fe2c868e45bda3bf1526460,bug/1779642,RUN rm -rf /etc/yum.repos.d/,,1,0
openstack%2Frequirements~stable%2Fqueens~I2d94f1a470468eda6508845635b5878f77445d97,openstack/requirements,stable/queens,I2d94f1a470468eda6508845635b5878f77445d97,update spec-cleaner global-requirement for py3 only versions,ABANDONED,2018-07-03 17:47:07.000000000,2018-07-04 07:33:42.000000000,,"[{'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 17:47:07.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d6331327750821bd2b12d778cd23e7bcebddfdd2', 'message': 'update spec-cleaner global-requirement for py3 only versions\n\nupper-constraints.txt does not need updating as 1.0.1 supports\npy2 and py3.\n\nChange-Id: I2d94f1a470468eda6508845635b5878f77445d97\n'}]",0,579936,d6331327750821bd2b12d778cd23e7bcebddfdd2,7,6,1,14288,,,0,"update spec-cleaner global-requirement for py3 only versions

upper-constraints.txt does not need updating as 1.0.1 supports
py2 and py3.

Change-Id: I2d94f1a470468eda6508845635b5878f77445d97
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/579936/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d6331327750821bd2b12d778cd23e7bcebddfdd2,spec-cleaner-py3,"spec-cleaner>=0.8.2,!=0.9.3,<1.0.9;python_version<'3.0' # BSD spec-cleaner>=0.8.2,!=0.9.3;python_version>='3.0' # BSD","spec-cleaner>=0.8.2,!=0.9.3 # BSD",2,1
openstack%2Fnetworking-bgpvpn~master~I40023fbda656ce213e28a9fa702df91d1f910007,openstack/networking-bgpvpn,master,I40023fbda656ce213e28a9fa702df91d1f910007,point requirements to pre-rocky neutron,ABANDONED,2018-07-04 06:33:10.000000000,2018-07-04 07:16:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-04 06:33:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d4854a4e7e165c37d152d540138bd2e91feecf69', 'message': 'point requirements to pre-rocky neutron\n\nThis will:\n- reflect better what is the real dependency we have\n  (when rocky will ship we will have neutron>=13.0.0.0)\n- hopefully fix the functional test that does not\n  benefit from the tox-siblings black magic which\n  allows tox jobs to automatically use neutron from master\n\nChange-Id: I40023fbda656ce213e28a9fa702df91d1f910007\n'}]",0,580048,d4854a4e7e165c37d152d540138bd2e91feecf69,3,1,1,12021,,,0,"point requirements to pre-rocky neutron

This will:
- reflect better what is the real dependency we have
  (when rocky will ship we will have neutron>=13.0.0.0)
- hopefully fix the functional test that does not
  benefit from the tox-siblings black magic which
  allows tox jobs to automatically use neutron from master

Change-Id: I40023fbda656ce213e28a9fa702df91d1f910007
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/48/580048/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d4854a4e7e165c37d152d540138bd2e91feecf69,fix_functional,neutron>=13.0.0.0b1 # Apache-2.0,neutron>=12.0.0 # Apache-2.0,1,1
openstack%2Fnetworking-bagpipe~master~Iab04f573c82f8ffa8d01b0bd417e5febdd768bff,openstack/networking-bagpipe,master,Iab04f573c82f8ffa8d01b0bd417e5febdd768bff,sync requirements,ABANDONED,2018-07-03 11:52:12.000000000,2018-07-04 07:10:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 11:52:12.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5e288a183898f38b1f9a38f4e09f08713f577128', 'message': 'sync requirements\n\nChange-Id: Iab04f573c82f8ffa8d01b0bd417e5febdd768bff\n'}]",0,579847,5e288a183898f38b1f9a38f4e09f08713f577128,3,1,1,12021,,,0,"sync requirements

Change-Id: Iab04f573c82f8ffa8d01b0bd417e5febdd768bff
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/47/579847/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,5e288a183898f38b1f9a38f4e09f08713f577128,update_reqs,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",1,2
openstack%2Fkolla~master~I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf,openstack/kolla,master,I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf,Unified install_pip macros,ABANDONED,2018-06-22 10:54:26.000000000,2018-07-04 07:06:45.000000000,,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 10:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/48a3b3b8a35d1224b312e1d63f255954a786d7b7', 'message': 'TrivialFix: Remove the redundant ""RUN"" instruction of Dockerfile\n\nChange-Id: I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf\n'}, {'number': 2, 'created': '2018-06-22 15:03:05.000000000', 'files': ['docker/swift/swift-proxy-server/Dockerfile.j2', 'docker/helm-repository/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/macros.j2', 'docker/neutron/neutron-server/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/dind/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/437b7d69f0d88cd347fe375505962174c576fe2d', 'message': 'Unified install_pip macros\n\nChange-Id: I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf\n'}]",0,577392,437b7d69f0d88cd347fe375505962174c576fe2d,7,3,2,19779,,,0,"Unified install_pip macros

Change-Id: I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/577392/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/swift/swift-proxy-server/Dockerfile.j2'],1,48a3b3b8a35d1224b312e1d63f255954a786d7b7,unified-macros,"{{ macros.install_pip(swift_proxy_server_pip_packages | customizable(""pip_packages"")) }}","RUN {{ macros.install_pip(swift_proxy_server_pip_packages | customizable(""pip_packages"")) }}",1,1
openstack%2Fswift~master~I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a,openstack/swift,master,I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a,swob.Match: remove quotes when checking __contains__,MERGED,2018-03-26 22:02:17.000000000,2018-07-04 06:34:17.000000000,2018-07-04 06:34:17.000000000,"[{'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 22:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8b833ed09d1123a8afc88643818b97563828632', 'message': ""swob.Match: remove quotes when checking __contains__\n\nIf we're going to drop the quotes during initialization, we should\nprobably drop them when making comparisons, too.\n\nChange-Id: I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a\n""}, {'number': 2, 'created': '2018-06-27 23:53:05.000000000', 'files': ['swift/common/swob.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/158d4c28b224d3c9064df3352e98432e81355c4d', 'message': ""swob.Match: remove quotes when checking __contains__\n\nIf we're going to drop the quotes during initialization, we should\nprobably drop them when making comparisons, too.\n\nChange-Id: I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a\n""}]",0,556664,158d4c28b224d3c9064df3352e98432e81355c4d,11,4,2,15343,,,0,"swob.Match: remove quotes when checking __contains__

If we're going to drop the quotes during initialization, we should
probably drop them when making comparisons, too.

Change-Id: I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/556664/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/swob.py', 'test/unit/common/test_swob.py']",2,e8b833ed09d1123a8afc88643818b97563828632,556664," self.assertIn('""a""', match) self.assertNotIn('""""a""""', match) self.assertNotIn(None, match) self.assertIn('""a""', match) self.assertIn('""""a""""', match) self.assertIn(None, match) self.assertIn('""a""', match) self.assertNotIn('""""a""""', match) self.assertNotIn(None, match) self.assertIn('""a""', match) self.assertNotIn('""""a""""', match) self.assertNotIn(None, match) self.assertIn('""a""', match) self.assertNotIn('""""a""""', match) self.assertNotIn(None, match)",,17,0
openstack%2Fkolla-ansible~master~I751c3901b831aaed03b88d36184cd9cc5df1789b,openstack/kolla-ansible,master,I751c3901b831aaed03b88d36184cd9cc5df1789b,Update docker config docs for insecure registry,MERGED,2018-06-28 12:02:29.000000000,2018-07-04 06:20:32.000000000,2018-07-04 06:20:31.000000000,"[{'_account_id': 9820}, {'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 21369}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-06-28 12:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29f4da7c4862afe3aae1ee5212c27879bd1cdaf5', 'message': 'Update docker config docs for insecure registry\n\nChange-Id: I751c3901b831aaed03b88d36184cd9cc5df1789b\nCloses-Bug: #1779110\n'}, {'number': 2, 'created': '2018-07-03 05:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68b3a19a4f75442a02a58a33342a4f17e0fc63f9', 'message': 'Update docker config docs for insecure registry\n\nChange-Id: I751c3901b831aaed03b88d36184cd9cc5df1789b\nCloses-Bug: #1779110\n'}, {'number': 3, 'created': '2018-07-03 11:26:21.000000000', 'files': ['doc/source/user/multinode.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8233bc7a842e5cc99e5fe969becbe1d420898f60', 'message': 'Update docker config docs for insecure registry\n\nChange-Id: I751c3901b831aaed03b88d36184cd9cc5df1789b\nCloses-Bug: #1779110\n'}]",3,578777,8233bc7a842e5cc99e5fe969becbe1d420898f60,22,7,3,21369,,,0,"Update docker config docs for insecure registry

Change-Id: I751c3901b831aaed03b88d36184cd9cc5df1789b
Closes-Bug: #1779110
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/578777/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/multinode.rst'],1,29f4da7c4862afe3aae1ee5212c27879bd1cdaf5,bug/1779110,"For example, To enable insecure registry communication, modify the ``/etc/docker/daemon.json`` file to contain the following where.. path /etc/docker/daemon.json .. code-block:: json { ""insecure-registries"" : [""192.168.1.100:5000""] }","For example, To enable insecure registry communication on CentOS, modify the ``/etc/sysconfig/docker`` file to contain the following where.. path /etc/sysconfig/docker .. code-block:: ini INSECURE_REGISTRY=""--insecure-registry 192.168.1.100:5000"" .. end For Ubuntu, check whether its using upstart or systemd. .. code-block:: console # stat /proc/1/exe File: '/proc/1/exe' -> '/lib/systemd/systemd' Edit ``/etc/default/docker`` and add the following configuration: .. path /etc/default/docker .. code-block:: ini DOCKER_OPTS=""--insecure-registry 192.168.1.100:5000""",7,21
openstack%2Fnova~master~I160028d77e84705106aad5ec8b2d9a54a3c54b18,openstack/nova,master,I160028d77e84705106aad5ec8b2d9a54a3c54b18,Merge server create schema for security group extension,MERGED,2018-06-27 09:41:19.000000000,2018-07-04 06:18:33.000000000,2018-07-04 06:18:33.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 09:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3df3556e0fa7c498b2559703267f543db35d96f', 'message': 'Merge server create schema for security group extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for security\ngroup extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18\n'}, {'number': 2, 'created': '2018-06-27 14:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9279748d229d967a121bdd869ab0c7b8036eea80', 'message': 'Merge server create schema for security group extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for security\ngroup extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18\n'}, {'number': 3, 'created': '2018-06-27 14:38:08.000000000', 'files': ['nova/api/openstack/compute/security_groups.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/schemas/security_groups.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f677061fa886f52426f5bea04aabac7244fabfa', 'message': 'Merge server create schema for security group extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for security\ngroup extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18\n'}]",0,578345,1f677061fa886f52426f5bea04aabac7244fabfa,48,19,3,8556,,,0,"Merge server create schema for security group extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for security
group extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/578345/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/security_groups.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/schemas/security_groups.py', 'nova/api/openstack/compute/servers.py']",4,b3df3556e0fa7c498b2559703267f543db35d96f,bp/api-extensions-merge-rocky,," security_groups.get_server_create_schema,",16,29
openstack%2Ftripleo-heat-templates~master~Ib3d6c580d81dae648c5828582e24d20fc3668099,openstack/tripleo-heat-templates,master,Ib3d6c580d81dae648c5828582e24d20fc3668099,Refactor the inventory generation,MERGED,2018-06-28 07:38:33.000000000,2018-07-04 06:04:58.000000000,2018-07-04 06:04:58.000000000,"[{'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 07:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39cc4068ed21640a5de528930b8105acc693afb9', 'message': 'Refactor the inventory generation\n\nAvoid using templates and allow for easier manipulation of host groups.\nThis patch is a starting point for the scaleup patch that adds new\nnodes (masters and workers) to the the inventory and requires a more\nflexible node groups management.\n\nChange-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099\n'}, {'number': 2, 'created': '2018-06-28 07:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f14d1baaee00414c2fc2345e8e270ec1054bf9fa', 'message': 'Refactor the inventory generation\n\nAvoid using templates and allow for easier manipulation of host groups.\nThis patch is a starting point for the scaleup patch that adds new\nnodes (masters and workers) to the the inventory and requires a more\nflexible node groups management.\n\nChange-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099\n'}, {'number': 3, 'created': '2018-06-29 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d63b26b1d4acb0c153244849617f551ebeba6068', 'message': 'Refactor the inventory generation\n\nAvoid using templates and allow for easier manipulation of host groups.\nThis patch is a starting point for the scaleup patch that adds new\nnodes (masters and workers) to the the inventory and requires a more\nflexible node groups management.\n\nChange-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099\n'}, {'number': 4, 'created': '2018-06-29 08:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ffc8aadbc226420c9b6f73f68d049d14f64b276', 'message': 'Refactor the inventory generation\n\nAvoid using templates and allow for easier manipulation of host groups.\nThis patch is a starting point for the scaleup patch that adds new\nnodes (masters and workers) to the the inventory and requires a more\nflexible node groups management.\n\nChange-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099\n'}, {'number': 5, 'created': '2018-06-29 12:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/711498fd46a8aaebbc0e6c4dee6a94c2e796fc70', 'message': 'Refactor the inventory generation\n\nAvoid using templates and allow for easier manipulation of host groups.\nThis patch is a starting point for the scaleup patch that adds new\nnodes (masters and workers) to the the inventory and requires a more\nflexible node groups management.\n\nChange-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099\n'}, {'number': 6, 'created': '2018-07-03 12:19:47.000000000', 'files': ['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-worker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0cf926b65eb09ce228011a3c1fe42f5fc71404c', 'message': 'Refactor the inventory generation\n\nAvoid using templates and allow for easier manipulation of host groups.\nThis patch is a starting point for the scaleup patch that adds new\nnodes (masters and workers) to the the inventory and requires a more\nflexible node groups management.\n\nChange-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099\n'}]",10,578715,c0cf926b65eb09ce228011a3c1fe42f5fc71404c,35,6,6,6159,,,0,"Refactor the inventory generation

Avoid using templates and allow for easier manipulation of host groups.
This patch is a starting point for the scaleup patch that adds new
nodes (masters and workers) to the the inventory and requires a more
flexible node groups management.

Change-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/578715/5 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-worker.yaml']",2,39cc4068ed21640a5de528930b8105acc693afb9,scaleup-and-ha," - name: set global vars facts set_fact: tripleo_role_name: {get_param: RoleName} - name: Check if origin-node is running become: true shell: docker inspect origin-node register: origin_nodes delegate_to: ""{{item}}"" with_items: ""{{ groups[tripleo_role_name] }}"" ignore_errors: true - set_fact: nodes: hostname: ""{{item}}"" ansible_user: ""{{ hostvars.raw_get(item)['ansible_user'] | default(hostvars.raw_get(item)['ansible_ssh_user']) | default('root') }}"" ansible_host: ""{{ hostvars.raw_get(item)['ansible_host'] | default(item) }}"" ansible_become: true etcd_ip: ""{{hostvars.raw_get(item)['ctlplane_ip']}}"" openshift_ip: ""{{hostvars.raw_get(item)['ctlplane_ip']}}"" openshift_public_ip: ""{{hostvars.raw_get(item)['external_ip'] | default(hostvars.raw_get(item)['ctlplane_ip'])}}"" openshift_hostname: ""{{hostvars.raw_get(item)['ctlplane_ip']}}"" openshift_public_hostname: ""{{hostvars.raw_get(item)['external_ip'] | default(hostvars.raw_get(item)['ctlplane_ip'])}}"" openshift_schedulable: true openshift_node_labels: region: 'infra' zone: 'default' node-role.kubernetes.io/compute: true register: all_worker_nodes with_items: ""{{groups[tripleo_role_name]}}"" - set_fact: worker_nodes: ""{{all_worker_nodes.results | map(attribute='ansible_facts') | map(attribute='nodes') | flatten | list}}"" - copy: dest: ""{{playbook_dir}}/openshift/inventory/{{tripleo_role_name}}_openshift_worker.yml"" content: | {% if worker_nodes | count > 0%} nodes: hosts: {% for host in worker_nodes %} {{host.hostname}}: {{host | to_nice_yaml() | indent(6)}} {% endfor %} {% endif %}"," - name: generate openshift inventory for openshift_worker service copy: dest: str_replace: template: ""{{playbook_dir}}/openshift/inventory/ROLENAME_openshift_worker.yml"" params: ROLENAME: {get_param: RoleName} content: str_replace: params: ROLENAME: {get_param: RoleName} template: | nodes: hosts: {% for host in groups['ROLENAME'] | default([]) -%} {{ hostvars.raw_get(host)['ansible_hostname'] }}: ansible_user: {{ hostvars.raw_get(host)['ansible_user'] | default(hostvars.raw_get(host)['ansible_ssh_user']) | default('root') }} ansible_host: {{ hostvars.raw_get(host)['ansible_host'] | default(host) }} ansible_become: true etcd_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_public_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_hostname: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_public_hostname: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_schedulable: true openshift_node_labels: region: 'infra' zone: 'default' node-role.kubernetes.io/compute: true {% endfor %}",97,66
openstack%2Ftripleo-heat-templates~master~Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f,openstack/tripleo-heat-templates,master,Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f,Update for openshift 3.9,MERGED,2018-06-11 12:09:54.000000000,2018-07-04 06:04:56.000000000,2018-07-04 06:04:56.000000000,"[{'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 8871}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-11 12:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac59b135e321b9510adf1098dcc5f78e72903da5', 'message': '[WIP] Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\n'}, {'number': 2, 'created': '2018-06-11 15:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e1768a8575fbe7e0e541f9503da05839528ad88', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\n'}, {'number': 3, 'created': '2018-06-12 09:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/657d2d14d8c034b311ac19d348196cbfd1124d1e', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\n'}, {'number': 4, 'created': '2018-06-12 12:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11a41fa70242e225599abb153b6f7f59cad2748b', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\n'}, {'number': 5, 'created': '2018-06-13 07:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6700a4ee8b9085fa6de32dbd623107f0ac1837a6', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I78cf71928bcdbfe02bed93f83c740a0ecb8a49c3\n'}, {'number': 6, 'created': '2018-06-13 11:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20859987839e920f1dbb11c3ad2f682f5b184f45', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I78cf71928bcdbfe02bed93f83c740a0ecb8a49c3\nDepends-On: Ib8e9bfaa20cba5544f02da8845c38246e6dd872b\n'}, {'number': 7, 'created': '2018-06-13 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f198ac6d28eb4906b1ce549b5cb8632fbf073944', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: Ib8e9bfaa20cba5544f02da8845c38246e6dd872b\n'}, {'number': 8, 'created': '2018-06-14 08:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5ffc85c8bc91483d02dc9d69ac1e3e83d8891b2', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: Ib8e9bfaa20cba5544f02da8845c38246e6dd872b\n'}, {'number': 9, 'created': '2018-06-15 08:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df1275e828acb86d50959c9f486c67c0bb6c5781', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: Ib8e9bfaa20cba5544f02da8845c38246e6dd872b\n'}, {'number': 10, 'created': '2018-06-18 15:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad4ba08ee5e9b0627afbed7cb71d344f7a012272', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I02c76c5252db1ebef58786967bdc694c9fa6a0d5\n'}, {'number': 11, 'created': '2018-06-18 15:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91cb20f94b0a9383450c96ee43417be68807c952', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: Ice882b251764d0e6ff536e6fa5adb2bef753249a\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: Ib8e9bfaa20cba5544f02da8845c38246e6dd872b\n'}, {'number': 12, 'created': '2018-06-18 15:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d279e8c5f5feb23275ad3dd567a4aa778e8fa8c6', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I02c76c5252db1ebef58786967bdc694c9fa6a0d5\n'}, {'number': 13, 'created': '2018-06-18 16:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1e52410880e53ad0cd14ad15e231f5281c213b8', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I02c76c5252db1ebef58786967bdc694c9fa6a0d5\n'}, {'number': 14, 'created': '2018-06-18 19:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ea4c03ace2bb77ca1286a6b82851868cc6dbffb', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I02c76c5252db1ebef58786967bdc694c9fa6a0d5\n'}, {'number': 15, 'created': '2018-06-19 14:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0d08a0fb9c952a069fe61577e53106045438c39', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I80186ff9ad8c9af0cebe4af5cea4a5cfd1b96c01\nDepends-On: I86d5bfdf42237c7080fe00fb3bdfffad617184e7\nDepends-On: I02c76c5252db1ebef58786967bdc694c9fa6a0d5\nDepends-On: I87744db5144e0835f9a326e4388028b5039d5827\n'}, {'number': 16, 'created': '2018-06-20 12:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d60f77d56d35c40b600484a1d34864de33e74274', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I02c76c5252db1ebef58786967bdc694c9fa6a0d5\nDepends-On: I87744db5144e0835f9a326e4388028b5039d5827\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\n'}, {'number': 17, 'created': '2018-06-21 09:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38a9026578dd5ef1e20b296c4a543bda7c359146', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\n'}, {'number': 18, 'created': '2018-06-21 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1994af2311b7c1cd4f94c8c7f0e154673f705d42', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\n'}, {'number': 19, 'created': '2018-06-22 09:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/494d57637122544a5628576108b321d7092e6cfd', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\n'}, {'number': 20, 'created': '2018-06-23 17:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbdc5a104c4d320a8196c8f4c73b8b82ab2e4a0d', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\n'}, {'number': 21, 'created': '2018-06-24 12:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31140dd57d97ef14d0e06b188e62001468075d67', 'message': 'Update for openshift 3.9\n\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\n'}, {'number': 22, 'created': '2018-06-27 11:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30da1124b3ab46a9418a110911bb24ffa0738ffb', 'message': 'Update for openshift 3.9\n\nThis commit updates the openshift templates to deploy openshift 3.9\ninstead of 3.7.\n\nUpdate the default playbook path to the one expected by\nopenshift-ansible 3.9.\n\nUpdate the default openshift-ansible variables and move them in the\ntemplate where they belong. They can be overridden individually via the\nOpenShiftGlobalVariables heat parameter.\n\nDisable unbound on the openshift nodes in CI as it is listening on port\n53 and is preventing openshift to start its own DNS service.\n\nCo-Authored-By: Flavio Percoco <flavio@redhat.com>\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\n'}, {'number': 23, 'created': '2018-06-28 06:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ddfbb216e69269ab52f15d23bedfcc0cd33579a', 'message': 'Update for openshift 3.9\n\nThis commit updates the openshift templates to deploy openshift 3.9\ninstead of 3.7.\n\nUpdate the default playbook path to the one expected by\nopenshift-ansible 3.9.\n\nUpdate the default openshift-ansible variables and move them in the\ntemplate where they belong. They can be overridden individually via the\nOpenShiftGlobalVariables heat parameter.\n\nDisable unbound on the openshift nodes in CI as it is listening on port\n53 and is preventing openshift to start its own DNS service.\n\nCo-Authored-By: Flavio Percoco <flavio@redhat.com>\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\n'}, {'number': 24, 'created': '2018-06-28 06:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cb30b5d2e1bccb9fd0cf77dba70bf88f8481215', 'message': 'Update for openshift 3.9\n\nThis commit updates the openshift templates to deploy openshift 3.9\ninstead of 3.7.\n\nUpdate the default playbook path to the one expected by\nopenshift-ansible 3.9.\n\nUpdate the default openshift-ansible variables and move them in the\ntemplate where they belong. They can be overridden individually via the\nOpenShiftGlobalVariables heat parameter.\n\nDisable unbound on the openshift nodes in CI as it is listening on port\n53 and is preventing openshift to start its own DNS service.\n\nCo-Authored-By: Flavio Percoco <flavio@redhat.com>\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\n'}, {'number': 25, 'created': '2018-06-28 08:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9435a3cda47741be409f3152ef3c2e0525713c16', 'message': 'Update for openshift 3.9\n\nThis commit updates the openshift templates to deploy openshift 3.9\ninstead of 3.7.\n\nUpdate the default playbook path to the one expected by\nopenshift-ansible 3.9.\n\nUpdate the default openshift-ansible variables and move them in the\ntemplate where they belong. They can be overridden individually via the\nOpenShiftGlobalVariables heat parameter.\n\nDisable unbound on the openshift nodes in CI as it is listening on port\n53 and is preventing openshift to start its own DNS service.\n\nCo-Authored-By: Flavio Percoco <flavio@redhat.com>\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\nDepends-On: I78af0a029f77e6dff850b7ee6346a884d89e687e\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\n'}, {'number': 26, 'created': '2018-06-28 17:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/734eda6ae4fd618af8f96fceb4e8608e45eeac52', 'message': 'Update for openshift 3.9\n\nThis commit updates the openshift templates to deploy openshift 3.9\ninstead of 3.7.\n\nUpdate the default playbook path to the one expected by\nopenshift-ansible 3.9.\n\nUpdate the default openshift-ansible variables and move them in the\ntemplate where they belong. They can be overridden individually via the\nOpenShiftGlobalVariables heat parameter.\n\nDisable unbound on the openshift nodes in CI as it is listening on port\n53 and is preventing openshift to start its own DNS service.\n\nCo-Authored-By: Flavio Percoco <flavio@redhat.com>\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\nDepends-On: I27ad9d168af575da8c4f5094152c94e2fa03987c\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\n'}, {'number': 27, 'created': '2018-07-03 12:19:47.000000000', 'files': ['ci/environments/disable-unbound.yaml', 'environments/openshift.yaml', 'extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-worker.yaml', 'ci/environments/scenario009-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e30f514704d1ed7f212e0f5eae4832861f67bd7', 'message': 'Update for openshift 3.9\n\nThis commit updates the openshift templates to deploy openshift 3.9\ninstead of 3.7.\n\nUpdate the default playbook path to the one expected by\nopenshift-ansible 3.9.\n\nUpdate the default openshift-ansible variables and move them in the\ntemplate where they belong. They can be overridden individually via the\nOpenShiftGlobalVariables heat parameter.\n\nDisable unbound on the openshift nodes in CI as it is listening on port\n53 and is preventing openshift to start its own DNS service.\n\nCo-Authored-By: Flavio Percoco <flavio@redhat.com>\nDepends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a\nDepends-On: I27ad9d168af575da8c4f5094152c94e2fa03987c\nChange-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f\n'}]",7,574233,4e30f514704d1ed7f212e0f5eae4832861f67bd7,181,6,27,13039,,,0,"Update for openshift 3.9

This commit updates the openshift templates to deploy openshift 3.9
instead of 3.7.

Update the default playbook path to the one expected by
openshift-ansible 3.9.

Update the default openshift-ansible variables and move them in the
template where they belong. They can be overridden individually via the
OpenShiftGlobalVariables heat parameter.

Disable unbound on the openshift nodes in CI as it is listening on port
53 and is preventing openshift to start its own DNS service.

Co-Authored-By: Flavio Percoco <flavio@redhat.com>
Depends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a
Depends-On: I27ad9d168af575da8c4f5094152c94e2fa03987c
Change-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/574233/5 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-master.yaml', 'ci/environments/scenario009-multinode.yaml']",2,ac59b135e321b9510adf1098dcc5f78e72903da5,scaleup-and-ha," # TODO(mandre) re-use environments/openshift.yaml if possible OpenShiftGlobalVariables: openshift_version: '3.9.0' openshift_release: '3.9' openshift_image_tag: 'v3.9.0' enable_excluders: false openshift_deployment_type: origin openshift_docker_selinux_enabled: false openshift_disable_check: package_availability,package_version,disk_availability,docker_storage,memory_availability,docker_image_availability",,11,1
openstack%2Ftripleo-quickstart-extras~master~I27ad9d168af575da8c4f5094152c94e2fa03987c,openstack/tripleo-quickstart-extras,master,I27ad9d168af575da8c4f5094152c94e2fa03987c,Prevent recursive copy of /var/log,MERGED,2018-06-28 17:15:20.000000000,2018-07-04 06:04:55.000000000,2018-07-04 06:04:55.000000000,"[{'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 8871}, {'_account_id': 13039}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-06-28 17:15:20.000000000', 'files': ['roles/collect-logs/tasks/collect.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c7ed8b36ea59466284f5aa3666ccb0f99e9098f', 'message': 'Prevent recursive copy of /var/log\n\nIf the container bind mounts the directory in which the logs are\nextracted, it causes the files to be copied recursively and leads to\na log explosion in CI. This is typically the case with the openshift\ncontainers where the copied log size approaches 4GB [1].\n\nThis commit ensures that we skip the copy of /var/log if it contains the\ndirectory in which the logs are extracted.\n\nhttp://logs.openstack.org/33/574233/22/experimental/tripleo-ci-centos-7-scenario009-multinode-oooq/d816f2f/logs/log-size.txt\n\nChange-Id: I27ad9d168af575da8c4f5094152c94e2fa03987c\n'}]",0,578892,5c7ed8b36ea59466284f5aa3666ccb0f99e9098f,40,8,1,13039,,,0,"Prevent recursive copy of /var/log

If the container bind mounts the directory in which the logs are
extracted, it causes the files to be copied recursively and leads to
a log explosion in CI. This is typically the case with the openshift
containers where the copied log size approaches 4GB [1].

This commit ensures that we skip the copy of /var/log if it contains the
directory in which the logs are extracted.

http://logs.openstack.org/33/574233/22/experimental/tripleo-ci-centos-7-scenario009-multinode-oooq/d816f2f/logs/log-size.txt

Change-Id: I27ad9d168af575da8c4f5094152c94e2fa03987c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/92/578892/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-logs/tasks/collect.yml'],1,5c7ed8b36ea59466284f5aa3666ccb0f99e9098f,docker_log_collection, # NOTE(mandre) Do not copy logs if the containers is bind mounting /var/log directory if ! docker exec $cont stat $BASE_DOCKER_EXTRA 2>1 > /dev/null; then docker cp $cont:/var/log $INFO_DIR/log; fi; , docker cp $cont:/var/log $INFO_DIR/log;,5,1
openstack%2Fnova~master~Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c,openstack/nova,master,Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c,Remove unused DB API instance_group_member* methods,MERGED,2018-06-27 17:07:49.000000000,2018-07-04 05:37:29.000000000,2018-07-04 05:37:29.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 17:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb5410c8576ae776e60602aa79c6fe6f87e273ad', 'message': 'Remove unused DB API instance_group_member* methods\n\nSince Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no\nlonger have compat code in the InstanceGroup object\nand everything is handled in the API database, so we can\ndrop the legacy DB API methods for instance groups.\n\nThis is part of a series of cleanup changes.\n\nChange-Id: Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c\n'}, {'number': 2, 'created': '2018-06-27 17:24:46.000000000', 'files': ['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a4c43d20bc6d1eb9a1e291120ff80235edee5bb', 'message': 'Remove unused DB API instance_group_member* methods\n\nSince Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no\nlonger have compat code in the InstanceGroup object\nand everything is handled in the API database, so we can\ndrop the legacy DB API methods for instance groups.\n\nThis is part of a series of cleanup changes.\n\nChange-Id: Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c\n'}]",0,578488,7a4c43d20bc6d1eb9a1e291120ff80235edee5bb,28,15,2,6873,,,0,"Remove unused DB API instance_group_member* methods

Since Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no
longer have compat code in the InstanceGroup object
and everything is handled in the API database, so we can
drop the legacy DB API methods for instance groups.

This is part of a series of cleanup changes.

Change-Id: Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/578488/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,cb5410c8576ae776e60602aa79c6fe6f87e273ad,remove-newton-online-compat-code,,"@pick_context_manager_writer def instance_group_members_add(context, group_uuid, members, set_delete=False): id = _instance_group_id(context, group_uuid) return _instance_group_members_add(context, id, members, set_delete=set_delete) @pick_context_manager_writer def instance_group_member_delete(context, group_uuid, instance_id): id = _instance_group_id(context, group_uuid) count = _instance_group_model_get_query(context, models.InstanceGroupMember, id).\ filter_by(instance_id=instance_id).\ soft_delete() if count == 0: raise exception.InstanceGroupMemberNotFound(group_uuid=group_uuid, instance_id=instance_id) @pick_context_manager_reader def instance_group_members_get(context, group_uuid): id = _instance_group_id(context, group_uuid) instances = model_query(context, models.InstanceGroupMember, (models.InstanceGroupMember.instance_id,)).\ filter_by(group_id=id).all() return [instance[0] for instance in instances] ",0,118
openstack%2Ftripleo-heat-templates~master~I15a984172cd5532bc966269d8c68f27b5703733e,openstack/tripleo-heat-templates,master,I15a984172cd5532bc966269d8c68f27b5703733e,Execute post_update_tasks in update playbook,MERGED,2018-06-25 08:57:30.000000000,2018-07-04 05:27:46.000000000,2018-07-04 05:27:46.000000000,"[{'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 10090}, {'_account_id': 20775}, {'_account_id': 20866}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-06-25 08:57:30.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b3e8aa073ca68fe600288b1dbb05dd384368d3b', 'message': ""Execute post_update_tasks in update playbook\n\nWe drop the post_update_steps_playbook, and execute post_update_tasks\nas part of the update_steps_playbook. This will ensure that\npost_update_tasks are executed, and they're executed in accordance\nwith the `serial: 1` ordering that update_steps_playbook is using. (We\nwant to avoid an issue similar to what we've had in bug #1776206).\n\nChange-Id: I15a984172cd5532bc966269d8c68f27b5703733e\nCloses-Bug: #1778471\n""}]",0,577754,6b3e8aa073ca68fe600288b1dbb05dd384368d3b,17,9,1,8042,,,0,"Execute post_update_tasks in update playbook

We drop the post_update_steps_playbook, and execute post_update_tasks
as part of the update_steps_playbook. This will ensure that
post_update_tasks are executed, and they're executed in accordance
with the `serial: 1` ordering that update_steps_playbook is using. (We
want to avoid an issue similar to what we've had in bug #1776206).

Change-Id: I15a984172cd5532bc966269d8c68f27b5703733e
Closes-Bug: #1778471
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/577754/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,6b3e8aa073ca68fe600288b1dbb05dd384368d3b,bug/1776206, - include: post_update_steps_tasks.yaml with_sequence: start=0 end={{post_update_steps_max-1}} loop_control: loop_var: step, post_update_steps_playbook: str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} template: | - hosts: DEPLOY_TARGET_HOST tasks: - include: post_update_steps_tasks.yaml with_sequence: start=0 end={{post_update_steps_max-1}} loop_control: loop_var: step,4,12
openstack%2Fkeystone~master~I9a81056b9afda924aac71f64c2158d9db53d8594,openstack/keystone,master,I9a81056b9afda924aac71f64c2158d9db53d8594,Add registered_limit_id column for limit,MERGED,2018-06-25 08:39:13.000000000,2018-07-04 05:22:56.000000000,2018-07-04 05:22:55.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 15699}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 08:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4214ea06dc80b28da96a0bf1b6f6668dc4433e9a', 'message': 'Add registered_limit_id column for limit\n\nThis patch add a registered_limit_id column referring to\nthe related registered limit for limit talbe.\n\nThis change aims to reduce the duplicate data between unified\nlimit tables.\n\nIn Rocky, ""registered_limit_id"" will co-exist with ""service_id"",\n""region_id"" and ""resource_name"" columns.\n\nIn Stein, we\'ll migrate the old data to satisfy the\n""registered_limit_id"" way\n\nIn T release, the ""service_id"", ""region_id"" and ""resource_name""\ncolumns will be removed at all.\n\nPartial-Bug: #1777892\nChange-Id: I9a81056b9afda924aac71f64c2158d9db53d8594\n'}, {'number': 2, 'created': '2018-06-25 09:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e31008eaf62c19d6065f3799f1a4571d3933fd09', 'message': '[WIP]Add registered_limit_id column for limit\n\nThis patch add a registered_limit_id column referring to\nthe related registered limit for limit talbe.\n\nThis change aims to reduce the duplicate data between unified\nlimit tables.\n\nIn Rocky, ""registered_limit_id"" will co-exist with ""service_id"",\n""region_id"" and ""resource_name"" columns.\n\nIn Stein, we\'ll migrate the old data to satisfy the\n""registered_limit_id"" way\n\nIn T release, the ""service_id"", ""region_id"" and ""resource_name""\ncolumns will be removed at all.\n\nCloses-Bug: #1777892\nChange-Id: I9a81056b9afda924aac71f64c2158d9db53d8594\n'}, {'number': 3, 'created': '2018-06-26 09:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d57a8bcf9590b8c70e94b6a5ecff4526f0e0a4fe', 'message': 'Add registered_limit_id column for limit\n\nThis patch add a registered_limit_id column referring to\nthe related registered limit for limit talbe.\n\nThis change aims to reduce the duplicate data between unified\nlimit tables.\n\nIn Rocky, ""registered_limit_id"" will co-exist with ""service_id"",\n""region_id"" and ""resource_name"" columns.\n\nIn Stein, we\'ll migrate the old data to satisfy the\n""registered_limit_id"" way\n\nIn T release, the ""service_id"", ""region_id"" and ""resource_name""\ncolumns will be removed at all.\n\nCloses-Bug: #1777892\nChange-Id: I9a81056b9afda924aac71f64c2158d9db53d8594\n'}, {'number': 4, 'created': '2018-06-29 07:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5fd1105f55e24b0e53f1a485df6c8b7d2933cfe', 'message': 'Add registered_limit_id column for limit\n\nThis patch add a registered_limit_id column referring to\nthe related registered limit for limit talbe.\n\nThis change aims to reduce the duplicate data between unified\nlimit tables.\n\nIn Rocky, ""registered_limit_id"" will co-exist with ""service_id"",\n""region_id"" and ""resource_name"" columns.\n\nIn Stein, we\'ll migrate the old data to satisfy the\n""registered_limit_id"" way\n\nIn T release, the ""service_id"", ""region_id"" and ""resource_name""\ncolumns will be removed at all.\n\nCloses-Bug: #1777892\nChange-Id: I9a81056b9afda924aac71f64c2158d9db53d8594\n'}, {'number': 5, 'created': '2018-07-03 16:28:42.000000000', 'files': ['keystone/tests/unit/test_limits.py', 'keystone/common/sql/expand_repo/versions/048_expand_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/contract_repo/versions/048_contract_add_registered_limit_id_column_for_limit.py', 'keystone/limit/backends/sql.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/048_migrate_add_registered_limit_id_column_for_limit.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a558eb0baba05280747ea67556e1041e86898ef3', 'message': 'Add registered_limit_id column for limit\n\nThis patch add a registered_limit_id column referring to\nthe related registered limit for limit talbe.\n\nThis change aims to reduce the duplicate data between unified\nlimit tables.\n\nIn Rocky, ""registered_limit_id"" will co-exist with ""service_id"",\n""region_id"" and ""resource_name"" columns.\n\nIn Stein, we\'ll migrate the old data to satisfy the\n""registered_limit_id"" way\n\nIn T release, the ""service_id"", ""region_id"" and ""resource_name""\ncolumns will be removed at all.\n\nCloses-Bug: #1777892\nChange-Id: I9a81056b9afda924aac71f64c2158d9db53d8594\n'}]",7,577751,a558eb0baba05280747ea67556e1041e86898ef3,25,6,5,15054,,,0,"Add registered_limit_id column for limit

This patch add a registered_limit_id column referring to
the related registered limit for limit talbe.

This change aims to reduce the duplicate data between unified
limit tables.

In Rocky, ""registered_limit_id"" will co-exist with ""service_id"",
""region_id"" and ""resource_name"" columns.

In Stein, we'll migrate the old data to satisfy the
""registered_limit_id"" way

In T release, the ""service_id"", ""region_id"" and ""resource_name""
columns will be removed at all.

Closes-Bug: #1777892
Change-Id: I9a81056b9afda924aac71f64c2158d9db53d8594
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/577751/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/data_migration_repo/versions/047_migrate_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/expand_repo/versions/047_expand_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/contract_repo/versions/047_contract_add_registered_limit_id_column_for_limit.py']",3,4214ea06dc80b28da96a0bf1b6f6668dc4433e9a,bug/1777892,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. def upgrade(migrate_engine): pass ",,56,0
openstack%2Ftempest~master~I83b1bde77ee8af933a9eab4cece31e3babea244b,openstack/tempest,master,I83b1bde77ee8af933a9eab4cece31e3babea244b,Add related bug info for resize test,MERGED,2018-07-03 05:45:40.000000000,2018-07-04 05:20:06.000000000,2018-07-04 05:20:06.000000000,"[{'_account_id': 5689}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-07-03 05:45:40.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e027dd37be2ec644780925563c2ababaf8eaa70a', 'message': 'Add related bug info for resize test\n\nThis commit adds related bug info for newly added\nresize tests in https://review.openstack.org/#/c/527439/\n\nChange-Id: I83b1bde77ee8af933a9eab4cece31e3babea244b\n'}]",0,579766,e027dd37be2ec644780925563c2ababaf8eaa70a,12,6,1,8556,,,0,"Add related bug info for resize test

This commit adds related bug info for newly added
resize tests in https://review.openstack.org/#/c/527439/

Change-Id: I83b1bde77ee8af933a9eab4cece31e3babea244b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/579766/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,e027dd37be2ec644780925563c2ababaf8eaa70a,resize-bug, @decorators.related_bug('1737599'),,1,0
openstack%2Fironic~master~Id7ca290fa03efec4c64d8e7f2e64194e14f9619b,openstack/ironic,master,Id7ca290fa03efec4c64d8e7f2e64194e14f9619b,Remove doc of classic drivers from the admin guide,MERGED,2018-07-02 11:09:19.000000000,2018-07-04 05:19:11.000000000,2018-07-04 05:19:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 11:09:19.000000000', 'files': ['doc/source/admin/interfaces/deploy.rst', 'doc/source/admin/interfaces/boot.rst', 'doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/778662acbee7aa227c85502a78efc27f8b34d387', 'message': 'Remove doc of classic drivers from the admin guide\n\nThis patch removes pieces of doc of classic drivers from\nthe admin guide (doc/source/admin dir).\n\nupgrade-to-hardware-types.rst is excluded from the patch\nas it is used in the upgrade guide.\n\nChange-Id: Id7ca290fa03efec4c64d8e7f2e64194e14f9619b\n'}]",0,579516,778662acbee7aa227c85502a78efc27f8b34d387,8,4,1,18320,,,0,"Remove doc of classic drivers from the admin guide

This patch removes pieces of doc of classic drivers from
the admin guide (doc/source/admin dir).

upgrade-to-hardware-types.rst is excluded from the patch
as it is used in the upgrade guide.

Change-Id: Id7ca290fa03efec4c64d8e7f2e64194e14f9619b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/579516/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/interfaces/deploy.rst', 'doc/source/admin/interfaces/boot.rst', 'doc/source/admin/raid.rst']",3,778662acbee7aa227c85502a78efc27f8b34d387,,disk supported by the hardware type. These properties are discoverable by:: a ``RAIDInterface`` other than ``no-raid``.,disk supported by the hardware type or classic driver. These properties are discoverable by:: a ``RAIDInterface`` other than ``no-raid`` (``None`` for classic drivers).,5,14
openstack%2Ftripleo-heat-templates~master~I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a,openstack/tripleo-heat-templates,master,I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a,Removed ovs-dpdk workaround to fix the vhost socket permission,MERGED,2017-12-20 09:15:11.000000000,2018-07-04 04:57:50.000000000,2018-02-27 12:12:55.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-12-20 09:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d920ee4f8a691afcf6a6e57fda7e4fb5639ce06', 'message': 'Removed ovs-dpdk workaround to fix the vhost socket permission\n\nChange-Id: I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a\n'}, {'number': 2, 'created': '2018-02-06 05:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52319b55ae4303e4979ea5714493b3a53e8d84ea', 'message': 'Removed ovs-dpdk workaround to fix the vhost socket permission\n\nChange-Id: I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a\n'}, {'number': 3, 'created': '2018-02-19 09:43:25.000000000', 'files': ['extraconfig/pre_network/host_config_and_reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7a70f56138b69837d26d27cdc1c62bf10e8fa21', 'message': 'Removed ovs-dpdk workaround to fix the vhost socket permission\n\nChange-Id: I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a\n'}]",0,529273,b7a70f56138b69837d26d27cdc1c62bf10e8fa21,22,7,3,18575,,,0,"Removed ovs-dpdk workaround to fix the vhost socket permission

Change-Id: I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/529273/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_network/host_config_and_reboot.yaml'],1,4d920ee4f8a691afcf6a6e57fda7e4fb5639ce06,c2/remove_ovs_dpdk_workaround,," # OvS Permission issue temporary workaround # https://bugzilla.redhat.com/show_bug.cgi?id=1459436 # Actual solution from openvswitch - https://mail.openvswitch.org/pipermail/ovs-dev/2017-June/333423.html ovs_service_path=""/usr/lib/systemd/system/ovs-vswitchd.service"" if grep -q 'RuntimeDirectoryMode' $ovs_service_path; then sed -i 's/RuntimeDirectoryMode=.*/RuntimeDirectoryMode=0775/' $ovs_service_path else echo ""RuntimeDirectoryMode=0775"" >> $ovs_service_path fi if ! grep -Fxq ""Group=qemu"" $ovs_service_path ; then echo ""Group=qemu"" >> $ovs_service_path fi if ! grep -Fxq ""UMask=0002"" $ovs_service_path ; then echo ""UMask=0002"" >> $ovs_service_path fi ovs_ctl_path='/usr/share/openvswitch/scripts/ovs-ctl' if ! grep -q ""umask 0002 \&\& start_daemon \""\$OVS_VSWITCHD_PRIORITY\"""" $ovs_ctl_path ; then sed -i 's/start_daemon \""\$OVS_VSWITCHD_PRIORITY\""/umask 0002 \&\& start_daemon \""$OVS_VSWITCHD_PRIORITY\""/' $ovs_ctl_path fi systemctl daemon-reload systemctl restart openvswitch ",0,27
openstack%2Fneutron~stable%2Fpike~I5d0678ea2383483e6106976c148353ef4352befd,openstack/neutron,stable/pike,I5d0678ea2383483e6106976c148353ef4352befd,[Scenario tests] Try longer SSH timeout for ubuntu image,MERGED,2018-06-08 09:07:27.000000000,2018-07-04 04:33:55.000000000,2018-07-04 04:33:54.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-08 09:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d86f0e468c377ea2f2794a8e908cce6860f4c01', 'message': '[Scenario tests] Try longer SSH timeout for ubuntu image\n\nIt looks that many scenario tests are failing because of too long\ninstance booting time and reached ssh timeout during checking\nconnectivity.\nSo longer timeout should solve this problem and tests should\nnot fail with this reason.\n\nChange-Id: I5d0678ea2383483e6106976c148353ef4352befd\nCloses-Bug: #1754327\n(cherry picked from commit 0ab03003b9f9c4f0cace538eee84478a099c0c58)\n'}, {'number': 2, 'created': '2018-06-20 18:17:30.000000000', 'files': ['neutron/tests/contrib/hooks/ubuntu_image'], 'web_link': 'https://opendev.org/openstack/neutron/commit/073b44b1005e7e93bdef6fa04153498009cc9412', 'message': '[Scenario tests] Try longer SSH timeout for ubuntu image\n\nIt looks that many scenario tests are failing because of too long\ninstance booting time and reached ssh timeout during checking\nconnectivity.\nSo longer timeout should solve this problem and tests should\nnot fail with this reason.\n\nChange-Id: I5d0678ea2383483e6106976c148353ef4352befd\nCloses-Bug: #1754327\n(cherry picked from commit 0ab03003b9f9c4f0cace538eee84478a099c0c58)\n'}]",0,573632,073b44b1005e7e93bdef6fa04153498009cc9412,38,7,2,11975,,,0,"[Scenario tests] Try longer SSH timeout for ubuntu image

It looks that many scenario tests are failing because of too long
instance booting time and reached ssh timeout during checking
connectivity.
So longer timeout should solve this problem and tests should
not fail with this reason.

Change-Id: I5d0678ea2383483e6106976c148353ef4352befd
Closes-Bug: #1754327
(cherry picked from commit 0ab03003b9f9c4f0cace538eee84478a099c0c58)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/573632/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/hooks/ubuntu_image'],1,7d86f0e468c377ea2f2794a8e908cce6860f4c01,bug/1754327,BUILD_TIMEOUT=784,BUILD_TIMEOUT=392,1,1
openstack%2Fpuppet-neutron~master~Id8a97b337eff68860547e07e675b79bde94628ba,openstack/puppet-neutron,master,Id8a97b337eff68860547e07e675b79bde94628ba,Add support for dynamic routing bpg dragent,MERGED,2018-06-28 11:55:47.000000000,2018-07-04 04:23:52.000000000,2018-07-04 04:23:52.000000000,"[{'_account_id': 1004}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 11:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/142f10ddf0a3b6b1f6d701e74a6b79563ffd1e01', 'message': 'Add support for dynamic routing bpg dragent\n\nThis patch adds support to install and configure the\nbgp dynamic routing agent. It also install the\ndynamic-routing package since that is required by\nthe bgp dragent.\n\nThese packages already exists on Debian and Ubuntu but\nsince it was removed from RPM packages when dynamic-routing\nwas moved out of the Neutron tree there are work to add it here [1].\nSo until [1] is merged and hopefully backported to Queens for the latest\nstable release this will work propery on RedHat based OS.\n\n[1] https://review.rdoproject.org/r/#/c/7935/\n\nChange-Id: Id8a97b337eff68860547e07e675b79bde94628ba\n'}, {'number': 2, 'created': '2018-06-28 11:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2ee6bf50809c6853da1158b3aba47a4b6a828cc7', 'message': 'Add support for dynamic routing bpg dragent\n\nThis patch adds support to install and configure the\nbgp dynamic routing agent. It also install the\ndynamic-routing package since that is required by\nthe bgp dragent.\n\nThese packages already exists on Debian and Ubuntu but\nsince it was removed from RPM packages when dynamic-routing\nwas moved out of the Neutron tree there are work to add it here [1].\nSo until [1] is merged and hopefully backported to Queens for the latest\nstable release this will work propery on RedHat based OS.\n\n[1] https://review.rdoproject.org/r/#/c/7935/\n\nChange-Id: Id8a97b337eff68860547e07e675b79bde94628ba\n'}, {'number': 3, 'created': '2018-06-28 14:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3fee970e7cf709e789edaf052374831790c7bd36', 'message': 'Add support for dynamic routing bpg dragent\n\nThis patch adds support to install and configure the\nbgp dynamic routing agent. It also install the\ndynamic-routing package since that is required by\nthe bgp dragent.\n\nThese packages already exists on Debian and Ubuntu but\nsince it was removed from RPM packages when dynamic-routing\nwas moved out of the Neutron tree there are work to add it here [1].\nSo until [1] is merged and hopefully backported to Queens for the latest\nstable release this will work propery on RedHat based OS.\n\n[1] https://review.rdoproject.org/r/#/c/7935/\n\nChange-Id: Id8a97b337eff68860547e07e675b79bde94628ba\n'}, {'number': 4, 'created': '2018-06-28 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/530ddf84daf7ac17f806c5c2d2c8747cebef08e7', 'message': 'Add support for dynamic routing bpg dragent\n\nThis patch adds support to install and configure the\nbgp dynamic routing agent. It also install the\ndynamic-routing package since that is required by\nthe bgp dragent.\n\nThese packages already exists on Debian and Ubuntu but\nsince it was removed from RPM packages when dynamic-routing\nwas moved out of the Neutron tree there are work to add it here [1].\nSo until [1] is merged and hopefully backported to Queens for the latest\nstable release this will work propery on RedHat based OS.\n\n[1] https://review.rdoproject.org/r/#/c/7935/\n\nChange-Id: Id8a97b337eff68860547e07e675b79bde94628ba\n'}, {'number': 5, 'created': '2018-06-29 07:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/97f9754c86d24cc9c9b79033f9bf5460488214ed', 'message': 'Add support for dynamic routing bpg dragent\n\nThis patch adds support to install and configure the\nbgp dynamic routing agent. It also install the\ndynamic-routing package since that is required by\nthe bgp dragent.\n\nThese packages already exists on Debian and Ubuntu but\nsince it was removed from RPM packages when dynamic-routing\nwas moved out of the Neutron tree there are work to add it here [1].\nSo until [1] is merged and hopefully backported to Queens for the latest\nstable release this will work propery on RedHat based OS.\n\n[1] https://review.rdoproject.org/r/#/c/7935/\n\nChange-Id: Id8a97b337eff68860547e07e675b79bde94628ba\n'}, {'number': 6, 'created': '2018-06-29 11:34:11.000000000', 'files': ['spec/classes/neutron_config_spec.rb', 'lib/puppet/provider/neutron_bgp_dragent_config/openstackconfig.rb', 'manifests/agents/bgp_dragent.pp', 'spec/unit/type/neutron_bgp_dragent_config_spec.rb', 'spec/classes/neutron_agents_bgp_dragent_spec.rb', 'manifests/params.pp', 'manifests/deps.pp', 'lib/puppet/type/neutron_bgp_dragent_config.rb', 'manifests/config.pp', 'spec/unit/provider/neutron_bgp_dragent_config/openstackconfig_spec.rb', 'releasenotes/notes/add-bgp-dragent-c6b19e076b1acf0c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/75a999369a7d5dc7f11680274863e3efa38e40db', 'message': 'Add support for dynamic routing bpg dragent\n\nThis patch adds support to install and configure the\nbgp dynamic routing agent. It also install the\ndynamic-routing package since that is required by\nthe bgp dragent.\n\nThese packages already exists on Debian and Ubuntu but\nsince it was removed from RPM packages when dynamic-routing\nwas moved out of the Neutron tree there are work to add it here [1].\nSo until [1] is merged and hopefully backported to Queens for the latest\nstable release this will work propery on RedHat based OS.\n\n[1] https://review.rdoproject.org/r/#/c/7935/\n\nChange-Id: Id8a97b337eff68860547e07e675b79bde94628ba\n'}]",2,578774,75a999369a7d5dc7f11680274863e3efa38e40db,25,5,6,16137,,,0,"Add support for dynamic routing bpg dragent

This patch adds support to install and configure the
bgp dynamic routing agent. It also install the
dynamic-routing package since that is required by
the bgp dragent.

These packages already exists on Debian and Ubuntu but
since it was removed from RPM packages when dynamic-routing
was moved out of the Neutron tree there are work to add it here [1].
So until [1] is merged and hopefully backported to Queens for the latest
stable release this will work propery on RedHat based OS.

[1] https://review.rdoproject.org/r/#/c/7935/

Change-Id: Id8a97b337eff68860547e07e675b79bde94628ba
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/74/578774/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_config_spec.rb', 'lib/puppet/provider/neutron_bgp_dragent_config/openstackconfig.rb', 'manifests/agents/bgp_dragent.pp', 'spec/unit/type/neutron_bgp_dragent_config_spec.rb', 'spec/classes/neutron_agents_bgp_dragent_spec.rb', 'manifests/params.pp', 'manifests/deps.pp', 'lib/puppet/type/neutron_bgp_dragent_config.rb', 'manifests/config.pp', 'spec/unit/provider/neutron_bgp_dragent_config/openstackconfig_spec.rb', 'releasenotes/notes/add-bgp-dragent-c6b19e076b1acf0c.yaml']",11,142f10ddf0a3b6b1f6d701e74a6b79563ffd1e01,bp/g,--- features: - | New class neutron::agents::bgp_dragent that installs and manages the neutron-dynamic-routing and neutron-bgp-dragent packages. When you are using this feature you must enable the 'bgp' service plugin by passing it in neutron::service_plugins. ,,406,0
openstack%2Fnova~master~I14295dddc302a603a71f71ccb6fcc5745ca7826c,openstack/nova,master,I14295dddc302a603a71f71ccb6fcc5745ca7826c,Update admin/flavors document,MERGED,2018-06-07 01:52:46.000000000,2018-07-04 03:58:01.000000000,2018-07-02 12:34:48.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-07 01:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92d1fe7e4c24dc256e75aea6f163d60917d9c187', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}, {'number': 2, 'created': '2018-06-14 01:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b3410b3a4b4d9427142e3c9ed0eabac9f6c12b', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}, {'number': 3, 'created': '2018-06-15 05:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3aab5dde9d7faca6cf1d63a01dc9ea4dadf03b0', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\nRemove rxtx-factor in descriptions and command examples.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}, {'number': 4, 'created': '2018-06-22 02:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7fa557cf3b6c8ea2d8ac7ec2e2594ac13e73bbd', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\nRemove rxtx-factor in descriptions and command examples.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}, {'number': 5, 'created': '2018-06-28 11:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd6bc748daabb2ef8e8ff11d5b4b9917c3eb01e3', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\nRemove rxtx-factor in descriptions and command examples.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}, {'number': 6, 'created': '2018-06-29 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21e5b8c6bb1d724f125f86ad2468d3478bf0b4d0', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\nRemove rxtx-factor in descriptions and command examples.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}, {'number': 7, 'created': '2018-07-02 06:19:04.000000000', 'files': ['doc/source/admin/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f0aa1f35c052e62a6fc6989c0a57fcfeea6cdaa', 'message': 'Update admin/flavors document\n\nReplace nova commands with openstack commands.\nAdd an example to create a private flavor.\nRepopulate the ""Modify a flavor"" section.\nReplace \'extra_spec\' with \'extra_specs\'.\nFix a wrong link.\nRemove rxtx-factor in descriptions and command examples.\n\nChange-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c\n'}]",30,573063,8f0aa1f35c052e62a6fc6989c0a57fcfeea6cdaa,71,18,7,7634,,,0,"Update admin/flavors document

Replace nova commands with openstack commands.
Add an example to create a private flavor.
Repopulate the ""Modify a flavor"" section.
Replace 'extra_spec' with 'extra_specs'.
Fix a wrong link.
Remove rxtx-factor in descriptions and command examples.

Change-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/573063/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/flavors.rst'],1,92d1fe7e4c24dc256e75aea6f163d60917d9c187,flavor_manage_doc," .. code-block:: console $ openstack flavor create --private m1.extra_tiny --id auto \ --ram 256 --disk 0 --vcpus 1 --rxtx-factor 1 $ openstack flavor set --project PROJECT_ID FLAVOR #. In addition, you can set or unset ``extra_specs`` for the existing flavor. The ``extra_specs`` metadata keys can influence the instance directly when it is launched. If a flavor sets the ``extra_specs key/value supporting metadata keys, see :doc:`/user/flavors`. $ openstack flavor set --helpOnly the description of flavors can be modified. To modify the description of a flavor, specify the flavor name or ID and a new description as follows: .. code-block:: console $ nova flavor-update FLAVOR DESCRIPTION .. note:: There are no commands to update a description of a flavor in the :command:`openstack` command currently (version 3.15.0).Delete a flavor, specify the flavor name or ID as follows: $ openstack flavor delete FLAVOR"," .. todo:: Add an example of how to do this.. todo:: This should be migrated to the 'openstack' tool $ nova flavor-access-add FLAVOR TENANT_ID #. In addition, you can set or unset ``extra_spec`` for the existing flavor. The ``extra_spec`` metadata keys can influence the instance directly when it is launched. If a flavor sets the ``extra_spec key/value supporting metadata keys, see :doc:`flavors`. $ nova help flavor-key.. todo(stephenfin): Populate this sectionDelete a specified flavor, as follows: $ openstack flavor delete FLAVOR_ID",24,12
openstack%2Ftricircle~master~I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83,openstack/tricircle,master,I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83,Update links in CONTRIBUTING.rst,MERGED,2018-06-20 02:36:35.000000000,2018-07-04 03:53:24.000000000,2018-07-04 03:53:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27215}, {'_account_id': 27368}]","[{'number': 1, 'created': '2018-06-20 02:36:35.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/ed7f6ffb6149eeec107852a4af6c0869260e6474', 'message': 'Update links in CONTRIBUTING.rst\n\nChange-Id: I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83\n'}]",0,576681,ed7f6ffb6149eeec107852a4af6c0869260e6474,12,3,1,27368,,,0,"Update links in CONTRIBUTING.rst

Change-Id: I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/81/576681/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,ed7f6ffb6149eeec107852a4af6c0869260e6474,, https://docs.openstack.org/infra/manual/developers.html https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://docs.openstack.org/infra/manual/developers.html http://docs.openstack.org/infra/manual/developers.html#development-workflow,2,2
openstack%2Fdevstack~master~I4d4392f1f58f0431b10764610668565af88d392f,openstack/devstack,master,I4d4392f1f58f0431b10764610668565af88d392f,Fix wait_for_compute to work for modified compute host name,MERGED,2018-03-16 11:07:55.000000000,2018-07-04 03:48:48.000000000,2018-07-03 06:47:41.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11307}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16618}, {'_account_id': 22348}, {'_account_id': 23367}, {'_account_id': 24258}, {'_account_id': 27368}]","[{'number': 1, 'created': '2018-03-16 11:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/68a4617688abc026977ad03be206256c2752edc0', 'message': 'When we change compute host name then devstack is breaking\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 2, 'created': '2018-04-09 09:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/da5d81204d8a0d8798377295ac8298bb76e9aff2', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 3, 'created': '2018-04-09 09:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5895f6fe6b94c66544f2f8a3cdf02ef9eeb25d88', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 4, 'created': '2018-04-09 10:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/86cfa032b66df2e34e1d01b01b588fdbf51f4ee3', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 5, 'created': '2018-06-18 11:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc9f79a63c0ec7e8140afead241cd4ab5173f1a5', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 6, 'created': '2018-06-19 06:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9f30ef42b9e2198f44a5610380678a0aa5fe71a2', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 7, 'created': '2018-06-19 09:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fc3dc64a56e9e61fca7dd0254e95acd1cf97092b', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}, {'number': 8, 'created': '2018-07-02 05:49:52.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f38cf4ad846f394489334caae7a38b8e49b646c', 'message': 'Fix wait_for_compute to work for modified compute host name\n\nWhen we change the name of compute host then devstack is breaking\nbecause it is using default host name from host.\n\nHow to change compute host name in local.conf\n[[post-config|$NOVA_CONF]]\n[DEFAULT]\nhost = foo\n\nChange-Id: I4d4392f1f58f0431b10764610668565af88d392f\nSigned-off-by: Prabhat Ranjan <pranjank@in.ibm.com>\n'}]",10,553752,6f38cf4ad846f394489334caae7a38b8e49b646c,70,16,8,23367,,,0,"Fix wait_for_compute to work for modified compute host name

When we change the name of compute host then devstack is breaking
because it is using default host name from host.

How to change compute host name in local.conf
[[post-config|$NOVA_CONF]]
[DEFAULT]
host = foo

Change-Id: I4d4392f1f58f0431b10764610668565af88d392f
Signed-off-by: Prabhat Ranjan <pranjank@in.ibm.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/553752/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,68a4617688abc026977ad03be206256c2752edc0,fix_hostname," compute_hostname=$(iniget $NOVA_CONF DEFAULT host) elif [[ ! -z $compute_hostname ]]; then ID=\$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" compute service list --host ""$compute_hostname"" --service nova-compute -c ID -f value)",,3,0
openstack%2Fopenstack-zuul-jobs~master~Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b,openstack/openstack-zuul-jobs,master,Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b,persistent-firewall commits should trigger integration jobs for it,MERGED,2018-07-03 13:59:34.000000000,2018-07-04 03:45:09.000000000,2018-07-04 03:45:09.000000000,"[{'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 13:59:34.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0ea7524a5ef9f92512d9f082b6025ed4ef73eef1', 'message': 'persistent-firewall commits should trigger integration jobs for it\n\nThe persistent-firewall role is included as part of the\nmulti-node-firewall role.\nThis is a good way of exercising that role.\n\nChange-Id: Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b\n'}]",0,579873,0ea7524a5ef9f92512d9f082b6025ed4ef73eef1,7,3,1,9061,,,0,"persistent-firewall commits should trigger integration jobs for it

The persistent-firewall role is included as part of the
multi-node-firewall role.
This is a good way of exercising that role.

Change-Id: Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/73/579873/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,0ea7524a5ef9f92512d9f082b6025ed4ef73eef1,, - ^roles/persistent-firewall/.*,,1,0
openstack%2Fblazar~master~I26a7e635660eec54b0bef9754ef46aa5af7fe60e,openstack/blazar,master,I26a7e635660eec54b0bef9754ef46aa5af7fe60e,Handle availability zone info in compute host APIs,MERGED,2018-04-25 08:58:32.000000000,2018-07-04 03:39:39.000000000,2018-07-04 03:39:38.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-04-25 08:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d8ee481ac24df1cd812c336f80d4bbed4c54aeaf', 'message': 'Add availability_zone column to computehosts table\n\nPartially Implements: blueprint multi-freepools\n\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 2, 'created': '2018-04-26 07:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9beea982fbf113a9802b5822b06c9243e2e2a7b0', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 3, 'created': '2018-05-08 07:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/13ef0160dc87a31411addda5654d0cd0a9e0cadb', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 4, 'created': '2018-05-16 08:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/714114f447faa24b48e57abb0c54526709f3da99', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 5, 'created': '2018-05-18 05:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/87b2ab9b30b8cff3af7a8f3877bb8de4981d540e', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 6, 'created': '2018-06-13 06:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/da75402474189e32d27dc3e76c47681c6c3ab4ee', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 7, 'created': '2018-06-14 07:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0d09138e24967996fd9f2bcde40091208e6917ea', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 8, 'created': '2018-06-14 07:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/2a120b30af8ee5ee78566b270e5842a3194e3c7c', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}, {'number': 9, 'created': '2018-07-04 01:49:28.000000000', 'files': ['doc/source/specs/rocky/multi-freepools.rst', 'blazar/utils/openstack/nova.py', 'releasenotes/notes/multi-freepools-9d88b1f79c330a3c.yaml', 'blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'blazar/db/sqlalchemy/models.py', 'blazar/db/migration/alembic_migrations/versions/35b314cd39ee_add_az_in_compute.py', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/c2ab836293cb886f115a3a610d702c721fd60b7a', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e\n'}]",19,564138,c2ab836293cb886f115a3a610d702c721fd60b7a,36,5,9,8878,,,0,"Handle availability zone info in compute host APIs

The create host API stores availability zone information into the
computehosts tables. The information comes from Nova's availability
zone API.

Cloud users can specify the availability zone information by following
query in the host reservation and the instance reservation.

- The host reservation
  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]

- The instance reservation
  resource_properties=[""=="", ""$availability_zone"", ""zone1""]

The az_aware config is a flag to store the infomation or not.
If a cloud operator doesn't prefer to store the information, set the
flag to False.

Implements: blueprint multi-freepools
Change-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/38/564138/6 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'blazar/db/sqlalchemy/models.py', 'blazar/db/migration/alembic_migrations/versions/35b314cd39ee_add_az_in_compute.py']",3,d8ee481ac24df1cd812c336f80d4bbed4c54aeaf,bp/multi-freepools,"# Copyright 2018 OpenStack Foundation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """"""add_az_in_compute Revision ID: 35b314cd39ee Revises: c0ae6b08b0d7 Create Date: 2018-04-23 07:40:39.750686 """""" # revision identifiers, used by Alembic. revision = '35b314cd39ee' down_revision = 'c0ae6b08b0d7' from alembic import op import sqlalchemy as sa def upgrade(): op.add_column('computehosts', sa.Column('availability_zone', sa.String(length=255), default="""", nullable=False)) def downgrade(): op.drop_column('computehosts', 'availability_zone') ",,41,0
openstack%2Fopenstack-helm~master~I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b,openstack/openstack-helm,master,I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b,Replace deploy jq role name,MERGED,2018-06-28 07:15:33.000000000,2018-07-04 03:15:43.000000000,2018-07-04 03:15:43.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25431}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-06-28 07:15:33.000000000', 'files': ['tools/gate/playbooks/osh-infra-deploy-docker.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/052ac34e38e5b40e5a00ed37422f8869921791d8', 'message': 'Replace deploy jq role name\n\nWe should replace role name from deploy-yq to deploy-jq.\n\nDepends-On: https://review.openstack.org/578703\nChange-Id: I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b\n'}]",0,578707,052ac34e38e5b40e5a00ed37422f8869921791d8,12,7,1,25431,,,0,"Replace deploy jq role name

We should replace role name from deploy-yq to deploy-jq.

Depends-On: https://review.openstack.org/578703
Change-Id: I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/578707/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/playbooks/osh-infra-deploy-docker.yaml'],1,052ac34e38e5b40e5a00ed37422f8869921791d8,replace_jq, - deploy-jq - deploy-jq, - deploy-yq - deploy-yq,2,2
openstack%2Fnova~master~I4cb7ac55683951aa5900699ba587da03c22fb0a1,openstack/nova,master,I4cb7ac55683951aa5900699ba587da03c22fb0a1,[doc] enhance admin/configuration/api.rst,MERGED,2018-05-03 09:38:46.000000000,2018-07-04 03:10:58.000000000,2018-07-03 18:59:32.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25254}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-03 09:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8c29c5f2eb6af74057066487f486ad075af57da', 'message': ""[doc] enhance admin/configuration/api.rst\n\nenhance doc including remove 'nova-api' daemon which is deprecated\nto use wsgi instead, and added some operations for password\nresponse.\n\nChange-Id: I4cb7ac55683951aa5900699ba587da03c22fb0a1\n""}, {'number': 2, 'created': '2018-07-02 04:24:59.000000000', 'files': ['doc/source/admin/configuration/api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f44d28590b6fd5ee01fe417a57ab44c3dacbdab2', 'message': ""[doc] enhance admin/configuration/api.rst\n\nenhance doc including remove 'nova-api' daemon which is deprecated\nto use wsgi instead, and added some operations for password\nresponse.\n\nChange-Id: I4cb7ac55683951aa5900699ba587da03c22fb0a1\n""}]",0,566008,f44d28590b6fd5ee01fe417a57ab44c3dacbdab2,22,14,2,6062,,,0,"[doc] enhance admin/configuration/api.rst

enhance doc including remove 'nova-api' daemon which is deprecated
to use wsgi instead, and added some operations for password
response.

Change-Id: I4cb7ac55683951aa5900699ba587da03c22fb0a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/566008/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/api.rst'],1,e8c29c5f2eb6af74057066487f486ad075af57da,enhance_api_configuration_1,"The Compute API, is the component of OpenStack Compute that receives and responds to user requests, whether they be direct API calls, or via the CLI tools or dashboard.when they create, rebuild, rescue or evacuate a server instance. If the user does not specify a password, a random password is generated and returned in the API response.To prevent this confusion, set the ``enable_instance_password`` configuration to ``False`` to disable the return of the admin password for installations that do not support setting instance passwords.","The Compute API, run by the ``nova-api`` daemon, is the component of OpenStack Compute that receives and responds to user requests, whether they be direct API calls, or via the CLI tools or dashboard.when they create or rebuild a server instance. If the user does not specify a password, a random password is generated and returned in the API response.To prevent this confusion, use the ``enable_instance_password`` configuration option to disable the return of the admin password for installations that do not support setting instance passwords.",9,8
openstack%2Fqinling~master~I4d4eed380a4140c905603891e1dfa942834bd25d,openstack/qinling,master,I4d4eed380a4140c905603891e1dfa942834bd25d,Invoke Python function in a directory rather than a zip package,MERGED,2018-07-03 12:54:47.000000000,2018-07-04 03:02:56.000000000,2018-07-04 03:02:56.000000000,"[{'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 12:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/a29e9326a84a2e3751b68cbe27d14e9be67e0d92', 'message': 'Invoke Python function in a directory rather than a zip package\n\nThere is a limitation for loading modules directly from a zip file:\n""ZIP import of dynamic modules (.pyd,\xa0.so) is disallowed."" which\nmakes most of python libs including C extentions not work. So we have\nto extract the zip before executing the function.\n\nChange-Id: I4d4eed380a4140c905603891e1dfa942834bd25d\n'}, {'number': 2, 'created': '2018-07-03 13:57:04.000000000', 'files': ['runtimes/python2/server.py', 'qinling/config.py', 'runtimes/sidecar/sidecar.py', 'qinling_tempest_plugin/config.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/qinling/commit/bbfe83eee3474db1b69ffcb05fbcbffe042514ea', 'message': 'Invoke Python function in a directory rather than a zip package\n\nThere is a limitation for loading modules directly from a zip file:\n""ZIP import of dynamic modules (.pyd,\xa0.so) is disallowed."" which\nmakes most of python libs including C extentions not work. So we have\nto extract the zip before executing the function.\n\nChange-Id: I4d4eed380a4140c905603891e1dfa942834bd25d\n'}]",0,579858,bbfe83eee3474db1b69ffcb05fbcbffe042514ea,8,2,2,6732,,,0,"Invoke Python function in a directory rather than a zip package

There is a limitation for loading modules directly from a zip file:
""ZIP import of dynamic modules (.pyd,.so) is disallowed."" which
makes most of python libs including C extentions not work. So we have
to extract the zip before executing the function.

Change-Id: I4d4eed380a4140c905603891e1dfa942834bd25d
",git fetch https://review.opendev.org/openstack/qinling refs/changes/58/579858/2 && git format-patch -1 --stdout FETCH_HEAD,"['runtimes/python2/server.py', 'qinling/config.py', 'runtimes/sidecar/sidecar.py', 'qinling_tempest_plugin/config.py', 'devstack/settings']",5,a29e9326a84a2e3751b68cbe27d14e9be67e0d92,fix-python-runtime,QINLING_PYTHON_RUNTIME_IMAGE=${QINLING_PYTHON_RUNTIME_IMAGE:-openstackqinling/python-runtime:0.0.4}QINLING_SIDECAR_IMAGE=${QINLING_SIDECAR_IMAGE:-openstackqinling/sidecar:0.0.2},QINLING_PYTHON_RUNTIME_IMAGE=${QINLING_PYTHON_RUNTIME_IMAGE:-openstackqinling/python-runtime:0.0.3}QINLING_SIDECAR_IMAGE=${QINLING_SIDECAR_IMAGE:-openstackqinling/sidecar:0.0.1},13,13
openstack%2Fpatrole~master~I71099c62cb9c49739ec21579f24d4fd8a9cbf432,openstack/patrole,master,I71099c62cb9c49739ec21579f24d4fd8a9cbf432,Add fixed ip cleanup to test_add_fixed_ip,MERGED,2018-06-18 20:59:57.000000000,2018-07-04 02:53:53.000000000,2018-07-04 02:53:53.000000000,"[{'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-06-18 20:59:57.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/1bed58be501ac22ef8f6c01f1e1e77fe2c6129a8', 'message': 'Add fixed ip cleanup to test_add_fixed_ip\n\nThere is a data race on clean up with the test test_add_fixed_ip\nbecause it can currently fail during resource_cleanup [0] with:\n""One or more ports have an IP allocation from this subnet.""\n\n[0] http://logs.openstack.org/36/575536/4/gate/patrole-admin/ccf48f1/testr_results.html.gz\n\nChange-Id: I71099c62cb9c49739ec21579f24d4fd8a9cbf432\n'}]",0,576266,1bed58be501ac22ef8f6c01f1e1e77fe2c6129a8,9,4,1,23186,,,0,"Add fixed ip cleanup to test_add_fixed_ip

There is a data race on clean up with the test test_add_fixed_ip
because it can currently fail during resource_cleanup [0] with:
""One or more ports have an IP allocation from this subnet.""

[0] http://logs.openstack.org/36/575536/4/gate/patrole-admin/ccf48f1/testr_results.html.gz

Change-Id: I71099c62cb9c49739ec21579f24d4fd8a9cbf432
",git fetch https://review.opendev.org/openstack/patrole refs/changes/66/576266/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py'],1,1bed58be501ac22ef8f6c01f1e1e77fe2c6129a8,ip-allocation-cleanup," waiters.wait_for_interface_status( self.interfaces_client, self.server['id'], interface['port_id'], 'ACTIVE') waiters.wait_for_interface_status( self.interfaces_client, self.server['id'], interface['port_id'], 'ACTIVE') # Get the Fixed IP from server. server_detail = self.servers_client.show_server( self.server['id'])['server'] fixed_ip = None for ip_set in server_detail['addresses']: for ip in server_detail['addresses'][ip_set]: if ip['OS-EXT-IPS:type'] == 'fixed': fixed_ip = ip['addr'] break if fixed_ip is not None: break # Remove the fixed IP from server. self.servers_client.remove_fixed_ip(self.server['id'], address=fixed_ip)"," waiters.wait_for_interface_status( self.interfaces_client, self.server['id'], interface['port_id'], 'ACTIVE') waiters.wait_for_interface_status( self.interfaces_client, self.server['id'], interface['port_id'], 'ACTIVE')",20,6
openstack%2Fzun~master~I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2,openstack/zun,master,I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2,Allow branch to be override externally,ABANDONED,2018-05-17 17:00:41.000000000,2018-07-04 02:44:58.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 17:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e7f03928d1cf5e85974f796fadc8c13991c6e0fd', 'message': 'Allow branch to be override externally\n\nNeeded-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d\nChange-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2\n'}, {'number': 2, 'created': '2018-05-17 19:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9c4fc7c4fb261c84227162fe9c0a2230962c38c7', 'message': 'Allow branch to be override externally\n\nNeeded-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d\nChange-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2\n'}, {'number': 3, 'created': '2018-06-25 00:46:50.000000000', 'files': ['playbooks/zun-devstack-base/run.yaml', 'playbooks/zun-devstack-base-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/735578fb9bb5d34e74c7153663a16127002f5a86', 'message': 'Allow branch to be override externally\n\nNeeded-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d\nChange-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2\n'}]",0,569170,735578fb9bb5d34e74c7153663a16127002f5a86,14,2,3,11536,,,0,"Allow branch to be override externally

Needed-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d
Change-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2
",git fetch https://review.opendev.org/openstack/zun refs/changes/70/569170/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/zun-devstack-base/run.yaml', 'playbooks/zun-devstack-base-multinode/run.yaml']",2,e7f03928d1cf5e85974f796fadc8c13991c6e0fd,," export BRANCH_OVERRIDE=""{{ branch_override | default('default') }}""",,2,0
openstack%2Ftripleo-ci~master~Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f,openstack/tripleo-ci,master,Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f,Migrate undercloud jobs to the new base configurations,MERGED,2018-06-27 15:29:55.000000000,2018-07-04 02:37:09.000000000,2018-07-04 02:37:09.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-27 15:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a432c8c4313e23a55d78c8e0d38b4e8ab02ee4bc', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 2, 'created': '2018-06-27 15:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e47262c6721fef3fe50e64d4912a5c355f865736', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 3, 'created': '2018-06-27 20:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b999b2b0523ecc75b1735b5f928756b176bfb64', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 4, 'created': '2018-06-27 20:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ed9c55940abbd1b11d073dcaf2a40ec50ce1d754', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 5, 'created': '2018-06-27 20:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1f0b0fb36e974170bbdb1ce24bf98bf281c020d8', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 6, 'created': '2018-06-28 10:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/358063307c14b201f06670d767b94c3961eaa61c', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 7, 'created': '2018-06-28 10:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c96a9a24f8a31435058185a5c29cd3f82157caac', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 8, 'created': '2018-06-28 11:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/adde7869fcb3d27a71d6704cfe1053aa097d7dab', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 9, 'created': '2018-06-28 12:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dcd4892ee53376f482ff84c05a7bd03172a12691', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 10, 'created': '2018-06-28 20:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e077a1db7e7b57ccde107e5db168082980493cbf', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 11, 'created': '2018-06-29 09:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/73426aef1452fa2debe2495a3852479f0b1a7ec6', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3.\nIt also adds logic to not run any vxlan networking on our own for all\nthe v3 runners.\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}, {'number': 12, 'created': '2018-06-29 11:51:49.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml', 'zuul.d/undercloud-jobs.yaml', 'toci_quickstart.sh', 'zuul.d/nodesets.yaml', 'toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc05b8928940a81517ab9d44c1872968cc9c569f', 'message': 'Migrate undercloud jobs to the new base configurations\n\nThis changes make the undercloud jobs use the new base jobs, nodeset and\nplaybooks requireed to run the job with the configuration that are\ncloser to zuulv3.\nIt also adds logic to not run any vxlan networking on our own for all\nthe v3 runners.\n\nChange-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f\n'}]",0,578447,bc05b8928940a81517ab9d44c1872968cc9c569f,39,7,12,10022,,,0,"Migrate undercloud jobs to the new base configurations

This changes make the undercloud jobs use the new base jobs, nodeset and
playbooks requireed to run the job with the configuration that are
closer to zuulv3.
It also adds logic to not run any vxlan networking on our own for all
the v3 runners.

Change-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/578447/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,a432c8c4313e23a55d78c8e0d38b4e8ab02ee4bc,sprint15, parent: tripleo-ci-base run: playbooks/tripleo-ci/run-v3.yaml nodeset: single-centos-7-node run: playbooks/tripleo-ci/run-v3.yaml nodeset: single-centos-7-node run: playbooks/tripleo-ci/run-v3.yaml nodeset: single-centos-7-node run: playbooks/tripleo-ci/run-v3.yaml nodeset: single-centos-7-node, parent: tripleo-ci-dsvm run: playbooks/tripleo-ci/run.yaml nodeset: legacy-centos-7 run: playbooks/tripleo-ci/run.yaml nodeset: legacy-centos-7 run: playbooks/tripleo-ci/run.yaml nodeset: legacy-centos-7 run: playbooks/tripleo-ci/run.yaml nodeset: legacy-centos-7,10,9
openstack%2Fnova~master~I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822,openstack/nova,master,I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822,Use 'version2' when syncing placement db,MERGED,2018-06-29 15:40:17.000000000,2018-07-04 01:34:38.000000000,2018-07-02 11:04:43.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-06-29 15:40:17.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd4e9496d37f2bc27763926327d45df01fd08a05', 'message': ""Use 'version2' when syncing placement db\n\nThe original code was started before the version2 variable existed.\nSomewhere along the way the change was missed in a merge. This\ncorrects the migration.db_sync call to use the right version.\n\nChange-Id: I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822\nCloses-Bug: #1778734\n""}]",0,579200,dd4e9496d37f2bc27763926327d45df01fd08a05,20,16,1,11564,,,0,"Use 'version2' when syncing placement db

The original code was started before the version2 variable existed.
Somewhere along the way the change was missed in a merge. This
corrects the migration.db_sync call to use the right version.

Change-Id: I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822
Closes-Bug: #1778734
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/579200/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,dd4e9496d37f2bc27763926327d45df01fd08a05,bug/1778734," result = migration.db_sync(version2, database='placement')"," result = migration.db_sync(version, database='placement')",1,1
openstack%2Fnova~master~I073bd537a5756c6693e82237d4d1f9c0c3992395,openstack/nova,master,I073bd537a5756c6693e82237d4d1f9c0c3992395,[placement] fix allocation handler docstring typo,MERGED,2018-06-29 15:33:39.000000000,2018-07-04 01:28:34.000000000,2018-06-29 23:25:46.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-06-29 15:33:39.000000000', 'files': ['nova/api/openstack/placement/handlers/allocation.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e30b6a770a6fb7db8698dc614f2785c7072c1bee', 'message': '[placement] fix allocation handler docstring typo\n\nReview of I4b69ddaa6dbb66f977c5dad2d508cac3192d19d4 identified a\nnon-blocking type. This fixes it.\n\nTrivialFix\n\nChange-Id: I073bd537a5756c6693e82237d4d1f9c0c3992395\n'}]",2,579198,e30b6a770a6fb7db8698dc614f2785c7072c1bee,17,13,1,11564,,,0,"[placement] fix allocation handler docstring typo

Review of I4b69ddaa6dbb66f977c5dad2d508cac3192d19d4 identified a
non-blocking type. This fixes it.

TrivialFix

Change-Id: I073bd537a5756c6693e82237d4d1f9c0c3992395
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/579198/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/handlers/allocation.py'],1,e30b6a770a6fb7db8698dc614f2785c7072c1bee,cd/typo-fox, :param data: A dictionary of multiple allocations by consumer uuid., :param data: A dictionary of multiples allocations by consumer uuid.,1,1
openstack%2Fnova~master~I345f372815aef5ac0fb6fc607812ce81587734bf,openstack/nova,master,I345f372815aef5ac0fb6fc607812ce81587734bf,Fix placement incompatible with webob 1.7,MERGED,2018-06-29 09:46:44.000000000,2018-07-04 01:27:57.000000000,2018-06-29 23:20:51.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-29 09:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9e764bce4e3b7c06baf671e28ff52d9f2d16925', 'message': ""Fix placement incompatible with webob 1.7\n\nIn Ie4d81fa178b3ed6b2a7b450b4978009486f07810 we started using a new WebOb API\nfor introspecting headers but since this new API isn't supported by older\nversions than 1.8, we still need to provide a backwards compatible mechanism\nfor WebOb 1.7 (as upstream gate allows 1.7.1 and newer).\n\nChange-Id: I345f372815aef5ac0fb6fc607812ce81587734bf\nCloses-Bug: #1773225\n""}, {'number': 2, 'created': '2018-06-29 13:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ea5a6c5b757a0d200e7ffebfc6b16fb6959d6ae', 'message': ""Fix placement incompatible with webob 1.7\n\nIn Ie4d81fa178b3ed6b2a7b450b4978009486f07810 we started using a new WebOb API\nfor introspecting headers but since this new API isn't supported by older\nversions than 1.8, we need to only accept 1.8.1 or 1.8.2 for Nova\n(because 1.8.0 was having a bug fixed by 1.8.1 at least).\n\nChange-Id: I345f372815aef5ac0fb6fc607812ce81587734bf\nCloses-Bug: #1773225\n""}, {'number': 3, 'created': '2018-06-29 14:55:45.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e0ad14333f00e464826921d8b7a7e53e2c30c9', 'message': ""Fix placement incompatible with webob 1.7\n\nIn Ie4d81fa178b3ed6b2a7b450b4978009486f07810 we started using a new WebOb API\nfor introspecting headers but since this new API isn't supported by older\nversions than 1.8, we need to only accept 1.8.1 or 1.8.2 for Nova\n(because 1.8.0 was having a bug fixed by 1.8.1 at least).\n\nChange-Id: I345f372815aef5ac0fb6fc607812ce81587734bf\nCloses-Bug: #1773225\n""}]",1,579110,c4e0ad14333f00e464826921d8b7a7e53e2c30c9,36,16,3,7166,,,0,"Fix placement incompatible with webob 1.7

In Ie4d81fa178b3ed6b2a7b450b4978009486f07810 we started using a new WebOb API
for introspecting headers but since this new API isn't supported by older
versions than 1.8, we need to only accept 1.8.1 or 1.8.2 for Nova
(because 1.8.0 was having a bug fixed by 1.8.1 at least).

Change-Id: I345f372815aef5ac0fb6fc607812ce81587734bf
Closes-Bug: #1773225
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/579110/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/util.py'],1,f9e764bce4e3b7c06baf671e28ff52d9f2d16925,bug/1773225, try: # NOTE(sbauza): WebOb 1.8 provides a better API for # introspecting headers but which is not backwards # compatible with older versions best_matches = req.accept.acceptable_offers(types) except AttributeError: # NOTE(sbauza); Upsteam gate still allows WebOb 1.7 so we # need to call the old API in this case. # TODO(sbauza): Remove the try/catch clause once upstream # requirements only support WebOb 1.8 and above. best_matches = req.accept.best_match(types), best_matches = req.accept.acceptable_offers(types),11,1
openstack%2Fnova~master~I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa,openstack/nova,master,I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa,manage: Remove dead code,MERGED,2018-06-29 10:50:07.000000000,2018-07-04 01:17:02.000000000,2018-07-02 00:42:58.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-06-29 10:50:07.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2337aa5a7f14b9e9f69743479e63840f969560dc', 'message': ""manage: Remove dead code\n\nThere is code here to handle 'CONF.network_manager' being set to\n'NeutronManager'. This is a long-dead pattern, having been replaced by\nthe 'use_neutron' option, and would never be called given that the\n'validate_network_plugin' decorator ensures the functions can only be\nused for nova-network. Just remove it.\n\nChange-Id: I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,579118,2337aa5a7f14b9e9f69743479e63840f969560dc,48,14,1,15334,,,0,"manage: Remove dead code

There is code here to handle 'CONF.network_manager' being set to
'NeutronManager'. This is a long-dead pattern, having been replaced by
the 'use_neutron' option, and would never be called given that the
'validate_network_plugin' decorator ensures the functions can only be
used for nova-network. Just remove it.

Change-Id: I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/579118/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,2337aa5a7f14b9e9f69743479e63840f969560dc,remove-nova-network,," if ""NeutronManager"" in CONF.network_manager: if uuid is None: raise Exception(_(""UUID is required to delete "" ""Neutron Networks"")) if fixed_range: raise Exception(_(""Deleting by fixed_range is not supported "" ""with the NeutronManager""))",1,7
openstack%2Fpuppet-designate~master~I89f5b4b24558a4d8b66b2a9082fec152694e6b6a,openstack/puppet-designate,master,I89f5b4b24558a4d8b66b2a9082fec152694e6b6a,Set minimal-responses in BIND backend configuration,MERGED,2018-06-28 16:33:45.000000000,2018-07-04 01:01:06.000000000,2018-07-04 01:01:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 16:33:45.000000000', 'files': ['manifests/backend/bind9.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d7aa75209dda69f56287f2c9436d6ac9605d70d9', 'message': 'Set minimal-responses in BIND backend configuration\n\nThis is recommended as a mitigation for a potential cache poisoning\nattack when using BIND with Designate.\n\nhttps://docs.openstack.org/designate/queens/admin/production-guidelines.html#bind9-mitigation\n\nChange-Id: I89f5b4b24558a4d8b66b2a9082fec152694e6b6a\n'}]",0,578881,d7aa75209dda69f56287f2c9436d6ac9605d70d9,15,4,1,6928,,,0,"Set minimal-responses in BIND backend configuration

This is recommended as a mitigation for a potential cache poisoning
attack when using BIND with Designate.

https://docs.openstack.org/designate/queens/admin/production-guidelines.html#bind9-mitigation

Change-Id: I89f5b4b24558a4d8b66b2a9082fec152694e6b6a
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/81/578881/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/backend/bind9.pp'],1,d7aa75209dda69f56287f2c9436d6ac9605d70d9,minimal-responses," # Recommended by Designate docs as a mitigation for potential cache # poisoning attacks: # https://docs.openstack.org/designate/queens/admin/production-guidelines.html#bind9-mitigation concat::fragment { 'dns minimal-responses': target => $::dns::optionspath, content => 'minimal-responses yes;', order => '21', } ",,9,0
openstack%2Fnova~master~I2da96671f9008c9622f92b23f751437ad9a74014,openstack/nova,master,I2da96671f9008c9622f92b23f751437ad9a74014,Fix nits in placement-return-all-resources series,MERGED,2018-06-08 07:34:34.000000000,2018-07-04 00:53:26.000000000,2018-06-29 15:44:48.000000000,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16237}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26311}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27336}, {'_account_id': 27386}]","[{'number': 1, 'created': '2018-06-08 07:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4803df5879cf55d17b75f917f416b51bf92edc2', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 2, 'created': '2018-06-09 07:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9f7628aac189b045c29ccac1f12a2a1aa5cfb08', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 3, 'created': '2018-06-10 01:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad5e74b101b1b2d06cf039d67f60cecce6e31a96', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 4, 'created': '2018-06-10 03:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/addc8f61a4e2be0eea26025f6dd5fd812e33860d', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 5, 'created': '2018-06-12 11:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f63721e4eec36a396ddfa5693a1872d31521a8d4', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 6, 'created': '2018-06-13 01:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6474dd84320c9a0d1c1cacd119afba9e676e04a', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 7, 'created': '2018-06-15 05:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f65b99ba2e474c3fde5c0cb712fe962481e9199f', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 8, 'created': '2018-06-16 08:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/077719c93f032c00d491c1df93178faaa1470318', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 9, 'created': '2018-06-16 08:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d374bc548bc4370ff163f675fde283446e6a60df', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 10, 'created': '2018-06-17 04:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a487b8255c89b44710003011212c3c6af3917984', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 11, 'created': '2018-06-17 05:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30aeb94f08b9d1fac7d1db5680cb0c07dee31e40', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 12, 'created': '2018-06-21 04:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0f3e7a38ab629d3bd381818669f28a74c559f82', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 13, 'created': '2018-06-22 01:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6000b9cc88a6fede6111718275704027515dac7', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 14, 'created': '2018-06-22 02:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1e8224577e0f1232c1378240b55b7928d278002', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}, {'number': 15, 'created': '2018-06-29 08:51:13.000000000', 'files': ['nova/api/openstack/placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4240fa72873c4724b523775f45250945718f7d5b', 'message': 'Fix nits in placement-return-all-resources series\n\nAddresses the following minor/nonblocking review comments from earlier\nin this series:\n\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120\nhttps://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168\nhttps://review.openstack.org/#/c/565487/31/nova/api/openstack/placement/handlers/allocation_candidate.py@146\n\nChange-Id: I2da96671f9008c9622f92b23f751437ad9a74014\n'}]",1,573604,4240fa72873c4724b523775f45250945718f7d5b,174,28,15,25625,,,0,"Fix nits in placement-return-all-resources series

Addresses the following minor/nonblocking review comments from earlier
in this series:

https://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120
https://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168
https://review.openstack.org/#/c/565487/31/nova/api/openstack/placement/handlers/allocation_candidate.py@146

Change-Id: I2da96671f9008c9622f92b23f751437ad9a74014
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/573604/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/handlers/allocation_candidate.py'],1,d4803df5879cf55d17b75f917f416b51bf92edc2,bp/nested-resource-providers-allocation-candidates,"def _transform_provider_summaries(p_sums, requests, want_version): The traits only show up when `want_version` is 1.17 or newer. All the resource classes are shown when `want_version` is 1.27 or newer while only requested resources are included in the `provider_summaries` for older versions. The parent and root provider uuids only show up when `want_version` is 1.28 or newer. include_traits = want_version.matches((1, 17)) include_all_resources = want_version.matches((1, 27)) enable_nested_providers = want_version.matches((1, 28)) requested_resources |= set(requested_group.resources) alloc_cands.provider_summaries, requests, want_version) if not want_version.matches((1, 28)):","def _transform_provider_summaries(p_sums, requests, include_traits=False, include_all_resources=False, enable_nested_providers=False): The traits only show up when `include_traits` is `True`. When `include_all_resources` is `True`, all the resource classes are shown while only requested resources are included in the `provider_summaries` when `include_all_resources` is `False`. requested_resources |= set(requested_group.resources.keys()) include_traits = want_version.matches((1, 17)) include_all_resources = want_version.matches((1, 27)) enable_nested_providers = want_version.matches((1, 28)) alloc_cands.provider_summaries, requests, include_traits=include_traits, include_all_resources=include_all_resources, enable_nested_providers=enable_nested_providers) if not enable_nested_providers:",12,16
openstack%2Fproject-config~master~Idc7b5f28c9a57890ded3e442387df9d781d7233b,openstack/project-config,master,Idc7b5f28c9a57890ded3e442387df9d781d7233b,Drop neutron-tempest-multinode-full job from Tempest,MERGED,2018-07-01 20:37:56.000000000,2018-07-04 00:49:12.000000000,2018-07-03 06:23:31.000000000,"[{'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-07-01 20:37:56.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b546236abee519843b23a16f3ade91f1162ec1da', 'message': 'Drop neutron-tempest-multinode-full job from Tempest\n\nThis patchset drops neutron-tempest-multinode-full job from\nTempest since Tempest now has an in-tree Zuul v3 version called\ntempest-multinode-full (which is voting, while this legacy\njob being removed is non-voting). tempest-multinode-full\nreplaces neutron-tempest-multinode-full [0].\n\nThis is to cut down on extraneous resource consumption\nthat is being dedicated to an obsolete job.\n\n[0] https://github.com/openstack/tempest/blob/83b154a28369a062ab7a4c014531a86abf650133/.zuul.yaml#L105\n\nChange-Id: Idc7b5f28c9a57890ded3e442387df9d781d7233b\n'}]",0,579399,b546236abee519843b23a16f3ade91f1162ec1da,16,6,1,23186,,,0,"Drop neutron-tempest-multinode-full job from Tempest

This patchset drops neutron-tempest-multinode-full job from
Tempest since Tempest now has an in-tree Zuul v3 version called
tempest-multinode-full (which is voting, while this legacy
job being removed is non-voting). tempest-multinode-full
replaces neutron-tempest-multinode-full [0].

This is to cut down on extraneous resource consumption
that is being dedicated to an obsolete job.

[0] https://github.com/openstack/tempest/blob/83b154a28369a062ab7a4c014531a86abf650133/.zuul.yaml#L105

Change-Id: Idc7b5f28c9a57890ded3e442387df9d781d7233b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/579399/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b546236abee519843b23a16f3ade91f1162ec1da,tempest-multinode,, - neutron-tempest-multinode-full: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$,0,11
openstack%2Fnova~master~I6cecb25c6c16cecc23d4008474d150b1f15f7d8a,openstack/nova,master,I6cecb25c6c16cecc23d4008474d150b1f15f7d8a,Add microversion for nested allocation candidate,MERGED,2018-05-01 11:52:48.000000000,2018-07-04 00:46:02.000000000,2018-06-29 15:03:02.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-05-01 11:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c63cb983030c34a9bdcca8762fa96d6581b8454', 'message': 'WIP: Support nested allocation candidates\n\nThis patch adds a microversion and a release note for nested provider\nallocation candidates.\n\nFrom now on, nested allocation candidates is supported and parent\nprovider uuids and root provider uuids are in the provider_summaries.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\n'}, {'number': 2, 'created': '2018-05-02 12:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc92b904d606575d2eb9391dc25cbe885bd0cfb', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` filds are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: bp/placement-return-all-resources\n'}, {'number': 3, 'created': '2018-05-03 08:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b97a36540eb35feabe4283121c0858e7e4eb95a0', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` filds are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 4, 'created': '2018-05-06 07:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55a50d9deffd80efa2622c767b78106ae5c40056', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` filds are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 5, 'created': '2018-05-06 08:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e5a75bcec1101654f972c5b398f79d0aa4d0473', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` filds are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 6, 'created': '2018-05-08 07:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958cd26c84c8acc03735a330ec400a7f54f1ef2e', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` filds are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 7, 'created': '2018-05-08 09:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58b83d966bd57d149fab9df3ce145fe07f59dc1c', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` filds are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 8, 'created': '2018-05-15 04:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f365894261640bc0935bd4bd65ba377865e3e3d', 'message': 'Support nested allocation candidates in placement\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 9, 'created': '2018-05-15 09:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3213c469d59b059d839e6cf431c12dd765a70c6', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 10, 'created': '2018-05-15 12:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f17867ce2f39f3585271b627136349457e180eb', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 11, 'created': '2018-05-16 02:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f45d08a895fe2ed6a0b4b555d621251a57914474', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 12, 'created': '2018-05-17 01:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e22568e8f7c18ac761ccf4eb0b1b8c78d96d2437', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 13, 'created': '2018-05-17 01:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc7f0385b64d981162766eb02449bb9173eda8c8', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 14, 'created': '2018-05-17 05:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c9e3da39d3a696018d6894664cb22b681d5584', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 15, 'created': '2018-05-27 07:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c1f88224d36dd8483362323384d98b10356ec2f', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 16, 'created': '2018-06-07 11:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3edc5c11efccfaab3f0628fa7e57e013ef6162ce', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 17, 'created': '2018-06-08 07:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/907b6390905156eeae96172a47f76b6fc0755d19', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 18, 'created': '2018-06-09 07:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/679b96c6dc3494ca6e025406fe07e9c6322b7f41', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 19, 'created': '2018-06-10 01:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f73ec33f12d8632bc85c7629e4ad433d8bdb0cc', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 20, 'created': '2018-06-10 03:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2acaa6dc02958215604bfa3322274b8a5b3122c', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 21, 'created': '2018-06-12 11:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be42a45d02d76096e54ccca5ab9d1fa73d95ac6b', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 22, 'created': '2018-06-13 01:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6e16fa04037281380eb548ca80ca7fa7b02a395', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 23, 'created': '2018-06-15 05:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/665b35b9fe5a300242f200809aa76fb9dbe387da', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: placement-return-all-resources\n'}, {'number': 24, 'created': '2018-06-16 08:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a9b5c2fca13dfd4c779f82fdc5a6e4de3b42f7', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 25, 'created': '2018-06-16 08:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08bce31b68c8b264638e786ec41142ae78ac89a6', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 26, 'created': '2018-06-17 04:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49f7e6d394f4d620dcb453790ea8486a4b8c11cb', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 27, 'created': '2018-06-17 05:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a48b593399c66e81c2803f139ef0a1c31998bd3', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 28, 'created': '2018-06-20 06:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9267194373178664190083b6d0f894e35f2707f7', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 29, 'created': '2018-06-21 04:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06cafa144df8bb0568714d543f535ec15ab7f2cd', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 30, 'created': '2018-06-22 01:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5841c97d35f566df55f40839dff6fb827bfac1e7', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 31, 'created': '2018-06-22 02:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9637da44be3e5d625aa2abfc83783812162ff9c', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 32, 'created': '2018-06-29 08:51:13.000000000', 'files': ['nova/api/openstack/placement/rest_api_version_history.rst', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'releasenotes/notes/nested-resource-providers-allocation-candidates-66c1c5b0a3e93513.yaml', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/tests/functional/api/openstack/placement/gabbits/allocation-candidates.yaml', 'nova/api/openstack/placement/microversion.py', 'nova/tests/functional/api/openstack/placement/db/test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4aa7845901a6127ad7266596d9aca4442f7d48', 'message': 'Add microversion for nested allocation candidate\n\nThis patch adds a microversion with a release note for allocation\ncandidates with nested resource provider trees.\n\nFrom now on we support allocation candidates with nested resource\nproviders with the following features.\n\n1) ``GET /allocation_candidates`` is aware of nested providers.\n   Namely, when provider trees are present, ``allocation_requests``\n   in the response of ``GET /allocation_candidates`` can include\n   allocations on combinations of multiple resource providers\n   in the same tree.\n2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are\n    added to ``provider_summaries`` in the response of\n   ``GET /allocation_candidates``.\n\nChange-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a\nBlueprint: nested-resource-providers-allocation-candidates\n'}]",38,565487,5b4aa7845901a6127ad7266596d9aca4442f7d48,319,19,32,25625,,,0,"Add microversion for nested allocation candidate

This patch adds a microversion with a release note for allocation
candidates with nested resource provider trees.

From now on we support allocation candidates with nested resource
providers with the following features.

1) ``GET /allocation_candidates`` is aware of nested providers.
   Namely, when provider trees are present, ``allocation_requests``
   in the response of ``GET /allocation_candidates`` can include
   allocations on combinations of multiple resource providers
   in the same tree.
2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are
    added to ``provider_summaries`` in the response of
   ``GET /allocation_candidates``.

Change-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a
Blueprint: nested-resource-providers-allocation-candidates
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/565487/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py']",2,4c63cb983030c34a9bdcca8762fa96d6581b8454,bp/nested-resource-providers-allocation-candidates," include_all_resources=False, include_nested_providers=False): parent_provider_uuid: '', root_provider_uuid: RP_UUID_1 ], parent_provider_uuid: '', root_provider_uuid: RP_UUID_2 if include_nested_providers: ret[ps.resource_provider.uuid]['parent_provider_uuid'] = ( ps.resource_provider.parent_provider_uuid) ret[ps.resource_provider.uuid]['root_provider_uuid'] = ( ps.resource_provider.root_provider_uuid) def _exclude_nested_providers(ret_a_reqs, ret_p_sums, p_sums, want_version): """"""Exclude nested providers from both allocation requests and provider summaries for old microversions """""" # Get a list of nested provider uuids to exclude nested_provider_uuids = [ps.resource_provider.uuid for ps in p_sums if ps.resource_provider.parent_provider_uuid] for nested_provider_uuid in nested_provider_uuids: # Exclude nested providers from the allocation request. if want_version.matches((1, 12)): # The allocation request is dict format for a_req in ret_a_reqs[:]: for alloc_rp_uuid in a_req['allocations']: if alloc_rp_uuid == nested_provider_uuid: ret_a_reqs.remove(a_req) break else: # The allocation request is list format for a_req in ret_a_reqs[:]: for alloc_dict in a_req['allocations']: alloc_rp_uuid = alloc_dict['resource_provider']['uuid'] if alloc_rp_uuid == nested_provider_uuid: ret_a_reqs.remove(a_req) break # Exclude nested providers from the provider summaries. del ret_p_sums[nested_provider_uuid] return (ret_a_reqs, ret_p_sums) include_nested_providers = want_version.matches((1, 25)) include_all_resources=include_all_resources, include_nested_providers=include_nested_providers) # exclude nested providers with old microversions if not include_nested_providers: a_reqs, p_sums = _exclude_nested_providers( a_reqs, p_sums, alloc_cands.provider_summaries, want_version) ", include_all_resources=False): ] include_all_resources=include_all_resources),74,6
openstack%2Foslo.db~master~Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6,openstack/oslo.db,master,Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6,Rename enginefacade.async to enginefacade.async_,MERGED,2018-06-12 17:27:51.000000000,2018-07-04 00:40:44.000000000,2018-07-04 00:40:44.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 11816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 17:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5d84f21775ef348934590a0796177dad36326b3a', 'message': 'Rename enginefacade.async to enginefacade.async_\n\nPython 3.7 now makes ""async"" a keyword, so deprecate the\n""async"" name and replace with ""async_"".  Additionally,\nuse attribute name access only in order to implement and\ntest ""async"" as it won\'t work under Python 3.7.\n\nWIP, needs some review for correct patterns.  Also is there\na bug number?\n\nChange-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6\n'}, {'number': 2, 'created': '2018-06-25 14:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/21d327bb670d81d0cb8a13d062d2f9d9fecc3d31', 'message': 'Rename enginefacade.async to enginefacade.async_\n\nPython 3.7 now makes ""async"" a keyword, so deprecate the\n""async"" name and replace with ""async_"".  Additionally,\nuse attribute name access only in order to implement and\ntest ""async"" as it won\'t work under Python 3.7.\n\nCloses-Bug: #1775866\nChange-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6\n'}, {'number': 3, 'created': '2018-06-25 15:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9d59540cc3064cecd413213f2a57b22252cc0fde', 'message': 'Rename enginefacade.async to enginefacade.async_\n\nPython 3.7 now makes ""async"" a keyword, so deprecate the\n""async"" name and replace with ""async_"".  Additionally,\nuse attribute name access only in order to implement and\ntest ""async"" as it won\'t work under Python 3.7.\n\nCloses-Bug: #1775866\nChange-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6\n'}, {'number': 4, 'created': '2018-06-25 19:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3286c2b57ff0eec34cdd6929d9a5a9e27248c26b', 'message': 'Rename enginefacade.async to enginefacade.async_\n\nPython 3.7 now makes ""async"" a keyword, so deprecate the\n""async"" name and replace with ""async_"".  Additionally,\nuse attribute name access only in order to implement and\ntest ""async"" as it won\'t work under Python 3.7.\n\nCloses-Bug: #1775866\nChange-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6\n'}, {'number': 5, 'created': '2018-07-02 22:02:31.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/df6bf3401266f42271627c1e408f87c71a06cef7', 'message': 'Rename enginefacade.async to enginefacade.async_\n\nPython 3.7 now makes ""async"" a keyword, so deprecate the\n""async"" name and replace with ""async_"".  Additionally,\nuse attribute name access only in order to implement and\ntest ""async"" as it won\'t work under Python 3.7.\n\nCloses-Bug: #1775866\nChange-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6\n'}]",4,574833,df6bf3401266f42271627c1e408f87c71a06cef7,19,4,5,11816,,,0,"Rename enginefacade.async to enginefacade.async_

Python 3.7 now makes ""async"" a keyword, so deprecate the
""async"" name and replace with ""async_"".  Additionally,
use attribute name access only in order to implement and
test ""async"" as it won't work under Python 3.7.

Closes-Bug: #1775866
Change-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/33/574833/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py']",2,5d84f21775ef348934590a0796177dad36326b3a,deprecate_async,"import sysimport debtcollector.moves def async_(self):# TODO: correct pattern for this? if sys.version_info < (3, 7): @property @debtcollector.moves.moved_property(""async_"") def async_compat(self): return self.async_ setattr( _TransactionContextManager, ""async"", async_compat ) ", def async(self):,42,6
openstack%2Fneutron~master~I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6,openstack/neutron,master,I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6,Add geneve in neutron tunnel protocols doc,MERGED,2018-06-28 07:40:56.000000000,2018-07-04 00:30:09.000000000,2018-06-29 23:25:58.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-06-28 07:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c131f4c57545ca67bae3e07cc77131cb39ac1353', 'message': 'Add geneve in neutron tunnel protocols doc\n\nThe patch adds the introduce of geneve in neutron tunnel\nprotocols doc.\n\nChange-Id: I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6\nCloses-Bug: 1778741\n'}, {'number': 2, 'created': '2018-06-28 09:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9ad8b105e0e73cf8c25711d3f74d3d542045b42', 'message': 'Add geneve in neutron tunnel protocols doc\n\nThe patch adds the introduce of geneve in neutron tunnel\nprotocols doc.\n\nChange-Id: I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6\nCloses-Bug: 1778741\n'}, {'number': 3, 'created': '2018-06-29 03:17:41.000000000', 'files': ['doc/source/admin/intro-overlay-protocols.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b37f4402277c8b95984799d03c15095ee55214c3', 'message': 'Add geneve in neutron tunnel protocols doc\n\nThe patch adds the introduce of geneve in neutron tunnel\nprotocols doc.\n\nChange-Id: I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6\nCloses-Bug: 1778741\n'}]",8,578716,b37f4402277c8b95984799d03c15095ee55214c3,21,6,3,25564,,,0,"Add geneve in neutron tunnel protocols doc

The patch adds the introduce of geneve in neutron tunnel
protocols doc.

Change-Id: I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6
Closes-Bug: 1778741
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/578716/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/intro-overlay-protocols.rst'],1,c131f4c57545ca67bae3e07cc77131cb39ac1353,bug/1778741," Generic Network Virtualization Encapsulation (GENEVE) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Geneve is designed to recognize and accommodate changing capabilities and needs of different devices in network virtualization, it providing a framework for tunneling rather than being prescriptive about the entire system. Geneve defines the content of the metadata flexibly that is added during encapsulation and try to adapt to various virtualization scenarios, it uses UDP as its transport protocol and is dynamic in size using extensible option headers. Geneve supports unicast, multicast, and broadcast.",,11,0
openstack%2Foslo.messaging~master~Ic787696852690b59779fb4716aec1e78c48bbe6a,openstack/oslo.messaging,master,Ic787696852690b59779fb4716aec1e78c48bbe6a,Enable RPC call monitoring in AMQP 1.0 driver,MERGED,2018-06-13 15:01:58.000000000,2018-07-04 00:04:17.000000000,2018-07-04 00:04:17.000000000,"[{'_account_id': 4393}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-13 15:01:58.000000000', 'files': ['oslo_messaging/tests/functional/test_functional.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/_drivers/impl_amqp1.py', 'releasenotes/notes/RPC-call-monitoring-7977f047d069769a.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/684e3f0e410e969e00d0acb6f0a5a56f8a856f84', 'message': 'Enable RPC call monitoring in AMQP 1.0 driver\n\nThe call monitoring feature was introduced in commit\nb34ab8b1cc9f4d513a2927c102dbbe82031d9c2a for RabbitMQ.  This patch\nenables the feature on the AMQP 1.0 driver - currently the only other\ndriver that supports RPC.\n\nChange-Id: Ic787696852690b59779fb4716aec1e78c48bbe6a\n'}]",0,575141,684e3f0e410e969e00d0acb6f0a5a56f8a856f84,8,5,1,8770,,,0,"Enable RPC call monitoring in AMQP 1.0 driver

The call monitoring feature was introduced in commit
b34ab8b1cc9f4d513a2927c102dbbe82031d9c2a for RabbitMQ.  This patch
enables the feature on the AMQP 1.0 driver - currently the only other
driver that supports RPC.

Change-Id: Ic787696852690b59779fb4716aec1e78c48bbe6a
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/41/575141/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/functional/test_functional.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/_drivers/impl_amqp1.py', 'releasenotes/notes/RPC-call-monitoring-7977f047d069769a.yaml']",5,684e3f0e410e969e00d0acb6f0a5a56f8a856f84,amqp1-call-monitoring,--- prelude: > RPCClient now supports RPC call monitoring for detecting the loss of a server during an RPC call. features: - | RPC call monitoring is a new RPCClient feature. Call monitoring causes the RPC server to periodically send keepalive messages back to the RPCClient while the RPC call is being processed. This can be used for early detection of a server failure without having to wait for the full call timeout to expire. ,,262,67
openstack%2Fnova~master~I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73,openstack/nova,master,I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73,Remove file injection from config drive sample docs,MERGED,2018-06-28 17:01:59.000000000,2018-07-03 23:44:43.000000000,2018-06-29 15:45:13.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-28 17:01:59.000000000', 'files': ['doc/source/user/config-drive.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/39d457752140c0ee4f8d5dc81faa9a5556a54786', 'message': ""Remove file injection from config drive sample docs\n\nFile injection is disabled by default (see\n[libvirt]/inject_partition) and deprecated\nin the API since microversion 2.57. We\ndon't really want people relying on file\ninjection, so this removes it from the\nconfig drive docs. While in here, also\nreplace the 'nova boot' command mention\nwith 'openstack server create' since that\nis the command used through the examples.\n\nChange-Id: I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73\n""}]",0,578888,39d457752140c0ee4f8d5dc81faa9a5556a54786,14,10,1,6873,,,0,"Remove file injection from config drive sample docs

File injection is disabled by default (see
[libvirt]/inject_partition) and deprecated
in the API since microversion 2.57. We
don't really want people relying on file
injection, so this removes it from the
config drive docs. While in here, also
replace the 'nova boot' command mention
with 'openstack server create' since that
is the command used through the examples.

Change-Id: I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/578888/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/config-drive.rst'],1,39d457752140c0ee4f8d5dc81faa9a5556a54786,config-drive-docs-file-injection," data, a user data file, and two key/value metadata pairs, all of which are If a user passes the ``--config-drive true`` flag to the :command:`openstack server create` command, an administrator cannot disable the configuration drive."," data, two files, and two key/value metadata pairs, all of which are --file /etc/network/interfaces=/home/myuser/instance-interfaces \ --file known_hosts=/home/myuser/.ssh/known_hosts \ If a user passes the ``--config-drive true`` flag to the :command:`nova boot` command, an administrator cannot disable the configuration drive. ""files"": [ { ""content_path"": ""/content/0000"", ""path"": ""/etc/network/interfaces"" }, { ""content_path"": ""/content/0001"", ""path"": ""known_hosts"" } ],Note the effect of the ``--file /etc/network/interfaces=/home/myuser/instance-interfaces`` argument that was passed to the :command:`openstack server create` command. The contents of this file are contained in the ``openstack/content/0000`` file on the configuration drive, and the path is specified as ``/etc/network/interfaces`` in the ``meta_data.json`` file. ",4,23
openstack%2Fnova~master~Id9a16e07709a445814fb7a183bd12f7740722ced,openstack/nova,master,Id9a16e07709a445814fb7a183bd12f7740722ced,More config drive docs updates,MERGED,2018-06-28 17:09:57.000000000,2018-07-03 23:44:33.000000000,2018-07-02 11:04:50.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-28 17:09:57.000000000', 'files': ['doc/source/user/config-drive.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/70b1045a5accc7038ff33b3788baa9ce81fd56da', 'message': 'More config drive docs updates\n\nThis adds two things:\n\n1. Mention the img_config_drive image property\n   which can be used to force a config drive.\n\n2. Note that the config_drive_cdrom config option\n   is for hyper-v only.\n\nChange-Id: Id9a16e07709a445814fb7a183bd12f7740722ced\n'}]",0,578890,70b1045a5accc7038ff33b3788baa9ce81fd56da,14,10,1,6873,,,0,"More config drive docs updates

This adds two things:

1. Mention the img_config_drive image property
   which can be used to force a config drive.

2. Note that the config_drive_cdrom config option
   is for hyper-v only.

Change-Id: Id9a16e07709a445814fb7a183bd12f7740722ced
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/578890/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/config-drive.rst'],1,70b1045a5accc7038ff33b3788baa9ce81fd56da,config-drive-docs, It is also possible to force the config drive by specifying the ``img_config_drive=mandatory`` property in the image. [hyperv].. note:: Attaching a configuration drive as a CD drive is only supported by the Hyper-V compute driver. ,,7,0
openstack%2Fnova~master~I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242,openstack/nova,master,I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242,Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree,MERGED,2018-06-28 16:15:55.000000000,2018-07-03 23:43:27.000000000,2018-06-29 09:08:40.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11655}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-28 16:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4df00662e859cc6a7d5aebe65cf769a8a5a4373', 'message': ""Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree\n\nironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa is\ndefined in the ironic repo but nova uses it because it's defined\nin the project-config repo with it's own irrelevant-files list.\nDue to a recent change in zuul [1], the definition from project-config\noverrides the irrelevant-files from the job definition in ironic and\nresults in us running this job on things like docs-only changes in\nnova, which is not awesome.\n\nThis change moves the job usage in-tree from project-config and updates\nthe irrelevant-files list to match nova-dsvm-base.\n\nSince project-config is branchless, we'll have to backport this in-tree\nchange to nova's stable branches to continue running this job on nova\nstable branches once the override is removed from project-config.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-June/131304.html\n\nChange-Id: I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242\nCloses-Bug: #1776981\n""}, {'number': 2, 'created': '2018-06-28 16:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82dd8710c6499284455bbac9fa7cd5dfdbb5b698', 'message': ""Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree\n\nironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa is\ndefined in the ironic repo but nova uses it because it's defined\nin the project-config repo with it's own irrelevant-files list.\nDue to a recent change in zuul [1], the definition from project-config\noverrides the irrelevant-files from the job definition in ironic and\nresults in us running this job on things like docs-only changes in\nnova, which is not awesome.\n\nThis change moves the job usage in-tree from project-config and updates\nthe irrelevant-files list to match nova-dsvm-base.\n\nTo avoid duplication of the nova-dsvm-base irrelevant-files, a new\ndsvm-irrelevant-files parameter is added so it can be used as a node\nanchor in jobs that use the same irrelevant-files list.\n\nSince project-config is branchless, we'll have to backport this in-tree\nchange to nova's stable branches to continue running this job on nova\nstable branches once the override is removed from project-config.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-June/131304.html\n\nChange-Id: I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242\nCloses-Bug: #1776981\n""}, {'number': 3, 'created': '2018-06-28 16:37:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/17b3bae64ca7aa4c1a6d296860cce6c0bfbb38a1', 'message': ""Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree\n\nironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa is\ndefined in the ironic repo but nova uses it because it's defined\nin the project-config repo with it's own irrelevant-files list.\nDue to a recent change in zuul [1], the definition from project-config\noverrides the irrelevant-files from the job definition in ironic and\nresults in us running this job on things like docs-only changes in\nnova, which is not awesome.\n\nThis change moves the job usage in-tree from project-config and updates\nthe irrelevant-files list to match nova-dsvm-base.\n\nSince project-config is branchless, we'll have to backport this in-tree\nchange to nova's stable branches to continue running this job on nova\nstable branches once the override is removed from project-config.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-June/131304.html\n\nChange-Id: I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242\nCloses-Bug: #1776981\n""}]",1,578878,17b3bae64ca7aa4c1a6d296860cce6c0bfbb38a1,29,13,3,6873,,,0,"Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree

ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa is
defined in the ironic repo but nova uses it because it's defined
in the project-config repo with it's own irrelevant-files list.
Due to a recent change in zuul [1], the definition from project-config
overrides the irrelevant-files from the job definition in ironic and
results in us running this job on things like docs-only changes in
nova, which is not awesome.

This change moves the job usage in-tree from project-config and updates
the irrelevant-files list to match nova-dsvm-base.

Since project-config is branchless, we'll have to backport this in-tree
change to nova's stable branches to continue running this job on nova
stable branches once the override is removed from project-config.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-June/131304.html

Change-Id: I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242
Closes-Bug: #1776981
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/578878/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f4df00662e859cc6a7d5aebe65cf769a8a5a4373,bug/1776981, # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false # This irrelevant-files list should match nova-dsvm-base. irrelevant-files: - ^(placement-)?api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tests-py3.txt$ - ^tools/.*$ - ^tox.ini$,,19,0
openstack%2Ftempest~master~I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08,openstack/tempest,master,I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08,Add volume-attached resize revert server test,MERGED,2017-12-12 15:49:32.000000000,2018-07-03 22:28:13.000000000,2018-07-03 22:28:13.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-12-12 15:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f255ea2c2d8e674ff72dfb97e73731b3ad97451f', 'message': ""Add volume-attached resize revert server test\n\nWe have a test to confirm a volume-backed server but there\nare subtle differences in how nova handles volume-backed servers\nvs attached non-root volumes during a resize, and we regressed\nthat functionality recently because we don't have CI coverage\nfor it.\n\nTrove CI jobs have a test for a non-root volume attached resize\nconfirm scenario but the resize revert scenario is not tested\nin integration CI so a test is added for that here.\n\nChange-Id: I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08\nRelated-Bug: #1737599\n""}, {'number': 2, 'created': '2017-12-13 15:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22b38d9daa766c22968f2b487229cf1a3d43cd22', 'message': ""Add volume-attached resize revert server test\n\nWe have a test to confirm a volume-backed server but there\nare subtle differences in how nova handles volume-backed servers\nvs attached non-root volumes during a resize, and we regressed\nthat functionality recently because we don't have CI coverage\nfor it.\n\nTrove CI jobs have a test for a non-root volume attached resize\nconfirm scenario but the resize revert scenario is not tested\nin integration CI so a test is added for that here.\n\nDepends-On: Ifc80d07d94311534fd9e7824ede9d09223a011c2\n\nChange-Id: I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08\nRelated-Bug: #1737599\n""}, {'number': 3, 'created': '2018-03-06 15:40:27.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/01ff7c6edf15165f917b828055e23689da191610', 'message': ""Add volume-attached resize revert server test\n\nWe have a test to confirm a volume-backed server but there\nare subtle differences in how nova handles volume-backed servers\nvs attached non-root volumes during a resize, and we regressed\nthat functionality recently because we don't have CI coverage\nfor it.\n\nTrove CI jobs have a test for a non-root volume attached resize\nconfirm scenario but the resize revert scenario is not tested\nin integration CI so a test is added for that here.\n\nDepends-On: Ifc80d07d94311534fd9e7824ede9d09223a011c2\n\nChange-Id: I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08\nRelated-Bug: #1737599\n""}]",13,527439,01ff7c6edf15165f917b828055e23689da191610,43,13,3,6873,,,0,"Add volume-attached resize revert server test

We have a test to confirm a volume-backed server but there
are subtle differences in how nova handles volume-backed servers
vs attached non-root volumes during a resize, and we regressed
that functionality recently because we don't have CI coverage
for it.

Trove CI jobs have a test for a non-root volume attached resize
confirm scenario but the resize revert scenario is not tested
in integration CI so a test is added for that here.

Depends-On: Ifc80d07d94311534fd9e7824ede9d09223a011c2

Change-Id: I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08
Related-Bug: #1737599
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/527439/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,f255ea2c2d8e674ff72dfb97e73731b3ad97451f,bug/1737599," @decorators.idempotent_id('fbbf075f-a812-4022-bc5c-ccb8047eef12') @testtools.skipUnless(CONF.compute_feature_enabled.resize, 'Resize not available.') @utils.services('volume') def test_resize_server_revert_with_volume_attached(self): # Tests attaching a volume to a server instance and then resizing # the instance. Once the instance is resize, revert the resize which # should move the instance and volume attachment back to the original # compute host. # Create a blank volume and attach it to the server created in setUp. volume = self.create_volume() server = self.client.show_server(self.server_id)['server'] self.attach_volume(server, volume) # Now resize the server with the blank volume attached. self.client.resize_server(self.server_id, self.flavor_ref_alt) # Explicitly delete the server to get a new one for later # tests. Avoids resize down race issues. self.addCleanup(self.delete_server, self.server_id) waiters.wait_for_server_status( self.client, self.server_id, 'VERIFY_RESIZE') # Now revert the resize which should move the instance and it's volume # attachment back to the original source compute host. self.client.revert_resize_server(self.server_id) waiters.wait_for_server_status(self.client, self.server_id, 'ACTIVE') # Make sure everything still looks OK. server = self.client.show_server(self.server_id)['server'] self.assertEqual(self.flavor_ref, server['flavor']['id']) attached_volumes = server['os-extended-volumes:volumes_attached'] self.assertEqual(1, len(attached_volumes)) self.assertEqual(volume['id'], attached_volumes[0]['id']) ",,32,0
openstack%2Frequirements~master~Iee61fad7954a56b225221e5b5254ee8094911d43,openstack/requirements,master,Iee61fad7954a56b225221e5b5254ee8094911d43,Proposing distro for global-requirements,MERGED,2018-06-28 19:55:49.000000000,2018-07-03 22:03:23.000000000,2018-07-03 22:03:23.000000000,"[{'_account_id': 6579}, {'_account_id': 6593}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 19:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ddba2d2590d9a184e72d9106f782e491a7f72aab', 'message': 'Proposing distro for global-requirements\n\nIn the spirit of ""python 3"" first I would like to propose distro for\nglobal-requirements.\nThe builtin platform.linux_distribution[1] is deprecated and will be\nremoved in 3.8 and the recommended replacement is distro. Since\nlinux_distribution is widely used in OpenStack projects[2], we should\nhave an approved alternative.\n\nIs the library actively maintained?\nYes[3]\n\nIs the library good code?\nYes, it is pretty simple code with 98% coverage[4]\n\nIs the library license compatible?\nYes, Apache 2.0[5]\n\nIs the library already packaged in the distros we target (Ubuntu latest\n/ Fedora latest)?\nUbuntu since artful (17.10)\nFedora since 23\nRHEL 6\n\nIs the function of this library already covered by other libraries in\nglobal-requirements.txt?\nNot that I am aware of.\n\nIs the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\nAs noted above[2], many OpenStack projects are using the deprecated\nfunction. Octavia is one that would like to move to distro.\n\n[1] https://docs.python.org/2/library/platform.html \\\n    #platform.linux_distribution\n[2] http://codesearch.openstack.org/?q=platform.linux_distribution\n[3] https://pypi.org/project/distro/1.2.0/#history\n[4] https://codecov.io/github/nir0s/distro?branch=master\n[5] https://github.com/nir0s/distro/blob/master/LICENSE\n\nChange-Id: Iee61fad7954a56b225221e5b5254ee8094911d43\n'}, {'number': 2, 'created': '2018-06-29 00:08:26.000000000', 'files': ['global-requirements.txt', 'lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/11e83f83655ad13092e8ea73f2f70ecdcad91aae', 'message': 'Proposing distro for global-requirements\n\nIn the spirit of ""python 3"" first I would like to propose distro for\nglobal-requirements.\nThe builtin platform.linux_distribution[1] is deprecated and will be\nremoved in 3.8 and the recommended replacement is distro. Since\nlinux_distribution is widely used in OpenStack projects[2], we should\nhave an approved alternative.\n\nIs the library actively maintained?\nYes[3]\n\nIs the library good code?\nYes, it is pretty simple code with 98% coverage[4]\n\nIs the library license compatible?\nYes, Apache 2.0[5]\n\nIs the library already packaged in the distros we target (Ubuntu latest\n/ Fedora latest)?\nUbuntu since artful (17.10)\nFedora since 23\nRHEL 6\n\nIs the function of this library already covered by other libraries in\nglobal-requirements.txt?\nNot that I am aware of.\n\nIs the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\nAs noted above[2], many OpenStack projects are using the deprecated\nfunction. Octavia is one that would like to move to distro.\n\n[1] https://docs.python.org/2/library/platform.html \\\n    #platform.linux_distribution\n[2] http://codesearch.openstack.org/?q=platform.linux_distribution\n[3] https://pypi.org/project/distro/1.2.0/#history\n[4] https://codecov.io/github/nir0s/distro?branch=master\n[5] https://github.com/nir0s/distro/blob/master/LICENSE\n\nChange-Id: Iee61fad7954a56b225221e5b5254ee8094911d43\n'}]",1,578983,11e83f83655ad13092e8ea73f2f70ecdcad91aae,15,7,2,11628,,,0,"Proposing distro for global-requirements

In the spirit of ""python 3"" first I would like to propose distro for
global-requirements.
The builtin platform.linux_distribution[1] is deprecated and will be
removed in 3.8 and the recommended replacement is distro. Since
linux_distribution is widely used in OpenStack projects[2], we should
have an approved alternative.

Is the library actively maintained?
Yes[3]

Is the library good code?
Yes, it is pretty simple code with 98% coverage[4]

Is the library license compatible?
Yes, Apache 2.0[5]

Is the library already packaged in the distros we target (Ubuntu latest
/ Fedora latest)?
Ubuntu since artful (17.10)
Fedora since 23
RHEL 6

Is the function of this library already covered by other libraries in
global-requirements.txt?
Not that I am aware of.

Is the library required for OpenStack project or related dev or
infrastructure setup? (Answer to this should be Yes, of course) Which?
As noted above[2], many OpenStack projects are using the deprecated
function. Octavia is one that would like to move to distro.

[1] https://docs.python.org/2/library/platform.html \
    #platform.linux_distribution
[2] http://codesearch.openstack.org/?q=platform.linux_distribution
[3] https://pypi.org/project/distro/1.2.0/#history
[4] https://codecov.io/github/nir0s/distro?branch=master
[5] https://github.com/nir0s/distro/blob/master/LICENSE

Change-Id: Iee61fad7954a56b225221e5b5254ee8094911d43
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/578983/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'lower-constraints.txt', 'upper-constraints.txt']",3,ddba2d2590d9a184e72d9106f782e491a7f72aab,,distro==1.3.0,,3,0
openstack%2Fpuppet-openstack-integration~master~I3767645807279afac77c1c367a70af6f0f9f4084,openstack/puppet-openstack-integration,master,I3767645807279afac77c1c367a70af6f0f9f4084,Change ceph caps to profile rbd,MERGED,2018-06-26 15:36:51.000000000,2018-07-03 21:49:41.000000000,2018-07-03 19:31:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-26 15:36:51.000000000', 'files': ['manifests/ceph.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/70cb017808e2f783bcb7fdeb782ef5553036e6eb', 'message': 'Change ceph caps to profile rbd\n\nBased on the documentation [1] and this\nbug [2] we should set caps for ceph keys\nthat use RBD to use the profile.\n\nAs we can see in the bug [2] setting it to wrong\ncan have cause very bad issues, this should direct\nas a guideline since we will not hit this in CI.\n\n[1] http://docs.ceph.com/docs/luminous/rbd/rbd-openstack/#setup-ceph-client-authentication\n[2] https://bugs.launchpad.net/nova/+bug/1773449\n\nChange-Id: I3767645807279afac77c1c367a70af6f0f9f4084\n'}]",0,578135,70cb017808e2f783bcb7fdeb782ef5553036e6eb,8,3,1,16137,,,0,"Change ceph caps to profile rbd

Based on the documentation [1] and this
bug [2] we should set caps for ceph keys
that use RBD to use the profile.

As we can see in the bug [2] setting it to wrong
can have cause very bad issues, this should direct
as a guideline since we will not hit this in CI.

[1] http://docs.ceph.com/docs/luminous/rbd/rbd-openstack/#setup-ceph-client-authentication
[2] https://bugs.launchpad.net/nova/+bug/1773449

Change-Id: I3767645807279afac77c1c367a70af6f0f9f4084
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/578135/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceph.pp'],1,70cb017808e2f783bcb7fdeb782ef5553036e6eb,," 'cap_mon' => 'profile rbd', 'cap_osd' => 'profile rbd pool=cinder, profile rbd pool=nova, profile rbd pool=glance, profile rbd pool=gnocchi',"," 'cap_mon' => 'allow r', 'cap_osd' => 'allow class-read object_prefix rbd_children, allow rwx pool=cinder, allow rwx pool=nova, allow rwx pool=glance, allow rwx pool=gnocchi',",2,2
openstack%2Fopenstack-ansible-os_zun~master~I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1,openstack/openstack-ansible-os_zun,master,I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1,Add release notes link to README,MERGED,2018-06-11 06:47:56.000000000,2018-07-03 20:37:54.000000000,2018-07-03 20:37:54.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-11 06:47:56.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/7c467fef926640d17471c98c09a289eae95007b5', 'message': 'Add release notes link to README\n\nChange-Id: I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1\n'}]",0,574142,7c467fef926640d17471c98c09a289eae95007b5,7,2,1,23317,,,0,"Add release notes link to README

Change-Id: I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/42/574142/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7c467fef926640d17471c98c09a289eae95007b5,fix,Release notes for the project can be found at: `<https://docs.openstack.org/releasenotes/openstack-ansible-os_zun/>`_ ,,3,0
openstack%2Fneutron~master~I89610e80b1b9527b8485061a84890b7c034c059c,openstack/neutron,master,I89610e80b1b9527b8485061a84890b7c034c059c,Clarify how to run fullstack tests in devstack,ABANDONED,2018-06-15 20:01:37.000000000,2018-07-03 20:31:40.000000000,,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-06-15 20:01:37.000000000', 'files': ['TESTING.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b758f074f5a350b18c471f32e2b8b3333a689cab', 'message': 'Clarify how to run fullstack tests in devstack\n\nChange-Id: I89610e80b1b9527b8485061a84890b7c034c059c\n'}]",1,575833,b758f074f5a350b18c471f32e2b8b3333a689cab,7,5,1,27654,,,0,"Clarify how to run fullstack tests in devstack

Change-Id: I89610e80b1b9527b8485061a84890b7c034c059c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/575833/1 && git format-patch -1 --stdout FETCH_HEAD,"['TESTING.rst', 'tox.ini']",2,b758f074f5a350b18c471f32e2b8b3333a689cab,,passenv = TRACE_FAILONLY GENERATE_HASHES http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_TEST_DBAPI_ADMIN_CONNECTION ,passenv = TRACE_FAILONLY GENERATE_HASHES http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,9,3
openstack%2Fnova~master~I6573e7c86d00e9174a5219397f676503c0e9b744,openstack/nova,master,I6573e7c86d00e9174a5219397f676503c0e9b744,Update xenapi_disable_agent config option usage in docs,MERGED,2018-06-28 15:24:42.000000000,2018-07-03 20:13:26.000000000,2018-07-03 15:36:53.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-28 15:24:42.000000000', 'files': ['doc/source/user/config-drive.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/255f71ac677c4a861cdb9d91603b2ec244f16e2e', 'message': 'Update xenapi_disable_agent config option usage in docs\n\nThe xenapi_disable_agent config option was moved to\n[xenserver]/disable_agent so this just updates the config\ndrive docs.\n\nChange-Id: I6573e7c86d00e9174a5219397f676503c0e9b744\n'}]",3,578848,255f71ac677c4a861cdb9d91603b2ec244f16e2e,16,11,1,6873,,,0,"Update xenapi_disable_agent config option usage in docs

The xenapi_disable_agent config option was moved to
[xenserver]/disable_agent so this just updates the config
drive docs.

Change-Id: I6573e7c86d00e9174a5219397f676503c0e9b744
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/578848/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/config-drive.rst'],1,255f71ac677c4a861cdb9d91603b2ec244f16e2e,fix-config-drive-xenapi-disable-agent, :oslo.config:option:`xenserver.disable_agent` configuration parameter to disable the agent., ``xenapi_disable_agent`` configuration parameter to disable the agent.,2,2
openstack%2Fnova~master~Idc1b656a0aa5cd442fae3be895369fa71c86fc99,openstack/nova,master,Idc1b656a0aa5cd442fae3be895369fa71c86fc99,Mention PowerVM support of config drive,MERGED,2018-06-28 15:10:05.000000000,2018-07-03 20:13:08.000000000,2018-06-29 18:10:09.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10608}, {'_account_id': 13393}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-28 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2c78a86261c9677c44442ee04055299eea3f812', 'message': 'Mention PowerVM support of config drive\n\n...in the config-drive user doc.\n\nChange-Id: Idc1b656a0aa5cd442fae3be895369fa71c86fc99\nCloses-Bug: #1779159\n'}, {'number': 2, 'created': '2018-06-28 15:44:49.000000000', 'files': ['doc/source/user/config-drive.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c0f9379b5b79d8263b978a515b99c74f7c17e34', 'message': 'Mention PowerVM support of config drive\n\n...in the config-drive user doc.\n\nChange-Id: Idc1b656a0aa5cd442fae3be895369fa71c86fc99\nCloses-Bug: #1779159\n'}]",6,578840,5c0f9379b5b79d8263b978a515b99c74f7c17e34,20,12,2,14070,,,0,"Mention PowerVM support of config drive

...in the config-drive user doc.

Change-Id: Idc1b656a0aa5cd442fae3be895369fa71c86fc99
Closes-Bug: #1779159
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/578840/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/config-drive.rst'],1,c2c78a86261c9677c44442ee04055299eea3f812,bug/1779159," XenServer, Hyper-V, VMware, and (since 17.0.0 Queens) PowerVM."," XenServer, Hyper-V, and VMware.",1,1
openstack%2Frequirements~master~Ia238607b9feb292842971d0fc161ae6294150e1f,openstack/requirements,master,Ia238607b9feb292842971d0fc161ae6294150e1f,add build-lower-constraints command,MERGED,2018-06-29 19:40:33.000000000,2018-07-03 20:06:40.000000000,2018-07-03 20:06:40.000000000,"[{'_account_id': 2472}, {'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 19:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a396242c4caf339cabc0272c6835da390f57d351', 'message': 'add build-lower-constraints command\n\nAdd a command to merge lower constraints lists together, as a\nprecursor to removing the global lower-constraints.txt list in this\nrepository.\n\nChange-Id: Ia238607b9feb292842971d0fc161ae6294150e1f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-07-02 15:30:10.000000000', 'files': ['README.rst', 'openstack_requirements/cmds/build_lower_constraints.py', 'openstack_requirements/tests/test_build_lower_constraints.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9fa26daf57f06671e5388e6ee080c3d4bccd8502', 'message': 'add build-lower-constraints command\n\nAdd a command to merge lower constraints lists together, as a\nprecursor to removing the global lower-constraints.txt list in this\nrepository.\n\nChange-Id: Ia238607b9feb292842971d0fc161ae6294150e1f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,579268,9fa26daf57f06671e5388e6ee080c3d4bccd8502,12,5,2,2472,,,0,"add build-lower-constraints command

Add a command to merge lower constraints lists together, as a
precursor to removing the global lower-constraints.txt list in this
repository.

Change-Id: Ia238607b9feb292842971d0fc161ae6294150e1f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/579268/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'openstack_requirements/cmds/build_lower_constraints.py', 'openstack_requirements/tests/test_build_lower_constraints.py', 'setup.cfg']",4,a396242c4caf339cabc0272c6835da390f57d351,build-lower-constraint-list, build-lower-constraints = openstack_requirements.cmds.build_lower_constraints:main,,150,0
openstack%2Fpuppet-openstack_extras~master~I8305171e10c51e980c4736b571477aa436e5f48d,openstack/puppet-openstack_extras,master,I8305171e10c51e980c4736b571477aa436e5f48d,Add release note link in README,MERGED,2018-06-27 14:20:45.000000000,2018-07-03 19:48:16.000000000,2018-07-03 19:48:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 14:20:45.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/e8999a6406138f7d9928cf580d52556666f1523e', 'message': 'Add release note link in README\n\nChange-Id: I8305171e10c51e980c4736b571477aa436e5f48d\n'}]",0,578409,e8999a6406138f7d9928cf580d52556666f1523e,7,3,1,17499,,,0,"Add release note link in README

Change-Id: I8305171e10c51e980c4736b571477aa436e5f48d
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/09/578409/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,e8999a6406138f7d9928cf580d52556666f1523e,,Release notes for the project can be found at: https://docs.openstack.org/releasenotes/puppet-openstack_extras ,,3,0
openstack%2Fpuppet-openstack_extras~master~Id33c970e810ea48d74b9095b0e505d4e71be005a,openstack/puppet-openstack_extras,master,Id33c970e810ea48d74b9095b0e505d4e71be005a,Use 'dnf' when configuring repo in Fedora,MERGED,2018-06-25 14:24:59.000000000,2018-07-03 19:48:15.000000000,2018-07-03 19:48:15.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 14:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/24c8aa4786cbd4590f80176ede7a82b0c2c2cff0', 'message': ""Use 'dnf' when configuring repo in Fedora\n\nUse 'dnf' instead of 'yum' in Fedora as Fedora\nno longer have 'yum' binary.\n\nChange-Id: Id33c970e810ea48d74b9095b0e505d4e71be005a\n""}, {'number': 2, 'created': '2018-06-25 14:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/b55c15a9b8d27dbcd045d7b7b77d271497aa455a', 'message': ""Use 'dnf' when configuring repo in Fedora\n\nUse 'dnf' instead of 'yum' in Fedora as Fedora\nno longer have 'yum' binary. Also Fedora do not\nneed yum-plugin-priorities to manage repo priorities.\n\nChange-Id: Id33c970e810ea48d74b9095b0e505d4e71be005a\n""}, {'number': 3, 'created': '2018-06-27 12:50:50.000000000', 'files': ['manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/7c4183e3360ee73ed12d0d7424370a0d2d30feba', 'message': ""Use 'dnf' when configuring repo in Fedora\n\nUse 'dnf' instead of 'yum' in Fedora as Fedora\nno longer have 'yum' binary. Also Fedora do not\nneed yum-plugin-priorities to manage repo priorities.\n\nAlso Do not Enable rdo-qemu-ev repo for Fedora.\n\nChange-Id: Id33c970e810ea48d74b9095b0e505d4e71be005a\n""}]",0,577839,7c4183e3360ee73ed12d0d7424370a0d2d30feba,15,5,3,13861,,,0,"Use 'dnf' when configuring repo in Fedora

Use 'dnf' instead of 'yum' in Fedora as Fedora
no longer have 'yum' binary. Also Fedora do not
need yum-plugin-priorities to manage repo priorities.

Also Do not Enable rdo-qemu-ev repo for Fedora.

Change-Id: Id33c970e810ea48d74b9095b0e505d4e71be005a
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/39/577839/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,24c8aa4786cbd4590f80176ede7a82b0c2c2cff0,enable-py3," if ($::operatingsystem == 'Fedora') { $yum = 'dnf' } else { $yum = 'yum' } command => '/usr/bin/$yum install -y yum-plugin-priorities', command => '/usr/bin/$yum clean all',"," command => '/usr/bin/yum install -y yum-plugin-priorities', command => '/usr/bin/yum clean all',",8,2
openstack%2Frequirements~master~I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b,openstack/requirements,master,I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b,update constraint for cliff to new release 2.13.0,MERGED,2018-07-03 14:07:30.000000000,2018-07-03 19:47:20.000000000,2018-07-03 19:47:20.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 14:07:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/65e1ca7ea664cdbe680885ffe75d89b7f892f7bd', 'message': 'update constraint for cliff to new release 2.13.0\n\nChange-Id: I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b\nmeta:version: 2.13.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Commit: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Change-Id: Ic49828bbf16d3e620615c06deac358c7cb1e4558\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,579879,65e1ca7ea664cdbe680885ffe75d89b7f892f7bd,7,3,1,11131,,,0,"update constraint for cliff to new release 2.13.0

Change-Id: I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b
meta:version: 2.13.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: Ic49828bbf16d3e620615c06deac358c7cb1e4558
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/579879/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,65e1ca7ea664cdbe680885ffe75d89b7f892f7bd,new-release,cliff===2.13.0,cliff===2.12.1,1,1
openstack%2Fpuppet-horizon~master~I53a9107a33e9afffc5d00884c66c073e77c59237,openstack/puppet-horizon,master,I53a9107a33e9afffc5d00884c66c073e77c59237,Fix redirect to https bug and testing,MERGED,2018-06-20 15:19:32.000000000,2018-07-03 19:35:46.000000000,2018-07-03 19:35:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-20 15:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a648898a0eacfbc9468b37c33debeec1bd90a941', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 2, 'created': '2018-06-20 17:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/cde529fd427302cb06a1d1e5a6666e00af40febc', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 3, 'created': '2018-06-20 22:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e3d649b7f5c310c2c5bacde7296334eb5ed29fee', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 4, 'created': '2018-06-21 07:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/32a0a43fad1d2d4563be04529864c9032c5dc532', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 5, 'created': '2018-06-23 13:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3684a16245b1f96362965ba8e137ce63cad299d5', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 6, 'created': '2018-06-23 13:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/b9be515df7c0656fa74dd6b7f63942b08fc9c77c', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 7, 'created': '2018-06-23 14:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/364e74b7755e4157917c580143da2999ce555768', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 8, 'created': '2018-06-23 14:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/64c3a0fe82a4a7aca96f6acf6ad6733ad4176df2', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 9, 'created': '2018-06-24 09:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/126166751a67775b1c6884549bc6d48f1ddf6b76', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}, {'number': 10, 'created': '2018-06-24 12:49:00.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/horizon_wsgi_apache_spec.rb', 'releasenotes/notes/ssl-redirect-bug-38095eeba290933a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a56420e5ef88b9431e4a31d06aa723bf61c34d76', 'message': ""Fix redirect to https bug and testing\n\nFixes a bug where having listen_ssl and ssl_redirect\nset to true did not redirect http to https if your\nroot_url was empty or '/'.\n\nThis now forces redirection from http to https no\nmatter what your root_url is if listen_ssl and ssl_redirect\nis set to true.\n\nThis also cleans up all apache::wsgi::apache testing and fixes\nthe structure so it doesn't enforce some context tests only for\nthe SSL enabled context but for everything.\n\nChange-Id: I53a9107a33e9afffc5d00884c66c073e77c59237\n""}]",0,576890,a56420e5ef88b9431e4a31d06aa723bf61c34d76,26,4,10,16137,,,0,"Fix redirect to https bug and testing

Fixes a bug where having listen_ssl and ssl_redirect
set to true did not redirect http to https if your
root_url was empty or '/'.

This now forces redirection from http to https no
matter what your root_url is if listen_ssl and ssl_redirect
is set to true.

This also cleans up all apache::wsgi::apache testing and fixes
the structure so it doesn't enforce some context tests only for
the SSL enabled context but for everything.

Change-Id: I53a9107a33e9afffc5d00884c66c073e77c59237
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/90/576890/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/horizon_wsgi_apache_spec.rb', 'releasenotes/notes/ssl-redirect-bug-38095eeba290933a.yaml']",3,a648898a0eacfbc9468b37c33debeec1bd90a941,,--- fixes: - | Fixed a bug where having ssl and redirection enabled combined with a empty root_url did not redirect. If you are setting listen_ssl and ssl_redirect to true it will always redirect to https no matter what your root_url is. ,,280,228
openstack%2Fpython-cinderclient~master~I937c6ac2f6e254c438ee2f36eb6c291f62c0f411,openstack/python-cinderclient,master,I937c6ac2f6e254c438ee2f36eb6c291f62c0f411,Remove initialization of logger if logger is None,MERGED,2018-06-26 09:20:08.000000000,2018-07-03 19:15:25.000000000,2018-07-03 19:15:25.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23083}]","[{'number': 1, 'created': '2018-06-26 09:20:08.000000000', 'files': ['cinderclient/v3/client.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ebb3b675ade348f52d3e0260bda3c0df843108c9', 'message': 'Remove initialization of logger if logger is None\n\nIf default_log_level=keystoneauth=WARN is enabled in nova.conf,\nthen these log messages [1][2][3] are logged using cinderclient.v3.client\nlogger name instead of keystoneauth.session. This is because cinderclient\ninitializes logger if not passed by nova and since debug=True is set in\nnova.conf its uses root logger log level.\n\nThis patch removes initialization of logger code to ensure log\nmessages[1][2][3] are logged only when keystoneauth=DEBUG is enabled\nin nova.conf. This will also enable us to consume split_logger config\noption [4] when enabled in nova without making any additional changes\nin client code.\n\n[1] REQ:\xa0https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@391\n[2] RESP:\xa0https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@422\n[3] RESP BODY: https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@454\n[4]\xa0https://review.openstack.org/#/c/568878/\n\nChange-Id: I937c6ac2f6e254c438ee2f36eb6c291f62c0f411\n'}]",0,578045,ebb3b675ade348f52d3e0260bda3c0df843108c9,7,5,1,26541,,,0,"Remove initialization of logger if logger is None

If default_log_level=keystoneauth=WARN is enabled in nova.conf,
then these log messages [1][2][3] are logged using cinderclient.v3.client
logger name instead of keystoneauth.session. This is because cinderclient
initializes logger if not passed by nova and since debug=True is set in
nova.conf its uses root logger log level.

This patch removes initialization of logger code to ensure log
messages[1][2][3] are logged only when keystoneauth=DEBUG is enabled
in nova.conf. This will also enable us to consume split_logger config
option [4] when enabled in nova without making any additional changes
in client code.

[1] REQ:https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@391
[2] RESP:https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@422
[3] RESP BODY: https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@454
[4]https://review.openstack.org/#/c/568878/

Change-Id: I937c6ac2f6e254c438ee2f36eb6c291f62c0f411
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/45/578045/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/v3/client.py'],1,ebb3b675ade348f52d3e0260bda3c0df843108c9,nova-cinderclient-split-logging,,import logging if not logger: logger = logging.getLogger(__name__) ,0,5
openstack%2Fpython-tripleoclient~master~I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd,openstack/python-tripleoclient,master,I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd,Remove required releasenote reference,MERGED,2018-06-27 14:33:05.000000000,2018-07-03 19:14:25.000000000,2018-07-03 19:14:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 14:33:05.000000000', 'files': ['releasenotes/notes/container-images-file-required-ff11154429796729.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c89dafddf0ccf6bdfb201f3fcff4deddf8092c6', 'message': 'Remove required releasenote reference\n\nThe mentioned option was made optional by a later patch\n\nChange-Id: I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd\n'}]",0,578418,5c89dafddf0ccf6bdfb201f3fcff4deddf8092c6,7,3,1,14985,,,0,"Remove required releasenote reference

The mentioned option was made optional by a later patch

Change-Id: I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/578418/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/container-images-file-required-ff11154429796729.yaml'],1,5c89dafddf0ccf6bdfb201f3fcff4deddf8092c6,fix-releasenotes,,"--- other: - | When using containerized undercloud installation with `openstack undercloud install --use-heat`, the container_images_file is a required configuration parmeter. ",0,6
openstack%2Ftripleo-heat-templates~stable%2Fpike~I812c7da90ae06120707fd8795a41e4fd867f510e,openstack/tripleo-heat-templates,stable/pike,I812c7da90ae06120707fd8795a41e4fd867f510e,Add host prep step for ntp time sync,MERGED,2018-06-25 16:20:03.000000000,2018-07-03 19:14:24.000000000,2018-07-03 19:14:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-25 16:20:03.000000000', 'files': ['puppet/services/time/ntp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d82b3d11eebe952e0fabd915730d6f5d1f8187ef', 'message': ""Add host prep step for ntp time sync\n\nDocker doesn't like it when the time shifts so if we're building\ncontainers when the ntp time sync actually occurs it can lead to\ndeployment failures. To prevent this, let's force a ntpdate on the host\nduring step1 to ensure the hardware time is properly synced before\nproceeding.\n\nChange-Id: I812c7da90ae06120707fd8795a41e4fd867f510e\nCloses-Bug: #1776869\n(cherry picked from commit a866f55691c5871db335cd976c71d3429dbf62b1)\n""}]",0,577861,d82b3d11eebe952e0fabd915730d6f5d1f8187ef,8,4,1,14985,,,0,"Add host prep step for ntp time sync

Docker doesn't like it when the time shifts so if we're building
containers when the ntp time sync actually occurs it can lead to
deployment failures. To prevent this, let's force a ntpdate on the host
during step1 to ensure the hardware time is properly synced before
proceeding.

Change-Id: I812c7da90ae06120707fd8795a41e4fd867f510e
Closes-Bug: #1776869
(cherry picked from commit a866f55691c5871db335cd976c71d3429dbf62b1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/577861/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/time/ntp.yaml'],1,d82b3d11eebe952e0fabd915730d6f5d1f8187ef,bug/1776869," EnablePackageInstall: default: 'false' description: Set to true to enable package installation at deploy time type: boolean host_prep_tasks: - name: NTP settings set_fact: ntp_servers: {get_param: NtpServer} ntp_install_packages: {get_param: EnablePackageInstall} - block: - name: Install ntpdate package: name: ntpdate state: present when: ntp_install_packages|bool - name: Ensure system is NTP time synced command: ntpdate -u {{ ntp_servers | join("" "") }} when: ntp_servers",,18,1
openstack%2Fgovernance~master~If3e481af23c3b9d1a12f538e96c3b3c32f543a02,openstack/governance,master,If3e481af23c3b9d1a12f538e96c3b3c32f543a02,Add team fragility analysis script,MERGED,2018-06-29 12:58:45.000000000,2018-07-03 19:09:42.000000000,2018-07-03 19:09:42.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 12:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ce36f779e7058fe6c31e530cbdb36b6cb983ffca', 'message': 'Add team fragility analysis script\n\nAdd a script that computes team fragility for (past or\ncurrent) development cycle, on two axis: corporate diversity\nfragility (impact if the most active company abandons the\nteam), and individual fragility (impact if the most active\nindividual abandons the team).\n\nThe script orders them from most fragile to least fragile.\nIt\'s based on imperfect Stackalytics data, so any insight\nfrom that analysis should be investigated deeper before\nconsidering it ""real"".\n\nChange-Id: If3e481af23c3b9d1a12f538e96c3b3c32f543a02\n'}, {'number': 2, 'created': '2018-06-29 14:26:15.000000000', 'files': ['tools/team_fragility.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/36ce233906ac69114a8a87e0784d00c59267874e', 'message': 'Add team fragility analysis script\n\nAdd a script that computes team fragility for (past or\ncurrent) development cycle, on two axis: corporate diversity\nfragility (impact if the most active company abandons the\nteam), and individual fragility (impact if the most active\nindividual abandons the team).\n\nThe script orders them from most fragile to least fragile.\nIt\'s based on imperfect Stackalytics data, so any insight\nfrom that analysis should be investigated deeper before\nconsidering it ""real"".\n\nChange-Id: If3e481af23c3b9d1a12f538e96c3b3c32f543a02\n'}]",0,579142,36ce233906ac69114a8a87e0784d00c59267874e,11,3,2,308,,,0,"Add team fragility analysis script

Add a script that computes team fragility for (past or
current) development cycle, on two axis: corporate diversity
fragility (impact if the most active company abandons the
team), and individual fragility (impact if the most active
individual abandons the team).

The script orders them from most fragile to least fragile.
It's based on imperfect Stackalytics data, so any insight
from that analysis should be investigated deeper before
considering it ""real"".

Change-Id: If3e481af23c3b9d1a12f538e96c3b3c32f543a02
",git fetch https://review.opendev.org/openstack/governance refs/changes/42/579142/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/team_fragility.py'],1,ce36f779e7058fe6c31e530cbdb36b6cb983ffca,code-change,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import os import sys import uuid import requests import yaml s = requests.session() def fragility(team, series): org_metric = [{'team': team, 'type': 'no activity', 'value': 0, 'name': ''}] eng_metric = [{'team': team, 'type': 'no activity', 'value': 0, 'name': ''}] group = ""%s-group"" % team.lower() org_commits = s.get('http://stackalytics.com/api/' '1.0/stats/companies?metric=commits&release=%s' '&project_type=all&module=%s' % (series, group)).json() total_commits = sum([company['metric'] for company in org_commits['stats']]) if total_commits: # Entity with most commits if org_commits['stats'][0]['name'] == '*independent': # Skip ""independent"" if that is the largest org org_commits['stats'].pop(0) value = float(org_commits['stats'][0]['metric'] / total_commits * 100) org_metric.append({'team': team, 'type': 'org commit %', 'value': value, 'name': org_commits['stats'][0]['name']}) # Core reviews reviews = s.get('http://stackalytics.com/api/' '1.0/stats/engineers?metric=marks&release=%s' '&project_type=all' '&module=%s' % (series, group)).json() companies = {} engineers = [] total_core_reviews = 0 for eng in reviews['stats']: if eng['core'] != 'master': # Skip reviews for non-core reviewers continue engineers.append({'name': eng['name'], 'reviews': eng['metric']}) total_core_reviews += eng['metric'] # Identify company for that core reviewer for stat in s.get('http://stackalytics.com/api/1.0/stats/' 'companies?metric=marks&module=%s&user_id=%s&' 'project_type=all&release=%s' % (group, eng['id'], series)).json()['stats']: company = stat['id'] if company == '*independent': continue if company not in companies: companies[company] = 0 companies[company] += stat['metric'] if companies: # Organization with most core reviews most_core_reviews = max(companies, key=companies.get) v = float(companies[most_core_reviews] / total_core_reviews * 100) org_metric.append({'team': team, 'type': 'org core review %', 'value': v, 'name': most_core_reviews}) if engineers: # Individual with most core reviews eng_most_core = max(engineers, key=lambda key: key['reviews']) v = float(eng_most_core['reviews'] / total_core_reviews * 100) eng_metric.append({'team': team, 'type': 'individual core review %', 'value': v, 'name': eng_most_core['name']}) # Individual with most commits eng_commits = s.get('http://stackalytics.com/api/' '1.0/stats/engineers?metric=commits&release=%s' '&project_type=all&module=%s' % (series, group)).json() value = float(eng_commits['stats'][0]['metric'] / total_commits * 100) eng_metric.append({'team': team, 'type': 'individual commit %', 'value': value, 'name': eng_commits['stats'][0]['name']}) return (max(org_metric, key=lambda key: key['value']), max(eng_metric, key=lambda key: key['value'])) def main(): parser = argparse.ArgumentParser() parser.add_argument('series', help='development cycle to consider') args = parser.parse_args() corpobus = [] engbus = [] filename = os.path.abspath('reference/projects.yaml') with open(filename, 'r') as f: projects = [k for k in yaml.safe_load(f.read())] projects.sort() for project in projects: if project not in ['OpenStackSDK', 'loci']: (org_fragility, eng_fragility) = fragility(project, args.series) corpobus.append(org_fragility) engbus.append(eng_fragility) print('============= Organizational diversity fragility =============') for busfactor in sorted(corpobus, key=lambda key: key['value'], reverse=True): print('%-18s %.1f%% (%s, %s)' % ( busfactor['team'], busfactor['value'], busfactor['name'], busfactor['type'])) print('============= Individual fragility =============') for busfactor in sorted(engbus, key=lambda key: key['value'], reverse=True): print('%-18s %.1f%% (%s, %s)' % ( busfactor['team'], busfactor['value'], busfactor['name'], busfactor['type'])) if __name__ == '__main__': sys.exit(main()) ",,155,0
openstack%2Fironic~master~I8ee58dfade87ae2a2544c5dcc27702c069f5089d,openstack/ironic,master,I8ee58dfade87ae2a2544c5dcc27702c069f5089d,Remove support for creating and loading classic drivers,MERGED,2018-06-27 15:59:49.000000000,2018-07-03 19:01:59.000000000,2018-07-03 19:01:59.000000000,"[{'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 15:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d06c9bcfacbc2f8c025dda07f1be9d3882cf6200', 'message': '[WIP] Remove support for creating and loading classic drivers\n\nChange-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d\n'}, {'number': 2, 'created': '2018-06-28 09:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d2649a8f75f05b109cfbb1bbcbadd70a0babfb0', 'message': '[WIP] Remove support for creating and loading classic drivers\n\nChange-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d\n'}, {'number': 3, 'created': '2018-06-28 11:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14a8634f3d68d73a239bd9e5ca2208b9e841ff90', 'message': '[WIP] Remove support for creating and loading classic drivers\n\nChange-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d\n'}, {'number': 4, 'created': '2018-06-28 18:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c54d6349fefc0baf269a6e1e55bd875158baf293', 'message': '[WIP] Remove support for creating and loading classic drivers\n\nChange-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d\n'}, {'number': 5, 'created': '2018-06-29 12:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/62bfd8d1f7af1ec8f2cf6a9eb916a6a4a7cc76e8', 'message': '[WIP] Remove support for creating and loading classic drivers\n\nChange-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d\n'}, {'number': 6, 'created': '2018-07-02 15:39:40.000000000', 'files': ['ironic/api/controllers/v1/driver.py', 'ironic/common/driver_factory.py', 'ironic/common/hash_ring.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/test_base.py', 'ironic/tests/unit/api/controllers/v1/test_driver.py', 'ironic/tests/unit/db/test_api.py', 'ironic/tests/unit/common/test_hash_ring.py', 'devstack/lib/ironic', 'ironic/common/exception.py', 'ironic/db/sqlalchemy/api.py', 'ironic/conductor/utils.py', 'ironic/conf/default.py', 'releasenotes/notes/no-classic-drivers-e68d8527491314c3.yaml', 'ironic/drivers/ipmi.py', 'ironic/drivers/base.py', 'ironic/cmd/dbsync.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/common/test_driver_factory.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/db/test_conductor.py', 'ironic/tests/base.py', 'ironic/conductor/base_manager.py', 'ironic/db/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/53e7baef4205767af8e6c15e6e0e5369e04aea5e', 'message': 'Remove support for creating and loading classic drivers\n\n* removes any bits related to loading classic drivers from\n  the drivers factory code\n* removes exceptions that only happen when classic drivers\n  can be loaded\n* removes the BaseDriver, moves the useful functionality to\n  the BareDriver class\n* /v1/drivers/?type=classic now always returns an empty list\n* removes the migration updating classic drivers to hardware\n  types\n\nThe documentation will be updated separately.\n\nChange-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d\n'}]",2,578457,53e7baef4205767af8e6c15e6e0e5369e04aea5e,43,9,6,10239,,,0,"Remove support for creating and loading classic drivers

* removes any bits related to loading classic drivers from
  the drivers factory code
* removes exceptions that only happen when classic drivers
  can be loaded
* removes the BaseDriver, moves the useful functionality to
  the BareDriver class
* /v1/drivers/?type=classic now always returns an empty list
* removes the migration updating classic drivers to hardware
  types

The documentation will be updated separately.

Change-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/578457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/common/driver_factory.py', 'ironic/db/sqlalchemy/api.py', 'ironic/cmd/dbsync.py', 'ironic/conductor/base_manager.py', 'ironic/conf/default.py', 'ironic/db/api.py']",7,d06c9bcfacbc2f8c025dda07f1be9d3882cf6200,hw-types,," def migrate_to_hardware_types(self, context, max_count, reset_unsupported_interfaces=False): """"""Migrate nodes from classic drivers to hardware types. Go through all nodes with a classic driver and try to migrate them to a corresponding hardware type and a correct set of hardware interfaces. :param context: the admin context :param max_count: The maximum number of objects to migrate. Must be >= 0. If zero, all the objects will be migrated. :param reset_unsupported_interfaces: whether to reset unsupported optional interfaces to their no-XXX versions. :returns: A 2-tuple, 1. the total number of objects that need to be migrated (at the beginning of this call) and 2. the number of migrated objects. """""" # TODO(dtantsur) Delete this in Rocky cycle. @abc.abstractmethod",62,427
openstack%2Fpuppet-horizon~master~I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819,openstack/puppet-horizon,master,I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819,Add option for populating a dropdown list instead of the textfield for selecting domain at the horizon login,MERGED,2018-06-25 08:07:04.000000000,2018-07-03 19:00:44.000000000,2018-07-03 19:00:44.000000000,"[{'_account_id': 1004}, {'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 08:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/76e8b066a236dd237bb4e7546300dc2f66a63e7d', 'message': 'Add option for populating a dropdown list instead of the textfield for selecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 2, 'created': '2018-06-25 08:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/7b6f9318a34ce8beadc6045a0dfcba46941636d1', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 3, 'created': '2018-07-01 16:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8459629f36d54042d6e3850e73028f40100fbae5', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 4, 'created': '2018-07-01 16:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c4addbeff46021a85b6d4ef235f251cd469afca4', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 5, 'created': '2018-07-01 16:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/bd26fb6037e54d2f0cb6c1eb7c5e17fca9b6bf80', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 6, 'created': '2018-07-01 17:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/5528974b06ea3462af7055230e8ff3acbb3c003d', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 7, 'created': '2018-07-01 20:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/26415cfd82d77ea30ef9584ccd44eeb9aad5ceba', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}, {'number': 8, 'created': '2018-07-02 07:40:15.000000000', 'files': ['releasenotes/notes/add-keystone_domain_choices-parameter-17bdbef68e57299c.yaml', 'templates/local_settings.py.erb', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e14074e4fcff3c2499c7bda32846ec9602311b7f', 'message': 'Add option for populating a dropdown list instead of the textfield for\nselecting domain at the horizon login\n\nDepends-On: https://review.openstack.org/579475\nChange-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819\n'}]",2,577745,e14074e4fcff3c2499c7bda32846ec9602311b7f,28,5,8,28542,,,0,"Add option for populating a dropdown list instead of the textfield for
selecting domain at the horizon login

Depends-On: https://review.openstack.org/579475
Change-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/45/577745/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'manifests/init.pp']",2,76e8b066a236dd237bb4e7546300dc2f66a63e7d,domaindropdown,"# [*keystone_domain_choices*] # (optional) A hash of hashes to populate a dropdown for the domain field on # the horizon login page. # Example: { # {'name':'default', 'display': 'The default domain'}, # {'name':'LDAP', 'display': 'The LDAP Catalog'}, # } # Defaults to undef # $keystone_domain_choices = undef,",,19,0
openstack%2Fnova~master~I1807a5e513ff53c9268a02bac6b38983620fb623,openstack/nova,master,I1807a5e513ff53c9268a02bac6b38983620fb623,Remove mox in sec group test and functional tests,MERGED,2018-06-20 06:26:30.000000000,2018-07-03 18:59:39.000000000,2018-07-03 18:59:39.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-06-20 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f6b853bb9cf7dc5979ccd8023a5f954f84f9924', 'message': ""Remove mox in sec group test and functional tests\n\nThe 'test_get_security_group_list_missing_group_id_rule' method\nin nova/tests/unit/api/openstack/compute/test_security_groups.py\nis executed in the TestNeutronSecurityGroupsV21 class\nbecause the TestNeutronSecurityGroupsV21 class is a subclass of\nthe TestSecurityGroupsV21 class.\nSo replace mox with mock in the method.\n\nThe 'stub_compute_with_ips' method in nova/tests/unit/fake_network.py\nis used in API sample functional tests in both nova-network and\nneutron cases.\nSo replace mox with stub_out in the method.\n\nChange-Id: I1807a5e513ff53c9268a02bac6b38983620fb623\nImplements: blueprint mox-removal\n""}, {'number': 2, 'created': '2018-06-28 11:58:45.000000000', 'files': ['nova/tests/unit/fake_network.py', 'nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43e5a5a639fb268068ff9842fe3c333ebc980472', 'message': ""Remove mox in sec group test and functional tests\n\nThe 'test_get_security_group_list_missing_group_id_rule' method\nin nova/tests/unit/api/openstack/compute/test_security_groups.py\nis executed in the TestNeutronSecurityGroupsV21 class\nbecause the TestNeutronSecurityGroupsV21 class is a subclass of\nthe TestSecurityGroupsV21 class.\nSo replace mox with mock in the method.\n\nThe 'stub_compute_with_ips' method in nova/tests/unit/fake_network.py\nis used in API sample functional tests in both nova-network and\nneutron cases.\nSo replace mox with stub_out in the method.\n\nChange-Id: I1807a5e513ff53c9268a02bac6b38983620fb623\nImplements: blueprint mox-removal\n""}]",0,576751,43e5a5a639fb268068ff9842fe3c333ebc980472,22,13,2,7634,,,0,"Remove mox in sec group test and functional tests

The 'test_get_security_group_list_missing_group_id_rule' method
in nova/tests/unit/api/openstack/compute/test_security_groups.py
is executed in the TestNeutronSecurityGroupsV21 class
because the TestNeutronSecurityGroupsV21 class is a subclass of
the TestSecurityGroupsV21 class.
So replace mox with mock in the method.

The 'stub_compute_with_ips' method in nova/tests/unit/fake_network.py
is used in API sample functional tests in both nova-network and
neutron cases.
So replace mox with stub_out in the method.

Change-Id: I1807a5e513ff53c9268a02bac6b38983620fb623
Implements: blueprint mox-removal
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/576751/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/fake_network.py', 'nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py']",3,9f6b853bb9cf7dc5979ccd8023a5f954f84f9924,bp/mox-removal," with mock.patch.object( self.controller.security_group_api, 'list', return_value=[ security_group_db( secgroup) for secgroup in groups]) as mock_list: res_dict = self.controller.index(self.req) mock_list.assert_called_once_with(self.req.environ['nova.context'], project='fake', search_opts={})"," def return_security_groups(context, project, search_opts): return [security_group_db(sg) for sg in groups] self.stubs.Set(self.controller.security_group_api, 'list', return_security_groups) res_dict = self.controller.index(self.req)",15,13
openstack%2Fnova~master~Ice377939ff7214738419f940e69307ae0a4f0b19,openstack/nova,master,Ice377939ff7214738419f940e69307ae0a4f0b19,conf: Correct documentation for '[pci] passthrough_whitelist',MERGED,2018-03-14 10:43:25.000000000,2018-07-03 18:59:26.000000000,2018-07-03 18:59:25.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-14 10:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b03cd58cadfb03ec849e5500ca42fff46dc00186', 'message': ""conf: Correct documentation for '[pci] passthrough_whitelist'\n\nLiteral blocks weren't being rendered as such, causing them to render as\nregular text with smartquotes. This meant people could not copy-paste\nthe same config provided. Correct this.\n\nChange-Id: Ice377939ff7214738419f940e69307ae0a4f0b19\n""}, {'number': 2, 'created': '2018-03-16 10:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15261d875ce33aa55ab5dec90889f5ba8f5db462', 'message': ""conf: Correct documentation for '[pci] passthrough_whitelist'\n\nLiteral blocks weren't being rendered as such, causing them to render as\nregular text with smartquotes. This meant people could not copy-paste\nthe same config provided. Correct this.\n\nChange-Id: Ice377939ff7214738419f940e69307ae0a4f0b19\nCloses-Bug: #1755783\n""}, {'number': 3, 'created': '2018-03-16 14:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f1eeb9cbfaf932dbc53bd0bfd45604362d4313e', 'message': ""conf: Correct documentation for '[pci] passthrough_whitelist'\n\nLiteral blocks weren't being rendered as such, causing them to render as\nregular text with smartquotes. This meant people could not copy-paste\nthe same config provided. Correct this.\n\nChange-Id: Ice377939ff7214738419f940e69307ae0a4f0b19\nCloses-Bug: #1755783\n""}, {'number': 4, 'created': '2018-03-20 17:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e78acf34e92ced18281392bdb3c12b514f58168', 'message': ""conf: Correct documentation for '[pci] passthrough_whitelist'\n\nLiteral blocks weren't being rendered as such, causing them to render as\nregular text with smartquotes. This meant people could not copy-paste\nthe same config provided. Correct this.\n\nChange-Id: Ice377939ff7214738419f940e69307ae0a4f0b19\nRelated-Bug: #1755783\n""}, {'number': 5, 'created': '2018-06-28 15:11:41.000000000', 'files': ['nova/conf/pci.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68e6551e85e9283cbff22a22a71c4d7b427079b7', 'message': ""conf: Correct documentation for '[pci] passthrough_whitelist'\n\nLiteral blocks weren't being rendered as such, causing them to render as\nregular text with smartquotes. This meant people could not copy-paste\nthe same config provided. Correct this.\n\nChange-Id: Ice377939ff7214738419f940e69307ae0a4f0b19\nRelated-Bug: #1755783\n""}]",1,552874,68e6551e85e9283cbff22a22a71c4d7b427079b7,85,18,5,15334,,,0,"conf: Correct documentation for '[pci] passthrough_whitelist'

Literal blocks weren't being rendered as such, causing them to render as
regular text with smartquotes. This meant people could not copy-paste
the same config provided. Correct this.

Change-Id: Ice377939ff7214738419f940e69307ae0a4f0b19
Related-Bug: #1755783
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/552874/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/pci.py'],1,b03cd58cadfb03ec849e5500ca42fff46dc00186,bug/1755783," the following format:: Where ``[`` indicates zero or one occurrences, ``{`` indicates zero or multiple occurrences, and ``|`` mutually exclusive options. Note that any missing fields are automatically wildcarded. ``vendor_id`` Vendor ID of the device in hexadecimal. ``product_id`` Product ID of the device in hexadecimal. ``address`` PCI address of the device. Both traditional glob style and regular expression syntax is supported. ``devname`` Device name of the device (for e.g. interface name). Not all PCI devices have a name. ``<tag>`` Additional ``<tag>`` and ``<tag_value>`` used for matching PCI devices. Supported ``<tag>`` values are : - ``physical_network`` Valid examples are :: The following are invalid, as they specify mutually exclusive options :: example ::"," the following format: Where '[' indicates zero or one occurrences, '{' indicates zero or multiple occurrences, and '|' mutually exclusive options. Note that any missing fields are automatically wildcarded. * ""vendor_id"": Vendor ID of the device in hexadecimal. * ""product_id"": Product ID of the device in hexadecimal. * ""address"": PCI address of the device. * ""devname"": Device name of the device (for e.g. interface name). Not all PCI devices have a name. * ""<tag>"": Additional <tag> and <tag_value> used for matching PCI devices. Supported <tag>: ""physical_network"". The address key supports traditional glob style and regular expression syntax. Valid examples are: The following are invalid, as they specify mutually exclusive options: example:",26,15
openstack%2Ftripleo-common~stable%2Fqueens~Iaf1b8aa68af0274ba40eae329e32ab14f3689481,openstack/tripleo-common,stable/queens,Iaf1b8aa68af0274ba40eae329e32ab14f3689481,Switch ansible tmp for local connections,MERGED,2018-06-28 13:27:31.000000000,2018-07-03 18:57:42.000000000,2018-07-03 18:57:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-28 13:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2aef49c35c40456eed5faaaf2bb8caa1d985102', 'message': ""Switch ansible tmp for local connections\n\nWith ansible 2.5.4, they introduced a change that causes the temp\ndirectory used to not honor the HOME for a user. See\nhttps://github.com/ansible/ansible/pull/40363. Now the directory\ndefaults to ~/.ansible/tmp but using the HOME env has no effect. In our\ncase the code can be executed via mistral which doesn't have a valid\nor writable home directory so it errors.  This change updates the\nansible_remote_tmp for the undercloud inventory file to\n/tmp/ansible-${USER} to ensure it will work when running under mistral\nbut will work for any user as well.\n\nThe recommended fix for this is to configure the ansible_remote_tmp in\nthe inventory file for local connections to change this location.\nAlternatively ANSIBLE_REMOTE_TMP can be used via an environment var but\nthat would change the location for all hosts which is not ideal.\n\nAdditionally HOME has been replaced with ANSIBLE_LOCAL_TEMP due to\nchanges upstream around the effect of home. See\nhttps://github.com/ansible/ansible/pull/36755\n\nChange-Id: Iaf1b8aa68af0274ba40eae329e32ab14f3689481\nCloses-Bug: #1778269\n(cherry picked from commit f7bd4e71fe092724780de37002275016a29e5f3d)\n""}, {'number': 2, 'created': '2018-06-28 13:28:29.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ecf42a8ce5b1125cd155484c8e10225a9fc2a19', 'message': ""Switch ansible tmp for local connections\n\nWith ansible 2.5.4, they introduced a change that causes the temp\ndirectory used to not honor the HOME for a user. See\nhttps://github.com/ansible/ansible/pull/40363. Now the directory\ndefaults to ~/.ansible/tmp but using the HOME env has no effect. In our\ncase the code can be executed via mistral which doesn't have a valid\nor writable home directory so it errors.  This change updates the\nansible_remote_tmp for the undercloud inventory file to\n/tmp/ansible-${USER} to ensure it will work when running under mistral\nbut will work for any user as well.\n\nThe recommended fix for this is to configure the ansible_remote_tmp in\nthe inventory file for local connections to change this location.\nAlternatively ANSIBLE_REMOTE_TMP can be used via an environment var but\nthat would change the location for all hosts which is not ideal.\n\nAdditionally HOME has been replaced with ANSIBLE_LOCAL_TEMP due to\nchanges upstream around the effect of home. See\nhttps://github.com/ansible/ansible/pull/36755\n\nChange-Id: Iaf1b8aa68af0274ba40eae329e32ab14f3689481\nCloses-Bug: #1778269\n(cherry picked from commit f7bd4e71fe092724780de37002275016a29e5f3d)\n""}]",0,578797,4ecf42a8ce5b1125cd155484c8e10225a9fc2a19,10,5,2,14985,,,0,"Switch ansible tmp for local connections

With ansible 2.5.4, they introduced a change that causes the temp
directory used to not honor the HOME for a user. See
https://github.com/ansible/ansible/pull/40363. Now the directory
defaults to ~/.ansible/tmp but using the HOME env has no effect. In our
case the code can be executed via mistral which doesn't have a valid
or writable home directory so it errors.  This change updates the
ansible_remote_tmp for the undercloud inventory file to
/tmp/ansible-${USER} to ensure it will work when running under mistral
but will work for any user as well.

The recommended fix for this is to configure the ansible_remote_tmp in
the inventory file for local connections to change this location.
Alternatively ANSIBLE_REMOTE_TMP can be used via an environment var but
that would change the location for all hosts which is not ideal.

Additionally HOME has been replaced with ANSIBLE_LOCAL_TEMP due to
changes upstream around the effect of home. See
https://github.com/ansible/ansible/pull/36755

Change-Id: Iaf1b8aa68af0274ba40eae329e32ab14f3689481
Closes-Bug: #1778269
(cherry picked from commit f7bd4e71fe092724780de37002275016a29e5f3d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/578797/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",4,a2aef49c35c40456eed5faaaf2bb8caa1d985102,bug/1778269," 'ansible_remote_tmp': '/tmp/ansible-${USER}', 'ansible_remote_tmp': '/tmp/ansible-${USER}', 'ansible_remote_tmp': '/tmp/ansible-${USER}',",,10,0
openstack%2Fneutron~stable%2Fpike~If506e0ff68fc49748f19618470c85901339a419b,openstack/neutron,stable/pike,If506e0ff68fc49748f19618470c85901339a419b,Don't set administratively disabled ports as ACTIVE,MERGED,2018-06-15 08:09:59.000000000,2018-07-03 18:51:55.000000000,2018-07-03 18:51:55.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-15 08:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7aba9149154663b361e878c7912ad7c18d116613', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}, {'number': 2, 'created': '2018-06-18 14:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea585820d3a6014562c7e269aad15dfa63d20242', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}, {'number': 3, 'created': '2018-06-20 18:16:25.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb7ee4d8eb19901f95e56cded1033b7d33cbc221', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}]",0,575682,eb7ee4d8eb19901f95e56cded1033b7d33cbc221,22,6,3,11975,,,0,"Don't set administratively disabled ports as ACTIVE

There was a race condition during port update to disable it.
In case when neutron-server receives port update call to set
admin_state_down on port, it sends PORT_UPDATE notification
to agents.

Then both L2 and DHCP agents start doing their job with port.
L2 agent asks neutron-server about device details and during
processing this call server sets port's status to DOWN if
its admin_state_up = False.
Problem is that sometimes just after that, DHCP agent will send
to neutron server notification that provisioning for this port
is finished.
As there is no any other provisioning block in db (because it
is just port update) neutron-server is setting port's status
to ACTIVE.

This patch fixes this issue by allowing to transition to
ACTIVE only ports which are administratively enabled.

Change-Id: If506e0ff68fc49748f19618470c85901339a419b
Closes-Bug: #1757089
(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/575682/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,7aba9149154663b361e878c7912ad7c18d116613,bug/1757089," if not port.admin_state_up: LOG.debug(""Port %s is administratively disabled so it will "" ""not transition to active."", port_id) return",,17,0
openstack%2Fpuppet-openstack-integration~master~I0bd3bc4faf5169b589052da591d61aa2032b8129,openstack/puppet-openstack-integration,master,I0bd3bc4faf5169b589052da591d61aa2032b8129,Update scenario004 branches,MERGED,2018-06-19 19:17:36.000000000,2018-07-03 18:38:57.000000000,2018-07-03 18:38:57.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-19 19:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bb7042c9a41c6eb7709e0a04a8d01cb38997d038', 'message': 'Update scenario004 branches\n\nChange-Id: I0bd3bc4faf5169b589052da591d61aa2032b8129\n'}, {'number': 2, 'created': '2018-06-19 19:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a2695ac282ece3a57303b53805515a0d6e57cda1', 'message': 'Update scenario004 branches\n\nChange-Id: I0bd3bc4faf5169b589052da591d61aa2032b8129\n'}, {'number': 3, 'created': '2018-06-29 21:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4aeab15ab7b38621bbe7100c9bc44b123098fd37', 'message': 'Update scenario004 branches\n\nChange-Id: I0bd3bc4faf5169b589052da591d61aa2032b8129\n'}, {'number': 4, 'created': '2018-07-03 03:34:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c7daa4117a962794c206a322bda98c35f6592c64', 'message': 'Update scenario004 branches\n\nChange-Id: I0bd3bc4faf5169b589052da591d61aa2032b8129\n'}]",0,576620,c7daa4117a962794c206a322bda98c35f6592c64,33,6,4,14985,,,0,"Update scenario004 branches

Change-Id: I0bd3bc4faf5169b589052da591d61aa2032b8129
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/576620/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb7042c9a41c6eb7709e0a04a8d01cb38997d038,job-reduction, branches: ^(stable/(ocata|pike|queens)).*$ branches: ^(stable/(ocata|pike|queens)).*$, # TODO(aschultz): need to move this seperately because zuul doesn't like # this. branches: ^(stable/(newton|ocata|pike|queens)).*$,2,3
openstack%2Fcinder~stable%2Fqueens~I067cb09928c4c9d4ebb7159950fff526ee70f1bb,openstack/cinder,stable/queens,I067cb09928c4c9d4ebb7159950fff526ee70f1bb,NEC driver: Reuse iSCSI LUNs of detached volumes.,MERGED,2018-07-03 04:03:41.000000000,2018-07-03 18:38:42.000000000,2018-07-03 18:38:42.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-03 04:03:41.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23f57d348b0e82fc59503eac5c676854680a3eec', 'message': 'NEC driver: Reuse iSCSI LUNs of detached volumes.\n\nCurrently, NEC driver does not reuse iSCSI LUNs of detached volumes.\nThe driver always use the LUN of (max(LUNs used) + 1) to attach\na volume.\n\nIf multi-target mode of NEC Storage is enabled, the driver works\nwithout the problem because only LUN0s are used in the multi-target\nmode.\n\nThis patch changes the using LUN to min(LUNs not used) for reusing\na LUN of detached volume with multi-target mode disabled.\n\nChange-Id: I067cb09928c4c9d4ebb7159950fff526ee70f1bb\nCloses-Bug: #1778669\n(cherry picked from commit 78f104d75c3fef6f9371a2eadfdfd990aa1cb93d)\n'}]",0,579758,23f57d348b0e82fc59503eac5c676854680a3eec,19,15,1,23885,,,0,"NEC driver: Reuse iSCSI LUNs of detached volumes.

Currently, NEC driver does not reuse iSCSI LUNs of detached volumes.
The driver always use the LUN of (max(LUNs used) + 1) to attach
a volume.

If multi-target mode of NEC Storage is enabled, the driver works
without the problem because only LUN0s are used in the multi-target
mode.

This patch changes the using LUN to min(LUNs not used) for reusing
a LUN of detached volume with multi-target mode disabled.

Change-Id: I067cb09928c4c9d4ebb7159950fff526ee70f1bb
Closes-Bug: #1778669
(cherry picked from commit 78f104d75c3fef6f9371a2eadfdfd990aa1cb93d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/579758/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py']",4,23f57d348b0e82fc59503eac5c676854680a3eec,bug/1778669-stable/queens," def _get_free_lun(self, ldset): # Lun can't be specified when multi target mode. if ldset['protocol'] == 'iSCSI' and ldset['mode'] == 'Multi-Target': return None # get free lun. luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 return target_lun ret = self._iscsi_do_export(_ctx, volume, connector, ensure, self._properties['diskarray_name']) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') def _iscsi_do_export(self, _ctx, volume, connector, ensure, diskarray_name): self._cli.addldsetld(ldset['ldsetname'], ldname, self._get_free_lun(ldset)) self._cli.addldsetld(ldset['ldsetname'], ldname, self._get_free_lun(ldset)) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') def _create_snapshot_and_link(self, context, snapshot, connector, diskarray_name, validate_ldset_exist): xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) LOG.debug('validate data.') svname = self._validate_ld_exist( lds, snapshot.id, self._properties['ld_name_format']) bvname = self._validate_ld_exist( lds, snapshot.volume_id, self._properties['ld_name_format']) lvname = svname + '_l' ldset = validate_ldset_exist(ldsets, connector) svstatus = self._cli.query_BV_SV_status(bvname[3:], svname[3:]) if svstatus != 'snap/active': msg = _('Logical Disk (%s) is invalid snapshot.') % svname raise exception.VolumeBackendAPIException(data=msg) lvldn = self._select_ldnumber(used_ldns, max_ld_count) LOG.debug('configure backend.') lun0 = [ld for (ldn, ld) in ldset['lds'].items() if ld['lun'] == 0] if not lun0: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn, self._get_free_lun(ldset)) xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) self._cli.lvbind(bvname, lvname[3:], lvldn) self._cli.lvlink(svname[3:], lvname[3:]) self._cli.addldsetld(ldset['ldsetname'], lvname, self._get_free_lun(ldset)) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': lvname, 'ldset': ldset['ldsetname']}) return lvname lvname = ( self._create_snapshot_and_link(context, snapshot, connector, diskarray_name, self._validate_iscsildset_exist)) lvname = self._create_snapshot_and_link(context, snapshot, connector, diskarray_name, self._validate_fcldset_exist)"," ret = self._iscsi_do_export(_ctx, volume, connector, ensure) def _iscsi_do_export(self, _ctx, volume, connector, ensure): self._cli.addldsetld(ldset['ldsetname'], ldname) # get free lun. luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 self._cli.addldsetld(ldset['ldsetname'], ldname, target_lun) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) LOG.debug('validate data.') svname = self._validate_ld_exist( lds, snapshot.id, self._properties['ld_name_format']) bvname = self._validate_ld_exist( lds, snapshot.volume_id, self._properties['ld_name_format']) lvname = svname + '_l' ldset = self._validate_iscsildset_exist(ldsets, connector) svstatus = self._cli.query_BV_SV_status(bvname[3:], svname[3:]) if svstatus != 'snap/active': msg = _('Logical Disk (%s) is invalid snapshot.') % svname raise exception.VolumeBackendAPIException(data=msg) lvldn = self._select_ldnumber(used_ldns, max_ld_count) LOG.debug('configure backend.') if not ldset['lds']: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn) self._cli.lvbind(bvname, lvname[3:], lvldn) self._cli.lvlink(svname[3:], lvname[3:]) self._cli.addldsetld(ldset['ldsetname'], lvname) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) LOG.debug('validate data.') svname = self._validate_ld_exist( lds, snapshot.id, self._properties['ld_name_format']) bvname = self._validate_ld_exist( lds, snapshot.volume_id, self._properties['ld_name_format']) lvname = svname + '_l' ldset = self._validate_fcldset_exist(ldsets, connector) svstatus = self._cli.query_BV_SV_status(bvname[3:], svname[3:]) if svstatus != 'snap/active': msg = _('Logical Disk (%s) is invalid snapshot.') % svname raise exception.VolumeBackendAPIException(data=msg) lvldn = self._select_ldnumber(used_ldns, max_ld_count) LOG.debug('configure backend.') lun0 = [ld for (ldn, ld) in ldset['lds'].items() if ld['lun'] == 0] if not lun0: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn, 0) self._cli.lvbind(bvname, lvname[3:], lvldn) self._cli.lvlink(svname[3:], lvname[3:]) luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) if 0 not in luns: luns.append(0) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 self._cli.addldsetld(ldset['ldsetname'], lvname, target_lun) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': lvname, 'ldset': ldset['ldsetname']})",127,98
openstack%2Ftripleo-heat-templates~master~I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08,openstack/tripleo-heat-templates,master,I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08,Fix non-HA rabbitmq user password updates,MERGED,2018-06-25 10:54:32.000000000,2018-07-03 18:36:28.000000000,2018-07-03 18:36:27.000000000,"[{'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-25 10:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/deb29c51d736d3d898a963e0279e9a8757bebe1b', 'message': ""Fix rabbitmq user password updates\n\nFix the invocation of puppet's rabbitmq_user by allowing the\nproduced changes written into /var/lib/rabbitmq state.\n\nCloses-bug: #1777939\n\nChange-Id: I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-06-25 13:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/653c102b7c8a7a47c2f8dd2b2b445f963b48c5ae', 'message': ""Fix non-HA rabbitmq user password updates\n\nFix the invocation of puppet's rabbitmq_user by allowing the\nproduced changes written into /var/lib/rabbitmq state.\n\nMove the docker_puppet_tasks for non-HA rabbit into the step_2\nas puppet-tripleo expects it for the rabbitmq_user call.\n\nCloses-bug: #1777939\n\nChange-Id: I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-06-26 12:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c2c80e0cbf4081e548709f9f4cdee0fff258aa4', 'message': ""Fix non-HA rabbitmq user password updates\n\nFix the invocation of puppet's rabbitmq_user by allowing the\nproduced changes written into /var/lib/rabbitmq state.\n\nMove the docker_puppet_tasks for non-HA rabbit into the step_2\nas puppet-tripleo expects it for the rabbitmq_user call.\n\nRelated-bug: #1777939\nRelated-bug: #1778505\n\nDepends-on: I55dc83acb2ed5ee07b4cf57e25135e6201589ac4\nChange-Id: I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2018-06-28 08:53:51.000000000', 'files': ['docker/services/messaging/rpc-rabbitmq.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f14369c08515de9e969ea3b72be1da29772f6124', 'message': ""Fix non-HA rabbitmq user password updates\n\nFix the invocation of puppet's rabbitmq_user by allowing the\nproduced changes written into /var/lib/rabbitmq state.\n\nMove the docker_puppet_tasks for non-HA rabbit into the step_2\nas puppet-tripleo expects it for the rabbitmq_user call.\n\nRelated-bug: #1777939\nRelated-bug: #1778505\n\nDepends-on: I55dc83acb2ed5ee07b4cf57e25135e6201589ac4\nChange-Id: I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,577785,f14369c08515de9e969ea3b72be1da29772f6124,31,8,4,6926,,,0,"Fix non-HA rabbitmq user password updates

Fix the invocation of puppet's rabbitmq_user by allowing the
produced changes written into /var/lib/rabbitmq state.

Move the docker_puppet_tasks for non-HA rabbit into the step_2
as puppet-tripleo expects it for the rabbitmq_user call.

Related-bug: #1777939
Related-bug: #1778505

Depends-on: I55dc83acb2ed5ee07b4cf57e25135e6201589ac4
Change-Id: I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/577785/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/rabbitmq.yaml'],1,deb29c51d736d3d898a963e0279e9a8757bebe1b,bug/1778505, - /var/lib/rabbitmq:/var/lib/rabbitmq, - /var/lib/rabbitmq:/var/lib/rabbitmq:ro,1,1
openstack%2Ftempest~master~Ia2e81da2ded351df5b53f36de278a3400d1b2605,openstack/tempest,master,Ia2e81da2ded351df5b53f36de278a3400d1b2605,Update image creation error msg to mention the correct image type,MERGED,2015-12-03 21:58:47.000000000,2018-07-03 18:27:10.000000000,2018-07-03 18:27:10.000000000,"[{'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7872}, {'_account_id': 8302}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2015-12-03 21:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6dc2158eed01b5d7c471b88df75ea50d52e4c085', 'message': 'Make glance image creation errors easier to debug\n\nCurrently, the glance_image_create method allows the ability to\ncreate any type of image as specified in the [scenario] section\nof tempest.conf. The error message when unable to find this image,\nhowever, only mentions qcow. This commit changes the error message\nto use the set disk format type entered in tempest.conf as well\nas changes the log method to ""exception"" so that a traceback is\nprinted for easier debugging.\n\nChange-Id: Ia2e81da2ded351df5b53f36de278a3400d1b2605\n'}, {'number': 2, 'created': '2016-01-05 22:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c36834e78b1d24978ee92c933683fd4be464e78', 'message': 'Make glance image creation errors easier to debug\n\nCurrently, the glance_image_create method allows the ability to\ncreate any type of image as specified in the [scenario] section\nof tempest.conf. The error message when unable to find this image,\nhowever, only mentions qcow. This commit changes the error message\nto use the set disk format type entered in tempest.conf as well\nas changes the log method to ""exception"" so that a traceback is\nprinted for easier debugging.\n\nChange-Id: Ia2e81da2ded351df5b53f36de278a3400d1b2605\n'}, {'number': 3, 'created': '2016-01-08 18:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e213bc74600ae7d8f6ee62a07c0f6fd510b597a4', 'message': 'Update image creation error msg to mention the correct image type\n\nCurrently, the glance_image_create method allows the ability to\ncreate any type of image as specified in the [scenario] section\nof tempest.conf. The error message when unable to find this image,\nhowever, only mentions qcow, which can cause confusion for users\ntesting with other image types. This commit updates the error to\nmention the image type configured in the conf and also issues the\nlog as a warning rather than a debug message.\n\nChange-Id: Ia2e81da2ded351df5b53f36de278a3400d1b2605\n'}, {'number': 4, 'created': '2018-07-01 22:57:09.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5107be23f954d47fbd0249758cf39d7a3d1ee7e', 'message': 'Update image creation error msg to mention the correct image type\n\nCurrently, the glance_image_create method allows the ability to\ncreate any type of image as specified in the [scenario] section\nof tempest.conf. The error message when unable to find this image,\nhowever, only mentions qcow, which can cause confusion for users\ntesting with other image types. This commit updates the error to\nmention the image type configured in the conf and also issues the\nlog as a warning rather than a debug message.\n\nChange-Id: Ia2e81da2ded351df5b53f36de278a3400d1b2605\n'}]",6,253234,e5107be23f954d47fbd0249758cf39d7a3d1ee7e,40,17,4,8302,,,0,"Update image creation error msg to mention the correct image type

Currently, the glance_image_create method allows the ability to
create any type of image as specified in the [scenario] section
of tempest.conf. The error message when unable to find this image,
however, only mentions qcow, which can cause confusion for users
testing with other image types. This commit updates the error to
mention the image type configured in the conf and also issues the
log as a warning rather than a debug message.

Change-Id: Ia2e81da2ded351df5b53f36de278a3400d1b2605
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/253234/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,6dc2158eed01b5d7c471b88df75ea50d52e4c085,," LOG.exception( ""A(n) %s image was not found. Retrying with uec image."" % img_disk_format)"," LOG.debug(""A qcow2 image was not found. Try to get a uec image."")",3,1
openstack%2Fneutron~stable%2Focata~I024bbbdf7059835b2f23c264b48478c71633a43c,openstack/neutron,stable/ocata,I024bbbdf7059835b2f23c264b48478c71633a43c,Avoid agents adding ports as trunk by default.,MERGED,2018-05-11 17:11:51.000000000,2018-07-03 18:16:57.000000000,2018-07-03 18:16:57.000000000,"[{'_account_id': 1131}, {'_account_id': 1955}, {'_account_id': 4694}, {'_account_id': 8788}, {'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 17:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c822e47a33badb21baa18f31467dc6881b4aedbd', 'message': ""Avoid agents adding ports as trunk by default.\n\nAgent OVS interface code adds ports without a vlan tag,\nif neutron-openvswitch-agent fails to set the tag, or takes\ntoo long, the port will be a trunk port, receiving\ntraffic from the external network or any other port\nsending traffic on br-int.\n\nAlso, those kinds of ports are triggering a code path\non the ovs-vswitchd revalidator thread which can eventually\nhog the CPU of the host (that's a bug under investigation [1])\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1558336\n\nConflicts:\n    neutron/tests/functional/agent/test_ovs_lib.py\n\n    needed the addition of the following import:\nfrom neutron.plugins.ml2.drivers.openvswitch.agent.common import (\n    constants as agent_const)\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nChange-Id: I024bbbdf7059835b2f23c264b48478c71633a43c\nCloses-Bug: 1767422\n(cherry picked from commit 88f5e11d8bf820b0124be0f6ec3c2d96011592d9)\n(cherry picked from commit 2b1d413ee90dfe2e9ae41c35ab37253df53fc6cd)\n""}, {'number': 2, 'created': '2018-05-11 17:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94f2a79ed5a5d317d062a553d7bc0b8a2c70110c', 'message': ""Avoid agents adding ports as trunk by default.\n\nAgent OVS interface code adds ports without a vlan tag,\nif neutron-openvswitch-agent fails to set the tag, or takes\ntoo long, the port will be a trunk port, receiving\ntraffic from the external network or any other port\nsending traffic on br-int.\n\nAlso, those kinds of ports are triggering a code path\non the ovs-vswitchd revalidator thread which can eventually\nhog the CPU of the host (that's a bug under investigation [1])\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1558336\n\nConflicts:\n    neutron/tests/functional/agent/test_ovs_lib.py\n\n    needed the addition of the following import:\nfrom neutron.plugins.ml2.drivers.openvswitch.agent.common import (\n    constants as agent_const)\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nChange-Id: I024bbbdf7059835b2f23c264b48478c71633a43c\nCloses-Bug: 1767422\n(cherry picked from commit 88f5e11d8bf820b0124be0f6ec3c2d96011592d9)\n(cherry picked from commit 2b1d413ee90dfe2e9ae41c35ab37253df53fc6cd)\n""}, {'number': 3, 'created': '2018-06-21 17:06:48.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/559bf87fd0d92e4d230058f5819c78f8b727d326', 'message': ""Avoid agents adding ports as trunk by default.\n\nAgent OVS interface code adds ports without a vlan tag,\nif neutron-openvswitch-agent fails to set the tag, or takes\ntoo long, the port will be a trunk port, receiving\ntraffic from the external network or any other port\nsending traffic on br-int.\n\nAlso, those kinds of ports are triggering a code path\non the ovs-vswitchd revalidator thread which can eventually\nhog the CPU of the host (that's a bug under investigation [1])\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1558336\n\nConflicts:\n    neutron/tests/functional/agent/test_ovs_lib.py\n\n    needed the addition of the following import:\nfrom neutron.plugins.ml2.drivers.openvswitch.agent.common import (\n    constants as agent_const)\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nChange-Id: I024bbbdf7059835b2f23c264b48478c71633a43c\nCloses-Bug: 1767422\n(cherry picked from commit 88f5e11d8bf820b0124be0f6ec3c2d96011592d9)\n(cherry picked from commit 2b1d413ee90dfe2e9ae41c35ab37253df53fc6cd)\n""}]",0,567901,559bf87fd0d92e4d230058f5819c78f8b727d326,58,8,3,8788,,,0,"Avoid agents adding ports as trunk by default.

Agent OVS interface code adds ports without a vlan tag,
if neutron-openvswitch-agent fails to set the tag, or takes
too long, the port will be a trunk port, receiving
traffic from the external network or any other port
sending traffic on br-int.

Also, those kinds of ports are triggering a code path
on the ovs-vswitchd revalidator thread which can eventually
hog the CPU of the host (that's a bug under investigation [1])

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1558336

Conflicts:
    neutron/tests/functional/agent/test_ovs_lib.py

    needed the addition of the following import:
from neutron.plugins.ml2.drivers.openvswitch.agent.common import (
    constants as agent_const)

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
Change-Id: I024bbbdf7059835b2f23c264b48478c71633a43c
Closes-Bug: 1767422
(cherry picked from commit 88f5e11d8bf820b0124be0f6ec3c2d96011592d9)
(cherry picked from commit 2b1d413ee90dfe2e9ae41c35ab37253df53fc6cd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/567901/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/agent/linux/interface.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",7,c822e47a33badb21baa18f31467dc6881b4aedbd,bug/1767422,"from neutron.plugins.ml2.drivers.openvswitch.agent.common import ( constants as agent_const) self.assertEqual(agent_const.DEAD_VLAN_TAG, self.br.db_get_val('Port', port_name, 'tag'))",,78,3
openstack%2Fpuppet-freezer~master~I779c30e2c7507db195261bad617231996a7cf0d0,openstack/puppet-freezer,master,I779c30e2c7507db195261bad617231996a7cf0d0,Add release note link in README,MERGED,2018-06-27 14:00:23.000000000,2018-07-03 18:16:05.000000000,2018-07-03 18:16:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 14:00:23.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/c4e5efd9566d0c53dff7731ebb86e867c478f5a7', 'message': 'Add release note link in README\n\nChange-Id: I779c30e2c7507db195261bad617231996a7cf0d0\n'}]",0,578396,c4e5efd9566d0c53dff7731ebb86e867c478f5a7,7,3,1,17499,,,0,"Add release note link in README

Change-Id: I779c30e2c7507db195261bad617231996a7cf0d0
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/96/578396/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,c4e5efd9566d0c53dff7731ebb86e867c478f5a7,,Release notes for the project can be found at: https://docs.openstack.org/releasenotes/puppet-freezer ,,3,0
openstack%2Fnova~master~I66ba0e0835970b965acce00ba69d143bd4471037,openstack/nova,master,I66ba0e0835970b965acce00ba69d143bd4471037,trivial: Remove 'tools/releasenotes_tox.sh',MERGED,2018-01-16 17:04:38.000000000,2018-07-03 18:14:24.000000000,2018-06-29 15:44:56.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27386}]","[{'number': 1, 'created': '2018-01-16 17:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad014736082e1fa7a42e483c1c2211c0eb1098ce', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 2, 'created': '2018-01-17 09:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4838be2f97ac89516a368c7ce22002738139c76b', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 3, 'created': '2018-02-07 17:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a329cc8c2424490cb6b3f2b4a7967e303f535d16', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 4, 'created': '2018-03-26 14:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82dd91fbfc7a87865416a87e1e1646e542856798', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 5, 'created': '2018-03-27 15:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7124b7b6f82cdce34216725f61dd9d98be7a0d4', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 6, 'created': '2018-03-28 12:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad5275ee1c5c7266906a4f8ec70c055bb50e60dd', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 7, 'created': '2018-05-01 16:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b77e1a08a54f447fa5b3fac72cd830986ffef693', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 8, 'created': '2018-06-07 09:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc89ee2c94fbd9b439f74cca683e6d0b4795e19', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}, {'number': 9, 'created': '2018-06-28 14:44:22.000000000', 'files': ['tools/releasenotes_tox.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/de4ab973d50aa1d26b15a27f909a2c56973a0567', 'message': ""trivial: Remove 'tools/releasenotes_tox.sh'\n\nThis is not needed since reno 2.1.0 (commit f8fc8f97) [1].\n\n[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68\n\nChange-Id: I66ba0e0835970b965acce00ba69d143bd4471037\n""}]",0,534383,de4ab973d50aa1d26b15a27f909a2c56973a0567,94,19,9,15334,,,0,"trivial: Remove 'tools/releasenotes_tox.sh'

This is not needed since reno 2.1.0 (commit f8fc8f97) [1].

[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68

Change-Id: I66ba0e0835970b965acce00ba69d143bd4471037
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/534383/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/releasenotes_tox.sh', 'tox.ini']",2,ad014736082e1fa7a42e483c1c2211c0eb1098ce,python3-first,commands = rm -rf releasenotes/build sphinx-build -W -b html -d releasenotes/build/doctrees releasenotes/source releasenotes/build/html,commands = bash -c tools/releasenotes_tox.sh,3,29
openstack%2Fnova~master~I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c,openstack/nova,master,I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c,Merge server create schema for scheduler hint extension,MERGED,2018-06-27 09:34:55.000000000,2018-07-03 18:11:55.000000000,2018-07-03 18:11:55.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 09:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55975dde6156d3652c43ab096cef081ecaaa7e08', 'message': 'Merge server create schema for scheduler hint extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for scheduler\nhint extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c\n'}, {'number': 2, 'created': '2018-06-27 14:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54195127f7f28e4ee2707b75247942b6441bb07c', 'message': 'Merge server create schema for scheduler hint extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for scheduler\nhint extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c\n'}, {'number': 3, 'created': '2018-06-27 14:09:05.000000000', 'files': ['nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/schemas/scheduler_hints.py', 'nova/api/openstack/compute/scheduler_hints.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f4ec8116aedadb3d4b958b49b8a703fbcbd7d383', 'message': 'Merge server create schema for scheduler hint extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for scheduler\nhint extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c\n'}]",0,578343,f4ec8116aedadb3d4b958b49b8a703fbcbd7d383,34,17,3,8556,,,0,"Merge server create schema for scheduler hint extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for scheduler
hint extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/578343/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/schemas/scheduler_hints.py', 'nova/api/openstack/compute/scheduler_hints.py', 'nova/api/openstack/compute/servers.py']",4,55975dde6156d3652c43ab096cef081ecaaa7e08,bp/api-extensions-merge-rocky, create_schema['properties']['server']['properties'].update(schema)," scheduler_hints.get_server_create_schema, if (schema_func.__module__ == 'nova.api.openstack.compute.scheduler_hints'): # NOTE(oomichi): The request parameter position of scheduler-hint # extension is different from the other extensions, so here handles # the difference. create_schema['properties'].update(schema) else: create_schema['properties']['server']['properties'].update(schema)",59,92
openstack%2Fnova~master~I2b1a7a45ee35d3a7023a27f13e197221868087b2,openstack/nova,master,I2b1a7a45ee35d3a7023a27f13e197221868087b2,Merge server create schema for multiple create extension,MERGED,2018-06-27 09:19:53.000000000,2018-07-03 18:11:49.000000000,2018-07-03 18:11:49.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 09:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d9843c166fe62ebdc660666e0ca853fd8d67da5', 'message': 'Merge server create schema for multiple create extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for multiplex\ncreate extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I2b1a7a45ee35d3a7023a27f13e197221868087b2\n'}, {'number': 2, 'created': '2018-06-27 14:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c64aada4284a8c89105770e6a67bd33179ad35d7', 'message': 'Merge server create schema for multiple create extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for multiplex\ncreate extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I2b1a7a45ee35d3a7023a27f13e197221868087b2\n'}, {'number': 3, 'created': '2018-06-27 14:07:54.000000000', 'files': ['nova/api/openstack/compute/schemas/multiple_create.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/multiple_create.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74ee397dbbdb3f33b05f750cc0b135ba7dbc51c3', 'message': 'Merge server create schema for multiple create extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for multiplex\ncreate extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I2b1a7a45ee35d3a7023a27f13e197221868087b2\n'}]",0,578338,74ee397dbbdb3f33b05f750cc0b135ba7dbc51c3,41,16,3,8556,,,0,"Merge server create schema for multiple create extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for multiplex
create extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I2b1a7a45ee35d3a7023a27f13e197221868087b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/578338/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/multiple_create.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/multiple_create.py', 'nova/api/openstack/compute/servers.py']",4,0d9843c166fe62ebdc660666e0ca853fd8d67da5,bp/api-extensions-merge-rocky,," multiple_create.get_server_create_schema,",3,25
openstack%2Fpuppet-glare~master~Ib8fed241d0b2287ba5a918a9602b63b33b604ff4,openstack/puppet-glare,master,Ib8fed241d0b2287ba5a918a9602b63b33b604ff4,Add release note link in README,MERGED,2018-06-27 14:06:29.000000000,2018-07-03 18:10:27.000000000,2018-07-03 18:10:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 14:06:29.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/345366e19442f56a78e8abecbe437d68cd9ea9d2', 'message': 'Add release note link in README\n\nChange-Id: Ib8fed241d0b2287ba5a918a9602b63b33b604ff4\n'}]",0,578401,345366e19442f56a78e8abecbe437d68cd9ea9d2,7,3,1,17499,,,0,"Add release note link in README

Change-Id: Ib8fed241d0b2287ba5a918a9602b63b33b604ff4
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/01/578401/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,345366e19442f56a78e8abecbe437d68cd9ea9d2,,Release notes for the project can be found at: https://docs.openstack.org/releasenotes/puppet-glare ,,3,0
openstack%2Fnova~master~I33675b7eedcffcebf1115dd48757874cb73f3e2f,openstack/nova,master,I33675b7eedcffcebf1115dd48757874cb73f3e2f,tox: Document and dedupe mostly everything,MERGED,2018-06-28 14:44:22.000000000,2018-07-03 17:51:06.000000000,2018-06-29 15:45:05.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-28 14:44:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/7601b3bb7f5fde6f3ef99776594e7b78da861603', 'message': ""tox: Document and dedupe mostly everything\n\nTake advantage of tox's expressiveness to avoid duplication wherever\npossible and document the many targets we have.\n\nChange-Id: I33675b7eedcffcebf1115dd48757874cb73f3e2f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",7,578825,7601b3bb7f5fde6f3ef99776594e7b78da861603,16,10,1,15334,,,0,"tox: Document and dedupe mostly everything

Take advantage of tox's expressiveness to avoid duplication wherever
possible and document the many targets we have.

Change-Id: I33675b7eedcffcebf1115dd48757874cb73f3e2f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/578825/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7601b3bb7f5fde6f3ef99776594e7b78da861603,python3-first,"envlist = py{27,35},functional,pep8,pip-missing-reqspassenv = OS_DEBUG GENERATE_HASHES {[testenv:py35]commands}description = Run style checks.description = Run style checks on the changes made since HEAD~. For a full run including docs, use 'pep8' {[testenv:functional]commands} {[testenv]commands}commands = oslo-config-generator --config-file=etc/nova/nova-config-generator.confcommands = oslopolicy-sample-generator --config-file=etc/nova/nova-policy-generator.confcommands = oslopolicy-sample-generator --config-file=etc/nova/placement-policy-generator.conf# TODO(stephenfin): Remove the PYTHON hack below in favour of a [coverage] # section once we rely on coverage 4.3+ # # https://bitbucket.org/ned/coveragepy/issues/519/ setenv = {[testenv]setenv} PYTHON=coverage run --source nova --parallel-mode {[testenv]commands} {[testenv]commands}commands = {posargs}description = Build all documentation including API guides and refs. rm -rf doc/build {[testenv:api-guide]commands} {[testenv:api-ref]commands} {[testenv:placement-api-ref]commands}description = Generate the API guide. Called from CI scripts to test and publish to developer.openstack.org. deps = {[testenv:docs]deps} rm -rf api-guide/builddescription = Generate the API ref. Called from CI scripts to test and publish to developer.openstack.org. deps = {[testenv:docs]deps}description = Generate the Placement API ref. Called from CI scripts to test and publish to developer.openstack.org. deps = {[testenv:docs]deps}[testenv:releasenotes] description = Generate release notes. deps = {[testenv:docs]deps} commands = rm -rf releasenotes/build sphinx-build -W -b html -d releasenotes/build/doctrees releasenotes/source releasenotes/build/html deps = bindep commands = bindep test {[testenv]commands} stestr run --blacklist-file=tests-py3.txt {posargs}","envlist = py{35,27},functional,pep8,pip-missing-reqspassenv = OS_DEBUG GENERATE_HASHES {[testenv]commands} stestr run --blacklist-file=tests-py3.txt {posargs} env TEST_OSPROFILER=1 stestr run --combine --no-discover 'nova.tests.unit.test_profiler'# This is a subset of the full pep8 check which # only runs flake8 on the changes made since # HEAD-1. For a full flake8 run including checking # docs, just use pep8. {[testenv]commands} # NOTE(cdent): The group_regex describes how stestr will group tests into the # same process when running concurently. The following ensures that gabbi tests # coming from the same YAML file are all in the same process. This is important # because each YAML file represents an ordered sequence of HTTP requests. Note # that tests which do not match this regex will not be grouped in any # special way. See the following for more details. # http://stestr.readthedocs.io/en/latest/MANUAL.html#grouping-tests # https://gabbi.readthedocs.io/en/latest/#purpose stestr --test-path=./nova/tests/functional --group_regex=nova\.tests\.functional\.api\.openstack\.placement\.test_placement_api(?:\.|_)([^_]+) run {posargs} find . -type f -name ""*.pyc"" -deletecommands = oslo-config-generator --config-file=etc/nova/nova-config-generator.confcommands = oslopolicy-sample-generator --config-file=etc/nova/nova-policy-generator.confcommands = oslopolicy-sample-generator --config-file=etc/nova/placement-policy-generator.conf# Also do not run test_coverage_ext tests while gathering coverage as those # tests conflict with coverage. setenv = {[testenv]setenv} PYTHON=coverage run --source nova --parallel-mode find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -deletecommands = {posargs} rm -rf doc/source/api doc/build api-guide/build api-ref/build placement-api-ref/build # Build docs sphinx-build -W -b html api-guide/source api-guide/build/html sphinx-build -W -b html api-ref/source api-ref/build/html sphinx-build -W -b html placement-api-ref/source placement-api-ref/build/html# This environment is called from CI scripts to test and publish # the API Guide to developer.openstack.org. deps = -r{toxinidir}/doc/requirements.txt# This environment is called from CI scripts to test and publish # the API Ref to developer.openstack.org. deps = -r{toxinidir}/doc/requirements.txt# This environment is called from CI scripts to test and publish # the Placement API Ref to developer.openstack.org. deps = -r{toxinidir}/doc/requirements.txt[testenv:releasenotes] deps = -r{toxinidir}/doc/requirements.txt commands = rm -rf releasenotes/build sphinx-build -W -b html -d releasenotes/build/doctrees releasenotes/source releasenotes/build/html deps = bindep commands = bindep test {[testenv]commands} stestr run --blacklist-file=tests-py3.txt {posargs}",56,55
openstack%2Fpuppet-openstack-integration~master~Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905,openstack/puppet-openstack-integration,master,Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905,Fix select ceph version failing beaker tests,MERGED,2018-07-02 07:32:09.000000000,2018-07-03 17:38:55.000000000,2018-07-03 17:38:55.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2c1c395410517e58f01e303edefe26e58c81221c', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 2, 'created': '2018-07-02 08:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d789492994eb34ea5e8429a626e17ef442d17bdf', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 3, 'created': '2018-07-02 08:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/feb4190c4a3740cf4b01aca1a19521f56645599a', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 4, 'created': '2018-07-02 08:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d2bbd5b6b1ab7bf4bbb517d693683edb56f1db2a', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 5, 'created': '2018-07-02 08:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/61278052e35bed61586c6b34497b5d9a844c5101', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 6, 'created': '2018-07-02 08:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d4f94b88cf255d1f097d18e3a01ed34bfca8b92f', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 7, 'created': '2018-07-02 10:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f2c5b953d526bc08fe23007eb7089198024f32f0', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}, {'number': 8, 'created': '2018-07-03 09:05:37.000000000', 'files': ['functions', 'manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1cafb2d4fc0a4a62fe775304f637a78814b1a89f', 'message': 'Fix select ceph version failing beaker tests\n\nChange-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905\n'}]",0,579475,1cafb2d4fc0a4a62fe775304f637a78814b1a89f,28,4,8,16137,,,0,"Fix select ceph version failing beaker tests

Change-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/75/579475/8 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,2c1c395410517e58f01e303edefe26e58c81221c,579475,"# - ``CEPH_VERSION`` can be set to override Ceph version. if [ ""$ZUUL_PROJECT"" != ""openstack/puppet-ceph"" ] && [ -n ""$CEPH_VERSION"" ]; then if [ ""$CEPH_VERSION"" == ""mimic"" ]; then"," if [ $ZUUL_PROJECT != ""openstack/puppet-ceph"" ] && [ -n ""$CEPH_VERSION"" ]; then if [ $CEPH_VERSION == ""mimic"" ]; then",3,2
openstack%2Fansible-role-systemd_mount~master~I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea,openstack/ansible-role-systemd_mount,master,I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea,Add release note link in README,MERGED,2018-06-29 06:47:09.000000000,2018-07-03 16:40:21.000000000,2018-07-03 16:40:21.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 06:47:09.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/aa794588ad29031477c5f75019d950f0a63a07df', 'message': 'Add release note link in README\n\nChange-Id: I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea\n'}]",0,579072,aa794588ad29031477c5f75019d950f0a63a07df,6,2,1,27336,,,0,"Add release note link in README

Change-Id: I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/72/579072/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,aa794588ad29031477c5f75019d950f0a63a07df,,Release notes for the project can be found at: https://docs.openstack.org/releasenotes/ansible-role-systemd_mount,,2,0
openstack%2Fnetworking-odl~stable%2Fqueens~I955c9d737864b8a2557366be518922e192f4be91,openstack/networking-odl,stable/queens,I955c9d737864b8a2557366be518922e192f4be91,Remove tox_install.sh helper,ABANDONED,2018-07-02 16:30:42.000000000,2018-07-03 16:33:36.000000000,,"[{'_account_id': 7921}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-07-02 16:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b936318cb8b6f0c7f89e2f610113152c36224e6c', 'message': 'Remove tox_install.sh helper\n\nWith the move to Zuul v3 there is no need to use zuul cloner anymore and\ntherefore also no need to have tox_install.sh -that does not work well\nwith the OpenStack CI.\n\nThis patch removes the need for the helpers, adapts tox.ini to install\nwith pip and moves to use packages from PyPi while installing from git\nthe only package (ceilometer) that does not publish in PyPi.\n\nChange-Id: I955c9d737864b8a2557366be518922e192f4be91\n'}, {'number': 2, 'created': '2018-07-02 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8ea42da692f16c377d6142b4f56c32d845684a9f', 'message': 'Remove tox_install.sh helper\n\nWith the move to Zuul v3 there is no need to use zuul cloner anymore and\ntherefore also no need to have tox_install.sh -that does not work well\nwith the OpenStack CI.\n\nThis patch removes the need for the helpers, adapts tox.ini to install\nwith pip and moves to use packages from PyPi while installing from git\nthe only package (ceilometer) that does not publish in PyPi.\n\n(chery picked from commit 391c1d89ef2b8133d3aafbe7612c7908be106e73)\n\nChange-Id: I955c9d737864b8a2557366be518922e192f4be91\n'}, {'number': 3, 'created': '2018-07-02 17:00:12.000000000', 'files': ['requirements.txt', 'devstack/entry_points', 'tools/tox_install_project.sh', 'devstack/upgrade/upgrade.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/04b08b22743127e6bcd89d9473ab7e09c7bd0b98', 'message': 'Remove tox_install.sh helper\n\nWith the move to Zuul v3 there is no need to use zuul cloner anymore and\ntherefore also no need to have tox_install.sh -that does not work well\nwith the OpenStack CI.\n\nThis patch removes the need for the helpers, adapts tox.ini to install\nwith pip and moves to use packages from PyPi while installing from git\nthe only package (ceilometer) that does not publish in PyPi.\n\n(chery picked from commit 391c1d89ef2b8133d3aafbe7612c7908be106e73)\n\nChange-Id: I955c9d737864b8a2557366be518922e192f4be91\n'}]",0,579630,04b08b22743127e6bcd89d9473ab7e09c7bd0b98,5,3,3,17120,,,0,"Remove tox_install.sh helper

With the move to Zuul v3 there is no need to use zuul cloner anymore and
therefore also no need to have tox_install.sh -that does not work well
with the OpenStack CI.

This patch removes the need for the helpers, adapts tox.ini to install
with pip and moves to use packages from PyPi while installing from git
the only package (ceilometer) that does not publish in PyPi.

(chery picked from commit 391c1d89ef2b8133d3aafbe7612c7908be106e73)

Change-Id: I955c9d737864b8a2557366be518922e192f4be91
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/30/579630/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'devstack/entry_points', 'tools/tox_install_project.sh', 'devstack/upgrade/upgrade.sh', 'tox.ini']",5,b936318cb8b6f0c7f89e2f610113152c36224e6c,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages} deps = -r{toxinidir}/requirements.txt,17,79
openstack%2Fopenstack-ansible-os_magnum~master~Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a,openstack/openstack-ansible-os_magnum,master,Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a,Add systemd tags to include role,MERGED,2018-06-28 00:01:37.000000000,2018-07-03 16:32:46.000000000,2018-07-03 16:32:46.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 00:01:37.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/ce2183980d4c9196da3d7e4cc82db3773f053c33', 'message': 'Add systemd tags to include role\n\nThere are times when a deployer will need to reconfigure parts of\nan environment and having a general purpose tag to run said operation\nwill be important especicially should the deployer be needing to\nreconfigure systemd unit files in a downtime event. This change adds\na general purpose systemd tag where include_role and systemd is found\nwhich will assit operators with day2 operational tasks.\n\nChange-Id: Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,578604,ce2183980d4c9196da3d7e4cc82db3773f053c33,15,4,1,7353,,,0,"Add systemd tags to include role

There are times when a deployer will need to reconfigure parts of
an environment and having a general purpose tag to run said operation
will be important especicially should the deployer be needing to
reconfigure systemd unit files in a downtime event. This change adds
a general purpose systemd tag where include_role and systemd is found
which will assit operators with day2 operational tasks.

Change-Id: Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/04/578604/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,ce2183980d4c9196da3d7e4cc82db3773f053c33,common-systemd-service, - systemd-service,,1,0
openstack%2Fkeystone~master~Ibb408758466ff367f57bafbd4b8c9213499f8dc3,openstack/keystone,master,Ibb408758466ff367f57bafbd4b8c9213499f8dc3,Add auto increase primary key for unified limit,MERGED,2018-06-18 03:41:51.000000000,2018-07-03 16:22:36.000000000,2018-07-03 16:22:36.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8871}, {'_account_id': 11022}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-18 03:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/48b80d597e6ae6cbbb7e990bf297da6a217ecd0b', 'message': '[WIP]Add auto increase primary key for unified limit\n\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 2, 'created': '2018-06-19 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7215614eeac01436b44a777d6e3ae8d6de441d4f', 'message': 'Add auto increase primary key for unified limit\n\nThis patch changed the primary key in unified limit tables\nfrom UUID column to int auto increase column\n\nTODO: need test code.\n\nbp: unified-limits\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 3, 'created': '2018-06-19 11:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/34c58edc16e58bd81433394e0ad90f7c8b865108', 'message': '[WIP]Add auto increase primary key for unified limit\n\nThis patch changed the primary key in unified limit tables\nfrom UUID column to int auto increase column\n\nTODO: need test code.\n\nbp: unified-limits\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 4, 'created': '2018-06-19 12:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a3f81dd3aff4251a6710b3f3b4068ba5f765fe00', 'message': 'Add auto increase primary key for unified limit\n\nThis patch changed the primary key in unified limit tables\nfrom UUID column to int auto increase column\n\nSince not all kinds of DB support add primary key column,\nthis patch created new tables first, then migrate the date\nfrom old tables to the new ones, drop the old tables and\nrename the new ones at last.\n\nTODO:\n1. need add and fix test code.\n2. need to deal with the case that: after expand and migrate\nbut before contract, how the new code works well with the\nmix-version db tables.\n\nbp: unified-limits\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 5, 'created': '2018-06-19 15:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7f2cfb92143d6ea3d14be6e9552a4037e98fdc15', 'message': '[WIP]Add auto increase primary key for unified limit\n\nThis patch changed the primary key in unified limit tables\nfrom UUID column to int auto increase column\n\nSince not all kinds of DB support add primary key column,\nthis patch created new tables first, then migrate the date\nfrom old tables to the new ones, drop the old tables and\nrename the new ones at last.\n\nWhat this patch did:\n1. ADD auto increase primary key for unified limit\n2. Remove the FK and Unique Constrant.\n3. Remove duplicate service_id, region_id, resource_name in pro_limit\n\nTODO:\n1. need add and fix test code.\n2. need to deal with the case that: after expand and migrate\nbut before contract, how the new code works well with the\nmix-version db tables.\n3. add orm relationship between reg_limit and pro_limit\n\nbp: unified-limits\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 6, 'created': '2018-06-22 02:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/92d9a5b7b26402aa52e6ad903aac07a42c83402b', 'message': '[WIP]Add auto increase primary key for unified limit\n\nWhat this patch did:\n\n1. added a auto increment primary column `interenal_id` for both\nregistered_limit and limit tables.\n2. removed the primary key but added unique index for `id` column\n3. dropped the forieign keys for `project_id` column in limit table\n\nTODO: need test code.\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 7, 'created': '2018-06-22 07:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/782ecc41a463eba25d2cda34f90523eee6376244', 'message': 'Add auto increase primary key for unified limit\n\nWhat this patch did:\n\n1. added a auto increment primary column `interenal_id` for both\n   registered_limit and limit tables.\n2. removed the primary key but added unique index for `id` column.\n3. dropped the forieign keys in limit table.\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 8, 'created': '2018-06-25 02:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8aab083838e59e6a2c6cacd7e2e64b8daafbcef9', 'message': 'Add auto increase primary key for unified limit\n\nWhat this patch did:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables.\n2. removed the primary key but added unique index for `id` column.\n3. dropped the forieign keys in limit table.\n4. dropped the unique constraints in both tables\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 9, 'created': '2018-06-25 03:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7b4bee03060ff633717cb1db840077c87de3602c', 'message': 'Add auto increase primary key for unified limit\n\nWhat this patch did:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables.\n2. removed the primary key but added unique index for `id` column.\n3. dropped the forieign keys in limit table.\n4. dropped the unique constraints in both tables\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 10, 'created': '2018-06-25 07:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a837221abcdbb715718bec1700cf840b0dc02ad', 'message': 'Add auto increase primary key for unified limit\n\nWhat this patch did:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables.\n2. removed the primary key but added unique index for `id` column.\n3. dropped the forieign keys in limit table.\n4. dropped the unique constraints in both tables\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n'}, {'number': 11, 'created': '2018-06-26 09:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d7ad41a4c60db75cd5e90142bf12fb01fff693fd', 'message': ""Add auto increase primary key for unified limit\n\nWhat this patch did and Why:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables. Removed the primary key but\n   added unique index for `id` column. This change can improve\n   the db performance.\n2. dropped the forieign keys in limit table. Now the `project_id`\n   column has a forieign key. Using forieign key in between different\n   backends can lead some unexpected error. The\n3. dropped the unique constraints and foreign key constraint in both\n   tables. Because `region_id` can be null, in this case, both\n   constraints can't work well in all kinds of DBs. We'll check the\n   unique and foreign reference in code.\n\nFor mySQL and postgreSQL, we did the change inner tables. But for\nSQLite, it doesn't support adding a primary column into an existed\ntable, so taht we recreated the tables in SQLite case.\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n""}, {'number': 12, 'created': '2018-06-29 07:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8100ba3661c0884c280d183777663d525a5091e2', 'message': ""Add auto increase primary key for unified limit\n\nWhat this patch did and Why:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables. Removed the primary key but\n   added unique index for `id` column. This change can improve\n   the db performance.\n2. dropped the forieign keys in limit table. Now the `project_id`\n   column has a forieign key. Using forieign key in between different\n   backends can lead some unexpected error. The\n3. dropped the unique constraints and foreign key constraint in both\n   tables. Because `region_id` can be null, in this case, both\n   constraints can't work well in all kinds of DBs. We'll check the\n   unique and foreign reference in code.\n\nFor mySQL and postgreSQL, we did the change inner tables. But for\nSQLite, it doesn't support adding a primary column into an existed\ntable, so taht we recreated the tables in SQLite case.\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n""}, {'number': 13, 'created': '2018-06-30 02:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/05f776aba2e654374115802cd49db52780080ae9', 'message': ""Add auto increase primary key for unified limit\n\nWhat this patch did and why:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables. Removed the primary key but\n   added unique index for `id` column. This change can improve\n   the db performance.\n2. dropped the forieign keys in limit table. The `project_id`\n   column has a forieign key. Using forieign key between different\n   backends can lead some unexpected error.\n3. dropped the unique constraints and foreign key constraint in both\n   tables. Because `region_id` can be null, in this case, both\n   constraints can't work well in all kinds of DBs. Instead, we'll\n   check the unique and foreign reference in code.\n\nNOTE: For MySQL and PostgreSQL, we did the change inner tables. But\nfor SQLite, it doesn't support adding a primary column into an existed\ntable, so taht we recreated the tables instead..\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n""}, {'number': 14, 'created': '2018-07-03 01:30:57.000000000', 'files': ['keystone/common/sql/data_migration_repo/versions/047_migrate_update_pk_for_unified_limit.py', 'keystone/common/sql/expand_repo/versions/047_expand_update_pk_for_unified_limit.py', 'keystone/tests/unit/test_limits.py', 'keystone/common/sql/contract_repo/versions/047_contract_expand_update_pk_for_unified_limit.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/limit/test_backends.py', 'keystone/limit/backends/sql.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/209462c90d44df7bf58fd3786887047adefdc22b', 'message': ""Add auto increase primary key for unified limit\n\nWhat this patch did and why:\n\n1. added an auto increment primary column `interenal_id` for both\n   registered_limit and limit tables. Removed the primary key but\n   added unique index for `id` column. This change can improve\n   the db performance.\n2. dropped the forieign keys in limit table. The `project_id`\n   column has a foreign key. Using foreign key between different\n   backends can lead some unexpected error.\n3. dropped the unique constraints and foreign key constraint in both\n   tables. Because `region_id` can be null, in this case, both\n   constraints can't work well in all kinds of DBs. Instead, we'll\n   check the unique and foreign reference in code.\n\nNOTE: For MySQL and PostgreSQL, we did the change inner tables. But\nfor SQLite, it doesn't support adding a primary column into an existed\ntable, so that we recreated the tables instead..\n\nCloses-bug: #1777893\nChange-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3\n""}]",13,576025,209462c90d44df7bf58fd3786887047adefdc22b,46,6,14,15054,,,0,"Add auto increase primary key for unified limit

What this patch did and why:

1. added an auto increment primary column `interenal_id` for both
   registered_limit and limit tables. Removed the primary key but
   added unique index for `id` column. This change can improve
   the db performance.
2. dropped the forieign keys in limit table. The `project_id`
   column has a foreign key. Using foreign key between different
   backends can lead some unexpected error.
3. dropped the unique constraints and foreign key constraint in both
   tables. Because `region_id` can be null, in this case, both
   constraints can't work well in all kinds of DBs. Instead, we'll
   check the unique and foreign reference in code.

NOTE: For MySQL and PostgreSQL, we did the change inner tables. But
for SQLite, it doesn't support adding a primary column into an existed
table, so that we recreated the tables instead..

Closes-bug: #1777893
Change-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/576025/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/expand_repo/versions/046_expand_update_pk_for_unified_limit.py', 'keystone/common/sql/contract_repo/versions/046_contract_expand_update_pk_for_unified_limit.py', 'keystone/common/sql/data_migration_repo/versions/046_migrate_update_pk_for_unified_limit.py']",3,48b80d597e6ae6cbbb7e990bf297da6a217ecd0b,bug/1777892,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sqlalchemy as sql import sqlalchemy.sql.expression as expression def upgrade(migrate_engine): meta = sql.MetaData() meta.bind = migrate_engine registered_limit_table = sql.Table('registered_limit', meta, autoload=True) for reg_row in registered_limit_table.select().where( registered_limit_table.c.registered_limit_id is None).execute(): values = {'registered_limit_id': reg_row['id']} stmt = reg_row.update().where.values(values) stmt.execute() limit_table = sql.Table('limit', meta, autoload=True) for reg_row in limit_table.select().where( limit_table.c.limit_id is None).execute(): values = {'limit_id': reg_row['id']} stmt = reg_row.update().where.values(values) stmt.execute() ",,174,0
openstack%2Fsahara-image-elements~master~Iafafb64fd60a1ae585375a68173c84fbb82c7e1f,openstack/sahara-image-elements,master,Iafafb64fd60a1ae585375a68173c84fbb82c7e1f,Totally rewrite s3_hadoop,MERGED,2018-06-26 20:20:11.000000000,2018-07-03 16:19:03.000000000,2018-07-03 16:19:03.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-06-26 20:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c35692f1d639f290a0ffc0d57d8fa2b5595d8c73', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 2, 'created': '2018-06-28 14:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/940f177c0d5fdcb47e252f37a1396db13431c700', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 3, 'created': '2018-06-28 14:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/930c1f4385c30ed24a9f316cacc1dbfba2a4dc1e', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 4, 'created': '2018-06-28 19:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/a5b8e13192a2babe822d8a51e934452544b1db3d', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 5, 'created': '2018-06-29 19:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/d9d35379dfe6c2795b80c92dac9f36d0b3f99007', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 6, 'created': '2018-07-02 13:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/24e0d90085a3ae73501671738d0a4d733bf13a2c', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 7, 'created': '2018-07-02 15:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/7c267d4f8243e4a556acf1cca5ba5d50a8b76252', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}, {'number': 8, 'created': '2018-07-02 15:51:36.000000000', 'files': ['elements/spark/root.d/50-download-spark', 'elements/s3_hadoop/post-install.d/89-manipulate-s3', 'diskimage-create/diskimage-create.sh', 'elements/s3_hadoop/post-install.d/89-add-amazon-jar'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/7910521a7ed7ed685a4bd7ec892f26c79557dc50', 'message': 'Totally rewrite s3_hadoop\n\nRemedying of patchings, version conflicts, classpath issues, etc.\n\nALSO: Switch the Hadoop libraries used on the Spark standalone plugin to\nHadoop 2.7.3. The version was previously 2.6.5, to match Cloudera\'s\nso-called ""Hadoop 2.6.0"", but in fact this concordance is not at all\nnecessary...\n\nChange-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f\n'}]",6,578193,7910521a7ed7ed685a4bd7ec892f26c79557dc50,29,4,8,23078,,,0,"Totally rewrite s3_hadoop

Remedying of patchings, version conflicts, classpath issues, etc.

ALSO: Switch the Hadoop libraries used on the Spark standalone plugin to
Hadoop 2.7.3. The version was previously 2.6.5, to match Cloudera's
so-called ""Hadoop 2.6.0"", but in fact this concordance is not at all
necessary...

Change-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/93/578193/4 && git format-patch -1 --stdout FETCH_HEAD,"['elements/s3_hadoop/post-install.d/89-manipulate-s3-stuff', 'elements/s3_hadoop/post-install.d/89-add-amazon-jar']",2,c35692f1d639f290a0ffc0d57d8fa2b5595d8c73,,,"#!/bin/bash if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail case ""$plugin_type"" in ""vanilla"" ) HADOOP_TOOLS_DIR_PATH=""/opt/hadoop/share/hadoop/tools/lib"" HADOOP_ENV_SH_PATH=""/opt/hadoop/etc/hadoop/hadoop-env.sh"" SPARK_JARS_DIR_PATH=""/opt/spark/jars"" ;; ""spark"" ) HADOOP_TOOLS_DIR_PATH=""/usr/lib/hadoop/client"" SPARK_JARS_DIR_PATH=""/opt/spark/jars"" ;; ""cloudera"" ) echo -n ""The s3_hadoop element is not supported on CDH,"" echo "" because the relevant libraries are already in the right place."" exit 1 ;; *) echo ""The s3_hadoop element is only supported on Vanilla and Spark."" exit 1 esac # NOTE: By defintion, the Spark standalone plugin does not contain Hadoop in # its entirety. Therefore, there are no Hadoop-specific environment settings # available for modification. if [ ""$plugin_type"" != ""spark"" ]; then if [ -f ""$HADOOP_ENV_SH_PATH"" ]; then cat >> $HADOOP_ENV_SH_PATH <<EOF for f in $HADOOP_TOOLS_DIR_PATH/*.jar; do if [ ""\$HADOOP_CLASSPATH"" ]; then export HADOOP_CLASSPATH=\$HADOOP_CLASSPATH:\$f else export HADOOP_CLASSPATH=\$f fi done EOF else echo ""Something went wrong: couldn't find Hadoop env settings."" exit 1 fi fi if [ -d ""$SPARK_JARS_DIR_PATH"" ]; then cp $HADOOP_TOOLS_DIR_PATH/*aws*.jar $SPARK_JARS_DIR_PATH chmod 0644 $SPARK_JARS_DIR_PATH/*aws*jar else # NOTE: In the case of Vanilla, the user may have disabled the Spark # element. So, check for the existence of the directory explicitly, but # crucially do do not consider it an error if the folder does not exist. if [ ""$plugin_type"" != ""vanilla"" ]; then echo ""Something went wrong: couldn't find Spark installation."" exit 1 fi fi ",62,60
openstack%2Fopenstack-ansible~stable%2Fqueens~Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2,openstack/openstack-ansible,stable/queens,Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2,Fix loop variable name for nested loop,MERGED,2018-07-02 08:46:39.000000000,2018-07-03 16:16:43.000000000,2018-07-03 16:16:43.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 11290}, {'_account_id': 13404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 08:46:39.000000000', 'files': ['playbooks/common-tasks/haproxy-endpoint-manage.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/518d7b9755890504d17d5131464a8ab6f151d849', 'message': 'Fix loop variable name for nested loop\n\nThe HAProxy service management did not work because the loop variable\n""item"" was used in a nested loop within an include. Because of this the\nhaproxy Ansible module acted on an inexistant HAProxy backend.\nUnfortunately the module does not throw an error in this case.\n\nThe issue is fixed by using loop_control/loop_var in the inner loop to\nuse another loop variable name.\n\nChange-Id: Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2\n(cherry picked from commit 144b8505636f7065519c6c905d0b184367396d82)\n'}]",0,579489,518d7b9755890504d17d5131464a8ab6f151d849,8,5,1,6816,,,0,"Fix loop variable name for nested loop

The HAProxy service management did not work because the loop variable
""item"" was used in a nested loop within an include. Because of this the
haproxy Ansible module acted on an inexistant HAProxy backend.
Unfortunately the module does not throw an error in this case.

The issue is fixed by using loop_control/loop_var in the inner loop to
use another loop variable name.

Change-Id: Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2
(cherry picked from commit 144b8505636f7065519c6c905d0b184367396d82)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/579489/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/haproxy-endpoint-manage.yml'],1,518d7b9755890504d17d5131464a8ab6f151d849,haproxy-loop-control-stable/queens," delegate_to: ""{{ delegate_host }}"" loop_control: loop_var: delegate_host"," delegate_to: ""{{ item }}""",3,1
openstack%2Fmetalsmith~master~I52ef0228cce2be276046b93c284743c4067da0a6,openstack/metalsmith,master,I52ef0228cce2be276046b93c284743c4067da0a6,ansible: split waiting from provisioning,MERGED,2018-06-12 13:01:15.000000000,2018-07-03 16:12:35.000000000,2018-07-03 16:12:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 13:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9ffd9c6b1598f5af802cf866653ff21bbce97123', 'message': 'ansible: split waiting from provisioning\n\nChange-Id: I52ef0228cce2be276046b93c284743c4067da0a6\nStory: #2002186\nTask: #20058\n'}, {'number': 2, 'created': '2018-07-03 13:26:55.000000000', 'files': ['playbooks/integration/exercise.yaml', 'roles/metalsmith_deployment/tasks/main.yml', 'metalsmith/test/test_cmd.py', 'roles/metalsmith_deployment/defaults/main.yml', 'metalsmith/_cmd.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/cbf7294be9d9b68899940fb80f8a90f11fa6f488', 'message': ""ansible: split waiting from provisioning\n\nIntroduces a new command 'wait' for this purpose.\n\nChange-Id: I52ef0228cce2be276046b93c284743c4067da0a6\nStory: #2002186\nTask: #20058\n""}]",0,574720,cbf7294be9d9b68899940fb80f8a90f11fa6f488,10,2,2,10239,,,0,"ansible: split waiting from provisioning

Introduces a new command 'wait' for this purpose.

Change-Id: I52ef0228cce2be276046b93c284743c4067da0a6
Story: #2002186
Task: #20058
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/20/574720/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/integration/exercise.yaml', 'roles/metalsmith_deployment/tasks/main.yml', 'metalsmith/test/test_cmd.py', 'metalsmith/_cmd.py', 'roles/metalsmith_deployment/defaults/main.yml']",5,9ffd9c6b1598f5af802cf866653ff21bbce97123,ansible-role,# Wait parameters (30 minutes) metalsmith_provision_wait_delay: 15 metalsmith_provision_wait_retries: 120,,57,2
openstack%2Foctavia-tempest-plugin~master~Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce,openstack/octavia-tempest-plugin,master,Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce,"Add ""wait for active"" after object delete",MERGED,2018-06-29 15:56:25.000000000,2018-07-03 16:09:51.000000000,2018-07-03 16:09:51.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/95619200e1f0e02cbd680ebf6516fe9b60ca8aa1', 'message': 'Add ""wait for active"" after object delete\n\nCurrently we are waiting for the object to finish deleting, but\nwe are not waiting for the LB to go back to ACTIVE. On fast test\nhosts this can lead to an immutable error on the shared parent objects.\nThis patch adds a ""wait for active"" after the object ""wait for deleted"".\n\nChange-Id: Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce\n'}, {'number': 2, 'created': '2018-06-29 20:17:07.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b0573224f50413a6831752c664c65fc0984f1e0f', 'message': 'Add ""wait for active"" after object delete\n\nCurrently we are waiting for the object to finish deleting, but\nwe are not waiting for the LB to go back to ACTIVE. On fast test\nhosts this can lead to an immutable error on the shared parent objects.\nThis patch adds a ""wait for active"" after the object ""wait for deleted"".\n\nChange-Id: Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce\n'}]",4,579205,b0573224f50413a6831752c664c65fc0984f1e0f,14,6,2,11628,,,0,"Add ""wait for active"" after object delete

Currently we are waiting for the object to finish deleting, but
we are not waiting for the LB to go back to ACTIVE. On fast test
hosts this can lead to an immutable error on the shared parent objects.
This patch adds a ""wait for active"" after the object ""wait for deleted"".

Change-Id: Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/05/579205/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",6,95619200e1f0e02cbd680ebf6516fe9b60ca8aa1,," waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout)",,42,0
openstack%2Ftrove~master~Ib5db3b936de5a9c6747a652cb15c1002a3b7c524,openstack/trove,master,Ib5db3b936de5a9c6747a652cb15c1002a3b7c524,Fix for 'Client' object has no attribute 'tenants',ABANDONED,2017-02-13 10:42:56.000000000,2018-07-03 16:09:47.000000000,,"[{'_account_id': 24}, {'_account_id': 13562}, {'_account_id': 22348}, {'_account_id': 22694}, {'_account_id': 25113}]","[{'number': 1, 'created': '2017-02-13 10:42:56.000000000', 'files': ['trove/common/notification.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/cb4c4b2348553717efb9fb8c0f7e79d1ee3e16bf', 'message': ""Fix for 'Client' object has no attribute 'tenants'\n\nEach time taskmanager is failing to prepare 'dbaas.quotas'\nnotification with an error 'Client object has no attribute tenants'\nand the root cause for the failure is publish_quota_notifications\nmethod is trying to get tenant list using 'novaclient'\ninstead of using 'keystoneclient'.\n\nThis fix was ripped from [1].\n\n[1] https://review.openstack.org/#/c/340022/\n\nCloses: #1600485\n\nChange-Id: Ib5db3b936de5a9c6747a652cb15c1002a3b7c524\nSigned-off-by: Chuck Short <chuck.short@canonical.com>\n""}]",1,432980,cb4c4b2348553717efb9fb8c0f7e79d1ee3e16bf,14,5,1,24,,,0,"Fix for 'Client' object has no attribute 'tenants'

Each time taskmanager is failing to prepare 'dbaas.quotas'
notification with an error 'Client object has no attribute tenants'
and the root cause for the failure is publish_quota_notifications
method is trying to get tenant list using 'novaclient'
instead of using 'keystoneclient'.

This fix was ripped from [1].

[1] https://review.openstack.org/#/c/340022/

Closes: #1600485

Change-Id: Ib5db3b936de5a9c6747a652cb15c1002a3b7c524
Signed-off-by: Chuck Short <chuck.short@canonical.com>
",git fetch https://review.opendev.org/openstack/trove refs/changes/80/432980/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/notification.py'],1,cb4c4b2348553717efb9fb8c0f7e79d1ee3e16bf,," 'tenant_id': quota.tenant_id,",,1,0
openstack%2Fdesignate~master~I89818e1a369b38365ebf0c6b6141207bb72a52ed,openstack/designate,master,I89818e1a369b38365ebf0c6b6141207bb72a52ed,Fix systemctl command in Ubuntu installation guide,MERGED,2018-06-21 07:42:20.000000000,2018-07-03 16:09:24.000000000,2018-07-03 16:09:24.000000000,"[{'_account_id': 8099}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-21 07:42:20.000000000', 'files': ['doc/source/install/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/b07c7817a983129867ce0f8f83c7cd5fa4d53d3b', 'message': 'Fix systemctl command in Ubuntu installation guide\n\nThe systemctl command service names no longer prepend ""openstack-""\n\nCloses bug: #1775720\n\nChange-Id: I89818e1a369b38365ebf0c6b6141207bb72a52ed\n'}]",0,577084,b07c7817a983129867ce0f8f83c7cd5fa4d53d3b,7,3,1,28055,,,0,"Fix systemctl command in Ubuntu installation guide

The systemctl command service names no longer prepend ""openstack-""

Closes bug: #1775720

Change-Id: I89818e1a369b38365ebf0c6b6141207bb72a52ed
",git fetch https://review.opendev.org/openstack/designate refs/changes/84/577084/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-ubuntu.rst'],1,b07c7817a983129867ce0f8f83c7cd5fa4d53d3b,bug/1775720, # systemctl restart designate-central designate-api # systemctl enable designate-central designate-api, # systemctl restart openstack-designate-central openstack-designate-api # systemctl enable openstack-designate-central openstack-designate-api,2,2
openstack%2Fdesignate~master~I4fc1c7264671c3102c067beb7298879e62214d60,openstack/designate,master,I4fc1c7264671c3102c067beb7298879e62214d60,Use listener pools in designate-sink,MERGED,2018-06-26 17:29:50.000000000,2018-07-03 16:09:23.000000000,2018-07-03 16:09:23.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-06-26 17:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/078f5314b6984cc887399433551a25425a2565d2', 'message': 'Use listener pools in designate-sink\n\nChange-Id: I4fc1c7264671c3102c067beb7298879e62214d60\n'}, {'number': 2, 'created': '2018-06-26 17:38:27.000000000', 'files': ['designate/sink/__init__.py', 'releasenotes/notes/pool-listener-6689ffa50345ba6e.yaml', 'designate/rpc.py', 'designate/sink/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5fdef82a30bf36fbbe2073163e201fedb4849d1b', 'message': ""Use listener pools in designate-sink\n\nconfiguring pools for notificaiton listeners is an alternative approach\nto using per-component notification topics, however not all\noslo.messaging drivers support it (from currently available, zmq and\namqp1 do not, rabbit and kafka do support listener pools).\n\nThis patch adds a config option 'listener-pool-name' to [service:sink]\nconfig section (defaults to None) that can be used to configure a common\npool for designate-sink notification listeners if the messaging driver\ndoes support them.\n\nChange-Id: I4fc1c7264671c3102c067beb7298879e62214d60\n""}]",0,578158,5fdef82a30bf36fbbe2073163e201fedb4849d1b,8,3,2,9542,,,0,"Use listener pools in designate-sink

configuring pools for notificaiton listeners is an alternative approach
to using per-component notification topics, however not all
oslo.messaging drivers support it (from currently available, zmq and
amqp1 do not, rabbit and kafka do support listener pools).

This patch adds a config option 'listener-pool-name' to [service:sink]
config section (defaults to None) that can be used to configure a common
pool for designate-sink notification listeners if the messaging driver
does support them.

Change-Id: I4fc1c7264671c3102c067beb7298879e62214d60
",git fetch https://review.opendev.org/openstack/designate refs/changes/58/578158/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/sink/__init__.py', 'releasenotes/notes/pool-listener-6689ffa50345ba6e.yaml', 'designate/rpc.py', 'designate/sink/service.py']",4,078f5314b6984cc887399433551a25425a2565d2,listener-pools," self._server = rpc.get_listener( targets, [self], pool=cfg.CONF['service:sink'].listener_pool_name)"," self._server = rpc.get_listener(targets, [self])",25,2
openstack%2Fmetalsmith~master~Iea7aece885a5ea4c42000c0d220060a102db03c8,openstack/metalsmith,master,Iea7aece885a5ea4c42000c0d220060a102db03c8,Change wait_for_provisioning to return Instance objects,MERGED,2018-07-03 13:12:09.000000000,2018-07-03 16:08:06.000000000,2018-07-03 16:08:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 13:12:09.000000000', 'files': ['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/ef7521e29487046f3d078f4cebf0943245f2fd59', 'message': 'Change wait_for_provisioning to return Instance objects\n\nChange-Id: Iea7aece885a5ea4c42000c0d220060a102db03c8\n'}]",0,579866,ef7521e29487046f3d078f4cebf0943245f2fd59,6,2,1,10239,,,0,"Change wait_for_provisioning to return Instance objects

Change-Id: Iea7aece885a5ea4c42000c0d220060a102db03c8
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/66/579866/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py']",2,ef7521e29487046f3d078f4cebf0943245f2fd59,wait-instance," instance = self.wait_for_provisioning([node], timeout=wait)[0] instance = _instance.Instance(self._api, node) return instance :return: List of updated :py:class:`metalsmith.Instance` objects if all succeeded. nodes = self._wait_for_state(nodes, 'active', timeout=timeout, delay=delay) return [_instance.Instance(self._api, node) for node in nodes]"," node = self.wait_for_provisioning([node], timeout=wait)[0] return _instance.Instance(self._api, node) :return: List of updated nodes if all succeeded. return self._wait_for_state(nodes, 'active', timeout=timeout, delay=delay)",16,8
openstack%2Fdesignate~master~Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915,openstack/designate,master,Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915,Allow newer versions of Flask,MERGED,2018-06-28 11:36:03.000000000,2018-07-03 16:08:05.000000000,2018-07-03 16:08:05.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 11:36:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/16162a30c07587b147092844bca9c443f83042f1', 'message': 'Allow newer versions of Flask\n\nSince keystone bumped the version of Flask in openstack/requirements,\nthe upper constraint is now equal to 1.0.2 that is not allowed by\nthe requirements.txt of designate.\n\nIf we change the designate requirements, we could use the same\nversion of Flask for both Keystone and Designate, helping\ndeployers.\n\nChange-Id: Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915\n'}]",0,578770,16162a30c07587b147092844bca9c443f83042f1,10,6,1,17068,,,0,"Allow newer versions of Flask

Since keystone bumped the version of Flask in openstack/requirements,
the upper constraint is now equal to 1.0.2 that is not allowed by
the requirements.txt of designate.

If we change the designate requirements, we could use the same
version of Flask for both Keystone and Designate, helping
deployers.

Change-Id: Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915
",git fetch https://review.opendev.org/openstack/designate refs/changes/70/578770/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,16162a30c07587b147092844bca9c443f83042f1,bump-requirements,"Flask!=0.11,>=0.10 # BSD","Flask!=0.11,<1.0,>=0.10 # BSD",1,1
openstack%2Ftripleo-quickstart~master~I5f574923bb3f38b8f71a002e643bf89b52069adc,openstack/tripleo-quickstart,master,I5f574923bb3f38b8f71a002e643bf89b52069adc,"Include python{2,3}-tripleo-common from delorean current",MERGED,2018-06-28 11:58:54.000000000,2018-07-03 16:03:31.000000000,2018-06-29 06:50:31.000000000,"[{'_account_id': 1955}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-06-28 11:58:54.000000000', 'files': ['config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8176bdd578f2749d4e90b5b22287ee4940704fcf', 'message': 'Include python{2,3}-tripleo-common from delorean current\n\nAfter https://review.rdoproject.org/r/#/c/14232 we need\nto include those packages\n\nChange-Id: I5f574923bb3f38b8f71a002e643bf89b52069adc\nCloses-Bug: 1779108\n'}]",3,578776,8176bdd578f2749d4e90b5b22287ee4940704fcf,18,13,1,27898,,,0,"Include python{2,3}-tripleo-common from delorean current

After https://review.rdoproject.org/r/#/c/14232 we need
to include those packages

Change-Id: I5f574923bb3f38b8f71a002e643bf89b52069adc
Closes-Bug: 1779108
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/76/578776/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/master.yml']",2,8176bdd578f2749d4e90b5b22287ee4940704fcf,bug/1779108, - python*-tripleo-common,,2,0
openstack%2Fdiskimage-builder~master~Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f,openstack/diskimage-builder,master,Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f,Allow extra grub modules to be installed,ABANDONED,2018-06-22 02:37:13.000000000,2018-07-03 16:00:10.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-22 02:37:13.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f4d35e7db5b9fce93355a4fc95e17e362e8db7e', 'message': 'Allow extra grub modules to be installed\n\nAdd an environment option that can be used to add additional grub\nmodules to the boot sector.\n\nChange-Id: Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f\n'}]",1,577338,8f4d35e7db5b9fce93355a4fc95e17e362e8db7e,6,4,1,17799,,,0,"Allow extra grub modules to be installed

Add an environment option that can be used to add additional grub
modules to the boot sector.

Change-Id: Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/38/577338/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/README.rst']",2,8f4d35e7db5b9fce93355a4fc95e17e362e8db7e,grub-modules," * ``DIB_GRUB_EXTRA_MODULES`` installs additional Grub modules beyond the typical defaults of ``part_msdos part_gpt lvm``. One example may be ``DIB_GRUB_EXTRA_MODULES=""raid mdraid""``.",,8,0
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Ib563842f182383a9cec49ee57943039346098b53,openstack/tripleo-heat-templates,stable/newton,Ib563842f182383a9cec49ee57943039346098b53,Conditionally Enable Nuage VRS,ABANDONED,2018-06-22 02:39:14.000000000,2018-07-03 15:40:10.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 27069}]","[{'number': 1, 'created': '2018-06-22 02:39:14.000000000', 'files': ['puppet/services/neutron-plugin-ml2-nuage.yaml', 'environments/neutron-nuage-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0ecd7ba316150fad0770c8b02d5779c2f11fbbb', 'message': 'Conditionally Enable Nuage VRS\n\nUsing this change, users can conditionally enable and\nconfigure Nuage VRS on Overcloud nodes\n\nIn Pike, as neutron-server is still running as a service on\nthe hypervisor, this approach will configure VRS which is also\nrunning on the hypervisor.\n\nThis review is meant for Pike and earlier releases only.\n\nChange-Id: Ib563842f182383a9cec49ee57943039346098b53\nDepends-On: I6a996a6b9e1b2d4c74e25e2582699eb9e023093a\nCloses-Bug: 1776998\n(cherry picked from commit 885f64daf86e6ff80340b05eec893cdf9ec98b4a)\n'}]",0,577340,a0ecd7ba316150fad0770c8b02d5779c2f11fbbb,6,3,1,27069,,,0,"Conditionally Enable Nuage VRS

Using this change, users can conditionally enable and
configure Nuage VRS on Overcloud nodes

In Pike, as neutron-server is still running as a service on
the hypervisor, this approach will configure VRS which is also
running on the hypervisor.

This review is meant for Pike and earlier releases only.

Change-Id: Ib563842f182383a9cec49ee57943039346098b53
Depends-On: I6a996a6b9e1b2d4c74e25e2582699eb9e023093a
Closes-Bug: 1776998
(cherry picked from commit 885f64daf86e6ff80340b05eec893cdf9ec98b4a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/577340/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-plugin-ml2-nuage.yaml', 'environments/neutron-nuage-config.yaml']",2,a0ecd7ba316150fad0770c8b02d5779c2f11fbbb,, NuageControllerEnableVrs: false,,30,0
openstack%2Finstack-undercloud~stable%2Fnewton~I0df4356c4cb8deccd95d2d5787f11d209c8b1db7,openstack/instack-undercloud,stable/newton,I0df4356c4cb8deccd95d2d5787f11d209c8b1db7,Removing packages when installing Undercloud in Newton,ABANDONED,2018-05-29 10:56:27.000000000,2018-07-03 15:40:05.000000000,,"[{'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 15184}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-05-29 10:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/b808c476fd1eaa983b21720678a60b813953d965', 'message': 'Removing packages when installing Undercloud in Newton\n\nWe need to be sure that both mariadb-devel and neutron-vpnaas\nare not present when installing the Undercloud in\nNewton.\n\nChange-Id: I0df4356c4cb8deccd95d2d5787f11d209c8b1db7\nRelated-BZ: https://bugzilla.redhat.com/show_bug.cgi?id=1582662\nCloses-Bug: 1773963\n'}, {'number': 2, 'created': '2018-05-29 10:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c6e62f64b643ec0a55b0f5d5d7b568d1ceb383bb', 'message': 'Removing packages when installing Undercloud in Newton\n\nWe need to be sure that both mariadb-devel and neutron-vpnaas\nare not present when installing the Undercloud in\nNewton.\n\nFix only for stable/newton\n\nChange-Id: I0df4356c4cb8deccd95d2d5787f11d209c8b1db7\nRelated-BZ: https://bugzilla.redhat.com/show_bug.cgi?id=1582662\nCloses-Bug: 1773963\n'}, {'number': 3, 'created': '2018-05-30 12:22:35.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/7cff4ebb75daf7f5372d0f4555c27500b36b40aa', 'message': 'Removing packages when installing Undercloud in Newton\n\nWe need to be sure that both mariadb-devel and neutron-vpnaas\nare not present when installing the Undercloud in\nNewton.\n\nFix only for stable/newton\n\nChange-Id: I0df4356c4cb8deccd95d2d5787f11d209c8b1db7\nRelated-BZ: https://bugzilla.redhat.com/show_bug.cgi?id=1582662\nCloses-Bug: 1773963\n'}]",2,570897,7cff4ebb75daf7f5372d0f4555c27500b36b40aa,16,10,3,20775,,,0,"Removing packages when installing Undercloud in Newton

We need to be sure that both mariadb-devel and neutron-vpnaas
are not present when installing the Undercloud in
Newton.

Fix only for stable/newton

Change-Id: I0df4356c4cb8deccd95d2d5787f11d209c8b1db7
Related-BZ: https://bugzilla.redhat.com/show_bug.cgi?id=1582662
Closes-Bug: 1773963
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/97/570897/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,b808c476fd1eaa983b21720678a60b813953d965,bug/1773963," # NOTE(ccamacho): Due to https://bugzilla.redhat.com/show_bug.cgi?id=1582662 # We need to be sure the following packages # (mariadb-devel and neutron-vpnaas) are removed before # executing the fast forward upgrade. package { 'mariadb-devel': ensure => 'absent', } package { 'neutron-vpnaas': ensure => 'absent', } ",,13,0
openstack%2Fpuppet-tripleo~stable%2Fnewton~Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198,openstack/puppet-tripleo,stable/newton,Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198,Sync the db as part of the glance-api install,ABANDONED,2017-10-26 09:39:59.000000000,2018-07-03 15:39:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-26 09:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3d2f37d5210f48117bbb5d668a9d663b475d686c', 'message': 'Sync the db as part of the glance-api install\n\nThe glance database should be created as part of the glance-api service\ninstallation and not the registry. Move the db_sync param to the\nglance-api class call.\n\nDepends-On: Ib554edb13386845198140c87b0a9b931500656d2\n\nChange-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198\n(cherry picked from commit\nb09f7a6c80de65c53c8af3a3a84024a19fa320fe)\n'}, {'number': 2, 'created': '2017-11-09 12:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e8da24fce1c5fe7c6a4e525fe897b6e9ccac7f46', 'message': 'Sync the db as part of the glance-api install\n\nThe glance database should be created as part of the glance-api service\ninstallation and not the registry. Move the db_sync param to the\nglance-api class call.\n\n\nCloses-Bug: 1731245\nDepends-On: Ib554edb13386845198140c87b0a9b931500656d2\n\nChange-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198\n(cherry picked from commit\nb09f7a6c80de65c53c8af3a3a84024a19fa320fe)\n'}, {'number': 3, 'created': '2017-11-10 05:07:53.000000000', 'files': ['manifests/profile/base/glance/registry.pp', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3409c2c397dc5f068451b15fe6fa8f29ec2fbfc5', 'message': 'Sync the db as part of the glance-api install\n\nThe glance database should be created as part of the glance-api service\ninstallation and not the registry. Move the db_sync param to the\nglance-api class call.\n\n\nCloses-Bug: 1731245\nDepends-On: I209498033ea81571d45d9fbd69ff03e0155a9deb\n\nChange-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198\n(cherry picked from commit\nb09f7a6c80de65c53c8af3a3a84024a19fa320fe)\n'}]",1,515333,3409c2c397dc5f068451b15fe6fa8f29ec2fbfc5,45,9,3,19138,,,0,"Sync the db as part of the glance-api install

The glance database should be created as part of the glance-api service
installation and not the registry. Move the db_sync param to the
glance-api class call.


Closes-Bug: 1731245
Depends-On: I209498033ea81571d45d9fbd69ff03e0155a9deb

Change-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198
(cherry picked from commit
b09f7a6c80de65c53c8af3a3a84024a19fa320fe)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/515333/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/glance/registry.pp', 'manifests/profile/base/glance/api.pp']",2,3d2f37d5210f48117bbb5d668a9d663b475d686c,,"# [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('bootstrap_nodeid') # $bootstrap_node = hiera('bootstrap_nodeid', undef), $glance_backend = downcase(hiera('glance_backend', 'swift')), if $::hostname == downcase($bootstrap_node) { $sync_db = true } else { $sync_db = false } if $step >= 4 or ($step >= 3 and $sync_db) { stores => $glance_store, sync_db => false, } # When https://review.openstack.org/#/c/408554 is merged, # Remove this block and set sync_db to $sync_db in glance::api. if $sync_db { class { '::glance::db::sync': extra_params => '', }"," $glance_backend = downcase(hiera('glance_backend', 'swift')), if $step >= 4 { stores => $glance_store,",26,13
openstack%2Fpuppet-tripleo~stable%2Fnewton~I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,openstack/puppet-tripleo,stable/newton,I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,WIP: fail hard if we detect that the neutron/nova/ceilometer host has changed,ABANDONED,2018-04-13 00:17:37.000000000,2018-07-03 15:39:44.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-13 00:17:37.000000000', 'files': ['lib/facter/current_config_hosts.rb', 'manifests/profile/base/nova.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a2872c6b557a6ce9cebdcedcefebfbca1e203822', 'message': 'WIP: fail hard if we detect that the neutron/nova/ceilometer host has changed\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n(cherry picked from commit d089ca37155646b4664fb02299faff91e63398ed)\n'}]",0,561079,a2872c6b557a6ce9cebdcedcefebfbca1e203822,5,2,1,8297,,,0,"WIP: fail hard if we detect that the neutron/nova/ceilometer host has changed

Change-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a
(cherry picked from commit d089ca37155646b4664fb02299faff91e63398ed)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/79/561079/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/facter/current_config_hosts.rb', 'manifests/profile/base/nova.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ceilometer.pp']",4,a2872c6b557a6ce9cebdcedcefebfbca1e203822,," $correct_host = hiera('ceilometer::host') if $current_ceilometer_host != undef and !empty($current_ceilometer_host) and $current_ceilometer_host != $correct_host { if hiera('allow_incorrect_host_config', false) { warning(""The current ceilometer::host value is incorrect. \ Expected: '${correct_host}' Current: '${current_ceilometer_host}'"") $host_real = $current_ceilometer_host } else { fail(""The current ceilometer::host value is incorrect. \ Expected: '${correct_host}' Current: '${current_ceilometer_host}'. \ Not changing this as there are potential side-effects requiring manual \ intervention. \ Please refer to allow_incorrect_host_config.yaml for more info"") } } else { $host_real = $correct_host } host => $host_real,",,82,0
openstack%2Fpuppet-tripleo~stable%2Fnewton~Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a,openstack/puppet-tripleo,stable/newton,Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a,Give horizon's stanza in haproxy a per-server cookie,ABANDONED,2018-03-06 16:46:10.000000000,2018-07-03 15:39:40.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 16:46:10.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/588560914939633cf39d3ecf7d345a73773969f5', 'message': ""Give horizon's stanza in haproxy a per-server cookie\n\nCurrently our haproxy.cfg stanza for horizon looks like the following:\nserver overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\nserver overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\nserver overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\n\nWe need to make sure that the cookie is set the same as the server:\nserver overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2\nserver overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2\nserver overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2\n\nThe problem here is that the cookie is being inserted into the response\nby haproxy so that we have session persistence. When logging to horizon\nwe want the session to be persistent and go to the same backend server.\nWhen haproxy sees a match for the cookie, it does just that. The cookie\nvalue will should match the server name. Prior to this fix\neach server was matching on the same cookie ($::hostname) which is not\ncorrect.\n\nTested by connecting to horizon's VIP and shutting off horizon on each\ncontroller node one at the time. Observed that after each stop, the\ncorrect cookie from the remaining servers was sent to the browser.\n\nNB: it was not a straight cherry-pick due to missing change\nI1a68771cc7be7fb2b32abbad81db7890bd2c5502 in ocata (missing\nhaproxy/horizon_endpoint.pp)\n\nBackport tested by hand by applying this patch and observing that the\nhorizon stanza looks correct like in OSP13:\nlisten horizon\n  bind 10.0.0.9:80 transparent\n  bind 172.17.0.15:80 transparent\n  mode http\n  cookie SERVERID insert indirect nocache\n  option forwardfor\n  option httpchk\n  server overcloud-controller-0.internalapi.localdomain 172.17.0.17:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2\n  server overcloud-controller-1.internalapi.localdomain 172.17.0.19:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2\n  server overcloud-controller-2.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2\n\nCloses-Bug: #1738453\nChange-Id: Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a\n(cherry picked from commit a6bffe1386913def005a3e70f8475073062601ab)\n""}]",0,550153,588560914939633cf39d3ecf7d345a73773969f5,5,2,1,20172,,,0,"Give horizon's stanza in haproxy a per-server cookie

Currently our haproxy.cfg stanza for horizon looks like the following:
server overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2
server overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2
server overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2

We need to make sure that the cookie is set the same as the server:
server overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2
server overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2
server overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2

The problem here is that the cookie is being inserted into the response
by haproxy so that we have session persistence. When logging to horizon
we want the session to be persistent and go to the same backend server.
When haproxy sees a match for the cookie, it does just that. The cookie
value will should match the server name. Prior to this fix
each server was matching on the same cookie ($::hostname) which is not
correct.

Tested by connecting to horizon's VIP and shutting off horizon on each
controller node one at the time. Observed that after each stop, the
correct cookie from the remaining servers was sent to the browser.

NB: it was not a straight cherry-pick due to missing change
I1a68771cc7be7fb2b32abbad81db7890bd2c5502 in ocata (missing
haproxy/horizon_endpoint.pp)

Backport tested by hand by applying this patch and observing that the
horizon stanza looks correct like in OSP13:
listen horizon
  bind 10.0.0.9:80 transparent
  bind 172.17.0.15:80 transparent
  mode http
  cookie SERVERID insert indirect nocache
  option forwardfor
  option httpchk
  server overcloud-controller-0.internalapi.localdomain 172.17.0.17:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2
  server overcloud-controller-1.internalapi.localdomain 172.17.0.19:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2
  server overcloud-controller-2.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2

Closes-Bug: #1738453
Change-Id: Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a
(cherry picked from commit a6bffe1386913def005a3e70f8475073062601ab)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/550153/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,588560914939633cf39d3ecf7d345a73773969f5,bug/1738453," $horizon_ip_addresses = hiera('horizon_node_ips', $controller_hosts_real) $horizon_server_names = hiera('horizon_node_names', $controller_hosts_names_real) hash(zip($horizon_ip_addresses, $horizon_server_names)).each | $ip, $server | { haproxy::balancermember { ""horizon_${ip}_${server}"": listening_service => 'horizon', ports => '80', ipaddresses => $ip, server_names => $server, options => union($haproxy_member_options, [""cookie ${server}""]), }"," haproxy::balancermember { 'horizon': listening_service => 'horizon', ports => '80', ipaddresses => hiera('horizon_node_ips', $controller_hosts_real), server_names => hiera('horizon_node_names', $controller_hosts_names_real), options => union($haproxy_member_options, [""cookie ${::hostname}""]),",10,6
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I168ffd25bc954f962cadfab8e2927eb326bb58e7,openstack/tripleo-heat-templates,stable/newton,I168ffd25bc954f962cadfab8e2927eb326bb58e7,FFU: add plan-environment.yaml to allow deployment on master,ABANDONED,2017-12-18 11:14:05.000000000,2018-07-03 15:39:21.000000000,,"[{'_account_id': 4328}, {'_account_id': 4978}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9317}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-18 11:14:05.000000000', 'files': ['plan-environment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1263ee06f25e4b8d3774909bb2400c8a5f3fca74', 'message': 'FFU: add plan-environment.yaml to allow deployment on master\n\nFor FastForwardUpgrades we need to be able to deploy stable/newton\nfrom undercloud deployed on master.\n\nChange-Id: I168ffd25bc954f962cadfab8e2927eb326bb58e7\n'}]",0,528693,1263ee06f25e4b8d3774909bb2400c8a5f3fca74,9,7,1,11166,,,0,"FFU: add plan-environment.yaml to allow deployment on master

For FastForwardUpgrades we need to be able to deploy stable/newton
from undercloud deployed on master.

Change-Id: I168ffd25bc954f962cadfab8e2927eb326bb58e7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/528693/1 && git format-patch -1 --stdout FETCH_HEAD,['plan-environment.yaml'],1,1263ee06f25e4b8d3774909bb2400c8a5f3fca74,,version: 1.0 name: overcloud description: > Default Deployment plan template: overcloud.yaml environments: - path: overcloud-resource-registry-puppet.yaml ,,8,0
openstack%2Fdevstack~master~I423230cc5cbb13d2cfb7b926a9571a8157ce5c46,openstack/devstack,master,I423230cc5cbb13d2cfb7b926a9571a8157ce5c46,Remove old packages from rpms/horizon,MERGED,2018-06-22 05:20:10.000000000,2018-07-03 15:36:50.000000000,2018-07-03 15:36:49.000000000,"[{'_account_id': 1653}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 05:20:10.000000000', 'files': ['files/rpms/horizon'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2f5771541209b6016c07c25d6808e1e3162f9d3b', 'message': ""Remove old packages from rpms/horizon\n\nI'm not sure what the history of the (capital-D) Django package or\npyxattr; they've been there for a long time and should just be\ninstalled like other dependencies these days.\n\nChange-Id: I423230cc5cbb13d2cfb7b926a9571a8157ce5c46\n""}]",0,577347,2f5771541209b6016c07c25d6808e1e3162f9d3b,18,7,1,7118,,,0,"Remove old packages from rpms/horizon

I'm not sure what the history of the (capital-D) Django package or
pyxattr; they've been there for a long time and should just be
installed like other dependencies these days.

Change-Id: I423230cc5cbb13d2cfb7b926a9571a8157ce5c46
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/577347/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rpms/horizon'],1,2f5771541209b6016c07c25d6808e1e3162f9d3b,horizon-django-pkg,,Djangopyxattr,0,2
openstack%2Fpython-tripleoclient~master~I7b35bc0525b599950a7fa0e58caeffcedb6bd18b,openstack/python-tripleoclient,master,I7b35bc0525b599950a7fa0e58caeffcedb6bd18b,Replace 'raise StopIteration' with 'return',MERGED,2018-06-29 10:27:07.000000000,2018-07-03 15:26:39.000000000,2018-07-03 15:26:39.000000000,"[{'_account_id': 4978}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-29 10:27:07.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f3cbf7706e98a33fa6006f2468c7d1fe3b161d5', 'message': ""Replace 'raise StopIteration' with 'return'\n\nWith PEP 479, the behaviour of StopIteration is changing. Raising it to\nstop a generator is considered incorrect and from Python 3.7 this will\ncause a RuntimeError. The PEP recommends using the return statement.\n\nMore details: https://www.python.org/dev/peps/pep-0479/#examples-of-breakage\n\nChange-Id: I7b35bc0525b599950a7fa0e58caeffcedb6bd18b\n""}]",0,579116,9f3cbf7706e98a33fa6006f2468c7d1fe3b161d5,16,7,1,9712,,,0,"Replace 'raise StopIteration' with 'return'

With PEP 479, the behaviour of StopIteration is changing. Raising it to
stop a generator is considered incorrect and from Python 3.7 this will
cause a RuntimeError. The PEP recommends using the return statement.

More details: https://www.python.org/dev/peps/pep-0479/#examples-of-breakage

Change-Id: I7b35bc0525b599950a7fa0e58caeffcedb6bd18b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/579116/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,9f3cbf7706e98a33fa6006f2468c7d1fe3b161d5,, return, raise StopIteration,1,1
openstack%2Fcinder~master~I66ec74e1396f4fa42fd855988265990a535c333b,openstack/cinder,master,I66ec74e1396f4fa42fd855988265990a535c333b,Reject any filter whose key contains non ascii character,MERGED,2018-04-26 08:07:53.000000000,2018-07-03 15:20:07.000000000,2018-07-03 14:42:54.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 8846}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23312}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25388}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27496}]","[{'number': 1, 'created': '2018-04-26 08:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18d2450a52f214ef21baeaeba7dea0d69fce8353', 'message': 'Reject any filter whose key contains non ascii character\n\nSince filter key will be recognized as the object attribute inside\nCinder, this change will disallow any filter whose key contains\nnon ascii character.\n\nChange-Id: I66ec74e1396f4fa42fd855988265990a535c333b\nCloses-Bug: #1766965\n'}, {'number': 2, 'created': '2018-04-27 02:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/022286209facf663ccbf011066b096cd7ff719c8', 'message': 'Reject any filter whose key contains non ascii character\n\nSince filter key will be recognized as the object attribute inside\nCinder, this change will disallow any filter whose key contains\nnon ascii character.\n\nChange-Id: I66ec74e1396f4fa42fd855988265990a535c333b\nCloses-Bug: #1766965\n'}, {'number': 3, 'created': '2018-04-27 02:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae44393218ae002db5580c67eb0ec7e01f0344cd', 'message': 'Reject any filter whose key contains non ascii character\n\nSince filter key will be recognized as the object attribute inside\nCinder, this change will disallow any filter whose key contains\nnon ascii character.\n\nChange-Id: I66ec74e1396f4fa42fd855988265990a535c333b\nCloses-Bug: #1766965\n'}, {'number': 4, 'created': '2018-04-27 09:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bdfbc4acc4432881ab4642c47184fd47990c942', 'message': 'Reject any filter whose key contains non ascii character\n\nSince filter key will be recognized as the object attribute inside\nCinder, this change will disallow any filter whose key contains\nnon ascii character.\n\nChange-Id: I66ec74e1396f4fa42fd855988265990a535c333b\nCloses-Bug: #1766965\n'}, {'number': 5, 'created': '2018-04-27 13:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a6bc1f5a55c0b38fa512671923a452fe0bd4a2a', 'message': 'Reject any filter whose key contains non ascii character\n\nSince filter key will be recognized as the object attribute inside\nCinder, this change will disallow any filter whose key contains\nnon ascii character.\n\nChange-Id: I66ec74e1396f4fa42fd855988265990a535c333b\nCloses-Bug: #1766965\n'}, {'number': 6, 'created': '2018-06-20 03:40:46.000000000', 'files': ['cinder/api/common.py', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/70969a64575d2ff83c5a6714982c38ca0689bd3d', 'message': 'Reject any filter whose key contains non ascii character\n\nSince filter key will be recognized as the object attribute inside\nCinder, this change will disallow any filter whose key contains\nnon ascii character.\n\nChange-Id: I66ec74e1396f4fa42fd855988265990a535c333b\nCloses-Bug: #1766965\n'}]",2,564418,70969a64575d2ff83c5a6714982c38ca0689bd3d,163,50,6,23083,,,0,"Reject any filter whose key contains non ascii character

Since filter key will be recognized as the object attribute inside
Cinder, this change will disallow any filter whose key contains
non ascii character.

Change-Id: I66ec74e1396f4fa42fd855988265990a535c333b
Closes-Bug: #1766965
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/564418/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/common.py', 'cinder/tests/unit/api/test_common.py']",2,18d2450a52f214ef21baeaeba7dea0d69fce8353,bug/1766965,"# encoding:utf-8 'resource': 'pool'}, {'filters': {u'': 'value1'}, 'is_admin': True, 'result': None, 'expected': None, 'resource': None}, {'filters': {u'': 'value1'}, 'is_admin': False, 'result': {'fake_resource': [u'']}, 'expected': None, 'resource': 'fake_resource'}, )", 'resource': 'pool'}),24,2
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,openstack/openstack-ansible-os_nova,stable/ocata,Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,Add qemu-kvm to package list for ubuntu-16.04,MERGED,2018-06-28 19:38:20.000000000,2018-07-03 15:13:05.000000000,2018-07-03 15:13:05.000000000,"[{'_account_id': 7353}, {'_account_id': 13404}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26405}]","[{'number': 1, 'created': '2018-06-28 19:38:20.000000000', 'files': ['vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/bbba18ab60f7f04a441dde7a3ba6cd4875643b69', 'message': 'Add qemu-kvm to package list for ubuntu-16.04\n\nIf installing a kvm host, qemu-kvm package might not be installed, which\ncan cause instances to not boot/live-migrate.\nThis explicitly tells to install qemu-kvm on ubuntu 16.04.\n\nChange-Id: Idc30671d3972cf2217c8f88b6a82ac43be4d1b78\nCloses-Bug: 1776606\n(cherry picked from commit 2d3582819aec1e32f42b5c7abdb4bf4a8ad29bc9)\n'}]",0,578978,bbba18ab60f7f04a441dde7a3ba6cd4875643b69,8,5,1,6816,,,0,"Add qemu-kvm to package list for ubuntu-16.04

If installing a kvm host, qemu-kvm package might not be installed, which
can cause instances to not boot/live-migrate.
This explicitly tells to install qemu-kvm on ubuntu 16.04.

Change-Id: Idc30671d3972cf2217c8f88b6a82ac43be4d1b78
Closes-Bug: 1776606
(cherry picked from commit 2d3582819aec1e32f42b5c7abdb4bf4a8ad29bc9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/78/578978/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-16.04.yml'],1,bbba18ab60f7f04a441dde7a3ba6cd4875643b69,bug/1776606-stable/ocata, - qemu-kvm,,1,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fpike~Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,openstack/openstack-ansible-os_nova,stable/pike,Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,Add qemu-kvm to package list for ubuntu-16.04,MERGED,2018-06-28 19:38:11.000000000,2018-07-03 15:13:05.000000000,2018-07-03 15:13:05.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 13404}, {'_account_id': 22348}, {'_account_id': 26405}]","[{'number': 1, 'created': '2018-06-28 19:38:11.000000000', 'files': ['vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/abaa68783cdadcc822f2367a34c9b5baee836230', 'message': 'Add qemu-kvm to package list for ubuntu-16.04\n\nIf installing a kvm host, qemu-kvm package might not be installed, which\ncan cause instances to not boot/live-migrate.\nThis explicitly tells to install qemu-kvm on ubuntu 16.04.\n\nChange-Id: Idc30671d3972cf2217c8f88b6a82ac43be4d1b78\nCloses-Bug: 1776606\n(cherry picked from commit 2d3582819aec1e32f42b5c7abdb4bf4a8ad29bc9)\n'}]",0,578977,abaa68783cdadcc822f2367a34c9b5baee836230,9,5,1,6816,,,0,"Add qemu-kvm to package list for ubuntu-16.04

If installing a kvm host, qemu-kvm package might not be installed, which
can cause instances to not boot/live-migrate.
This explicitly tells to install qemu-kvm on ubuntu 16.04.

Change-Id: Idc30671d3972cf2217c8f88b6a82ac43be4d1b78
Closes-Bug: 1776606
(cherry picked from commit 2d3582819aec1e32f42b5c7abdb4bf4a8ad29bc9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/77/578977/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-16.04.yml'],1,abaa68783cdadcc822f2367a34c9b5baee836230,bug/1776606-stable/pike, - qemu-kvm,,1,0
openstack%2Foslo.i18n~master~I43565d0f5b89f0b6d438f88dab941688ee3aef5c,openstack/oslo.i18n,master,I43565d0f5b89f0b6d438f88dab941688ee3aef5c,Switch to stestr,MERGED,2018-07-03 02:44:54.000000000,2018-07-03 15:07:17.000000000,2018-07-03 15:07:17.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 02:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/5caaa19d94b2a5aba6155ba49ff510be3c4f2fbe', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I43565d0f5b89f0b6d438f88dab941688ee3aef5c\n""}, {'number': 2, 'created': '2018-07-03 04:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/d9df62e288c57df950e3f6653c91b16841b3e2da', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I43565d0f5b89f0b6d438f88dab941688ee3aef5c\n""}, {'number': 3, 'created': '2018-07-03 09:07:33.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/e690af4a3c2d6efd7afcde6d87196895030d7576', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I43565d0f5b89f0b6d438f88dab941688ee3aef5c\n""}]",2,579740,e690af4a3c2d6efd7afcde6d87196895030d7576,12,3,3,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I43565d0f5b89f0b6d438f88dab941688ee3aef5c
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/40/579740/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,5caaa19d94b2a5aba6155ba49ff510be3c4f2fbe,stestr,[DEFAULT] test_path=./oslo_i18n/tests top_path=./ ,,7,8
openstack%2Foslo.privsep~master~I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2,openstack/oslo.privsep,master,I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2,Switch to stestr,MERGED,2018-07-03 04:27:51.000000000,2018-07-03 15:04:37.000000000,2018-07-03 15:04:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 04:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/5c9b98c5be811b03f3f0089fe055c3e35958ae96', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2\n""}, {'number': 2, 'created': '2018-07-03 09:06:48.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/58ecafb104834a527e23f7a4a160deb0838b5ab4', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2\n""}]",2,579760,58ecafb104834a527e23f7a4a160deb0838b5ab4,10,3,2,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/60/579760/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,5c9b98c5be811b03f3f0089fe055c3e35958ae96,stestr,[DEFAULT] test_path=./oslo_privsep/tests top_path=./ ,,14,9
openstack%2Foslo.cache~master~I829d57082b4fb981dfab6ed0f976bb30f28b7901,openstack/oslo.cache,master,I829d57082b4fb981dfab6ed0f976bb30f28b7901,Switch to stestr,MERGED,2018-07-03 02:37:37.000000000,2018-07-03 15:02:55.000000000,2018-07-03 15:02:54.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 02:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/790cc96ccdaab6a2d1e58fd3754a695ef9ec2ce2', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I829d57082b4fb981dfab6ed0f976bb30f28b7901\n""}, {'number': 2, 'created': '2018-07-03 09:08:32.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/03dc05dec34963efb5ae5cbc9cc420b6f21f152a', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I829d57082b4fb981dfab6ed0f976bb30f28b7901\n""}]",2,579737,03dc05dec34963efb5ae5cbc9cc420b6f21f152a,10,3,2,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I829d57082b4fb981dfab6ed0f976bb30f28b7901
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/37/579737/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,790cc96ccdaab6a2d1e58fd3754a695ef9ec2ce2,stestr,[DEFAULT] test_path=./oslo_cache/tests top_path=./ ,,16,11
openstack%2Foslo.rootwrap~master~Ibee9bd5c371f6f94131cccf093ec2100e258f411,openstack/oslo.rootwrap,master,Ibee9bd5c371f6f94131cccf093ec2100e258f411,Switch to stestr,MERGED,2018-07-03 06:30:17.000000000,2018-07-03 15:02:27.000000000,2018-07-03 15:02:27.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 06:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/b2ff491fa0f381c123137eb424c40de0242f6b2b', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ibee9bd5c371f6f94131cccf093ec2100e258f411\n""}, {'number': 2, 'created': '2018-07-03 08:58:19.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/de7e0f0df2acf2e2827d98387417dc0c2ea263aa', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ibee9bd5c371f6f94131cccf093ec2100e258f411\n""}]",3,579772,de7e0f0df2acf2e2827d98387417dc0c2ea263aa,10,3,2,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ibee9bd5c371f6f94131cccf093ec2100e258f411
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/72/579772/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,b2ff491fa0f381c123137eb424c40de0242f6b2b,stestr,[DEFAULT] test_path=./oslo_rootwrap/tests top_path=./ ,,14,8
openstack%2Fpuppet-ceph~master~I21a29ef103da4330951207af1373db7e55475c48,openstack/puppet-ceph,master,I21a29ef103da4330951207af1373db7e55475c48,Do not enable Epel repo in case of Fedora,MERGED,2018-06-26 16:36:11.000000000,2018-07-03 14:56:14.000000000,2018-07-03 14:56:14.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-26 16:36:11.000000000', 'files': ['manifests/repo.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/fd64982c1f73471d6fd7dce42ac1e475a83fb824', 'message': ""Do not enable Epel repo in case of Fedora\n\nEpel repos are not meant for CentOS/RHEL, Fedora\nhas it's own set of packages. So do not enable epel\nrepo with Fedora.\n\nChange-Id: I21a29ef103da4330951207af1373db7e55475c48\n""}]",0,578148,fd64982c1f73471d6fd7dce42ac1e475a83fb824,9,5,1,13861,,,0,"Do not enable Epel repo in case of Fedora

Epel repos are not meant for CentOS/RHEL, Fedora
has it's own set of packages. So do not enable epel
repo with Fedora.

Change-Id: I21a29ef103da4330951207af1373db7e55475c48
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/48/578148/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo.pp'],1,fd64982c1f73471d6fd7dce42ac1e475a83fb824,enable-py3, if $enable_epel and ($::operatingsystem != 'Fedora') {, if $enable_epel {,1,1
openstack%2Foslo.limit~master~I4357350b3ad442658ef872c295dbe734a0f2cc9b,openstack/oslo.limit,master,I4357350b3ad442658ef872c295dbe734a0f2cc9b,Convert tox.ini to using stestr,MERGED,2018-07-02 20:55:13.000000000,2018-07-03 14:45:16.000000000,2018-07-03 14:45:15.000000000,"[{'_account_id': 2218}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 20:55:13.000000000', 'files': ['.gitignore', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/e5d6b14534fa682bbc507aadbf784ad0defe4424', 'message': ""Convert tox.ini to using stestr\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.limit.\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n\nChange-Id: I4357350b3ad442658ef872c295dbe734a0f2cc9b\n""}]",0,579685,e5d6b14534fa682bbc507aadbf784ad0defe4424,8,4,1,5046,,,0,"Convert tox.ini to using stestr

With the upgrade to oslotest 3.6.0 [0], testr no longer works [1].
This is because oslotest no longer requires testr and we don't depend
on it directly in oslo.limit.

[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431
[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2

Change-Id: I4357350b3ad442658ef872c295dbe734a0f2cc9b
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/85/579685/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini']",2,e5d6b14534fa682bbc507aadbf784ad0defe4424,,commands = stestr run --slowest {posargs},commands = python setup.py testr --slowest --testr-args='{posargs}',2,1
openstack%2Fneutron-lbaas~master~I660f2cc915819a6181bfc25145bc567bf981bc53,openstack/neutron-lbaas,master,I660f2cc915819a6181bfc25145bc567bf981bc53,Re-enable KVM,MERGED,2018-06-29 16:36:11.000000000,2018-07-03 14:43:32.000000000,2018-07-03 14:43:32.000000000,"[{'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 16:36:11.000000000', 'files': ['neutron_lbaas/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fd55125641c9458369842f72e1fc65060468ef5f', 'message': 'Re-enable KVM\n\nA recent kernel update in the nodepool images has resolved the issue\nwe were seeing with using KVM on some hosting providers.\nThis patch removes the exclusion for those hosting providers and\nallows the neutron-lbaas gates to use KVM if it is available on the host.\n\nChange-Id: I660f2cc915819a6181bfc25145bc567bf981bc53\n'}]",0,579217,fd55125641c9458369842f72e1fc65060468ef5f,16,6,1,11628,,,0,"Re-enable KVM

A recent kernel update in the nodepool images has resolved the issue
we were seeing with using KVM on some hosting providers.
This patch removes the exclusion for those hosting providers and
allows the neutron-lbaas gates to use KVM if it is available on the host.

Change-Id: I660f2cc915819a6181bfc25145bc567bf981bc53
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/17/579217/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/tests/contrib/gate_hook.sh'],1,fd55125641c9458369842f72e1fc65060468ef5f,,if egrep --quiet '(vmx|svm)' /proc/cpuinfo; then,"if $(egrep --quiet '(vmx|svm)' /proc/cpuinfo) && [[ ( ! $(hostname) =~ ""ovh"" || ! $(hostname) =~ ""limestone"" ) ]]; then",1,1
openstack%2Foslo.reports~master~Id762418616487dfb0955675b7c50085b48307879,openstack/oslo.reports,master,Id762418616487dfb0955675b7c50085b48307879,Switch to stestr,MERGED,2018-07-03 06:26:05.000000000,2018-07-03 14:42:44.000000000,2018-07-03 14:42:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-03 06:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/19f9917883651df57d9c26fd5a24818842a48239', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Id762418616487dfb0955675b7c50085b48307879\n""}, {'number': 2, 'created': '2018-07-03 09:03:32.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/8d49f913495d3440ba841ac68d39de14e0671f37', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Id762418616487dfb0955675b7c50085b48307879\n""}]",2,579771,8d49f913495d3440ba841ac68d39de14e0671f37,10,3,2,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Id762418616487dfb0955675b7c50085b48307879
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/71/579771/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",6,19f9917883651df57d9c26fd5a24818842a48239,stestr,[DEFAULT] test_path=./oslo_reports/tests top_path=./ ,,7,8
openstack%2Fceilometer~master~Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8,openstack/ceilometer,master,Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8,Remove deprecated gnocchi_dispatcher option group,MERGED,2018-06-14 08:28:30.000000000,2018-07-03 14:35:00.000000000,2018-07-03 14:35:00.000000000,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-14 08:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/99a7127cf1f3442cecdf7e3807bcb5785d10bc3f', 'message': 'Remove deprecated gnocchi_dispatcher option group\n\nChange-Id: Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8\n'}, {'number': 2, 'created': '2018-07-03 12:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8a69df7a0fe0063685f5aa084ce67c7bfe7641d6', 'message': 'Remove deprecated gnocchi_dispatcher option group\n\nDepends-On: https://review.openstack.org/577797\nChange-Id: Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8\n'}, {'number': 3, 'created': '2018-07-03 13:26:57.000000000', 'files': ['ceilometer/opts.py', 'ceilometer/publisher/gnocchi.py', 'releasenotes/notes/remove-gnocchi-dispatcher-options-4f4ba2a155c1a766.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c567258979064d4a6e82057f68587b184ee939aa', 'message': 'Remove deprecated gnocchi_dispatcher option group\n\nChange-Id: Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8\n'}]",1,575368,c567258979064d4a6e82057f68587b184ee939aa,12,4,3,1669,,,0,"Remove deprecated gnocchi_dispatcher option group

Change-Id: Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/68/575368/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/opts.py', 'ceilometer/publisher/gnocchi.py', 'releasenotes/notes/remove-gnocchi-dispatcher-options-4f4ba2a155c1a766.yaml']",3,99a7127cf1f3442cecdf7e3807bcb5785d10bc3f,remove-dispatcher-options,--- upgrade: - | The deprecated `gnocchi_dispatcher` option group has been removed. ,,8,32
openstack%2Fkuryr-kubernetes~master~Ia75ef8478522c51e2879c8001bf5c6a0778fa89e,openstack/kuryr-kubernetes,master,Ia75ef8478522c51e2879c8001bf5c6a0778fa89e,Test Objects Module,ABANDONED,2018-07-03 12:53:01.000000000,2018-07-03 14:21:53.000000000,,[],"[{'number': 1, 'created': '2018-07-03 12:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/104305532219518d5aa801fdcdd63a140c7dcec5', 'message': 'Test Objects Module\n\nAdds a test case that checks the versions of all kuryr objects. This makes sure\nthat when an object is modified, its version is bumped.\n\nChange-Id: Ia75ef8478522c51e2879c8001bf5c6a0778fa89e\n'}, {'number': 2, 'created': '2018-07-03 13:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/afcd8a943b62cc68be90d98f3e9f0d6a0b18f411', 'message': 'Test Objects Module\n\nAdds a test case that checks the versions of all kuryr objects. This makes sure\nthat when an object is modified, its version is bumped.\n\nChange-Id: Ia75ef8478522c51e2879c8001bf5c6a0778fa89e\n'}, {'number': 3, 'created': '2018-07-03 14:19:26.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_object.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/51c36a3c07e933afcc4e20ea51c007dd5fdbb336', 'message': 'Test Objects Module\n\nAdds a test case that checks the versions of all kuryr objects. This makes sure\nthat when an object is modified, its version is bumped.\n\nChange-Id: Ia75ef8478522c51e2879c8001bf5c6a0778fa89e\n'}]",0,579857,51c36a3c07e933afcc4e20ea51c007dd5fdbb336,4,0,3,28562,,,0,"Test Objects Module

Adds a test case that checks the versions of all kuryr objects. This makes sure
that when an object is modified, its version is bumped.

Change-Id: Ia75ef8478522c51e2879c8001bf5c6a0778fa89e
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/579857/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/tests/unit/test_object.py'],1,104305532219518d5aa801fdcdd63a140c7dcec5,test-object-versions,"from kuryr_kubernetes.objects import base as kuryr_base# NOTE(danms): The hashes in this list should only be changed if # they come with a corresponding version bump in the affected # objects object_data = { 'LBaaSL7Policy': '1.0-3ac4fcd50a555f433a78c67cb6a4cd52',} def get_kuryr_objects(): """"""Get Kuryr versioned objects This returns a dict of versioned objects which are in the Kuryr project namespace only (excludes objects from os-vif and other 3rd party modules) :return: a dict mapping class names to lists of versioned objects """""" all_classes = base.VersionedObjectRegistry.obj_classes() kuryr_classes = {} for name in all_classes: objclasses = all_classes[name] if (objclasses[0].OBJ_PROJECT_NAMESPACE == kuryr_base.KuryrK8sObjectBase.OBJ_PROJECT_NAMESPACE): kuryr_classes[name] = objclasses return kuryr_classes """"""Test Versions Ensures that modified objects had their versions bumped """""" get_kuryr_objects())","object_data = { 'FixedIP': '1.0-d1a0ec7e7b6ce021a784c54d44cce009', 'FixedIPList': '1.0-15ecf022a68ddbb8c2a6739cfc9f8f5e', 'HostInfo': '1.0-4dba5ce236ea2dc559de8764995dd247', 'HostPluginInfo': '1.0-5204e579864981c9891ecb5d1c9329f2', 'HostPortProfileInfo': '1.0-e0bc9228c1456b220830d67b05bc4bf2', 'HostVIFInfo': '1.1-00fdbeba3f9bb3bd2a723c17023ba182', 'InstanceInfo': '1.0-84104d3435046b1a282ac8265ec2a976', 'LBaaSL7Policy': '1.0-3ac4fcd50a555f433a78c67cb6a4cd52', 'Network': '1.1-27a8a3e236d1d239121668a590130154', 'Route': '1.0-5ca049cb82c4d4ec5edb1b839c1429c7', 'RouteList': '1.0-15ecf022a68ddbb8c2a6739cfc9f8f5e', 'Subnet': '1.0-6a8c192ef7492120d1a5e0fd08e44272', 'SubnetList': '1.0-15ecf022a68ddbb8c2a6739cfc9f8f5e', 'VIFBase': '1.0-4a5a8881dc999752cb050dd443458b6a', 'VIFBridge': '1.0-e78d355f3505361fafbf0797ffad484a', 'VIFDirect': '1.0-05c939280f4025fd1f7efb921a835c57', 'VIFGeneric': '1.0-c72e637ed620f0135ea50a9409a3f389', 'VIFHostDevice': '1.0-bb090f1869c3b4df36efda216ab97a61', 'VIFMacvlanNested': '1.0-c72e637ed620f0135ea50a9409a3f389', 'VIFOpenVSwitch': '1.0-e78d355f3505361fafbf0797ffad484a', 'VIFPortProfile8021Qbg': '1.0-167f305f6e982b9368cc38763815d429', 'VIFPortProfile8021Qbh': '1.0-4b945f07d2666ab00a48d1dc225669b1', 'VIFPortProfileBase': '1.0-77509ea1ea0dd750d5864b9bd87d3f9d', 'VIFPortProfileFPBridge': '1.0-d50872b3cddd245ffebef6053dfbe27a', 'VIFPortProfileFPOpenVSwitch': '1.1-74e77f46aa5806930df6f37a0b76ff8b', 'VIFPortProfileFPTap': '1.0-11670d8dbabd772ff0da26961adadc5a', 'VIFPortProfileOVSRepresentor': '1.1-30e555981003a109b133da5b43ded5df', 'VIFPortProfileOpenVSwitch': '1.1-70d36e09c8d800345ce71177265212df', 'VIFVHostUser': '1.1-1f95b43be1f884f090ca1f4d79adfd35', 'VIFVlanNested': '1.0-7c127b859770cdc04407590c39b59782'} base.VersionedObjectRegistry.obj_classes())",33,32
openstack%2Fmanila~stable%2Fpike~I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,openstack/manila,stable/pike,I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,Remove confusing DB deprecation messages,MERGED,2018-06-18 18:16:37.000000000,2018-07-03 14:19:05.000000000,2018-07-03 14:19:05.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12898}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-06-18 18:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/173afccfc39666b97a3a838901fec65c2da83c03', 'message': 'Remove confusing DB deprecation messages\n\nWhen share instances were introduced a number of fields\nwere moved in the database model to the underlying share instance\nand proxied back to the share in order to maintain compatability\nwith APIs that assume these to belong to the share.  A deprecation\nwarning was added for these.  The warning spams the API log and\nconfuses end users because it sounds like they or their client\nshould make a change to get rid of them and that cannot actually\nbe done.  The API would have to change to expose share instances\nto end users rather than just administrators and that is not\nsomething that we plan to do.\n\nRemove these confusing warnings.\n\nCloses-Bug: #1776947\n\nChange-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3\n(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)\n(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)\n'}, {'number': 2, 'created': '2018-06-27 22:22:45.000000000', 'files': ['releasenotes/notes/remove-confusing-deprecation-warnings-a17c20d8973ef2bb.yaml', 'manila/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/77db1b7889957e012dbd08bc63aa1f6d29f01221', 'message': 'Remove confusing DB deprecation messages\n\nWhen share instances were introduced a number of fields\nwere moved in the database model to the underlying share instance\nand proxied back to the share in order to maintain compatability\nwith APIs that assume these to belong to the share.  A deprecation\nwarning was added for these.  The warning spams the API log and\nconfuses end users because it sounds like they or their client\nshould make a change to get rid of them and that cannot actually\nbe done.  The API would have to change to expose share instances\nto end users rather than just administrators and that is not\nsomething that we plan to do.\n\nRemove these confusing warnings.\n\nCloses-Bug: #1776947\n\nDepends-On: https://review.openstack.org/578558\nChange-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3\n(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)\n(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)\n'}]",0,576227,77db1b7889957e012dbd08bc63aa1f6d29f01221,20,10,2,9003,,,0,"Remove confusing DB deprecation messages

When share instances were introduced a number of fields
were moved in the database model to the underlying share instance
and proxied back to the share in order to maintain compatability
with APIs that assume these to belong to the share.  A deprecation
warning was added for these.  The warning spams the API log and
confuses end users because it sounds like they or their client
should make a change to get rid of them and that cannot actually
be done.  The API would have to change to expose share instances
to end users rather than just administrators and that is not
something that we plan to do.

Remove these confusing warnings.

Closes-Bug: #1776947

Depends-On: https://review.openstack.org/578558
Change-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3
(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)
(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/576227/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-confusing-deprecation-warnings-a17c20d8973ef2bb.yaml', 'manila/db/sqlalchemy/models.py']",2,173afccfc39666b97a3a838901fec65c2da83c03,bug/1776947-stable/queens-stable/pike," proxified_properties = ('status', 'host', 'share_server_id', 'share_network_id', 'availability_zone', 'share_type_id', 'share_type')","from oslo_log import logLOG = log.getLogger(__name__) deprecated_properties = ('host', 'share_server_id', 'share_network_id', 'availability_zone', 'share_type_id', 'share_type') proxified_properties = ('status',) + deprecated_properties if item in deprecated_properties: msg = (""Property '%s' is deprecated. Please use appropriate "" ""property from share instance."" % item) LOG.warning(msg)",10,12
openstack%2Ftripleo-specs~master~I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3,openstack/tripleo-specs,master,I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3,[WIP] Spec for improved privilege escalation in py-scripts,MERGED,2018-06-06 12:56:08.000000000,2018-07-03 14:13:59.000000000,2018-07-02 08:59:15.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-06 12:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/eafd0de8256e90a8e62e1abf884ebf0b20df6f96', 'message': '[WIP] Spec to improve privilege mgmt in py-client\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\n'}, {'number': 2, 'created': '2018-06-06 14:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/f438802edc8b921918c6ffd5f05640beb0ff9875', 'message': '[WIP] Spec to improve privilege mgmt in py-client\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 3, 'created': '2018-06-06 14:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/080ce1e71287a9c30a767bb5e15f50568928caa1', 'message': '[WIP] Spec to improve privilege mgmt in py-client\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 4, 'created': '2018-06-08 10:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b49b5ff56ded9f707e0e89d3c4d2b5284a9e39c5', 'message': 'Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 5, 'created': '2018-06-08 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/e9242c2e898cfaea457107a7d3c98db78da8655a', 'message': 'Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 6, 'created': '2018-06-13 10:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/3de5d55336e89cc8b0edfdb9843c433bdf3acb8c', 'message': 'Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 7, 'created': '2018-06-13 10:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/ffe9a9f8156729470eda57fa3a672e804482c739', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 8, 'created': '2018-06-25 05:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/5651866432f48e352eaacf2f948438d5f4592d85', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 9, 'created': '2018-06-27 04:09:45.000000000', 'files': ['specs/stein/0-placeholder.rst', 'specs/stein/improve-privilege-mgmt-in-pythonclient.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a9924accdc0869084e812dac8f6fbed02bca527f', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}]",14,572761,a9924accdc0869084e812dac8f6fbed02bca527f,33,10,9,17893,,,0,"[WIP] Spec for improved privilege escalation in py-scripts

In order to avoid a widely open sudo for a bunch of
users, we must take care of the way privilege escalation
is done in our python script as well as shell calls.

This spec takes care of the ""python"" aspect of this issue.

Change-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3
Co-Authored-By: Luke Hinds <lhinds@redhat.com>
Blueprint: improve-privilege-mgmt-in-tripleo
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/61/572761/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/improve-privilege-mgmt-in-pythonclient.rst'],1,eafd0de8256e90a8e62e1abf884ebf0b20df6f96,priv-mgmt,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Improve privilege mgmt in Python Client Code ============================================ Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 80 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/tripleo/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org Problem Description =================== A detailed description of the problem: * For a new feature this might be use cases. Ensure you are clear about the actors in each use case: End User vs Deployer * For a major reworking of something existing it would describe the problems in that feature that are being addressed. Proposed Change =============== Overview -------- Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Security Impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Other End User Impact --------------------- Are there ways a user will interact with this feature? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A small change in a utility function or a commonly used decorator can have a large impacts on performance. Other Deployer Impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer Impact ---------------- Discuss things that will affect other developers working on OpenStack. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in tripleo, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Tripleo (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. Is this untestable in CI given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs? Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to ",,211,0
openstack%2Foslo.db~master~Iccda37a3279d6f24de69cfccef3e29787f1ac694,openstack/oslo.db,master,Iccda37a3279d6f24de69cfccef3e29787f1ac694,Add 'save_and_reraise_exception' method when call 'session.rollback()',MERGED,2017-05-08 03:14:17.000000000,2018-07-03 14:10:36.000000000,2017-07-05 11:32:54.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6849}, {'_account_id': 9796}, {'_account_id': 11816}]","[{'number': 1, 'created': '2017-05-08 03:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bce96add0b8ef91897116f05dcf772c4abfc5bb0', 'message': ""Add 'save_and_reraise_exception' method when call 'session.rollback()'\n\nChange-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694\nCloses-Bug: #1684329\n""}, {'number': 2, 'created': '2017-05-10 03:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2476df69c720165eef319485a43abacb06146cd0', 'message': ""Add 'save_and_reraise_exception' method when call 'session.rollback()'\n\nChange-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694\nCloses-Bug: #1684329\n""}, {'number': 3, 'created': '2017-05-10 06:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ef3b02950d1355897f8e45b566990053fef0274c', 'message': ""Add 'save_and_reraise_exception' method when call 'session.rollback()'\n\nChange-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694\nCloses-Bug: #1684329\n""}, {'number': 4, 'created': '2017-05-12 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5b84edcae73dd2694088823c913fab623c07b5d1', 'message': ""Add 'save_and_reraise_exception' method when call 'session.rollback()'\n\nMaybe we need to know an original exception when an exception occurs on \nmethod'session.rollback()'.\n\nChange-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694\nCloses-Bug: #1684329\n""}, {'number': 5, 'created': '2017-05-19 02:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6b2b8d65b45a5a7017c7723e00a9c6b0e3447db1', 'message': ""Add 'save_and_reraise_exception' method when call 'session.rollback()'\n\nMaybe we need to know the original exception when exception occurs on method'session.rollback()'.\n\nChange-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694\nCloses-Bug: #1684329\n""}, {'number': 6, 'created': '2017-05-19 02:44:31.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bee339d79c8ac318573fd54229d99e64fd27617a', 'message': ""Add 'save_and_reraise_exception' method when call 'session.rollback()'\n\nMaybe we need to know the original exception when exception occurs on \nmethod 'session.rollback()'.\n\nChange-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694\nCloses-Bug: #1684329\n""}]",2,463224,bee339d79c8ac318573fd54229d99e64fd27617a,21,5,6,23983,,,0,"Add 'save_and_reraise_exception' method when call 'session.rollback()'

Maybe we need to know the original exception when exception occurs on 
method 'session.rollback()'.

Change-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694
Closes-Bug: #1684329
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/24/463224/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/enginefacade.py'],1,bce96add0b8ef91897116f05dcf772c4abfc5bb0,bug/1684329,from oslo_utils import excutils with excutils.save_and_reraise_exception(): self.session.rollback()," self.session.rollback() # TODO(zzzeek) do we need save_and_reraise() here, # or do newer eventlets not have issues? we are using # raw ""raise"" in many other places in oslo.db already # (and one six.reraise()).",3,5
openstack%2Foslo.db~master~Iea834429a0b8398f076b10426525a5c17dbf3c85,openstack/oslo.db,master,Iea834429a0b8398f076b10426525a5c17dbf3c85,Memoize sys.exc_info() before attempting a savepoint rollback,MERGED,2016-06-13 22:56:53.000000000,2018-07-03 14:10:30.000000000,2016-07-29 01:58:30.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6849}, {'_account_id': 7787}, {'_account_id': 9107}, {'_account_id': 11816}]","[{'number': 1, 'created': '2016-06-13 22:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/55b976829aadbc48b336133598db3ee2e897af70', 'message': ""Another non-working mysql rollback workaround.\n\nPutting this up as a note.  I can't get this to work.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n""}, {'number': 2, 'created': '2016-06-13 23:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/fa04418d0dfcb0974a6e69c9a780f49f1c0db97a', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 3, 'created': '2016-06-14 14:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e704dd9309071d73e5cfec8c18ae0ed3d0b5441b', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 4, 'created': '2016-06-14 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/89cd245cce048f0c484ae3d3d34344bb6b47f459', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 5, 'created': '2016-06-14 18:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/570445ede139e0aca52cd7f693c9b9807c45d82e', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 6, 'created': '2016-06-30 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/871f1ced4879a9ad57e742670f0ba028a486c054', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 7, 'created': '2016-07-06 14:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/fe2090628be696d16110d5bae88b9aedd0fa0a98', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 8, 'created': '2016-07-06 14:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/38bb3fba436de53e2045df272bdae91d1a15da04', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 9, 'created': '2016-07-25 13:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1dd764e3513519ded030951544bcb9c0b216dae0', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}, {'number': 10, 'created': '2016-07-27 08:39:26.000000000', 'files': ['oslo_db/exception.py', 'oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/60b5b14988b2986c161e6a25dc5030a31d41728b', 'message': 'Memoize sys.exc_info() before attempting a savepoint rollback\n\nThis presents a system of reporting the ultimate ""cause"" in the\ncase that a MySQL failed SAVEPOINT rollback occurs.\n\nChange-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85\n'}]",9,329215,60b5b14988b2986c161e6a25dc5030a31d41728b,55,6,10,11816,,,0,"Memoize sys.exc_info() before attempting a savepoint rollback

This presents a system of reporting the ultimate ""cause"" in the
case that a MySQL failed SAVEPOINT rollback occurs.

Change-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/15/329215/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/exception.py', 'oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py']",3,55b976829aadbc48b336133598db3ee2e897af70,caused_during_handling_2,"from sqlalchemy import exc from sqlalchemy.ext.declarative import declarative_baseclass TestExceptionCauseMySQLSavepoint(test_base.MySQLOpportunisticTestCase): def setUp(self): super(TestExceptionCauseMySQLSavepoint, self).setUp() # MARKMARK Base = declarative_base() class A(Base): __tablename__ = 'a' id = sqla.Column(sqla.Integer, primary_key=True) __table_args__ = {'mysql_engine': 'InnoDB'} Base.metadata.create_all(self.engine) self.A = A def test_cause_for_failed_flush_plus_no_savepoint(self): session = self.sessionmaker() try: with session.begin(): session.add(self.A(id=1)) session.flush() try: with session.begin_nested(): session.execute(""rollback"") session.add(self.A(id=1)) except exception.DBError as dbe_inner: pass except exception.DBError as dbe_outer: pass ",,59,1
openstack%2Fopenstack-ansible-os_nova~master~Iff373b5402c664206b940b8e95a0b8845050213b,openstack/openstack-ansible-os_nova,master,Iff373b5402c664206b940b8e95a0b8845050213b,Add support for using distribution packages for OpenStack services,MERGED,2018-05-10 09:17:26.000000000,2018-07-03 14:09:56.000000000,2018-07-03 14:09:56.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 13404}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-10 09:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ce8c3844f6a07d96de6f9c2fd94c3f68567017fb', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nDepends-On: I5a78e2120e596d36629b4ba978b2b5df76b149b0\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 2, 'created': '2018-05-10 10:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3f072df40a9a7eaa1c821fe95e9029f6cbc8a312', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nDepends-On: I5a78e2120e596d36629b4ba978b2b5df76b149b0\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 3, 'created': '2018-06-08 12:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cc689b711f7e7c6d70a35c5139e5d12387052e7a', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nDepends-On: https://review.openstack.org/#/c/573661/\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 4, 'created': '2018-06-11 14:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8b58a25012ab0640478704592bf9aee696ce7520', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nDepends-On: https://review.openstack.org/#/c/573661/\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 5, 'created': '2018-06-11 14:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d70a14ab07c7b8d2bec04cfc3c96d511ace2710c', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nDepends-On: https://review.openstack.org/#/c/573661/\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 6, 'created': '2018-06-15 08:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/16382ff19d61a5dc4a25059695a83f31d4c04ea6', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 7, 'created': '2018-06-15 11:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c9c7cc3d85f6a6a98fce0f6f8c78b5344a5f0127', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 8, 'created': '2018-06-15 12:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/77ed023f469c59f3eb66b12a380128b524f29550', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 9, 'created': '2018-06-15 14:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4bd088ed336eb50dbb037609a4fbcf11db4f840e', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 10, 'created': '2018-06-25 12:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/69b614ff02f92e0afe7ab902e15a496509688bd9', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 11, 'created': '2018-06-25 12:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a77a494041a1b9dfb335f577a9f43021489918a8', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 12, 'created': '2018-06-25 12:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/924007bb347f03c5e4ce534e57d78cf7c7e84c8d', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 13, 'created': '2018-06-25 14:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9d2fd1244bdb11a347b0a2b2ab36bf9b9a0ea07a', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 14, 'created': '2018-06-25 15:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0c13d2651de50b33091d207c3fb5c3ea4beb2029', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 15, 'created': '2018-06-29 06:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/109546c368e00f78b72d2f84c6a5fedac2fc09ab', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: https://review.openstack.org/579071\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 16, 'created': '2018-06-29 10:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/232b82ddee5df0d91b9a4fb81bd68ae1007d33ee', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: https://review.openstack.org/#/c/579071/\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 17, 'created': '2018-06-29 10:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/31b33239ef427906dd53dd0439c91f612c4a7369', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: Iba8095f1068bc6f00064dd31b92cea5931a33b90\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 18, 'created': '2018-06-29 13:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/389f715ce66b27c5c0417433b5dce7168f6cb57a', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: https://review.openstack.org/#/c/579151/\nDepends-On: https://review.openstack.org/#/c/579071/\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 19, 'created': '2018-06-29 14:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/64986a7f356928cbea9622285b293bbf2a3c5ffe', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: https://review.openstack.org/#/c/579151/\nDepends-On: https://review.openstack.org/#/c/579071/\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 20, 'created': '2018-07-03 09:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/11cfb05e498fd21684ff597cadc051c23d6d6030', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: https://review.openstack.org/#/c/579151/\nDepends-On: https://review.openstack.org/#/c/579071/\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 21, 'created': '2018-07-03 10:20:06.000000000', 'files': ['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'tasks/drivers/ironic/nova_compute_ironic.yml', 'releasenotes/notes/openstack-distribution-packages-fcb6220fdeb3668c.yaml', 'tasks/nova_install_source.yml', 'tasks/drivers/ironic/nova_compute_ironic_source.yml', 'vars/ubuntu-16.04.yml', 'tasks/drivers/kvm/nova_compute_kvm_install.yml', 'tasks/nova_install.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/nova-uwsgi.ini.j2', 'tasks/drivers/lxd/nova_compute_lxd_source.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'tasks/drivers/lxd/nova_compute_lxd.yml', 'tox.ini', 'tasks/drivers/kvm/nova_compute_kvm_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1deb3b5a26d9983fdf11ef12b414bbe24c580ea5', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nDepends-On: https://review.openstack.org/#/c/579151/\nDepends-On: https://review.openstack.org/#/c/579071/\nChange-Id: Iff373b5402c664206b940b8e95a0b8845050213b\nImplements: blueprint openstack-distribution-packages\n'}]",1,567530,1deb3b5a26d9983fdf11ef12b414bbe24c580ea5,57,16,21,23163,,,0,"Add support for using distribution packages for OpenStack services

Distributions provide packages for the OpenStack services so we add
support for using these instead of the pip ones.

Depends-On: https://review.openstack.org/#/c/579151/
Depends-On: https://review.openstack.org/#/c/579071/
Change-Id: Iff373b5402c664206b940b8e95a0b8845050213b
Implements: blueprint openstack-distribution-packages
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/30/567530/16 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'tasks/drivers/ironic/nova_compute_ironic.yml', 'releasenotes/notes/openstack-distribution-packages-fcb6220fdeb3668c.yaml', 'tasks/nova_install_source.yml', 'tasks/drivers/ironic/nova_compute_ironic_source.yml', 'vars/ubuntu-16.04.yml', 'tasks/drivers/kvm/nova_compute_kvm_install.yml', 'tasks/nova_install.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/nova-uwsgi.ini.j2', 'tasks/drivers/lxd/nova_compute_lxd_source.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'tasks/drivers/lxd/nova_compute_lxd.yml', 'tox.ini', 'tasks/drivers/kvm/nova_compute_kvm_install_source.yml']",20,ce8c3844f6a07d96de6f9c2fd94c3f68567017fb,bp/openstack-distribution-packages,"--- # Copyright 2018, SUSE Linux GmbH # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Install pip packages pip: name: ""{{ nova_compute_pip_packages }}"" state: ""{{ nova_pip_package_state }}"" virtualenv: ""{{ nova_bin | dirname }}"" virtualenv_site_packages: ""no"" extra_args: >- {{ nova_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ (pip_install_upper_constraints is defined) | ternary('--constraint ' + pip_install_upper_constraints | default(''),'') }} {{ pip_install_options|default('') }} register: install_packages until: install_packages|success retries: 5 delay: 2 when: - nova_get_venv | failed or nova_get_venv | skipped tags: - nova-pip-packages # TODO(cloudnull): use a package from pypi when its made available # This is being done because guestfs is not an installable package at this time. # There is a change in the works to upload the guestfs package to pypi in the # future however that's not been done as of yet. # related thread http://lists.openstack.org/pipermail/openstack-dev/2015-July/070927.html # link on bug about libguestfs on pypi https://bugzilla.redhat.com/show_bug.cgi?id=1075594 - name: Link guestfs into the venv file: src: ""{{ linkfiles.name }}"" dest: ""{{ nova_bin | dirname }}/lib/python2.7/{{ linkfiles.name | basename }}"" state: ""{{ linkfiles.state }}"" force: ""yes"" with_items: - { state: link, name: ""/usr/lib/python2.7/dist-packages/libguestfsmod.so"" } - { state: link, name: ""/usr/lib/python2.7/dist-packages/guestfs.py"" } loop_control: loop_var: linkfiles tags: - nova-pip-packages ",,528,256
openstack%2Fkolla-ansible~master~I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef,openstack/kolla-ansible,master,I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef,Only start tgtd when cinder_iscsi_helper=tgtadm,MERGED,2018-05-02 19:55:42.000000000,2018-07-03 14:09:49.000000000,2018-07-03 14:09:49.000000000,"[{'_account_id': 6488}, {'_account_id': 9820}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24759}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-05-02 19:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/458da9ac95b46e3577ac101cc2e24c6e224f3f51', 'message': 'Only start tgtd when cinder_iscsi_helper=tgtadm\n\nChange-Id: I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef\n'}, {'number': 2, 'created': '2018-06-28 10:04:23.000000000', 'files': ['ansible/roles/iscsi/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4423f25d84d3a6449b938c6aacfbcf4cef92ea28', 'message': 'Only start tgtd when cinder_iscsi_helper=tgtadm\n\nChange-Id: I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef\n'}]",0,565889,4423f25d84d3a6449b938c6aacfbcf4cef92ea28,17,10,2,1390,,,0,"Only start tgtd when cinder_iscsi_helper=tgtadm

Change-Id: I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/565889/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/iscsi/tasks/start.yml'],1,458da9ac95b46e3577ac101cc2e24c6e224f3f51,," - cinder_iscsi_helper == ""tgtadm""",,1,0
openstack%2Ftripleo-ci~master~I6272be2e4c3195862060ff1a48604129c6391d9a,openstack/tripleo-ci,master,I6272be2e4c3195862060ff1a48604129c6391d9a,[DNM] testing FS055,ABANDONED,2018-06-04 11:08:11.000000000,2018-07-03 13:52:54.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-04 11:08:11.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4726d990c95fff5ca4f2fa6af887986b1eb46f21', 'message': '[DNM] testing FS055\n\nChange-Id: I6272be2e4c3195862060ff1a48604129c6391d9a\n'}]",0,572078,4726d990c95fff5ca4f2fa6af887986b1eb46f21,13,3,1,12393,,,0,"[DNM] testing FS055

Change-Id: I6272be2e4c3195862060ff1a48604129c6391d9a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/572078/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,4726d990c95fff5ca4f2fa6af887986b1eb46f21,refstack-support, - tripleo-ci-centos-7-scenario002-multinode-oooq-container-refstack,,1,0
openstack%2Fopenstack-ansible-ops~master~Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3,openstack/openstack-ansible-ops,master,Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3,Improve metricbeat Ceph detection,MERGED,2018-06-21 21:07:32.000000000,2018-07-03 13:49:47.000000000,2018-07-03 13:49:47.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-06-21 21:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fcf1b87f5f280f3fa5ac60563aafba2e04e19250', 'message': '[WIP] Improve metricbeat Ceph detection\n\nWhen Ceph is deployed by OSA ceph_mons is a list of addresses\nof the mons on the storage network populated from the OSA inventory.\n\nWhen Ceph is deployed outside of OSA, ceph_mons is provided by\nthe deployer as a pointer to the mon addresses for integration.\n\nTo cover both these cases, the only OSA hosts in the control plane\nwhch are guaranteed to be able to access the Ceph mons and the ELK\nstack are those in the cinder_volumes host group.\n\nThis change configures metricbeat on the cinder_volumes hosts to\ncollect data from the ceph REST API on the mon hosts when possible.\nOtherwise, collection is attempted from all hosts which have a\n/etc/ceph directory.\n\nChange-Id: Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3\n'}, {'number': 2, 'created': '2018-06-22 07:16:30.000000000', 'files': ['elk_metrics_6x/installMetricbeat.yml', 'elk_metrics_6x/templates/metricbeat.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/14182c142ee27b08f0a0b49dc352f2a4a0f60a35', 'message': 'Improve metricbeat Ceph detection\n\nWhen Ceph is deployed by OSA ceph_mons is a list of addresses\nof the mons on the storage network populated from the OSA inventory.\n\nWhen Ceph is deployed outside of OSA, ceph_mons is provided by\nthe deployer as a pointer to the mon addresses for integration.\n\nTo cover both these cases, the only OSA hosts in the control plane\nwhich are guaranteed to be able to access the Ceph mons and the ELK\nstack are those in the cinder_volumes host group.\n\nThis change configures metricbeat on the cinder_volumes hosts to\ncollect data from the ceph REST API on the mon hosts when possible.\nOtherwise, collection is attempted from all hosts which have a\n/etc/ceph directory.\n\nChange-Id: Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3\n'}]",0,577300,14182c142ee27b08f0a0b49dc352f2a4a0f60a35,16,3,2,25023,,,0,"Improve metricbeat Ceph detection

When Ceph is deployed by OSA ceph_mons is a list of addresses
of the mons on the storage network populated from the OSA inventory.

When Ceph is deployed outside of OSA, ceph_mons is provided by
the deployer as a pointer to the mon addresses for integration.

To cover both these cases, the only OSA hosts in the control plane
which are guaranteed to be able to access the Ceph mons and the ELK
stack are those in the cinder_volumes host group.

This change configures metricbeat on the cinder_volumes hosts to
collect data from the ceph REST API on the mon hosts when possible.
Otherwise, collection is attempted from all hosts which have a
/etc/ceph directory.

Change-Id: Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/00/577300/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/installMetricbeat.yml', 'elk_metrics_6x/templates/metricbeat.yml.j2']",2,fcf1b87f5f280f3fa5ac60563aafba2e04e19250,ceph_detect, hosts: {{ ceph_stats_hosts | to_json }}," hosts: [""localhost:5000""]",28,2
openstack%2Fkolla-ansible~master~I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44,openstack/kolla-ansible,master,I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44,dev mode: Add support for blazar,MERGED,2018-06-26 02:55:03.000000000,2018-07-03 13:48:25.000000000,2018-07-03 13:48:25.000000000,"[{'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-06-26 02:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08f96738fae950d8bbdb1e671c0921c5c505318a', 'message': ""dev mode: Add support for blazar\n\nProvide support fot kolla dev mode in blazar. When\n'kolla_dev_mode' or 'blazar_dev_mode' variables are\nenabled, source code of blazar  project will be  cloned\nand  mounted automatically\n\nPartially implements: blueprint mount-sources\n\nChange-Id: I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44\n""}, {'number': 2, 'created': '2018-06-26 05:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b5ed99e380ab379ba42435b477b5522240aad05', 'message': ""dev mode: Add support for blazar\n\nProvide support for kolla dev mode in blazar. When\n'kolla_dev_mode' or 'blazar_dev_mode' variables are\nenabled, source code of blazar project will be  cloned\nand mounted automatically\n\nPartially implements: blueprint mount-sources\n\nChange-Id: I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44\n""}, {'number': 3, 'created': '2018-06-26 09:08:57.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap_service.yml', 'ansible/roles/blazar/tasks/clone.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/blazar/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8da93792698c3ec1d7bd5c359600ef97856fdc90', 'message': ""dev mode: Add support for blazar\n\nProvide support for kolla dev mode in blazar. When\n'kolla_dev_mode' or 'blazar_dev_mode' variables are\nenabled, source code of blazar project will be  cloned\nand mounted automatically\n\nPartially implements: blueprint mount-sources\n\nChange-Id: I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44\n""}]",3,577961,8da93792698c3ec1d7bd5c359600ef97856fdc90,13,5,3,26285,,,0,"dev mode: Add support for blazar

Provide support for kolla dev mode in blazar. When
'kolla_dev_mode' or 'blazar_dev_mode' variables are
enabled, source code of blazar project will be  cloned
and mounted automatically

Partially implements: blueprint mount-sources

Change-Id: I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/577961/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/blazar/tasks/bootstrap_service.yml', 'ansible/roles/blazar/tasks/clone.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/blazar/tasks/config.yml']",6,08f96738fae950d8bbdb1e671c0921c5c505318a,bp/mount-sources," volumes: ""{{ item.value.volumes|reject('equalto', '')|list }}"""," volumes: ""{{ item.value.volumes }}""",23,4
openstack%2Fnova~master~Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af,openstack/nova,master,Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af,Validate payload jsonschema in notification test,ABANDONED,2017-01-10 12:35:23.000000000,2018-07-03 13:46:22.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 20370}]","[{'number': 1, 'created': '2017-01-10 12:35:23.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68e26b94f5626888ef1b481883c21232d1657d0b', 'message': 'Validate payload jsonschema in notification test\n\nThe ovo lib now supports to_json_schema() call to provide the schema of\nany ovo. We can use this to validate the payload of the versioned notification\nagains the schema of the notification payload class.\n\nImplements: bp json-schema-for-versioned-notifications\nChange-Id: Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af\n'}]",0,418366,68e26b94f5626888ef1b481883c21232d1657d0b,10,7,1,9708,,,0,"Validate payload jsonschema in notification test

The ovo lib now supports to_json_schema() call to provide the schema of
any ovo. We can use this to validate the payload of the versioned notification
agains the schema of the notification payload class.

Implements: bp json-schema-for-versioned-notifications
Change-Id: Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/418366/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/notification_sample_base.py'],1,68e26b94f5626888ef1b481883c21232d1657d0b,bp/json-schema-for-versioned-notifications,"import jsonschemafrom nova.objects import base self._verify_schema(sample_obj) self._verify_schema(notification) def _verify_schema(self, notification): payload = notification['payload'] class_name = payload['nova_object.name'] base.NovaObjectRegistry.register_notification_objects() ovos = base.NovaObjectRegistry.obj_classes() cls = ovos[class_name][0] schema = cls.to_json_schema() jsonschema.validate(payload, schema) ",,13,0
openstack%2Fcinder~master~Icfb3843d8917970797b246b99332ff6a12cef63d,openstack/cinder,master,Icfb3843d8917970797b246b99332ff6a12cef63d,Improve notification short-circuit,ABANDONED,2017-03-06 16:18:26.000000000,2018-07-03 13:45:45.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19339}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27248}]","[{'number': 1, 'created': '2017-03-06 16:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/105d2a5db320a0dbfe5020b10715a25ef559a200', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\n'}, {'number': 2, 'created': '2017-03-14 11:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5eb861a31b7429a851c0f088adb62e61072376d4', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 3, 'created': '2017-03-27 11:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e4e7d36218d0fa643edeeac9681643f32a643dc', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 4, 'created': '2017-03-27 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/744ce25075440c8c59ee3999d70a032cc86088f3', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 5, 'created': '2017-03-27 15:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c150a048e606e710187008931f78c16877db1f8', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 6, 'created': '2017-04-03 12:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/039e9786ef1cb49923efa174b89b0500f900f1fb', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 7, 'created': '2017-04-12 09:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e0cf45b35a0b63fd6c9de81c303eca1988add18', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every subsequent\nget_notifier call is already skipped with by if_notifications_enabled\ndecorator if the notifications are not enabled. This was necessary\nas we need a Notifier object first to be able to decide if the\nnotifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 8, 'created': '2017-09-05 12:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a791ea840c6ba26f61e1f3af5c9475eb6e70105b', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 9, 'created': '2017-09-05 12:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ea7a8ff92050cd3b9c7e1fe4808148db03a10f7', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 10, 'created': '2017-09-12 17:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d23f8c67bf1ff4107db21bf87bad63e6862120bc', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 11, 'created': '2017-11-03 11:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3451374f0eb86bd0a080eae0d516ab88d450bdf4', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 12, 'created': '2017-11-14 08:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85cb84e5800f4d3e64c6dc3e3e399edd7cfe59b9', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 13, 'created': '2017-11-21 15:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e47dd51793d917fd5b3955fc5166c190b04d150', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}, {'number': 14, 'created': '2018-03-07 14:49:11.000000000', 'files': ['cinder/rpc.py', 'cinder/tests/unit/test_rpc.py', 'cinder/tests/unit/test_utils.py', 'cinder/tests/unit/fake_notifier.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/51fe35ed3009822429e6cf694e8b3ecf8d4280cb', 'message': 'Improve notification short-circuit\n\nUntil now Cinder was depenedent on the configuration of oslo messaging\nto short circuit the notification sending. This patch replaces the\ndependency with the new Notifier.is_enabled() function call introduced\nrecently in oslo.messaging.\n\nThis patch reverts the optimization in rpc.init(). This means just an\none time preformance loss at the start of each service as every\nsubsequent get_notifier call is already skipped with by\nif_notifications_enabled decorator if the notifications are not enabled.\nThis was necessary as we need a Notifier object first to be able to\ndecide if the notifications are enabled on that Notifier or not.\n\nChange-Id: Icfb3843d8917970797b246b99332ff6a12cef63d\nDepends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec\nDepends-On: I094b3bf09b6c19a48e31ba868556867705b47abc\n'}]",4,442016,51fe35ed3009822429e6cf694e8b3ecf8d4280cb,249,62,14,9708,,,0,"Improve notification short-circuit

Until now Cinder was depenedent on the configuration of oslo messaging
to short circuit the notification sending. This patch replaces the
dependency with the new Notifier.is_enabled() function call introduced
recently in oslo.messaging.

This patch reverts the optimization in rpc.init(). This means just an
one time preformance loss at the start of each service as every
subsequent get_notifier call is already skipped with by
if_notifications_enabled decorator if the notifications are not enabled.
This was necessary as we need a Notifier object first to be able to
decide if the notifications are enabled on that Notifier or not.

Change-Id: Icfb3843d8917970797b246b99332ff6a12cef63d
Depends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec
Depends-On: I094b3bf09b6c19a48e31ba868556867705b47abc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/442016/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/rpc.py', 'cinder/utils.py']",2,105d2a5db320a0dbfe5020b10715a25ef559a200,short-circuit-notifications,def notifications_enabled(): # import here to avoid circular reference from cinder import rpc return rpc.NOTIFIER.is_enabled() if notifications_enabled():,def notifications_enabled(conf): notifications_driver = set(conf.oslo_messaging_notifications.driver) return notifications_driver and notifications_driver != {'noop'} if notifications_enabled(CONF):,9,13
openstack%2Freleases~master~Ic49828bbf16d3e620615c06deac358c7cb1e4558,openstack/releases,master,Ic49828bbf16d3e620615c06deac358c7cb1e4558,Release cliff 2.13.0,MERGED,2018-07-02 22:15:16.000000000,2018-07-03 13:43:04.000000000,2018-07-03 13:43:04.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 22:15:16.000000000', 'files': ['deliverables/rocky/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/caaec721823725d7f999e9c0dc5aaa6af86899dd', 'message': 'Release cliff 2.13.0\n\nChange-Id: Ic49828bbf16d3e620615c06deac358c7cb1e4558\n'}]",0,579703,caaec721823725d7f999e9c0dc5aaa6af86899dd,6,2,1,970,,,0,"Release cliff 2.13.0

Change-Id: Ic49828bbf16d3e620615c06deac358c7cb1e4558
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/579703/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/cliff.yaml'],1,caaec721823725d7f999e9c0dc5aaa6af86899dd,cliff-rocky, - projects: - hash: dd6abfffba239ff1be945dbd2b53a402d2757b46 repo: openstack/cliff version: 2.13.0,,4,0
openstack%2Freleases~master~I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce,openstack/releases,master,I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce,Release cliff 2.11.1 for queens,MERGED,2018-07-02 22:17:11.000000000,2018-07-03 13:41:57.000000000,2018-07-03 13:41:57.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 22:17:11.000000000', 'files': ['deliverables/queens/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba2a3bdf3a4e3129f433594f23f89b962b014722', 'message': 'Release cliff 2.11.1 for queens\n\nChange-Id: I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce\n'}]",0,579704,ba2a3bdf3a4e3129f433594f23f89b962b014722,6,2,1,970,,,0,"Release cliff 2.11.1 for queens

Change-Id: I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/579704/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/cliff.yaml'],1,ba2a3bdf3a4e3129f433594f23f89b962b014722,cliff-queens, - projects: - hash: 085310c89c744a78fa09d7b6eed32a3e325c18df repo: openstack/cliff version: 2.11.1,,4,0
openstack%2Freleases~master~I6be0224ca88fe681f1d4151f4178385cf8497089,openstack/releases,master,I6be0224ca88fe681f1d4151f4178385cf8497089,Release cliff 2.8.2 for pike,MERGED,2018-07-02 22:18:39.000000000,2018-07-03 13:41:56.000000000,2018-07-03 13:41:56.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 22:18:39.000000000', 'files': ['deliverables/pike/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/72927ac76ae62355a6656621f405f922a890b64c', 'message': 'Release cliff 2.8.2 for pike\n\nChange-Id: I6be0224ca88fe681f1d4151f4178385cf8497089\n'}]",0,579705,72927ac76ae62355a6656621f405f922a890b64c,6,2,1,970,,,0,"Release cliff 2.8.2 for pike

Change-Id: I6be0224ca88fe681f1d4151f4178385cf8497089
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/579705/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/cliff.yaml'],1,72927ac76ae62355a6656621f405f922a890b64c,cliff-pike, - version: 2.8.2 projects: - hash: 2df12e4342141db775e8e5daeabe6b06e49e74f9 repo: openstack/cliff,,4,0
openstack%2Fpython-tripleoclient~stable%2Fpike~Idcf0039d4918253092850a82c36702de4e4f3be7,openstack/python-tripleoclient,stable/pike,Idcf0039d4918253092850a82c36702de4e4f3be7,"Add --stack to update, upgrade and ffwd-upgrade 'run' CLI.",ABANDONED,2018-06-27 17:08:24.000000000,2018-07-03 13:40:12.000000000,,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-27 17:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9018f44312dfafef11971f170ffe053ea7be076', 'message': ""Add --stack to update, upgrade and ffwd-upgrade 'run' CLI.\n\nWe need to be able to define the stack name if it\nis different than 'overcloud', for the ansible inventory\nused with the upgrade playbooks.\n\n(cherry picked from commit 5181d8af5f5431d629b46a5b71444b67140cb44c)\n(cherry picked from commit 01f5fd25aaee64a215dec087539041fb5d36ac6a)\nCloses-Bug: 1767379\n\nChange-Id: Idcf0039d4918253092850a82c36702de4e4f3be7\n""}, {'number': 2, 'created': '2018-06-30 18:25:13.000000000', 'files': ['tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/622964bdcaa996c6848b42e3baee2ae659c062ff', 'message': ""Add --stack to update, upgrade and ffwd-upgrade 'run' CLI.\n\nWe need to be able to define the stack name if it\nis different than 'overcloud', for the ansible inventory\nused with the upgrade playbooks.\n\n(cherry picked from commit 5181d8af5f5431d629b46a5b71444b67140cb44c)\n(cherry picked from commit 01f5fd25aaee64a215dec087539041fb5d36ac6a)\nCloses-Bug: 1767379\n\nChange-Id: Idcf0039d4918253092850a82c36702de4e4f3be7\n""}]",0,578489,622964bdcaa996c6848b42e3baee2ae659c062ff,14,4,2,9592,,,0,"Add --stack to update, upgrade and ffwd-upgrade 'run' CLI.

We need to be able to define the stack name if it
is different than 'overcloud', for the ansible inventory
used with the upgrade playbooks.

(cherry picked from commit 5181d8af5f5431d629b46a5b71444b67140cb44c)
(cherry picked from commit 01f5fd25aaee64a215dec087539041fb5d36ac6a)
Closes-Bug: 1767379

Change-Id: Idcf0039d4918253092850a82c36702de4e4f3be7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/578489/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",2,e9018f44312dfafef11971f170ffe053ea7be076,bug/1767379," container='overcloud',"," container='mystack',",6,8
openstack%2Fpuppet-ceph~stable%2Fluminous~Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,openstack/puppet-ceph,stable/luminous,Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,Update UPPER_CONSTRAINTS_FILE for stable/luminous,MERGED,2018-06-28 20:45:27.000000000,2018-07-03 13:32:05.000000000,2018-07-03 13:32:05.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 20:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/cdff8ac4719fad6e43a0427c8eb3971a8a75c449', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/luminous\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d\n""}, {'number': 2, 'created': '2018-06-29 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c772c17614e147b81cdcf65920c95f19aa296daa', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/luminous\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d\n""}, {'number': 3, 'created': '2018-07-03 00:48:54.000000000', 'files': ['metadata.json', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0759c273a692edfd365618835153ffbdde98dbcb', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/luminous\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d\n""}]",0,579000,0759c273a692edfd365618835153ffbdde98dbcb,13,4,3,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/luminous

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/00/579000/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cdff8ac4719fad6e43a0427c8eb3971a8a75c449,create-luminous,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/luminous} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-helm~master~If27fb360d107af5d6423b0995b5fd6a21d4e8754,openstack/openstack-helm,master,If27fb360d107af5d6423b0995b5fd6a21d4e8754,[WIP] etcd mariadb,ABANDONED,2017-12-05 20:56:24.000000000,2018-07-03 13:25:15.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25907}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-05 20:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ae710630a90a63592ce5a12d3bb8130760b8be1', 'message': '[WIP] etcd mariadb\n\nChange-Id: If27fb360d107af5d6423b0995b5fd6a21d4e8754\n'}, {'number': 2, 'created': '2017-12-05 21:22:43.000000000', 'files': ['tools/gate/launch-osh/basic.sh', 'mariadb/templates/etc/_99-force.cnf.tpl', 'mariadb/templates/bin/_etcd.sh.tpl', 'mariadb/values.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_lib.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aaf519c7e04d82fea3e54024fe01fea1e43975e6', 'message': '[WIP] etcd mariadb\n\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: If27fb360d107af5d6423b0995b5fd6a21d4e8754\n'}]",2,525752,aaf519c7e04d82fea3e54024fe01fea1e43975e6,11,6,2,14119,,,0,"[WIP] etcd mariadb

Co-Authored-By: Pete Birley <pete@port.direct>

Change-Id: If27fb360d107af5d6423b0995b5fd6a21d4e8754
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/52/525752/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/etc/_99-force.cnf.tpl', 'mariadb/templates/bin/_etcd.sh.tpl', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_lib.sh.tpl']",4,6ae710630a90a63592ce5a12d3bb8130760b8be1,mariadb,"#!/bin/sh export ETCDCTL_API=3 ETCD_ENDPOINTS=10.10.1.1:2379,10.10.1.2:2379,10.10.1.3:2379 ETCD_CMD=""etcdctl --endpoints ${ETCD_ENDPOINTS}"" ETCD_PREFIX=mariadb/openstack ETCD_PUT=""${ETCD_CMD} put ${ETCD_PREFIX}"" ETCD_GET=""${ETCD_CMD} get ${ETCD_PREFIX}"" ETCD_LOCK=""${ETCD_CMD} lock ${ETCD_PREFIX}"" HOSTS=""server01 server02 server03"" TTL=5 data_dir=/var/lib/mysql log_dir=/var/log/mysql run_dir=/var/log/mysql function shutdown_mysqld { mysqladmin -umysql shutdown } function start_mysqld { get_wsrep_position mysqld --defaults-file=/etc/mysql/my.cnf --wsrep-start-position=${wsrep_position} ${args} & mysqld_pid=$! wait ${mysqld_pid} } function get_wsrep_position { # TODO(SamYaple): Abort if mysqld is running local log_file=$(mktemp) mysqld --defaults-file=/etc/mysql/my.cnf --wsrep-recover --skip-networking --log-error=${log_file} wsrep_position=$(awk '/Recovered position:/ {print $(NF)}' ${log_file}) rm ${log_file} echo ${wsrep_position#*:} > ${run_dir}/last_seqno } function healthcheck { set +ex while :; do if [[ -f ${run_dir}/stop ]]; then shutdown_mysqld rm ${run_dir}/stop fi if [[ -f ${run_dir}/online ]]; then rm ${run_dir}/online mysql -e ""SET GLOBAL wsrep_provider_options='pc.bootstrap=1';"" touch ${run_dir}/online_done fi listening=0 active=0 statuses=$(mysql -BNe ""show status like 'wsrep_%';"") if [[ $? == 0 ]]; then seqno=$(echo ${statuses} | grep -Po '(?<=wsrep_last_committed\s)\w+') primary=$(echo ${statuses} | grep -Po '(?<=wsrep_cluster_status\s)\w+') listening=1 if [[ ${primary} == ""Primary"" ]]; then active=1 fi else seqno=$(cat ${run_dir}/last_seqno) fi echo ${seqno} > ${run_dir}/last_seqno #gvwstate= #if [[ -f /var/lib/mysql/gvwstate.dat ]]; then # gvwstate=$(cat /var/lib/mysql/gvwstate.dat | base64 -w0) #fi safe=0 if [[ -f ${data_dir}/grastate.dat ]]; then safe_to_bootstrap=$(awk '/safe_to_bootstrap/ {print $2}' ${data_dir}/grastate.dat) if [[ ${safe} -lt ${safe_to_bootstrap} ]]; then safe=${safe_to_bootstrap} fi fi echo ${listening},${active},${seqno},${safe} > ${run_dir}/stats sleep 2 done } function check_data_exists { local data=0 for val in $(${ETCD_GET}/data_exists/ --prefix=true --print-value-only=true); do if [[ ${val} == ""1"" ]]; then data=1 break fi done eval data_exists=${data} } function report_stats { set +ex while :; do # NOTE(SamYaple): We *probably* don't need to report this every 2 # seconds, but for safety sake we are doing it for now report_data_exists if [[ ! -f ${run_dir}/stats ]]; then sleep 2 continue fi cat ${run_dir}/stats | ${ETCD_PUT}/stats/${HOSTNAME} --lease=$(${ETCD_CMD} lease grant ${TTL} | cut -d' ' -f2) # FIXME(SamYaple): This is race conditiony rm ${run_dir}/stats sleep 2 done } function get_stats { IFS=, read listening active seqno safe <<-EOF $(${ETCD_GET}/stats/${HOSTNAME} --print-value-only=true | awk NF) EOF any_listening=0 any_active=0 highest_seqno=0 highest_seqno_listening=0 any_safe=0 while IFS=, read host_listening host_active host_seqno host_safe; do if [[ ${host_listening} == 1 ]]; then any_listening=1 fi if [[ ${host_active} == 1 ]]; then any_active=1 fi if [[ ${highest_seqno} -lt ${host_seqno} ]]; then highest_seqno=${host_seqno} highest_seqno_listening=${host_listening} elif [[ ${highest_seqno} == ${host_seqno} ]]; then if [[ ${host_listening} == 1 ]]; then highest_seqno_listening=1 fi fi if [[ ${host_safe} == 1 ]]; then any_safe=1 fi done <<-EOF $(${ETCD_GET}/stats/ --prefix=true --print-value-only=true | awk NF) EOF } function start_node { rm -f ${run_dir}/stop echo $1 > ${run_dir}/start } function report_data_exists { if [[ -d ${data_dir}/mysql ]]; then ${ETCD_PUT}/data_exists/${HOSTNAME} 1 else ${ETCD_PUT}/data_exists/${HOSTNAME} 0 fi } function wait_for_all_report_data_exists { while :; do echo seeing if all members have checked in data_exists local FAILED_CHECK_IN=0 for host in ${HOSTS}; do local val=$(${ETCD_GET}/data_exists/${host} --keys-only=true) if [[ ${val} == '1' ]]; then # NOTE(SamYaple): Found data, safe to continue return 0 fi if [[ -z ${val} ]]; then echo ${host} has not checked in data_exists FAILED_CHECK_IN=1 fi done if [[ ${FAILED_CHECK_IN} == 0 ]]; then break fi sleep 5 done } function wait_for_all_running { while :; do echo seeing if all members have checked in running local FAILED_CHECK_IN=0 for host in ${HOSTS}; do local val=$(${ETCD_GET}/stats/${host} --keys-only=true) if [[ -z ${val} ]]; then echo ${host} has not checked in running FAILED_CHECK_IN=1 fi done if [[ ${FAILED_CHECK_IN} == 0 ]]; then break fi sleep 5 done } function bootstrap { mysql_install_db --defaults-file=/etc/mysql/my.cnf mysqld --defaults-file=/etc/mysql/my.cnf --wsrep_on=OFF --skip-networking --socket=/tmp/mysqld.sock & mysqld_tmp_pid=$! while [[ ! -S /tmp/mysqld.sock ]]; do sleep 1 done mysql --defaults-file=/etc/mysql/my.cnf --protocol=socket -uroot -hlocalhost --socket=/tmp/mysqld.sock <<-EOF SET @@SESSION.SQL_LOG_BIN=0; INSTALL PLUGIN unix_socket SONAME 'auth_socket'; TRUNCATE mysql.user; GRANT SUPER,SHUTDOWN ON *.* TO 'mysql'@'localhost' IDENTIFIED VIA unix_socket; GRANT ALL ON *.* TO 'root'@'localhost' IDENTIFIED VIA unix_socket WITH GRANT OPTION; GRANT PROCESS,RELOAD,LOCK TABLES,REPLICATION CLIENT ON *.* TO '${XTRABACKUP_USERNAME}'@'%' IDENTIFIED BY '${XTRABACKUP_PASSWORD}'; GRANT ALL ON *.* TO '${ADMIN_USERNAME}'@'%' IDENTIFIED BY '${ADMIN_PASSWORD}' WITH GRANT OPTION; GRANT USAGE ON *.* TO 'haproxy'@'%'; DROP DATABASE IF EXISTS test; FLUSH PRIVILEGES; EOF mysqladmin -umysql --protocol=socket --socket=/tmp/mysqld.sock shutdown wait ${mysqld_tmp_pid} } function bootstrap_database { check_data_exists if [[ ${data_exists} == 1 ]]; then # NOTE(SamYaple): Another node has already bootstrapped exit 0 fi rm -f ${run_dir}/bootstrap_done touch ${run_dir}/bootstrap TIMEOUT=120 while :; do if [[ -f ${run_dir}/bootstrap_done ]]; then rm ${run_dir}/bootstrap_done break fi let ""TIMEOUT--"" if [[ ${TIMEOUT} -lt 0 ]]; then # NOTE(SamYaple): Timed out waiting for bootstrap to finish touch ${run_dir}/bootstrap_abort return 1 fi sleep 1 done ${ETCD_PUT}/data_exists/${HOSTNAME} 1 start_node --wsrep-new-cluster } function bootstrap_stopped_cluster { sleep ${TTL} get_stats if [[ ${any_active} == 1 ]]; then exit 0 fi start_node --wsrep-new-cluster # NOTE(SamYaple): This may take a bit to start up TIMEOUT=60 while :; do get_stats if [[ ${any_active} == 1 ]]; then exit 0 fi let ""TIMEOUT--"" if [[ ${TIMEOUT} -lt 0 ]]; then # NOTE(SamYaple): Unknown state, stop node rm -f ${run_dir}/start touch ${run_dir}/stop return 1 fi sleep 2 done } function bootstrap_running_cluster { sleep ${TTL} get_stats if [[ ${any_active} == 1 ]]; then exit 0 fi rm -f ${run_dir}/online_done touch ${run_dir}/online # NOTE(SamYaple): This should come online almost immediately TIMEOUT=10 while :; do if [[ -f ${run_dir}/online_done ]]; then rm ${run_dir}/online_done fi get_stats if [[ ${any_active} == 1 ]]; then exit 0 fi let ""TIMEOUT--"" if [[ ${TIMEOUT} -lt 0 ]]; then # NOTE(SamYaple): Unknown state, stop node rm -f ${run_dir}/start touch ${run_dir}/stop return 1 fi sleep 2 done } ",,436,27
openstack%2Fopenstack-helm-infra~master~Ic31748d670564b184273f2204f4b1c0b8d335b58,openstack/openstack-helm-infra,master,Ic31748d670564b184273f2204f4b1c0b8d335b58,[WIP] gatey things,ABANDONED,2018-02-28 23:56:50.000000000,2018-07-03 13:25:11.000000000,,"[{'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-28 23:56:50.000000000', 'files': ['tools/gate/playbooks/describe-kubernetes-objects/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e4e448d4ff1fdb7295b03f84492596d1cb31e4d', 'message': '[WIP] gatey things\n\nChange-Id: Ic31748d670564b184273f2204f4b1c0b8d335b58\n'}]",0,548725,0e4e448d4ff1fdb7295b03f84492596d1cb31e4d,4,3,1,14119,,,0,"[WIP] gatey things

Change-Id: Ic31748d670564b184273f2204f4b1c0b8d335b58
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/548725/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/playbooks/describe-kubernetes-objects/tasks/main.yaml'],1,0e4e448d4ff1fdb7295b03f84492596d1cb31e4d,fix_petes_mistakes, export OBJECT_TYPE=(node clusterrole clusterrolebinding storageclass namespace) function name_objects () { local OBJECT=$1 kubectl get ${OBJECT} -o name | cut -d/ -f2- | xargs -I{} -n1 echo ${OBJECT} {} local OBJECT=$1 local NAME=$2 echo ${OBJECT_TYPE[@]} | \ xargs -d' ' -r -n1 -P${PARALLELISM_FACTOR} name_objects | \ xargs -d' ' -r -n2 -P${PARALLELISM_FACTOR} get_objects," export OBJECT_TYPE=node,clusterrole,clusterrolebinding,storageclass,namespace function list_objects () { printf ${OBJECT_TYPE} | xargs -d ',' -I {} -P1 -n1 bash -c 'echo ""$@""' _ {} } export -f list_objects function name_objects () { export OBJECT=$1 kubectl get ${OBJECT} -o name | xargs -L1 -I {} -P1 -n1 bash -c 'echo ""${OBJECT} ${1#*/}""' _ {} input=($1) export OBJECT=${input[0]} export NAME=${input[1]#*/} list_objects | \ xargs -r -n 1 -P ${PARALLELISM_FACTOR} -I {} bash -c 'name_objects ""$@""' _ {} | \ xargs -r -n 1 -P ${PARALLELISM_FACTOR} -I {} bash -c 'get_objects ""$@""' _ {}",8,14
openstack%2Fopenstack-ansible-os_tempest~master~I40af74537c41260323961a278c17fe58350a34b5,openstack/openstack-ansible-os_tempest,master,I40af74537c41260323961a278c17fe58350a34b5,Add Ubuntu Bionic 18.04 support,MERGED,2018-06-17 02:23:21.000000000,2018-07-03 13:19:09.000000000,2018-07-03 13:19:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-17 02:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b5ef529e60360d2bf24b7241737a1a3600abd538', 'message': 'Add Ubuntu Bionic 18.04 support\n\nChange-Id: I40af74537c41260323961a278c17fe58350a34b5\n'}, {'number': 2, 'created': '2018-06-17 03:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a7e84f8bd945c3c419b751d890cf6aae56c0358b', 'message': 'Add Ubuntu Bionic 18.04 support\n\nChange-Id: I40af74537c41260323961a278c17fe58350a34b5\n'}, {'number': 3, 'created': '2018-06-17 04:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/dce60ca5ca881efca507378259bee53d9ab15513', 'message': 'Add Ubuntu Bionic 18.04 support\n\nChange-Id: I40af74537c41260323961a278c17fe58350a34b5\n'}, {'number': 4, 'created': '2018-06-18 19:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/1c0510c1ae5be0ed0f39f91cae9f6bbc06444ec0', 'message': 'Add Ubuntu Bionic 18.04 support\n\nChange-Id: I40af74537c41260323961a278c17fe58350a34b5\n'}, {'number': 5, 'created': '2018-06-28 18:10:17.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/83e6f3045cdf2fb3fd05c3fb318197d902274715', 'message': 'Add Ubuntu Bionic 18.04 support\n\nChange-Id: I40af74537c41260323961a278c17fe58350a34b5\n'}]",1,575956,83e6f3045cdf2fb3fd05c3fb318197d902274715,32,8,5,1004,,,0,"Add Ubuntu Bionic 18.04 support

Change-Id: I40af74537c41260323961a278c17fe58350a34b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/56/575956/5 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,b5ef529e60360d2bf24b7241737a1a3600abd538,osa-pti,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## APT Cache options cache_timeout: 600 tempest_distro_packages: - git-core - libpq-dev - python-glanceclient - python-keystoneclient - python-neutronclient - python-novaclient - rsync tempest_requires_pip_packages: - shade # ubuntu xenial provides a rather old shade library. We need >= 1.9.0 for Rocky - virtualenv - setuptools # Ubuntu's setuptools package does not contain pkg-resources and that's causing troubles ",,31,0
openstack%2Fopenstack-ansible-os_tempest~master~I995d4da20d592e519d990c38f47a5243e9575846,openstack/openstack-ansible-os_tempest,master,I995d4da20d592e519d990c38f47a5243e9575846,Switch to using project-templates,MERGED,2018-06-22 19:38:02.000000000,2018-07-03 13:19:08.000000000,2018-07-03 13:19:07.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-06-22 19:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e0a4b39d3753b236bae11356fdcb03c11d9b61a2', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead.\n\nChange-Id: I995d4da20d592e519d990c38f47a5243e9575846\n'}, {'number': 2, 'created': '2018-06-24 19:11:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d05070bcb057db8ae36e46bdba9a33417d68628f', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead.\n\nDepends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9\nChange-Id: I995d4da20d592e519d990c38f47a5243e9575846\n'}]",0,577528,d05070bcb057db8ae36e46bdba9a33417d68628f,21,5,2,28521,,,0,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Depends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9
Change-Id: I995d4da20d592e519d990c38f47a5243e9575846
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/28/577528/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e0a4b39d3753b236bae11356fdcb03c11d9b61a2,, templates: - openstack-ansible-role-jobs, check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial,2,15
openstack%2Fkuryr-tempest-plugin~master~I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc,openstack/kuryr-tempest-plugin,master,I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc,Sync zuul projects with kuryr-kubernetes,MERGED,2018-07-03 10:54:56.000000000,2018-07-03 13:08:23.000000000,2018-07-03 13:08:23.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 10:54:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1e21c050cc6d7c6259d7ad79aab9762769ebc3f2', 'message': 'Sync zuul projects with kuryr-kubernetes\n\nThis commit syncs the pipeline jobs with the main kuryr-kubernetes\nproject.\n\nChange-Id: I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc\n'}]",0,579841,1e21c050cc6d7c6259d7ad79aab9762769ebc3f2,10,4,1,14885,,,0,"Sync zuul projects with kuryr-kubernetes

This commit syncs the pipeline jobs with the main kuryr-kubernetes
project.

Change-Id: I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/41/579841/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e21c050cc6d7c6259d7ad79aab9762769ebc3f2,sync_zuul_jobs, - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-openshift-octavia - kuryr-kubernetes-tempest-daemon-lbaasv2 - kuryr-kubernetes-tempest-daemon-containerized-octavia - kuryr-kubernetes-tempest-daemon-containerized-ovn - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-lbaasv2 - kuryr-kubernetes-tempest-daemon-containerized-octavia - kuryr-kubernetes-tempest-daemon-containerized-openshift-octavia - kuryr-kubernetes-tempest-daemon-pools-octavia - kuryr-kubernetes-tempest-daemon-containerized-octavia-l2 - kuryr-kubernetes-tempest-daemon-containerized-octavia-namespace - kuryr-kubernetes-tempest-daemon-ovn, - kuryr-kubernetes-tempest-openshift-octavia - kuryr-kubernetes-tempest-openshift-lbaasv2 - kuryr-kubernetes-tempest-ovn - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-lbaasv2 - kuryr-kubernetes-tempest-daemon-openshift-octavia - kuryr-kubernetes-tempest-daemon-openshift-lbaasv2 - kuryr-kubernetes-tempest-multinode-lbaasv2 - kuryr-kubernetes-tempest-lbaasv2-centos-7 - kuryr-kubernetes-tempest-containerized-lbaasv2 - kuryr-kubernetes-tempest-daemon-pools-lbaasv2,13,11
openstack%2Foslo.config~master~Ide3748e67d14191b6b33c97c7d8437e4888e61d5,openstack/oslo.config,master,Ide3748e67d14191b6b33c97c7d8437e4888e61d5,Make List option format bounds-sensitive,MERGED,2018-04-12 02:51:50.000000000,2018-07-03 13:07:36.000000000,2018-04-16 03:04:09.000000000,"[{'_account_id': 2472}, {'_account_id': 9303}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 02:51:50.000000000', 'files': ['oslo_config/tests/test_generator.py', 'oslo_config/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a69701c495947a2bbe618e71e20d6203977a6943', 'message': ""Make List option format bounds-sensitive\n\nThe List ConfigType has a boolean 'bounds' option that indicates\nwhether the value must be enclosed in brackets.  This patch modifies\nthe List formatter so that when bounds=True the output is displayed\nin enclosing brackets.\n\nChange-Id: Ide3748e67d14191b6b33c97c7d8437e4888e61d5\nCloses-bug: #1763239\n""}]",0,560716,a69701c495947a2bbe618e71e20d6203977a6943,14,4,1,5314,,,0,"Make List option format bounds-sensitive

The List ConfigType has a boolean 'bounds' option that indicates
whether the value must be enclosed in brackets.  This patch modifies
the List formatter so that when bounds=True the output is displayed
in enclosing brackets.

Change-Id: Ide3748e67d14191b6b33c97c7d8437e4888e61d5
Closes-bug: #1763239
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/16/560716/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_generator.py', 'oslo_config/types.py']",2,a69701c495947a2bbe618e71e20d6203977a6943,bug/1763239," fmtstr = '[{}]' if self.bounds else '{}' if isinstance(value, six.string_types): return fmtstr.format(value) return fmtstr.format(','.join(value))"," if isinstance(value, six.string_types): return value return ','.join(value)",18,2
openstack%2Fmonasca-api~master~Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90,openstack/monasca-api,master,Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90,Python 3.5: Fix alarms repository,MERGED,2018-06-11 08:17:58.000000000,2018-07-03 13:05:59.000000000,2018-07-03 13:05:59.000000000,"[{'_account_id': 16171}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2018-06-11 08:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/48fcaff0f49c826270c1fbb143a6e273cb7e715d', 'message': 'Python 3.5: Fix alarm repository\n\nFix python3 unit test for alarm reposiotry\n\nChange-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90\n'}, {'number': 2, 'created': '2018-06-11 08:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/79ea98c23583aa3dc41b6eeaa36d2666a7cbcc71', 'message': 'Python 3.5: Fix alarms repository\n\nFix python3 unit test for alarms reposiotry\n\nChange-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90\n'}, {'number': 3, 'created': '2018-06-15 13:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/de0c864ae8d482b0b4d5935002145c4a47b12856', 'message': 'Python 3.5: Fix alarms repository.\n\nFix python3 unit test for alarms reposiotry\n\nChange-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90\n'}, {'number': 4, 'created': '2018-06-21 12:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/401a8d117251ca7f9be7e166dda5724309c86bb1', 'message': 'Python 3.5: Fix alarms repository\n\nFix python3 unit test for alarms reposiotry.\n\nChange-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90\n'}, {'number': 5, 'created': '2018-06-22 09:57:28.000000000', 'files': ['monasca_api/common/repositories/sqla/alarms_repository.py', 'monasca_api/tests/test_a_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dd99ad56a216a2cca0717d54654ca0202c2e6652', 'message': 'Python 3.5: Fix alarms repository\n\nFix python3 unit test for alarms reposiotry.\n\nChange-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90\n'}]",4,574160,dd99ad56a216a2cca0717d54654ca0202c2e6652,22,7,5,26141,,,0,"Python 3.5: Fix alarms repository

Fix python3 unit test for alarms reposiotry.

Change-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/60/574160/4 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/common/repositories/sqla/alarms_repository.py', 'monasca_api/tests/test_a_repository.py']",2,48fcaff0f49c826270c1fbb143a6e273cb7e715d,goal-python35," 'metric_definition_dimensions_id': b'11'}, 'metric_definition_dimensions_id': b'22'}, 'metric_definition_dimensions_id': b'11'}, 'metric_definition_dimensions_id': b'22'}, 'metric_definition_dimensions_id': b'31'}, 'metric_definition_dimensions_id': b'32'}] self.default_mdes = [{'id': b'1', {'id': b'111', {'id': b'112', self.default_mdds = [{'id': b'11', 'metric_definition_id': b'1', 'metric_dimension_set_id': b'1'}, {'id': b'22', 'metric_definition_id': b'1', 'metric_dimension_set_id': b'2'}, {'id': b'31', 'metric_definition_id': b'111', 'metric_dimension_set_id': b'21'}, {'id': b'32', 'metric_definition_id': b'112', 'metric_dimension_set_id': b'22'}] self.default_mds = [{'dimension_set_id': b'1', {'dimension_set_id': b'1', {'dimension_set_id': b'2', {'dimension_set_id': b'21', {'dimension_set_id': b'22', {'dimension_set_id': b'21', {'dimension_set_id': b'22', {'dimension_set_id': b'21', {'dimension_set_id': b'22', {'dimension_set_id': b'22',"," 'metric_definition_dimensions_id': '11'}, 'metric_definition_dimensions_id': '22'}, 'metric_definition_dimensions_id': '11'}, 'metric_definition_dimensions_id': '22'}, 'metric_definition_dimensions_id': '31'}, 'metric_definition_dimensions_id': '32'}] self.default_mdes = [{'id': '1', {'id': '111', {'id': '112', self.default_mdds = [{'id': '11', 'metric_definition_id': '1', 'metric_dimension_set_id': '1'}, {'id': '22', 'metric_definition_id': '1', 'metric_dimension_set_id': '2'}, {'id': '31', 'metric_definition_id': '111', 'metric_dimension_set_id': '21'}, {'id': '32', 'metric_definition_id': '112', 'metric_dimension_set_id': '22'}] self.default_mds = [{'dimension_set_id': '1', {'dimension_set_id': '1', {'dimension_set_id': '2', {'dimension_set_id': '21', {'dimension_set_id': '22', {'dimension_set_id': '21', {'dimension_set_id': '22', {'dimension_set_id': '21', {'dimension_set_id': '22', {'dimension_set_id': '22',",43,36
openstack%2Fmonasca-api~master~I98789e858470eb9ff77413218dc51d76c210be3a,openstack/monasca-api,master,I98789e858470eb9ff77413218dc51d76c210be3a,Python 3.5: Fix alarm definitions repository,MERGED,2018-05-28 08:15:18.000000000,2018-07-03 13:05:58.000000000,2018-07-03 13:05:58.000000000,"[{'_account_id': 14123}, {'_account_id': 16171}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-05-28 08:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/565452ed6834de99961033a2fd5f9ee229bc29b6', 'message': 'Python 3.5: Fix ad repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 2, 'created': '2018-05-29 06:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/88581c506e4f61997e085c463d222531187d515e', 'message': 'Python 3.5: Fix ad repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 3, 'created': '2018-06-04 12:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ec151fbd56921c7d8ec8e7b04d8c72025be474a3', 'message': '[WIP] Python 3.5: Fix ad repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 4, 'created': '2018-06-06 11:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/32cb86612b224840db4382ba8c849ce7abbf3b68', 'message': '[WIP] Python 3.5: Fix ad repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 5, 'created': '2018-06-06 11:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9afe656c969832488448df345d08fee051bcea53', 'message': '[WIP] Python 3.5: Fix alarm definitions repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 6, 'created': '2018-06-08 06:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0e1303cacdbeac5ba8154f4dc62382885cc884d3', 'message': 'Python 3.5: Fix alarm definitions repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 7, 'created': '2018-06-15 13:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/48243bf2e97e7405661043d7ba6eda6f0a61c0e1', 'message': 'Python 3.5: Fix alarm definitions repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 8, 'created': '2018-06-15 13:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/18dfda14e1ddee2e1f0f570ea29e6ebbdf408cf7', 'message': 'Python 3.5: Fix alarm definitions repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}, {'number': 9, 'created': '2018-06-21 10:49:18.000000000', 'files': ['monasca_api/common/repositories/sqla/alarm_definitions_repository.py', 'monasca_api/common/repositories/model/sub_alarm_definition.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b7c9b7ae6d86853363bd72299fcbb043e97b192d', 'message': 'Python 3.5: Fix alarm definitions repository\n\nChange-Id: I98789e858470eb9ff77413218dc51d76c210be3a\n'}]",6,570743,b7c9b7ae6d86853363bd72299fcbb043e97b192d,46,7,9,26141,,,0,"Python 3.5: Fix alarm definitions repository

Change-Id: I98789e858470eb9ff77413218dc51d76c210be3a
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/43/570743/8 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/common/repositories/sqla/alarm_definitions_repository.py', 'monasca_api/common/repositories/model/sub_alarm_definition.py']",2,565452ed6834de99961033a2fd5f9ee229bc29b6,goal-python35,from builtins import str as text self.function = text(sub_expr.normalized_func), self.function = sub_expr.normalized_func.decode('utf8'),26,23
openstack%2Fpython-mistralclient~stable%2Fpike~Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2,openstack/python-mistralclient,stable/pike,Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2,Make python3 basepython for docs job,ABANDONED,2018-06-29 14:43:34.000000000,2018-07-03 13:00:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-29 14:43:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/80567b05ab0407c2be781dda058bb306aa8becfe', 'message': 'Make python3 basepython for docs job\n\nChange-Id: Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2\n'}]",0,579179,80567b05ab0407c2be781dda058bb306aa8becfe,3,1,1,7065,,,0,"Make python3 basepython for docs job

Change-Id: Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/79/579179/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,80567b05ab0407c2be781dda058bb306aa8becfe,bug/1769491-stable/pike,basepython=python3,,1,0
openstack%2Fopenstack-helm~master~I28bd9e2c2ebc22ca9c4319970c657298281e28d2,openstack/openstack-helm,master,I28bd9e2c2ebc22ca9c4319970c657298281e28d2,Gate: Update armada manifests to delete all release jobs on upgrade,MERGED,2018-07-02 11:21:43.000000000,2018-07-03 12:57:43.000000000,2018-07-03 12:57:43.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-07-02 11:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a2332a31758900aa481c9a9387cd251e9319110', 'message': 'Gate: Update armada manifests to delete all release jobs on upgrade\n\nThis PS updates the armada manifests to delete all jobs for a release\nvia the `release_group` label. It also extends this to cover charts that\ndo not currently have jobs contained, to allow simple future expansion\nof services.\n\nChange-Id: I28bd9e2c2ebc22ca9c4319970c657298281e28d2\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-07-03 09:22:38.000000000', 'files': ['tools/deployment/armada/multinode/armada-cluster-ingress.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/armada/multinode/armada-ceph.yaml', 'tools/deployment/armada/multinode/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2434c26bd48f9f5ffc3e17848fe539dd3c77f46', 'message': 'Gate: Update armada manifests to delete all release jobs on upgrade\n\nThis PS updates the armada manifests to delete all jobs for a release\nvia the `release_group` label. It also extends this to cover charts that\ndo not currently have jobs contained, to allow simple future expansion\nof services.\n\nChange-Id: I28bd9e2c2ebc22ca9c4319970c657298281e28d2\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,579519,d2434c26bd48f9f5ffc3e17848fe539dd3c77f46,10,6,2,23928,,,0,"Gate: Update armada manifests to delete all release jobs on upgrade

This PS updates the armada manifests to delete all jobs for a release
via the `release_group` label. It also extends this to cover charts that
do not currently have jobs contained, to allow simple future expansion
of services.

Change-Id: I28bd9e2c2ebc22ca9c4319970c657298281e28d2
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/579519/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/armada/multinode/armada-cluster-ingress.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/armada/multinode/armada-ceph.yaml', 'tools/deployment/armada/multinode/armada-lma.yaml']",4,2a2332a31758900aa481c9a9387cd251e9319110,glance/swift, pre: delete: - type: job labels: release_group: osh-infra-osh-infra-ingress-controller release_group: osh-infra-osh-infra-ceph-config no_hooks: False pre: delete: - type: job labels: release_group: osh-infra-osh-infra-ldap pre: delete: - type: job labels: release_group: osh-infra-osh-infra-mariadb pre: delete: - type: job labels: release_group: osh-infra-elasticsearch pre: delete: - type: job labels: release_group: osh-infra-fluent-logging pre: delete: - type: job labels: release_group: osh-infra-kibana pre: delete: - type: job labels: release_group: osh-infra-prometheus pre: delete: - type: job labels: release_group: osh-infra-prometheus-kube-state-metrics pre: delete: - type: job labels: release_group: osh-infra-prometheus-node-exporter pre: delete: - type: job labels: release_group: osh-infra-prometheus-alertmanager pre: delete: - type: job labels: release_group: osh-infra-grafana, application: ceph component: client-key-generator - type: job labels: application: ceph component: client-key-cleaner no_hooks: false,137,167
openstack%2Fmanila-specs~master~I0690e900cb354727b786032fc456eed25a72c3b8,openstack/manila-specs,master,I0690e900cb354727b786032fc456eed25a72c3b8,fix tox python3 overrides,MERGED,2018-07-03 07:49:39.000000000,2018-07-03 12:50:49.000000000,2018-07-03 12:50:49.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 14567}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 07:49:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/95cbd02299712ff5ea7b4d27df87243dd9747872', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0690e900cb354727b786032fc456eed25a72c3b8\n'}]",0,579798,95cbd02299712ff5ea7b4d27df87243dd9747872,7,5,1,19853,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0690e900cb354727b786032fc456eed25a72c3b8
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/98/579798/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,95cbd02299712ff5ea7b4d27df87243dd9747872,python3-first,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fkolla-ansible~master~I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece,openstack/kolla-ansible,master,I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece,Fix default value logic of 'glance_backend_file' variable,MERGED,2018-05-11 15:06:20.000000000,2018-07-03 12:44:33.000000000,2018-07-03 12:44:33.000000000,"[{'_account_id': 1390}, {'_account_id': 9820}, {'_account_id': 13671}, {'_account_id': 14151}, {'_account_id': 16704}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 15:06:20.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bfb7897903a495a98a6aa59ae1149964e9c0e20', 'message': ""Fix default value logic of 'glance_backend_file' variable\n\nglance_backend_file should be set to 'yes' if no other backends\nare enabled. In all-Ceph clusters the best choice of backend is\nCeph. In non-Ceph clusters if Swift is enabled the latter is the\nnext best choice for Glance. With this fix default backend is\nconfigured automatically and helps avoid non-ha file backend\nissues after deployment.\n\nChange-Id: I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece\nCloses-Bug: #1770660\n""}]",0,567873,8bfb7897903a495a98a6aa59ae1149964e9c0e20,13,8,1,13671,,,0,"Fix default value logic of 'glance_backend_file' variable

glance_backend_file should be set to 'yes' if no other backends
are enabled. In all-Ceph clusters the best choice of backend is
Ceph. In non-Ceph clusters if Swift is enabled the latter is the
next best choice for Glance. With this fix default backend is
configured automatically and helps avoid non-ha file backend
issues after deployment.

Change-Id: I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece
Closes-Bug: #1770660
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/567873/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,8bfb7897903a495a98a6aa59ae1149964e9c0e20,bug/1770660,"glance_backend_file: ""{{ not (glance_backend_ceph | bool or glance_backend_swift | bool or glance_backend_vmware | bool) }}""# ceph backend has priority over swift in all-ceph clusters glance_backend_swift: ""{{ not (enable_ceph | bool) and enable_swift | bool }}""","glance_backend_file: ""{{ not glance_backend_ceph | bool }}""glance_backend_swift: ""no""",3,2
openstack%2Ftripleo-common~master~Id82de41e7a49c2d8124fc74125ed51031579aa80,openstack/tripleo-common,master,Id82de41e7a49c2d8124fc74125ed51031579aa80,Allow platform in instackenv.json,MERGED,2018-01-19 06:07:59.000000000,2018-07-03 12:37:49.000000000,2018-07-03 12:37:48.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 12898}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26553}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-01-19 06:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4fd697517bfdbc74dd8143bb182cbdbdb9177a77', 'message': ""Allow platform in instackenv.json\n\nWe'll store that as /extra/tripleo_platform so we can later refer to it.\n\nBlueprint: multiarch-support\nChange-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80\n""}, {'number': 2, 'created': '2018-01-25 07:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a41ec37ee0f8fb73860be8c2d9292e9c0fe6439', 'message': ""Allow platform in instackenv.json\n\nWe'll store that as /extra/tripleo_platform so we can later refer to it.\n\nBlueprint: multiarch-support\nChange-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80\n""}, {'number': 3, 'created': '2018-06-29 03:56:09.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/89cefb9ef4d09a867931dbadb37362b6c6adb436', 'message': ""Allow platform in instackenv.json\n\nWe'll store that as /extra/tripleo_platform so we can later refer to it.\n\nBlueprint: multiarch-support\nChange-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80\n""}]",10,535614,89cefb9ef4d09a867931dbadb37362b6c6adb436,27,9,3,12898,,,0,"Allow platform in instackenv.json

We'll store that as /extra/tripleo_platform so we can later refer to it.

Blueprint: multiarch-support
Change-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/535614/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,4fd697517bfdbc74dd8143bb182cbdbdb9177a77,bp/multiarch-support," mapping = {'tripleo_platform': 'platform'} extra = {k: six.text_type(node.get(v)) for k, v in mapping.items() if node.get(v) is not None} if extra: create_map[""extra""] = extra 'platform': '/extra/tripleo_platform', if node.get('platform') and not node.get('arch'): failures.append( (index, 'You have specified a platform without an architecture')) ",,66,0
openstack%2Ftripleo-common~master~I6c72b03512a0815326a1b62bc88231b17340c45f,openstack/tripleo-common,master,I6c72b03512a0815326a1b62bc88231b17340c45f,IPMI doesn't mandate a username or password so tripleo shouldn't either,MERGED,2017-09-08 03:32:36.000000000,2018-07-03 12:37:47.000000000,2018-07-03 12:37:47.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 12898}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26340}, {'_account_id': 28223}]","[{'number': 1, 'created': '2017-09-08 03:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/112ffb8502b45e936003fac85ad000e1bd22497d', 'message': ""IPMI doesn't mandate a username so tripleo shouldn't either\n\nGive driver types a little more flexibility in defining which fields are\nmandated.\n\nBlueprint: multiarch-support\nRelated-Bug: 1715787\nChange-Id: I6c72b03512a0815326a1b62bc88231b17340c45f\n""}, {'number': 2, 'created': '2017-12-18 03:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a98acff3f571e2dbd818c0001f854f0ac1f9106', 'message': ""IPMI doesn't mandate a username or password so tripleo shouldn't either\n\nGive driver types a little more flexibility in defining which fields are\nmandated.\n\nBlueprint: multiarch-support\nRelated-Bug: 1715787\nChange-Id: I6c72b03512a0815326a1b62bc88231b17340c45f\n""}, {'number': 3, 'created': '2018-01-19 06:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/725298d95d1c3130b14c9eb6fc2840d1aa07ca53', 'message': ""IPMI doesn't mandate a username or password so tripleo shouldn't either\n\nGive driver types a little more flexibility in defining which fields are\nmandated.\n\nBlueprint: multiarch-support\nRelated-Bug: 1715787\nChange-Id: I6c72b03512a0815326a1b62bc88231b17340c45f\n""}, {'number': 4, 'created': '2018-01-25 07:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff13781d1fd370196f0fc5b345efd4becc9f0126', 'message': ""IPMI doesn't mandate a username or password so tripleo shouldn't either\n\nGive driver types a little more flexibility in defining which fields are\nmandated.\n\nBlueprint: multiarch-support\nRelated-Bug: 1715787\nChange-Id: I6c72b03512a0815326a1b62bc88231b17340c45f\n""}, {'number': 5, 'created': '2018-06-29 03:56:09.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca290cf4afcfcabd3e678fdba9e0099cc477739d', 'message': ""IPMI doesn't mandate a username or password so tripleo shouldn't either\n\nGive driver types a little more flexibility in defining which fields are\nmandated.\n\nBlueprint: multiarch-support\nRelated-Bug: 1715787\nChange-Id: I6c72b03512a0815326a1b62bc88231b17340c45f\n""}]",14,501937,ca290cf4afcfcabd3e678fdba9e0099cc477739d,41,10,5,12898,,,0,"IPMI doesn't mandate a username or password so tripleo shouldn't either

Give driver types a little more flexibility in defining which fields are
mandated.

Blueprint: multiarch-support
Related-Bug: 1715787
Change-Id: I6c72b03512a0815326a1b62bc88231b17340c45f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/501937/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal.py', 'tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",3,112ffb8502b45e936003fac85ad000e1bd22497d,bp/multiarch-support," default_port=None, mandatory_fields=None): _mandatory_fields = mandatory_fields or list(mapping) mandatory_fields=_mandatory_fields, default_port=623, mandatory_fields=['pm_password', 'pm_addr', ] ),"," default_port=None): mandatory_fields = list(mapping) mandatory_fields=mandatory_fields, default_port=623),",21,5
openstack%2Ftripleo-heat-templates~master~I2561a35c54e0137f5420de4403e5e20dd08afd28,openstack/tripleo-heat-templates,master,I2561a35c54e0137f5420de4403e5e20dd08afd28,Fix gnocchi auth mode to basic,MERGED,2018-06-18 19:49:49.000000000,2018-07-03 12:37:46.000000000,2018-07-03 12:37:46.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-18 19:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d8b9645eac51a79b32e66e4397f61e2b6953d35', 'message': 'Fix gnocchi auth mode to basic\n\nThere is no auth mode called simple. Fix the mode to\nbasic so it gets set corretcly when configured in\ncollectd.\n\nChange-Id: I2561a35c54e0137f5420de4403e5e20dd08afd28\n'}, {'number': 2, 'created': '2018-06-19 11:48:45.000000000', 'files': ['puppet/services/metrics/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddcca3c64be7ea9d946a8bb3994f38c89a8586b8', 'message': 'Fix gnocchi auth mode to basic\n\nThere is no auth mode called simple. Fix the mode to\nbasic so it gets set corretcly when configured in\ncollectd.\n\nDepends-On: I05632137ed12c59a41a5219189c431983935d461\n\nChange-Id: I2561a35c54e0137f5420de4403e5e20dd08afd28\n'}]",0,576242,ddcca3c64be7ea9d946a8bb3994f38c89a8586b8,16,8,2,6924,,,0,"Fix gnocchi auth mode to basic

There is no auth mode called simple. Fix the mode to
basic so it gets set corretcly when configured in
collectd.

Depends-On: I05632137ed12c59a41a5219189c431983935d461

Change-Id: I2561a35c54e0137f5420de4403e5e20dd08afd28
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/576242/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/metrics/collectd.yaml'],1,9d8b9645eac51a79b32e66e4397f61e2b6953d35,gnocchi-auth," 'basic' and 'keystone'. gnocchi_auth_basic: equals: [{get_param: CollectdGnocchiAuthMode}, 'basic'] - gnocchi_auth_basic # use basic auth or keystone auth?"," 'simple' and 'keystone'. gnocchi_auth_simple: equals: [{get_param: CollectdGnocchiAuthMode}, 'simple'] - gnocchi_auth_simple # use simple auth or keystone auth?",4,4
openstack%2Fpython-tripleoclient~master~Ia34f6da6006b1fc9b8075865ec4a666e86a32095,openstack/python-tripleoclient,master,Ia34f6da6006b1fc9b8075865ec4a666e86a32095,Drop example in config file comments,MERGED,2018-06-26 19:02:45.000000000,2018-07-03 12:37:45.000000000,2018-07-03 12:37:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-26 19:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/583d73654a349af22fb3d4ce02215a59c17d82ea', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: Ia34f6da6006b1fc9b8075865ec4a666e86a32095\n'}, {'number': 2, 'created': '2018-06-29 09:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dfcc41597a0b29cde403b5118b549809af7464af', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: Ia34f6da6006b1fc9b8075865ec4a666e86a32095\n'}, {'number': 3, 'created': '2018-06-29 10:06:15.000000000', 'files': ['tripleoclient/config/undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4701f8b68447af3be8bb75a393cf753349b476c', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: Ia34f6da6006b1fc9b8075865ec4a666e86a32095\n'}]",0,578172,c4701f8b68447af3be8bb75a393cf753349b476c,13,6,3,24245,,,0,"Drop example in config file comments

There have been some reports of users misinterpreting
where to place configuration for the provisining subnets
in undercloud.conf. The example text for the subnets leads
to users adding the subnets section directly after the
subnets option. I.e in the middle of the DEFAULT section
of the ini file.

This change drops the example. The ctlplane-subnet section
is there as an example already.

Related-Bug: rhbz1585497
Related-Bug: #1778779
Change-Id: Ia34f6da6006b1fc9b8075865ec4a666e86a32095
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/578172/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/undercloud.py'],1,583d73654a349af22fb3d4ce02215a59c17d82ea,bug/1778779," 'cidr, dhcp_start, dhcp_end, inspection_iprange, ' 'gateway and masquerade_network.')),"," 'cidr, dhcp_start, dhcp_end, ' 'inspection_iprange, gateway and ' 'masquerade_network.' '\n\n' 'Example:\n\n' 'subnets = subnet1,subnet2\n' '\n' 'An example section/group in config file:\n' '\n' '[subnet1]\n' 'cidr = 192.168.10.0/24\n' 'dhcp_start = 192.168.10.100\n' 'dhcp_end = 192.168.10.200\n' 'inspection_iprange = 192.168.10.20,' '192.168.10.90\n' 'gateway = 192.168.10.254\n' 'masquerade = True' '\n' '[subnet2]\n' '. . .\n')),",2,20
openstack%2Fkolla-ansible~master~Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9,openstack/kolla-ansible,master,Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9,fix freezer prechecks,MERGED,2018-06-24 09:59:36.000000000,2018-07-03 12:37:06.000000000,2018-07-03 12:37:06.000000000,"[{'_account_id': 9414}, {'_account_id': 9820}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-24 09:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f44107bf3f8924adfdec4d2a6f80a92b43179ac1', 'message': 'fix freezer prechecks\n\nthe value of  {{ freezer_services.keys() }} is freezer-api and freezer-scheduler\nbut we just need freezer_api,not freezer-api\n\nChange-Id: Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9\n'}, {'number': 2, 'created': '2018-06-24 11:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6be1b730ba4ec41fa718f021b09c694c007bb73c', 'message': 'fix freezer prechecks\n\nthe value of  {{ freezer_services.keys() }} is freezer-api and \nfreezer-scheduler ,but we just need freezer_api,not freezer-api\n\nChange-Id: Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9\n'}, {'number': 3, 'created': '2018-06-24 11:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/35036250fa50629b089755932081f8dc2fe0ba52', 'message': 'fix freezer prechecks\n\nthe value of  {{ freezer_services.keys() }} is freezer-api and\nfreezer-scheduler ,but we just need freezer_api,not freezer-api\n\nChange-Id: Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9\n'}, {'number': 4, 'created': '2018-06-24 11:23:42.000000000', 'files': ['ansible/roles/freezer/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b42508ff43fe03ac2059d692eeb706ef754b9e0f', 'message': 'fix freezer prechecks\n\nthe value of {{ freezer_services.keys() }} is freezer-api and\nfreezer-scheduler ,but we just need freezer_api,not freezer-api and\nfreezer-scheduler\n\nChange-Id: Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9\n'}]",4,577642,b42508ff43fe03ac2059d692eeb706ef754b9e0f,20,9,4,26285,,,0,"fix freezer prechecks

the value of {{ freezer_services.keys() }} is freezer-api and
freezer-scheduler ,but we just need freezer_api,not freezer-api and
freezer-scheduler

Change-Id: Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/577642/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/freezer/tasks/precheck.yml'],1,f44107bf3f8924adfdec4d2a6f80a92b43179ac1,fix_prechecks, name: - freezer_api," name: ""{{ freezer_services.keys() }}""",2,1
openstack%2Fkolla-ansible~master~I5983f9c7fd3859d60741dfd23ad10dfd91872eeb,openstack/kolla-ansible,master,I5983f9c7fd3859d60741dfd23ad10dfd91872eeb,fixed destroy confirmation no properly evaluated,MERGED,2018-06-23 05:55:38.000000000,2018-07-03 12:36:56.000000000,2018-07-03 12:36:56.000000000,"[{'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 22811}, {'_account_id': 24330}, {'_account_id': 26355}, {'_account_id': 27781}, {'_account_id': 28217}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-23 05:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52f3ce6f2227a8cb2abd5994089ee50e9660e99e', 'message': 'fixed destroy confirmation no properly evaluated\n\nTo destroy a kolla-ansible environment a confirmation string should be passed\nalong with kolla-ansible command: kolla-ansible destroy -i ~/multinode \\\n--yes-i-really-really-mean-it\nHowever, this string is not evaluated right and just putting --y starts destroy\nprocess: ./kolla-ansible destroy -i ~/multinode --y\n\nChange-Id: I5983f9c7fd3859d60741dfd23ad10dfd91872eeb\nCloses-Bug: #1701313\n'}, {'number': 2, 'created': '2018-06-23 06:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ba983f906c14df951f3a5b3da7126144b28a18b', 'message': 'fixed destroy confirmation no properly evaluated\n\nTo destroy a kolla-ansible environment a confirmation string should be\npassed along with kolla-ansible command: kolla-ansible destroy -i \\\n~/multinode --yes-i-really-really-mean-it\nHowever, this string is not evaluated right and just putting --y\nstarts destroy process.\n\nChange-Id: I5983f9c7fd3859d60741dfd23ad10dfd91872eeb\nCloses-Bug: #1701313\n'}, {'number': 3, 'created': '2018-06-25 08:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/961a1d1d03c6cae36f6d2630cb186a8d7346f973', 'message': 'fixed destroy confirmation no properly evaluated\n\nTo destroy a kolla-ansible environment a confirmation string should be\npassed along with kolla-ansible command: kolla-ansible destroy -i \\\n~/multinode --yes-i-really-really-mean-it\nHowever, this string is not evaluated right and just putting --y\nstarts destroy process.\n\nChange-Id: I5983f9c7fd3859d60741dfd23ad10dfd91872eeb\nCloses-Bug: #1701313\n'}, {'number': 4, 'created': '2018-07-02 06:09:16.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f156691ce1da72218c666c32f01607d8a55b07b', 'message': 'fixed destroy confirmation no properly evaluated\n\nTo destroy a kolla-ansible environment a confirmation string should be passed\nalong with kolla-ansible command: kolla-ansible destroy -i ~/multinode \\\n--yes-i-really-really-mean-it\nHowever, this string is not evaluated right and just putting --y starts destroy\nprocess: ./kolla-ansible destroy -i ~/multinode --y\n\nChange-Id: I5983f9c7fd3859d60741dfd23ad10dfd91872eeb\nCloses-Bug: #1701313\n'}]",5,577609,8f156691ce1da72218c666c32f01607d8a55b07b,21,12,4,26355,,,0,"fixed destroy confirmation no properly evaluated

To destroy a kolla-ansible environment a confirmation string should be passed
along with kolla-ansible command: kolla-ansible destroy -i ~/multinode \
--yes-i-really-really-mean-it
However, this string is not evaluated right and just putting --y starts destroy
process: ./kolla-ansible destroy -i ~/multinode --y

Change-Id: I5983f9c7fd3859d60741dfd23ad10dfd91872eeb
Closes-Bug: #1701313
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/577609/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,52f3ce6f2227a8cb2abd5994089ee50e9660e99e,bug/1701313," PRE_ARGS=""$*"" if [[ ${PRE_ARGS} =~ ""$1"" ]] then DANGER_CONFIRM=""$1"" fi"," DANGER_CONFIRM=""$1""",6,1
openstack%2Fpython-tripleoclient~master~I5fd6f57d8107e3c84933d0c7bf356c46011de019,openstack/python-tripleoclient,master,I5fd6f57d8107e3c84933d0c7bf356c46011de019,Reduce number of mock in tests,MERGED,2018-06-28 10:00:02.000000000,2018-07-03 12:36:31.000000000,2018-07-03 12:36:31.000000000,"[{'_account_id': 9712}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 10:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/affdd8e25c9ba753469f5a4d6029153384d23dce', 'message': 'Reduce number of mock in tests\n\nMove mocks into setUp part of the code\n\nChange-Id: I5fd6f57d8107e3c84933d0c7bf356c46011de019\nPartial-Bug: 1619350\n'}, {'number': 2, 'created': '2018-06-29 09:32:11.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7df59bcab44d030dc557cc5a10d4d7eda5c49c99', 'message': 'Reduce number of mock in tests\n\nMove mocks into setUp part of the code\n\nChange-Id: I5fd6f57d8107e3c84933d0c7bf356c46011de019\nPartial-Bug: 1619350\n'}]",0,578751,7df59bcab44d030dc557cc5a10d4d7eda5c49c99,12,5,2,11082,,,0,"Reduce number of mock in tests

Move mocks into setUp part of the code

Change-Id: I5fd6f57d8107e3c84933d0c7bf356c46011de019
Partial-Bug: 1619350
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/578751/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py'],1,affdd8e25c9ba753469f5a4d6029153384d23dce,bug/1619350," self.uuid1_value = ""uuid"" mock_uuid1 = mock.patch('uuid.uuid1', return_value=self.uuid1_value, autospec=True) mock_uuid1.start() self.addCleanup(mock_uuid1.stop) mock_uuid4 = mock.patch('uuid.uuid4', return_calue='uuid4', autospec=True) mock_uuid4.start() self.addCleanup(mock_uuid4.stop) # Mock time to get predicdtable DeployIdentifiers self.time_value = 12345678 mock_time = mock.patch('time.time', return_value=self.time_value, autospec=True) mock_time.start() self.addCleanup(mock_time.stop) # Mock copytree to avoid creating temporary templates mock_copytree = mock.patch('shutil.copytree', autospec=True) mock_copytree.start() self.addCleanup(mock_copytree.stop) # Mock sleep to reduce time of test mock_sleep = mock.patch('time.sleep', autospec=True) mock_sleep.start() self.addCleanup(mock_sleep.stop) def test_tht_scale(self, mock_get_template_contents, 'CephClusterFSID': self.uuid1_value, 'DeployIdentifier': self.time_value, def test_tht_deploy(self, mock_tmpdir, self, mock_tmpdir, mock_get_template_contents, wait_for_stack_ready_mock, 'CephClusterFSID': self.uuid1_value, 'DeployIdentifier': self.time_value, self, mock_tmpdir, mock_rm, def test_deploy_custom_templates(self, mock_get_template_contents, def test_environment_dirs(self, mock_deploy_heat, def test_environment_dirs_env(self, mock_deploy_heat, def test_environment_dirs_env_files_not_found(self, mock_deploy_heat, def test_environment_dirs_env_dir_not_found(self, mock_deploy_heat, def test_rhel_reg_params_provided(self, mock_deploy_tht, def test_deploy_rhel_reg(self, mock_rmtree, mock_tmpdir, def test_answers_file(self, mock_rmtree, mock_tmpdir, def test_ntp_server_mandatory(self, mock_get_template_contents, def test_tht_deploy_with_ntp(self, mock_get_template_contents, 'CephClusterFSID': self.uuid1_value, 'DeployIdentifier': self.time_value,"," @mock.patch('uuid.uuid1', autospec=True) @mock.patch('time.sleep', autospec=True) @mock.patch('time.time', autospec=True) @mock.patch('shutil.copytree', autospec=True) def test_tht_scale(self, mock_copy, mock_time, mock_sleep, mock_uuid1, mock_get_template_contents, mock_uuid1.return_value = ""uuid"" mock_time.return_value = 123456789 'CephClusterFSID': 'uuid', 'DeployIdentifier': 123456789, @mock.patch('uuid.uuid1', autospec=True) @mock.patch('uuid.uuid4', autospec=True) @mock.patch('time.sleep', autospec=True) @mock.patch('time.time', autospec=True) @mock.patch('shutil.copytree', autospec=True) def test_tht_deploy(self, mock_tmpdir, mock_copy, mock_time, mock_sleep, mock_uuid4, mock_uuid1, mock_uuid1.return_value = ""uuid"" mock_uuid4.return_value = ""uuid4"" mock_time.return_value = 123456789 @mock.patch('uuid.uuid1', autospec=True) @mock.patch('time.time', autospec=True) @mock.patch('time.sleep', autospec=True) @mock.patch('shutil.copytree', autospec=True) self, mock_tmpdir, mock_copy, mock_time, mock_sleep, mock_uuid1, mock_get_template_contents, wait_for_stack_ready_mock, mock_uuid1.return_value = ""uuid"" mock_time.return_value = 123456789 'CephClusterFSID': 'uuid', 'DeployIdentifier': 123456789, @mock.patch('uuid.uuid1', autospec=True) @mock.patch('time.sleep', autospec=True) @mock.patch('time.time', autospec=True) @mock.patch('shutil.copytree', autospec=True) self, mock_tmpdir, mock_copy, mock_rm, mock_time, mock_sleep, mock_uuid1, mock_uuid1.return_value = ""uuid"" mock_time.return_value = 123456789 @mock.patch('shutil.copytree', autospec=True) @mock.patch('time.sleep', autospec=True) def test_deploy_custom_templates(self, mock_sleep, mock_copy, mock_get_template_contents, @mock.patch('shutil.copytree', autospec=True) def test_environment_dirs(self, mock_copy, mock_deploy_heat, @mock.patch('shutil.copytree', autospec=True) def test_environment_dirs_env(self, mock_copy, mock_deploy_heat, @mock.patch('shutil.copytree', autospec=True) def test_environment_dirs_env_files_not_found(self, mock_copy, mock_deploy_heat, @mock.patch('shutil.copytree', autospec=True) def test_environment_dirs_env_dir_not_found(self, mock_copy, mock_deploy_heat, @mock.patch('shutil.copytree', autospec=True) def test_rhel_reg_params_provided(self, mock_copytree, mock_deploy_tht, @mock.patch('shutil.copytree', autospec=True) @mock.patch('time.sleep', autospec=True) @mock.patch('time.time', autospec=True) @mock.patch('uuid.uuid4', autospec=True) def test_deploy_rhel_reg(self, mock_uuid4, mock_time, mock_sleep, mock_rmtree, mock_tmpdir, mock_copy, mock_uuid4.return_value = 'uuid4' mock_time.return_value = 123456 @mock.patch('shutil.copytree', autospec=True) @mock.patch('time.sleep', autospec=True) def test_answers_file(self, mock_sleep, mock_rmtree, mock_tmpdir, mock_copy, @mock.patch('shutil.copytree', autospec=True) def test_ntp_server_mandatory(self, mock_copy, mock_get_template_contents, @mock.patch('uuid.uuid1', autospec=True) @mock.patch('time.sleep', autospec=True) @mock.patch('time.time', autospec=True) @mock.patch('shutil.copytree', autospec=True) def test_tht_deploy_with_ntp(self, mock_copy, mock_time, mock_sleep, mock_uuid1, mock_get_template_contents, mock_uuid1.return_value = ""uuid"" mock_time.return_value = 123456789 'CephClusterFSID': 'uuid', 'DeployIdentifier': 123456789,",50,86
openstack%2Ftripleo-quickstart~master~I74c03ecaedaa8847c585814acf6249722b508dff,openstack/tripleo-quickstart,master,I74c03ecaedaa8847c585814acf6249722b508dff,allow tq req to be installed w/o cache,MERGED,2018-07-01 16:38:18.000000000,2018-07-03 12:36:30.000000000,2018-07-03 12:36:30.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-07-01 16:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/21d634e362c41935683fbdb4a25973adeede8c78', 'message': 'allow tq req to be installed w/o cache\n\nWhen the user specifies --clean the pip\ncache dir should not be used.\n\nChange-Id: I74c03ecaedaa8847c585814acf6249722b508dff\n'}, {'number': 2, 'created': '2018-07-02 15:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/67bf8b7ac92ac8e6a37ca354621eca80a41c99c7', 'message': 'allow tq req to be installed w/o cache\n\nWhen the user specifies --clean the pip\ncache dir should not be used.\n\nChange-Id: I74c03ecaedaa8847c585814acf6249722b508dff\n'}, {'number': 3, 'created': '2018-07-02 15:18:20.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/df55d3908d053b5b3a33d0dfa22ed7cbe65ea1b6', 'message': 'allow tq req to be installed w/o cache\n\nWhen the user specifies --clean the pip\ncache dir should not be used.\n\nRelated-Bug: #1777896\nChange-Id: I74c03ecaedaa8847c585814acf6249722b508dff\n'}]",0,579381,df55d3908d053b5b3a33d0dfa22ed7cbe65ea1b6,17,7,3,9592,,,0,"allow tq req to be installed w/o cache

When the user specifies --clean the pip
cache dir should not be used.

Related-Bug: #1777896
Change-Id: I74c03ecaedaa8847c585814acf6249722b508dff
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/81/579381/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,21d634e362c41935683fbdb4a25973adeede8c78,I74c03ecaedaa8847c585814acf6249722b508dff," if [ $OPT_CLEAN == 1 ]; then pip install --no-cache-dir --force-reinstall ""${OPT_REQARGS[@]}"" || { echo 'python setup.py install failed' ; exit 1; } else pip install --force-reinstall ""${OPT_REQARGS[@]}"" || { echo 'python setup.py install failed' ; exit 1; } fi if [ $OPT_CLEAN == 1 ]; then pip install --no-cache-dir --force-reinstall . else pip install --force-reinstall . fi exit"," pip install --force-reinstall ""${OPT_REQARGS[@]}"" || { echo 'python setup.py install failed' ; exit 1; } pip install .",11,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I575c0d438a65ce24ee6cb75fec1b95a418e875b1,openstack/tripleo-heat-templates,stable/queens,I575c0d438a65ce24ee6cb75fec1b95a418e875b1,Prevent Neutron L3 and Metadata agents from running when using OVN DVR.,MERGED,2018-07-02 14:37:18.000000000,2018-07-03 12:36:28.000000000,2018-07-03 12:36:28.000000000,"[{'_account_id': 10237}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 26359}]","[{'number': 1, 'created': '2018-07-02 14:37:18.000000000', 'files': ['environments/neutron-ml2-ovn-dvr-ha.yaml', 'environments/services-docker/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/services-docker/neutron-ovn-dvr.yaml', 'environments/services/neutron-ovn-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dcd4af21e893990338524c6f934f4ae712acc95', 'message': 'Prevent Neutron L3 and Metadata agents from running when using OVN DVR.\n\nWhen using the DVR OVN environments, Neutron metadata and L3 agents could\nbe left running on the overcloud compute nodes. This patch explicitly\nnullifies the DVR versions of those Heat resources to ensure they are\ndisabled.\n\nCloses-Bug: #1779701\nChange-Id: I575c0d438a65ce24ee6cb75fec1b95a418e875b1\n(cherry picked from commit cfe872ed4f889b6e891c7250cd394c25efb8ef27)\n'}]",0,579576,2dcd4af21e893990338524c6f934f4ae712acc95,9,5,1,23804,,,0,"Prevent Neutron L3 and Metadata agents from running when using OVN DVR.

When using the DVR OVN environments, Neutron metadata and L3 agents could
be left running on the overcloud compute nodes. This patch explicitly
nullifies the DVR versions of those Heat resources to ensure they are
disabled.

Closes-Bug: #1779701
Change-Id: I575c0d438a65ce24ee6cb75fec1b95a418e875b1
(cherry picked from commit cfe872ed4f889b6e891c7250cd394c25efb8ef27)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/579576/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-ovn-dvr-ha.yaml', 'environments/services-docker/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/services-docker/neutron-ovn-dvr.yaml', 'environments/services/neutron-ovn-dvr.yaml']",6,2dcd4af21e893990338524c6f934f4ae712acc95,bug/1779701, OS::TripleO::Services::ComputeNeutronL3Agent: OS::Heat::None OS::TripleO::Services::ComputeNeutronMetadataAgent: OS::Heat::None,,12,0
openstack%2Fkolla-ansible~master~I22b79a30f01c90a92ecc0974886edf3791518f2f,openstack/kolla-ansible,master,I22b79a30f01c90a92ecc0974886edf3791518f2f,Create and use keystone_admin[project|user],MERGED,2018-03-07 19:40:46.000000000,2018-07-03 12:26:38.000000000,2018-07-03 12:26:38.000000000,"[{'_account_id': 6488}, {'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 9820}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24441}, {'_account_id': 27781}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-07 19:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e6c921c6a7946f6e44ca190271d8aad5688e093', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 2, 'created': '2018-03-16 21:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d380e40e110cab31072ce92a93e191edaab40253', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 3, 'created': '2018-03-16 21:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24552a4c969135706c4d85cd09c13f3ee9d5622d', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 4, 'created': '2018-03-29 20:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8a5a7e754ba1429695298727ab29ae77f250184', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 5, 'created': '2018-04-04 23:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/123c8e6e0ce46784a97313409b3c0967de9a765f', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 6, 'created': '2018-04-17 05:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/181bc25681c86963cd7f494c4723599e64da2a34', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 7, 'created': '2018-06-08 05:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1de9f38fb7c78e99b753f2daed03ed7fecbe87f4', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}, {'number': 8, 'created': '2018-07-02 22:12:51.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a331d4e3742e43228ed16fba07f0d7913df29f3', 'message': ""Create and use keystone_admin[project|user]\n\nIt is not always convenient to use the the given\nadmin project and admin user; especially when some clouds\nuse different user and project for there keystone 'admin'\n\nThis allows setting the variables for these users to something\nelse, and defaults them to there current values of 'admin'.\n\nChange-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f\n""}]",2,550579,6a331d4e3742e43228ed16fba07f0d7913df29f3,39,14,8,1297,,,0,"Create and use keystone_admin[project|user]

It is not always convenient to use the the given
admin project and admin user; especially when some clouds
use different user and project for there keystone 'admin'

This allows setting the variables for these users to something
else, and defaults them to there current values of 'admin'.

Change-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/550579/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",2,2e6c921c6a7946f6e44ca190271d8aad5688e093,550579,"keystone_admin_user: ""admin"" keystone_admin_project: ""admin""",,4,2
openstack%2Fnova~master~Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c,openstack/nova,master,Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c,Use nova.test.TestingException,MERGED,2018-06-13 07:39:16.000000000,2018-07-03 12:09:36.000000000,2018-06-29 05:44:24.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19944}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-13 07:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80fb100f9f7114d62f6cd45f7ca508aa2c085f29', 'message': 'Use nova.test.TestingException\n\nIn nova/test.py,\nthe following exception class for testing is defined.\n\n  class TestingException(Exception):\n      pass\n\nIt is not necessary to define an exception class for testing\nin each unit test files.\n\nTrivialFix\nChange-Id: Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c\n'}, {'number': 2, 'created': '2018-06-22 02:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f27130851dae643ecd5840c46a512df98ce3bbb6', 'message': 'Use nova.test.TestingException\n\nIn nova/test.py,\nthe following exception class for testing is defined.\n\n  class TestingException(Exception):\n      pass\n\nIt is not necessary to define an exception class for testing\nin each unit test files.\n\nTrivialFix\nChange-Id: Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c\n'}, {'number': 3, 'created': '2018-06-28 11:57:57.000000000', 'files': ['nova/tests/unit/test_service.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_virtapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bdc1842e86d56afcb94926ff37ae4f01035e8b82', 'message': 'Use nova.test.TestingException\n\nIn nova/test.py,\nthe following exception class for testing is defined.\n\n  class TestingException(Exception):\n      pass\n\nIt is not necessary to define an exception class for testing\nin each unit test files.\n\nTrivialFix\nChange-Id: Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c\n'}]",0,575012,bdc1842e86d56afcb94926ff37ae4f01035e8b82,33,15,3,7634,,,0,"Use nova.test.TestingException

In nova/test.py,
the following exception class for testing is defined.

  class TestingException(Exception):
      pass

It is not necessary to define an exception class for testing
in each unit test files.

TrivialFix
Change-Id: Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/575012/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_service.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_virtapi.py']",4,80fb100f9f7114d62f6cd45f7ca508aa2c085f29,use_testing_exception," @mock.patch.object(self.virtapi._compute, '_event_waiter', side_effect=test.TestingException()) def do_test(mock_timeout, mock_waiter): self.assertRaises(test.TestingException, do_test)"," class TestException(Exception): pass def _failer(): raise TestException() @mock.patch.object(self.virtapi._compute, '_event_waiter', _failer) def do_test(timeout): self.assertRaises(TestException, do_test)",12,28
openstack%2Fopenstack-ansible~master~I5a0db09b842b74aae0aec14415c5c07a9c594705,openstack/openstack-ansible,master,I5a0db09b842b74aae0aec14415c5c07a9c594705,Add option to change fs type on bootstrap device,MERGED,2018-05-04 12:17:34.000000000,2018-07-03 12:04:05.000000000,2018-07-03 12:04:05.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 13404}, {'_account_id': 17068}, {'_account_id': 19578}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-04 12:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a8084c1b1ea176582d7c25379c609bac2f17de4', 'message': 'Add option to change fs type on bootstrap device\n\nChange-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705\n'}, {'number': 2, 'created': '2018-06-01 10:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1f58e66664e49b70310599cda0bb1e8c05226050', 'message': 'Add option to change fs type on bootstrap device\n\nChange-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705\n'}, {'number': 3, 'created': '2018-06-14 06:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4300a04ba798504e1118e1dc4beb7818db583eaa', 'message': 'Add option to change fs type on bootstrap device\n\nChange-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705\n'}, {'number': 4, 'created': '2018-06-30 05:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e04ce0500a98b858eac5bd0eaf7e637919e1dd4a', 'message': 'Add option to change fs type on bootstrap device\n\nChange-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705\n'}, {'number': 5, 'created': '2018-07-03 05:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7299975ad07eeaff75ee6a9c03c40baaff71df7b', 'message': 'Add option to change fs type on bootstrap device\n\nUser can now choose to have a filesystem type different from\ndefault ext4 by using:\nexport BOOTSTRAP_OPTS=""bootstrap_host_data_disk_fs_type=xfs""\nfor instance.\n\nThis may be usefull to get closer to new distributions defaults\n(like Centos) which moved to xfs.\n\nChange-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705\n'}, {'number': 6, 'created': '2018-07-03 05:40:37.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1e9c7b044f1fc37ff5b6f960b509b4a4bfa7a00c', 'message': 'Add option to change fs type on bootstrap device\n\nUser can now choose to have a filesystem type different from\ndefault ext4 by using:\nexport BOOTSTRAP_OPTS=""bootstrap_host_data_disk_fs_type=xfs""\nfor instance.\n\nThis may be usefull to get closer to new distributions defaults\n(like Centos) which moved to xfs. Furthermore, xfs offers\nseveral operational advantages over ext4.\n\nChange-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705\n'}]",4,566299,1e9c7b044f1fc37ff5b6f960b509b4a4bfa7a00c,34,8,6,19578,,,0,"Add option to change fs type on bootstrap device

User can now choose to have a filesystem type different from
default ext4 by using:
export BOOTSTRAP_OPTS=""bootstrap_host_data_disk_fs_type=xfs""
for instance.

This may be usefull to get closer to new distributions defaults
(like Centos) which moved to xfs. Furthermore, xfs offers
several operational advantages over ext4.

Change-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/566299/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml']",2,8a8084c1b1ea176582d7c25379c609bac2f17de4,add-bootstrap-dev-fs-type-option,"- name: Setting default filesystem type set_fact: _default_fs_type: ""{{ bootstrap_host_data_disk_fs_type | default('ext4') }}"" parted --script -l -m | egrep -q ':{{ _default_fs_type }}:openstack-data[12]:;$' fstype: ""{{ _default_fs_type }}"" - ""parted --align optimal --script /dev/{{ _bootstrap_host_data_disk_device }} mkpart openstack-data1 {{ _default_fs_type }} 0% 40%"" fstype: ""{{ _default_fs_type }}"" type: ""{{ _default_fs_type }}"""," parted --script -l -m | egrep -q ':ext4:openstack-data[12]:;$' fstype: ext4 - ""parted --align optimal --script /dev/{{ _bootstrap_host_data_disk_device }} mkpart openstack-data1 ext4 0% 40%"" fstype: ext4 type: ""ext4""",16,5
openstack%2Fopenstack-ansible~master~I6930c08c798f6d16aa205819ffa7f4f4038f575c,openstack/openstack-ansible,master,I6930c08c798f6d16aa205819ffa7f4f4038f575c,Move database creation into role (trove),MERGED,2018-06-28 16:04:23.000000000,2018-07-03 12:04:03.000000000,2018-07-03 12:04:03.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-06-28 16:04:23.000000000', 'files': ['playbooks/os-trove-install.yml', 'inventory/group_vars/trove_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b58c9dd6c667cdd4720949c3c0a4db5283921bb', 'message': 'Move database creation into role (trove)\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the group_vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nDepends-On: https://review.openstack.org/578867\nChange-Id: I6930c08c798f6d16aa205819ffa7f4f4038f575c\n'}]",0,578868,1b58c9dd6c667cdd4720949c3c0a4db5283921bb,15,5,1,6816,,,0,"Move database creation into role (trove)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Depends-On: https://review.openstack.org/578867
Change-Id: I6930c08c798f6d16aa205819ffa7f4f4038f575c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/578868/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-trove-install.yml', 'inventory/group_vars/trove_all.yml']",2,1b58c9dd6c667cdd4720949c3c0a4db5283921bb,move-db-setup-into-roles,,"trove_galera_user: trove trove_galera_database_name: trove_service trove_galera_address: ""{{ galera_address }}""",6,15
openstack%2Ftripleo-ci~master~I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1,openstack/tripleo-ci,master,I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1,Add CI triggers for OC deploy jobs to depend on UC,ABANDONED,2018-05-15 09:06:33.000000000,2018-07-03 12:00:04.000000000,,"[{'_account_id': 1}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-15 09:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70a325c6eb924dc21f8fca6ef7ea1f3d2c7751ed', 'message': 'Optimize CI triggers for some of OC deploy jobs\n\nDo not run multinode overcloud deploy CI jobs, when undercloud\ncontainers installation fails. It does not make any sense to burn\nCI resources and block other jobs sitting in zuul queue to see\nthe same error in a 10 more places in the end.\n\nWe could expect the jobs time extended by ~80 min in average with\nthat change, but compensated by a shorter wait times in zuul queue.\n\nRelated upstream ML thread:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/\n127869.html\n\nChange-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-05-15 09:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b6e5d0a11afd8de44d7484db0521504f2e6c265', 'message': 'Add CI triggers for OC deploy jobs to depend on UC\n\nDo not run multinode overcloud deploy CI jobs, when undercloud\ncontainers installation fails. It does not make any sense to burn\nCI resources and block other jobs sitting in zuul queue to see\nthe same error in a 10 more places in the end.\n\nWe could expect the jobs time extended by ~80 min in average with\nthat change, but compensated by a shorter wait times in zuul queue.\n\nRelated upstream ML thread:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/\n127869.html\n\nChange-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-05-28 09:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/00d22d2b771bd28682343f4671bfdf7aacedac7a', 'message': 'Add CI triggers for OC deploy jobs to depend on UC\n\nDo not run multinode overcloud deploy CI jobs, when undercloud\ncontainers installation fails. It does not make any sense to burn\nCI resources and block other jobs sitting in zuul queue to see\nthe same error in a 10 more places in the end.\n\nWe could expect the jobs time extended by ~80 min in average with\nthat change, but compensated by a shorter wait times in zuul queue.\n\nRelated upstream ML thread:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/\n127869.html\n\nChange-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-05-28 09:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5f12d93cc2303f4912a0e44979e7f4a985c843c3', 'message': 'Add CI triggers for OC deploy jobs to depend on UC\n\nDo not run multinode overcloud deploy CI jobs, when undercloud\ncontainers installation fails. It does not make any sense to burn\nCI resources and block other jobs sitting in zuul queue to see\nthe same error in a 10 more places in the end.\n\nWe could expect the jobs time extended by ~80 min in average with\nthat change, but compensated by a shorter wait times in zuul queue.\n\nRelated upstream ML thread:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/\n127869.html\n\nChange-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-06-04 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/800a29f7db50413ed8431d6fdf34e69382245d88', 'message': 'Add CI triggers for OC deploy jobs to depend on UC\n\nDo not run multinode overcloud deploy CI jobs, when undercloud\ncontainers installation fails. It does not make any sense to burn\nCI resources and block other jobs sitting in zuul queue to see\nthe same error in a 10 more places in the end.\n\nWe could expect the jobs time extended by ~80 min in average with\nthat change, but compensated by a shorter wait times in zuul queue.\n\nRelated upstream ML thread:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/\n127869.html\n\nChange-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-06-04 13:24:12.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/84d047c4d975d52eff91eefade8f81a20a137848', 'message': 'Add CI triggers for OC deploy jobs to depend on UC\n\nDo not run multinode overcloud deploy CI jobs, when undercloud\ncontainers installation fails. It does not make any sense to burn\nCI resources and block other jobs sitting in zuul queue to see\nthe same error in a 10 more places in the end.\n\nWe could expect the jobs time extended by ~80 min in average with\nthat change, but compensated by a shorter wait times in zuul queue.\n\nRelated upstream ML thread:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/\n127869.html\n\nChange-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,568536,84d047c4d975d52eff91eefade8f81a20a137848,25,8,6,6926,,,0,"Add CI triggers for OC deploy jobs to depend on UC

Do not run multinode overcloud deploy CI jobs, when undercloud
containers installation fails. It does not make any sense to burn
CI resources and block other jobs sitting in zuul queue to see
the same error in a 10 more places in the end.

We could expect the jobs time extended by ~80 min in average with
that change, but compensated by a shorter wait times in zuul queue.

Related upstream ML thread:
http://lists.openstack.org/pipermail/openstack-dev/2018-March/
127869.html

Change-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/568536/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",2,70a325c6eb924dc21f8fca6ef7ea1f3d2c7751ed,ci_pipelines, dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers dependencies: - tripleo-ci-centos-7-undercloud-containers,,40,0
openstack%2Fnova~master~I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2,openstack/nova,master,I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2,libvirt: Add missing encryption_secret_uuid tests for pre_live_migration,MERGED,2018-02-04 22:02:45.000000000,2018-07-03 11:51:45.000000000,2018-06-29 13:17:04.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27590}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-02-04 22:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a93d59e4ff4dd86bf80681ac79662ee022acd42e', 'message': 'libvirt: Add missing encryption_secret_uuid tests\n\nThis change migrates the original mox based pre_live_migration tests for\nvolume backed instances to mock while also ensuring that a secret UUID\nis stashed on the destination when connecting to encrypted volumes.\n\nThe _bdms_to_legacy utiility method of LibvirtLiveMigrateData is also\nmodified to return the secret UUID within a legacy dict for testing.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}, {'number': 2, 'created': '2018-02-05 12:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/185ea891f47f3a9abad45a6c88f2ed8f74d34be4', 'message': 'libvirt: Add missing encryption_secret_uuid tests\n\nThis change migrates the original mox based pre_live_migration tests for\nvolume backed instances to mock while also ensuring that a secret UUID\nis stashed on the destination when connecting to encrypted volumes.\n\nThe _bdms_to_legacy utiility method of LibvirtLiveMigrateData is also\nmodified to return the secret UUID within a legacy dict for testing.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}, {'number': 3, 'created': '2018-02-05 12:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3148ec33f047b7ebc59a0493091e5778c030aebe', 'message': 'libvirt: Add missing encryption_secret_uuid tests\n\nThis change migrates the original mox based pre_live_migration tests for\nvolume backed instances to mock while also ensuring that a secret UUID\nis stashed on the destination when connecting to encrypted volumes.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}, {'number': 4, 'created': '2018-03-09 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3edee1507b214e6f4939a7566d30dac1ee0c2403', 'message': 'libvirt: Add missing encryption_secret_uuid tests\n\nThis change migrates the original mox based pre_live_migration tests for\nvolume backed instances to mock while also ensuring that a secret UUID\nis stashed on the destination when connecting to encrypted volumes.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}, {'number': 5, 'created': '2018-04-06 09:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a01026732a20c9147bcd15488d191c08972076bc', 'message': 'libvirt: Add missing encryption_secret_uuid tests\n\nThis change migrates the original mox based pre_live_migration tests for\nvolume backed instances to mock while also ensuring that a secret UUID\nis stashed on the destination when connecting to encrypted volumes.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}, {'number': 6, 'created': '2018-05-09 18:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96e561ce5e5d2d93fe7ac5e3120539176a34ff5b', 'message': 'libvirt: Add missing encryption_secret_uuid tests\n\nThis change migrates the original mox based pre_live_migration tests for\nvolume backed instances to mock while also ensuring that a secret UUID\nis stashed on the destination when connecting to encrypted volumes.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}, {'number': 7, 'created': '2018-06-28 11:55:22.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c0fea8edcc00e88c216e02ea8afbff41f91e5eb', 'message': 'libvirt: Add missing encryption_secret_uuid tests for pre_live_migration\n\nThis change updates the recently mox to mock converted pre LM tests for\nvolume backed instances to assert that a secret UUID is stashed on the\ndestination when connecting encrypted volumes.\n\nis_shared_instance_path is now also set to True within these volume\nbased tests to avoid asserting the unrelated behaviour of creating the\ninstance directory during pre_live_migration.\n\nChange-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2\n'}]",18,540679,4c0fea8edcc00e88c216e02ea8afbff41f91e5eb,85,19,7,10135,,,0,"libvirt: Add missing encryption_secret_uuid tests for pre_live_migration

This change updates the recently mox to mock converted pre LM tests for
volume backed instances to assert that a secret UUID is stashed on the
destination when connecting encrypted volumes.

is_shared_instance_path is now also set to True within these volume
based tests to avoid asserting the unrelated behaviour of creating the
instance directory during pre_live_migration.

Change-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/540679/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,a93d59e4ff4dd86bf80681ac79662ee022acd42e,bp/libvirt-qemu-native-luks," def _test_pre_live_migration_volume_backed(self, encrypted_volumes=False): inst_ref = objects.Instance(root_device_name='/dev/vda', **self.test_instance) bdms = objects.BlockDeviceMappingList(objects=[ fake_block_device.fake_bdm_object(self.context, { 'connection_info': jsonutils.dumps({ 'serial': uuids.vol1, 'data': { 'device_path': '/dev/disk/path/lun-X' 'volume_id': uuids.vol1, fake_block_device.fake_bdm_object(self.context, { 'connection_info': jsonutils.dumps({ 'serial': uuids.vol2, 'data': { 'device_path': '/dev/disk/path/lun-Z' # We go through get_block_device_info to simulate what the # ComputeManager sends to the driver (make sure we're using the # correct type of BDM objects since there are many of them and # they are super confusing). block_device_info = driver.get_block_device_info(inst_ref, bdms) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with test.nested( mock.patch.object(drvr, '_create_images_and_backing'), mock.patch.object(drvr, '_is_native_luks_available'), mock.patch.object(drvr._host, 'find_secret'), mock.patch.object(drvr, '_connect_volume'), mock.patch.object(drvr, 'plug_vifs'), ) as (mock_create_image, mock_is_luks_available, mock_find_secret, mock_connect_volume, mock_plug_vifs): mock_is_luks_available.return_value = True mock_find_secret.return_value = None if encrypted_volumes: secret_vol1 = mock.Mock() secret_vol1.UUIDString.return_value = uuids.secret_vol1 secret_vol2 = mock.Mock() secret_vol2.UUIDString.return_value = uuids.secret_vol2 mock_find_secret.side_effect = [secret_vol1, secret_vol2] returned_migrate_data = drvr.pre_live_migration( self.context, inst_ref, block_device_info, [], None, migrate_data) expected_connect_volume_calls = [] for bdm in block_device_info['block_device_mapping']: expected_call = mock.call(self.context, bdm['connection_info'], inst_ref, allow_native_luks=True) expected_connect_volume_calls.append(expected_call) mock_connect_volume.assert_has_calls(expected_connect_volume_calls) bdmi_vol1 = migrate_data_obj.LibvirtLiveMigrateBDMInfo() bdmi_vol1.serial = uuids.vol1 bdmi_vol1.connection_info = { u'data': {'device_path': u'/dev/disk/path/lun-X'}, u'serial': uuids.vol1} bdmi_vol1.bus = 'scsi' bdmi_vol1.dev = 'sda' bdmi_vol1.type = 'disk' bdmi_vol2 = migrate_data_obj.LibvirtLiveMigrateBDMInfo() bdmi_vol2.serial = uuids.vol2 bdmi_vol2.connection_info = { u'data': {'device_path': u'/dev/disk/path/lun-Z'}, u'serial': uuids.vol2} bdmi_vol2.bus = 'scsi' bdmi_vol2.dev = 'sdb' bdmi_vol2.type = 'disk' if encrypted_volumes: bdmi_vol1.encryption_secret_uuid = uuids.secret_vol1 bdmi_vol2.encryption_secret_uuid = uuids.secret_vol2 expected_migrate_data = migrate_data_obj.LibvirtLiveMigrateData() expected_migrate_data.target_connect_addr = None expected_migrate_data.serial_listen_addr = None expected_migrate_data.bdms = [bdmi_vol1, bdmi_vol2] # Use the legacy dicts to assert that the result is as expected expected_dict = expected_migrate_data.to_legacy_dict(True) expected_result = expected_dict['pre_live_migration_result'] returned_dict = returned_migrate_data.to_legacy_dict(True) returned_result = returned_dict['pre_live_migration_result'] # FIXME(lyarwood): Must be a better way to compare o.vo objects? self.assertEqual(expected_result, returned_result) def test_pre_live_migration_volume_backed(self): self._test_pre_live_migration_volume_backed() def test_pre_live_migration_volume_backed_encrypted(self): self._test_pre_live_migration_volume_backed(encrypted_volumes=True)"," def test_pre_live_migration_vol_backed_works_correctly_mocked(self): # Creating testdata, using temp dir. with utils.tempdir() as tmpdir: self.flags(instances_path=tmpdir) c = context.get_admin_context() inst_ref = objects.Instance(root_device_name='/dev/vda', **self.test_instance) bdms = objects.BlockDeviceMappingList(objects=[ fake_block_device.fake_bdm_object(c, { 'connection_info': jsonutils.dumps({ 'serial': '12345', 'data': { 'device_path': '/dev/disk/by-path/ip-1.2.3.4:3260' '-iqn.abc.12345.opst-lun-X' 'volume_id': uuids.volume1, fake_block_device.fake_bdm_object(c, { 'connection_info': jsonutils.dumps({ 'serial': '67890', 'data': { 'device_path': '/dev/disk/by-path/ip-1.2.3.4:3260' '-iqn.cde.67890.opst-lun-Z' 'volume_id': uuids.volume2, # We go through get_block_device_info to simulate what the # ComputeManager sends to the driver (make sure we're using the # correct type of BDM objects since there are many of them and # they are super confusing). block_device_info = driver.get_block_device_info(inst_ref, bdms) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) def fake_none(*args, **kwargs): return self.stubs.Set(drvr, '_create_images_and_backing', fake_none) self.stubs.Set(drvr, '_is_native_luks_available', lambda: True) class FakeNetworkInfo(object): def fixed_ips(self): return [""test_ip_addr""] nw_info = FakeNetworkInfo() # Creating mocks self.mox.StubOutWithMock(drvr, ""_connect_volume"") for v in block_device_info['block_device_mapping']: drvr._connect_volume(c, v['connection_info'], inst_ref, allow_native_luks=True) self.mox.StubOutWithMock(drvr, 'plug_vifs') drvr.plug_vifs(mox.IsA(inst_ref), nw_info) self.mox.ReplayAll() ret = drvr.pre_live_migration( c, inst_ref, block_device_info, nw_info, None, migrate_data) expected_result = { 'graphics_listen_addrs': {'spice': None, 'vnc': None}, 'target_connect_addr': None, 'serial_listen_addr': None, 'volume': { '12345': {'connection_info': {u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.abc.12345.opst-lun-X'}, 'serial': '12345'}, 'disk_info': {'bus': 'scsi', 'dev': 'sda', 'type': 'disk'}}, '67890': {'connection_info': {u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}, 'serial': '67890'}, 'disk_info': {'bus': 'scsi', 'dev': 'sdb', 'type': 'disk'}}}} self.assertEqual( expected_result, ret.to_legacy_dict(True)['pre_live_migration_result']) self.assertTrue(os.path.exists('%s/%s/' % (tmpdir, inst_ref['name'])))",96,71
openstack%2Fmetalsmith~master~I9e687d50b369402d36376e08496281d77afce215,openstack/metalsmith,master,I9e687d50b369402d36376e08496281d77afce215,CI: try SSH into the deployed instances,MERGED,2018-06-21 11:38:27.000000000,2018-07-03 11:51:08.000000000,2018-07-03 11:51:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-21 11:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/41d705bed27eb2fa77e4a04fda0210a150f63302', 'message': 'CI: try SSH into the deployed instances\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 2, 'created': '2018-06-21 12:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/2331e6a3af454883cb1b0a85328b36779b8bc506', 'message': 'CI: try SSH into the deployed instances\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 3, 'created': '2018-06-28 16:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/4cdf8df5dbe5927867b5b53fcb01d6ee968d9031', 'message': 'CI: try SSH into the deployed instances\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 4, 'created': '2018-06-29 13:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e6b3cc6988de288bf6c8e1c11756e10bf9456666', 'message': 'CI: try SSH into the deployed instances\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 5, 'created': '2018-06-29 14:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/cd687197c8fd40823e4ad236cd3aaaa4206b5dfe', 'message': 'CI: try SSH into the deployed instances\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 6, 'created': '2018-06-29 15:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/94f4f5abffdcb1933be9aa424cf8eca2ad6315b2', 'message': 'CI: try SSH into the deployed instances\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 7, 'created': '2018-06-29 17:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e9384affc0cb0fecaa58f8f10b8a5bc82a79fd45', 'message': 'CI: try SSH into the deployed instances\n\nRaise the VM specs and fix the partition image building.\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 8, 'created': '2018-07-02 08:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d6692ae6e9ef1bb3a2fcdd2d2ee71e42f5f2bd16', 'message': 'CI: try SSH into the deployed instances\n\nRaise the VM specs and fix the partition image building.\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 9, 'created': '2018-07-02 09:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7099efc4f43c6de88ef3a76b86f1bc02f333d352', 'message': 'CI: try SSH into the deployed instances\n\nRaise the VM specs and fix the partition image building.\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 10, 'created': '2018-07-02 11:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/480a5a9da4b79b8438ac1dd05de96e86f7cf3e79', 'message': 'CI: try SSH into the deployed instances\n\nRaise the VM specs and fix the partition image building.\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 11, 'created': '2018-07-02 12:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d59fa079a8806bb2661cd0b53c17d97f886d5b16', 'message': 'CI: try SSH into the deployed instances\n\nRaise the VM specs and fix the partition image building.\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}, {'number': 12, 'created': '2018-07-03 08:50:01.000000000', 'files': ['playbooks/integration/exercise.yaml', '.zuul.yaml', 'playbooks/integration/centos-image.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5cfaf5566d4d00c9ccbe14ffeaa461a246295f47', 'message': 'CI: try SSH into the deployed instances\n\nRaise the VM specs and fix the partition image building.\n\nChange-Id: I9e687d50b369402d36376e08496281d77afce215\n'}]",0,577131,5cfaf5566d4d00c9ccbe14ffeaa461a246295f47,28,2,12,10239,,,0,"CI: try SSH into the deployed instances

Raise the VM specs and fix the partition image building.

Change-Id: I9e687d50b369402d36376e08496281d77afce215
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/31/577131/11 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/exercise.yaml'],1,41d705bed27eb2fa77e4a04fda0210a150f63302,validate,"- name: Get IP address set_fact: instance_ip: ""{{ instance.ip_addresses.values() | list | first | first }}"" failed_when: not instance_ip - name: SSH into the instance # TODO(dtantsur): override user name to avoid hardcoding centos command: > ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ConnectTimeout=10 centos@{{ instance_ip }} ""cat /etc/hostname"" register: instance_hostname - name: Fail if the hostname is not expected fail: msg: Expected hostname ""test"", got {{ instance_hostname }} when: instance_hostname != 'test' ",,17,0
openstack%2Foctavia~master~Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521,openstack/octavia,master,Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521,Fix fields translation on filtering,MERGED,2018-07-02 13:35:12.000000000,2018-07-03 11:47:52.000000000,2018-07-03 11:32:23.000000000,"[{'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 26287}]","[{'number': 1, 'created': '2018-07-02 13:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/046fbb33370a0a534b788ccd073dba5644094510', 'message': 'Fix fields translation on filtering\n\nFiltering load balancers by VIP data would raise an internal server\nerror (500 HTTP) in octavia-api. This patch fixes that as well as pool\nfiltering by healthmonitor_id.\n\nThe patch also adds vip.qos_policy_id to the load balancer filtering\ncapabilities.\n\nStory: 2001944\nTask: 15061\n\nChange-Id: Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521\n'}, {'number': 2, 'created': '2018-07-02 16:49:25.000000000', 'files': ['octavia/api/v2/types/pool.py', 'octavia/db/base_models.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd20d06896792681234bc3eebd64cf862442e75c', 'message': 'Fix fields translation on filtering\n\nFiltering load balancers by VIP data would raise an internal server\nerror (500 HTTP) in octavia-api. This patch fixes that as well as pool\nfiltering by healthmonitor_id.\n\nThe patch also adds vip.qos_policy_id to the load balancer filtering\ncapabilities.\n\nStory: 2001944\nTask: 15061\n\nChange-Id: Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521\n'}]",0,579559,fd20d06896792681234bc3eebd64cf862442e75c,10,4,2,6469,,,0,"Fix fields translation on filtering

Filtering load balancers by VIP data would raise an internal server
error (500 HTTP) in octavia-api. This patch fixes that as well as pool
filtering by healthmonitor_id.

The patch also adds vip.qos_policy_id to the load balancer filtering
capabilities.

Story: 2001944
Task: 15061

Change-Id: Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/579559/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/types/pool.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/db/base_models.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",5,046fbb33370a0a534b788ccd073dba5644094510,story-2001944," project_id=self.project_id, vip_address='10.0.0.1').get(self.root_tag) 'id': lb1['id'], 'vip_address': lb1['vip_address']}).json", project_id=self.project_id).get(self.root_tag) 'id': lb1['id']}).json,18,8
openstack%2Ftacker~master~Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84,openstack/tacker,master,Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84,Fix tox to run functional instead of unit tests,MERGED,2018-07-03 09:01:56.000000000,2018-07-03 11:43:53.000000000,2018-07-03 11:43:53.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 28328}]","[{'number': 1, 'created': '2018-07-03 09:01:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/7d0c22524ac8352a50af2e017eed4b5be28d4c31', 'message': 'Fix tox to run functional instead of unit tests\n\nEarlier tox -efunctional command was running unit tests\ninstead of functional.\n\nThis issue is fixed in this patch by explicitly pointing\nto functional test code path.\n\nCloses-Bug: #1778698\nChange-Id: Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84\n'}]",0,579821,7d0c22524ac8352a50af2e017eed4b5be28d4c31,7,4,1,20182,,,0,"Fix tox to run functional instead of unit tests

Earlier tox -efunctional command was running unit tests
instead of functional.

This issue is fixed in this patch by explicitly pointing
to functional test code path.

Closes-Bug: #1778698
Change-Id: Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84
",git fetch https://review.opendev.org/openstack/tacker refs/changes/21/579821/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7d0c22524ac8352a50af2e017eed4b5be28d4c31,bug/1778698,setenv = {[testenv]setenv} commands = stestr --test-path=./tacker/tests/functional run --slowest {posargs} stestr --test-path=./tacker/tests/functional run --slowest --concurrency 2 {posargs},setenv = OS_TEST_PATH=./tacker/tests/functional deps = {[testenv]deps} {[testenv:functional]setenv} deps = {[testenv:functional]deps} stestr run --slowest --concurrency 2 {posargs},5,7
openstack%2Fcinder~master~I82d741ea8278de75ed817379b0a04f1f919a27c7,openstack/cinder,master,I82d741ea8278de75ed817379b0a04f1f919a27c7,Keep volume's status in 'creating' when creating from backup,MERGED,2018-06-29 08:40:11.000000000,2018-07-03 11:26:07.000000000,2018-07-03 06:47:40.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-29 08:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98d2ed8afeeaec47b40b79a0688935f2fe6acd6e', 'message': ""Keep volume's status in 'available' when creating from backup\n\nWhen volume is created via restoring backup action, the volume\nstatus would change into 'restoring-backup' from 'creating', this\nstate change would confusing end user. This patch updates this\nand keep volume status in 'available' when creating.\n\nChange-Id: I82d741ea8278de75ed817379b0a04f1f919a27c7\n""}, {'number': 2, 'created': '2018-06-30 01:40:24.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/backup/manager.py', 'cinder/objects/fields.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a61677ffd56bf2c82ed561e073e931af77eb1931', 'message': ""Keep volume's status in 'creating' when creating from backup\n\nWhen volume is created via restoring backup action, the volume\nstatus would change into 'restoring-backup' from 'creating', this\nstate change would confusing end user. This patch updates this\nand keep volume status in 'creating' when creating.\n\nChange-Id: I82d741ea8278de75ed817379b0a04f1f919a27c7\n""}]",0,579097,a61677ffd56bf2c82ed561e073e931af77eb1931,59,29,2,23083,,,0,"Keep volume's status in 'creating' when creating from backup

When volume is created via restoring backup action, the volume
status would change into 'restoring-backup' from 'creating', this
state change would confusing end user. This patch updates this
and keep volume status in 'creating' when creating.

Change-Id: I82d741ea8278de75ed817379b0a04f1f919a27c7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/579097/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/backup/manager.py', 'cinder/objects/fields.py', 'cinder/tests/unit/backup/test_backup.py']",4,98d2ed8afeeaec47b40b79a0688935f2fe6acd6e,bug/fix_invalide_status_error," def test_restore_backup_with_creating_volume(self): """"""Test restore backup with a creating volume."""""" vol_id = self._create_volume_db_entry( status=fields.VolumeStatus.CREATING, size=1) backup = self._create_backup_db_entry( status=fields.BackupStatus.RESTORING, volume_id=vol_id) mock_run_restore = self.mock_object( self.backup_mgr, '_run_restore') self.backup_mgr.restore_backup(self.ctxt, backup, vol_id) vol = objects.Volume.get_by_id(self.ctxt, vol_id) self.assertEqual(fields.VolumeStatus.AVAILABLE, vol.status) self.assertIsNotNone(vol.launched_at) backup.refresh() self.assertEqual(fields.BackupStatus.AVAILABLE, backup.status) self.assertTrue(mock_run_restore.called) def test_restore_backup_canceled_with_creating_volume(self): """"""Test restore backup with a creating volume."""""" vol_id = self._create_volume_db_entry( status=fields.VolumeStatus.CREATING, size=1) backup = self._create_backup_db_entry( status=fields.BackupStatus.RESTORING, volume_id=vol_id) mock_run_restore = self.mock_object( self.backup_mgr, '_run_restore') mock_run_restore.side_effect = exception.BackupRestoreCancel( vol_id=vol_id, back_id=backup.id) # We shouldn't raise an exception on the call, it's OK to cancel self.backup_mgr.restore_backup(self.ctxt, backup, vol_id) vol = objects.Volume.get_by_id(self.ctxt, vol_id) self.assertEqual(fields.VolumeStatus.ERROR, vol.status) backup.refresh() self.assertEqual(fields.BackupStatus.AVAILABLE, backup.status) self.assertTrue(mock_run_restore.called) ",,73,15
openstack%2Fproject-config~master~I97fb242d68183255b2c956efa24b62cb1661cf5a,openstack/project-config,master,I97fb242d68183255b2c956efa24b62cb1661cf5a,consolidate nova job definitions,ABANDONED,2018-01-29 13:07:00.000000000,2018-07-03 11:10:55.000000000,,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-29 13:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/739202e68443f296059dc280342b4e3666ab07de', 'message': 'consolidate nova job definitions\n\nNova includes some of the legacy job definitions from\nzuul-legacy-project-templates.yaml [1]\n\nfor the check and gate queue:\n* legacy-tempest-dsvm-neutron-full\n* tempest-full\n* neutron-grenade\n\nand for the experimental queue:\n* legacy-tempest-dsvm-neutron-pg-full\n* legacy-tempest-dsvm-neutron-full-opensuse-423\n\nThe same jobs are also specified in the project.yaml [2] for nova but\nwith different parameters. Zuul handles the matcher paramters, like\nbranch and irrelevant-files, of the two variants of the same job as\nseparate triggers for the variants [3]. As [1] contains the variants\nwithout irrelevant-files definition the variants from [1] are\ntriggered for every nova change. This means that the variants from [1]\nare triggered on irrelevant changes.\n\nThis patch removes the the include of [1] form the nova project in [2]\nand makes sure that the remaining one variant of the above jobs are\nwhat nova wants.\n\nSee a bit more explanation in the [4] ML post.\n\n[1] http://git.openstack.org/cgit/openstack-infra/openstack-zuul-jobs/tree/zuul.d/zuul-legacy-project-templates.yaml#n126\n[2] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10480\n[3] https://docs.openstack.org/infra/zuul/user/config.html#matchers\n[4] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126630.html\n\nChange-Id: I97fb242d68183255b2c956efa24b62cb1661cf5a\nCloses-Bug: #1745431\nCloses-Bug: #1745405\n'}, {'number': 2, 'created': '2018-01-30 08:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/580406701a54ac8532679aec17c73573f1e3f5f7', 'message': 'consolidate nova job definitions\n\nNova includes some of the legacy job definitions from\nzuul-legacy-project-templates.yaml [1]\n\nfor the check and gate queue:\n* legacy-tempest-dsvm-neutron-full\n* tempest-full\n* neutron-grenade\n\nand for the experimental queue:\n* legacy-tempest-dsvm-neutron-pg-full\n* legacy-tempest-dsvm-neutron-full-opensuse-423\n\nThe same jobs are also specified in the project.yaml [2] for nova but\nwith different parameters. Zuul handles the matcher paramters, like\nbranch and irrelevant-files, of the two variants of the same job as\nseparate triggers for the variants [3]. As [1] contains the variants\nwithout irrelevant-files definition the variants from [1] are\ntriggered for every nova change. This means that the variants from [1]\nare triggered on irrelevant changes.\n\nThis patch removes the the include of [1] form the nova project in [2]\nand makes sure that the remaining one variant of the above jobs are\nwhat nova wants.\n\nSee a bit more explanation in the [4] ML post.\n\n[1] http://git.openstack.org/cgit/openstack-infra/openstack-zuul-jobs/tree/zuul.d/zuul-legacy-project-templates.yaml#n126\n[2] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10480\n[3] https://docs.openstack.org/infra/zuul/user/config.html#matchers\n[4] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126630.html\n\nChange-Id: I97fb242d68183255b2c956efa24b62cb1661cf5a\nCloses-Bug: #1745431\nCloses-Bug: #1745405\n'}, {'number': 3, 'created': '2018-02-09 10:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b0d6f6d1e9d8bb4b8090dc08a406785a4f0b3ea8', 'message': 'consolidate nova job definitions\n\nNova includes some of the legacy job definitions from\nzuul-legacy-project-templates.yaml [1]\n\nfor the check and gate queue:\n* legacy-tempest-dsvm-neutron-full\n* tempest-full\n* neutron-grenade\n\nand for the experimental queue:\n* legacy-tempest-dsvm-neutron-pg-full\n* legacy-tempest-dsvm-neutron-full-opensuse-423\n\nThe same jobs are also specified in the project.yaml [2] for nova but\nwith different parameters. Zuul handles the matcher paramters, like\nbranch and irrelevant-files, of the two variants of the same job as\nseparate triggers for the variants [3]. As [1] contains the variants\nwithout irrelevant-files definition the variants from [1] are\ntriggered for every nova change. This means that the variants from [1]\nare triggered on irrelevant changes.\n\nThis patch removes the the include of [1] form the nova project in [2]\nand makes sure that the remaining one variant of the above jobs are\nwhat nova wants.\n\nSee a bit more explanation in the [4] ML post.\n\n[1] http://git.openstack.org/cgit/openstack-infra/openstack-zuul-jobs/tree/zuul.d/zuul-legacy-project-templates.yaml#n126\n[2] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10480\n[3] https://docs.openstack.org/infra/zuul/user/config.html#matchers\n[4] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126630.html\n\nChange-Id: I97fb242d68183255b2c956efa24b62cb1661cf5a\nCloses-Bug: #1745431\nCloses-Bug: #1745405\n'}, {'number': 4, 'created': '2018-02-15 09:42:54.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/06dbb6f74655051077f4434ba64fa3c4d8d13276', 'message': 'consolidate nova job definitions\n\nNova includes some of the legacy job definitions from\nzuul-legacy-project-templates.yaml [1]\n\nfor the check and gate queue:\n* legacy-tempest-dsvm-neutron-full\n* tempest-full\n* neutron-grenade\n\nand for the experimental queue:\n* legacy-tempest-dsvm-neutron-pg-full\n* legacy-tempest-dsvm-neutron-full-opensuse-423\n\nThe same jobs are also specified in the project.yaml [2] for nova but\nwith different parameters. Zuul handles the matcher paramters, like\nbranch and irrelevant-files, of the two variants of the same job as\nseparate triggers for the variants [3]. As [1] contains the variants\nwithout irrelevant-files definition the variants from [1] are\ntriggered for every nova change. This means that the variants from [1]\nare triggered on irrelevant changes.\n\nThis patch removes the the include of [1] form the nova project in [2]\nand makes sure that the remaining one variant of the above jobs are\nwhat nova wants.\n\nSee a bit more explanation in the [4] ML post.\n\n[1] http://git.openstack.org/cgit/openstack-infra/openstack-zuul-jobs/tree/zuul.d/zuul-legacy-project-templates.yaml#n126\n[2] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10480\n[3] https://docs.openstack.org/infra/zuul/user/config.html#matchers\n[4] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126630.html\n\nChange-Id: I97fb242d68183255b2c956efa24b62cb1661cf5a\nCloses-Bug: #1745431\nCloses-Bug: #1745405\n'}]",12,538908,06dbb6f74655051077f4434ba64fa3c4d8d13276,20,6,4,9708,,,0,"consolidate nova job definitions

Nova includes some of the legacy job definitions from
zuul-legacy-project-templates.yaml [1]

for the check and gate queue:
* legacy-tempest-dsvm-neutron-full
* tempest-full
* neutron-grenade

and for the experimental queue:
* legacy-tempest-dsvm-neutron-pg-full
* legacy-tempest-dsvm-neutron-full-opensuse-423

The same jobs are also specified in the project.yaml [2] for nova but
with different parameters. Zuul handles the matcher paramters, like
branch and irrelevant-files, of the two variants of the same job as
separate triggers for the variants [3]. As [1] contains the variants
without irrelevant-files definition the variants from [1] are
triggered for every nova change. This means that the variants from [1]
are triggered on irrelevant changes.

This patch removes the the include of [1] form the nova project in [2]
and makes sure that the remaining one variant of the above jobs are
what nova wants.

See a bit more explanation in the [4] ML post.

[1] http://git.openstack.org/cgit/openstack-infra/openstack-zuul-jobs/tree/zuul.d/zuul-legacy-project-templates.yaml#n126
[2] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10480
[3] https://docs.openstack.org/infra/zuul/user/config.html#matchers
[4] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126630.html

Change-Id: I97fb242d68183255b2c956efa24b62cb1661cf5a
Closes-Bug: #1745431
Closes-Bug: #1745405
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/538908/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,739202e68443f296059dc280342b4e3666ab07de,, branches: ^stable/(newton|ocata|pike)$ branches: ^(?!stable/newton).*$ branches: ^stable/(newton|ocata|pike)$ branches: ^(?!stable/newton).*$ voting: false voting: false, - integrated-gate,6,1
openstack%2Fnova~master~I8de92239b5f251fad826de0d6f7e73160fe54e38,openstack/nova,master,I8de92239b5f251fad826de0d6f7e73160fe54e38,DNM: test if tempest-full is triggered or not,ABANDONED,2018-01-25 15:26:19.000000000,2018-07-03 11:10:36.000000000,,"[{'_account_id': 1}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-25 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97c0568368ffb38243e4285c9ce315b907b42766', 'message': 'DNM: test if tempest-full is triggered or not\n\nBased on the project-config [1] changes in nova/tests/ directory\nshould not trigger the tempest-full tests.\n\n[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683\n\nChange-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38\n'}, {'number': 2, 'created': '2018-01-26 13:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53800ce687edf90016fca1d58f321bdb461a4953', 'message': 'DNM: test if tempest-full is triggered or not\n\nBased on the project-config [1] changes in nova/tests/ directory\nshould not trigger the tempest-full tests.\n\n[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683\n\nChange-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38\n'}, {'number': 3, 'created': '2018-01-26 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76590a9f9f4f3c173dd55cc7b7886bd5eb6e6623', 'message': 'DNM: test if tempest-full is triggered or not\n\nBased on the project-config [1] changes in nova/tests/ directory\nshould not trigger the tempest-full tests.\n\n[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683\n\nChange-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38\n'}, {'number': 4, 'created': '2018-01-29 14:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8088884e44fe6b8526b5b1376739f633ff5c34e', 'message': 'DNM: test if tempest-full is triggered or not\n\nBased on the project-config [1] changes in nova/tests/ directory\nshould not trigger the tempest-full tests.\n\n[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683\nDepends-On: https://review.openstack.org/#/c/538908/\nChange-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38\n'}, {'number': 5, 'created': '2018-01-29 14:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62ed4d02ba0aa9b2d1130f5995d3091c70f2081e', 'message': 'DNM: test if tempest-full is triggered or not\n\nBased on the project-config [1] changes in nova/tests/ directory\nshould not trigger the tempest-full tests.\n\n[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683\nDepends-On: https://review.openstack.org/#/c/538908/\nChange-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38\n'}, {'number': 6, 'created': '2018-01-29 14:14:55.000000000', 'files': ['.zuul.yaml', 'nova/tests/something'], 'web_link': 'https://opendev.org/openstack/nova/commit/390397602bae31c1f2084980bc5561f920a1999a', 'message': 'DNM: test if tempest-full is triggered or not\n\nBased on the project-config [1] changes in nova/tests/ directory\nshould not trigger the tempest-full tests.\n\n[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683\nDepends-On: https://review.openstack.org/#/c/538908/\nChange-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38\n'}]",0,537936,390397602bae31c1f2084980bc5561f920a1999a,29,10,6,9708,,,0,"DNM: test if tempest-full is triggered or not

Based on the project-config [1] changes in nova/tests/ directory
should not trigger the tempest-full tests.

[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683
Depends-On: https://review.openstack.org/#/c/538908/
Change-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/537936/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/something'],1,97c0568368ffb38243e4285c9ce315b907b42766,zuul-job-fixes,,,0,0
openstack%2Fzun~master~I5792d01fcb3f360864c49ea7368dc470181a5a75,openstack/zun,master,I5792d01fcb3f360864c49ea7368dc470181a5a75,Remove the unused url for container exec,MERGED,2018-06-05 01:00:10.000000000,2018-07-03 11:05:06.000000000,2018-07-03 11:05:06.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-06-05 01:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/04c8b5992fecad686c3151118ff93a510dae5d8b', 'message': 'Remove the unused url for container exec\n\nThis url is not needed anymore since we are using websocket\nproxy for doing interactive execute now.\n\nDepends-On: I68d2b3daaaf8fb551d00774f01ad0ee88538f7ae\nChange-Id: I5792d01fcb3f360864c49ea7368dc470181a5a75\nCloses-Bug: #1735076\n'}, {'number': 2, 'created': '2018-06-13 03:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/92e8e9dfbcb6d5b3772ed9d133ea373e06d8b5bf', 'message': 'Remove the unused url for container exec\n\nThis url is not needed anymore since we are using websocket\nproxy for doing interactive execute now.\n\nDepends-On: I68d2b3daaaf8fb551d00774f01ad0ee88538f7ae\nChange-Id: I5792d01fcb3f360864c49ea7368dc470181a5a75\nCloses-Bug: #1735076\n'}, {'number': 3, 'created': '2018-06-24 17:39:23.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/64745c1fc525d821fc40490232f8d8692b4a1079', 'message': 'Remove the unused url for container exec\n\nThis url is not needed anymore since we are using websocket\nproxy for doing interactive execute now.\n\nDepends-On: I68d2b3daaaf8fb551d00774f01ad0ee88538f7ae\nChange-Id: I5792d01fcb3f360864c49ea7368dc470181a5a75\nCloses-Bug: #1735076\n'}]",0,572235,64745c1fc525d821fc40490232f8d8692b4a1079,13,4,3,11536,,,0,"Remove the unused url for container exec

This url is not needed anymore since we are using websocket
proxy for doing interactive execute now.

Depends-On: I68d2b3daaaf8fb551d00774f01ad0ee88538f7ae
Change-Id: I5792d01fcb3f360864c49ea7368dc470181a5a75
Closes-Bug: #1735076
",git fetch https://review.opendev.org/openstack/zun refs/changes/35/572235/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,04c8b5992fecad686c3151118ff93a510dae5d8b,bug/1735076,," # TODO(hongbin): remove url once bug #1735076 is fixed ""url"": None, # TODO(hongbin): remove url once bug #1735076 is fixed 'url': url,",0,4
openstack%2Fzun~master~I6542a7889d0e355a5ddc394aa209db5e8dcc7ead,openstack/zun,master,I6542a7889d0e355a5ddc394aa209db5e8dcc7ead,Add create_network method in etcd db.,MERGED,2018-06-20 01:46:29.000000000,2018-07-03 11:05:05.000000000,2018-07-03 11:05:05.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-06-20 01:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bce7c1c200beee691c5efbcc3c0467e741f9a182', 'message': 'Add create_network method in etcd db.\n\nAdd create_network method in etcd db. Now support two db types,\nboth etcd and sql for storing network.\n\nChange-Id: I6542a7889d0e355a5ddc394aa209db5e8dcc7ead\n'}, {'number': 2, 'created': '2018-06-20 03:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/88d2459f419dbdc876f1df42831e92284b6f4acf', 'message': 'Add create_network method in etcd db.\n\nAdd create_network method in etcd db. Now support two db types,\nboth etcd and sql for storing network.\n\nChange-Id: I6542a7889d0e355a5ddc394aa209db5e8dcc7ead\n'}, {'number': 3, 'created': '2018-06-20 05:02:56.000000000', 'files': ['zun/db/etcd/api.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/864ec75a57d85655dac13e426da9897f580edfea', 'message': 'Add create_network method in etcd db.\n\nAdd create_network method in etcd db. Now support two db types,\nboth etcd and sql for storing network.\n\nRelatated bug: https://bugs.launchpad.net/zun/+bug/1777770\n\nChange-Id: I6542a7889d0e355a5ddc394aa209db5e8dcc7ead\n'}]",1,576672,864ec75a57d85655dac13e426da9897f580edfea,14,4,3,27577,,,0,"Add create_network method in etcd db.

Add create_network method in etcd db. Now support two db types,
both etcd and sql for storing network.

Relatated bug: https://bugs.launchpad.net/zun/+bug/1777770

Change-Id: I6542a7889d0e355a5ddc394aa209db5e8dcc7ead
",git fetch https://review.opendev.org/openstack/zun refs/changes/72/576672/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/db/etcd/api.py'],1,bce7c1c200beee691c5efbcc3c0467e741f9a182,support-etcd-backend," @lockutils.synchronized('etcd_network') def create_network(self, context, network_value): if not network_value.get('uuid'): network_value['uuid'] = uuidutils.generate_uuid() if network_value.get('name'): self._validate_unique_container_name(context, container_data['name']) network = models.Network(network_value) try: network.save() except Exception: raise return network",,14,0
openstack%2Fzun~master~Ic86e9c13d3837728bf596779f940ce405ca15cd2,openstack/zun,master,Ic86e9c13d3837728bf596779f940ce405ca15cd2,Add native Zuulv3 jobs,MERGED,2017-10-16 08:09:51.000000000,2018-07-03 11:05:04.000000000,2018-07-03 11:05:03.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 27577}]","[{'number': 1, 'created': '2017-10-16 08:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b09c9e387b90846ff4c1413297399dbf3142cb43', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 2, 'created': '2017-10-16 08:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/71679f0f1c29aac4c237661827e444c30d6be5bf', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 3, 'created': '2017-10-17 02:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4261edddaa6bfc6b7801fa53a4f94854c182124b', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 4, 'created': '2017-10-17 09:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/0f61fb7aa93d42490a59620d7b745e2996e8ac54', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 5, 'created': '2017-10-20 02:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a64f1fa730c3df37ac2afbe1f2c2b0b8f32c9511', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 6, 'created': '2017-10-20 03:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3f1bd795146723f237bf6ea3e92ef24a770e4a1b', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 7, 'created': '2017-10-20 08:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9c179007c48ad472690286772fb69026ebf73a15', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 8, 'created': '2017-10-20 08:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c09cc03dcfba616e2a0618ddfcd92d3617682a46', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 9, 'created': '2017-10-20 08:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/063f17adc6f6f18fe08c5a743d647691181f1e02', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 10, 'created': '2017-10-20 09:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bf528e01bca86e1ef3ace5a69919b68fb6d0a73d', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 11, 'created': '2017-10-24 03:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4b2f16d1b419ef822ddcff856128ba74620383c7', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 12, 'created': '2017-10-24 03:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/cae3b01600b0cb32fae34b0e5ec947f0956f4b97', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 13, 'created': '2017-10-24 04:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e48b9d79708848acb567d7cddd24dfb44a9441fc', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 14, 'created': '2017-10-24 04:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/df46834747127a897639b035009deca823e4db52', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 15, 'created': '2017-10-24 06:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fafefc47a97823a4c063e18585971bbb39d0246e', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 16, 'created': '2017-10-24 06:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ac2d2314c7c07e9127ba6f8f4012ea6bbfe9ad8c', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 17, 'created': '2017-10-24 06:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/af2ed34b8ae9bc293dd3ea11add24819a9ec0f72', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 18, 'created': '2017-10-24 07:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/833da33f54a0f1649226810792ab4d496fad1c2d', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 19, 'created': '2017-10-24 07:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7afba4935077c0010e2fba26e5e768adbe18fa09', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 20, 'created': '2017-10-24 07:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/51ae16a3639924f07a78edbdfead461dbf381af5', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 21, 'created': '2017-10-24 07:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b0961681c3eab05a3c5b87a1c9809a1ec08ee69c', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 22, 'created': '2017-10-24 08:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3652e27b15c93f3bccac35ffedc6d4e416348f23', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nDepends-On: I1d2b573334347908f88ffd22dc90bc6cca292d45\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 23, 'created': '2017-10-24 09:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e29fe872fd50df85dda51017567fbd04263290eb', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\nNeed to wait several devstack-tempest patches were landed.\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nDepends-On: I1d2b573334347908f88ffd22dc90bc6cca292d45\nDepends-On: I80e96ffb3a02a8383fa344784b674ac831ab774f\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 24, 'created': '2017-11-01 04:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/513fb89566cba9f9ab7a7fa6642afa3ad0a5477c', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\nNeed to wait several devstack-tempest patches were landed.\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 25, 'created': '2017-11-01 04:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/89c131f5046a8b76bc5f6c804819036d19395677', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\nNeed to wait several devstack-tempest patches were landed.\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 26, 'created': '2017-11-08 02:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c4b3ed1ca912f227f7f0e53c905961de56a29f2d', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\nNeed to wait several devstack-tempest patches were landed.\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I5a76dd23900a1b5fb1764fafd837d69baf9ed8b1\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nDepends-On: Id67dbf3df5af52e848b8d378bc13aaa1c02cdd29\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 27, 'created': '2017-11-10 04:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/83aee5eb6a83aa13eba53f677914cccf7552e8f8', 'message': '[WIP][Testing] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\nNeed to wait several devstack-tempest patches were landed.\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nDepends-On: I44911c6bd6ede68c3376c8a6b42700310dce7a06\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 28, 'created': '2017-11-22 01:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1f3b08a72cd5e582c79003695f96b7fec71b43c3', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 29, 'created': '2017-11-22 02:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1d32203e845f7b0981aca5c4e20ec912c8e3d80d', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 30, 'created': '2017-11-23 07:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/beea7ca7037eef615942e786a5008dc5445a5156', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 31, 'created': '2017-11-23 09:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7e354efaa7a980804395a9c2c2351ad6cee6cc9a', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 32, 'created': '2017-12-08 03:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5dca657f6eb1dc10babd86aaf89bd7d8717749b8', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: Ifb2f401f7ec3b96f1de7b14f0b56d51b060c3c4f\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 33, 'created': '2017-12-18 07:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e25b3103d0a5577ba54bc6cf30a833218f38a64d', 'message': '[WIP] Migrate to Zuulv3\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 34, 'created': '2017-12-18 08:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a5681c538c7b7ed2b47efbb0a32c893d7298f054', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 35, 'created': '2017-12-18 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8cc64cd9ce7bbcb3f69c73edb390f99443aac55f', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 36, 'created': '2018-01-08 04:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e27530a8b6b3b8b08128ace4c8b647273dce49fc', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 37, 'created': '2018-01-08 07:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5ba3578588b299aa84b131f63c6e3e0f03e9aad7', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 38, 'created': '2018-01-08 08:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ee53eb5c7acdd2293a4312acec137004c2e30652', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 39, 'created': '2018-01-08 09:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1ec3821d960d8d7192f1672b9d55e4a6dd498fca', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 40, 'created': '2018-01-24 04:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ed2b49f5c87b9e0b40d401c1963a2e7bcba1bd4a', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 41, 'created': '2018-01-24 07:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c51737f5468157e5f152d1879ca6daa233f70a0d', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 42, 'created': '2018-01-24 13:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8c8f6f83fc91400e6f7707f6ff5d560217bfb1aa', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 43, 'created': '2018-01-25 03:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d9bfa1fa97778ea32d799ce3c94d2cb549e569e2', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 44, 'created': '2018-01-25 03:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a8846da56df625210e3e23711831b656c416d74f', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 45, 'created': '2018-01-25 04:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/abfcb69ad8b0ce2da59deb4f7043a9a4563fc60e', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 46, 'created': '2018-01-25 06:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8503edaaedcacc6b2fb9e0857aebdcb922063238', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: I78e6f578d26f6ed6f8ec2b336da55316e25e5ad9\nDepends-On: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 47, 'created': '2018-01-25 08:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/38dad13c17e5f9c96b9dc87f6a635a42b9fdfb5f', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 48, 'created': '2018-01-26 04:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8cd6a422e749e3f835230864d5544dcfa42c6e26', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/#/c/537296/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 49, 'created': '2018-01-29 01:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6ab5ea01da1d90997500ef8426cb323166a22fc3', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/537296\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 50, 'created': '2018-02-25 09:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/49e4a8f9af455c75a69df73dd1b4d9479ecac964', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/545696\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 51, 'created': '2018-03-12 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7d979c354cd9cfcc80fc48a0e543029fec80a00a', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 52, 'created': '2018-03-23 09:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f32425ee04f95e16c3c6d82e1b6ebdc6c3c42255', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 53, 'created': '2018-03-26 06:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a3cc9f11ea476299af1d8bd1c67c3be1513c33a9', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 54, 'created': '2018-03-26 09:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5e938ebbe80334d45312262906144120245db5a6', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 55, 'created': '2018-03-28 07:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1ce4ba33f34e79950e5c808dcc42ebd9c02136bf', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 56, 'created': '2018-03-28 07:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b4df38bcdbf1856e5b19614abe3febbffa86edd3', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 57, 'created': '2018-03-29 01:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/64f52dd9567a22a3f2158fb65c0fc9aefe7aa208', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 58, 'created': '2018-03-30 03:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e3b91e650328346853b9dbbbbe8b4c83d0f408dd', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/557878\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 59, 'created': '2018-04-02 01:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8fbfc75a3bd24e2e3e8d729ec51bd00c7d0e0f55', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/557878\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 60, 'created': '2018-04-02 06:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/944ccde6ccb1a433fb0f6024245a08d5959e3aef', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/557878\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 61, 'created': '2018-04-02 07:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/076410218e0ba953ba72d3c9d76cedd26a20232b', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/557878\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 62, 'created': '2018-04-02 10:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/991779f3418d65bb3c12098ebafc6cefa10d8378', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nDepends-On: https://review.openstack.org/557878\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 63, 'created': '2018-06-06 03:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3151a71c2bb365091a4bb0c382827fcd5b014fa4', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/557878\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 64, 'created': '2018-06-24 01:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3c89bf7da39cadf1401ce52de02e818fe8c27f02', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/#/c/545724/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 65, 'created': '2018-06-24 03:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/56c5518b8d56f073c584069da1c5d1f322d37410', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/#/c/545724/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 66, 'created': '2018-06-24 09:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b1f7b29d0485f5bb8bfd06f62a25a07a4fbad3fa', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/#/c/545724/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 67, 'created': '2018-06-24 11:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/524502ad10791aadcda5da03fd0c8fbfc71e9d95', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/#/c/545724/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 68, 'created': '2018-06-28 08:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a28431b93401eec0020a70a14d204b44eade7cda', 'message': '[WIP] Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/#/c/545724/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}, {'number': 69, 'created': '2018-06-28 14:48:13.000000000', 'files': ['zun/tests/contrib/post_test_hook.sh', 'playbooks/zun-devstack-base/run.yaml', 'releasenotes/notes/zuul-v3-native-gates-a46ef4c168f9362e.yaml', 'playbooks/zun-tempest-base/post.yaml', 'zun/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/zun-devstack-base/post.yaml', 'playbooks/zun-devstack-base-multinode/run.yaml', 'playbooks/zun-devstack-base-multinode/post.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/725d4c1e54451530a0fc264b447564075fd94cdf', 'message': 'Add native Zuulv3 jobs\n\nDo step 2: Reworking Legacy Jobs to be v3 Native\n\nDepends-On: https://review.openstack.org/#/c/545724/\nChange-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2\nImplements: blueprint migrate-to-zuulv3\n'}]",0,512209,725d4c1e54451530a0fc264b447564075fd94cdf,181,5,69,22406,,,0,"Add native Zuulv3 jobs

Do step 2: Reworking Legacy Jobs to be v3 Native

Depends-On: https://review.openstack.org/#/c/545724/
Change-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2
Implements: blueprint migrate-to-zuulv3
",git fetch https://review.opendev.org/openstack/zun refs/changes/09/512209/19 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/zun-devstack-base/run.yaml', '.zuul.yaml', 'playbooks/zun-devstack-base/post.yaml', 'playbooks/zun-devstack-base-multinode/run.yaml', 'playbooks/zun-devstack-base-multinode/post.yaml']",5,b09c9e387b90846ff4c1413297399dbf3142cb43,bp/migrate-to-zuulv3,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,39,165
openstack%2Fdevstack~master~I0d5738ac3a6d27ddb7655835d77689409a6ff6f4,openstack/devstack,master,I0d5738ac3a6d27ddb7655835d77689409a6ff6f4,Make configure_neutron_nova_new and create_nova_conf_neutron param optional,MERGED,2018-06-28 10:03:34.000000000,2018-07-03 11:01:42.000000000,2018-07-02 02:28:17.000000000,"[{'_account_id': 1653}, {'_account_id': 6773}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-06-28 10:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fac887d9b938eb162c3757ecf13ada96ba149f3c', 'message': ""Make configure_neutron_nova_new and create_nova_conf_neutron param optional\n\nThe commit Ie575af4c6c591cd488dab9c48f0fcf211dc7d80d broke\nnetworking-ovn (and potentially other ml2 drivers) by making the config\nparameter mandatory. It doesn't need to be.\n\nChange-Id: I0d5738ac3a6d27ddb7655835d77689409a6ff6f4\n""}, {'number': 2, 'created': '2018-06-28 10:25:11.000000000', 'files': ['lib/neutron', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e63859362487856f1f53c173909cb8aa3bb55bab', 'message': ""Make configure_neutron_nova_new and create_nova_conf_neutron param optional\n\nThe commit e95f2a36645b58b172855213cb8311a3486bfcd9 broke\nnetworking-ovn (and potentially other ml2 drivers) by making the config\nparameter mandatory. It doesn't need to be.\n\nChange-Id: I0d5738ac3a6d27ddb7655835d77689409a6ff6f4\n""}]",2,578752,e63859362487856f1f53c173909cb8aa3bb55bab,16,11,2,6773,,,0,"Make configure_neutron_nova_new and create_nova_conf_neutron param optional

The commit e95f2a36645b58b172855213cb8311a3486bfcd9 broke
networking-ovn (and potentially other ml2 drivers) by making the config
parameter mandatory. It doesn't need to be.

Change-Id: I0d5738ac3a6d27ddb7655835d77689409a6ff6f4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/578752/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'lib/neutron-legacy']",2,fac887d9b938eb162c3757ecf13ada96ba149f3c,fix-devstack, local conf=${1:-$NOVA_CONF}," local conf=""$1""",4,3
openstack%2Fopenstack-ansible-ops~master~Ib03a2836de7271dcbccab7a0742ed98515de859b,openstack/openstack-ansible-ops,master,Ib03a2836de7271dcbccab7a0742ed98515de859b,Use tests repo for common role test requirements,MERGED,2018-07-02 16:26:41.000000000,2018-07-03 10:54:34.000000000,2018-07-03 10:54:34.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 16:26:41.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c9a203597213bcb07b98a6050f037c834a299eed', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: Ib03a2836de7271dcbccab7a0742ed98515de859b\n""}]",0,579628,c9a203597213bcb07b98a6050f037c834a299eed,7,3,1,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Ib03a2836de7271dcbccab7a0742ed98515de859b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/28/579628/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,c9a203597213bcb07b98a6050f037c834a299eed,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""",deps = -r{toxinidir}/test-requirements.txt,1,11
openstack%2Faodh~master~I96811e7644423c74fc2cb5ad62f0c0a09995a821,openstack/aodh,master,I96811e7644423c74fc2cb5ad62f0c0a09995a821,Invalid link to static file in doc,MERGED,2018-07-03 08:26:48.000000000,2018-07-03 10:49:28.000000000,2018-07-03 10:49:28.000000000,"[{'_account_id': 1669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 08:26:48.000000000', 'files': ['doc/source/configuration/aodh-config-file.rst'], 'web_link': 'https://opendev.org/openstack/aodh/commit/179c8b798c5403f481ee2dd164f59f7477b82ef1', 'message': 'Invalid link to static file in doc\n\nChange-Id: I96811e7644423c74fc2cb5ad62f0c0a09995a821\n'}]",0,579805,179c8b798c5403f481ee2dd164f59f7477b82ef1,6,2,1,18320,,,0,"Invalid link to static file in doc

Change-Id: I96811e7644423c74fc2cb5ad62f0c0a09995a821
",git fetch https://review.opendev.org/openstack/aodh refs/changes/05/579805/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/aodh-config-file.rst'],1,179c8b798c5403f481ee2dd164f59f7477b82ef1,,viewed in `file form <../_static/aodh.conf.sample>`_.,viewed in `file form <_static/aodh.conf.sample>`_.,1,1
openstack%2Fmasakari~master~Ib818ba22573bcee799c0202a5a4cf947de232759,openstack/masakari,master,Ib818ba22573bcee799c0202a5a4cf947de232759,Test masakari CI masakari CI test patch,NEW,2016-12-18 13:15:34.000000000,2018-07-03 10:36:30.000000000,,"[{'_account_id': 3}, {'_account_id': 8988}, {'_account_id': 22348}, {'_account_id': 23754}, {'_account_id': 24628}, {'_account_id': 25267}]","[{'number': 1, 'created': '2016-12-18 13:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/43dcd8df2dd47e7bc12a9313012701d7c045acff', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 2, 'created': '2016-12-18 13:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/77d3743d95e613f0064caba923a87f466f5e4a5f', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 3, 'created': '2016-12-18 13:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/15e2628ef02f1ab57f83a466a88018d21e1202af', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 4, 'created': '2016-12-18 13:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/82c906dc2b3343822de1cba643d752b523eab6cb', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 5, 'created': '2016-12-18 13:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae56ff9d5c95b07c6c8e6d7a84331d97a7a3710a', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 6, 'created': '2016-12-18 13:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/caf58dcf4a893815d06df5864277d6247192d91c', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 7, 'created': '2017-02-06 00:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/56b918d3851afc3be94e7f3fec414a2e8f12d7d0', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 8, 'created': '2017-02-14 02:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/407cd1a623a607152b31ae1e21ff66d718ed660a', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 9, 'created': '2017-02-20 08:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4ac3f2219df946ebdec69156e341fea8d86869fb', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 10, 'created': '2017-03-09 01:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b5842e74b77877a15272a044a67115f1a0be5f24', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 11, 'created': '2017-03-15 06:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fe31033cbec119a580003dbea344bd317cf5d04f', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 12, 'created': '2017-03-15 06:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/12e216593a55c4becc3eb0349ae81436f9a51690', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 13, 'created': '2017-03-15 06:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/46dad897f7458f6aeb5ef115b67ae9a2d6b449ea', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 14, 'created': '2017-03-15 06:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d8fcce6accb0f7d6fde6e6330870b14d4bf0121a', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 15, 'created': '2017-03-16 04:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a97967144f0a936295ad7e214e631413cca7b73c', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 16, 'created': '2017-03-16 04:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3593246ab59335ace926d4f4a5f74810af20c921', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 17, 'created': '2017-03-16 04:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4edaf3643eb960a77d00f1b50968570f7baf12ed', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 18, 'created': '2017-03-16 04:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a98a271525fe00cac1afba349da46224195d850e', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 19, 'created': '2017-03-16 04:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/21e191ba43519a682602ebb6353571f77ff60032', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 20, 'created': '2017-03-16 08:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d136561e179fddefd9d44dbf567422a9ac287f95', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 21, 'created': '2017-03-16 08:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3922e5e073c69d9558e6d6ed7085cac0f063d764', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 22, 'created': '2017-03-16 08:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae6fd9f3a0eff6d39fe45dc1e1fc1d075f4ad180', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 23, 'created': '2017-03-16 08:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2713009050faffa9d97120745f335330f29cb968', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 24, 'created': '2017-03-16 08:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8d8dac7e5352436e2b885f0adb3abdc7106e537e', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 25, 'created': '2017-03-17 01:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d6d26e958bc23549d699084c1114f7be5414859c', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 26, 'created': '2017-03-17 01:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fc271d65a2400fe095f259d8059711e9962b1f6b', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 27, 'created': '2017-03-17 01:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9d1f8cff2bf4ecdf6c20614637eb1e90685b0229', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 28, 'created': '2017-03-17 02:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8d7fbd25ea61fc20322e95e06ba430f8a39f6b85', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 29, 'created': '2017-03-17 02:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/75ab15b1e28627fe9fdf9bc360501fb00aebce5c', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 30, 'created': '2017-03-17 06:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b1fbdab6133d3d506063f27c95817ab958a309c3', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 31, 'created': '2017-03-22 06:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/90420885e04161e2124e7f873b21c351d39ef0ca', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 32, 'created': '2017-03-22 06:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/62faa4a58339e0ab076a7ce0b72a6af916769084', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 33, 'created': '2017-03-24 02:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/10d2528a742490986b2abf5cfe044506722793b9', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 34, 'created': '2017-03-24 02:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0e958ca7fac46c225ade8643457e4b5bbbf3133c', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 35, 'created': '2017-03-24 02:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a1357b199764cf8a0bf79667fa10080921e86b4a', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 36, 'created': '2017-03-24 02:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/6bab6678c376e5ca35873f89b6a94dbd1add6e6a', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 37, 'created': '2017-03-24 04:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/35bf779ffe12b19a894ebde98633346babe5c341', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 38, 'created': '2017-03-24 04:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d4c288c8e67bbdae79e62733a6ad95af22e55dbc', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 39, 'created': '2017-03-24 04:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0a8585a4206430548d1d0dece970bff05d1ee0ad', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 40, 'created': '2017-03-24 05:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9d68552873d9ad303836fb319b69d361ed55f083', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 41, 'created': '2017-03-24 05:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fb89725dac17011821d49273d962d281a173e4e5', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 42, 'created': '2017-03-24 05:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/15c75fbe1c34b39da3c16826478c7f789a9a8067', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 43, 'created': '2017-03-24 05:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b93bd26eaaf5e4776ef1ff6901fbe36a8e059126', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 44, 'created': '2017-03-24 05:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a51d6049647862bb562ab7e2f4eb8c2294f35dab', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 45, 'created': '2017-03-24 05:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2f4bb6834738f3c6bab3cdc67afbb697c5061248', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 46, 'created': '2017-04-12 08:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2db62621cb429aef55b5f17ecab569a69bad9bb1', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 47, 'created': '2017-05-16 03:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e10bd3f7a5dde4065bd25d15cc19084500154a91', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 48, 'created': '2017-06-02 02:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b0c0209d927b452e44403ddee582d30afb6acccd', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 49, 'created': '2018-04-11 02:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2158fac338ece7b95f5d847c38434f8981cb9618', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}, {'number': 50, 'created': '2018-07-03 09:26:05.000000000', 'files': ['masakari/manager.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/656fa8aa2a7360d45282afc073e5fba823863c83', 'message': 'Test masakari CI\nmasakari CI test patch\n\nChange-Id: Ib818ba22573bcee799c0202a5a4cf947de232759\n'}]",0,412216,656fa8aa2a7360d45282afc073e5fba823863c83,262,6,50,23754,,,0,"Test masakari CI
masakari CI test patch

Change-Id: Ib818ba22573bcee799c0202a5a4cf947de232759
",git fetch https://review.opendev.org/openstack/masakari refs/changes/16/412216/39 && git format-patch -1 --stdout FETCH_HEAD,['masakari/manager.py'],1,43dcd8df2dd47e7bc12a9313012701d7c045acff,for-ci,# under the License1.,# under the License.,1,1
openstack%2Foslo.policy~master~Id05a41b84123aeb57b193bba97cb9e8442587a51,openstack/oslo.policy,master,Id05a41b84123aeb57b193bba97cb9e8442587a51,Pass dictionary as creds in policy tests,MERGED,2018-06-28 20:40:02.000000000,2018-07-03 10:25:50.000000000,2018-07-03 10:25:50.000000000,"[{'_account_id': 2218}, {'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 20:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/6a02309eaf2c912f10b11856a41be5a77684e1e9', 'message': ""Pass dictionary as creds in policy tests\n\nAccording to the documentation strings for the ``enforce`` method, the\n``creds`` parameter is expected to be a dictionary. The implementation\nalso treats it like a dictionary.\n\nThis commit updates three of the tests in test_policy.py to pass a\ndictionary into enforce instead of just a string called 'creds'.\n\nChange-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51\n""}, {'number': 2, 'created': '2018-07-02 13:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/6a1ad175aab97a5193602ec6f7ea32062d018d35', 'message': ""Pass dictionary as creds in policy tests\n\nAccording to the documentation strings for the ``enforce`` method, the\n``creds`` parameter is expected to be a dictionary. The implementation\nalso treats it like a dictionary.\n\nThis commit updates three of the tests in test_policy.py to pass a\ndictionary into enforce instead of just a string called 'creds'.\n\nChange-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51\n""}, {'number': 3, 'created': '2018-07-02 15:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d7597b124c3fc174a044eeac455eddae6c37b480', 'message': ""Pass dictionary as creds in policy tests\n\nAccording to the documentation strings for the ``enforce`` method, the\n``creds`` parameter is expected to be a dictionary. The implementation\nalso treats it like a dictionary.\n\nThis commit updates three of the tests in test_policy.py to pass a\ndictionary into enforce instead of just a string called 'creds'.\n\nChange-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51\n""}, {'number': 4, 'created': '2018-07-02 16:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/db1e1c50bc71af93e51972387339fabbd55c9945', 'message': ""Pass dictionary as creds in policy tests\n\nAccording to the documentation strings for the ``enforce`` method, the\n``creds`` parameter is expected to be a dictionary. The implementation\nalso treats it like a dictionary.\n\nThis commit updates three of the tests in test_policy.py to pass a\ndictionary into enforce instead of just a string called 'creds'.\n\nChange-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51\n""}, {'number': 5, 'created': '2018-07-02 17:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4e147355616598761ed738e10113117b918d6128', 'message': ""Pass dictionary as creds in policy tests\n\nAccording to the documentation strings for the ``enforce`` method, the\n``creds`` parameter is expected to be a dictionary. The implementation\nalso treats it like a dictionary.\n\nThis commit updates three of the tests in test_policy.py to pass a\ndictionary into enforce instead of just a string called 'creds'.\n\nChange-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51\n""}, {'number': 6, 'created': '2018-07-02 17:31:11.000000000', 'files': ['oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/13a4e789bcf5d1e8bb67f92c866355f180260df9', 'message': ""Pass dictionary as creds in policy tests\n\nAccording to the documentation strings for the ``enforce`` method, the\n``creds`` parameter is expected to be a dictionary. The implementation\nalso treats it like a dictionary.\n\nThis commit updates three of the tests in test_policy.py to pass a\ndictionary into enforce instead of just a string called 'creds'.\n\nChange-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51\n""}]",0,578994,13a4e789bcf5d1e8bb67f92c866355f180260df9,21,5,6,5046,,,0,"Pass dictionary as creds in policy tests

According to the documentation strings for the ``enforce`` method, the
``creds`` parameter is expected to be a dictionary. The implementation
also treats it like a dictionary.

This commit updates three of the tests in test_policy.py to pass a
dictionary into enforce instead of just a string called 'creds'.

Change-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/94/578994/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/tests/test_policy.py'],1,6a02309eaf2c912f10b11856a41be5a77684e1e9,579295," creds = {} result = self.enforcer.enforce(rule, 'target', creds) self.assertEqual(('target', creds, self.enforcer), result) creds = {} result = self.enforcer.enforce('rule', 'target', creds) creds = {} result = self.enforcer.enforce('rule', 'target', creds)"," result = self.enforcer.enforce(rule, 'target', 'creds') self.assertEqual(('target', 'creds', self.enforcer), result) result = self.enforcer.enforce('rule', 'target', 'creds') result = self.enforcer.enforce('rule', 'target', 'creds')",7,4
openstack%2Fkolla~stable%2Fqueens~Iabb3d6d24727dc4a6a34e659cfcfac048c205d32,openstack/kolla,stable/queens,Iabb3d6d24727dc4a6a34e659cfcfac048c205d32,Remove neutron-lbaas from upper-constraints.txt file,MERGED,2018-07-02 09:18:34.000000000,2018-07-03 10:19:12.000000000,2018-07-03 10:19:12.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-07-02 09:18:34.000000000', 'files': ['docker/neutron/neutron-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/01869ce92709ebe9ecc2a9cf3266b4e24210a8a3', 'message': ""Remove neutron-lbaas from upper-constraints.txt file\n\nPatch I49727fb75d9d8c8f411a6c9ca2ef3a3d2836d41b add neutron-lbaas into\nupper-constraints.txt file, which break kolla's gate\n\nIn kolla, the neutron-lbaas is controlled through config.py file, we do\nnot need the constraints.\n\nChange-Id: Iabb3d6d24727dc4a6a34e659cfcfac048c205d32\n""}]",0,579500,01869ce92709ebe9ecc2a9cf3266b4e24210a8a3,8,4,1,7488,,,0,"Remove neutron-lbaas from upper-constraints.txt file

Patch I49727fb75d9d8c8f411a6c9ca2ef3a3d2836d41b add neutron-lbaas into
upper-constraints.txt file, which break kolla's gate

In kolla, the neutron-lbaas is controlled through config.py file, we do
not need the constraints.

Change-Id: Iabb3d6d24727dc4a6a34e659cfcfac048c205d32
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/579500/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-base/Dockerfile.j2'],1,01869ce92709ebe9ecc2a9cf3266b4e24210a8a3,," # remove neturon-lbass, whose version is controlled through config.py file && sed -i '/^neutron-lbaas.*/d' /requirements/upper-constraints.txt \",,2,0
openstack%2Fheat-dashboard~master~I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c,openstack/heat-dashboard,master,I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c,Add support of ScalingPolicy,MERGED,2018-06-22 06:55:01.000000000,2018-07-03 09:59:20.000000000,2018-07-03 09:59:20.000000000,"[{'_account_id': 11468}, {'_account_id': 19224}, {'_account_id': 22348}, {'_account_id': 25221}, {'_account_id': 25936}]","[{'number': 1, 'created': '2018-06-22 06:55:01.000000000', 'files': ['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.html', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-red.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-green.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.spec.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-blue.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-gray.svg'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/4b0fcd3016f480260cc71b1c224de493de730e10', 'message': 'Add support of ScalingPolicy\n\nChange-Id: I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c\nStory: #2002028\nTask: #19669\n'}]",0,577356,4b0fcd3016f480260cc71b1c224de493de730e10,7,5,1,19224,,,0,"Add support of ScalingPolicy

Change-Id: I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c
Story: #2002028
Task: #19669
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/56/577356/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.html', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-red.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-green.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy.spec.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-blue.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__scalingpolicy/os__heat__scalingpolicy-gray.svg']",8,4b0fcd3016f480260cc71b1c224de493de730e10,feature/add-scaling-policy,"<svg xmlns=""http://www.w3.org/2000/svg"" xmlns:xlink=""http://www.w3.org/1999/xlink"" version=""1.1"" width=""55"" height=""55"" viewBox=""0 0 55 55""> <rect id=""backgroundrect"" width=""100%"" height=""100%"" x=""0"" y=""0"" fill=""none"" stroke=""none"" class="""" style=""""/><g class=""currentLayer"" style=""""><title>Layer 1</title><path d=""M42.1771287043557,41.60010476176677 v-20.074996256989024 q0,-0.2398666832176999 -0.17528684499111694,-0.4151538747998659 t-0.41515305392632923,-0.17528719158216585 h-20.07495656319317 q-0.2398662089352129,0 -0.41515305392632923,0.17528719158216585 t-0.17528684499111694,0.4151538747998659 v20.074996256989024 q0,0.2398666832176999 0.17528684499111694,0.4151538747998659 t0.41515305392632923,0.17528719158216585 h20.07495656319317 q0.2398662089352129,0 0.41515305392632923,-0.17528719158216585 t0.17528684499111694,-0.4151538747998659 zm2.3617595956697843,-20.074996256989024 v20.074996256989024 q0,1.2177846994129382 -0.8672086015349999,2.084995015661544 t-2.084990893052231,0.8672103162486069 h-20.07495656319317 q-1.2177822915172334,0 -2.084990893052231,-0.8672103162486069 t-0.8672086015349999,-2.084995015661544 v-20.074996256989024 q0,-1.2177846994129382 0.8672086015349999,-2.084995015661544 t2.084990893052231,-0.8672103162486069 h20.07495656319317 q1.2177822915172334,0 2.084990893052231,0.8672103162486069 t0.8672086015349999,2.084995015661544 zm-7.085278787009353,-7.085292796584362 v2.952205331910151 h-2.3617595956697843 v-2.952205331910151 q0,-0.2398666832176999 -0.17528684499111694,-0.4151538747998659 t-0.41515305392632923,-0.17528719158216585 h-20.07495656319317 q-0.2398662089352129,0 -0.41515305392632923,0.17528719158216585 t-0.17528684499111694,0.4151538747998659 v20.074996256989024 q0,0.2398666832176999 0.17528684499111694,0.4151538747998659 t0.41515305392632923,0.17528719158216585 h2.9521994945872314 v2.3617642655281212 h-2.9521994945872314 q-1.2177822915172334,0 -2.084990893052231,-0.8672103162486069 t-0.8672086015349999,-2.084995015661544 v-20.074996256989024 q0,-1.2177846994129382 0.8672086015349999,-2.084995015661544 t2.084990893052231,-0.8672103162486069 h20.07495656319317 q1.2177822915172334,0 2.084990893052231,0.8672103162486069 t0.8672086015349999,2.084995015661544 z"" id=""svg_1"" class="""" stroke=""#808080"" stroke-opacity=""1"" fill=""#808080"" fill-opacity=""1""/></g><g><title>Layer 2</title> <g><text x=""25"" y=""40"" style=""fill: #808080; stroke: #808080; font-size: 20px;font-family:Helvetica;"" id=""svg_1"" class="""">P</text></g> <g id=""svg_3""> <circle class=""frame"" r=""25"" style=""fill:none;fill-opacity=0.0;stroke-width:3;stroke:#808080"" cy=""27.75"" cx=""27.5"" id=""svg_2""/> </g></g></svg>",,311,0
openstack%2Finstack-undercloud~master~Ie908247405fd02243b380d93f2a4a422ef1a45fd,openstack/instack-undercloud,master,Ie908247405fd02243b380d93f2a4a422ef1a45fd,incompatability spelling error,MERGED,2018-06-14 08:39:01.000000000,2018-07-03 09:54:24.000000000,2018-07-03 09:54:23.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-14 08:39:01.000000000', 'files': ['releasenotes/notes/fix-mistral-error-handling-58010a43f53ded5e.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/6b74fe4e38ad6da9c472ab4769b5dcf9ecf5bb19', 'message': 'incompatability spelling error\n\nthe world incompatability should be incompatibility\n\nChange-Id: Ie908247405fd02243b380d93f2a4a422ef1a45fd\n'}]",0,575371,6b74fe4e38ad6da9c472ab4769b5dcf9ecf5bb19,6,2,1,26776,,,0,"incompatability spelling error

the world incompatability should be incompatibility

Change-Id: Ie908247405fd02243b380d93f2a4a422ef1a45fd
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/71/575371/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-mistral-error-handling-58010a43f53ded5e.yaml'],1,6b74fe4e38ad6da9c472ab4769b5dcf9ecf5bb19,ins," Fixed an incompatibility with mistralclient 3.2.0, where a different"," Fixed an incompatability with mistralclient 3.2.0, where a different",1,1
openstack%2Finstack-undercloud~master~I417623db410330058d30fe7435112f01a0f72c83,openstack/instack-undercloud,master,I417623db410330058d30fe7435112f01a0f72c83,Drop example in config file comments,MERGED,2018-06-26 19:02:46.000000000,2018-07-03 09:54:23.000000000,2018-07-03 09:54:22.000000000,"[{'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-06-26 19:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c13f32c5f04ad2ca1c27b8b19afdc4e37217b8f7', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: I417623db410330058d30fe7435112f01a0f72c83\n'}, {'number': 2, 'created': '2018-06-29 09:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/30366f3689ad37520dbce7704928988b4ccfe9de', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: I417623db410330058d30fe7435112f01a0f72c83\n'}, {'number': 3, 'created': '2018-06-29 09:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0ae5d33a2a9bbc9cecb1a3c23198ba6b9dcbfa16', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: I417623db410330058d30fe7435112f01a0f72c83\n'}, {'number': 4, 'created': '2018-06-29 10:06:10.000000000', 'files': ['undercloud.conf.sample', 'instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/930e2ca49d9515fcf0cc91614be2e3595a6e898b', 'message': 'Drop example in config file comments\n\nThere have been some reports of users misinterpreting\nwhere to place configuration for the provisining subnets\nin undercloud.conf. The example text for the subnets leads\nto users adding the subnets section directly after the\nsubnets option. I.e in the middle of the DEFAULT section\nof the ini file.\n\nThis change drops the example. The ctlplane-subnet section\nis there as an example already.\n\nRelated-Bug: rhbz1585497\nRelated-Bug: #1778779\nChange-Id: I417623db410330058d30fe7435112f01a0f72c83\n'}]",5,578173,930e2ca49d9515fcf0cc91614be2e3595a6e898b,19,7,4,24245,,,0,"Drop example in config file comments

There have been some reports of users misinterpreting
where to place configuration for the provisining subnets
in undercloud.conf. The example text for the subnets leads
to users adding the subnets section directly after the
subnets option. I.e in the middle of the DEFAULT section
of the ini file.

This change drops the example. The ctlplane-subnet section
is there as an example already.

Related-Bug: rhbz1585497
Related-Bug: #1778779
Change-Id: I417623db410330058d30fe7435112f01a0f72c83
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/73/578173/1 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud.conf.sample', 'instack_undercloud/undercloud.py']",2,c13f32c5f04ad2ca1c27b8b19afdc4e37217b8f7,bug/1778779," 'gateway and masquerade.')),"," 'gateway and masquerade.' '\n\n' 'Example:\n\n' 'subnets = subnet1,subnet2\n' '\n' 'An example section/group in config file:\n' '\n' '[subnet1]\n' 'cidr = 192.168.10.0/24\n' 'dhcp_start = 192.168.10.100\n' 'dhcp_end = 192.168.10.200\n' 'inspection_iprange = 192.168.10.20,192.168.10.90\n' 'gateway = 192.168.10.254\n' 'masquerade = True' '\n' '[subnet2]\n' '. . .\n')),",3,36
openstack%2Fironic-lib~master~Icd824982d23966605fb179270bbf428cab23a41d,openstack/ironic-lib,master,Icd824982d23966605fb179270bbf428cab23a41d,Expose GPT partitioning fixing method,MERGED,2018-05-15 08:27:36.000000000,2018-07-03 09:51:36.000000000,2018-07-03 09:51:36.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19578}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-05-15 08:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/6b0b29f5a5791f8a6f1e0de7be56a124a5eaa905', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, this code needs to be\nexposed and used in ironic-python-agent so that\nGPT partition table is properly set when image\nis written on disk with bigger extend.\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 2, 'created': '2018-05-15 09:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e535a0fdacbc392b9377b35b0d0ca2c1e32d7c52', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, this code needs to be\nexposed and used in ironic-python-agent so that\nGPT partition table is properly set when image\nis written on disk with bigger extend.\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 3, 'created': '2018-05-15 13:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ef7979b6411edcfdcca0956f1a5f8cdb3f4e0004', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, this code needs to be\nexposed and used in ironic-python-agent so that\nGPT partition table is properly set when image\nis written on disk with bigger extend.\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 4, 'created': '2018-06-11 10:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/fe7c5551e6b68a92eeaf0684b610a8ac21049ac6', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 5, 'created': '2018-07-01 08:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/033d8cc49c92f10d058db37ffff3a4b7a3a86cc9', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 6, 'created': '2018-07-01 11:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/feb73c22ea74f30f8e78d766e94e1616aa5b11f0', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 7, 'created': '2018-07-01 14:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/1f483f24d5c1c9337bc7692830a1f5cfceb4e138', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 8, 'created': '2018-07-01 15:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/14fbae8fb4531d3415b694a988dd02302affda5f', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 9, 'created': '2018-07-02 04:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/505423d46cd5283fe29178039b97f42494abfbb5', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 10, 'created': '2018-07-02 07:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d8b2d66c70d0c01a08bf617d670ee386365b0312', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}, {'number': 11, 'created': '2018-07-02 09:39:58.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a8097877830233035441aba9e0106fc5913399c2', 'message': 'Expose GPT partitioning fixing method\n\nAs suggested by TheJulia, the `_fix_gpt_structs` code\nwhich is currently not accessible/callable from outside of ironic-lib\nshould be exposed so that other code like ironic-python-agent\ncan use it such as https://review.openstack.org/#/c/568524/\n\nThis patchset now exposes this code as `fix_gpt_structs`\n(no leading underscore).\n\nChange-Id: Icd824982d23966605fb179270bbf428cab23a41d\n'}]",27,568518,a8097877830233035441aba9e0106fc5913399c2,56,7,11,19578,,,0,"Expose GPT partitioning fixing method

As suggested by TheJulia, the `_fix_gpt_structs` code
which is currently not accessible/callable from outside of ironic-lib
should be exposed so that other code like ironic-python-agent
can use it such as https://review.openstack.org/#/c/568524/

This patchset now exposes this code as `fix_gpt_structs`
(no leading underscore).

Change-Id: Icd824982d23966605fb179270bbf428cab23a41d
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/18/568518/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/disk_utils.py'],1,6b0b29f5a5791f8a6f1e0de7be56a124a5eaa905,umaster,"def fix_gpt_partition(node_uuid, device, is_config_drive=None): """"""Fix GPT partition Exposing GPT partition fixing code for ironic-python-agent when config drive is not used. :param node_uuid: UUID of the Node. :param device: The device path. :param is_config_drive: None when called from ironic-python-agent True or False when called from config drive case. :raises: InstanceDeployFailure if exception is caught. """""" try: if is_config_drive is None: disk_is_gpt_partitioned = _is_disk_gpt_partitioned(device, node_uuid) else: disk_is_gpt_partitioned = is_config_drive if disk_is_gpt_partitioned: _fix_gpt_structs(device, node_uuid) if is_config_drive: create_option = '0:-%dMB:0' % MAX_CONFIG_DRIVE_SIZE_MB utils.execute('sgdisk', '-n', create_option, device, run_as_root=True) except Exception as e: msg = (_('Failed to fix GPT partition on disk %(disk)s ' 'for node %(node)s. Error: %(error)s') % {'disk': device, 'node': node_uuid, 'error': e}) LOG.error(msg) raise exception.InstanceDeployFailure(msg) fix_gpt_partition(device, node_uuid, True)"," _fix_gpt_structs(device, node_uuid) create_option = '0:-%dMB:0' % MAX_CONFIG_DRIVE_SIZE_MB utils.execute('sgdisk', '-n', create_option, device, run_as_root=True)",32,4
openstack%2Fopenstack-ansible-os_trove~master~I0bf801416bd0349534588fc7272dffd4b86b7bb9,openstack/openstack-ansible-os_trove,master,I0bf801416bd0349534588fc7272dffd4b86b7bb9,Move database creation into role,MERGED,2018-06-28 16:02:21.000000000,2018-07-03 09:47:01.000000000,2018-07-03 09:47:00.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 16:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/64d0546f72108a5810c987aaceccd6914f612cf6', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'trove_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'trove_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nChange-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9\n""}, {'number': 2, 'created': '2018-06-28 16:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/155889903efc572011341efc1b7c9380d85c5b3c', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'trove_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'trove_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nThe extras folder is removed given that trove's playbooks have been\nmerged into the integrated repository.\n\nChange-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9\n""}, {'number': 3, 'created': '2018-06-28 19:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/b3d847e309c268581372b0efc5697bb3fec808d5', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'trove_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'trove_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nThe extras folder is removed given that trove's playbooks have been\nmerged into the integrated repository.\n\nChange-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9\n""}, {'number': 4, 'created': '2018-06-29 09:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/0c842f462bac657991798258f852f3ba04b62124', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'trove_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'trove_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nThe extras folder is removed given that trove's playbooks have been\nmerged into the integrated repository.\n\nChange-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9\n""}, {'number': 5, 'created': '2018-06-29 13:24:58.000000000', 'files': ['extras/env.d/trove.yml', 'extras/conf.d/trove.yml.example', 'extras/haproxy_trove.yml', 'extras/repo_packages/openstack_trove.yml', 'tasks/trove_db_setup.yml', 'extras/user_secrets.yml', 'extras/os-trove-install.yml', 'tests/os_trove-overrides.yml', 'defaults/main.yml', 'tests/test-install-trove.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/a1b510f7ba8c344db9be366612f06da29622ce26', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'trove_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'trove_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nThe extras folder is removed given that trove's playbooks have been\nmerged into the integrated repository.\n\nChange-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9\n""}]",0,578867,a1b510f7ba8c344db9be366612f06da29622ce26,17,5,5,6816,,,0,"Move database creation into role

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement a new variable called 'trove_db_setup_host'
which is used in the role to allow delegation of the database setup
task to any host, but defaults to the first member of the galera_all
host group. We also document the variable 'trove_galera_address' which
has been used for a long time, but never documented. A bunch of unused
variables have also been removed.

The extras folder is removed given that trove's playbooks have been
merged into the integrated repository.

Change-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/67/578867/2 && git format-patch -1 --stdout FETCH_HEAD,"['extras/env.d/trove.yml', 'extras/conf.d/trove.yml.example', 'extras/haproxy_trove.yml', 'extras/repo_packages/openstack_trove.yml', 'tasks/trove_db_setup.yml', 'extras/user_secrets.yml', 'extras/os-trove-install.yml', 'tests/os_trove-overrides.yml', 'defaults/main.yml', 'tests/test-install-trove.yml']",10,64d0546f72108a5810c987aaceccd6914f612cf6,move-db-setup-into-roles,," - include: common/create-grant-db.yml db_name: ""{{ trove_galera_database_name }}"" db_password: ""{{ trove_galera_password }}""",29,175
openstack%2Fopenstack-ansible-os_trove~master~I4df8f1a83b09eba3ce35d88373c392a1715ccad4,openstack/openstack-ansible-os_trove,master,I4df8f1a83b09eba3ce35d88373c392a1715ccad4,Add packages required for osprofiler,MERGED,2018-06-08 04:45:50.000000000,2018-07-03 09:47:01.000000000,2018-07-03 09:47:01.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-06-08 04:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/bb27ed020faecd9e6ece1d60596138dae0ba0176', 'message': 'Add packages required for osprofiler\n\nThe following packages are required in-order to run osprofiler.\nthese packages will provide deployers the ability to profile\na service on demand should they choose to enable the profile\nfunctionality.\n\nChange-Id: I4df8f1a83b09eba3ce35d88373c392a1715ccad4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-06-12 03:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2d59567df33841e01db3ac339748fc9caf31578f', 'message': 'Add packages required for osprofiler\n\nThe following packages are required in-order to run osprofiler.\nthese packages will provide deployers the ability to profile\na service on demand should they choose to enable the profile\nfunctionality.\n\nChange-Id: I4df8f1a83b09eba3ce35d88373c392a1715ccad4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-07-02 23:21:40.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/1c7022dd72a7cd15d36be3d7428039b29919b70b', 'message': 'Add packages required for osprofiler\n\nThe following packages are required in-order to run osprofiler.\nthese packages will provide deployers the ability to profile\na service on demand should they choose to enable the profile\nfunctionality.\n\nChange-Id: I4df8f1a83b09eba3ce35d88373c392a1715ccad4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,573518,1c7022dd72a7cd15d36be3d7428039b29919b70b,24,5,3,7353,,,0,"Add packages required for osprofiler

The following packages are required in-order to run osprofiler.
these packages will provide deployers the ability to profile
a service on demand should they choose to enable the profile
functionality.

Change-Id: I4df8f1a83b09eba3ce35d88373c392a1715ccad4
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/18/573518/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,bb27ed020faecd9e6ece1d60596138dae0ba0176,osprofiler, - elasticsearch - osprofiler,,2,0
openstack%2Fopenstack-ansible-os_trove~master~Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47,openstack/openstack-ansible-os_trove,master,Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47,Add systemd tags to include role,MERGED,2018-06-28 00:02:08.000000000,2018-07-03 09:47:00.000000000,2018-07-03 09:47:00.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 00:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/3ee180f0ff5513c38a81d99dd6c4728a950533ce', 'message': 'Add systemd tags to include role\n\nThere are times when a deployer will need to reconfigure parts of\nan environment and having a general purpose tag to run said operation\nwill be important especicially should the deployer be needing to\nreconfigure systemd unit files in a downtime event. This change adds\na general purpose systemd tag where include_role and systemd is found\nwhich will assit operators with day2 operational tasks.\n\nChange-Id: Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-07-02 23:21:02.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/0fc0cc2ff994d415b4455f2cfc678dd8ccbdf5eb', 'message': 'Add systemd tags to include role\n\nThere are times when a deployer will need to reconfigure parts of\nan environment and having a general purpose tag to run said operation\nwill be important especicially should the deployer be needing to\nreconfigure systemd unit files in a downtime event. This change adds\na general purpose systemd tag where include_role and systemd is found\nwhich will assit operators with day2 operational tasks.\n\nChange-Id: Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,578608,0fc0cc2ff994d415b4455f2cfc678dd8ccbdf5eb,18,5,2,7353,,,0,"Add systemd tags to include role

There are times when a deployer will need to reconfigure parts of
an environment and having a general purpose tag to run said operation
will be important especicially should the deployer be needing to
reconfigure systemd unit files in a downtime event. This change adds
a general purpose systemd tag where include_role and systemd is found
which will assit operators with day2 operational tasks.

Change-Id: Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/08/578608/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,3ee180f0ff5513c38a81d99dd6c4728a950533ce,common-systemd-service, - systemd-service,,1,0
openstack%2Fopenstack-ansible-os_trove~master~Idfa2ba78862912aea856c1e54b22e45de857a9c4,openstack/openstack-ansible-os_trove,master,Idfa2ba78862912aea856c1e54b22e45de857a9c4,correct typo in service setup,MERGED,2018-06-27 23:08:04.000000000,2018-07-03 09:46:59.000000000,2018-07-03 09:46:59.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 23:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/e77582b682db23c1cf3bf6fa655458b36e873120', 'message': 'correct typo in service setup\n\nChange-Id: Idfa2ba78862912aea856c1e54b22e45de857a9c4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-07-02 23:20:49.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/fb1b211021457973680c4764ea24a33af97182f9', 'message': 'correct typo in service setup\n\nChange-Id: Idfa2ba78862912aea856c1e54b22e45de857a9c4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,578584,fb1b211021457973680c4764ea24a33af97182f9,12,4,2,7353,,,0,"correct typo in service setup

Change-Id: Idfa2ba78862912aea856c1e54b22e45de857a9c4
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/84/578584/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e77582b682db23c1cf3bf6fa655458b36e873120,common-systemd-service, systemd_lock_path: /var/lock/trove, system_lock_path: /var/lock/trove,1,1
openstack%2Fopenstack-ansible-os_trove~master~Icc31c4913238d3608ff05d54f47099a3377dd32d,openstack/openstack-ansible-os_trove,master,Icc31c4913238d3608ff05d54f47099a3377dd32d,Use tests repo for common role test requirements,MERGED,2018-07-02 15:45:49.000000000,2018-07-03 09:44:52.000000000,2018-07-03 09:44:52.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 15:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/bd423765c02ad344beb20c8f2603e2914c59c30f', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: Icc31c4913238d3608ff05d54f47099a3377dd32d\n""}, {'number': 2, 'created': '2018-07-02 23:20:24.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/e64a0253cebd63f52cfd123d2846ebca4e822125', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: Icc31c4913238d3608ff05d54f47099a3377dd32d\n""}]",0,579610,e64a0253cebd63f52cfd123d2846ebca4e822125,10,4,2,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Icc31c4913238d3608ff05d54f47099a3377dd32d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/10/579610/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,bd423765c02ad344beb20c8f2603e2914c59c30f,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""",deps = -r{toxinidir}/test-requirements.txt[testenv:ansible] deps = {[testenv]deps} -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps},1,28
openstack%2Fopenstack-ansible-os_trove~master~Icc7feffcc38174c2e35f16d2b65edae9e8d27b66,openstack/openstack-ansible-os_trove,master,Icc7feffcc38174c2e35f16d2b65edae9e8d27b66,Reduce distro packages installed,MERGED,2018-06-29 13:22:01.000000000,2018-07-03 09:37:50.000000000,2018-07-03 09:37:50.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 13:22:01.000000000', 'files': ['vars/redhat.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2afcbefe3db64c8e2e3cedd27f8a47732075462c', 'message': ""Reduce distro packages installed\n\nIt's not clear why all these packages are being installed.\nThey don't seem to relate to the service itself or the role's\nrequirements to run the service.\n\nChange-Id: Icc7feffcc38174c2e35f16d2b65edae9e8d27b66\n""}]",0,579153,2afcbefe3db64c8e2e3cedd27f8a47732075462c,11,4,1,6816,,,0,"Reduce distro packages installed

It's not clear why all these packages are being installed.
They don't seem to relate to the service itself or the role's
requirements to run the service.

Change-Id: Icc7feffcc38174c2e35f16d2b65edae9e8d27b66
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/53/579153/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/ubuntu-16.04.yml']",2,2afcbefe3db64c8e2e3cedd27f8a47732075462c,,, - git - build-essential - python-dev - python-software-properties - python-pip - mysql-client - libxslt1-dev,0,14
openstack%2Fmistral~master~I084b8acfa01e80ac287983667e3285d7fc0d58b9,openstack/mistral,master,I084b8acfa01e80ac287983667e3285d7fc0d58b9,Remove time.sleep from tests,MERGED,2018-06-27 11:29:20.000000000,2018-07-03 09:31:55.000000000,2018-07-03 09:31:55.000000000,"[{'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 11:29:20.000000000', 'files': ['mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/tests/unit/engine/test_cron_trigger.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/dc8b50e036d4a1eeb6979332d8f92479be819f0d', 'message': 'Remove time.sleep from tests\n\nUse the await method instead of time.sleep to improve the tests.\n\nCloses-Bug: 1778757\nChange-Id: I084b8acfa01e80ac287983667e3285d7fc0d58b9\n'}]",0,578359,dc8b50e036d4a1eeb6979332d8f92479be819f0d,12,4,1,15895,,,0,"Remove time.sleep from tests

Use the await method instead of time.sleep to improve the tests.

Closes-Bug: 1778757
Change-Id: I084b8acfa01e80ac287983667e3285d7fc0d58b9
",git fetch https://review.opendev.org/openstack/mistral refs/changes/59/578359/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/tests/unit/engine/test_cron_trigger.py']",2,dc8b50e036d4a1eeb6979332d8f92479be819f0d,bug/1778757," self._await( lambda: triggers.get_next_cron_triggers(), fail_message=""No triggers were found"" ) next_triggers = triggers.get_next_cron_triggers() self._await( lambda: triggers.get_next_cron_triggers(), fail_message=""No triggers were found"" )",import time time.sleep(1) # this is to give time for a next execution next_triggers = triggers.get_next_cron_triggers() time.sleep(1) # this is to simulate lagging,14,7
openstack%2Fopenstack-ansible~master~I582f33a7233515e139f5a0c1fd6e47dfdfd305bf,openstack/openstack-ansible,master,I582f33a7233515e139f5a0c1fd6e47dfdfd305bf,Use requirements_constraints for pip installs,ABANDONED,2018-01-24 16:31:21.000000000,2018-07-03 09:23:56.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-01-24 16:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d99ad1093710b81784be4eb82f8e94e6457598a0', 'message': 'Use requirements_constraints for pip installs\n\nInstead of assuming that the repo has all wheels built,\nthis patch sets the pip install constraints to use the\nadjusted requirements_constraints file on the repo server\nwhich now uses the upstream git URL or the repo server\ngit URL depending on the repo_build_type.\n\nThis is another step towards simplifying the python\ninstallation process and to reduce the reliance on\nthe repo server having all python wheels pre-built.\n\nChange-Id: I582f33a7233515e139f5a0c1fd6e47dfdfd305bf\nDepends-On: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 2, 'created': '2018-02-18 16:22:41.000000000', 'files': ['inventory/group_vars/repo_all.yml', 'playbooks/utility-install.yml', 'inventory/group_vars/all/pip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34cd735516e74e5ec3a4b2be0b2ae812098ac807', 'message': 'Use requirements_constraints for pip installs\n\nInstead of assuming that the repo has all wheels built,\nthis patch sets the pip install constraints to use the\nadjusted requirements_constraints file on the repo server\nwhich now uses the upstream git URL or the repo server\ngit URL depending on the repo_build_type.\n\nThis is another step towards simplifying the python\ninstallation process and to reduce the reliance on\nthe repo server having all python wheels pre-built.\n\nSome of the previously implemented comments related to\nthe repo server pip configuration have been adjusted for\nimproved clarity.\n\nChange-Id: I582f33a7233515e139f5a0c1fd6e47dfdfd305bf\nDepends-On: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}]",0,537446,34cd735516e74e5ec3a4b2be0b2ae812098ac807,16,3,2,6816,,,0,"Use requirements_constraints for pip installs

Instead of assuming that the repo has all wheels built,
this patch sets the pip install constraints to use the
adjusted requirements_constraints file on the repo server
which now uses the upstream git URL or the repo server
git URL depending on the repo_build_type.

This is another step towards simplifying the python
installation process and to reduce the reliance on
the repo server having all python wheels pre-built.

Some of the previously implemented comments related to
the repo server pip configuration have been adjusted for
improved clarity.

Change-Id: I582f33a7233515e139f5a0c1fd6e47dfdfd305bf
Depends-On: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/537446/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/utility-install.yml', 'inventory/group_vars/all/pip.yml']",2,d99ad1093710b81784be4eb82f8e94e6457598a0,bp/python-build-install-simplification,"pip_install_upper_constraints: ""{{ repo_release_path }}/requirements_constraints.txt""","pip_install_upper_constraints: ""{{ repo_release_path }}/requirements_absolute_requirements.txt""",2,2
openstack%2Fopenstack-ansible-repo_build~master~I90fd488956f3d5f9e8ad6f189b635e6a083d0a27,openstack/openstack-ansible-repo_build,master,I90fd488956f3d5f9e8ad6f189b635e6a083d0a27,Make the git clone and wheel build optional,ABANDONED,2018-01-23 23:50:13.000000000,2018-07-03 09:23:50.000000000,,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-23 23:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/c174171c516d4889196056859fafc32ba4cdee5f', 'message': ""[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- add tests for each option\n- make the venv build process use the local git clones\n  properly while the constraints file provides URL's\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 2, 'created': '2018-01-24 11:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/1d288e0703fa6292e5478f6a98f46cd9926f3d93', 'message': ""[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- add tests for each option\n- make the venv build process use the local git clones\n  properly while the constraints file provides URL's\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 3, 'created': '2018-01-24 12:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/91eb5e8c8d7d4fbfdd28d270fd311ec8fb804bc3', 'message': '[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- add tests for each option\n- make the venv build process use the local git repo\n  if git clones are being done\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 4, 'created': '2018-01-24 14:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/f3e3ce112b92a6f8b30f6bcbc83b6b649a2b99bf', 'message': '[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- add tests for each option\n- make the venv build process use the local git repo\n  if git clones are being done\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 5, 'created': '2018-01-24 16:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/cdef78ac393bea05f7aa132bbf0c9a05f794f9f7', 'message': '[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- add tests for each option\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 6, 'created': '2018-02-10 14:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/d09797e6d29b8d735a5a2624db3880ccf9f4d0ed', 'message': '[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- add tests for each option\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 7, 'created': '2018-02-18 14:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/04ec28440ae866697295efe59fd428b523fb7fac', 'message': '[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 8, 'created': '2018-02-18 15:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/7ca17eab9c49e329b75715752132c652dcfbbbd2', 'message': '[WIP] Make the git clone and wheel build optional\n\nAs a minimal set of changes to speed up deployments of\nQueens and cut down on unnecessary build time, this\npatch allows the repo build to be changed to no longer\nbuild the wheels before building the venvs. It also\nadjusts the requirements_constraints.txt file to contain\neverything required. Once the integrated build uses it\ninstead of requirements_absolute_requirements.txt for\nconstraints we can get rid of the extra file.\n\nTODO:\n- write up a release note\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 9, 'created': '2018-02-18 16:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/a9f2d9ec51e92d6ff3e43a411c4bbbec51eeda4f', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- split out the constraints into separate files so\n  that they are more obvious and we get rid of all\n  the jinja consolidation\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- flatten the wheel build and get rid of the symlinks\n  from os-releases to the pool directory, then get rid\n  of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- make all pip configuration present in pip.conf rather\n  than using cli options - this makes what's happening\n  much more obvious\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 10, 'created': '2018-02-19 13:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/3fc39bed740d42202842aa6452d3b6ab4c921094', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- split out the constraints into separate files so\n  that they are more obvious and we get rid of all\n  the jinja consolidation\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- flatten the wheel build and get rid of the symlinks\n  from os-releases to the pool directory, then get rid\n  of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- make all pip configuration present in pip.conf rather\n  than using cli options - this makes what's happening\n  much more obvious\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 11, 'created': '2018-02-19 22:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/3f3609ca7894a155d3302d33e0f17807d41902fa', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 12, 'created': '2018-02-20 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/bdb74d4ff04ecbdb48d362f930b2c253de3c5a84', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 13, 'created': '2018-02-20 10:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/890588bf7daa334f4e4365f42220518f83accc32', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 14, 'created': '2018-02-20 17:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/9f38d907bc34dc47fa22fd5585f246b00141b5b3', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 15, 'created': '2018-02-20 17:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/b73a17a5df4f2a903bad4ae729f9896f03fc0d2d', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be customised to only build the venvs,\nor to build the minimal selection (as with queens and\nbefore), or to build a full set of wheels/venvs.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe requirements_constraints.txt file now contains all\ninformation required for the integrated build to\ncomplete the installation process using locally built\nor cached or only online resources as applicable. Once\nthe integrated build uses it instead of\nrequirements_absolute_requirements.txt for constraints\nwe can get rid of the extra file.\n\nTODO:\n- write up a release note\n\n- implement something for the venv build to use the\n  local git cache if it is present - right now the\n  integrated build fails because the repo build is\n  being given the git cache via the haproxy address\n  and haproxy is not yet running\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 16, 'created': '2018-02-20 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/9d00bd25a56fa1fcee38150b66d2fd53cc184136', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be set (using the minimal build type)\nto only build what is absolutely required in order to\nfacilitate the execution of the integrated build.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe constraints used are split out into multiple files\nto make their purpose and application more obvious, and\nalso to allow us to get rid of all the jinja required\nto process the various sources from upstream into a\nsingle file given that pip is able to resolve them\nitself (it uses the first applicable constraint it\nfinds). Once the integrated build is using these files\nwe can removed the majority of the complexity from the\nrepo_build role.\n\nTasks are heavily commented to specify notes to bear\nin mind and where tasks are removable once dependencies\nare removed from other repositories.\n\nThe test-vars are updated to help with the full build\ntests. The variables are updated to match recent changes\nin the gnocchi repository.\n\nTODO:\n- write up a release note\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 17, 'created': '2018-02-20 19:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/b947c5932dd29463ec58483738e72608adfec178', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be set (using the minimal build type)\nto only build what is absolutely required in order to\nfacilitate the execution of the integrated build.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe constraints used are split out into multiple files\nto make their purpose and application more obvious, and\nalso to allow us to get rid of all the jinja required\nto process the various sources from upstream into a\nsingle file given that pip is able to resolve them\nitself (it uses the first applicable constraint it\nfinds). Once the integrated build is using these files\nwe can removed the majority of the complexity from the\nrepo_build role.\n\nTasks are heavily commented to specify notes to bear\nin mind and where tasks are removable once dependencies\nare removed from other repositories.\n\nThe test-vars are updated to help with the full build\ntests. The variables are updated to match recent changes\nin the gnocchi repository.\n\nTODO:\n- write up a release note\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 18, 'created': '2018-02-23 22:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/ae3fb5a9f5a90174abb50df62b55a0108bcdbe3a', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be set (using the minimal build type)\nto only build what is absolutely required in order to\nfacilitate the execution of the integrated build.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe constraints used are split out into multiple files\nto make their purpose and application more obvious, and\nalso to allow us to get rid of all the jinja required\nto process the various sources from upstream into a\nsingle file given that pip is able to resolve them\nitself (it uses the first applicable constraint it\nfinds). Once the integrated build is using these files\nwe can removed the majority of the complexity from the\nrepo_build role.\n\nTasks are heavily commented to specify notes to bear\nin mind and where tasks are removable once dependencies\nare removed from other repositories.\n\nThe test-vars are updated to help with the full build\ntests. The variables are updated to match recent changes\nin the gnocchi repository.\n\nTODO:\n- write up a release note\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\n- complete make all pip configuration present in pip.conf\n  right from the start, rather than using cli options in\n  the build or pip install tasks - this makes what's\n  happening much more obvious and much simpler to keep\n  consistent between humans doing things and ansible doing\n  things\n\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 19, 'created': '2018-02-24 16:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/08c985d100b985ea38a66df64ab66f9bf6393761', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be set (using the minimal build type)\nto only build what is absolutely required in order to\nfacilitate the execution of the integrated build.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe constraints used are split out into multiple files\nto make their purpose and application more obvious, and\nalso to allow us to get rid of all the jinja required\nto process the various sources from upstream into a\nsingle file given that pip is able to resolve them\nitself (it uses the first applicable constraint it\nfinds). Once the integrated build is using these files\nwe can removed the majority of the complexity from the\nrepo_build role.\n\nTasks are heavily commented to specify notes to bear\nin mind and where tasks are removable once dependencies\nare removed from other repositories.\n\nThe test-vars are updated to help with the full build\ntests. The variables are updated to match recent changes\nin the gnocchi repository.\n\nTODO:\n- write up a release note\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\nDepends-On: https://review.openstack.org/547762\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 20, 'created': '2018-02-24 17:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/e7d7d8956dc742432154215a564a3d2a8670b72c', 'message': ""[WIP] Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be set (using the minimal build type)\nto only build what is absolutely required in order to\nfacilitate the execution of the integrated build.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe constraints used are split out into multiple files\nto make their purpose and application more obvious, and\nalso to allow us to get rid of all the jinja required\nto process the various sources from upstream into a\nsingle file given that pip is able to resolve them\nitself (it uses the first applicable constraint it\nfinds). Once the integrated build is using these files\nwe can removed the majority of the complexity from the\nrepo_build role.\n\nTasks are heavily commented to specify notes to bear\nin mind and where tasks are removable once dependencies\nare removed from other repositories.\n\nThe test-vars are updated to help with the full build\ntests. The variables are updated to match recent changes\nin the gnocchi repository.\n\nTODO:\n- write up a release note\n\n- define a data structure which can replace the py_pkgs\n  lookup\n\n- get rid of the pip links configuration in the integrated\n  build as it's no longer necessary - pypiserver serves\n  anything it has\n\nDepends-On: https://review.openstack.org/547762\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 21, 'created': '2018-03-01 17:37:52.000000000', 'files': ['tasks/main.yml', 'tasks/repo_build_prepare.yml', 'templates/venv-build-options.txt.j2', 'defaults/main.yml', 'tests/test-vars.yml', 'tests/test-install-server.yml', 'templates/op-release-script.sh.j2', 'templates/requirements_constraints.txt.j2', 'zuul.d/project.yaml', 'tests/test-repo-build.yml', 'tox.ini', 'zuul.d/jobs.yaml', 'tasks/repo_build_wheels.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/7809300e602090be7a966ab9480aa4b7eb2f857f', 'message': 'Make the git clone and wheel build optional\n\nTo cut down on unnecessary build time, the repo build\nprocess can now be set (using the minimal build type)\nto only build what is absolutely required in order to\nfacilitate the execution of the integrated build.\n\nThe minimal build only builds the venvs and does not\nbother downloading the git repositories or building\nthe wheels any more. The git repositories are\ndownloaded by any of the hosts which need them, and\nthe wheels are downloaded through the reverse proxy\nsetup to cache pypi on the repo server.\n\nThe constraints used are split out into multiple files\nto make their purpose and application more obvious, and\nalso to allow us to get rid of all the jinja required\nto process the various sources from upstream into a\nsingle file given that pip is able to resolve them\nitself (it uses the first applicable constraint it\nfinds). Once the integrated build is using these files\nwe can removed the majority of the complexity from the\nrepo_build role.\n\nTasks are heavily commented to specify notes to bear\nin mind and where tasks are removable once dependencies\nare removed from other repositories.\n\nThe test-vars are updated to help with the full build\ntests. The variables are updated to match recent changes\nin the gnocchi repository.\n\nDepends-On: https://review.openstack.org/547762\nChange-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}]",4,537015,7809300e602090be7a966ab9480aa4b7eb2f857f,66,4,21,6816,,,0,"Make the git clone and wheel build optional

To cut down on unnecessary build time, the repo build
process can now be set (using the minimal build type)
to only build what is absolutely required in order to
facilitate the execution of the integrated build.

The minimal build only builds the venvs and does not
bother downloading the git repositories or building
the wheels any more. The git repositories are
downloaded by any of the hosts which need them, and
the wheels are downloaded through the reverse proxy
setup to cache pypi on the repo server.

The constraints used are split out into multiple files
to make their purpose and application more obvious, and
also to allow us to get rid of all the jinja required
to process the various sources from upstream into a
single file given that pip is able to resolve them
itself (it uses the first applicable constraint it
finds). Once the integrated build is using these files
we can removed the majority of the complexity from the
repo_build role.

Tasks are heavily commented to specify notes to bear
in mind and where tasks are removable once dependencies
are removed from other repositories.

The test-vars are updated to help with the full build
tests. The variables are updated to match recent changes
in the gnocchi repository.

Depends-On: https://review.openstack.org/547762
Change-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/15/537015/10 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/repo_build_prepare.yml', 'templates/requirements_constraints.txt.j2', 'templates/venv-build-options.txt.j2', 'defaults/main.yml', 'tasks/repo_build_wheels.yml']",6,c174171c516d4889196056859fafc32ba4cdee5f,bp/python-build-install-simplification,# TODO(odyssey4me): # Move this out of the wheel build section.,,91,9
openstack%2Fopenstack-ansible~master~I307da89d44a893c4e0d9cdf17296192c3db36b3f,openstack/openstack-ansible,master,I307da89d44a893c4e0d9cdf17296192c3db36b3f,Set the default pip index to use the pypi cache when possible,ABANDONED,2017-11-24 12:27:51.000000000,2018-07-03 09:23:19.000000000,,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24441}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-11-24 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1209e509f36561cfa86f43a933f38fe755900df6', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nImplements: blueprint python-build-install-simplification\n'}, {'number': 2, 'created': '2017-11-24 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ec4bb0368211c1761d3674eadf8fa724575a3a68', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nImplements: blueprint python-build-install-simplification\n'}, {'number': 3, 'created': '2017-11-24 16:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/934c651e0d09df1f8d1fedf23c54ad4df36d1eaa', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nImplements: blueprint python-build-install-simplification\n'}, {'number': 4, 'created': '2017-11-24 16:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c793b812113985d0145105ecea6b73a8909df900', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nImplements: blueprint python-build-install-simplification\n'}, {'number': 5, 'created': '2017-12-04 11:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c7d2881e9bd9bfec1cda226fd9819697b3c2611', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 6, 'created': '2017-12-04 11:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3cf1c6bf060fa1d958ec2d2ef7efed1b79c3b390', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 7, 'created': '2017-12-04 12:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7b83d6513ac8d28360c0c02f775ed02de3c7ceb', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 8, 'created': '2017-12-04 12:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7dc2bf9fe76ce198a425c5d227b777f33ba44a3a', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 9, 'created': '2017-12-04 17:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f3b327d71add757e9f9a0d97c252f2a294f0da5', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nDepends-On: I1e9782eb0fd72690a9644c7a01e8c83a4486872b\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 10, 'created': '2017-12-05 18:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ebfed1d15c7994c4dfd9634f8f7baa83d60213e', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nDepends-On: I1e9782eb0fd72690a9644c7a01e8c83a4486872b\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 11, 'created': '2017-12-05 19:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e3683fd9be871d3f922104062050b421fdbdfe2', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nDepends-On: I1e9782eb0fd72690a9644c7a01e8c83a4486872b\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}, {'number': 12, 'created': '2017-12-07 14:33:31.000000000', 'files': ['group_vars/all/pip.yml', 'playbooks/lxc-containers-create.yml', 'playbooks/common-tasks/set-upper-constraints.yml', 'group_vars/repo_all.yml', 'playbooks/lxc-hosts-setup.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34de5ddc050785b2a72013927781279d819d45ce', 'message': 'Set the default pip index to use the pypi cache when possible\n\nOnce the repo server is up, the pypi cache will be available\nto be used. This implements the changes to detect whether it\nis available - this is important for the plays doing pip\ninstalls before the repo server is available. Once it is\navailable the same plays will use it.\n\nAll playbooks after the repo-server playbook will then\nbenefit from using it.\n\nWe also remove the use of the pip_lock_to_internal_repo\nvariable as we want to change the pip.conf to set the\nindex, instead of setting no-index and only relying on\nlinks.\n\nFinally, we set the AIO in OpenStack-Infra to make use of\nthe appropriate infra mirror for the nginx reverse proxy.\n\nChange-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f\nDepends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63\nDepends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608\nDepends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7\nDepends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a\nDepends-On: I1e9782eb0fd72690a9644c7a01e8c83a4486872b\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}]",10,522802,34de5ddc050785b2a72013927781279d819d45ce,50,8,12,6816,,,0,"Set the default pip index to use the pypi cache when possible

Once the repo server is up, the pypi cache will be available
to be used. This implements the changes to detect whether it
is available - this is important for the plays doing pip
installs before the repo server is available. Once it is
available the same plays will use it.

All playbooks after the repo-server playbook will then
benefit from using it.

We also remove the use of the pip_lock_to_internal_repo
variable as we want to change the pip.conf to set the
index, instead of setting no-index and only relying on
links.

Finally, we set the AIO in OpenStack-Infra to make use of
the appropriate infra mirror for the nginx reverse proxy.

Change-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f
Depends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63
Depends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608
Depends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7
Depends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a
Depends-On: I1e9782eb0fd72690a9644c7a01e8c83a4486872b
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/522802/3 && git format-patch -1 --stdout FETCH_HEAD,"['group_vars/all/pip.yml', 'playbooks/common-tasks/set-upper-constraints.yml', 'group_vars/repo_all.yml']",3,1209e509f36561cfa86f43a933f38fe755900df6,bp/python-build-install-simplification,,# Disable the pip lock down for the repo servers pip_lock_to_internal_repo: False ,21,4
openstack%2Frally~master~I1796182339023d4f04ed08c185ffe99835b44655,openstack/rally,master,I1796182339023d4f04ed08c185ffe99835b44655,Update config sample file,MERGED,2018-07-02 13:23:03.000000000,2018-07-03 09:13:54.000000000,2018-07-03 09:13:54.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 13:23:03.000000000', 'files': ['etc/rally/rally.conf.sample', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/1deae09758611bcf65836ec4a1ec116845b16af1', 'message': 'Update config sample file\n\nChange-Id: I1796182339023d4f04ed08c185ffe99835b44655\n'}]",0,579552,1deae09758611bcf65836ec4a1ec116845b16af1,6,2,1,9545,,,0,"Update config sample file

Change-Id: I1796182339023d4f04ed08c185ffe99835b44655
",git fetch https://review.opendev.org/openstack/rally refs/changes/52/579552/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/rally/rally.conf.sample', 'CHANGELOG.rst']",2,1deae09758611bcf65836ec4a1ec116845b16af1,docker,* OpenStack related configuration options for sample file.,,6,566
openstack%2Fheat-dashboard~master~Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11,openstack/heat-dashboard,master,Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11,Add support of AutoScalingGroup,MERGED,2018-06-21 05:30:13.000000000,2018-07-03 09:10:20.000000000,2018-07-03 09:10:20.000000000,"[{'_account_id': 19224}, {'_account_id': 22348}, {'_account_id': 25221}, {'_account_id': 25936}]","[{'number': 1, 'created': '2018-06-21 05:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6d4f73fc3a4ee0607da74e585e9619c21d6a6e39', 'message': 'Add support of AutoScalingGroup\n\nChange-Id: Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11\nTask: #19672\nStory: #2002031\n'}, {'number': 2, 'created': '2018-06-22 06:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/b3ff25b0f16e6c47d6b9961ee61ce864422eb3cc', 'message': 'Add support of AutoScalingGroup\n\nChange-Id: Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11\nTask: #19672\nStory: #2002031\n'}, {'number': 3, 'created': '2018-06-22 07:24:19.000000000', 'files': ['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-gray.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/components/template-generator.module.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.html', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/components/modal-template.controller.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-red.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-green.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-blue.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.spec.js'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6a260ecd5ddc37e52555a45a38785ce5034f7301', 'message': 'Add support of AutoScalingGroup\n\nChange-Id: Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11\nTask: #19672\nStory: #2002031\n'}]",0,577066,6a260ecd5ddc37e52555a45a38785ce5034f7301,11,4,3,19224,,,0,"Add support of AutoScalingGroup

Change-Id: Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11
Task: #19672
Story: #2002031
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/66/577066/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-gray.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/components/template-generator.module.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.html', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/components/modal-template.controller.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-red.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-blue.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup-green.svg', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__heat__autoscalinggroup/os__heat__autoscalinggroup.spec.js']",10,6d4f73fc3a4ee0607da74e585e9619c21d6a6e39,feature/add-auto-scaling-group,"(function() { 'use strict'; describe('component os-heat-auto-scaling-group', function(){ beforeEach(module('horizon.dashboard.project.heat_dashboard.template_generator')); beforeEach(module('appTemplates')); var $scope, $isolateScope, $compile; var hotgenNotify; var element; beforeEach(inject(function($injector) { $scope = $injector.get('$rootScope').$new(); $compile = $injector.get('$compile'); hotgenNotify = $injector.get('hotgenNotify'); spyOn(hotgenNotify, 'show_success'); spyOn(hotgenNotify, 'show_error'); $scope.resource = {}; $scope.dependson = []; $scope.connectedoptions = []; $scope.resourceForm = {}; // element will enable you to test your directive's element on the DOM element = $compile(angular.element('<os-heat-autoscalinggroup autoscalinggroup=""resource""'+ ' dependson=""dependson"" connectedoptions=""connectedoptions""'+ ' form-reference=""resourceForm""></os-heat-autoscalinggroup>'))($scope); // Digest needs to be called to set any values on the directive's scope $scope.$digest(); $isolateScope = element.isolateScope(); })); it('find tab title Properties', function() { expect(element.find('span').html()).toContain(""Properties""); expect($isolateScope.is_upload).toEqual('false'); }); it('find tab title with resource set', function() { $scope.resource = {resource: {type: 'filepath.yaml'}}; // element will enable you to test your directive's element on the DOM element = $compile(angular.element('<os-heat-autoscalinggroup autoscalinggroup=""resource""'+ ' dependson=""dependson"" connectedoptions=""connectedoptions""'+ ' form-reference=""resourceForm""></os-heat-autoscalinggroup'))($scope); // Digest needs to be called to set any values on the directive's scope $scope.$digest(); $isolateScope = element.isolateScope(); expect($isolateScope.is_upload ).toEqual('true'); }); it('$scope.is_upload should be successfully watched', function() { $isolateScope.is_upload = 'true'; $isolateScope.$digest(); $isolateScope.is_upload = 'false'; $isolateScope.$digest(); $isolateScope.filecontent = 'some thing here'; $isolateScope.is_upload = 'true'; $isolateScope.$digest(); expect($isolateScope.controller.autoscalinggroup.resource.type ).toEqual(''); }); it('file should be successfully uploaded', function() { var blob = new Blob([''], {type: '', }); blob['name'] = 'filename.yaml' var upload_element = {files: [blob], } spyOn(window, 'FileReader').and.returnValue({ readAsText: function(file) { this.onload({}); }, result: 'file contents.' }); $isolateScope.file_upload(upload_element); expect($isolateScope.filecontent).toEqual('file contents.'); expect(hotgenNotify.show_success).toHaveBeenCalled(); }); it('file should be not uploaded return undefined', function() { var upload_element = {files: []} var returnValue = $isolateScope.file_upload(upload_element); expect(returnValue).toEqual(undefined); }); it('file should be not uploaded show error', function() { var upload_element = {files: [{name: 'file.txt'}]} var returnValue = $isolateScope.file_upload(upload_element); expect(hotgenNotify.show_error).toHaveBeenCalled(); }); it('property should be successfully added', function() { var $ctrl = $isolateScope.$ctrl; $ctrl.add_property(); expect($ctrl.autoscalinggroup.resource.properties.length).toEqual(2); }); it('property should be successfully deleted', function() { var $ctrl = $isolateScope.$ctrl; $ctrl.delete_property(); expect($ctrl.autoscalinggroup.resource.properties.length).toEqual(0); }); it('click upload', function() { spyOn(window, 'setTimeout').and.callFake(function(){}); $isolateScope.clickUpload(); expect(setTimeout).toHaveBeenCalled(); }); }); })(); ",,435,0
openstack%2Fnetworking-generic-switch~master~Ie0cba55cfdf28cf0854a689414f2773ca55372d9,openstack/networking-generic-switch,master,Ie0cba55cfdf28cf0854a689414f2773ca55372d9,Add support for Dell PowerConnect switches,MERGED,2018-06-07 17:36:57.000000000,2018-07-03 09:00:19.000000000,2018-07-03 09:00:19.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 11933}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-07 17:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/2832460db881a2d61453c11ba91c0dce0332b515', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}, {'number': 2, 'created': '2018-06-19 18:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/3e1dc56dda0056eebce3f621f6ba3e6a199c5f26', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}, {'number': 3, 'created': '2018-06-22 14:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/99345745511b2cb2b3bfdaac0aee36e35a6618ab', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}, {'number': 4, 'created': '2018-06-25 10:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/bbe09fa057349b333d6250243d6eef343efdbab1', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}, {'number': 5, 'created': '2018-06-25 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/33c1144ae844d05c10438986b806af61894a509c', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}, {'number': 6, 'created': '2018-06-27 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/bdd3462dfe69f6145187578f0f8e0b2e1bf59984', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}, {'number': 7, 'created': '2018-06-27 09:29:39.000000000', 'files': ['doc/source/supported-devices.rst', 'doc/source/configuration.rst', 'networking_generic_switch/tests/unit/netmiko/test_dell.py', 'releasenotes/notes/dell-powerconnect-5ce572b9fb2702d3.yaml', 'setup.cfg', 'networking_generic_switch/devices/netmiko_devices/dell.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f852d35f4a4bb0023fa40f30b795601ebde13a5e', 'message': 'Add support for Dell PowerConnect switches\n\nDell PowerConnect switches have a different user interface from the\nnewer Force10 switches, and therefore require a different NGS driver.\n\nThis change adds a netmiko_dell_powerconnect device driver.\n\nChange-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9\nStory: 2002179\n'}]",0,573380,f852d35f4a4bb0023fa40f30b795601ebde13a5e,23,5,7,14826,,,0,"Add support for Dell PowerConnect switches

Dell PowerConnect switches have a different user interface from the
newer Force10 switches, and therefore require a different NGS driver.

This change adds a netmiko_dell_powerconnect device driver.

Change-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9
Story: 2002179
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/80/573380/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/netmiko/test_dell.py', 'README.rst', 'releasenotes/notes/dell-powerconnect-5ce572b9fb2702d3.yaml', 'setup.cfg', 'networking_generic_switch/devices/netmiko_devices/dell.py']",5,2832460db881a2d61453c11ba91c0dce0332b515,story/2002179," """"""Netmiko device driver for Dell Force10 switches."""""" ADD_NETWORK = ( 'interface vlan {segmentation_id}', 'name {network_id}', 'exit', ) DELETE_NETWORK = ( 'no interface vlan {segmentation_id}', 'exit', ) PLUG_PORT_TO_NETWORK = ( 'interface vlan {segmentation_id}', 'untagged {port}', 'exit', ) DELETE_PORT = ( 'interface vlan {segmentation_id}', 'no untagged {port}', 'exit', ) ADD_NETWORK_TO_TRUNK = ( 'interface vlan {segmentation_id}', 'tagged {port}', 'exit', ) REMOVE_NETWORK_FROM_TRUNK = ( 'interface vlan {segmentation_id}', 'no tagged {port}', 'exit', ) class DellPowerConnect(netmiko_devices.NetmikoSwitch): """"""Netmiko device driver for Dell PowerConnect switches."""""" ADD_NETWORK = ( 'vlan database', 'vlan {segmentation_id}', 'exit', ) DELETE_NETWORK = ( 'vlan database', 'no vlan {segmentation_id}', 'exit', ) PLUG_PORT_TO_NETWORK = ( 'interface {port}', 'switchport access vlan {segmentation_id}', 'exit', ) DELETE_PORT = ( 'interface {port}', 'switchport access vlan none', 'exit', ) ADD_NETWORK_TO_TRUNK = ( 'interface {port}', 'switchport general allowed vlan add {segmentation_id}', 'exit', ) REMOVE_NETWORK_FROM_TRUNK = ( 'interface {port}', 'switchport general allowed vlan remove {segmentation_id}', 'exit', )"," ADD_NETWORK = ( 'interface vlan {segmentation_id}', 'name {network_id}', 'exit', ) DELETE_NETWORK = ( 'no interface vlan {segmentation_id}', 'exit', ) PLUG_PORT_TO_NETWORK = ( 'interface vlan {segmentation_id}', 'untagged {port}', 'exit', ) DELETE_PORT = ( 'interface vlan {segmentation_id}', 'no untagged {port}', 'exit', ) ADD_NETWORK_TO_TRUNK = ( 'interface vlan {segmentation_id}', 'tagged {port}', 'exit', ) REMOVE_NETWORK_FROM_TRUNK = ( 'interface vlan {segmentation_id}', 'no tagged {port}', 'exit', )",191,29
openstack%2Fnetworking-generic-switch~master~Ie2dc3e7a716720673ee425216232a347190ff54b,openstack/networking-generic-switch,master,Ie2dc3e7a716720673ee425216232a347190ff54b,Add documentation on configuration of synchronisation,MERGED,2018-06-22 14:10:47.000000000,2018-07-03 08:44:58.000000000,2018-07-03 08:44:58.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 14:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/eb8371c79eb06aedcf73df6c33b5c0e164482a76', 'message': 'Add documentation on configuration of synchronisation\n\nChange-Id: Ie2dc3e7a716720673ee425216232a347190ff54b\n'}, {'number': 2, 'created': '2018-06-25 10:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/20d22ddff15b8e8117d5623e26e34dabd67b8944', 'message': 'Add documentation on configuration of synchronisation\n\nChange-Id: Ie2dc3e7a716720673ee425216232a347190ff54b\n'}, {'number': 3, 'created': '2018-06-25 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/57ca3390cb930abe000de17ff2babee710e60dd6', 'message': 'Add documentation on configuration of synchronisation\n\nChange-Id: Ie2dc3e7a716720673ee425216232a347190ff54b\n'}, {'number': 4, 'created': '2018-06-27 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/59b80ce77dc1c2220dd14156c88ea74aaa46e678', 'message': 'Add documentation on configuration of synchronisation\n\nChange-Id: Ie2dc3e7a716720673ee425216232a347190ff54b\n'}, {'number': 5, 'created': '2018-06-27 09:29:39.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/1ec6b846ed12342209ff85d84e5a2eeb87121957', 'message': 'Add documentation on configuration of synchronisation\n\nChange-Id: Ie2dc3e7a716720673ee425216232a347190ff54b\n'}]",5,577430,1ec6b846ed12342209ff85d84e5a2eeb87121957,20,5,5,14826,,,0,"Add documentation on configuration of synchronisation

Change-Id: Ie2dc3e7a716720673ee425216232a347190ff54b
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/30/577430/5 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,eb8371c79eb06aedcf73df6c33b5c0e164482a76,,"------------------------------.. _synchronization: Synchronization =============== Some devices are limited in the number of concurrent SSH sessions that they can support, or do not support concurrent configuration database updates. In these cases it can be useful to use an external service to synchronize access to the managed devices. This synchronization is provided by the `Tooz library <https://docs.openstack.org/tooz/latest/>`__, which provides support for a number of different backends, including Etcd, ZooKeeper, and others. A connection URL for the backend should be configured as follows:: [ngs_coordination] backend_url = <backend URL> The default is to limit the number of concurrent active connections to each device to one, but the number may be configured per-device as follows:: [genericswitch:device-hostname] ngs_max_connections = <max connections> ",==============================,24,2
openstack%2Ftripleo-docs~master~I7cc12712bb11048069c6a7d51f3f39c72abcf63a,openstack/tripleo-docs,master,I7cc12712bb11048069c6a7d51f3f39c72abcf63a,Fix notes for SELinux settings for UC,MERGED,2018-07-02 08:26:08.000000000,2018-07-03 08:43:18.000000000,2018-07-03 08:43:18.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 08:26:08.000000000', 'files': ['doc/source/install/installation/installing.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bef4c52203690e7f94819a3da81eea1c511dc968', 'message': 'Fix notes for SELinux settings for UC\n\nDepends-On: I2109bf62e307df92b6bdb57600c58dd61482f46d\n\nChange-Id: I7cc12712bb11048069c6a7d51f3f39c72abcf63a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,579487,bef4c52203690e7f94819a3da81eea1c511dc968,7,6,1,6926,,,0,"Fix notes for SELinux settings for UC

Depends-On: I2109bf62e307df92b6bdb57600c58dd61482f46d

Change-Id: I7cc12712bb11048069c6a7d51f3f39c72abcf63a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/87/579487/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation/installing.rst'],1,bef4c52203690e7f94819a3da81eea1c511dc968,bug/1779005, The undercloud is intended to work correctly with SELinux enforcing. Installatoins with the permissive/disabled SELinux are not recommended. The ``undercloud_enable_selinux`` config option controls that setting.," The containerized undercloud is intended to work correctly with SELinux permissive, and cannot be installed to a system with SELinux enforcing. .. admonition:: Stable Branch :class: stable The instack undercloud is intended to work correctly with SELinux enforcing, and cannot be installed to a system with SELinux disabled. If SELinux enforcement must be turned off for some reason, like upgrading an undercloud into containers, it should instead be set to permissive.",3,10
openstack%2Fnetworking-generic-switch~master~I0e5da5abfd2bb4a3c6143155a701d12477191aaf,openstack/networking-generic-switch,master,I0e5da5abfd2bb4a3c6143155a701d12477191aaf,Rework documentation layout,MERGED,2018-06-25 10:06:43.000000000,2018-07-03 08:35:53.000000000,2018-07-03 08:35:53.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 10:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/12609a3f12d9796f8c07fb0fcf01412441cbd206', 'message': 'Rework documentation layout\n\nMove content out of the README, replace with more high level project info.\n\nChange-Id: I0e5da5abfd2bb4a3c6143155a701d12477191aaf\n'}, {'number': 2, 'created': '2018-06-25 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c89966d0ad56347b7f1b6d97a103fbf42d2b8d5b', 'message': 'Rework documentation layout\n\nMove content out of the README, replace with more high level project info.\n\nChange-Id: I0e5da5abfd2bb4a3c6143155a701d12477191aaf\n'}, {'number': 3, 'created': '2018-06-27 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f497e4984a7d8f3855592a53034acda5490fa098', 'message': 'Rework documentation layout\n\nMove content out of the README, replace with more high level project info.\n\nChange-Id: I0e5da5abfd2bb4a3c6143155a701d12477191aaf\n'}, {'number': 4, 'created': '2018-06-27 09:29:39.000000000', 'files': ['doc/source/index.rst', 'doc/source/supported-devices.rst', 'doc/source/configuration.rst', 'README.rst', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/93e2f5060db350fe990ce9bfe9847cd30b209e93', 'message': 'Rework documentation layout\n\nMove content out of the README, replace with more high level project info.\n\nChange-Id: I0e5da5abfd2bb4a3c6143155a701d12477191aaf\n'}]",4,577774,93e2f5060db350fe990ce9bfe9847cd30b209e93,14,4,4,14826,,,0,"Rework documentation layout

Move content out of the README, replace with more high level project info.

Change-Id: I0e5da5abfd2bb4a3c6143155a701d12477191aaf
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/74/577774/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/supported-devices.rst', 'doc/source/configuration.rst', 'README.rst', 'doc/source/readme.rst']",5,12609a3f12d9796f8c07fb0fcf01412441cbd206,reorganise-docs,,.. include:: ../../README.rst ,180,163
openstack%2Fnova~master~I56b044863a2454601d3f4534bace229a94c4f0e3,openstack/nova,master,I56b044863a2454601d3f4534bace229a94c4f0e3,Merge server create schema for keypair extension,MERGED,2018-06-27 09:03:02.000000000,2018-07-03 08:31:27.000000000,2018-07-03 08:31:27.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26311}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 09:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca7fa5dd592a1cb2f6e29f71852f118cbed26abf', 'message': 'Merge server create schema for keypair extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for keypair extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I56b044863a2454601d3f4534bace229a94c4f0e3\n'}, {'number': 2, 'created': '2018-06-27 14:06:10.000000000', 'files': ['nova/api/openstack/compute/schemas/keypairs.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/07731a6cf2ba925b887554061d10351b4e616fc9', 'message': 'Merge server create schema for keypair extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the schema part of create server for keypair extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I56b044863a2454601d3f4534bace229a94c4f0e3\n'}]",0,578332,07731a6cf2ba925b887554061d10351b4e616fc9,46,19,2,8556,,,0,"Merge server create schema for keypair extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for keypair extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I56b044863a2454601d3f4534bace229a94c4f0e3
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/578332/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/keypairs.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/api/openstack/compute/servers.py']",4,ca7fa5dd592a1cb2f6e29f71852f118cbed26abf,bp/api-extensions-merge-rocky,," keypairs.get_server_create_schema,",3,17
openstack%2Ftrove~master~I009a366fd8342edfd30890df6fe8e1fca88bf3cc,openstack/trove,master,I009a366fd8342edfd30890df6fe8e1fca88bf3cc,Fix invalid escape sequence warnings,MERGED,2018-05-17 17:03:29.000000000,2018-07-03 08:30:21.000000000,2018-07-03 08:30:21.000000000,"[{'_account_id': 13157}, {'_account_id': 22348}, {'_account_id': 22608}, {'_account_id': 22694}, {'_account_id': 24739}, {'_account_id': 25113}, {'_account_id': 27733}]","[{'number': 1, 'created': '2018-05-17 17:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/692153e3eb2638151273c4ebcebee9ba59f55799', 'message': ""Fix invalid escape sequence warnings\n\nStarting with Python 3.6, invalid escape sequences in string literals\nare now deprecated[1]. This influence also automatic style checkers like\npycodestyle which starting with 2.4.0 complains about invalid escape\nsequences (W605)[2].\n\nLet's fix all those warnings at once by using raw strings where possible\nand adding additional \\ where not.\n\nFootnotes:\n1 - https://docs.python.org/3/whatsnew/3.6.html#deprecated-python-behavior\n2 - https://github.com/PyCQA/pycodestyle/pull/676\n\nChange-Id: I009a366fd8342edfd30890df6fe8e1fca88bf3cc\nSigned-off-by: Krzysztof Opasiak <k.opasiak@samsung.com>\n""}, {'number': 2, 'created': '2018-06-20 17:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9fb80fe8116c2feaefe68028a8f3eb1f68512aa9', 'message': ""Fix invalid escape sequence warnings\n\nStarting with Python 3.6, invalid escape sequences in string literals\nare now deprecated[1]. This influence also automatic style checkers like\npycodestyle which starting with 2.4.0 complains about invalid escape\nsequences (W605)[2].\n\nLet's fix all those warnings at once by using raw strings where possible\nand adding additional \\ where not.\n\nFootnotes:\n1 - https://docs.python.org/3/whatsnew/3.6.html#deprecated-python-behavior\n2 - https://github.com/PyCQA/pycodestyle/pull/676\n\nChange-Id: I009a366fd8342edfd30890df6fe8e1fca88bf3cc\nSigned-off-by: Krzysztof Opasiak <k.opasiak@samsung.com>\n""}, {'number': 3, 'created': '2018-07-02 19:18:59.000000000', 'files': ['trove/guestagent/datastore/experimental/postgresql/service.py', 'trove/guestagent/strategies/backup/experimental/postgresql_impl.py', 'trove/common/wsgi.py', 'trove/guestagent/datastore/experimental/db2/system.py', 'trove/tests/fakes/guestagent.py', 'integration/tests/examples/examples/example_generation.py', 'trove/guestagent/common/configuration.py', 'trove/tests/api/mgmt/hosts.py', 'trove/guestagent/strategies/backup/experimental/cassandra_impl.py', 'integration/tests/integration/tests/util/rpc.py', 'trove/common/db/mysql/models.py', 'trove/common/db/mongodb/models.py', 'integration/tests/integration/tests/util/services.py', 'trove/guestagent/datastore/experimental/couchbase/system.py', 'trove/guestagent/strategies/restore/experimental/postgresql_impl.py', 'integration/tests/examples/examples/client.py', 'trove/guestagent/datastore/experimental/vertica/system.py', 'trove/common/db/cassandra/models.py', 'trove/guestagent/pkg.py', 'trove/common/apischema.py', 'trove/tests/util/mysql.py', 'trove/tests/unittests/guestagent/test_operating_system.py', 'trove/guestagent/common/guestagent_utils.py', 'tools/trove-pylint.py', 'tools/install_venv.py', 'trove/guestagent/strategies/backup/mysql_impl.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/4860f523d45df502e2d1005df3db4121c7795fe0', 'message': ""Fix invalid escape sequence warnings\n\nStarting with Python 3.6, invalid escape sequences in string literals\nare now deprecated[1]. This influence also automatic style checkers like\npycodestyle which starting with 2.4.0 complains about invalid escape\nsequences (W605)[2].\n\nLet's fix all those warnings at once by using raw strings where possible\nand adding additional \\ where not.\n\nFootnotes:\n1 - https://docs.python.org/3/whatsnew/3.6.html#deprecated-python-behavior\n2 - https://github.com/PyCQA/pycodestyle/pull/676\n\nChange-Id: I009a366fd8342edfd30890df6fe8e1fca88bf3cc\nSigned-off-by: Krzysztof Opasiak <k.opasiak@samsung.com>\n""}]",24,569172,4860f523d45df502e2d1005df3db4121c7795fe0,18,7,3,27733,,,0,"Fix invalid escape sequence warnings

Starting with Python 3.6, invalid escape sequences in string literals
are now deprecated[1]. This influence also automatic style checkers like
pycodestyle which starting with 2.4.0 complains about invalid escape
sequences (W605)[2].

Let's fix all those warnings at once by using raw strings where possible
and adding additional \ where not.

Footnotes:
1 - https://docs.python.org/3/whatsnew/3.6.html#deprecated-python-behavior
2 - https://github.com/PyCQA/pycodestyle/pull/676

Change-Id: I009a366fd8342edfd30890df6fe8e1fca88bf3cc
Signed-off-by: Krzysztof Opasiak <k.opasiak@samsung.com>
",git fetch https://review.opendev.org/openstack/trove refs/changes/72/569172/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/experimental/postgresql/service.py', 'trove/guestagent/strategies/backup/experimental/postgresql_impl.py', 'trove/common/wsgi.py', 'trove/guestagent/datastore/experimental/db2/system.py', 'trove/tests/fakes/guestagent.py', 'integration/tests/examples/examples/example_generation.py', 'trove/guestagent/common/configuration.py', 'trove/tests/api/mgmt/hosts.py', 'trove/guestagent/strategies/backup/experimental/cassandra_impl.py', 'integration/tests/integration/tests/util/rpc.py', 'trove/common/db/mysql/models.py', 'trove/common/db/mongodb/models.py', 'integration/tests/integration/tests/util/services.py', 'trove/guestagent/datastore/experimental/couchbase/system.py', 'trove/guestagent/strategies/restore/experimental/postgresql_impl.py', 'integration/tests/examples/examples/client.py', 'trove/guestagent/datastore/experimental/vertica/system.py', 'trove/common/db/cassandra/models.py', 'trove/guestagent/pkg.py', 'trove/common/apischema.py', 'trove/tests/util/mysql.py', 'trove/tests/unittests/guestagent/test_operating_system.py', 'trove/guestagent/common/guestagent_utils.py', 'tools/trove-pylint.py', 'tools/install_venv.py', 'trove/guestagent/strategies/backup/mysql_impl.py']",26,692153e3eb2638151273c4ebcebee9ba59f55799,," lsn = re.compile(r""The latest check point \(for incremental\): "" r""'(\d+)'"")"," lsn = re.compile(""The latest check point \(for incremental\): '(\d+)'"")",60,58
openstack%2Fkeystone-specs~master~I540a504b42f43eac3c25424fd947e04f880071e9,openstack/keystone-specs,master,I540a504b42f43eac3c25424fd947e04f880071e9,fix tox python3 overrides,ABANDONED,2018-07-03 07:29:57.000000000,2018-07-03 08:28:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 07:29:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4f18f4a2c8b83cbb960a31dbc7261b79ce599d0d', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I540a504b42f43eac3c25424fd947e04f880071e9\n'}]",0,579791,4f18f4a2c8b83cbb960a31dbc7261b79ce599d0d,3,1,1,19853,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I540a504b42f43eac3c25424fd947e04f880071e9
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/91/579791/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4f18f4a2c8b83cbb960a31dbc7261b79ce599d0d,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fdocs-specs~master~I7b65a9dbb394224550008f0feeb5a47bb743c208,openstack/docs-specs,master,I7b65a9dbb394224550008f0feeb5a47bb743c208,fix tox python3 overrides,MERGED,2018-07-03 03:30:37.000000000,2018-07-03 08:26:14.000000000,2018-07-03 08:26:14.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 03:30:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/154df6365cf7f904086218691bac4b5b0b977bcb', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7b65a9dbb394224550008f0feeb5a47bb743c208\n'}]",0,579754,154df6365cf7f904086218691bac4b5b0b977bcb,7,3,1,19853,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7b65a9dbb394224550008f0feeb5a47bb743c208
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/54/579754/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,154df6365cf7f904086218691bac4b5b0b977bcb,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Foslotest~master~I0e0bb5629f63ec18af27b26cb5675ff88f041c00,openstack/oslotest,master,I0e0bb5629f63ec18af27b26cb5675ff88f041c00,mock: Removes underscore from autospec mock classes,ABANDONED,2018-03-30 17:42:30.000000000,2018-07-03 08:09:14.000000000,,"[{'_account_id': 2472}, {'_account_id': 8213}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 17:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/be399120edd4a0ab867a25bc62e9b13b2ae4f195', 'message': 'mock: WIP: Removes underscore from autospec mock classes\n\nChange-Id: I0e0bb5629f63ec18af27b26cb5675ff88f041c00\n'}, {'number': 2, 'created': '2018-03-30 17:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/7f19a2862ef19fddd7ff6d8fbb7cfd5cca56bce9', 'message': 'mock: Removes underscore from autospec mock classes\n\nOriginally, the underscore in _AutospecMock and _AutospecMagicMock\nhas been added in order to discourage their direct usage outside of\noslotest, MockAutospecFixture should be used to replace mock.Mock\nand mock.MagicMock with their autospec versions.\n\nBut the underscore can break some unit tests [1], especially those that\nsplit the stringified mock by undercore.\n\nRelated-Bug: #1735588\n\n[1] https://review.openstack.org/#/c/557956/\n\nChange-Id: I0e0bb5629f63ec18af27b26cb5675ff88f041c00\n'}, {'number': 3, 'created': '2018-04-02 11:27:51.000000000', 'files': ['oslotest/mock_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/fc1f7a9c8030f3a90b865c24e98cc433ccb8fb3f', 'message': 'mock: Removes underscore from autospec mock classes\n\nOriginally, the underscore in _AutospecMock and _AutospecMagicMock\nhas been added in order to discourage their direct usage outside of\noslotest, MockAutospecFixture should be used to replace mock.Mock\nand mock.MagicMock with their autospec versions.\n\nBut the underscore can break some unit tests [1], especially those that\nsplit the stringified mock by undercore.\n\nRelated-Bug: #1735588\n\n[1] https://review.openstack.org/#/c/557956/\n\nChange-Id: I0e0bb5629f63ec18af27b26cb5675ff88f041c00\n'}]",0,557974,fc1f7a9c8030f3a90b865c24e98cc433ccb8fb3f,23,5,3,8213,,,0,"mock: Removes underscore from autospec mock classes

Originally, the underscore in _AutospecMock and _AutospecMagicMock
has been added in order to discourage their direct usage outside of
oslotest, MockAutospecFixture should be used to replace mock.Mock
and mock.MagicMock with their autospec versions.

But the underscore can break some unit tests [1], especially those that
split the stringified mock by undercore.

Related-Bug: #1735588

[1] https://review.openstack.org/#/c/557956/

Change-Id: I0e0bb5629f63ec18af27b26cb5675ff88f041c00
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/74/557974/3 && git format-patch -1 --stdout FETCH_HEAD,['oslotest/mock_fixture.py'],1,be399120edd4a0ab867a25bc62e9b13b2ae4f195,bug/1735588,"class AutospecMock(_AutospecMockMixin, mock.Mock):class AutospecMagicMock(_AutospecMockMixin, mock.MagicMock): self.useFixture(fixtures.MonkeyPatch('mock.Mock', AutospecMock)) self.useFixture(fixtures.MonkeyPatch('mock.mock.Mock', AutospecMock)) AutospecMagicMock)) AutospecMagicMock))","class _AutospecMock(_AutospecMockMixin, mock.Mock):class _AutospecMagicMock(_AutospecMockMixin, mock.MagicMock): self.useFixture(fixtures.MonkeyPatch('mock.Mock', _AutospecMock)) self.useFixture(fixtures.MonkeyPatch('mock.mock.Mock', _AutospecMock)) _AutospecMagicMock)) _AutospecMagicMock))",6,6
openstack%2Fglance~master~I656b5c244b98202f3c8d019d0bbeddc4e7c0314a,openstack/glance,master,I656b5c244b98202f3c8d019d0bbeddc4e7c0314a,useful-image-properties.rst: Update default RNG source,MERGED,2018-07-02 12:42:23.000000000,2018-07-03 07:58:51.000000000,2018-07-02 15:12:14.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 12:42:23.000000000', 'files': ['doc/source/admin/useful-image-properties.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/9a893e80c2a5ee665487ce73845a88946d65ade4', 'message': 'useful-image-properties.rst: Update default RNG source\n\nNova\'s libvirt driver has changed[*] the default source from /dev/random\nto /dev/urandom:\n\n    ""Since libvirt 1.3.4, any RNG (Random Number Generator) device path\n    (that returns random numbers when read!) is accepted. However, the\n    recommended source of entropy is `/dev/urandom` (it is non-blocking;\n    and doesn\'t have the same limitations of `dev/random`, which is a\n    legacy interface).""\n\nUpdate the relevant Glance documentation to reflect that.\n\n[*] https://git.openstack.org/cgit/openstack/nova/commit/?id=814bfd93\n\nChange-Id: I656b5c244b98202f3c8d019d0bbeddc4e7c0314a\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",2,579537,9a893e80c2a5ee665487ce73845a88946d65ade4,9,4,1,6962,,,0,"useful-image-properties.rst: Update default RNG source

Nova's libvirt driver has changed[*] the default source from /dev/random
to /dev/urandom:

    ""Since libvirt 1.3.4, any RNG (Random Number Generator) device path
    (that returns random numbers when read!) is accepted. However, the
    recommended source of entropy is `/dev/urandom` (it is non-blocking;
    and doesn't have the same limitations of `dev/random`, which is a
    legacy interface).""

Update the relevant Glance documentation to reflect that.

[*] https://git.openstack.org/cgit/openstack/nova/commit/?id=814bfd93

Change-Id: I656b5c244b98202f3c8d019d0bbeddc4e7c0314a
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/579537/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/useful-image-properties.rst'],1,9a893e80c2a5ee665487ce73845a88946d65ade4,default-rng_dev_path," * ``/dev/urandom`` is used as the default entropy source. To specify a physical HW RNG device, use the following option in the nova.conf file:"," * ``/dev/random`` is used as the default entropy source. To specify a physical HW RNG device, use the following option in the nova.conf file:",3,3
openstack%2Foctavia~master~I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,openstack/octavia,master,I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,[amphora-agent] add local net to routing table 1,MERGED,2018-06-26 05:53:16.000000000,2018-07-03 07:38:27.000000000,2018-07-03 01:05:01.000000000,"[{'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26086}]","[{'number': 1, 'created': '2018-06-26 05:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51c0bab910c1afb67d24b7e5e2c2805265eddfb8', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nCloses-Bug: #2002691\n'}, {'number': 2, 'created': '2018-06-26 05:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0b8ed814fb1ec703b2a89207149a9a65cc15bc4', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\n'}, {'number': 3, 'created': '2018-06-26 06:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b75c74382f0948956ffb2086c321dc88f7b3a5a6', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 4, 'created': '2018-06-26 09:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c912373596cae1fe1c6cc7f57a5941bbc32cebb4', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 5, 'created': '2018-06-26 09:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b0d6b73240c547877eab2223f88ffe3cde2f7de', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 6, 'created': '2018-06-26 12:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/348f95bff5c202d332a784d54c85c88ed0618de4', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 7, 'created': '2018-06-26 12:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2912de97c53a620e7047239527940f8287f20dcd', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 8, 'created': '2018-06-27 06:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/127392469fbb0923800849d074c9823029e0d5c8', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 9, 'created': '2018-06-27 08:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/455941520b70f16229083f5ed11048eff4323120', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 10, 'created': '2018-06-27 10:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b5230b484c61ad218ba95f6959257c949ce0278', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}, {'number': 11, 'created': '2018-07-02 21:07:25.000000000', 'files': ['octavia/common/utils.py', 'releasenotes/notes/fix-route-table-b2ec0aa7b92d2abc.yaml', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/tests/unit/common/test_utils.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_route_ethX.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1fa91ab0c9c6c7530302da0654db0e796202c0a0', 'message': '[amphora-agent] add local net to routing table 1\n\nensure local route is added to table 1 routing table to prevent\nall traffic being routed through the default gateway\n\nChange-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19\nStory: 2002691\nTask: 22517\n'}]",1,577992,1fa91ab0c9c6c7530302da0654db0e796202c0a0,28,6,11,26086,,,0,"[amphora-agent] add local net to routing table 1

ensure local route is added to table 1 routing table to prevent
all traffic being routed through the default gateway

Change-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19
Story: 2002691
Task: 22517
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/577992/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py']",3,51c0bab910c1afb67d24b7e5e2c2805265eddfb8,story/2002691," network=utils.ip_netmask_to_cidr(vip, netmask),",,8,0
openstack%2Fheat~master~I93329197c99a2dba37b0e1dbd7efe7b2b17bc036,openstack/heat,master,I93329197c99a2dba37b0e1dbd7efe7b2b17bc036,Don't re-use resource-properties-data in backup stacks,MERGED,2018-06-27 02:42:47.000000000,2018-07-03 07:37:03.000000000,2018-07-03 07:37:03.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 02:42:47.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/acd77dde9e623d1bc5804f60145418de4d612d5d', 'message': ""Don't re-use resource-properties-data in backup stacks\n\nWhen purging events we are only able to (efficiently) search for\nreferences to resource properties data from events and resources in the\nsame stack. This results in foreign key constraint errors if the\nresource properties data is referenced from a backup stack. To avoid\nthis, don't reuse resource properties data IDs after moving a resource\nbetween the backup and main stacks, but duplicate the data instead.\n\nChange-Id: I93329197c99a2dba37b0e1dbd7efe7b2b17bc036\nStory: #2002643\nTask: 22510\n""}]",0,578253,acd77dde9e623d1bc5804f60145418de4d612d5d,9,4,1,4257,,,0,"Don't re-use resource-properties-data in backup stacks

When purging events we are only able to (efficiently) search for
references to resource properties data from events and resources in the
same stack. This results in foreign key constraint errors if the
resource properties data is referenced from a backup stack. To avoid
this, don't reuse resource properties data IDs after moving a resource
between the backup and main stacks, but duplicate the data instead.

Change-Id: I93329197c99a2dba37b0e1dbd7efe7b2b17bc036
Story: #2002643
Task: 22510
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/578253/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,acd77dde9e623d1bc5804f60145418de4d612d5d,, resource._rsrc_prop_data_id = None,,1,0
openstack%2Fkolla-ansible~master~I62f430abd8f332cc2ece56a6733776fa03b10f77,openstack/kolla-ansible,master,I62f430abd8f332cc2ece56a6733776fa03b10f77,Make Swift log_level changeable,MERGED,2018-06-21 05:01:18.000000000,2018-07-03 07:24:58.000000000,2018-07-03 07:24:57.000000000,"[{'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24574}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-21 05:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de885bee776dab1e37d85708c579b474e2b5f18b', 'message': 'Make Swift log_level changeable\n\nThe log_level in Swift is fixed to INFO. The patch make it changeable\naccording to the value of ""openstack_logging_debug"".\n\nWhen ""openstack_logging_debug"" is ""False"", the log_level is set to\n""INFO"". It is default value. Otherwise, the log_level is set to\n""DEBUG"".\n\nCloses-Bug: #1777982\n\nChange-Id: I62f430abd8f332cc2ece56a6733776fa03b10f77\nSigned-off-by: tone.zhang <tone.zhang@arm.com>\n'}, {'number': 2, 'created': '2018-06-21 06:02:22.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/swift/templates/container.conf.j2', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/templates/object.conf.j2', 'ansible/roles/swift/templates/account.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cebb77d7e218d0978519288d0d4071c451e26c92', 'message': 'Make Swift log_level changeable\n\nThe log_level in Swift is fixed to INFO. The patch make it changeable\naccording to the value of ""openstack_logging_debug"".\n\nWhen ""openstack_logging_debug"" is ""False"", the log_level is set to\n""INFO"". It is default value. Otherwise, the log_level is set to\n""DEBUG"".\n\nCloses-Bug: #1777982\n\nChange-Id: I62f430abd8f332cc2ece56a6733776fa03b10f77\nSigned-off-by: tone.zhang <tone.zhang@arm.com>\n'}]",0,577046,cebb77d7e218d0978519288d0d4071c451e26c92,12,6,2,24574,,,0,"Make Swift log_level changeable

The log_level in Swift is fixed to INFO. The patch make it changeable
according to the value of ""openstack_logging_debug"".

When ""openstack_logging_debug"" is ""False"", the log_level is set to
""INFO"". It is default value. Otherwise, the log_level is set to
""DEBUG"".

Closes-Bug: #1777982

Change-Id: I62f430abd8f332cc2ece56a6733776fa03b10f77
Signed-off-by: tone.zhang <tone.zhang@arm.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/577046/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/templates/container.conf.j2', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/templates/object.conf.j2', 'ansible/roles/swift/templates/account.conf.j2']",4,de885bee776dab1e37d85708c579b474e2b5f18b,bug/1777982,log_level = {{ swift_log_level }},log_level = INFO,5,3
openstack%2Fkolla-ansible~master~I4f46907c9b47b9108a9aa7bfbd668b833db420af,openstack/kolla-ansible,master,I4f46907c9b47b9108a9aa7bfbd668b833db420af,Add kuryr prechecks for zun,MERGED,2018-06-25 16:18:31.000000000,2018-07-03 07:05:46.000000000,2018-07-03 07:05:46.000000000,"[{'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26431}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-06-25 16:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/639e15dcfd0eee266f967f3c883412245a0c2590', 'message': 'Add kuryr prechecks for zun\n\nthe zun is need kuryr to be enabled[0], add it into\nprechecks is a good idea.\n\n[0]: https://docs.openstack.org/zun/latest/install/compute-install-ubuntu.html#install-and-configure-components\n\nChange-Id: I4f46907c9b47b9108a9aa7bfbd668b833db420af\n'}, {'number': 2, 'created': '2018-07-03 04:45:17.000000000', 'files': ['ansible/roles/zun/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8397d3a7b607cbe819c010ea4b9bdde763900161', 'message': 'Add kuryr prechecks for zun\n\nthe zun is need kuryr to be enabled[0], add it into\nprechecks is a good idea.\n\n[0]: https://docs.openstack.org/zun/latest/install/compute-install-ubuntu.html#install-and-configure-components\n\nChange-Id: I4f46907c9b47b9108a9aa7bfbd668b833db420af\n'}]",0,577860,8397d3a7b607cbe819c010ea4b9bdde763900161,15,7,2,22165,,,0,"Add kuryr prechecks for zun

the zun is need kuryr to be enabled[0], add it into
prechecks is a good idea.

[0]: https://docs.openstack.org/zun/latest/install/compute-install-ubuntu.html#install-and-configure-components

Change-Id: I4f46907c9b47b9108a9aa7bfbd668b833db420af
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/577860/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/zun/tasks/precheck.yml'],1,639e15dcfd0eee266f967f3c883412245a0c2590,," - name: Ensure kuryr enabled for zun run_once: True local_action: fail msg=""kuryr is required but not enabled"" changed_when: false when: - enable_zun | bool - not enable_kuryr | bool",,8,0
openstack%2Fkolla-ansible~stable%2Fqueens~If774502b66652f25593cda137cc8a5baefbd9695,openstack/kolla-ansible,stable/queens,If774502b66652f25593cda137cc8a5baefbd9695,Optimise the destroy role by script module,ABANDONED,2018-06-30 14:57:06.000000000,2018-07-03 07:01:28.000000000,,"[{'_account_id': 7488}, {'_account_id': 22348}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-06-30 14:57:06.000000000', 'files': ['ansible/roles/destroy/tasks/cleanup_images.yml', 'ansible/roles/destroy/tasks/cleanup_host.yml', 'ansible/roles/destroy/tasks/main.yml', 'ansible/roles/destroy/tasks/validate_docker_execute.yml', 'ansible/roles/destroy/tasks/copy_tools.yml', 'ansible/roles/destroy/tasks/cleanup_containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9019f77e9d0c9e87660777c16285342e2cfc55c', 'message': 'Optimise the destroy role by script module\n\nAnsible provide script module to run shell script, The local script at\npath will be transferred to the remote node and then executed, so no\nneed to copy script to remote node and use shell moulde to run it.\nthis patch optimise it.\n\nChange-Id: If774502b66652f25593cda137cc8a5baefbd9695\n(cherry picked from commit 8f2256d2990d62bedba885cb3609b242559bc38d)\n'}]",0,579341,a9019f77e9d0c9e87660777c16285342e2cfc55c,5,3,1,22165,,,0,"Optimise the destroy role by script module

Ansible provide script module to run shell script, The local script at
path will be transferred to the remote node and then executed, so no
need to copy script to remote node and use shell moulde to run it.
this patch optimise it.

Change-Id: If774502b66652f25593cda137cc8a5baefbd9695
(cherry picked from commit 8f2256d2990d62bedba885cb3609b242559bc38d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/579341/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/destroy/tasks/cleanup_images.yml', 'ansible/roles/destroy/tasks/cleanup_host.yml', 'ansible/roles/destroy/tasks/main.yml', 'ansible/roles/destroy/tasks/validate_docker_execute.yml', 'ansible/roles/destroy/tasks/copy_tools.yml', 'ansible/roles/destroy/tasks/cleanup_containers.yml']",6,a9019f77e9d0c9e87660777c16285342e2cfc55c,, script: ../tools/cleanup-containers, command: /tmp/kolla-cleanup/tools/cleanup-containers,12,50
openstack%2Ftacker~master~Iac4d843041d8e920e94e827dce00d3198f4e87f8,openstack/tacker,master,Iac4d843041d8e920e94e827dce00d3198f4e87f8,fix a typo,MERGED,2018-06-20 03:23:45.000000000,2018-07-03 07:01:24.000000000,2018-07-03 07:01:24.000000000,"[{'_account_id': 2874}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 27181}]","[{'number': 1, 'created': '2018-06-20 03:23:45.000000000', 'files': ['releasenotes/notes/nsd-support-3982f780fc575232.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c31042339e249626ec4209025da83b800196748f', 'message': 'fix a typo\n\nChange-Id: Iac4d843041d8e920e94e827dce00d3198f4e87f8\n'}]",0,576695,c31042339e249626ec4209025da83b800196748f,9,5,1,27368,,,0,"fix a typo

Change-Id: Iac4d843041d8e920e94e827dce00d3198f4e87f8
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/576695/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/nsd-support-3982f780fc575232.yaml'],1,c31042339e249626ec4209025da83b800196748f,, an end-to-end TOSCA based network service., a end-to-end TOSCA based network service.,1,1
openstack%2Fkolla-ansible~master~I0b54bc2bd384f092f2fcd1b0396e133a0d95befe,openstack/kolla-ansible,master,I0b54bc2bd384f092f2fcd1b0396e133a0d95befe,Enable yamllint strict mode,MERGED,2018-06-24 08:47:44.000000000,2018-07-03 06:51:19.000000000,2018-07-03 06:51:19.000000000,"[{'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21113}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 27781}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-06-24 08:47:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3566daec76673be2237bd5e2e7dbb699305949e3', 'message': 'Enable yamllint strict mode\n\nTo make sure we can find the yaml warning before code merge[1].\nWe can enable strict mode to treat warning as error[2].\n\n[1] https://review.openstack.org/#/c/573482/1\n[2] http://yamllint.readthedocs.io/en/stable/configuration.html#errors-and-warnings\n\nChange-Id: I0b54bc2bd384f092f2fcd1b0396e133a0d95befe\n'}]",0,577641,3566daec76673be2237bd5e2e7dbb699305949e3,14,11,1,9820,,,0,"Enable yamllint strict mode

To make sure we can find the yaml warning before code merge[1].
We can enable strict mode to treat warning as error[2].

[1] https://review.openstack.org/#/c/573482/1
[2] http://yamllint.readthedocs.io/en/stable/configuration.html#errors-and-warnings

Change-Id: I0b54bc2bd384f092f2fcd1b0396e133a0d95befe
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/577641/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3566daec76673be2237bd5e2e7dbb699305949e3,EnableYamllintStrict, yamllint -s ., yamllint .,1,1
openstack%2Ftempest~master~I58c348b954a679bc809906b2c73df9b1ab4459c5,openstack/tempest,master,I58c348b954a679bc809906b2c73df9b1ab4459c5,Adding test case for migration policy 'never',MERGED,2018-06-05 07:46:04.000000000,2018-07-03 06:47:46.000000000,2018-07-03 06:47:45.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}, {'_account_id': 27615}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-06-05 07:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e0d0183a1cdc1ce6631ecb03c553dd9325fa652', 'message': ""Adding test case for migration policy 'never'\n\nThere doesn't exist any test case in tempest for retype\nvolume without migration, so adding new test for it.\n\nRelated Bug : #1740544\n\nChange-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5\n""}, {'number': 2, 'created': '2018-06-13 09:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a820519767e4d8d411cd36a2c7008178471d370', 'message': ""Adding test case for migration policy 'never'\n\nThere doesn't exist any test case in tempest for retype\nvolume without migration, so adding new test for it.\n\nRelated Bug: #1740544\n\nChange-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5\n""}, {'number': 3, 'created': '2018-06-14 03:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1bd09e931ca2725a6c99254000ac7bd84fbbdbb1', 'message': ""Adding test case for migration policy 'never'\n\nThere doesn't exist any test case in tempest for retype\nvolume without migration, so adding new test for it.\n\nRelated-Bug: #1740544\n\nChange-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5\n""}, {'number': 4, 'created': '2018-06-15 05:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2f85e090936c3876dadd9c692c4891c38a6ac8c', 'message': ""Adding test case for migration policy 'never'\n\nThere doesn't exist any test case in tempest for retype\nvolume without migration, so adding new test for it.\n\nRelated-Bug: #1740544\n\nChange-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5\n""}, {'number': 5, 'created': '2018-06-20 06:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88c9f74dc734d2b8bfd16922607d06067b2f4e11', 'message': ""Adding test case for migration policy 'never'\n\nThere doesn't exist any test case in tempest for retype\nvolume without migration, so adding new test for it.\n\nRelated-Bug: #1740544\n\nChange-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5\n""}, {'number': 6, 'created': '2018-07-02 04:16:15.000000000', 'files': ['tempest/api/volume/admin/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3a67d476132fe5f55020cf2dc1f672c17be6eb3', 'message': ""Adding test case for migration policy 'never'\n\nThere doesn't exist any test case in tempest for retype\nvolume without migration, so adding new test for it.\n\nRelated-Bug: #1740544\n\nChange-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5\n""}]",38,572287,a3a67d476132fe5f55020cf2dc1f672c17be6eb3,72,12,6,27615,,,0,"Adding test case for migration policy 'never'

There doesn't exist any test case in tempest for retype
volume without migration, so adding new test for it.

Related-Bug: #1740544

Change-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/87/572287/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_retype.py'],1,8e0d0183a1cdc1ce6631ecb03c553dd9325fa652,bug/1740544,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest.api.volume import base from tempest.common import waiters from tempest import config from tempest.lib import decorators CONF = config.CONF LOG = logging.getLogger(__name__) class VolumeRetypeTest(base.BaseVolumeAdminTest): @classmethod def resource_setup(cls): super(VolumeRetypeTest, cls).resource_setup() cls.src_vol_type = cls.create_volume_type('volume-type-1') cls.dst_vol_type = cls.create_volume_type('volume-type-2') def _wait_for_internal_volume_cleanup(self, vol): # When retyping a volume, Cinder creates an internal volume in the # target backend. The volume in the source backend is deleted after # the migration, so we need to wait for Cinder delete this volume # before deleting the types we've created. # This list should return 2 volumes until the copy and cleanup # process is finished. fetched_list = self.admin_volume_client.list_volumes( params={'all_tenants': True, 'display_name': vol['name']})['volumes'] for fetched_vol in fetched_list: if fetched_vol['id'] != vol['id']: # This is the Cinder internal volume LOG.debug('Waiting for internal volume %s deletion', fetched_vol['id']) self.admin_volume_client.wait_for_resource_deletion( fetched_vol['id']) break def _retype_volume(self, volume): keys_with_no_change = ('id', 'size', 'description', 'name', 'user_id', 'os-vol-tenant-attr:tenant_id', 'os-vol-host-attr:host') keys_with_change = ('volume_type') volume_source = self.admin_volume_client.show_volume( volume['id'])['volume'] self.volumes_client.retype_volume( volume['id'], new_type=self.dst_vol_type['name'], migration_policy='never') self.addCleanup(self._wait_for_internal_volume_cleanup, volume) waiters.wait_for_volume_retype(self.volumes_client, volume['id'], self.dst_vol_type['name']) volume_dest = self.admin_volume_client.show_volume( volume['id'])['volume'] # Check the volume information after the retype self.assertIsNone(volume_dest['os-vol-mig-status-attr:migstat']) self.assertIsNone(volume_dest['migration_status']) for key in keys_with_no_change: self.assertEqual(volume_source[key], volume_dest[key]) self.assertNotEqual(volume_source[keys_with_change], volume_dest[keys_with_change]) @decorators.idempotent_id('b90412ee-465d-46e9-b249-ec84a47d5f25') def test_volume_from_snapshot_retype(self): # Create a volume src_vol = self.create_volume(volume_type=self.src_vol_type['name']) # Create a volume snapshot snapshot = self.create_snapshot(src_vol['id']) # Create a volume from the snapshot src_vol = self.create_volume(volume_type=self.src_vol_type['name'], snapshot_id=snapshot['id']) # Delete the snapshot self.snapshots_client.delete_snapshot(snapshot['id']) self.snapshots_client.wait_for_resource_deletion(snapshot['id']) # Retype the volume from snapshot self._retype_volume(src_vol) ",,102,0
openstack%2Fcinder~master~Iade148d2afeaae486aab4dc789d52e9522f206ee,openstack/cinder,master,Iade148d2afeaae486aab4dc789d52e9522f206ee,Fix parameter description in volume and snapshot manage extension,MERGED,2018-06-29 18:31:42.000000000,2018-07-03 06:47:44.000000000,2018-07-03 06:47:43.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-06-29 18:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f91e71fb3e21205957707d3ef8b0f6c45306681', 'message': ""Fix paramter description in volume and snapshot manage extension\n\nThe paramters 'cinder_id', 'reason_not_safe', 'extra_info' can be None,\nbut is required in the response body of listing detail of managable\nvolumes or snapshots.\n\nChange-Id: Iade148d2afeaae486aab4dc789d52e9522f206ee\n""}, {'number': 2, 'created': '2018-06-30 02:23:57.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/999cd2be12f99e287cbb445189b4ee4058ba3043', 'message': ""Fix parameter description in volume and snapshot manage extension\n\nThe parameters 'cinder_id', 'reason_not_safe', 'extra_info' can be None,\nbut are required in the response body of listing detail of managable\nvolumes or snapshots.\n\nChange-Id: Iade148d2afeaae486aab4dc789d52e9522f206ee\n""}]",4,579244,999cd2be12f99e287cbb445189b4ee4058ba3043,42,22,2,23081,,,0,"Fix parameter description in volume and snapshot manage extension

The parameters 'cinder_id', 'reason_not_safe', 'extra_info' can be None,
but are required in the response body of listing detail of managable
volumes or snapshots.

Change-Id: Iade148d2afeaae486aab4dc789d52e9522f206ee
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/579244/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,8f91e71fb3e21205957707d3ef8b0f6c45306681,fix_api_ref, The UUID of the resource in Cinder. required: true required: true required: true, The UUID of the snapshot in Cinder. required: false required: false required: false,4,4
openstack%2Fopenstack-helm-infra~master~I476b7f2e8fc0948d0fb04f51d852080281c265bf,openstack/openstack-helm-infra,master,I476b7f2e8fc0948d0fb04f51d852080281c265bf,Enable systemd service helm-serve,MERGED,2018-06-20 05:39:44.000000000,2018-07-03 06:45:40.000000000,2018-07-03 06:45:40.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25431}]","[{'number': 1, 'created': '2018-06-20 05:39:44.000000000', 'files': ['roles/build-helm-packages/tasks/setup-helm-serve.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59eb4ce3754b6f75712eac0dcbc68591d0b1ce9e', 'message': 'Enable systemd service helm-serve\n\nWhen the system is restarted, the helm service is not running,\nwhich results in the failure of the helm command.\n\nChange-Id: I476b7f2e8fc0948d0fb04f51d852080281c265bf\n'}]",0,576729,59eb4ce3754b6f75712eac0dcbc68591d0b1ce9e,9,4,1,25431,,,0,"Enable systemd service helm-serve

When the system is restarted, the helm service is not running,
which results in the failure of the helm command.

Change-Id: I476b7f2e8fc0948d0fb04f51d852080281c265bf
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/29/576729/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-helm-packages/tasks/setup-helm-serve.yaml'],1,59eb4ce3754b6f75712eac0dcbc68591d0b1ce9e,, enabled: yes,,1,0
openstack%2Fcookbook-openstack-compute~master~I49a767724e744f98d7f008411755c063f96a4c9d,openstack/cookbook-openstack-compute,master,I49a767724e744f98d7f008411755c063f96a4c9d,Convert Nova APIs to WSGI services,MERGED,2018-06-15 16:17:40.000000000,2018-07-03 06:44:12.000000000,2018-07-03 06:44:12.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-15 16:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/7496c13ceb1cc483bb86a525e4208d6fbe1c2165', 'message': 'Convert Nova APIs to WSGI services\n\nTo be consistent with the install guide[1], the Nova services should be\ndeployed as WSGI services.\n\n[1] https://docs.openstack.org/nova/queens/install/controller-install-ubuntu.html\n\nChange-Id: I49a767724e744f98d7f008411755c063f96a4c9d\n'}, {'number': 2, 'created': '2018-06-26 13:54:16.000000000', 'files': ['spec/api-metadata_spec.rb', 'spec/api-os-compute-redhat_spec.rb', 'spec/api-metadata-redhat_spec.rb', 'spec/nova-common_spec.rb', 'recipes/api-os-compute.rb', 'recipes/api-metadata.rb', 'spec/api-os-compute_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'attributes/nova_conf.rb', 'recipes/nova-common.rb', 'templates/default/wsgi-template.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/4992010231b205140b5fa1b3279d75d76e89acf7', 'message': 'Convert Nova APIs to WSGI services\n\nTo be consistent with the install guide[1], the Nova services should be\ndeployed as WSGI services.\n\n[1] https://docs.openstack.org/nova/queens/install/controller-install-ubuntu.html\n\nChange-Id: I49a767724e744f98d7f008411755c063f96a4c9d\n'}]",2,575785,4992010231b205140b5fa1b3279d75d76e89acf7,11,4,2,14790,,,0,"Convert Nova APIs to WSGI services

To be consistent with the install guide[1], the Nova services should be
deployed as WSGI services.

[1] https://docs.openstack.org/nova/queens/install/controller-install-ubuntu.html

Change-Id: I49a767724e744f98d7f008411755c063f96a4c9d
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/85/575785/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/api-metadata_spec.rb', 'spec/api-os-compute-redhat_spec.rb', 'spec/api-metadata-redhat_spec.rb', 'spec/nova-common_spec.rb', 'recipes/api-os-compute.rb', 'recipes/api-metadata.rb', 'spec/api-os-compute_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'attributes/nova_conf.rb', 'recipes/nova-common.rb', 'templates/default/wsgi-template.conf.erb']",13,7496c13ceb1cc483bb86a525e4208d6fbe1c2165,nova-api-wsgi,<%= node['openstack']['compute']['custom_template_banner'] %>,"<%= node[""openstack""][""compute""][""custom_template_banner""] %>",138,78
openstack%2Fproject-config~master~If2d59686c62fdbe2fac44519f8e013d26f78892f,openstack/project-config,master,If2d59686c62fdbe2fac44519f8e013d26f78892f,Add os-acc to openstack repo,MERGED,2018-06-29 08:48:11.000000000,2018-07-03 06:42:38.000000000,2018-07-03 06:42:37.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 13629}, {'_account_id': 14131}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2018-06-29 08:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/32571f12f190760f6bd9b08720200074572c365d', 'message': 'Add os-acc to openstack repo\n\nOS-ACC is a lib implements the nova/cyborg interaction.\n\nChange-Id: If2d59686c62fdbe2fac44519f8e013d26f78892f\n'}, {'number': 2, 'created': '2018-06-29 11:59:17.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b86f1d49c753df6812706367010572be6303a107', 'message': 'Add os-acc to openstack repo\n\nOS-ACC is a lib implements the nova/cyborg interaction.\n\nChange-Id: If2d59686c62fdbe2fac44519f8e013d26f78892f\n'}]",0,579101,b86f1d49c753df6812706367010572be6303a107,14,8,2,25738,,,0,"Add os-acc to openstack repo

OS-ACC is a lib implements the nova/cyborg interaction.

Change-Id: If2d59686c62fdbe2fac44519f8e013d26f78892f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/579101/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,32571f12f190760f6bd9b08720200074572c365d,, - openstack/os-acc,,4,0
openstack%2Fcookbook-openstack-identity~master~I01d44e48053cad7aeb92636f4b41649204006c93,openstack/cookbook-openstack-identity,master,I01d44e48053cad7aeb92636f4b41649204006c93,Simplify identity endpoint,MERGED,2018-06-13 04:39:42.000000000,2018-07-03 06:31:58.000000000,2018-07-03 06:31:58.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-13 04:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/6c76229e53c75ed331560dd61fe8494cfc2b2acb', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: bp/simplify-identity-endpoint\n'}, {'number': 2, 'created': '2018-06-13 04:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/9ed30132bcf7de1fd3fd60e1fb3a1b054f914097', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 3, 'created': '2018-06-13 05:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/c7d0ac5fde0408167c375b086bb46d2d23fae6a5', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 4, 'created': '2018-06-13 05:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/3e6cccc0bc853c911aedce716e687fea97ca561a', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 5, 'created': '2018-06-13 12:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/413fc91c951209322a8f810e44d0371340287832', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 6, 'created': '2018-06-13 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/c3b497e3e039e774c8204a9b90f958b46fa97a80', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 7, 'created': '2018-06-13 14:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/a8371a0e15504e637b3c4602a842a4662308068b', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 8, 'created': '2018-06-13 19:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/08e8eda392dffaba1701ff2bad4b2deaa64c6615', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 9, 'created': '2018-06-14 03:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/dca982a894896bacbfb553a9c1ea65aa91d2b342', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 10, 'created': '2018-06-15 02:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/61a8dd42679b4df4940c8fe80cb2f4b262696d39', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 11, 'created': '2018-06-15 02:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/e8edff20dbfbef62f043a639e318b33b1a68fe68', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 12, 'created': '2018-06-15 02:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/43f76e1ef5ece90673e997782f375db9b4017be1', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 13, 'created': '2018-06-15 04:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/2a2e075a06e1a53bba8b32ec7b8ba629e9871b78', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nDepends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 14, 'created': '2018-06-28 18:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/a3da5dd8dbce4134b3b662c11a73d1241d3f3f64', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nDepends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 15, 'created': '2018-06-28 18:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/b233a388ac8837fe3fcb403abf8fdd1f2c8257c8', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nDepends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 16, 'created': '2018-06-28 21:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/a0b49b0bc772786e657cb4f6360ea17dd8a8ed7d', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nDepends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}, {'number': 17, 'created': '2018-06-28 23:26:07.000000000', 'files': ['recipes/server-apache.rb', 'recipes/registration.rb', 'spec/server-apache_spec.rb', 'spec/spec_helper.rb', 'spec/registration_spec.rb', 'attributes/default.rb', 'recipes/openrc.rb', 'templates/default/wsgi-keystone.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/7657e34edadfccf0d85081f6507f6591119eec4f', 'message': 'Simplify identity endpoint\n\nPer the Keystone Install Guide[1] the admin endpoint is superseded in\nfavor of a single public endpoint. As a result, the admin endpoint is no\nlonger deployed by default.\n\n[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components\n\nDepends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d\nDepends-On: I833cc80421be375aed202c208cf93a0165761226\nDepends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6\nDepends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef\nDepends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89\nDepends-On: Iafb0db54b3589eea0402c0f18687344667d0208a\nDepends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0\nDepends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba\nDepends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf\nChange-Id: I01d44e48053cad7aeb92636f4b41649204006c93\nImplements: blueprint simplify-identity-endpoint\n'}]",0,574975,7657e34edadfccf0d85081f6507f6591119eec4f,42,4,17,14790,,,0,"Simplify identity endpoint

Per the Keystone Install Guide[1] the admin endpoint is superseded in
favor of a single public endpoint. As a result, the admin endpoint is no
longer deployed by default.

[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components

Depends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d
Depends-On: I833cc80421be375aed202c208cf93a0165761226
Depends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6
Depends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef
Depends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89
Depends-On: Iafb0db54b3589eea0402c0f18687344667d0208a
Depends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0
Depends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba
Depends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf
Change-Id: I01d44e48053cad7aeb92636f4b41649204006c93
Implements: blueprint simplify-identity-endpoint
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/75/574975/17 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/server-apache.rb', 'recipes/registration.rb', 'spec/server-apache_spec.rb', 'spec/spec_helper.rb', 'spec/registration_spec.rb', 'attributes/default.rb', 'recipes/openrc.rb', 'templates/default/wsgi-keystone.conf.erb']",8,6c76229e53c75ed331560dd61fe8494cfc2b2acb,bp/simplify-identity-endpoint, WSGIDaemonProcess identity processes=5 threads=1 user=<%= @params[:user] %> group=<%= @params[:group] %> display-name=%{GROUP} WSGIProcessGroup identity ErrorLog <%= @params[:log_dir] %>/identity.log CustomLog <%= @params[:log_dir] %>/identity_access.log combined, WSGIDaemonProcess keystone-<%= @params[:server_suffix] %> processes=5 threads=1 user=<%= @params[:user] %> group=<%= @params[:group] %> display-name=%{GROUP} WSGIProcessGroup keystone-<%= @params[:server_suffix] %> ErrorLog <%= @params[:log_dir] %>/keystone-<%= @params[:server_suffix] %>.log CustomLog <%= @params[:log_dir] %>/keystone-<%= @params[:server_suffix] %>_access.log combined,132,255
openstack%2Fkolla-ansible~master~Iaf228e3137cd73b933ca395b3081438393603251,openstack/kolla-ansible,master,Iaf228e3137cd73b933ca395b3081438393603251,Use the different nova_cell0 database password from nova,ABANDONED,2017-05-22 07:35:38.000000000,2018-07-03 05:48:26.000000000,,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-05-22 07:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44595476615b2418e84df5bbfc7143fde817dd15', 'message': 'Use the different nova_cell0 database password from nova\n\nrefer to\nhttps://docs.openstack.org/ocata/install-guide-rdo/nova-controller-install.html\n\nChange-Id: Iaf228e3137cd73b933ca395b3081438393603251\nCloses-Bug: #1692430\n'}, {'number': 2, 'created': '2017-05-22 07:36:47.000000000', 'files': ['etc/kolla/passwords.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/nova/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f12cf2a155dadf5fd9489da3af18c07afdb9ae6', 'message': 'Use the different nova_cell0 database password from nova\n\nrefer to\nhttps://docs.openstack.org/ocata/install-guide-rdo/nova-controller-install.html\n\nChange-Id: Iaf228e3137cd73b933ca395b3081438393603251\nCloses-Bug: #1692430\n'}]",2,466615,3f12cf2a155dadf5fd9489da3af18c07afdb9ae6,11,3,2,22165,,,0,"Use the different nova_cell0 database password from nova

refer to
https://docs.openstack.org/ocata/install-guide-rdo/nova-controller-install.html

Change-Id: Iaf228e3137cd73b933ca395b3081438393603251
Closes-Bug: #1692430
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/466615/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kolla/passwords.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/bootstrap.yml']",3,44595476615b2418e84df5bbfc7143fde817dd15,bug/1692430," - ""{{ nova_cell0_database_name }}"" - database_name: ""{{ nova_cell0_database_name }}"" database_username: ""{{ nova_cell0_database_name }}"" database_password: ""{{ nova_cell0_database_password }}"""," - ""{{ nova_database_name }}_cell0"" - database_name: ""{{ nova_database_name }}_cell0"" database_username: ""{{ nova_database_name }}"" database_password: ""{{ nova_database_password }}""",9,4
openstack%2Fproject-config~master~I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7,openstack/project-config,master,I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7,Publish Devstack docs for stable branch too,MERGED,2018-07-03 02:38:41.000000000,2018-07-03 05:43:16.000000000,2018-07-03 05:43:16.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 02:38:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/39ab25481fc90535857172e3c79d02ed3e70ee69', 'message': ""Publish Devstack docs for stable branch too\n\nCurrently Devstack docs are built for master only but\nwe should have those published for stable branch also as\nDevstack is branched.\n\nThis commit allows Devstack docs to be published by template\n'publish-openstack-sphinx-docs'\n\nChange-Id: I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7\n""}]",0,579738,39ab25481fc90535857172e3c79d02ed3e70ee69,7,3,1,8556,,,0,"Publish Devstack docs for stable branch too

Currently Devstack docs are built for master only but
we should have those published for stable branch also as
Devstack is branched.

This commit allows Devstack docs to be published by template
'publish-openstack-sphinx-docs'

Change-Id: I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/579738/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,39ab25481fc90535857172e3c79d02ed3e70ee69,,, - build-openstack-sphinx-docs: branches: ^master - build-openstack-sphinx-docs: branches: ^master,0,4
openstack%2Fopenstack-helm~master~Idf909cddf61fa1948ce01081ada7385904550b12,openstack/openstack-helm,master,Idf909cddf61fa1948ce01081ada7385904550b12,Update the path of vars.yaml,MERGED,2018-06-19 15:26:27.000000000,2018-07-03 05:38:29.000000000,2018-07-03 05:38:29.000000000,"[{'_account_id': 20466}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-19 15:26:27.000000000', 'files': ['doc/source/install/multinode.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d80a399b4f49292a2ffaf576eec3006d3b4a946f', 'message': 'Update the path of vars.yaml\n\nthe path of vars.yaml should be in /opt since the code is clone in\n/opt\n\nChange-Id: Idf909cddf61fa1948ce01081ada7385904550b12\n'}]",0,576559,d80a399b4f49292a2ffaf576eec3006d3b4a946f,14,6,1,22165,,,0,"Update the path of vars.yaml

the path of vars.yaml should be in /opt since the code is clone in
/opt

Change-Id: Idf909cddf61fa1948ce01081ada7385904550b12
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/59/576559/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/multinode.rst'],1,d80a399b4f49292a2ffaf576eec3006d3b4a946f,, updating file ``/opt/openstack-helm-infra/tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml``, updating file ``/openstack-helm-infra/tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml``,1,1
openstack%2Fkolla-ansible~master~I6ffa18b58824238a375114fb1312ac6e6d5a02fd,openstack/kolla-ansible,master,I6ffa18b58824238a375114fb1312ac6e6d5a02fd,"Extend the value of ""osd max object size"" in Ceph bluestore OSD",ABANDONED,2018-07-03 01:23:48.000000000,2018-07-03 05:19:00.000000000,,"[{'_account_id': 7488}, {'_account_id': 22348}, {'_account_id': 24574}]","[{'number': 1, 'created': '2018-07-03 01:23:48.000000000', 'files': ['ansible/roles/ceph/templates/ceph.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00bb2ad8acae3dc50513d0e31358af0a879f1b23', 'message': 'Extend the value of ""osd max object size"" in Ceph bluestore OSD\n\nIn Ceph bluestore OSD, the default value of ""osd max object size""\nis 100MB.\n\nIn Ceph filestore OSD, the default value is 1GB.\n\nThe patch extends the value of bluestore OSD to be the same as\nfilestore OSD.\n\nCloses-Bug: #1779792\n\nChange-Id: I6ffa18b58824238a375114fb1312ac6e6d5a02fd\nSigned-off-by: tone.zhang <tone.zhang@arm.com>\n'}]",0,579727,00bb2ad8acae3dc50513d0e31358af0a879f1b23,5,3,1,24574,,,0,"Extend the value of ""osd max object size"" in Ceph bluestore OSD

In Ceph bluestore OSD, the default value of ""osd max object size""
is 100MB.

In Ceph filestore OSD, the default value is 1GB.

The patch extends the value of bluestore OSD to be the same as
filestore OSD.

Closes-Bug: #1779792

Change-Id: I6ffa18b58824238a375114fb1312ac6e6d5a02fd
Signed-off-by: tone.zhang <tone.zhang@arm.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/579727/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/templates/ceph.conf.j2'],1,00bb2ad8acae3dc50513d0e31358af0a879f1b23,bug/1779792,{% if ceph_osd_store_type is defined and ceph_osd_store_type == 'bluestore' %} osd max object size = 1073741824 {% endif %} ,,4,0
openstack%2Fnova~master~I728f30999bcfb806c07a8c2fd3fad0f72391b97d,openstack/nova,master,I728f30999bcfb806c07a8c2fd3fad0f72391b97d,Modify show aggregate to display 'updated_at' value,ABANDONED,2018-01-24 10:08:17.000000000,2018-07-03 05:13:13.000000000,,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11278}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 19457}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 27618}]","[{'number': 1, 'created': '2018-01-24 10:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5497583a8408431d12932752577f5e55a4f0adcc', 'message': ""Modify show aggregate to display 'updated_at' value\n\nIn 'openstack show aggregate ' command 'updated_at' field is\nalways None. This commit fixes the same to retrieve the correct\nvalue.\n\nChange-Id: I728f30999bcfb806c07a8c2fd3fad0f72391b97d\nCloses-Bug: #1663456\n""}, {'number': 2, 'created': '2018-02-06 11:04:50.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/os-aggregates/aggregates-add-host-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.41/aggregates-add-host-post-resp.json.tpl', 'doc/api_samples/os-aggregates/v2.41/aggregates-get-resp.json', 'doc/api_samples/os-aggregates/v2.41/aggregates-remove-host-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.41/aggregates-remove-host-post-resp.json.tpl', 'doc/api_samples/os-aggregates/aggregates-remove-host-post-resp.json', 'doc/api_samples/os-aggregates/aggregates-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/aggregates-remove-host-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.41/aggregate-post-resp.json.tpl', 'doc/api_samples/os-aggregates/aggregates-list-get-resp.json', 'doc/api_samples/os-aggregates/aggregates-add-host-post-resp.json', 'doc/api_samples/os-aggregates/v2.41/aggregates-add-host-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/aggregate-post-resp.json.tpl', 'doc/api_samples/os-aggregates/v2.41/aggregate-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.41/aggregates-list-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/aggregates-list-get-resp.json.tpl', 'doc/api_samples/os-aggregates/aggregate-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.41/aggregates-get-resp.json.tpl', 'doc/api_samples/os-aggregates/v2.41/aggregates-list-get-resp.json', 'nova/objects/aggregate.py', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/aggregates-get-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b46bc122e0e5943973b264b456dff87d2506c2b', 'message': ""Modify show aggregate to display 'updated_at' value\n\nIn 'openstack show aggregate ' command 'updated_at' field is\nalways None. This commit fixes the same to retrieve the correct value.\n\nChange-Id: I728f30999bcfb806c07a8c2fd3fad0f72391b97d\nCloses-Bug: #1663456\n""}]",1,537334,7b46bc122e0e5943973b264b456dff87d2506c2b,30,16,2,27618,,,0,"Modify show aggregate to display 'updated_at' value

In 'openstack show aggregate ' command 'updated_at' field is
always None. This commit fixes the same to retrieve the correct value.

Change-Id: I728f30999bcfb806c07a8c2fd3fad0f72391b97d
Closes-Bug: #1663456
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/537334/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/aggregate.py'],1,5497583a8408431d12932752577f5e55a4f0adcc,bug/1663456,"from oslo_utils import timeutils ""aggregate_id"": aggregate_id, ""updated_at"": timeutils.utcnow()}) query = context.session.query(api_models.Aggregate).\ filter_by(id=aggregate_id).first() query.update({""updated_at"": timeutils.utcnow()}) values['updated_at'] = timeutils.utcnow()"," ""aggregate_id"": aggregate_id})",7,1
openstack%2Fneutron~master~Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1,openstack/neutron,master,Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1,Routed Networks - peer-subnet/segment host-routes (2/2),MERGED,2018-06-09 05:55:55.000000000,2018-07-03 05:11:14.000000000,2018-06-29 09:54:15.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-06-09 05:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb9d5e4df1d6efb5a571567950ad620f04a831b4', 'message': ""[WiP] Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get's host_routes enties added/removed as\nsubnets are created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n""}, {'number': 2, 'created': '2018-06-11 21:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a91ed18b8f12dcc9edcfbe5f2d1daf4b377aee79', 'message': ""[WiP] Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get's host_routes enties added/removed as\nsubnets are created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n""}, {'number': 3, 'created': '2018-06-12 12:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/921ef0274549ff5906baa4e98c3cb41d31056ce1', 'message': ""Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get's host_routes enties added/removed as\nsubnets are created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nAlso adds a shim api extension.\n\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n""}, {'number': 4, 'created': '2018-06-15 12:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75c991119b6a9cc40bdbbeff404fe4eecb835fc7', 'message': ""Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get's host_routes enties added/removed as\nsubnets are created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nAlso adds a shim api extension.\n\nAPIImpact: Host routes are now calculated for routed networks.\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n""}, {'number': 5, 'created': '2018-06-26 21:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f5e861bcbcc5a4350e6f79285a76fb534d731fe', 'message': ""Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get's host_routes enties added/removed as\nsubnets are created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nAlso adds a shim api extension.\n\nAPIImpact: Host routes are now calculated for routed networks.\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n""}, {'number': 6, 'created': '2018-06-28 06:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc057842121fa1961a13a7d61fa973c980e2ebbc', 'message': 'Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get host_routes entries added/removed as subnets\nare created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nAlso adds a shim api extension.\n\nAPIImpact: Host routes are now calculated for routed networks.\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n'}, {'number': 7, 'created': '2018-06-28 09:01:44.000000000', 'files': ['neutron/services/segments/plugin.py', 'releasenotes/notes/routed-networks-hostroutes-a13a9885f0db4f69.yaml', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/extensions/_segments_peer_subnet_host_routes_lib.py', 'neutron/extensions/segments_peer_subnet_host_routes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8361b8b5aebad4df3c1012952d9a87b936fef326', 'message': 'Routed Networks - peer-subnet/segment host-routes (2/2)\n\nEnsure that host routes are maintained for each subnet within\na network. Subnets associated with different segments on the\nsame network get host_routes entries added/removed as subnets\nare created, deleted or updated.\n\nThis change handle the host_routes for the peer subnets on the\nsame network when a subnet is created or deleted.\n\nAlso adds a shim api extension.\n\nAPIImpact: Host routes are now calculated for routed networks.\nCloses-Bug: #1766380\nChange-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1\n'}]",21,573897,8361b8b5aebad4df3c1012952d9a87b936fef326,52,11,7,24245,,,0,"Routed Networks - peer-subnet/segment host-routes (2/2)

Ensure that host routes are maintained for each subnet within
a network. Subnets associated with different segments on the
same network get host_routes entries added/removed as subnets
are created, deleted or updated.

This change handle the host_routes for the peer subnets on the
same network when a subnet is created or deleted.

Also adds a shim api extension.

APIImpact: Host routes are now calculated for routed networks.
Closes-Bug: #1766380
Change-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/573897/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py']",2,fb9d5e4df1d6efb5a571567950ad620f04a831b4,bug/1766380," self.assertIn(sub_res['host_routes'][0], host_routes) def test_host_routes_create_two_subnets_then_delete_one(self): """"""Delete subnet after creating two subnets associated same segment. Host routes with destination to the subnet that is deleted are removed from the remaining subnets. """""" gateway_ips = ['10.0.1.1', '10.0.2.1'] cidrs = ['10.0.1.0/24', '10.0.2.0/24'] net, subnet0, subnet1 = self._create_subnets_segments(gateway_ips, cidrs) sh_req = self.new_show_request('subnets', subnet1['id']) raw_res = sh_req.get_response(self.api) sub_res = self.deserialize(self.fmt, raw_res) self.assertEqual([{'destination': cidrs[0], 'nexthop': gateway_ips[1]}], sub_res['subnet']['host_routes']) del_req = self.new_delete_request('subnets', subnet0['id']) del_req.get_response(self.api) sh_req = self.new_show_request('subnets', subnet1['id']) raw_res = sh_req.get_response(self.api) sub_res = self.deserialize(self.fmt, raw_res) self.assertEqual([], sub_res['subnet']['host_routes']) self.assertIn(sub_res['host_routes'][0], host_routes)"," # TODO(hjensas): Remove the conditinal in next patch in series. if len(sub_res['host_routes']) > 0: self.assertIn(sub_res['host_routes'][0], host_routes) # TODO(hjensas): Include this in next patch in series. # def test_host_routes_create_two_subnets_then_delete_one(self): # """"""Delete subnet after creating two subnets associated same segment. # # Host routes with destination to the subnet that is deleted are removed # from the remaining subnets. # """""" # gateway_ips = ['10.0.1.1', '10.0.2.1'] # cidrs = ['10.0.1.0/24', '10.0.2.0/24'] # net, subnet0, subnet1 = self._create_subnets_segments(gateway_ips, # cidrs) # # sh_req = self.new_show_request('subnets', subnet1['id']) # raw_res = sh_req.get_response(self.api) # sub_res = self.deserialize(self.fmt, raw_res) # self.assertEqual([{'destination': cidrs[0], # 'nexthop': gateway_ips[1]}], # sub_res['subnet']['host_routes']) # # del_req = self.new_delete_request('subnets', subnet0['id']) # del_req.get_response(self.api) # # sh_req = self.new_show_request('subnets', subnet1['id']) # raw_res = sh_req.get_response(self.api) # sub_res = self.deserialize(self.fmt, raw_res) # # self.assertEqual([], sub_res['subnet']['host_routes']) # TODO(hjensas): Remove the conditinal in next patch in series. if len(sub_res['host_routes']) > 0: self.assertIn(sub_res['host_routes'][0], host_routes)",66,33
openstack%2Fproject-config~master~Id3f49dbeabf4a01ee87b1c299443e8c3915d386c,openstack/project-config,master,Id3f49dbeabf4a01ee87b1c299443e8c3915d386c,Add StarlingX documentation repository,MERGED,2018-06-29 22:44:29.000000000,2018-07-03 05:06:43.000000000,2018-07-03 05:06:43.000000000,"[{'_account_id': 970}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 15405}, {'_account_id': 17499}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 22:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/37e991ccefee0ccd21cd403f1354d75f458c8641', 'message': 'Add StarlingX documentation repository\n\nAdding stx-docs as the documentation repository for the\nStarlingX project.\n\nChange-Id: Id3f49dbeabf4a01ee87b1c299443e8c3915d386c\n'}, {'number': 2, 'created': '2018-06-29 23:11:38.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/06d98e4e50d904fe9c8624979a87b18e7aecc727', 'message': 'Add StarlingX documentation repository\n\nAdding stx-docs as the documentation repository for the\nStarlingX project.\n\nNeeded-By: https://review.openstack.org/#/c/579303/\nChange-Id: Id3f49dbeabf4a01ee87b1c299443e8c3915d386c\n'}]",0,579301,06d98e4e50d904fe9c8624979a87b18e7aecc727,16,7,2,15405,,,0,"Add StarlingX documentation repository

Adding stx-docs as the documentation repository for the
StarlingX project.

Needed-By: https://review.openstack.org/#/c/579303/
Change-Id: Id3f49dbeabf4a01ee87b1c299443e8c3915d386c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/579301/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,37e991ccefee0ccd21cd403f1354d75f458c8641,add-stx-docs, - openstack/stx-docs,,10,0
openstack%2Fglance~master~I0537c9facc8e0ccae7615f4dc46c89d3419c9391,openstack/glance,master,I0537c9facc8e0ccae7615f4dc46c89d3419c9391,Remove duplicate registration of 'timeout' conf option,ABANDONED,2018-06-29 03:11:07.000000000,2018-07-03 04:51:56.000000000,,"[{'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 03:11:07.000000000', 'files': ['glance/common/trust_auth.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/353c8d9d494ceb27ea7baa3e9c2c5d79e9e32b75', 'message': ""Remove duplicate registration of 'timeout' conf option\n\nThis patch removes duplicate registration of session of\noption 'timeout' under [keystone_authtoken] as it is\nregistered in keystonemiddleware in patch[1].\n\n[1]: https://review.openstack.org/#/c/578008/\n\nDepends-On: I641366cc857f585117eb7797543e18fdaed46561\nChange-Id: I0537c9facc8e0ccae7615f4dc46c89d3419c9391\n""}]",0,579047,353c8d9d494ceb27ea7baa3e9c2c5d79e9e32b75,4,2,1,26541,,,0,"Remove duplicate registration of 'timeout' conf option

This patch removes duplicate registration of session of
option 'timeout' under [keystone_authtoken] as it is
registered in keystonemiddleware in patch[1].

[1]: https://review.openstack.org/#/c/578008/

Depends-On: I641366cc857f585117eb7797543e18fdaed46561
Change-Id: I0537c9facc8e0ccae7615f4dc46c89d3419c9391
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/579047/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/trust_auth.py'],1,353c8d9d494ceb27ea7baa3e9c2c5d79e9e32b75,remove-duplicate-conf-option,,"CONF.register_opt(cfg.IntOpt('timeout'), group='keystone_authtoken')",0,1
openstack%2Fpuppet-openstack-integration~master~I5d681aa56868aa977c1c3dad2cc50336a1ce91bb,openstack/puppet-openstack-integration,master,I5d681aa56868aa977c1c3dad2cc50336a1ce91bb,Configure delorean repos based on OS Type,MERGED,2018-06-25 13:29:30.000000000,2018-07-03 04:34:53.000000000,2018-07-03 04:34:53.000000000,"[{'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 13:29:30.000000000', 'files': ['configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae869dec6f7cc9b77cb36c6f6782304b6aeb9732', 'message': ""Configure delorean repos based on OS Type\n\nFor CentOS it's same as now, for fedora:-\ndelorean trunk:- trunk.rdoproject.org/fedora/current\ndelorean deps:- trunk.rdoproject.org/fedora/stable-base/latest\n\nChange-Id: I5d681aa56868aa977c1c3dad2cc50336a1ce91bb\n""}]",0,577819,ae869dec6f7cc9b77cb36c6f6782304b6aeb9732,9,4,1,13861,,,0,"Configure delorean repos based on OS Type

For CentOS it's same as now, for fedora:-
delorean trunk:- trunk.rdoproject.org/fedora/current
delorean deps:- trunk.rdoproject.org/fedora/stable-base/latest

Change-Id: I5d681aa56868aa977c1c3dad2cc50336a1ce91bb
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/577819/1 && git format-patch -1 --stdout FETCH_HEAD,['configure_facts.sh'],1,ae869dec6f7cc9b77cb36c6f6782304b6aeb9732,enable-py3,"export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-centos7-master/deps/latest/}if [ -f /etc/fedora-release ]; then # Can be changed to more stable repo later(ex:- fedora/puppet-passed-ci) DLRN_BASE=""fedora/current"" DLRN_DEPS_BASE=""fedora/stable-base/latest/"" fi DEPS_MIRROR_HOST=""${NODEPOOL_RDO_PROXY}/${DLRN_DEPS_BASE}/"" DEPS_MIRROR_HOST='https://trunk.rdoproject.org/${DLRN_DEPS_BASE}/'rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2`"," DEPS_MIRROR_HOST=""${NODEPOOL_RDO_PROXY}/centos7-master/deps/latest/"" DEPS_MIRROR_HOST='https://trunk.rdoproject.org/centos7-master/deps/latest/'rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-master/puppet-passed-ci/delorean.repo | grep baseurl | cut -d= -f2`",11,3
openstack%2Fpuppet-openstack-integration~master~Ib9f23e592105d08281f400827416e6f126935b1d,openstack/puppet-openstack-integration,master,Ib9f23e592105d08281f400827416e6f126935b1d,Use stestr-3 when it's available,MERGED,2018-06-25 08:59:18.000000000,2018-07-03 04:34:52.000000000,2018-07-03 04:34:52.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 08:59:18.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/029101ab8278184e86f79b6a4886935927376b17', 'message': ""Use stestr-3 when it's available\n\npython3-stestr provides stestr-3, With switch to fedora\nit would be installed and used.\n\nChange-Id: Ib9f23e592105d08281f400827416e6f126935b1d\n""}]",0,577755,029101ab8278184e86f79b6a4886935927376b17,7,3,1,13861,,,0,"Use stestr-3 when it's available

python3-stestr provides stestr-3, With switch to fedora
it would be installed and used.

Change-Id: Ib9f23e592105d08281f400827416e6f126935b1d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/55/577755/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,029101ab8278184e86f79b6a4886935927376b17,enable-py3," if type ""stestr-3"" 2>/dev/null; then stestr-3 last --subunit > /tmp/openstack/tempest/testrepository.subunit else stestr last --subunit > /tmp/openstack/tempest/testrepository.subunit fi", stestr last --subunit > /tmp/openstack/tempest/testrepository.subunit,5,1
openstack%2Fironic~master~Idef1bc876fe440824894332a211af9a10401e49c,openstack/ironic,master,Idef1bc876fe440824894332a211af9a10401e49c,Modifying 'whole_disk_image_url' and 'whole_disk_image_checksum' variable,MERGED,2018-01-19 07:37:40.000000000,2018-07-03 04:18:52.000000000,2018-07-03 04:18:52.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 19604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-19 07:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/58760f33a3abf91d90a53030710b8a110ec1f0e7', 'message': 'Adding condition for setting variable\n\nNeed to set variable whole_disk_image_url and\nwhole_disk_image_checksum in tempest.conf\n\nChange-Id: Idef1bc876fe440824894332a211af9a10401e49c\n'}, {'number': 2, 'created': '2018-02-09 10:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dbb080408e49ef0f3283d0b6739b96a004e71c0b', 'message': 'Adding condition for setting variable\n\nNeed to set variable whole_disk_image_url and\nwhole_disk_image_checksum in tempest.conf.\nAlso setting the ping_timeout for standalone ironic\nlike we are setting ssh_timeout in case node is\ntaking more time for becoming active\n\nChange-Id: Idef1bc876fe440824894332a211af9a10401e49c\n'}, {'number': 3, 'created': '2018-02-12 09:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4224d7e7ac9059309dc4b4a592a3de22a1e316f2', 'message': 'Adding condition for setting variable\n\nNeed to set variable whole_disk_image_url and\nwhole_disk_image_checksum in tempest.conf in case\nof standalone ironic and IPXE is disabled.\n\nAlso setting the ping_timeout for standalone ironic\nlike we are setting ssh_timeout in case node is\ntaking more time for becoming active\n\nChange-Id: Idef1bc876fe440824894332a211af9a10401e49c\nCloses-Bug: #1748849\n'}, {'number': 4, 'created': '2018-04-05 11:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d395ff9af9af20e092d94b805dd6e096eff947b0', 'message': 'Adding condition for setting variable\n\nNeed to set variable whole_disk_image_url and\nwhole_disk_image_checksum in tempest.conf in case\nof standalone ironic and IPXE is disabled.\n\nAlso setting the ping_timeout for standalone ironic\nlike we are setting ssh_timeout in case node is\ntaking more time for becoming active\n\nChange-Id: Idef1bc876fe440824894332a211af9a10401e49c\nCloses-Bug: #1748849\n'}, {'number': 5, 'created': '2018-07-02 07:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/245511addd34c2dd46eb577a9c363f5aa1dafe80', 'message': ""Modifying 'whole_disk_image_url' and 'whole_disk_image_checksum' variable\n\nNeed to set variable whole_disk_image_url and\nwhole_disk_image_checksum in tempest.conf in case\nof standalone ironic and IPXE is disabled.\n\nAlso setting the ping_timeout for standalone ironic\nlike we are setting ssh_timeout in case node is\ntaking more time for becoming active\n\nChange-Id: Idef1bc876fe440824894332a211af9a10401e49c\nCloses-Bug: #1748849\n""}, {'number': 6, 'created': '2018-07-02 08:01:48.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/194d0420689c1a7222592f237fb9258bc21bc149', 'message': ""Modifying 'whole_disk_image_url' and 'whole_disk_image_checksum' variable\n\nNeed to set variable whole_disk_image_url and\nwhole_disk_image_checksum in tempest.conf\nirrespective of IPXE is enabled or disabled.\n\nAlso setting the ping_timeout for standalone ironic\nlike we are setting ssh_timeout in case node is\ntaking more time for becoming active.\n\nThis change is required for iLO-CI as iLO-CI is\nrunning tests as standalone ironic.\n\nChange-Id: Idef1bc876fe440824894332a211af9a10401e49c\nCloses-Bug: #1748849\n""}]",8,535651,194d0420689c1a7222592f237fb9258bc21bc149,64,12,6,19604,,,0,"Modifying 'whole_disk_image_url' and 'whole_disk_image_checksum' variable

Need to set variable whole_disk_image_url and
whole_disk_image_checksum in tempest.conf
irrespective of IPXE is enabled or disabled.

Also setting the ping_timeout for standalone ironic
like we are setting ssh_timeout in case node is
taking more time for becoming active.

This change is required for iLO-CI as iLO-CI is
running tests as standalone ironic.

Change-Id: Idef1bc876fe440824894332a211af9a10401e49c
Closes-Bug: #1748849
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/535651/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,58760f33a3abf91d90a53030710b8a110ec1f0e7,ping," if [[ -n ""${IRONIC_HTTP_SERVER}"" || ""$IRONIC_IPXE_ENABLED"" == ""True"" ]] ; then"," if [[ ""$IRONIC_IPXE_ENABLED"" == ""True"" ]] ; then",1,1
openstack%2Fosc-lib~master~I01e8cf1b70d7a1501dccd26bf30db52e36dedb38,openstack/osc-lib,master,I01e8cf1b70d7a1501dccd26bf30db52e36dedb38,fix tox python3 overrides,MERGED,2018-06-06 19:28:02.000000000,2018-07-03 04:11:40.000000000,2018-07-03 04:11:39.000000000,"[{'_account_id': 970}, {'_account_id': 9414}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-06 19:28:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/1716e9fd0d7fd49d855da58abe26cb905c85e21b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I01e8cf1b70d7a1501dccd26bf30db52e36dedb38\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,572915,1716e9fd0d7fd49d855da58abe26cb905c85e21b,17,5,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I01e8cf1b70d7a1501dccd26bf30db52e36dedb38
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/15/572915/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1716e9fd0d7fd49d855da58abe26cb905c85e21b,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,7,0
openstack%2Fcinder~master~I067cb09928c4c9d4ebb7159950fff526ee70f1bb,openstack/cinder,master,I067cb09928c4c9d4ebb7159950fff526ee70f1bb,NEC driver: Reuse iSCSI LUNs of detached volumes.,MERGED,2018-06-27 04:15:03.000000000,2018-07-03 04:03:41.000000000,2018-07-02 20:04:12.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-27 04:15:03.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/78f104d75c3fef6f9371a2eadfdfd990aa1cb93d', 'message': 'NEC driver: Reuse iSCSI LUNs of detached volumes.\n\nCurrently, NEC driver does not reuse iSCSI LUNs of detached volumes.\nThe driver always use the LUN of (max(LUNs used) + 1) to attach\na volume.\n\nIf multi-target mode of NEC Storage is enabled, the driver works\nwithout the problem because only LUN0s are used in the multi-target\nmode.\n\nThis patch changes the using LUN to min(LUNs not used) for reusing\na LUN of detached volume with multi-target mode disabled.\n\nChange-Id: I067cb09928c4c9d4ebb7159950fff526ee70f1bb\nCloses-Bug: #1778669\n'}]",0,578271,78f104d75c3fef6f9371a2eadfdfd990aa1cb93d,34,26,1,23885,,,0,"NEC driver: Reuse iSCSI LUNs of detached volumes.

Currently, NEC driver does not reuse iSCSI LUNs of detached volumes.
The driver always use the LUN of (max(LUNs used) + 1) to attach
a volume.

If multi-target mode of NEC Storage is enabled, the driver works
without the problem because only LUN0s are used in the multi-target
mode.

This patch changes the using LUN to min(LUNs not used) for reusing
a LUN of detached volume with multi-target mode disabled.

Change-Id: I067cb09928c4c9d4ebb7159950fff526ee70f1bb
Closes-Bug: #1778669
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/578271/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py']",4,78f104d75c3fef6f9371a2eadfdfd990aa1cb93d,bug/1778669," def _get_free_lun(self, ldset): # Lun can't be specified when multi target mode. if ldset['protocol'] == 'iSCSI' and ldset['mode'] == 'Multi-Target': return None # get free lun. luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 return target_lun ret = self._iscsi_do_export(_ctx, volume, connector, ensure, self._properties['diskarray_name']) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') def _iscsi_do_export(self, _ctx, volume, connector, ensure, diskarray_name): self._cli.addldsetld(ldset['ldsetname'], ldname, self._get_free_lun(ldset)) self._cli.addldsetld(ldset['ldsetname'], ldname, self._get_free_lun(ldset)) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') def _create_snapshot_and_link(self, context, snapshot, connector, diskarray_name, validate_ldset_exist): xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) LOG.debug('validate data.') svname = self._validate_ld_exist( lds, snapshot.id, self._properties['ld_name_format']) bvname = self._validate_ld_exist( lds, snapshot.volume_id, self._properties['ld_name_format']) lvname = svname + '_l' ldset = validate_ldset_exist(ldsets, connector) svstatus = self._cli.query_BV_SV_status(bvname[3:], svname[3:]) if svstatus != 'snap/active': msg = _('Logical Disk (%s) is invalid snapshot.') % svname raise exception.VolumeBackendAPIException(data=msg) lvldn = self._select_ldnumber(used_ldns, max_ld_count) LOG.debug('configure backend.') lun0 = [ld for (ldn, ld) in ldset['lds'].items() if ld['lun'] == 0] if not lun0: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn, self._get_free_lun(ldset)) xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) self._cli.lvbind(bvname, lvname[3:], lvldn) self._cli.lvlink(svname[3:], lvname[3:]) self._cli.addldsetld(ldset['ldsetname'], lvname, self._get_free_lun(ldset)) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': lvname, 'ldset': ldset['ldsetname']}) return lvname lvname = ( self._create_snapshot_and_link(context, snapshot, connector, diskarray_name, self._validate_iscsildset_exist)) lvname = self._create_snapshot_and_link(context, snapshot, connector, diskarray_name, self._validate_fcldset_exist)"," ret = self._iscsi_do_export(_ctx, volume, connector, ensure) def _iscsi_do_export(self, _ctx, volume, connector, ensure): self._cli.addldsetld(ldset['ldsetname'], ldname) # get free lun. luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 self._cli.addldsetld(ldset['ldsetname'], ldname, target_lun) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) LOG.debug('validate data.') svname = self._validate_ld_exist( lds, snapshot.id, self._properties['ld_name_format']) bvname = self._validate_ld_exist( lds, snapshot.volume_id, self._properties['ld_name_format']) lvname = svname + '_l' ldset = self._validate_iscsildset_exist(ldsets, connector) svstatus = self._cli.query_BV_SV_status(bvname[3:], svname[3:]) if svstatus != 'snap/active': msg = _('Logical Disk (%s) is invalid snapshot.') % svname raise exception.VolumeBackendAPIException(data=msg) lvldn = self._select_ldnumber(used_ldns, max_ld_count) LOG.debug('configure backend.') if not ldset['lds']: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn) self._cli.lvbind(bvname, lvname[3:], lvldn) self._cli.lvlink(svname[3:], lvname[3:]) self._cli.addldsetld(ldset['ldsetname'], lvname) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) LOG.debug('validate data.') svname = self._validate_ld_exist( lds, snapshot.id, self._properties['ld_name_format']) bvname = self._validate_ld_exist( lds, snapshot.volume_id, self._properties['ld_name_format']) lvname = svname + '_l' ldset = self._validate_fcldset_exist(ldsets, connector) svstatus = self._cli.query_BV_SV_status(bvname[3:], svname[3:]) if svstatus != 'snap/active': msg = _('Logical Disk (%s) is invalid snapshot.') % svname raise exception.VolumeBackendAPIException(data=msg) lvldn = self._select_ldnumber(used_ldns, max_ld_count) LOG.debug('configure backend.') lun0 = [ld for (ldn, ld) in ldset['lds'].items() if ld['lun'] == 0] if not lun0: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn, 0) self._cli.lvbind(bvname, lvname[3:], lvldn) self._cli.lvlink(svname[3:], lvname[3:]) luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) if 0 not in luns: luns.append(0) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 self._cli.addldsetld(ldset['ldsetname'], lvname, target_lun) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': lvname, 'ldset': ldset['ldsetname']})",127,98
openstack%2Fosc-placement~master~Ie70497981ff4295b3ccd6b495b21bbb919d92c47,openstack/osc-placement,master,Ie70497981ff4295b3ccd6b495b21bbb919d92c47,Allocation candidates parameter: required (v1.17),MERGED,2018-02-27 15:54:38.000000000,2018-07-03 03:56:46.000000000,2018-07-03 03:56:46.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 15554}, {'_account_id': 21813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-27 15:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ff93852a3316fba607028d99c65182240c31f04b', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 2, 'created': '2018-03-02 13:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fbe8059ffc2c2b93f070d6af0ed43d209346acb7', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 3, 'created': '2018-03-06 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2062e2688cd6a62300cb99f5b154f3fe55f1b443', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 4, 'created': '2018-03-08 13:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/303946ac80fdb7b1bf522a97492fa96823d38393', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 5, 'created': '2018-03-23 10:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/834d2cf3595b20aa628b5ca8c15363ee481455c3', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 6, 'created': '2018-03-23 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5fbadd0aaee1466736d091501f4e28779df5e07c', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 7, 'created': '2018-04-11 07:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/04cdc8c9fdb6f2d95477c2280dd1f3c1b0e4fa89', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 8, 'created': '2018-04-11 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/812efbc2d5bb492469daf73694ed5122f2ad0165', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 9, 'created': '2018-04-12 13:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/dd4f862f8261f278ec76e734769800710c56a34e', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 10, 'created': '2018-04-12 19:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/27109e2a535bb7b8df2b91802335b94fc2573c99', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 11, 'created': '2018-04-18 21:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e1c3400e76cb77f0e097fa50c4b4cd74ecc15807', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 12, 'created': '2018-04-23 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/93ab0dcafd9635349b1aedada97eb86e55d3b498', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 13, 'created': '2018-05-01 17:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e71b5c1094c6a95765875afa01c99f54b8f73a57', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 14, 'created': '2018-05-11 08:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/32be7675dd08103b0367efd5d8484ca9094f09bc', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 15, 'created': '2018-05-14 13:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8da87dfa3b639913fce8b789a9ff9b761544e0af', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 16, 'created': '2018-05-14 19:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6fb9d84f2d986c02a4a3a462cbf509d7650d481d', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 17, 'created': '2018-05-15 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/97552b1c2c24225a9ffec71e864664274841cf0d', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 18, 'created': '2018-05-16 21:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a49633fb6e227b165e4c987b57366ac4db39e7fe', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 19, 'created': '2018-05-17 13:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/023970a83d68dc40134ce69a18b2c6acb7817e02', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 20, 'created': '2018-05-22 11:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3faf77d697cf0e5b1c7b1d13698d6140dfbc6295', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 21, 'created': '2018-05-22 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5e7b11af5aa11d99fa13e3ec2b984a44a26b0cd9', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 22, 'created': '2018-06-27 14:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7dc089d51a21c4be58f4d0bf33c029982803ccdf', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 23, 'created': '2018-06-27 21:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f61243b52502fd0262619d5ef4c13dc09eee6c26', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 24, 'created': '2018-06-27 23:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2d9da25d7b01af9c1bb9804fc22b0dff7633ab53', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 25, 'created': '2018-06-27 23:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/94ca5a7b0b71dc2048b4176e6647655640df9ceb', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 26, 'created': '2018-06-28 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/29f2c5c691b4202764a2771d4b5b9d42e6f6f317', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 27, 'created': '2018-06-28 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/daeeb606443d050f391bcd2f37977f5faecb7770', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 28, 'created': '2018-06-29 02:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/cefd167a70cacf371428c7f3be970f027e5cf37e', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 29, 'created': '2018-06-29 09:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5122eac066e3a402ba4a2dadd5be2f44a30986ca', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate show':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate show':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 30, 'created': '2018-06-29 12:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/603379666c12271fabfbe8b5c0e922408146f2dd', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 31, 'created': '2018-06-29 12:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/205217e06ed57a36ff309fdd89393e56bc26ed2c', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 32, 'created': '2018-06-29 13:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/39dd4129160b07b0b9865736c9230d050084a82b', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 33, 'created': '2018-06-29 18:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f244381d9ada88d3fdf4f21775521260eed49ba8', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 34, 'created': '2018-06-29 20:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ef98040add1e2dc6c91cd51f68265dd1ebc85fa7', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 35, 'created': '2018-06-29 20:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/aeb0460c5fcae0bcda27410b781a5ea2c264d49b', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT[,...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 36, 'created': '2018-07-02 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/0b945bc7ca31d3ea8e02cd919d76204fcfb4f41f', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT [--required ...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 37, 'created': '2018-07-02 13:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e713319a3bee0d595ef9e29e374339a2777f29a7', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT [--required ...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 38, 'created': '2018-07-02 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/37d1b83c99a6cd62db090016fc29f046118d1a0e', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT [--required ...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}, {'number': 39, 'created': '2018-07-02 15:09:43.000000000', 'files': ['osc_placement/tests/functional/base.py', 'releasenotes/notes/microversion-1.17-alloc-candidates-required-traits-57378c735d0beeb4.yaml', 'osc_placement/version.py', 'osc_placement/tests/functional/test_allocation_candidate.py', 'osc_placement/resources/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5883b82f69f60a64583cc51b7f578c7e8ae2ce9d', 'message': ""Allocation candidates parameter: required (v1.17)\n\nNew parameter to 'allocation candidate list':\n    --required TRAIT [--required ...]\n\nNew output field of 'allocation candidate list':\n    traits\n\nChange-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47\nPartially-Implements: blueprint placement-osc-plugin-rocky\n""}]",8,548326,5883b82f69f60a64583cc51b7f578c7e8ae2ce9d,86,6,39,15554,,,0,"Allocation candidates parameter: required (v1.17)

New parameter to 'allocation candidate list':
    --required TRAIT [--required ...]

New output field of 'allocation candidate list':
    traits

Change-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47
Partially-Implements: blueprint placement-osc-plugin-rocky
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/26/548326/37 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/version.py', 'osc_placement/tests/functional/test_allocation_candidate.py', 'osc_placement/resources/allocation_candidate.py']",4,ff93852a3316fba607028d99c65182240c31f04b,bp/placement-osc-plugin-rocky," class FieldsMixin(object): def get_fields(self): fields = ('request no', 'allocation', 'resource provider', 'resource') if self.compare_version(version.ge('1.17')): fields += ('traits',) return fields class ShowAllocationCandidate(command.Lister, version.CheckerMixin, FieldsMixin): parser.add_argument( '--required', metavar='<required>', help='Comma-separated list of traits. Allocation candidates must' ' collectively contain all of the required traits.' ' This param requires at least' ' --os-placement-api-version 1.17.' ) if 'required' in parsed_args and parsed_args.required: self.check_version(version.ge('1.17')) params['required'] = parsed_args.required rp_resources = {} if self.compare_version(version.ge('1.17')): rp_traits = {} for rp_uuid, resources in resp['provider_summaries'].items(): rp_resources[rp_uuid] = ','.join( if self.compare_version(version.ge('1.17')): rp_traits[rp_uuid] = ','.join(resources['traits']) if self.compare_version(version.ge('1.17')): row = [i + 1, req, rp, rp_resources[rp], rp_traits[rp]] else: row = [i + 1, req, rp, rp_resources[rp]] rows.append(row) rows.append([i + 1, req, rp, rp_resources[rp]]) return self.get_fields(), rows","FIELDS = ('request no', 'allocation', 'resource provider', 'resource') class ShowAllocationCandidate(command.Lister, version.CheckerMixin): rps = {} for rp_uuid, resources in resp['provider_summaries'].items(): rps[rp_uuid] = ','.join( rows.append([i + 1, req, rp, rps[rp]]) rows.append([i + 1, req, rp, rps[rp]]) return FIELDS, rows",68,10
openstack%2Fosc-placement~master~Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c,openstack/osc-placement,master,Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c,"Limit allocation candidates (v1.15, v1.16)",MERGED,2018-02-26 15:03:01.000000000,2018-07-03 03:56:45.000000000,2018-07-03 03:56:45.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 15554}, {'_account_id': 21813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 15:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/540b9be0a71756a3197016870e27d15330753520', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show: --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 2, 'created': '2018-02-27 15:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/36aee45a3eaac7476e955001c8f900d46e71ffbf', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 3, 'created': '2018-03-02 13:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/69f5571221367b79906d57c7ffac5d01a1618bdf', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 4, 'created': '2018-03-06 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d1fe0abc8e5e1e0600a18eecf7cac718a26d0dd6', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 5, 'created': '2018-03-08 13:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8385f827a14fdd07ed7bcc2378b9f0aadf5b35eb', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 6, 'created': '2018-03-23 10:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/726b178a068499f06d20ed8793e0b3aa1a2acba3', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 7, 'created': '2018-03-23 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3aa4c94b1eb7e45efa1dc8d0f935ebddc4716991', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 8, 'created': '2018-04-11 07:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/90c17a81b8377c222ee08a32224aee8b68e8f488', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 9, 'created': '2018-04-11 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d512a64c13fa271551eed57be1428f31a601f3d2', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 10, 'created': '2018-04-12 13:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/26832bf17f104cef2f3f00c2fa0d4b1b15d4f151', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 11, 'created': '2018-04-12 19:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8a3c2ccd5536b66e5ae2d57c9140648679b3c6e1', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 12, 'created': '2018-04-18 21:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f63cf996020516b1074f0d6d54ae713a7e9e0bbb', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 13, 'created': '2018-04-23 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e08108284d42f67f35ecf06ab9b0197d2f504e88', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 14, 'created': '2018-05-01 17:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/069111537a2a273298c61b7956e3c12dfa6c3f31', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 15, 'created': '2018-05-11 08:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ff6d4c2cc4d1fc3b738e5f604f73203188177cca', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 16, 'created': '2018-05-14 13:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2c8d24e13c60cc2fbb5f584c225d38a1d8ba524a', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 17, 'created': '2018-05-14 19:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ff9ccee4e926d47179c250acde2deb33409e3060', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 18, 'created': '2018-05-15 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a26730cd802ad34808782f8cc74c14ba77004b1f', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 19, 'created': '2018-05-16 21:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/37b12bf2bb34a5f8eaf62cef04316eecabd47c66', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 20, 'created': '2018-05-17 13:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ea8a5b275ca6097ddf48aadb74894472e5b96dc6', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 21, 'created': '2018-05-22 11:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e86e1faa720012b55761329683e0b910a17d0b1c', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 22, 'created': '2018-05-22 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/cf69cf18a6c14b2f28348f2674ae80dc0280439a', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 23, 'created': '2018-06-27 14:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7f8d47503cc8eadf2d3ee6aede6388d80ff4f4ac', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 24, 'created': '2018-06-27 21:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/08da2f43b9c5491356bf1281969024a4a4366ac5', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 25, 'created': '2018-06-27 23:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d529cdb97cf50f76af091adf832e849b87bd2e05', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 26, 'created': '2018-06-27 23:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/10ba88577c4b163d551e8aff1aa6760949d9e1eb', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 27, 'created': '2018-06-28 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2389de0d10d4bc2081306022c4aea6464555cc74', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 28, 'created': '2018-06-28 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3e71600e2837017dbe3f9560176d47caffb153cd', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 29, 'created': '2018-06-29 02:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fc430ab56b2fcf26c098d1ba854eed00751e58af', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 30, 'created': '2018-06-29 09:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/70d45d27fe396b1f6ee1e5e3eabd9426c7db6daa', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc so we just skip over\nthat in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate show:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 31, 'created': '2018-06-29 12:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b11a8d5dc3cdc665749fbb8c436b02538e5c4976', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 32, 'created': '2018-06-29 12:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d43f5976c72e35b31bb024459f2e2da45e21e71d', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 33, 'created': '2018-06-29 18:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e4410df80b5df82e6b5c3d43b5b8f68ede2df2f0', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 34, 'created': '2018-06-29 20:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/dbd936ccb35e90e2eadd2ddc4db3fe4ca397007c', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 35, 'created': '2018-06-29 20:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a3b4015fac96eef90ca41105eaed0b4bc6ed7c33', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 36, 'created': '2018-07-02 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/000342456b4f65f4218a7f698c56a883ee90c62b', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 37, 'created': '2018-07-02 13:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7fd69a2c191a3107d1bcebb58a4d4d4f1b3163c5', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 38, 'created': '2018-07-02 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/0e9bd7e1e71a5fd763e7b2dc5aaba790c64f4a16', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 39, 'created': '2018-07-02 15:09:43.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/version.py', 'osc_placement/tests/functional/test_allocation_candidate.py', 'releasenotes/notes/microversion-1.16-alloc-candidates-limit-8310675ecc99a82a.yaml', 'osc_placement/resources/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/9f4e7eb9e82de3bd5778802e11fa15911c79b7bb', 'message': 'Limit allocation candidates (v1.15, v1.16)\n\nv1.15:\nMicroversion 1.15 does not need any support in osc\nso we just skip over that in this patch.\n\nv1.16:\nNew optional parameter to allocation candidate list:\n    --limit N\n\nChange-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}]",12,548043,9f4e7eb9e82de3bd5778802e11fa15911c79b7bb,90,7,39,15554,,,0,"Limit allocation candidates (v1.15, v1.16)

v1.15:
Microversion 1.15 does not need any support in osc
so we just skip over that in this patch.

v1.16:
New optional parameter to allocation candidate list:
    --limit N

Change-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c
Partially-Implements: blueprint placement-osc-plugin-rocky
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/43/548043/32 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/version.py', 'osc_placement/tests/functional/test_allocation_candidate.py', 'osc_placement/resources/allocation_candidate.py']",4,540b9be0a71756a3197016870e27d15330753520,bp/placement-osc-plugin-rocky," parser.add_argument( '--limit', metavar='<limit>', help='A positive integer to limit' ' the maximum number of allocation candidates.' ' This param requires at least' ' --os-placement-api-version 1.16.' ) if 'limit' in parsed_args and parsed_args.limit: self.check_version(version.ge('1.16')) params['limit'] = int(parsed_args.limit)",,46,7
openstack%2Fosc-placement~master~Iafefbfce6b439190909476fd40ccb74ffb511b5d,openstack/osc-placement,master,Iafefbfce6b439190909476fd40ccb74ffb511b5d,Add nested resource providers (v1.14),MERGED,2018-02-21 16:05:54.000000000,2018-07-03 03:56:45.000000000,2018-07-03 03:56:44.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15554}, {'_account_id': 20722}, {'_account_id': 21813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 16:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/06693a855462e0b10a147833e5c3c12e7a4f98db', 'message': 'Add nested resource providers (v1.14)\n\nAdd fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nAdd optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nAdd optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nAdd optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 2, 'created': '2018-03-02 13:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/bce6e3a2603fc13d3c34f60cfc9a23c4eca1bcb9', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 3, 'created': '2018-03-06 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/bcd50d69fa0ed9419c88bef3f883cad78ceaddb6', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 4, 'created': '2018-03-08 13:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/344d3cca0b27b4e839f08f436964c1f6c78f2a8f', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 5, 'created': '2018-03-23 10:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d5408d5277df33e80aeacfc772d3151ac3982b9b', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 6, 'created': '2018-03-23 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/929aeefb36518156b0c4d0ba10fadf592933137d', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 7, 'created': '2018-04-11 07:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3c495c33fa4a86020640a7c1cd2f014123e76918', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 8, 'created': '2018-04-11 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fc81ea8299eece76f024a3b3b88a2c04069ba4e4', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 9, 'created': '2018-04-12 13:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/deba745e6013e4af24a0487fa25e1e35bfb9ee96', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 10, 'created': '2018-04-12 19:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4d8f8514c416b4d4b7bf8e79ecc8bf0d14cbec2a', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 11, 'created': '2018-04-18 21:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/9514390234071d74f2a7e72aed079e0ac540b32d', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 12, 'created': '2018-04-23 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/0e99730247ba2409707e83cd2781c687e80655bf', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 13, 'created': '2018-05-01 17:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4937659008a68553580b12e71dcc23c33caac110', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 14, 'created': '2018-05-11 08:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fb72375af9e6d5ff560b59c480003c63d40c6f81', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 15, 'created': '2018-05-14 13:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/62f76fcab52c460d757ad5125cc392476c2c8830', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 16, 'created': '2018-05-14 19:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4ea77f53d7a86db5f632a6742fb64f9889117139', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 17, 'created': '2018-05-15 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/37573fb292eff52c72ca95454768131eafc3cc54', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 18, 'created': '2018-05-16 21:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a67bd0d844b56d96974883a39eeafbfc785bceeb', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 19, 'created': '2018-05-17 13:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7ca24c33acf75d72286f612d6d62fae3b4ff6278', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 20, 'created': '2018-05-22 11:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/defcdd013017d5552e070b5bcfe515063143e0c7', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 21, 'created': '2018-05-22 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/1b28ed5914abcb1b0507d06e4ba28ff84a1ba892', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 22, 'created': '2018-06-27 14:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3747667a29087967d866f928e11100d19518b6e7', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 23, 'created': '2018-06-27 21:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7a58f6ff57e4c5328ad7aad8c624069541a58aef', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 24, 'created': '2018-06-27 23:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3704d7adb8a7a8867d6238a34c69f6bf9b18f2a2', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 25, 'created': '2018-06-27 23:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/0907562531b7a4bd852fca0803ab504d02bd99af', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 26, 'created': '2018-06-28 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/45511837dbb57319696d150eb6e76080cfb01f87', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 27, 'created': '2018-06-28 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fe426cbecdd44bf0b5bd8cc2a17624d28f541af8', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 28, 'created': '2018-06-29 02:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/cbac21bfc157c8bccff46abcb21f06f0c6f12758', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 29, 'created': '2018-06-29 09:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/a0edc799deb3d7beef9e23ee342ac86ec6e48561', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 30, 'created': '2018-06-29 12:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2976688352e618969eddf0521cd3f5e834081446', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 31, 'created': '2018-06-29 18:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d6503fa23fb9e3dfdddf8fc81737d774e9e57f17', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 32, 'created': '2018-06-29 20:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2d7538166f3a1f2d1e727ce7b195d3a08a4f3b9b', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 33, 'created': '2018-06-29 20:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6c8dca992d79c5211bbc90b399e3dc912aba14a6', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider-uuid UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 34, 'created': '2018-07-02 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5f162ba45f34bd29c6f31955c7f4f2973d549444', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 35, 'created': '2018-07-02 13:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/294994aeb5af3f5d976216cbfef3f670c405d016', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 36, 'created': '2018-07-02 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/11aecdadbe6a2b3d384d87914e83c5481efef460', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}, {'number': 37, 'created': '2018-07-02 15:09:43.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/resources/resource_provider.py', 'osc_placement/tests/functional/test_resource_provider.py', 'osc_placement/version.py', 'releasenotes/notes/microversion-1.14-support-nested-resource-providers-296961cc93ef30e8.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/565fb8d8c4e7dff0e3df1f6708a81c0b6dc13c75', 'message': 'Add nested resource providers (v1.14)\n\nNew fields to the output of resource provider list/show/create/set:\n  root_provider_uuid\n  parent_provider_uuid\n\nNew optional parameter to resource provider create:\n  --parent-provider UUID\n\nNew optional parameter to resource provider set:\n  --parent-provider UUID\n\nNew optional parameter to resource provider list:\n  --in-tree UUID\n\nChange-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d\nPartially-Implements: blueprint placement-osc-plugin-rocky\nRelated-Bug: #1770636\n'}]",33,546675,565fb8d8c4e7dff0e3df1f6708a81c0b6dc13c75,96,8,37,15554,,,0,"Add nested resource providers (v1.14)

New fields to the output of resource provider list/show/create/set:
  root_provider_uuid
  parent_provider_uuid

New optional parameter to resource provider create:
  --parent-provider UUID

New optional parameter to resource provider set:
  --parent-provider UUID

New optional parameter to resource provider list:
  --in-tree UUID

Change-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d
Partially-Implements: blueprint placement-osc-plugin-rocky
Related-Bug: #1770636
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/75/546675/36 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/resources/resource_provider.py', 'osc_placement/tests/functional/test_resource_provider.py', 'osc_placement/version.py']",4,06693a855462e0b10a147833e5c3c12e7a4f98db,bp/placement-osc-plugin-rocky," '1.13', '1.14'", '1.13',156,18
openstack%2Fdevstack~master~I111f2b1311b67836757496a0eac19f79a1b64073,openstack/devstack,master,I111f2b1311b67836757496a0eac19f79a1b64073,Specifically enable plugins for uwsgi,ABANDONED,2018-06-26 04:46:32.000000000,2018-07-03 03:48:10.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-26 04:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fac0e0d22afcaa4260f8dd6b35a1bee3d92215c9', 'message': 'Use http plugin for uwsgi\n\nWhen using distribution based uwsgi, we may have to explicitly specify\nmore plugins in the configuration file as they are not built in by\ndefault.  Add http\n\nChange-Id: I111f2b1311b67836757496a0eac19f79a1b64073\n'}, {'number': 2, 'created': '2018-06-26 07:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4af58266a346a7d9c41bc61a4c4de46d0bb42e17', 'message': 'Use http plugin for uwsgi\n\nWhen using distribution based uwsgi, we may have to explicitly specify\nmore plugins in the configuration file as they are not built in by\ndefault.  Add http\n\nChange-Id: I111f2b1311b67836757496a0eac19f79a1b64073\n'}, {'number': 3, 'created': '2018-06-26 08:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b6dc31b0b760db7e3b781796489c58d731642ca', 'message': 'Specifically enable plugins for uwsgi\n\nWhen using distribution based uwsgi, we may have to explicitly specify\nmore plugins in the configuration file as they are not built in by\ndefault.  Add http, http-socket (maybe only needed for glance?),\npython, python3.\n\nChange-Id: I111f2b1311b67836757496a0eac19f79a1b64073\n'}, {'number': 4, 'created': '2018-07-03 01:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2d872358b7c85bf6e43485639dda3384e9585fcf', 'message': 'Specifically enable plugins for uwsgi\n\nWhen using distribution based uwsgi, we may have to explicitly specify\nmore plugins in the configuration file as they are not built in by\ndefault.  Add http, http-socket (maybe only needed for glance?),\npython, python3.\n\nChange-Id: I111f2b1311b67836757496a0eac19f79a1b64073\n'}, {'number': 5, 'created': '2018-07-03 01:32:35.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6ce5f6059c30175b83b4710360efa99e122c3ee9', 'message': 'Specifically enable plugins for uwsgi\n\nWhen using distribution based uwsgi, we may have to explicitly specify\nmore plugins in the configuration file as they are not built in by\ndefault.  Add http, http-socket (maybe only needed for glance?),\npython, python3.\n\nChange-Id: I111f2b1311b67836757496a0eac19f79a1b64073\n'}]",0,577987,6ce5f6059c30175b83b4710360efa99e122c3ee9,21,5,5,7118,,,0,"Specifically enable plugins for uwsgi

When using distribution based uwsgi, we may have to explicitly specify
more plugins in the configuration file as they are not built in by
default.  Add http, http-socket (maybe only needed for glance?),
python, python3.

Change-Id: I111f2b1311b67836757496a0eac19f79a1b64073
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/577987/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,fac0e0d22afcaa4260f8dd6b35a1bee3d92215c9,uwsgi-f28," iniset ""$file"" uwsgi plugins python,http iniset ""$file"" uwsgi plugins python,http"," iniset ""$file"" uwsgi plugins python iniset ""$file"" uwsgi plugins python",2,2
openstack%2Ftripleo-docs~master~I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7,openstack/tripleo-docs,master,I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7,Add note about standalone being only in master,MERGED,2018-06-20 14:53:52.000000000,2018-07-03 03:43:08.000000000,2018-07-03 03:43:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9317}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-20 14:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d9bd49a9806279b81c94da873f1a7930eae62848', 'message': ""Add note about standalone being only in master\n\nIt only works in master but our repository list has all the stable\nversions. Need to address that seperately but for now, let's at least\nwarn people ahead of time.\n\nChange-Id: I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7\n""}, {'number': 2, 'created': '2018-06-20 19:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/470974eccc95a461b9136979c066aa2202ab9989', 'message': ""Add note about standalone being only in master\n\nIt only works in master but our repository list has all the stable\nversions. Need to address that seperately but for now, let's at least\nwarn people ahead of time.\n\nChange-Id: I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7\n""}, {'number': 3, 'created': '2018-06-20 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fb9b0376ed38c2ee997d9fc1cced371dd62f12a1', 'message': ""Add note about standalone being only in master\n\nIt only works in master but our repository list has all the stable\nversions. Need to address that seperately but for now, let's at least\nwarn people ahead of time.\n\nChange-Id: I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7\n""}, {'number': 4, 'created': '2018-06-26 12:56:33.000000000', 'files': ['doc/source/install/containers_deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8a135ce84cdee8519a11841fb520c34067182c17', 'message': ""Add note about standalone being only in master\n\nIt only works in master but our repository list has all the stable\nversions. Need to address that seperately but for now, let's at least\nwarn people ahead of time.\n\nChange-Id: I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7\n""}]",2,576887,8a135ce84cdee8519a11841fb520c34067182c17,16,4,4,14985,,,0,"Add note about standalone being only in master

It only works in master but our repository list has all the stable
versions. Need to address that seperately but for now, let's at least
warn people ahead of time.

Change-Id: I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/87/576887/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/containers_deployment/standalone.rst'],1,d9bd49a9806279b81c94da873f1a7930eae62848,standalone-version, .. warning:: This currently is only supported in Master (>= Rocky). ,,3,0
openstack%2Ftripleo-heat-templates~master~Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,openstack/tripleo-heat-templates,master,Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,OVN: Remove environment files which deploy OVN dbs in non HA,MERGED,2018-06-28 12:48:27.000000000,2018-07-03 03:42:20.000000000,2018-07-03 03:42:20.000000000,"[{'_account_id': 4328}, {'_account_id': 10237}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 12:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fd5218f8c1fc18a9998a7f47fdcc7db5f2a4bb3', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n'}, {'number': 2, 'created': '2018-06-29 11:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e204164aee0c37bf2e52560813ec60346965671', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n'}, {'number': 3, 'created': '2018-07-02 06:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/498445f3c8a27616b9cbbea15c94dfb3991dd6ea', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n'}, {'number': 4, 'created': '2018-07-02 06:06:00.000000000', 'files': ['environments/services-baremetal/neutron-ovn-dvr.yaml', 'environments/neutron-ml2-ovn.yaml', 'environments/services-baremetal/neutron-ovn.yaml', 'environments/services/neutron-ovn.yaml', 'releasenotes/notes/ovn-remove-nonha-env-files-7b68a1e656b9f753.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/services/neutron-ovn-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/819805d708cccc6e1419a47b16fc012955ce9156', 'message': 'OVN: Remove environment files which deploy OVN dbs in non HA\n\nIn a 3 node controller deployment OVN db servers are started only on one node\nand if that node goes down, we hit the down time for ovsdb-servers and neutron-server.\n\nSo it is highly recommended to deploy OVN db servers as a pacemaker HA resource.\n\nChange-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735\nCloses-bug: #1779123\n'}]",0,578788,819805d708cccc6e1419a47b16fc012955ce9156,26,6,4,10237,,,0,"OVN: Remove environment files which deploy OVN dbs in non HA

In a 3 node controller deployment OVN db servers are started only on one node
and if that node goes down, we hit the down time for ovsdb-servers and neutron-server.

So it is highly recommended to deploy OVN db servers as a pacemaker HA resource.

Change-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735
Closes-bug: #1779123
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/578788/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/neutron-ovn-dvr.yaml', 'environments/neutron-ml2-ovn.yaml', 'environments/services-baremetal/neutron-ovn.yaml', 'environments/services/neutron-ovn.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/services/neutron-ovn-dvr.yaml']",6,7fd5218f8c1fc18a9998a7f47fdcc7db5f2a4bb3,bug/1779123,,"# A Heat environment that can be used to deploy OVN services with non HA OVN DB servers. resource_registry: OS::TripleO::Docker::NeutronMl2PluginBase: ../../puppet/services/neutron-plugin-ml2-ovn.yaml OS::TripleO::Services::OVNController: ../../docker/services/ovn-controller.yaml OS::TripleO::Services::OVNDBs: ../../docker/services/ovn-dbs.yaml OS::TripleO::Services::OVNMetadataAgent: ../../docker/services/ovn-metadata.yaml # Disabling Neutron services that overlap with OVN OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None OS::TripleO::Services::NeutronL3Agent: OS::Heat::None OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::NeutronDhcpAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronCorePlugin: OS::Heat::None parameter_defaults: NeutronMechanismDrivers: ovn OVNVifType: ovs OVNNeutronSyncMode: log OVNQosDriver: ovn-qos OVNTunnelEncapType: geneve NeutronEnableDHCPAgent: false NeutronTypeDrivers: 'geneve,vlan,flat' NeutronNetworkType: 'geneve' NeutronServicePlugins: 'qos,ovn-router,trunk' NeutronVniRanges: ['1:65536', ] NeutronEnableDVR: true ControllerParameters: OVNCMSOptions: ""enable-chassis-as-gw"" OVNDnsServers: [] ",0,180
openstack%2Fneutron-fwaas~master~Id5848e119a7927fe1e4a00aa2a810b2e6265dca3,openstack/neutron-fwaas,master,Id5848e119a7927fe1e4a00aa2a810b2e6265dca3,Update neutron code master for project,ABANDONED,2018-07-03 02:48:41.000000000,2018-07-03 03:34:31.000000000,,[],"[{'number': 1, 'created': '2018-07-03 02:48:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f703d72f1be923c76a35b0fe747b1b584b323f33', 'message': 'Update neutron code master for project\n\nThis patch will bring newest neutron code from master and\navoid to some issues when neutron is updating.\n\nChange-Id: Id5848e119a7927fe1e4a00aa2a810b2e6265dca3\n'}]",0,579741,f703d72f1be923c76a35b0fe747b1b584b323f33,2,0,1,25254,,,0,"Update neutron code master for project

This patch will bring newest neutron code from master and
avoid to some issues when neutron is updating.

Change-Id: Id5848e119a7927fe1e4a00aa2a810b2e6265dca3
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/41/579741/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f703d72f1be923c76a35b0fe747b1b584b323f33,neutron_master_code,-e git+https://git.openstack.org/openstack/neutron/#egg=neutron # Apache-2.0,neutron>=12.0.0 # Apache-2.0,1,1
openstack%2Ftricircle~master~I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a,openstack/tricircle,master,I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a,Fix the unit test error,MERGED,2018-06-29 08:30:03.000000000,2018-07-03 03:15:47.000000000,2018-07-03 03:15:47.000000000,"[{'_account_id': 12076}, {'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2018-06-29 08:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/6d37a004793e4a30c197ae105b5c15423171c5ab', 'message': '       Fix the unit test error\n\n        1. What is the problem?\n\n           the unit test can not pass, because the devstack\n\n           local.conf set the OS_PASSWORD but it is not take\n\n           effect in really machine.\n\n        2. What is the solution to the problem?\n\n           after the devstac run export the OS_PASSWORD as\n\n           define in the devstack.\n\n        3. What the features to be implemented in the Tricircle to realize the solution?\n\n           it is look like a bug of devstack. it is not look good the just export the\n\n           OS_PASSWORD, later on I will pull a bug for this in devstack bug list.wait on\n\n           devstack to fix this bug. otherwise we can get the OS_PASSWORD from devstack\n\n           local file and export it.\n\n        Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n\n        Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a\n'}, {'number': 2, 'created': '2018-06-30 01:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/87f8295a1026032a028a487ded7ce97364be4665', 'message': '       Fix the unit test error\n\n        1. What is the problem?\n\n           the unit test can not pass, because the devstack\n\n           local.conf set the OS_PASSWORD but it is not take\n\n           effect in really machine.\n\n        2. What is the solution to the problem?\n\n           after the devstac run export the OS_PASSWORD as\n\n           define in the devstack.\n\n        3. What the features to be implemented in the Tricircle to realize the solution?\n\n           it is look like a bug of devstack. it is not look good the just export the\n\n           OS_PASSWORD, later on I will pull a bug for this in devstack bug list.wait on\n\n           devstack to fix this bug. otherwise we can get the OS_PASSWORD from devstack\n\n           local file and export it.\n\n        Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n\n        Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a\n'}, {'number': 3, 'created': '2018-06-30 02:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/a2c56ea40ae56f004862aee6dcf771e5ef14d153', 'message': '       Fix the unit test error\n\n        1. What is the problem?\n\n           the unit test can not pass, because the devstack\n\n           local.conf set the OS_PASSWORD but it is not take\n\n           effect in really machine.\n\n        2. What is the solution to the problem?\n\n           after the devstac run export the OS_PASSWORD as\n\n           define in the devstack.\n\n        3. What the features to be implemented in the Tricircle to realize the solution?\n\n           it is look like a bug of devstack. it is not look good the just export the\n\n           OS_PASSWORD, later on I will pull a bug for this in devstack bug list.wait on\n\n           devstack to fix this bug. otherwise we can get the OS_PASSWORD from devstack\n\n           local file and export it.\n\n        Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n\n        Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a\n'}, {'number': 4, 'created': '2018-06-30 06:08:40.000000000', 'files': ['tricircle/tempestplugin/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/593bfa0c391480f45c91d2bfc9ee767262741053', 'message': '       Fix the unit test error\n\n        1. What is the problem?\n\n           the unit test can not pass.\n\n        2. What is the solution to the problem?\n\n           after the devstac run export the OS_PASSWORD as\n\n           define in the devstack.\n\n        3. What the features to be implemented in the Tricircle to realize the solution?\n\n           I compare the faild and before passed local.conf they are all the same. so\n\n           it is look like a bug of devstack. later on I will pull a bug for this in\n\n           devstack bug list.wait on devstack to fix this bug.\n\n        Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n\n        Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a\n'}]",0,579095,593bfa0c391480f45c91d2bfc9ee767262741053,22,3,4,27215,,,0,"       Fix the unit test error

        1. What is the problem?

           the unit test can not pass.

        2. What is the solution to the problem?

           after the devstac run export the OS_PASSWORD as

           define in the devstack.

        3. What the features to be implemented in the Tricircle to realize the solution?

           I compare the faild and before passed local.conf they are all the same. so

           it is look like a bug of devstack. later on I will pull a bug for this in

           devstack bug list.wait on devstack to fix this bug.

        Signed-off-by: song baisen <songbaisen@szzt.com.cn>

        Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>

Change-Id: I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/95/579095/4 && git format-patch -1 --stdout FETCH_HEAD,['tricircle/tempestplugin/post_test_hook.sh'],1,6d37a004793e4a30c197ae105b5c15423171c5ab,s9,export OS_PASSWORD=secretadmin,,1,0
openstack%2Fblazar~master~I2b26d09366c1a802433e15e84cf06b6ddad88d0f,openstack/blazar,master,I2b26d09366c1a802433e15e84cf06b6ddad88d0f,Add upgrade releaesnote for policy-in-code,MERGED,2018-06-19 05:09:40.000000000,2018-07-03 03:12:39.000000000,2018-07-03 03:12:39.000000000,"[{'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-19 05:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d04ca7d56381d75c61e74d7e4a135037e3161ef2', 'message': 'Add upgrade releasenote for policy-in-code\n\nChange-Id: I2b26d09366c1a802433e15e84cf06b6ddad88d0f\n'}, {'number': 2, 'created': '2018-06-19 05:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/24d28bd5243adff6d1fa7012bed9f0530d7af598', 'message': 'Add upgrade releaesnote for policy-in-code\n\nChange-Id: I2b26d09366c1a802433e15e84cf06b6ddad88d0f\n'}, {'number': 3, 'created': '2018-07-03 02:54:17.000000000', 'files': ['releasenotes/notes/policy-in-code-3107271b0636fcea.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/0c3142d2c093c45b1279f4c58c0334207af3801f', 'message': 'Add upgrade releaesnote for policy-in-code\n\nChange-Id: I2b26d09366c1a802433e15e84cf06b6ddad88d0f\n'}]",0,576353,0c3142d2c093c45b1279f4c58c0334207af3801f,12,3,3,8878,,,0,"Add upgrade releaesnote for policy-in-code

Change-Id: I2b26d09366c1a802433e15e84cf06b6ddad88d0f
",git fetch https://review.opendev.org/openstack/blazar refs/changes/53/576353/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d04ca7d56381d75c61e74d7e4a135037e3161ef2,policy-and-docs-in-code,,,0,0
openstack%2Fneutron~master~I9240be68bcaadf5491b6ee2f406e847ef1b902f3,openstack/neutron,master,I9240be68bcaadf5491b6ee2f406e847ef1b902f3,Update the Bugs link for triage,MERGED,2018-06-28 05:54:06.000000000,2018-07-03 03:12:04.000000000,2018-06-28 23:46:09.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 05:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ddc7403bcc1d4051d23b2e4f6a65262bd8ac365', 'message': 'Update the Bugs link for triage\n\nChange-Id: I9240be68bcaadf5491b6ee2f406e847ef1b902f3\n'}, {'number': 2, 'created': '2018-06-28 05:57:18.000000000', 'files': ['doc/source/contributor/policies/blueprints.rst', 'doc/source/contributor/policies/bugs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/daa7ae4e249d136ba0113547f10f36ed63236208', 'message': 'Update the Bugs link for triage\n\nThis content has been moved to [0]\n\n[0]: https://docs.openstack.org/project-team-guide/bugs.html\n\nChange-Id: I9240be68bcaadf5491b6ee2f406e847ef1b902f3\n'}]",0,578682,daa7ae4e249d136ba0113547f10f36ed63236208,11,5,2,21691,,,0,"Update the Bugs link for triage

This content has been moved to [0]

[0]: https://docs.openstack.org/project-team-guide/bugs.html

Change-Id: I9240be68bcaadf5491b6ee2f406e847ef1b902f3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/578682/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/policies/blueprints.rst', 'doc/source/contributor/policies/bugs.rst']",2,7ddc7403bcc1d4051d23b2e4f6a65262bd8ac365,,with a fix. There is plenty of information on the `OpenStack Bugs <https://docs.openstack.org/project-team-guide/bugs.html>`_ * Perceived severity: what would you consider the `importance <https://docs.openstack.org/project-team-guide/bugs.html#Importance>`_,with a fix. There is plenty of information on the `OpenStack wiki <https://wiki.openstack.org/wiki/Bugs>`_ * Perceived severity: what would you consider the `importance <https://wiki.openstack.org/wiki/Bugs#Importance>`_,3,3
openstack%2Fblazar~master~Ia4052c9683598efe5ec766de4fc30d7b69ec4363,openstack/blazar,master,Ia4052c9683598efe5ec766de4fc30d7b69ec4363,Add a release note for policy-in-code,MERGED,2018-06-07 05:03:43.000000000,2018-07-03 03:09:58.000000000,2018-07-03 03:09:58.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-07 05:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/31aa7ff7bcd4c635c721fda3bcf6423f73471f6d', 'message': 'Add a release note for policy-in-code\n\nChange-Id: Ia4052c9683598efe5ec766de4fc30d7b69ec4363\nImplements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2018-06-07 05:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/27ae73ea5bf0d0af384a86e7aa7789ff2ad8d577', 'message': 'Add a release note for policy-in-code\n\nChange-Id: Ia4052c9683598efe5ec766de4fc30d7b69ec4363\nImplements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2018-07-03 02:53:47.000000000', 'files': ['releasenotes/notes/policy-in-code-3107271b0636fcea.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/98ae9a99ae8eb6dfccd8cc3e4973290d0000f933', 'message': 'Add a release note for policy-in-code\n\nChange-Id: Ia4052c9683598efe5ec766de4fc30d7b69ec4363\nImplements: blueprint policy-in-code\n'}]",0,573082,98ae9a99ae8eb6dfccd8cc3e4973290d0000f933,16,5,3,23840,,,0,"Add a release note for policy-in-code

Change-Id: Ia4052c9683598efe5ec766de4fc30d7b69ec4363
Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/blazar refs/changes/82/573082/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/policy-in-code-3107271b0636fcea.yaml'],1,31aa7ff7bcd4c635c721fda3bcf6423f73471f6d,policy-and-docs-in-code,"--- features: - | Default policy for API access control has been moved from a file, e.g. *policy.json*, into codebase. Policy is basically defined in codebase but able to be changed by a policy file. See `the policy configuration guide`_ in detail. .. _the policy configuration guide: https://docs.openstack.org/blazar/latest/configuration/blazar-policy.html ",,9,0
openstack%2Fblazar~master~I47afa929ebfa30e17c2dbeac31108ecbab67f067,openstack/blazar,master,I47afa929ebfa30e17c2dbeac31108ecbab67f067,Register and document policy in code,MERGED,2018-06-07 02:51:39.000000000,2018-07-03 02:53:06.000000000,2018-07-03 02:53:06.000000000,"[{'_account_id': 8878}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-07 02:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d4e1cc59c2db7deba58187b9066dd904324e07e1', 'message': 'Register and Document Policy in Code\n\nThis patch moves default policy definitions from file-based maintenance\nto registering them in code following OpenStack standard[1].\n\n[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nChange-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067\nImplements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2018-06-07 02:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fcf0c9d8a165d8eff354d7a9ee70ef93a6409744', 'message': 'Register and Document Policy in Code\n\nThis patch moves default policy definitions from file-based maintenance\nto registering them in code following OpenStack standard[1].\n\n[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nChange-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067\nImplements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2018-06-07 02:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fe6c9fc7341d029f10649d2d47524aca17d60577', 'message': 'Register and Document Policy in Code\n\nThis patch moves default policy definitions from file-based maintenance\nto registering them in code following OpenStack standard[1].\n\n[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nChange-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067\nImplements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2018-06-07 05:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d40d891b2c11ca438aa5e797e3c1dd9b4a8d83d7', 'message': 'Register and document policy in code\n\nThis patch moves default policy definitions from file-based maintenance\nto registering them in code following OpenStack standard[1].\n\n[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nChange-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067\nImplements: blueprint policy-in-code\n'}, {'number': 5, 'created': '2018-06-11 07:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/7332d9bfba669b31a6da05edafd18ebb6a9f5d04', 'message': 'Register and document policy in code\n\nThis patch moves default policy definitions from file-based maintenance\nto registering them in code following OpenStack standard[1].\n\n[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nChange-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067\nImplements: blueprint policy-in-code\n'}, {'number': 6, 'created': '2018-06-11 08:37:25.000000000', 'files': ['doc/source/install/install-without-devstack.rst', '.gitignore', 'blazar/tests/__init__.py', 'doc/source/configuration/samples/blazar-policy.rst', 'devstack/plugin.sh', 'doc/source/conf.py', 'blazar/policies/base.py', 'blazar/api/v1/service.py', 'blazar/policies/oshosts.py', 'blazar/policies/__init__.py', 'doc/source/configuration/blazar-policy.rst', 'etc/blazar/blazar-policy-generator.conf', 'blazar/api/v2/controllers/extensions/lease.py', 'blazar/tests/test_policy.py', 'blazar/api/v2/controllers/extensions/host.py', 'blazar/policy.py', 'blazar/api/v1/oshosts/service.py', 'blazar/policies/leases.py', 'setup.cfg', 'blazar/tests/fake_policy.py', 'tox.ini', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/blazar/commit/99cb6b5199cd61cea218bd11848b11e2b1baaff4', 'message': 'Register and document policy in code\n\nThis patch moves default policy definitions from file-based maintenance\nto registering them in code following OpenStack standard[1].\n\n[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nChange-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067\nImplements: blueprint policy-in-code\n'}]",5,573074,99cb6b5199cd61cea218bd11848b11e2b1baaff4,22,4,6,23840,,,0,"Register and document policy in code

This patch moves default policy definitions from file-based maintenance
to registering them in code following OpenStack standard[1].

[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html

Change-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067
Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/blazar refs/changes/74/573074/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-without-devstack.rst', '.gitignore', 'blazar/tests/__init__.py', 'doc/source/configuration/samples/blazar-policy.rst', 'devstack/plugin.sh', 'doc/source/conf.py', 'blazar/policies/base.py', 'blazar/api/v1/service.py', 'blazar/policies/oshosts.py', 'blazar/policies/__init__.py', 'doc/source/configuration/blazar-policy.rst', 'etc/blazar/blazar-policy-generator.conf', 'blazar/api/v2/controllers/extensions/lease.py', 'blazar/tests/test_policy.py', 'blazar/api/v2/controllers/extensions/host.py', 'blazar/policy.py', 'blazar/api/v1/oshosts/service.py', 'blazar/policies/leases.py', 'setup.cfg', 'blazar/tests/fake_policy.py', 'tox.ini', 'etc/policy.json']",22,d4e1cc59c2db7deba58187b9066dd904324e07e1,policy-and-docs-in-code,,"{ ""admin"": ""is_admin:True or role:admin or role:masterofuniverse"", ""admin_or_owner"": ""rule:admin or project_id:%(project_id)s"", ""default"": ""!"", ""admin_api"": ""rule:admin"", ""blazar:leases:get"": ""rule:admin_or_owner"", ""blazar:leases:create"": ""rule:admin_or_owner"", ""blazar:leases:delete"": ""rule:admin_or_owner"", ""blazar:leases:update"": ""rule:admin_or_owner"", ""blazar:plugins:get"": ""@"", ""blazar:oshosts:get"": ""rule:admin_or_owner"", ""blazar:oshosts:create"": ""rule:admin_api"", ""blazar:oshosts:delete"": ""rule:admin_api"", ""blazar:oshosts:update"": ""rule:admin_api"" } ",258,110
openstack%2Fwatcher~master~I0fcec510498857c3c840a3973bb504d2fa2045e8,openstack/watcher,master,I0fcec510498857c3c840a3973bb504d2fa2045e8,rectify 'a exception' to 'an exception',NEW,2018-06-21 02:56:17.000000000,2018-07-03 02:43:18.000000000,,"[{'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-06-21 02:56:17.000000000', 'files': ['watcher/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/70ec34a61dd8ad969fd0b9b9d54032cb9ec3310c', 'message': ""rectify 'a exception' to 'an exception'\n\nChange-Id: I0fcec510498857c3c840a3973bb504d2fa2045e8\n""}]",0,577026,70ec34a61dd8ad969fd0b9b9d54032cb9ec3310c,4,3,1,27370,,,0,"rectify 'a exception' to 'an exception'

Change-Id: I0fcec510498857c3c840a3973bb504d2fa2045e8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/26/577026/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/hacking/checks.py'],1,70ec34a61dd8ad969fd0b9b9d54032cb9ec3310c,6212, # an exception, # a exception,1,1
openstack%2Fopenstack-ansible~stable%2Fqueens~I71de7a029bb75e2eb37a85f81f404c8d63468ca7,openstack/openstack-ansible,stable/queens,I71de7a029bb75e2eb37a85f81f404c8d63468ca7,Update ironic role SHA for conf fixes,MERGED,2018-07-02 14:51:52.000000000,2018-07-03 02:24:09.000000000,2018-07-03 02:24:09.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 21314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 14:51:52.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cd91c7400beccf56da7d8939037c095e57b66de7', 'message': 'Update ironic role SHA for conf fixes\n\nChange-Id: I71de7a029bb75e2eb37a85f81f404c8d63468ca7\n'}]",0,579585,cd91c7400beccf56da7d8939037c095e57b66de7,16,4,1,21314,,,0,"Update ironic role SHA for conf fixes

Change-Id: I71de7a029bb75e2eb37a85f81f404c8d63468ca7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/579585/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,cd91c7400beccf56da7d8939037c095e57b66de7,update-ironic-role-sha, version: e3ff48b9f56aa454ce4d38a78a77b15146fcaba1, version: 7faf822e4d35ec965ce4b9e59ff51893f047724b,1,1
openstack%2Fopenstack-helm~master~I4733a72b3c9c4473dd721c39671918bb99562044,openstack/openstack-helm,master,I4733a72b3c9c4473dd721c39671918bb99562044,Complete the Default values decription,MERGED,2018-06-27 05:14:58.000000000,2018-07-03 02:22:12.000000000,2018-07-03 02:22:12.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-06-27 05:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e7061a1185cd9fb39039142ff677b98e46a3512', 'message': 'Complete the Default values decription\n\nChange-Id: I4733a72b3c9c4473dd721c39671918bb99562044\n'}, {'number': 2, 'created': '2018-06-30 05:25:57.000000000', 'files': ['ceph-osd/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'tempest/values.yaml', 'ceph-mon/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f4eadcf8533eaf7b09d631e5047f34cdaab3fef', 'message': 'Complete the Default values decription\n\nChange-Id: I4733a72b3c9c4473dd721c39671918bb99562044\n'}]",0,578282,8f4eadcf8533eaf7b09d631e5047f34cdaab3fef,11,5,2,22165,,,0,"Complete the Default values decription

Change-Id: I4733a72b3c9c4473dd721c39671918bb99562044
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/578282/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'tempest/values.yaml', 'ceph-mon/values.yaml', 'rally/values.yaml']",8,7e7061a1185cd9fb39039142ff677b98e46a3512,,# Default values for rally. # This is a YAML-formatted file. # Declare name/value pairs to be passed into your templates. # name: value ,,38,0
openstack%2Fneutron~stable%2Fqueens~Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331,openstack/neutron,stable/queens,Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331,Mark unit test test_get_objects_queries_constant as unstable,MERGED,2018-06-29 20:40:01.000000000,2018-07-03 02:15:28.000000000,2018-07-03 02:15:28.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 20:40:01.000000000', 'files': ['neutron/tests/unit/objects/test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f384828895e1d334310973cfeafa14264d6bc5f6', 'message': ""Mark unit test test_get_objects_queries_constant as unstable\n\nThis test is failing a lot in our check and gate queues.\nIt's reported in [1].\nTo make life easier, this test will be marked as unstable\nuntil [1] will be fixed.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1775220\n\nChange-Id: Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331\nRelated-Bug: #1775220\n(cherry picked from commit c4ea8ba82bb0e5c3026330333c9a88c88ab930ee)\n""}]",0,579282,f384828895e1d334310973cfeafa14264d6bc5f6,8,5,1,13995,,,0,"Mark unit test test_get_objects_queries_constant as unstable

This test is failing a lot in our check and gate queues.
It's reported in [1].
To make life easier, this test will be marked as unstable
until [1] will be fixed.

[1] https://bugs.launchpad.net/neutron/+bug/1775220

Change-Id: Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331
Related-Bug: #1775220
(cherry picked from commit c4ea8ba82bb0e5c3026330333c9a88c88ab930ee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/579282/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/objects/test_base.py'],1,f384828895e1d334310973cfeafa14264d6bc5f6,bug/1775220-stable/queens," @test_base.unstable_test(""bug 1775220"")",,1,0
openstack%2Fneutron~stable%2Fqueens~I775b466dce19c4168985b19e1ddb938118f48dcb,openstack/neutron,stable/queens,I775b466dce19c4168985b19e1ddb938118f48dcb,ovs: removed sinkhole RPC target for old topics,MERGED,2018-06-15 08:48:50.000000000,2018-07-03 02:15:24.000000000,2018-07-03 02:15:24.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-15 08:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f410ff6575bb237b205fbf3c3d7e3b04f2390cd', 'message': ""ovs: removed sinkhole RPC target for old topics\n\nThe oslo.messaging bug that triggered adding the hack is fixed in\nQueens, so we don't need it anymore.\n\nChange-Id: I775b466dce19c4168985b19e1ddb938118f48dcb\nRelated-Bug: #1705351\n(cherry picked from commit 46cbe459ea812ec6ca18b2f597f295e0755927ae)\n""}, {'number': 2, 'created': '2018-06-19 07:11:42.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cf39054ef2ffa5a28c53e5fd39647024b8cc09a', 'message': ""ovs: removed sinkhole RPC target for old topics\n\nThe oslo.messaging bug that triggered adding the hack is fixed in\nQueens, so we don't need it anymore.\n\nChange-Id: I775b466dce19c4168985b19e1ddb938118f48dcb\nRelated-Bug: #1705351\n(cherry picked from commit 46cbe459ea812ec6ca18b2f597f295e0755927ae)\n""}]",0,575688,8cf39054ef2ffa5a28c53e5fd39647024b8cc09a,14,5,2,11975,,,0,"ovs: removed sinkhole RPC target for old topics

The oslo.messaging bug that triggered adding the hack is fixed in
Queens, so we don't need it anymore.

Change-Id: I775b466dce19c4168985b19e1ddb938118f48dcb
Related-Bug: #1705351
(cherry picked from commit 46cbe459ea812ec6ca18b2f597f295e0755927ae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/575688/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,9f410ff6575bb237b205fbf3c3d7e3b04f2390cd,bug/1705351,," self.dead_topics.consume_in_threads() self.setup_old_topic_sinkhole() def setup_old_topic_sinkhole(self): class SinkHole(object): target = oslo_messaging.Target(version='1.4') def __getattr__(self, attr): return self._receiver def _receiver(self, *args, **kwargs): pass # TODO(kevinbenton): remove this once oslo.messaging solves # bug/1705351 so we can stop subscribing to these old topics old_consumers = [[topics.PORT, topics.UPDATE], [topics.PORT, topics.DELETE], [topics.SECURITY_GROUP, topics.UPDATE], [topics.NETWORK, topics.UPDATE]] self._sinkhole = SinkHole() self.dead_topics = agent_rpc.create_consumers( [self._sinkhole], topics.AGENT, old_consumers, start_listening=False )",0,24
openstack%2Fzun~master~Ie0df504a67cc20907d35e3513fd80d3f6be687fd,openstack/zun,master,Ie0df504a67cc20907d35e3513fd80d3f6be687fd,Convert type of 'command' from string to list,MERGED,2018-06-15 09:49:00.000000000,2018-07-03 02:00:01.000000000,2018-07-03 02:00:01.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-06-15 09:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d9f81bf4ffedd057b421f3a9f91e5f31441492bc', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 2, 'created': '2018-06-20 08:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/63369359c300110a428218574641f9f18933a5de', 'message': ""Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 3, 'created': '2018-06-20 08:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9b3dec9eeae742901275cf6240b8108bd79beb24', 'message': ""Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 4, 'created': '2018-06-25 09:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/599d8c7e6a7f1e9ece5f9facf15481c09e443f95', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 5, 'created': '2018-06-26 05:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3b4926a341406b6f41355a74c3868aaf6d96c1ea', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 6, 'created': '2018-06-26 08:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e5c3d9324049a57d713857ee6f86d6871821e249', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 7, 'created': '2018-06-28 05:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/cd33f619a5b96c93f57f6f76480f3b59aca74083', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 8, 'created': '2018-06-29 03:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/62cc95172d942d11dbc4e76ec8603d234f0e88a7', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 9, 'created': '2018-06-30 15:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/0a04a171095de2d23a896cec53c69bd4af5a8c9f', 'message': ""[WIP]Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}, {'number': 10, 'created': '2018-06-30 18:28:49.000000000', 'files': ['zun/tests/unit/db/utils.py', 'zun/tests/unit/api/test_validations.py', 'zun/db/sqlalchemy/alembic/versions/3e80bbfd8da7_convert_type_of_command_from_string_to_.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/tests/unit/container/docker/test_docker_driver.py', 'zun/api/rest_api_version_history.rst', 'zun/tests/unit/objects/test_objects.py', 'zun/tests/unit/api/base.py', 'zun/api/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/objects/container.py', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/b03fbe6dfddea496bc156ee45c44f972d4ebd580', 'message': ""Convert type of 'command' from string to list\n\nZun is currently using a string representation of 'command',\nbut Docker is returning 'Cmd' in string representation. This\nrequires a conversion of commands between list and string,\nwhich is complicated and error-prone (it might causes bugs like\nhttps://review.openstack.org/#/c/551795/).\nIt is better to switch from string to list\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nChange-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd\nCloses-Bug: #1755019\n""}]",17,575709,b03fbe6dfddea496bc156ee45c44f972d4ebd580,37,4,10,25571,,,0,"Convert type of 'command' from string to list

Zun is currently using a string representation of 'command',
but Docker is returning 'Cmd' in string representation. This
requires a conversion of commands between list and string,
which is complicated and error-prone (it might causes bugs like
https://review.openstack.org/#/c/551795/).
It is better to switch from string to list

Co-Authored-By: Hongbin Lu <hongbin034@gmail.com>

Change-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd
Closes-Bug: #1755019
",git fetch https://review.opendev.org/openstack/zun refs/changes/09/575709/10 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/sqlalchemy/models.py', 'zun/api/validation/parameter_types.py', 'zun/container/docker/driver.py', 'zun/objects/container.py']",4,d9f81bf4ffedd057b421f3a9f91e5f31441492bc,bug/1755019," 'command': fields.ListOfStringsField(nullable=True),"," 'command': fields.StringField(nullable=True),",15,15
openstack%2Frequirements~stable%2Fqueens~I93f1fa8ac2086427e5255b555aa99c7a19e609e7,openstack/requirements,stable/queens,I93f1fa8ac2086427e5255b555aa99c7a19e609e7,"Revert ""add neutron/networking projects to blacklist for queens""",ABANDONED,2018-07-03 01:22:01.000000000,2018-07-03 01:51:38.000000000,,"[{'_account_id': 5367}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-03 01:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f2ba19d163daee808d00c2f06fc1e64e238560e1', 'message': 'Revert ""add neutron/networking projects to blacklist for queens""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.\n\nDepends-On: https://review.openstack.org/#/c/579725/\nThis reverts commit 0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80.\n\nChange-Id: I93f1fa8ac2086427e5255b555aa99c7a19e609e7\n'}, {'number': 2, 'created': '2018-07-03 01:22:39.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/49e790f127ed85610e0443ad4c28bc0d36b686f0', 'message': 'Revert ""add neutron/networking projects to blacklist for queens""\n\nThis breaks the stable branches. We don\'t constrain any of the\nneutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.\n\nDepends-On: https://review.openstack.org/#/c/579725/\nThis reverts commit 0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80.\n\nChange-Id: I93f1fa8ac2086427e5255b555aa99c7a19e609e7\n'}]",1,579726,49e790f127ed85610e0443ad4c28bc0d36b686f0,7,6,2,11628,,,0,"Revert ""add neutron/networking projects to blacklist for queens""

This breaks the stable branches. We don't constrain any of the
neutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.

Depends-On: https://review.openstack.org/#/c/579725/
This reverts commit 0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80.

Change-Id: I93f1fa8ac2086427e5255b555aa99c7a19e609e7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/579726/1 && git format-patch -1 --stdout FETCH_HEAD,['blacklist.txt'],1,f2ba19d163daee808d00c2f06fc1e64e238560e1,bug/1778054,, # see bug https://bugs.launchpad.net/openstack-requirements/+bug/1778054 networking-bagpipe networking-bgpvpn networking-l2gw networking-odl networking-sfc neutron neutron-dynamic-routing neutron-fwaas neutron-vpnaas vmware-nsxlib,0,12
openstack%2Fopenstack-ansible~master~If1aae993adae0417841dd91f914c58f101d191b2,openstack/openstack-ansible,master,If1aae993adae0417841dd91f914c58f101d191b2,Move database creation into role (octavia),MERGED,2018-06-28 15:30:04.000000000,2018-07-03 01:51:05.000000000,2018-07-03 01:51:05.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 13404}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-06-28 15:30:04.000000000', 'files': ['playbooks/os-octavia-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eeef4da5879bb678032cbc05d081d3e9974bd9c9', 'message': 'Move database creation into role (octavia)\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the group_vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nDepends-On: https://review.openstack.org/578849\nChange-Id: If1aae993adae0417841dd91f914c58f101d191b2\n'}]",0,578850,eeef4da5879bb678032cbc05d081d3e9974bd9c9,16,8,1,6816,,,0,"Move database creation into role (octavia)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Depends-On: https://review.openstack.org/578849
Change-Id: If1aae993adae0417841dd91f914c58f101d191b2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/578850/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-octavia-install.yml'],1,eeef4da5879bb678032cbc05d081d3e9974bd9c9,move-db-setup-into-roles," environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - octavia"," static: no - include: common-tasks/mysql-db-user.yml static: no vars: user_name: ""{{ octavia_galera_user }}"" password: ""{{ octavia_container_mysql_password }}"" login_host: ""{{ octavia_galera_address }}"" db_name: ""{{ octavia_galera_database }}"" when: inventory_hostname == groups['octavia_all'][0] vars: octavia_galera_user: octavia octavia_galera_database: octavia octavia_galera_address: ""{{ galera_address }}"" environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - octavia",5,17
openstack%2Fpuppet-tripleo~master~Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,openstack/puppet-tripleo,master,Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,Run cinder's db sync only on bootstrap node,MERGED,2018-06-29 17:28:06.000000000,2018-07-03 01:50:54.000000000,2018-07-02 22:34:27.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 17:28:06.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/cinder/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/34810fc361e71cfabe5d8ad6e083c664af9120e8', 'message': ""Run cinder's db sync only on bootstrap node\n\nThe sync_db variable (which is True only on bootstrap node) needs to be\npassed to the ::cinder::api resource to ensure the db sync only happens\non the bootstrap node.\n\nCloses-Bug: #1779112\nChange-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a\n""}]",0,579234,34810fc361e71cfabe5d8ad6e083c664af9120e8,8,3,1,21129,,,0,"Run cinder's db sync only on bootstrap node

The sync_db variable (which is True only on bootstrap node) needs to be
passed to the ::cinder::api resource to ensure the db sync only happens
on the bootstrap node.

Closes-Bug: #1779112
Change-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/34/579234/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/cinder/api.pp']",2,34810fc361e71cfabe5d8ad6e083c664af9120e8,bug/1779112," sync_db => $sync_db,",,21,3
openstack%2Fneutron~stable%2Fqueens~If506e0ff68fc49748f19618470c85901339a419b,openstack/neutron,stable/queens,If506e0ff68fc49748f19618470c85901339a419b,Don't set administratively disabled ports as ACTIVE,MERGED,2018-06-15 08:09:26.000000000,2018-07-03 01:50:27.000000000,2018-07-03 01:50:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-06-15 08:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f04ead93b0d0393035780664acac24824efbbdec', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}, {'number': 2, 'created': '2018-06-19 07:12:15.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3e47415cc7c74535aa66dc2bf0e51aae4760d1d', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}]",0,575681,b3e47415cc7c74535aa66dc2bf0e51aae4760d1d,17,7,2,11975,,,0,"Don't set administratively disabled ports as ACTIVE

There was a race condition during port update to disable it.
In case when neutron-server receives port update call to set
admin_state_down on port, it sends PORT_UPDATE notification
to agents.

Then both L2 and DHCP agents start doing their job with port.
L2 agent asks neutron-server about device details and during
processing this call server sets port's status to DOWN if
its admin_state_up = False.
Problem is that sometimes just after that, DHCP agent will send
to neutron server notification that provisioning for this port
is finished.
As there is no any other provisioning block in db (because it
is just port update) neutron-server is setting port's status
to ACTIVE.

This patch fixes this issue by allowing to transition to
ACTIVE only ports which are administratively enabled.

Change-Id: If506e0ff68fc49748f19618470c85901339a419b
Closes-Bug: #1757089
(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/575681/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,f04ead93b0d0393035780664acac24824efbbdec,bug/1757089," if not port.admin_state_up: LOG.debug(""Port %s is administratively disabled so it will "" ""not transition to active."", port_id) return",,17,0
openstack%2Fopenstack-helm-infra~master~Ibd0d0775445db3124bfd543a4588d62daf961478,openstack/openstack-helm-infra,master,Ibd0d0775445db3124bfd543a4588d62daf961478,Fix wrong role name reference.,ABANDONED,2018-06-28 07:21:55.000000000,2018-07-03 01:44:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 25431}]","[{'number': 1, 'created': '2018-06-28 07:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4ac1ca903835e1555ac9f83b6c2792cee04a14c', 'message': 'Fix wrong role name reference.\n\nChange-Id: Ibd0d0775445db3124bfd543a4588d62daf961478\n'}, {'number': 2, 'created': '2018-06-29 14:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a924a8a58073ca274aea85914255085e49aaf59', 'message': 'Fix wrong role name reference.\n\nChange-Id: Ibd0d0775445db3124bfd543a4588d62daf961478\n'}, {'number': 3, 'created': '2018-06-29 14:29:52.000000000', 'files': ['roles/deploy-helm-packages/tasks/helm-setup-dev-environment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdc7aedc55932963b12c432a79b42dbbf2e78bfd', 'message': 'Fix wrong role name reference.\n\nChange-Id: Ibd0d0775445db3124bfd543a4588d62daf961478\n'}]",0,578711,cdc7aedc55932963b12c432a79b42dbbf2e78bfd,10,4,3,25431,,,0,"Fix wrong role name reference.

Change-Id: Ibd0d0775445db3124bfd543a4588d62daf961478
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/578711/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/deploy-helm-packages/tasks/helm-setup-dev-environment.yaml'],1,e4ac1ca903835e1555ac9f83b6c2792cee04a14c,fix_role_name, name: deploy-yq, name: deploy-jq,1,1
openstack%2Fneutron~stable%2Focata~If506e0ff68fc49748f19618470c85901339a419b,openstack/neutron,stable/ocata,If506e0ff68fc49748f19618470c85901339a419b,Don't set administratively disabled ports as ACTIVE,MERGED,2018-06-15 08:23:15.000000000,2018-07-03 01:34:31.000000000,2018-07-03 01:34:30.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-15 08:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe481d1726329086e3018144a2e6286efa873a4a', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}, {'number': 2, 'created': '2018-06-21 07:40:49.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39b9197f6f30407d1e65db571b68a18c4524d479', 'message': ""Don't set administratively disabled ports as ACTIVE\n\nThere was a race condition during port update to disable it.\nIn case when neutron-server receives port update call to set\nadmin_state_down on port, it sends PORT_UPDATE notification\nto agents.\n\nThen both L2 and DHCP agents start doing their job with port.\nL2 agent asks neutron-server about device details and during\nprocessing this call server sets port's status to DOWN if\nits admin_state_up = False.\nProblem is that sometimes just after that, DHCP agent will send\nto neutron server notification that provisioning for this port\nis finished.\nAs there is no any other provisioning block in db (because it\nis just port update) neutron-server is setting port's status\nto ACTIVE.\n\nThis patch fixes this issue by allowing to transition to\nACTIVE only ports which are administratively enabled.\n\nChange-Id: If506e0ff68fc49748f19618470c85901339a419b\nCloses-Bug: #1757089\n(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)\n""}]",0,575684,39b9197f6f30407d1e65db571b68a18c4524d479,19,5,2,11975,,,0,"Don't set administratively disabled ports as ACTIVE

There was a race condition during port update to disable it.
In case when neutron-server receives port update call to set
admin_state_down on port, it sends PORT_UPDATE notification
to agents.

Then both L2 and DHCP agents start doing their job with port.
L2 agent asks neutron-server about device details and during
processing this call server sets port's status to DOWN if
its admin_state_up = False.
Problem is that sometimes just after that, DHCP agent will send
to neutron server notification that provisioning for this port
is finished.
As there is no any other provisioning block in db (because it
is just port update) neutron-server is setting port's status
to ACTIVE.

This patch fixes this issue by allowing to transition to
ACTIVE only ports which are administratively enabled.

Change-Id: If506e0ff68fc49748f19618470c85901339a419b
Closes-Bug: #1757089
(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/575684/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,fe481d1726329086e3018144a2e6286efa873a4a,bug/1757089," if not port.admin_state_up: LOG.debug(""Port %s is administratively disabled so it will "" ""not transition to active."", port_id) return",,17,0
openstack%2Fneutron~stable%2Fqueens~Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3,openstack/neutron,stable/queens,Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3,Fix an attribute error on listing AZs with filters,MERGED,2018-06-24 13:34:11.000000000,2018-07-03 01:34:27.000000000,2018-07-03 01:34:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-06-24 13:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16854c2ea195d77f256c7f1187c86198c22f9c38', 'message': 'Fix an attribute error on listing AZs with filters\n\nChange-Id: Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3\nCloses-Bug: #1768952\n(cherry picked from commit 37b66a4700ec944ebc0a3bf140c1b01ce3c4987d)\n'}, {'number': 2, 'created': '2018-06-27 09:58:47.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/tests/unit/extensions/test_availability_zone.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/593bce98a0bfe7969b189acc556527424c9be80a', 'message': 'Fix an attribute error on listing AZs with filters\n\nChange-Id: Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3\nCloses-Bug: #1768952\n(cherry picked from commit 37b66a4700ec944ebc0a3bf140c1b01ce3c4987d)\n'}]",0,577649,593bce98a0bfe7969b189acc556527424c9be80a,17,7,2,11975,,,0,"Fix an attribute error on listing AZs with filters

Change-Id: Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3
Closes-Bug: #1768952
(cherry picked from commit 37b66a4700ec944ebc0a3bf140c1b01ce3c4987d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/577649/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/extensions/test_availability_zone.py']",2,16854c2ea195d77f256c7f1187c86198c22f9c38,bug/1768952," # list with filters res = self._list('availability_zones', query_params=""availability_zone=nova1"") azs = res['availability_zones'] self.assertItemsEqual(expected[:1], azs)",,6,1
openstack%2Fpuppet-openstack-integration~master~I3ed98047e1d62efdbd1c754b70cbd03e757e1051,openstack/puppet-openstack-integration,master,I3ed98047e1d62efdbd1c754b70cbd03e757e1051,Make puppet 5.5 unit job voting,MERGED,2018-07-02 11:37:19.000000000,2018-07-03 01:23:51.000000000,2018-07-03 01:23:51.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 11:37:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c1174e23cd1661ef1a03dff8af213250e0845f87', 'message': 'Make puppet 5.5 unit job voting\n\nIf we only run puppet 5 jobs now this should be\nvoting, puppet 4 unit should still be voting so\nthat we know if we break puppet 4 support.\n\nChange-Id: I3ed98047e1d62efdbd1c754b70cbd03e757e1051\n'}]",0,579524,c1174e23cd1661ef1a03dff8af213250e0845f87,7,3,1,16137,,,0,"Make puppet 5.5 unit job voting

If we only run puppet 5 jobs now this should be
voting, puppet 4 unit should still be voting so
that we know if we break puppet 4 support.

Change-Id: I3ed98047e1d62efdbd1c754b70cbd03e757e1051
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/24/579524/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c1174e23cd1661ef1a03dff8af213250e0845f87,unit,, voting: false,0,1
openstack%2Frequirements~stable%2Fqueens~I8a390202e9674e5309540a5c8b70121a9b369b15,openstack/requirements,stable/queens,I8a390202e9674e5309540a5c8b70121a9b369b15,add neutron/networking projects to blacklist for queens,MERGED,2018-06-20 21:27:35.000000000,2018-07-03 01:22:01.000000000,2018-06-25 02:59:49.000000000,"[{'_account_id': 5367}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-06-20 21:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbd2362fe85d5e2e13f4fa16a1816b7f354dc6cb', 'message': ""add neutron/networking projects to requirements for queens\n\nThe introduction of [1] caused complete gate breakage to vmware-nsx\n(see logs in [2]) queens jobs and I suspect any project depending on\nlbaas. As a result it was suggested we update our queens branch for zuul\nv3, done in [3]. However, while [3] appears to get the jobs running the\nrequirements job is failing because it can't find neutron, and the other\nnetworking project dependencies [4].\n\nThis patch adds the neutron/networking dependencies to global\nrequirements to address [4].\n\n[1] https://review.openstack.org/#/c/576526/\n[2] https://review.openstack.org/#/c/576822/\n[3] https://review.openstack.org/#/c/576925/\n[4] http://logs.openstack.org/25/576925/2/check/requirements-check/\n75bc4c0/job-output.txt.gz#_2018-06-20_19_25_32_069738\n\nChange-Id: I8a390202e9674e5309540a5c8b70121a9b369b15\n""}, {'number': 2, 'created': '2018-06-21 12:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/38461e46dc797f736a9a20b390f13f8976686812', 'message': ""add neutron/networking projects to requirements for queens\n\nThe introduction of [1] caused complete gate breakage to vmware-nsx\n(see logs in [2]) queens jobs and I suspect any project depending on\nlbaas. As a result it was suggested we update our queens branch for zuul\nv3, done in [3]. However, while [3] appears to get the jobs running the\nrequirements job is failing because it can't find neutron, and the other\nnetworking project dependencies [4].\n\nThis patch adds the neutron/networking dependencies to global\nrequirements to address [4].\n\n[1] https://review.openstack.org/#/c/576526/\n[2] https://review.openstack.org/#/c/576822/\n[3] https://review.openstack.org/#/c/576925/\n[4] http://logs.openstack.org/25/576925/2/check/requirements-check/\n75bc4c0/job-output.txt.gz#_2018-06-20_19_25_32_069738\n\nCloses-Bug: #1778054\n\nChange-Id: I8a390202e9674e5309540a5c8b70121a9b369b15\n""}, {'number': 3, 'created': '2018-06-21 18:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/865593fabdf1c72b7734af625244bf7d396b52af', 'message': ""add neutron/networking projects to blacklist for queens\n\nThe introduction of [1] caused complete gate breakage to vmware-nsx\n(see logs in [2]) queens jobs and I suspect any project depending on\nlbaas. As a result it was suggested we update our queens branch for zuul\nv3, done in [3]. However, while [3] appears to get the jobs running the\nrequirements job is failing because it can't find neutron, and the other\nnetworking project dependencies [4].\n\nThis patch adds the neutron/networking dependencies to global\nblacklist to address [4].\n\n[1] https://review.openstack.org/#/c/576526/\n[2] https://review.openstack.org/#/c/576822/\n[3] https://review.openstack.org/#/c/576925/\n[4] http://logs.openstack.org/25/576925/2/check/requirements-check/\n75bc4c0/job-output.txt.gz#_2018-06-20_19_25_32_069738\n\nCloses-Bug: #1778054\n\nChange-Id: I8a390202e9674e5309540a5c8b70121a9b369b15\n""}, {'number': 4, 'created': '2018-06-22 10:38:21.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80', 'message': ""add neutron/networking projects to blacklist for queens\n\nThe introduction of [1] caused complete gate breakage to vmware-nsx\n(see logs in [2]) queens jobs and I suspect any project depending on\nlbaas. As a result it was suggested we update our queens branch for zuul\nv3, done in [3]. However, while [3] appears to get the jobs running the\nrequirements job is failing because it can't find neutron, and the other\nnetworking project dependencies [4].\n\nThis patch adds the neutron/networking dependencies to global\nblacklist to address [4].\n\n[1] https://review.openstack.org/#/c/576526/\n[2] https://review.openstack.org/#/c/576822/\n[3] https://review.openstack.org/#/c/576925/\n[4] http://logs.openstack.org/25/576925/2/check/requirements-check/\n75bc4c0/job-output.txt.gz#_2018-06-20_19_25_32_069738\n\nCloses-Bug: #1778054\n\nChange-Id: I8a390202e9674e5309540a5c8b70121a9b369b15\n""}]",2,576988,0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80,17,5,4,5367,,,0,"add neutron/networking projects to blacklist for queens

The introduction of [1] caused complete gate breakage to vmware-nsx
(see logs in [2]) queens jobs and I suspect any project depending on
lbaas. As a result it was suggested we update our queens branch for zuul
v3, done in [3]. However, while [3] appears to get the jobs running the
requirements job is failing because it can't find neutron, and the other
networking project dependencies [4].

This patch adds the neutron/networking dependencies to global
blacklist to address [4].

[1] https://review.openstack.org/#/c/576526/
[2] https://review.openstack.org/#/c/576822/
[3] https://review.openstack.org/#/c/576925/
[4] http://logs.openstack.org/25/576925/2/check/requirements-check/
75bc4c0/job-output.txt.gz#_2018-06-20_19_25_32_069738

Closes-Bug: #1778054

Change-Id: I8a390202e9674e5309540a5c8b70121a9b369b15
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/576988/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,bbd2362fe85d5e2e13f4fa16a1816b7f354dc6cb,bug/1778054,networking-bagpipe # Apache-2.0 networking-bgpvpn # Apache-2.0 networking-l2gw # Apache-2.0 networking-odl # Apache-2.0 networking-sfc # Apache-2.0neutron-dynamic-routing # Apache-2.0 neutron-fwaas # Apache-2.0 neutron-lbaas # Apache-2.0 neutron-vpnaas # Apache-2.0 neutron # Apache-2.0vmware-nsxlib # Apache-2.0,,11,0
openstack%2Frequirements~stable%2Fqueens~I51e0902215b21abffb39d17daf780b419d55ceea,openstack/requirements,stable/queens,I51e0902215b21abffb39d17daf780b419d55ceea,add neutron-lbaas to global-requirements,MERGED,2018-06-25 13:57:46.000000000,2018-07-03 01:21:29.000000000,2018-06-25 17:30:53.000000000,"[{'_account_id': 2}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 13:57:46.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd', 'message': 'add neutron-lbaas to global-requirements\n\nNow that we have neutron-lbaas constrained [1] for queens and the\nblacklist setup [2] for this, we now need to add neutron-lbaas to\nthe global-requirements.\n\n[1] https://review.openstack.org/#/c/576526/\n[2] https://review.openstack.org/#/c/576988/\n\nChange-Id: I51e0902215b21abffb39d17daf780b419d55ceea\n'}]",0,577825,abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd,8,3,1,5367,,,0,"add neutron-lbaas to global-requirements

Now that we have neutron-lbaas constrained [1] for queens and the
blacklist setup [2] for this, we now need to add neutron-lbaas to
the global-requirements.

[1] https://review.openstack.org/#/c/576526/
[2] https://review.openstack.org/#/c/576988/

Change-Id: I51e0902215b21abffb39d17daf780b419d55ceea
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/577825/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd,bug/1778054,neutron-lbaas>=12.0.0 # Apache-2.0,,1,0
openstack%2Fopenstack-ansible~master~I0d9ecec55ee15c83159a1ea5715241f53823cd32,openstack/openstack-ansible,master,I0d9ecec55ee15c83159a1ea5715241f53823cd32,Move database creation into role (magnum),MERGED,2018-06-28 14:06:04.000000000,2018-07-03 01:18:10.000000000,2018-07-03 01:18:10.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-06-28 14:06:04.000000000', 'files': ['inventory/group_vars/magnum_all.yml', 'playbooks/os-magnum-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f407d7f0781b450c0e6f3d6758c3105a8f95a476', 'message': 'Move database creation into role (magnum)\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the group_vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nDepends-On: https://review.openstack.org/578812\nChange-Id: I0d9ecec55ee15c83159a1ea5715241f53823cd32\n'}]",0,578813,f407d7f0781b450c0e6f3d6758c3105a8f95a476,14,7,1,6816,,,0,"Move database creation into role (magnum)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Depends-On: https://review.openstack.org/578812
Change-Id: I0d9ecec55ee15c83159a1ea5715241f53823cd32
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/578813/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/magnum_all.yml', 'playbooks/os-magnum-install.yml']",2,f407d7f0781b450c0e6f3d6758c3105a8f95a476,move-db-setup-into-roles," environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - magnum"," - include: common-tasks/mysql-db-user.yml static: no vars: user_name: ""{{ magnum_galera_user }}"" password: ""{{ magnum_galera_password }}"" login_host: ""{{ magnum_galera_address }}"" db_name: ""{{ magnum_galera_database_name }}"" when: inventory_hostname == groups['magnum_all'][0] environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - ""magnum""",6,16
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~If84ecbf86f3ebde8e69a1a26759ad967d061725a,openstack/puppet-openstack-integration,stable/queens,If84ecbf86f3ebde8e69a1a26759ad967d061725a,Add support to select ceph version,MERGED,2018-07-02 12:13:52.000000000,2018-07-03 01:12:50.000000000,2018-07-03 01:12:50.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 12:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/146ca321f3645dd8e627f46735d300bccbe73ae1', 'message': ""Add support to select ceph version\n\nWe are closing in on adding Ceph Mimic support and\nwant to ensure we can select either Luminous or Mimic\nfor running our tests.\n\nFor example Ubuntu 18.04 must run Ceph Mimic because\nLuminous is not available (yet), Debian doesn't have\nCeph Mimic packages so we must run Luminous there.\n\nChange-Id: If84ecbf86f3ebde8e69a1a26759ad967d061725a\n""}, {'number': 2, 'created': '2018-07-02 12:18:02.000000000', 'files': ['run_tests.sh', 'functions', 'manifests/repos.pp', '.zuul.yaml', 'configure_facts.sh', 'playbooks/run-integration-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d46e33d2049174e2efbdebc07a655a6b12a49153', 'message': ""Add support to select ceph version\n\nWe are closing in on adding Ceph Mimic support and\nwant to ensure we can select either Luminous or Mimic\nfor running our tests.\n\nFor example Ubuntu 18.04 must run Ceph Mimic because\nLuminous is not available (yet), Debian doesn't have\nCeph Mimic packages so we must run Luminous there.\n\nChange-Id: If84ecbf86f3ebde8e69a1a26759ad967d061725a\n""}]",0,579531,d46e33d2049174e2efbdebc07a655a6b12a49153,12,4,2,16137,,,0,"Add support to select ceph version

We are closing in on adding Ceph Mimic support and
want to ensure we can select either Luminous or Mimic
for running our tests.

For example Ubuntu 18.04 must run Ceph Mimic because
Luminous is not available (yet), Debian doesn't have
Ceph Mimic packages so we must run Luminous there.

Change-Id: If84ecbf86f3ebde8e69a1a26759ad967d061725a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/31/579531/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'functions', 'manifests/repos.pp', '.zuul.yaml', 'configure_facts.sh', 'playbooks/run-integration-tests.yaml']",6,146ca321f3645dd8e627f46735d300bccbe73ae1,, export CEPH_VERSION={{ ceph }} environment: '{{ zuul | zuul_legacy_vars }}' , environment: '{{ zuul | zuul_legacy_vars }}',99,41
openstack%2Fpuppet-openstack-integration~master~I581c469853ea28e0a75654c5d0f0a5cbdd98d257,openstack/puppet-openstack-integration,master,I581c469853ea28e0a75654c5d0f0a5cbdd98d257,Handle issue caused by pip installed setuptools (Fedora),MERGED,2018-07-02 13:31:33.000000000,2018-07-03 01:12:18.000000000,2018-07-03 01:12:18.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 13:31:33.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae8e9225e2c1a9426f57353275af2710edbf9312', 'message': 'Handle issue caused by pip installed setuptools (Fedora)\n\nsetuptools is being installed by pip in the image.\nWe need it to be used by sealert which looks for\npkg_resources in Python3 pythonpath. setuptools\nis being excluded at /etc/dnf/dnf.conf.\nThis patch removes and reinstall python3-setuptools.\n\nChange-Id: I581c469853ea28e0a75654c5d0f0a5cbdd98d257\n'}]",0,579557,ae8e9225e2c1a9426f57353275af2710edbf9312,7,3,1,13861,,,0,"Handle issue caused by pip installed setuptools (Fedora)

setuptools is being installed by pip in the image.
We need it to be used by sealert which looks for
pkg_resources in Python3 pythonpath. setuptools
is being excluded at /etc/dnf/dnf.conf.
This patch removes and reinstall python3-setuptools.

Change-Id: I581c469853ea28e0a75654c5d0f0a5cbdd98d257
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/57/579557/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,ae8e9225e2c1a9426f57353275af2710edbf9312,enable-py3," - name: Remove excludes from /etc/dnf/dnf.conf (Fedora) lineinfile: path: /etc/dnf/dnf.conf state: absent regexp: '^exclude=' become: true when: - ansible_os_family == 'RedHat' - ansible_distribution == ""Fedora"" - name: Reinstall python3-setuptools (Fedora) command: ""dnf -y reinstall python3-setuptools"" become: true when: - ansible_os_family == 'RedHat' - ansible_distribution == ""Fedora"" ",,17,0
openstack%2Fopenstack-ansible-os_neutron~master~I84c8ba7952b15772d9b070dee9ba704cc9de8339,openstack/openstack-ansible-os_neutron,master,I84c8ba7952b15772d9b070dee9ba704cc9de8339,Use tests repo for common role test requirements,MERGED,2018-07-02 15:16:03.000000000,2018-07-03 01:06:27.000000000,2018-07-03 01:06:27.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 15:16:03.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5b40083621b0b3196884c435c36f2f440f7404bb', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I84c8ba7952b15772d9b070dee9ba704cc9de8339\n""}]",0,579595,5b40083621b0b3196884c435c36f2f440f7404bb,9,3,1,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I84c8ba7952b15772d9b070dee9ba704cc9de8339
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/95/579595/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,5b40083621b0b3196884c435c36f2f440f7404bb,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""",deps = -r{toxinidir}/test-requirements.txt[testenv:ansible] deps = {[testenv]deps} -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps},1,46
openstack%2Fopenstack-ansible-os_horizon~master~Ic21746968da2f0a091ed2d343561a4e98b8499c0,openstack/openstack-ansible-os_horizon,master,Ic21746968da2f0a091ed2d343561a4e98b8499c0,Use tests repo for common role test requirements,MERGED,2018-07-02 14:53:41.000000000,2018-07-03 00:59:15.000000000,2018-07-03 00:59:15.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 14:53:41.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/416c23dd09555152837787994b8d56c9b32b6cf4', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: Ic21746968da2f0a091ed2d343561a4e98b8499c0\n""}]",0,579586,416c23dd09555152837787994b8d56c9b32b6cf4,11,3,1,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Ic21746968da2f0a091ed2d343561a4e98b8499c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/86/579586/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,416c23dd09555152837787994b8d56c9b32b6cf4,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""",deps = -r{toxinidir}/test-requirements.txt[testenv:ansible] deps = {[testenv]deps} -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps},1,28
openstack%2Fopenstack-ansible-os_rally~master~I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4,openstack/openstack-ansible-os_rally,master,I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4,Use tests repo for common role test requirements,MERGED,2018-07-02 15:26:34.000000000,2018-07-03 00:57:47.000000000,2018-07-03 00:57:47.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 15:26:34.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/6c985840152eed3d29afba3928d3d05cfb87a93f', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4\n""}]",0,579598,6c985840152eed3d29afba3928d3d05cfb87a93f,9,3,1,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/98/579598/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,6c985840152eed3d29afba3928d3d05cfb87a93f,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""",deps = -r{toxinidir}/test-requirements.txt[testenv:ansible] deps = {[testenv]deps} -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps},1,26
openstack%2Fosc-lib~master~Id4cf07a46e380af9a1aa30352193ca52624fc9eb,openstack/osc-lib,master,Id4cf07a46e380af9a1aa30352193ca52624fc9eb,Add OpenTracing based driver id,MERGED,2018-05-07 02:40:00.000000000,2018-07-03 00:49:59.000000000,2018-07-03 00:49:59.000000000,"[{'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 3012}, {'_account_id': 5950}, {'_account_id': 9171}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-05-07 02:40:00.000000000', 'files': ['osc_lib/shell.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/9071962d96dd3bb2d72fc1fd807953fc97da1750', 'message': 'Add OpenTracing based driver id\n\nDrivers/tracers that follow OpenTracing API are using 64-bit id\ninstead of 128-bit id like native OSProfiler (uuid4 from uuidutils)\n\nThis output is for some tracers like Zipkin, Jaeger.\n\nDepends-On: I8f75af487f50d5e67a1321a4c951d2a0d85733a1\nChange-Id: Id4cf07a46e380af9a1aa30352193ca52624fc9eb\n'}]",4,566493,9071962d96dd3bb2d72fc1fd807953fc97da1750,12,7,1,23630,,,0,"Add OpenTracing based driver id

Drivers/tracers that follow OpenTracing API are using 64-bit id
instead of 128-bit id like native OSProfiler (uuid4 from uuidutils)

This output is for some tracers like Zipkin, Jaeger.

Depends-On: I8f75af487f50d5e67a1321a4c951d2a0d85733a1
Change-Id: Id4cf07a46e380af9a1aa30352193ca52624fc9eb
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/93/566493/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_lib/shell.py'],1,9071962d96dd3bb2d72fc1fd807953fc97da1750,opentracing-id," profiler = osprofiler_profiler.get() trace_id = profiler.get_base_id() # Short ID for OpenTracing-based driver (64-bit id) short_id = profiler.get_shorten_id(trace_id) self.log.warning(""Short trace ID "" ""for OpenTracing-based drivers: %s"" % short_id) self.log.warning(""Display trace data with command:\n"""," trace_id = osprofiler_profiler.get().get_base_id() self.log.warning(""Display trace with command:\n""",7,2
openstack%2Fpuppet-ceph~master~Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,openstack/puppet-ceph,master,Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,Update UPPER_CONSTRAINTS_FILE for stable/luminous,ABANDONED,2018-07-02 14:17:13.000000000,2018-07-03 00:49:03.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 22816}]","[{'number': 1, 'created': '2018-07-02 14:17:13.000000000', 'files': ['metadata.json', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c53ef49ca0bf07b3c628740e71e859d8dfd4541b', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/luminous\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d\n""}]",0,579568,c53ef49ca0bf07b3c628740e71e859d8dfd4541b,4,3,1,16137,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/luminous

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/68/579568/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'tox.ini', 'README.md']",3,c53ef49ca0bf07b3c628740e71e859d8dfd4541b,create-luminous,"The ceph module deploys a [Ceph](http://ceph.com/) cluster ( MON, OSD, MGR ), the [Cephfs](http://docs.ceph.com/docs/master/cephfs/) file system and the [RadosGW](http://docs.ceph.com/docs/firefly/radosgw/) object store. It provides integration with various environments ( OpenStack ... ) and components to be used by third party puppet modules that depend on a Ceph cluster.","The ceph module deploys a [Ceph](http://ceph.com/) cluster ( MON, OSD ), the [Cephfs](http://docs.ceph.com/docs/master/cephfs/) file system and the [RadosGW](http://docs.ceph.com/docs/firefly/radosgw/) object store. It provides integration with various environments ( OpenStack ... ) and components to be used by third party puppet modules that depend on a Ceph cluster.",10,11
openstack%2Foctavia~master~I132977d3fb6766d4349746f845c424c97bf51973,openstack/octavia,master,I132977d3fb6766d4349746f845c424c97bf51973,DNM: Re-enable KVM on OVH hosts,ABANDONED,2018-03-01 22:34:03.000000000,2018-07-03 00:47:20.000000000,,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 20676}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 24680}]","[{'number': 1, 'created': '2018-03-01 22:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/457bfc516e2da4ff39014ee9f6a0d0ace6c93e77', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nTesting OVH hosts to see if KVM still crashes on OVH hosts.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 2, 'created': '2018-03-17 21:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7538c12041de908c641713ea8765b2d143609708', 'message': 'Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 3, 'created': '2018-06-01 17:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/00b4b1f6549c340514a5a1d94bdcec07abc95c19', 'message': 'Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 4, 'created': '2018-06-01 21:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5dd7268690b93cbd7df88ad9eae4fcb4b6bedef2', 'message': 'Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 5, 'created': '2018-06-01 21:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f3b2b510ff86c923a4c815447a7451bcb6171cd1', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 6, 'created': '2018-06-01 21:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/83174ee09c8f75973960fbed1777b9b52471b33b', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 7, 'created': '2018-06-01 22:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b20b014e4e5fa0ffb7d7536e60e4e4fd941ba8bc', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 8, 'created': '2018-06-01 23:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9a04f651d81d9b136fedf97e08a11441ecb4589', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 9, 'created': '2018-06-04 18:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/374440f088caa6a91b3ceb643b35c0362ac321b2', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 10, 'created': '2018-06-04 19:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/707b3fa8e781030bf95462f018ea0ee19937c765', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}, {'number': 11, 'created': '2018-06-28 00:26:40.000000000', 'files': ['octavia/tests/contrib/gate_hook.sh', 'devstack/files/debs/octavia', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/42fb16f579107fd19cf8b068a60e20f5c05f7444', 'message': 'DNM: Re-enable KVM on OVH hosts\n\nOVH appears to have resolved the KVM issue with the gate hosts.\nThis patch re-enabled KVM on OVH hosts.\n\nDO NOT MERGE - This patch contains dirty hacks to install some test\ntools to debug this issue.\n\nChange-Id: I132977d3fb6766d4349746f845c424c97bf51973\n'}]",0,549054,42fb16f579107fd19cf8b068a60e20f5c05f7444,62,7,11,11628,,,0,"DNM: Re-enable KVM on OVH hosts

OVH appears to have resolved the KVM issue with the gate hosts.
This patch re-enabled KVM on OVH hosts.

DO NOT MERGE - This patch contains dirty hacks to install some test
tools to debug this issue.

Change-Id: I132977d3fb6766d4349746f845c424c97bf51973
",git fetch https://review.opendev.org/openstack/octavia refs/changes/54/549054/10 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/contrib/gate_hook.sh'],1,457bfc516e2da4ff39014ee9f6a0d0ace6c93e77,test-ovh,if egrep --quiet '(vmx|svm)' /proc/cpuinfo; then,"if $(egrep --quiet '(vmx|svm)' /proc/cpuinfo) && [[ ! $(hostname) =~ ""ovh"" ]]; then",1,1
openstack%2Fkolla-ansible~stable%2Fpike~Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11,openstack/kolla-ansible,stable/pike,Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11,common: fix ansible location,MERGED,2018-07-02 07:21:58.000000000,2018-07-03 00:44:46.000000000,2018-07-03 00:44:46.000000000,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26598}]","[{'number': 1, 'created': '2018-07-02 07:21:58.000000000', 'files': ['ansible/roles/common/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41b46ee15ed031cf3f27cc59a4c38a9259869ec0', 'message': 'common: fix ansible location\n\nWhen deploying on arm64, common reports error:\nstat /usr/bin/ansible: no such file or directory\n\nThe reason is ansible is installed to /usr/local/bin/ansible\nrather that /usr/bin/ansible\nFix the issue to call ansible directly, to consider both cases.\n\nChange-Id: Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\nSigned-off-by: Zhangfei Gao <zhangfei.gao@linaro.org>\n(cherry picked from commit 30f0dc10ce3e41451c6429ee4c79b3ba09a391a1)\n'}]",0,579472,41b46ee15ed031cf3f27cc59a4c38a9259869ec0,7,4,1,7488,,,0,"common: fix ansible location

When deploying on arm64, common reports error:
stat /usr/bin/ansible: no such file or directory

The reason is ansible is installed to /usr/local/bin/ansible
rather that /usr/bin/ansible
Fix the issue to call ansible directly, to consider both cases.

Change-Id: Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
Signed-off-by: Zhangfei Gao <zhangfei.gao@linaro.org>
(cherry picked from commit 30f0dc10ce3e41451c6429ee4c79b3ba09a391a1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/579472/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/handlers/main.yml'],1,41b46ee15ed031cf3f27cc59a4c38a9259869ec0,arm64-stable/pike, command: docker exec -t kolla_toolbox ansible --version, command: docker exec -t kolla_toolbox /usr/bin/ansible --version,1,1
openstack%2Foslo.policy~master~I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940,openstack/oslo.policy,master,I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940,Fix requirements and convert to stestr,MERGED,2018-06-29 14:08:29.000000000,2018-07-03 00:33:26.000000000,2018-07-03 00:33:26.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 14:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4e50272cadb4113639da09b847e5839b163c0fa2', 'message': 'Bump sphinx to match lower requirements\n\nThe previous version allowed by oslo.policy was 1.6.2 but\nlower-constraints.txt specifies 1.6.5.\n\nChange-Id: I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940\n'}, {'number': 2, 'created': '2018-07-02 16:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/708dce70da0b9a931a5384436bda67c348129231', 'message': 'Bump sphinx to match lower requirements\n\nThe previous version allowed by oslo.policy was 1.6.2 but\nlower-constraints.txt specifies 1.6.5.\n\nChange-Id: I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940\n'}, {'number': 3, 'created': '2018-07-02 17:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/55eb20c0dadf2fd5da2f1a085cfa249f7767cb20', 'message': ""Fix requirements and convert to stests\n\nThis commit fixes two issues that are currently blocking the gate.\n\nThe first is that it bumps the Sphinx requirement to be within\nacceptable constraints. The second is that it converts oslo.policy to\nuse stestr instead of testr. This is all being done in one patch\nbecause proposing them individually causes deadlock (the patch to\nbump the sphinx requirement fails because we're still using testr and\nthe patch to convert to stestr fails the requirements-check job).\n\nThe following explains the reasoning behind the stestr change.\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.policy.\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n\nChange-Id: I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940\n""}, {'number': 4, 'created': '2018-07-02 17:31:11.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/8f74e2ba283c2a8ed757088d706c5e02afbe6a73', 'message': ""Fix requirements and convert to stestr\n\nThis commit fixes two issues that are currently blocking the gate.\n\nThe first is that it bumps the Sphinx requirement to be within\nacceptable constraints. The second is that it converts oslo.policy to\nuse stestr instead of testr. This is all being done in one patch\nbecause proposing them individually causes deadlock (the patch to\nbump the sphinx requirement fails because we're still using testr and\nthe patch to convert to stestr fails the requirements-check job).\n\nThe following explains the reasoning behind the stestr change.\n\nWith the upgrade to oslotest 3.6.0 [0], testr no longer works [1].\nThis is because oslotest no longer requires testr and we don't depend\non it directly in oslo.policy.\n\n[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431\n[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2\n\nChange-Id: I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940\n""}]",0,579169,8f74e2ba283c2a8ed757088d706c5e02afbe6a73,12,3,4,5046,,,0,"Fix requirements and convert to stestr

This commit fixes two issues that are currently blocking the gate.

The first is that it bumps the Sphinx requirement to be within
acceptable constraints. The second is that it converts oslo.policy to
use stestr instead of testr. This is all being done in one patch
because proposing them individually causes deadlock (the patch to
bump the sphinx requirement fails because we're still using testr and
the patch to convert to stestr fails the requirements-check job).

The following explains the reasoning behind the stestr change.

With the upgrade to oslotest 3.6.0 [0], testr no longer works [1].
This is because oslotest no longer requires testr and we don't depend
on it directly in oslo.policy.

[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431
[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2

Change-Id: I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/69/579169/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4e50272cadb4113639da09b847e5839b163c0fa2,579295,"sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",1,1
openstack%2Fpuppet-senlin~master~I7a01e38c61c9a1d3064b4177b521f17dc662e18d,openstack/puppet-senlin,master,I7a01e38c61c9a1d3064b4177b521f17dc662e18d,Debian release is 9 in metadata,MERGED,2018-07-02 06:04:52.000000000,2018-07-03 00:24:19.000000000,2018-07-03 00:24:19.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 06:04:52.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/dcb9e050dfafa68b22ee45abd70dc6c6ec3ee4fa', 'message': 'Debian release is 9 in metadata\n\nChange-Id: I7a01e38c61c9a1d3064b4177b521f17dc662e18d\n'}]",0,579453,dcb9e050dfafa68b22ee45abd70dc6c6ec3ee4fa,6,2,1,9414,,,0,"Debian release is 9 in metadata

Change-Id: I7a01e38c61c9a1d3064b4177b521f17dc662e18d
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/53/579453/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,dcb9e050dfafa68b22ee45abd70dc6c6ec3ee4fa,fix-debian-version," ""9"""," ""8""",1,1
openstack%2Fopenstack-ansible-os_panko~master~Ib31b94433183bb12209fe824ea5c8ee67aaa8276,openstack/openstack-ansible-os_panko,master,Ib31b94433183bb12209fe824ea5c8ee67aaa8276,Move database creation into role,MERGED,2018-06-28 15:36:51.000000000,2018-07-03 00:20:12.000000000,2018-07-03 00:20:12.000000000,"[{'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/a0d089ee4dd1f1b0dd3723fc03ec702edc7acc4d', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'panko_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'panko_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nChange-Id: Ib31b94433183bb12209fe824ea5c8ee67aaa8276\n""}, {'number': 2, 'created': '2018-06-28 17:49:33.000000000', 'files': ['extras/os-panko-install.yml', 'tests/test-install-panko.yml', 'tests/os_panko-overrides.yml', 'defaults/main.yml', 'extras/group_vars/all/panko.yml', 'tasks/panko_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/e5b8094b745187df1ca3d108b2a4e96760b58d2a', 'message': ""Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement a new variable called 'panko_db_setup_host'\nwhich is used in the role to allow delegation of the database setup\ntask to any host, but defaults to the first member of the galera_all\nhost group. We also document the variable 'panko_galera_address' which\nhas been used for a long time, but never documented. A bunch of unused\nvariables have also been removed.\n\nChange-Id: Ib31b94433183bb12209fe824ea5c8ee67aaa8276\n""}]",0,578851,e5b8094b745187df1ca3d108b2a4e96760b58d2a,13,4,2,6816,,,0,"Move database creation into role

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement a new variable called 'panko_db_setup_host'
which is used in the role to allow delegation of the database setup
task to any host, but defaults to the first member of the galera_all
host group. We also document the variable 'panko_galera_address' which
has been used for a long time, but never documented. A bunch of unused
variables have also been removed.

Change-Id: Ib31b94433183bb12209fe824ea5c8ee67aaa8276
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/51/578851/2 && git format-patch -1 --stdout FETCH_HEAD,"['extras/os-panko-install.yml', 'tests/test-install-panko.yml', 'tests/os_panko-overrides.yml', 'defaults/main.yml', 'extras/group_vars/all/panko.yml', 'tasks/panko_db_setup.yml']",6,a0d089ee4dd1f1b0dd3723fc03ec702edc7acc4d,move-db-setup-into-roles,"- name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ panko_db_address }}"" name: ""{{ panko_database_name }}"" state: ""present"" delegate_to: ""{{ panko_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ panko_db_address }}"" name: ""{{ panko_database_user }}"" password: ""{{ panko_container_db_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ panko_database_name }}.*:ALL"" delegate_to: ""{{ panko_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True ",,34,25
