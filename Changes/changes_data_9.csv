id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-nova~stable%2Fzed~Iea2b3d4a4324e48d30abf1827805b88b6fcaf162,openstack/puppet-nova,stable/zed,Iea2b3d4a4324e48d30abf1827805b88b6fcaf162,Prepare new stable/zed release,MERGED,2023-07-27 13:51:22.000000000,2023-07-28 02:33:13.000000000,2023-07-28 02:33:13.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-27 13:51:22.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/61e0142fedeec0f2baa9263261931f733fd928f9', 'message': ""Prepare new stable/zed release\n\nWe recently merged the fix required to enable only sockets for modular\nlibvirt daemons. Let's create a release so that users can consume the\nreleased versions containing the fix.\n\nChange-Id: Iea2b3d4a4324e48d30abf1827805b88b6fcaf162\n""}]",1,889864,61e0142fedeec0f2baa9263261931f733fd928f9,7,3,1,31068,,,0,"Prepare new stable/zed release

We recently merged the fix required to enable only sockets for modular
libvirt daemons. Let's create a release so that users can consume the
released versions containing the fix.

Change-Id: Iea2b3d4a4324e48d30abf1827805b88b6fcaf162
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/64/889864/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,61e0142fedeec0f2baa9263261931f733fd928f9,," ""version"": ""21.2.0"""," ""version"": ""21.1.0""",1,1
openstack%2Fpuppet-openstack-integration~master~I308719939dab4c9562ccf3239f8b45a7d7b514da,openstack/puppet-openstack-integration,master,I308719939dab4c9562ccf3239f8b45a7d7b514da,Ubuntu: Add nova to libvirt-qemu group,ABANDONED,2023-01-12 07:00:52.000000000,2023-07-28 02:24:46.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-12 07:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/77dc3c85e176ea1d32871e1ad4660fce138b9dba', 'message': 'Ubuntu: Add nova to libvirt-qemu group\n\nIt seems libvirt in Jammy automatically chown the image files when\nlaunching qemu processes and the file will be owned by the libvirt-qemu\ngroup, but the nova user belongs only to the libvirt group and lost\naccess to the image files.\n\nThis ensures the nova user is added to the libvirt-qemu group so that\nnova-compute can still access to the image files.\n\nChange-Id: I308719939dab4c9562ccf3239f8b45a7d7b514da\n'}, {'number': 2, 'created': '2023-01-12 07:27:47.000000000', 'files': ['manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5267987ec22fbaf7acdeb0132322c9a734eadc99', 'message': 'Ubuntu: Add nova to libvirt-qemu group\n\nIt seems libvirt in Jammy automatically chown the image files when\nlaunching qemu processes and the file will be owned by the libvirt-qemu\ngroup, but the nova user belongs only to the libvirt group and lost\naccess to the image files.\n\nThis ensures the nova user is added to the libvirt-qemu group so that\nnova-compute can still access to the image files.\n\nChange-Id: I308719939dab4c9562ccf3239f8b45a7d7b514da\n'}]",1,869898,5267987ec22fbaf7acdeb0132322c9a734eadc99,7,3,2,9816,,,0,"Ubuntu: Add nova to libvirt-qemu group

It seems libvirt in Jammy automatically chown the image files when
launching qemu processes and the file will be owned by the libvirt-qemu
group, but the nova user belongs only to the libvirt group and lost
access to the image files.

This ensures the nova user is added to the libvirt-qemu group so that
nova-compute can still access to the image files.

Change-Id: I308719939dab4c9562ccf3239f8b45a7d7b514da
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/98/869898/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/nova.pp'],1,77dc3c85e176ea1d32871e1ad4660fce138b9dba,puppet-jammy," if $libvirt_virt_type == 'qemu' and $::osfamily == 'Debian' { user { 'fix-nova-access': unless => '/bin/grep -q ""libvirt-qemu\\S*nova"" /etc/group', command => '/sbin/usermod -aG libvirt-qemu nova', require => Anchor['nova::install::end'], } } ",,8,0
openstack%2Fheat~master~Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0,openstack/heat,master,Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0,Merge old db migrations,ABANDONED,2023-03-23 01:55:31.000000000,2023-07-28 02:23:11.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-23 01:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/66bcd4dabd637c8710ceb2bc02825eabf41979aa', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 2, 'created': '2023-03-23 01:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/670ca1c73bcbd351f7e7132d22be3580da0e4cd4', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 3, 'created': '2023-03-23 02:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ab59de61b482f1f8ed9350a658a176665b77a396', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 4, 'created': '2023-03-23 02:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/845e7d6c4e63e999bf2457cc77e5e2ffd4329006', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 5, 'created': '2023-03-23 03:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1a725cdfcb5cf1738deaf8f57dc20871d256fb44', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 6, 'created': '2023-03-23 04:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/549d65ad027893a7d6208313c9bb31bbdf0654f3', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 7, 'created': '2023-03-23 05:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b277d9276ab7c4e745743913ab5e4cabc2689991', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 8, 'created': '2023-03-23 05:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/000ced5f18e8c3c15cda75d337dfcbef72207710', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}, {'number': 9, 'created': '2023-03-23 05:57:05.000000000', 'files': ['heat/db/sqlalchemy/migrate_repo/versions/080_resource_attrs_data.py', 'heat/db/sqlalchemy/migrate_repo/versions/079_resource_properties_data.py', 'heat/db/sqlalchemy/migrate_repo/versions/0086_rocky.py', 'heat/db/sqlalchemy/migrate_repo/versions/078_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/075_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/076_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/084_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/082_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/086_drop_watch_rule_watch_data_tables.py', 'heat/db/sqlalchemy/migrate_repo/versions/085_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/074_placeholder.py', 'heat/db/sqlalchemy/migration.py', 'heat/db/sqlalchemy/migrate_repo/versions/083_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/077_placeholder.py', 'heat/tests/db/test_migrations.py', 'heat/db/sqlalchemy/migrate_repo/versions/081_placeholder.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5c8d68434969a220d7201c42eb269bb7400b2d41', 'message': 'Merge old db migrations\n\nThe last migration script was added during Rocky cycle, so we can now\nsquash these all. This makes migration to alembic easy.\n\nChange-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0\n'}]",1,878299,5c8d68434969a220d7201c42eb269bb7400b2d41,20,2,9,9816,,,0,"Merge old db migrations

The last migration script was added during Rocky cycle, so we can now
squash these all. This makes migration to alembic easy.

Change-Id: Iddc7d03bab61c271e09cdcb3e84e9eb04de91fa0
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/878299/8 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/sqlalchemy/migrate_repo/versions/080_resource_attrs_data.py', 'heat/db/sqlalchemy/migrate_repo/versions/079_resource_properties_data.py', 'heat/db/sqlalchemy/migrate_repo/versions/0086_rocky.py', 'heat/db/sqlalchemy/migrate_repo/versions/078_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/075_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/076_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/084_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/082_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/086_drop_watch_rule_watch_data_tables.py', 'heat/db/sqlalchemy/migrate_repo/versions/085_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/074_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/083_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/077_placeholder.py', 'heat/db/sqlalchemy/migrate_repo/versions/081_placeholder.py']",14,66bcd4dabd637c8710ceb2bc02825eabf41979aa,alembic,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Pike backports. # Do not use this number for new Queens work, which starts after # all the placeholders. def upgrade(migrate_engine): pass ",26,371
openstack%2Fheat~master~Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd,openstack/heat,master,Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd,Add initial alembic framework,ABANDONED,2023-03-23 01:55:31.000000000,2023-07-28 02:23:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-23 01:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e5be273d244b7970439ee05993ac1c8f68d856d8', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 2, 'created': '2023-03-23 01:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7197188ea350f78020b75f78b7983ab72a8b7e52', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 3, 'created': '2023-03-23 02:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/057e34a7d3ef925a9207d479634078fb4900ac42', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 4, 'created': '2023-03-23 02:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d6584fbbb8331852abd4d23ea2cf9f6493c860d5', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 5, 'created': '2023-03-23 03:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0099822c8c25892d29c5f1aa3c78daa0349e64e', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 6, 'created': '2023-03-23 04:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/18276ca65fe64e96980e72862d399ee49037717d', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 7, 'created': '2023-03-23 05:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/624fd83d3816ebfae978dd84d67c540e85958f39', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 8, 'created': '2023-03-23 05:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea8352823155b3710e7516567d95187c5c2d3b91', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}, {'number': 9, 'created': '2023-03-23 05:57:05.000000000', 'files': ['heat/db/migrations/README', 'heat/db/alembic.ini', 'doc/source/conf.py', 'heat/db/migrations/script.py.mako', 'heat/db/migrations/versions/.placeholder', 'heat/db/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6c58e2e13eee25dbf2cc880c1c590d1be92960bc', 'message': 'Add initial alembic framework\n\nThis is the first step of migration from sqlalchemy-migrate to\nalembic.\n\nChange-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd\n'}]",0,878298,6c58e2e13eee25dbf2cc880c1c590d1be92960bc,19,1,9,9816,,,0,"Add initial alembic framework

This is the first step of migration from sqlalchemy-migrate to
alembic.

Change-Id: Ia519363be6c6ce79a0bc99baa3b221c5ed532ecd
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/878298/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/migrations/README', 'heat/db/alembic.ini', 'doc/source/conf.py', 'heat/db/migrations/script.py.mako', 'heat/db/migrations/env.py']",5,e5be273d244b7970439ee05993ac1c8f68d856d8,alembic,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from logging.config import fileConfig from sqlalchemy import engine_from_config from sqlalchemy import pool from alembic import context # this is the Alembic Config object, which provides # access to the values within the .ini file in use. config = context.config # Interpret the config file for Python logging. # This line sets up loggers basically. if config.config_file_name is not None: fileConfig(config.config_file_name) # add your model's MetaData object here # for 'autogenerate' support # from myapp import mymodel # target_metadata = mymodel.Base.metadata target_metadata = None # other values from the config, defined by the needs of env.py, # can be acquired: # my_important_option = config.get_main_option(""my_important_option"") # ... etc. def run_migrations_offline() -> None: """"""Run migrations in 'offline' mode. This configures the context with just a URL and not an Engine, though an Engine is acceptable here as well. By skipping the Engine creation we don't even need a DBAPI to be available. Calls to context.execute() here emit the given string to the script output. """""" url = config.get_main_option(""sqlalchemy.url"") context.configure( url=url, target_metadata=target_metadata, literal_binds=True, dialect_opts={""paramstyle"": ""named""}, ) with context.begin_transaction(): context.run_migrations() def run_migrations_online() -> None: """"""Run migrations in 'online' mode. In this scenario we need to create an Engine and associate a connection with the context. """""" connectable = engine_from_config( config.get_section(config.config_ini_section), prefix=""sqlalchemy."", poolclass=pool.NullPool, ) with connectable.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata ) with context.begin_transaction(): context.run_migrations() if context.is_offline_mode(): run_migrations_offline() else: run_migrations_online() ",,236,0
openstack%2Fheat~master~Ic006b9c8fc171e694b4dc5d894d1fb288050015d,openstack/heat,master,Ic006b9c8fc171e694b4dc5d894d1fb288050015d,Replace sqlalchemy-migrate by alembic,ABANDONED,2023-03-23 04:57:46.000000000,2023-07-28 02:22:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-23 04:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/222fea0d18806336a4a2cb014277a732648f1b9e', 'message': 'wip add alembic scripts\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 2, 'created': '2023-03-23 05:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1cf23ffdd537a15ad148ef12ce6ad8ab01bc7c1', 'message': 'wip add alembic scripts\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 3, 'created': '2023-03-23 05:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/57dc4eb739fdb3d8ae4b66cafab54ef46ec75062', 'message': 'wip add alembic scripts\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 4, 'created': '2023-03-23 05:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92261413f326bc6ffdc50a12d20d2ed13bda7ce1', 'message': 'Replace sqlalchemy-migrate by alembic\n\nsqlalchemy-migrate is no longer maintained and is not compatible with\nsqlalchemy 2.x. oslo.db no longer supports this library since version\n13.0.0 [1].\n\nThis re-implements the db migrations by alembic so that we can get rid\nof sqlalchemy-migrate.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 5, 'created': '2023-03-23 05:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a411f8aec7a095a090cb5c681c370de17d364ae4', 'message': 'Replace sqlalchemy-migrate by alembic\n\nsqlalchemy-migrate is no longer maintained and is not compatible with\nsqlalchemy 2.x. oslo.db no longer supports this library since version\n13.0.0 [1].\n\nThis re-implements the db migrations by alembic so that we can get rid\nof sqlalchemy-migrate.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 6, 'created': '2023-03-23 06:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/448a65a060433e4b2fa83c3bbc282a9c972b6217', 'message': 'Replace sqlalchemy-migrate by alembic\n\nsqlalchemy-migrate is no longer maintained and is not compatible with\nsqlalchemy 2.x. oslo.db no longer supports this library since version\n13.0.0 [1].\n\nThis re-implements the db migrations by alembic so that we can get rid\nof sqlalchemy-migrate.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 7, 'created': '2023-03-23 07:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f76362f9cb3204682b5a949f61588228a6d9cd40', 'message': 'Replace sqlalchemy-migrate by alembic\n\nsqlalchemy-migrate is no longer maintained and is not compatible with\nsqlalchemy 2.x. oslo.db no longer supports this library since version\n13.0.0 [1].\n\nThis re-implements the db migrations by alembic so that we can get rid\nof sqlalchemy-migrate.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 8, 'created': '2023-03-23 07:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4e724d49953bbbd1e56fbbd3c606ed0225c32250', 'message': 'Replace sqlalchemy-migrate by alembic\n\nsqlalchemy-migrate is no longer maintained and is not compatible with\nsqlalchemy 2.x. oslo.db no longer supports this library since version\n13.0.0 [1].\n\nThis re-implements the db migrations by alembic so that we can get rid\nof sqlalchemy-migrate.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}, {'number': 9, 'created': '2023-03-23 08:25:21.000000000', 'files': ['heat/db/migrations/versions/5e0136f043fb_initial.py', 'heat/db/legacy_migrations/README', 'heat/db/legacy_migrations/versions/0086_rocky.py', 'heat/db/sqlalchemy/api.py', 'heat/cmd/manage.py', 'heat/db/legacy_migrations/manage.py', 'requirements.txt', 'heat/tests/db/test_utils.py', 'heat/db/sqlalchemy/utils.py', 'heat/db/sqlalchemy/migration.py', 'heat/tests/db/test_migrations.py', 'heat/db/migration.py', 'heat/db/legacy_migrations/__init__.py', 'heat/db/legacy_migrations/migrate.cfg', 'heat/db/migrations/versions/.placeholder', 'heat/db/legacy_migrations/versions/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7a30708a68c92e6f8226dede2e7e7b8d55fd4535', 'message': 'Replace sqlalchemy-migrate by alembic\n\nsqlalchemy-migrate is no longer maintained and is not compatible with\nsqlalchemy 2.x. oslo.db no longer supports this library since version\n13.0.0 [1].\n\nThis re-implements the db migrations by alembic so that we can get rid\nof sqlalchemy-migrate.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html\n\nChange-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d\n'}]",2,878303,7a30708a68c92e6f8226dede2e7e7b8d55fd4535,19,1,9,9816,,,0,"Replace sqlalchemy-migrate by alembic

sqlalchemy-migrate is no longer maintained and is not compatible with
sqlalchemy 2.x. oslo.db no longer supports this library since version
13.0.0 [1].

This re-implements the db migrations by alembic so that we can get rid
of sqlalchemy-migrate.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032881.html

Change-Id: Ic006b9c8fc171e694b4dc5d894d1fb288050015d
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/878303/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/migrations/versions/5e0136f043fb_initial.py', 'heat/db/migration.py', 'heat/db/migrations/versions/.placeholder']",3,222fea0d18806336a4a2cb014277a732648f1b9e,alembic,,,227,0
openstack%2Fnova~master~I9ae3ddc7e57d2afcfc9dad49e3361080f8145357,openstack/nova,master,I9ae3ddc7e57d2afcfc9dad49e3361080f8145357,Add job to test with SQLAlchemy master (2.x),NEW,2023-06-15 21:58:40.000000000,2023-07-28 01:44:35.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16207}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-15 21:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc804c59ebcdeef2d12454bd2b9c1f3ef72a72ca', 'message': 'Add job to test with SQLAlchemy master (2.x)\n\nChange-Id: I9ae3ddc7e57d2afcfc9dad49e3361080f8145357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-06-17 02:41:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/679f2eef1d0f8703efdd0fd721d07572bba30fa5', 'message': 'Add job to test with SQLAlchemy master (2.x)\n\nChange-Id: I9ae3ddc7e57d2afcfc9dad49e3361080f8145357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",14,886230,679f2eef1d0f8703efdd0fd721d07572bba30fa5,28,7,2,15334,,,0,"Add job to test with SQLAlchemy master (2.x)

Change-Id: I9ae3ddc7e57d2afcfc9dad49e3361080f8145357
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/886230/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bc804c59ebcdeef2d12454bd2b9c1f3ef72a72ca,sqlalchemy-20," name: nova-tox-py310-with-sqlalchemy-2x parent: openstack-tox-py310 description: | Run unit tests with main branch of SQLAlchemy, alembic and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: ^(?!stable) required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db - job: - nova-tox-py310-with-sqlalchemy-2x - nova-tox-py310-with-sqlalchemy-2x",,17,0
openstack%2Fmanila-tempest-plugin~master~Iee0f739d9701b2efe9b275ea22859318b58a46be,openstack/manila-tempest-plugin,master,Iee0f739d9701b2efe9b275ea22859318b58a46be,[RBAC] Add share groups tests,NEW,2022-12-12 12:12:58.000000000,2023-07-28 01:44:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 30025}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-12 12:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6f4712e913ffb01d27fe39e0d3b3bcc3daa4dc6c', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}, {'number': 2, 'created': '2023-01-15 09:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a34a9e0c51f60cefeb421f7f87e239df8c55ce2a', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}, {'number': 3, 'created': '2023-01-16 06:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/04316fab9a9db023d1960dce79fc2418872396c6', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}, {'number': 4, 'created': '2023-01-29 11:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cf30e766cbb06c0c089c8dcc30081e9c0fcc31b5', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}, {'number': 5, 'created': '2023-01-29 13:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/222a5d2f69368e8448c0130638d467bb54f98da7', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}, {'number': 6, 'created': '2023-03-30 07:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ef493e1686be5ea90f6f00f6e10a984d5fd8d7e6', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}, {'number': 7, 'created': '2023-07-18 12:19:31.000000000', 'files': ['manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/tests/rbac/test_share_groups.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/92a5ee48e59133758266d6a39e29764c7d509b57', 'message': '[RBAC] Add share groups tests\n\nThe tests validate policy of share groups actions for\nadmin, member and reader users in a project scope.\n\nChange-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be\n'}]",3,867213,92a5ee48e59133758266d6a39e29764c7d509b57,32,3,7,19262,,,0,"[RBAC] Add share groups tests

The tests validate policy of share groups actions for
admin, member and reader users in a project scope.

Change-Id: Iee0f739d9701b2efe9b275ea22859318b58a46be
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/13/867213/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/rbac/base.py', 'manila_tempest_tests/tests/rbac/test_share_groups.py']",2,6f4712e913ffb01d27fe39e0d3b3bcc3daa4dc6c,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from testtools import testcase as tc from manila_tempest_tests.common import waiters from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base CONF = config.CONF class ShareRbacShareGroupsTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def skip_checks(cls): super(ShareRbacShareGroupsTests, cls).skip_checks() if cls.protocol not in CONF.share.enable_protocols: message = ""%s tests are disabled"" % cls.protocol raise cls.skipException(message) @classmethod def setup_clients(cls): super(ShareRbacShareGroupsTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() cls.admin_shares_v2_client = ( cls.os_project_admin.share_v2.SharesV2Client()) cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) @classmethod def resource_setup(cls): super(ShareRbacShareGroupsTests, cls).resource_setup() cls.share_type = cls.create_share_type() cls.share_group_type = cls.create_share_group_type( cls.share_type['id']) def share_group(self, share_group_type_id, share_type_ids): share_group = {} share_group['name'] = data_utils.rand_name('share_group') share_group['share_group_type_id'] = share_group_type_id share_group['share_type_ids'] = [share_type_ids] return share_group @abc.abstractmethod def test_get_share_group(self): pass @abc.abstractmethod def test_list_share_groups(self): pass @abc.abstractmethod def test_create_share_group(self): pass @abc.abstractmethod def test_delete_share_group(self): pass @abc.abstractmethod def test_force_delete_share_group(self): pass @abc.abstractmethod def test_update_share_group(self): pass @abc.abstractmethod def test_reset_share_group(self): pass class TestProjectAdminTestsNFS(ShareRbacShareGroupsTests, base.BaseSharesTest): credentials = ['project_admin', 'project_alt_member'] protocol = 'nfs' @classmethod def setup_clients(cls): super(TestProjectAdminTestsNFS, cls).setup_clients() project_member = cls.setup_user_client( cls.persona, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('0de993c5-8389-4997-8f7f-345e27f563f1') def test_get_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'get_share_group', expected_status=200, share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'get_share_group', expected_status=200, share_group_id=alt_share_group['id']) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('3b277a44-dcae-46da-a58c-f5281d8abc84') def test_list_share_groups(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) params = {""all_tenants"": 1} share_group_list = self.do_request( 'list_share_groups', expected_status=200, params=params)['share_groups'] share_group_id_list = [ s['id'] for s in share_group_list ] self.assertIn(share_group['id'], share_group_id_list) self.assertIn(alt_share_group['id'], share_group_id_list) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('d060996e-c5f2-4dff-820b-6892a096a425') def test_create_share_group(self): share_group = self.do_request( 'create_share_group', expected_status=202, **self.share_group(self.share_group_type['id'], self.share_type['id']))['share_group'] waiters.wait_for_resource_status( self.client, share_group['id'], 'available', resource_name='share_group') self.addCleanup(self.client.wait_for_resource_deletion, share_group_id=share_group['id']) self.addCleanup(self.client.delete_share_group, share_group['id']) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('ea6cbb78-057e-4fbc-86bf-125b033cb76f') def test_delete_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'delete_share_group', expected_status=202, share_group_id=share_group['id']) self.client.wait_for_resource_deletion( share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'delete_share_group', expected_status=202, share_group_id=alt_share_group['id']) self.client.wait_for_resource_deletion( share_group_id=alt_share_group['id']) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('2cb00ffb-47e3-495e-853c-007752c9e679') def test_force_delete_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_force_delete', expected_status=202, share_group_id=share_group['id']) self.client.wait_for_resource_deletion( share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_force_delete', expected_status=202, share_group_id=alt_share_group['id']) self.client.wait_for_resource_deletion( share_group_id=alt_share_group['id']) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('1bab40d5-bdba-4a23-9300-807fe513bf15') def test_update_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) name = data_utils.rand_name('rename_share') self.do_request( 'update_share_group', expected_status=200, share_group_id=share_group['id'], name=name) alt_share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) name = data_utils.rand_name('rename_share') self.do_request( 'update_share_group', expected_status=200, share_group_id=alt_share_group['id'], name=name) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('069bc68e-6411-44b8-abe9-399885f0eee5') def test_reset_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_reset_state', expected_status=202, share_group_id=share_group['id'], status='error') alt_share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_reset_state', expected_status=202, share_group_id=alt_share_group['id'], status='error') class TestProjectMemberTestsNFS(ShareRbacShareGroupsTests, base.BaseSharesTest): credentials = ['project_member', 'project_admin', 'project_alt_member'] protocol = 'nfs' @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('a29e1a68-220e-40fc-98ea-9092fd256d07') def test_get_share_group(self): share_client = getattr(self, 'share_member_client', self.client) share_group = self.create_share_group( share_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'get_share_group', expected_status=200, share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'get_share_group', expected_status=lib_exc.NotFound, share_group_id=alt_share_group['id']) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('d9c04932-c47e-46e0-bfcf-79c2af32c4c7') def test_list_share_groups(self): share_client = getattr(self, 'share_member_client', self.client) share_group = self.create_share_group( share_client, self.share_group_type['id'], [self.share_type['id']]) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) params = {""all_tenants"": 1} share_group_list = self.do_request( 'list_share_groups', expected_status=200, params=params)['share_groups'] share_group_id_list = [ s['id'] for s in share_group_list ] self.assertIn(share_group['id'], share_group_id_list) self.assertNotIn(alt_share_group['id'], share_group_id_list) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('ebad2242-1fb5-4d99-9a5a-281c1944e03d') def test_create_share_group(self): share_group = self.do_request( 'create_share_group', expected_status=202, **self.share_group(self.share_group_type['id'], self.share_type['id']))['share_group'] waiters.wait_for_resource_status( self.client, share_group['id'], 'available', resource_name='share_group') self.addCleanup(self.client.wait_for_resource_deletion, share_group_id=share_group['id']) self.addCleanup(self.client.delete_share_group, share_group['id']) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('f5c243e4-5128-4a1c-9a15-8c9f0a44437e') def test_delete_share_group(self): share_group = self.create_share_group( self.client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'delete_share_group', expected_status=202, share_group_id=share_group['id']) self.client.wait_for_resource_deletion( share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'delete_share_group', expected_status=lib_exc.NotFound, share_group_id=alt_share_group['id']) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('36a58d50-1257-479f-80a2-f9b7a00814e2') def test_force_delete_share_group(self): share_client = getattr(self, 'share_member_client', self.client) share_group = self.create_share_group( share_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_force_delete', expected_status=lib_exc.Forbidden, share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_force_delete', expected_status=lib_exc.Forbidden, share_group_id=alt_share_group['id']) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('cf9e34b6-6c04-4920-a811-2dbcf07ba14e') def test_update_share_group(self): share_group = self.create_share_group( self.client, self.share_group_type['id'], [self.share_type['id']]) name = data_utils.rand_name('rename_share') self.do_request( 'update_share_group', expected_status=200, share_group_id=share_group['id'], name=name) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) name = data_utils.rand_name('rename_share') self.do_request( 'update_share_group', expected_status=lib_exc.NotFound, share_group_id=alt_share_group['id'], name=name) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('2108c4cd-74e0-467f-823a-e44cf8686afa') def test_reset_share_group(self): share_client = getattr(self, 'share_member_client', self.client) share_group = self.create_share_group( share_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_reset_state', expected_status=lib_exc.Forbidden, share_group_id=share_group['id'], status='error') alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'share_group_reset_state', expected_status=lib_exc.NotFound, share_group_id=alt_share_group['id'], status='error') class TestProjectReaderTestsNFS(TestProjectMemberTestsNFS): """"""Test suite for basic share group operations by reader user In order to test certain share operations we must create a share group resource for this. Since reader user is limited in resources creation, we are forced to use admin credentials, so we can test other share operations. In this class we use admin user to create a member user within reader project. That way we can perform a reader actions on this resource. """""" credentials = ['project_reader', 'project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(TestProjectReaderTestsNFS, cls).setup_clients() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('ec0ecbb0-5d45-4624-bb26-8b2e140e2ea9') def test_get_share_group(self): super(TestProjectReaderTestsNFS, self).test_get_share_group() @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('4ac87837-5bdf-4253-ab50-dd6efdcea285') def test_list_share_groups(self): super(TestProjectReaderTestsNFS, self).test_list_share_groups() @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('526dcd91-e789-48f8-b209-c384d77e5803') def test_create_share_group(self): self.do_request( 'create_share_group', expected_status=lib_exc.Forbidden, **self.share_group(self.share_group_type['id'], self.share_type['id'])) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('fdf4d49e-a576-441f-9a3c-e2d58c0d8679') def test_delete_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'delete_share_group', expected_status=lib_exc.Forbidden, share_group_id=share_group['id']) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) self.do_request( 'delete_share_group', expected_status=lib_exc.Forbidden, share_group_id=alt_share_group['id']) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('eddca093-e3a1-4a79-a8c7-8fd04c77b02f') def test_force_delete_share_group(self): super(TestProjectReaderTestsNFS, self).test_force_delete_share_group() @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('4530c19d-0aa5-402e-ac83-a3f2333f6c71') def test_update_share_group(self): share_group = self.create_share_group( self.share_member_client, self.share_group_type['id'], [self.share_type['id']]) name = data_utils.rand_name('rename_share') self.do_request( 'update_share_group', expected_status=lib_exc.Forbidden, share_group_id=share_group['id'], name=name) alt_share_group = self.create_share_group( self.alt_project_share_v2_client, self.share_group_type['id'], [self.share_type['id']]) name = data_utils.rand_name('rename_share') self.do_request( 'update_share_group', expected_status=lib_exc.Forbidden, share_group_id=alt_share_group['id'], name=name) @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) @decorators.idempotent_id('37f23531-69b5-418d-bd91-7913341586ec') def test_reset_share_group(self): super(TestProjectReaderTestsNFS, self).test_reset_share_group() class TestProjectAdminTestsCEPHFS(TestProjectAdminTestsNFS): protocol = 'cephfs' class TestProjectMemberTestsCEPHFS(TestProjectMemberTestsNFS): protocol = 'cephfs' class TestProjectReaderTestsCEPHFS(TestProjectReaderTestsNFS): protocol = 'cephfs' class TestProjectAdminTestsCIFS(TestProjectAdminTestsNFS): protocol = 'cifs' class TestProjectMemberTestsCIFS(TestProjectMemberTestsNFS): protocol = 'cifs' class TestProjectReaderTestsCIFS(TestProjectReaderTestsNFS): protocol = 'cifs' ",,488,0
openstack%2Fbifrost~master~Ife728fe88b1575f59f089e5cb3cb1a09f006f42a,openstack/bifrost,master,Ife728fe88b1575f59f089e5cb3cb1a09f006f42a,Allow nginx to access images again on systems with SELinux,MERGED,2023-07-04 14:38:44.000000000,2023-07-28 01:02:54.000000000,2023-07-28 01:01:52.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 14:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a98ce994dd88bc4d3ee226de50bf6ce9244161d1', 'message': 'Revert ""Fix TFTP read access for enforcing SELinux""\n\nThis reverts commit 0baff1e12445624772e2436d04840316ee09763b.\n\nReason for revert: breaks SELinux context for HTTP boot.\nThis is because we share master images between TFTP and HTTP.\n\nChange-Id: Ife728fe88b1575f59f089e5cb3cb1a09f006f42a\n'}, {'number': 2, 'created': '2023-07-04 15:01:54.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/files/ironic_policy.te', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f9884a5dbf05515a6ae49493d663c9c002c7e627', 'message': 'Allow nginx to access images again on systems with SELinux\n\nCommit 0baff1e12445624772e2436d04840316ee09763b broke this by making\nthe master image cache ""belong"" to TFTP. This change re-introduces\nthe ironic_policy selinux module that enables Nginx to read TFTP files.\n\nChange-Id: Ife728fe88b1575f59f089e5cb3cb1a09f006f42a\n'}]",3,887613,f9884a5dbf05515a6ae49493d663c9c002c7e627,17,5,2,10239,,,0,"Allow nginx to access images again on systems with SELinux

Commit 0baff1e12445624772e2436d04840316ee09763b broke this by making
the master image cache ""belong"" to TFTP. This change re-introduces
the ironic_policy selinux module that enables Nginx to read TFTP files.

Change-Id: Ife728fe88b1575f59f089e5cb3cb1a09f006f42a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/13/887613/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/selinux-tftp-c37e34311238f8fd.yaml']",2,a98ce994dd88bc4d3ee226de50bf6ce9244161d1,master-images,,--- fixes: - | An issue has been fixed where enforcing SELinux resulted in files in ``tftp_boot_folder`` not being readable by dnsmasq. This has been fixed by ensuring files in ``ironic_tftp_master_path`` have the SELinux context ``tftpdir_t``.,1,10
openstack%2Fhorizon~stable%2Fyoga~Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6,openstack/horizon,stable/yoga,Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6,Pass real client IP to keystoneauth original_ip,MERGED,2022-05-31 12:58:51.000000000,2023-07-27 23:21:24.000000000,2023-07-27 23:20:20.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-31 12:58:51.000000000', 'files': ['openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b8a5371bb98aa823c0ac8a0524a67fd1a2cb600a', 'message': ""Pass real client IP to keystoneauth original_ip\n\nThe original_ip parameter for the keystoneauth plugin\nsets the Forwarded header sent to Keystone but right now\nit just sends the IP address of Horizon instead of the client's\nIP when Horizon is proxied and should use X-Forwarded-For.\n\nChange-Id: Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6\n(cherry picked from commit e4ac4550c9851383f83fa0a0ff693c4e5c439bd1)\n""}]",1,843829,b8a5371bb98aa823c0ac8a0524a67fd1a2cb600a,12,3,1,16137,,,0,"Pass real client IP to keystoneauth original_ip

The original_ip parameter for the keystoneauth plugin
sets the Forwarded header sent to Keystone but right now
it just sends the IP address of Horizon instead of the client's
IP when Horizon is proxied and should use X-Forwarded-For.

Change-Id: Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6
(cherry picked from commit e4ac4550c9851383f83fa0a0ff693c4e5c439bd1)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/843829/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/keystone.py'],1,b8a5371bb98aa823c0ac8a0524a67fd1a2cb600a,horizon-keystoneauth-original_ip-stable/yoga, remote_addr = auth_utils.get_client_ip(request)," remote_addr = request.environ.get('REMOTE_ADDR', '')",1,1
openstack%2Frally-openstack~master~I8c23c3f9862577365de8a19c0f4c897624955567,openstack/rally-openstack,master,I8c23c3f9862577365de8a19c0f4c897624955567,Release 2.3.0,MERGED,2023-07-27 13:46:46.000000000,2023-07-27 22:28:42.000000000,2023-07-27 22:28:42.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-27 13:46:46.000000000', 'files': ['DOCKER_README.md', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/712e2c8fa99046fe59689c1e3db2825927a98738', 'message': 'Release 2.3.0\n\nChange-Id: I8c23c3f9862577365de8a19c0f4c897624955567\n'}]",1,889862,712e2c8fa99046fe59689c1e3db2825927a98738,8,2,1,9545,,,0,"Release 2.3.0

Change-Id: I8c23c3f9862577365de8a19c0f4c897624955567
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/62/889862/1 && git format-patch -1 --stdout FETCH_HEAD,"['DOCKER_README.md', 'CHANGELOG.rst']",2,712e2c8fa99046fe59689c1e3db2825927a98738,prepare-2.3.0,[2.3.0] - 2023-07-27 --------------------* Switch docker image to rally 3.4.0 base.,[unreleased] ------------,8,7
openstack%2Fironic-python-agent~master~Id71b167f4e330d54b9afddf95f1a2ef9e40398bf,openstack/ironic-python-agent,master,Id71b167f4e330d54b9afddf95f1a2ef9e40398bf,Log the number of bytes downloaded,MERGED,2023-07-05 17:06:46.000000000,2023-07-27 21:40:10.000000000,2023-07-27 21:39:12.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-05 17:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/847934d79897d6f50a1fe7e7e4368043dbca372d', 'message': 'DNM: Test logging number of bytes downloaded\n\nChange-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf\n'}, {'number': 2, 'created': '2023-07-05 22:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9ccac8b47639b0abaeca71fa887fb15770908b11', 'message': ""Log the number of bytes downloaded\n\nWhen troubleshooting download issues, which may present\nas checksum validation failures, it is difficult to understand\nif the *entire* file was downloaded due to the way HTTP works.\n\nIn that, a download may start with a successful result code,\nand the content is streamed out until the socket is closed.\n\nBut with HTTP there is no way to know if that socket closed\nprematurely and the original server size is *also* an optional\nfield, so just log the size we got to so we don't drive the\nhumans [more-]insane.\n\nChange-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf\n""}, {'number': 3, 'created': '2023-07-17 20:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4aff0709ca18298fabb3801a4bd8a20527a614a8', 'message': ""Log the number of bytes downloaded\n\nWhen troubleshooting download issues, which may present\nas checksum validation failures, it is difficult to understand\nif the *entire* file was downloaded due to the way HTTP works.\n\nIn that, a download may start with a successful result code,\nand the content is streamed out until the socket is closed.\n\nBut with HTTP there is no way to know if that socket closed\nprematurely and the original server size is *also* an optional\nfield, so just log the size we got to so we don't drive the\nhumans [more-]insane.\n\nAlso now logs the (optional) content-length field if\nsupplied by the server.\n\nChange-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf\n""}, {'number': 4, 'created': '2023-07-17 23:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4589aaebc32acf20f6a09f0ea071109cb68d887d', 'message': ""Log the number of bytes downloaded\n\nWhen troubleshooting download issues, which may present\nas checksum validation failures, it is difficult to understand\nif the *entire* file was downloaded due to the way HTTP works.\n\nIn that, a download may start with a successful result code,\nand the content is streamed out until the socket is closed.\n\nBut with HTTP there is no way to know if that socket closed\nprematurely and the original server size is *also* an optional\nfield, so just log the size we got to so we don't drive the\nhumans [more-]insane.\n\nAlso now logs the (optional) content-length field if\nsupplied by the server.\n\nChange-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf\n""}, {'number': 5, 'created': '2023-07-18 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/98b0845e32245124727278cbaf19fb2565c03146', 'message': ""Log the number of bytes downloaded\n\nWhen troubleshooting download issues, which may present\nas checksum validation failures, it is difficult to understand\nif the *entire* file was downloaded due to the way HTTP works.\n\nIn that, a download may start with a successful result code,\nand the content is streamed out until the socket is closed.\n\nBut with HTTP there is no way to know if that socket closed\nprematurely and the original server size is *also* an optional\nfield, so just log the size we got to so we don't drive the\nhumans [more-]insane.\n\nAlso now logs the (optional) content-length field if\nsupplied by the server.\n\nChange-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf\n""}, {'number': 6, 'created': '2023-07-19 16:20:40.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/releasenotes/notes/log-download-size-57982fa8df336520.yaml', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c65ad42ff1571a4658bc64c12093b0dc4320c805', 'message': ""Log the number of bytes downloaded\n\nWhen troubleshooting download issues, which may present\nas checksum validation failures, it is difficult to understand\nif the *entire* file was downloaded due to the way HTTP works.\n\nIn that, a download may start with a successful result code,\nand the content is streamed out until the socket is closed.\n\nBut with HTTP there is no way to know if that socket closed\nprematurely and the original server size is *also* an optional\nfield, so just log the size we got to so we don't drive the\nhumans [more-]insane.\n\nAlso now logs the (optional) content-length field if\nsupplied by the server.\n\nChange-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf\n""}]",18,887729,c65ad42ff1571a4658bc64c12093b0dc4320c805,39,4,6,11655,,,0,"Log the number of bytes downloaded

When troubleshooting download issues, which may present
as checksum validation failures, it is difficult to understand
if the *entire* file was downloaded due to the way HTTP works.

In that, a download may start with a successful result code,
and the content is streamed out until the socket is closed.

But with HTTP there is no way to know if that socket closed
prematurely and the original server size is *also* an optional
field, so just log the size we got to so we don't drive the
humans [more-]insane.

Also now logs the (optional) content-length field if
supplied by the server.

Change-Id: Id71b167f4e330d54b9afddf95f1a2ef9e40398bf
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/29/887729/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py']",2,847934d79897d6f50a1fe7e7e4368043dbca372d,," self._bytes_transferred = 0 self._bytes_transferred += len(chunk.encode()) self._bytes_transferred += len(chunk) @property def bytes_transferred(self): """"""Propety value to return the number of bytes transferred."""""" return self._bytes_transferred ""in %(totaltime)s seconds. Transferred %(size)s bytes."", 'totaltime': totaltime, 'size': image_download.bytes_transferred})"," ""in %(totaltime)s seconds"", 'totaltime': totaltime})",12,2
openstack%2Fcharm-octavia~master~I50e457e3b9affdd0ca83602c1e580b75c6aa5434,openstack/charm-octavia,master,I50e457e3b9affdd0ca83602c1e580b75c6aa5434,Add docs key and point at Discourse,MERGED,2023-07-25 20:34:24.000000000,2023-07-27 21:35:33.000000000,2023-07-27 21:35:33.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 20:34:24.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e3b8b03378793562740590d8f849876aee0d1f15', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I50e457e3b9affdd0ca83602c1e580b75c6aa5434\n""}]",1,889657,e3b8b03378793562740590d8f849876aee0d1f15,8,3,1,30561,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I50e457e3b9affdd0ca83602c1e580b75c6aa5434
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/57/889657/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,e3b8b03378793562740590d8f849876aee0d1f15,charmhub-pop,docs: https://discourse.charmhub.io/t/octavia-docs-index/11221,,1,0
openstack%2Fcharm-aodh~master~I9269ad8b11b2ad5ee8a9868bf23ab1710758c883,openstack/charm-aodh,master,I9269ad8b11b2ad5ee8a9868bf23ab1710758c883,Add 2023.2 Bobcat support,MERGED,2023-07-18 20:50:58.000000000,2023-07-27 21:30:11.000000000,2023-07-27 21:30:11.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a579f7423bd3ede090c8b49cd0b8f74f902f35ec', 'message': 'Add 2023.1 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n\nChange-Id: I9269ad8b11b2ad5ee8a9868bf23ab1710758c883\n'}, {'number': 2, 'created': '2023-07-20 15:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/05b50797cb6df733efe735fa33c4597d8e0a1999', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n\nChange-Id: I9269ad8b11b2ad5ee8a9868bf23ab1710758c883\n'}, {'number': 3, 'created': '2023-07-24 19:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/2b2127463c308c2ed97ae376ecb9836ee4218edd', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n* drop kinetic\n\nChange-Id: I9269ad8b11b2ad5ee8a9868bf23ab1710758c883\n'}, {'number': 4, 'created': '2023-07-24 21:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9cea2e690ebfbee35d4b490e306b13da55cbd7eb', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n* drop kinetic\n\nChange-Id: I9269ad8b11b2ad5ee8a9868bf23ab1710758c883\n'}, {'number': 5, 'created': '2023-07-25 20:43:15.000000000', 'files': ['src/config.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'unit_tests/test_lib_charm_openstack_aodh.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9aaf2d6f886407b2bc81864911c5385c3aa12986', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n* drop kinetic\n* patch charmhelpers.core.hookenv.is_subordinate due to new\n  release handlings in charms.openstack:\n  https://github.com/openstack/charms.openstack/commit/fd042afdf186ab419ee35ea9678735895c62b723\n\nChange-Id: I9269ad8b11b2ad5ee8a9868bf23ab1710758c883\n'}]",4,888817,9aaf2d6f886407b2bc81864911c5385c3aa12986,25,3,5,11805,,,0,"Add 2023.2 Bobcat support

* sync charm-helpers to classic charms
* change openstack-origin/source default to bobcat
* add mantic to metadata series
* align testing with bobcat
* add new bobcat bundles
* add bobcat bundles to tests.yaml
* add bobcat tests to osci.yaml
* update build-on and run-on bases
* drop kinetic
* patch charmhelpers.core.hookenv.is_subordinate due to new
  release handlings in charms.openstack:
  https://github.com/openstack/charms.openstack/commit/fd042afdf186ab419ee35ea9678735895c62b723

Change-Id: I9269ad8b11b2ad5ee8a9868bf23ab1710758c883
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/17/888817/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml']",6,a579f7423bd3ede090c8b49cd0b8f74f902f35ec,bobcat-support, - jammy-bobcat - mantic-bobcat - jammy-bobcat - mantic-bobcat,,369,1
openstack%2Fcharm-designate~master~I2836aadfe6b9a035c6838b144e3f65436e4c184e,openstack/charm-designate,master,I2836aadfe6b9a035c6838b144e3f65436e4c184e,Add docs key and point at Discourse,MERGED,2023-07-25 20:18:29.000000000,2023-07-27 21:27:14.000000000,2023-07-27 21:27:14.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 20:18:29.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/73a39d4c148a303df403a7be2099663d22c24a42', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I2836aadfe6b9a035c6838b144e3f65436e4c184e\n""}]",2,889656,73a39d4c148a303df403a7be2099663d22c24a42,9,3,1,30561,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I2836aadfe6b9a035c6838b144e3f65436e4c184e
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/56/889656/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,73a39d4c148a303df403a7be2099663d22c24a42,charmhub-pop,docs: https://discourse.charmhub.io/t/designate-docs-index/11220,,1,0
openstack%2Fcharm-ceilometer~master~I3cbd3c8f3a57be26a599b32973d319f3994377f2,openstack/charm-ceilometer,master,I3cbd3c8f3a57be26a599b32973d319f3994377f2,Add docs key and point at Discourse,MERGED,2023-07-25 20:14:08.000000000,2023-07-27 21:23:46.000000000,2023-07-27 21:23:46.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 20:14:08.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d8fd7492d89f130eea558d4c48d5f771b0b7c98f', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I3cbd3c8f3a57be26a599b32973d319f3994377f2\n""}]",2,889655,d8fd7492d89f130eea558d4c48d5f771b0b7c98f,10,3,1,30561,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I3cbd3c8f3a57be26a599b32973d319f3994377f2
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/55/889655/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,d8fd7492d89f130eea558d4c48d5f771b0b7c98f,charmhub-pop,docs: https://discourse.charmhub.io/t/ceilometer-docs-index/11219,,1,0
openstack%2Fcharm-cinder-ceph~stable%2Fyoga~I90d0a76e84dc1c05a2c0821abde04086694be482,openstack/charm-cinder-ceph,stable/yoga,I90d0a76e84dc1c05a2c0821abde04086694be482,Pin tox to < 4.0.0,MERGED,2023-01-13 20:02:45.000000000,2023-07-27 21:18:46.000000000,2023-07-27 21:18:46.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-13 20:02:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/dffe8773556d2b66c4a7c58c27dea1b7cddf9ec1', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: I90d0a76e84dc1c05a2c0821abde04086694be482\n""}]",12,870129,dffe8773556d2b66c4a7c58c27dea1b7cddf9ec1,29,3,1,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Related-Bug: #2002788
Change-Id: I90d0a76e84dc1c05a2c0821abde04086694be482
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/29/870129/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dffe8773556d2b66c4a7c58c27dea1b7cddf9ec1,pin-tox-yoga, tox < 4.0.0,,1,0
openstack%2Fos-brick~master~I0292a30f402e5acddd8bbc31dfaef12ce24bf0b9,openstack/os-brick,master,I0292a30f402e5acddd8bbc31dfaef12ce24bf0b9,WIP Dell PowerFlex password appears in plain text when creating a volume from an image,NEW,2023-06-15 18:33:31.000000000,2023-07-27 20:29:51.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-06-15 18:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/27976e0fd5fef0f2a7abd56f8eb8678fc791224d', 'message': 'WIP Dell PowerFlex password appears in plain text when creating a volume from an image\n\nThis patch fixes the issue of password getting writen in plain text in logs\nwhile creating a new volume. It created a new logger with defualt log level\nat error.\n\nCloses-Bug: #2003179\nChange-Id: I0292a30f402e5acddd8bbc31dfaef12ce24bf0b9\n'}, {'number': 2, 'created': '2023-06-19 17:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2a276c68017d3a154938cf7da855cbc8c23081d5', 'message': 'WIP Dell PowerFlex password appears in plain text when creating a volume from an image\n\nThis patch fixes the issue of password getting writen in plain text in logs\nwhile creating a new volume. It created a new logger with defualt log level\nat error.\n\nCloses-Bug: #2003179\nChange-Id: I0292a30f402e5acddd8bbc31dfaef12ce24bf0b9\n'}, {'number': 3, 'created': '2023-07-26 17:22:07.000000000', 'files': ['releasenotes/notes/bug-2003179-44a6c90dd17c88f7.yaml', 'os_brick/__init__.py', 'os_brick/privileged/__init__.py', 'os_brick/privileged/scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7ee2205370c3733a4a58e4647609b4bc5f592bd1', 'message': 'WIP Dell PowerFlex password appears in plain text when creating a volume\nfrom an image\n\nThis patch fixes the issue of password getting writen in plain text in\nlogs while creating a new volume. It created a new logger with defualt\nlog level at error.\n\nCloses-Bug: #2003179\nChange-Id: I0292a30f402e5acddd8bbc31dfaef12ce24bf0b9\n'}]",11,885979,7ee2205370c3733a4a58e4647609b4bc5f592bd1,40,5,3,35063,,,0,"WIP Dell PowerFlex password appears in plain text when creating a volume
from an image

This patch fixes the issue of password getting writen in plain text in
logs while creating a new volume. It created a new logger with defualt
log level at error.

Closes-Bug: #2003179
Change-Id: I0292a30f402e5acddd8bbc31dfaef12ce24bf0b9
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/79/885979/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2003179-44a6c90dd17c88f7.yaml', 'os_brick/__init__.py', 'os_brick/privileged/__init__.py', 'os_brick/privileged/scaleio.py']",4,27976e0fd5fef0f2a7abd56f8eb8678fc791224d,bug/2003179,@privileged.brick_privsep_hide_output.entrypoint,@privileged.default.entrypoint,18,1
openstack%2Fhorizon~stable%2Fyoga~I41ec39ea5fe871a2f77000bd36cbeb080b47fc1d,openstack/horizon,stable/yoga,I41ec39ea5fe871a2f77000bd36cbeb080b47fc1d,Dropping lower constraints testing from stable branches,MERGED,2023-07-27 05:40:31.000000000,2023-07-27 19:12:09.000000000,2023-07-27 19:10:10.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-07-27 05:40:31.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1ac450059d63ca2a47bb947b9446b810ed7089c7', 'message': 'Dropping lower constraints testing from stable branches\n\nThis topic was discussed on the ML and QA team proposed to test\nlower constraints [1]. As decided in horizon weekly meeting in\nthe past[2], stable branches will drop the lower-constraints job from CI.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]https://meetings.opendev.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-03-24.log.html#t2021-03-24T15:12:58\n\nChange-Id: I41ec39ea5fe871a2f77000bd36cbeb080b47fc1d\n'}]",3,889793,1ac450059d63ca2a47bb947b9446b810ed7089c7,13,2,1,29313,,,0,"Dropping lower constraints testing from stable branches

This topic was discussed on the ML and QA team proposed to test
lower constraints [1]. As decided in horizon weekly meeting in
the past[2], stable branches will drop the lower-constraints job from CI.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]https://meetings.opendev.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-03-24.log.html#t2021-03-24T15:12:58

Change-Id: I41ec39ea5fe871a2f77000bd36cbeb080b47fc1d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/889793/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt']",2,1ac450059d63ca2a47bb947b9446b810ed7089c7,,,alabaster==0.7.10 amqp==2.1.1 appdirs==1.4.0 asn1crypto==0.23.0 Babel==2.6.0 cachetools==2.0.0 cffi==1.14.0 chardet==3.0.4 cliff==2.8.0 cmd2==0.8.0 colorama==0.3.9 contextlib2==0.4.0 coverage==4.0 cryptography==3.0 debtcollector==1.2.0 decorator==4.4.2 deprecation==1.0 Django==3.2 django-appconf==1.0.5 django-compressor==2.4.1 django-debreach==1.4.2 django-pyscss==2.0.2 docutils==0.11 dogpile.cache==0.6.2 dulwich==0.15.0 enmerkar==0.7.1 eventlet==0.18.2 extras==1.0.0 fasteners==0.7.0 fixtures==3.0.0 freezegun==0.3.15 futurist==1.2.0 greenlet==0.4.10 idna==2.6 imagesize==0.7.1 iso8601==0.1.11 Jinja2==2.10 jmespath==0.9.0 jsonpatch==1.16 jsonpointer==1.13 jsonschema==2.6.0 keystoneauth1==4.3.1 kombu==4.0.0 linecache2==1.0.0 MarkupSafe==1.0 mccabe==0.6.0 monotonic==0.6 msgpack-python==0.4.0 munch==2.1.0 netaddr==0.7.18 netifaces==0.10.4 nodeenv==0.9.4 openstacksdk==0.11.2 os-client-config==1.28.0 os-service-types==1.2.0 osc-lib==1.8.0 oslo.concurrency==4.5.0 oslo.config==8.8.0 oslo.context==4.1.0 oslo.i18n==5.1.0 oslo.log==4.7.0 oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.policy==3.11.0 oslo.serialization==4.3.0 oslo.service==1.24.0 oslo.upgradecheck==1.5.0 oslo.utils==4.12.0 osprofiler==3.4.2 Paste==2.0.2 PasteDeploy==1.5.0 pbr==5.5.0 pep8==1.5.7 pika==0.10.0 pika-pool==0.1.3 positional==1.2.1 prettytable==0.7.2 pycodestyle==2.5.0 pycparser==2.18 Pygments==2.2.0 pyinotify==0.9.6 pymongo==3.0.2 pyOpenSSL==19.1.0 pyparsing==2.1.0 pyperclip==1.5.27 pyScss==1.3.7 pytest==5.3.5 pytest-django==3.8.0 pytest-html==2.0.1 python-cinderclient==8.0.0 python-dateutil==2.8.1 python-glanceclient==2.8.0 python-keystoneclient==3.22.0 python-memcached==1.59 python-mimeparse==1.6.0 python-neutronclient==6.7.0 python-novaclient==9.1.0 python-swiftclient==3.2.0 pytz==2013.6 PyYAML==6.0 rcssmin==1.0.6 reno==3.1.0 repoze.lru==0.7 requests==2.25.1 requestsexceptions==1.2.0 restructuredtext-lint==1.1.1 rfc3986==1.5.0 rjsmin==1.1.0 Routes==2.3.1 selenium==2.50.1 semantic-version==2.3.1 simplejson==3.5.1 six==1.16.0 snowballstemmer==1.2.1 statsd==3.2.1 stevedore==3.3.0 tenacity==3.2.1 termcolor==1.1.0 testscenarios==0.4 testtools==2.2.0 traceback2==1.4.0 unittest2==1.1.0 vine==1.1.4 warlock==1.2.0 WebOb==1.7.1 wrapt==1.11 XStatic==1.0.0 XStatic-Angular==1.5.8.0 XStatic-Angular-Bootstrap==2.2.0.0 XStatic-Angular-FileUpload==12.0.4.0 XStatic-Angular-Gettext==2.3.8.0 XStatic-Angular-lrdragndrop==1.0.2.2 XStatic-Angular-Schema-Form==0.8.13.0 XStatic-Bootstrap-Datepicker==1.3.1.0 XStatic-Bootstrap-SCSS==3.3.7.1 XStatic-bootswatch==3.3.7.0 XStatic-D3==3.5.17.0 XStatic-Font-Awesome==4.7.0.0 XStatic-Hogan==2.0.0.2 XStatic-Jasmine==2.4.1.1 XStatic-jQuery==1.12.4.1 XStatic-JQuery-Migrate==1.2.1.1 XStatic-jquery-ui==1.12.1.1 XStatic-JQuery.quicksearch==2.0.3.1 XStatic-JQuery.TableSorter==2.14.5.1 XStatic-JSEncrypt==2.3.1.1 XStatic-mdi==1.6.50.2 XStatic-objectpath==1.2.1.0 XStatic-Rickshaw==1.5.0.0 XStatic-roboto-fontface==0.5.0.0 XStatic-smart-table==1.4.13.2 XStatic-Spin==1.2.5.2 XStatic-term.js==0.0.7.0 XStatic-tv4==1.2.7.0 xvfbwrapper==0.1.3 ,0,156
openstack%2Fcinder~master~I01382d3370a1fc7aeae5ec25d385ae888d8f8087,openstack/cinder,master,I01382d3370a1fc7aeae5ec25d385ae888d8f8087,[NetApp] Fix QoS policy cleanup,NEW,2022-08-17 10:40:20.000000000,2023-07-27 19:09:35.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33648}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-08-17 10:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72094231f4d998257a84d4ee108bb0a438874715', 'message': 'WIP: [NetApp] Fix QoS policy cleanup\n\nThe NetApp drivers (iSCSI, NFS and FCP) were not forcing the QoS policy\ndeletion, waiting for storage workload cleanup, which takes some time.\nAs result, not used policies accumulate it might cause some failures\nwith storage QoS policy limit.\n\nThis patch add `force` flag during QoS policy cleanup, deleting it even\nif a workload still exist.\n\nChange-Id: I01382d3370a1fc7aeae5ec25d385ae888d8f8087\ncloses-bug: #1986658\n'}, {'number': 2, 'created': '2022-08-17 23:01:06.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/netapp-ontap-fix-qos-cleanup-ffa48525c40988cb.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bae27f08f9090da5c4f9d86e28d7f3986fa04da', 'message': '[NetApp] Fix QoS policy cleanup\n\nThe NetApp drivers (iSCSI, NFS and FCP) were not forcing the QoS policy\ndeletion, waiting for storage workload cleanup, which takes some time.\nAs result, not used policies accumulate it might cause some failures\nwith storage QoS policy limit.\n\nThis patch adds the `force` flag during QoS policy cleanup, deleting it\neven if a workload still exists.\n\ncloses-bug: #1986658\nChange-Id: I01382d3370a1fc7aeae5ec25d385ae888d8f8087\n'}]",7,853450,4bae27f08f9090da5c4f9d86e28d7f3986fa04da,45,5,2,31721,,,0,"[NetApp] Fix QoS policy cleanup

The NetApp drivers (iSCSI, NFS and FCP) were not forcing the QoS policy
deletion, waiting for storage workload cleanup, which takes some time.
As result, not used policies accumulate it might cause some failures
with storage QoS policy limit.

This patch adds the `force` flag during QoS policy cleanup, deleting it
even if a workload still exists.

closes-bug: #1986658
Change-Id: I01382d3370a1fc7aeae5ec25d385ae888d8f8087
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/853450/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/netapp-ontap-fix-qos-cleanup-ffa48525c40988cb.yaml']",2,72094231f4d998257a84d4ee108bb0a438874715,bug/1986658,--- fixes: - | NetApp ONTAP driver `bug #1866860 <https://bugs.launchpad.net/cinder/+bug/1986658>`_: fixed QoS policy cleanup by forcing its deletion. ,,38,12
openstack%2Fcinder~master~I26c8aedf346868a6f8870b7febabc252bce3ff8b,openstack/cinder,master,I26c8aedf346868a6f8870b7febabc252bce3ff8b,Register all auth options when deleting encryption key,NEW,2021-10-08 13:30:17.000000000,2023-07-27 18:02:47.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33648}, {'_account_id': 35075}]","[{'number': 1, 'created': '2021-10-08 13:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06c6fd636252c883846fcaf818e4b6fc7060a5c8', 'message': 'Register all auth options when deleting encryption key\n\nkeystoneauth loading register conf options only registers basic conf\noptions for all auth plugins - auth_type and auth_section.\n\nIn order for options to be registered for specific auth plugin (password\nin this case), it must be explicitly accessed / loaded first.\n\nCloses-Bug: #1946483\nChange-Id: I26c8aedf346868a6f8870b7febabc252bce3ff8b\n'}, {'number': 2, 'created': '2021-10-18 13:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a68eefdb67ec41ce1f8ac38619f2bf1afa9a13ea', 'message': 'Register all auth options when deleting encryption key\n\nkeystoneauth loading register conf options only registers basic conf\noptions for all auth plugins - auth_type and auth_section.\n\nIn order for options to be registered for specific auth plugin (password\nin this case), it must be explicitly accessed / loaded first.\n\nCloses-Bug: #1946483\nChange-Id: I26c8aedf346868a6f8870b7febabc252bce3ff8b\n'}, {'number': 3, 'created': '2023-03-23 15:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35c89a121a0eacb5218ebdd289a9dd9ca0e97e58', 'message': 'Register all auth options when deleting encryption key\n\nkeystoneauth loading register conf options only registers basic conf\noptions for all auth plugins - auth_type and auth_section.\n\nIn order for options to be registered for specific auth plugin (password\nin this case), it must be explicitly accessed / loaded first.\n\nCloses-Bug: #1946483\nChange-Id: I26c8aedf346868a6f8870b7febabc252bce3ff8b\n'}, {'number': 4, 'created': '2023-07-21 15:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c9dace97298f3e7c928e56f148cebe720f4aee2', 'message': 'Register all auth options when deleting encryption key\n\nkeystoneauth loading register conf options only registers basic conf\noptions for all auth plugins - auth_type and auth_section.\n\nIn order for options to be registered for specific auth plugin (password\nin this case), it must be explicitly accessed / loaded first.\n\nCloses-Bug: #1946483\nChange-Id: I26c8aedf346868a6f8870b7febabc252bce3ff8b\n'}, {'number': 5, 'created': '2023-07-23 18:18:08.000000000', 'files': ['cinder/volume/volume_utils.py', 'releasenotes/notes/bug-1946483-cryptic-error-in-backup-fe03939577867e0a.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9feee2e87b7a81da776f35d2b2454c08b0634280', 'message': 'Register all auth options when deleting encryption key\n\nkeystoneauth loading register conf options only registers basic conf\noptions for all auth plugins - auth_type and auth_section.\n\nIn order for options to be registered for specific auth plugin (password\nin this case), it must be explicitly accessed / loaded first.\n\nCloses-Bug: #1946483\nChange-Id: I26c8aedf346868a6f8870b7febabc252bce3ff8b\n'}]",16,813191,9feee2e87b7a81da776f35d2b2454c08b0634280,138,8,5,9542,,,0,"Register all auth options when deleting encryption key

keystoneauth loading register conf options only registers basic conf
options for all auth plugins - auth_type and auth_section.

In order for options to be registered for specific auth plugin (password
in this case), it must be explicitly accessed / loaded first.

Closes-Bug: #1946483
Change-Id: I26c8aedf346868a6f8870b7febabc252bce3ff8b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/813191/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/volume_utils.py'],1,06c6fd636252c883846fcaf818e4b6fc7060a5c8,bug/1946483," # NOTE(pas-ha) this will actually register conf options for the # specified auth_type ks_loading.load_auth_from_conf_options(conf, 'keystone_authtoken')",,3,0
openstack%2Frequirements~master~I6331b964f2fa8145ca97bcda0534e8cacfcf24dc,openstack/requirements,master,I6331b964f2fa8145ca97bcda0534e8cacfcf24dc,Remove Capping for Xstatic-jQuery,MERGED,2023-07-27 05:22:34.000000000,2023-07-27 17:44:59.000000000,2023-07-27 17:44:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-27 05:22:34.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a800e1446a29012861cebc8f9b6519c343986ab3', 'message': ""Remove Capping for Xstatic-jQuery\n\nThis patch remove capping for xstatic-jQuery.\nCapping for xstatic-jQuery added in the past\nbecuase with jQuery 3.x version horizon is not\ncompatiable but now horizon is working fine with\njQuery 3.x. So let's remove this capping.\n\nChange-Id: I6331b964f2fa8145ca97bcda0534e8cacfcf24dc\n""}]",0,889792,a800e1446a29012861cebc8f9b6519c343986ab3,7,2,1,29313,,,0,"Remove Capping for Xstatic-jQuery

This patch remove capping for xstatic-jQuery.
Capping for xstatic-jQuery added in the past
becuase with jQuery 3.x version horizon is not
compatiable but now horizon is working fine with
jQuery 3.x. So let's remove this capping.

Change-Id: I6331b964f2fa8145ca97bcda0534e8cacfcf24dc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/889792/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,a800e1446a29012861cebc8f9b6519c343986ab3,,XStatic-jQuery # MIT License,XStatic-jQuery<3.6 # MIT License,1,1
openstack%2Fbifrost~master~Ia13b031b86585e6290d3703896638e899d5efe27,openstack/bifrost,master,Ia13b031b86585e6290d3703896638e899d5efe27,Use Launchpad for bug reports,MERGED,2023-07-19 13:15:38.000000000,2023-07-27 17:34:23.000000000,2023-07-27 17:33:25.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 13:15:38.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'playbooks/roles/bifrost-ironic-install/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1b77766a513800a81d2b12c37d6049d0e95462d6', 'message': 'Use Launchpad for bug reports\n\nChange-Id: Ia13b031b86585e6290d3703896638e899d5efe27\n'}]",0,888925,1b77766a513800a81d2b12c37d6049d0e95462d6,8,3,1,23851,,,0,"Use Launchpad for bug reports

Change-Id: Ia13b031b86585e6290d3703896638e899d5efe27
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/25/888925/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'playbooks/roles/bifrost-ironic-install/README.md']",3,1b77766a513800a81d2b12c37d6049d0e95462d6,use-launchpad,by filing a bug in launchpad. Bifrost's launchpad project is located at: https://launchpad.net/bifrost,by filing a bug in Storyboard. Bifrost's storyboard project is located at: https://storyboard.openstack.org/#!/project/941,7,7
openstack%2Fironic~master~I741a4173f1d150298008d3190e4c3998402a8b86,openstack/ironic,master,I741a4173f1d150298008d3190e4c3998402a8b86,Enable vendor interfaces to be called as steps,MERGED,2023-03-30 22:07:36.000000000,2023-07-27 17:20:46.000000000,2023-07-27 17:19:09.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-30 22:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7c0d2a1e254a779844fcf6e748440f0820d9996', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 2, 'created': '2023-05-19 19:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b0c8e051aac064020a59c01e85a10a7e85cdd22', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 3, 'created': '2023-05-24 15:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47ae16a9562d966ffbc137b021de2049bbff5999', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 4, 'created': '2023-05-25 14:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aaa6d9b53c27f446ec4474b8890c23071e483c3c', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 5, 'created': '2023-06-30 21:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41c5bdf9131dc4f9b14bf85c009b1ff6ef82b650', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 6, 'created': '2023-07-10 21:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4540654891daeeb6710c78a9c4b6713dd46b891', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 7, 'created': '2023-07-12 19:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5211986779dcf3660e5cf52c5235884a55bdba9b', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 8, 'created': '2023-07-13 14:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb26e51086862e528d4a67c8e55abcbe5be3cade', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}, {'number': 9, 'created': '2023-07-13 14:41:02.000000000', 'files': ['doc/source/contributor/deploy-steps.rst', 'releasenotes/notes/vendor-interface-step-decorated-a673f608c5f5721a.yaml', 'ironic/tests/unit/conductor/test_steps.py', 'ironic/conductor/steps.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/fake.py', 'doc/source/admin/drivers/ipmitool.rst', 'ironic/conductor/cleaning.py', 'ironic/conductor/deployments.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/76c075269de50001c429e470d0b19b0bd9be71c2', 'message': 'Enable vendor interfaces to be called as steps\n\nAdds the logic and testing to handle vendor interfaces to be able\nto be called as steps, as well as adds the ipmitool send_raw\nvendor passthru  method to be able to be called as a step.\n\nChange-Id: I741a4173f1d150298008d3190e4c3998402a8b86\n'}]",8,879089,76c075269de50001c429e470d0b19b0bd9be71c2,51,3,9,11655,,,0,"Enable vendor interfaces to be called as steps

Adds the logic and testing to handle vendor interfaces to be able
to be called as steps, as well as adds the ipmitool send_raw
vendor passthru  method to be able to be called as a step.

Change-Id: I741a4173f1d150298008d3190e4c3998402a8b86
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/879089/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_steps.py', 'releasenotes/notes/vendor-interface-step-decorated-a673f608c5f5721a.yaml', 'ironic/conductor/steps.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/fake.py', 'doc/source/admin/drivers/ipmitool.rst', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",7,f7c0d2a1e254a779844fcf6e748440f0820d9996,sleep_step," def test_send_raw_bytes_is_in_step_list(self): with task_manager.acquire(self.context, self.node.uuid) as task: steps = task.driver.vendor.get_clean_steps(task) self.assertEqual('send_raw', steps[0]['step']) self.assertEqual('vendor', steps[0]['interface']) self.assertIn('raw_bytes', steps[0]['argsinfo']) steps = task.driver.vendor.get_deploy_steps(task) self.assertEqual('send_raw', steps[0]['step']) self.assertEqual('vendor', steps[0]['interface']) self.assertIn('raw_bytes', steps[0]['argsinfo']) ",,78,3
openstack%2Fpuppet-ceph~master~I348838c5ca736056dac00c2a0b1ab5063d4d9289,openstack/puppet-ceph,master,I348838c5ca736056dac00c2a0b1ab5063d4d9289,Ensure absolute path for file creation,MERGED,2023-07-21 05:57:51.000000000,2023-07-27 17:16:28.000000000,2023-07-27 17:16:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 05:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7280aef91cc753a7fe40d8b5f46e031d5a2ac58c', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}, {'number': 2, 'created': '2023-07-21 07:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/75251b36058efa0fa9e35b54adc88ed23df3482b', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}, {'number': 3, 'created': '2023-07-21 08:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e3b856d972a2315a1a57bbff03221d5f67c1018e', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}, {'number': 4, 'created': '2023-07-21 08:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4a4db0617d94ae3b5de26693fc2cd16089fe2837', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}, {'number': 5, 'created': '2023-07-22 14:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f2dd035f3b8da8913a8da2ab9304b199d2c4c148', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}, {'number': 6, 'created': '2023-07-22 15:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f38387ad8940a27ea66a7d0aa19f6d205189c161', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}, {'number': 7, 'created': '2023-07-22 17:15:40.000000000', 'files': ['manifests/mds.pp', 'manifests/rgw.pp', 'manifests/key.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e746c9e412770785d708e3763843cb4bde2bde23', 'message': 'Ensure absolute path for file creation\n\nThere are a few parameters used as a file path when creating files.\nThese should be absolute path, otherwise file resources fail.\n\nThis adds validation at parameter layer to avoid exposing internal\nerrors.\n\nChange-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289\n'}]",1,889149,e746c9e412770785d708e3763843cb4bde2bde23,22,3,7,9816,,,0,"Ensure absolute path for file creation

There are a few parameters used as a file path when creating files.
These should be absolute path, otherwise file resources fail.

This adds validation at parameter layer to avoid exposing internal
errors.

Change-Id: I348838c5ca736056dac00c2a0b1ab5063d4d9289
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/49/889149/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/mds.pp', 'manifests/rgw.pp', 'manifests/mon.pp', 'manifests/key.pp']",4,7280aef91cc753a7fe40d8b5f46e031d5a2ac58c,," Stdlib::Absolutepath $keyring_path = ""/etc/ceph/ceph.${name}.keyring"","," $keyring_path = ""/etc/ceph/ceph.${name}.keyring"",",31,31
openstack%2Fpuppet-openstack-integration~stable%2F2023.1~I2588337c013068174f10e4d39092450debece07b,openstack/puppet-openstack-integration,stable/2023.1,I2588337c013068174f10e4d39092450debece07b,Test deployment with modular libvirt daemons,MERGED,2023-07-27 13:14:04.000000000,2023-07-27 16:41:55.000000000,2023-07-27 16:41:55.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-27 13:14:04.000000000', 'files': ['fixtures/scenario005.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4e9926df1d2c172c20b6ae9c06ed8c85a535c8f3', 'message': 'Test deployment with modular libvirt daemons\n\nThis enables modular libvirt daemons in CentOS so that we can test\nboth monolithic libvirt and modular libvirt in our CI jobs.\n\nDepends-on: https://review.opendev.org/878193\nChange-Id: I2588337c013068174f10e4d39092450debece07b\n(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)\n'}]",2,889860,4e9926df1d2c172c20b6ae9c06ed8c85a535c8f3,8,3,1,31068,,,0,"Test deployment with modular libvirt daemons

This enables modular libvirt daemons in CentOS so that we can test
both monolithic libvirt and modular libvirt in our CI jobs.

Depends-on: https://review.opendev.org/878193
Change-Id: I2588337c013068174f10e4d39092450debece07b
(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/60/889860/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario005.pp', 'manifests/nova.pp']",2,4e9926df1d2c172c20b6ae9c06ed8c85a535c8f3,,"# [*modular_libvirt*] # (optional) Use modular libvirt daemons instead of the monolithic libvirtd # deamon # Defaults to false # $modular_libvirt = false, transport => $migration_transport, listen_address => $::openstack_integration::config::host, modular_libvirt => $modular_libvirt, virt_type => $libvirt_virt_type, cpu_mode => $libvirt_cpu_mode, images_type => $images_type, manage_libvirt_services => false, } class { 'nova::compute::libvirt::services': modular_libvirt => $modular_libvirt,"," transport => $migration_transport, listen_address => $::openstack_integration::config::host, virt_type => $libvirt_virt_type, cpu_mode => $libvirt_cpu_mode, images_type => $images_type,",20,6
openstack%2Foctavia~master~Ifb1490c7da28941ed493cd249e582e24cd52277f,openstack/octavia,master,Ifb1490c7da28941ed493cd249e582e24cd52277f,WIP Direct Server Return implementation,NEW,2023-02-06 06:38:25.000000000,2023-07-27 16:31:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-06 06:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35866921c3f6649b0e8be44dbe577e5d4ee0197e', 'message': 'WIP Direct Server Return implementation\n\nChange-Id: Ifb1490c7da28941ed493cd249e582e24cd52277f\n'}, {'number': 2, 'created': '2023-07-27 13:27:02.000000000', 'files': ['octavia/api/v2/types/listener.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/common/constants.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/network/drivers/neutron/base.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/controller/worker/v2/flows/listener_flows.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b014db1287ee56984fef0e5cf3da188856d39177', 'message': 'WIP Direct Server Return implementation\n\nRequirements for the LB:\n- same network/subnet for the VIP and the members\n- stateless SG on the VIP port\n- same port number for the listener and the backend members\n\nRequirements for the members:\n- AAP with the VIP address\n- VIP as an anycast address (ex: ip addr add <vip>/32 dev lo)\n- echo 1 > /proc/sys/net/ipv4/conf/eth0/arp_ignore\n- echo 2 > /proc/sys/net/ipv4/conf/eth0/arp_announce\n\nTODO: add constants to octavia-lib\n\nChange-Id: Ifb1490c7da28941ed493cd249e582e24cd52277f\n'}]",3,872729,b014db1287ee56984fef0e5cf3da188856d39177,4,1,2,29244,,,0,"WIP Direct Server Return implementation

Requirements for the LB:
- same network/subnet for the VIP and the members
- stateless SG on the VIP port
- same port number for the listener and the backend members

Requirements for the members:
- AAP with the VIP address
- VIP as an anycast address (ex: ip addr add <vip>/32 dev lo)
- echo 1 > /proc/sys/net/ipv4/conf/eth0/arp_ignore
- echo 2 > /proc/sys/net/ipv4/conf/eth0/arp_announce

TODO: add constants to octavia-lib

Change-Id: Ifb1490c7da28941ed493cd249e582e24cd52277f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/872729/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/types/listener.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/common/constants.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/network/drivers/neutron/base.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/controller/worker/v2/flows/listener_flows.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",15,35866921c3f6649b0e8be44dbe577e5d4ee0197e,dsr," "" lvs_method NAT\n"" "" lvs_method NAT\n"" "" lvs_method NAT\n"" "" lvs_method NAT\n"""," "" lb_kind NAT\n"" "" lb_kind NAT\n"" "" lb_kind NAT\n"" "" lb_kind NAT\n""",126,31
openstack%2Foctavia-dashboard~stable%2Fussuri~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/ussuri,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:17:24.000000000,2023-07-27 16:06:07.000000000,2023-07-27 16:05:05.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:17:24.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/639842181f143f0265ac6c7f470fdbbf3365edd6', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)\n(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)\n(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)\n(cherry picked from commit 2bca0ed072bf16833007acc45d3c1c359e894b03)\n(cherry picked from commit 4f7942ce32721009b8675b8994cd0ecff14afb9c)\n'}]",2,889303,639842181f143f0265ac6c7f470fdbbf3365edd6,12,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)
(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)
(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)
(cherry picked from commit 2bca0ed072bf16833007acc45d3c1c359e894b03)
(cherry picked from commit 4f7942ce32721009b8675b8994cd0ecff14afb9c)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/03/889303/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,639842181f143f0265ac6c7f470fdbbf3365edd6,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2Fxena~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/xena,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:15:49.000000000,2023-07-27 15:43:15.000000000,2023-07-27 15:42:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:15:49.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/3eae62925e4aadfb70c7ff2d4a7d0970a6df1906', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)\n(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)\n'}]",2,889300,3eae62925e4aadfb70c7ff2d4a7d0970a6df1906,10,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)
(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/00/889300/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,3eae62925e4aadfb70c7ff2d4a7d0970a6df1906,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2Ftrain~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/train,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:17:34.000000000,2023-07-27 15:42:54.000000000,2023-07-27 15:41:46.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:17:34.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2cce98b2080c156ca929aa1ac2a20449ef61924c', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)\n(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)\n(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)\n(cherry picked from commit 2bca0ed072bf16833007acc45d3c1c359e894b03)\n(cherry picked from commit 4f7942ce32721009b8675b8994cd0ecff14afb9c)\n(cherry picked from commit 639842181f143f0265ac6c7f470fdbbf3365edd6)\n'}]",2,889304,2cce98b2080c156ca929aa1ac2a20449ef61924c,10,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)
(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)
(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)
(cherry picked from commit 2bca0ed072bf16833007acc45d3c1c359e894b03)
(cherry picked from commit 4f7942ce32721009b8675b8994cd0ecff14afb9c)
(cherry picked from commit 639842181f143f0265ac6c7f470fdbbf3365edd6)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/04/889304/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,2cce98b2080c156ca929aa1ac2a20449ef61924c,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2Fvictoria~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/victoria,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:16:59.000000000,2023-07-27 15:39:38.000000000,2023-07-27 15:38:29.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:16:59.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/4f7942ce32721009b8675b8994cd0ecff14afb9c', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)\n(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)\n(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)\n(cherry picked from commit 2bca0ed072bf16833007acc45d3c1c359e894b03)\n'}]",3,889302,4f7942ce32721009b8675b8994cd0ecff14afb9c,12,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)
(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)
(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)
(cherry picked from commit 2bca0ed072bf16833007acc45d3c1c359e894b03)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/02/889302/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,4f7942ce32721009b8675b8994cd0ecff14afb9c,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2Fwallaby~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/wallaby,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:16:14.000000000,2023-07-27 15:36:05.000000000,2023-07-27 15:34:58.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:16:14.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2bca0ed072bf16833007acc45d3c1c359e894b03', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)\n(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)\n(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)\n'}]",2,889301,2bca0ed072bf16833007acc45d3c1c359e894b03,10,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)
(cherry picked from commit b7785d206e50634b9d6f72b10433b0654470eef6)
(cherry picked from commit 3eae62925e4aadfb70c7ff2d4a7d0970a6df1906)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/01/889301/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,2bca0ed072bf16833007acc45d3c1c359e894b03,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2Fyoga~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/yoga,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:15:09.000000000,2023-07-27 15:36:02.000000000,2023-07-27 15:34:57.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:15:09.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/b7785d206e50634b9d6f72b10433b0654470eef6', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)\n'}]",2,889299,b7785d206e50634b9d6f72b10433b0654470eef6,10,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
(cherry picked from commit bd1a329b46d18baa42a9ba48d8031549a97a7bf2)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/99/889299/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,b7785d206e50634b9d6f72b10433b0654470eef6,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2Fzed~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/zed,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:14:59.000000000,2023-07-27 15:26:01.000000000,2023-07-27 15:24:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:14:59.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/bd1a329b46d18baa42a9ba48d8031549a97a7bf2', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)\n'}]",1,889298,bd1a329b46d18baa42a9ba48d8031549a97a7bf2,8,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
(cherry picked from commit 6f990e09e7681bd63b784dad40e8def794fceb71)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/98/889298/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,bd1a329b46d18baa42a9ba48d8031549a97a7bf2,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Foctavia-dashboard~stable%2F2023.1~Idb009295495c1d8c732e792a72d58912e0e8d3a7,openstack/octavia-dashboard,stable/2023.1,Idb009295495c1d8c732e792a72d58912e0e8d3a7,Fix popover attributes in member add dialog,MERGED,2023-07-24 10:14:45.000000000,2023-07-27 15:24:59.000000000,2023-07-27 15:23:45.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-24 10:14:45.000000000', 'files': ['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6f990e09e7681bd63b784dad40e8def794fceb71', 'message': 'Fix popover attributes in member add dialog\n\nUsing popovers in the member table is broken in chrome 114, because of\ntheir new ""popover"" feature.\n\nCloses-Bug: #2024188\nChange-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7\n(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)\n'}]",1,889297,6f990e09e7681bd63b784dad40e8def794fceb71,8,3,1,29244,,,0,"Fix popover attributes in member add dialog

Using popovers in the member table is broken in chrome 114, because of
their new ""popover"" feature.

Closes-Bug: #2024188
Change-Id: Idb009295495c1d8c732e792a72d58912e0e8d3a7
(cherry picked from commit 9cc4bfac58b901b32c58d36ffab3585645f79be5)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/97/889297/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-chrome-member-dialog-154981a7794d5fb4.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",2,6f990e09e7681bd63b784dad40e8def794fceb71,," uib-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> uib-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">"," ng-attr-popover=""{$ memberDetailsForm[row.id + '-address'].$invalid && memberDetailsForm[row.id + '-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-port'].$invalid && memberDetailsForm[row.id + '-port'].$dirty ? ctrl.portError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-weight'].$invalid && memberDetailsForm[row.id + '-weight'].$dirty ? ctrl.weightError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-address'].$invalid && memberDetailsForm[row.id + '-monitor-address'].$dirty ? ctrl.ipError : '' $}""> ng-attr-popover=""{$ memberDetailsForm[row.id + '-monitor-port'].$invalid && memberDetailsForm[row.id + '-monitor-port'].$dirty ? ctrl.portError : '' $}"">",11,5
openstack%2Fcharm-ceph-radosgw~stable%2Fpacific~I63697f594ebcdfd10e2dc1315360b2d28fc48846,openstack/charm-ceph-radosgw,stable/pacific,I63697f594ebcdfd10e2dc1315360b2d28fc48846,Sync charms.ceph helpers (pacific),MERGED,2023-07-26 21:28:07.000000000,2023-07-27 14:08:47.000000000,2023-07-27 14:08:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-07-26 21:28:07.000000000', 'files': ['lib/charms_ceph/utils.py', 'lib/charms_ceph/broker.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/229cf2498ce1893f806e82dc16a67dbc6fa69ada', 'message': ""Sync charms.ceph helpers (pacific)\n\ncurrently ceph-radosgw can't upgrade from victoria to wallaby\nbecause UCA_CODENAME_MAP is missing wallaby.\n\nChange-Id: I63697f594ebcdfd10e2dc1315360b2d28fc48846\n""}]",1,889782,229cf2498ce1893f806e82dc16a67dbc6fa69ada,7,3,1,33536,,,0,"Sync charms.ceph helpers (pacific)

currently ceph-radosgw can't upgrade from victoria to wallaby
because UCA_CODENAME_MAP is missing wallaby.

Change-Id: I63697f594ebcdfd10e2dc1315360b2d28fc48846
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/82/889782/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms_ceph/utils.py', 'lib/charms_ceph/broker.py']",2,229cf2498ce1893f806e82dc16a67dbc6fa69ada,ceph-sync," return ['mon', ('allow r, allow command ""osd blacklist""' ', allow command ""osd blocklist""'),"," return ['mon', 'allow r, allow command ""osd blacklist""',",14,11
openstack%2Frally-openstack~master~Id01c10796bb307c2696214dc9b3217242a9199dc,openstack/rally-openstack,master,Id01c10796bb307c2696214dc9b3217242a9199dc,Bring back tempita to u-c,MERGED,2023-07-03 17:25:58.000000000,2023-07-27 13:52:57.000000000,2023-07-27 13:52:57.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-03 17:25:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8e8f6b23900f19a028ed8251e3653eaefb65627f', 'message': ""Bring back tempita to u-c\n\nTempita pip package is broken and not maintained since 2013[1].\nBecause it uses 'use_2to3' command in all versions[2] which is\ndeprecated since setuptools>58[3], it is not impossible to build this\npackage from source.\nThe only installation method that still works is wheel, but PyPI\ndoes not store wheels for development versions(0.5.3dev in our case).\n\nSo if user runs `pip install` with '--pre' attribute and tempita is not\nconstrained to 0.5.2, then pip attempts to install 0.5.3dev that does\nnot have wheel stored in PyPI and the install command fails because\nbuilding this package from source does not work.\n\nOpenstack-Ansbile project is affected by this issue.\n\n[1] https://pypi.org/project/Tempita/#history\n[2] https://github.com/agramfort/tempita/blob/master/setup.py#L53\n[3] https://setuptools.pypa.io/en/latest/history.html#v58-0-0\n\nChange-Id: Id01c10796bb307c2696214dc9b3217242a9199dc\n""}]",3,887530,8e8f6b23900f19a028ed8251e3653eaefb65627f,9,3,1,32666,,,0,"Bring back tempita to u-c

Tempita pip package is broken and not maintained since 2013[1].
Because it uses 'use_2to3' command in all versions[2] which is
deprecated since setuptools>58[3], it is not impossible to build this
package from source.
The only installation method that still works is wheel, but PyPI
does not store wheels for development versions(0.5.3dev in our case).

So if user runs `pip install` with '--pre' attribute and tempita is not
constrained to 0.5.2, then pip attempts to install 0.5.3dev that does
not have wheel stored in PyPI and the install command fails because
building this package from source does not work.

Openstack-Ansbile project is affected by this issue.

[1] https://pypi.org/project/Tempita/#history
[2] https://github.com/agramfort/tempita/blob/master/setup.py#L53
[3] https://setuptools.pypa.io/en/latest/history.html#v58-0-0

Change-Id: Id01c10796bb307c2696214dc9b3217242a9199dc
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/30/887530/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8e8f6b23900f19a028ed8251e3653eaefb65627f,,Tempita===0.5.2,,1,0
openstack%2Fnova~master~I059ab0ebfd58b96b9dc44213fcb2286df6685bf8,openstack/nova,master,I059ab0ebfd58b96b9dc44213fcb2286df6685bf8,Add mksproxy files,NEW,2022-10-31 16:52:44.000000000,2023-07-27 13:05:03.000000000,,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-31 16:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbd7f47bc55545c3346d4be0b2a5f242a8d94199', 'message': 'Add mksproxy files\n\nMKS is the protocol for accessing the console of a virtual machine running on VMware vSphere.\nIt is pretty much the same as VNC except the authentication part.\nThis PR to provide a MKS proxy for VMware ESXi console of type MKS based on websocketproxy.\nChange-Id: Ieb40c53524fda0445776917a71de2e1e384d7de2\n\nChange-Id: I059ab0ebfd58b96b9dc44213fcb2286df6685bf8\n'}, {'number': 2, 'created': '2022-11-02 07:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab0f136c61a082f7ca84238230cbede64705bd01', 'message': 'Add mksproxy files\n\nMKS is the protocol for accessing the console of a virtual machine running on VMware vSphere.\nIt is pretty much the same as VNC except the authentication part.\nThis PR to provide a MKS proxy for VMware ESXi console of type MKS based on websocketproxy.\nChange-Id: Ieb40c53524fda0445776917a71de2e1e384d7de2\n\nChange-Id: I059ab0ebfd58b96b9dc44213fcb2286df6685bf8\n'}, {'number': 3, 'created': '2022-11-02 10:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1215ffde27f72d58b60f4a42dd843f383d82c70d', 'message': 'Add mksproxy files\n\nMKS is the protocol for accessing the console of a virtual machine running on VMware vSphere.\nIt is pretty much the same as VNC except the authentication part.\nThis PR to provide a MKS proxy for VMware ESXi console of type MKS based on websocketproxy.\nChange-Id: Ieb40c53524fda0445776917a71de2e1e384d7de2\n\nChange-Id: I059ab0ebfd58b96b9dc44213fcb2286df6685bf8\n'}, {'number': 4, 'created': '2022-12-06 14:24:34.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/remote-console-access.rst', 'nova/console/mks/mks.py', 'nova/console/mks/__init__.py', 'doc/source/conf.py', 'doc/source/cli/nova-novncproxy.rst', 'doc/test/redirect-tests.txt', 'doc/source/install/get-started-compute.rst', 'nova/console/websocketproxy.py', 'doc/source/cli/nova-mksproxy.rst', 'doc/source/cli/index.rst', 'doc/source/cli/nova-serialproxy.rst', 'setup.cfg', 'doc/source/_extra/.htaccess', 'nova/conf/mks.py', 'nova/cmd/mksproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ed5b83986e723a5777f515ee6fdde028d79e333', 'message': 'Add mksproxy files\n\nMKS is the protocol for accessing the console of a virtual machine running on VMware vSphere.\nIt is pretty much the same as VNC except the authentication part.\nThis PR to provide a MKS proxy for VMware ESXi console of type MKS based on websocketproxy.\nChange-Id: Ieb40c53524fda0445776917a71de2e1e384d7de2\n\nChange-Id: I059ab0ebfd58b96b9dc44213fcb2286df6685bf8\n'}]",11,863090,1ed5b83986e723a5777f515ee6fdde028d79e333,29,6,4,33952,,,0,"Add mksproxy files

MKS is the protocol for accessing the console of a virtual machine running on VMware vSphere.
It is pretty much the same as VNC except the authentication part.
This PR to provide a MKS proxy for VMware ESXi console of type MKS based on websocketproxy.
Change-Id: Ieb40c53524fda0445776917a71de2e1e384d7de2

Change-Id: I059ab0ebfd58b96b9dc44213fcb2286df6685bf8
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/863090/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/remote-console-access.rst', 'nova/console/websocketproxy.py', 'doc/source/cli/nova-mksproxy.rst', 'doc/source/cli/index.rst', 'nova/console/mks/mks.py', 'nova/console/mks/__init__.py', 'doc/source/conf.py', 'setup.cfg', 'doc/source/install/get-started-compute.rst', 'nova/conf/mks.py', 'nova/cmd/mksproxy.py']",11,cbd7f47bc55545c3346d4be0b2a5f242a8d94199,bp/mks-proxy,"# Copyright (c) 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Websocket proxy that is compatible with OpenStack Nova MKS consoles. Leverages websockify.py by Joel Martin """""" import nova.conf import os import sys from nova.cmd import baseproxy from nova.conf import mks from nova import config from nova.console import websocketproxy from nova import version from oslo_log import log as logging from oslo_reports import guru_meditation_report as gmr CONF = nova.conf.CONF mks.register_cli_opts(CONF) def main(): config.parse_args(sys.argv) if CONF.web and not os.path.exists(CONF.web): baseproxy.exit_with_error( ""Can not find html/js files at %s."" % CONF.web) logging.setup(CONF, ""nova"") gmr.TextGuruMeditation.setup_autorun(version) # Create and start the NovaWebSockets proxy websocketproxy.NovaWebSocketProxy( listen_host=CONF.mks.mksproxy_host, listen_port=CONF.mks.mksproxy_port, web=CONF.web, RequestHandlerClass=websocketproxy.NovaProxyRequestHandler, ).start_server() ",,275,24
openstack%2Fnova-specs~master~I2c0ef44f4ae5185d40e117fabdd40472260c52c6,openstack/nova-specs,master,I2c0ef44f4ae5185d40e117fabdd40472260c52c6,new spec: support of vnc console for mks,ABANDONED,2023-07-27 09:02:49.000000000,2023-07-27 12:57:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-27 09:02:49.000000000', 'files': ['specs/2023.2/approved/nova-vnc-support-for-mks.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d0156d5b58ee6a402ef2163a5706b23f5898ed5f', 'message': 'new spec: support of vnc console for mks\n\nChange-Id: I2c0ef44f4ae5185d40e117fabdd40472260c52c6\n'}]",0,889844,d0156d5b58ee6a402ef2163a5706b23f5898ed5f,3,1,1,33952,,,0,"new spec: support of vnc console for mks

Change-Id: I2c0ef44f4ae5185d40e117fabdd40472260c52c6
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/44/889844/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/nova-vnc-support-for-mks.rst'],1,d0156d5b58ee6a402ef2163a5706b23f5898ed5f,bp/mks-proxy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================= VNC console support for MKS ========================================================= https://blueprints.launchpad.net/nova/+spec/mks-proxy The feature aims at providing a vnc console for MKS console. This is a proposal to add support for the bMKS console available in vSphere. Problem description =================== End users often have to troubleshoot their instances because they might have broken their boot configuration or locked themselves out with a firewall. Keyboard-Video-Mouse (KVM) access is often required for troubleshooting these types of issues as serial access is not always available or correctly configured. Also, KVM provides a better user experience as compared to serial console. Horizon's VNC console is not working for ESXi nodes provisioned by Nova. This spec intends to extend that to graphical console via the mks proxy. Use Cases --------- The end user will be able to get workable mks console url from ESXi server. nova-mksproxy should be deployed Proposed change =============== The proposal is to add a new console type ""mks"" that will return mks connect information similar to how we return connect information for other types of consoles like VNC and RDP. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- We will use the same security model as for the other types of consoles which is leveraging nova-consoleauth to authorize tokens generated by the compute node. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- MKS consoles will require deploying nova-mksproxy (similar to nova-novncproxy) that will connect compute service users to the corresponding vCenter which provides console access to the given virtual machine. There will be some new configuration options that will specify the parameter for the nova-mksproxy. ``nova-mksproxy/nova.conf``: [DEFAULT] web = /usr/share/vmware-mks [mks] enabled = true mksproxy_host = <mks-proxy-ip> mksproxy_port = 6090 ``nova-compute/nova.conf``: [mks] enabled = true mksproxy_base_url = http://<mks-proxy-ip>:6090/vnc_auto.html Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: alecorps7 Other contributors: None Feature Liaison --------------- None Work Items ---------- None Dependencies ============ None Testing ======= None Documentation Impact ==================== update required https://docs.openstack.org/nova/latest/admin/remote-console-access.html https://docs.openstack.org/ironic/latest/admin/console.html References ========== * https://blueprints.launchpad.net/nova/+spec/mks-proxy - blueprint * https://review.opendev.org/c/openstack/nova/+/863090 - gerrit review nova History ======= None ",,164,0
openstack%2Freleases~master~Idfd30affa83c1627fd31e36606bf679fe757b9e2,openstack/releases,master,Idfd30affa83c1627fd31e36606bf679fe757b9e2,[Yoga] Release blazar,ABANDONED,2023-07-25 14:17:47.000000000,2023-07-27 12:45:29.000000000,,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:17:47.000000000', 'files': ['deliverables/yoga/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2149ea1361511d4940de315e5afdb794a80b26b0', 'message': '[Yoga] Release blazar\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 9.0.0..590730a\n590730a [CI] Move queue setting to project level\n8e0e6c3 Synchronise tox.ini with changes from other branches\n51aed25 Fix references to start and end dates\ne61d4cf Switch to stestr\n591b4ac Update TOX_CONSTRAINTS_FILE for stable/yoga\n936afa4 Update .gitreview for stable/yoga\na1ddb0c Fix context unit test\n\nChange-Id: Idfd30affa83c1627fd31e36606bf679fe757b9e2\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",2,889423,2149ea1361511d4940de315e5afdb794a80b26b0,5,3,1,28522,,,0,"[Yoga] Release blazar

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 9.0.0..590730a
590730a [CI] Move queue setting to project level
8e0e6c3 Synchronise tox.ini with changes from other branches
51aed25 Fix references to start and end dates
e61d4cf Switch to stestr
591b4ac Update TOX_CONSTRAINTS_FILE for stable/yoga
936afa4 Update .gitreview for stable/yoga
a1ddb0c Fix context unit test

Change-Id: Idfd30affa83c1627fd31e36606bf679fe757b9e2
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/889423/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/blazar.yaml'],1,2149ea1361511d4940de315e5afdb794a80b26b0,yoga-convenience-before-em, - version: 9.0.1 projects: - repo: openstack/blazar hash: 590730a1d79992133874250f09f884a1aca39b5a,,4,0
openstack%2Fvenus~master~Ib0080236a49629f7a2a7d20d1c0f67a593111fba,openstack/venus,master,Ib0080236a49629f7a2a7d20d1c0f67a593111fba,anomaly detect: add detect task,MERGED,2023-07-27 11:45:31.000000000,2023-07-27 12:44:29.000000000,2023-07-27 12:43:35.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-27 11:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/f850222259a49af1148491cd9e64456bdb4a7799', 'message': 'anomaly detect: add detect task\n\nChange-Id: Ib0080236a49629f7a2a7d20d1c0f67a593111fba\n'}, {'number': 2, 'created': '2023-07-27 12:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/b3e4d8092c8a4ee2dbf4bb60704389dd8406163f', 'message': 'anomaly detect: add detect task\n\nChange-Id: Ib0080236a49629f7a2a7d20d1c0f67a593111fba\n'}, {'number': 3, 'created': '2023-07-27 12:15:53.000000000', 'files': ['venus/task/core/anomaly_detect_task.py', 'venus/task/adapter.py', 'venus/db/alembic/versions/a6cf98f55b4d_.py', 'venus/task/timer.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/dbb348c7278ee00a201617dbccf74f4ed8a310df', 'message': 'anomaly detect: add detect task\n\nChange-Id: Ib0080236a49629f7a2a7d20d1c0f67a593111fba\n'}]",24,889825,dbb348c7278ee00a201617dbccf74f4ed8a310df,11,2,3,27565,,,0,"anomaly detect: add detect task

Change-Id: Ib0080236a49629f7a2a7d20d1c0f67a593111fba
",git fetch https://review.opendev.org/openstack/venus refs/changes/25/889825/3 && git format-patch -1 --stdout FETCH_HEAD,"['venus/task/core/anomaly_detect_task.py', 'venus/task/adapter.py', 'venus/db/alembic/versions/a6cf98f55b4d_.py', 'venus/task/timer.py']",4,f850222259a49af1148491cd9e64456bdb4a7799,," sched.add_job(adapter.anomaly_detect_job, TRIGGER_INTERVAL, seconds=60, id='anomaly_detect_job') ",,142,1
openstack%2Frally-openstack~master~Ib07d1907747912ff4ad3514fd67cf41c32d3878a,openstack/rally-openstack,master,Ib07d1907747912ff4ad3514fd67cf41c32d3878a,Correct some cases' description,MERGED,2023-06-30 22:27:48.000000000,2023-07-27 12:30:03.000000000,2023-07-27 12:30:03.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 22:27:48.000000000', 'files': ['rally_openstack/task/scenarios/barbican/containers.py', 'rally_openstack/task/scenarios/barbican/orders.py', 'rally_openstack/task/scenarios/cinder/volume_backups.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8ba3955f5a5fb7e065655fb87db11db5c629d8c7', 'message': ""Correct some cases' description\n\nIn some OpenStack rally cases, there are some wrong descriptions.\nSo this patch is to fix them.\n\nChange-Id: Ib07d1907747912ff4ad3514fd67cf41c32d3878a\n""}]",0,887392,8ba3955f5a5fb7e065655fb87db11db5c629d8c7,6,2,1,8846,,,0,"Correct some cases' description

In some OpenStack rally cases, there are some wrong descriptions.
So this patch is to fix them.

Change-Id: Ib07d1907747912ff4ad3514fd67cf41c32d3878a
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/92/887392/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/task/scenarios/barbican/containers.py', 'rally_openstack/task/scenarios/barbican/orders.py', 'rally_openstack/task/scenarios/cinder/volume_backups.py']",3,8ba3955f5a5fb7e065655fb87db11db5c629d8c7,correct-the-case-decriptions," """"""Create an incremental volume backup."," """"""Create a incremental volume backup.",3,3
openstack%2Freleases~master~I22da1dfa3703e01169914e4d704faa5caaf292f9,openstack/releases,master,I22da1dfa3703e01169914e4d704faa5caaf292f9,[Yoga] Release oslo.serialization,ABANDONED,2023-07-25 15:50:10.000000000,2023-07-27 12:09:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:50:10.000000000', 'files': ['deliverables/yoga/oslo.serialization.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/32b5b1cc32292f331f321f0a1899a153ea636563', 'message': '[Yoga] Release oslo.serialization\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 4.3.0..abde6e6\nabde6e6 Update TOX_CONSTRAINTS_FILE for stable/yoga\nc792e01 Update .gitreview for stable/yoga\n\nChange-Id: I22da1dfa3703e01169914e4d704faa5caaf292f9\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889538,32b5b1cc32292f331f321f0a1899a153ea636563,4,2,1,28522,,,0,"[Yoga] Release oslo.serialization

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 4.3.0..abde6e6
abde6e6 Update TOX_CONSTRAINTS_FILE for stable/yoga
c792e01 Update .gitreview for stable/yoga

Change-Id: I22da1dfa3703e01169914e4d704faa5caaf292f9
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/889538/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.serialization.yaml'],1,32b5b1cc32292f331f321f0a1899a153ea636563,yoga-convenience-before-em, - version: 4.3.1 projects: - repo: openstack/oslo.serialization hash: abde6e67c62c09944148f01c3f2026b9a046d55frelease-notes: https://docs.openstack.org/releasenotes/oslo.serialization/yoga.html,release-notes: https://docs.openstack.org/releasenotes/oslo.serialization/yoga.html,6,1
openstack%2Fskyline-console~master~I8f272546942d7c71899c2f9129d8cf85c3b3515e,openstack/skyline-console,master,I8f272546942d7c71899c2f9129d8cf85c3b3515e,fix: fix table header buttons style,MERGED,2023-07-27 01:24:29.000000000,2023-07-27 11:41:36.000000000,2023-07-27 11:40:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-07-27 01:24:29.000000000', 'files': ['src/components/Tables/Base/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a95c588a5d84427b7f025f661c974a197d669300', 'message': 'fix: fix table header buttons style\n\nadd margin-bottom for table header buttons\n\nChange-Id: I8f272546942d7c71899c2f9129d8cf85c3b3515e\n'}]",1,889786,a95c588a5d84427b7f025f661c974a197d669300,9,2,1,30434,,,0,"fix: fix table header buttons style

add margin-bottom for table header buttons

Change-Id: I8f272546942d7c71899c2f9129d8cf85c3b3515e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/86/889786/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/Tables/Base/index.less'],1,a95c588a5d84427b7f025f661c974a197d669300,styles, margin-bottom: calc(@body-padding - 4px); margin-bottom: 4px;, margin-bottom: @body-padding;,2,1
openstack%2Fvenus~master~I9a1b9bc9789a9a8f96dd3a708c31b3fd6ce69a9d,openstack/venus,master,I9a1b9bc9789a9a8f96dd3a708c31b3fd6ce69a9d,anomaly detect: add db api (add record),MERGED,2023-07-27 11:15:51.000000000,2023-07-27 11:38:50.000000000,2023-07-27 11:37:59.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-27 11:15:51.000000000', 'files': ['venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/c7d36286376d73127cee910d36f8d381708eb467', 'message': 'anomaly detect: add db api (add record)\n\nChange-Id: I9a1b9bc9789a9a8f96dd3a708c31b3fd6ce69a9d\n'}]",0,889824,c7d36286376d73127cee910d36f8d381708eb467,7,2,1,27565,,,0,"anomaly detect: add db api (add record)

Change-Id: I9a1b9bc9789a9a8f96dd3a708c31b3fd6ce69a9d
",git fetch https://review.opendev.org/openstack/venus refs/changes/24/889824/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/action.py']",2,c7d36286376d73127cee910d36f8d381708eb467,," def add_record(self, params): res = self.sql.add_record(self, params) return res ",,22,0
openstack%2Fopenstack-helm~master~If81d59cb848ae7e07eb7bcb8d594b5005a7d5528,openstack/openstack-helm,master,If81d59cb848ae7e07eb7bcb8d594b5005a7d5528,Use service tokens,MERGED,2023-07-23 10:45:25.000000000,2023-07-27 11:26:26.000000000,2023-07-27 11:25:11.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 33330}, {'_account_id': 35499}]","[{'number': 1, 'created': '2023-07-23 10:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aab9803a67243794e8ffa511bab089cbb37cfe66', 'message': 'Use service tokens\n\nChange-Id: If81d59cb848ae7e07eb7bcb8d594b5005a7d5528\n'}, {'number': 2, 'created': '2023-07-23 12:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b2f4b34c822a8b3b7198586ca3eef3beac6a5a0', 'message': 'Use service tokens\n\nChange-Id: If81d59cb848ae7e07eb7bcb8d594b5005a7d5528\n'}, {'number': 3, 'created': '2023-07-25 09:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/447f5b8888a0af013dabb85c8cbc7a8d09073fe1', 'message': 'Use service tokens\n\nChange-Id: If81d59cb848ae7e07eb7bcb8d594b5005a7d5528\n'}, {'number': 4, 'created': '2023-07-27 07:01:00.000000000', 'files': ['releasenotes/notes/glance.yaml', 'cinder/values.yaml', 'releasenotes/notes/placement.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'glance/values.yaml', 'nova/Chart.yaml', 'glance/Chart.yaml', 'placement/values.yaml', 'cinder/Chart.yaml', 'nova/values.yaml', 'placement/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/91c8a5baf2cf2f0dddded57d88f00ea11dd4ff4a', 'message': 'Use service tokens\n\nChange-Id: If81d59cb848ae7e07eb7bcb8d594b5005a7d5528\n'}]",2,889259,91c8a5baf2cf2f0dddded57d88f00ea11dd4ff4a,18,4,4,35691,,,0,"Use service tokens

Change-Id: If81d59cb848ae7e07eb7bcb8d594b5005a7d5528
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/59/889259/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/glance.yaml', 'cinder/values.yaml', 'releasenotes/notes/placement.yaml', 'glance/values.yaml', 'nova/Chart.yaml', 'glance/Chart.yaml', 'placement/values.yaml', 'cinder/Chart.yaml', 'nova/values.yaml', 'placement/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml']",12,aab9803a67243794e8ffa511bab089cbb37cfe66,fix-service-token, - 0.3.16 Use service tokens,,20,8
openstack%2Fpuppet-neutron~master~I7192bb4d7d10060fa426cfcf1a25d1b5b8e5a45d,openstack/puppet-neutron,master,I7192bb4d7d10060fa426cfcf1a25d1b5b8e5a45d,Ubuntu: Stop manipulating /etc/default/neutron-server,MERGED,2023-07-26 02:23:27.000000000,2023-07-27 11:16:41.000000000,2023-07-27 11:16:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 02:23:27.000000000', 'files': ['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e8175242e9a1bf4617fdd57752e3a3bbd1d69614', 'message': 'Ubuntu: Stop manipulating /etc/default/neutron-server\n\n... because the file installed by the package contains the same line.\n\nAlso in Debian we create an empty file but this is just redundant.\n\nChange-Id: I7192bb4d7d10060fa426cfcf1a25d1b5b8e5a45d\n'}]",1,889667,e8175242e9a1bf4617fdd57752e3a3bbd1d69614,11,3,1,9816,,,0,"Ubuntu: Stop manipulating /etc/default/neutron-server

... because the file installed by the package contains the same line.

Also in Debian we create an empty file but this is just redundant.

Change-Id: I7192bb4d7d10060fa426cfcf1a25d1b5b8e5a45d
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/67/889667/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp']",2,e8175242e9a1bf4617fdd57752e3a3bbd1d69614,,," if $facts['os']['family'] == 'Debian' { file {'/etc/default/neutron-server': ensure => present, owner => 'root', group => 'root', mode => '0644', tag => 'neutron-config-file', } } if $facts['os']['name'] == 'Ubuntu' { file_line { '/etc/default/neutron-server:NEUTRON_PLUGIN_CONFIG': path => '/etc/default/neutron-server', match => '^NEUTRON_PLUGIN_CONFIG=(.*)$', line => 'NEUTRON_PLUGIN_CONFIG=/etc/neutron/plugin.ini', tag => 'neutron-file-line' } } ",0,70
openstack%2Fpuppet-gnocchi~master~Icd916df0b3463128df5b2ed3b49c2cdbee871504,openstack/puppet-gnocchi,master,Icd916df0b3463128df5b2ed3b49c2cdbee871504,Refactor db class using oslo::db,MERGED,2023-07-25 07:04:59.000000000,2023-07-27 11:07:25.000000000,2023-07-27 11:07:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 07:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/39b1e0983da44b3e666096e249d39b5d46da52e2', 'message': 'Refactor db class using oslo::db\n\nThis replaces the existing logic in the gnocchi::db class by the common\nlogic in oslo::db, to use the single logic to manage backend packages.\n\nDepends-on: https://review.opendev.org/889374\nChange-Id: Icd916df0b3463128df5b2ed3b49c2cdbee871504\n'}, {'number': 2, 'created': '2023-07-25 07:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/7d173f3c2a879cd10bd14df04a8b064a1c148b35', 'message': 'Refactor db class using oslo::db\n\nThis replaces the existing logic in the gnocchi::db class by the common\nlogic in oslo::db, to use the single logic to manage backend packages.\n\nDepends-on: https://review.opendev.org/889374\nChange-Id: Icd916df0b3463128df5b2ed3b49c2cdbee871504\n'}, {'number': 3, 'created': '2023-07-25 09:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/5c3826986f944b9aeabf5e97ea3a9c2a20e366d1', 'message': 'Refactor db class using oslo::db\n\nThis replaces the existing logic in the gnocchi::db class by the common\nlogic in oslo::db, to use the single logic to manage backend packages.\n\nDepends-on: https://review.opendev.org/889374\nChange-Id: Icd916df0b3463128df5b2ed3b49c2cdbee871504\n'}, {'number': 4, 'created': '2023-07-25 13:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/8199d3a443bd0fe21fd728ed1a053a80c6627057', 'message': 'Refactor db class using oslo::db\n\nThis replaces the existing logic in the gnocchi::db class by the common\nlogic in oslo::db, to use the single logic to manage backend packages.\n\nDepends-on: https://review.opendev.org/889374\nChange-Id: Icd916df0b3463128df5b2ed3b49c2cdbee871504\n'}, {'number': 5, 'created': '2023-07-25 13:49:18.000000000', 'files': ['manifests/db.pp', 'manifests/params.pp', 'manifests/deps.pp', 'spec/classes/gnocchi_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/de085305c4f379ad3d2c72ef8166e86bdff46f49', 'message': 'Refactor db class using oslo::db\n\nThis replaces the existing logic in the gnocchi::db class by the common\nlogic in oslo::db, to use the single logic to manage backend packages.\n\nDepends-on: https://review.opendev.org/889374\nChange-Id: Icd916df0b3463128df5b2ed3b49c2cdbee871504\n'}]",1,889376,de085305c4f379ad3d2c72ef8166e86bdff46f49,18,3,5,9816,,,0,"Refactor db class using oslo::db

This replaces the existing logic in the gnocchi::db class by the common
logic in oslo::db, to use the single logic to manage backend packages.

Depends-on: https://review.opendev.org/889374
Change-Id: Icd916df0b3463128df5b2ed3b49c2cdbee871504
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/76/889376/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/params.pp', 'manifests/deps.pp', 'spec/classes/gnocchi_db_spec.rb']",4,39b1e0983da44b3e666096e249d39b5d46da52e2,db-manage_config," it { should contain_class('ghoccni::deps') } it { should contain_oslo__db('gnocchi_config').with( :connection => 'sqlite:////var/lib/gnocchi/gnocchi.sqlite', :manage_config => false, )} it { should contain_class('ghoccni::deps') } it { should contain_oslo__db('gnocchi_config').with( :connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', :manage_config => false, )} it { should_not contain_package('gnocchi-indexer-sqlalchemy') } it { should contain_package('gnocchi-indexer-sqlalchemy').with( :name => 'openstack-gnocchi-indexer-sqlalchemy', :ensure => 'present', :tag => ['openstack', 'gnocchi-package'] )} facts.merge!(OSDefaults.get_facts())"," context 'with postgresql backend' do let :params do { :database_connection => 'postgresql://gnocchi:gnocchi@localhost/gnocchi', } end it { should contain_class('postgresql::lib::python') } end context 'with MySQL-python library as backend package' do let :params do { :database_connection => 'mysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should contain_class('mysql::bindings') } it { should contain_class('mysql::bindings::python') } end context 'with incorrect database_connection string' do let :params do { :database_connection => 'redis://gnocchi:gnocchi@localhost/gnocchi', } end it { should raise_error(Puppet::Error) } end context 'with incorrect pymysql database_connection string' do let :params do { :database_connection => 'foo+pymysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should raise_error(Puppet::Error) } end context 'using pymysql driver' do let :params do { :database_connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should contain_package('gnocchi-backend-package').with( :ensure => 'present', :name => platform_params[:pymysql_package_name], :tag => 'openstack' )} end context 'using sqlite' do it { should contain_package('gnocchi-indexer-sqlalchemy').with( :name => 'openstack-gnocchi-indexer-sqlalchemy', :ensure => 'present', :tag => ['openstack', 'gnocchi-package'] )} end context 'using pymysql driver' do let :params do { :database_connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should_not contain_package('gnocchi-backend-package') } end facts.merge!(OSDefaults.get_facts({ # puppet-postgresql requires the service_provider fact provided by # puppetlabs-postgresql. :service_provider => 'systemd' })) end let(:platform_params) do case facts[:os]['family'] when 'Debian' { :pymysql_package_name => 'python3-pymysql', } end",43,133
openstack%2Fpuppet-ceph~master~I1ada67c7d960b3aed121296e367eaf2a3264ecd4,openstack/puppet-ceph,master,I1ada67c7d960b3aed121296e367eaf2a3264ecd4,Use https for CentOS Stream 9 mirror,MERGED,2023-07-23 16:32:24.000000000,2023-07-27 10:52:40.000000000,2023-07-27 10:52:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-23 16:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/50d08e5a6ced4b3a5591b69d30ea6f7344a2d746', 'message': 'Use https for CentOS Stream 9 mirror\n\nThe mirror server for CentOS Stream 9 supports https and access using\nhttp is redirected to https.\n\nChange-Id: I1ada67c7d960b3aed121296e367eaf2a3264ecd4\n'}, {'number': 2, 'created': '2023-07-24 21:55:26.000000000', 'files': ['manifests/repo.pp', 'spec/classes/ceph_repo_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/90cc5ee1acb824adcdaa14afe7f8a0fce7229bc5', 'message': 'Use https for CentOS Stream 9 mirror\n\nThe mirror server for CentOS Stream 9 supports https and access using\nhttp is redirected to https.\n\nChange-Id: I1ada67c7d960b3aed121296e367eaf2a3264ecd4\n'}]",1,889260,90cc5ee1acb824adcdaa14afe7f8a0fce7229bc5,15,3,2,9816,,,0,"Use https for CentOS Stream 9 mirror

The mirror server for CentOS Stream 9 supports https and access using
http is redirected to https.

Change-Id: I1ada67c7d960b3aed121296e367eaf2a3264ecd4
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/60/889260/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo.pp', 'spec/classes/ceph_repo_spec.rb']",2,50d08e5a6ced4b3a5591b69d30ea6f7344a2d746,c9s-mirror-https," :baseurl => 'https://mirror.stream.centos.org/SIGs/9-stream/storage/x86_64/ceph-nautilus/',"," :baseurl => 'http://mirror.stream.centos.org/SIGs/9-stream/storage/x86_64/ceph-nautilus/',",4,4
openstack%2Fpuppet-ceph~master~Ib857cecf258c350ae74152eb45f301a1c41f13c3,openstack/puppet-ceph,master,Ib857cecf258c350ae74152eb45f301a1c41f13c3,Stop creating /var/lib/ceph/mgr,MERGED,2023-07-23 16:55:04.000000000,2023-07-27 10:47:56.000000000,2023-07-27 10:47:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-23 16:55:04.000000000', 'files': ['spec/defines/ceph_mgr_spec.rb', 'manifests/mgr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/137e568257cf17f35600c5787e3b48c7c0299925', 'message': 'Stop creating /var/lib/ceph/mgr\n\nThis directory is created by the ceph-mgr package.\n\nChange-Id: Ib857cecf258c350ae74152eb45f301a1c41f13c3\n'}]",0,889282,137e568257cf17f35600c5787e3b48c7c0299925,8,3,1,9816,,,0,"Stop creating /var/lib/ceph/mgr

This directory is created by the ceph-mgr package.

Change-Id: Ib857cecf258c350ae74152eb45f301a1c41f13c3
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/82/889282/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/ceph_mgr_spec.rb', 'manifests/mgr.pp']",2,137e568257cf17f35600c5787e3b48c7c0299925,mgr-dir," file { ""/var/lib/ceph/mgr/${cluster}-${name}"":"," file { '/var/lib/ceph/mgr': ensure => directory, owner => 'ceph', group => 'ceph', seltype => 'ceph_var_lib_t', tag => 'ceph-mgr', } -> file { ""/var/lib/ceph/mgr/${cluster}-${name}"":",1,13
openstack%2Fvenus~master~I90faad32e5dff4287c2bba4ce030c2f4d86a97e5,openstack/venus,master,I90faad32e5dff4287c2bba4ce030c2f4d86a97e5,anomaly detect: add delete record task,MERGED,2023-07-27 08:18:51.000000000,2023-07-27 10:45:24.000000000,2023-07-27 10:44:32.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-27 08:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/7907744a9cbdbcb7ec92eb01ca164ccc0b5260f8', 'message': 'anomaly detect: add delete record task\n\nChange-Id: I90faad32e5dff4287c2bba4ce030c2f4d86a97e5\n'}, {'number': 2, 'created': '2023-07-27 08:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/a45f322a3388ab588abbc496199bc5b899c915e7', 'message': 'anomaly detect: add delete record task\n\nChange-Id: I90faad32e5dff4287c2bba4ce030c2f4d86a97e5\n'}, {'number': 3, 'created': '2023-07-27 10:22:36.000000000', 'files': ['venus/task/adapter.py', 'venus/db/alembic/versions/a6cf98f55b4d_.py', 'venus/task/core/delete_anomaly_record_task.py', 'venus/task/timer.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/da1412dd6effa42c8311b2acb7efd2deb301bc1a', 'message': 'anomaly detect: add delete record task\n\nChange-Id: I90faad32e5dff4287c2bba4ce030c2f4d86a97e5\n'}]",13,889823,da1412dd6effa42c8311b2acb7efd2deb301bc1a,11,2,3,27565,,,0,"anomaly detect: add delete record task

Change-Id: I90faad32e5dff4287c2bba4ce030c2f4d86a97e5
",git fetch https://review.opendev.org/openstack/venus refs/changes/23/889823/3 && git format-patch -1 --stdout FETCH_HEAD,"['venus/task/adapter.py', 'venus/db/alembic/versions/a6cf98f55b4d_.py', 'venus/task/core/delete_anomaly_record_task.py', 'venus/task/timer.py']",4,7907744a9cbdbcb7ec92eb01ca164ccc0b5260f8,," sched.add_job(adapter.delete_anomaly_record_job, TRIGGER_INTERVAL, seconds=600, id='delete_anomaly_record_job') ",,82,4
openstack%2Fpuppet-ceph~master~Icd3e7d75698d380c663c58b5f360c73911497f02,openstack/puppet-ceph,master,Icd3e7d75698d380c663c58b5f360c73911497f02,Validate input of ceph::conf,MERGED,2023-07-22 17:34:01.000000000,2023-07-27 10:39:55.000000000,2023-07-27 10:39:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 17:34:01.000000000', 'files': ['manifests/conf.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f0486bf8fcb1d899bc17c62de0422621dc08c6cb', 'message': 'Validate input of ceph::conf\n\nThis introduces the basic validation of ceph::conf class parameters.\n\nChange-Id: Icd3e7d75698d380c663c58b5f360c73911497f02\n'}]",1,889256,f0486bf8fcb1d899bc17c62de0422621dc08c6cb,9,3,1,9816,,,0,"Validate input of ceph::conf

This introduces the basic validation of ceph::conf class parameters.

Change-Id: Icd3e7d75698d380c663c58b5f360c73911497f02
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/56/889256/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/conf.pp'],1,f0486bf8fcb1d899bc17c62de0422621dc08c6cb,,"# Optional. Defaults to an empty hash# Optional. Defaults to an empty hashclass ceph::conf( Hash $args = {}, Hash $defaults = {} ) {","# Optional.# Optional. Defaults to a empty hashclass ceph::conf($args = {}, $defaults = {}) {",6,3
openstack%2Fkolla-ansible~master~I7ea236f59a7ede1f5a9ab4c60e7e5aba907ea5b8,openstack/kolla-ansible,master,I7ea236f59a7ede1f5a9ab4c60e7e5aba907ea5b8,Trivial: Add deploy-containers for skyline,MERGED,2023-07-17 19:25:47.000000000,2023-07-27 10:38:33.000000000,2023-07-27 10:37:17.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-07-17 19:25:47.000000000', 'files': ['ansible/roles/skyline/tasks/deploy-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6baa18a666312e550ec267ae468a776065ccd138', 'message': 'Trivial: Add deploy-containers for skyline\n\nChange-Id: I7ea236f59a7ede1f5a9ab4c60e7e5aba907ea5b8\n'}]",2,888738,6baa18a666312e550ec267ae468a776065ccd138,13,6,1,27339,,,0,"Trivial: Add deploy-containers for skyline

Change-Id: I7ea236f59a7ede1f5a9ab4c60e7e5aba907ea5b8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/888738/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/skyline/tasks/deploy-containers.yml'],1,6baa18a666312e550ec267ae468a776065ccd138,,--- - import_tasks: check-containers.yml ,,2,0
openstack%2Fopenstack-helm-images~master~Ibcd70744a98ea2c523b6f176952c3c219885b0b8,openstack/openstack-helm-images,master,Ibcd70744a98ea2c523b6f176952c3c219885b0b8,Update mariadb base image,MERGED,2023-07-11 23:35:34.000000000,2023-07-27 09:54:46.000000000,2023-07-27 09:53:48.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 34821}]","[{'number': 1, 'created': '2023-07-11 23:35:34.000000000', 'files': ['mariadb/Dockerfile.ubuntu_focal'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/73ae37fb9a86def7731fbca95d3ec168de424542', 'message': 'Update mariadb base image\n\nThis PS bumps up base mariadb image version to 10.6.14-focal.\n\nChange-Id: Ibcd70744a98ea2c523b6f176952c3c219885b0b8\n'}]",6,888198,73ae37fb9a86def7731fbca95d3ec168de424542,24,6,1,34520,,,0,"Update mariadb base image

This PS bumps up base mariadb image version to 10.6.14-focal.

Change-Id: Ibcd70744a98ea2c523b6f176952c3c219885b0b8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/98/888198/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/Dockerfile.ubuntu_focal'],1,73ae37fb9a86def7731fbca95d3ec168de424542,,# mariadb:10.6.14-focal ARG FROM=docker.io/mariadb@sha256:aa38c70792b0330da98fbf20b7191f27f65ff2f55790e5a0b0ec2a02fcb3d03d,# mariadb:10.5.9-focal ARG FROM=docker.io/mariadb@sha256:7e244fae615587335176db07e88b43eee5e4762f35306e17c13c68125d93b9bf,2,2
openstack%2Ftrove~master~Ie0268951db7a9e711089714cecf7fbf311eecec8,openstack/trove,master,Ie0268951db7a9e711089714cecf7fbf311eecec8,Change uid/gid of folder managed by trove,NEW,2023-07-27 07:09:42.000000000,2023-07-27 09:52:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-27 07:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fa231d028df5290390f7b279b9d3b4eeca8faf5f', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}, {'number': 2, 'created': '2023-07-27 07:35:41.000000000', 'files': ['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/postgresql.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/2fb04b5a0aae85928bbf1347fc040f30b507dc0c', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}]",5,889797,2fb04b5a0aae85928bbf1347fc040f30b507dc0c,10,2,2,28691,,,0,"Change uid/gid of folder managed by trove

When trove prepare container was grant permission for folders
with default user/group is ""database"" (id 1001).
But, some docker image use provision database required other user.
So, we need make flexible to make database container can run

Story: #2010827
Task: #48386
Change-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/889797/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/postgresql.py']",8,fa231d028df5290390f7b279b9d3b4eeca8faf5f,change_uid_gid,"from trove.common.db.postgresql import models operating_system.chown(pwfile, user=pg_service.database_service_uid, group=pg_service.database_service_gid, as_root=True) user=pg_service.database_service_uid, group=pg_service.database_service_gid, as_root=True) operating_system.chown(signal_file, pg_service.database_service_uid, pg_service.database_service_gid, force=True, operating_system.chown(signal_file, pg_service.database_service_uid, pg_service.database_service_gid, force=True,","from trove.common.db.postgresql import models operating_system.chown(pwfile, user=CONF.database_service_uid, group=CONF.database_service_uid, as_root=True) user=CONF.database_service_uid, group=CONF.database_service_uid, as_root=True) operating_system.chown(signal_file, CONF.database_service_uid, CONF.database_service_uid, force=True, operating_system.chown(signal_file, CONF.database_service_uid, CONF.database_service_uid, force=True,",156,69
openstack%2Fcharm-barbican-k8s~main~I90e0caa1d501bc19745a8fffb76919f6e13765dd,openstack/charm-barbican-k8s,main,I90e0caa1d501bc19745a8fffb76919f6e13765dd,Remove job control on a2disconf,MERGED,2023-07-27 07:08:20.000000000,2023-07-27 09:49:37.000000000,2023-07-27 09:32:11.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-27 07:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/e7a27b1e737d9a208d941ed9378bb7d8b6218869', 'message': 'Remove job control on a2disconf\n\nOn some occasion, the pod is recreated without an update event, this\nwill lead the default barbican api to be present. Remove the job control\nto always disable it.\n\nChange-Id: I90e0caa1d501bc19745a8fffb76919f6e13765dd\n'}, {'number': 2, 'created': '2023-07-27 07:14:22.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/9a98a927ce7896736a1b26d6208ab44cf4cc549c', 'message': 'Remove job control on a2disconf\n\nOn some occasion, the pod is recreated without an update event, this\nwill lead the default barbican api to be present. Remove the job control\nto always disable it.\n\nChange-Id: I90e0caa1d501bc19745a8fffb76919f6e13765dd\n'}]",1,889796,9a98a927ce7896736a1b26d6208ab44cf4cc549c,8,2,2,35761,,,0,"Remove job control on a2disconf

On some occasion, the pod is recreated without an update event, this
will lead the default barbican api to be present. Remove the job control
to always disable it.

Change-Id: I90e0caa1d501bc19745a8fffb76919f6e13765dd
",git fetch https://review.opendev.org/openstack/charm-barbican-k8s refs/changes/96/889796/2 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,e7a27b1e737d9a208d941ed9378bb7d8b6218869,fix/a2disconf,," @sunbeam_job_ctrl.run_once_per_unit(""a2disconf"")",0,1
openstack%2Fkolla-ansible~master~I20c75e7499fac871e79a4522c56d2a6b06ad6df7,openstack/kolla-ansible,master,I20c75e7499fac871e79a4522c56d2a6b06ad6df7,Add event_time_to_live for panko config,ABANDONED,2019-09-09 09:13:16.000000000,2023-07-27 09:21:55.000000000,,"[{'_account_id': 14826}, {'_account_id': 21757}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 09:13:16.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/panko/templates/panko.conf.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/567d49e9d5ac6dc7cb68a65f89875e24c92313ce', 'message': 'Add event_time_to_live for panko config\n\nBy default panko keeps data for ever, exposing this will\nhelp user tweak this setting and expire data periodically.\n\nChange-Id: I20c75e7499fac871e79a4522c56d2a6b06ad6df7\nCloses-Bug: #1843113\n'}]",1,680950,567d49e9d5ac6dc7cb68a65f89875e24c92313ce,6,4,1,19779,,,0,"Add event_time_to_live for panko config

By default panko keeps data for ever, exposing this will
help user tweak this setting and expire data periodically.

Change-Id: I20c75e7499fac871e79a4522c56d2a6b06ad6df7
Closes-Bug: #1843113
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/680950/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/panko/templates/panko.conf.j2', 'etc/kolla/globals.yml']",3,567d49e9d5ac6dc7cb68a65f89875e24c92313ce,bug/1843113,"# Number of seconds that events are kept in the database for (<= 0 means forever). # The openstack telemetry documentation suggests setting a time-to-live on collected # events to avoid unbounded growth of the database. Here we use the default value # according to Panko project. #event_time_to_live: ""-1""",,11,1
openstack%2Fkolla-ansible~master~I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9,openstack/kolla-ansible,master,I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9,WIP: Implement fast-forward upgrade,ABANDONED,2018-03-26 15:48:03.000000000,2023-07-27 09:15:16.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-03-26 15:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ce29ff9f9a906fe5f478c9e628aca730c4174d8', 'message': 'WIP: Implement fast-forward upgrade\n\nStill work in progress.\n\nAllow upgrade without starting containers, run db syncs only.\nAllow to decide which upgrade type use per service.\nSome users may want to keystone in a zero-downtime method, while for safety\ndo offline upgrade of nova.\n\nChange-Id: I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9\nImplements: blueprint fast-forward-upgrades-support\n'}, {'number': 2, 'created': '2018-09-17 18:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfeabc6c24daabe889951328ba1c651ebbf01066', 'message': 'WIP: Implement fast-forward upgrade\n\nAllow upgrade without starting containers, run db syncs only.\nAllow to decide which upgrade type use per service.\nSome users may want to keystone in a zero-downtime method, while for safety\ndo offline upgrade of nova.\n\nChange-Id: I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9\nImplements: blueprint fast-forward-upgrades-support\n'}, {'number': 3, 'created': '2018-09-17 19:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b15432d9a679918b5a1c975f4a2e432934a06ca8', 'message': 'WIP: Implement fast-forward upgrade\n\nAllow upgrade without starting containers, run db syncs only.\nAllow to decide which upgrade type use per service.\nSome users may want to keystone in a zero-downtime method, while for safety\ndo offline upgrade of nova.\n\nChange-Id: I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9\nImplements: blueprint fast-forward-upgrades-support\n'}, {'number': 4, 'created': '2018-09-18 06:13:39.000000000', 'files': ['ansible/roles/chrony/defaults/main.yml', 'ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/manila/handlers/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/kafka/handlers/main.yml', 'ansible/roles/mistral/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/murano/handlers/main.yml', 'ansible/roles/watcher/handlers/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/influxdb/handlers/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/senlin/handlers/main.yml', 'ansible/roles/skydive/handlers/main.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/iscsi/tasks/upgrade.yml', 'ansible/roles/karbor/handlers/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/congress/handlers/main.yml', 'ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/designate/tasks/upgrade.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/chrony/handlers/main.yml', 'ansible/roles/gnocchi/handlers/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/barbican/handlers/main.yml', 'ansible/roles/kibana/handlers/main.yml', 'ansible/roles/sahara/handlers/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/cinder/handlers/main.yml', 'ansible/roles/etcd/handlers/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/glance/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/elasticsearch/handlers/main.yml', 'ansible/roles/prometheus/handlers/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/vitrage/handlers/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/vmtp/handlers/main.yml', 'ansible/roles/magnum/handlers/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/freezer/handlers/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/telegraf/handlers/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/collectd/handlers/main.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/rally/handlers/main.yml', 'ansible/roles/kuryr/handlers/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/searchlight/handlers/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/heat/handlers/main.yml', 'ansible/roles/solum/handlers/main.yml', 'ansible/roles/zookeeper/handlers/main.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/tempest/handlers/main.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/panko/handlers/main.yml', 'ansible/roles/tacker/handlers/main.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/qdrouterd/handlers/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/trove/handlers/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/glance/handlers/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0571892dd2821584e78f88ac89de0eaac86cfab8', 'message': 'WIP: Implement fast-forward upgrade\n\nAllow upgrade without starting containers, run db syncs only.\nAllow to decide which upgrade type use per service.\nSome users may want to keystone in a zero-downtime method, while for safety\ndo offline upgrade of nova.\n\nChange-Id: I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9\nImplements: blueprint fast-forward-upgrades-support\n'}]",1,556568,0571892dd2821584e78f88ac89de0eaac86cfab8,12,3,4,19316,,,0,"WIP: Implement fast-forward upgrade

Allow upgrade without starting containers, run db syncs only.
Allow to decide which upgrade type use per service.
Some users may want to keystone in a zero-downtime method, while for safety
do offline upgrade of nova.

Change-Id: I2dd36dab8a1012dc0bb2fb180485ba9a7de43ee9
Implements: blueprint fast-forward-upgrades-support
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/556568/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/upgrade.yml', 'ansible/roles/etcd/tasks/upgrade.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/cloudkitty/tasks/upgrade.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/magnum/tasks/upgrade.yml', 'ansible/roles/ceilometer/tasks/upgrade.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/blazar/tasks/upgrade.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/collectd/tasks/upgrade.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/karbor/tasks/upgrade.yml', 'ansible/roles/manila/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/freezer/tasks/upgrade.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'ansible/roles/iscsi/tasks/upgrade.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/barbican/tasks/upgrade.yml', 'ansible/roles/aodh/tasks/upgrade.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/kuryr/tasks/upgrade.yml', 'ansible/roles/congress/tasks/upgrade.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/designate/tasks/upgrade.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/chrony/handlers/main.yml', 'ansible/roles/influxdb/tasks/upgrade.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/kibana/tasks/upgrade.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/glance/tasks/upgrade.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/glance/handlers/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/gnocchi/tasks/upgrade.yml']",63,0ce29ff9f9a906fe5f478c9e628aca730c4174d8,bp/fast-forward-upgrades-support," when: gnocchi_upgrade_type != ""offline""",,117,10
openstack%2Ftripleo-ci~master~I22803fdac815338943cc1c24cf9d87c4ad7f7d98,openstack/tripleo-ci,master,I22803fdac815338943cc1c24cf9d87c4ad7f7d98,WIP skip emit_releases for downstream minor update job rhos 17.1,NEW,2023-07-19 15:11:43.000000000,2023-07-27 09:10:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-19 15:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f0252144eb2f53783da9d6bcb9239b997f05e435', 'message': 'WIP skip emit_releases for downstream minor update job rhos 17.1\n\nChange-Id: I22803fdac815338943cc1c24cf9d87c4ad7f7d98\n'}, {'number': 2, 'created': '2023-07-20 08:00:10.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c355bc30edb40b0df7b5f5b2356435f088ea882', 'message': 'WIP skip emit_releases for downstream minor update job rhos 17.1\n\nChange-Id: I22803fdac815338943cc1c24cf9d87c4ad7f7d98\n'}]",0,888933,0c355bc30edb40b0df7b5f5b2356435f088ea882,4,1,2,8449,,,0,"WIP skip emit_releases for downstream minor update job rhos 17.1

Change-Id: I22803fdac815338943cc1c24cf9d87c4ad7f7d98
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/888933/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,f0252144eb2f53783da9d6bcb9239b997f05e435,minor-update-job,"if [[ -f ""$RELEASES_SCRIPT"" ]] && [[ {{ featureset }} =~ 037|047|050|056|065|067|068 ]]; && ![[ {{ osp_release|default('') }} =~ rhos ]] ; then","if [[ -f ""$RELEASES_SCRIPT"" ]] && [[ {{ featureset }} =~ 037|047|050|056|065|067|068 ]]; then",1,1
openstack%2Fcinder~master~I9bbfab93fb138932243d880e440c9524b5f08217,openstack/cinder,master,I9bbfab93fb138932243d880e440c9524b5f08217,Automate generation of backups api-ref samples,MERGED,2023-06-23 12:34:34.000000000,2023-07-27 08:54:14.000000000,2023-07-27 08:52:53.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 35851}]","[{'number': 1, 'created': '2023-06-23 12:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d4b302b7e050f81e9110f8bcfa52587c0cf7e05', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) List backup with details\n2) Show backup\n3) Update backup\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: I9bbfab93fb138932243d880e440c9524b5f08217\n'}, {'number': 2, 'created': '2023-06-23 14:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f23565d062d97dff4bdc3aba53352e576f5926cf', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) List backup with details\n2) Show backup\n3) Update backup\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: I9bbfab93fb138932243d880e440c9524b5f08217\n'}, {'number': 3, 'created': '2023-06-23 15:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/254d45157d1e6c92a16f7c1bdc3bf8f4afc34ac2', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) List backup with details\n2) Show backup\n3) Update backup\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: I9bbfab93fb138932243d880e440c9524b5f08217\n'}, {'number': 4, 'created': '2023-07-10 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f34fcb8dce7797ec6bca8ee8d069a2acb8f85e84', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) List backup with details\n2) Show backup\n3) Update backup\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: I9bbfab93fb138932243d880e440c9524b5f08217\n'}, {'number': 5, 'created': '2023-07-11 11:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7027607befd8ae0f0d546a89f7e1be2e6541f80', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) List backup with details\n2) Show backup\n3) Update backup\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: I9bbfab93fb138932243d880e440c9524b5f08217\n'}, {'number': 6, 'created': '2023-07-13 13:26:44.000000000', 'files': ['cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.18/backup-show-response.json', 'api-ref/source/v3/samples/backups/v3.43/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backups-list-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.43/backup-show-response.json', 'api-ref/source/v3/samples/backups/v3.18/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.47/backup-restore-request.json.tpl', 'api-ref/source/v3/samples/backups/v3.45/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backups-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/backups/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backups-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backup-create-response.json', 'api-ref/source/v3/samples/backups/v3.18/backups-list-detailed-response.json', 'api-ref/source/v3/samples/backups/v3.9/backup-update-response.json', 'api-ref/source/v3/samples/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backups-list-detailed-response.json.tpl', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/v3.45/backup-create-response.json', 'api-ref/source/v3/samples/backups/backups-list-detailed-response.json', 'api-ref/source/v3/samples/backups/v3.56/backup-show-response.json', 'api-ref/source/v3/samples/backups/v3.43/backups-list-response.json', 'api-ref/source/v3/samples/backups/v3.56/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backups-list-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.18/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backups-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backup-update-request.json', 'api-ref/source/v3/samples/backups/v3.9/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.47/backup-restore-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-update-request.json.tpl', 'api-ref/source/v3/samples/backups/v3.56/backup-create-response.json', 'api-ref/source/v3/samples/backups/v3.9/backup-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backups-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backups-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backups-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backups-list-detailed-response.json', 'api-ref/source/v3/samples/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.56/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backup-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-update-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.45/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backup-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backups-list-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.43/backup-create-response.json', 'api-ref/source/v3/samples/backups/v3.45/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backups-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-request.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6172d2a9a0ad6cb35e2218ee6c2f57588ac97981', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) List backup with details\n2) Show backup\n3) Update backup\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: I9bbfab93fb138932243d880e440c9524b5f08217\n'}]",19,886818,6172d2a9a0ad6cb35e2218ee6c2f57588ac97981,111,6,6,35836,,,0,"Automate generation of backups api-ref samples

This patch adds the following tests:

1) List backup with details
2) Show backup
3) Update backup

Partially-Implements: blueprint generating-sample-files
Change-Id: I9bbfab93fb138932243d880e440c9524b5f08217
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/886818/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.18/backup-show-response.json', 'api-ref/source/v3/samples/backups/v3.43/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backups-list-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.43/backup-show-response.json', 'api-ref/source/v3/samples/backups/v3.18/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.47/backup-restore-request.json.tpl', 'api-ref/source/v3/samples/backups/v3.45/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backups-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/backups/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'api-ref/source/v3/samples/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backups-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backup-create-response.json', 'api-ref/source/v3/samples/backups/v3.18/backups-list-detailed-response.json', 'api-ref/source/v3/samples/backups/v3.9/backup-update-response.json', 'api-ref/source/v3/samples/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backups-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.45/backup-create-response.json', 'api-ref/source/v3/samples/backups/backups-list-detailed-response.json', 'api-ref/source/v3/samples/backups/v3.56/backup-show-response.json', 'api-ref/source/v3/samples/backups/v3.43/backups-list-response.json', 'api-ref/source/v3/samples/backups/v3.56/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backups-list-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.18/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backups-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backups-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.47/backup-restore-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-update-request.json.tpl', 'api-ref/source/v3/samples/backups/v3.56/backup-create-response.json', 'api-ref/source/v3/samples/backups/v3.9/backup-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backups-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backups-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backups-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.43/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backups-list-detailed-response.json', 'api-ref/source/v3/samples/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.56/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.56/backup-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backup-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backup-update-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.45/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.18/backup-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.45/backups-list-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.43/backup-create-response.json', 'api-ref/source/v3/samples/backups/v3.45/backups-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/v3.9/backups-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-show-response.json.tpl', 'api-ref/source/v3/samples/backups/v3.9/backup-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-request.json.tpl']",55,4d4b302b7e050f81e9110f8bcfa52587c0cf7e05,test_list_detail_backup,"{ ""backup"":{ ""name"":""backup001"", ""description"": ""this is a backup"" } }",,1210,117
openstack%2Fpuppet-ceph~master~I3bdb153f917838e309288b80a18af4a494d13a4d,openstack/puppet-ceph,master,I3bdb153f917838e309288b80a18af4a494d13a4d,Fix unknown variable errors caused by ceph::profile::fsid,MERGED,2023-07-21 05:37:37.000000000,2023-07-27 08:46:40.000000000,2023-07-27 08:46:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 05:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/64886a339adb488a3e54af42b532cb0e59ae06e0', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nThis makes the fsid parameter required to avoid breaking unexpected\nusage relying on the old behavior.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}, {'number': 2, 'created': '2023-07-21 06:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c568895a2e727324cce57f4fc28354220af9311d', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}, {'number': 3, 'created': '2023-07-21 07:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/3c14bc8d2c9db18ff968f56e599f27ae6a03f55d', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}, {'number': 4, 'created': '2023-07-21 08:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4cd4dde034a0009b0713b55aba0caee1b0e312a2', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}, {'number': 5, 'created': '2023-07-22 14:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/650da430dc3b87d4eb28468a6098b8850a7131de', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}, {'number': 6, 'created': '2023-07-22 15:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b34a5bc779cb636dc42c7ffd854c053f3397d8c2', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}, {'number': 7, 'created': '2023-07-22 17:15:33.000000000', 'files': ['manifests/profile/osd.pp', 'spec/defines/ceph_osd_spec.rb', 'manifests/osd.pp', 'spec/classes/ceph_osds_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/df03ad050158360c36f70b64494e8efcb278d6ae', 'message': 'Fix unknown variable errors caused by ceph::profile::fsid\n\nThsi fixes the unknown variable errors caused by usage of\nceph::profile::fsid. The definition in ceph::profile should NOT be used\nby generic implementation outside of profile modules.\n\nChange-Id: I3bdb153f917838e309288b80a18af4a494d13a4d\n'}]",1,889148,df03ad050158360c36f70b64494e8efcb278d6ae,19,4,7,9816,,,0,"Fix unknown variable errors caused by ceph::profile::fsid

Thsi fixes the unknown variable errors caused by usage of
ceph::profile::fsid. The definition in ceph::profile should NOT be used
by generic implementation outside of profile modules.

Change-Id: I3bdb153f917838e309288b80a18af4a494d13a4d
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/48/889148/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/params.pp', 'manifests/profile/osd.pp', 'spec/defines/ceph_osd_spec.rb', 'manifests/init.pp', 'manifests/osd.pp', 'spec/classes/ceph_osds_spec.rb']",6,64886a339adb488a3e54af42b532cb0e59ae06e0,," :fsid => 'f39ace04-f967-4c3d-9fd2-32af2d2d2cd5',",,16,7
openstack%2Fpuppet-neutron~master~Ibe22978383c2e1758d91b7bee545479e947829d0,openstack/puppet-neutron,master,Ibe22978383c2e1758d91b7bee545479e947829d0,Restart specific agents after updating agent config,MERGED,2023-07-26 05:34:51.000000000,2023-07-27 08:42:59.000000000,2023-07-27 08:42:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 05:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0192bfaabb476ead3525fe1d77209019048c51e2', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nThis also updates package/service resource name to make the naming\nmore consistent.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 2, 'created': '2023-07-26 05:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e46c9cf52b696d4064d3799ccd3dbf91c086a172', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nThis also updates package/service resource name to make the naming\nmore consistent.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 3, 'created': '2023-07-26 08:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/acc16a89967cef1f88815e582cbbe86eb1b4df5c', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nThis also updates package/service resource name to make the naming\nmore consistent.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 4, 'created': '2023-07-26 08:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5f940afcf79bdd8fb1c25b7014b679b63519bffd', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nThis also updates package/service resource name to make the naming\nmore consistent.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 5, 'created': '2023-07-26 09:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9600d2a5f1ea54840933d77dd23fe547bcd57fba', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nThis also updates package/service resource name to make the naming\nmore consistent.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 6, 'created': '2023-07-26 12:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/597c5b11c67af758ebd83e588fa5a48607812a26', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nThis also updates package/service resource name to make the naming\nmore consistent.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 7, 'created': '2023-07-26 12:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c648e3023c6c76508bec23a2f2bff6d2f272bfbc', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}, {'number': 8, 'created': '2023-07-26 12:42:10.000000000', 'files': ['manifests/agents/ml2/linuxbridge.pp', 'manifests/agents/vpnaas.pp', 'manifests/agents/ml2/networking_baremetal.pp', 'manifests/agents/ml2/ovn.pp', 'manifests/agents/ml2/ovs.pp', 'manifests/agents/ml2/macvtap.pp', 'manifests/agents/l3.pp', 'manifests/agents/bagpipe.pp', 'manifests/agents/bgp_dragent.pp', 'manifests/agents/ml2/sriov.pp', 'manifests/agents/dhcp.pp', 'manifests/agents/l2gw.pp', 'manifests/agents/metering.pp', 'manifests/agents/metadata.pp', 'manifests/deps.pp', 'manifests/agents/ovn_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a0803988211d01424ab8c7e9f70d1b0014e0ba24', 'message': 'Restart specific agents after updating agent config\n\nCurrently we restart all neutron services regardless of the config\nfiles being updated. This is the first step to improve that redundancy\nand update the notification to restart only a specific agent service\nwhen an agent config file is updated.\n\nChange-Id: Ibe22978383c2e1758d91b7bee545479e947829d0\n'}]",0,889675,a0803988211d01424ab8c7e9f70d1b0014e0ba24,17,3,8,9816,,,0,"Restart specific agents after updating agent config

Currently we restart all neutron services regardless of the config
files being updated. This is the first step to improve that redundancy
and update the notification to restart only a specific agent service
when an agent config file is updated.

Change-Id: Ibe22978383c2e1758d91b7bee545479e947829d0
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/75/889675/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/linuxbridge.pp', 'manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_metadata_spec.rb', 'manifests/agents/ml2/ovn.pp', 'manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb', 'manifests/agents/bgp_dragent.pp', 'manifests/agents/ml2/sriov.pp', 'manifests/agents/dhcp.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/agents/metering.pp', 'spec/classes/neutron_agents_metering_spec.rb', 'manifests/deps.pp', 'manifests/agents/ovn_metadata.pp', 'spec/classes/neutron_plugins_ml2_networking_baremetal_spec.rb', 'spec/classes/neutron_agents_dhcp_spec.rb', 'spec/classes/neutron_agents_ovn_metadata_spec.rb', 'manifests/agents/ml2/ovs.pp', 'manifests/agents/ml2/macvtap.pp', 'manifests/agents/l2gw.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'spec/classes/neutron_agents_ml2_linuxbridge_spec.rb', 'manifests/agents/metadata.pp', 'spec/classes/neutron_agents_ml2_sriov_spec.rb']",24,0192bfaabb476ead3525fe1d77209019048c51e2,, should contain_service('neutron-sriov-nic-agent').with( should contain_service('neutron-sriov-nic-agent').that_subscribes_to('Anchor[neutron::service::begin]') should contain_service('neutron-sriov-nic-agent').that_notifies('Anchor[neutron::service::end]') should_not contain_service('neutron-sriov-nic-agent'), should contain_service('neutron-sriov-nic-agent-service').with( should contain_service('neutron-sriov-nic-agent-service').that_subscribes_to('Anchor[neutron::service::begin]') should contain_service('neutron-sriov-nic-agent-service').that_notifies('Anchor[neutron::service::end]') should_not contain_service('neutron-sriov-nic-agent-service'),104,98
openstack%2Fpuppet-neutron~master~Ib3fcfa088414512fca3882e8b1bd94d1a5ca0e1b,openstack/puppet-neutron,master,Ib3fcfa088414512fca3882e8b1bd94d1a5ca0e1b,Remove unused neutron-db-sync-service tag,MERGED,2023-07-26 08:26:07.000000000,2023-07-27 08:36:03.000000000,2023-07-27 08:36:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 08:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/13a69255dcd92c4ba4610676802cd8f334e157ee', 'message': 'Remove unnecessary neutron-db-sync-service tag from ovs-agent\n\novs-agent is irrelevant to dbsync.\n\nChange-Id: Ib3fcfa088414512fca3882e8b1bd94d1a5ca0e1b\n'}, {'number': 2, 'created': '2023-07-26 12:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/35005e50f3e904d3147c5784ee48a30f37e36ad4', 'message': 'Remove unused neutron-db-sync-service tag\n\nThis tag is not used by any logic and can be removed.\n\nChange-Id: Ib3fcfa088414512fca3882e8b1bd94d1a5ca0e1b\n'}, {'number': 3, 'created': '2023-07-26 12:42:10.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'spec/classes/neutron_server_spec.rb', 'manifests/agents/ml2/ovs.pp', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/462573bd459059b3d018f7bd520d842106df1acd', 'message': 'Remove unused neutron-db-sync-service tag\n\nThis tag is not used by any logic and can be removed.\n\nChange-Id: Ib3fcfa088414512fca3882e8b1bd94d1a5ca0e1b\n'}]",1,889679,462573bd459059b3d018f7bd520d842106df1acd,12,3,3,9816,,,0,"Remove unused neutron-db-sync-service tag

This tag is not used by any logic and can be removed.

Change-Id: Ib3fcfa088414512fca3882e8b1bd94d1a5ca0e1b
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/79/889679/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",2,13a69255dcd92c4ba4610676802cd8f334e157ee,," tag => ['neutron-service'],"," tag => ['neutron-service', 'neutron-db-sync-service'],",2,2
openstack%2Fpuppet-neutron~master~I6cf46b846dea3d1b6cf533e947caa1f6ca50fb51,openstack/puppet-neutron,master,I6cf46b846dea3d1b6cf533e947caa1f6ca50fb51,Remove unused unit test implementation,MERGED,2023-07-26 12:42:10.000000000,2023-07-27 08:28:54.000000000,2023-07-27 08:28:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 12:42:10.000000000', 'files': ['spec/classes/neutron_agents_l3_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/aca88eb0817b3a571c5008b5ffee8c6c0dddeb19', 'message': 'Remove unused unit test implementation\n\nThis shard example is not called.\n\nChange-Id: I6cf46b846dea3d1b6cf533e947caa1f6ca50fb51\n'}]",0,889706,aca88eb0817b3a571c5008b5ffee8c6c0dddeb19,7,3,1,9816,,,0,"Remove unused unit test implementation

This shard example is not called.

Change-Id: I6cf46b846dea3d1b6cf533e947caa1f6ca50fb51
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/06/889706/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_agents_l3_spec.rb'],1,aca88eb0817b3a571c5008b5ffee8c6c0dddeb19,,, shared_examples 'neutron::agents::l3 on Debian' do it 'configures neutron-l3 package subscription' do should contain_service('neutron-l3').that_subscribes_to('Anchor[neutron::service::begin]') should contain_service('neutron-l3').that_notifies('Anchor[neutron::service::end]') end end ,0,7
openstack%2Fpuppet-neutron~master~Id639122356fec25c6bd6c7fd7e4572af9eb6ddc2,openstack/puppet-neutron,master,Id639122356fec25c6bd6c7fd7e4572af9eb6ddc2,Remove redundant deps for some resource types,MERGED,2023-07-26 04:55:46.000000000,2023-07-27 08:28:52.000000000,2023-07-27 08:28:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 04:55:46.000000000', 'files': ['manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7e1f8d71af7f132994a692236faea3e712fada7d', 'message': 'Remove redundant deps for some resource types\n\nWe already added autorequire to type definitions to ensure services are\nstarted before we manage these resources.\n\nChange-Id: Id639122356fec25c6bd6c7fd7e4572af9eb6ddc2\n'}]",0,889672,7e1f8d71af7f132994a692236faea3e712fada7d,7,3,1,9816,,,0,"Remove redundant deps for some resource types

We already added autorequire to type definitions to ensure services are
started before we manage these resources.

Change-Id: Id639122356fec25c6bd6c7fd7e4572af9eb6ddc2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/72/889672/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/deps.pp'],1,7e1f8d71af7f132994a692236faea3e712fada7d,,, Anchor['neutron::service::end'] -> Neutron_l3_ovs_bridge<||> Anchor['neutron::service::end'] -> Neutron_network<||> Anchor['neutron::service::end'] -> Neutron_port<||> Anchor['neutron::service::end'] -> Neutron_router<||> Anchor['neutron::service::end'] -> Neutron_subnet<||> ,0,6
openstack%2Fpuppet-keystone~stable%2Fxena~I0866f2d546b9f23acef5a7e15bdf334ff781655d,openstack/puppet-keystone,stable/xena,I0866f2d546b9f23acef5a7e15bdf334ff781655d,Add support for [DEFAULT] notification_opt_out,MERGED,2023-07-26 18:30:49.000000000,2023-07-27 08:18:18.000000000,2023-07-27 07:54:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 18:30:49.000000000', 'files': ['manifests/init.pp', 'spec/classes/keystone_init_spec.rb', 'releasenotes/notes/notification_opt_out-5c87151211fe8840.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/11dbf38cfda264caf046626027557761077c5b4b', 'message': 'Add support for [DEFAULT] notification_opt_out\n\nChange-Id: I0866f2d546b9f23acef5a7e15bdf334ff781655d\n(cherry picked from commit f60c82edac2b59838c32ecee6258f32d3209ee1d)\n'}]",1,889761,11dbf38cfda264caf046626027557761077c5b4b,9,3,1,7973,,,0,"Add support for [DEFAULT] notification_opt_out

Change-Id: I0866f2d546b9f23acef5a7e15bdf334ff781655d
(cherry picked from commit f60c82edac2b59838c32ecee6258f32d3209ee1d)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/61/889761/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb', 'releasenotes/notes/notification_opt_out-5c87151211fe8840.yaml']",3,11dbf38cfda264caf046626027557761077c5b4b,,--- features: - | The new ``keystone::notification_opt_out`` parameter has been added. ,,29,3
openstack%2Fvenus~master~I9b68bcd357810fd597550dd603781b5c5c4fd572,openstack/venus,master,I9b68bcd357810fd597550dd603781b5c5c4fd572,anomaly detect: add new tables in db script,MERGED,2023-07-27 07:10:13.000000000,2023-07-27 08:12:58.000000000,2023-07-27 08:12:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-27 07:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/28d0c6ad7d8fb08c1d3fa672712d721f1fac6ade', 'message': 'anomaly detect: add new tables in db script\n\nChange-Id: I9b68bcd357810fd597550dd603781b5c5c4fd572\n'}, {'number': 2, 'created': '2023-07-27 07:26:06.000000000', 'files': ['venus/db/alembic/versions/a6cf98f55b4d_.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/b8a227dd768a952ca7780f2173e88c44fbbd5f82', 'message': 'anomaly detect: add new tables in db script\n\nChange-Id: I9b68bcd357810fd597550dd603781b5c5c4fd572\n'}]",3,889822,b8a227dd768a952ca7780f2173e88c44fbbd5f82,9,2,2,27565,,,0,"anomaly detect: add new tables in db script

Change-Id: I9b68bcd357810fd597550dd603781b5c5c4fd572
",git fetch https://review.opendev.org/openstack/venus refs/changes/22/889822/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/db/alembic/versions/a6cf98f55b4d_.py'],1,28d0c6ad7d8fb08c1d3fa672712d721f1fac6ade,," # create task table and init data # create config table and init data # create anomaly rule table t_mo_anomaly_rule = op.create_table( 't_mo_anomaly_rules', sa.Column('id', sa.String(64), nullable=False, primary_key=True), sa.Column('title', sa.String(1024), nullable=True, primary_key=False), sa.Column('desc', sa.String(1024), nullable=True, primary_key=False), sa.Column('keyword', sa.String(1024), nullable=True, primary_key=False), sa.Column('log_type', sa.String(1024), nullable=True, primary_key=False), sa.Column('module', sa.String(1024), nullable=True, primary_key=False), sa.Column('flag', sa.Integer, nullable=True, primary_key=False), sa.Column('create_time', sa.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'), sa.Column('update_time', sa.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'), mysql_engine='InnoDB', mysql_charset='utf8' ) # create anomaly record table t_mo_anomaly_record = op.create_table( 't_mo_anomaly_rules', sa.Column('id', sa.String(64), nullable=False, primary_key=True), sa.Column('title', sa.String(1024), nullable=True, primary_key=False), sa.Column('desc', sa.String(1024), nullable=True, primary_key=False), sa.Column('keyword', sa.String(1024), nullable=True, primary_key=False), sa.Column('log_type', sa.String(1024), nullable=True, primary_key=False), sa.Column('module', sa.String(1024), nullable=True, primary_key=False), sa.Column('flag', sa.Integer, nullable=True, primary_key=False), sa.Column('start_time', sa.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'), sa.Column('end_time', sa.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'), sa.Column('create_time', sa.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'), mysql_engine='InnoDB', mysql_charset='utf8' ) ",,51,0
openstack%2Fcharm-barbican-k8s~main~I2037f65d2295b832bdf9e95474a4fcf590244b76,openstack/charm-barbican-k8s,main,I2037f65d2295b832bdf9e95474a4fcf590244b76,Add debug option to barbican.conf,MERGED,2023-07-26 15:24:21.000000000,2023-07-27 07:59:15.000000000,2023-07-27 07:59:15.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 15:24:21.000000000', 'files': ['src/templates/barbican.conf'], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/e70755754b551d5f9cf85392cb2a715557a4e524', 'message': 'Add debug option to barbican.conf\n\nDebug option was not templated, making an operator unable to enable\ndebug logs.\n\nChange-Id: I2037f65d2295b832bdf9e95474a4fcf590244b76\n'}]",1,889726,e70755754b551d5f9cf85392cb2a715557a4e524,6,2,1,35761,,,0,"Add debug option to barbican.conf

Debug option was not templated, making an operator unable to enable
debug logs.

Change-Id: I2037f65d2295b832bdf9e95474a4fcf590244b76
",git fetch https://review.opendev.org/openstack/charm-barbican-k8s refs/changes/26/889726/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/barbican.conf'],1,e70755754b551d5f9cf85392cb2a715557a4e524,feat/debug-option,debug = {{ options.debug }},,1,0
openstack%2Fpuppet-zaqar~master~Ie504006737f094704bbff8499ac9ddbb9e8f75f5,openstack/puppet-zaqar,master,Ie504006737f094704bbff8499ac9ddbb9e8f75f5,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:53:45.000000000,2023-07-27 07:51:00.000000000,2023-07-27 07:51:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:53:45.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/69c1e88fd1b7d5674c952ea79a12f9a0cb35d496', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Ie504006737f094704bbff8499ac9ddbb9e8f75f5\n'}]",1,889247,69c1e88fd1b7d5674c952ea79a12f9a0cb35d496,10,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Ie504006737f094704bbff8499ac9ddbb9e8f75f5
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/47/889247/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,69c1e88fd1b7d5674c952ea79a12f9a0cb35d496,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-nova~master~Ie7b8a5376b20dcc20375a26004d1c24a96193c10,openstack/puppet-nova,master,Ie7b8a5376b20dcc20375a26004d1c24a96193c10,Ensure correct type for nova_public_key/nova_private_key,MERGED,2023-07-24 03:02:06.000000000,2023-07-27 07:41:41.000000000,2023-07-27 07:41:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 03:02:06.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8f829fef2eaa3ed1321f5f9dcdc82e9642601629', 'message': ""Ensure correct type for nova_public_key/nova_private_key\n\nThese parameters accept only hash values containing the required keys.\nLet's ensure these parameters accept only hash value to avoid wired\nfailures in key validations.\n\nChange-Id: Ie7b8a5376b20dcc20375a26004d1c24a96193c10\n""}]",0,889287,8f829fef2eaa3ed1321f5f9dcdc82e9642601629,7,3,1,9816,,,0,"Ensure correct type for nova_public_key/nova_private_key

These parameters accept only hash values containing the required keys.
Let's ensure these parameters accept only hash value to avoid wired
failures in key validations.

Change-Id: Ie7b8a5376b20dcc20375a26004d1c24a96193c10
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/87/889287/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,8f829fef2eaa3ed1321f5f9dcdc82e9642601629,," Optional[Hash] $nova_public_key = undef, Optional[Hash] $nova_private_key = undef, if ! $nova_private_key['key'] or ! $nova_private_key['type'] {"," $nova_public_key = undef, $nova_private_key = undef, if ! $nova_private_key[key] or ! $nova_private_key['type'] {",3,3
openstack%2Ftrove~master~I393b1822ad410e9499964880e7e008b85ead78eb,openstack/trove,master,I393b1822ad410e9499964880e7e008b85ead78eb,Uses shell=False in postgresql backup driver,NEW,2023-03-19 02:06:29.000000000,2023-07-27 07:41:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-03-19 02:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0f1e3117f98ad3bfdc28050a19889c9af24e6ca1', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 2, 'created': '2023-03-19 02:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3699396747b3765dd9497ce5f20c5c28fbc0b858', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 3, 'created': '2023-03-19 16:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/33b4b24ff9978263676ffad245bdf3f601197661', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 4, 'created': '2023-03-20 08:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/389baa067cad715552a1a7accf653e807c4abaae', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 5, 'created': '2023-04-15 15:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ce99c23074fe01f7c85817871c07136a72265e34', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 6, 'created': '2023-04-18 22:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/add8a69981fd86c17bb4e4e3b20872369901b73f', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 7, 'created': '2023-05-14 20:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c6df09de9240c98b3e2002b61845c6b0e9f8934b', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 8, 'created': '2023-05-15 15:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a4d0ca77d641b4cb04aedc4f95515792bcee872d', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 9, 'created': '2023-05-19 02:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d36a4ee17a9973000033cd49457ebe43a8e8ab95', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 10, 'created': '2023-05-29 17:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6d4e1995c1132b32adc9edaf91dbfdb32a1add43', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 11, 'created': '2023-05-29 23:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/182083eaf55b9bcbb4074253f0f57dda545d2b68', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 12, 'created': '2023-05-30 00:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0b8949f75f449ed7d02c71c3d2034b96e6d42736', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 13, 'created': '2023-05-30 02:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e993f0f505ad4bb97670236cf3fefb76bc078d75', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 14, 'created': '2023-06-29 11:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/424866a972ae43cc33061d0578a8dd9321500bf8', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}, {'number': 15, 'created': '2023-07-20 07:43:33.000000000', 'files': ['backup/drivers/base.py', 'backup/drivers/postgres.py', 'backup/tests/unittests/drivers/__init__.py', 'backup/tests/unittests/__init__.py', 'tox.ini', 'backup/tests/unittests/drivers/test_postgres.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/beb7925b9e6c1dfa071b3bca3c8fe93ee9a538bf', 'message': ""Uses shell=False in postgresql backup driver\n\nThis PR changes the subprocess arg from 'shell=True' to 'shell=False'\nto enhance security in postgresql backup driver.\n\nThe original problem is remote code execution bug in backup driver.\n\nStory: 2010004\nTask: 47288\nChange-Id: I393b1822ad410e9499964880e7e008b85ead78eb\n""}]",66,877861,beb7925b9e6c1dfa071b3bca3c8fe93ee9a538bf,55,2,15,31737,,,0,"Uses shell=False in postgresql backup driver

This PR changes the subprocess arg from 'shell=True' to 'shell=False'
to enhance security in postgresql backup driver.

The original problem is remote code execution bug in backup driver.

Story: 2010004
Task: 47288
Change-Id: I393b1822ad410e9499964880e7e008b85ead78eb
",git fetch https://review.opendev.org/openstack/trove refs/changes/61/877861/15 && git format-patch -1 --stdout FETCH_HEAD,"['backup/drivers/base.py', 'backup/drivers/postgres.py']",2,0f1e3117f98ad3bfdc28050a19889c9af24e6ca1,story/2010004-47288,"import subprocess import signal def backup_log(self): return ""/tmp/pgbackup.log"" @property def backup_inc_log(self): return ""/tmp/pgbackup_inc.log"" @property def restore_log(self): return ""/tmp/pgrestore.log"" @property def restore_inc_log(self): return ""/tmp/pgrestore_inc.log"" @property LOG.info(""Polling for backup metadata... "") def __enter__(self): """"""Start up the process."""""" self.pre_backup() self._run() return self def __exit__(self, exc_type, exc_value, traceback): """"""Clean up everything."""""" if getattr(self, 'process', None): try: # Send a sigterm to the session leader, so that all # child processes are killed and cleaned up on terminate os.killpg(self.process.pid, signal.SIGTERM) self.process.terminate() except OSError: pass if exc_type is not None: return False try: err = None if getattr(self, 'errlog', None): if not self.errlog.closed: self.errlog.seek(0,0) # seek to the beginning of the file err = self.errlog.read() # read the entire contents of the file if err: raise Exception(err) except OSError: pass if not self.check_process(): raise Exception() self.post_backup() return True def pre_backup(self): """"""Hook for subclasses to run commands before backup."""""" self.errlog = open(self.backup_log, ""w"") def post_backup(self): """"""Hook for subclasses to run commands after backup."""""" if not self.errlog.closed: # close if open self.errlog.close() def _run(self): """"""Override the method in the base class"""""" LOG.info(""Running postgres backup cmd: %s"", self.command) self.process = subprocess.Popen(self.command.split(), shell=False, stdout=subprocess.PIPE, stderr=self.errlog, start_new_session=True) self.pid = self.process.pid # TODO(hiwkby) referenced nowhere? def pre_restore(self): """"""Hook for subclasses to run commands before restore."""""" self.errlog = open(self.restore_log, ""w"") def run_restore(self): """"""Override the method in the base class"""""" stream = self.storage.load(self.location, self.checksum) LOG.info('Running restore from stream, command: %s', self.restore_command) self.process = subprocess.Popen(self.restore_command.split(), shell=False, stdout=subprocess.PIPE, stdin=subprocess.PIPE, stderr=self.errlog, start_new_session=True) content_length = 0 for chunk in stream: self.process.stdin.write(chunk) content_length += len(chunk) self.process.stdin.close() return content_length def post_restore(self): """"""Hook for subclasses to run commands after backup."""""" if getattr(self, 'process', None): try: returncode = self.process.wait() # sends SIGTERM to the child except OSError: pass try: err = None if not self.errlog.closed: self.errlog.seek(0,0) # seek to the beginning of the file err = self.errlog.read() # read the entire contents of the file self.errlog.close() if err: raise Exception(err) except OSError: pass if not self.check_restore_process(): raise Exception() # open self.backup_log self.errlog = open(self.backup_inc_log, ""w"") # open self.backup_log def post_restore(self): """"""Hook for subclasses to run commands after backup."""""" if getattr(self, 'process', None): try: returncode = self.process.wait() # sends SIGTERM to the child except OSError: pass try: err = None if not self.errlog.closed: self.errlog.seek(0,0) # seek to the beginning of the file err = self.errlog.read() # read the entire contents of the file if err: raise Exception(err) except OSError: pass if not self.check_restore_process(): raise Exception() if not self.errlog.closed: # close if open self.errlog.close() def unpack(self, location, checksum, command): stream = self.storage.load(location, checksum) LOG.info('Running restore from stream, command: %s', command) self.process = subprocess.Popen(command.split(), shell=False, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=self.errlog) content_length = 0 for chunk in stream: self.process.stdin.write(chunk) content_length += len(chunk) self.process.stdin.close() return content_length LOG.info('Running incremental restore')"," LOG.debug(""Polling for backup metadata... "") LOG.debug('Running incremental restore')",168,2
openstack%2Fcyborg~master~I069b555489bdd35834ca6cbc57827dc50027b1cd,openstack/cyborg,master,I069b555489bdd35834ca6cbc57827dc50027b1cd,Change the log level and content,MERGED,2023-07-26 11:37:41.000000000,2023-07-27 07:39:09.000000000,2023-07-27 07:38:00.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-26 11:37:41.000000000', 'files': ['cyborg/accelerator/drivers/gpu/nvidia/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a34fe93ce933800ff2d64480c9f266b2b4ce5d31', 'message': 'Change the log level and content\n\nChange-Id: I069b555489bdd35834ca6cbc57827dc50027b1cd\n'}]",0,889700,a34fe93ce933800ff2d64480c9f266b2b4ce5d31,7,2,1,31412,,,0,"Change the log level and content

Change-Id: I069b555489bdd35834ca6cbc57827dc50027b1cd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/00/889700/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/gpu/nvidia/sysinfo.py'],1,a34fe93ce933800ff2d64480c9f266b2b4ce5d31,," LOG.warning('Unable to load vGPU_type from [gpu_devices] ' 'Ensure ""enabled_vgpu_types"" is set if the gpu' 'is virtualized.')"," LOG.error('Unable to load vGPU_type from [gpu_devices] ' 'Ensure ""enabled_vgpu_types"" is set.')",3,2
openstack%2Fcinder~master~Ia137d786fa961bc7d3e2cbbd18965fc124a041e6,openstack/cinder,master,Ia137d786fa961bc7d3e2cbbd18965fc124a041e6,api-ref fix manageable_volumes request and response,NEW,2021-12-06 14:01:05.000000000,2023-07-27 07:38:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-06 14:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7103409ce927146542b67ab63cc54c2abfe8b9e2', 'message': 'api-ref fix manageable_volumes request and response\n\nThis patch sets all items as optional except ref on requirements\ntable schema, fixes the values to be null instead of ""null"" on\nresponse example and sets volume-type to be string instead of object.\n\nCloses-Bug: 1944784\nChange-Id: Ia137d786fa961bc7d3e2cbbd18965fc124a041e6\n'}, {'number': 2, 'created': '2023-07-26 16:32:29.000000000', 'files': ['api-ref/source/v3/samples/volume_manage_extensions/volume-manage-response.json', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e40bace186130c877b6ae33ebd0eea28c5af19b', 'message': 'api-ref fix manageable_volumes request and response\n\nThis patch sets all items as optional except ref on requirements\ntable schema, fixes the values to be null instead of ""null"" on\nresponse example and sets volume-type to be string instead of object.\n\nCloses-Bug: 1944784\nChange-Id: Ia137d786fa961bc7d3e2cbbd18965fc124a041e6\n'}]",1,820525,2e40bace186130c877b6ae33ebd0eea28c5af19b,29,1,2,33986,,,0,"api-ref fix manageable_volumes request and response

This patch sets all items as optional except ref on requirements
table schema, fixes the values to be null instead of ""null"" on
response example and sets volume-type to be string instead of object.

Closes-Bug: 1944784
Change-Id: Ia137d786fa961bc7d3e2cbbd18965fc124a041e6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/820525/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volume_manage_extensions/volume-manage-response.json', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/volume-manage.inc']",3,7103409ce927146542b67ab63cc54c2abfe8b9e2,, - volume: volume_optional - description: description_volume_type_optional - availability_zone: availability_zone_optional - bootable: bootable - volume_type: volume_type_optional, - volume: volume - description: description_vol - availability_zone: availability_zone - bootable: bootable_required - volume_type: volume_type,26,8
openstack%2Fpuppet-oslo~master~I52cd38d9787d407f7c583996640fcef33aedb32e,openstack/puppet-oslo,master,I52cd38d9787d407f7c583996640fcef33aedb32e,db: Add option to disable config management,MERGED,2023-07-25 06:44:47.000000000,2023-07-27 07:35:41.000000000,2023-07-27 07:35:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 06:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/a368ce87c87d355ffb97fa309178d484183141e7', 'message': 'db: Add option to disable config management\n\n... so that we can reuse the logic to install the required backend\npackage.\n\nChange-Id: I52cd38d9787d407f7c583996640fcef33aedb32e\n'}, {'number': 2, 'created': '2023-07-25 08:06:50.000000000', 'files': ['spec/defines/oslo_db_spec.rb', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/2d8966ab43f5ead55a75719626aa4bee26e86b0f', 'message': 'db: Add option to disable config management\n\n... so that we can reuse the logic to install the required backend\npackage.\n\nChange-Id: I52cd38d9787d407f7c583996640fcef33aedb32e\n'}]",0,889374,2d8966ab43f5ead55a75719626aa4bee26e86b0f,9,3,2,9816,,,0,"db: Add option to disable config management

... so that we can reuse the logic to install the required backend
package.

Change-Id: I52cd38d9787d407f7c583996640fcef33aedb32e
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/74/889374/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_db_spec.rb', 'manifests/db.pp']",2,a368ce87c87d355ffb97fa309178d484183141e7,db-manage_config,"# [*manage_config*] # (Optional) Whether to manage the configuration parameters. # Defaults to true. # Boolean $manage_config = true, if $manage_config { $database_options = { ""${config_group}/sqlite_synchronous"" => { value => $sqlite_synchronous }, ""${config_group}/backend"" => { value => $backend }, ""${config_group}/connection"" => { value => $connection, secret => true }, ""${config_group}/slave_connection"" => { value => $slave_connection, secret => true }, ""${config_group}/mysql_sql_mode"" => { value => $mysql_sql_mode }, ""${config_group}/connection_recycle_time"" => { value => $connection_recycle_time }, ""${config_group}/max_pool_size"" => { value => $max_pool_size }, ""${config_group}/max_retries"" => { value => $max_retries }, ""${config_group}/retry_interval"" => { value => $retry_interval }, ""${config_group}/max_overflow"" => { value => $max_overflow }, ""${config_group}/connection_debug"" => { value => $connection_debug }, ""${config_group}/connection_trace"" => { value => $connection_trace }, ""${config_group}/pool_timeout"" => { value => $pool_timeout }, ""${config_group}/use_db_reconnect"" => { value => $use_db_reconnect }, ""${config_group}/db_retry_interval"" => { value => $db_retry_interval }, ""${config_group}/db_inc_retry_interval"" => { value => $db_inc_retry_interval }, ""${config_group}/db_max_retry_interval"" => { value => $db_max_retry_interval }, ""${config_group}/db_max_retries"" => { value => $db_max_retries }, ""${config_group}/mysql_enable_ndb"" => { value => $mysql_enable_ndb }, } create_resources($config, $database_options) }"," $database_options = { ""${config_group}/sqlite_synchronous"" => { value => $sqlite_synchronous }, ""${config_group}/backend"" => { value => $backend }, ""${config_group}/connection"" => { value => $connection, secret => true }, ""${config_group}/slave_connection"" => { value => $slave_connection, secret => true }, ""${config_group}/mysql_sql_mode"" => { value => $mysql_sql_mode }, ""${config_group}/connection_recycle_time"" => { value => $connection_recycle_time }, ""${config_group}/max_pool_size"" => { value => $max_pool_size }, ""${config_group}/max_retries"" => { value => $max_retries }, ""${config_group}/retry_interval"" => { value => $retry_interval }, ""${config_group}/max_overflow"" => { value => $max_overflow }, ""${config_group}/connection_debug"" => { value => $connection_debug }, ""${config_group}/connection_trace"" => { value => $connection_trace }, ""${config_group}/pool_timeout"" => { value => $pool_timeout }, ""${config_group}/use_db_reconnect"" => { value => $use_db_reconnect }, ""${config_group}/db_retry_interval"" => { value => $db_retry_interval }, ""${config_group}/db_inc_retry_interval"" => { value => $db_inc_retry_interval }, ""${config_group}/db_max_retry_interval"" => { value => $db_max_retry_interval }, ""${config_group}/db_max_retries"" => { value => $db_max_retries }, ""${config_group}/mysql_enable_ndb"" => { value => $mysql_enable_ndb }, } create_resources($config, $database_options) ",42,23
openstack%2Fpuppet-swift~master~Idfa09b63d291b0f71686554cb7c7b0597cb8842c,openstack/puppet-swift,master,Idfa09b63d291b0f71686554cb7c7b0597cb8842c,Restart only specific services after config change,MERGED,2023-07-24 05:30:02.000000000,2023-07-27 07:32:29.000000000,2023-07-27 07:31:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 05:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/276c15c708443aefab0d0c6cf292e01c238a7245', 'message': 'Restart only specific services after config change\n\nCurrently we restart all swift services regardless of the config file\nbeing updated. This is very redundant, because some config files affect\nonly specific services (eg. account-server.conf is used only by\naccount-* daemons).\n\nThis introduces new ""sub"" tags such as swift-account-service and limit\nthe services being restarted.\n\nChange-Id: Idfa09b63d291b0f71686554cb7c7b0597cb8842c\n'}, {'number': 2, 'created': '2023-07-24 06:08:18.000000000', 'files': ['spec/classes/swift_storage_account_spec.rb', 'spec/defines/swift_storage_generic_spec.rb', 'manifests/storage/container.pp', 'spec/classes/swift_storage_object_spec.rb', 'manifests/containerreconciler.pp', 'manifests/storage/object.pp', 'manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb', 'manifests/storage/generic.pp', 'manifests/service.pp', 'manifests/objectexpirer.pp', 'releasenotes/notes/restart-specific-services-1b0a0e9d45afa0bc.yaml', 'manifests/deps.pp', 'manifests/storage/account.pp', 'spec/classes/swift_storage_container_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/3c89736ffe064a90ccebef5407c1b7bf200f6354', 'message': 'Restart only specific services after config change\n\nCurrently we restart all swift services regardless of the config file\nbeing updated. This is very redundant, because some config files affect\nonly specific services (eg. account-server.conf is used only by\naccount-* daemons).\n\nThis introduces new ""sub"" tags such as swift-account-service and limit\nthe services being restarted.\n\nChange-Id: Idfa09b63d291b0f71686554cb7c7b0597cb8842c\n'}]",1,889291,3c89736ffe064a90ccebef5407c1b7bf200f6354,11,3,2,9816,,,0,"Restart only specific services after config change

Currently we restart all swift services regardless of the config file
being updated. This is very redundant, because some config files affect
only specific services (eg. account-server.conf is used only by
account-* daemons).

This introduces new ""sub"" tags such as swift-account-service and limit
the services being restarted.

Change-Id: Idfa09b63d291b0f71686554cb7c7b0597cb8842c
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/91/889291/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_storage_account_spec.rb', 'spec/defines/swift_storage_generic_spec.rb', 'manifests/storage/container.pp', 'spec/classes/swift_storage_object_spec.rb', 'manifests/containerreconciler.pp', 'manifests/storage/object.pp', 'manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb', 'manifests/storage/generic.pp', 'manifests/service.pp', 'manifests/objectexpirer.pp', 'releasenotes/notes/restart-specific-services-1b0a0e9d45afa0bc.yaml', 'manifests/deps.pp', 'manifests/storage/account.pp', 'spec/classes/swift_storage_container_spec.rb']",15,276c15c708443aefab0d0c6cf292e01c238a7245,config-restart," :tag => ['swift-service', 'swift-container-service'],"," :tag => 'swift-service',",59,43
openstack%2Fpuppet-gnocchi~master~I845b4d99711055ed6a6feb1df2d1e287ea53a0fc,openstack/puppet-gnocchi,master,I845b4d99711055ed6a6feb1df2d1e287ea53a0fc,CentOS: Stop installing gnocchi-indexer-sqlalchemy,MERGED,2023-07-25 07:12:08.000000000,2023-07-27 07:23:52.000000000,2023-07-27 07:23:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 07:12:08.000000000', 'files': ['manifests/db.pp', 'manifests/params.pp', 'spec/classes/gnocchi_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/120450bec84884d491703d5246bed2594a03fde5', 'message': 'CentOS: Stop installing gnocchi-indexer-sqlalchemy\n\nThe package was merged into the common package a long ago[1], and we\nno longer need to install it explicitly.\n\n[1] https://github.com/rdo-packages/gnocchi-distgit/commit/af210a84ac5106258559e86d0924279c8b4b6bb7\n\nChange-Id: I845b4d99711055ed6a6feb1df2d1e287ea53a0fc\n'}]",0,889377,120450bec84884d491703d5246bed2594a03fde5,7,3,1,9816,,,0,"CentOS: Stop installing gnocchi-indexer-sqlalchemy

The package was merged into the common package a long ago[1], and we
no longer need to install it explicitly.

[1] https://github.com/rdo-packages/gnocchi-distgit/commit/af210a84ac5106258559e86d0924279c8b4b6bb7

Change-Id: I845b4d99711055ed6a6feb1df2d1e287ea53a0fc
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/77/889377/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/params.pp', 'spec/classes/gnocchi_db_spec.rb']",3,120450bec84884d491703d5246bed2594a03fde5,,," context 'using sqlite' do it { should contain_package('gnocchi-indexer-sqlalchemy').with( :name => 'openstack-gnocchi-indexer-sqlalchemy', :ensure => 'present', :tag => ['openstack', 'gnocchi-package'] )} end ",0,19
openstack%2Fkolla~master~I141dbf2f5338ce3ce8f66d0b948463a084b94f56,openstack/kolla,master,I141dbf2f5338ce3ce8f66d0b948463a084b94f56,octavia: bootstrap octavia_persistence database,MERGED,2023-07-14 15:31:53.000000000,2023-07-27 06:48:13.000000000,2023-07-25 17:22:39.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-07-14 15:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0453e0ef1713f47a842cd0081c017d19327ef32', 'message': 'octavia: bootstrap octavia_persistence database\n\nSigned-off-by: Christian Berendt <berendt@osism.tech>\nChange-Id: I141dbf2f5338ce3ce8f66d0b948463a084b94f56\n'}, {'number': 2, 'created': '2023-07-14 15:37:21.000000000', 'files': ['releasenotes/notes/octavia_persistence-9cae39010b28bcee.yaml', 'docker/octavia/octavia-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/77cfb749d128977ba6b6958ae3d3ee39cd31dd1c', 'message': 'octavia: bootstrap octavia_persistence database\n\nChange-Id: I141dbf2f5338ce3ce8f66d0b948463a084b94f56\n'}]",3,888587,77cfb749d128977ba6b6958ae3d3ee39cd31dd1c,16,4,2,167,,,0,"octavia: bootstrap octavia_persistence database

Change-Id: I141dbf2f5338ce3ce8f66d0b948463a084b94f56
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/888587/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/octavia/octavia-api/extend_start.sh'],1,a0453e0ef1713f47a842cd0081c017d19327ef32,upgrade_persistence, octavia-db-manage upgrade_persistence,,1,0
openstack%2Freleases~master~I12f3995f537ecf478d554c79d137fa79518d464a,openstack/releases,master,I12f3995f537ecf478d554c79d137fa79518d464a,[Yoga] Release neutron-tempest-plugin,ABANDONED,2023-07-25 15:23:44.000000000,2023-07-27 06:47:07.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:23:44.000000000', 'files': ['deliverables/yoga/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7b1690d53ca3e89ca6d2782ceddfdc0498b1301', 'message': '[Yoga] Release neutron-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..9cf35d2\nd5acee3 Using ""Designate API"" in addition to DNS query client check\nd5023e1 Use OVN v21.06 in Wallaby and Victoria\n24b5edd Fix wallaby/victoria neutron-tempest-plugin-ovn job\nfddcd18 Add ""-d 1"" option to the ncat client.\n2d6c029 Add neutron-tempest-plugin-linuxbridge job to the experimental queue\nda45177 Replace deprecated tenant_id property\n52582a0 Always run iptables-save as root\n5a9c677 [Stateless SG] Add IPv6 and DHCP related tests\ncb59648 gate: bump ovn to the latest LTS release (22.03)\n\nChange-Id: I12f3995f537ecf478d554c79d137fa79518d464a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889513,a7b1690d53ca3e89ca6d2782ceddfdc0498b1301,6,3,1,28522,,,0,"[Yoga] Release neutron-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..9cf35d2
d5acee3 Using ""Designate API"" in addition to DNS query client check
d5023e1 Use OVN v21.06 in Wallaby and Victoria
24b5edd Fix wallaby/victoria neutron-tempest-plugin-ovn job
fddcd18 Add ""-d 1"" option to the ncat client.
2d6c029 Add neutron-tempest-plugin-linuxbridge job to the experimental queue
da45177 Replace deprecated tenant_id property
52582a0 Always run iptables-save as root
5a9c677 [Stateless SG] Add IPv6 and DHCP related tests
cb59648 gate: bump ovn to the latest LTS release (22.03)

Change-Id: I12f3995f537ecf478d554c79d137fa79518d464a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/889513/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/neutron-tempest-plugin.yaml'],1,a7b1690d53ca3e89ca6d2782ceddfdc0498b1301,yoga-convenience-before-em, - version: 1.10.0 projects: - repo: openstack/neutron-tempest-plugin hash: 9cf35d26c8a03610af7119c2c15ed17d8514ed88,,4,0
openstack%2Fpuppet-neutron~master~I6752e24faf9343abfb8df01b9415957cc826108e,openstack/puppet-neutron,master,I6752e24faf9343abfb8df01b9415957cc826108e,Accept a string value for default_availability_zones,MERGED,2023-06-18 23:05:04.000000000,2023-07-27 06:45:26.000000000,2023-07-27 06:45:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-18 23:05:04.000000000', 'files': ['manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/926e62e32e20e1ebd89aefe108d667e94ec1c7f5', 'message': 'Accept a string value for default_availability_zones\n\n... as we do for the other ListOpt options.\n\nChange-Id: I6752e24faf9343abfb8df01b9415957cc826108e\n'}]",7,886348,926e62e32e20e1ebd89aefe108d667e94ec1c7f5,29,3,1,9816,,,0,"Accept a string value for default_availability_zones

... as we do for the other ListOpt options.

Change-Id: I6752e24faf9343abfb8df01b9415957cc826108e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/48/886348/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/server.pp'],1,926e62e32e20e1ebd89aefe108d667e94ec1c7f5,,," if !is_service_default($default_availability_zones) { validate_legacy(Array, 'validate_array', $default_availability_zones) } ",0,4
openstack%2Fopenstack-helm~master~I2c2a54f4a90656bc6fb441b8a794744e4a636cb6,openstack/openstack-helm,master,I2c2a54f4a90656bc6fb441b8a794744e4a636cb6,Use ubuntu-focal-32GB label for compute-kit tests,MERGED,2023-07-26 11:15:38.000000000,2023-07-27 06:44:43.000000000,2023-07-27 06:42:48.000000000,"[{'_account_id': 22348}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-07-26 11:15:38.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fcac5812ec7377a51250e8a134c51333317c811b', 'message': 'Use ubuntu-focal-32GB label for compute-kit tests\n\nThe change https://review.opendev.org/c/openstack/project-config/+/888901\nintroduces two new labels ubuntu-focal-32GB and ubuntu-jammy-32GB.\nThese labels are available in only one region (Vexxhost ca-ymq-1)\nand the number of such nodes is extremely limited. So we are\ngoing to switch compute-kit jobs to multinode nodesets ASAP and\nthis is in progress at the moment.\n\nThis change is a temporary solution to unblock all our\nactivities.\n\nChange-Id: I2c2a54f4a90656bc6fb441b8a794744e4a636cb6\n'}]",0,889694,fcac5812ec7377a51250e8a134c51333317c811b,7,2,1,3009,,,0,"Use ubuntu-focal-32GB label for compute-kit tests

The change https://review.opendev.org/c/openstack/project-config/+/888901
introduces two new labels ubuntu-focal-32GB and ubuntu-jammy-32GB.
These labels are available in only one region (Vexxhost ca-ymq-1)
and the number of such nodes is extremely limited. So we are
going to switch compute-kit jobs to multinode nodesets ASAP and
this is in progress at the moment.

This change is a temporary solution to unblock all our
activities.

Change-Id: I2c2a54f4a90656bc6fb441b8a794744e4a636cb6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/94/889694/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,fcac5812ec7377a51250e8a134c51333317c811b,, # This label is available in vexxhost ca-ymq-1 region # The flavor v3-standard-8 in this particular region has # 32GB nodes. We should not stick to this label because # the number of such nodes is extremely limited. # We'd better switch to multinode nodesets ASAP (in-progress). label: ubuntu-focal-32GB,# TODO(kozhukalov): Remove this once the below PR is merged # https://review.opendev.org/c/openstack/openstack-helm-infra/+/884989 # this label is available in vexxhost with # v3-standard-8 flavor which is 8 cpus and 32GB memory # the same flavor is used for ubuntu-bionic-32GB label: nested-virt-ubuntu-focal,6,6
openstack%2Fpuppet-murano~master~I9f98a8c3d470a45f62d1165f32a783a840aa7bdb,openstack/puppet-murano,master,I9f98a8c3d470a45f62d1165f32a783a840aa7bdb,Add strict validation about boolean parameters,MERGED,2023-07-22 14:57:49.000000000,2023-07-27 06:28:50.000000000,2023-07-27 06:28:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/28568489b52159db69d2e800189ed0eaab0562f8', 'message': 'Add strict validation about boolean parameters\n\nThis ensures the parameters used by if-else logic accept only boolean\nvalues because non-boolean can result in unexpected behavior.\n\nChange-Id: I9f98a8c3d470a45f62d1165f32a783a840aa7bdb\n'}, {'number': 2, 'created': '2023-07-26 08:32:11.000000000', 'files': ['manifests/cfapi.pp', 'manifests/engine.pp', 'manifests/dashboard.pp', 'manifests/api.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/63904655f1b5952bc60036d460bc2ee2f6582650', 'message': 'Add strict validation about boolean parameters\n\nThis ensures the parameters used by if-else logic accept only boolean\nvalues because non-boolean can result in unexpected behavior.\n\nChange-Id: I9f98a8c3d470a45f62d1165f32a783a840aa7bdb\n'}]",0,889249,63904655f1b5952bc60036d460bc2ee2f6582650,9,3,2,9816,,,0,"Add strict validation about boolean parameters

This ensures the parameters used by if-else logic accept only boolean
values because non-boolean can result in unexpected behavior.

Change-Id: I9f98a8c3d470a45f62d1165f32a783a840aa7bdb
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/49/889249/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cfapi.pp', 'manifests/engine.pp', 'manifests/dashboard.pp', 'manifests/api.pp', 'manifests/init.pp']",5,28568489b52159db69d2e800189ed0eaab0562f8,validate-boolean," Boolean $use_ssl = false, Boolean $use_neutron = true, Boolean $sync_db = true,"," $use_ssl = false, $use_neutron = true, $sync_db = true,",26,26
openstack%2Fmanila~master~Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b,openstack/manila,master,Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b,Handle access rules on share replicas.,MERGED,2022-12-23 11:30:21.000000000,2023-07-27 06:00:26.000000000,2023-07-27 05:59:21.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-12-23 11:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d496cc01c6312f063341472b72af0a4be9568f2a', 'message': ""Apply access rules on new share replicas\n\nOtherwise the rules that are copied from source share\nwould hang in 'queued_to_apply' forever.\nEventually this calls the driver with update_access(),\nwhere it can decide what to do.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}, {'number': 2, 'created': '2022-12-23 12:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5358c05006f23d07bade2300a3f86cef3dfa38a1', 'message': ""Apply access rules on new share replicas\n\nOtherwise the rules that are copied from source share\nwould hang in 'queued_to_apply' forever.\nEventually this calls the driver with update_access(),\nwhere it can decide what to do.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}, {'number': 3, 'created': '2023-01-04 17:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/06d4bf109cb39852c0d79c57cf9752f9651a6d27', 'message': ""Apply access rules on new share replicas\n\nOtherwise the rules that are copied from source share\nwould hang in 'queued_to_apply' forever.\nEventually this calls the driver with update_access(),\nwhere it can decide what to do.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}, {'number': 4, 'created': '2023-04-21 13:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/eee7d3200586efc757adb30e03716079e74089d5', 'message': ""Handle access rules on share replicas.\n\nCurrently rules that are copied from source share would hang in\n'queued_to_apply' forever. To fix this check access_rule_status of\nthe created replica and accordingly update access rule and state.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}, {'number': 5, 'created': '2023-06-01 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3a6134e99a31093f6ba76c76ff673d1a0948a916', 'message': ""Handle access rules on share replicas.\n\nCurrently rules that are copied from source share would hang in\n'queued_to_apply' forever. To fix this check access_rule_status of\nthe created replica and accordingly update access rule and state.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}, {'number': 6, 'created': '2023-07-10 13:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4ed5ad6caf5ef413a39ea3489220e9c9834fa6ad', 'message': ""Handle access rules on share replicas.\n\nCurrently rules that are copied from source share would hang in\n'queued_to_apply' forever. To fix this check access_rule_status of\nthe created replica and accordingly update access rule and state.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}, {'number': 7, 'created': '2023-07-10 15:44:27.000000000', 'files': ['releasenotes/notes/bug-2000253-handle-access-rules-on-replica-c7304ae55c68857f.yaml', 'manila/share/manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/945579aefc2bbe6583e333ffd90a24a1044e059f', 'message': ""Handle access rules on share replicas.\n\nCurrently rules that are copied from source share would hang in\n'queued_to_apply' forever. To fix this check access_rule_status of\nthe created replica and accordingly update access rule and state.\n\nChange-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b\nCloses-Bug: #2000253\n""}]",16,868341,945579aefc2bbe6583e333ffd90a24a1044e059f,60,5,7,18816,,,0,"Handle access rules on share replicas.

Currently rules that are copied from source share would hang in
'queued_to_apply' forever. To fix this check access_rule_status of
the created replica and accordingly update access rule and state.

Change-Id: Ie7ddd9f631510ba97e92a1eb0eb9a5d944ec1b3b
Closes-Bug: #2000253
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/868341/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/manager.py'],1,d496cc01c6312f063341472b72af0a4be9568f2a,bug/2000253," if share_access_rules: self.share_api.allow_access_to_instance( context, share_replica['id']) ",,4,0
openstack%2Fcinder~master~I5446d3d4fa7c76a90ca64ef6b61f90cdece1a88e,openstack/cinder,master,I5446d3d4fa7c76a90ca64ef6b61f90cdece1a88e,Add api-ref functional tests for backup actions,NEW,2023-06-21 11:50:54.000000000,2023-07-27 05:48:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35836}]","[{'number': 1, 'created': '2023-06-21 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7d25e8d2ea2fa29dc702c258afe74fd043208c6', 'message': 'Add api-ref functional tests for backup actions\n\nThis patch adds the functional tests to generate api-ref request\nresponse for attachments API.\n\nChange-Id: I5446d3d4fa7c76a90ca64ef6b61f90cdece1a88e\n'}, {'number': 2, 'created': '2023-06-23 19:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e943fed46c18f285b774afcecdc54e26a5fa047', 'message': 'Add api-ref functional tests for backup actions\n\nThis patch adds the functional tests to generate api-ref request\nresponse for attachments API.\n\nChange-Id: I5446d3d4fa7c76a90ca64ef6b61f90cdece1a88e\n'}, {'number': 3, 'created': '2023-07-13 15:16:05.000000000', 'files': ['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/api_sample_tests/samples/backup_actions/backup-reset-status-request.json.tpl', 'cinder/tests/functional/api/client.py', 'api-ref/source/v3/samples/backup_actions/backup-force-delete-request.json', 'cinder/tests/functional/api_sample_tests/samples/backup_actions/backup-force-delete-request.json.tpl', 'cinder/tests/functional/api_sample_tests/test_backups_actions.py', 'api-ref/source/v3/samples/backup_actions/backup-reset-status-request.json', 'api-ref/source/v3/ext-backups-actions-v3.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c0a4fa26c08c77f1b6a6a6603413887e7c1d910', 'message': 'Add api-ref functional tests for backup actions\n\nThis patch adds the functional tests to generate api-ref request\nresponse for attachments API.\n\nChange-Id: I5446d3d4fa7c76a90ca64ef6b61f90cdece1a88e\n'}]",5,886609,1c0a4fa26c08c77f1b6a6a6603413887e7c1d910,43,3,3,20813,,,0,"Add api-ref functional tests for backup actions

This patch adds the functional tests to generate api-ref request
response for attachments API.

Change-Id: I5446d3d4fa7c76a90ca64ef6b61f90cdece1a88e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/886609/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/api_sample_tests/samples/backup_actions/backup-reset-status-request.json.tpl', 'cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/api/client.py', 'api-ref/source/v3/samples/backup_actions/backup-force-delete-request.json', 'cinder/tests/functional/api_sample_tests/samples/backup_actions/backup-force-delete-request.json.tpl', 'cinder/tests/functional/api_sample_tests/test_backups_actions.py', 'api-ref/source/v3/samples/backup_actions/backup-reset-status-request.json']",7,a7d25e8d2ea2fa29dc702c258afe74fd043208c6,,"{ ""os-reset_status"": { ""status"": ""available"" } }",,90,0
openstack%2Ftempest~master~Id0762a51f7ff72905c6c05bdff2e18321d616c91,openstack/tempest,master,Id0762a51f7ff72905c6c05bdff2e18321d616c91,Run test_port_security_macspoofing_port slow tests serially,MERGED,2023-07-20 20:42:01.000000000,2023-07-27 04:29:51.000000000,2023-07-21 12:11:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-07-20 20:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed7b22c457172a48f021356a524a003f5d86bd7e', 'message': 'Run slow api tests in parallel\n\nBelow commit made all the slow test run parallel\nwhich has improved the tempest-slow time to almost\nhalf. But there are some issue in running the slow\nscenario tests in parallel and some test fail in more\nfrequently. For rexample, test_port_security_macspoofing_port\n\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_db5/887220/5/check/tempest-slow-py3/db5adef/testr_results.html\n\nRunning API slow tests in parallel should at least reduce\nthe slow job time.\n\nChange-Id: Id0762a51f7ff72905c6c05bdff2e18321d616c91\n'}, {'number': 2, 'created': '2023-07-20 23:34:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/33e4e24df59605a9e2187f410f470a11d0549c8f', 'message': ""Run test_port_security_macspoofing_port slow tests serially\n\nBelow commit made all the slow test run parallel\nwhich has improved the tempest-slow time to almost\nhalf. But there are some issue in running the\ntest_port_security_macspoofing_port slow scenario tests\nin parallel and it fail many time\n\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_db5/887220/5/check/tempest-slow-py3/db5adef/testr_results.html\n\nLet's run this test in serial and see if we hit\nany other test like this which is causing issue while\nrunning on parallel.\n\nChange-Id: Id0762a51f7ff72905c6c05bdff2e18321d616c91\n""}]",5,889129,33e4e24df59605a9e2187f410f470a11d0549c8f,21,2,2,8556,,,0,"Run test_port_security_macspoofing_port slow tests serially

Below commit made all the slow test run parallel
which has improved the tempest-slow time to almost
half. But there are some issue in running the
test_port_security_macspoofing_port slow scenario tests
in parallel and it fail many time

https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_db5/887220/5/check/tempest-slow-py3/db5adef/testr_results.html

Let's run this test in serial and see if we hit
any other test like this which is causing issue while
running on parallel.

Change-Id: Id0762a51f7ff72905c6c05bdff2e18321d616c91
",git fetch https://review.opendev.org/openstack/tempest refs/changes/29/889129/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ed7b22c457172a48f021356a524a003f5d86bd7e,tempest-job-timeout,regex1 = 'tempest\.api(.*\[.*\bslow\b.*\])' regex2 = 'tempest\.(scenario|serial_tests)(.*\[.*\bslow\b.*\])' # The regex below is used to run api slow test in parallel and rest in serial tempest run --regex {[testenv:slow]regex1} {posargs} tempest run --combine --serial --regex {[testenv:slow]regex2} {posargs},regex = '\[.*\bslow\b.*\]' tempest run --regex {[testenv:slow]regex} {posargs},5,2
openstack%2Ftrove~master~Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b,openstack/trove,master,Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b,Add metadata table,ABANDONED,2021-08-20 10:04:21.000000000,2023-07-27 04:07:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-20 10:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f78b278837e18390dd1e00ed1fa6ee0f53ad2af9', 'message': 'Add metadata table\n\nChange-Id: Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b\n'}, {'number': 2, 'created': '2021-08-20 10:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/24cc13ccb62e1fb8b135aa49711b73d34cc5ef6e', 'message': 'Add metadata table\n\nTask: #42106\nStory: #2008747\nChange-Id: Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b\n'}, {'number': 3, 'created': '2021-08-20 11:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0ac900d57571ea0f518ffa278cce25b69df1b0dd', 'message': 'Add metadata table\n\nChange-Id: Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b\n'}, {'number': 4, 'created': '2021-08-20 11:11:26.000000000', 'files': ['trove/db/sqlalchemy/migrate_repo/versions/049_add_metadata.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/56d3a6ed912e6525aa3bef21d8d4ed09d1909a00', 'message': 'Add metadata table\n\nTask: #42106\nStory: #2008747\nChange-Id: Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b\n'}]",0,805362,56d3a6ed912e6525aa3bef21d8d4ed09d1909a00,7,1,4,33668,,,0,"Add metadata table

Task: #42106
Story: #2008747
Change-Id: Ia2ffb09c44f9944ac59f3088bcf76a8b639db58b
",git fetch https://review.opendev.org/openstack/trove refs/changes/62/805362/3 && git format-patch -1 --stdout FETCH_HEAD,"['trove/db/sqlalchemy/mappers.py', 'trove/db/sqlalchemy/migrate_repo/versions/049_add_metadata.py']",2,f78b278837e18390dd1e00ed1fa6ee0f53ad2af9,add-metadata-table,"# Copyright 2021 BizFly Cloud # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sqlalchemy.schema import Column from sqlalchemy.schema import Index from sqlalchemy.schema import MetaData from sqlalchemy.schema import UniqueConstraint from trove.db.sqlalchemy.migrate_repo.schema import Boolean from trove.db.sqlalchemy.migrate_repo.schema import DateTime from trove.db.sqlalchemy.migrate_repo.schema import String from trove.db.sqlalchemy.migrate_repo.schema import Table from trove.db.sqlalchemy.migrate_repo.schema import create_tables meta = MetaData() metadata = Table( 'metadata', meta, Column('id', String(36), primary_key=True, nullable=False), Column('resource_id', String(36), nullable=False), Column('resource_type', String(255)), Column('project_id', String(36), nullable=False), Column('key', String(255)), Column('value', String(255)), Column('created', DateTime()), Column('updated', DateTime()), Column('deleted_at', DateTime()), Column('deleted', Boolean()), UniqueConstraint( 'project_id', 'resource_id', 'key', name='UQ_metadata_project_id_resource_id_key' ), Index(""metadata_project_id_resource_id"", ""project_id"", ""resource_id""), ) def upgrade(migrate_engine): meta.bind = migrate_engine create_tables([metadata]) ",,54,0
openstack%2Fvenus~master~Ic03372fb5c8198b734305642cf8686bf8bacc895,openstack/venus,master,Ic03372fb5c8198b734305642cf8686bf8bacc895,remove sqlalchemy,MERGED,2023-07-27 03:10:42.000000000,2023-07-27 03:42:38.000000000,2023-07-27 03:41:39.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-27 03:10:42.000000000', 'files': ['venus/db/sqlalchemy/__init__.py', 'venus/db/sqlalchemy/migrate_repo/__init__.py', 'venus/db/sqlalchemy/migrate_repo/README', 'venus/db/sqlalchemy/migrate_repo/migrate.cfg', 'venus/db/sqlalchemy/migrate_repo/manage.py', 'venus/db/sqlalchemy/migrate_repo/versions/__init__.py', 'venus/db/sqlalchemy/migrate_repo/versions/001_venus_init.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/160ea2bd501298ad8d44324dfe42a78335501451', 'message': 'remove sqlalchemy\n\nChange-Id: Ic03372fb5c8198b734305642cf8686bf8bacc895\n'}]",0,889821,160ea2bd501298ad8d44324dfe42a78335501451,7,2,1,27565,,,0,"remove sqlalchemy

Change-Id: Ic03372fb5c8198b734305642cf8686bf8bacc895
",git fetch https://review.opendev.org/openstack/venus refs/changes/21/889821/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/db/sqlalchemy/__init__.py', 'venus/db/sqlalchemy/migrate_repo/__init__.py', 'venus/db/sqlalchemy/migrate_repo/README', 'venus/db/sqlalchemy/migrate_repo/migrate.cfg', 'venus/db/sqlalchemy/migrate_repo/manage.py', 'venus/db/sqlalchemy/migrate_repo/versions/__init__.py', 'venus/db/sqlalchemy/migrate_repo/versions/001_venus_init.py']",7,160ea2bd501298ad8d44324dfe42a78335501451,,,"# Copyright 2020 Inspur # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""WSGI Routers for the Identity service."""""" import sqlalchemy as sql from sqlalchemy.orm import sessionmaker def upgrade(migrate_engine): meta = sql.MetaData() meta.bind = migrate_engine t_mo_regitster_task = sql.Table( 't_mo_regitster_task', meta, sql.Column('Id', sql.Integer, nullable=False, primary_key=True), sql.Column('task_name', sql.String(255), nullable=True, primary_key=False), sql.Column('host_name', sql.String(255), nullable=True, primary_key=False), sql.Column('update_time', sql.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'), sql.Column('created_at', sql.DateTime, nullable=True, primary_key=False), sql.Column('updated_at', sql.DateTime, nullable=True, primary_key=False), sql.Column('deleted', sql.String(1), nullable=True, primary_key=False), sql.Column('deleted_at', sql.DateTime, nullable=True, primary_key=False), mysql_engine='InnoDB', mysql_charset='utf8') t_mo_regitster_task.create(migrate_engine, checkfirst=True) new_data = { 'Id': '1', 'task_name': 'delete_es_index', 'host_name': '', 'update_time': '1900-01-01 00:00:00' } maker = sessionmaker(bind=migrate_engine) session = maker() t_mo_regitster_task = sql.Table('t_mo_regitster_task', meta, autoload=True) row = t_mo_regitster_task.insert().values(**new_data) session.execute(row) session.commit() t_mo_custom_config = sql.Table( 't_mo_custom_config', meta, sql.Column('id', sql.String(64), primary_key=True), sql.Column('value', sql.String(10240), nullable=False), sql.Column('update_time', sql.DateTime), mysql_engine='InnoDB', mysql_charset='utf8') t_mo_custom_config.create(migrate_engine, checkfirst=True) new_data = { 'id': 'log_save_days', 'value': '30', 'update_time': '1900-01-01 00:00:00' } maker = sessionmaker(bind=migrate_engine) session = maker() t_mo_custom_config = sql.Table('t_mo_custom_config', meta, autoload=True) row = t_mo_custom_config.insert().values(**new_data) session.execute(row) session.commit() session.close() ",0,133
openstack%2Fnova~master~I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b,openstack/nova,master,I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b,Add compute_id to Instance object,MERGED,2023-04-04 17:42:37.000000000,2023-07-27 01:39:20.000000000,2023-07-27 01:38:06.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-04 17:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c9a359163841040d8be8c03e37f246a51dc63f', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 2, 'created': '2023-04-05 15:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d42a7f139b3d945723987dcca74035efd9359912', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 3, 'created': '2023-04-05 19:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8591cc4905cc64e1f37b0729cad4bb95136da645', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 4, 'created': '2023-04-06 17:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/916644e6e2ca01dcbdfa420527dcc9d33d8b3425', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 5, 'created': '2023-04-07 19:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f6b9e0290e4b18e2f60c97b8e785c3cdbaf84f1', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 6, 'created': '2023-04-12 17:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef86aa968b4296974e281656af77fbaa7c80e608', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 7, 'created': '2023-05-05 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e5aecf04bb90409c9e47c261d0343fd6023bc6d', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 8, 'created': '2023-05-08 23:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cd03c343a3cc658985402eb52f47d5ff2419ad6', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 9, 'created': '2023-05-22 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bf607ea90216bd5e04d2bb82339a8febf977be3', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 10, 'created': '2023-05-30 17:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f5cc235e6076ba308dcd5622bf977d1e67b7450', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}, {'number': 11, 'created': '2023-05-31 14:13:27.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/functional/db/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/objects/build_request.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/instance.py', 'nova/compute/manager.py', 'nova/tests/unit/objects/test_instance.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/625fb569a763f08c55f844034775da2ccf23517e', 'message': 'Add compute_id to Instance object\n\nThis adds the compute_id field to the Instance object and adds\nchecks in save() and create() to make sure we no longer update node\nwithout also updating compute_id.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b\n'}]",15,879500,625fb569a763f08c55f844034775da2ccf23517e,80,5,11,4393,,,0,"Add compute_id to Instance object

This adds the compute_id field to the Instance object and adds
checks in save() and create() to make sure we no longer update node
without also updating compute_id.

Related to blueprint compute-object-ids

Change-Id: I0740a2e4e09a526da8565a18e6761b4dbdc4ec0b
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/879500/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/instance.py', 'nova/compute/manager.py', 'nova/tests/unit/objects/test_instance.py', 'nova/compute/resource_tracker.py']",13,a4c9a359163841040d8be8c03e37f246a51dc63f,bp/compute-object-ids," self._set_instance_host_and_node(instance, None) self._set_instance_host_and_node(instance, cn) def _set_instance_host_and_node(self, instance, node): if node is not None: # NOTE(danms): This method can be called when the node is disabled, # which means not in our list. The note in instance_claim() # explains that we should actually never get there (here) and that # if we do, we will likely record the instance membership # incorrectly. As such, if we do not have a compute node to # update the instance, just avoid making a change. instance.node = node.hypervisor_hostname instance.compute_id = node.id instance.compute_id = None # NOTE(danms): We can be called with node=None, which means compute_id # should also be None instance.compute_id = node and self.compute_nodes[node].id or None"," self._set_instance_host_and_node(instance, nodename) self._set_instance_host_and_node(instance, nodename) def _set_instance_host_and_node(self, instance, nodename): instance.node = nodename",123,25
openstack%2Fcinder~stable%2Fwallaby~I609a4f056d19f67aa7b8113bb38b9e9083f24124,openstack/cinder,stable/wallaby,I609a4f056d19f67aa7b8113bb38b9e9083f24124,Fix NetApp NFS driver to never spawn a native thread again,NEW,2023-06-13 12:48:35.000000000,2023-07-27 00:32:20.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 12:48:35.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f37d3faa5b20b42d06a16c77c7976c167a4c1c7e', 'message': ""Fix NetApp NFS driver to never spawn a native thread again\n\nThe NetApp NFS driver is spawning a Python native thread to\nschedule image cache cleanups, which can lead to unpredictable\nbehavior such as thread starvation due to its hunger to preempt\nother Cinder's fellow threads.\n\nThis patch fixes it by reimplementing the NFS image cache cleanup\ntask as a green thread with a customized periodic interval.\n\nThe patch adds the configuration\noption netapp_nfs_image_cache_cleanup_interval to allow\noperators to set an interval in seconds between calls to the image\ncleanup task.\n\nCloses-Bug: #2008017\nChange-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124\n(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)\n(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)\n""}]",4,885921,f37d3faa5b20b42d06a16c77c7976c167a4c1c7e,16,2,1,35002,,,0,"Fix NetApp NFS driver to never spawn a native thread again

The NetApp NFS driver is spawning a Python native thread to
schedule image cache cleanups, which can lead to unpredictable
behavior such as thread starvation due to its hunger to preempt
other Cinder's fellow threads.

This patch fixes it by reimplementing the NFS image cache cleanup
task as a green thread with a customized periodic interval.

The patch adds the configuration
option netapp_nfs_image_cache_cleanup_interval to allow
operators to set an interval in seconds between calls to the image
cleanup task.

Closes-Bug: #2008017
Change-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124
(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)
(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/885921/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py']",6,f37d3faa5b20b42d06a16c77c7976c167a4c1c7e,," cfg.IntOpt('netapp_nfs_image_cache_cleanup_interval', default=600, min=60, help=('Sets time in seconds between NFS image cache ' 'cleanup tasks.')),",,51,76
openstack%2Fcinder~stable%2Fyoga~I80923f9968de31738c554b77c0942a6182f0e67c,openstack/cinder,stable/yoga,I80923f9968de31738c554b77c0942a6182f0e67c,Fix Infinidat driver generic volume migration,NEW,2023-07-24 14:56:25.000000000,2023-07-26 23:35:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-24 14:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1785010e9392f7c80c94c4b08387d0584d295b04', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)\n(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)\n'}, {'number': 2, 'created': '2023-07-25 19:28:02.000000000', 'files': ['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ccf691cb6a72b6e23c3095bf12909498c430465', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)\n(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)\n'}]",48,889240,9ccf691cb6a72b6e23c3095bf12909498c430465,23,1,2,35075,,,0,"Fix Infinidat driver generic volume migration

- Use volume name_id to resolve Infinidat volume name.
- Add update_migrated_volume function to fix generic volume
  migration between two pools within the same storage cluster.

Closes-bug: #1982405
Change-Id: I80923f9968de31738c554b77c0942a6182f0e67c
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)
(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/889240/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,1785010e9392f7c80c94c4b08387d0584d295b04,bug/1982405,"<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl)======= 1.8 - added revert to snapshot 1.9 - added manage/unmanage/manageable-list volume/snapshot 1.10 - added support for TLS/SSL communication 1.11 - fixed generic volume migration >>>>>>> CHANGE (40ee7d Fix Infinidat driver generic volume migration)<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl)======= VERSION = '1.11' >>>>>>> CHANGE (40ee7d Fix Infinidat driver generic volume migration) def _make_volume_name(self, cinder_volume, migration=False): """"""Return the Infinidat volume name. Use Cinder volume id in case of volume migration and use Cinder volume name_id for all other cases. """""" if migration: key = cinder_volume.id else: key = cinder_volume.name_id return 'openstack-vol-%s' % key clone = mock.Mock(name_id=str(volume.name_id) + '-internal')<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl) ======= def snapshot_revert_use_temp_snapshot(self): """"""Disable the use of a temporary snapshot on revert."""""" return False @infinisdk_to_cinder_exceptions def revert_to_snapshot(self, context, volume, snapshot): """"""Revert volume to snapshot. Note: the revert process should not change the volume's current size, that means if the driver shrank the volume during the process, it should extend the volume internally. """""" infinidat_snapshot = self._get_infinidat_snapshot(snapshot) infinidat_volume = self._get_infinidat_volume(snapshot.volume) infinidat_volume.restore(infinidat_snapshot) volume_size = infinidat_volume.get_size() snapshot_size = snapshot.volume.size * capacity.GiB if volume_size < snapshot_size: self.extend_volume(volume, snapshot.volume.size) @infinisdk_to_cinder_exceptions def manage_existing(self, volume, existing_ref): """"""Manage an existing Infinidat volume. Checks if the volume is already managed. Renames the Infinidat volume to match the expected name. Updates QoS and metadata. :param volume: Cinder volume to manage :param existing_ref: dictionary of the forms: {'source-name': 'Infinidat volume name'} or {'source-id': 'Infinidat volume serial number'} """""" infinidat_volume = self._get_infinidat_volume_by_ref(existing_ref) infinidat_metadata = infinidat_volume.get_all_metadata() if 'cinder_id' in infinidat_metadata: cinder_id = infinidat_metadata['cinder_id'] if volume_utils.check_already_managed_volume(cinder_id): raise exception.ManageExistingAlreadyManaged( volume_ref=cinder_id) infinidat_pool = infinidat_volume.get_pool_name() if infinidat_pool != self.configuration.infinidat_pool_name: message = (_('unexpected pool name %(infinidat_pool)s') % {'infinidat_pool': infinidat_pool}) raise exception.InvalidConfigurationValue(message=message) cinder_name = self._make_volume_name(volume) infinidat_volume.update_name(cinder_name) self._set_qos(volume, infinidat_volume) self._set_cinder_object_metadata(infinidat_volume, volume) @infinisdk_to_cinder_exceptions def manage_existing_get_size(self, volume, existing_ref): """"""Return size of an existing Infinidat volume. When calculating the size, round up to the next GB. :param volume: Cinder volume to manage :param existing_ref: dictionary of the forms: {'source-name': 'Infinidat volume name'} or {'source-id': 'Infinidat volume serial number'} :returns size: Volume size in GiB (integer) """""" infinidat_volume = self._get_infinidat_volume_by_ref(existing_ref) return int(math.ceil(infinidat_volume.get_size() / capacity.GiB)) @infinisdk_to_cinder_exceptions def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): """"""List volumes on the Infinidat backend available for management. Returns a list of dictionaries, each specifying a volume on the Infinidat backend, with the following keys: - reference (dictionary): The reference for a volume, which can be passed to ""manage_existing"". Each reference contains keys: Infinidat volume name and Infinidat volume serial number. - size (int): The size of the volume according to the Infinidat storage backend, rounded up to the nearest GB. - safe_to_manage (boolean): Whether or not this volume is safe to manage according to the storage backend. For example, is the volume already managed, in use, has snapshots or active mappings. - reason_not_safe (string): If safe_to_manage is False, the reason why. - cinder_id (string): If already managed, provide the Cinder ID. - extra_info (string): Extra information (pool name, volume type, QoS and metadata) to return to the user. :param cinder_volumes: A list of volumes in this host that Cinder currently manages, used to determine if a volume is manageable or not. :param marker: The last item of the previous page; we return the next results after this value (after sorting) :param limit: Maximum number of items to return :param offset: Number of items to skip after marker :param sort_keys: List of keys to sort results by (valid keys are 'identifier' and 'size') :param sort_dirs: List of directions to sort by, corresponding to sort_keys (valid directions are 'asc' and 'desc') """""" manageable_volumes = [] cinder_ids = [cinder_volume.id for cinder_volume in cinder_volumes] infinidat_pool = self._get_infinidat_pool() infinidat_volumes = infinidat_pool.get_volumes() for infinidat_volume in infinidat_volumes: if infinidat_volume.is_snapshot(): continue safe_to_manage = False reason_not_safe = None volume_id = infinidat_volume.get_id() volume_name = infinidat_volume.get_name() volume_size = infinidat_volume.get_size() volume_type = infinidat_volume.get_type() volume_pool = infinidat_volume.get_pool_name() volume_qos = infinidat_volume.get_qos_policy() volume_meta = infinidat_volume.get_all_metadata() cinder_id = volume_meta.get('cinder_id') volume_luns = infinidat_volume.get_logical_units() if cinder_id and cinder_id in cinder_ids: reason_not_safe = _('volume already managed') elif volume_luns: reason_not_safe = _('volume has mappings') elif infinidat_volume.has_children(): reason_not_safe = _('volume has snapshots') else: safe_to_manage = True reference = { 'source-name': volume_name, 'source-id': str(volume_id) } extra_info = { 'pool': volume_pool, 'type': volume_type, 'qos': str(volume_qos), 'meta': str(volume_meta) } manageable_volume = { 'reference': reference, 'size': int(math.ceil(volume_size / capacity.GiB)), 'safe_to_manage': safe_to_manage, 'reason_not_safe': reason_not_safe, 'cinder_id': cinder_id, 'extra_info': extra_info } manageable_volumes.append(manageable_volume) return volume_utils.paginate_entries_list( manageable_volumes, marker, limit, offset, sort_keys, sort_dirs) @infinisdk_to_cinder_exceptions def unmanage(self, volume): """"""Removes the specified volume from Cinder management. Does not delete the underlying backend storage object. For most drivers, this will not need to do anything. However, some drivers might use this call as an opportunity to clean up any Cinder-specific configuration that they have associated with the backend storage object. :param volume: Cinder volume to unmanage """""" infinidat_volume = self._get_infinidat_volume(volume) infinidat_volume.clear_metadata() def _check_already_managed_snapshot(self, snapshot_id): """"""Check cinder db for already managed snapshot. :param snapshot_id snapshot id parameter :returns: bool -- return True, if db entry with specified snapshot id exists, otherwise return False """""" try: uuid.UUID(snapshot_id, version=4) except ValueError: return False ctxt = cinder_context.get_admin_context() return objects.Snapshot.exists(ctxt, snapshot_id) @infinisdk_to_cinder_exceptions def manage_existing_snapshot(self, snapshot, existing_ref): """"""Manage an existing Infinidat snapshot. Checks if the snapshot is already managed. Renames the Infinidat snapshot to match the expected name. Updates QoS and metadata. :param snapshot: Cinder snapshot to manage :param existing_ref: dictionary of the forms: {'source-name': 'Infinidat snapshot name'} or {'source-id': 'Infinidat snapshot serial number'} """""" infinidat_snapshot = self._get_infinidat_snapshot_by_ref(existing_ref) infinidat_metadata = infinidat_snapshot.get_all_metadata() if 'cinder_id' in infinidat_metadata: cinder_id = infinidat_metadata['cinder_id'] if self._check_already_managed_snapshot(cinder_id): raise exception.ManageExistingAlreadyManaged( volume_ref=cinder_id) infinidat_pool = infinidat_snapshot.get_pool_name() if infinidat_pool != self.configuration.infinidat_pool_name: message = (_('unexpected pool name %(infinidat_pool)s') % {'infinidat_pool': infinidat_pool}) raise exception.InvalidConfigurationValue(message=message) cinder_name = self._make_snapshot_name(snapshot) infinidat_snapshot.update_name(cinder_name) self._set_qos(snapshot, infinidat_snapshot) self._set_cinder_object_metadata(infinidat_snapshot, snapshot) @infinisdk_to_cinder_exceptions def manage_existing_snapshot_get_size(self, snapshot, existing_ref): """"""Return size of an existing Infinidat snapshot. When calculating the size, round up to the next GB. :param snapshot: Cinder snapshot to manage :param existing_ref: dictionary of the forms: {'source-name': 'Infinidat snapshot name'} or {'source-id': 'Infinidat snapshot serial number'} :returns size: Snapshot size in GiB (integer) """""" infinidat_snapshot = self._get_infinidat_snapshot_by_ref(existing_ref) return int(math.ceil(infinidat_snapshot.get_size() / capacity.GiB)) @infinisdk_to_cinder_exceptions def get_manageable_snapshots(self, cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs): """"""List snapshots on the Infinidat backend available for management. Returns a list of dictionaries, each specifying a snapshot on the Infinidat backend, with the following keys: - reference (dictionary): The reference for a snapshot, which can be passed to ""manage_existing_snapshot"". Each reference contains keys: Infinidat snapshot name and Infinidat snapshot serial number. - size (int): The size of the snapshot according to the Infinidat storage backend, rounded up to the nearest GB. - safe_to_manage (boolean): Whether or not this snapshot is safe to manage according to the storage backend. For example, is the snapshot already managed, has clones or active mappings. - reason_not_safe (string): If safe_to_manage is False, the reason why. - cinder_id (string): If already managed, provide the Cinder ID. - extra_info (string): Extra information (pool name, snapshot type, QoS and metadata) to return to the user. - source_reference (string): Similar to ""reference"", but for the snapshot's source volume. The source reference contains two keys: Infinidat volume name and Infinidat volume serial number. :param cinder_snapshots: A list of snapshots in this host that Cinder currently manages, used to determine if a snapshot is manageable or not. :param marker: The last item of the previous page; we return the next results after this value (after sorting) :param limit: Maximum number of items to return :param offset: Number of items to skip after marker :param sort_keys: List of keys to sort results by (valid keys are 'identifier' and 'size') :param sort_dirs: List of directions to sort by, corresponding to sort_keys (valid directions are 'asc' and 'desc') """""" manageable_snapshots = [] cinder_ids = [cinder_snapshot.id for cinder_snapshot in cinder_snapshots] infinidat_pool = self._get_infinidat_pool() infinidat_snapshots = infinidat_pool.get_volumes() for infinidat_snapshot in infinidat_snapshots: if not infinidat_snapshot.is_snapshot(): continue safe_to_manage = False reason_not_safe = None parent = infinidat_snapshot.get_parent() parent_id = parent.get_id() parent_name = parent.get_name() snapshot_id = infinidat_snapshot.get_id() snapshot_name = infinidat_snapshot.get_name() snapshot_size = infinidat_snapshot.get_size() snapshot_type = infinidat_snapshot.get_type() snapshot_pool = infinidat_snapshot.get_pool_name() snapshot_qos = infinidat_snapshot.get_qos_policy() snapshot_meta = infinidat_snapshot.get_all_metadata() cinder_id = snapshot_meta.get('cinder_id') snapshot_luns = infinidat_snapshot.get_logical_units() if cinder_id and cinder_id in cinder_ids: reason_not_safe = _('snapshot already managed') elif snapshot_luns: reason_not_safe = _('snapshot has mappings') elif infinidat_snapshot.has_children(): reason_not_safe = _('snapshot has clones') else: safe_to_manage = True reference = { 'source-name': snapshot_name, 'source-id': str(snapshot_id) } source_reference = { 'source-name': parent_name, 'source-id': str(parent_id) } extra_info = { 'pool': snapshot_pool, 'type': snapshot_type, 'qos': str(snapshot_qos), 'meta': str(snapshot_meta) } manageable_snapshot = { 'reference': reference, 'size': int(math.ceil(snapshot_size / capacity.GiB)), 'safe_to_manage': safe_to_manage, 'reason_not_safe': reason_not_safe, 'cinder_id': cinder_id, 'extra_info': extra_info, 'source_reference': source_reference } manageable_snapshots.append(manageable_snapshot) return volume_utils.paginate_entries_list( manageable_snapshots, marker, limit, offset, sort_keys, sort_dirs) @infinisdk_to_cinder_exceptions def unmanage_snapshot(self, snapshot): """"""Removes the specified snapshot from Cinder management. Does not delete the underlying backend storage object. For most drivers, this will not need to do anything. However, some drivers might use this call as an opportunity to clean up any Cinder-specific configuration that they have associated with the backend storage object. :param snapshot: Cinder volume snapshot to unmanage """""" infinidat_snapshot = self._get_infinidat_snapshot(snapshot) infinidat_snapshot.clear_metadata() @infinisdk_to_cinder_exceptions def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): """"""Return model update from Infinidat for migrated volume. This method should rename the back-end volume name(id) on the destination host back to its original name(id) on the source host. :param ctxt: The context used to run the method update_migrated_volume :param volume: The original volume that was migrated to this backend :param new_volume: The migration volume object that was created on this backend as part of the migration process :param original_volume_status: The status of the original volume :returns: model_update to update DB with any needed changes """""" model_update = {'_name_id': new_volume.name_id, 'provider_location': None} new_volume_name = self._make_volume_name(new_volume, migration=True) new_infinidat_volume = self._get_infinidat_volume(new_volume) self._set_cinder_object_metadata(new_infinidat_volume, volume) volume_name = self._make_volume_name(volume, migration=True) try: infinidat_volume = self._get_infinidat_volume(volume) except exception.VolumeNotFound: LOG.debug('Source volume %s not found', volume_name) else: volume_pool = infinidat_volume.get_pool_name() LOG.debug('Found source volume %s in pool %s', volume_name, volume_pool) return model_update try: new_infinidat_volume.update_name(volume_name) except infinisdk.core.exceptions.InfiniSDKException as error: LOG.error('Failed to rename destination volume %s -> %s: %s', new_volume_name, volume_name, error) return model_update return {'_name_id': None, 'provider_location': None} >>>>>>> CHANGE (40ee7d Fix Infinidat driver generic volume migration)"," def _make_volume_name(self, cinder_volume): return 'openstack-vol-%s' % cinder_volume.id clone = mock.Mock(id=str(volume.id) + '-internal')",712,3
openstack%2Fos-net-config~stable%2Fwallaby~I3895a5200bc97a294a8b5774c24972f1f58b40bf,openstack/os-net-config,stable/wallaby,I3895a5200bc97a294a8b5774c24972f1f58b40bf,Refactor check_configure_sriov to prevent dublicate adding sriov_pfs,MERGED,2023-07-14 10:32:26.000000000,2023-07-26 22:31:16.000000000,2023-07-26 22:30:19.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 10:32:26.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/770e41df3c27390a97f581f7f926511362888297', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n(cherry picked from commit 7996a2e79e607aed3036bf3a851bde318ff0fef7)\n'}]",1,888346,770e41df3c27390a97f581f7f926511362888297,12,3,1,18904,,,0,"Refactor check_configure_sriov to prevent dublicate adding sriov_pfs

Cuurent implementation of adding objects is dublicating adding
objects that have sriov_pf members.
The patch refactors check_configure_sriov to check if the object
itself or any of its tree members are sriov_pf so adding that object
will happen once

Closes-Bug: #2020100
Change-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf
(cherry picked from commit 7996a2e79e607aed3036bf3a851bde318ff0fef7)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/46/888346/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,770e41df3c27390a97f581f7f926511362888297,," if isinstance(obj, objects.SriovPF): configure_sriov = True elif hasattr(obj, 'members') and obj.members is not None: for member in obj.members: if isinstance(member, objects.SriovPF): configure_sriov = True break else: configure_sriov = check_configure_sriov(member) if check_configure_sriov(obj): # Look for the presence of SriovPF as members of LinuxBond and that # LinuxBond is member of OvsBridge sriovpf_member_of_bond_ovs_port_list.extend( get_sriovpf_member_of_bond_ovs_port(obj)) # All sriov_pfs at top level or at any member level will be # ignored and all other objects are parsed will be added here. if not check_configure_sriov(obj):"," for member in obj.members: if isinstance(member, objects.SriovPF): configure_sriov = True elif hasattr(member, ""members"") and member.members is not None: configure_sriov = check_configure_sriov(member) if isinstance(obj, objects.SriovPF): elif hasattr(obj, 'members') and obj.members is not None: if check_configure_sriov(obj): configure_sriov = True provider.add_object(obj) sriovpf_member_of_bond_ovs_port_list.extend( get_sriovpf_member_of_bond_ovs_port(obj)) # All objects other than the sriov_pf will be added here. if not isinstance(obj, objects.SriovPF):",17,15
openstack%2Fmanila~master~I37d8ca9022e2ea2c107c6695e20e951d7950043a,openstack/manila,master,I37d8ca9022e2ea2c107c6695e20e951d7950043a,Add count info in 'snapshot list' API,MERGED,2023-06-27 15:54:09.000000000,2023-07-26 21:44:45.000000000,2023-07-26 21:43:35.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2023-06-27 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c4e5b80b8e3c53b4a8a7826fd41179f2dfc3acc1', 'message': ""Add count info in 'snapshot list' API\n\nAdded support for display count info in share snapshot\nlist&detail APIs:\n\n1. /v2/share_snapshots?with_count=True\n2. /v2/share_snapshots/detail?with_count=True\n\nNew microversion added 2.79\n\nCloses-bug: #2024556\nChange-Id: I37d8ca9022e2ea2c107c6695e20e951d7950043a\n""}, {'number': 2, 'created': '2023-06-27 15:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/be1e5c7149ea9f85cc0997d04820550ff011b847', 'message': ""Add count info in 'snapshot list' API\n\nAdded support for display count info in share snapshot\nlist&detail APIs:\n\n1. /v2/snapshots?with_count=True\n2. /v2/snapshots/detail?with_count=True\n\nNew microversion added 2.79\n\nCloses-bug: #2024556\nChange-Id: I37d8ca9022e2ea2c107c6695e20e951d7950043a\n""}, {'number': 3, 'created': '2023-07-10 07:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7aab0b5bbd32b2b8e636c5781d2920d9066a6ba1', 'message': ""Add count info in 'snapshot list' API\n\nAdded support for display count info in share snapshot\nlist&detail APIs:\n\n1. /v2/snapshots?with_count=True\n2. /v2/snapshots/detail?with_count=True\n\nNew microversion added 2.79\n\nCloses-bug: #2024556\nChange-Id: I37d8ca9022e2ea2c107c6695e20e951d7950043a\n""}, {'number': 4, 'created': '2023-07-25 08:50:04.000000000', 'files': ['api-ref/source/parameters.yaml', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'releasenotes/notes/add-count-info-in-share-snapshot-eee90f1471f7a5c4.yaml', 'manila/api/v1/share_snapshots.py', 'manila/api/v2/share_snapshots.py', 'manila/tests/api/v2/test_share_snapshots.py', 'manila/db/api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/views/share_snapshots.py', 'api-ref/source/snapshots.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/0e7812657b3ca90e618087b9fbb26816e60a90c3', 'message': ""Add count info in 'snapshot list' API\n\nAdded support for display count info in share snapshot\nlist&detail APIs:\n\n1. /v2/snapshots?with_count=True\n2. /v2/snapshots/detail?with_count=True\n\nNew microversion added 2.79\n\nCloses-bug: #2024556\nChange-Id: I37d8ca9022e2ea2c107c6695e20e951d7950043a\n""}]",13,887078,0e7812657b3ca90e618087b9fbb26816e60a90c3,48,6,4,32919,,,0,"Add count info in 'snapshot list' API

Added support for display count info in share snapshot
list&detail APIs:

1. /v2/snapshots?with_count=True
2. /v2/snapshots/detail?with_count=True

New microversion added 2.79

Closes-bug: #2024556
Change-Id: I37d8ca9022e2ea2c107c6695e20e951d7950043a
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/887078/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/views/share_snapshots.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'releasenotes/notes/add-count-info-in-share-snapshot-eee90f1471f7a5c4.yaml', 'manila/api/v1/share_snapshots.py', 'manila/api/v2/share_snapshots.py', 'manila/tests/api/v2/test_share_snapshots.py']",11,c4e5b80b8e3c53b4a8a7826fd41179f2dfc3acc1,bug/2024556," if (api_version.APIVersionRequest(version) >= api_version.APIVersionRequest('2.79')): search_opts.update({'with_count': 'true'}) method = 'get_all_snapshots' mock_action = {'return_value': [db_snapshots[1]]} if (api_version.APIVersionRequest(version) >= api_version.APIVersionRequest('2.79')): method = 'get_all_snapshots_with_count' mock_action = {'side_effect': [(1, [db_snapshots[1]])]} mock_get_all_snapshots = ( self.mock_object(share_api.API, method, mock.Mock(**mock_action))) mock_get_all_snapshots.assert_called_once_with( self.assertEqual(db_snapshots[1]['id'], result['snapshots'][0]['id']) db_snapshots[1]['display_name'], result['snapshots'][0]['name']) if (api_version.APIVersionRequest(version) >= api_version.APIVersionRequest('2.79')): self.assertEqual(1, result['count']) {'version': '2.79', 'use_admin_context': True}, {'version': '2.36', 'use_admin_context': False}, {'version': '2.79', 'use_admin_context': False}) def _snapshot_list_detail_with_search_opts(self, version, use_admin_context): if (api_version.APIVersionRequest(version) >= api_version.APIVersionRequest('2.79')): search_opts.update({'with_count': 'true'}) method = 'get_all_snapshots' mock_action = {'return_value': [db_snapshots[1]]} if (api_version.APIVersionRequest(version) >= api_version.APIVersionRequest('2.79')): method = 'get_all_snapshots_with_count' mock_action = {'side_effect': [(1, [db_snapshots[1]])]} mock_get_all_snapshots = ( self.mock_object(share_api.API, method, mock.Mock(**mock_action))) mock_get_all_snapshots.assert_called_once_with( self.assertEqual(db_snapshots[1]['id'], result['snapshots'][0]['id']) db_snapshots[1]['display_name'], result['snapshots'][0]['name']) db_snapshots[1]['aggregate_status'], result['snapshots'][0]['status']) db_snapshots[1]['share_id'], result['snapshots'][0]['share_id']) if (api_version.APIVersionRequest(version) >= api_version.APIVersionRequest('2.79')): self.assertEqual(1, result['count']) @ddt.data({'version': '2.78', 'use_admin_context': True}, {'version': '2.78', 'use_admin_context': False}, {'version': '2.79', 'use_admin_context': True}, {'version': '2.79', 'use_admin_context': False}) @ddt.unpack def test_snapshot_list_detail_with_search_opts(self, version, use_admin_context): self._snapshot_list_detail_with_search_opts( version=version, use_admin_context=use_admin_context)"," snapshots = [db_snapshots[1]] self.mock_object(share_api.API, 'get_all_snapshots', mock.Mock(return_value=snapshots)) share_api.API.get_all_snapshots.assert_called_once_with( self.assertEqual(snapshots[0]['id'], result['snapshots'][0]['id']) snapshots[0]['display_name'], result['snapshots'][0]['name']) {'version': '2.36', 'use_admin_context': False}) def _snapshot_list_detail_with_search_opts(self, use_admin_context): snapshots = [db_snapshots[1]] self.mock_object(share_api.API, 'get_all_snapshots', mock.Mock(return_value=snapshots)) share_api.API.get_all_snapshots.assert_called_once_with( self.assertEqual(snapshots[0]['id'], result['snapshots'][0]['id']) snapshots[0]['display_name'], result['snapshots'][0]['name']) snapshots[0]['aggregate_status'], result['snapshots'][0]['status']) snapshots[0]['share_id'], result['snapshots'][0]['share_id']) def test_snapshot_list_detail_with_search_opts_by_non_admin(self): self._snapshot_list_detail_with_search_opts(use_admin_context=False) def test_snapshot_list_detail_with_search_opts_by_admin(self): self._snapshot_list_detail_with_search_opts(use_admin_context=True)",233,47
openstack%2Fopenstack-helm-infra~master~Iee4174dc54b6a7aac6520c448a54adb1325cccab,openstack/openstack-helm-infra,master,Iee4174dc54b6a7aac6520c448a54adb1325cccab,[ceph] Add Rook Helm charts for managing Ceph with Rook,NEW,2023-05-24 21:00:51.000000000,2023-07-26 21:42:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 21:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/374d845c55f9f894048a572ccd7a9f196fa3f111', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 2, 'created': '2023-05-25 13:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dfd134e1adc79e60d28359502555279d1e538e3f', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 3, 'created': '2023-05-25 13:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76d2cf1a4fe8d4039bdc1528f0fb21715ec2d662', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-ceph and rook-ceph-cluster charts to\nallow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 4, 'created': '2023-05-25 17:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/33f1dc7314c73af4feef5b809bd974bce56b5909', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-ceph and rook-ceph-cluster charts to\nallow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 5, 'created': '2023-05-25 19:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5bd2eaec74e981c19b018d4bd37790a777470521', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-ceph and rook-ceph-cluster charts to\nallow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 6, 'created': '2023-05-25 19:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afa6a1f43d2edd6e21335802050eed52002d087c', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 7, 'created': '2023-05-25 19:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d998cb8e9f726b0d6ec1f23e9901fd438e5ab8a1', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 8, 'created': '2023-05-25 19:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6be3c7cd1258581cacdb695054082a3c572ee9b', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 9, 'created': '2023-05-25 19:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdd24684bb9bb556266e5aad3b31813eb84cbd69', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 10, 'created': '2023-05-26 13:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e042402623b6b23084abd09fa801dd907e982175', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 11, 'created': '2023-05-26 14:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9dd2fe97e44eb5e235cd589c7594eef8180f01d4', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 12, 'created': '2023-05-26 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b4b5572c0b1ed8968aef622eba803065d6de645', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 13, 'created': '2023-05-31 20:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ce9dee5fa10b507bef36966c4a5e95066491be6', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 14, 'created': '2023-06-01 13:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8bfe8ed4d19ae5d539eb3fab2726aca1f1756a72', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 15, 'created': '2023-06-01 21:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/269fad6e34e832e6a4f0d8480c683c6fe7aa619a', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 16, 'created': '2023-06-02 12:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49d8f255e4634386639c56ea6ee2c2d6fdc4df97', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 17, 'created': '2023-06-02 12:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36bb2f6d3b08b6273abe18e086218d30d8d41548', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 18, 'created': '2023-06-02 13:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a39114bcb38a567f7c8747112e9b0e4caef673d', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 19, 'created': '2023-06-02 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4fa258b10cbb6d9559f60d08a3b81ea7bd31d4c', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 20, 'created': '2023-06-02 19:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b60ed2b26e3f046c0aef14ebe312e2ddbae6f149', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 21, 'created': '2023-06-02 20:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6047b7133cb1f86874cf58a0a2a995a66a7e5c55', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 22, 'created': '2023-06-07 18:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef66fa38e7ef78c72cca8c611dc9e631b11ad5d9', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 23, 'created': '2023-06-28 15:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7bc6903b83052da7633da9b186ce97a6b114236e', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 24, 'created': '2023-07-12 14:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60f713cedb9b54ef07d505e833b00a8e1d0d86bd', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 25, 'created': '2023-07-12 18:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0eb3ec6a65c72c347005dd49b2296f085f8c66ca', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 26, 'created': '2023-07-12 19:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4849ca65736f974961bb105e14a8ac46df339f88', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 27, 'created': '2023-07-12 20:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4e889f4f086734a771da562461a8bd5d5cb4226', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 28, 'created': '2023-07-13 11:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4567d5b64ccb1f4b37ee3b80ad1bd28194e196c', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 29, 'created': '2023-07-13 13:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32d389c02fd04b4db60611e92758f72334a4b52d', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 30, 'created': '2023-07-13 13:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44b24ca2dc15b84f3f3ea6007e3297effc108014', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 31, 'created': '2023-07-13 18:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18718b3090d819e81fa04a71190905a95ca8d3b7', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 32, 'created': '2023-07-13 19:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6d6ea1edf5d65b3f17a358557894873c5b5cd08', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 33, 'created': '2023-07-14 11:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/044707786f1fff519956fae8f2259d4e56667854', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 34, 'created': '2023-07-14 14:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ceaddb31ac4377f7f3aae075e3c319217a893c89', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 35, 'created': '2023-07-14 16:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e05dfa4e42390f7ce2a54abce189c3e268e93019', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 36, 'created': '2023-07-14 17:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/670bed1e43f6a2e87d53aa725cadc54844d5631d', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 37, 'created': '2023-07-14 18:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8fcf671b51e6888ceb94d77011877402145f7a29', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 38, 'created': '2023-07-19 19:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82c53c36841751e75132bda210646a56c2a47f9a', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 39, 'created': '2023-07-20 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8fafd964dec4073b09275063df44f34ea2a84678', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 40, 'created': '2023-07-20 15:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c71e071df48f6fddd632bd2f9de5a09b6d9785e', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 41, 'created': '2023-07-21 17:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc0bed7f4ac1b3ada94e82f463f57e3d74c533ae', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 42, 'created': '2023-07-21 18:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f3ba288afb045958c4d652ede04035d66c3a6246', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 43, 'created': '2023-07-21 18:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d3e6fa48f76a36cbac23464f4e3aa9b98497e62', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 44, 'created': '2023-07-21 18:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4f21204c4aaf35b6ce7f6f978a904e8cfc686ee2', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 45, 'created': '2023-07-21 19:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df0120463f650407aeb7b03eb7359d0959dfc651', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 46, 'created': '2023-07-21 19:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdc5b2354c4ec63d9111d54d2ad06fa0cc612fb7', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 47, 'created': '2023-07-21 19:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47111ecd1e4c1b258eef4cd436d9f6885f8fe2a4', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 48, 'created': '2023-07-21 20:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d33b078d5ceb58ef47630ac0bf9505cb4884459', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 49, 'created': '2023-07-24 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/002fc0d9dc55c698ecf1a208aa727fa7146540d8', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 50, 'created': '2023-07-24 15:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c6bc97a782d3df54e48d0f76341dfc2f7d0e295d', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 51, 'created': '2023-07-24 18:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb8a5b6958936ae09b73bad3009097f59c9b6b3e', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 52, 'created': '2023-07-24 19:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c151d80d91d0690cbf9d5c54278b662c5f2dc933', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 53, 'created': '2023-07-26 20:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9004508c82c303fe544153630665bf883b1a15b2', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 54, 'created': '2023-07-26 20:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c08176ad3ddff7459738a7dd65f48d9e496a0ee', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}, {'number': 55, 'created': '2023-07-26 20:49:50.000000000', 'files': ['rook-ceph-cluster/README.md', 'rook-ceph/charts/rook-library', 'rook-ceph/values.yaml', 'rook-ceph-cluster/templates/ingress.yaml', 'tools/gate/lint.sh', 'rook-ceph-cluster/templates/cephblockpool.yaml', 'rook-ceph/Chart.yaml', 'rook-ceph/templates/resources.yaml', 'tools/deployment/openstack-support-rook/070-mariadb.sh', 'tools/deployment/openstack-support-rook/080-setup-client.sh', 'rook-ceph-cluster/templates/deployment.yaml', 'rook-ceph/README.md', 'rook-ceph-cluster/templates/_helpers.tpl', 'rook-library/templates/_suffix-cluster-namespace.tpl', 'rook-ceph-cluster/templates/cephobjectstore-ingress.yaml', 'rook-ceph/templates/clusterrolebinding.yaml', 'rook-library/templates/_cluster-role.tpl', 'tools/deployment/openstack-support-rook/130-cinder.sh', 'rook-ceph-cluster/prometheus/externalrules.yaml', 'rook-ceph-cluster/charts/rook-library', 'rook-ceph-cluster/values.yaml', 'tools/deployment/openstack-support-rook/050-libvirt.sh', 'tools/deployment/openstack-support-rook/020-ceph.sh', 'rook-ceph/templates/deployment.yaml', 'releasenotes/notes/rook-ceph.yaml', 'rook-ceph/templates/NOTES.txt', 'rook-ceph/templates/configmap.yaml', 'rook-ceph/.helmignore', 'rook-library/values.yaml', 'tools/deployment/openstack-support-rook/000-install-packages.sh', 'rook-ceph-cluster/templates/cephfilesystem.yaml', 'rook-ceph/templates/serviceaccount.yaml', 'rook-ceph/templates/clusterrole.yaml', 'rook-library/templates/_cluster-clusterrolebinding.tpl', 'releasenotes/notes/rook-library.yaml', 'rook-ceph/templates/servicemonitor.yaml', 'tools/deployment/openstack-support-rook/090-keystone.sh', 'rook-ceph-cluster/values-external.yaml', 'rook-ceph/templates/role.yaml', 'tools/deployment/openstack-support-rook/005-deploy-k8s.sh', 'rook-library/Chart.yaml', 'rook-library/templates/_imagepullsecret.tpl', 'rook-ceph-cluster/templates/volumesnapshotclass.yaml', 'rook-library/templates/_recommended-labels.tpl', 'tools/deployment/openstack-support-rook/110-openstack-exporter.sh', 'zuul.d/jobs.yaml', 'rook-ceph-cluster/charts/helm-toolkit', 'rook-library/templates/_cluster-monitoring.tpl', 'tools/deployment/openstack-support-rook/010-ingress.sh', 'rook-ceph-cluster/.helmignore', 'tools/deployment/openstack-support-rook/100-ceph-radosgateway.sh', 'rook-ceph/templates/psp.yaml', 'rook-ceph-cluster/templates/cephecblockpool.yaml', 'rook-ceph-cluster/Chart.yaml', 'tools/deployment/openstack-support-rook/007-namespace-config.sh', 'tools/deployment/openstack-support-rook/051-libvirt-ssl.sh', 'tools/deployment/openstack-support-rook/060-openvswitch.sh', 'rook-ceph-cluster/templates/cephobjectstore.yaml', 'rook-ceph-cluster/templates/prometheusrules.yaml', 'rook-ceph-cluster/templates/NOTES.txt', 'tools/deployment/openstack-support-rook/025-ceph-ns-activate.sh', 'rook-ceph-cluster/templates/rbac.yaml', 'rook-ceph/templates/rolebinding.yaml', 'rook-ceph-cluster/prometheus/localrules.yaml', 'rook-ceph-cluster/templates/cephcluster.yaml', 'releasenotes/notes/rook-ceph-cluster.yaml', 'rook-ceph-cluster/templates/configmap.yaml', 'rook-library/templates/_cluster-serviceaccount.tpl', 'tools/deployment/openstack-support-rook/040-memcached.sh', 'rook-ceph/templates/cluster-rbac.yaml', 'rook-library/templates/_cluster-rolebinding.tpl', 'tools/deployment/openstack-support-rook/030-rabbitmq.sh', 'zuul.d/project.yaml', 'rook-library/templates/_cluster-psp.tpl', 'tools/deployment/openstack-support-rook/120-powerdns.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68a5587beb59307af4d39ef7614377e1b113bee2', 'message': '[ceph] Add Rook Helm charts for managing Ceph with Rook\n\nThis change adds the rook-library, rook-ceph, and rook-ceph-cluster\ncharts to allow Rook to deploy and manage Ceph for OpenStack Helm.\n\nChange-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab\n'}]",0,884297,68a5587beb59307af4d39ef7614377e1b113bee2,91,1,55,29974,,,0,"[ceph] Add Rook Helm charts for managing Ceph with Rook

This change adds the rook-library, rook-ceph, and rook-ceph-cluster
charts to allow Rook to deploy and manage Ceph for OpenStack Helm.

Change-Id: Iee4174dc54b6a7aac6520c448a54adb1325cccab
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/884297/6 && git format-patch -1 --stdout FETCH_HEAD,"['rook-ceph-cluster/README.md', 'rook-ceph/values.yaml', 'rook-ceph-cluster/templates/ingress.yaml', 'rook-library/templates/_cluster-monitoring.tpl', 'rook-ceph-cluster/templates/cephblockpool.yaml', 'rook-ceph-cluster/.helmignore', 'rook-ceph/Chart.yaml', 'rook-ceph/templates/resources.yaml', 'rook-ceph/templates/psp.yaml', 'rook-ceph-cluster/templates/deployment.yaml', 'rook-ceph/README.md', 'rook-ceph-cluster/templates/_helpers.tpl', 'rook-library/templates/_suffix-cluster-namespace.tpl', 'rook-ceph-cluster/templates/cephobjectstore-ingress.yaml', 'rook-ceph-cluster/Chart.yaml', 'rook-ceph/templates/clusterrolebinding.yaml', 'rook-library/templates/_cluster-role.tpl', 'rook-ceph-cluster/charts/library', 'rook-ceph-cluster/prometheus/externalrules.yaml', 'rook-ceph-cluster/values.yaml', 'rook-ceph-cluster/templates/cephobjectstore.yaml', 'rook-ceph-cluster/templates/prometheusrules.yaml', 'rook-ceph-cluster/templates/NOTES.txt', 'rook-ceph/templates/deployment.yaml', 'rook-ceph-cluster/templates/rbac.yaml', 'rook-ceph/templates/NOTES.txt', 'rook-ceph/templates/configmap.yaml', 'rook-ceph/templates/rolebinding.yaml', 'rook-ceph-cluster/prometheus/localrules.yaml', 'rook-ceph/.helmignore', 'rook-ceph-cluster/templates/cephcluster.yaml', 'rook-ceph-cluster/templates/cephfilesystem.yaml', 'rook-ceph-cluster/templates/configmap.yaml', 'rook-ceph/templates/serviceaccount.yaml', 'rook-library/templates/_cluster-serviceaccount.tpl', 'rook-ceph/charts/library', 'rook-ceph/templates/cluster-rbac.yaml', 'rook-ceph/templates/clusterrole.yaml', 'rook-library/templates/_cluster-clusterrolebinding.tpl', 'rook-ceph/templates/servicemonitor.yaml', 'rook-library/templates/_cluster-rolebinding.tpl', 'rook-ceph/templates/role.yaml', 'rook-library/Chart.yaml', 'rook-library/templates/_imagepullsecret.tpl', 'rook-ceph-cluster/templates/volumesnapshotclass.yaml', 'rook-library/templates/_recommended-labels.tpl', 'rook-library/templates/_cluster-psp.tpl']",47,374d845c55f9f894048a572ccd7a9f196fa3f111,rook,"{{/* RoleBindings needed to enable Pod Security Policies for a CephCluster. */}} {{- define ""library.cluster.psp.rolebindings"" }} {{- if semverCompare ""<1.25.0-0"" .Capabilities.KubeVersion.GitVersion }} --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: rook-ceph-default-psp namespace: {{ .Release.Namespace }} # namespace:cluster labels: operator: rook storage-backend: ceph {{- include ""library.rook-ceph.labels"" . | nindent 4 }} roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: psp:rook subjects: - kind: ServiceAccount name: default namespace: {{ .Release.Namespace }} # namespace:cluster --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: rook-ceph-osd-psp namespace: {{ .Release.Namespace }} # namespace:cluster roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: psp:rook subjects: - kind: ServiceAccount name: rook-ceph-osd namespace: {{ .Release.Namespace }} # namespace:cluster --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: rook-ceph-rgw-psp namespace: {{ .Release.Namespace }} # namespace:cluster roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: psp:rook subjects: - kind: ServiceAccount name: rook-ceph-rgw namespace: {{ .Release.Namespace }} # namespace:cluster --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: rook-ceph-mgr-psp namespace: {{ .Release.Namespace }} # namespace:cluster roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: psp:rook subjects: - kind: ServiceAccount name: rook-ceph-mgr namespace: {{ .Release.Namespace }} # namespace:cluster --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: rook-ceph-cmd-reporter-psp namespace: {{ .Release.Namespace }} # namespace:cluster roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: psp:rook subjects: - kind: ServiceAccount name: rook-ceph-cmd-reporter namespace: {{ .Release.Namespace }} # namespace:cluster --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: rook-ceph-purge-osd-psp namespace: {{ .Release.Namespace }} # namespace:cluster roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: psp:rook subjects: - kind: ServiceAccount name: rook-ceph-purge-osd namespace: {{ .Release.Namespace }} # namespace:cluster {{- end }} {{- end }} ",,16504,0
openstack%2Fcharm-vault~master~I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9,openstack/charm-vault,master,I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9,Implement cert cache for vault units (v4),MERGED,2023-05-23 15:06:32.000000000,2023-07-26 21:34:11.000000000,2023-07-26 21:34:11.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 15:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/593813a9b954b5e6fe6d980d69d53c5f1612cef0', 'message': 'Implement cert cache for vault units (v3-v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nf55055b8783ca6f3f569209b4f82285377f5ac64\nbut improved to avoid LP#1983269 by breaking\ndown the cert cache into separate key-value pairs\nfor each remote unit and avoiding a race-condition\ncaused by get-csr action. Instead of using\nleader-settings, this patch is now using\napplication data bag provided by a new vault-ha\nrelation implementation.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 2, 'created': '2023-05-23 15:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a5d74155c4c47943f82a8a82a57395f47cd15223', 'message': 'Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 3, 'created': '2023-07-19 19:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ae56c1e55710d8d532851221cf49dd528a33f328', 'message': 'Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 4, 'created': '2023-07-19 19:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ea5c376b572e1c15d6c37f56bdb454f064dcf780', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 5, 'created': '2023-07-20 11:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/365d5344dbc0cc8bb72356d9e09f589dec6dafc6', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 6, 'created': '2023-07-20 11:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/4eea087d73bd358ac4e9f213cf6a77da36954945', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 7, 'created': '2023-07-20 11:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b733d44d52d8bf4994cb71a4d6026314fb705d19', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 8, 'created': '2023-07-20 15:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2d899d05d8a1588be61ac70091a26a88a8c8ce30', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 9, 'created': '2023-07-20 15:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ec224f94a2808f6c9fe29857456d14f25c723a9a', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 10, 'created': '2023-07-25 11:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1c1e88711a5be4234db80d28f5b294da46e611ad', 'message': '(WIP) Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}, {'number': 11, 'created': '2023-07-26 08:54:22.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/tests/tests.yaml', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1a1953b0ef23f724e9295505b100eca22ef9a6cd', 'message': 'Implement cert cache for vault units (v4)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is mostly the same as\nI18aa6c9193379ea454851b6f60a8f331ef88a980\nbut improved to avoid LP#1896542 by removing\nthe section where a certificate can be reused\nfrom cache during create_certs.\n\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>\nCo-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084\n\nCloses-Bug: #1940549\nCloses-Bug: #1983269\nCloses-Bug: #1845961\nRelated-Bug: #1896542\nChange-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9\n'}]",48,883947,1a1953b0ef23f724e9295505b100eca22ef9a6cd,45,5,11,14567,,,0,"Implement cert cache for vault units (v4)

This cache is used to store certificates and keys
issued by the leader unit. Non-leader units read
these certificates and keep data in their
""tls-certificates"" relations up to date.
This ensures that charm units that receive certs
from vault can read from relation data of any
vault unit and receive correct data.

This patch is mostly the same as
I18aa6c9193379ea454851b6f60a8f331ef88a980
but improved to avoid LP#1896542 by removing
the section where a certificate can be reused
from cache during create_certs.

Co-Authored-By: Rodrigo Barbieri <rodrigo.barbieri@canonical.com>
Co-Authored-By: Alex Kavanagh <alex.kavanagh@canonical.com>

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1084

Closes-Bug: #1940549
Closes-Bug: #1983269
Closes-Bug: #1845961
Related-Bug: #1896542
Change-Id: I0cca13d2042d61ffc6a7c13eccb0ec8c292020c9
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/47/883947/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'src/layer.yaml', 'unit_tests/test_lib_charm_vault_pki.py']",6,593813a9b954b5e6fe6d980d69d53c5f1612cef0,,"from unittest.mock import call, patch, MagicMock self.patches = [ 'endpoint_from_name', ] def test_get_pki_cache(self): """"""Test retrieving PKI from cache."""""" expected_pki = { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } cluster_relation = MagicMock() self.endpoint_from_name.return_value = cluster_relation cluster_relation.get_unit_pki.return_value = expected_pki pki = vault_pki.get_pki_cache('client_unit_0') cluster_relation.get_unit_pki.assert_called_once_with( 'pki_client_unit_0') self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set cluster_relation.get_unit_pki.return_value = {} cluster_relation.get_unit_pki.reset_mock() pki = vault_pki.get_pki_cache('client_unit_0') cluster_relation.get_unit_pki.assert_called_once_with( 'pki_client_unit_0') self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_err(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.side_effect = hvac.exceptions.InvalidPath cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') def test_update_cert_cache_top_level_cert(self, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name cluster_relation = MagicMock() self.endpoint_from_name.return_value = cluster_relation # PKI structure initial_pki = {} expected_pki = { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) key = ""{}_{}"".format(vault_pki.PKI_CACHE_KEY, client_name) cluster_relation.set_unit_pki.assert_called_once_with( key, expected_pki) @patch.object(vault_pki, 'get_pki_cache') def test_update_cert_cache_non_top_level_cert(self, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" cluster_relation = MagicMock() self.endpoint_from_name.return_value = cluster_relation # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) key = ""{}_{}"".format(vault_pki.PKI_CACHE_KEY, client_name) cluster_relation.set_unit_pki.assert_called_once_with( key, expected_pki) def test_remove_unit_from_cache(self): """"""Test removing unit certificates from cache."""""" cluster_relation = MagicMock() self.endpoint_from_name.return_value = cluster_relation vault_pki.remove_unit_from_cache('client_0') key = ""{}_{}"".format(vault_pki.PKI_CACHE_KEY, 'client_0') cluster_relation.set_unit_pki.assert_called_once_with(key, None) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",from unittest.mock import patch self.patches = [],916,22
openstack%2Fcinder~stable%2F2023.1~Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba,openstack/cinder,stable/2023.1,Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba,[Pure Storage] Fix failure in replication failover,NEW,2023-07-26 15:07:12.000000000,2023-07-26 21:24:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 15:07:12.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-fix-failover-fe6260a112409742.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/583eae173bfee3983477661e4d62eb4233f54eff', 'message': '[Pure Storage] Fix failure in replication failover\n\nA previous patch incorrectly removed a call using a specific\nversion of API as part of the replication failover process.\n\nThe call being made to the backend fails as one of the\nparameters is not supported in later API version.\n\nThis patch fixes the call to the backend to use the required\nAPI version.\n\nThere are no tempest tests for replication failover, hence\nwhy the original patch passed tests.\n\nCloses-Bug: #2028380\nChange-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba\n(cherry picked from commit 084d84152a4c2fcf4c94d46d4a1a97add409bd42)\n'}]",1,889359,583eae173bfee3983477661e4d62eb4233f54eff,15,1,1,13425,,,0,"[Pure Storage] Fix failure in replication failover

A previous patch incorrectly removed a call using a specific
version of API as part of the replication failover process.

The call being made to the backend fails as one of the
parameters is not supported in later API version.

This patch fixes the call to the backend to use the required
API version.

There are no tempest tests for replication failover, hence
why the original patch passed tests.

Closes-Bug: #2028380
Change-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba
(cherry picked from commit 084d84152a4c2fcf4c94d46d4a1a97add409bd42)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/889359/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-fix-failover-fe6260a112409742.yaml']",2,583eae173bfee3983477661e4d62eb4233f54eff,fix_failover-stable/2023.1,--- fixes: - | [Pure Storage] 'bug #2028380 <https://bugs.launchpad.net/cinder/+bug/2028380>'_: Fixed issue with cinder replication failover failing due to incorrect REST call. ,,11,1
openstack%2Fproject-config~master~I4172e59681781327d88d5bbf1a4ab903de731932,openstack/project-config,master,I4172e59681781327d88d5bbf1a4ab903de731932,Switch from deprecated require-approval to require,MERGED,2023-05-17 17:40:52.000000000,2023-07-26 21:23:31.000000000,2023-07-26 21:23:31.000000000,"[{'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 17:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc1eb90ca991641a7fe7a759c02036eb827500f8', 'message': 'Switch from deprecated require-approval to require\n\nAs of Zuul 8.3.0, the require-approval trigger attribute for the\nGerrit driver is deprecated in favor of require.\n\nChange-Id: I4172e59681781327d88d5bbf1a4ab903de731932\n'}, {'number': 2, 'created': '2023-05-17 19:15:07.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a05aceef0c37e01a9d17a82581ea4c499a8e1ce5', 'message': 'Switch from deprecated require-approval to require\n\nAs of Zuul 8.3.0, the require-approval trigger attribute for the\nGerrit driver is deprecated in favor of require.\n\nChange-Id: I4172e59681781327d88d5bbf1a4ab903de731932\nCo-Authored-By: James E. Blair <jim@acmegating.com>\n'}]",2,883431,a05aceef0c37e01a9d17a82581ea4c499a8e1ce5,11,3,2,5263,,,0,"Switch from deprecated require-approval to require

As of Zuul 8.3.0, the require-approval trigger attribute for the
Gerrit driver is deprecated in favor of require.

Change-Id: I4172e59681781327d88d5bbf1a4ab903de731932
Co-Authored-By: James E. Blair <jim@acmegating.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/883431/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,fc1eb90ca991641a7fe7a759c02036eb827500f8,require-approval, require:, require-approval:,1,1
openstack%2Fossa~master~I3301598500ade978093adf4dd138e35816c358b9,openstack/ossa,master,I3301598500ade978093adf4dd138e35816c358b9,"Reword ""responsible"" disclosure to ""coordinated""",MERGED,2023-06-21 14:55:15.000000000,2023-07-26 21:21:30.000000000,2023-07-26 21:20:36.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-21 14:55:15.000000000', 'files': ['doc/source/index.rst', 'doc/source/vmt-process.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/23e15de721f4a6890374a231d93524e02965a97f', 'message': 'Reword ""responsible"" disclosure to ""coordinated""\n\nAs Solar Designer noted in a recent presentation[*], the term\n""responsible disclosure"" is unnecessarily judgemental, suggesting\nthat any other process is irresponsible by comparison. More\naccurately describe what we do as ""coordinated disclosure"" in the\ntwo places where we previously used the less objective wording.\n\n[*] https://www.sstic.org/2023/presentation/ouverture_2023/\n\nChange-Id: I3301598500ade978093adf4dd138e35816c358b9\n'}]",1,886641,23e15de721f4a6890374a231d93524e02965a97f,8,3,1,5263,,,0,"Reword ""responsible"" disclosure to ""coordinated""

As Solar Designer noted in a recent presentation[*], the term
""responsible disclosure"" is unnecessarily judgemental, suggesting
that any other process is irresponsible by comparison. More
accurately describe what we do as ""coordinated disclosure"" in the
two places where we previously used the less objective wording.

[*] https://www.sstic.org/2023/presentation/ouverture_2023/

Change-Id: I3301598500ade978093adf4dd138e35816c358b9
",git fetch https://review.opendev.org/openstack/ossa refs/changes/41/886641/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/vmt-process.rst']",2,23e15de721f4a6890374a231d93524e02965a97f,coordinated-disclosure,"coordinated disclosure, this ecosystem, collectively known as the","responsible disclosure, this ecosystem, collectively known as the",2,2
openstack%2Fcharm-guide~master~Id31eb86843b04cc778297a8597495c92650fe714,openstack/charm-guide,master,Id31eb86843b04cc778297a8597495c92650fe714,Add most recent revisions of 21.10 charms,MERGED,2023-06-30 13:48:20.000000000,2023-07-26 20:53:11.000000000,2023-07-26 20:51:26.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-06-30 13:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d84eb67c39f12c2492f24900f9eb0c747119f8de', 'message': 'Add revision numbers of 21.10 charms on latest/stable\n\nThis is to provide a permanent record of the 21.10 charms, and prior\nreleases, against bases for each of the charms from the latest/stable\nchannel.\n\nChange-Id: Id31eb86843b04cc778297a8597495c92650fe714\n'}, {'number': 2, 'created': '2023-07-24 23:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8b1b17917c0a58869dabc12dd6103ae076c86f8a', 'message': 'Add latest revisions of 21.10 charms\n\nThis is to provide a permanent record of the 21.10 charms, and prior\nreleases, against series for each of the charms from the latest/stable\nchannel.\n\nChange-Id: Id31eb86843b04cc778297a8597495c92650fe714\n'}, {'number': 3, 'created': '2023-07-25 02:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/42bb3b9450144c9eef34984302a462a6d024b37b', 'message': 'Add latest revisions of 21.10 charms\n\nThis is to provide a permanent record of the 21.10 charms, and prior\nreleases, against series for each of the charms from the latest/stable\nchannel.\n\nChange-Id: Id31eb86843b04cc778297a8597495c92650fe714\n'}, {'number': 4, 'created': '2023-07-25 16:39:51.000000000', 'files': ['doc/source/project/charm-delivery.rst', 'doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/reference/2110-revisions.rst', 'doc/source/concepts/charm-types.rst', 'doc/source/project/procedures/charmhub-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7350a93c9510a3848647d065e07837f3f4914edb', 'message': ""Add most recent revisions of 21.10 charms\n\nThis is to provide a permanent record of the 21.10 charms, and prior\nreleases, against series for each of the charms from the latest/stable\nchannel.\n\nAlthough the 'latest' track will be closed and this document refers to\nthat, other pages impacted by this event will be addressed in a separate\nchange.\n\nChange-Id: Id31eb86843b04cc778297a8597495c92650fe714\n""}]",13,887380,7350a93c9510a3848647d065e07837f3f4914edb,17,3,4,20870,,,0,"Add most recent revisions of 21.10 charms

This is to provide a permanent record of the 21.10 charms, and prior
releases, against series for each of the charms from the latest/stable
channel.

Although the 'latest' track will be closed and this document refers to
that, other pages impacted by this event will be addressed in a separate
change.

Change-Id: Id31eb86843b04cc778297a8597495c92650fe714
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/80/887380/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/index.rst'],1,d84eb67c39f12c2492f24900f9eb0c747119f8de,add-latest-stable-revisions," 21.10 Charms release and migration from Charmstore to Charmhub -------------------------------------------------------------- The :doc:`2110` charms release was the last release prior to the migration from the previous Charmstore to the current Charmhub. The Charmstore didn't have channel (e.g. 'yoga/stable') and instead only had a single, unamed, channel. When the charms were automatically copied from the Charmstore to the Charmhub they were placed in the 'latest' channel. With the transition to the Charmhub, individual, named, channels are used for each OpenStack release. To provide a clear dividing line between charms that are supported, which are on the named channels, and charms which were previously at 21.10 and before, the following tables list the charms, bases, and last known revision number (and architecture, if applicable). These charm releases supported multiple versions of OpenStack up to, and including, **Xena**. The tables are split into OpenStack charms, Ceph charms, OVN charms and the miscellaneous support charms. .. note:: These revision numbers are provided for reference only. New installations, and upgrades, should use the named channels whereever posible. These revisions may be useful for Juju 2.8 clients that cannot use the Charmhub named channels. OpenStack ~~~~~~~~~ .. tabs:: .. group-tab:: aodh .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 46 - 57 - 6 - 10 - 14 - 57 - 33 - 39 - 44 - 57 - 57 - 57 - 57 .. group-tab:: barbican .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 9 - 5 - 46 - 22 - 29 - 34 - 46 - 46 - 46 - 46 .. group-tab:: barbican-vault .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 27 - 7 - 9 - 18 - 27 - 27 - 27 - 27 .. group-tab:: ceilometer .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 439 - 478 - 489 - 445 - 448 - 452 - 489 - 464 - 466 - 476 - 489 - 489 - 489 - 489 .. group-tab:: ceilometer-agent .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 433 - 466 - 474 - 436 - 438 - 442 - 474 - 453 - 458 - 464 - 474 - 474 - 474 - 474 .. tabs:: .. group-tab:: cinder .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 470 - 519 - 530 - 475 - 477 - 484 - 530 - 501 - 512 - 517 - 530 - 530 - 530 - 530 .. group-tab:: cinder-backup .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 12 - 31 - 37 - 15 - 17 - 21 - 37 - 25 - 29 - 37 - 37 - 37 - 37 .. group-tab:: cinder-ceph .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 436 - 475 - 483 - 441 - 443 - 448 - 483 - 464 - 466 - 473 - 483 - 483 - 483 - 483 .. group-tab:: openstack-dashboard .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 442 - 507 - 514 - 448 - 451 - 460 - 514 - 489 - 498 - 505 - 514 - 514 - 514 - 514 .. group-tab:: designate .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 51 - 60 - 9 - 14 - 20 - 60 - 33 - 42 - 49 - 60 - 60 - 60 - 60 .. tabs:: .. group-tab:: designate-bind .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 34 - 43 - 7 - 10 - 13 - 43 - 23 - 27 - 32 - 43 - 43 - 43 - 43 .. group-tab:: glance .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 459 - 508 - 516 - 463 - 465 - 472 - 516 - 492 - 500 - 506 - 516 - 516 - 516 - 516 .. group-tab:: glance-simplestreams-sync .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 14.04 - 16.04 - 16.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 33 - 47 - 11 - 47 - 23 - 25 - 28 - 47 - 47 - 47 - 47 .. group-tab:: gnocchi .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 14.04 - 16.04 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 7 - 51 - 5 - 10 - 51 - 26 - 37 - 42 - 51 - 51 - 51 - 51 .. group-tab:: heat .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 436 - 479 - 485 - 440 - 444 - 452 - 485 - 467 - 472 - 477 - 485 - 485 - 485 - 485 .. tabs:: .. group-tab:: keystone .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 473 - 530 - 539 - 478 - 483 - 493 - 539 - 515 - 521 - 528 - 539 - 539 - 539 - 539 .. group-tab:: keystone-ldap .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 33 - 42 - 4 - 6 - 10 - 42 - 21 - 27 - 31 - 42 - 42 - 42 - 42 .. group-tab:: manila .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 36 - 0 - 8 - 11 - 36 - 16 - 25 - 36 - 36 - 36 - 36 .. group-tab:: manila-ganesha .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 20 - 6 - 6 - 20 - 20 - 20 - 20 .. group-tab:: masakari .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 17 - 6 - 17 - 17 - 17 - 17 .. tabs:: .. group-tab:: masakari-monitors .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 14 - 4 - 14 - 14 - 14 - 14 .. group-tab:: neutron-api .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 15.10 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 446 - 489 - 7 - 501 - 450 - 454 - 460 - 501 - 475 - 481 - 487 - 501 - 501 - 501 - 501 .. group-tab:: neutron-gateway .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 431 - 480 - 488 - 436 - 443 - 451 - 488 - 464 - 471 - 477 - 488 - 488 - 488 - 488 .. group-tab:: neutron-openvswitch .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 437 - 479 - 493 - 442 - 445 - 449 - 493 - 466 - 473 - 477 - 493 - 493 - 493 - 493 .. group-tab:: nova-cloud-controller .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 15.10 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 495 - 556 - 4 - 566 - 502 - 505 - 513 - 566 - 535 - 546 - 553 - 566 - 566 - 566 - 566 .. tabs:: .. group-tab:: nova-compute .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 475 - 538 - 550 - 485 - 492 - 499 - 550 - 520 - 527 - 536 - 550 - 550 - 550 - 550 .. group-tab:: nova-cell-controller .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 16 - 3 - 16 - 16 - 16 - 16 .. group-tab:: octavia .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 39 - 11 - 20 - 32 - 39 - 39 - 39 - 39 .. group-tab:: placement .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 32 - 15 - 32 - 32 - 32 - 32 .. group-tab:: swift-proxy .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 69 - 109 - 115 - 72 - 75 - 81 - 115 - 99 - 103 - 107 - 115 - 115 - 115 - 115 .. tabs:: .. group-tab:: swift-storage .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 416 - 455 - 461 - 421 - 423 - 429 - 461 - 444 - 449 - 453 - 461 - 461 - 461 - 461 .. group-tab:: cinder-backup-swift-proxy .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 13 - 13 - 13 - 13 - 13 .. group-tab:: cinder-lvm .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 0 - 0 - 0 - 0 - 0 .. group-tab:: cinder-purestorage .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 18.04 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 19 - 19 - 1 - 9 - 19 - 19 - 19 - 19 .. group-tab:: cinder-netapp .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 0 - 0 - 0 - 0 - 0 .. tabs:: .. group-tab:: keystone-kerberos .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 12 - 12 - 12 - 12 - 12 .. group-tab:: keystone-saml-mellon .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 12 - 12 - 2 - 12 - 12 - 12 - 12 .. group-tab:: magnum .. list-table:: :header-rows: 1 :widths: 1 1 :width: 75% :stub-columns: 0 * - - 20.04 * - amd64 - 2 * - arm64 - 2 * - ppc64le - 2 * - s390x - 2 .. group-tab:: magnum-dashboard .. list-table:: :header-rows: 1 :widths: 1 1 :width: 75% :stub-columns: 0 * - - 20.04 * - amd64 - 1 * - arm64 - 1 * - ppc64le - 1 * - s390x - 1 .. group-tab:: neutron-api-plugin-ovn .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 10 - 2 - 10 - 10 - 10 - 10 .. tabs:: .. group-tab:: octavia-dashboard .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 28 - 15 - 12 - 19 - 28 - 28 - 28 - 28 .. group-tab:: octavia-diskimage-retrofit .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 23 - 2 - 7 - 15 - 23 - 23 - 23 - 23 Ceph ~~~~ .. tabs:: .. group-tab:: ceph-dashboard .. list-table:: :header-rows: 1 :widths: 1 1 :width: 75% :stub-columns: 0 * - - 20.04 * - amd64 - 2 .. group-tab:: ceph-fs .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 36 - 5 - 9 - 14 - 36 - 18 - 21 - 25 - 36 - 36 - 36 - 36 .. group-tab:: ceph-iscsi .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 20.04 - 20.10 - 21.04 - 21.10 * - all - 3 - 3 - 3 - 3 .. group-tab:: ceph-mon .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 19 - 64 - 73 - 23 - 31 - 37 - 73 - 53 - 57 - 62 - 73 - 73 - 73 - 73 .. group-tab:: ceph-osd .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 439 - 505 - 513 - 445 - 453 - 468 - 513 - 489 - 498 - 503 - 513 - 513 - 513 - 513 .. tabs:: .. group-tab:: ceph-proxy .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 0 - 39 - 46 - 8 - 10 - 15 - 46 - 26 - 28 - 37 - 46 - 46 - 46 - 46 .. group-tab:: ceph-radosgw .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 15.10 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 449 - 493 - 12 - 499 - 454 - 457 - 462 - 499 - 480 - 485 - 491 - 499 - 499 - 499 - 499 .. group-tab:: ceph-rbd-mirror .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 25 - 25 - 5 - 7 - 13 - 25 - 25 - 25 - 25 OVN Charms ~~~~~~~~~~ .. tabs:: .. group-tab:: ovn-central .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 16 - 1 - 16 - 16 - 16 - 16 .. group-tab:: ovn-dedicated-chassis .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 18 - 4 - 18 - 18 - 18 - 18 .. group-tab:: ovn-chassis .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 21 - 3 - 21 - 21 - 21 - 21 Miscellaneous Support Charms ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. tabs:: .. group-tab:: hacluster .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 12.10 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 16 - 0 - 76 - 83 - 36 - 40 - 49 - 83 - 62 - 68 - 74 - 83 - 83 - 83 - 83 .. group-tab:: mysql-innodb-cluster .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 3 - 15 - 15 - 15 - 15 .. group-tab:: mysql-router .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 4 - 15 - 15 - 15 - 15 .. group-tab:: percona-cluster .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 * - all - 0 - 287 - 302 - 253 - 256 - 268 - 302 - 287 - 288 - 293 .. group-tab:: rabbitmq-server .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 12.04 - 14.04 - 15.10 - 16.04 - 16.10 - 17.04 - 17.10 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 64 - 113 - 8 - 123 - 69 - 74 - 82 - 123 - 100 - 105 - 111 - 123 - 123 - 123 - 123 .. tabs:: .. group-tab:: openstack-charmers-next-woodpecker .. list-table:: :header-rows: 1 :widths: 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 20.04 * - all - 5 - 5 .. group-tab:: vault .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 16.04 - 18.04 - 18.10 - 19.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 54 - 54 - 29 - 32 - 42 - 54 - 54 - 54 - 54 .. group-tab:: pacemaker-remote .. list-table:: :header-rows: 1 :widths: 1 1 1 1 1 1 1 :width: 75% :stub-columns: 0 * - - 18.04 - 19.10 - 20.04 - 20.10 - 21.04 - 21.10 * - all - 14 - 3 - 14 - 14 - 14 - 14 ",,2012,0
openstack%2Ftempest~master~I022fecaf69a8340a69dc02881744b487428d3e81,openstack/tempest,master,I022fecaf69a8340a69dc02881744b487428d3e81,Reorder server and port creation for overlap,MERGED,2023-07-21 17:34:26.000000000,2023-07-26 20:14:41.000000000,2023-07-26 20:13:25.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-07-21 17:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac8cfb310a594e19d1564a416893bee15df15223', 'message': 'Reorder server and port creation for overlap\n\nThis reorders two server and port creation operations so that they\nwill overlap in parallel a bit, with no risk of race because we\nstill validate each server before we start the meat of the test.\n\nChange-Id: I022fecaf69a8340a69dc02881744b487428d3e81\n'}, {'number': 2, 'created': '2023-07-21 17:46:21.000000000', 'files': ['tempest/api/compute/servers/test_attach_interfaces.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7249e2a53fd4cb412e238c478cf76b69a7369e68', 'message': 'Reorder server and port creation for overlap\n\nThis reorders two server and port creation operations so that they\nwill overlap in parallel a bit, with no risk of race because we\nstill validate each server before we start the meat of the test.\n\nChange-Id: I022fecaf69a8340a69dc02881744b487428d3e81\n'}]",16,889196,7249e2a53fd4cb412e238c478cf76b69a7369e68,39,3,2,4393,,,0,"Reorder server and port creation for overlap

This reorders two server and port creation operations so that they
will overlap in parallel a bit, with no risk of race because we
still validate each server before we start the meat of the test.

Change-Id: I022fecaf69a8340a69dc02881744b487428d3e81
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/889196/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_attach_interfaces.py'],1,ac8cfb310a594e19d1564a416893bee15df15223,split-sat," 1. Create two servers in Nova. 2. Create a port in Neutron. validatable=True, # NOTE(danms): We create these with no waiters because we will wait # for them to be validatable (i.e. SSHABLE) below. That way some of # the server creation overlap each other and with create_port. port = self.ports_client.create_port( network_id=network_id, name=data_utils.rand_name(self.__class__.__name__)) port_id = port['port']['id'] self.addCleanup(self.ports_client.delete_port, port_id) "," 1. Create a port in Neutron. 2. Create two servers in Nova. port = self.ports_client.create_port( network_id=network_id, name=data_utils.rand_name(self.__class__.__name__)) port_id = port['port']['id'] self.addCleanup(self.ports_client.delete_port, port_id) wait_until='ACTIVE', validatable=True,",12,8
openstack%2Fos-net-config~stable%2Ftrain~I3895a5200bc97a294a8b5774c24972f1f58b40bf,openstack/os-net-config,stable/train,I3895a5200bc97a294a8b5774c24972f1f58b40bf,Refactor check_configure_sriov to prevent dublicate adding sriov_pfs,MERGED,2023-07-14 10:32:43.000000000,2023-07-26 19:26:56.000000000,2023-07-26 19:26:01.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 10:32:43.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8a89b948e8fc26de94b2e4aa22d9acd591dc3dbf', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n(cherry picked from commit 7996a2e79e607aed3036bf3a851bde318ff0fef7)\n'}]",0,888347,8a89b948e8fc26de94b2e4aa22d9acd591dc3dbf,8,3,1,18904,,,0,"Refactor check_configure_sriov to prevent dublicate adding sriov_pfs

Cuurent implementation of adding objects is dublicating adding
objects that have sriov_pf members.
The patch refactors check_configure_sriov to check if the object
itself or any of its tree members are sriov_pf so adding that object
will happen once

Closes-Bug: #2020100
Change-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf
(cherry picked from commit 7996a2e79e607aed3036bf3a851bde318ff0fef7)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/47/888347/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,8a89b948e8fc26de94b2e4aa22d9acd591dc3dbf,," if isinstance(obj, objects.SriovPF): configure_sriov = True elif hasattr(obj, 'members') and obj.members is not None: for member in obj.members: if isinstance(member, objects.SriovPF): configure_sriov = True break else: configure_sriov = check_configure_sriov(member) if check_configure_sriov(obj): # Look for the presence of SriovPF as members of LinuxBond and that # LinuxBond is member of OvsBridge sriovpf_member_of_bond_ovs_port_list.extend( get_sriovpf_member_of_bond_ovs_port(obj)) # All sriov_pfs at top level or at any member level will be # ignored and all other objects are parsed will be added here. if not check_configure_sriov(obj):"," for member in obj.members: if isinstance(member, objects.SriovPF): configure_sriov = True elif hasattr(member, ""members"") and member.members is not None: configure_sriov = check_configure_sriov(member) if isinstance(obj, objects.SriovPF): elif hasattr(obj, 'members') and obj.members is not None: if check_configure_sriov(obj): configure_sriov = True provider.add_object(obj) sriovpf_member_of_bond_ovs_port_list.extend( get_sriovpf_member_of_bond_ovs_port(obj)) # All objects other than the sriov_pf will be added here. if not isinstance(obj, objects.SriovPF):",17,15
openstack%2Fcharms.ceph~master~I878091f9387f22059d460d28c2d0072507e66c6f,openstack/charms.ceph,master,I878091f9387f22059d460d28c2d0072507e66c6f,Only upgrade keys for internal clients,MERGED,2023-07-17 20:55:15.000000000,2023-07-26 19:25:50.000000000,2023-07-26 19:25:50.000000000,"[{'_account_id': 15382}, {'_account_id': 22348}, {'_account_id': 31420}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-07-17 20:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/4f89b9bd926d10658dab9b0b5664fbefefda7fd9', 'message': ""Only upgrade keys for internal clients\n\nWhen fetching ceph keys, they are upgraded if it's deemed necessary\nto fix bug #1968369. This worked for internal ceph entities such\nas RBD or MDS, but fails for external ceph clients. This is because\nfor those clients, key capabilities can be set via broker requests.\nAs such, when the ceph-mon charm is upgraded, the key capabilities\nfor those clients are reset, and since the broker request has been\nprocessed already, no further changes are done, leaving those keys\nwith incorrect caps.\n\nChange-Id: I878091f9387f22059d460d28c2d0072507e66c6f\n""}, {'number': 2, 'created': '2023-07-21 15:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/9480417cfae2b369f99873c8a5f81795329ea7a6', 'message': ""Only upgrade keys for internal clients\n\nWhen fetching ceph keys, they are upgraded if it's deemed necessary\nto fix bug #1968369. This worked for internal ceph entities such\nas RBD or MDS, but fails for external ceph clients. This is because\nfor those clients, key capabilities can be set via broker requests.\nAs such, when the ceph-mon charm is upgraded, the key capabilities\nfor those clients are reset, and since the broker request has been\nprocessed already, no further changes are done, leaving those keys\nwith incorrect caps.\n\nChange-Id: I878091f9387f22059d460d28c2d0072507e66c6f\nCloses-Bug: #2028387\n""}, {'number': 3, 'created': '2023-07-26 19:01:39.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/44520d2330e59e5e7fa2baeac8c455ff7fbb2746', 'message': ""Only upgrade keys for internal clients\n\nWhen fetching ceph keys, they are upgraded if it's deemed necessary\nto fix bug #1968369. This worked for internal ceph entities such\nas RBD or MDS, but fails for external ceph clients. This is because\nfor those clients, key capabilities can be set via broker requests.\nAs such, when the ceph-mon charm is upgraded, the key capabilities\nfor those clients are reset, and since the broker request has been\nprocessed already, no further changes are done, leaving those keys\nwith incorrect caps.\n\nChange-Id: I878091f9387f22059d460d28c2d0072507e66c6f\nCloses-Bug: #2028387\n""}]",5,888740,44520d2330e59e5e7fa2baeac8c455ff7fbb2746,16,4,3,33717,,,0,"Only upgrade keys for internal clients

When fetching ceph keys, they are upgraded if it's deemed necessary
to fix bug #1968369. This worked for internal ceph entities such
as RBD or MDS, but fails for external ceph clients. This is because
for those clients, key capabilities can be set via broker requests.
As such, when the ceph-mon charm is upgraded, the key capabilities
for those clients are reset, and since the broker request has been
processed already, no further changes are done, leaving those keys
with incorrect caps.

Change-Id: I878091f9387f22059d460d28c2d0072507e66c6f
Closes-Bug: #2028387
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/40/888740/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,4f89b9bd926d10658dab9b0b5664fbefefda7fd9,fix-upgrade-keys,"def is_internal_client(name): keys = ('osd-upgrade', 'osd-removal', 'admin', 'rbd-mirror', 'mds') return any(name.startswith(key) for key in keys) if is_internal_client(name): upgrade_key_caps(key_name, caps)"," upgrade_key_caps(key_name, caps)",7,1
openstack%2Fpuppet-openstack-integration~master~If8d8c753bd93e8c0ce33a20f2d422ad4970b659d,openstack/puppet-openstack-integration,master,If8d8c753bd93e8c0ce33a20f2d422ad4970b659d,Updated from Puppet OpenStack modules constraints,MERGED,2023-07-14 02:14:53.000000000,2023-07-26 19:19:10.000000000,2023-07-26 19:19:10.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 02:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cac325cc07f90a0da8ae0cbed873a706d6ad1f08', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If8d8c753bd93e8c0ce33a20f2d422ad4970b659d\n'}, {'number': 2, 'created': '2023-07-18 02:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0ff85584d3f7ca0760d84d0e93bc28f5f71204a1', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If8d8c753bd93e8c0ce33a20f2d422ad4970b659d\n'}, {'number': 3, 'created': '2023-07-26 02:25:06.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5fd976945df12ea1a2d7ac7f11437aff7767a122', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If8d8c753bd93e8c0ce33a20f2d422ad4970b659d\n'}]",0,888511,5fd976945df12ea1a2d7ac7f11437aff7767a122,15,4,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: If8d8c753bd93e8c0ce33a20f2d422ad4970b659d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/11/888511/3 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,cac325cc07f90a0da8ae0cbed873a706d6ad1f08,openstack/puppet/constraints, :ref => 'v5.2.0', :ref => 'v5.1.0',1,1
openstack%2Fkeystone~stable%2Fvictoria~Ib6bcdcc9e01d1524626b434d9423380760de2247,openstack/keystone,stable/victoria,Ib6bcdcc9e01d1524626b434d9423380760de2247,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 15:06:19.000000000,2023-07-26 19:18:40.000000000,2023-07-26 19:17:16.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:06:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a3cc2382aaefc5e99a8ecca1d76e483a8a553d9', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: Ib6bcdcc9e01d1524626b434d9423380760de2247\n""}]",0,888705,5a3cc2382aaefc5e99a8ecca1d76e483a8a553d9,8,3,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: Ib6bcdcc9e01d1524626b434d9423380760de2247
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/888705/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5a3cc2382aaefc5e99a8ecca1d76e483a8a553d9,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fdesignate~master~Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1,openstack/designate,master,Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1,Cleanup DNS Middleware,MERGED,2023-07-01 20:38:51.000000000,2023-07-26 19:01:12.000000000,2023-07-26 19:00:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-01 20:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cee16b0858ae79c2203fc63364ae28fd2d6e368f', 'message': 'Cleanup DNS Middleware\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 2, 'created': '2023-07-02 10:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/20ab2d52afc74ff97afff48231b717b62dd881da', 'message': 'Cleanup DNS Middleware\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 3, 'created': '2023-07-02 10:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/19824479680e89bd3641d90e10d133438999e546', 'message': 'Cleanup DNS Middleware\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 4, 'created': '2023-07-02 20:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cb8740ba0416d6c07a7108eff6a1f904b66e8ac8', 'message': 'Cleanup DNS Middleware\n\n- Moved DNS Middleware to separate file.\n- Cleaned up logic.\n- Fixed non-lazy loaded logging.\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 5, 'created': '2023-07-02 22:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/79132f384d68df318dc17404a6fde3b23fc268a1', 'message': 'Cleanup DNS Middleware\n\n- Moved DNS Middleware to separate file.\n- Cleaned up logic.\n- Fixed non-lazy loaded logging.\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 6, 'created': '2023-07-12 07:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e40f30730ff52bf2c2a6ecc0e4ca23a5db5ad994', 'message': 'Cleanup DNS Middleware\n\n- Moved DNS Middleware to separate file.\n- Cleaned up logic.\n- Fixed non-lazy loaded logging.\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 7, 'created': '2023-07-18 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0a20500888b14ea9befd7be3d685c75511b23fba', 'message': 'Cleanup DNS Middleware\n\n- Moved DNS Middleware to separate file.\n- Cleaned up logic.\n- Fixed non-lazy loaded logging.\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 8, 'created': '2023-07-25 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/586577cab0d4c64d0e19cc0ae24835235c305227', 'message': 'Cleanup DNS Middleware\n\n- Moved DNS Middleware to separate file.\n- Cleaned up logic.\n- Fixed non-lazy loaded logging.\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}, {'number': 9, 'created': '2023-07-26 07:25:25.000000000', 'files': ['designate/tests/unit/mdns/test_service.py', 'designate/mdns/service.py', 'designate/agent/service.py', 'designate/dnsutils.py', 'designate/dnsmiddleware.py', 'designate/tests/test_dnsmiddleware.py', 'designate/tests/test_dnsutils.py', 'designate/tests/test_mdns/test_service.py', 'designate/tests/unit/agent/test_service.py', 'designate/tests/unit/test_dnsmiddleware.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fa95018c919957ce730e825a11073e840a6af616', 'message': 'Cleanup DNS Middleware\n\n- Moved DNS Middleware to separate file.\n- Cleaned up logic.\n- Fixed non-lazy loaded logging.\n\nChange-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1\n'}]",6,887394,fa95018c919957ce730e825a11073e840a6af616,31,3,9,22623,,,0,"Cleanup DNS Middleware

- Moved DNS Middleware to separate file.
- Cleaned up logic.
- Fixed non-lazy loaded logging.

Change-Id: Ic1d7c17fc2d7a563ff22f0b1dd42a58f87665cf1
",git fetch https://review.opendev.org/openstack/designate refs/changes/94/887394/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/dnsutils.py'],1,cee16b0858ae79c2203fc63364ae28fd2d6e368f,,"import threading super(SerializationMiddleware, self).__init__(application) message = None error_response = None LOG.error( 'Unknown TSIG key from %(host)s:%(port)d', { 'host': request['addr'][0], 'port': request['addr'][1] } ) error_response = self._build_error_response() except dns.tsig.BadSignature: LOG.error( 'Invalid TSIG signature from %(host)s:%(port)d', { 'host': request['addr'][0], 'port': request['addr'][1] } ) error_response = self._build_error_response() except dns.exception.DNSException: LOG.error( 'Failed to deserialize packet from %(host)s:%(port)d', { 'host': request['addr'][0], 'port': request['addr'][1] } ) error_response = self._build_error_response() except Exception: LOG.exception( 'Unknown exception deserializing packet ' 'from %(host)s %(port)d', { 'host': request['addr'][0], 'port': request['addr'][1] } ) error_response = self._build_error_response() if not message or error_response: return error_response # Hand the Deserialized packet onto the Application for response in self.application(message): # Serialize and return the response if present if isinstance(response, dns.message.Message): yield response.to_wire(max_size=65535) elif isinstance(response, dns.renderer.Renderer): yield response.get_wire() else: LOG.error('Unexpected response %r', response) context.get_current(), criterion ) context.get_current(), criterion ) self.lock = threading.Lock() LOG.debug( 'Lock for %(zone)s can\'t be released for %(period)s seconds', { 'zone': zone, 'period': str(self.delay - period) } ) LOG.debug( 'Threw away NOTIFY for %(zone)s, already ' 'working on an update.', { 'zone': zone_name } )","from threading import Lock self.application = application LOG.error(""Unknown TSIG key from %(host)s:%(port)d"", {'host': request['addr'][0], 'port': request['addr'][1]}) response = self._build_error_response() except dns.tsig.BadSignature: LOG.error(""Invalid TSIG signature from %(host)s:%(port)d"", {'host': request['addr'][0], 'port': request['addr'][1]}) response = self._build_error_response() except dns.exception.DNSException: LOG.error(""Failed to deserialize packet from %(host)s:%(port)d"", {'host': request['addr'][0], 'port': request['addr'][1]}) response = self._build_error_response() except Exception: LOG.exception(""Unknown exception deserializing packet "" ""from %(host)s %(port)d"", {'host': request['addr'][0], 'port': request['addr'][1]}) response = self._build_error_response() else: # Hand the Deserialized packet onto the Application for response in self.application(message): # Serialize and return the response if present if isinstance(response, dns.message.Message): yield response.to_wire(max_size=65535) elif isinstance(response, dns.renderer.Renderer): yield response.get_wire() else: LOG.error(""Unexpected response %r"", response) context.get_current(), criterion) context.get_current(), criterion) self.lock = Lock() LOG.debug('Lock for %(zone)s can\'t be released for %(period)s' 'seconds' % {'zone': zone, 'period': str(self.delay - period)}) LOG.debug('Threw away NOTIFY for %(zone)s, already ' 'working on an update.' % {'zone': zone_name})",67,42
openstack%2Fnova~stable%2Fvictoria~Ib6e52706e1eca92fefc44d21fab9f5df8780543c,openstack/nova,stable/victoria,Ib6e52706e1eca92fefc44d21fab9f5df8780543c,[stable-only] libvirt: UEFI: pc: prefer non-secureboot loaders,NEW,2022-02-13 22:27:18.000000000,2023-07-26 18:59:47.000000000,,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 22:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea1fc6e2d266638d27b6b58ff28a5d08dbe44ce', 'message': 'libvirt: disable secure boot on non-q35 or with os secure_boot options\n\nImpact:\n===\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria.\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"") and others.\n\nIssue:\n===\n\nThe issue is that if UEFI is enabled, SB can be enabled\nif loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);\nsee commit 363710b65543 (""libvirt: Handle alternative\nUEFI firmware binary paths"").\n\nThis is unintended and might prevent guest from booting\nbecause SB requires an q35 machine type, SMM feature in\nlibvirt XML, SB-ready image etc. (Neither is enabled by\ndefault nor guaranteed to be available or functional.)\n\nApproach:\n===\n\nWell, SB support _isn\'t_ implemented in Ussuri/Victoria,\nonly later in Wallaby. The first commit above fixes the\nissue because it removes hardcoded firmware/loader path\nfrom second commit above.\n\nAs SB isn\'t supported, could we just ignore .secboot.fd?\n\nBut let\'s not change default behavior ~2 years into LTS.\n\nFix:\n===\n\nSo, ignore .secboot.fd loader IF not q35. And since q35\nmay be set for AMD SEV, check `os.secure_boot` property/\nextra spec for `disabled` to ignore .secboot.fd as well\n(as listed in future `doc/source/admin/secure-boot.rst`),\nand users can explicitly disable it to boot UEFI on q35.\n\n(And as SB is not supported, do not check for both must\nmatch [`disabled`/`required`] as `required` isn\'t valid;\nthus if either image/flavor sets `disabled`, disable it).\n\nInfo:\n===\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTests:\n===\n\n    Original:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd\n\n    Patched:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.\n\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)\n\nLogs: (included for PC with UEFI only; broken/fixed case)\n===\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c\n'}, {'number': 2, 'created': '2022-02-14 12:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84383af704acda4f94a21fec065d5e6c6c5f80c9', 'message': '[stable-only] libvirt: disable secure boot on non-q35 or with os secure_boot options\n\nImpact:\n===\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria.\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"") and others.\n\nIssue:\n===\n\nThe issue is that if UEFI is enabled, SB can be enabled\nif loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);\nsee commit 363710b65543 (""libvirt: Handle alternative\nUEFI firmware binary paths"").\n\nThis is unintended and might prevent guest from booting\nbecause SB requires an q35 machine type, SMM feature in\nlibvirt XML, SB-ready image etc. (Neither is enabled by\ndefault nor guaranteed to be available or functional.)\n\nApproach:\n===\n\nWell, SB support _isn\'t_ implemented in Ussuri/Victoria,\nonly later in Wallaby. The first commit above fixes the\nissue because it removes hardcoded firmware/loader path\nfrom second commit above.\n\nAs SB isn\'t supported should we just ignore .secboot.fd?\nMaybe not completely? Let\'s ignore it if not q35 (which\nit _needs_; note the behavior change but it\'s otherwise\nbroken anyway), and if q35 is used (for something else)\nand still broken with .secboot.fd, provide users with a\nway out of the latter using documented (future) options.\n\n[Or should we opinionatedly just ignore .secboot.fd, as\nSecure Boot is not yet supported anyway, and options to\nget it back are provided? (e.g. os secure_boot=required).\n\nFix:\n===\n\nSo, ignore .secboot.fd loader IF not q35. And since q35\nmay be set for AMD SEV, check `os.secure_boot` property/\nextra spec for `disabled` to ignore .secboot.fd as well\n(as listed in future `doc/source/admin/secure-boot.rst`),\nand users can explicitly disable it to boot UEFI on q35.\n\n(And as SB is not supported, do not check for both must\nmatch [`disabled`/`required`] as `required` isn\'t valid;\nthus if either image/flavor sets `disabled`, disable it).\n\nInfo:\n===\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTests:\n===\n\n    Original:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd\n\n    Patched:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.\n\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)\n\nLogs: (included for PC with UEFI only; broken/fixed case)\n===\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c\n'}, {'number': 3, 'created': '2022-03-04 23:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d44443777664109b4fcccf520ee59e160603d22', 'message': '[stable-only] libvirt: UEFI: skip OVMF_CODE.secboot.fd on pc if possible\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria,\nas OVMF_CODE.secboot.fd has SB+SMM features; SMM requires\nthe q35 machine type, thus fails to boot on pc (default).\n\nFix that by checking for q35 machine type, and other file\nis available. (We can\'t check files for SMM to confirm.)\n\nIf it\'s not q35 (ie, it\'s pc):\n- If other firmware is available, use that.\n- Else, well, let\'s at least try; log that, and good luck!\n  (Maybe we should error out? but this is stable-only..)\n\n[stable-only]:\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s big/risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"").\n\nThat removed the hardcoded paths from commit 363710b65543\n(""libvirt: Handle alternative UEFI firmware binary paths"").\n\nInfo:\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTest:\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c\n'}, {'number': 4, 'created': '2022-03-04 23:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebed454cd75db5fe20250e2029854977062c0f0f', 'message': '[stable-only] libvirt: UEFI: skip OVMF_CODE.secboot.fd on pc if possible\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria,\nas OVMF_CODE.secboot.fd has SB+SMM features; SMM requires\nthe q35 machine type, thus fails to boot on pc (default).\n\nFix that by checking for q35 machine type, and other file\nis available. (We can\'t check files for SMM to confirm.)\n\nIf it\'s not q35 (ie, it\'s pc):\n- If other firmware is available, use that.\n- Else, well, let\'s at least try; log that, and good luck!\n  (Maybe we should error out? but this is stable-only..)\n\n[stable-only]:\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s big/risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"").\n\nThat removed the hardcoded paths from commit 363710b65543\n(""libvirt: Handle alternative UEFI firmware binary paths"").\n\nInfo:\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTest:\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c\n'}, {'number': 5, 'created': '2022-06-09 21:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d487369125166e96bd514593d6933d5ae1dbfb6', 'message': '[stable-only] libvirt: UEFI: pc: skip OVMF_CODE.secboot.fd if possible\n\nOption `hw_firwmare_type=uefi` might create _unbootable_\nservers on Ussuri and Victoria if OVMF_CODE.secboot.fd\nis found and has SB+SMM features (both are usually true),\nbecause SMM requires `q35`, thus fails to boot on `pc`.\n\nSo, check for non-`q35` machine type and try another file.\nIf there\'s none, log that. (We know it might fail to boot.\nMaybe it should error out? but this is stable-only..)\n\nAdd unit tests for the 6 possible scenarios (`pc/q35` with\nboth files present and either file present).\n\nWhy stable-only and not cherry-picks?\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s big/risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"").\n\nThat removed the hardcoded paths from commit 363710b65543\n(""libvirt: Handle alternative UEFI firmware binary paths"").\n\nDocs:\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTest:\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $\n\nAfter:\n\n    $ virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c\n'}, {'number': 6, 'created': '2022-06-29 18:01:24.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75e30a5a8cdd5343e65c14dbdc306ec3efee74bd', 'message': '[stable-only] libvirt: UEFI: pc: prefer non-secureboot loaders\n\nOption `hw_firwmare_type=uefi` might create _unbootable_\nservers on Ussuri and Victoria if OVMF_CODE.secboot.fd\nis found and has SB+SMM features (both are usually true),\nbecause SMM requires `q35`, thus fails to boot on `pc`.\n\nSo, check for non-`q35` machine, and prefer other loaders.\n\nIf it\'s the only loader available, well, log that and try.\n(We know it might fail to boot. Maybe it should error out?\nBut this is stable-only.. so, don\'t change _that_ behavior.)\n\nAlso, add unit tests for the 6 possible scenarios (that is,\n`pc/q35` with both/either loader(s) present).\n\n    $ . .tox/py38/bin/activate\n    $ stestr run nova.tests.unit.virt.libvirt.test_driver.LibvirtConnTestCase.test_get_guest_config_with_uefi_\n    ...\n    ...test_get_guest_config_with_uefi_pc_both_loaders [2.882679s] ... ok\n    ...test_get_guest_config_with_uefi_pc_only_regular [3.012471s] ... ok\n    ...test_get_guest_config_with_uefi_pc_only_secboot [3.099102s] ... ok\n    ...test_get_guest_config_with_uefi_q35_both_loaders [0.075068s] ... ok\n    ...test_get_guest_config_with_uefi_q35_only_regular [2.681666s] ... ok\n    ...test_get_guest_config_with_uefi_q35_only_secboot [0.121101s] ... ok\n    ...\n\nWhy stable-only and not cherry-picks?\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s big/risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"").\n\nThat removed the hardcoded paths from commit 363710b65543\n(""libvirt: Handle alternative UEFI firmware binary paths"").\n\nDocs:\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTest Steps:\n\n    $ openstack image set --property hw_firmware_type=uefi $image\n    $ openstack server create --image $image --flavor $flavor --network $network $server\n\nBefore:\n\n    $ virsh dumpxml $guest | grep -e machine= -e loader\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    $ openstack console log show $server # empty; it doesn\'t boot!\n    $\n\nAfter:\n\n    $ virsh dumpxml $guest | grep -e machine= -e loader\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    $ openstack console log show $server # yay, it boots!\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ virsh dumpxml $guest | grep -e machine= -e loader\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c\n'}]",24,828979,75e30a5a8cdd5343e65c14dbdc306ec3efee74bd,43,3,6,28621,,,0,"[stable-only] libvirt: UEFI: pc: prefer non-secureboot loaders

Option `hw_firwmare_type=uefi` might create _unbootable_
servers on Ussuri and Victoria if OVMF_CODE.secboot.fd
is found and has SB+SMM features (both are usually true),
because SMM requires `q35`, thus fails to boot on `pc`.

So, check for non-`q35` machine, and prefer other loaders.

If it's the only loader available, well, log that and try.
(We know it might fail to boot. Maybe it should error out?
But this is stable-only.. so, don't change _that_ behavior.)

Also, add unit tests for the 6 possible scenarios (that is,
`pc/q35` with both/either loader(s) present).

    $ . .tox/py38/bin/activate
    $ stestr run nova.tests.unit.virt.libvirt.test_driver.LibvirtConnTestCase.test_get_guest_config_with_uefi_
    ...
    ...test_get_guest_config_with_uefi_pc_both_loaders [2.882679s] ... ok
    ...test_get_guest_config_with_uefi_pc_only_regular [3.012471s] ... ok
    ...test_get_guest_config_with_uefi_pc_only_secboot [3.099102s] ... ok
    ...test_get_guest_config_with_uefi_q35_both_loaders [0.075068s] ... ok
    ...test_get_guest_config_with_uefi_q35_only_regular [2.681666s] ... ok
    ...test_get_guest_config_with_uefi_q35_only_secboot [0.121101s] ... ok
    ...

Why stable-only and not cherry-picks?

Wallaby and later are fixed with refactoring, as part of
the Secure Boot implementation, but that's big/risky; see
commit 9fff6893ce2e (""libvirt: Use firmware metadata files
to configure instance"").

That removed the hardcoded paths from commit 363710b65543
(""libvirt: Handle alternative UEFI firmware binary paths"").

Docs:

    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html
    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html
    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html
    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html

Test Steps:

    $ openstack image set --property hw_firmware_type=uefi $image
    $ openstack server create --image $image --flavor $flavor --network $network $server

Before:

    $ virsh dumpxml $guest | grep -e machine= -e loader
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>

    $ openstack console log show $server # empty; it doesn't boot!
    $

After:

    $ virsh dumpxml $guest | grep -e machine= -e loader
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

    $ openstack console log show $server # yay, it boots!
    ...
    [    0.000000] efi: EFI v2.70 by EDK II
    ...

Note that the XML snippet for the loader is aligned with Wallaby,
in which just setting hw_firmware_type=uefi works out of the box:

    $ virsh dumpxml $guest | grep -e machine= -e loader
      <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
      <loader readonly='yes' secure='no' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

Closes-Bug: #1960758
Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
Change-Id: Ib6e52706e1eca92fefc44d21fab9f5df8780543c
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/828979/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,fea1fc6e2d266638d27b6b58ff28a5d08dbe44ce,bug/1960758-victoria-v4," # If UEFI is enabled, Secure Boot can be enabled if loader # OVMF_CODE.secboot.fd exists, but SB is not yet supported. # So, ignore .secboot.fd loader if not q35 (required by SB) # and check for explicit os secure_boot 'disabled' options. disable_sb = False image_sb = image_meta.properties.get('os_secure_boot') flavor_sb = flavor.extra_specs.get('os:secure_boot') mach_type = libvirt_utils.get_machine_type(image_meta) if (image_sb == fields.SecureBoot.DISABLED or flavor_sb == fields.SecureBoot.DISABLED): disable_sb = True elif 'q35' not in mach_type: disable_sb = True for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]: if (disable_sb and lpath.endswith('.secboot.fd')): continue", for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]:,17,0
openstack%2Fcinder~master~I7d39f9043d607b174a53d804a57235a62bbfa6d8,openstack/cinder,master,I7d39f9043d607b174a53d804a57235a62bbfa6d8,Experiment with ruff,NEW,2023-04-19 15:26:49.000000000,2023-07-26 18:51:37.000000000,,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32238}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-04-19 15:26:49.000000000', 'files': ['tox.ini', 'ruff.toml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4092805978fc8c7947738c3d008a29a223920274', 'message': 'Experiment with ruff\n\nThe cool new Python linting tool.\n\n""tox -e ruff"" to check and\n""tox -e ruff -- --fix"" to auto-fix code.\n\nThis isn\'t approved in openstack/requirements at this time,\nbut developers might like trying it out.\n\nChange-Id: I7d39f9043d607b174a53d804a57235a62bbfa6d8\n'}]",7,880862,4092805978fc8c7947738c3d008a29a223920274,43,6,1,4523,,,0,"Experiment with ruff

The cool new Python linting tool.

""tox -e ruff"" to check and
""tox -e ruff -- --fix"" to auto-fix code.

This isn't approved in openstack/requirements at this time,
but developers might like trying it out.

Change-Id: I7d39f9043d607b174a53d804a57235a62bbfa6d8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/880862/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'ruff.toml']",2,4092805978fc8c7947738c3d008a29a223920274,,"# hacking already covers E402 (and disagrees w/ ruff) ignore = [""E402""] [per-file-ignores] ""cinder/volume/drivers/fungible/swagger_api_client.py"" = [""E501""] ",,12,0
openstack%2Fcinder~stable%2Fyoga~I609a4f056d19f67aa7b8113bb38b9e9083f24124,openstack/cinder,stable/yoga,I609a4f056d19f67aa7b8113bb38b9e9083f24124,Fix NetApp NFS driver to never spawn a native thread again,MERGED,2023-06-13 12:45:23.000000000,2023-07-26 18:47:31.000000000,2023-07-26 18:46:19.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 33648}, {'_account_id': 33986}]","[{'number': 1, 'created': '2023-06-13 12:45:23.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f80d022ca2c9892191e82b76cb3feba96a182a8', 'message': ""Fix NetApp NFS driver to never spawn a native thread again\n\nThe NetApp NFS driver is spawning a Python native thread to\nschedule image cache cleanups, which can lead to unpredictable\nbehavior such as thread starvation due to its hunger to preempt\nother Cinder's fellow threads.\n\nThis patch fixes it by reimplementing the NFS image cache cleanup\ntask as a green thread with a customized periodic interval.\n\nThe patch adds the configuration\noption netapp_nfs_image_cache_cleanup_interval to allow\noperators to set an interval in seconds between calls to the image\ncleanup task.\n\nCloses-Bug: #2008017\nChange-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124\n(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)\n(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)\n""}]",7,885919,0f80d022ca2c9892191e82b76cb3feba96a182a8,36,5,1,35002,,,0,"Fix NetApp NFS driver to never spawn a native thread again

The NetApp NFS driver is spawning a Python native thread to
schedule image cache cleanups, which can lead to unpredictable
behavior such as thread starvation due to its hunger to preempt
other Cinder's fellow threads.

This patch fixes it by reimplementing the NFS image cache cleanup
task as a green thread with a customized periodic interval.

The patch adds the configuration
option netapp_nfs_image_cache_cleanup_interval to allow
operators to set an interval in seconds between calls to the image
cleanup task.

Closes-Bug: #2008017
Change-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124
(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)
(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/885919/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py']",6,0f80d022ca2c9892191e82b76cb3feba96a182a8,," cfg.IntOpt('netapp_nfs_image_cache_cleanup_interval', default=600, min=60, help=('Sets time in seconds between NFS image cache ' 'cleanup tasks.')),",,51,76
openstack%2Fdesignate-dashboard~stable%2Fyoga~I24fd60e86405d088e254676eefeded9619547e56,openstack/designate-dashboard,stable/yoga,I24fd60e86405d088e254676eefeded9619547e56,Fix details pages reload behaviour,MERGED,2023-04-20 14:50:38.000000000,2023-07-26 18:16:34.000000000,2023-07-26 18:15:40.000000000,"[{'_account_id': 11628}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 14:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/cff2ee1d392b7e6bde98c6ac3a2c2772c80c9a53', 'message': 'Fix details pages reload behaviour\n\nThis patch fixes default index url for the pages, so reload details page\nand open it in new tab can work properly.\n\nCloses-Bug: #1902821\nCloses-Bug: #1935967\n\nChange-Id: I24fd60e86405d088e254676eefeded9619547e56\n(cherry picked from commit 55718b71f836ed841c0f6425ee4add6f6b090fe1)\n'}, {'number': 2, 'created': '2023-07-26 17:54:02.000000000', 'files': ['designatedashboard/static/designatedashboard/resources/os-designate-zone/os-designate-zone.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/os-designate-floatingip.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/os-designate-recordset.module.js'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f2e7a138aabe28d61e7a512c6b2fedd251cc2342', 'message': 'Fix details pages reload behaviour\n\nThis patch fixes default index url for the pages, so reload details page\nand open it in new tab can work properly.\n\nCloses-Bug: #1902821\nCloses-Bug: #1935967\n\nChange-Id: I24fd60e86405d088e254676eefeded9619547e56\n(cherry picked from commit 55718b71f836ed841c0f6425ee4add6f6b090fe1)\n'}]",3,880992,f2e7a138aabe28d61e7a512c6b2fedd251cc2342,14,3,2,35010,,,0,"Fix details pages reload behaviour

This patch fixes default index url for the pages, so reload details page
and open it in new tab can work properly.

Closes-Bug: #1902821
Closes-Bug: #1935967

Change-Id: I24fd60e86405d088e254676eefeded9619547e56
(cherry picked from commit 55718b71f836ed841c0f6425ee4add6f6b090fe1)
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/92/880992/2 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/static/designatedashboard/resources/os-designate-zone/os-designate-zone.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/os-designate-floatingip.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/os-designate-recordset.module.js']",3,cff2ee1d392b7e6bde98c6ac3a2c2772c80c9a53,bug/1902821-stable/yoga, .setDefaultIndexUrl('/project/dnszones/'), .setDefaultIndexUrl('/resources/recordsets/'),3,3
openstack%2Fnova~master~Id427e7923ff3a9d2957586fba5ccef0216318e6f,openstack/nova,master,Id427e7923ff3a9d2957586fba5ccef0216318e6f,Use SDK for add/remove instance info from node,NEW,2019-05-17 00:15:03.000000000,2023-07-26 18:09:36.000000000,,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29745}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-05-17 00:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4be6f33c405c89957b4ff921dd7b7e0171f4b8d3', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 2, 'created': '2019-05-21 19:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d5b97bc665b5ed3a0167756529604af3b4191e2', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 3, 'created': '2019-05-24 21:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/872d613607ae5f77ed22e23dc5e573ae76b4bab2', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 4, 'created': '2019-06-06 21:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da1f23f8510e8d39f953896e908ff3f7da1185f8', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 5, 'created': '2019-06-07 18:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/979d0b07c5ea88b3e4c3ffa3b390776484b5dcb9', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 6, 'created': '2019-06-11 20:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2392682880ea5b26b7a8e9eb2e6511f6e5e4646', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 7, 'created': '2019-06-13 02:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/794686c71da449f1c23fba8b52a34f7b5986c930', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 8, 'created': '2019-06-17 19:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8056520d49520da0b97d4e708016208edfcdca6', 'message': 'WIP: Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 9, 'created': '2019-07-10 23:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbb7fae70d99d1e21958847d73ead343005b46c8', 'message': 'Use SDK instead of ironicclient for add/remove instance info from node\n\n    We would like nova not to use ironicclient, but instead to invoke the\n    ironic API directly through an openstacksdk connection.\n\n    The parent commits set up the framework, and this commit uses it\n    for adding and removing instance info from the node.\n.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 10, 'created': '2019-07-11 16:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed5235e2e2fa4c4b911542f0f3fb92e9c948cee2', 'message': 'Use SDK instead of ironicclient for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 11, 'created': '2019-07-11 21:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88a0803a5e9a549bc738d3bf51135f406ac66bdd', 'message': 'Use SDK instead of ironicclient for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 12, 'created': '2019-07-13 00:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90f1420242dd24d5baf4f75d224227739db98e19', 'message': 'Use SDK instead of ironicclient for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 13, 'created': '2019-07-19 22:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92038b1cee2a61d87dc8365aeadcd06ac6c5f675', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 14, 'created': '2019-07-22 22:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9de0cb7924b9fe08c3b1da6a69870e60ebb8605e', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 15, 'created': '2019-08-06 02:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a484f3b8f8470b263d627c77f1139a5a9e590f0', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 16, 'created': '2019-08-06 18:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9efbf1824a49950083a05b4a5402be2af13a51c9', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 17, 'created': '2019-08-06 19:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5158e99b8fea00d5de03af5c2e3878e61816714', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 18, 'created': '2019-08-13 04:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26f7ff5adc10005c7ab9ec852370b2be755de04a', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 19, 'created': '2019-08-13 18:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01a0ea011052281479bca2b4061dbef89c17eb64', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 20, 'created': '2019-08-15 15:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f558413d4c588db84a2ca3d83a170e2a314292c7', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 21, 'created': '2019-08-16 21:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b459d8dd820c8414b78ffae5bc6b86adb7f361a', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 22, 'created': '2019-08-17 23:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6de17810925adcc2b417fede0fe4f9dce259e16b', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 23, 'created': '2019-08-22 16:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04d1728e60284f4fcaba52a49b356836fb664300', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 24, 'created': '2019-08-22 22:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/679ef875f5ea88bfe5e217d9a079047b35572661', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 25, 'created': '2019-08-23 11:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b73c616f04cc354a61c14598ba7b7b287e092549', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 26, 'created': '2019-08-23 19:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/698349cd25b2b729db0c8f615c0725653f319993', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 27, 'created': '2019-08-28 21:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb7b996c8b06e45de37ad4bf7056ddfc38dd7cd9', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 28, 'created': '2019-08-29 05:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/189b6d7d9612ebec2ea1bdfc1d22cb22cba0e0bd', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 29, 'created': '2019-08-30 00:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb63c0fb6376a4240c540507e759fe1b85aba37', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 30, 'created': '2019-09-02 21:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9aabaf32e56243e610202c5446b97561e568825a', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 31, 'created': '2019-09-10 21:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa5453ffac791e667c9e5265b5de850db473572', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends-On: 680649\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 32, 'created': '2019-09-10 21:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/942d793a8ab0dfa05811a76dc99ec2848bfdca2a', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nDepends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 33, 'created': '2019-09-25 18:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67d302baecd0cc323955f4fdcef9d5418e09b8bc', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nDepends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 34, 'created': '2019-10-30 16:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0786f85e851db4cd4af314c57e133bd60128ea2', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nDepends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\nBlueprint: openstacksdk-in-nova\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 35, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/759608002f038bafb6097b22240bb35f22f50332', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 36, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c2da5ac2c5ffedc6479e35b34f098e0650192d8', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}, {'number': 37, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71602eacba7b5e38dd1c06e43212f0c7c55a1024', 'message': 'Use SDK for add/remove instance info from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor adding and removing instance info from the node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nChange-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f\n'}]",26,659691,71602eacba7b5e38dd1c06e43212f0c7c55a1024,335,22,37,29745,,,0,"Use SDK for add/remove instance info from node

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

The parent commits set up the framework, and this commit uses it
for adding and removing instance info from the node.

Depends on field mapping in the OpenStack SDK. That work maps SDK
field names to Ironic API field names within the SDK which allows
for consistency between fields in calls and parameters on returned
objects.

Change-Id: Id427e7923ff3a9d2957586fba5ccef0216318e6f
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/659691/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,4be6f33c405c89957b4ff921dd7b7e0171f4b8d3,bp/openstacksdk-in-nova," def _test_add_instance_info_to_node(self): self.driver._add_instance_info_to_node(node, instance, image_meta, flavor) # TODO(dustinc): Add check for call to patcher.create self.mock_conn.patch_node.assert_called_once_with(node, expected_patch) def _test_remove_instance_info_from_node(self): self.driver._remove_instance_info_from_node(node) self.mock_conn.patch_node.assert_called_once_with(node, expected_patch) mock_remove_instance_info.assert_called_once_with(node) @mock.patch.object(cw.ironic_driver.IronicDriver, '_remove_instance_info_from_node') def test__cleanup_deploy(self, mock_remove_info, mock_vol, mock_unvif, mock_stop_fw): mock_remove_info.called_once_with(node)"," def _test_add_instance_info_to_node(self, mock_update=None, mock_call=None): self.driver._add_instance_info_to_node(node, instance, image_meta, flavor) if mock_call is not None: # assert call() is invoked with retry_on_conflict False to # avoid bug #1341420 mock_call.assert_called_once_with('node.update', node.uuid, expected_patch, retry_on_conflict=False) if mock_update is not None: mock_update.assert_called_once_with(node.uuid, expected_patch) @mock.patch.object(FAKE_CLIENT.node, 'update') def test__add_instance_info_to_node_mock_update(self, mock_update): self._test_add_instance_info_to_node(mock_update=mock_update) @mock.patch.object(cw.IronicClientWrapper, 'call') def test__add_instance_info_to_node_mock_call(self, mock_call): self._test_add_instance_info_to_node(mock_call=mock_call) @mock.patch.object(FAKE_CLIENT.node, 'update') def test__add_instance_info_to_node_fail(self, mock_update): mock_update.side_effect = ironic_exception.BadRequest() instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) image_meta = ironic_utils.get_test_image_meta() flavor = ironic_utils.get_test_flavor() self.assertRaises(exception.InstanceDeployFailure, self.driver._add_instance_info_to_node, node, instance, image_meta, flavor) def _test_remove_instance_info_from_node(self, mock_update): node = _get_cached_node(driver='fake') instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.driver._remove_instance_info_from_node(node, instance) mock_update.assert_called_once_with(node.uuid, expected_patch) @mock.patch.object(FAKE_CLIENT.node, 'update') def test_remove_instance_info_from_node(self, mock_update): self._test_remove_instance_info_from_node(mock_update) @mock.patch.object(FAKE_CLIENT.node, 'update') def test_remove_instance_info_from_node_fail(self, mock_update): mock_update.side_effect = ironic_exception.BadRequest() self._test_remove_instance_info_from_node(mock_update) mock_remove_instance_info.assert_called_once_with(node, instance) @mock.patch.object(cw.IronicClientWrapper, 'call') def test__cleanup_deploy(self, mock_call, mock_vol, mock_unvif, mock_stop_fw): mock_call.has_calls( [mock.call('node.update', node.uuid, expected_patch)])",20,73
openstack%2Fdevstack-plugin-container~master~Ic042494d1cd588fb2b06f7e1d5544206b20b5ad6,openstack/devstack-plugin-container,master,Ic042494d1cd588fb2b06f7e1d5544206b20b5ad6,Failed to launch kubelet after rebooting,NEW,2023-07-18 14:32:21.000000000,2023-07-26 18:07:55.000000000,,"[{'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 14:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/79ed040e4905bf82626d2147b7221bbfb9d61517', 'message': ""DNM: Failed to launch kubelet after rebooting\n\nThe default behavior of crio service is `disable` if you install it with\ndevstack. So, kubelet cannot launch after rebooting a host because crio\nisn't run on the host before. To fix the issue, enable crio in systemctl\nwhile installing kubeadm.\n\nChange-Id: Ic042494d1cd588fb2b06f7e1d5544206b20b5ad6\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n""}, {'number': 2, 'created': '2023-07-26 17:40:32.000000000', 'files': ['devstack/lib/crio'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/00523744112bdcd91cbb4e56b9fd054c6b9b60c1', 'message': ""Failed to launch kubelet after rebooting\n\nThe default behavior of crio service is `disable` if you install it with\ndevstack. So, kubelet cannot launch after rebooting a host because crio\nisn't run on the host before. To fix the issue, enable crio in systemctl\nwhile installing kubeadm.\n\nChange-Id: Ic042494d1cd588fb2b06f7e1d5544206b20b5ad6\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n""}]",2,888775,00523744112bdcd91cbb4e56b9fd054c6b9b60c1,6,2,2,25701,,,0,"Failed to launch kubelet after rebooting

The default behavior of crio service is `disable` if you install it with
devstack. So, kubelet cannot launch after rebooting a host because crio
isn't run on the host before. To fix the issue, enable crio in systemctl
while installing kubeadm.

Change-Id: Ic042494d1cd588fb2b06f7e1d5544206b20b5ad6
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/75/888775/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/crio'],1,79ed040e4905bf82626d2147b7221bbfb9d61517,systemctl-enable-crio, sudo systemctl enable crio,,1,0
openstack%2Fcinder~stable%2Fzed~I53d6fc94c9940b13f156772b80596c866bdf26b2,openstack/cinder,stable/zed,I53d6fc94c9940b13f156772b80596c866bdf26b2,[Pure Storage] Add check for new error message,MERGED,2023-05-10 01:10:30.000000000,2023-07-26 18:01:52.000000000,2023-07-26 18:00:31.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32074}]","[{'number': 1, 'created': '2023-05-10 01:10:30.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/791615051451ab3e2224b4c12392301dc2928a33', 'message': '[Pure Storage] Add check for new error message\n\nA new error message has been added to the API response for the\nadd_pod command.\n\nThis needs to be checked for as a valid error.\n\nWithout this check the driver will fail.\n\nChange-Id: I53d6fc94c9940b13f156772b80596c866bdf26b2\n(cherry picked from commit 44217eca7cbfcf79ea13bb9bc6a95d7ad75b0898)\n(cherry picked from commit 5975376ba951d6abb1e31cece2748e25823327e6)\n'}]",6,882771,791615051451ab3e2224b4c12392301dc2928a33,45,5,1,13425,,,0,"[Pure Storage] Add check for new error message

A new error message has been added to the API response for the
add_pod command.

This needs to be checked for as a valid error.

Without this check the driver will fail.

Change-Id: I53d6fc94c9940b13f156772b80596c866bdf26b2
(cherry picked from commit 44217eca7cbfcf79ea13bb9bc6a95d7ad75b0898)
(cherry picked from commit 5975376ba951d6abb1e31cece2748e25823327e6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/882771/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,791615051451ab3e2224b4c12392301dc2928a33,,"ERR_MSG_ARRAY_LIMIT = ""limit reached"" ERR_MSG_ALREADY_EXISTS in err.text or ERR_MSG_ARRAY_LIMIT in err.text ):", ERR_MSG_ALREADY_EXISTS in err.text):,4,2
openstack%2Fdesignate-dashboard~stable%2Fyoga~I619a503f14e90da04e678dd0d3b90717e0fe10d9,openstack/designate-dashboard,stable/yoga,I619a503f14e90da04e678dd0d3b90717e0fe10d9,Disable lower constraint job on stable/yoga,MERGED,2023-07-26 16:47:08.000000000,2023-07-26 17:55:32.000000000,2023-07-26 17:53:31.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 16:47:08.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/aa3f9585d812c9dfaba409c6a5f2fda6858ab4c0', 'message': 'Disable lower constraint job on stable/yoga\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I619a503f14e90da04e678dd0d3b90717e0fe10d9\n'}]",1,889735,aa3f9585d812c9dfaba409c6a5f2fda6858ab4c0,7,2,1,11628,,,0,"Disable lower constraint job on stable/yoga

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I619a503f14e90da04e678dd0d3b90717e0fe10d9
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/35/889735/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,aa3f9585d812c9dfaba409c6a5f2fda6858ab4c0,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,138
openstack%2Fnova~master~If36fde647348099d5a5519dc6300d625869a4862,openstack/nova,master,If36fde647348099d5a5519dc6300d625869a4862,Use SDK for getting network metadata from node,NEW,2019-07-10 23:43:07.000000000,2023-07-26 17:45:16.000000000,,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29745}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-10 23:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d031e519fcaad162db48cbbcea2f58c5a93b8de1', 'message': '    Use SDK instead of ironicclient for getting network metadata from node\n\n        We would like nova not to use ironicclient, but instead to invoke the\n        ironic API directly through an openstacksdk connection.\n\n        The parent commits set up the framework, and this commit uses it\n        for retrieving the network metadata from a node.\n\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 2, 'created': '2019-07-11 16:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f2828da48a1619aedd1d6f656e5dccb903a3972', 'message': 'Use SDK instead of ironicclient for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 3, 'created': '2019-07-11 21:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07a02605310b42b36d9a640c2f4698430e04d7bd', 'message': 'Use SDK instead of ironicclient for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 4, 'created': '2019-07-13 00:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfe0e3d8491e6f62dfd4b47286aa1f358d4b60c6', 'message': 'Use SDK instead of ironicclient for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 5, 'created': '2019-07-19 22:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfba7f9f12009cb144d30cfab49c578b9d7173ee', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 6, 'created': '2019-07-22 22:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2e2cc047ea1ca8ff989df03cb46e177f2675127', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 7, 'created': '2019-08-06 02:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d0103df98bf486ef671293b61b0a48ff0fc747c', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 8, 'created': '2019-08-06 18:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c609af6d450c541063b9599a47e7e532db605c6', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 9, 'created': '2019-08-06 19:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7e06cd373d9e7d703c2b6081791a9931b02ae9b', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 10, 'created': '2019-08-13 04:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71f061e1e44e1f0f182f030dcfc61ac116e3e94f', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 11, 'created': '2019-08-13 18:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a549436d857491034a61c3f74ca85e4695506854', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 12, 'created': '2019-08-15 15:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b53a3197acc6f9a0518a7ba2f202f9af0754a4ba', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 13, 'created': '2019-08-16 21:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b74ca7745c453b5f5f0d2ff0ea344fc7ec9aeb18', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 14, 'created': '2019-08-17 23:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44c017070db043c28d6cc655ea5996dd0aee3e7d', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 15, 'created': '2019-08-22 16:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbeacf09932e7d3abe9cc911f19c3354fe0fdc6c', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 16, 'created': '2019-08-22 22:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6e51a6aba9b3cbf25734919ba5b6f3385a472c2', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 17, 'created': '2019-08-23 11:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e828465bd786733d02537be35bd981226f3feb9f', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 18, 'created': '2019-08-23 19:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cfc5ce269a0e9db25a1c3e1243fc085d3a552fe', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 19, 'created': '2019-08-28 21:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed71aa09f25a8e4798aa3ee7423aaf2ebf0fc37b', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 20, 'created': '2019-08-29 05:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d916b731523495f2edee0fd383e50b35679d58a', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 21, 'created': '2019-08-30 00:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3f17d15fe99cbc676918c9b903c988662f2c597', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 22, 'created': '2019-09-02 21:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/551708e13f065d65af2942abd7c14eb68c6a6dbb', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 23, 'created': '2019-09-10 21:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c03212bf380cd1ff021cdf34fd0ebb31106a23c', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nDepends-On: 680649\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 24, 'created': '2019-09-10 21:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c126854cfcd879c379704a46cabc11c386e2dc36', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nDepends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 25, 'created': '2019-09-25 18:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a1073bcfaa2e4d56154b433ddcf865cf96291b6', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nDepends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 26, 'created': '2019-10-30 16:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7acc809dd6b7e8978d40137d75737190fa2bcf0c', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nDepends-On: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\nBlueprint: openstacksdk-in-nova\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 27, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c058c4168aa8cad4b9cb68b3aa21e5d74d7c35bd', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThe parent commits set up the framework, and this commit uses it\nfor retrieving the network metadata from a node.\n\nDepends on field mapping in the OpenStack SDK. That work maps SDK\nfield names to Ironic API field names within the SDK which allows\nfor consistency between fields in calls and parameters on returned\nobjects.\n\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 28, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc8926c44b171198499de9c2679c61477ad2754f', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis change changes how we retrieve network metdata from a node.\n\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 29, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f795eed3b0384d4ff890067e1a2afbfcbd8f627', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis change changes how we retrieve network metdata from a node.\n\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}, {'number': 30, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/10346c97caae3fa7210cbfc7f38cf1ceeb14ed98', 'message': 'Use SDK for getting network metadata from node\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis change changes how we retrieve network metdata from a node.\n\nChange-Id: If36fde647348099d5a5519dc6300d625869a4862\n'}]",5,670213,10346c97caae3fa7210cbfc7f38cf1ceeb14ed98,250,18,30,29745,,,0,"Use SDK for getting network metadata from node

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

This change changes how we retrieve network metdata from a node.

Change-Id: If36fde647348099d5a5519dc6300d625869a4862
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/670213/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,d031e519fcaad162db48cbbcea2f58c5a93b8de1,bp/openstacksdk-in-nova," def _test_generate_network_metadata(self, address=None, vif_internal_info=True): node_id=self.node.id, address=address, port1 = ironic_utils.get_test_port(id=uuidutils.generate_uuid(), node_id=self.node.id, port_group_id=portgroup.id) port2 = ironic_utils.get_test_port(id=uuidutils.generate_uuid(), node_id=self.node.id, port_group_id=portgroup.id) self.node.ports = [port1, port2] self.node.port_groups = [portgroup] self.assertEqual([port1.id, port2.id], self.assertEqual([{'id': port1.id, 'type': 'phy', {'id': port2.id, 'type': 'phy', def test_generate_network_metadata_ports_only(self, mock_cd_builder, node_id=self.node.id, address=address, self.node.ports = [port] self.node.port_groups = []"," @mock.patch.object(FAKE_CLIENT.node, 'list_ports') @mock.patch.object(FAKE_CLIENT.portgroup, 'list') def _test_generate_network_metadata(self, mock_portgroups, mock_ports, address=None, vif_internal_info=True): node_uuid=self.node.uuid, address=address, port1 = ironic_utils.get_test_port(uuid=uuidutils.generate_uuid(), node_uuid=self.node.uuid, portgroup_uuid=portgroup.uuid) port2 = ironic_utils.get_test_port(uuid=uuidutils.generate_uuid(), node_uuid=self.node.uuid, portgroup_uuid=portgroup.uuid) mock_ports.return_value = [port1, port2] mock_portgroups.return_value = [portgroup] self.assertEqual([port1.uuid, port2.uuid], self.assertEqual([{'id': port1.uuid, 'type': 'phy', {'id': port2.uuid, 'type': 'phy', @mock.patch.object(FAKE_CLIENT.node, 'list_ports') @mock.patch.object(FAKE_CLIENT.portgroup, 'list') def test_generate_network_metadata_ports_only(self, mock_portgroups, mock_ports, mock_cd_builder, node_uuid=self.node.uuid, address=address, mock_ports.return_value = [port] mock_portgroups.return_value = []",24,35
openstack%2Fkuryr-kubernetes~master~I8688c8c4886d917e9721b59e630cbe47e701ea53,openstack/kuryr-kubernetes,master,I8688c8c4886d917e9721b59e630cbe47e701ea53,Failed to launch kubelet after rebooting,ABANDONED,2023-07-16 03:26:55.000000000,2023-07-26 17:44:51.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-16 03:26:55.000000000', 'files': ['devstack/lib/kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5421c25365654052b72260c2b9d10a286111fe90', 'message': ""Failed to launch kubelet after rebooting\n\nThe default behavior of crio service is `disable` if you install it with\ndevstack. So, kubelet cannot launch after rebooting a host because crio\nisn't run on the host before. To fix the issue, enable crio in systemctl\nwhile installing kubeadm.\n\nCloses-Bug: #2027866\nChange-Id: I8688c8c4886d917e9721b59e630cbe47e701ea53\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n""}]",6,888629,5421c25365654052b72260c2b9d10a286111fe90,8,3,1,25701,,,0,"Failed to launch kubelet after rebooting

The default behavior of crio service is `disable` if you install it with
devstack. So, kubelet cannot launch after rebooting a host because crio
isn't run on the host before. To fix the issue, enable crio in systemctl
while installing kubeadm.

Closes-Bug: #2027866
Change-Id: I8688c8c4886d917e9721b59e630cbe47e701ea53
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/888629/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kubernetes'],1,5421c25365654052b72260c2b9d10a286111fe90,bug/2027866," # NOTE(yasufum): Enable crio which is disabled if it's installed via apt, # or failed to launch kubelet. if [[ ${CONTAINER_ENGINE} == 'crio' ]]; then systemctl enable crio fi ",,7,0
openstack%2Fnova~master~Iebf3f4352083755c9e93b10a87ca58e90ed35500,openstack/nova,master,Iebf3f4352083755c9e93b10a87ca58e90ed35500,Use SDK for remaining network operations,NEW,2022-12-15 12:50:57.000000000,2023-07-26 17:42:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e13abb032f67386e0f9fe85d19dd9fa1416a135f', 'message': 'Use SDK for remaining network operations\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the remaining network-related operations.\n\nChange-Id: Iebf3f4352083755c9e93b10a87ca58e90ed35500\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e214311d8c3057e1149bc5734f7f6a70acc553d', 'message': 'Use SDK for remaining network operations\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the remaining network-related operations.\n\nChange-Id: Iebf3f4352083755c9e93b10a87ca58e90ed35500\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2ca10b80b05fc0fc25e6d3b964f6c804573d7a1', 'message': 'Use SDK for remaining network operations\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the remaining network-related operations.\n\nChange-Id: Iebf3f4352083755c9e93b10a87ca58e90ed35500\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b9b7e652b64e2f2ebb8aa963c2ba95e4975dd6d', 'message': 'Use SDK for remaining network operations\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the remaining network-related operations.\n\nChange-Id: Iebf3f4352083755c9e93b10a87ca58e90ed35500\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,867794,0b9b7e652b64e2f2ebb8aa963c2ba95e4975dd6d,16,1,4,15334,,,0,"Use SDK for remaining network operations

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

In this change, we migrate the remaining network-related operations.

Change-Id: Iebf3f4352083755c9e93b10a87ca58e90ed35500
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/867794/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,e13abb032f67386e0f9fe85d19dd9fa1416a135f,bp/openstacksdk-in-nova," def test_get_volume_connector(self): self.mock_conn.get_node.return_value = node self.mock_conn.volume_connectors.return_value = connectors self.mock_conn.get_node.assert_called_once_with(node_uuid) self.mock_conn.volume_connectors.assert_called_once_with( node=node_uuid, details=True, ) self, mac_specified, mock_nw_info, portgroup_exist=False, no_fixed_ip=False, ): self.mock_conn.get_node.return_value = node self.mock_conn.volume_connectors.return_value = connectors self.mock_conn.ports.return_value = [port] self.mock_conn.port_groups.return_value = [portgroup] else: self.mock_conn.port_groups.return_value = [] self.mock_conn.get_node.assert_called_once_with(node_uuid) self.mock_conn.volume_connectors.assert_called_once_with( node=node_uuid, details=True, ) if mac_specified: self.mock_conn.port_groups.assert_called_once_with( node=node_uuid, address='11:22:33:44:55:66', details=True) if not portgroup_exist: self.mock_conn.ports.assert_called_once_with( node=node_uuid, address='11:22:33:44:55:66', details=True, ) else: self.mock_conn.ports.assert_not_called() else: self.mock_conn.port_groups.assert_not_called() self.mock_conn.ports.assert_not_called()"," @mock.patch.object(FAKE_CLIENT, 'node') def test_get_volume_connector(self, mock_node): mock_node.get.return_value = node mock_node.list_volume_connectors.return_value = connectors mock_node.get.assert_called_once_with(node_uuid) mock_node.list_volume_connectors.assert_called_once_with( node_uuid, detail=True) @mock.patch.object(FAKE_CLIENT, 'node') @mock.patch.object(FAKE_CLIENT.port, 'list') @mock.patch.object(FAKE_CLIENT.portgroup, 'list') self, mac_specified, mock_pgroup, mock_port, mock_node, mock_nw_info, portgroup_exist=False, no_fixed_ip=False): mock_node.get.return_value = node mock_node.list_volume_connectors.return_value = connectors mock_port.return_value = [port] mock_pgroup.return_value = [portgroup] else: mock_pgroup.return_value = [] mock_node.get.assert_called_once_with(node_uuid) mock_node.list_volume_connectors.assert_called_once_with( node_uuid, detail=True) if mac_specified: mock_pgroup.assert_called_once_with( node=node_uuid, address='11:22:33:44:55:66', detail=True) if not portgroup_exist: mock_port.assert_called_once_with( node=node_uuid, address='11:22:33:44:55:66', detail=True) else: mock_port.assert_not_called() else: mock_pgroup.assert_not_called() mock_port.assert_not_called()",70,47
openstack%2Fironic~master~I5f88d3b1da1c17bc26d49370cc6ce74644d13679,openstack/ironic,master,I5f88d3b1da1c17bc26d49370cc6ce74644d13679,Fix ks_template property to be processed only for anaconda deploy,MERGED,2023-07-24 12:36:37.000000000,2023-07-26 17:07:38.000000000,2023-07-26 17:06:12.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 12:36:37.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/36665a0895fa8b7d2fb543ec5c7968468134034e', 'message': 'Fix ks_template property to be processed only for anaconda deploy\n\nRamdisk and anaconda deploys share image processing by\nironic.common.pxe_utils.get_instance_image_info(). This method\nunnecessarily processes ks_template property when ramdisk\ndeploy is in use, and by itself calls _get_image_properties()\nwhich requires image_source property to exist.\nFor ramdisk deploy it is enough to have kernel and ramdisk.\nThis patch adds conditions to process ks_template property only\nfor anaconda deploy.\n\nChange-Id: I5f88d3b1da1c17bc26d49370cc6ce74644d13679\n'}]",0,889315,36665a0895fa8b7d2fb543ec5c7968468134034e,13,3,1,35987,,,0,"Fix ks_template property to be processed only for anaconda deploy

Ramdisk and anaconda deploys share image processing by
ironic.common.pxe_utils.get_instance_image_info(). This method
unnecessarily processes ks_template property when ramdisk
deploy is in use, and by itself calls _get_image_properties()
which requires image_source property to exist.
For ramdisk deploy it is enough to have kernel and ramdisk.
This patch adds conditions to process ks_template property only
for anaconda deploy.

Change-Id: I5f88d3b1da1c17bc26d49370cc6ce74644d13679
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/889315/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,36665a0895fa8b7d2fb543ec5c7968468134034e,fix-ramdisk-deploy," boot_option = deploy_utils.get_boot_option(node) or boot_option == 'local'): if boot_option != 'kickstart': anaconda_labels = () elif not isap: if 'ks_template' in anaconda_labels: # NOTE(TheJulia): A kickstart template is entirely independent # of the stage2 ramdisk. In the end, it was the configuration which # told anaconda how to execute. if i_info.get('ks_template'): # If the value is set, we always overwrite it, in the event # a rebuild is occuring or something along those lines. node.set_driver_internal_info('ks_template', i_info['ks_template']) else: _get_image_properties() # ks_template is an optional property on the image if image_properties and 'ks_template' in image_properties: node.set_driver_internal_info( 'ks_template', str(image_properties['ks_template'])) else: # If not defined, default to the overall system default # kickstart template, as opposed to a user supplied # template. node.set_driver_internal_info( 'ks_template', 'file://' + os.path.abspath( CONF.anaconda.default_ks_template )"," or deploy_utils.get_boot_option(node) == 'local'): if not isap: # NOTE(TheJulia): A kickstart template is entirely independent # of the stage2 ramdisk. In the end, it was the configuration which # told anaconda how to execute. if i_info.get('ks_template'): # If the value is set, we always overwrite it, in the event # a rebuild is occuring or something along those lines. node.set_driver_internal_info('ks_template', i_info['ks_template']) else: _get_image_properties() # ks_template is an optional property on the image if image_properties and 'ks_template' in image_properties: node.set_driver_internal_info( 'ks_template', str(image_properties['ks_template'])) else: # If not defined, default to the overall system default # kickstart template, as opposed to a user supplied # template. node.set_driver_internal_info( 'ks_template', 'file://' + os.path.abspath( CONF.anaconda.default_ks_template )",29,24
openstack%2Fhorizon~master~I9949470fb03c423f157df3e6dab59e90c184fa42,openstack/horizon,master,I9949470fb03c423f157df3e6dab59e90c184fa42,Fix ports tab at Launch Instance dialog,MERGED,2023-05-29 18:40:06.000000000,2023-07-26 16:54:04.000000000,2023-07-26 16:53:03.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-29 18:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/435980a49205bc9dfc328bde4065852b594056eb', 'message': 'Fix ports tab at Launch Instance dialog\n\nThis patch adds watcher to network ports table at Launch Instance\ndialog. It helps to properly load all the information about ports.\n\nAlso, the quotes for keypair tab were fixed, as a follow-up for\nhttps://review.opendev.org/c/openstack/horizon/+/879490\n\nCloses-Bug: #2020630\n\nChange-Id: I9949470fb03c423f157df3e6dab59e90c184fa42\n'}, {'number': 2, 'created': '2023-07-11 19:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/232005240f5f5baf83f040a19b0d9a1f904731c5', 'message': 'Fix ports tab at Launch Instance dialog\n\nThis patch adds watcher to network ports table at Launch Instance\ndialog. It helps to properly load all the information about ports.\n\nAlso, the quotes for keypair tab were fixed, as a follow-up for\nhttps://review.opendev.org/c/openstack/horizon/+/879490\n\nCloses-Bug: #2020630\n\nChange-Id: I9949470fb03c423f157df3e6dab59e90c184fa42\n'}, {'number': 3, 'created': '2023-07-11 19:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/85ad8d5e974d5e086855aac8948583d1b032694a', 'message': 'Fix ports tab at Launch Instance dialog\n\nThis patch adds watcher to network ports table at Launch Instance\ndialog. It helps to properly load all the information about ports.\n\nCloses-Bug: #2020630\n\nChange-Id: I9949470fb03c423f157df3e6dab59e90c184fa42\n'}, {'number': 4, 'created': '2023-07-20 20:26:06.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/networkports/ports.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/networkports/ports.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/50e3e74cdd6292bbed3cb12a38e36dd248ca7260', 'message': 'Fix ports tab at Launch Instance dialog\n\nThis patch adds watcher to network ports table at Launch Instance\ndialog. It helps to properly load all the information about ports.\n\nCloses-Bug: #2020630\n\nChange-Id: I9949470fb03c423f157df3e6dab59e90c184fa42\n'}]",6,884640,50e3e74cdd6292bbed3cb12a38e36dd248ca7260,23,3,4,6914,,,0,"Fix ports tab at Launch Instance dialog

This patch adds watcher to network ports table at Launch Instance
dialog. It helps to properly load all the information about ports.

Closes-Bug: #2020630

Change-Id: I9949470fb03c423f157df3e6dab59e90c184fa42
",git fetch https://review.opendev.org/openstack/horizon refs/changes/40/884640/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/networkports/ports.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/networkports/ports.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/keypair/keypair.html']",3,435980a49205bc9dfc328bde4065852b594056eb,bug/2020630," <settings-service hz-if-settings=""[&quot;OPENSTACK_HYPERVISOR_FEATURES.can_set_password&quot;]"">"," <settings-service hz-if-settings=""[""OPENSTACK_HYPERVISOR_FEATURES.can_set_password""]"">",31,7
openstack%2Fpython-manilaclient~master~I7f3b0997805195d71ad3b3860f29920c4201971e,openstack/python-manilaclient,master,I7f3b0997805195d71ad3b3860f29920c4201971e,Remove status field from security services API,NEW,2023-07-26 15:27:56.000000000,2023-07-26 16:42:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 15:27:56.000000000', 'files': ['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_security_services.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/161310c9d7a27b32107fb197723ea2c54cdbdb79', 'message': 'Remove status field from security services API\n\nRemoved the field on the security-services dependencies\nand drop the status from the view.\n\nCloses-bug: 1966807\nDepends-On: Ie606293a73959c3b1f478ae3a73fd6b0f8eb1088\nChange-Id: I7f3b0997805195d71ad3b3860f29920c4201971e\n'}]",3,889727,161310c9d7a27b32107fb197723ea2c54cdbdb79,2,1,1,33986,,,0,"Remove status field from security services API

Removed the field on the security-services dependencies
and drop the status from the view.

Closes-bug: 1966807
Depends-On: Ie606293a73959c3b1f478ae3a73fd6b0f8eb1088
Change-Id: I7f3b0997805195d71ad3b3860f29920c4201971e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/27/889727/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_security_services.py']",2,161310c9d7a27b32107fb197723ea2c54cdbdb79,," # Copyright 2014 Mirantis Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt from oslo_log import log from tempest import config from tempest.lib import decorators import testtools from testtools import testcase as tc from manila_tempest_tests.tests.api import base from manila_tempest_tests import utils CONF = config.CONF LATEST_MICROVERSION = CONF.share.max_api_microversion LOG = log.getLogger(__name__) @ddt.ddt class SecurityServiceListMixin(object): @decorators.idempotent_id('f6f5657c-a93c-49ed-86e3-b351a92734d5') @tc.attr(base.TAG_POSITIVE, base.TAG_API) @ddt.data(*utils.deduplicate(['2.71', LATEST_MICROVERSION])) def test_list_security_services(self, version): listed = self.shares_client.list_security_services( )['security_services'] self.assertTrue(any(self.ss_ldap['id'] == ss['id'] for ss in listed)) self.assertTrue(any(self.ss_kerberos['id'] == ss['id'] for ss in listed)) # verify keys keys = [""name"", ""id"", ""status"", ""type"", ] if utils.is_microversion_ge(version, '2.72'): keys.pop(2) [self.assertIn(key, s_s.keys()) for s_s in listed for key in keys] @decorators.idempotent_id('22b22937-7436-458c-ac22-8ff19feab253') @tc.attr(base.TAG_POSITIVE, base.TAG_API) @ddt.data(*utils.deduplicate( ['1.0', '2.42', '2.44', '2.71', LATEST_MICROVERSION])) def test_list_security_services_with_detail(self, version): utils.check_skip_if_microversion_not_supported(version) with_ou = True if utils.is_microversion_ge(version, '2.44') else False if utils.is_microversion_ge(version, '2.0'): listed = self.shares_v2_client.list_security_services( detailed=True, version=version)['security_services'] else: listed = self.shares_client.list_security_services( detailed=True)['security_services'] self.assertTrue(any(self.ss_ldap['id'] == ss['id'] for ss in listed)) self.assertTrue(any(self.ss_kerberos['id'] == ss['id'] for ss in listed)) # verify keys keys = [ ""name"", ""id"", ""status"", ""description"", ""domain"", ""server"", ""dns_ip"", ""user"", ""password"", ""type"", ""created_at"", ""updated_at"", ""project_id"", ] if utils.is_microversion_ge(version, '2.72'): keys.pop(2) [self.assertIn(key, s_s.keys()) for s_s in listed for key in keys] for ss in listed: self.assertEqual(with_ou, 'ou' in ss.keys()) @decorators.idempotent_id('88f62835-0aee-4bed-a37f-ffd99430da8a') @tc.attr(base.TAG_POSITIVE, base.TAG_API) @testtools.skipIf( not CONF.share.multitenancy_enabled, ""Only for multitenancy."") @ddt.data(*utils.deduplicate(['2.71', LATEST_MICROVERSION])) def test_list_security_services_filter_by_share_network(self, version): sn = self.shares_client.get_share_network( self.shares_client.share_network_id)['share_network'] fresh_sn = [] for i in range(2): sn = self.create_share_network( add_security_services=False, neutron_net_id=sn[""neutron_net_id""], neutron_subnet_id=sn[""neutron_subnet_id""]) fresh_sn.append(sn) self.shares_client.add_sec_service_to_share_network( fresh_sn[0][""id""], self.ss_ldap[""id""]) self.shares_client.add_sec_service_to_share_network( fresh_sn[1][""id""], self.ss_kerberos[""id""]) listed = self.shares_client.list_security_services( params={ 'share_network_id': fresh_sn[0]['id'] })['security_services'] self.assertEqual(1, len(listed)) self.assertEqual(self.ss_ldap['id'], listed[0]['id']) keys = [""name"", ""id"", ""status"", ""type"", ] if utils.is_microversion_ge(version, '2.72'): keys.pop(2) [self.assertIn(key, s_s.keys()) for s_s in listed for key in keys] @decorators.idempotent_id('f055faad-dd36-4eed-9b50-61280931dea2') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_security_services_detailed_filter_by_ss_attributes(self): search_opts = { 'name': 'ss_ldap', 'type': 'ldap', 'user': 'fake_user', 'server': 'fake_server_1', 'dns_ip': '1.1.1.1', 'domain': 'fake_domain_1', } listed = self.shares_client.list_security_services( detailed=True, params=search_opts)['security_services'] self.assertTrue(any(self.ss_ldap['id'] == ss['id'] for ss in listed)) for ss in listed: self.assertTrue(all(ss[key] == value for key, value in search_opts.items())) @ddt.ddt class SecurityServicesTest(base.BaseSharesMixedTest, SecurityServiceListMixin): @classmethod def resource_setup(cls): super(SecurityServicesTest, cls).resource_setup() # create share type cls.share_type = cls.create_share_type() cls.share_type_id = cls.share_type['id'] def setUp(self): super(SecurityServicesTest, self).setUp() ss_ldap_data = { 'name': 'ss_ldap', 'dns_ip': '1.1.1.1', 'server': 'fake_server_1', 'domain': 'fake_domain_1', 'user': 'fake_user', 'password': 'pass', } if utils.is_microversion_ge(CONF.share.max_api_microversion, '2.44'): ss_ldap_data['ou'] = 'OU=fake_unit_1' ss_kerberos_data = { 'name': 'ss_kerberos', 'dns_ip': '2.2.2.2', 'server': 'fake_server_2', 'domain': 'fake_domain_2', 'user': 'test_user', 'password': 'word', } if utils.is_microversion_ge(CONF.share.max_api_microversion, '2.44'): ss_kerberos_data['ou'] = 'OU=fake_unit_2' self.ss_ldap = self.create_security_service('ldap', **ss_ldap_data) self.ss_kerberos = self.create_security_service( 'kerberos', **ss_kerberos_data) @decorators.idempotent_id('70927e29-4a6a-431a-bbc1-76bc419e0579') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_create_delete_security_service(self): data = self.generate_security_service_data() self.service_names = [""ldap"", ""kerberos"", ""active_directory""] for ss_name in self.service_names: ss = self.create_security_service(ss_name, **data) self.assertDictContainsSubset(data, ss) self.assertEqual(ss_name, ss[""type""]) self.shares_client.delete_security_service(ss[""id""]) @decorators.idempotent_id('bb052be4-0176-4613-b7d5-e12bef391ddb') @tc.attr(base.TAG_POSITIVE, base.TAG_API) @ddt.data(*utils.deduplicate(['1.0', '2.43', '2.44', LATEST_MICROVERSION])) def test_get_security_service(self, version): utils.check_skip_if_microversion_not_supported(version) with_ou = True if utils.is_microversion_ge(version, '2.44') else False data = self.generate_security_service_data(set_ou=with_ou) if utils.is_microversion_ge(version, '2.0'): ss = self.create_security_service( client=self.shares_v2_client, version=version, **data) get = self.shares_v2_client.get_security_service( ss[""id""], version=version)['security_service'] else: ss = self.create_security_service(**data) get = self.shares_client.get_security_service( ss[""id""])['security_service'] self.assertDictContainsSubset(data, ss) self.assertEqual(with_ou, 'ou' in ss) self.assertDictContainsSubset(data, get) self.assertEqual(with_ou, 'ou' in get) @decorators.idempotent_id('84d47747-13c8-4ab9-9fc4-a43fbb29ad18') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_update_security_service(self): data = self.generate_security_service_data() ss = self.create_security_service(**data) self.assertDictContainsSubset(data, ss) upd_data = self.generate_security_service_data() updated = self.shares_client.update_security_service( ss[""id""], **upd_data)['security_service'] get = self.shares_client.get_security_service( ss[""id""])['security_service'] self.assertDictContainsSubset(upd_data, updated) self.assertDictContainsSubset(upd_data, get) if utils.is_microversion_ge(CONF.share.max_api_microversion, '2.44'): # update again with ou upd_data_ou = self.generate_security_service_data(set_ou=True) updated_ou = self.shares_v2_client.update_security_service( ss[""id""], **upd_data_ou)['security_service'] get_ou = self.shares_v2_client.get_security_service( ss[""id""])['security_service'] self.assertDictContainsSubset(upd_data_ou, updated_ou) self.assertDictContainsSubset(upd_data_ou, get_ou) @decorators.idempotent_id('c3c04992-da11-4677-9098-eff3f4231a4b') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) @testtools.skipIf( not CONF.share.multitenancy_enabled, ""Only for multitenancy."") def test_try_update_valid_keys_sh_server_exists(self): ss_data = self.generate_security_service_data() ss = self.create_security_service(**ss_data) sn = self.shares_client.get_share_network( self.shares_client.share_network_id)['share_network'] fresh_sn = self.create_share_network( add_security_services=False, neutron_net_id=sn[""neutron_net_id""], neutron_subnet_id=sn[""neutron_subnet_id""]) self.shares_client.add_sec_service_to_share_network( fresh_sn[""id""], ss[""id""]) # Security service with fake data is used, so if we use backend driver # that fails on wrong data, we expect error here. # We require any share that uses our share-network. try: self.create_share(share_type_id=self.share_type_id, share_network_id=fresh_sn[""id""], cleanup_in_class=False) except Exception as e: # we do wait for either 'error' or 'available' status because # it is the only available statuses for proper deletion. LOG.warning(""Caught exception. It is expected in case backend "" ""fails having security-service with improper data "" ""that leads to share-server creation error. "" ""%s"", str(e)) update_data = { ""name"": ""name"", ""description"": ""new_description"", } updated = self.shares_client.update_security_service( ss[""id""], **update_data)['security_service'] self.assertDictContainsSubset(update_data, updated) @decorators.idempotent_id('8d9af272-df89-470d-9ff8-92ba774c9fff') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_security_services_filter_by_invalid_opt(self): listed = self.shares_client.list_security_services( params={'fake_opt': 'some_value'})['security_services'] self.assertTrue(any(self.ss_ldap['id'] == ss['id'] for ss in listed)) self.assertTrue(any(self.ss_kerberos['id'] == ss['id'] for ss in listed)) @decorators.idempotent_id('d501710e-4710-4c13-a373-75ed6ababb13') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_try_list_security_services_all_tenants(self): listed = self.shares_client.list_security_services( params={'all_tenants': 1})['security_services'] self.assertTrue(any(self.ss_ldap['id'] == ss['id'] for ss in listed)) self.assertTrue(any(self.ss_kerberos['id'] == ss['id'] for ss in listed))",,630,0
openstack%2Frpm-packaging~master~I99cf1a81b9d66925d2b4fdcfca4744ae97ea38b3,openstack/rpm-packaging,master,I99cf1a81b9d66925d2b4fdcfca4744ae97ea38b3,Update keystoneclient to 5.1.0,MERGED,2023-07-26 16:19:09.000000000,2023-07-26 16:38:56.000000000,2023-07-26 16:38:56.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 16:19:09.000000000', 'files': ['openstack/python-keystoneclient/python-keystoneclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/28d692f1f34535c674137f7af98717bf8f1ea354', 'message': 'Update keystoneclient to 5.1.0\n\nChange-Id: I99cf1a81b9d66925d2b4fdcfca4744ae97ea38b3\n'}]",0,889731,28d692f1f34535c674137f7af98717bf8f1ea354,6,2,1,6593,,,0,"Update keystoneclient to 5.1.0

Change-Id: I99cf1a81b9d66925d2b4fdcfca4744ae97ea38b3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/31/889731/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-keystoneclient/python-keystoneclient.spec.j2'],1,28d692f1f34535c674137f7af98717bf8f1ea354,,{% set upstream_version = upstream_version('5.1.0') %},{% set upstream_version = upstream_version('4.5.0') %},1,1
openstack%2Fansible-role-zookeeper~master~If188ef9ef978332dc94b282893140de572bac6f3,openstack/ansible-role-zookeeper,master,If188ef9ef978332dc94b282893140de572bac6f3,Do not use notify inside handlers,MERGED,2023-07-18 09:58:05.000000000,2023-07-26 16:36:25.000000000,2023-07-26 16:35:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-18 09:58:05.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-zookeeper/commit/52353e37711f1be4b39828d62e97cfa7edf8c7d7', 'message': 'Do not use notify inside handlers\n\nSince latest ansible handlers are not triggered inside the same\nhandlers flush, which means that triggering mysql restart\nthe way we did does not work anymore. So instead of\nnotifying inside handlers, we add listen key to tasks\nthat are triggered by these newly produced notifications.\n\nThis could be due to the bug [1], but ansible-core version that has\nbackport included still shows inconsistent behaviour\n\n[1] https://github.com/ansible/ansible/issues/80880\n\nChange-Id: If188ef9ef978332dc94b282893140de572bac6f3\n'}]",1,888760,52353e37711f1be4b39828d62e97cfa7edf8c7d7,13,3,1,28619,,,0,"Do not use notify inside handlers

Since latest ansible handlers are not triggered inside the same
handlers flush, which means that triggering mysql restart
the way we did does not work anymore. So instead of
notifying inside handlers, we add listen key to tasks
that are triggered by these newly produced notifications.

This could be due to the bug [1], but ansible-core version that has
backport included still shows inconsistent behaviour

[1] https://github.com/ansible/ansible/issues/80880

Change-Id: If188ef9ef978332dc94b282893140de572bac6f3
",git fetch https://review.opendev.org/openstack/ansible-role-zookeeper refs/changes/60/888760/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,52353e37711f1be4b39828d62e97cfa7edf8c7d7,osa/core-2.15, - cert installed - cert installed, notify: Restart zookeeper,2,1
openstack%2Fhorizon~master~Ibf0d2020b295108a354d62e1068c4532f12cc103,openstack/horizon,master,Ibf0d2020b295108a354d62e1068c4532f12cc103,Fix deprecated use of 'jQuery.fn.select()' shorthand event,MERGED,2023-05-17 14:53:19.000000000,2023-07-26 16:30:59.000000000,2023-07-26 16:29:01.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-17 14:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ff882b7fd771ea6a94e70d7f7e9c46624d2ef506', 'message': ""Fix deprecated use of 'jQuery.fn.select()' shorthand event\n\nThis patch replace the usage of jQuery.fn.select() with\nnative javaScript select() method to fix the\n'jQuery.fn.select() event shorthand is deprecated' warning.\nYou will get this deprecation warning while creating a keypair\nin launch instance workflow.\n\nChange-Id: Ibf0d2020b295108a354d62e1068c4532f12cc103\n""}, {'number': 2, 'created': '2023-05-25 06:25:38.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/keypair/create-keypair.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/190d38b55f51862b67c441f82fa2021916d2b9ef', 'message': 'Fix deprecated use of \'jQuery.fn.select()\' shorthand event\n\nThis patch replace the usage of jQuery.fn.select() with\n .trigger( ""select"" ) function to fix the\n\'jQuery.fn.select() event shorthand is deprecated\' warning as\nrecommended in the jQuery docs. [1].\n\nNote: You will get this deprecation warning while creating a keypair\nin launch instance workflow.\n\n[1] https://api.jquery.com/select-shorthand/\n\nChange-Id: Ibf0d2020b295108a354d62e1068c4532f12cc103\n'}]",17,883385,190d38b55f51862b67c441f82fa2021916d2b9ef,34,5,2,29313,,,0,"Fix deprecated use of 'jQuery.fn.select()' shorthand event

This patch replace the usage of jQuery.fn.select() with
 .trigger( ""select"" ) function to fix the
'jQuery.fn.select() event shorthand is deprecated' warning as
recommended in the jQuery docs. [1].

Note: You will get this deprecation warning while creating a keypair
in launch instance workflow.

[1] https://api.jquery.com/select-shorthand/

Change-Id: Ibf0d2020b295108a354d62e1068c4532f12cc103
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/883385/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/keypair/create-keypair.controller.js'],1,ff882b7fd771ea6a94e70d7f7e9c46624d2ef506,update-jquery, angular.element('textarea'); textarea.select();, angular.element('textarea').select();,2,1
openstack%2Fnova~master~Icf7545736eec57efe5a810a593ad5438661ae0bb,openstack/nova,master,Icf7545736eec57efe5a810a593ad5438661ae0bb,Use real SDK objects in tests,NEW,2022-12-15 12:50:57.000000000,2023-07-26 16:23:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0308dcffface40bff3d2b47be712e3f2fe000967', 'message': 'Use real SDK objects in tests\n\nThis seems a little more realistic.\n\nChange-Id: Icf7545736eec57efe5a810a593ad5438661ae0bb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbee1fcd8bbb1dc9f347372610e8df4fdec52a41', 'message': 'Use real SDK objects in tests\n\nThis seems a little more realistic.\n\nChange-Id: Icf7545736eec57efe5a810a593ad5438661ae0bb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c188b8f679a45672a7b61b62233d451e809c92d', 'message': 'Use real SDK objects in tests\n\nThis seems a little more realistic.\n\nChange-Id: Icf7545736eec57efe5a810a593ad5438661ae0bb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46e3d6000e3a050fc59e402976de514a5b746f50', 'message': 'Use real SDK objects in tests\n\nThis seems a little more realistic.\n\nChange-Id: Icf7545736eec57efe5a810a593ad5438661ae0bb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2023-07-26 15:49:19.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/tests/unit/virt/ironic/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/371eb0968d0af226c96df008e40cad01fa7788c0', 'message': ""Use real SDK objects in tests\n\nThis seems a little more realistic. The only notable change here is that\nwe use a default 'provision_state' of 'available' for fake Node objects,\nsince that's what SDK will default to [1].\n\n[1] https://github.com/openstack/openstacksdk/blob/1.3.1/openstack/baremetal/v1/node.py#L256-L261\n\nChange-Id: Icf7545736eec57efe5a810a593ad5438661ae0bb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,867799,371eb0968d0af226c96df008e40cad01fa7788c0,15,1,5,15334,,,0,"Use real SDK objects in tests

This seems a little more realistic. The only notable change here is that
we use a default 'provision_state' of 'available' for fake Node objects,
since that's what SDK will default to [1].

[1] https://github.com/openstack/openstacksdk/blob/1.3.1/openstack/baremetal/v1/node.py#L256-L261

Change-Id: Icf7545736eec57efe5a810a593ad5438661ae0bb
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/867799/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/ironic/utils.py'],1,0308dcffface40bff3d2b47be712e3f2fe000967,bp/openstacksdk-in-nova,"from openstack.baremetal.v1 import port as _port from openstack.baremetal.v1 import port_group as _port_group from openstack.baremetal.v1 import volume_connector as _volume_connector from openstack.baremetal.v1 import volume_target as _volume_target node = { 'id': kw.get('id', 'eeeeeeee-dddd-cccc-bbbb-aaaaaaaaaaaa'), 'chassis_uuid': kw.get('chassis_uuid'), 'power_state': kw.get('power_state', ironic_states.NOSTATE), 'target_power_state': kw.get('target_power_state', ironic_states.NOSTATE), 'provision_state': kw.get('provision_state', ironic_states.NOSTATE), 'target_provision_state': kw.get('target_provision_state', 'last_error': kw.get('last_error'), 'instance_id': kw.get('instance_id'), 'instance_info': kw.get('instance_info'), 'driver': kw.get('driver', 'fake'), 'driver_info': kw.get('driver_info', {}), 'properties': kw.get('properties', {}), 'reservation': kw.get('reservation'), 'is_maintenance': kw.get('is_maintenance'), 'network_interface': kw.get('network_interface'), 'resource_class': kw.get('resource_class'), 'traits': kw.get('traits', []), 'extra': kw.get('extra', {}), 'updated_at': kw.get('created_at'), 'created_at': kw.get('updated_at'), } return _node.Node(**node) port = { 'id': kw.get('id', 'gggggggg-uuuu-qqqq-ffff-llllllllllll'), 'node_id': kw.get('node_id', get_test_node().id), 'address': kw.get('address', 'FF:FF:FF:FF:FF:FF'), 'extra': kw.get('extra', {}), 'internal_info': kw.get('internal_info', {}), 'port_group_id': kw.get('port_group_id'), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at'), } return _port.Port(**port) port_group = { 'id': kw.get('id', 'deaffeed-1234-5678-9012-fedcbafedcba'), 'node_id': kw.get('node_id', get_test_node().id), 'address': kw.get('address', 'EE:EE:EE:EE:EE:EE'), 'extra': kw.get('extra', {}), 'internal_info': kw.get('internal_info', {}), 'properties': kw.get('properties', {}), 'mode': kw.get('mode', 'active-backup'), 'name': kw.get('name'), 'is_standalone_ports_supported': kw.get( 'is_standalone_ports_supported', True, ), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at'), } return _port_group.PortGroup(**port_group) 'qbg_params': kw.get('qbg_params'), } volume_connector = { 'id': kw.get('id', 'hhhhhhhh-qqqq-uuuu-mmmm-bbbbbbbbbbbb'), 'node_id': kw.get('node_id', get_test_node().id), 'type': kw.get('type', 'iqn'), 'connector_id': kw.get('connector_id', 'iqn.test'), 'extra': kw.get('extra', {}), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at'), } return _volume_connector.VolumeConnector(**volume_connector) volume_target = { 'id': kw.get('id', 'aaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee'), 'node_id': kw.get('node_id', get_test_node().id), 'volume_type': kw.get('volume_type', 'iscsi'), 'properties': kw.get('properties', {}), 'boot_index': kw.get('boot_index', 0), 'volume_id': kw.get( 'volume_id', 'fffffff-gggg-hhhh-iiii-jjjjjjjjjjjj', ), 'extra': kw.get('extra', {}), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at'), } return _volume_target.VolumeTarget(**volume_target) default_extra_specs = { 'baremetal:deploy_kernel_id': 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'baremetal:deploy_ramdisk_id': 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', } flavor = { 'name': kw.get('name', 'fake.flavor'), 'extra_specs': kw.get('extra_specs', default_extra_specs), 'swap': kw.get('swap', 0), 'root_gb': 1, 'memory_mb': 1, 'vcpus': 1, 'ephemeral_gb': kw.get('ephemeral_gb', 0), } {'id': kw.get('id', 'cccccccc-cccc-cccc-cccc-cccccccccccc')}, )"," node = {'id': kw.get('id', 'eeeeeeee-dddd-cccc-bbbb-aaaaaaaaaaaa'), 'chassis_uuid': kw.get('chassis_uuid'), 'power_state': kw.get('power_state', ironic_states.NOSTATE), 'target_power_state': kw.get('target_power_state', 'provision_state': kw.get('provision_state', ironic_states.NOSTATE), 'target_provision_state': kw.get('target_provision_state', ironic_states.NOSTATE), 'last_error': kw.get('last_error'), 'instance_id': kw.get('instance_id'), 'instance_info': kw.get('instance_info'), 'driver': kw.get('driver', 'fake'), 'driver_info': kw.get('driver_info', {}), 'properties': kw.get('properties', {}), 'reservation': kw.get('reservation'), 'is_maintenance': kw.get('is_maintenance'), 'network_interface': kw.get('network_interface'), 'resource_class': kw.get('resource_class'), 'traits': kw.get('traits', []), 'extra': kw.get('extra', {}), 'updated_at': kw.get('created_at'), 'created_at': kw.get('updated_at')} return type('node', (object,), node)() return type('port', (object,), {'id': kw.get('id', 'gggggggg-uuuu-qqqq-ffff-llllllllllll'), 'node_id': kw.get('node_id', get_test_node().id), 'address': kw.get('address', 'FF:FF:FF:FF:FF:FF'), 'extra': kw.get('extra', {}), 'internal_info': kw.get('internal_info', {}), 'port_group_id': kw.get('port_group_id'), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at')})() return type('portgroup', (object,), {'id': kw.get('id', 'deaffeed-1234-5678-9012-fedcbafedcba'), 'node_id': kw.get('node_id', get_test_node().id), 'address': kw.get('address', 'EE:EE:EE:EE:EE:EE'), 'extra': kw.get('extra', {}), 'internal_info': kw.get('internal_info', {}), 'properties': kw.get('properties', {}), 'mode': kw.get('mode', 'active-backup'), 'name': kw.get('name'), 'standalone_ports_supported': kw.get( 'standalone_ports_supported', True, ), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at')})() 'qbg_params': kw.get('qbg_params')} return type('volume_connector', (object,), {'id': kw.get('id', 'hhhhhhhh-qqqq-uuuu-mmmm-bbbbbbbbbbbb'), 'node_id': kw.get('node_id', get_test_node().id), 'type': kw.get('type', 'iqn'), 'connector_id': kw.get('connector_id', 'iqn.test'), 'extra': kw.get('extra', {}), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at')})() return type('volume_target', (object,), {'id': kw.get('id', 'aaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee'), 'node_id': kw.get('node_id', get_test_node().id), 'volume_type': kw.get('volume_type', 'iscsi'), 'properties': kw.get('properties', {}), 'boot_index': kw.get('boot_index', 0), 'volume_id': kw.get('volume_id', 'fffffff-gggg-hhhh-iiii-jjjjjjjjjjjj'), 'extra': kw.get('extra', {}), 'created_at': kw.get('created_at'), 'updated_at': kw.get('updated_at')})() default_extra_specs = {'baremetal:deploy_kernel_id': 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'baremetal:deploy_ramdisk_id': 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb'} flavor = {'name': kw.get('name', 'fake.flavor'), 'extra_specs': kw.get('extra_specs', default_extra_specs), 'swap': kw.get('swap', 0), 'root_gb': 1, 'memory_mb': 1, 'vcpus': 1, 'ephemeral_gb': kw.get('ephemeral_gb', 0)} {'id': kw.get('id', 'cccccccc-cccc-cccc-cccc-cccccccccccc')})",102,78
openstack%2Fnova~master~I9fb5a385487f601329bccc9efde325d86be397b6,openstack/nova,master,I9fb5a385487f601329bccc9efde325d86be397b6,Remove unnecessary aliasing,NEW,2022-12-15 12:50:57.000000000,2023-07-26 16:00:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b8e463a0d02b1f341a27b37728200822c54eb53', 'message': 'Remove unnecessary aliasing\n\nNow that all Ironic operations have been migrated to SDK, we no longer\nneed to retain the aliasing that was in place for these opts.\n\nChange-Id: I9fb5a385487f601329bccc9efde325d86be397b6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c982290800ebd99fcc95a29101bbfb3542562258', 'message': 'Remove unnecessary aliasing\n\nNow that all Ironic operations have been migrated to SDK, we no longer\nneed to retain the aliasing that was in place for these opts.\n\nChange-Id: I9fb5a385487f601329bccc9efde325d86be397b6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22def1f5d1b84c1a229d18c51081a08ebb3415e0', 'message': 'Remove unnecessary aliasing\n\nNow that all Ironic operations have been migrated to SDK, we no longer\nneed to retain the aliasing that was in place for these opts.\n\nChange-Id: I9fb5a385487f601329bccc9efde325d86be397b6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/401b267b1dce72b10a832c19f95a008a8ac7acf1', 'message': 'Remove unnecessary aliasing\n\nNow that all Ironic operations have been migrated to SDK, we no longer\nneed to retain the aliasing that was in place for these opts.\n\nChange-Id: I9fb5a385487f601329bccc9efde325d86be397b6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,867798,401b267b1dce72b10a832c19f95a008a8ac7acf1,12,1,4,15334,,,0,"Remove unnecessary aliasing

Now that all Ironic operations have been migrated to SDK, we no longer
need to retain the aliasing that was in place for these opts.

Change-Id: I9fb5a385487f601329bccc9efde325d86be397b6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/867798/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py']",3,8b8e463a0d02b1f341a27b37728200822c54eb53,bp/openstacksdk-in-nova," # NOTE(stephenfin): Prevent invalid properties making their way through if 'uuid' in kw or 'instance_uuid' in kw or 'maintenance' in kw: raise Exception('Invalid property provided') node = {'id': kw.get('id', 'eeeeeeee-dddd-cccc-bbbb-aaaaaaaaaaaa'), 'power_state': kw.get('power_state', ironic_states.NOSTATE), 'instance_id': kw.get('instance_id'), 'is_maintenance': kw.get('is_maintenance'), # NOTE(stephenfin): Prevent invalid properties making their way through if 'uuid' in kw or 'node_uuid' in kw or 'portgroup_uuid' in kw: raise Exception('Invalid property provided') {'id': kw.get('id', 'gggggggg-uuuu-qqqq-ffff-llllllllllll'), 'node_id': kw.get('node_id', get_test_node().id), 'port_group_id': kw.get('port_group_id'), # NOTE(stephenfin): Prevent invalid properties making their way through if 'uuid' in kw or 'node_uuid' in kw: raise Exception('Invalid property provided') {'id': kw.get('id', 'deaffeed-1234-5678-9012-fedcbafedcba'), 'node_id': kw.get('node_id', get_test_node().id), 'standalone_ports_supported', True, ), # NOTE(stephenfin): Prevent invalid properties making their way through if 'uuid' in kw or 'node_uuid' in kw: raise Exception('Invalid property provided') {'id': kw.get('id', 'hhhhhhhh-qqqq-uuuu-mmmm-bbbbbbbbbbbb'), 'node_id': kw.get('node_id', get_test_node().id), # NOTE(stephenfin): Prevent invalid properties making their way through if 'uuid' in kw or 'node_uuid' in kw: raise Exception('Invalid property provided') {'id': kw.get('id', 'aaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee'), 'node_id': kw.get('node_id', get_test_node().id),"," # TODO(dustinc): Once the usages of id/uuid, maintenance/is_maintenance, # and portgroup/port_group are normalized, the duplicates can be removed _id = kw.get('id') or kw.get('uuid', 'eeeeeeee-dddd-cccc-bbbb-aaaaaaaaaaaa') _instance_id = kw.get('instance_id') or kw.get('instance_uuid') _is_maintenance = kw.get('is_maintenance') or kw.get('maintenance', False) node = {'uuid': _id, 'id': _id, 'power_state': kw.get('power_state', ironic_states.NOSTATE), 'instance_uuid': _instance_id, 'instance_id': _instance_id, 'maintenance': _is_maintenance, 'is_maintenance': _is_maintenance, # TODO(dustinc): Once the usages of id/uuid, maintenance/is_maintenance, # and portgroup/port_group are normalized, the duplicates can be removed _id = kw.get('id') or kw.get('uuid', 'gggggggg-uuuu-qqqq-ffff-llllllllllll') _node_id = kw.get('node_uuid') or kw.get('node_id', get_test_node().id) _port_group_id = kw.get('port_group_id') or kw.get('portgroup_uuid') {'uuid': _id, 'id': _id, 'node_uuid': _node_id, 'node_id': _node_id, 'portgroup_uuid': _port_group_id, 'port_group_id': _port_group_id, # TODO(dustinc): Once the usages of id/uuid, maintenance/is_maintenance, # and portgroup/port_group are normalized, the duplicates can be removed _id = kw.get('id') or kw.get('uuid', 'deaffeed-1234-5678-9012-fedcbafedcba') _node_id = kw.get('node_id') or kw.get('node_uuid', get_test_node().id) {'uuid': _id, 'id': _id, 'node_uuid': _node_id, 'node_id': _node_id, 'standalone_ports_supported', True), # TODO(dustinc): Once the usages of id/uuid, maintenance/is_maintenance, # and portgroup/port_group are normalized, the duplicates can be removed _id = kw.get('id') or kw.get('uuid', 'hhhhhhhh-qqqq-uuuu-mmmm-bbbbbbbbbbbb') _node_id = kw.get('node_id') or kw.get('node_uuid', get_test_node().id) {'uuid': _id, 'id': _id, 'node_uuid': _node_id, 'node_id': _node_id, # TODO(dustinc): Once the usages of id/uuid, maintenance/is_maintenance, # and portgroup/port_group are normalized, the duplicates can be removed _id = kw.get('id') or kw.get('uuid', 'aaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee') _node_id = kw.get('node_id') or kw.get('node_uuid', get_test_node().id) {'uuid': _id, 'id': _id, 'node_uuid': _node_id, 'node_id': _node_id,",327,361
openstack%2Fos-apply-config~master~I19d99f96d9687c27e04e8cc2ecbf61b42a4dcdf3,openstack/os-apply-config,master,I19d99f96d9687c27e04e8cc2ecbf61b42a4dcdf3,Update the shebang to python3,NEW,2023-07-26 15:47:54.000000000,2023-07-26 15:56:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 15:47:54.000000000', 'files': ['os_apply_config/tests/templates/etc/glance/script.conf'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/f06ac135d3905d293a9604624e35321c17f40dda', 'message': 'Update the shebang to python3\n\nIt\'s needed downstream when packaging. In RDO and Fedora,\nwe are hitting the issue ""ERROR: ambiguous python shebang"" during\nthe build.\n\nChange-Id: I19d99f96d9687c27e04e8cc2ecbf61b42a4dcdf3\n'}]",0,889730,f06ac135d3905d293a9604624e35321c17f40dda,2,1,1,31068,,,0,"Update the shebang to python3

It's needed downstream when packaging. In RDO and Fedora,
we are hitting the issue ""ERROR: ambiguous python shebang"" during
the build.

Change-Id: I19d99f96d9687c27e04e8cc2ecbf61b42a4dcdf3
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/30/889730/1 && git format-patch -1 --stdout FETCH_HEAD,['os_apply_config/tests/templates/etc/glance/script.conf'],1,f06ac135d3905d293a9604624e35321c17f40dda,,#!/usr/bin/env python3,#!/usr/bin/env python,1,1
openstack%2Foslo.db~master~Id59e3fa488a982943415a04aeeefb8e6aaddf467,openstack/oslo.db,master,Id59e3fa488a982943415a04aeeefb8e6aaddf467,WIP: Add ability to configure autobegin attribute,ABANDONED,2023-07-20 10:52:12.000000000,2023-07-26 15:53:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 10:52:12.000000000', 'files': ['requirements.txt', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/orm.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/66d8d46206e649bc33844d15b25f7a6e05c52c9a', 'message': ""WIP: Add ability to configure autobegin attribute\n\nThis is helpful while migrating to SQLAlchemy 2.x. While we're here, an\nunnecessary 'autocommit' parameter is removed: this must always be false\nin SQLAlchemy 2.x, which we support [1].\n\n[1] https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session.params.autocommit\n\nWIP because this is only supported in 2.0 and that's blocked by\nupper-constraints right now.\n\nChange-Id: Id59e3fa488a982943415a04aeeefb8e6aaddf467\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,889081,66d8d46206e649bc33844d15b25f7a6e05c52c9a,5,1,1,15334,,,0,"WIP: Add ability to configure autobegin attribute

This is helpful while migrating to SQLAlchemy 2.x. While we're here, an
unnecessary 'autocommit' parameter is removed: this must always be false
in SQLAlchemy 2.x, which we support [1].

[1] https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session.params.autocommit

WIP because this is only supported in 2.0 and that's blocked by
upper-constraints right now.

Change-Id: Id59e3fa488a982943415a04aeeefb8e6aaddf467
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/81/889081/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/orm.py']",5,66d8d46206e649bc33844d15b25f7a6e05c52c9a,echo-parameter,"def get_maker(engine, *, expire_on_commit=False, autobegin=True): return sqlalchemy.orm.sessionmaker( bind=engine, class_=Session, autobegin=autobegin, expire_on_commit=expire_on_commit, query_cls=Query, )","def get_maker(engine, autocommit=False, expire_on_commit=False): return sqlalchemy.orm.sessionmaker(bind=engine, class_=Session, autocommit=autocommit, expire_on_commit=expire_on_commit, query_cls=Query)",28,14
openstack%2Foslo.db~master~Ia889c7aff5dceed15e925920eee93613ba5d02e8,openstack/oslo.db,master,Ia889c7aff5dceed15e925920eee93613ba5d02e8,Add ability to configure 'echo' attribute,ABANDONED,2023-07-20 10:52:12.000000000,2023-07-26 15:52:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 10:52:12.000000000', 'files': ['oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/008f09bc0e44b0ba69409b01a362f1038cc199e6', 'message': ""Add ability to configure 'echo' attribute\n\nLet users configure their engines to echo. This is helpful during\ndebugging.\n\nChange-Id: Ia889c7aff5dceed15e925920eee93613ba5d02e8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,889080,008f09bc0e44b0ba69409b01a362f1038cc199e6,6,1,1,15334,,,0,"Add ability to configure 'echo' attribute

Let users configure their engines to echo. This is helpful during
debugging.

Change-Id: Ia889c7aff5dceed15e925920eee93613ba5d02e8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/80/889080/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py']",3,008f09bc0e44b0ba69409b01a362f1038cc199e6,echo-parameter,"def create_engine(sql_connection, echo=False, sqlite_fk=False, mysql_sql_mode=None, 'logging_name': logging_name, 'echo': echo,","def create_engine(sql_connection, sqlite_fk=False, mysql_sql_mode=None, 'logging_name': logging_name",45,19
openstack%2Fnova~master~I20eb470dc0c7208f9a9aa8240c25a49f458abc23,openstack/nova,master,I20eb470dc0c7208f9a9aa8240c25a49f458abc23,Use SDK for volume_target.*,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:44:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53e0cb720eb1a4784a19683ecb94fef4be608e4c', 'message': ""Use SDK for volume_target.*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the various volume_target related API calls\nto openstacksdk. There are only three and they're all relatively simple,\nwhich is nice \n\nNote that SDK does not expose 'uuid' properties but rather 'id'\nproperties thus some small refactors are necessary.\n\nChange-Id: I20eb470dc0c7208f9a9aa8240c25a49f458abc23\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28b6a75874cb92beba593b4c404ed333616a2796', 'message': ""Use SDK for volume_target.*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the various volume_target related API calls\nto openstacksdk. There are only three and they're all relatively simple,\nwhich is nice \n\nNote that SDK does not expose 'uuid' properties but rather 'id'\nproperties thus some small refactors are necessary.\n\nChange-Id: I20eb470dc0c7208f9a9aa8240c25a49f458abc23\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65ffdeb92d3c7e087a6344f840f952043123b192', 'message': ""Use SDK for volume_target.*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the various volume_target related API calls\nto openstacksdk. There are only three and they're all relatively simple,\nwhich is nice \n\nNote that SDK does not expose 'uuid' properties but rather 'id'\nproperties thus some small refactors are necessary.\n\nChange-Id: I20eb470dc0c7208f9a9aa8240c25a49f458abc23\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44e45f24831293523c4cd0c9a794b7797b447d0e', 'message': ""Use SDK for volume_target.*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the various volume_target related API calls\nto openstacksdk. There are only three and they're all relatively simple,\nwhich is nice \n\nNote that SDK does not expose 'uuid' properties but rather 'id'\nproperties thus some small refactors are necessary.\n\nChange-Id: I20eb470dc0c7208f9a9aa8240c25a49f458abc23\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,867790,44e45f24831293523c4cd0c9a794b7797b447d0e,17,1,4,15334,,,0,"Use SDK for volume_target.*

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

In this change, we migrate the various volume_target related API calls
to openstacksdk. There are only three and they're all relatively simple,
which is nice 

Note that SDK does not expose 'uuid' properties but rather 'id'
properties thus some small refactors are necessary.

Change-Id: I20eb470dc0c7208f9a9aa8240c25a49f458abc23
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/867790/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,53e0cb720eb1a4784a19683ecb94fef4be608e4c,bp/openstacksdk-in-nova," def test__add_volume_target_info(self): self.mock_conn.create_volume_target.assert_called_once_with( node_id=instance.node, volume_type=expected_volume_type, properties=expected_properties, boot_index=expected_boot_index, volume_id='fake-volume-id-1', ) def test__add_volume_target_info_empty_bdms(self): self.mock_conn.create_volume_target.assert_not_called() def test__add_volume_target_info_failures(self): sdk_exc.BadRequestException(), sdk_exc.ConflictException(), self.mock_conn.create_volume_target.side_effect = e self.assertRaises( exception.InstanceDeployFailure, self.driver._add_volume_target_info, self.ctx, instance, block_device_info, ) def test__cleanup_volume_target_info(self): self.mock_conn.volume_targets.return_value = [ ironic_utils.get_test_volume_target(uuid='fake_uuid'), ] self.mock_conn.delete_volume_target.assert_called_once_with( expected_volume_target_id, ignore_missing=False, ) def test__cleanup_volume_target_info_empty_targets(self): self.mock_conn.volume_targets.return_value = [] self.mock_conn.delete_volume_target.assert_not_called() def test__cleanup_volume_target_info_not_found(self): self.mock_conn.volume_targets.return_value = [ self.mock_conn.delete_volume_target.side_effect = [ sdk_exc.NotFoundException('not found'), None, ] self.mock_conn.delete_volume_target.assert_has_calls( [ mock.call('fake_uuid1', ignore_missing=False), mock.call('fake_uuid2', ignore_missing=False), ] ) def test__cleanup_volume_target_info_bad_request(self): self.mock_conn.volume_targets.return_value = [ self.mock_conn.delete_volume_target.side_effect = [ sdk_exc.BadRequestException('error'), None, ] self.mock_conn.delete_volume_target.assert_has_calls( [ mock.call('fake_uuid1', ignore_missing=False), mock.call('fake_uuid2', ignore_missing=False), ] )"," @mock.patch.object(FAKE_CLIENT.volume_target, 'create') def test__add_volume_target_info(self, mock_create): mock_create.assert_called_once_with(node_uuid=instance.node, volume_type=expected_volume_type, properties=expected_properties, boot_index=expected_boot_index, volume_id='fake-volume-id-1') @mock.patch.object(FAKE_CLIENT.volume_target, 'create') def test__add_volume_target_info_empty_bdms(self, mock_create): self.assertFalse(mock_create.called) @mock.patch.object(FAKE_CLIENT.volume_target, 'create') def test__add_volume_target_info_failures(self, mock_create): ironic_exception.BadRequest(), ironic_exception.Conflict(), mock_create.side_effect = e self.assertRaises(exception.InstanceDeployFailure, self.driver._add_volume_target_info, self.ctx, instance, block_device_info) @mock.patch.object(FAKE_CLIENT.volume_target, 'delete') @mock.patch.object(FAKE_CLIENT.node, 'list_volume_targets') def test__cleanup_volume_target_info(self, mock_lvt, mock_delete): mock_lvt.return_value = [ironic_utils.get_test_volume_target( uuid='fake_uuid')] mock_delete.assert_called_once_with(expected_volume_target_id) @mock.patch.object(FAKE_CLIENT.volume_target, 'delete') @mock.patch.object(FAKE_CLIENT.node, 'list_volume_targets') def test__cleanup_volume_target_info_empty_targets(self, mock_lvt, mock_delete): mock_lvt.return_value = [] self.assertFalse(mock_delete.called) @mock.patch.object(FAKE_CLIENT.volume_target, 'delete') @mock.patch.object(FAKE_CLIENT.node, 'list_volume_targets') def test__cleanup_volume_target_info_not_found(self, mock_lvt, mock_delete): mock_lvt.return_value = [ mock_delete.side_effect = [ironic_exception.NotFound('not found'), None] self.assertEqual([mock.call('fake_uuid1'), mock.call('fake_uuid2')], mock_delete.call_args_list) @mock.patch.object(FAKE_CLIENT.volume_target, 'delete') @mock.patch.object(FAKE_CLIENT.node, 'list_volume_targets') def test__cleanup_volume_target_info_bad_request(self, mock_lvt, mock_delete): mock_lvt.return_value = [ mock_delete.side_effect = [ironic_exception.BadRequest('error'), None] self.assertEqual([mock.call('fake_uuid1'), mock.call('fake_uuid2')], mock_delete.call_args_list)",87,69
openstack%2Freleases~master~Idc2e8a07e147a3c2606e5de5ff14099c18659055,openstack/releases,master,Idc2e8a07e147a3c2606e5de5ff14099c18659055,[Yoga] Release ironic-inspector,ABANDONED,2023-07-25 14:47:10.000000000,2023-07-26 15:43:21.000000000,,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-25 14:47:10.000000000', 'files': ['deliverables/yoga/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9f967339809af97b5c39ba8de3d18167e453889e', 'message': '[Yoga] Release ironic-inspector\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 10.11.0..561fed2\n561fed2 Make reno ignore bugfix eol tags\n5da8e98 [stable-only] Fixes for tox 4.0 compatability\nc7f46d3 CI: Zuul no longer respects queue\n0f70f89 Update TOX_CONSTRAINTS_FILE for stable/yoga\nb86b6c7 Update .gitreview for stable/yoga\n\nChange-Id: Idc2e8a07e147a3c2606e5de5ff14099c18659055\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889458,9f967339809af97b5c39ba8de3d18167e453889e,3,4,1,28522,,,0,"[Yoga] Release ironic-inspector

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 10.11.0..561fed2
561fed2 Make reno ignore bugfix eol tags
5da8e98 [stable-only] Fixes for tox 4.0 compatability
c7f46d3 CI: Zuul no longer respects queue
0f70f89 Update TOX_CONSTRAINTS_FILE for stable/yoga
b86b6c7 Update .gitreview for stable/yoga

Change-Id: Idc2e8a07e147a3c2606e5de5ff14099c18659055
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/889458/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ironic-inspector.yaml'],1,9f967339809af97b5c39ba8de3d18167e453889e,yoga-convenience-before-em, - version: 10.11.1 projects: - repo: openstack/ironic-inspector hash: 561fed27c7959b72aa74a46026a62fc1f941139b,,4,0
openstack%2Fnova~master~I6247bfbb157b37eff66ac3974bf91780a3d01c1d,openstack/nova,master,I6247bfbb157b37eff66ac3974bf91780a3d01c1d,Remove Ironic client wrapper,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:42:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6093d710fe3b5989ad61aa6fa3cc628e34a1d18', 'message': 'Remove Ironic client wrapper\n\nWe no longer need this since everything is using SDK. The removal of\nthis highlights a couple of areas where there were outstanding unused\nmocks. These are cleaned up in the process.\n\nChange-Id: I6247bfbb157b37eff66ac3974bf91780a3d01c1d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fb252d0cc2af1c26845c101aa8c3ebdecfc59cb', 'message': 'Remove Ironic client wrapper\n\nWe no longer need this since everything is using SDK. The removal of\nthis highlights a couple of areas where there were outstanding unused\nmocks. These are cleaned up in the process.\n\nChange-Id: I6247bfbb157b37eff66ac3974bf91780a3d01c1d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54df9b52c7670c124f22c9c9fea0953d3107ea35', 'message': 'Remove Ironic client wrapper\n\nWe no longer need this since everything is using SDK. The removal of\nthis highlights a couple of areas where there were outstanding unused\nmocks. These are cleaned up in the process.\n\nChange-Id: I6247bfbb157b37eff66ac3974bf91780a3d01c1d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'test-requirements.txt', 'nova/virt/ironic/patcher.py', 'nova/tests/unit/virt/ironic/utils.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7800553e9fee6ecae2742d2907fec401ce4cc23b', 'message': 'Remove Ironic client wrapper\n\nWe no longer need this since everything is using SDK. The removal of\nthis highlights a couple of areas where there were outstanding unused\nmocks. These are cleaned up in the process.\n\nChange-Id: I6247bfbb157b37eff66ac3974bf91780a3d01c1d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,867797,7800553e9fee6ecae2742d2907fec401ce4cc23b,12,1,4,15334,,,0,"Remove Ironic client wrapper

We no longer need this since everything is using SDK. The removal of
this highlights a couple of areas where there were outstanding unused
mocks. These are cleaned up in the process.

Change-Id: I6247bfbb157b37eff66ac3974bf91780a3d01c1d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/867797/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/ironic/client_wrapper.py', 'test-requirements.txt', 'nova/virt/ironic/patcher.py', 'nova/tests/unit/virt/ironic/utils.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py']",7,e6093d710fe3b5989ad61aa6fa3cc628e34a1d18,bp/openstacksdk-in-nova,,"# Copyright 2014 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from ironicclient import client as ironic_client from ironicclient import exc as ironic_exception from keystoneauth1 import discover as ksa_disc import keystoneauth1.session from oslo_config import cfg import nova.conf from nova import exception from nova import test from nova.tests.unit.virt.ironic import utils as ironic_utils from nova.virt.ironic import client_wrapper CONF = nova.conf.CONF FAKE_CLIENT = ironic_utils.FakeClient() def get_new_fake_client(*args, **kwargs): return ironic_utils.FakeClient() class IronicClientWrapperTestCase(test.NoDBTestCase): def setUp(self): super(IronicClientWrapperTestCase, self).setUp() self.ironicclient = client_wrapper.IronicClientWrapper() # Do not waste time sleeping cfg.CONF.set_override('api_retry_interval', 0, 'ironic') cfg.CONF.set_override('region_name', 'RegionOne', 'ironic') get_ksa_adapter_p = mock.patch('nova.utils.get_ksa_adapter') self.addCleanup(get_ksa_adapter_p.stop) self.get_ksa_adapter = get_ksa_adapter_p.start() get_auth_plugin_p = mock.patch('nova.virt.ironic.client_wrapper.' 'IronicClientWrapper._get_auth_plugin') self.addCleanup(get_auth_plugin_p.stop) self.get_auth_plugin = get_auth_plugin_p.start() @mock.patch.object(client_wrapper.IronicClientWrapper, '_multi_getattr') @mock.patch.object(client_wrapper.IronicClientWrapper, '_get_client') def test_call_good_no_args(self, mock_get_client, mock_multi_getattr): mock_get_client.return_value = FAKE_CLIENT self.ironicclient.call(""node.list"") mock_get_client.assert_called_once_with(retry_on_conflict=True) mock_multi_getattr.assert_called_once_with(FAKE_CLIENT, ""node.list"") mock_multi_getattr.return_value.assert_called_once_with() @mock.patch.object(client_wrapper.IronicClientWrapper, '_multi_getattr') @mock.patch.object(client_wrapper.IronicClientWrapper, '_get_client') def test_call_good_with_args(self, mock_get_client, mock_multi_getattr): mock_get_client.return_value = FAKE_CLIENT self.ironicclient.call(""node.list"", 'test', associated=True) mock_get_client.assert_called_once_with(retry_on_conflict=True) mock_multi_getattr.assert_called_once_with(FAKE_CLIENT, ""node.list"") mock_multi_getattr.return_value.assert_called_once_with( 'test', associated=True) @mock.patch.object(keystoneauth1.session, 'Session') @mock.patch.object(ironic_client, 'get_client') def test__get_client_session(self, mock_ir_cli, mock_session): """"""An Ironicclient is called with a keystoneauth1 Session"""""" mock_session.return_value = 'session' ironicclient = client_wrapper.IronicClientWrapper() # dummy call to have _get_client() called ironicclient.call(""node.list"") self.get_ksa_adapter.assert_called_once_with( 'baremetal', ksa_auth=self.get_auth_plugin.return_value, ksa_session='session', min_version=(1, 0), max_version=(1, ksa_disc.LATEST)) expected = {'session': 'session', 'max_retries': CONF.ironic.api_max_retries, 'retry_interval': CONF.ironic.api_retry_interval, 'os_ironic_api_version': ['1.46', '1.38'], 'endpoint': self.get_ksa_adapter.return_value.get_endpoint.return_value, 'interface': ['internal', 'public']} mock_ir_cli.assert_called_once_with(1, **expected) @mock.patch.object(keystoneauth1.session, 'Session') @mock.patch.object(ironic_client, 'get_client') def test__get_client_session_service_not_found(self, mock_ir_cli, mock_session): """"""Validate behavior when get_endpoint_data raises."""""" mock_session.return_value = 'session' self.get_ksa_adapter.side_effect = ( exception.ConfGroupForServiceTypeNotFound(stype='baremetal')) ironicclient = client_wrapper.IronicClientWrapper() # dummy call to have _get_client() called ironicclient.call(""node.list"") self.get_ksa_adapter.assert_called_once_with( 'baremetal', ksa_auth=self.get_auth_plugin.return_value, ksa_session='session', min_version=(1, 0), max_version=(1, ksa_disc.LATEST)) # When get_endpoint_data raises any ServiceNotFound, None is returned. expected = {'session': 'session', 'max_retries': CONF.ironic.api_max_retries, 'retry_interval': CONF.ironic.api_retry_interval, 'os_ironic_api_version': ['1.46', '1.38'], 'endpoint': None, 'region_name': CONF.ironic.region_name, 'interface': ['internal', 'public']} mock_ir_cli.assert_called_once_with(1, **expected) @mock.patch.object(keystoneauth1.session, 'Session') @mock.patch.object(ironic_client, 'get_client') def test__get_client_and_valid_interfaces(self, mock_ir_cli, mock_session): """"""Confirm explicit setting of valid_interfaces."""""" mock_session.return_value = 'session' endpoint = 'https://baremetal.example.com/endpoint' self.get_ksa_adapter.return_value.get_endpoint.return_value = endpoint self.flags(endpoint_override=endpoint, group='ironic') self.flags(valid_interfaces='admin', group='ironic') ironicclient = client_wrapper.IronicClientWrapper() # dummy call to have _get_client() called ironicclient.call(""node.list"") expected = {'session': 'session', 'max_retries': CONF.ironic.api_max_retries, 'retry_interval': CONF.ironic.api_retry_interval, 'os_ironic_api_version': ['1.46', '1.38'], 'endpoint': endpoint, 'interface': ['admin']} mock_ir_cli.assert_called_once_with(1, **expected) @mock.patch.object(client_wrapper.IronicClientWrapper, '_multi_getattr') @mock.patch.object(client_wrapper.IronicClientWrapper, '_get_client') def test_call_fail_exception(self, mock_get_client, mock_multi_getattr): test_obj = mock.Mock() test_obj.side_effect = ironic_exception.HTTPNotFound mock_multi_getattr.return_value = test_obj mock_get_client.return_value = FAKE_CLIENT self.assertRaises(ironic_exception.HTTPNotFound, self.ironicclient.call, ""node.list"") @mock.patch.object(ironic_client, 'get_client') def test__get_client_unauthorized(self, mock_get_client): mock_get_client.side_effect = ironic_exception.Unauthorized self.assertRaises(exception.NovaException, self.ironicclient._get_client) @mock.patch.object(ironic_client, 'get_client') def test__get_client_unexpected_exception(self, mock_get_client): mock_get_client.side_effect = ironic_exception.ConnectionRefused self.assertRaises(ironic_exception.ConnectionRefused, self.ironicclient._get_client) def test__multi_getattr_good(self): response = self.ironicclient._multi_getattr(FAKE_CLIENT, ""node.list"") self.assertEqual(FAKE_CLIENT.node.list, response) def test__multi_getattr_fail(self): self.assertRaises(AttributeError, self.ironicclient._multi_getattr, FAKE_CLIENT, ""nonexistent"") @mock.patch.object(ironic_client, 'get_client') def test__client_is_cached(self, mock_get_client): mock_get_client.side_effect = get_new_fake_client ironicclient = client_wrapper.IronicClientWrapper() first_client = ironicclient._get_client() second_client = ironicclient._get_client() self.assertEqual(id(first_client), id(second_client)) @mock.patch.object(ironic_client, 'get_client') def test_call_uses_cached_client(self, mock_get_client): mock_get_client.side_effect = get_new_fake_client ironicclient = client_wrapper.IronicClientWrapper() for n in range(0, 4): ironicclient.call(""node.list"") self.assertEqual(1, mock_get_client.call_count) ",52,548
openstack%2Freleases~master~Ie4bea304759367941fe6426a2956748886e74590,openstack/releases,master,Ie4bea304759367941fe6426a2956748886e74590,[Yoga] Release freezer,ABANDONED,2023-07-25 14:33:11.000000000,2023-07-26 15:41:13.000000000,,"[{'_account_id': 13940}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:33:11.000000000', 'files': ['deliverables/yoga/freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ee582544bf2b59794ac493db4f3508fa6712711', 'message': '[Yoga] Release freezer\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 12.0.0..14b1db6\n14b1db6 Fix deprecated zuul queue syntax\n515b703 Update TOX_CONSTRAINTS_FILE for stable/yoga\n5a5ade2 Update .gitreview for stable/yoga\n\nChange-Id: Ie4bea304759367941fe6426a2956748886e74590\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889448,7ee582544bf2b59794ac493db4f3508fa6712711,3,3,1,28522,,,0,"[Yoga] Release freezer

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 12.0.0..14b1db6
14b1db6 Fix deprecated zuul queue syntax
515b703 Update TOX_CONSTRAINTS_FILE for stable/yoga
5a5ade2 Update .gitreview for stable/yoga

Change-Id: Ie4bea304759367941fe6426a2956748886e74590
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/889448/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/freezer.yaml'],1,7ee582544bf2b59794ac493db4f3508fa6712711,yoga-convenience-before-em, - version: 12.0.1 projects: - repo: openstack/freezer hash: 14b1db6780d44ebb2c38f27983aab028fbd7372a - repo: openstack/freezer-api hash: fbb4a5aba080e5ebd57d0a3cedc40027b2ac34de - repo: openstack/freezer-dr hash: 27aff441dda733e5588877021d92f3430240e061,,8,0
openstack%2Freleases~master~If78bbfbab998fc85e7782f7df60ab76b361afb50,openstack/releases,master,If78bbfbab998fc85e7782f7df60ab76b361afb50,[Yoga] Release ironic-lib,ABANDONED,2023-07-25 14:47:55.000000000,2023-07-26 15:38:03.000000000,,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-25 14:47:55.000000000', 'files': ['deliverables/yoga/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8bb2005935010da85898857c4244859881d0c4a5', 'message': '[Yoga] Release ironic-lib\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 5.2.0..29fb9e7\n29fb9e7 CI: Zuul no longer respects queue param\n529dbd7 Update TOX_CONSTRAINTS_FILE for stable/yoga\n808baf7 Update .gitreview for stable/yoga\n\nChange-Id: If78bbfbab998fc85e7782f7df60ab76b361afb50\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889459,8bb2005935010da85898857c4244859881d0c4a5,3,4,1,28522,,,0,"[Yoga] Release ironic-lib

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 5.2.0..29fb9e7
29fb9e7 CI: Zuul no longer respects queue param
529dbd7 Update TOX_CONSTRAINTS_FILE for stable/yoga
808baf7 Update .gitreview for stable/yoga

Change-Id: If78bbfbab998fc85e7782f7df60ab76b361afb50
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/889459/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ironic-lib.yaml'],1,8bb2005935010da85898857c4244859881d0c4a5,yoga-convenience-before-em, - version: 5.2.1 projects: - repo: openstack/ironic-lib hash: 29fb9e75f6cdd6c1feaebc2fff14897eb94f8410,,4,0
openstack%2Freleases~master~I21a393412d56134bee4e9b824354167453edaf7b,openstack/releases,master,I21a393412d56134bee4e9b824354167453edaf7b,[Yoga] Release mistral,ABANDONED,2023-07-25 15:10:59.000000000,2023-07-26 15:36:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-07-25 15:10:59.000000000', 'files': ['deliverables/yoga/mistral.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c490aabd52ba6c2c815e0d4ea39c7a84bd5ad0eb', 'message': '[Yoga] Release mistral\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 14.0.0..77116d0d\n77116d0d Update zuul queue configuration\n21867b48 Add Python3 yoga unit tests\na9024d42 Update TOX_CONSTRAINTS_FILE for stable/yoga\n3e28937c Update .gitreview for stable/yoga\n\nChange-Id: I21a393412d56134bee4e9b824354167453edaf7b\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889492,c490aabd52ba6c2c815e0d4ea39c7a84bd5ad0eb,3,2,1,28522,,,0,"[Yoga] Release mistral

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 14.0.0..77116d0d
77116d0d Update zuul queue configuration
21867b48 Add Python3 yoga unit tests
a9024d42 Update TOX_CONSTRAINTS_FILE for stable/yoga
3e28937c Update .gitreview for stable/yoga

Change-Id: I21a393412d56134bee4e9b824354167453edaf7b
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/889492/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/mistral.yaml'],1,c490aabd52ba6c2c815e0d4ea39c7a84bd5ad0eb,yoga-convenience-before-em, - version: 14.0.1 projects: - repo: openstack/mistral hash: 77116d0dfdcc891f37817e9f1678d6c4c10aeb32,,4,0
openstack%2Freleases~master~Ib4bc04522a0df1182bea699cf2cb594417f1aa28,openstack/releases,master,Ib4bc04522a0df1182bea699cf2cb594417f1aa28,[Yoga] Release masakari,ABANDONED,2023-07-25 15:08:10.000000000,2023-07-26 15:36:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2023-07-25 15:08:10.000000000', 'files': ['deliverables/yoga/masakari.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7cbe64ea7ea1d241ff9573f42cd68618b83a70a', 'message': '[Yoga] Release masakari\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 13.0.3..78008da\n78008da Fix tox4 issues\n\nChange-Id: Ib4bc04522a0df1182bea699cf2cb594417f1aa28\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889487,a7cbe64ea7ea1d241ff9573f42cd68618b83a70a,3,2,1,28522,,,0,"[Yoga] Release masakari

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 13.0.3..78008da
78008da Fix tox4 issues

Change-Id: Ib4bc04522a0df1182bea699cf2cb594417f1aa28
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/889487/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/masakari.yaml'],1,a7cbe64ea7ea1d241ff9573f42cd68618b83a70a,yoga-convenience-before-em, - version: 13.0.4 projects: - repo: openstack/masakari hash: 78008dad073688049f095db59a750c6cf3dcf726,,4,0
openstack%2Freleases~master~I9985e9866f6452cf8c7a474f709a47c11c5d5ccd,openstack/releases,master,I9985e9866f6452cf8c7a474f709a47c11c5d5ccd,[Yoga] Release mistral-lib,ABANDONED,2023-07-25 15:10:21.000000000,2023-07-26 15:35:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-07-25 15:10:21.000000000', 'files': ['deliverables/yoga/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a64bd1dac127851964426859096755073cbe9aa0', 'message': '[Yoga] Release mistral-lib\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-em..0e02b35\n0e02b35 Add Python3 yoga unit tests\n5b520cb Update TOX_CONSTRAINTS_FILE for stable/yoga\nd58de92 Update .gitreview for stable/yoga\n\nChange-Id: I9985e9866f6452cf8c7a474f709a47c11c5d5ccd\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889491,a64bd1dac127851964426859096755073cbe9aa0,3,2,1,28522,,,0,"[Yoga] Release mistral-lib

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-em..0e02b35
0e02b35 Add Python3 yoga unit tests
5b520cb Update TOX_CONSTRAINTS_FILE for stable/yoga
d58de92 Update .gitreview for stable/yoga

Change-Id: I9985e9866f6452cf8c7a474f709a47c11c5d5ccd
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/889491/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/mistral-lib.yaml'],1,a64bd1dac127851964426859096755073cbe9aa0,yoga-convenience-before-em, - version: 2.6.1 projects: - repo: openstack/mistral-lib hash: 0e02b352c954b742cae60757e8cebf3a6fc0dc44,,4,0
openstack%2Freleases~master~I58ed64b594cdfc43ee9eb5ff83f2ee8d322ace53,openstack/releases,master,I58ed64b594cdfc43ee9eb5ff83f2ee8d322ace53,[Yoga] Release monasca-statsd,ABANDONED,2023-07-25 15:14:54.000000000,2023-07-26 15:34:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 35988}]","[{'number': 1, 'created': '2023-07-25 15:14:54.000000000', 'files': ['deliverables/yoga/monasca-statsd.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/85babe60792a38c0649279f841a987d7d1fad309', 'message': '[Yoga] Release monasca-statsd\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.4.0..df8f364\ndf8f364 Drop lower-constraints.txt and its testing\nfd6e52a Update TOX_CONSTRAINTS_FILE for stable/yoga\nbfd399e Update .gitreview for stable/yoga\n\nChange-Id: I58ed64b594cdfc43ee9eb5ff83f2ee8d322ace53\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889499,85babe60792a38c0649279f841a987d7d1fad309,3,2,1,28522,,,0,"[Yoga] Release monasca-statsd

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.4.0..df8f364
df8f364 Drop lower-constraints.txt and its testing
fd6e52a Update TOX_CONSTRAINTS_FILE for stable/yoga
bfd399e Update .gitreview for stable/yoga

Change-Id: I58ed64b594cdfc43ee9eb5ff83f2ee8d322ace53
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/889499/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/monasca-statsd.yaml'],1,85babe60792a38c0649279f841a987d7d1fad309,yoga-convenience-before-em, - version: 2.4.1 projects: - repo: openstack/monasca-statsd hash: df8f364730bb5b42e317b8454eaeabe291715b94,,4,0
openstack%2Freleases~master~I8129a77399f5be16f8b43a11db5091dbc36cc260,openstack/releases,master,I8129a77399f5be16f8b43a11db5091dbc36cc260,[Yoga] Release murano-dashboard,ABANDONED,2023-07-25 15:17:11.000000000,2023-07-26 15:33:45.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:17:11.000000000', 'files': ['deliverables/yoga/murano-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e9255e00f6101e97c4c04d67e4d5f0e31b95212f', 'message': '[Yoga] Release murano-dashboard\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 13.0.0..06c357a4\n06c357a4 Cleanup for lower-constraints job\n88e36a1d Fixed Unit test for murano-dashboard\nb84b8634 Update TOX_CONSTRAINTS_FILE for stable/yoga\nf8a4e8b1 Update .gitreview for stable/yoga\n\nChange-Id: I8129a77399f5be16f8b43a11db5091dbc36cc260\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889503,e9255e00f6101e97c4c04d67e4d5f0e31b95212f,3,2,1,28522,,,0,"[Yoga] Release murano-dashboard

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 13.0.0..06c357a4
06c357a4 Cleanup for lower-constraints job
88e36a1d Fixed Unit test for murano-dashboard
b84b8634 Update TOX_CONSTRAINTS_FILE for stable/yoga
f8a4e8b1 Update .gitreview for stable/yoga

Change-Id: I8129a77399f5be16f8b43a11db5091dbc36cc260
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/889503/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/murano-dashboard.yaml'],1,e9255e00f6101e97c4c04d67e4d5f0e31b95212f,yoga-convenience-before-em, - version: 13.0.1 projects: - repo: openstack/murano-dashboard hash: 06c357a470198e132617e72a8a9db9e0190d50f5,,4,0
openstack%2Freleases~master~I627c1f150a4d6c641c706c0c07b55539f89c43b7,openstack/releases,master,I627c1f150a4d6c641c706c0c07b55539f89c43b7,[Yoga] Release murano,ABANDONED,2023-07-25 15:18:16.000000000,2023-07-26 15:33:20.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:18:16.000000000', 'files': ['deliverables/yoga/murano.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed7ca555a3c519aacd74cdc29a89499b9bbbe9d5', 'message': '[Yoga] Release murano\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 13.0.0..6b321135\n6b321135 [stable-only] Remove periodic-stable-jobs template\n719070f0 Update .gitreview for stable/yoga\n\nChange-Id: I627c1f150a4d6c641c706c0c07b55539f89c43b7\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889504,ed7ca555a3c519aacd74cdc29a89499b9bbbe9d5,3,2,1,28522,,,0,"[Yoga] Release murano

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 13.0.0..6b321135
6b321135 [stable-only] Remove periodic-stable-jobs template
719070f0 Update .gitreview for stable/yoga

Change-Id: I627c1f150a4d6c641c706c0c07b55539f89c43b7
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/889504/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/murano.yaml'],1,ed7ca555a3c519aacd74cdc29a89499b9bbbe9d5,yoga-convenience-before-em, - version: 13.0.1 projects: - repo: openstack/murano hash: 6b3211357b60e7200e5efe48e5cfc89bf6e8f278,,4,0
openstack%2Fnova~master~I5efbf0dd685ca4432b68ee625637fac741dee24b,openstack/nova,master,I5efbf0dd685ca4432b68ee625637fac741dee24b,Use SDK for node.set_provision_state,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:32:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f79e28dfca12c4aae418a661504fda32504a0c06', 'message': ""Use SDK for node.set_provision_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_provision_state' calls across. There\nare a few of these but they're nothing complicated.\n\nChange-Id: I5efbf0dd685ca4432b68ee625637fac741dee24b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78500bb3b50e9e1025d12be685aa30e916bcb236', 'message': ""Use SDK for node.set_provision_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_provision_state' calls across. There\nare a few of these but they're nothing complicated.\n\nChange-Id: I5efbf0dd685ca4432b68ee625637fac741dee24b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae1484d1623308d4facc677210b1e0c51160180d', 'message': ""Use SDK for node.set_provision_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_provision_state' calls across. There\nare a few of these but they're nothing complicated.\n\nChange-Id: I5efbf0dd685ca4432b68ee625637fac741dee24b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c050fb7ba935ff7a3d04dd4fcfcd8166cb949bf', 'message': ""Use SDK for node.set_provision_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_provision_state' calls across. There\nare a few of these but they're nothing complicated. The only significant\nchange we need to make is that SDK does not automatically convert bytes\nto str so we need to do this ourselves. Tests are included to prevent\nregressions.\n\nChange-Id: I5efbf0dd685ca4432b68ee625637fac741dee24b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,867791,9c050fb7ba935ff7a3d04dd4fcfcd8166cb949bf,16,1,4,15334,,,0,"Use SDK for node.set_provision_state

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

In this change, we migrate all 'set_provision_state' calls across. There
are a few of these but they're nothing complicated. The only significant
change we need to make is that SDK does not automatically convert bytes
to str so we need to do this ourselves. Tests are included to prevent
regressions.

Change-Id: I5efbf0dd685ca4432b68ee625637fac741dee24b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/867791/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,f79e28dfca12c4aae418a661504fda32504a0c06,bp/openstacksdk-in-nova," self.mock_conn.set_node_provision_state.assert_called_once_with( node_id, 'active', config_drive=mock.ANY, ) self.mock_conn.set_node_provision_state.side_effect = \ sdk_exc.SDKException('foo') self.assertRaises( sdk_exc.SDKException, self.driver.spawn, self.ctx, instance, image_meta, [], None, {}, ) def fake_set_node_provision_state(*_): self.mock_conn.set_node_provision_state.side_effect = \ fake_set_node_provision_state # For states that makes sense check if set_node_provision_state has self.mock_conn.set_node_provision_state.assert_called_once_with( node_id, 'deleted', ) self.mock_conn.set_node_provision_state.assert_not_called() # we call this innter function twice so we need to reset mocks self.mock_conn.set_node_provision_state.reset_mock() def test_destroy_trigger_undeploy_fail(self, mock_clean, fake_validate): driver='fake', uuid=node_uuid, provision_state=ironic_states.ACTIVE, ) instance = fake_instance.fake_instance_obj(self.ctx, node=node_uuid) self.mock_conn.set_node_provision_state.side_effect = \ sdk_exc.SDKException('foo') self.assertRaises( sdk_exc.SDKException, self.driver.destroy, self.ctx, instance, None, None, ) def _test__unprovision_instance(self, mock_validate_inst, state=None): self.mock_conn.set_node_provision_state.assert_called_once_with( node.uuid, ""deleted"", ) def test__unprovision_fail_max_retries(self, mock_validate_inst): self.mock_conn.set_node_provision_state.assert_called_once_with( node.uuid, ""deleted"", ) def test__unprovision_instance_not_found(self, mock_validate_inst): self.mock_conn.set_node_provision_state.assert_called_once_with( node.uuid, ""deleted"", ) self.mock_conn.set_node_provision_state.side_effect = \ sdk_exc.SDKException('foo') self.assertRaises( sdk_exc.SDKException, self.driver.destroy, self.ctx, instance, None, None, ) self.mock_conn.set_node_provision_state.assert_called_once_with( node_id, 'deleted', ) def _test_rebuild(self, mock_save, mock_add_instance_info, self.mock_conn.set_node_provision_state.assert_called_once_with( node_uuid, ironic_states.REBUILD, config_drive=mock.ANY, ) mock_add_instance_info, self.mock_conn.set_node_provision_state.side_effect = \ sdk_exc.SDKException('foo') self.assertRaises( exception.InstanceDeployFailure, self.driver.rebuild, context=self.ctx, instance=instance, image_meta=image_meta, injected_files=None, admin_password=None, allocations={}, bdms=None, detach_block_devices=None, attach_block_devices=None) def test_rescue(self, mock_looping): self.mock_conn.set_node_provision_state.assert_called_once_with( node.uuid, 'rescue', rescue_password='xyz', ) def test_rescue_provision_state_fail(self, mock_looping): self.mock_conn.set_node_provision_state.side_effect = \ sdk_exc.BadRequestException() instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises( exception.InstanceRescueFailure, self.driver.rescue, self.ctx, instance, None, None, 'xyz', None, ) self.mock_conn.set_node_provision_state.assert_called_once_with( node.uuid, 'rescue', rescue_password='xyz', ) def test_rescue_instance_not_found(self, fake_validate): instance_id='fake', ) self.assertRaises( exception.InstanceRescueFailure, self.driver.rescue, self.ctx, instance, None, None, 'xyz', None, ) def test_rescue_rescue_fail(self, fake_validate): instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises( exception.InstanceRescueFailure, self.driver.rescue, self.ctx, instance, None, None, 'xyz', None, ) def test_unrescue(self, mock_looping): instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.mock_conn.set_node_provision_state.assert_called_once_with( node.uuid, 'unrescue', ) def test_unrescue_provision_state_fail(self, mock_looping): self.mock_conn.set_node_provision_state.side_effect = \ sdk_exc.BadRequestException() instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises( exception.InstanceUnRescueFailure, self.driver.unrescue, self.ctx, instance, ) def test_unrescue_instance_not_found(self, fake_validate): self.assertRaises( exception.InstanceUnRescueFailure, self.driver.unrescue, self.ctx, instance) def test_unrescue_unrescue_fail(self, fake_validate): instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises( exception.InstanceUnRescueFailure, self.driver.unrescue, self.ctx, instance, )"," mock_node.set_provision_state.return_value = mock.MagicMock() mock_node.set_provision_state.assert_called_once_with( node_id, 'active', configdrive=mock.ANY) mock_node.set_provision_state.return_value = mock.MagicMock() mock_node.set_provision_state.side_effect = exception.NovaException() self.assertRaises(exception.NovaException, self.driver.spawn, self.ctx, instance, image_meta, [], None, {}) @mock.patch.object(FAKE_CLIENT, 'node') @mock.patch.object(ironic_driver.IronicDriver, '_add_volume_target_info') @mock.patch.object(ironic_driver.IronicDriver, '_cleanup_deploy') def test_spawn_node_trigger_deploy_fail2(self, mock_cleanup_deploy, mock_avti, mock_node, mock_required_by): mock_required_by.return_value = False node_id = 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee' node = _get_cached_node(driver='fake', id=node_id) flavor = ironic_utils.get_test_flavor() instance = fake_instance.fake_instance_obj(self.ctx, node=node_id) instance.flavor = flavor image_meta = ironic_utils.get_test_image_meta() self.mock_conn.get_node.return_value = node mock_node.validate.return_value = ironic_utils.get_test_validation() mock_node.set_provision_state.side_effect = ironic_exception.BadRequest self.assertRaises(ironic_exception.BadRequest, self.driver.spawn, self.ctx, instance, image_meta, [], None, {}) self.mock_conn.get_node.assert_called_once_with( node_id, fields=ironic_driver._NODE_FIELDS) mock_node.validate.assert_called_once_with(node_id) mock_cleanup_deploy.assert_called_once_with(node, instance, None) @mock.patch.object(configdrive, 'required_by') @mock.patch.object(loopingcall, 'FixedIntervalLoopingCall') @mock.patch.object(FAKE_CLIENT, 'node') @mock.patch.object(ironic_driver.IronicDriver, '_add_volume_target_info') @mock.patch.object(ironic_driver.IronicDriver, 'destroy') def test_spawn_node_trigger_deploy_fail3(self, mock_destroy, mock_avti, mock_node, mock_looping, mock_required_by): mock_required_by.return_value = False node_id = 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee' node = _get_cached_node(driver='fake', id=node_id) flavor = ironic_utils.get_test_flavor() instance = fake_instance.fake_instance_obj(self.ctx, node=node_id) instance.flavor = flavor image_meta = ironic_utils.get_test_image_meta() self.mock_conn.get_node.return_value = node mock_node.validate.return_value = ironic_utils.get_test_validation() fake_looping_call = FakeLoopingCall() mock_looping.return_value = fake_looping_call fake_looping_call.wait.side_effect = ironic_exception.BadRequest fake_net_info = utils.get_test_network_info() self.assertRaises(ironic_exception.BadRequest, self.driver.spawn, self.ctx, instance, image_meta, [], None, {}, fake_net_info) self.assertEqual(0, mock_destroy.call_count) @mock.patch.object(configdrive, 'required_by') mock_node.set_provision_state.return_value = mock.MagicMock() def fake_set_provision_state(*_): mock_node.set_provision_state.side_effect = fake_set_provision_state # For states that makes sense check if set_provision_state has mock_node.set_provision_state.assert_called_once_with( node_id, 'deleted') self.assertFalse(mock_node.set_provision_state.called) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_destroy_trigger_undeploy_fail(self, mock_clean, fake_validate, mock_sps): driver='fake', uuid=node_uuid, provision_state=ironic_states.ACTIVE) instance = fake_instance.fake_instance_obj(self.ctx, node=node_uuid) mock_sps.side_effect = exception.NovaException() self.assertRaises(exception.NovaException, self.driver.destroy, self.ctx, instance, None, None) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def _test__unprovision_instance(self, mock_validate_inst, mock_set_pstate, state=None): mock_set_pstate.assert_called_once_with(node.uuid, ""deleted"") @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test__unprovision_fail_max_retries(self, mock_validate_inst, mock_set_pstate): mock_set_pstate.assert_called_once_with(node.uuid, ""deleted"") @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test__unprovision_instance_not_found(self, mock_validate_inst, mock_set_pstate): mock_set_pstate.assert_called_once_with(node.uuid, ""deleted"") mock_node.set_provision_state.side_effect = exception.NovaException() self.assertRaises(exception.NovaException, self.driver.destroy, self.ctx, instance, None, None) mock_node.set_provision_state.assert_called_once_with(node_id, 'deleted') @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def _test_rebuild(self, mock_save, mock_add_instance_info, mock_set_pstate, mock_set_pstate.assert_called_once_with( node_uuid, ironic_states.REBUILD, configdrive=mock.ANY) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') mock_add_instance_info, mock_set_pstate, exceptions = [ exception.NovaException(), ironic_exception.BadRequest(), ironic_exception.InternalServerError(), ] for e in exceptions: mock_set_pstate.side_effect = e self.assertRaises(exception.InstanceDeployFailure, self.driver.rebuild, context=self.ctx, instance=instance, image_meta=image_meta, injected_files=None, admin_password=None, allocations={}, bdms=None, detach_block_devices=None, attach_block_devices=None) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_rescue(self, mock_sps, mock_looping): mock_sps.assert_called_once_with(node.uuid, 'rescue', rescue_password='xyz') @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_rescue_provision_state_fail(self, mock_sps, mock_looping): mock_sps.side_effect = ironic_exception.BadRequest() instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises(exception.InstanceRescueFailure, self.driver.rescue, self.ctx, instance, None, None, 'xyz', None) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_rescue_instance_not_found(self, mock_sps, fake_validate): instance_id='fake') self.assertRaises(exception.InstanceRescueFailure, self.driver.rescue, self.ctx, instance, None, None, 'xyz', None) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_rescue_rescue_fail(self, mock_sps, fake_validate): instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises(exception.InstanceRescueFailure, self.driver.rescue, self.ctx, instance, None, None, 'xyz', None) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_unrescue(self, mock_sps, mock_looping): instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) mock_sps.assert_called_once_with(node.uuid, 'unrescue') @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_unrescue_provision_state_fail(self, mock_sps, mock_looping): mock_sps.side_effect = ironic_exception.BadRequest() instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises(exception.InstanceUnRescueFailure, self.driver.unrescue, self.ctx, instance) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_unrescue_instance_not_found(self, mock_sps, fake_validate): self.assertRaises(exception.InstanceUnRescueFailure, self.driver.unrescue, self.ctx, instance) @mock.patch.object(FAKE_CLIENT.node, 'set_provision_state') def test_unrescue_unrescue_fail(self, mock_sps, fake_validate): instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises(exception.InstanceUnRescueFailure, self.driver.unrescue, self.ctx, instance)",153,187
openstack%2Freleases~master~Iba594e97892e042af820ecadfc32a8d843e8de8d,openstack/releases,master,Iba594e97892e042af820ecadfc32a8d843e8de8d,[Yoga] Release monasca-ui,ABANDONED,2023-07-25 15:15:56.000000000,2023-07-26 15:32:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 35988}]","[{'number': 1, 'created': '2023-07-25 15:15:56.000000000', 'files': ['deliverables/yoga/monasca-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ecea91788dc313edb4def3a21e14daec17d4709', 'message': '[Yoga] Release monasca-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 6.0.0..999262b\n999262b Drop lower-constraints.txt and its testing\n9bcc297 Update TOX_CONSTRAINTS_FILE for stable/yoga\n65386a0 Update .gitreview for stable/yoga\n\nChange-Id: Iba594e97892e042af820ecadfc32a8d843e8de8d\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889501,0ecea91788dc313edb4def3a21e14daec17d4709,3,2,1,28522,,,0,"[Yoga] Release monasca-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 6.0.0..999262b
999262b Drop lower-constraints.txt and its testing
9bcc297 Update TOX_CONSTRAINTS_FILE for stable/yoga
65386a0 Update .gitreview for stable/yoga

Change-Id: Iba594e97892e042af820ecadfc32a8d843e8de8d
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/889501/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/monasca-ui.yaml'],1,0ecea91788dc313edb4def3a21e14daec17d4709,yoga-convenience-before-em, - version: 6.0.1 projects: - repo: openstack/monasca-ui hash: 999262be05b5b1230b39778b63d192cee7508502,,4,0
openstack%2Freleases~master~I8a007b7ac90212afb4b58d13076dcdff428b895c,openstack/releases,master,I8a007b7ac90212afb4b58d13076dcdff428b895c,[Yoga] Release os-win,ABANDONED,2023-07-25 15:46:41.000000000,2023-07-26 15:32:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-25 15:46:41.000000000', 'files': ['deliverables/yoga/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8bf3501dfbb0f2359e0e4d59089e1de11203d6f9', 'message': '[Yoga] Release os-win\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 5.6.0..31abc0e\n31abc0e Update zuul queue configuration\naf5aa0e Update TOX_CONSTRAINTS_FILE for stable/yoga\n7b8d693 Update .gitreview for stable/yoga\n\nChange-Id: I8a007b7ac90212afb4b58d13076dcdff428b895c\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889528,8bf3501dfbb0f2359e0e4d59089e1de11203d6f9,3,1,1,28522,,,0,"[Yoga] Release os-win

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 5.6.0..31abc0e
31abc0e Update zuul queue configuration
af5aa0e Update TOX_CONSTRAINTS_FILE for stable/yoga
7b8d693 Update .gitreview for stable/yoga

Change-Id: I8a007b7ac90212afb4b58d13076dcdff428b895c
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/889528/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/os-win.yaml'],1,8bf3501dfbb0f2359e0e4d59089e1de11203d6f9,yoga-convenience-before-em, - version: 5.6.1 projects: - repo: openstack/os-win hash: 31abc0ec229277e03bc9778b7ba0c80b3d32c25c,,4,0
openstack%2Freleases~master~If6fd57f0e1d4defb30e83c997a39d9df0dfa9b97,openstack/releases,master,If6fd57f0e1d4defb30e83c997a39d9df0dfa9b97,[Yoga] Release placement,ABANDONED,2023-07-25 15:54:15.000000000,2023-07-26 15:31:30.000000000,,"[{'_account_id': 7166}, {'_account_id': 16207}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-07-25 15:54:15.000000000', 'files': ['deliverables/yoga/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1d547e23d85d1764969e506945c2311e75d34e49', 'message': '[Yoga] Release placement\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 7.0.0..4d3df47e\n4d3df47e Drop lower-constraints.txt and its testing\n71200f6b Update TOX_CONSTRAINTS_FILE for stable/yoga\na5314f8d Update .gitreview for stable/yoga\n\nChange-Id: If6fd57f0e1d4defb30e83c997a39d9df0dfa9b97\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889544,1d547e23d85d1764969e506945c2311e75d34e49,3,4,1,28522,,,0,"[Yoga] Release placement

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 7.0.0..4d3df47e
4d3df47e Drop lower-constraints.txt and its testing
71200f6b Update TOX_CONSTRAINTS_FILE for stable/yoga
a5314f8d Update .gitreview for stable/yoga

Change-Id: If6fd57f0e1d4defb30e83c997a39d9df0dfa9b97
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/889544/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/placement.yaml'],1,1d547e23d85d1764969e506945c2311e75d34e49,yoga-convenience-before-em, - version: 7.0.1 projects: - repo: openstack/placement hash: 4d3df47ee3e394e3178d58c15306620809ad2806,,4,0
openstack%2Fnova~master~I880523935d73ca94c83e618f10c2e587362c53be,openstack/nova,master,I880523935d73ca94c83e618f10c2e587362c53be,Use SDK for deprecated baremetal proxy API,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:30:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c38558d2355bbedf20aa1f76bce537dae0673a7', 'message': 'Use SDK for deprecated baremetal proxy API\n\nWe had indicated that we would never switch this over to SDK, however,\nthis is the sole remaining user of ironicclient which means users would\ncontinue needing to install that just for this little API. Better to\nswitch this holdout over and finally delete all the things.\n\nChange-Id: I880523935d73ca94c83e618f10c2e587362c53be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b535813b48e308a2b04208f7394d90cb82876722', 'message': 'Use SDK for deprecated baremetal proxy API\n\nWe had indicated that we would never switch this over to SDK, however,\nthis is the sole remaining user of ironicclient which means users would\ncontinue needing to install that just for this little API. Better to\nswitch this holdout over and finally delete all the things.\n\nChange-Id: I880523935d73ca94c83e618f10c2e587362c53be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6beb7f15af58e75c309ee5cdeeb53d59653e0ed7', 'message': 'Use SDK for deprecated baremetal proxy API\n\nWe had indicated that we would never switch this over to SDK, however,\nthis is the sole remaining user of ironicclient which means users would\ncontinue needing to install that just for this little API. Better to\nswitch this holdout over and finally delete all the things.\n\nChange-Id: I880523935d73ca94c83e618f10c2e587362c53be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/policies/test_baremetal_nodes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c1fc35a099d9006b355dd48f2f4a203395e5d72', 'message': 'Use SDK for deprecated baremetal proxy API\n\nWe had indicated that we would never switch this over to SDK, however,\nthis is the sole remaining user of ironicclient which means users would\ncontinue needing to install that just for this little API. Better to\nswitch this holdout over and finally delete all the things.\n\nChange-Id: I880523935d73ca94c83e618f10c2e587362c53be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,867796,9c1fc35a099d9006b355dd48f2f4a203395e5d72,12,1,4,15334,,,0,"Use SDK for deprecated baremetal proxy API

We had indicated that we would never switch this over to SDK, however,
this is the sole remaining user of ironicclient which means users would
continue needing to install that just for this little API. Better to
switch this holdout over and finally delete all the things.

Change-Id: I880523935d73ca94c83e618f10c2e587362c53be
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/867796/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/tests/unit/policies/test_baremetal_nodes.py']",3,6c38558d2355bbedf20aa1f76bce537dae0673a7,bp/openstacksdk-in-nova,"import fixtures super().setUp() # stub out openstacksdk self.mock_conn = self.useFixture( fixtures.MockPatchObject(self.controller, '_ironic_connection'), ).mock self.legacy_admin_context, self.system_admin_context, self.project_admin_context, ] self.mock_conn.nodes.return_value = iter([]) def test_show_node_policy(self): self.mock_conn.get_node.return_value = node self.mock_conn.ports.return_value = iter([])","from unittest import mock FAKE_IRONIC_CLIENT = ironic_utils.FakeClient() super(BaremetalNodesPolicyTest, self).setUp() self.stub_out('nova.api.openstack.compute.' 'baremetal_nodes._get_ironic_client', lambda *_: FAKE_IRONIC_CLIENT) self.legacy_admin_context, self.system_admin_context, self.project_admin_context] @mock.patch.object(FAKE_IRONIC_CLIENT.node, 'list_ports') @mock.patch.object(FAKE_IRONIC_CLIENT.node, 'get') def test_show_node_policy(self, mock_get, mock_port): mock_get.return_value = node mock_port.return_value = []",137,187
openstack%2Foctavia-dashboard~stable%2Ftrain~Ib143216bcd14764928769d7935231095978dc8ec,openstack/octavia-dashboard,stable/train,Ib143216bcd14764928769d7935231095978dc8ec,Fix nodejs jobs for train,MERGED,2023-07-25 17:28:33.000000000,2023-07-26 15:30:17.000000000,2023-07-26 15:28:59.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-25 17:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/0ba77395e38b03b8862ad62d877ab5e045b4ebd6', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 2, 'created': '2023-07-25 17:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/aa4cfb44a4e2535a5693079b722db7103065af54', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 3, 'created': '2023-07-25 18:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/8dde8f39fcacddcc6c7ffe87d9cbf55d7cef6785', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 4, 'created': '2023-07-26 06:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/dfcc775160603202e932c3346679a23b0bcda05f', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 5, 'created': '2023-07-26 07:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/41cadf080aaecaeca4d23de592a4dc047c529334', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 6, 'created': '2023-07-26 13:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/0ae7637d7f56fbb4fbfaf8ccaf770bfa7b8dcbf7', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 7, 'created': '2023-07-26 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1c37c1e5fc5d25d94d424a5a612bf34ae5131c8e', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 8, 'created': '2023-07-26 14:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/898254e890a0b1c1bbb7ad014a5e389139a5e7ef', 'message': 'DNMWIP Testing train gate\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}, {'number': 9, 'created': '2023-07-26 14:35:37.000000000', 'files': ['octavia_dashboard/karma.conf.js', 'octavia_dashboard/post_install.sh'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/02d4785cb1fa38bd0ef46efd444823a8d89281f1', 'message': 'Fix nodejs jobs for train\n\nIt appears that py27 no longer works there, switch to py36 which is also\na supported runtime for train.\n\nChange-Id: Ib143216bcd14764928769d7935231095978dc8ec\n'}]",1,889645,02d4785cb1fa38bd0ef46efd444823a8d89281f1,24,3,9,29244,,,0,"Fix nodejs jobs for train

It appears that py27 no longer works there, switch to py36 which is also
a supported runtime for train.

Change-Id: Ib143216bcd14764928769d7935231095978dc8ec
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/45/889645/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ba77395e38b03b8862ad62d877ab5e045b4ebd6,,basepython = python3,,1,0
openstack%2Freleases~master~I988f60ebef9c893c0ae31f3e1786163054434b7a,openstack/releases,master,I988f60ebef9c893c0ae31f3e1786163054434b7a,[Yoga] Release octavia,ABANDONED,2023-07-25 15:37:58.000000000,2023-07-26 15:29:33.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-25 15:37:58.000000000', 'files': ['deliverables/yoga/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/286c00200a0845fa8370449854c6f1e737659c60', 'message': '[Yoga] Release octavia\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 10.1.0..5bf40c89\n5bf40c89 Drop lower-constraints.txt and its testing\n\nChange-Id: I988f60ebef9c893c0ae31f3e1786163054434b7a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889522,286c00200a0845fa8370449854c6f1e737659c60,3,4,1,28522,,,0,"[Yoga] Release octavia

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 10.1.0..5bf40c89
5bf40c89 Drop lower-constraints.txt and its testing

Change-Id: I988f60ebef9c893c0ae31f3e1786163054434b7a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/889522/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/octavia.yaml'],1,286c00200a0845fa8370449854c6f1e737659c60,yoga-convenience-before-em, - version: 10.1.1 projects: - repo: openstack/octavia hash: 5bf40c896a678cc11f4ab6aecdd8cc004fc809d9,,4,0
openstack%2Fnova~master~Ie9b975a5200b9465e4408995df33927182cfe56b,openstack/nova,master,Ie9b975a5200b9465e4408995df33927182cfe56b,Use SDK for node.set_power_state,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:29:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5cdae3180f98d34febc01c406f4c56b17622e16', 'message': ""Use SDK for node.set_power_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_power_state' calls across. There are\na few of these but they're nothing complicated.\n\nNote that SDK does not expose a 'soft' flag on the\n'set_node_power_state' method. Instead, it simply expects the real power\nstate strings rather than a combination of strings with the flag like\nironicclient [1]\n\nNote that there's actually a small feature regression here in that\nopenstacksdk doesn't support server-side timeouts yet [2]. We pass\nthrough the option and will get this for free once SDK gains this\nfunctionality. Until then, we can rely on client-side timeouts.\n\n[1] https://github.com/openstack/python-ironicclient/blob/5.0.1/ironicclient/v1/node.py#L27-L33\n[2] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L638-L639\n\nChange-Id: Ie9b975a5200b9465e4408995df33927182cfe56b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/564a40c33d2a6f2a83cebce2155617077fee8519', 'message': ""Use SDK for node.set_power_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_power_state' calls across. There are\na few of these but they're nothing complicated.\n\nNote that SDK does not expose a 'soft' flag on the\n'set_node_power_state' method. Instead, it simply expects the real power\nstate strings rather than a combination of strings with the flag like\nironicclient [1]\n\nNote that there's actually a small feature regression here in that\nopenstacksdk doesn't support server-side timeouts yet [2]. We pass\nthrough the option and will get this for free once SDK gains this\nfunctionality. Until then, we can rely on client-side timeouts.\n\n[1] https://github.com/openstack/python-ironicclient/blob/5.0.1/ironicclient/v1/node.py#L27-L33\n[2] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L638-L639\n\nChange-Id: Ie9b975a5200b9465e4408995df33927182cfe56b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d16515b8da929af1bc13dddca6d88c59a39c730', 'message': ""Use SDK for node.set_power_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_power_state' calls across. There are\na few of these but they're nothing complicated.\n\nNote that SDK does not expose a 'soft' flag on the\n'set_node_power_state' method. Instead, it simply expects the real power\nstate strings rather than a combination of strings with the flag like\nironicclient [1]\n\nNote that there's actually a small feature regression here in that\nopenstacksdk doesn't support server-side timeouts yet [2]. We pass\nthrough the option and will get this for free once SDK gains this\nfunctionality. Until then, we can rely on client-side timeouts.\n\n[1] https://github.com/openstack/python-ironicclient/blob/5.0.1/ironicclient/v1/node.py#L27-L33\n[2] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L638-L639\n\nChange-Id: Ie9b975a5200b9465e4408995df33927182cfe56b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/47895437eda13cfd18e57718799717ba20cd2436', 'message': ""Use SDK for node.set_power_state\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate all 'set_power_state' calls across. There are\na few of these but they're nothing complicated.\n\nNote that SDK does not expose a 'soft' flag on the\n'set_node_power_state' method. Instead, it simply expects the real power\nstate strings rather than a combination of strings with the flag like\nironicclient [1]\n\nNote that there's actually a small feature regression here in that\nopenstacksdk doesn't support server-side timeouts yet [2]. We pass\nthrough the option and will get this for free once SDK gains this\nfunctionality. Until then, we can rely on client-side timeouts.\n\n[1] https://github.com/openstack/python-ironicclient/blob/5.0.1/ironicclient/v1/node.py#L27-L33\n[2] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L638-L639\n\nChange-Id: Ie9b975a5200b9465e4408995df33927182cfe56b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,867792,47895437eda13cfd18e57718799717ba20cd2436,14,1,4,15334,,,0,"Use SDK for node.set_power_state

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

In this change, we migrate all 'set_power_state' calls across. There are
a few of these but they're nothing complicated.

Note that SDK does not expose a 'soft' flag on the
'set_node_power_state' method. Instead, it simply expects the real power
state strings rather than a combination of strings with the flag like
ironicclient [1]

Note that there's actually a small feature regression here in that
openstacksdk doesn't support server-side timeouts yet [2]. We pass
through the option and will get this for free once SDK gains this
functionality. Until then, we can rely on client-side timeouts.

[1] https://github.com/openstack/python-ironicclient/blob/5.0.1/ironicclient/v1/node.py#L27-L33
[2] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L638-L639

Change-Id: Ie9b975a5200b9465e4408995df33927182cfe56b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/867792/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,a5cdae3180f98d34febc01c406f4c56b17622e16,bp/openstacksdk-in-nova," def test_reboot(self, fake_validate, mock_looping): self.mock_conn.set_node_power_state.assert_called_once_with( node.uuid, 'reboot', ) def test_reboot_soft(self, fake_validate, mock_looping): self.mock_conn.set_node_power_state.assert_called_once_with( node.uuid, 'soft reboot', ) def test_reboot_soft_not_supported(self, fake_validate, mock_looping): self.mock_conn.set_node_power_state.side_effect = [ sdk_exc.BadRequestException(), None ] self.mock_conn.set_node_power_state.assert_has_calls( [ mock.call(node.uuid, 'soft reboot'), mock.call(node.uuid, 'reboot'), ] ) def test_power_on(self, fake_validate, mock_looping): instance = fake_instance.fake_instance_obj( self.ctx, node=self.instance_uuid, ) self.driver.power_on( self.ctx, instance, utils.get_test_network_info(), ) self.mock_conn.set_node_power_state.assert_called_once_with( node.uuid, 'power on', ) def test_power_off(self, fake_validate): self.mock_conn.set_node_power_state.assert_called_once_with( node.uuid, 'power off', ) def test_power_off_soft(self, fake_validate): self.mock_conn.set_node_power_state.assert_called_once_with( node.uuid, 'soft power off', timeout=30, ) def test_power_off_soft_exception(self, fake_validate): self.mock_conn.set_node_power_state.side_effect = [ sdk_exc.BadRequestException(), None, ] expected_calls = [ mock.call(node.uuid, 'soft power off', timeout=30), mock.call(node.uuid, 'power off'), ] self.assertEqual( len(expected_calls), self.mock_conn.set_node_power_state.call_count, ) self.mock_conn.set_node_power_state.assert_has_calls(expected_calls) def test_power_off_soft_not_stopped(self, fake_validate): expected_calls = [ mock.call(node.uuid, 'soft power off', timeout=30), mock.call(node.uuid, 'power off'), ] self.assertEqual( len(expected_calls), self.mock_conn.set_node_power_state.call_count, ) self.mock_conn.set_node_power_state.assert_has_calls(expected_calls)"," @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_reboot(self, mock_sp, fake_validate, mock_looping): mock_sp.assert_called_once_with(node.uuid, 'reboot') @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_reboot_soft(self, mock_sp, fake_validate, mock_looping): mock_sp.assert_called_once_with(node.uuid, 'reboot', soft=True) @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_reboot_soft_not_supported(self, mock_sp, fake_validate, mock_looping): mock_sp.side_effect = [ironic_exception.BadRequest(), None] mock_sp.assert_has_calls([mock.call(node.uuid, 'reboot', soft=True), mock.call(node.uuid, 'reboot')]) @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_on(self, mock_sp, fake_validate, mock_looping): instance = fake_instance.fake_instance_obj(self.ctx, node=self.instance_uuid) self.driver.power_on(self.ctx, instance, utils.get_test_network_info()) mock_sp.assert_called_once_with(node.uuid, 'on') @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_off(self, mock_sp, fake_validate): mock_sp.assert_called_once_with(node.uuid, 'off') @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_off_soft(self, mock_sp, fake_validate): mock_sp.assert_called_once_with(node.uuid, 'off', soft=True, timeout=30) @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_off_soft_exception(self, mock_sp, fake_validate): mock_sp.side_effect = [ironic_exception.BadRequest(), None] expected_calls = [mock.call(node.uuid, 'off', soft=True, timeout=30), mock.call(node.uuid, 'off')] self.assertEqual(len(expected_calls), mock_sp.call_count) mock_sp.assert_has_calls(expected_calls) @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_off_soft_not_stopped(self, mock_sp, fake_validate): expected_calls = [mock.call(node.uuid, 'off', soft=True, timeout=30), mock.call(node.uuid, 'off')] self.assertEqual(len(expected_calls), mock_sp.call_count) mock_sp.assert_has_calls(expected_calls)",85,49
openstack%2Freleases~master~Ia5de4bbc66b293e0e59df011c98f2abdbf44ee75,openstack/releases,master,Ia5de4bbc66b293e0e59df011c98f2abdbf44ee75,[Yoga] Release octavia-lib,ABANDONED,2023-07-25 15:36:37.000000000,2023-07-26 15:28:37.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-25 15:36:37.000000000', 'files': ['deliverables/yoga/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09c7ca2d6a3de2ea30ebcdfb56045079f3ad333f', 'message': '[Yoga] Release octavia-lib\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.0..f8f2c68\nf8f2c68 Fix new pylint warnings\n335a1d3 Update TOX_CONSTRAINTS_FILE for stable/yoga\n6b14d1d Update .gitreview for stable/yoga\n\nChange-Id: Ia5de4bbc66b293e0e59df011c98f2abdbf44ee75\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889520,09c7ca2d6a3de2ea30ebcdfb56045079f3ad333f,3,4,1,28522,,,0,"[Yoga] Release octavia-lib

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.0..f8f2c68
f8f2c68 Fix new pylint warnings
335a1d3 Update TOX_CONSTRAINTS_FILE for stable/yoga
6b14d1d Update .gitreview for stable/yoga

Change-Id: Ia5de4bbc66b293e0e59df011c98f2abdbf44ee75
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/889520/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/octavia-lib.yaml'],1,09c7ca2d6a3de2ea30ebcdfb56045079f3ad333f,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/octavia-lib hash: f8f2c68440468d3418ab243275b565c7d702773c,,4,0
openstack%2Freleases~master~I2a0b6f28543b97b6c0b6edf9941ff4bd4e88cc52,openstack/releases,master,I2a0b6f28543b97b6c0b6edf9941ff4bd4e88cc52,[Yoga] Release python-aodhclient,ABANDONED,2023-07-25 16:12:38.000000000,2023-07-26 15:28:01.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:12:38.000000000', 'files': ['deliverables/yoga/python-aodhclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f9e4a715857e7df7e045087ff0b051bc0d2be8a', 'message': '[Yoga] Release python-aodhclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.4.1..621b4ae\n621b4ae Change aggregation method to mean\n1151dab Update .gitreview for stable/yoga\n\nChange-Id: I2a0b6f28543b97b6c0b6edf9941ff4bd4e88cc52\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889581,0f9e4a715857e7df7e045087ff0b051bc0d2be8a,3,2,1,28522,,,0,"[Yoga] Release python-aodhclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.4.1..621b4ae
621b4ae Change aggregation method to mean
1151dab Update .gitreview for stable/yoga

Change-Id: I2a0b6f28543b97b6c0b6edf9941ff4bd4e88cc52
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/889581/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-aodhclient.yaml'],1,0f9e4a715857e7df7e045087ff0b051bc0d2be8a,yoga-convenience-before-em, - version: 2.4.2 projects: - repo: openstack/python-aodhclient hash: 621b4aef88edcb34712c2060a27a9f10431974d7,,4,0
openstack%2Fnova~master~Ibb5b168ee0944463b996e96f033bd3dfb498e304,openstack/nova,master,Ibb5b168ee0944463b996e96f033bd3dfb498e304,Use SDK for remaining ironic driver calls,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:27:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9f6ed6be36a39f4b84e54edf07c676a39a219ba', 'message': 'Use SDK for remaining ironic driver calls\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis concludes our migration of the driver and switches the remaining\nironic calls to use SDK.\n\nChange-Id: Ibb5b168ee0944463b996e96f033bd3dfb498e304\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/openstacksdk/+/866569\nDepends-on: https://review.opendev.org/c/openstack/openstacksdk/+/866570\n'}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a359cca7cc0594ee7362920286f09f23f9c38a1c', 'message': 'Use SDK for remaining ironic driver calls\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis concludes our migration of the driver and switches the remaining\nironic calls to use SDK.\n\nChange-Id: Ibb5b168ee0944463b996e96f033bd3dfb498e304\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/openstacksdk/+/866569\nDepends-on: https://review.opendev.org/c/openstack/openstacksdk/+/866570\n'}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ff46bded4b5ad7aedbdf467ac7f66a12a314ccb', 'message': 'Use SDK for remaining ironic driver calls\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis concludes our migration of the driver and switches the remaining\nironic calls to use SDK.\n\nChange-Id: Ibb5b168ee0944463b996e96f033bd3dfb498e304\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/openstacksdk/+/866569\nDepends-on: https://review.opendev.org/c/openstack/openstacksdk/+/866570\n'}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb9e9fc7772f8739931f9ceadbd3e69a1e36b1a', 'message': 'Use SDK for remaining ironic driver calls\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nThis concludes our migration of the driver and switches the remaining\nironic calls to use SDK.\n\nChange-Id: Ibb5b168ee0944463b996e96f033bd3dfb498e304\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,867795,1cb9e9fc7772f8739931f9ceadbd3e69a1e36b1a,14,1,4,15334,,,0,"Use SDK for remaining ironic driver calls

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

This concludes our migration of the driver and switches the remaining
ironic calls to use SDK.

Change-Id: Ibb5b168ee0944463b996e96f033bd3dfb498e304
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/867795/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py']",3,c9f6ed6be36a39f4b84e54edf07c676a39a219ba,bp/openstacksdk-in-nova,"from openstack.baremetal.v1 import node as _node result = { 'power': _node.ValidationResult(result=True, reason=None), 'deploy': _node.ValidationResult(result=True, reason=None), 'console': _node.ValidationResult(result=True, reason=None), 'rescue': _node.ValidationResult(result=True, reason=None), 'storage': _node.ValidationResult(result=True, reason=None), } result.update(kw) return result"," return type('interfaces', (object,), {'power': kw.get('power', {'result': True}), 'deploy': kw.get('deploy', {'result': True}), 'console': kw.get('console', True), 'rescue': kw.get('rescue', True), 'storage': kw.get('storage', {'result': True})})()",194,202
openstack%2Freleases~master~Ia68963e9d0ab237c50e6a83dabf7dccfa3060c12,openstack/releases,master,Ia68963e9d0ab237c50e6a83dabf7dccfa3060c12,[Yoga] Release python-barbicanclient,ABANDONED,2023-07-25 16:13:19.000000000,2023-07-26 15:25:09.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:13:19.000000000', 'files': ['deliverables/yoga/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eb0cbbce329d344f6c64adcd6385035152ac97c4', 'message': '[Yoga] Release python-barbicanclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-em..0f87087\n0f87087 Fix unit test failue with cliff>=3.5.0\ncace6de Use yoga python3 tests\ne12c4fa Update TOX_CONSTRAINTS_FILE for stable/yoga\nb37d3de Drop lower-constraints.txt and its testing\n\nChange-Id: Ia68963e9d0ab237c50e6a83dabf7dccfa3060c12\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889582,eb0cbbce329d344f6c64adcd6385035152ac97c4,3,4,1,28522,,,0,"[Yoga] Release python-barbicanclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-em..0f87087
0f87087 Fix unit test failue with cliff>=3.5.0
cace6de Use yoga python3 tests
e12c4fa Update TOX_CONSTRAINTS_FILE for stable/yoga
b37d3de Drop lower-constraints.txt and its testing

Change-Id: Ia68963e9d0ab237c50e6a83dabf7dccfa3060c12
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/889582/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-barbicanclient.yaml'],1,eb0cbbce329d344f6c64adcd6385035152ac97c4,yoga-convenience-before-em, - version: 5.3.1 projects: - repo: openstack/python-barbicanclient hash: 0f87087b6fd4b166587aa174e282839438f10bf1,,4,0
openstack%2Freleases~master~I818ba28e0b7efcbae9e40a23ebf4362835ee6d72,openstack/releases,master,I818ba28e0b7efcbae9e40a23ebf4362835ee6d72,[Yoga] Release storlets,ABANDONED,2023-07-25 16:29:49.000000000,2023-07-26 15:23:58.000000000,,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:29:49.000000000', 'files': ['deliverables/yoga/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0cea98afb2d80a4c79851e2381f054fb1c3804da', 'message': '[Yoga] Release storlets\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 9.0.0..9c91632\n9c91632 Stable-only: Pin tox to < 3.x\n94130c7 Use https instead of git for `git clone`\n420e68e Update TOX_CONSTRAINTS_FILE for stable/yoga\n7fee819 Update .gitreview for stable/yoga\n\nChange-Id: I818ba28e0b7efcbae9e40a23ebf4362835ee6d72\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889620,0cea98afb2d80a4c79851e2381f054fb1c3804da,3,3,1,28522,,,0,"[Yoga] Release storlets

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 9.0.0..9c91632
9c91632 Stable-only: Pin tox to < 3.x
94130c7 Use https instead of git for `git clone`
420e68e Update TOX_CONSTRAINTS_FILE for stable/yoga
7fee819 Update .gitreview for stable/yoga

Change-Id: I818ba28e0b7efcbae9e40a23ebf4362835ee6d72
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/889620/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/storlets.yaml'],1,0cea98afb2d80a4c79851e2381f054fb1c3804da,yoga-convenience-before-em, - version: 9.1.0 projects: - repo: openstack/storlets hash: 9c91632cadfefa8a3bb69b7bca1dc06e029f853f,,4,0
openstack%2Fnova~master~Ieda5636a5e80ea4af25db2e90be241869759e30c,openstack/nova,master,Ieda5636a5e80ea4af25db2e90be241869759e30c,Use SDK for node.vif*,NEW,2022-12-15 12:50:57.000000000,2023-07-26 15:22:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc07b3643c64c6dadd1ccfd4b507c9a8078ec036', 'message': ""Use SDK for node.vif*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the calls to 'vif_attach' and 'vif_detach'\nacross.\n\nNote that a workaround is removed since the referenced change merged\nover 4 years ago (in Queens) and openstacksdk is doing the correct thing\nwrt retrying [1].\n\n[1] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L682-L688\n\nChange-Id: Ieda5636a5e80ea4af25db2e90be241869759e30c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-12-20 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bfcf6ce3e28c9c63e296b878b6a32ef9ae0f06f', 'message': ""Use SDK for node.vif*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the calls to 'vif_attach' and 'vif_detach'\nacross.\n\nNote that a workaround is removed since the referenced change merged\nover 4 years ago (in Queens) and openstacksdk is doing the correct thing\nwrt retrying [1].\n\n[1] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L682-L688\n\nChange-Id: Ieda5636a5e80ea4af25db2e90be241869759e30c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-12-21 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd23defa3ba8071c11dc35f75eddc9b17441a504', 'message': ""Use SDK for node.vif*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the calls to 'vif_attach' and 'vif_detach'\nacross.\n\nNote that a workaround is removed since the referenced change merged\nover 4 years ago (in Queens) and openstacksdk is doing the correct thing\nwrt retrying [1].\n\n[1] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L682-L688\n\nChange-Id: Ieda5636a5e80ea4af25db2e90be241869759e30c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2023-07-26 12:41:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92d62411a54c3fe921f67752b52031ce59b5d932', 'message': ""Use SDK for node.vif*\n\nWe would like nova not to use ironicclient, but instead to invoke the\nironic API directly through an openstacksdk connection.\n\nIn this change, we migrate the calls to 'vif_attach' and 'vif_detach'\nacross.\n\nNote that a workaround is removed since the referenced change merged\nover 4 years ago (in Queens) and openstacksdk is doing the correct thing\nwrt retrying [1].\n\n[1] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L682-L688\n\nChange-Id: Ieda5636a5e80ea4af25db2e90be241869759e30c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,867793,92d62411a54c3fe921f67752b52031ce59b5d932,14,1,4,15334,,,0,"Use SDK for node.vif*

We would like nova not to use ironicclient, but instead to invoke the
ironic API directly through an openstacksdk connection.

In this change, we migrate the calls to 'vif_attach' and 'vif_detach'
across.

Note that a workaround is removed since the referenced change merged
over 4 years ago (in Queens) and openstacksdk is doing the correct thing
wrt retrying [1].

[1] https://github.com/openstack/openstacksdk/blob/0.103.0/openstack/baremetal/v1/node.py#L682-L688

Change-Id: Ieda5636a5e80ea4af25db2e90be241869759e30c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/867793/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,cc07b3643c64c6dadd1ccfd4b507c9a8078ec036,bp/openstacksdk-in-nova," def test_plug_vifs_with_port(self): self.mock_conn.attach_vif_to_node( node.uuid, vif_id, retry_on_conflict=False, ) def test_plug_vifs_multiple_ports(self): calls = ( mock.call(node.uuid, first_vif_id, retry_on_conflict=False), mock.call(node.uuid, second_vif_id, retry_on_conflict=False), ) self.mock_conn.attach_vif_to_node.assert_has_calls( calls, any_order=True, ) def test_plug_vifs_failure(self): self.mock_conn.attach_vif_to_node.side_effect = [ None, sdk_exc.BadRequestException(), ] self.assertRaises( exception.VirtualInterfacePlugException, self.driver._plug_vifs, node, instance, network_info, ) def test_plug_vifs_already_attached(self): self.mock_conn.attach_vif_to_node.side_effect = [ sdk_exc.ConflictException(), None, ] self.assertEqual(2, self.mock_conn.attach_vif_to_node.call_count) def test_plug_vifs_no_network_info(self): self.mock_conn.attach_vif_to_node.assert_not_called() def test_unplug_vifs(self): self.mock_conn.detach_vif_from_node(node.id, vif_id) def test_unplug_vifs_port_not_associated(self): self.assertEqual( len(network_info), self.mock_conn.detach_vif_from_node.call_count, ) def test_unplug_vifs_no_network_info(self): self.mock_conn.detach_vif_from_node.assert_not_called()"," @mock.patch.object(FAKE_CLIENT.node, 'vif_attach') def test_plug_vifs_with_port(self, mock_vatt): mock_vatt.assert_called_with(node.uuid, vif_id) @mock.patch.object(FAKE_CLIENT.node, 'vif_attach') def test_plug_vifs_multiple_ports(self, mock_vatt): calls = (mock.call(node.uuid, first_vif_id), mock.call(node.uuid, second_vif_id)) mock_vatt.assert_has_calls(calls, any_order=True) @mock.patch.object(FAKE_CLIENT, 'node') def test_plug_vifs_failure(self, mock_node): mock_node.vif_attach.side_effect = [None, ironic_exception.BadRequest()] self.assertRaises(exception.VirtualInterfacePlugException, self.driver._plug_vifs, node, instance, network_info) @mock.patch('time.sleep') @mock.patch.object(FAKE_CLIENT, 'node') def test_plug_vifs_failure_no_conductor(self, mock_node, mock_sleep): msg = 'No conductor service registered which supports driver ipmi.' mock_node.vif_attach.side_effect = [None, ironic_exception.BadRequest(msg), None] calls = [mock.call(node.uuid, first_vif_id), mock.call(node.uuid, second_vif_id), mock.call(node.uuid, second_vif_id)] mock_node.vif_attach.assert_has_calls(calls, any_order=True) @mock.patch.object(FAKE_CLIENT, 'node') def test_plug_vifs_already_attached(self, mock_node): node_uuid = 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee' node = _get_cached_node(uuid=node_uuid) instance = fake_instance.fake_instance_obj(self.ctx, node=node_uuid) first_vif_id = 'aaaaaaaa-vv11-cccc-dddd-eeeeeeeeeeee' second_vif_id = 'aaaaaaaa-vv22-cccc-dddd-eeeeeeeeeeee' first_vif = ironic_utils.get_test_vif(address='22:FF:FF:FF:FF:FF', id=first_vif_id) second_vif = ironic_utils.get_test_vif(address='11:FF:FF:FF:FF:FF', id=second_vif_id) mock_node.vif_attach.side_effect = [ironic_exception.Conflict(), None] network_info = [first_vif, second_vif] self.driver._plug_vifs(node, instance, network_info) self.assertEqual(2, mock_node.vif_attach.call_count) @mock.patch.object(FAKE_CLIENT.node, 'vif_attach') def test_plug_vifs_no_network_info(self, mock_vatt): self.assertFalse(mock_vatt.called) @mock.patch.object(FAKE_CLIENT, 'node') def test_unplug_vifs(self, mock_node): mock_node.vif_detach.assert_called_once_with(node.id, vif_id) @mock.patch.object(FAKE_CLIENT, 'node') def test_unplug_vifs_port_not_associated(self, mock_node): self.assertEqual(len(network_info), mock_node.vif_detach.call_count) @mock.patch.object(FAKE_CLIENT.node, 'vif_detach') def test_unplug_vifs_no_network_info(self, mock_vdet): self.assertFalse(mock_vdet.called)",48,78
openstack%2Freleases~master~I6b10cf7fa4dad59d9550bdabe9372abaebedc084,openstack/releases,master,I6b10cf7fa4dad59d9550bdabe9372abaebedc084,[Yoga] Release senlin,ABANDONED,2023-07-25 16:28:29.000000000,2023-07-26 15:18:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2023-07-25 16:28:29.000000000', 'files': ['deliverables/yoga/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/861abde12c04658eb96f0b7ebc395b00eb091ae7', 'message': '[Yoga] Release senlin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 13.0.0..6129dcf2\n6129dcf2 Fix zuul CI\n804056e8 Update TOX_CONSTRAINTS_FILE for stable/yoga\n5fc59d52 Update .gitreview for stable/yoga\n\nChange-Id: I6b10cf7fa4dad59d9550bdabe9372abaebedc084\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889617,861abde12c04658eb96f0b7ebc395b00eb091ae7,3,2,1,28522,,,0,"[Yoga] Release senlin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 13.0.0..6129dcf2
6129dcf2 Fix zuul CI
804056e8 Update TOX_CONSTRAINTS_FILE for stable/yoga
5fc59d52 Update .gitreview for stable/yoga

Change-Id: I6b10cf7fa4dad59d9550bdabe9372abaebedc084
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/889617/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/senlin.yaml'],1,861abde12c04658eb96f0b7ebc395b00eb091ae7,yoga-convenience-before-em, - version: 13.0.1 projects: - repo: openstack/senlin hash: 6129dcf21eaab752fc8c236a1548867940d89413,,4,0
openstack%2Freleases~master~I91c1a973438f983d18adfa032d0288e82a8d59cf,openstack/releases,master,I91c1a973438f983d18adfa032d0288e82a8d59cf,[Yoga] Release heat-translator,ABANDONED,2023-07-25 14:41:46.000000000,2023-07-26 15:10:01.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2023-07-25 14:41:46.000000000', 'files': ['deliverables/yoga/heat-translator.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e4da7e4dcdb99792e2e8ba45608e52c961be9b17', 'message': '[Yoga] Release heat-translator\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-em..ddb9cc9\nf3fe650 Update .gitreview for stable/yoga\nc95079b Update TOX_CONSTRAINTS_FILE for stable/yoga\n10b3a8e Fix unittest for auto scaling\n\nChange-Id: I91c1a973438f983d18adfa032d0288e82a8d59cf\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889455,e4da7e4dcdb99792e2e8ba45608e52c961be9b17,6,3,1,28522,,,0,"[Yoga] Release heat-translator

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-em..ddb9cc9
f3fe650 Update .gitreview for stable/yoga
c95079b Update TOX_CONSTRAINTS_FILE for stable/yoga
10b3a8e Fix unittest for auto scaling

Change-Id: I91c1a973438f983d18adfa032d0288e82a8d59cf
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/889455/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/heat-translator.yaml'],1,e4da7e4dcdb99792e2e8ba45608e52c961be9b17,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/heat-translator hash: ddb9cc951078dcf3538935b5965add83eb533c20,,4,0
openstack%2Freleases~master~I9db5c479034693bc9959f0fa38f439e0aa33ce7f,openstack/releases,master,I9db5c479034693bc9959f0fa38f439e0aa33ce7f,[Yoga] Release networking-bagpipe,ABANDONED,2023-07-25 15:18:40.000000000,2023-07-26 14:52:56.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7bf729ede3479855a39387bfc841dfe49c955d6f', 'message': '[Yoga] Release networking-bagpipe\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 16.0.0..d9bd4c6\nd9bd4c6 Add required projects where necessary\ncc60a32 Update TOX_CONSTRAINTS_FILE for stable/yoga\n9bea7e2 Update .gitreview for stable/yoga\n\nChange-Id: I9db5c479034693bc9959f0fa38f439e0aa33ce7f\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}, {'number': 2, 'created': '2023-07-26 08:25:47.000000000', 'files': ['deliverables/yoga/networking-bagpipe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/10cf4e68b3cb222a1d363f205444516e12a1c175', 'message': '[Yoga] Release networking-bagpipe\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 16.0.0..d9bd4c6\nd9bd4c6 Add required projects where necessary\ncc60a32 Update TOX_CONSTRAINTS_FILE for stable/yoga\n9bea7e2 Update .gitreview for stable/yoga\n\nChange-Id: I9db5c479034693bc9959f0fa38f439e0aa33ce7f\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889505,10cf4e68b3cb222a1d363f205444516e12a1c175,7,3,2,28522,,,0,"[Yoga] Release networking-bagpipe

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 16.0.0..d9bd4c6
d9bd4c6 Add required projects where necessary
cc60a32 Update TOX_CONSTRAINTS_FILE for stable/yoga
9bea7e2 Update .gitreview for stable/yoga

Change-Id: I9db5c479034693bc9959f0fa38f439e0aa33ce7f
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/889505/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/networking-bagpipe.yaml'],1,7bf729ede3479855a39387bfc841dfe49c955d6f,yoga-convenience-before-em, - version: 16.0.1 projects: - repo: openstack/networking-bagpipe hash: d9bd4c660ee10c8de39d4b83090aefb79933fc00release-notes: https://docs.openstack.org/releasenotes/networking-bagpipe/yoga.html,release-notes: https://docs.openstack.org/releasenotes/networking-bagpipe/yoga.html,6,1
openstack%2Freleases~master~I257efd97b649deea2c7a5392227d54f7189a3a99,openstack/releases,master,I257efd97b649deea2c7a5392227d54f7189a3a99,[Yoga] Release python-neutronclient,ABANDONED,2023-07-25 16:19:30.000000000,2023-07-26 14:51:23.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5ae867875280343cf13f1552328d19cffb5f8dbf', 'message': '[Yoga] Release python-neutronclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 7.8.0..ecb2724\necb2724 Update TOX_CONSTRAINTS_FILE for stable/yoga\nd057940 Update .gitreview for stable/yoga\nb080843 Skip B105 pep8 error: hardcoded passwords\n\nChange-Id: I257efd97b649deea2c7a5392227d54f7189a3a99\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}, {'number': 2, 'created': '2023-07-26 08:24:53.000000000', 'files': ['deliverables/yoga/python-neutronclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3a602976b1b4d5d6995fe02e6c52656cfa9e120e', 'message': '[Yoga] Release python-neutronclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 7.8.0..ecb2724\necb2724 Update TOX_CONSTRAINTS_FILE for stable/yoga\nd057940 Update .gitreview for stable/yoga\nb080843 Skip B105 pep8 error: hardcoded passwords\n\nChange-Id: I257efd97b649deea2c7a5392227d54f7189a3a99\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889599,3a602976b1b4d5d6995fe02e6c52656cfa9e120e,7,3,2,28522,,,0,"[Yoga] Release python-neutronclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 7.8.0..ecb2724
ecb2724 Update TOX_CONSTRAINTS_FILE for stable/yoga
d057940 Update .gitreview for stable/yoga
b080843 Skip B105 pep8 error: hardcoded passwords

Change-Id: I257efd97b649deea2c7a5392227d54f7189a3a99
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/889599/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-neutronclient.yaml'],1,5ae867875280343cf13f1552328d19cffb5f8dbf,yoga-convenience-before-em, - version: 7.8.1 projects: - repo: openstack/python-neutronclient hash: ecb2724e443dbd7c712dbf9ea7136d5f990fc8e8release-notes: https://docs.openstack.org/releasenotes/python-neutronclient/yoga.html,release-notes: https://docs.openstack.org/releasenotes/python-neutronclient/yoga.html,6,1
openstack%2Freleases~master~I0bfe7e3809db1fd74c6a53ab264de541fe92e835,openstack/releases,master,I0bfe7e3809db1fd74c6a53ab264de541fe92e835,[Yoga] Release kuryr,ABANDONED,2023-07-25 15:00:37.000000000,2023-07-26 14:47:26.000000000,,"[{'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:00:37.000000000', 'files': ['deliverables/yoga/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6953ab4c03771a7338958c6a558a76a290bf8df1', 'message': '[Yoga] Release kuryr\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.0..d8cb765\nd8cb765 Fix tox4 error\n96b0991 Update TOX_CONSTRAINTS_FILE for stable/yoga\n6d05181 Update .gitreview for stable/yoga\nefa8923 Fixing lower constraints\n\nChange-Id: I0bfe7e3809db1fd74c6a53ab264de541fe92e835\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889477,6953ab4c03771a7338958c6a558a76a290bf8df1,5,2,1,28522,,,0,"[Yoga] Release kuryr

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.0..d8cb765
d8cb765 Fix tox4 error
96b0991 Update TOX_CONSTRAINTS_FILE for stable/yoga
6d05181 Update .gitreview for stable/yoga
efa8923 Fixing lower constraints

Change-Id: I0bfe7e3809db1fd74c6a53ab264de541fe92e835
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/889477/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/kuryr.yaml'],1,6953ab4c03771a7338958c6a558a76a290bf8df1,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/kuryr hash: d8cb765e69ee26fcd6293a5871093fb2397d96de,,4,0
openstack%2Fnova~master~I23fd38465f7dec20b00dc25776dfde18318000b1,openstack/nova,master,I23fd38465f7dec20b00dc25776dfde18318000b1,db: Store unmasked password,MERGED,2023-04-17 16:07:07.000000000,2023-07-26 14:41:23.000000000,2023-07-26 14:40:04.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-17 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e06da2d10190a6ad2fdc7b724c1afecdda721ee3', 'message': ""tests: Remove test for DB special characters\n\nThese weren't just special characters: they were invalid URLs.\nSQLAlchemy 2.x appears to do more validation and no longer accepts\nthese. The tests are therefore not useful. Remove them.\n\nChange-Id: I23fd38465f7dec20b00dc25776dfde18318000b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-04-17 16:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e506d28e30c7ccda4f47ef0da4fe2d73fb068ab', 'message': ""tests: Remove test for DB special characters\n\nThese weren't just special characters: they were invalid URLs.\nSQLAlchemy 2.x appears to do more validation and no longer accepts\nthese. The tests are therefore not useful. Remove them.\n\nChange-Id: I23fd38465f7dec20b00dc25776dfde18318000b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2023-06-13 21:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1010c45e178950fa451945c7dbcdc88111ee6a07', 'message': ""tests: Update test for DB special characters\n\nSQLAlchemy now masks passwords when printing URLs, so we need to compare\nagainst the masked URL. As an aside, these tests are probably invalid:\nspecial characters should be URL encoded (e.g. '@' -> '%40'). We\nprobably need to enforce this at some point, but that's an oslo.db thing.\n\nThis is horribly hacky test. Don't hate me.\n\nChange-Id: I23fd38465f7dec20b00dc25776dfde18318000b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2023-06-13 22:44:56.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1568e483df05d0f2b8c5e63b2492d126f2a77b1', 'message': 'db: Store unmasked password\n\nCalling __str__ on a SQLAlchemy URL returns a URL with a masked password\nin SQLAlchemy 2.0. We want to store the unmasked version when creating\nnew Cell objects.\n\nChange-Id: I23fd38465f7dec20b00dc25776dfde18318000b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSuggested-by: Melanie Witt <melwittt@gmail.com>\n'}]",22,880669,a1568e483df05d0f2b8c5e63b2492d126f2a77b1,57,9,4,15334,,,0,"db: Store unmasked password

Calling __str__ on a SQLAlchemy URL returns a URL with a masked password
in SQLAlchemy 2.0. We want to store the unmasked version when creating
new Cell objects.

Change-Id: I23fd38465f7dec20b00dc25776dfde18318000b1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Suggested-by: Melanie Witt <melwittt@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/880669/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/cmd/test_manage.py'],1,e06da2d10190a6ad2fdc7b724c1afecdda721ee3,sqlalchemy-20,," @ddt.data('mysql+pymysql://nova:abcd0123:AB@controller/%s', 'mysql+pymysql://nova:abcd0123?AB@controller/%s', 'mysql+pymysql://nova:abcd0123@AB@controller/%s', 'mysql+pymysql://nova:abcd0123/AB@controller/%s', 'mysql+pymysql://test:abcd0123/AB@controller/%s?charset=utf8') def test_map_cell0_default_database_special_characters(self, connection): """"""Tests that a URL with special characters, like in the credentials, is handled properly. """""" decoded_connection = connection % 'nova' self.flags(connection=decoded_connection, group='database') ctxt = context.RequestContext() self.commands.map_cell0() cell_mapping = objects.CellMapping.get_by_uuid( ctxt, objects.CellMapping.CELL0_UUID) self.assertEqual('cell0', cell_mapping.name) self.assertEqual('none:///', cell_mapping.transport_url) self.assertEqual( connection % 'nova_cell0', cell_mapping.database_connection) # Delete the cell mapping for the next iteration. cell_mapping.destroy() ",0,24
openstack%2Freleases~master~I4d044c29f3026ac7d5dc5a3dbf7610f1f1d93c12,openstack/releases,master,I4d044c29f3026ac7d5dc5a3dbf7610f1f1d93c12,[Yoga] Release sahara,ABANDONED,2023-07-25 16:27:30.000000000,2023-07-26 14:40:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-07-25 16:27:30.000000000', 'files': ['deliverables/yoga/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/83ed5f1db84a336c7618dd46e798436cae9a3239', 'message': '[Yoga] Release sahara\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 16.0.0..4af54a06\n4af54a06 Drop tripleo centos-7 scen3 job definition - not used\n\nChange-Id: I4d044c29f3026ac7d5dc5a3dbf7610f1f1d93c12\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889615,83ed5f1db84a336c7618dd46e798436cae9a3239,5,2,1,28522,,,0,"[Yoga] Release sahara

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 16.0.0..4af54a06
4af54a06 Drop tripleo centos-7 scen3 job definition - not used

Change-Id: I4d044c29f3026ac7d5dc5a3dbf7610f1f1d93c12
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/889615/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/sahara.yaml'],1,83ed5f1db84a336c7618dd46e798436cae9a3239,yoga-convenience-before-em, - version: 16.0.1 projects: - repo: openstack/sahara hash: 4af54a062c3536ecce37e1386ee549fadbf3392d,,4,0
openstack%2Freleases~master~I3f4bb23ef0bf632eb9eb4712c92682d473003b85,openstack/releases,master,I3f4bb23ef0bf632eb9eb4712c92682d473003b85,[Yoga] Release sahara-image-elements,ABANDONED,2023-07-25 16:26:26.000000000,2023-07-26 14:39:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-07-25 16:26:26.000000000', 'files': ['deliverables/yoga/sahara-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb253829988a73c57ad397cdef7d7a79d7ee8bd9', 'message': '[Yoga] Release sahara-image-elements\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-em..16737f0\n847f9a4 Disable auto-discovery for setuptools\n107a94c Update .gitreview for stable/yoga\n\nChange-Id: I3f4bb23ef0bf632eb9eb4712c92682d473003b85\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889612,fb253829988a73c57ad397cdef7d7a79d7ee8bd9,5,2,1,28522,,,0,"[Yoga] Release sahara-image-elements

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-em..16737f0
847f9a4 Disable auto-discovery for setuptools
107a94c Update .gitreview for stable/yoga

Change-Id: I3f4bb23ef0bf632eb9eb4712c92682d473003b85
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/889612/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/sahara-image-elements.yaml'],1,fb253829988a73c57ad397cdef7d7a79d7ee8bd9,yoga-convenience-before-em, - version: 16.0.1 projects: - repo: openstack/sahara-image-elements hash: 16737f0579f89962381c337a37ff038526649742,,4,0
openstack%2Freleases~master~I2c26324dcda6f6b55fb18054e34ebb03b424ae5a,openstack/releases,master,I2c26324dcda6f6b55fb18054e34ebb03b424ae5a,[Yoga] Release sahara-dashboard,ABANDONED,2023-07-25 16:26:05.000000000,2023-07-26 14:30:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-07-25 16:26:05.000000000', 'files': ['deliverables/yoga/sahara-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c3aeed382485eee6da56e8d1feb39ae638bbde3', 'message': '[Yoga] Release sahara-dashboard\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 16.0.0..e37d8f9\ne37d8f9 Drop lower-constraints.txt and its testing\n2e00dc7 Update TOX_CONSTRAINTS_FILE for stable/yoga\n884c262 Update .gitreview for stable/yoga\n\nChange-Id: I2c26324dcda6f6b55fb18054e34ebb03b424ae5a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889611,8c3aeed382485eee6da56e8d1feb39ae638bbde3,5,2,1,28522,,,0,"[Yoga] Release sahara-dashboard

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 16.0.0..e37d8f9
e37d8f9 Drop lower-constraints.txt and its testing
2e00dc7 Update TOX_CONSTRAINTS_FILE for stable/yoga
884c262 Update .gitreview for stable/yoga

Change-Id: I2c26324dcda6f6b55fb18054e34ebb03b424ae5a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/889611/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/sahara-dashboard.yaml'],1,8c3aeed382485eee6da56e8d1feb39ae638bbde3,yoga-convenience-before-em, - version: 16.0.1 projects: - repo: openstack/sahara-dashboard hash: e37d8f91c28bc5d88d56013fa3897576c5c27ef4,,4,0
openstack%2Fironic-ui~master~I50a3a4c3a8a0713f38a7d143046ba944440fa0f1,openstack/ironic-ui,master,I50a3a4c3a8a0713f38a7d143046ba944440fa0f1,Django 4.x: ugettext_lazy is removed,MERGED,2022-06-30 09:10:50.000000000,2023-07-26 14:24:42.000000000,2023-07-26 14:23:36.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 31945}]","[{'number': 1, 'created': '2022-06-30 09:10:50.000000000', 'files': ['ironic_ui/content/ironic/panel.py'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/a91c34f3228a140485e3fe18ceca92effb8d455a', 'message': 'Django 4.x: ugettext_lazy is removed\n\nIn Django 4.x, ugettext_lazy is removed, and one must call the\nfunction gettext_lazy() instead, which was a alias in previous\nversions of Django.\n\nChange-Id: I50a3a4c3a8a0713f38a7d143046ba944440fa0f1\n'}]",1,848236,a91c34f3228a140485e3fe18ceca92effb8d455a,10,4,1,6476,,,0,"Django 4.x: ugettext_lazy is removed

In Django 4.x, ugettext_lazy is removed, and one must call the
function gettext_lazy() instead, which was a alias in previous
versions of Django.

Change-Id: I50a3a4c3a8a0713f38a7d143046ba944440fa0f1
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/36/848236/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_ui/content/ironic/panel.py'],1,a91c34f3228a140485e3fe18ceca92effb8d455a,,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,1,1
openstack%2Fxstatic-angular-fileupload~master~I4d9f874ac92d961e080e354b129822c5f564265c,openstack/xstatic-angular-fileupload,master,I4d9f874ac92d961e080e354b129822c5f564265c,Update .gitreview file,MERGED,2023-07-26 05:10:52.000000000,2023-07-26 14:23:17.000000000,2023-07-26 14:23:17.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 05:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-angular-fileupload/commit/f6448bb07e94953f234f7db00e92c4819bbea135', 'message': ""Update .gitreview file\n\nThis patch update ``.gitreview`` file because\nit still refers to xstatic-angular-fileupload\nunder the 'x' namespace but this repo is under\nOpenStack namespace.\n\nChange-Id: I4d9f874ac92d961e080e354b129822c5f564265c\n""}, {'number': 2, 'created': '2023-07-26 05:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-angular-fileupload/commit/eb15ab553aebe48a308bd750016412520c3b0bdf', 'message': ""Update .gitreview file\n\nThis patch update ``.gitreview`` file because\nit still refers to xstatic-angular-fileupload\nunder the 'x' namespace but this repo is under\nOpenStack namespace.\n\nChange-Id: I4d9f874ac92d961e080e354b129822c5f564265c\n""}, {'number': 3, 'created': '2023-07-26 08:29:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-fileupload/commit/2f480b411cf20d1d6383bcec7a124ab4cb65e06c', 'message': ""Update .gitreview file\n\nThis patch update ``.gitreview`` file because\nit still refers to xstatic-angular-fileupload\nunder the 'x' namespace but this repo is under\nOpenStack namespace.\n\nChange-Id: I4d9f874ac92d961e080e354b129822c5f564265c\n""}]",2,889673,2f480b411cf20d1d6383bcec7a124ab4cb65e06c,13,3,3,29313,,,0,"Update .gitreview file

This patch update ``.gitreview`` file because
it still refers to xstatic-angular-fileupload
under the 'x' namespace but this repo is under
OpenStack namespace.

Change-Id: I4d9f874ac92d961e080e354b129822c5f564265c
",git fetch https://review.opendev.org/openstack/xstatic-angular-fileupload refs/changes/73/889673/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f6448bb07e94953f234f7db00e92c4819bbea135,,project=openstack/xstatic-angular-fileupload.git,project=x/xstatic-angular-fileupload.git,1,1
openstack%2Freleases~master~I0c6b714ca0356f420a2c7816d83c02498ecdb70a,openstack/releases,master,I0c6b714ca0356f420a2c7816d83c02498ecdb70a,[Yoga] Release zaqar,ABANDONED,2023-07-25 16:38:25.000000000,2023-07-26 14:23:08.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:38:25.000000000', 'files': ['deliverables/yoga/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a186416b189e36b6ba8f55a287e8379db18be919', 'message': '[Yoga] Release zaqar\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 14.0.0..e3e814c6\ne3e814c6 Update .gitreview for stable/yoga\n6ea92894 Update deprecated zuul syntax\n80f54be0 Replace job template for Yoga cycle\n\nChange-Id: I0c6b714ca0356f420a2c7816d83c02498ecdb70a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889636,a186416b189e36b6ba8f55a287e8379db18be919,5,2,1,28522,,,0,"[Yoga] Release zaqar

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 14.0.0..e3e814c6
e3e814c6 Update .gitreview for stable/yoga
6ea92894 Update deprecated zuul syntax
80f54be0 Replace job template for Yoga cycle

Change-Id: I0c6b714ca0356f420a2c7816d83c02498ecdb70a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/889636/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/zaqar.yaml'],1,a186416b189e36b6ba8f55a287e8379db18be919,yoga-convenience-before-em, - version: 14.0.1 projects: - repo: openstack/zaqar hash: e3e814c695b294e9f6897fe6aeeeb4436709cc3e,,4,0
openstack%2Fironic~master~I5d182814b07a2d50345ee365c56a0f00724f6e47,openstack/ironic,master,I5d182814b07a2d50345ee365c56a0f00724f6e47,Document caveats of running with SQLite,MERGED,2023-07-14 09:24:43.000000000,2023-07-26 14:18:57.000000000,2023-07-26 14:16:58.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 09:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0480ce4a297224b3fbd66d2f31ef4d3f5dc92cd4', 'message': 'Document caveats of running with SQLite\n\nChange-Id: I5d182814b07a2d50345ee365c56a0f00724f6e47\n'}, {'number': 2, 'created': '2023-07-14 10:36:50.000000000', 'files': ['doc/source/install/include/common-prerequisites.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/267e61bbc75c2df4fd10896692492d316478368a', 'message': 'Document caveats of running with SQLite\n\nChange-Id: I5d182814b07a2d50345ee365c56a0f00724f6e47\n'}]",6,888529,267e61bbc75c2df4fd10896692492d316478368a,17,3,2,10239,,,0,"Document caveats of running with SQLite

Change-Id: I5d182814b07a2d50345ee365c56a0f00724f6e47
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/888529/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/include/common-prerequisites.inc'],1,0480ce4a297224b3fbd66d2f31ef4d3f5dc92cd4,sqlite-docs,".. note:: It is possible to run the Bare Metal service with SQLite as the database backend. See :doc:`sqlite` for limitations. In MySQL, create an ``ironic`` database that is accessible by the ``ironic`` user. Replace ``IRONIC_DBPASSWORD`` with a suitable password: .. code-block:: console # mysql -u root -p mysql> CREATE DATABASE ironic CHARACTER SET utf8mb3; mysql> GRANT ALL PRIVILEGES ON ironic.* TO 'ironic'@'localhost' \ IDENTIFIED BY 'IRONIC_DBPASSWORD'; mysql> GRANT ALL PRIVILEGES ON ironic.* TO 'ironic'@'%' \ IDENTIFIED BY 'IRONIC_DBPASSWORD'; Running on SQLite ^^^^^^^^^^^^^^^^^ It is possible to run the Bare Metal service with SQLite_ as the database backend. However, take into account the following limitations: * You have to run Ironic in the all-in-one mode (see `configuring single-process ironic`_). You cannot have multiple conductors this way. * You should use `WAL mode`_ for the database. Ironic will try to enable it for you, but it can only be done for a fresh database. * Even in the WAL mode, SQLite has limited write concurrency. If you experience ""database is locked"" errors, try reducing the frequency of periodic tasks. If that still does not help, you may need to use a server-based database. * Not all database migrations are supported on SQLite. You may need to re-create the database on upgrades. To use SQLite, configure your connection like this: .. code-block:: ini [database] connection = sqlite:////full/path/to/ironic.sqlite .. note:: This is not a typo! A full path requires 4 slashes. If in doubt, use MySQL/MariaDB instead. .. _sqlite: https://www.sqlite.org .. _WAL mode: https://www.sqlite.org/wal.html","#. In MySQL, create an ``ironic`` database that is accessible by the ``ironic`` user. Replace ``IRONIC_DBPASSWORD`` with a suitable password: .. code-block:: console # mysql -u root -p mysql> CREATE DATABASE ironic CHARACTER SET utf8mb3; mysql> GRANT ALL PRIVILEGES ON ironic.* TO 'ironic'@'localhost' \ IDENTIFIED BY 'IRONIC_DBPASSWORD'; mysql> GRANT ALL PRIVILEGES ON ironic.* TO 'ironic'@'%' \ IDENTIFIED BY 'IRONIC_DBPASSWORD';",48,9
openstack%2Fopenstack-ansible-os_rally~stable%2Fyoga~I016e457c0e4b7819d6d65af3bc35e06061f92d1c,openstack/openstack-ansible-os_rally,stable/yoga,I016e457c0e4b7819d6d65af3bc35e06061f92d1c,Include proper commit in rally_upper_constraints_url,MERGED,2023-07-06 09:35:54.000000000,2023-07-26 14:07:12.000000000,2023-07-26 14:06:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-06 09:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/e73fa20767ed7645dbd4531b19a476796113ed50', 'message': 'Include proper commit in rally_upper_constraints_url\n\nCurrently, rally_upper_constraints_url always points to master branch.\nIt is not a valid behavior because u-c from master may not work for\nstable branches.\nThis change fixes rally_upper_constraints_url.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/887592\n\nChange-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c\n(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)\n'}, {'number': 2, 'created': '2023-07-20 07:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/2d750af912399e999f491be71cc917a31c0300b0', 'message': 'Include proper commit in rally_upper_constraints_url\n\nCurrently, rally_upper_constraints_url always points to master branch.\nIt is not a valid behavior because u-c from master may not work for\nstable branches.\nThis change fixes rally_upper_constraints_url.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887681\n\nChange-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c\n(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)\n'}, {'number': 3, 'created': '2023-07-20 07:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/2e7b4c8e4595483b2c0d02c84fe702443327784f', 'message': 'Include proper commit in rally_upper_constraints_url\n\nCurrently, rally_upper_constraints_url always points to master branch.\nIt is not a valid behavior because u-c from master may not work for\nstable branches.\nThis change fixes rally_upper_constraints_url.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/888656\n\nChange-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c\n(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)\n'}, {'number': 4, 'created': '2023-07-24 11:39:10.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/885ed9417d508f8f7103a8362039055532324eee', 'message': 'Include proper commit in rally_upper_constraints_url\n\nCurrently, rally_upper_constraints_url always points to master branch.\nIt is not a valid behavior because u-c from master may not work for\nstable branches.\nThis change fixes rally_upper_constraints_url.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/889310\n\nChange-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c\n(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)\n'}]",1,887681,885ed9417d508f8f7103a8362039055532324eee,17,3,4,32666,,,0,"Include proper commit in rally_upper_constraints_url

Currently, rally_upper_constraints_url always points to master branch.
It is not a valid behavior because u-c from master may not work for
stable branches.
This change fixes rally_upper_constraints_url.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/889310

Change-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c
(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/81/887681/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e73fa20767ed7645dbd4531b19a476796113ed50,,"rally_upper_constraints_url: ""{{ rally_openstack_git_repo }}/raw/{{ rally_openstack_git_install_branch }}/upper-constraints.txt""","rally_upper_constraints_url: ""{{ rally_openstack_git_repo }}/raw/branch/master/upper-constraints.txt""",1,1
openstack%2Fcinder-specs~master~Ib9999e01e02dc48a14a268e5277203a6ac0dd89b,openstack/cinder-specs,master,Ib9999e01e02dc48a14a268e5277203a6ac0dd89b,Encrypted backups,NEW,2022-10-25 11:50:32.000000000,2023-07-26 13:24:09.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-25 11:50:32.000000000', 'files': ['specs/2023.1/remove-me.rst', 'specs/2023.1/chunked-backup-encryption.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5ac61f754e0cba46de18c871e4f59b2dc038fcc9', 'message': 'Encrypted backups\n\nThis specs adds the possibility for chunked backup drivers to\nencrypted/decrypt the data.\n\nThis is primarily intended for backups that are stored in public clouds,\nsuch as GCS and S3.\n\nChange-Id: Ib9999e01e02dc48a14a268e5277203a6ac0dd89b\n'}]",41,862601,5ac61f754e0cba46de18c871e4f59b2dc038fcc9,18,8,1,9535,,,0,"Encrypted backups

This specs adds the possibility for chunked backup drivers to
encrypted/decrypt the data.

This is primarily intended for backups that are stored in public clouds,
such as GCS and S3.

Change-Id: Ib9999e01e02dc48a14a268e5277203a6ac0dd89b
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/01/862601/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2023.1/remove-me.rst', 'specs/2023.1/chunked-backup-encryption.rst']",2,5ac61f754e0cba46de18c871e4f59b2dc038fcc9,backup-encryption,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Encrypted Chunked Backups ========================= https://blueprints.launchpad.net/cinder/+spec/encrypted-backups Backups inheriting from the Chunked Backup Driver always store data unencrypted which may not be undesirable in some scenarios. Problem description =================== Keeping data in public cloud storage services, such as GCS and S3, means that access control to that information is only partially in our control, and we are forced to trust that the provider has tight control over its access. This is not the best policy with sensitive information, and it is recommended to encrypt sensitive data. Unfortunately in OpenStack all public cloud drivers, GCS and S3, do not support encryption, which means that anyone with access to the OpenStack backup location will be able to access the raw data of all my unencrypted Cinder volumes. Use Cases ========= As a system administrator I want to configure my OpenStack deployment to make my backups to S3 without having to worry about having sensitive data readable for anyone that has access to the S3 account, authorized or not. Proposed change =============== The proposal is to support encrypted backups for the S3 and GCS Cinder backup drivers using a single static encryption key for all encrypted backups. Users would **not** be allowed to select whether they want encryption or not, as this would be configured by the system administrator that configures the Cinder services and knows where backups are being stored. Note: The RBD driver would not support encryption. The reason to use a single key instead of per backup encryption keys using Barbican, like Cinder does for volumes, is because the primary objective of encrypting backups is to prevent people that has access to S3 from reading the contents of the backups, and in a disaster scenario where Barbican store is also lost, all backups would be rendered unusable by the loss of the keys. The proposal is to have 3 new configuration options ``backup_encryption_mode`` and ``backup_encryption_algorithm``, ``backup_encryption_key`` to configure how chunked backup drivers would handle encryption. The ``backup_encryption_mode`` would accept 3 different options: ``off``, ``always``, and ``auto``, where: - ``off`` would disable encryption, just like we do for the ``backup_compression_algorithm``, for example if we were using our own Swift cluster. - ``on`` would force all backup to be encrypted. - ``auto`` would only encrypt unencrypted volumes and would backup already encrypted volumes as they are, since double encryption would not provide additional security. The ``backup_encryption_key`` would be a string configuration option. For simplicity this initial implementation will only support the ``Fernet`` algorithm from the ``cryptography`` python module, that Cinder already requires, which is a symmetric authenticated cryptography. It will be the default algorithm and will be configured with the value ``fernet`` in the ``backup_encryption_algorithm`` configuration option. To support encrypted backup we need a new version of the *metadata* file format to be able to store the encryption algorithm to mark the backup as encrypted. First we would bump the ``DRIVER_VERSION`` and update the ``DRIVER_VERSION_MAPPING`` to include the restore method for the new version, which would support decrypting volumes. In the ``_write_metadata`` method we would save a new key called ``encryption_algorithm`` that would contain the configured ``backup_encryption_algorithm`` when we are encrypting the backup or ``none`` if the data is not being encrypted because backup encryption is disabled or the volume is already encrypted. Backup drivers supporting encryption shall fail to start if the ``backup_encryption_algorithm`` has an incorrect value or if ``backup_encryption_mode`` is not ``off`` and there is no valid ``backup_encryption_key``. The new code should be able to support doing an incremental encrypted backup even if the parent backup is non encrypted, and even if the parent was made by an older Cinder release that used version ``1.0.0`` of the metadata format. This means that the restore operation must select the appropriate restore method based on each backup's metadata, and not assume that all backups from a backup chain are the same. In terms of code this is quite easy, in the ``restore`` method it just needs to move the assignment of the ``restore_func`` to the ``while`` loop after the ``backup1`` metadata has been read. When compression is enabled with the ``backup_compression_algorithm`` the compression should be done prior to the encryption, since encryption turns the data into high-entropy data reducing the likelihood of the compression doing anything useful. Since encryption algorithms are implemented in C libraries the encryption and decryption of data shall be done in a native thread from the ``tpool`` to prevent greenthreads from blocking and turning the whole service unresponsive. Backup internals should be hidden from end-users, so Cinder will not expose whether backups are encrypted or not for them, but since this information could be useful for system administrators it will need to make it visible for them. For this purpose a new DB column called ``encrypted`` will be added to the ``backups`` table to reflect whether the data in that specific backup is encrypted or not. A backup will be encrypted whenever an encrypted volume is backed up or when an unencrypted volume is backup up and the chunked backup driver encrypts it. It's important to reflect in the documentation that this field only reflects that specific backup in a chain of backups, so we could have an encrypted incremental backup that states that it is encrypted but its parent is unencrypted. Alternatives ------------ An alternative could be to have use a single Barbican key for the whole cinder-backup service or to use a per-backup Barbican encryption key. Data model impact ----------------- This change will require the addition of a new DB column called ``encrypted`` in the ``backups`` table that defaults to ``False`` to be able to detect . Besides the DB change in ``cinder/db/sqlalchemy/models.py`` the corresponding ``Backup`` Oslo Versioned Object (OVO) in ``cinder/objects/backup.py`` will also need to be changed, which means: - Bumping the version of the OVO - Adding the ``encrypted`` boolean field and ensure it's set to ``False`` by default. - Adding the compatibility code that removes the field when sending it to an older RPC service (using ``obj_make_compatible`` method). - The new ``Backup`` OVO version shall be added to the OVO history in ``cinder/objects/base.py``. The DB change also affects the ``import_record`` and ``export_record`` methods from ``cinder/backup/manager.py`` and the first should remain backward compatible with older backup exports. Since there is a new DB field that has no value in the DB, and we no longer do data migrations when updating the schema, a new online data migration will need to be added to the ``cinder/cmd/manage.py`` CLI and to the ``Backup`` OVO when a record is read from the DB and it doesn't have the ``encrypted`` value set. REST API impact --------------- A new REST API microversion is needed since admins will now be able to see the ``encrypted`` field for backups. Security impact --------------- Security will be increased when using external public clouds for Cinder backups. Active/Active HA impact ----------------------- No impact. Notifications impact -------------------- Notifications will include the new ``encrypted`` field in when sending backup notifications. Other end user impact --------------------- None. Performance Impact ------------------ Doing encryption is computationally expensive, so this will have an impact on the speed at which backups are performed. This can be mitigated for encrypted volumes by setting ``backup_encryption_mode`` to ``auto``. Better performance can be achieved by using multiple backup processes with the ``backup_workers`` configuration option or by horizontally scaling the cinder-backup service. Other deployer impact --------------------- Deployers will now have 3 new configuration options related to this feature as described above: - ``backup_encryption_mode`` - ``backup_encryption_algorithm`` - ``backup_encryption_key`` Developer impact ---------------- None Implementation ============== Assignee(s) ----------- TBD Work Items ---------- - Update the DB model for the ``backups`` table. - Update the ``Backup`` OVO. - Update the import and export record methods. - Update the REST API with a new microversion. - Add new configuration options and update the chunked backup driver. Dependencies ============ None Testing ======= Besides the standard unit tests one of the tempest CI jobs should be modified to run with encryption enabled and the backup tempest tests should be made to look for the value of the new ``encrypted`` field in the admin REST API responses and confirm its not present for normal users. Documentation Impact ==================== Document ``doc/source/admin/volume-backups.rst`` must be updated to reflect the new encryption possibilities describing the main purpose of the feature (public clouds) and how the Ceph backup driver doesn't support this feature. References ========== `Antelope PTG discussion`_ _`Antelope PTG discussion`: https://etherpad.opendev.org/p/antelope-ptg-cinder#L115 ",,283,7
openstack%2Fkolla-ansible~master~I44841a6b6fa5bf659cace06295d18c093ad7f927,openstack/kolla-ansible,master,I44841a6b6fa5bf659cace06295d18c093ad7f927,Set HAProxy server timeout for openstack exporter,NEW,2023-02-05 12:31:59.000000000,2023-07-26 13:18:44.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-02-05 12:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d0553ca583939ee0774ff17d8f6a2df68bfa270', 'message': ""Set HAProxy server timeout for openstack exporter\n\nSet the openstack exporter HAProxy backend server timeout to\n``prometheus_openstack_exporter_timeout`` to ensure that scrapes\nthat take longer than haproxy_server_timeout don't timeout.\n\nCloses-Bug: #2006051\nChange-Id: I44841a6b6fa5bf659cace06295d18c093ad7f927\n""}, {'number': 2, 'created': '2023-02-05 14:48:49.000000000', 'files': ['releasenotes/notes/bug-2006051-135bd20d5c465517.yaml', 'ansible/roles/prometheus/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b01fda2e73a5cf2ceefe9f92f5d15ee5f1f45afc', 'message': ""Set HAProxy server timeout for openstack exporter\n\nSet the openstack exporter HAProxy backend server timeout to\n``prometheus_openstack_exporter_timeout`` to ensure that scrapes\nthat take longer than haproxy_server_timeout don't timeout.\n\nCloses-Bug: #2006051\nChange-Id: I44841a6b6fa5bf659cace06295d18c093ad7f927\n""}]",2,872718,b01fda2e73a5cf2ceefe9f92f5d15ee5f1f45afc,14,5,2,34212,,,0,"Set HAProxy server timeout for openstack exporter

Set the openstack exporter HAProxy backend server timeout to
``prometheus_openstack_exporter_timeout`` to ensure that scrapes
that take longer than haproxy_server_timeout don't timeout.

Closes-Bug: #2006051
Change-Id: I44841a6b6fa5bf659cace06295d18c093ad7f927
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/872718/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/defaults/main.yml'],1,3d0553ca583939ee0774ff17d8f6a2df68bfa270,bug/2006051," backend_http_extra: - ""timeout server {{ prometheus_openstack_exporter_timeout }}"" backend_http_extra: - ""timeout server {{ prometheus_openstack_exporter_timeout }}""",,4,0
openstack%2Freleases~master~I39e4d09ab5856b29bc1edd0c849aed86571b654f,openstack/releases,master,I39e4d09ab5856b29bc1edd0c849aed86571b654f,[Yoga] Release ansible-role-lunasa-hsm,ABANDONED,2023-07-25 14:13:15.000000000,2023-07-26 13:08:16.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:13:15.000000000', 'files': ['deliverables/yoga/ansible-role-lunasa-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4a67f334ce0445371d85fe215f1add5530a72c2d', 'message': '[Yoga] Release ansible-role-lunasa-hsm\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-em..ba4fdbc\nba4fdbc Update .gitreview for stable/yoga\n\nChange-Id: I39e4d09ab5856b29bc1edd0c849aed86571b654f\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889412,4a67f334ce0445371d85fe215f1add5530a72c2d,3,4,1,28522,,,0,"[Yoga] Release ansible-role-lunasa-hsm

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-em..ba4fdbc
ba4fdbc Update .gitreview for stable/yoga

Change-Id: I39e4d09ab5856b29bc1edd0c849aed86571b654f
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/889412/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ansible-role-lunasa-hsm.yaml'],1,4a67f334ce0445371d85fe215f1add5530a72c2d,yoga-convenience-before-em, - version: 3.0.1 projects: - repo: openstack/ansible-role-lunasa-hsm hash: ba4fdbc7875429d8f85a3326c8dedf4846be1326,,4,0
openstack%2Freleases~master~Ic26bf416ce843021a0271dd5c70817912d6cbf56,openstack/releases,master,Ic26bf416ce843021a0271dd5c70817912d6cbf56,[Yoga] Release blazar-dashboard,ABANDONED,2023-07-25 14:16:42.000000000,2023-07-26 13:08:07.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:16:42.000000000', 'files': ['deliverables/yoga/blazar-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09910eab2632887f3ed718a886e6908bf1942b49', 'message': '[Yoga] Release blazar-dashboard\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 7.0.0..1412bd6\n1412bd6 Update TOX_CONSTRAINTS_FILE for stable/yoga\nb91d8e9 Update .gitreview for stable/yoga\n\nChange-Id: Ic26bf416ce843021a0271dd5c70817912d6cbf56\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889420,09910eab2632887f3ed718a886e6908bf1942b49,3,2,1,28522,,,0,"[Yoga] Release blazar-dashboard

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 7.0.0..1412bd6
1412bd6 Update TOX_CONSTRAINTS_FILE for stable/yoga
b91d8e9 Update .gitreview for stable/yoga

Change-Id: Ic26bf416ce843021a0271dd5c70817912d6cbf56
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/889420/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/blazar-dashboard.yaml'],1,09910eab2632887f3ed718a886e6908bf1942b49,yoga-convenience-before-em, - version: 7.0.1 projects: - repo: openstack/blazar-dashboard hash: 1412bd666e47caf3b2f8a28bf7ffd594efe9fd4f,,4,0
openstack%2Freleases~master~Ie0d8cda0cebbdd4872d5ae846a9403334d14f420,openstack/releases,master,Ie0d8cda0cebbdd4872d5ae846a9403334d14f420,[Yoga] Release adjutant-ui,ABANDONED,2023-07-25 14:12:08.000000000,2023-07-26 13:07:56.000000000,,"[{'_account_id': 14394}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:12:08.000000000', 'files': ['deliverables/yoga/adjutant-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e25082986ec2e836f02be9cf507627bf76341c4f', 'message': '[Yoga] Release adjutant-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-em..4464d9c\n4464d9c Update TOX_CONSTRAINTS_FILE for stable/yoga\nad72d83 Update .gitreview for stable/yoga\n\nChange-Id: Ie0d8cda0cebbdd4872d5ae846a9403334d14f420\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889409,e25082986ec2e836f02be9cf507627bf76341c4f,3,2,1,28522,,,0,"[Yoga] Release adjutant-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-em..4464d9c
4464d9c Update TOX_CONSTRAINTS_FILE for stable/yoga
ad72d83 Update .gitreview for stable/yoga

Change-Id: Ie0d8cda0cebbdd4872d5ae846a9403334d14f420
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/889409/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/adjutant-ui.yaml'],1,e25082986ec2e836f02be9cf507627bf76341c4f,yoga-convenience-before-em, - version: 4.0.1 projects: - repo: openstack/adjutant-ui hash: 4464d9cb53beb1f5b14a51c49a84fc0efe925aec,,4,0
openstack%2Freleases~master~I8eaad382b188e262b8f9d9bc37a4345061039cba,openstack/releases,master,I8eaad382b188e262b8f9d9bc37a4345061039cba,[Yoga] Release blazar-nova,ABANDONED,2023-07-25 14:17:01.000000000,2023-07-26 13:07:43.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:17:01.000000000', 'files': ['deliverables/yoga/blazar-nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6c7e0fa6d16604b3c347c84123318ede83d16c78', 'message': '[Yoga] Release blazar-nova\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.0..f7a8f9c\nf7a8f9c Update TOX_CONSTRAINTS_FILE for stable/yoga\n3e4fc39 Update .gitreview for stable/yoga\n\nChange-Id: I8eaad382b188e262b8f9d9bc37a4345061039cba\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889421,6c7e0fa6d16604b3c347c84123318ede83d16c78,3,2,1,28522,,,0,"[Yoga] Release blazar-nova

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.0..f7a8f9c
f7a8f9c Update TOX_CONSTRAINTS_FILE for stable/yoga
3e4fc39 Update .gitreview for stable/yoga

Change-Id: I8eaad382b188e262b8f9d9bc37a4345061039cba
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/889421/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/blazar-nova.yaml'],1,6c7e0fa6d16604b3c347c84123318ede83d16c78,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/blazar-nova hash: f7a8f9c8076dc26936ce6ffaa2567f729c60d863,,4,0
openstack%2Freleases~master~I5559dc06cc26a97c611cadd32d5256505d40ce79,openstack/releases,master,I5559dc06cc26a97c611cadd32d5256505d40ce79,[Yoga] Release compute-hyperv,ABANDONED,2023-07-25 14:25:53.000000000,2023-07-26 13:07:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-25 14:25:53.000000000', 'files': ['deliverables/yoga/compute-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/53372b49ed684167a83736c1704a27486323f12c', 'message': '[Yoga] Release compute-hyperv\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 14.0.0..f9511ee\nf9511ee Update TOX_CONSTRAINTS_FILE for stable/yoga\n0075b5a Update .gitreview for stable/yoga\n\nChange-Id: I5559dc06cc26a97c611cadd32d5256505d40ce79\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889437,53372b49ed684167a83736c1704a27486323f12c,3,1,1,28522,,,0,"[Yoga] Release compute-hyperv

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 14.0.0..f9511ee
f9511ee Update TOX_CONSTRAINTS_FILE for stable/yoga
0075b5a Update .gitreview for stable/yoga

Change-Id: I5559dc06cc26a97c611cadd32d5256505d40ce79
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/889437/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/compute-hyperv.yaml'],1,53372b49ed684167a83736c1704a27486323f12c,yoga-convenience-before-em, - version: 14.0.1 projects: - repo: openstack/compute-hyperv hash: f9511ee6f24b25eb76e5d26845b8e432b220f345,,4,0
openstack%2Freleases~master~Ie61f2cc87b5a232ae96e270087bd0605452de2b4,openstack/releases,master,Ie61f2cc87b5a232ae96e270087bd0605452de2b4,[Yoga] Release freezer-web-ui,ABANDONED,2023-07-25 14:32:05.000000000,2023-07-26 13:07:17.000000000,,"[{'_account_id': 13940}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:32:05.000000000', 'files': ['deliverables/yoga/freezer-web-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/87847cbdfe825c1128a6a05d4d22a8899ab1c12a', 'message': '[Yoga] Release freezer-web-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 12.0.0..985cce1\n985cce1 Update TOX_CONSTRAINTS_FILE for stable/yoga\na6f91b9 Update .gitreview for stable/yoga\n\nChange-Id: Ie61f2cc87b5a232ae96e270087bd0605452de2b4\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889447,87847cbdfe825c1128a6a05d4d22a8899ab1c12a,3,3,1,28522,,,0,"[Yoga] Release freezer-web-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 12.0.0..985cce1
985cce1 Update TOX_CONSTRAINTS_FILE for stable/yoga
a6f91b9 Update .gitreview for stable/yoga

Change-Id: Ie61f2cc87b5a232ae96e270087bd0605452de2b4
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/889447/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/freezer-web-ui.yaml'],1,87847cbdfe825c1128a6a05d4d22a8899ab1c12a,yoga-convenience-before-em, - version: 12.0.1 projects: - repo: openstack/freezer-web-ui hash: 985cce10511687e1f58625be3755f4164ae17605,,4,0
openstack%2Freleases~master~I8d87de33b1ea7acf253ab7e057fcc3e48d390ef9,openstack/releases,master,I8d87de33b1ea7acf253ab7e057fcc3e48d390ef9,[Yoga] Release ironic-ui,ABANDONED,2023-07-25 14:50:21.000000000,2023-07-26 13:07:05.000000000,,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-25 14:50:21.000000000', 'files': ['deliverables/yoga/ironic-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/83f026daf50d0c8ee8173296c18c35127514128f', 'message': '[Yoga] Release ironic-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 5.1.0..5380524\n5380524 Update TOX_CONSTRAINTS_FILE for stable/yoga\n4e30b3f Update .gitreview for stable/yoga\n\nChange-Id: I8d87de33b1ea7acf253ab7e057fcc3e48d390ef9\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889464,83f026daf50d0c8ee8173296c18c35127514128f,3,4,1,28522,,,0,"[Yoga] Release ironic-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 5.1.0..5380524
5380524 Update TOX_CONSTRAINTS_FILE for stable/yoga
4e30b3f Update .gitreview for stable/yoga

Change-Id: I8d87de33b1ea7acf253ab7e057fcc3e48d390ef9
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/889464/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ironic-ui.yaml'],1,83f026daf50d0c8ee8173296c18c35127514128f,yoga-convenience-before-em, - version: 5.1.1 projects: - repo: openstack/ironic-ui hash: 5380524aa8c8b4c189dcef3548ae9c803975b66f,,4,0
openstack%2Freleases~master~I6abeeedd9ecc5069b25e98204280a3d278196782,openstack/releases,master,I6abeeedd9ecc5069b25e98204280a3d278196782,[Yoga] Release keystoneauth,ABANDONED,2023-07-25 14:55:51.000000000,2023-07-26 13:06:50.000000000,,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:55:51.000000000', 'files': ['deliverables/yoga/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f605315974b29b7b3d3ca8595caf03609c6bb10b', 'message': '[Yoga] Release keystoneauth\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 4.5.0..437ea41\n437ea41 Update TOX_CONSTRAINTS_FILE for stable/yoga\n1199058 Update .gitreview for stable/yoga\n\nChange-Id: I6abeeedd9ecc5069b25e98204280a3d278196782\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889469,f605315974b29b7b3d3ca8595caf03609c6bb10b,3,3,1,28522,,,0,"[Yoga] Release keystoneauth

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 4.5.0..437ea41
437ea41 Update TOX_CONSTRAINTS_FILE for stable/yoga
1199058 Update .gitreview for stable/yoga

Change-Id: I6abeeedd9ecc5069b25e98204280a3d278196782
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/889469/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/keystoneauth.yaml'],1,f605315974b29b7b3d3ca8595caf03609c6bb10b,yoga-convenience-before-em, - version: 4.5.1 projects: - repo: openstack/keystoneauth hash: 437ea41de3e3046cc6758665f982d92dc9393a41,,4,0
openstack%2Freleases~master~Ie4dd2f90b0bd2489a144ecfc7e95df5a9c79d5be,openstack/releases,master,Ie4dd2f90b0bd2489a144ecfc7e95df5a9c79d5be,[Yoga] Release magnum-ui,ABANDONED,2023-07-25 15:01:33.000000000,2023-07-26 13:06:41.000000000,,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:01:33.000000000', 'files': ['deliverables/yoga/magnum-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d98408c780f30ba8c514d2aa61f588222a880202', 'message': '[Yoga] Release magnum-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 10.0.0..ea8a0d3\nea8a0d3 Update TOX_CONSTRAINTS_FILE for stable/yoga\n3eae3cc Update .gitreview for stable/yoga\n\nChange-Id: Ie4dd2f90b0bd2489a144ecfc7e95df5a9c79d5be\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889479,d98408c780f30ba8c514d2aa61f588222a880202,3,3,1,28522,,,0,"[Yoga] Release magnum-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 10.0.0..ea8a0d3
ea8a0d3 Update TOX_CONSTRAINTS_FILE for stable/yoga
3eae3cc Update .gitreview for stable/yoga

Change-Id: Ie4dd2f90b0bd2489a144ecfc7e95df5a9c79d5be
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/889479/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/magnum-ui.yaml'],1,d98408c780f30ba8c514d2aa61f588222a880202,yoga-convenience-before-em, - version: 10.0.1 projects: - repo: openstack/magnum-ui hash: ea8a0d3a610b37d9d6bdcb08058d5ceeec722cab,,4,0
openstack%2Freleases~master~Ic3e758fd5f52f6b39bc1fbf2e27179e128a63467,openstack/releases,master,Ic3e758fd5f52f6b39bc1fbf2e27179e128a63467,[Yoga] Release mistral-extra,ABANDONED,2023-07-25 15:10:03.000000000,2023-07-26 13:06:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-07-25 15:10:03.000000000', 'files': ['deliverables/yoga/mistral-extra.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eb155ef2e37713e7ec384dcff9a009c3934eb418', 'message': '[Yoga] Release mistral-extra\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 11.3.0..4beae85\n4beae85 Update TOX_CONSTRAINTS_FILE for stable/yoga\n8ef5b7a Update .gitreview for stable/yoga\n\nChange-Id: Ic3e758fd5f52f6b39bc1fbf2e27179e128a63467\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889490,eb155ef2e37713e7ec384dcff9a009c3934eb418,3,2,1,28522,,,0,"[Yoga] Release mistral-extra

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 11.3.0..4beae85
4beae85 Update TOX_CONSTRAINTS_FILE for stable/yoga
8ef5b7a Update .gitreview for stable/yoga

Change-Id: Ic3e758fd5f52f6b39bc1fbf2e27179e128a63467
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/889490/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/mistral-extra.yaml'],1,eb155ef2e37713e7ec384dcff9a009c3934eb418,yoga-convenience-before-em, - version: 11.3.1 projects: - repo: openstack/mistral-extra hash: 4beae859c64356a77f64d7135426fcf0c6f39738,,4,0
openstack%2Freleases~master~If39fbb18ce5ead49d41b4c2f1760c9581a3665da,openstack/releases,master,If39fbb18ce5ead49d41b4c2f1760c9581a3665da,[Yoga] Release monasca-common,ABANDONED,2023-07-25 15:13:18.000000000,2023-07-26 13:06:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 35988}]","[{'number': 1, 'created': '2023-07-25 15:13:18.000000000', 'files': ['deliverables/yoga/monasca-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/98d6e779cd5beccaf28b539cc09fe6ffa9e5d8ad', 'message': '[Yoga] Release monasca-common\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 3.5.0..391d7b3\n391d7b3 Update TOX_CONSTRAINTS_FILE for stable/yoga\n3b73a51 Update .gitreview for stable/yoga\n\nChange-Id: If39fbb18ce5ead49d41b4c2f1760c9581a3665da\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889495,98d6e779cd5beccaf28b539cc09fe6ffa9e5d8ad,3,2,1,28522,,,0,"[Yoga] Release monasca-common

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 3.5.0..391d7b3
391d7b3 Update TOX_CONSTRAINTS_FILE for stable/yoga
3b73a51 Update .gitreview for stable/yoga

Change-Id: If39fbb18ce5ead49d41b4c2f1760c9581a3665da
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/889495/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/monasca-common.yaml'],1,98d6e779cd5beccaf28b539cc09fe6ffa9e5d8ad,yoga-convenience-before-em, - version: 3.5.1 projects: - repo: openstack/monasca-common hash: 391d7b39658573425e2604f41f9ad1f16b93a9e7,,4,0
openstack%2Freleases~master~I9356df778c74c5c39114a3a0f8e8b659b7a6719a,openstack/releases,master,I9356df778c74c5c39114a3a0f8e8b659b7a6719a,[Yoga] Release monasca-agent,ABANDONED,2023-07-25 15:12:03.000000000,2023-07-26 13:06:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 35988}]","[{'number': 1, 'created': '2023-07-25 15:12:03.000000000', 'files': ['deliverables/yoga/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74fdc6cab3d5b56b85fc6855fdf8e482a57a605e', 'message': '[Yoga] Release monasca-agent\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 7.0.0..f0b09be\nf0b09be Update TOX_CONSTRAINTS_FILE for stable/yoga\n8f569cd Update .gitreview for stable/yoga\n\nChange-Id: I9356df778c74c5c39114a3a0f8e8b659b7a6719a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889493,74fdc6cab3d5b56b85fc6855fdf8e482a57a605e,3,2,1,28522,,,0,"[Yoga] Release monasca-agent

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 7.0.0..f0b09be
f0b09be Update TOX_CONSTRAINTS_FILE for stable/yoga
8f569cd Update .gitreview for stable/yoga

Change-Id: I9356df778c74c5c39114a3a0f8e8b659b7a6719a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/889493/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/monasca-agent.yaml'],1,74fdc6cab3d5b56b85fc6855fdf8e482a57a605e,yoga-convenience-before-em, - version: 7.0.1 projects: - repo: openstack/monasca-agent hash: f0b09bec09883680390d61860f91dc4322a9f084,,4,0
openstack%2Freleases~master~I1d8fabb4ffe532748cb62c65dbd90d2ea89eba17,openstack/releases,master,I1d8fabb4ffe532748cb62c65dbd90d2ea89eba17,[Yoga] Release murano-agent,ABANDONED,2023-07-25 15:16:26.000000000,2023-07-26 13:05:52.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:16:26.000000000', 'files': ['deliverables/yoga/murano-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fecd70acad326527c63669faed1a66cfb470f9b2', 'message': '[Yoga] Release murano-agent\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 9.0.0..5252c15\n5252c15 Update TOX_CONSTRAINTS_FILE for stable/yoga\n6bda32c Update .gitreview for stable/yoga\n\nChange-Id: I1d8fabb4ffe532748cb62c65dbd90d2ea89eba17\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889502,fecd70acad326527c63669faed1a66cfb470f9b2,3,2,1,28522,,,0,"[Yoga] Release murano-agent

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 9.0.0..5252c15
5252c15 Update TOX_CONSTRAINTS_FILE for stable/yoga
6bda32c Update .gitreview for stable/yoga

Change-Id: I1d8fabb4ffe532748cb62c65dbd90d2ea89eba17
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/889502/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/murano-agent.yaml'],1,fecd70acad326527c63669faed1a66cfb470f9b2,yoga-convenience-before-em, - version: 9.0.1 projects: - repo: openstack/murano-agent hash: 5252c151bd928dc9f04568d2bfcf7e44a81005f1,,4,0
openstack%2Freleases~master~Ie0dd774ddd12cf69dec7a0219051104ae0403ac7,openstack/releases,master,Ie0dd774ddd12cf69dec7a0219051104ae0403ac7,[Yoga] Release osc-placement,ABANDONED,2023-07-25 15:47:18.000000000,2023-07-26 13:05:20.000000000,,"[{'_account_id': 7166}, {'_account_id': 16207}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-07-25 15:47:18.000000000', 'files': ['deliverables/yoga/osc-placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ee26eef0344eaca2202fd2fb40a3585396a03b37', 'message': '[Yoga] Release osc-placement\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 3.2.0..07472fa\n07472fa Update TOX_CONSTRAINTS_FILE for stable/yoga\n1c37b20 Update .gitreview for stable/yoga\n\nChange-Id: Ie0dd774ddd12cf69dec7a0219051104ae0403ac7\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889530,ee26eef0344eaca2202fd2fb40a3585396a03b37,3,4,1,28522,,,0,"[Yoga] Release osc-placement

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 3.2.0..07472fa
07472fa Update TOX_CONSTRAINTS_FILE for stable/yoga
1c37b20 Update .gitreview for stable/yoga

Change-Id: Ie0dd774ddd12cf69dec7a0219051104ae0403ac7
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/889530/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/osc-placement.yaml'],1,ee26eef0344eaca2202fd2fb40a3585396a03b37,yoga-convenience-before-em, - version: 3.2.1 projects: - repo: openstack/osc-placement hash: 07472fa54b8e215ca4a5819e21e036d01102a70a,,4,0
openstack%2Freleases~master~I59a3879e39e13254ec03ccc5e36ea16331abf1fc,openstack/releases,master,I59a3879e39e13254ec03ccc5e36ea16331abf1fc,[Yoga] Release puppet-rally,ABANDONED,2023-07-25 16:08:41.000000000,2023-07-26 13:05:13.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:08:41.000000000', 'files': ['deliverables/yoga/puppet-rally.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9c15766bcce36c0dda8489473964523dcea23112', 'message': '[Yoga] Release puppet-rally\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 8.3.0..45f8bab\n45f8bab Update TOX_CONSTRAINTS_FILE for stable/yoga\n14e6eec Update .gitreview for stable/yoga\n\nChange-Id: I59a3879e39e13254ec03ccc5e36ea16331abf1fc\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889572,9c15766bcce36c0dda8489473964523dcea23112,3,2,1,28522,,,0,"[Yoga] Release puppet-rally

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 8.3.0..45f8bab
45f8bab Update TOX_CONSTRAINTS_FILE for stable/yoga
14e6eec Update .gitreview for stable/yoga

Change-Id: I59a3879e39e13254ec03ccc5e36ea16331abf1fc
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/889572/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/puppet-rally.yaml'],1,9c15766bcce36c0dda8489473964523dcea23112,yoga-convenience-before-em, - version: 8.3.1 projects: - repo: openstack/puppet-rally hash: 45f8babc6a22612463e0f7f1fe3fb0d6dfa24cb7,,4,0
openstack%2Freleases~master~Iaa7991dfed5d2e0897c9bdfa839fa0542fa1c49e,openstack/releases,master,Iaa7991dfed5d2e0897c9bdfa839fa0542fa1c49e,[Yoga] Release puppet-tacker,ABANDONED,2023-07-25 16:10:13.000000000,2023-07-26 13:05:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:10:13.000000000', 'files': ['deliverables/yoga/puppet-tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bd3f5abf9c1aaee011a177ba0f7b8b417237ebe7', 'message': '[Yoga] Release puppet-tacker\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 20.3.0..0577d52\n0577d52 Update TOX_CONSTRAINTS_FILE for stable/yoga\n2c0f73b Update .gitreview for stable/yoga\n\nChange-Id: Iaa7991dfed5d2e0897c9bdfa839fa0542fa1c49e\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889575,bd3f5abf9c1aaee011a177ba0f7b8b417237ebe7,3,2,1,28522,,,0,"[Yoga] Release puppet-tacker

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 20.3.0..0577d52
0577d52 Update TOX_CONSTRAINTS_FILE for stable/yoga
2c0f73b Update .gitreview for stable/yoga

Change-Id: Iaa7991dfed5d2e0897c9bdfa839fa0542fa1c49e
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/889575/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/puppet-tacker.yaml'],1,bd3f5abf9c1aaee011a177ba0f7b8b417237ebe7,yoga-convenience-before-em, - version: 20.3.1 projects: - repo: openstack/puppet-tacker hash: 0577d52aa0ce867291ba45cb9e28b3150336eee7,,4,0
openstack%2Freleases~master~I8cdfceba2d6aeeeab865f923f0614adcc23a235e,openstack/releases,master,I8cdfceba2d6aeeeab865f923f0614adcc23a235e,[Yoga] Release python-magnumclient,ABANDONED,2023-07-25 16:17:42.000000000,2023-07-26 13:04:53.000000000,,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:17:42.000000000', 'files': ['deliverables/yoga/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bdb772a6eecf374fa7d9df3b7faadd39564ce961', 'message': '[Yoga] Release python-magnumclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 3.6.0..d8158de\nd8158de Update TOX_CONSTRAINTS_FILE for stable/yoga\nf496da6 Update .gitreview for stable/yoga\n\nChange-Id: I8cdfceba2d6aeeeab865f923f0614adcc23a235e\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889594,bdb772a6eecf374fa7d9df3b7faadd39564ce961,3,3,1,28522,,,0,"[Yoga] Release python-magnumclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 3.6.0..d8158de
d8158de Update TOX_CONSTRAINTS_FILE for stable/yoga
f496da6 Update .gitreview for stable/yoga

Change-Id: I8cdfceba2d6aeeeab865f923f0614adcc23a235e
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/889594/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-magnumclient.yaml'],1,bdb772a6eecf374fa7d9df3b7faadd39564ce961,yoga-convenience-before-em, - version: 3.6.1 projects: - repo: openstack/python-magnumclient hash: d8158debd084d7d3d362fb865acee31a7fa9a7bc,,4,0
openstack%2Freleases~master~I41979a6fec1fc75131cb76558cf87923c9d38ba3,openstack/releases,master,I41979a6fec1fc75131cb76558cf87923c9d38ba3,[Yoga] Release vitrage,ABANDONED,2023-07-25 16:36:56.000000000,2023-07-26 13:04:43.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-25 16:36:56.000000000', 'files': ['deliverables/yoga/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ceb46f103659e0c8bd4963f6cb5dad85dcba9285', 'message': '[Yoga] Release vitrage\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 8.0.1..459c3ff8\ne4d36353 Update TOX_CONSTRAINTS_FILE for stable/yoga\nd11efd1e Update .gitreview for stable/yoga\n\nChange-Id: I41979a6fec1fc75131cb76558cf87923c9d38ba3\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889632,ceb46f103659e0c8bd4963f6cb5dad85dcba9285,3,3,1,28522,,,0,"[Yoga] Release vitrage

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 8.0.1..459c3ff8
e4d36353 Update TOX_CONSTRAINTS_FILE for stable/yoga
d11efd1e Update .gitreview for stable/yoga

Change-Id: I41979a6fec1fc75131cb76558cf87923c9d38ba3
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/889632/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/vitrage.yaml'],1,ceb46f103659e0c8bd4963f6cb5dad85dcba9285,yoga-convenience-before-em, - version: 8.0.2 projects: - repo: openstack/vitrage hash: 459c3ff806ee764a53f5563ac873b70f4db95437,,4,0
openstack%2Freleases~master~I6a5f2fbd55c2a571f306e3158fcb56a59f56bcfa,openstack/releases,master,I6a5f2fbd55c2a571f306e3158fcb56a59f56bcfa,[Yoga] Release tap-as-a-service,ABANDONED,2023-07-25 16:33:08.000000000,2023-07-26 13:04:30.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:33:08.000000000', 'files': ['deliverables/yoga/tap-as-a-service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2768c3829835fcfeda187e325164b32d88a59176', 'message': '[Yoga] Release tap-as-a-service\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 9.0.0..c6a4d8b\nc6a4d8b Update TOX_CONSTRAINTS_FILE for stable/yoga\ndfc9ce8 Update .gitreview for stable/yoga\n\nChange-Id: I6a5f2fbd55c2a571f306e3158fcb56a59f56bcfa\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889625,2768c3829835fcfeda187e325164b32d88a59176,3,3,1,28522,,,0,"[Yoga] Release tap-as-a-service

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 9.0.0..c6a4d8b
c6a4d8b Update TOX_CONSTRAINTS_FILE for stable/yoga
dfc9ce8 Update .gitreview for stable/yoga

Change-Id: I6a5f2fbd55c2a571f306e3158fcb56a59f56bcfa
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/889625/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/tap-as-a-service.yaml'],1,2768c3829835fcfeda187e325164b32d88a59176,yoga-convenience-before-em, - version: 9.0.1 projects: - repo: openstack/tap-as-a-service hash: c6a4d8b2b419fd1d507127db4a00984a1ef25af4,,4,0
openstack%2Freleases~master~I4b89cc1a1b481eecddaba28522755742dfa0c36d,openstack/releases,master,I4b89cc1a1b481eecddaba28522755742dfa0c36d,[Yoga] Release solum-dashboard,ABANDONED,2023-07-25 16:28:45.000000000,2023-07-26 13:04:19.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:28:45.000000000', 'files': ['deliverables/yoga/solum-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e92a70a3fd1c83f81b2ca3e9c565d8dbcded8666', 'message': '[Yoga] Release solum-dashboard\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 8.0.0..0e1623a\n0e1623a Update TOX_CONSTRAINTS_FILE for stable/yoga\nd00f932 Update .gitreview for stable/yoga\n\nChange-Id: I4b89cc1a1b481eecddaba28522755742dfa0c36d\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889618,e92a70a3fd1c83f81b2ca3e9c565d8dbcded8666,3,2,1,28522,,,0,"[Yoga] Release solum-dashboard

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 8.0.0..0e1623a
0e1623a Update TOX_CONSTRAINTS_FILE for stable/yoga
d00f932 Update .gitreview for stable/yoga

Change-Id: I4b89cc1a1b481eecddaba28522755742dfa0c36d
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/889618/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/solum-dashboard.yaml'],1,e92a70a3fd1c83f81b2ca3e9c565d8dbcded8666,yoga-convenience-before-em, - version: 8.0.1 projects: - repo: openstack/solum-dashboard hash: 0e1623a6228cea2d29f745682b55bc810c1d7945,,4,0
openstack%2Freleases~master~Ic0234cf4df5a6cb64b095724d520825ac601d06c,openstack/releases,master,Ic0234cf4df5a6cb64b095724d520825ac601d06c,[Yoga] Release senlin-dashboard,ABANDONED,2023-07-25 16:27:50.000000000,2023-07-26 13:04:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2023-07-25 16:27:50.000000000', 'files': ['deliverables/yoga/senlin-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb67f486bb2bf4574e002b04d3915de7fd67e1f9', 'message': '[Yoga] Release senlin-dashboard\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 5.0.0..1f00888\n1f00888 Update TOX_CONSTRAINTS_FILE for stable/yoga\ne508408 Update .gitreview for stable/yoga\n\nChange-Id: Ic0234cf4df5a6cb64b095724d520825ac601d06c\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889616,cb67f486bb2bf4574e002b04d3915de7fd67e1f9,3,2,1,28522,,,0,"[Yoga] Release senlin-dashboard

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 5.0.0..1f00888
1f00888 Update TOX_CONSTRAINTS_FILE for stable/yoga
e508408 Update .gitreview for stable/yoga

Change-Id: Ic0234cf4df5a6cb64b095724d520825ac601d06c
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/889616/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/senlin-dashboard.yaml'],1,cb67f486bb2bf4574e002b04d3915de7fd67e1f9,yoga-convenience-before-em, - version: 5.0.1 projects: - repo: openstack/senlin-dashboard hash: 1f00888ef099f6828fa0c6758f37ea4f9f30cb87,,4,0
openstack%2Freleases~master~I890b288771af6eeed71e3cc70901deff117e241c,openstack/releases,master,I890b288771af6eeed71e3cc70901deff117e241c,[Yoga] Release tosca-parser,ABANDONED,2023-07-25 16:34:44.000000000,2023-07-26 12:58:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2023-07-25 16:34:44.000000000', 'files': ['deliverables/yoga/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7729f110b9487fd9bf2bc08dcb46c9dea7af1046', 'message': '[Yoga] Release tosca-parser\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.1..d9a261f\nd9a261f Update TOX_CONSTRAINTS_FILE for stable/yoga\n901a6b8 Update .gitreview for stable/yoga\n\nChange-Id: I890b288771af6eeed71e3cc70901deff117e241c\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889627,7729f110b9487fd9bf2bc08dcb46c9dea7af1046,5,2,1,28522,,,0,"[Yoga] Release tosca-parser

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.1..d9a261f
d9a261f Update TOX_CONSTRAINTS_FILE for stable/yoga
901a6b8 Update .gitreview for stable/yoga

Change-Id: I890b288771af6eeed71e3cc70901deff117e241c
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/889627/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/tosca-parser.yaml'],1,7729f110b9487fd9bf2bc08dcb46c9dea7af1046,yoga-convenience-before-em, - version: 2.5.2 projects: - repo: openstack/tosca-parser hash: d9a261faef6dcba7640ea382739d6e46ccbabb9d,,4,0
openstack%2Freleases~master~I7979c7849df82f72110b4f193bb6be7cf1e53d08,openstack/releases,master,I7979c7849df82f72110b4f193bb6be7cf1e53d08,[Yoga] Release tacker-horizon,ABANDONED,2023-07-25 16:31:38.000000000,2023-07-26 12:58:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2023-07-25 16:31:38.000000000', 'files': ['deliverables/yoga/tacker-horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27ddc7aa296833bdaf427880ef819cd87793933f', 'message': '[Yoga] Release tacker-horizon\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 5.0.0..98d0ade\n98d0ade Update TOX_CONSTRAINTS_FILE for stable/yoga\nb7282f6 Update .gitreview for stable/yoga\n\nChange-Id: I7979c7849df82f72110b4f193bb6be7cf1e53d08\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889623,27ddc7aa296833bdaf427880ef819cd87793933f,5,2,1,28522,,,0,"[Yoga] Release tacker-horizon

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 5.0.0..98d0ade
98d0ade Update TOX_CONSTRAINTS_FILE for stable/yoga
b7282f6 Update .gitreview for stable/yoga

Change-Id: I7979c7849df82f72110b4f193bb6be7cf1e53d08
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/889623/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/tacker-horizon.yaml'],1,27ddc7aa296833bdaf427880ef819cd87793933f,yoga-convenience-before-em, - version: 5.0.1 projects: - repo: openstack/tacker-horizon hash: 98d0ade5947021edd72e128ca9683e682d2c7072,,4,0
openstack%2Freleases~master~If99eb5b5174e95b03eee0f541982d65c3327ccb4,openstack/releases,master,If99eb5b5174e95b03eee0f541982d65c3327ccb4,[Yoga] Release networking-bgpvpn,ABANDONED,2023-07-25 15:19:03.000000000,2023-07-26 12:57:37.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e4bc46ea5d7c6c0e199c1376ec733a396bcb1f4', 'message': '[Yoga] Release networking-bgpvpn\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 16.0.0..370bf13\n370bf13 Update TOX_CONSTRAINTS_FILE for stable/yoga\n881fc19 Update .gitreview for stable/yoga\n\nChange-Id: If99eb5b5174e95b03eee0f541982d65c3327ccb4\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}, {'number': 2, 'created': '2023-07-26 08:26:10.000000000', 'files': ['deliverables/yoga/networking-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a33a3a3186365dba8f54f166bb031695f9d2b355', 'message': '[Yoga] Release networking-bgpvpn\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 16.0.0..370bf13\n370bf13 Update TOX_CONSTRAINTS_FILE for stable/yoga\n881fc19 Update .gitreview for stable/yoga\n\nChange-Id: If99eb5b5174e95b03eee0f541982d65c3327ccb4\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889507,a33a3a3186365dba8f54f166bb031695f9d2b355,7,3,2,28522,,,0,"[Yoga] Release networking-bgpvpn

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 16.0.0..370bf13
370bf13 Update TOX_CONSTRAINTS_FILE for stable/yoga
881fc19 Update .gitreview for stable/yoga

Change-Id: If99eb5b5174e95b03eee0f541982d65c3327ccb4
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/889507/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/networking-bgpvpn.yaml'],1,7e4bc46ea5d7c6c0e199c1376ec733a396bcb1f4,yoga-convenience-before-em, - version: 16.0.1 projects: - repo: openstack/networking-bgpvpn hash: 370bf1381fae437899c13a3512090dff58661e45release-notes: https://docs.openstack.org/releasenotes/networking-bgpvpn/yoga.html,release-notes: https://docs.openstack.org/releasenotes/networking-bgpvpn/yoga.html,6,1
openstack%2Freleases~master~I121e002b12b2902f328ceefe740cb63ca3adc1a6,openstack/releases,master,I121e002b12b2902f328ceefe740cb63ca3adc1a6,[Yoga] Release os-ken,ABANDONED,2023-07-25 15:45:43.000000000,2023-07-26 12:57:23.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:45:43.000000000', 'files': ['deliverables/yoga/os-ken.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0a5e38d50bd1f0dc20020859a7adeba0ea5634ce', 'message': '[Yoga] Release os-ken\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.3.1..a70c93eb\na70c93eb Update TOX_CONSTRAINTS_FILE for stable/yoga\n0c28d05e Update .gitreview for stable/yoga\n\nChange-Id: I121e002b12b2902f328ceefe740cb63ca3adc1a6\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889526,0a5e38d50bd1f0dc20020859a7adeba0ea5634ce,5,3,1,28522,,,0,"[Yoga] Release os-ken

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.3.1..a70c93eb
a70c93eb Update TOX_CONSTRAINTS_FILE for stable/yoga
0c28d05e Update .gitreview for stable/yoga

Change-Id: I121e002b12b2902f328ceefe740cb63ca3adc1a6
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/889526/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/os-ken.yaml'],1,0a5e38d50bd1f0dc20020859a7adeba0ea5634ce,yoga-convenience-before-em, - version: 2.3.2 projects: - repo: openstack/os-ken hash: a70c93eb42c78a4222437c7930a3cc985613ffc3,,4,0
openstack%2Freleases~master~I5c149a3ceeeceecb8a5bf19a7930a8be8c4efe74,openstack/releases,master,I5c149a3ceeeceecb8a5bf19a7930a8be8c4efe74,[Yoga] Release networking-sfc,ABANDONED,2023-07-25 15:23:16.000000000,2023-07-26 12:57:14.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:23:16.000000000', 'files': ['deliverables/yoga/networking-sfc.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/435122996e8c9c6827fbd217d9e3d170d2d110c4', 'message': '[Yoga] Release networking-sfc\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 14.0.0..2d9e61d\n2d9e61d Update TOX_CONSTRAINTS_FILE for stable/yoga\n2125846 Update .gitreview for stable/yoga\n\nChange-Id: I5c149a3ceeeceecb8a5bf19a7930a8be8c4efe74\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889512,435122996e8c9c6827fbd217d9e3d170d2d110c4,5,3,1,28522,,,0,"[Yoga] Release networking-sfc

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 14.0.0..2d9e61d
2d9e61d Update TOX_CONSTRAINTS_FILE for stable/yoga
2125846 Update .gitreview for stable/yoga

Change-Id: I5c149a3ceeeceecb8a5bf19a7930a8be8c4efe74
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/889512/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/networking-sfc.yaml'],1,435122996e8c9c6827fbd217d9e3d170d2d110c4,yoga-convenience-before-em, - version: 14.0.1 projects: - repo: openstack/networking-sfc hash: 2d9e61daf20436354e668d76089f5a79baa938bd,,4,0
openstack%2Freleases~master~I8a62cd7521424824864fae74af6e9336f9ee2b3e,openstack/releases,master,I8a62cd7521424824864fae74af6e9336f9ee2b3e,[Yoga] Release python-heatclient,ABANDONED,2023-07-25 16:16:19.000000000,2023-07-26 12:42:27.000000000,,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f93b52ed0ddd82461e67055683ded11e8202ca22', 'message': '[Yoga] Release python-heatclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.1..908771b\n908771b Update TOX_CONSTRAINTS_FILE for stable/yoga\n5d0477a Update .gitreview for stable/yoga\n\nChange-Id: I8a62cd7521424824864fae74af6e9336f9ee2b3e\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}, {'number': 2, 'created': '2023-07-26 04:12:43.000000000', 'files': ['deliverables/yoga/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fa3eef1f5c92254ad524f0e37d9d429b1103fcd5', 'message': '[Yoga] Release python-heatclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.1..908771b\n908771b Update TOX_CONSTRAINTS_FILE for stable/yoga\n5d0477a Update .gitreview for stable/yoga\n\nChange-Id: I8a62cd7521424824864fae74af6e9336f9ee2b3e\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889590,fa3eef1f5c92254ad524f0e37d9d429b1103fcd5,7,3,2,28522,,,0,"[Yoga] Release python-heatclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.1..908771b
908771b Update TOX_CONSTRAINTS_FILE for stable/yoga
5d0477a Update .gitreview for stable/yoga

Change-Id: I8a62cd7521424824864fae74af6e9336f9ee2b3e
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/889590/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-heatclient.yaml'],1,f93b52ed0ddd82461e67055683ded11e8202ca22,yoga-convenience-before-em, - version: 2.5.2 projects: - repo: openstack/python-heatclient hash: 908771b55d9f17b5a1d8d37c7d34c20642437531release-notes: https://docs.openstack.org/releasenotes/python-heatclient/yoga.html,release-notes: https://docs.openstack.org/releasenotes/python-heatclient/yoga.html,6,1
openstack%2Freleases~master~I069b905d826a71eb471d6f7acdbe16f8dcd38e85,openstack/releases,master,I069b905d826a71eb471d6f7acdbe16f8dcd38e85,[Yoga] Release python-cyborgclient,ABANDONED,2023-07-25 16:15:00.000000000,2023-07-26 12:41:52.000000000,,"[{'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-25 16:15:00.000000000', 'files': ['deliverables/yoga/python-cyborgclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3a8416feb206c66344ed0ab91b6bed9e38b12c8f', 'message': '[Yoga] Release python-cyborgclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 1.7.0..858aa4a\n858aa4a Update TOX_CONSTRAINTS_FILE for stable/yoga\n8c2f595 Update .gitreview for stable/yoga\n\nChange-Id: I069b905d826a71eb471d6f7acdbe16f8dcd38e85\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889586,3a8416feb206c66344ed0ab91b6bed9e38b12c8f,5,4,1,28522,,,0,"[Yoga] Release python-cyborgclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 1.7.0..858aa4a
858aa4a Update TOX_CONSTRAINTS_FILE for stable/yoga
8c2f595 Update .gitreview for stable/yoga

Change-Id: I069b905d826a71eb471d6f7acdbe16f8dcd38e85
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/889586/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-cyborgclient.yaml'],1,3a8416feb206c66344ed0ab91b6bed9e38b12c8f,yoga-convenience-before-em, - version: 1.7.1 projects: - repo: openstack/python-cyborgclient hash: 858aa4a34f88ffbb78d86f22baa630ffef0edcda,,4,0
openstack%2Freleases~master~I7d7dd362c7b16bb23d2273d576d79e610795e88c,openstack/releases,master,I7d7dd362c7b16bb23d2273d576d79e610795e88c,[Yoga] Release watcher,ABANDONED,2023-07-25 16:37:42.000000000,2023-07-26 12:41:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2023-07-25 16:37:42.000000000', 'files': ['deliverables/yoga/watcher.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7fe2cb2227588509331c31ff288c6bc8724c380c', 'message': '[Yoga] Release watcher\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 8.0.0..4b4d2125\n4b4d2125 Update TOX_CONSTRAINTS_FILE for stable/yoga\nba14d9f6 Update .gitreview for stable/yoga\n\nChange-Id: I7d7dd362c7b16bb23d2273d576d79e610795e88c\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",1,889634,7fe2cb2227588509331c31ff288c6bc8724c380c,5,2,1,28522,,,0,"[Yoga] Release watcher

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 8.0.0..4b4d2125
4b4d2125 Update TOX_CONSTRAINTS_FILE for stable/yoga
ba14d9f6 Update .gitreview for stable/yoga

Change-Id: I7d7dd362c7b16bb23d2273d576d79e610795e88c
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/889634/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/watcher.yaml'],1,7fe2cb2227588509331c31ff288c6bc8724c380c,yoga-convenience-before-em, - version: 8.0.1 projects: - repo: openstack/watcher hash: 4b4d212542d610a591c659845c68979064f2f4f8,,4,0
openstack%2Freleases~master~I65505f75a14390f46deac562180aa9899d9fb045,openstack/releases,master,I65505f75a14390f46deac562180aa9899d9fb045,[Yoga] Release python-freezerclient,ABANDONED,2023-07-25 16:15:31.000000000,2023-07-26 12:41:34.000000000,,"[{'_account_id': 13940}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:15:31.000000000', 'files': ['deliverables/yoga/python-freezerclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a4d2624f2b6f377c3824f732cd43cbead90ff0e', 'message': '[Yoga] Release python-freezerclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 4.4.0..35ccd6c\n35ccd6c Update TOX_CONSTRAINTS_FILE for stable/yoga\n78e95f1 Update .gitreview for stable/yoga\n\nChange-Id: I65505f75a14390f46deac562180aa9899d9fb045\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889588,2a4d2624f2b6f377c3824f732cd43cbead90ff0e,5,3,1,28522,,,0,"[Yoga] Release python-freezerclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 4.4.0..35ccd6c
35ccd6c Update TOX_CONSTRAINTS_FILE for stable/yoga
78e95f1 Update .gitreview for stable/yoga

Change-Id: I65505f75a14390f46deac562180aa9899d9fb045
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/889588/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-freezerclient.yaml'],1,2a4d2624f2b6f377c3824f732cd43cbead90ff0e,yoga-convenience-before-em, - version: 4.4.1 projects: - repo: openstack/python-freezerclient hash: 35ccd6cc79838cd0c3c04604db45b073cd12eca4,,4,0
openstack%2Freleases~master~I43e651ad93c3919a1be374c2c094b6afd41080e8,openstack/releases,master,I43e651ad93c3919a1be374c2c094b6afd41080e8,[Yoga] Release zun-ui,ABANDONED,2023-07-25 16:39:01.000000000,2023-07-26 12:41:26.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:39:01.000000000', 'files': ['deliverables/yoga/zun-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/19b91e3da472afc6031c3b1612e98f7194cbe186', 'message': '[Yoga] Release zun-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 9.0.0..bbccc23\nbbccc23 Update TOX_CONSTRAINTS_FILE for stable/yoga\n2a3020d Update .gitreview for stable/yoga\n\nChange-Id: I43e651ad93c3919a1be374c2c094b6afd41080e8\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889638,19b91e3da472afc6031c3b1612e98f7194cbe186,5,2,1,28522,,,0,"[Yoga] Release zun-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 9.0.0..bbccc23
bbccc23 Update TOX_CONSTRAINTS_FILE for stable/yoga
2a3020d Update .gitreview for stable/yoga

Change-Id: I43e651ad93c3919a1be374c2c094b6afd41080e8
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/889638/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/zun-ui.yaml'],1,19b91e3da472afc6031c3b1612e98f7194cbe186,yoga-convenience-before-em, - version: 9.0.1 projects: - repo: openstack/zun-ui hash: bbccc2399bc180ff5adb475c543bff28856e05b9,,4,0
openstack%2Freleases~master~I06dd640b87fbd51c3ba1d3398074f12a16df9d9b,openstack/releases,master,I06dd640b87fbd51c3ba1d3398074f12a16df9d9b,[Yoga] Release python-zunclient,ABANDONED,2023-07-25 16:24:24.000000000,2023-07-26 12:41:15.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:24:24.000000000', 'files': ['deliverables/yoga/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d21a124386df0db8929b622b94a30f4a30459ad8', 'message': '[Yoga] Release python-zunclient\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 4.4.0..382bab7\n382bab7 Update TOX_CONSTRAINTS_FILE for stable/yoga\neb2c14b Update .gitreview for stable/yoga\n\nChange-Id: I06dd640b87fbd51c3ba1d3398074f12a16df9d9b\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889610,d21a124386df0db8929b622b94a30f4a30459ad8,5,2,1,28522,,,0,"[Yoga] Release python-zunclient

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 4.4.0..382bab7
382bab7 Update TOX_CONSTRAINTS_FILE for stable/yoga
eb2c14b Update .gitreview for stable/yoga

Change-Id: I06dd640b87fbd51c3ba1d3398074f12a16df9d9b
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/889610/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-zunclient.yaml'],1,d21a124386df0db8929b622b94a30f4a30459ad8,yoga-convenience-before-em, - version: 4.4.1 projects: - repo: openstack/python-zunclient hash: 382bab7c237ccf2c15dd4f1f2d721e220d39c6bf,,4,0
openstack%2Freleases~master~I29486d3b2ac5c2adaae81cdf1442d58266c07f8a,openstack/releases,master,I29486d3b2ac5c2adaae81cdf1442d58266c07f8a,[Yoga] Release zaqar-ui,ABANDONED,2023-07-25 16:37:59.000000000,2023-07-26 12:41:06.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:37:59.000000000', 'files': ['deliverables/yoga/zaqar-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff3e64c576e81d19a398575f3103c378758307b4', 'message': '[Yoga] Release zaqar-ui\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 12.0.0..360287f\n360287f Update TOX_CONSTRAINTS_FILE for stable/yoga\nf74cb99 Update .gitreview for stable/yoga\n\nChange-Id: I29486d3b2ac5c2adaae81cdf1442d58266c07f8a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889635,ff3e64c576e81d19a398575f3103c378758307b4,5,2,1,28522,,,0,"[Yoga] Release zaqar-ui

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 12.0.0..360287f
360287f Update TOX_CONSTRAINTS_FILE for stable/yoga
f74cb99 Update .gitreview for stable/yoga

Change-Id: I29486d3b2ac5c2adaae81cdf1442d58266c07f8a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/889635/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/zaqar-ui.yaml'],1,ff3e64c576e81d19a398575f3103c378758307b4,yoga-convenience-before-em, - version: 12.0.1 projects: - repo: openstack/zaqar-ui hash: 360287f563f361665efa24ae1a0f3d58e40baae0,,4,0
openstack%2Freleases~master~I8ba2d699f6357cfae284039d5b44c4adb9707a62,openstack/releases,master,I8ba2d699f6357cfae284039d5b44c4adb9707a62,[Yoga] Release osc-lib,ABANDONED,2023-07-25 15:47:02.000000000,2023-07-26 12:40:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-07-25 15:47:02.000000000', 'files': ['deliverables/yoga/osc-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/483761423bd8bb9847f600f85873816ad31f8a48', 'message': '[Yoga] Release osc-lib\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.0..cd83b7d\ncd83b7d Update TOX_CONSTRAINTS_FILE for stable/yoga\n805a148 Update .gitreview for stable/yoga\n\nChange-Id: I8ba2d699f6357cfae284039d5b44c4adb9707a62\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889529,483761423bd8bb9847f600f85873816ad31f8a48,5,2,1,28522,,,0,"[Yoga] Release osc-lib

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.0..cd83b7d
cd83b7d Update TOX_CONSTRAINTS_FILE for stable/yoga
805a148 Update .gitreview for stable/yoga

Change-Id: I8ba2d699f6357cfae284039d5b44c4adb9707a62
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/889529/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/osc-lib.yaml'],1,483761423bd8bb9847f600f85873816ad31f8a48,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/osc-lib hash: cd83b7d460e18b98c2efde06f4d29dba11b55d40,,4,0
openstack%2Freleases~master~I4ecb85caba9cdb8797913a3d761ecd57f35967ac,openstack/releases,master,I4ecb85caba9cdb8797913a3d761ecd57f35967ac,[Yoga] Release oslo.db,ABANDONED,2023-07-25 15:48:38.000000000,2023-07-26 12:39:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:48:38.000000000', 'files': ['deliverables/yoga/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/648dd156b354645c7453bf9f4ecdf7bf072beb3b', 'message': '[Yoga] Release oslo.db\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 11.2.0..75d17a5\n75d17a5 Update TOX_CONSTRAINTS_FILE for stable/yoga\n72dbadf Update .gitreview for stable/yoga\n\nChange-Id: I4ecb85caba9cdb8797913a3d761ecd57f35967ac\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889533,648dd156b354645c7453bf9f4ecdf7bf072beb3b,4,2,1,28522,,,0,"[Yoga] Release oslo.db

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 11.2.0..75d17a5
75d17a5 Update TOX_CONSTRAINTS_FILE for stable/yoga
72dbadf Update .gitreview for stable/yoga

Change-Id: I4ecb85caba9cdb8797913a3d761ecd57f35967ac
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/889533/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.db.yaml'],1,648dd156b354645c7453bf9f4ecdf7bf072beb3b,yoga-convenience-before-em, - version: 11.2.1 projects: - repo: openstack/oslo.db hash: 75d17a56b66c5922aa24cf2fa5a411f21f2536e0,,4,0
openstack%2Freleases~master~I3feb704b016b4ab4858c491e735ccbc64d57c819,openstack/releases,master,I3feb704b016b4ab4858c491e735ccbc64d57c819,[Yoga] Release oslo.privsep,ABANDONED,2023-07-25 15:49:53.000000000,2023-07-26 12:39:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:49:53.000000000', 'files': ['deliverables/yoga/oslo.privsep.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/99eb1025a4b66aeec0beee688dacf0d6346afc83', 'message': '[Yoga] Release oslo.privsep\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.7.0..259cb14\n259cb14 Update TOX_CONSTRAINTS_FILE for stable/yoga\nfbd4471 Update .gitreview for stable/yoga\n\nChange-Id: I3feb704b016b4ab4858c491e735ccbc64d57c819\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889537,99eb1025a4b66aeec0beee688dacf0d6346afc83,4,2,1,28522,,,0,"[Yoga] Release oslo.privsep

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.7.0..259cb14
259cb14 Update TOX_CONSTRAINTS_FILE for stable/yoga
fbd4471 Update .gitreview for stable/yoga

Change-Id: I3feb704b016b4ab4858c491e735ccbc64d57c819
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/889537/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.privsep.yaml'],1,99eb1025a4b66aeec0beee688dacf0d6346afc83,yoga-convenience-before-em, - version: 2.7.1 projects: - repo: openstack/oslo.privsep hash: 259cb14b13827fcf0273224e6043add2f1504081,,4,0
openstack%2Freleases~master~I1ddf9df20896e95f231b7aff2c70d72df1b74a50,openstack/releases,master,I1ddf9df20896e95f231b7aff2c70d72df1b74a50,[Yoga] Release oslo.service,ABANDONED,2023-07-25 15:50:55.000000000,2023-07-26 12:39:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:50:55.000000000', 'files': ['deliverables/yoga/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0174701168cb3430feac1a603dd9dce1d86233c2', 'message': '[Yoga] Release oslo.service\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.8.0..4c9117a\n4c9117a Update TOX_CONSTRAINTS_FILE for stable/yoga\n6e7bad1 Update .gitreview for stable/yoga\n\nChange-Id: I1ddf9df20896e95f231b7aff2c70d72df1b74a50\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889539,0174701168cb3430feac1a603dd9dce1d86233c2,4,2,1,28522,,,0,"[Yoga] Release oslo.service

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.8.0..4c9117a
4c9117a Update TOX_CONSTRAINTS_FILE for stable/yoga
6e7bad1 Update .gitreview for stable/yoga

Change-Id: I1ddf9df20896e95f231b7aff2c70d72df1b74a50
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/889539/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.service.yaml'],1,0174701168cb3430feac1a603dd9dce1d86233c2,yoga-convenience-before-em, - version: 2.8.1 projects: - repo: openstack/oslo.service hash: 4c9117abc026b89d205ffb6eb263ea01a73a7073,,4,0
openstack%2Freleases~master~Ic21a1b00e354c8f17ecb12fbad160768062ae8c5,openstack/releases,master,Ic21a1b00e354c8f17ecb12fbad160768062ae8c5,[Yoga] Release oslo.policy,ABANDONED,2023-07-25 15:49:36.000000000,2023-07-26 12:39:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:49:36.000000000', 'files': ['deliverables/yoga/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/581a53c0fa05be03d5a9d5976c86bdd7d80ceb2f', 'message': '[Yoga] Release oslo.policy\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 3.11.0..6c43c1f\n6c43c1f Update TOX_CONSTRAINTS_FILE for stable/yoga\nfd73947 Update .gitreview for stable/yoga\n\nChange-Id: Ic21a1b00e354c8f17ecb12fbad160768062ae8c5\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889536,581a53c0fa05be03d5a9d5976c86bdd7d80ceb2f,4,2,1,28522,,,0,"[Yoga] Release oslo.policy

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 3.11.0..6c43c1f
6c43c1f Update TOX_CONSTRAINTS_FILE for stable/yoga
fd73947 Update .gitreview for stable/yoga

Change-Id: Ic21a1b00e354c8f17ecb12fbad160768062ae8c5
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/889536/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.policy.yaml'],1,581a53c0fa05be03d5a9d5976c86bdd7d80ceb2f,yoga-convenience-before-em, - version: 3.11.1 projects: - repo: openstack/oslo.policy hash: 6c43c1ff866b328f4d2a8013fa137d67014eb72d,,4,0
openstack%2Freleases~master~I1e8aa7a879d68e46a4f9f03334734738f5ae7e3b,openstack/releases,master,I1e8aa7a879d68e46a4f9f03334734738f5ae7e3b,[Yoga] Release oslo.cache,ABANDONED,2023-07-25 15:47:43.000000000,2023-07-26 12:39:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:47:43.000000000', 'files': ['deliverables/yoga/oslo.cache.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/edbfe34a073a555ea9e2f0bb1510d68f5be6c81b', 'message': '[Yoga] Release oslo.cache\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.10.1..3546ea2\n3546ea2 Update TOX_CONSTRAINTS_FILE for stable/yoga\n0026268 Update .gitreview for stable/yoga\n\nChange-Id: I1e8aa7a879d68e46a4f9f03334734738f5ae7e3b\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889531,edbfe34a073a555ea9e2f0bb1510d68f5be6c81b,4,2,1,28522,,,0,"[Yoga] Release oslo.cache

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.10.1..3546ea2
3546ea2 Update TOX_CONSTRAINTS_FILE for stable/yoga
0026268 Update .gitreview for stable/yoga

Change-Id: I1e8aa7a879d68e46a4f9f03334734738f5ae7e3b
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/889531/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.cache.yaml'],1,edbfe34a073a555ea9e2f0bb1510d68f5be6c81b,yoga-convenience-before-em, - version: 2.10.2 projects: - repo: openstack/oslo.cache hash: 3546ea25f1d7df62ce52fe2868a491e8aa7c9e06,,4,0
openstack%2Freleases~master~I5d051468392faafa9b52c90a274024178d5bbac3,openstack/releases,master,I5d051468392faafa9b52c90a274024178d5bbac3,[Yoga] Release oslo.context,ABANDONED,2023-07-25 15:48:02.000000000,2023-07-26 12:38:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:48:02.000000000', 'files': ['deliverables/yoga/oslo.context.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c9ee8be91dee9e474168764b354d5bc07c968269', 'message': '[Yoga] Release oslo.context\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 4.1.0..bba3492\nbba3492 Update TOX_CONSTRAINTS_FILE for stable/yoga\n6b66c24 Update .gitreview for stable/yoga\n\nChange-Id: I5d051468392faafa9b52c90a274024178d5bbac3\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889532,c9ee8be91dee9e474168764b354d5bc07c968269,4,2,1,28522,,,0,"[Yoga] Release oslo.context

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 4.1.0..bba3492
bba3492 Update TOX_CONSTRAINTS_FILE for stable/yoga
6b66c24 Update .gitreview for stable/yoga

Change-Id: I5d051468392faafa9b52c90a274024178d5bbac3
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/889532/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.context.yaml'],1,c9ee8be91dee9e474168764b354d5bc07c968269,yoga-convenience-before-em, - version: 4.1.1 projects: - repo: openstack/oslo.context hash: bba3492eb7a1984e52ff3151776fba1376568682,,4,0
openstack%2Freleases~master~I470ec3b0e4ac14e351f9da90e700e5f0b91f5bc4,openstack/releases,master,I470ec3b0e4ac14e351f9da90e700e5f0b91f5bc4,[Yoga] Release oslo.middleware,ABANDONED,2023-07-25 15:49:17.000000000,2023-07-26 12:38:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:49:17.000000000', 'files': ['deliverables/yoga/oslo.middleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a755a261d9a021486bd0d1bc303743fc736190a7', 'message': '[Yoga] Release oslo.middleware\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 4.5.1..30f7a24\n30f7a24 Update TOX_CONSTRAINTS_FILE for stable/yoga\n622e421 Update .gitreview for stable/yoga\n\nChange-Id: I470ec3b0e4ac14e351f9da90e700e5f0b91f5bc4\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889535,a755a261d9a021486bd0d1bc303743fc736190a7,4,2,1,28522,,,0,"[Yoga] Release oslo.middleware

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 4.5.1..30f7a24
30f7a24 Update TOX_CONSTRAINTS_FILE for stable/yoga
622e421 Update .gitreview for stable/yoga

Change-Id: I470ec3b0e4ac14e351f9da90e700e5f0b91f5bc4
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/889535/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.middleware.yaml'],1,a755a261d9a021486bd0d1bc303743fc736190a7,yoga-convenience-before-em, - version: 4.5.2 projects: - repo: openstack/oslo.middleware hash: 30f7a248dcf1228e09d106559fb6653d55b8ab88,,4,0
openstack%2Freleases~master~I0e941642d5a7aeb0ee78592cfe0dd45113dcb7d9,openstack/releases,master,I0e941642d5a7aeb0ee78592cfe0dd45113dcb7d9,[Yoga] Release oslo.metrics,ABANDONED,2023-07-25 15:48:57.000000000,2023-07-26 12:38:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:48:57.000000000', 'files': ['deliverables/yoga/oslo.metrics.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/87ab442588e8e2c76dcf2eb88c8d4baf8c1e0a28', 'message': '[Yoga] Release oslo.metrics\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 0.4.0..466040f\n466040f Update TOX_CONSTRAINTS_FILE for stable/yoga\n8e3534c Update .gitreview for stable/yoga\n\nChange-Id: I0e941642d5a7aeb0ee78592cfe0dd45113dcb7d9\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889534,87ab442588e8e2c76dcf2eb88c8d4baf8c1e0a28,4,2,1,28522,,,0,"[Yoga] Release oslo.metrics

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 0.4.0..466040f
466040f Update TOX_CONSTRAINTS_FILE for stable/yoga
8e3534c Update .gitreview for stable/yoga

Change-Id: I0e941642d5a7aeb0ee78592cfe0dd45113dcb7d9
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/889534/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.metrics.yaml'],1,87ab442588e8e2c76dcf2eb88c8d4baf8c1e0a28,yoga-convenience-before-em, - version: 0.4.1 projects: - repo: openstack/oslo.metrics hash: 466040f8ce3855ec74342a0fa7d8bbb825efdf34,,4,0
openstack%2Freleases~master~Iac8a0c185a2641d287f6773aa6f857e9a3d1a665,openstack/releases,master,Iac8a0c185a2641d287f6773aa6f857e9a3d1a665,[Yoga] Release oslo.vmware,ABANDONED,2023-07-25 15:52:11.000000000,2023-07-26 12:38:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 15:52:11.000000000', 'files': ['deliverables/yoga/oslo.vmware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22aae4e09071cd81d821a302271c1080c6eac2dd', 'message': '[Yoga] Release oslo.vmware\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 3.10.0..48a0867\n48a0867 Update TOX_CONSTRAINTS_FILE for stable/yoga\nac7cc70 Update .gitreview for stable/yoga\n\nChange-Id: Iac8a0c185a2641d287f6773aa6f857e9a3d1a665\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889542,22aae4e09071cd81d821a302271c1080c6eac2dd,4,2,1,28522,,,0,"[Yoga] Release oslo.vmware

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 3.10.0..48a0867
48a0867 Update TOX_CONSTRAINTS_FILE for stable/yoga
ac7cc70 Update .gitreview for stable/yoga

Change-Id: Iac8a0c185a2641d287f6773aa6f857e9a3d1a665
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/889542/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.vmware.yaml'],1,22aae4e09071cd81d821a302271c1080c6eac2dd,yoga-convenience-before-em, - version: 3.10.1 projects: - repo: openstack/oslo.vmware hash: 48a0867a40ac3233b60a23c95fdc8d4c60c19333,,4,0
openstack%2Fcharm-keystone-k8s~main~I3e49df41d0f604538cf0469a4f867d55327b7df8,openstack/charm-keystone-k8s,main,I3e49df41d0f604538cf0469a4f867d55327b7df8,Change cloud_credentials lib patch version to 0,MERGED,2023-07-21 01:52:22.000000000,2023-07-26 12:36:40.000000000,2023-07-26 12:13:10.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-07-21 01:52:22.000000000', 'files': ['lib/charms/keystone_k8s/v1/cloud_credentials.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/a25ff7b0065a8dc903d3312d917163d4a9ad8a61', 'message': 'Change cloud_credentials lib patch version to 0\n\ncloud_credentials v1 is not published in charmcraft\nand gives an error when published since the patch\nversion is not 0.\nChanged the patch version to 0.\n\nChange-Id: I3e49df41d0f604538cf0469a4f867d55327b7df8\n'}]",0,889143,a25ff7b0065a8dc903d3312d917163d4a9ad8a61,8,3,1,10366,,,0,"Change cloud_credentials lib patch version to 0

cloud_credentials v1 is not published in charmcraft
and gives an error when published since the patch
version is not 0.
Changed the patch version to 0.

Change-Id: I3e49df41d0f604538cf0469a4f867d55327b7df8
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/43/889143/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms/keystone_k8s/v1/cloud_credentials.py'],1,a25ff7b0065a8dc903d3312d917163d4a9ad8a61,cloud_credentials_patch,LIBPATCH = 0,LIBPATCH = 1,1,1
openstack%2Freleases~master~I80732e7135a96c1c70e2a6620092f17034921a15,openstack/releases,master,I80732e7135a96c1c70e2a6620092f17034921a15,[Yoga] Release barbican-tempest-plugin,ABANDONED,2023-07-25 14:15:44.000000000,2023-07-26 12:23:30.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:15:44.000000000', 'files': ['deliverables/yoga/barbican-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fd021179036b31d7c270b7e9dafd1e1ece826e54', 'message': '[Yoga] Release barbican-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges wallaby-last..e765946\n832692c Modify test_get_effective_quota test\nd8047c2 Enable test_secret_stores tests\nb51b3f5 Update rbac tests\n26c700d Fix test_secret_stores tests\n42300cd Migrate back to Launchpad\nbf80ee0 Add enable_certificate_validation config option\nb18a6bf Set a default region for clients\n\nChange-Id: I80732e7135a96c1c70e2a6620092f17034921a15\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889416,fd021179036b31d7c270b7e9dafd1e1ece826e54,3,4,1,28522,,,0,"[Yoga] Release barbican-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges wallaby-last..e765946
832692c Modify test_get_effective_quota test
d8047c2 Enable test_secret_stores tests
b51b3f5 Update rbac tests
26c700d Fix test_secret_stores tests
42300cd Migrate back to Launchpad
bf80ee0 Add enable_certificate_validation config option
b18a6bf Set a default region for clients

Change-Id: I80732e7135a96c1c70e2a6620092f17034921a15
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/889416/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/barbican-tempest-plugin.yaml'],1,fd021179036b31d7c270b7e9dafd1e1ece826e54,yoga-convenience-before-em, - version: 1.7.0 projects: - repo: openstack/barbican-tempest-plugin hash: e765946be16235dafa82809183a4b9e2fa14e078,,4,0
openstack%2Fcharm-mysql-innodb-cluster~master~I2b9cd71241345831fda126e558f724bfaa74ffb3,openstack/charm-mysql-innodb-cluster,master,I2b9cd71241345831fda126e558f724bfaa74ffb3,Fix focal-full-ha CI hacluster error by forcing series,NEW,2023-06-07 15:17:48.000000000,2023-07-26 12:23:22.000000000,,"[{'_account_id': 2424}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 15:17:48.000000000', 'files': ['src/tests/bundles/overlays/focal-full-ha.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/938a87c2ef43c2dbfc6c8c6f395230aaf024126a', 'message': ""Fix focal-full-ha CI hacluster error by forcing series\n\nSome strange issue in charmhub. It doesn't work unless forced.\nAlternatively using 2.0.3/stable also works, but why should\nwe use the non-edge channel on master?\n\nRelated-bug: #2020899\nChange-Id: I2b9cd71241345831fda126e558f724bfaa74ffb3\n""}]",8,885504,938a87c2ef43c2dbfc6c8c6f395230aaf024126a,11,4,1,14567,,,0,"Fix focal-full-ha CI hacluster error by forcing series

Some strange issue in charmhub. It doesn't work unless forced.
Alternatively using 2.0.3/stable also works, but why should
we use the non-edge channel on master?

Related-bug: #2020899
Change-Id: I2b9cd71241345831fda126e558f724bfaa74ffb3
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/04/885504/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/focal-full-ha.yaml.j2'],1,938a87c2ef43c2dbfc6c8c6f395230aaf024126a,, series: focal series: focal,,2,0
openstack%2Freleases~master~Ie97e87c13de490bb5e891855eec475c2884b9307,openstack/releases,master,Ie97e87c13de490bb5e891855eec475c2884b9307,[Yoga] Release blazar-tempest-plugin,ABANDONED,2023-07-25 14:17:21.000000000,2023-07-26 12:23:18.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:17:21.000000000', 'files': ['deliverables/yoga/blazar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/646d1d5815a9cf738393e113b6d68d2d9ceb102b', 'message': '[Yoga] Release blazar-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..2758d56\n2758d56 Add stable/2023.1 jobs on master gate\n\nChange-Id: Ie97e87c13de490bb5e891855eec475c2884b9307\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889422,646d1d5815a9cf738393e113b6d68d2d9ceb102b,3,2,1,28522,,,0,"[Yoga] Release blazar-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..2758d56
2758d56 Add stable/2023.1 jobs on master gate

Change-Id: Ie97e87c13de490bb5e891855eec475c2884b9307
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/889422/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/blazar-tempest-plugin.yaml'],1,646d1d5815a9cf738393e113b6d68d2d9ceb102b,yoga-convenience-before-em, - version: 0.8.1 projects: - repo: openstack/blazar-tempest-plugin hash: 2758d56872b5932925dee702abb9a57c6d1a123a,,4,0
openstack%2Freleases~master~Ie28bd6c3a5f60fd769f1e17e10b70258f0999dc6,openstack/releases,master,Ie28bd6c3a5f60fd769f1e17e10b70258f0999dc6,[Yoga] Release cinder-tempest-plugin,ABANDONED,2023-07-25 14:18:37.000000000,2023-07-26 12:23:11.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-07-25 14:18:37.000000000', 'files': ['deliverables/yoga/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7d25269283a8cacbe91f7de9c8735be5c48b31fd', 'message': '[Yoga] Release cinder-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 1.8.1..52a75f4\n9fd78d5 Fixed cinder-tempest-plugin-lvm-lio-barbican job\nbbb3cd6 Test srbac on backups\nedd6111 zuul: Exclude unneeded tests from multiattach job\nd0e5b91 zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs\nde601ae [srbac] Test srbac on snapshots\n5bd7241 test srbac on volume-types\nb57a8dd Test srbac on user_messages\n3367fdd [srbac] Testing Volume Actions\n46910c6 [srbac] Testing Volumes\n47958a8 Bump tempest version in requirements.txt\n51c56f2 Wait for servers to be SSHABLE\n490c825 Test capabilites for srbac feature\n87d4802 zuul: new LVM/nvmet job (relevant scenario)\nd6989d3 Fix test_boot_cloned_encrypted_volume docstring\n723c3b9 Add FIPS job for barbican case\n2cbd042 zuul: make the SRBAC job voting\n310228c Increase cinder volume quota for cbak job\n8c60846 Add Python 3.10 to setup.cfg metadata\n\nChange-Id: Ie28bd6c3a5f60fd769f1e17e10b70258f0999dc6\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889426,7d25269283a8cacbe91f7de9c8735be5c48b31fd,3,3,1,28522,,,0,"[Yoga] Release cinder-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 1.8.1..52a75f4
9fd78d5 Fixed cinder-tempest-plugin-lvm-lio-barbican job
bbb3cd6 Test srbac on backups
edd6111 zuul: Exclude unneeded tests from multiattach job
d0e5b91 zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs
de601ae [srbac] Test srbac on snapshots
5bd7241 test srbac on volume-types
b57a8dd Test srbac on user_messages
3367fdd [srbac] Testing Volume Actions
46910c6 [srbac] Testing Volumes
47958a8 Bump tempest version in requirements.txt
51c56f2 Wait for servers to be SSHABLE
490c825 Test capabilites for srbac feature
87d4802 zuul: new LVM/nvmet job (relevant scenario)
d6989d3 Fix test_boot_cloned_encrypted_volume docstring
723c3b9 Add FIPS job for barbican case
2cbd042 zuul: make the SRBAC job voting
310228c Increase cinder volume quota for cbak job
8c60846 Add Python 3.10 to setup.cfg metadata

Change-Id: Ie28bd6c3a5f60fd769f1e17e10b70258f0999dc6
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/889426/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/cinder-tempest-plugin.yaml'],1,7d25269283a8cacbe91f7de9c8735be5c48b31fd,yoga-convenience-before-em, - version: 1.7.0 projects: - repo: openstack/cinder-tempest-plugin hash: 52a75f4e3a6dd88d5cfc8f807026197a5db94d5c,,4,0
openstack%2Freleases~master~I41298d96b2c3ae97026afc3a8685af316d7159df,openstack/releases,master,I41298d96b2c3ae97026afc3a8685af316d7159df,[Yoga] Release glance-tempest-plugin,ABANDONED,2023-07-25 14:38:42.000000000,2023-07-26 12:23:03.000000000,,"[{'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:38:42.000000000', 'files': ['deliverables/yoga/glance-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ec6865d382fe5630083482be15532b8e1ba976a', 'message': '[Yoga] Release glance-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 0.6.0..d6f7287\nd6f7287 glance-tempest-plugin branchless: add stable branch testing\na7f1754 Assert on system scope permission based on supported flag\n\nChange-Id: I41298d96b2c3ae97026afc3a8685af316d7159df\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889450,7ec6865d382fe5630083482be15532b8e1ba976a,3,2,1,28522,,,0,"[Yoga] Release glance-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 0.6.0..d6f7287
d6f7287 glance-tempest-plugin branchless: add stable branch testing
a7f1754 Assert on system scope permission based on supported flag

Change-Id: I41298d96b2c3ae97026afc3a8685af316d7159df
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/889450/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/glance-tempest-plugin.yaml'],1,7ec6865d382fe5630083482be15532b8e1ba976a,yoga-convenience-before-em, - version: 0.3.1 projects: - repo: openstack/glance-tempest-plugin hash: d6f7287947731da139413899ddddddcfb95e1a50,,4,0
openstack%2Freleases~master~Ic11a9fc2c896b4c01ba84d7a6f8e34ce7eddd08c,openstack/releases,master,Ic11a9fc2c896b4c01ba84d7a6f8e34ce7eddd08c,[Yoga] Release cyborg-tempest-plugin,ABANDONED,2023-07-25 14:26:11.000000000,2023-07-26 12:22:57.000000000,,"[{'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-25 14:26:11.000000000', 'files': ['deliverables/yoga/cyborg-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/81d765b3c084583975e120aae1f45f6f23054d56', 'message': '[Yoga] Release cyborg-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.1.0..1db2d0f\n1db2d0f Add stable/2023.1 jobs on master gate\n3b16666 add list device testcase by combine args\n\nChange-Id: Ic11a9fc2c896b4c01ba84d7a6f8e34ce7eddd08c\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889439,81d765b3c084583975e120aae1f45f6f23054d56,3,4,1,28522,,,0,"[Yoga] Release cyborg-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.1.0..1db2d0f
1db2d0f Add stable/2023.1 jobs on master gate
3b16666 add list device testcase by combine args

Change-Id: Ic11a9fc2c896b4c01ba84d7a6f8e34ce7eddd08c
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/889439/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/cyborg-tempest-plugin.yaml'],1,81d765b3c084583975e120aae1f45f6f23054d56,yoga-convenience-before-em, - version: 1.4.1 projects: - repo: openstack/cyborg-tempest-plugin hash: 1db2d0f864435f45a14b8de0e789715ba13eccb9,,4,0
openstack%2Freleases~master~I185526e06f3fd9973ee97e8514efca78d47c1a6c,openstack/releases,master,I185526e06f3fd9973ee97e8514efca78d47c1a6c,[Yoga] Release cloudkitty-tempest-plugin,ABANDONED,2023-07-25 14:24:04.000000000,2023-07-26 12:22:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2023-07-25 14:24:04.000000000', 'files': ['deliverables/yoga/cloudkitty-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/402307cba11284ed41041be09ffe7a00991d9327', 'message': '[Yoga] Release cloudkitty-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..599e5ee\na93eff4 Add stable/2023.1 jobs on master gate\n66586bb Cleanup py27 support\n\nChange-Id: I185526e06f3fd9973ee97e8514efca78d47c1a6c\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889432,402307cba11284ed41041be09ffe7a00991d9327,3,2,1,28522,,,0,"[Yoga] Release cloudkitty-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..599e5ee
a93eff4 Add stable/2023.1 jobs on master gate
66586bb Cleanup py27 support

Change-Id: I185526e06f3fd9973ee97e8514efca78d47c1a6c
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/889432/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/cloudkitty-tempest-plugin.yaml'],1,402307cba11284ed41041be09ffe7a00991d9327,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/cloudkitty-tempest-plugin hash: 599e5eea9c99015f000baf695b2a61a5b3bf21c3,,4,0
openstack%2Freleases~master~I3e5a9ad7147854ca9317b82598d1715b721ac299,openstack/releases,master,I3e5a9ad7147854ca9317b82598d1715b721ac299,[Yoga] Release keystone-tempest-plugin,ABANDONED,2023-07-25 14:53:57.000000000,2023-07-26 12:22:43.000000000,,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:53:57.000000000', 'files': ['deliverables/yoga/keystone-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb09e3ba63fc640a9fb304866f09260daf816e7c', 'message': '[Yoga] Release keystone-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 0.12.0..dbe56f0\ndbe56f0 Add existing user logic\n\nChange-Id: I3e5a9ad7147854ca9317b82598d1715b721ac299\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889467,cb09e3ba63fc640a9fb304866f09260daf816e7c,3,3,1,28522,,,0,"[Yoga] Release keystone-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 0.12.0..dbe56f0
dbe56f0 Add existing user logic

Change-Id: I3e5a9ad7147854ca9317b82598d1715b721ac299
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/889467/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/keystone-tempest-plugin.yaml'],1,cb09e3ba63fc640a9fb304866f09260daf816e7c,yoga-convenience-before-em, - version: 0.10.0 projects: - repo: openstack/keystone-tempest-plugin hash: dbe56f0a07febd9e8babf54b88c63084b59f0b39,,4,0
openstack%2Freleases~master~I9302d4a2bfe14e18881f54a12bd58ac05de28ae9,openstack/releases,master,I9302d4a2bfe14e18881f54a12bd58ac05de28ae9,[Yoga] Release ironic-tempest-plugin,ABANDONED,2023-07-25 14:49:58.000000000,2023-07-26 12:22:37.000000000,,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-25 14:49:58.000000000', 'files': ['deliverables/yoga/ironic-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8450b89c363aa74cc259f30e9eeb13b271190648', 'message': '[Yoga] Release ironic-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.6.1..3c8235e\n3c8235e rbac - Fix vif_attach expected return values\n3c43cf1 CI: Add RBAC specific tempest jobs for main branch exec\n72c5ed3 Fix rbac indicator tests\nc0d1a98 CI: Advance stable jobs to 2023.1\nc228c68 Advance tempest plugin tests to Zed (mostly)\nf297532 Fix rbac tests\nec74c1c Clarify checksum for wholedisk images.\n1670987 Upgrade to latest hacking - v6\ne475640 Secure RBAC Test\n\nChange-Id: I9302d4a2bfe14e18881f54a12bd58ac05de28ae9\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889463,8450b89c363aa74cc259f30e9eeb13b271190648,3,4,1,28522,,,0,"[Yoga] Release ironic-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.6.1..3c8235e
3c8235e rbac - Fix vif_attach expected return values
3c43cf1 CI: Add RBAC specific tempest jobs for main branch exec
72c5ed3 Fix rbac indicator tests
c0d1a98 CI: Advance stable jobs to 2023.1
c228c68 Advance tempest plugin tests to Zed (mostly)
f297532 Fix rbac tests
ec74c1c Clarify checksum for wholedisk images.
1670987 Upgrade to latest hacking - v6
e475640 Secure RBAC Test

Change-Id: I9302d4a2bfe14e18881f54a12bd58ac05de28ae9
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/889463/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ironic-tempest-plugin.yaml'],1,8450b89c363aa74cc259f30e9eeb13b271190648,yoga-convenience-before-em, - version: 2.4.1 projects: - repo: openstack/ironic-tempest-plugin hash: 3c8235ed02c10940fc3889ae04d9ba7a6a8bbb34,,4,0
openstack%2Freleases~master~Iabad8a4b9e3e629b88f6981100da60946c6d44c0,openstack/releases,master,Iabad8a4b9e3e629b88f6981100da60946c6d44c0,[Yoga] Release manila-tempest-plugin,ABANDONED,2023-07-25 15:03:53.000000000,2023-07-26 12:22:30.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-07-25 15:03:53.000000000', 'files': ['deliverables/yoga/manila-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ee1f37592479c6d447d4d03e44a7c6b112060e7b', 'message': '[Yoga] Release manila-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 1.13.0..5bd5f54\n5bd5f54 [RBAC] Add share snapshot metadata tests\n782a54d [RBAC] Wait for access rules to be applied prior to deletion\n4246d0b [RBAC] Tests for Share Instance Export Locations\n7afdada [CI] Fix cephfs-nfs job by running on centos-stream-9\n797aeb1 [CI] Run cephfs-native-cephadm job on Jammy Jellyfish\n82b1e6f [CI] Reduce mysql memory in all test jobs\n60626d5 [CI] Add cephadm based native cephfs test job\n3d6c65f Fix incorrect extend syntax\n6661800 Fix failing subnet test on stable/2023.1 branch\ndab53f8 Correct share group tests cleanup order\n7669e94 [CI] Ceph/NFS: skip data-intensive tests with ipv6\n\nChange-Id: Iabad8a4b9e3e629b88f6981100da60946c6d44c0\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889481,ee1f37592479c6d447d4d03e44a7c6b112060e7b,3,3,1,28522,,,0,"[Yoga] Release manila-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 1.13.0..5bd5f54
5bd5f54 [RBAC] Add share snapshot metadata tests
782a54d [RBAC] Wait for access rules to be applied prior to deletion
4246d0b [RBAC] Tests for Share Instance Export Locations
7afdada [CI] Fix cephfs-nfs job by running on centos-stream-9
797aeb1 [CI] Run cephfs-native-cephadm job on Jammy Jellyfish
82b1e6f [CI] Reduce mysql memory in all test jobs
60626d5 [CI] Add cephadm based native cephfs test job
3d6c65f Fix incorrect extend syntax
6661800 Fix failing subnet test on stable/2023.1 branch
dab53f8 Correct share group tests cleanup order
7669e94 [CI] Ceph/NFS: skip data-intensive tests with ipv6

Change-Id: Iabad8a4b9e3e629b88f6981100da60946c6d44c0
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/889481/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/manila-tempest-plugin.yaml'],1,ee1f37592479c6d447d4d03e44a7c6b112060e7b,yoga-convenience-before-em, - version: 1.7.1 projects: - repo: openstack/manila-tempest-plugin hash: 5bd5f54073329423bb87f0345012f40c93251c2e,,4,0
openstack%2Freleases~master~I1b17c195bf4a2428ccce848f2836575dc8dfbda7,openstack/releases,master,I1b17c195bf4a2428ccce848f2836575dc8dfbda7,[Yoga] Release magnum-tempest-plugin,ABANDONED,2023-07-25 15:00:51.000000000,2023-07-26 12:22:23.000000000,,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:00:51.000000000', 'files': ['deliverables/yoga/magnum-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b60f3740304e158f5ec4381ce69ec0f9635946bd', 'message': '[Yoga] Release magnum-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.0.0..a00cd2f\n8af1d1a Add stable/2023.1 jobs on master gate\n\nChange-Id: I1b17c195bf4a2428ccce848f2836575dc8dfbda7\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889478,b60f3740304e158f5ec4381ce69ec0f9635946bd,3,3,1,28522,,,0,"[Yoga] Release magnum-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.0.0..a00cd2f
8af1d1a Add stable/2023.1 jobs on master gate

Change-Id: I1b17c195bf4a2428ccce848f2836575dc8dfbda7
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/889478/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/magnum-tempest-plugin.yaml'],1,b60f3740304e158f5ec4381ce69ec0f9635946bd,yoga-convenience-before-em, - version: 1.6.1 projects: - repo: openstack/magnum-tempest-plugin hash: a00cd2f638110ef0689e8ca23b9d649c09edaf4b,,4,0
openstack%2Freleases~master~Ia8ddfecca244b14fab8654100761cd9e8747aaaf,openstack/releases,master,Ia8ddfecca244b14fab8654100761cd9e8747aaaf,[Yoga] Release trove-tempest-plugin,ABANDONED,2023-07-25 16:35:21.000000000,2023-07-26 12:21:34.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-25 16:35:21.000000000', 'files': ['deliverables/yoga/trove-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7731ec4e8178070e37b7d12ee7c13cd9925b781e', 'message': '[Yoga] Release trove-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..9122baa\n9122baa Add expect_op_status for wait_for_instance_status function.\n826cd69 Add python 3.10 to setup.cfg metadata\n089f238 remove trove-tempest-ipv6-only to experimental pipline\n35906b2 enable trove backup tests\n\nChange-Id: Ia8ddfecca244b14fab8654100761cd9e8747aaaf\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889629,7731ec4e8178070e37b7d12ee7c13cd9925b781e,3,3,1,28522,,,0,"[Yoga] Release trove-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..9122baa
9122baa Add expect_op_status for wait_for_instance_status function.
826cd69 Add python 3.10 to setup.cfg metadata
089f238 remove trove-tempest-ipv6-only to experimental pipline
35906b2 enable trove backup tests

Change-Id: Ia8ddfecca244b14fab8654100761cd9e8747aaaf
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/889629/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/trove-tempest-plugin.yaml'],1,7731ec4e8178070e37b7d12ee7c13cd9925b781e,yoga-convenience-before-em, - version: 1.5.0 projects: - repo: openstack/trove-tempest-plugin hash: 9122baa27245705147fde6b88450c1a17489e501,,4,0
openstack%2Freleases~master~I8a64663c8a6c6d905975a2c3dbc4e793d4041068,openstack/releases,master,I8a64663c8a6c6d905975a2c3dbc4e793d4041068,[Yoga] Release octavia-tempest-plugin,ABANDONED,2023-07-25 15:37:14.000000000,2023-07-26 12:21:26.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-07-25 15:37:14.000000000', 'files': ['deliverables/yoga/octavia-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/776c0432dcdf8fb4b69733cf3d19f46b5077617c', 'message': '[Yoga] Release octavia-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..3c44d1c\n3c44d1c Remove xena and wallaby jobs from the gates\n63b5c60 Add stable/2023.1 jobs on master gate\nc45b554 Adding jobs for stable/zed\n\nChange-Id: I8a64663c8a6c6d905975a2c3dbc4e793d4041068\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889521,776c0432dcdf8fb4b69733cf3d19f46b5077617c,3,4,1,28522,,,0,"[Yoga] Release octavia-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..3c44d1c
3c44d1c Remove xena and wallaby jobs from the gates
63b5c60 Add stable/2023.1 jobs on master gate
c45b554 Adding jobs for stable/zed

Change-Id: I8a64663c8a6c6d905975a2c3dbc4e793d4041068
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/889521/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/octavia-tempest-plugin.yaml'],1,776c0432dcdf8fb4b69733cf3d19f46b5077617c,yoga-convenience-before-em, - version: 1.9.1 projects: - repo: openstack/octavia-tempest-plugin hash: 3c44d1cb9b9f311b3f2396a6b8adb33895083739,,4,0
openstack%2Freleases~master~If98eab97583fc1c4b903c2cdc158ef18e95befe3,openstack/releases,master,If98eab97583fc1c4b903c2cdc158ef18e95befe3,[Yoga] Release sahara-tests,ABANDONED,2023-07-25 16:26:46.000000000,2023-07-26 12:20:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-07-25 16:26:46.000000000', 'files': ['deliverables/yoga/sahara-tests.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6eaea7c06d62d156ae4aa3e16c5c99ea3870c66f', 'message': '[Yoga] Release sahara-tests\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges victoria-last..f67f18f\nf67f18f Fix zuul config error\n9a88a31 setup.cfg: Replace dashes with underscores\n\nChange-Id: If98eab97583fc1c4b903c2cdc158ef18e95befe3\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889613,6eaea7c06d62d156ae4aa3e16c5c99ea3870c66f,5,2,1,28522,,,0,"[Yoga] Release sahara-tests

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges victoria-last..f67f18f
f67f18f Fix zuul config error
9a88a31 setup.cfg: Replace dashes with underscores

Change-Id: If98eab97583fc1c4b903c2cdc158ef18e95befe3
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/889613/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/sahara-tests.yaml'],1,6eaea7c06d62d156ae4aa3e16c5c99ea3870c66f,yoga-convenience-before-em, - version: 0.15.1 projects: - repo: openstack/sahara-tests hash: f67f18fbdef1e3f88276d1a421c75b2d80d7605a,,4,0
openstack%2Freleases~master~If162e401928c186600758055dd6109e3adba5615,openstack/releases,master,If162e401928c186600758055dd6109e3adba5615,[Yoga] Release tempest,ABANDONED,2023-07-25 16:34:16.000000000,2023-07-26 12:19:55.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-07-25 16:34:16.000000000', 'files': ['deliverables/yoga/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8f9f4a0285524572e0b7177139e660e067db2f7f', 'message': '[Yoga] Release tempest\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..b7c55ad0d\n51c0f9a35 Optimize the resource creation and status waiting in scenario tests\n33e4e24df Run test_port_security_macspoofing_port slow tests serially\n1643536c9 Split up ServerActionsTestJSON for better mixing\n180717d38 Fix tempest-slow-py3 job for < stable/xena\n14399c08a Revert ""Revert ""Mark ""test_live_migration_with_trunk"" as unstable""""\n8de4127c0 Run slow tests parallely\ndd49b3ee3 Revert ""Mark ""test_live_migration_with_trunk"" as unstable""\nd74c582a4 Fix test_schedule_to_all_node to support installation with ironic\n03ec2ae24 Avoid false positives with test_server_connectivity_live_migration\n08329968e Increase concurrency for tempest-slow jobs\n9db106a2e Add image admin test to list public image\n3d2e9a456 Fix cleanup of resources for object_storage tests\n2038c895d Remove setting of DEFAULT_IMAGE_NAME to non exit image\n0c953a7c1 Mark ""test_live_migration_with_trunk"" as unstable\n1fe102a62 Add tests to list hidden images\n768d25367 Add test to rebuild volume backed instance\ne095e74a0 Switch back the tox constraint to master\n3f844b250 Improve error msg of wait_for_server_status waiter\n0e8fcab93 Skip test_list_all_networks if no known network configured\n\nChange-Id: If162e401928c186600758055dd6109e3adba5615\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",4,889626,8f9f4a0285524572e0b7177139e660e067db2f7f,5,3,1,28522,,,0,"[Yoga] Release tempest

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..b7c55ad0d
51c0f9a35 Optimize the resource creation and status waiting in scenario tests
33e4e24df Run test_port_security_macspoofing_port slow tests serially
1643536c9 Split up ServerActionsTestJSON for better mixing
180717d38 Fix tempest-slow-py3 job for < stable/xena
14399c08a Revert ""Revert ""Mark ""test_live_migration_with_trunk"" as unstable""""
8de4127c0 Run slow tests parallely
dd49b3ee3 Revert ""Mark ""test_live_migration_with_trunk"" as unstable""
d74c582a4 Fix test_schedule_to_all_node to support installation with ironic
03ec2ae24 Avoid false positives with test_server_connectivity_live_migration
08329968e Increase concurrency for tempest-slow jobs
9db106a2e Add image admin test to list public image
3d2e9a456 Fix cleanup of resources for object_storage tests
2038c895d Remove setting of DEFAULT_IMAGE_NAME to non exit image
0c953a7c1 Mark ""test_live_migration_with_trunk"" as unstable
1fe102a62 Add tests to list hidden images
768d25367 Add test to rebuild volume backed instance
e095e74a0 Switch back the tox constraint to master
3f844b250 Improve error msg of wait_for_server_status waiter
0e8fcab93 Skip test_list_all_networks if no known network configured

Change-Id: If162e401928c186600758055dd6109e3adba5615
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/889626/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/tempest.yaml'],1,8f9f4a0285524572e0b7177139e660e067db2f7f,yoga-convenience-before-em, - version: 30.1.1 projects: - repo: openstack/tempest hash: b7c55ad0d8c726df88de947aab417bd9b095240e,,4,0
openstack%2Fcharm-heat-k8s~main~I1bfb53699abf810fa8f0805ff354065320f34063,openstack/charm-heat-k8s,main,I1bfb53699abf810fa8f0805ff354065320f34063,Trigger CI,MERGED,2023-07-26 09:19:53.000000000,2023-07-26 12:18:34.000000000,2023-07-26 12:18:34.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-26 09:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/60e0e13490078e5b643560e6fd9222796f6e54ab', 'message': 'Trigger CI\n\nTrigger CI to publish the charm.\n\nChange-Id: I1bfb53699abf810fa8f0805ff354065320f34063\n'}]",1,889684,60e0e13490078e5b643560e6fd9222796f6e54ab,8,2,1,10366,,,0,"Trigger CI

Trigger CI to publish the charm.

Change-Id: I1bfb53699abf810fa8f0805ff354065320f34063
",git fetch https://review.opendev.org/openstack/charm-heat-k8s refs/changes/84/889684/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,60e0e13490078e5b643560e6fd9222796f6e54ab,trigger-ci,,,0,0
openstack%2Freleases~master~I1b003f742037be48173cc15ff3c06deb20dae125,openstack/releases,master,I1b003f742037be48173cc15ff3c06deb20dae125,[Yoga] Release kuryr-tempest-plugin,ABANDONED,2023-07-25 15:00:12.000000000,2023-07-26 12:18:21.000000000,,"[{'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:00:12.000000000', 'files': ['deliverables/yoga/kuryr-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/722f9ee6fd250f2aa4cfbc55ed2a084ee0f58ec8', 'message': '[Yoga] Release kuryr-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..160b9a2\n160b9a2 Add stable/2023.1 jobs on master gate\n\nChange-Id: I1b003f742037be48173cc15ff3c06deb20dae125\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889475,722f9ee6fd250f2aa4cfbc55ed2a084ee0f58ec8,5,2,1,28522,,,0,"[Yoga] Release kuryr-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..160b9a2
160b9a2 Add stable/2023.1 jobs on master gate

Change-Id: I1b003f742037be48173cc15ff3c06deb20dae125
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/889475/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/kuryr-tempest-plugin.yaml'],1,722f9ee6fd250f2aa4cfbc55ed2a084ee0f58ec8,yoga-convenience-before-em, - version: 0.12.1 projects: - repo: openstack/kuryr-tempest-plugin hash: 160b9a208b423b3e940d642f024c650c1eb1e6fc,,4,0
openstack%2Freleases~master~Idf37f7a32106b44d0167981cdda1615f0c04d68d,openstack/releases,master,Idf37f7a32106b44d0167981cdda1615f0c04d68d,[Yoga] Release heat-tempest-plugin,ABANDONED,2023-07-25 14:41:25.000000000,2023-07-26 12:18:12.000000000,,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:41:25.000000000', 'files': ['deliverables/yoga/heat-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f2a78f8b3bb6626416f9f602eb43d0894acc8279', 'message': '[Yoga] Release heat-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 1.7.1..861283a\n861283a Add stable/2023.1 jobs on master gate\n\nChange-Id: Idf37f7a32106b44d0167981cdda1615f0c04d68d\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889454,f2a78f8b3bb6626416f9f602eb43d0894acc8279,5,3,1,28522,,,0,"[Yoga] Release heat-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 1.7.1..861283a
861283a Add stable/2023.1 jobs on master gate

Change-Id: Idf37f7a32106b44d0167981cdda1615f0c04d68d
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/889454/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/heat-tempest-plugin.yaml'],1,f2a78f8b3bb6626416f9f602eb43d0894acc8279,yoga-convenience-before-em, - version: 1.5.1 projects: - repo: openstack/heat-tempest-plugin hash: 861283a98f5d5c3b0252ef52db3cbd64cd3cc3a6,,4,0
openstack%2Freleases~master~I6dbd6ca1e103440cdd541e6083521b1db0ed3b30,openstack/releases,master,I6dbd6ca1e103440cdd541e6083521b1db0ed3b30,[Yoga] Release zun-tempest-plugin,ABANDONED,2023-07-25 16:38:43.000000000,2023-07-26 12:17:38.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 16:38:43.000000000', 'files': ['deliverables/yoga/zun-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8ef8c9f5342475e880a2e54d85d38986d043bffe', 'message': '[Yoga] Release zun-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..8a0b3cf\n8a0b3cf Add stable/2023.1 jobs on master gate\n\nChange-Id: I6dbd6ca1e103440cdd541e6083521b1db0ed3b30\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889637,8ef8c9f5342475e880a2e54d85d38986d043bffe,5,2,1,28522,,,0,"[Yoga] Release zun-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..8a0b3cf
8a0b3cf Add stable/2023.1 jobs on master gate

Change-Id: I6dbd6ca1e103440cdd541e6083521b1db0ed3b30
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/889637/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/zun-tempest-plugin.yaml'],1,8ef8c9f5342475e880a2e54d85d38986d043bffe,yoga-convenience-before-em, - version: 4.5.1 projects: - repo: openstack/zun-tempest-plugin hash: 8a0b3cf100c00c5ddbe13bc97b42f16a2bff95c1,,4,0
openstack%2Freleases~master~I1dd469a136e2ed0efe8029f855505fd166b965d8,openstack/releases,master,I1dd469a136e2ed0efe8029f855505fd166b965d8,[Yoga] Release designate-tempest-plugin,ABANDONED,2023-07-25 14:27:38.000000000,2023-07-26 12:17:20.000000000,,"[{'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:27:38.000000000', 'files': ['deliverables/yoga/designate-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0537b6689fa5376f8f9a574f0fb600dce2b2aee9', 'message': '[Yoga] Release designate-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..0552b62\n725b250 Shared Zones - new scenario test cases\n9b0cec9 [Designate] IPv6 detection check added\n300523a Remove EM stable/xena job from master gate\n75acd12 Adds backend propagation check for E2E recordset scenario test\n\nChange-Id: I1dd469a136e2ed0efe8029f855505fd166b965d8\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",3,889443,0537b6689fa5376f8f9a574f0fb600dce2b2aee9,7,3,1,28522,,,0,"[Yoga] Release designate-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..0552b62
725b250 Shared Zones - new scenario test cases
9b0cec9 [Designate] IPv6 detection check added
300523a Remove EM stable/xena job from master gate
75acd12 Adds backend propagation check for E2E recordset scenario test

Change-Id: I1dd469a136e2ed0efe8029f855505fd166b965d8
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/889443/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/designate-tempest-plugin.yaml'],1,0537b6689fa5376f8f9a574f0fb600dce2b2aee9,yoga-convenience-before-em, - version: 0.13.1 projects: - repo: openstack/designate-tempest-plugin hash: 0552b62a120e3ec84e2a4c00f2e7ed2be39278a3,,4,0
openstack%2Freleases~master~I2d524532f89ad57223931b939700ade1cb7db7f8,openstack/releases,master,I2d524532f89ad57223931b939700ade1cb7db7f8,[Yoga] Release ec2api-tempest-plugin,ABANDONED,2023-07-25 14:31:09.000000000,2023-07-26 12:16:03.000000000,,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 14:31:09.000000000', 'files': ['deliverables/yoga/ec2api-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4abc6e1dfdcd1f472b12405997268252bbf17741', 'message': '[Yoga] Release ec2api-tempest-plugin\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges xena-last..1036f53\n1036f53 Add stable/2023.1 jobs on master gate\n\nChange-Id: I2d524532f89ad57223931b939700ade1cb7db7f8\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889446,4abc6e1dfdcd1f472b12405997268252bbf17741,5,2,1,28522,,,0,"[Yoga] Release ec2api-tempest-plugin

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges xena-last..1036f53
1036f53 Add stable/2023.1 jobs on master gate

Change-Id: I2d524532f89ad57223931b939700ade1cb7db7f8
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/889446/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ec2api-tempest-plugin.yaml'],1,4abc6e1dfdcd1f472b12405997268252bbf17741,yoga-convenience-before-em, - version: 1.4.1 projects: - repo: openstack/ec2api-tempest-plugin hash: 1036f53ae8ff129440ed3d18dfec14e426e23224,,4,0
openstack%2Ftripleo-heat-templates~master~I986fadaaaccd42dca972f651acd9a30a7f41ece4,openstack/tripleo-heat-templates,master,I986fadaaaccd42dca972f651acd9a30a7f41ece4,"Partially revert ""Instance HA: prevent compute to start on a host being evacuated""",ABANDONED,2022-09-19 11:45:20.000000000,2023-07-26 12:11:20.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-09-19 11:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e2ef6fe10c397835bbbeac13ecdbb077f1b5cc0', 'message': 'Partially revert ""Instance HA: prevent compute to start on a host being evacuated""\n\nThis partially reverts commit 9602a9bafc0d6b724aa4228411a8475e23f94efb\nleaving the EnableInstanceHA parameter definition as it is required.\n\nReason for revert: This was fixed in nova by https://review.opendev.org/c/openstack/nova/+/562284/.\n\nChange-Id: I986fadaaaccd42dca972f651acd9a30a7f41ece4\n'}, {'number': 2, 'created': '2022-09-19 11:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/102ae68e98991f2c955c18a01bfb0db47913ce33', 'message': 'Partially revert ""Instance HA: prevent compute to start on a host being evacuated""\n\nThis partially reverts commit 9602a9bafc0d6b724aa4228411a8475e23f94efb\nleaving the EnableInstanceHA parameter definition as it is required.\n\nReason for revert: This was fixed in nova by https://review.opendev.org/c/openstack/nova/+/562284/.\n\nChange-Id: I986fadaaaccd42dca972f651acd9a30a7f41ece4\n'}, {'number': 3, 'created': '2022-09-19 11:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ebc7a2ad1205ef24043a9ccfffa5b00e40df643', 'message': 'Partially revert ""Instance HA: prevent compute to start on a host being evacuated""\n\nThis partially reverts commit 9602a9bafc0d6b724aa4228411a8475e23f94efb\nleaving the EnableInstanceHA parameter definition as it is required.\n\nReason for revert: This was fixed in nova by https://review.opendev.org/c/openstack/nova/+/562284/.\n\nChange-Id: I986fadaaaccd42dca972f651acd9a30a7f41ece4\n'}, {'number': 4, 'created': '2022-10-25 12:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2be673feace57c4c28248def0383e35a300da25', 'message': 'Partially revert ""Instance HA: prevent compute to start on a host being evacuated""\n\nThis partially reverts commit 9602a9bafc0d6b724aa4228411a8475e23f94efb\nleaving the EnableInstanceHA parameter definition as it is required.\n\nReason for revert: This was fixed in nova by https://review.opendev.org/c/openstack/nova/+/562284/.\n\nChange-Id: I986fadaaaccd42dca972f651acd9a30a7f41ece4\n'}, {'number': 5, 'created': '2023-03-20 14:45:54.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'scripts/check-run-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05d104e9a9f668e25577f6b2af749819189fb30f', 'message': 'Partially revert ""Instance HA: prevent compute to start on a host being evacuated""\n\nThis partially reverts commit 9602a9bafc0d6b724aa4228411a8475e23f94efb\nleaving the EnableInstanceHA parameter definition as it is required.\n\nReason for revert: This was fixed in nova by https://review.opendev.org/c/openstack/nova/+/562284/.\n\nChange-Id: I986fadaaaccd42dca972f651acd9a30a7f41ece4\n'}]",3,858305,05d104e9a9f668e25577f6b2af749819189fb30f,22,6,5,30126,,,0,"Partially revert ""Instance HA: prevent compute to start on a host being evacuated""

This partially reverts commit 9602a9bafc0d6b724aa4228411a8475e23f94efb
leaving the EnableInstanceHA parameter definition as it is required.

Reason for revert: This was fixed in nova by https://review.opendev.org/c/openstack/nova/+/562284/.

Change-Id: I986fadaaaccd42dca972f651acd9a30a7f41ece4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/858305/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'scripts/check-run-nova-compute', 'testrevert.patch']",3,2e2ef6fe10c397835bbbeac13ecdbb077f1b5cc0,,"diff --git a/deployment/nova/nova-compute-container-puppet.yaml b/deployment/nova/nova-compute-container-puppet.yaml index a8136d450..050795c38 100644 --- a/deployment/nova/nova-compute-container-puppet.yaml +++ b/deployment/nova/nova-compute-container-puppet.yaml @@ -100,12 +100,6 @@ parameters: type: number constraints: - range: { min: 0, max: 600 } - EnableInstanceHA: - default: false - description: Whether to enable an Instance Ha configuration or not. - This setup requires the Compute role to have the - PacemakerRemote service added to it. - type: boolean NovaRbdPoolName: default: vms type: string @@ -1543,9 +1537,6 @@ outputs: file: path: {get_param: CephConfigPath} state: directory - - name: is Instance HA enabled - set_fact: - instance_ha_enabled: {get_param: EnableInstanceHA} - name: enable virt_sandbox_use_netlink for healthcheck seboolean: name: virt_sandbox_use_netlink @@ -1554,24 +1545,6 @@ outputs: when: - ansible_facts.selinux is defined - ansible_facts.selinux.status == ""enabled"" - - name: install Instance HA recovery script - when: instance_ha_enabled|bool - block: - - name: prepare Instance HA script directory - file: - path: /var/lib/nova/instanceha - state: directory - - name: install Instance HA script that runs nova-compute - copy: - content: {get_file: ../../scripts/check-run-nova-compute} - dest: /var/lib/nova/instanceha/check-run-nova-compute - mode: 0755 - - name: Get list of instance HA compute nodes - command: hiera -c /etc/puppet/hiera.yaml compute_instanceha_short_node_names - register: iha_nodes - - name: If instance HA is enabled on the node activate the evacuation completed check - file: path=/var/lib/nova/instanceha/enabled state=touch - when: iha_nodes.stdout|lower is search('""'+ansible_facts['hostname']|lower+'""') - name: Do we prepend nova startup with a delay set_fact: nova_compute_delay: {get_param: NovaComputeStartupDelay} diff --git a/scripts/check-run-nova-compute b/scripts/check-run-nova-compute deleted file mode 100755 index ad5582506..000000000 --- a/scripts/check-run-nova-compute +++ /dev/null @@ -1,168 +0,0 @@ -#!/usr/bin/env python - -import os -import sys -import time -import inspect -import logging -import argparse -import oslo_config.cfg -import requests.exceptions - -def is_forced_down(connection, hostname): - services = connection.services.list(host=hostname, binary=""nova-compute"") - for service in services: - if service.forced_down: - return True - return False - -def evacuations_done(connection, hostname): - # Get a list of migrations. - # :param host: (optional) filter migrations by host name. - # :param status: (optional) filter migrations by status. - # :param cell_name: (optional) filter migrations for a cell. - # - migrations = connection.migrations.list(host=hostname) - - print(""Checking %d migrations"" % len(migrations)) - for migration in migrations: - # print migration.to_dict() - # - # { - # 'status': 'error', - # 'dest_host': None, - # 'new_instance_type_id': 2, - # 'old_instance_type_id': 2, - # 'updated_at': '2018-04-22T20:55:29.000000', - # 'dest_compute': - # 'overcloud-novacompute-2.localdomain', - # 'migration_type': 'live-migration', - # 'source_node': - # 'overcloud-novacompute-0.localdomain', - # 'id': 8, - # 'created_at': '2018-04-22T20:52:58.000000', - # 'instance_uuid': - # 'd1c82ce8-3dc5-48db-b59f-854b3b984ef1', - # 'dest_node': - # 'overcloud-novacompute-2.localdomain', - # 'source_compute': - # 'overcloud-novacompute-0.localdomain' - # } - # Acceptable: done, completed, failed - if migration.status in [""running"", ""accepted"", ""pre-migrating""]: - return False - return True - -def safe_to_start(connection, hostname): - if is_forced_down(connection, hostname): - print(""Waiting for fence-down flag to be cleared"") - return False - if not evacuations_done(connection, hostname): - print(""Waiting for evacuations to complete or fail"") - return False - return True - -def create_nova_connection(options): - try: - from novaclient import client - from novaclient.exceptions import NotAcceptable - except ImportError: - print(""Nova not found or not accessible"") - sys.exit(1) - - from keystoneauth1 import loading - from keystoneauth1 import session - - # Prefer the oldest and strip the leading 'v' - kwargs = dict( - auth_url=options[""auth_url""][0], - username=options[""username""][0], - password=options[""password""][0], - project_name=options[""project_name""][0], - user_domain_name=options[""user_domain_name""][0], - project_domain_name=options[""project_domain_name""][0], - ) - - loader = loading.get_plugin_loader('password') - keystone_auth = loader.load_from_options(**kwargs) - keystone_session = session.Session(auth=keystone_auth, verify=(not options[""insecure""])) - - nova_endpoint_type = 'internalURL' - # We default to internalURL but we allow this to be overridden via - # the [placement]/os_interface key. - if 'os_interface' in options and len(options[""os_interface""]) == 1: - nova_endpoint_type = options[""os_interface""][0] - # Via https://review.opendev.org/#/c/492247/ os_interface has been deprecated in queens - # and we need to use 'valid_interfaces' which is a: - # ""List of interfaces, in order of preference, for endpoint URL. (list value)"" - # Since it is not explicitly set in nova.conf we still keep the check for os_interface - elif 'valid_interfaces' in options and len(options[""valid_interfaces""]) >= 1: - nova_endpoint_type = options[""valid_interfaces""][0] - - # This mimicks the code in novaclient/shell.py - if nova_endpoint_type in ['internal', 'public', 'admin']: - nova_endpoint_type += 'URL' - - if 'region_name' in options: - region = options['region_name'][0] - elif 'os_region_name' in options: - region = options['os_region_name'][0] - else: # We actually try to make a client call even with an empty region - region = None - nova_versions = [ ""2.23"", ""2"" ] - for version in nova_versions: - nova = client.Client(version, - region_name=region, - session=keystone_session, auth=keystone_auth, - http_log_debug=""verbose"" in options, - endpoint_type=nova_endpoint_type) - - try: - nova.hypervisors.list() - return nova - - except NotAcceptable as e: - logging.warning(e) - - except Exception as e: - logging.warning(""Nova connection failed. %s: %s"" % (e.__class__.__name__, e)) - - print(""Couldn't obtain a supported connection to nova, tried: %s\n"" % repr(nova_versions)) - return None - - -parser = argparse.ArgumentParser(description='Process some integers.') -parser.add_argument('--config-file', dest='nova_config', action='store', - default=""/etc/nova/nova.conf"", - help='path to nova configuration (default: /etc/nova/nova.conf)') -parser.add_argument('--nova-binary', dest='nova_binary', action='store', - default=""/usr/bin/nova-compute"", - help='path to nova compute binary (default: /usr/bin/nova-compute)') -parser.add_argument('--enable-file', dest='enable_file', action='store', - default=""/var/lib/nova/instanceha/enabled"", - help='file exists if instance HA is enabled on this host '\ - '(default: /var/lib/nova/instanceha/enabled)') - - -sections = {} -(args, remaining) = parser.parse_known_args(sys.argv) - -config = oslo_config.cfg.ConfigParser(args.nova_config, sections) -config.parse() -config.sections[""placement""][""insecure""] = 0 -config.sections[""placement""][""verbose""] = 1 - -if os.path.isfile(args.enable_file): - connection = None - while not connection: - # Loop in case the control plane is recovering when we run - connection = create_nova_connection(config.sections[""placement""]) - if not connection: - time.sleep(10) - - while not safe_to_start(connection, config.sections[""DEFAULT""][""host""][0]): - time.sleep(10) - -real_args = [args.nova_binary, '--config-file', args.nova_config] -real_args.extend(remaining[1:]) -os.execv(args.nova_binary, real_args) ",,226,189
openstack%2Fcharm-mysql-innodb-cluster~master~I729261daabd40b0b20f2f9fa25980672415d2a28,openstack/charm-mysql-innodb-cluster,master,I729261daabd40b0b20f2f9fa25980672415d2a28,Add mantic support,ABANDONED,2023-07-18 20:54:59.000000000,2023-07-26 12:06:41.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a2f7a0b0cb5009c8a47ea075178d083cf80ef626', 'message': 'Add 2023.1 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n\nChange-Id: I729261daabd40b0b20f2f9fa25980672415d2a28\n'}, {'number': 2, 'created': '2023-07-20 20:14:26.000000000', 'files': ['charmcraft.yaml', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3ad0a50fd481c0703ed185586c2d581a0a622fe6', 'message': 'Add mantic support\n\nChange-Id: I729261daabd40b0b20f2f9fa25980672415d2a28\n'}]",1,888869,3ad0a50fd481c0703ed185586c2d581a0a622fe6,8,3,2,11805,,,0,"Add mantic support

Change-Id: I729261daabd40b0b20f2f9fa25980672415d2a28
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/69/888869/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'src/metadata.yaml']",2,a2f7a0b0cb5009c8a47ea075178d083cf80ef626,bobcat-support,- mantic,,4,0
openstack%2Fcyborg~master~Iee4114dd1ce02ce9a3108b14768fc4405dbb7812,openstack/cyborg,master,Iee4114dd1ce02ce9a3108b14768fc4405dbb7812,Follow pep8,MERGED,2023-07-04 12:51:05.000000000,2023-07-26 12:04:48.000000000,2023-07-26 12:03:50.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-04 12:51:05.000000000', 'files': ['cyborg/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c2114f2e071c9120be2b85d399bea112334869d5', 'message': 'Follow pep8\n\nChange-Id: Iee4114dd1ce02ce9a3108b14768fc4405dbb7812\n'}]",0,887598,c2114f2e071c9120be2b85d399bea112334869d5,7,2,1,33436,,,0,"Follow pep8

Change-Id: Iee4114dd1ce02ce9a3108b14768fc4405dbb7812
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/98/887598/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/hacking/checks.py'],1,c2114f2e071c9120be2b85d399bea112334869d5,," """"""Check for assertEqual(True|False, A in B), assertEqual(A in B, True|False) yield (0, ""M339: Do not use xrange()."") yield (0, ""M340: Found use of _() without explicit import of _ !"")"," """"""Check for assertEqual(True|False, A in B), assertEqual(A in B, True|False) yield(0, ""M339: Do not use xrange()."") yield(0, ""M340: Found use of _() without explicit import of _ !"")",4,3
openstack%2Fcharm-mysql-innodb-cluster~master~I559cc30f6d5bb99c7200f009b0173df5498378ae,openstack/charm-mysql-innodb-cluster,master,I559cc30f6d5bb99c7200f009b0173df5498378ae,Make the overlay explicit about series,ABANDONED,2023-07-04 15:09:15.000000000,2023-07-26 12:02:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/220259241cbacbc98cfa7bd58ccf74a32b1e2bdf', 'message': ""Make the overlay explicit about series\n\nDue to the related bug, this patch just enforces the series for the\nsubordinate hacluster charm to ensure that any regressions in\nJuju/Charmhub don't break tests in the future.\n\nChange-Id: I559cc30f6d5bb99c7200f009b0173df5498378ae\nRelated-Bug: #2025085\n""}, {'number': 2, 'created': '2023-07-05 13:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/9f1c133cee0581785d3e1bd1cbbeba3595b41b4a', 'message': ""Make the overlay explicit about series\n\nDue to the related bug, this patch just enforces the series for the\nsubordinate hacluster charm to ensure that any regressions in\nJuju/Charmhub don't break tests in the future.\n\nChange-Id: I559cc30f6d5bb99c7200f009b0173df5498378ae\nRelated-Bug: #2025085\n""}, {'number': 3, 'created': '2023-07-12 13:30:13.000000000', 'files': ['src/tests/bundles/overlays/focal-full-ha.yaml.j2', 'src/tests/bundles/overlays/jammy-full-ha.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/fc627156f0344743297ceb9c36da40e491fed37d', 'message': ""Make the overlay explicit about series\n\nDue to the related bug, this patch just enforces the series for the\nsubordinate hacluster charm to ensure that any regressions in\nJuju/Charmhub don't break tests in the future.\n\nChange-Id: I559cc30f6d5bb99c7200f009b0173df5498378ae\nRelated-Bug: #2025085\n""}]",1,887630,fc627156f0344743297ceb9c36da40e491fed37d,12,2,3,20870,,,0,"Make the overlay explicit about series

Due to the related bug, this patch just enforces the series for the
subordinate hacluster charm to ensure that any regressions in
Juju/Charmhub don't break tests in the future.

Change-Id: I559cc30f6d5bb99c7200f009b0173df5498378ae
Related-Bug: #2025085
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/30/887630/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-full-ha.yaml.j2', 'src/tests/bundles/overlays/jammy-full-ha.yaml.j2']",2,220259241cbacbc98cfa7bd58ccf74a32b1e2bdf,explicit-ha-bundles, series: jammy series: jammy,,4,0
openstack%2Fcharm-mysql-innodb-cluster~master~Ib12d778ae1e00a7a8d8ed120ce41e9f5de34a048,openstack/charm-mysql-innodb-cluster,master,Ib12d778ae1e00a7a8d8ed120ce41e9f5de34a048,Add pkg-config for building mysqlclient-2.2.0,ABANDONED,2023-07-05 13:28:16.000000000,2023-07-26 11:59:29.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-05 13:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f1c3dd4b905061c6d773718966a865bc901cdf8f', 'message': 'Add pkg-config for building mysqlclient-2.2.0\n\nThe error this fixes is:\n\n    Exception: Can not find valid pkg-config name.\n    Specify MYSQLCLIENT_CFLAGS and MYSQLCLIENT_LDFLAGS env vars manually\n\nChange-Id: Ib12d778ae1e00a7a8d8ed120ce41e9f5de34a048\n'}, {'number': 2, 'created': '2023-07-12 10:29:38.000000000', 'files': ['charmcraft.yaml', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/769e4e4993656dc9b8e0fe22ea0f4649904ec168', 'message': 'Add pkg-config for building mysqlclient-2.2.0\n\nThe error this fixes is:\n\n    Exception: Can not find valid pkg-config name.\n    Specify MYSQLCLIENT_CFLAGS and MYSQLCLIENT_LDFLAGS env vars manually\n\nChange-Id: Ib12d778ae1e00a7a8d8ed120ce41e9f5de34a048\n'}]",2,887693,769e4e4993656dc9b8e0fe22ea0f4649904ec168,10,2,2,20870,,,0,"Add pkg-config for building mysqlclient-2.2.0

The error this fixes is:

    Exception: Can not find valid pkg-config name.
    Specify MYSQLCLIENT_CFLAGS and MYSQLCLIENT_LDFLAGS env vars manually

Change-Id: Ib12d778ae1e00a7a8d8ed120ce41e9f5de34a048
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/93/887693/2 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,f1c3dd4b905061c6d773718966a865bc901cdf8f,add-pkg-config, - pkg-config,,1,0
openstack%2Freleases~master~I844094fba98071e0153dd3e4e79e780a2d37aefd,openstack/releases,master,I844094fba98071e0153dd3e4e79e780a2d37aefd,Release tooz 4.2.0,MERGED,2023-07-25 14:20:29.000000000,2023-07-26 11:53:17.000000000,2023-07-26 11:53:17.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 14:20:29.000000000', 'files': ['deliverables/_independent/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c9d232adad6cfcd4f418224f761cfd04ade09576', 'message': 'Release tooz 4.2.0\n\nChange-Id: I844094fba98071e0153dd3e4e79e780a2d37aefd\n'}]",2,889427,c9d232adad6cfcd4f418224f761cfd04ade09576,8,4,1,12404,,,0,"Release tooz 4.2.0

Change-Id: I844094fba98071e0153dd3e4e79e780a2d37aefd
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/889427/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tooz.yaml'],1,c9d232adad6cfcd4f418224f761cfd04ade09576,release-tooz, - version: 4.2.0 projects: - repo: openstack/tooz hash: bed303e9b47b5aef3a9e2d6a5da4b5891e9e6689,,4,0
openstack%2Fopenstack-ansible~stable%2Fyoga~I2a15e1bc93952c864e5d3664069649861683be94,openstack/openstack-ansible,stable/yoga,I2a15e1bc93952c864e5d3664069649861683be94,Disable upgrade jobs from Xena,MERGED,2023-07-24 11:38:47.000000000,2023-07-26 11:48:43.000000000,2023-07-26 11:44:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-24 11:38:47.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8478db6d86f7ed8ff66496512741d8e0ecd44d76', 'message': ""Disable upgrade jobs from Xena\n\nSince Xena is in EM, it's time to disable upgrade jobs, so that they\nwon't block progress for maintaing still supported branches.\n\nChange-Id: I2a15e1bc93952c864e5d3664069649861683be94\n""}]",0,889310,8478db6d86f7ed8ff66496512741d8e0ecd44d76,8,3,1,28619,,,0,"Disable upgrade jobs from Xena

Since Xena is in EM, it's time to disable upgrade jobs, so that they
won't block progress for maintaing still supported branches.

Change-Id: I2a15e1bc93952c864e5d3664069649861683be94
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/889310/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,8478db6d86f7ed8ff66496512741d8e0ecd44d76,, - openstack-ansible-upgrade-infra_lxc-ubuntu-focal: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-focal: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-focal: voting: false, - openstack-ansible-upgrade-aio_lxc-ubuntu-focal - openstack-ansible-upgrade-infra_lxc-ubuntu-focal gate: jobs: - openstack-ansible-upgrade-infra_lxc-ubuntu-focal - openstack-ansible-upgrade-aio_metal-ubuntu-focal gate: jobs: - openstack-ansible-upgrade-aio_metal-ubuntu-focal - openstack-ansible-upgrade-aio_metal-ubuntu-focal,6,10
openstack%2Fopenstack-ansible~stable%2Fyoga~Ia45454d39bbf79bb99320f99726684a22e0f6844,openstack/openstack-ansible,stable/yoga,Ia45454d39bbf79bb99320f99726684a22e0f6844,Include proper vars_file for rally,MERGED,2023-07-20 07:45:32.000000000,2023-07-26 11:47:43.000000000,2023-07-26 11:44:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-20 07:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/25a7e47ccb1269960ee29df4c17c78b04c311dd1', 'message': 'Include proper vars_file for rally\n\nRally SHA is stored in openstack_testing, so including\nopenstack_services results in always installing master version of rally.\n\nThis also disables functional CI tests to solve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887681\nChange-Id: Ia45454d39bbf79bb99320f99726684a22e0f6844\n'}, {'number': 2, 'created': '2023-07-20 07:48:11.000000000', 'files': ['playbooks/os-rally-install.yml', 'zuul.d/project.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c1cfa222696ff347d1f8021757be2b385d22e03', 'message': 'Include proper vars_file for rally\n\nRally SHA is stored in openstack_testing, so including\nopenstack_services results in always installing master version of rally.\n\nThis also disables functional CI tests to solve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887681\nChange-Id: Ia45454d39bbf79bb99320f99726684a22e0f6844\n'}]",0,888656,4c1cfa222696ff347d1f8021757be2b385d22e03,9,3,2,28619,,,0,"Include proper vars_file for rally

Rally SHA is stored in openstack_testing, so including
openstack_services results in always installing master version of rally.

This also disables functional CI tests to solve circular dependency

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887681
Change-Id: Ia45454d39bbf79bb99320f99726684a22e0f6844
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/888656/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-rally-install.yml', 'zuul.d/project.yaml']",2,25a7e47ccb1269960ee29df4c17c78b04c311dd1,, # - openstack-ansible-deploy-guide-jobs # - openstack-ansible-deploy-base-jobs # - openstack-ansible-deploy-aio_lxc-jobs # - openstack-ansible-deploy-aio_distro_lxc-jobs # - openstack-ansible-deploy-aio_metal-jobs # - openstack-ansible-deploy-aio_distro_metal-jobs # - openstack-ansible-deploy-ceph-jobs # - openstack-ansible-deploy-proxy-jobs # - openstack-ansible-deploy-distro_ceph-jobs, - openstack-ansible-deploy-guide-jobs - openstack-ansible-deploy-base-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-deploy-ceph-jobs - openstack-ansible-deploy-proxy-jobs - openstack-ansible-deploy-distro_ceph-jobs,10,10
openstack%2Fopenstack-ansible~master~Ieef7cd417d8a8f7b81ed41c069aa30e0fae940da,openstack/openstack-ansible,master,Ieef7cd417d8a8f7b81ed41c069aa30e0fae940da,nova/haproxy: fix typo in detection of 'serialconsole',MERGED,2023-07-25 14:15:52.000000000,2023-07-26 11:46:39.000000000,2023-07-26 11:44:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-07-25 14:15:52.000000000', 'files': ['inventory/group_vars/nova_all/haproxy_service.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d1e30257ae0c818780684fe77e1b34ba4dd0dc40', 'message': ""nova/haproxy: fix typo in detection of 'serialconsole'\n\n'nova_console_type' is defined in os_nova and elsewhere in\ngroup_vars with a 'serialconsole' value, but 'serial' is currently\nused here to determine whether to enable the haproxy config.\n\nChange-Id: Ieef7cd417d8a8f7b81ed41c069aa30e0fae940da\n""}]",0,889417,d1e30257ae0c818780684fe77e1b34ba4dd0dc40,9,4,1,31542,,,0,"nova/haproxy: fix typo in detection of 'serialconsole'

'nova_console_type' is defined in os_nova and elsewhere in
group_vars with a 'serialconsole' value, but 'serial' is currently
used here to determine whether to enable the haproxy config.

Change-Id: Ieef7cd417d8a8f7b81ed41c069aa30e0fae940da
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/889417/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/nova_all/haproxy_service.yml'],1,d1e30257ae0c818780684fe77e1b34ba4dd0dc40,," haproxy_service_enabled: ""{{ (groups['nova_console'] is defined and groups['nova_console'] | length > 0 and nova_console_type == 'serialconsole') or (groups['ironic_console'] is defined and groups['ironic_console'] | length > 0 and ironic_console_type == 'serialconsole') }}"""," haproxy_service_enabled: ""{{ (groups['nova_console'] is defined and groups['nova_console'] | length > 0 and nova_console_type == 'serial') or (groups['ironic_console'] is defined and groups['ironic_console'] | length > 0 and ironic_console_type == 'serial') }}""",2,2
openstack%2Freleases~master~Ic5d2d99caac6bc4580dfa8ac740ebe6fd9072c1a,openstack/releases,master,Ic5d2d99caac6bc4580dfa8ac740ebe6fd9072c1a,[Yoga] Release cliff,ABANDONED,2023-07-25 14:23:06.000000000,2023-07-26 11:46:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-07-25 14:23:06.000000000', 'files': ['deliverables/yoga/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/80217fb87815025a16272800c21d093ed82ffd39', 'message': '[Yoga] Release cliff\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 3.10.1..d5a5d7c\nd5a5d7c Update TOX_CONSTRAINTS_FILE for stable/yoga\n583f6a6 Update .gitreview for stable/yoga\n\nChange-Id: Ic5d2d99caac6bc4580dfa8ac740ebe6fd9072c1a\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889430,80217fb87815025a16272800c21d093ed82ffd39,5,2,1,28522,,,0,"[Yoga] Release cliff

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 3.10.1..d5a5d7c
d5a5d7c Update TOX_CONSTRAINTS_FILE for stable/yoga
583f6a6 Update .gitreview for stable/yoga

Change-Id: Ic5d2d99caac6bc4580dfa8ac740ebe6fd9072c1a
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/889430/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/cliff.yaml'],1,80217fb87815025a16272800c21d093ed82ffd39,yoga-convenience-before-em, - version: 3.10.2 projects: - repo: openstack/cliff hash: d5a5d7c7c5a6470041633fffb06c1f9a696809ac,,4,0
openstack%2Fopenstacksdk~master~I6bbad8a74dba781115487882e7a72adf7f394f2f,openstack/openstacksdk,master,I6bbad8a74dba781115487882e7a72adf7f394f2f,Define version for share_access_rules,MERGED,2023-07-21 15:29:56.000000000,2023-07-26 11:28:10.000000000,2023-07-26 11:26:15.000000000,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-07-21 15:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f5873b33623daafb2dd536c885ab6d579f6abf2', 'message': 'Define version for share_access_rules\n\nThis is a similar issue as I249b293b11a0e57ddf685de284681f060a334c1c\nbut with share_access_rules.\n\nNot specifying a microversion when using the Python command line\ninterpreter with the SDK results in it not functioning properly. The\nSDK raises an error stating that the URL cannot be found. However,\nwhen a microversion is explicitly defined, the SDK functions correctly\nwithout any additional configuration.\n\nChange-Id: I6bbad8a74dba781115487882e7a72adf7f394f2f\n'}, {'number': 2, 'created': '2023-07-25 09:06:17.000000000', 'files': ['openstack/shared_file_system/v2/share_access_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/423d8ceb036d797f8bd74cb3b2ba9998d81622c4', 'message': 'Define version for share_access_rules\n\nThis is a similar issue as I249b293b11a0e57ddf685de284681f060a334c1c\nbut with share_access_rules.\n\nNot specifying a microversion when using the Python command line\ninterpreter with the SDK results in it not functioning properly. The\nSDK raises an error stating that the URL cannot be found. However,\nwhen a microversion is explicitly defined, the SDK functions correctly\nwithout any additional configuration.\n\nChange-Id: I6bbad8a74dba781115487882e7a72adf7f394f2f\n'}]",6,889185,423d8ceb036d797f8bd74cb3b2ba9998d81622c4,19,5,2,16207,,,0,"Define version for share_access_rules

This is a similar issue as I249b293b11a0e57ddf685de284681f060a334c1c
but with share_access_rules.

Not specifying a microversion when using the Python command line
interpreter with the SDK results in it not functioning properly. The
SDK raises an error stating that the URL cannot be found. However,
when a microversion is explicitly defined, the SDK functions correctly
without any additional configuration.

Change-Id: I6bbad8a74dba781115487882e7a72adf7f394f2f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/85/889185/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/shared_file_system/v2/share_access_rule.py'],1,2f5873b33623daafb2dd536c885ab6d579f6abf2,fix_access_rules, _max_microversion = '2.45' _min_microversion = '2.45' ,,3,0
openstack%2Fopenstacksdk~master~I3bfe3efb8260c08f5f81cd0487afefe0dd439c94,openstack/openstacksdk,master,I3bfe3efb8260c08f5f81cd0487afefe0dd439c94,Remove _min_microversion for consistency,MERGED,2023-07-25 09:13:35.000000000,2023-07-26 11:27:20.000000000,2023-07-26 11:26:13.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-07-25 09:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/51c417571a782deb8a4f087466f45d2a79d84ffe', 'message': 'Remove _min_microversion for consistency\n\nChange-Id: I3bfe3efb8260c08f5f81cd0487afefe0dd439c94\n'}, {'number': 2, 'created': '2023-07-25 09:18:37.000000000', 'files': ['openstack/shared_file_system/v2/share_export_locations.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d63ce704847bca526210c8c3324a8df557236358', 'message': 'Remove _min_microversion for consistency\n\nThis is a minor update for change\nI249b293b11a0e57ddf685de284681f060a334c1c in order\nto keep consistency.\n\nChange-Id: I3bfe3efb8260c08f5f81cd0487afefe0dd439c94\n'}]",0,889381,d63ce704847bca526210c8c3324a8df557236358,10,4,2,16207,,,0,"Remove _min_microversion for consistency

This is a minor update for change
I249b293b11a0e57ddf685de284681f060a334c1c in order
to keep consistency.

Change-Id: I3bfe3efb8260c08f5f81cd0487afefe0dd439c94
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/81/889381/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/shared_file_system/v2/share_export_locations.py'],1,51c417571a782deb8a4f087466f45d2a79d84ffe,fix_consistency,, _min_microversion = '2.9',0,1
openstack%2Freleases~master~I679cf35dedc13aff51bd3779ce37094dd40c2315,openstack/releases,master,I679cf35dedc13aff51bd3779ce37094dd40c2315,[Yoga] Release automaton,ABANDONED,2023-07-25 14:15:16.000000000,2023-07-26 11:25:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-07-25 14:15:16.000000000', 'files': ['deliverables/yoga/automaton.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fd8d3639913f8e29f0dc89089fd0a5f8e0719e7d', 'message': '[Yoga] Release automaton\n\nThis is a convenience release before moving Yoga to extended maintenance\n(estimated 2023-11-02).\n\n$ git log --oneline --no-merges 2.5.0..05b4c94\n05b4c94 Update TOX_CONSTRAINTS_FILE for stable/yoga\n4ca22e4 Update .gitreview for stable/yoga\n\nChange-Id: I679cf35dedc13aff51bd3779ce37094dd40c2315\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\n'}]",0,889415,fd8d3639913f8e29f0dc89089fd0a5f8e0719e7d,4,2,1,28522,,,0,"[Yoga] Release automaton

This is a convenience release before moving Yoga to extended maintenance
(estimated 2023-11-02).

$ git log --oneline --no-merges 2.5.0..05b4c94
05b4c94 Update TOX_CONSTRAINTS_FILE for stable/yoga
4ca22e4 Update .gitreview for stable/yoga

Change-Id: I679cf35dedc13aff51bd3779ce37094dd40c2315
Signed-off-by: Herv Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/889415/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/automaton.yaml'],1,fd8d3639913f8e29f0dc89089fd0a5f8e0719e7d,yoga-convenience-before-em, - version: 2.5.1 projects: - repo: openstack/automaton hash: 05b4c9401bdb18598d7f171609b04632e2f585f1,,4,0
openstack%2Fopenstack-ansible-plugins~stable%2F2023.1~I3129b75af1127c62a0bd1cee39586730c5f6589c,openstack/openstack-ansible-plugins,stable/2023.1,I3129b75af1127c62a0bd1cee39586730c5f6589c,Installing systemd-udev with NVR,MERGED,2023-07-25 15:33:07.000000000,2023-07-26 11:16:00.000000000,2023-07-26 11:14:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-07-25 15:33:07.000000000', 'files': ['roles/glusterfs/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9463eadf287c3b4f1535ea3540478549544709db', 'message': 'Installing systemd-udev with NVR\n\nDue to the bug [1] in CentOS packaging, systemd-udev is substituted with\nsystemd-boot-unsigned. So you need to use NVR to properly\ninstall systemd-udev until the bug is fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279\n\nChange-Id: I3129b75af1127c62a0bd1cee39586730c5f6589c\n(cherry picked from commit 2638ff34e750268fcccbebbb95feae03adf27a68)\n'}]",0,889348,9463eadf287c3b4f1535ea3540478549544709db,8,3,1,28619,,,0,"Installing systemd-udev with NVR

Due to the bug [1] in CentOS packaging, systemd-udev is substituted with
systemd-boot-unsigned. So you need to use NVR to properly
install systemd-udev until the bug is fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279

Change-Id: I3129b75af1127c62a0bd1cee39586730c5f6589c
(cherry picked from commit 2638ff34e750268fcccbebbb95feae03adf27a68)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/48/889348/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/glusterfs/vars/redhat.yml'],1,9463eadf287c3b4f1535ea3540478549544709db,osa/centos_lxc-stable/2023.1, - systemd-udev-252-*, - systemd-udev,1,1
openstack%2Fcinder~master~I7567f1234410e99a7a8e7396a852bf8b1ca36d3a,openstack/cinder,master,I7567f1234410e99a7a8e7396a852bf8b1ca36d3a,Fix hang issue due to locking in powermax driver.,NEW,2023-06-01 00:09:43.000000000,2023-07-26 11:11:00.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 31779}, {'_account_id': 35063}, {'_account_id': 35759}]","[{'number': 1, 'created': '2023-06-01 00:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d1fe1d76150b744aab45dbbf511cafbdc8ec8cd', 'message': 'Fix locking issue with powermax cinder driver.\n\nThis change-set fixes the locking issue seen with default storage\ngroup in powermax.\n\nCloses-Bug: #2021999\nChange-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a\n'}, {'number': 2, 'created': '2023-06-01 00:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bb67e4c1302464dc327b4ba6579242ab11f26f8', 'message': 'Fix locking issue with powermax cinder driver.\n\nThis change-set fixes the locking issue seen with default storage\ngroup in powermax.\n\nCloses-Bug: #2021999\nChange-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a\n'}, {'number': 3, 'created': '2023-06-12 12:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/893539f8d64b65b58df19b3552a66f82b1637cc2', 'message': 'Fix locking issue with powermax cinder driver.\n\nThis change-set resolves the locking issue seen with default storage\ngroup seein with powermax.\n\nCloses-Bug: #2021999\nChange-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a\n'}, {'number': 4, 'created': '2023-06-12 17:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27b851a01f2d45d7e3bae495fd5e946707d313fc', 'message': 'Fix hang issue due to locking in powermax driver.\n\nThis change-set resolves the volume attach hang issue caused by\nacquiring a lock on same name(""emc-sg-{default_sg_name}-{serial_number}"")\ntwice i.e. once lock is acquired on it, again trying to acquire lock\non it and blocking forever. Since the above formatted lock name is common\nto all volumes in the array due to common string values for \'default_sg_name\'\nand \'serial_number\', it is causing hang issue with the next set of volume\nattach/detach/delete use-cases.\n\nCloses-Bug: #2021999\nChange-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a\n'}, {'number': 5, 'created': '2023-06-30 13:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a1add154986c15697c625d900dd06653f5c9b1d', 'message': 'Fix hang issue due to locking in powermax driver.\n\nThis change-set resolves the volume attach hang issue caused by\nacquiring a lock on same name(""emc-sg-{default_sg_name}-{serial_number}"")\ntwice i.e. once lock is acquired on it, again trying to acquire lock\non it and blocking forever. Since the above formatted lock name is common\nto all volumes in the array due to common string values for \'default_sg_name\'\nand \'serial_number\', it is causing hang issue with the next set of volume\nattach/detach/delete use-cases.\n\nCloses-Bug: #2021999\nChange-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a\n'}, {'number': 6, 'created': '2023-06-30 16:46:03.000000000', 'files': ['releasenotes/notes/bug-2021999-fix_locking_issue-pmax_driver-f71477f8436d48ff.yaml', 'cinder/volume/drivers/dell_emc/powermax/masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ac0b2f8465b9e24a48b3dc336ac37545f08bf00', 'message': 'Fix hang issue due to locking in powermax driver.\n\nThis change-set resolves the volume attach hang issue caused by\nacquiring a lock on same name(""emc-sg-{default_sg_name}-{serial_number}"")\ntwice i.e. once lock is acquired on it, again trying to acquire lock\non it and blocking forever. Since the above formatted lock name is common\nto all volumes in the array due to common string values for \'default_sg_name\'\nand \'serial_number\', it is causing hang issue with the next set of volume\nattach/detach/delete use-cases.\n\nCloses-Bug: #2021999\nChange-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a\n'}]",28,884957,9ac0b2f8465b9e24a48b3dc336ac37545f08bf00,137,6,6,24005,,,0,"Fix hang issue due to locking in powermax driver.

This change-set resolves the volume attach hang issue caused by
acquiring a lock on same name(""emc-sg-{default_sg_name}-{serial_number}"")
twice i.e. once lock is acquired on it, again trying to acquire lock
on it and blocking forever. Since the above formatted lock name is common
to all volumes in the array due to common string values for 'default_sg_name'
and 'serial_number', it is causing hang issue with the next set of volume
attach/detach/delete use-cases.

Closes-Bug: #2021999
Change-Id: I7567f1234410e99a7a8e7396a852bf8b1ca36d3a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/884957/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/powermax/masking.py'],1,1d1fe1d76150b744aab45dbbf511cafbdc8ec8cd,bug/2021999,"from tooz import coordination as t_coordination @coordination.synchronized(""emc-sg-rm-or-mv-{device_id}-{sg_name}-"" ""{serial_number}"") def do_remove_volume_from_sg(sg_name, serial_number, device_id)): return do_remove_volume_from_sg(storagegroup_name, serial_number, device_id) @coordination.synchronized(""emc-sg-rm-or-mv-{device_id}-{sg_name}-"" ""{serial_number}"") mv_name, sg_name, parent_name, serial_number, device_id): parent_sg_name, serial_number, device_id) @coordination.synchronized(""emc-sg-rm-or-mv-{device_id}-"" ""{default_sg_name}-{serial_number}"", blocking=False) def _move_vol_to_default_sg(default_sg_name, serial_number, device_id): try: _move_vol_to_default_sg( storagegroup_name, serial_number, device_id) except t_coordination.LockAcquireFailed: LOG.info(""Lock acquired failed, moving volume "" ""without lock on device_id: {device_id}."".format( device_id=device_id)) self.rest.move_volume_between_storage_groups( serial_number, device_id, src_sg, storagegroup_name, extra_specs, force=True)"," def do_remove_volume_from_sg(sg_name, serial_number): return do_remove_volume_from_sg(storagegroup_name, serial_number) mv_name, sg_name, parent_name, serial_number): parent_sg_name, serial_number) def _move_vol_to_default_sg(default_sg_name, serial_number): _move_vol_to_default_sg(storagegroup_name, serial_number)",26,6
openstack%2Fcinder~master~I6e653cb530e77692989443b0cf3c65802717462e,openstack/cinder,master,I6e653cb530e77692989443b0cf3c65802717462e,RBD: Fix encrypted volume from an unencrypted image,ABANDONED,2021-07-20 18:12:58.000000000,2023-07-26 11:00:07.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 13671}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 18:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64ff97e46aa7b3d6580a82e2c4cebc1945584a3d', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nWhen creating an encrypted volume from an encrypted image\nthe volume gets truncated and it's inaccessible after the\noperation. This happens if the amount of data in the\nsource image at the time the volume was created is very\nclose to the gigabyte boundary given by the volume's\nsize. Currently cinder doesn't show any problem and just\ntruncates the data to keep the image's size.\n\nIn order to fix this only force resize when the\ndestination volume size is bigger than the source image\nand calculate the new size based on the difference and\nnot in round numbers.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 2, 'created': '2021-07-20 18:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95750b45d9fd822ee61a52a437717765c033ab90', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nWhen creating an encrypted volume from an encrypted image\nthe volume gets truncated and it's inaccessible after the\noperation. This happens if the amount of data in the\nsource image at the time the volume was created is very\nclose to the gigabyte boundary given by the volume's\nsize. Currently cinder doesn't show any problem and just\ntruncates the data to keep the image's size.\n\nIn order to fix this only force resize when the\ndestination volume size is bigger than the source image\nand calculate the new size based on the difference and\nnot in round numbers.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 3, 'created': '2021-09-27 12:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7065340e260f375c28872963e478059f3902e158', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nWhen creating an encrypted volume from an encrypted image\nthe volume gets truncated and it's inaccessible after the\noperation. This happens if the amount of data in the\nsource image at the time the volume was created is very\nclose to the gigabyte boundary given by the volume's\nsize. Currently cinder doesn't show any problem and just\ntruncates the data to keep the image's size.\n\nIn order to fix this only force resize when the\ndestination volume size is bigger than the source image\nand calculate the new size based on the difference and\nnot in round numbers.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 4, 'created': '2021-09-27 19:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a7206907a473a9d2654b3e064bc8f7d0ac8c3ad', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nWhen creating an encrypted volume from an encrypted image\nthe volume gets truncated and it's inaccessible after the\noperation. This happens if the amount of data in the\nsource image at the time the volume was created is very\nclose to the gigabyte boundary given by the volume's\nsize. Currently cinder doesn't show any problem and just\ntruncates the data to keep the image's size.\n\nIn order to fix this only force resize when the\ndestination volume size is bigger than the source image\nand calculate the new size based on the difference and\nnot in round numbers.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 5, 'created': '2021-11-12 20:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9a2ee66d2230a0ffc9e549833746157f3dc1db4', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 6, 'created': '2021-11-12 20:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58801bda0e49c335b315ee194b49dcfe72ea5f12', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 7, 'created': '2021-11-12 20:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d71689a46e4971f17936de05d144054f2bb3345', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 8, 'created': '2021-11-19 21:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de81d48db0fae2b5d81acf54c43d34a9f7b6a307', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 9, 'created': '2021-12-17 11:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ce8e0ed9fa1e2e73dfcd46d7651c18e9e7398c6', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 10, 'created': '2022-01-19 19:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4643bdd12e1c5f6900498e39deeb5e6ca157455', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 11, 'created': '2022-10-05 19:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2383b95371d7b9634b274d38bf98bb841b80eb8e', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 12, 'created': '2022-10-05 19:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02d5aa61221a1cea8ce62c2e320c937cc6b66e25', 'message': ""[rbd] Fix creating encrypted volume from unencrypted image\n\nUnder some circumstances, when creating an encrypted volume\nfrom an unencrypted image the volume gets truncated and\nit is inaccessible after the operation.\n\nThis happens if the amount of data in the source image at\nthe time the volume was created is very close to the\ngigabyte boundary given by the volume's size. Currently\ncinder doesn't show any error and just truncates the data\nsilently.\n\nIn order to fix this, we need to consider the encryption\nheader during the resize operation. In this way we keep\nthe consistency with the backend but we also keep the\ndisplay size in order with the gb boundary that cinder\nexpects.\n\nFinally, we don't increase the destination volume size more\nthan the user expected and the encryption is transparent to\nthe user.\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}, {'number': 13, 'created': '2022-10-14 02:16:08.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1922586-RBD-create-encrypt-volume-from-unencrypt-image-285a4ee145c3fe65.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3cf50a3a26651be03d6516096af22154907d973', 'message': ""RBD: Fix encrypted volume from an unencrypted image\n\nUnder some circumstances, when creating an encrypted volume from an\nunencrypted image the volume gets truncated and it is inaccessible after\nthe operation. This happens if the amount of data in the source image at\nthe time the volume was created is very close to the gigabyte boundary\ngiven by the volume's size. Currently, cinder doesn't show any error and\njust truncates the data silently.\n\nTo keep the consistency with the snapshot fix, we shouldn't round up the\nimage but keep it the same size[1].\n\nIn order to fix this, we need to consider the encryption header during\nthe resize operation. In this way, we keep the consistency with the\nbackend but we also keep the display size in order with the GB boundary\nthat cinder expects.\n\nWe have the test_boot_cloned_encrypted_volume test on the\ncinder-tempest-plugin project that covers this scenario.\n\n[1] I220b5e3b01d115262a8b1dd45758f0531aea0edf\n\nCloses-Bug: #1922586\nChange-Id: I6e653cb530e77692989443b0cf3c65802717462e\n""}]",29,801522,d3cf50a3a26651be03d6516096af22154907d973,250,5,13,20813,,,0,"RBD: Fix encrypted volume from an unencrypted image

Under some circumstances, when creating an encrypted volume from an
unencrypted image the volume gets truncated and it is inaccessible after
the operation. This happens if the amount of data in the source image at
the time the volume was created is very close to the gigabyte boundary
given by the volume's size. Currently, cinder doesn't show any error and
just truncates the data silently.

To keep the consistency with the snapshot fix, we shouldn't round up the
image but keep it the same size[1].

In order to fix this, we need to consider the encryption header during
the resize operation. In this way, we keep the consistency with the
backend but we also keep the display size in order with the GB boundary
that cinder expects.

We have the test_boot_cloned_encrypted_volume test on the
cinder-tempest-plugin project that covers this scenario.

[1] I220b5e3b01d115262a8b1dd45758f0531aea0edf

Closes-Bug: #1922586
Change-Id: I6e653cb530e77692989443b0cf3c65802717462e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/801522/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,64ff97e46aa7b3d6580a82e2c4cebc1945584a3d,rbd-encrypt-issues," img_size = int(10 * units.Gi) self.mock_proxy().__enter__().size.return_value = img_size img_size = int(10 * units.Gi) self.mock_proxy().__enter__().size.return_value = img_size @mock.patch('cinder.volume.drivers.rbd.fileutils.delete_if_exists') @mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value={'encryption_key_id': fake.ENCRYPTION_KEY_ID}) @mock.patch('cinder.image.image_utils.convert_image') def test_copy_img_without_resize(self, mock_convert, mock_encrypt_key, mock_temp_delete): key_mgr = fake_keymgr.fake_api() self.mock_object(castellan.key_manager, 'API', return_value=key_mgr) key_id = key_mgr.store(self.context, KeyObject()) self.volume_a.encryption_key_id = key_id rbd_image_id = '155d900f-4e14-4e4c-a73d-069cbf4541e6' img_size = int(10.2 * units.Gi) self.mock_proxy().__enter__().size.return_value = img_size enc_info = {'encryption_key_id': key_id, 'cipher': 'aes-xts-essiv', 'key_size': 256} with mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value=enc_info), \ mock.patch('cinder.volume.drivers.rbd.open'), \ mock.patch('os.rename'): with mock.patch.object(tempfile, 'NamedTemporaryFile'): with mock.patch.object(os.path, 'exists') as mock_exists: mock_exists.return_value = True with mock.patch.object(image_utils, 'fetch_to_raw'): with mock.patch.object(self.driver, 'delete_volume'): with mock.patch.object(self.driver, '_resize') as mock_resize: mock_image_service = mock.MagicMock() args = [self.context, self.volume_a, mock_image_service, rbd_image_id] self.driver.copy_image_to_encrypted_volume( *args) mock_temp_delete.assert_called() mock_resize.assert_not_called() self.assertEqual(1, mock_temp_delete.call_count) @common_mocks @mock.patch('cinder.volume.drivers.rbd.fileutils.delete_if_exists') @mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value={'encryption_key_id': fake.ENCRYPTION_KEY_ID}) @mock.patch('cinder.image.image_utils.convert_image') def test_copy_img_with_resize(self, mock_convert, mock_encrypt_key, mock_temp_delete): key_mgr = fake_keymgr.fake_api() self.mock_object(castellan.key_manager, 'API', return_value=key_mgr) key_id = key_mgr.store(self.context, KeyObject()) self.volume_a.encryption_key_id = key_id rbd_image_id = '155d900f-4e14-4e4c-a73d-069cbf4541e6' img_size = int(8 * units.Gi) self.mock_proxy().__enter__().size.return_value = img_size enc_info = {'encryption_key_id': key_id, 'cipher': 'aes-xts-essiv', 'key_size': 256} with mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value=enc_info), \ mock.patch('cinder.volume.drivers.rbd.open'), \ mock.patch('os.rename'): with mock.patch.object(tempfile, 'NamedTemporaryFile'): with mock.patch.object(os.path, 'exists') as mock_exists: mock_exists.return_value = True with mock.patch.object(image_utils, 'fetch_to_raw'): with mock.patch.object(self.driver, 'delete_volume'): with mock.patch.object(self.driver, '_resize') as mock_resize: mock_image_service = mock.MagicMock() args = [self.context, self.volume_a, mock_image_service, rbd_image_id] self.driver.copy_image_to_encrypted_volume( *args) mock_temp_delete.assert_called() mock_resize.assert_called() self.assertEqual(1, mock_temp_delete.call_count) @common_mocks def test_round_up_to_nearest_gb(self): image_size_bytes = 1075810304 size_gb = self.driver._round_up_to_nearest_gb(image_size_bytes) self.assertEqual(size_gb, 2147483648) @common_mocks",,104,2
openstack%2Fopenstack-ansible-haproxy_server~master~Iba1f4a284beaba8d2d7f020ca7ad2d78d6360161,openstack/openstack-ansible-haproxy_server,master,Iba1f4a284beaba8d2d7f020ca7ad2d78d6360161,[doc] Document usage of binding to interface,NEW,2023-07-26 10:36:48.000000000,2023-07-26 10:56:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 10:36:48.000000000', 'files': ['doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/e40f8092d8109db590886a55222c7182c38a5dc1', 'message': '[doc] Document usage of binding to interface\n\nChange-Id: Iba1f4a284beaba8d2d7f020ca7ad2d78d6360161\n'}]",0,889691,e40f8092d8109db590886a55222c7182c38a5dc1,2,1,1,28619,,,0,"[doc] Document usage of binding to interface

Change-Id: Iba1f4a284beaba8d2d7f020ca7ad2d78d6360161
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/91/889691/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-haproxy.rst'],1,e40f8092d8109db590886a55222c7182c38a5dc1,,"Binding haproxy to interface ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In some cases it might be more convenient to bind haproxy to the interface rather then a specific IP address. For example, this is handy if you decide to balance load between HAProxy instances using DNS RR, where each HAProxy will have it's own VIP which will failover to others. Binding to the interface can be set by providing following variables in the ``user_variables.yml`` file: .. code-block:: yaml haproxy_bind_external_lb_vip_address: ""*"" haproxy_bind_internal_lb_vip_address: ""*"" haproxy_bind_external_lb_vip_interface: bond0 haproxy_bind_internal_lb_vip_interface: br-mgmt ",,18,0
openstack%2Fopenstack-ansible-plugins~stable%2Fzed~I3129b75af1127c62a0bd1cee39586730c5f6589c,openstack/openstack-ansible-plugins,stable/zed,I3129b75af1127c62a0bd1cee39586730c5f6589c,Installing systemd-udev with NVR,MERGED,2023-07-25 15:33:15.000000000,2023-07-26 10:41:58.000000000,2023-07-26 10:41:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-07-25 15:33:15.000000000', 'files': ['roles/glusterfs/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b461d0b4bccc88a90ad588d5f84627cca64bf384', 'message': 'Installing systemd-udev with NVR\n\nDue to the bug [1] in CentOS packaging, systemd-udev is substituted with\nsystemd-boot-unsigned. So you need to use NVR to properly\ninstall systemd-udev until the bug is fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279\n\nChange-Id: I3129b75af1127c62a0bd1cee39586730c5f6589c\n(cherry picked from commit 2638ff34e750268fcccbebbb95feae03adf27a68)\n'}]",0,889349,b461d0b4bccc88a90ad588d5f84627cca64bf384,8,3,1,28619,,,0,"Installing systemd-udev with NVR

Due to the bug [1] in CentOS packaging, systemd-udev is substituted with
systemd-boot-unsigned. So you need to use NVR to properly
install systemd-udev until the bug is fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279

Change-Id: I3129b75af1127c62a0bd1cee39586730c5f6589c
(cherry picked from commit 2638ff34e750268fcccbebbb95feae03adf27a68)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/49/889349/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/glusterfs/vars/redhat.yml'],1,b461d0b4bccc88a90ad588d5f84627cca64bf384,osa/centos_lxc-stable/zed, - systemd-udev-252-*, - systemd-udev,1,1
openstack%2Fos-net-config~stable%2Fzed~I3895a5200bc97a294a8b5774c24972f1f58b40bf,openstack/os-net-config,stable/zed,I3895a5200bc97a294a8b5774c24972f1f58b40bf,Refactor check_configure_sriov to prevent dublicate adding sriov_pfs,MERGED,2023-07-14 10:32:12.000000000,2023-07-26 10:40:11.000000000,2023-07-26 10:39:20.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-14 10:32:12.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/dcecf69a18d74f7bf1b3df8b679fa02c7ccce465', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n(cherry picked from commit 7996a2e79e607aed3036bf3a851bde318ff0fef7)\n'}]",0,888345,dcecf69a18d74f7bf1b3df8b679fa02c7ccce465,8,3,1,18904,,,0,"Refactor check_configure_sriov to prevent dublicate adding sriov_pfs

Cuurent implementation of adding objects is dublicating adding
objects that have sriov_pf members.
The patch refactors check_configure_sriov to check if the object
itself or any of its tree members are sriov_pf so adding that object
will happen once

Closes-Bug: #2020100
Change-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf
(cherry picked from commit 7996a2e79e607aed3036bf3a851bde318ff0fef7)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/45/888345/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,dcecf69a18d74f7bf1b3df8b679fa02c7ccce465,," if isinstance(obj, objects.SriovPF): configure_sriov = True elif hasattr(obj, 'members') and obj.members is not None: for member in obj.members: if isinstance(member, objects.SriovPF): configure_sriov = True break else: configure_sriov = check_configure_sriov(member) if check_configure_sriov(obj): # Look for the presence of SriovPF as members of LinuxBond and that # LinuxBond is member of OvsBridge sriovpf_member_of_bond_ovs_port_list.extend( get_sriovpf_member_of_bond_ovs_port(obj)) # All sriov_pfs at top level or at any member level will be # ignored and all other objects are parsed will be added here. if not check_configure_sriov(obj):"," for member in obj.members: if isinstance(member, objects.SriovPF): configure_sriov = True elif hasattr(member, ""members"") and member.members is not None: configure_sriov = check_configure_sriov(member) if isinstance(obj, objects.SriovPF): elif hasattr(obj, 'members') and obj.members is not None: if check_configure_sriov(obj): configure_sriov = True provider.add_object(obj) sriovpf_member_of_bond_ovs_port_list.extend( get_sriovpf_member_of_bond_ovs_port(obj)) # All objects other than the sriov_pf will be added here. if not isinstance(obj, objects.SriovPF):",17,15
openstack%2Fansible-role-uwsgi~master~If22d5d2737914a90e0a3868faf3ee6815235a70a,openstack/ansible-role-uwsgi,master,If22d5d2737914a90e0a3868faf3ee6815235a70a,Fix pyargv value rendering,MERGED,2023-07-25 17:19:40.000000000,2023-07-26 10:36:30.000000000,2023-07-26 10:35:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-25 17:19:40.000000000', 'files': ['tasks/uwsgi_post_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/371ff2c1d8433909f34395159f655ce9d82a0359', 'message': 'Fix pyargv value rendering\n\nThere is no need to escape double quotes in block scalar. This broke\nnon-OVN neutron-servers which use uWSGI and `pyargv`.\n\nChange-Id: If22d5d2737914a90e0a3868faf3ee6815235a70a\n'}]",1,889643,371ff2c1d8433909f34395159f655ce9d82a0359,10,3,1,34653,,,0,"Fix pyargv value rendering

There is no need to escape double quotes in block scalar. This broke
non-OVN neutron-servers which use uWSGI and `pyargv`.

Change-Id: If22d5d2737914a90e0a3868faf3ee6815235a70a
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/43/889643/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/uwsgi_post_install.yml'],1,371ff2c1d8433909f34395159f655ce9d82a0359,fix_pyargv_concat_in_yaml," {{ (service_var.value.uwsgi_pyargv is defined) | ternary('--pyargv ""' ~ service_var.value.uwsgi_pyargv | default('') ~ '""', '') }}"," {{ (service_var.value.uwsgi_pyargv is defined) | ternary('--pyargv \""' ~ service_var.value.uwsgi_pyargv | default('') ~ '\""', '') }}",1,1
openstack%2Fansible-role-systemd_mount~stable%2Fzed~I3c112b74b4777b9443f3c3041a51ecb770d48021,openstack/ansible-role-systemd_mount,stable/zed,I3c112b74b4777b9443f3c3041a51ecb770d48021,Installing systemd-udev with NVR,MERGED,2023-07-25 15:34:03.000000000,2023-07-26 10:29:18.000000000,2023-07-26 10:28:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-07-25 15:34:03.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/abd397416ceb4b864ccf99816bb03f7562655ab6', 'message': 'Installing systemd-udev with NVR\n\nDue to the bug [1] in CentOS packaging, systemd-udev is substituted with\nsystemd-boot-unsigned. So you need to use NVR to properly\ninstall systemd-udev until the bug is fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279\n\nChange-Id: I3c112b74b4777b9443f3c3041a51ecb770d48021\n(cherry picked from commit cb8418715a139615175489a6589449f5f60a0158)\n'}]",0,889352,abd397416ceb4b864ccf99816bb03f7562655ab6,8,3,1,28619,,,0,"Installing systemd-udev with NVR

Due to the bug [1] in CentOS packaging, systemd-udev is substituted with
systemd-boot-unsigned. So you need to use NVR to properly
install systemd-udev until the bug is fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279

Change-Id: I3c112b74b4777b9443f3c3041a51ecb770d48021
(cherry picked from commit cb8418715a139615175489a6589449f5f60a0158)
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/52/889352/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,abd397416ceb4b864ccf99816bb03f7562655ab6,osa/centos_lxc-stable/zed, - systemd-udev-252-*, - systemd-udev,1,1
openstack%2Foslo-specs~master~I563e6455deca9a95f814541a7f2a6a6353b1a858,openstack/oslo-specs,master,I563e6455deca9a95f814541a7f2a6a6353b1a858,Adds oslo-http driver spec,MERGED,2023-06-10 01:23:53.000000000,2023-07-26 10:01:29.000000000,2023-07-26 10:00:25.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 01:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/e630fcf831b4d8e8cbc9f185a5afd00317575c34', 'message': 'Adds oslo-http driver spec\n\nThis is a proposal to create a new driver implementation which communicates\nRPC client and server directly over HTTP without messaging queue.\n\nChange-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858\n'}, {'number': 2, 'created': '2023-06-26 10:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/a03baf56f29900cadda30b3d90efdde757b810ca', 'message': 'Adds oslo-http driver spec\n\nThis is a proposal to create a new driver implementation which communicates\nRPC client and server directly over HTTP without messaging queue.\n\nChange-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858\n'}, {'number': 3, 'created': '2023-06-26 10:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/67cc07b837c4611ed69d4ae8d69d84942608b656', 'message': 'Adds oslo-http driver spec\n\nThis is a proposal to create a new driver implementation which communicates\nRPC client and server directly over HTTP without messaging queue.\n\nChange-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858\n'}, {'number': 4, 'created': '2023-06-28 01:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/6b6cf05012eac0c6950f52ac393439e01f204df5', 'message': 'Adds oslo-http driver spec\n\nThis is a proposal to create a new driver implementation which communicates\nRPC client and server directly over HTTP without messaging queue.\n\nChange-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858\n'}, {'number': 5, 'created': '2023-06-28 01:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/4404912cea192f4bc439c13147fd856a89528d7d', 'message': 'Adds oslo-http driver spec\n\nThis is a proposal to create a new driver implementation which communicates\nRPC client and server directly over HTTP without messaging queue.\n\nChange-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858\n'}, {'number': 6, 'created': '2023-06-29 14:43:17.000000000', 'files': ['images/http-driver/conductor-service-list.png', 'images/http-driver/consul-service-list.png', 'images/http-driver/conductor-health-check.png', 'images/http-driver/consul-federation.png', 'doc/source/index.rst', 'specs/bobcat/http-driver.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/b440f3dccd2edf6e55a5384b0364be69a291a8a2', 'message': 'Adds oslo-http driver spec\n\nThis is a proposal to create a new driver implementation which communicates\nRPC client and server directly over HTTP without messaging queue.\n\nChange-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858\n'}]",55,885809,b440f3dccd2edf6e55a5384b0364be69a291a8a2,32,3,6,10115,,,0,"Adds oslo-http driver spec

This is a proposal to create a new driver implementation which communicates
RPC client and server directly over HTTP without messaging queue.

Change-Id: I563e6455deca9a95f814541a7f2a6a6353b1a858
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/09/885809/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/bobcat/http-driver.rst']",2,e630fcf831b4d8e8cbc9f185a5afd00317575c34,oslo-http,"============= http driver ============= This is a proposal to create a new driver implementation which communicates RPC client and server directly over HTTP without messaging queue. Problem description =================== In oslo.messaging, RabbitMQ driver is widely used and validated that the driver works very stably on most of OpenStack environment. However, in PUB/SUB model using message queue, message queue itself might be a single point of failure and also message queue is bit difficult to support large scale of client and server communications. For example, if there are more than 10,000 hypervisors which host nova-compute and neutron-agent, each RabbitMQ node must always support large number (ex. more than 40,000) of network connections from nova and neutron clients. In this situation, if RabbitMQ cluster restart happens, large number of RPC clients started to connect RabbitMQ nodes simultaneously, this makes RabbitMQ nodes unstable. Also due to large number of hypervisors, RabbitMQ must support huge number of message queues to allow to communicate neutron-server and neutron-agent, for example. All queue data must be synchronized between all RabbitMQ nodes, so having large number of queue also makes RabbitMQ cluster unstable. Note, this is not a proposal to deny RabbitMQ (PUB/SUB model) backend. The proposal should be aware both PUB/SUB model and REQ/RESP model have different advantages described in the following section. PUB/SUB advantage examples -------------------------- - Simple architecture in a small cluster - Easy ACL configuration in a secure cluster REQ/RESP advantage examples --------------------------- - Fault tolerant against control plane (consul) down - Easy to scale out the cluster As mentioned in above, the PUB/SUB model has simple and easy to use most of the cases, but for large scale OpenStack environment, REQ/RESP model for all RPC communications could be more proper and reliable. This specification proposes to implement OpenAPI based REQ/RESP model driver called ``http driver`` which enable to communicates between RPC client to RPC server directly without a component which is single point of failure for OpenStack internal communication. Proposed change =============== This is overview diagram of HTTP driver for RPC Call/Cast/Cast Fanout requests. There are 4 main components to realize the driver. * RPC client * RPC server * Consul * Broadcaster .. code-block:: none +--------------+ +------>| Consul |<------------------+ | +--------------+ | | +-------------+ | +--->| RPC server | | | +-------------+ +-------------+ Call/Cast RPC | +-------------+ | RPC client +---------------------------> | RPC server | +-------------+ | +-------------+ | | +-------------+ | Cast Fanout +--->| RPC server | | | +-------------+ | +--------------+ | +------>| Broadcaster |---------+ +--------------+ Send Cast to all RPC servers Main points to be improved by the architecture ---------------------------------------------- * Separate control plane from data plane * Allow direct API call without SPOF * Reduce RPC communication between multiple availability zones Responsibility of each components like followings. RPC Client ---------- Fetch the RPC server list from the consul cluster for an RPC target service. Pick up appropriate RPC server for the RPC, then send a RPC request over HTTP protocol. RPC Server ---------- Listen and handle an in-coming rpc request over HTTP protocol When the RPC server starts, the server registers its RPC server information to Consul cluster as Consul's ""service"". Also the PRC Server works as ``Push Style``, not polly style. For RPC client/server communication over HTTP with RESTful API, OpenAPI allows us to define formatted RESTful API definition easily. Once API definition is generated, it can be launched as http server using Web framework and WSGI server. For example, they are candidate for Web framework and WSGI server to enable HTTP client and server. * Web famework: connexion * WSGI server: eventlet Consul ------ Store the RPC server information The server information includes following items. oslo.messaging layer information(exchange, topic and server) RPC server information (IP address, port and etc). HTTP Broadcaster ---------------- An amplifier for an HTTP request HTTP protocol doesn't have broadcast mechanism though the oslo RPC has Cast Fanout RPC. The Broadcaster sends an in-coming RPC to all target RPC servers. Alternatives ============ Datastore for host/topic management ----------------------------------- In above architecture, Consul is chosen because it supports healthcheck mechanism and multi DC federation so that these features enable user to monitor RPC server status easily, and scale out easily to support large scale OpenStack. But alternatively, managing service endpoint using DNS or registering data into Redis cluster similar to ZeroMQ are another choices. Cast Fanout support design -------------------------- In above diagram, broadcaster process is splitted out as one another service from RPC client. The Cast Fanout could be implemented into RPC client, but it takes much CPU and memory if number of targets are quite huge. Instead, by splitting out the broadcaster, the user easily scale out number of broadcaster processes based on number targets on OpenStack cluster. API framework ------------- For API schema definition, any approaches are available. For example, there are REST, OpenAPI, json-rpc, gRPC or any http protocol implementation are available if it allow to integrated with eventlet which is used by oslo.service. In above diagram, OpenAPI is chosen in order to realize HTTP protocol client-server model. Advanced feature ================ Multi Availability zones support -------------------------------- * Consul provides Federation mechanism between multiple Consul clusters. * By using the Federation, Consul cluster can be splitted per OpenStack Availability zones. * Splitting Consul to multiple cluster reduces workload of Consul and makes the cluster stable. * Also in basic, RPC client and server communication happen in one Availability zone. This reduces network communication between multiple AZ. .. code-block:: none Availability Zone-A Availability Zone-B +----------------+ +----------------+ | | RPC Request | | | RPC server | +------->+ RPC server | | | | | | | | | | | | | | | | RPC client +--------+ | RPC client | | | | | | | | | | Federation | | | | Consul Cluster +<--------------->+ Consul Cluster | | | | | +----------------+ +----------------+ Impact on Existing APIs ----------------------- None. Security impact --------------- * None. * OpenAPI supports SSL based communication between client and server. This enables secure RPC communication same as other messaging drivers. Performance Impact ------------------ Performance should become better because RPC client communicates to RPC server directly over HTTP. Configuration Impact -------------------- New config options to configure http server are needed. Here is sample config parameters which is defined in oslo.messaging library user configuration file like nova.conf, neutron.conf. .. code-block:: ini [oslo_messaging_http] port_range=20000:20100 [consul] port = 8500 host = <Consul hostname> token = <Consul token> check_timeout = 60s check_deregister = 30m [http_driver] http_token = <Token to access OpenAPI server> http_api_config_file = <OpenAPI definition> enable_ssl = True ssl_certfile = <Path for SSL Cert file> ssl_keyfile = <Path for SSL Key file> listen_timeout = 60 Developer Impact ---------------- If other OpenStack component use http rpc_backend, ``oslo_messaging_http``, ``consul`` and ``http_driver`` configuration section must be defined based on Consul and OpenAPI configuration. Testing Impact -------------- Basic unit test and functional test will be implemented. Implementation ============== Assignee(s) ----------- Primary assignee: Mitsuhiro Tanino (mitsuhiro-tanino) Other contributors: Xiang Wang Yushiro Furukawa (y-furukawa-2) Masahito Muroi (masahito-muroi) Milestones ---------- None Work Items ---------- - Propose driver and test codes - Release note and docs Documentation Impact ==================== The http driver documentation will be added to the library. This documentation will follow the style of documentation provided by the other drivers and should include the following topics: * Overview of http driver architecture * pre-requisites * driver options overview * Consul configuration * HTTP broadcaster configuration Dependencies ============ None References ========== None .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,318,0
openstack%2Fsahara-plugin-cdh~master~I3f6fa3457b704bf57e3d7328f27e3440f57daa49,openstack/sahara-plugin-cdh,master,I3f6fa3457b704bf57e3d7328f27e3440f57daa49,Update the shebang to python3,NEW,2023-07-26 09:46:39.000000000,2023-07-26 09:58:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 09:46:39.000000000', 'files': ['sahara_plugin_cdh/plugins/cdh/v5_13_0/resources/cdh_config.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/ee6de65850d81a0a5bfdc70ab395dcdbd1a38f7d', 'message': 'Update the shebang to python3\n\nIt\'s needed downstream when packaging. In RDO and Fedora,\nwe are hitting the issue ""ERROR: ambiguous python shebang"" during\nthe build.\n\nChange-Id: I3f6fa3457b704bf57e3d7328f27e3440f57daa49\n'}]",0,889689,ee6de65850d81a0a5bfdc70ab395dcdbd1a38f7d,2,1,1,31068,,,0,"Update the shebang to python3

It's needed downstream when packaging. In RDO and Fedora,
we are hitting the issue ""ERROR: ambiguous python shebang"" during
the build.

Change-Id: I3f6fa3457b704bf57e3d7328f27e3440f57daa49
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/89/889689/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_cdh/plugins/cdh/v5_13_0/resources/cdh_config.py'],1,ee6de65850d81a0a5bfdc70ab395dcdbd1a38f7d,,#!/usr/bin/env python3,#!/usr/bin/env python,1,1
openstack%2Fsahara-plugin-ambari~master~I6fe4674a9163b63ae5461fe94253bcc42beb2707,openstack/sahara-plugin-ambari,master,I6fe4674a9163b63ae5461fe94253bcc42beb2707,Update the shebang to python3,NEW,2023-07-26 09:42:02.000000000,2023-07-26 09:52:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 09:42:02.000000000', 'files': ['sahara_plugin_ambari/plugins/ambari/resources/generate_config.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/b7fe8999c9ad6f2a9b3223e5bb3816f52b068e71', 'message': 'Update the shebang to python3\n\nIt\'s needed downstream when packaging. In RDO and Fedora,\nwe are hitting the issue ""ERROR: ambiguous python shebang"" during\nthe build.\n\nChange-Id: I6fe4674a9163b63ae5461fe94253bcc42beb2707\n'}]",0,889688,b7fe8999c9ad6f2a9b3223e5bb3816f52b068e71,2,1,1,31068,,,0,"Update the shebang to python3

It's needed downstream when packaging. In RDO and Fedora,
we are hitting the issue ""ERROR: ambiguous python shebang"" during
the build.

Change-Id: I6fe4674a9163b63ae5461fe94253bcc42beb2707
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/88/889688/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_ambari/plugins/ambari/resources/generate_config.py'],1,b7fe8999c9ad6f2a9b3223e5bb3816f52b068e71,,#!/usr/bin/env python3,#!/usr/bin/env python,1,1
openstack%2Fkolla~master~I729b4c3ee9e91ee05b5d2413031669cd25d87156,openstack/kolla,master,I729b4c3ee9e91ee05b5d2413031669cd25d87156,Fix dockerhub secret name,MERGED,2023-07-25 15:04:55.000000000,2023-07-26 08:42:44.000000000,2023-07-26 08:40:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-07-25 15:04:55.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fb11fa2e8cfa0b882a2b0a74019f239f9f72c298', 'message': 'Fix dockerhub secret name\n\nIn [0] the secret name was changed, but the references to it stayed\nuntouched.\n\n[0] Ieceadb1f56908ce752f48b0884ed5cf764bc1ecd\n\nChange-Id: I729b4c3ee9e91ee05b5d2413031669cd25d87156\n'}]",0,889482,fb11fa2e8cfa0b882a2b0a74019f239f9f72c298,9,3,1,13252,,,0,"Fix dockerhub secret name

In [0] the secret name was changed, but the references to it stayed
untouched.

[0] Ieceadb1f56908ce752f48b0884ed5cf764bc1ecd

Change-Id: I729b4c3ee9e91ee05b5d2413031669cd25d87156
",git fetch https://review.opendev.org/openstack/kolla refs/changes/82/889482/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml']",3,fb11fa2e8cfa0b882a2b0a74019f239f9f72c298,fix-dockerhub-secret-name, - kolla_dockerhub_credentials, - kolla_dockerhub_creds,4,4
openstack%2Fneutron-fwaas~master~Ib7ab0daf9f6de45125ffc9408f865fc0964ff339,openstack/neutron-fwaas,master,Ib7ab0daf9f6de45125ffc9408f865fc0964ff339,Firewall group associated with ports is not allowed to be deleted,NEW,2023-05-25 08:09:48.000000000,2023-07-26 07:50:58.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-25 08:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/da3a1542c05150709f6387722092532ed54e50ee', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nTherefore, we determine whether deletion is allowed by determining\nwhether the port is associated.\n\nPartial-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}, {'number': 2, 'created': '2023-05-25 08:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/aab232ddf08edc216350dec2af93700fbdc39dbf', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nTherefore, we determine whether deletion is allowed by determining\nwhether the port is associated.\n\nPartial-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}, {'number': 3, 'created': '2023-05-26 02:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7a9f455eeb11d478b5b4b893427e4eaf270dd90c', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nTherefore, we determine whether deletion is allowed by determining\nwhether the port is associated.\n\nPartial-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}, {'number': 4, 'created': '2023-05-29 01:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d308a29d06e7013535b280df6b8386fd88373e51', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nTherefore, we determine whether deletion is allowed by determining\nwhether the port is associated.\n\nPartial-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}, {'number': 5, 'created': '2023-05-29 03:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/58f26520eb5439776b48d04a3dc9d7cf771aa06f', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nTherefore, we determine whether deletion is allowed by determining\nwhether the port is associated.\n\nPartial-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}, {'number': 6, 'created': '2023-05-29 06:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2d15c638944db0ee1f5ba06cb740be4a3077d0d2', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nTherefore, we determine whether deletion is allowed by determining\nwhether the port is associated.\n\nPartial-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}, {'number': 7, 'created': '2023-05-29 08:09:06.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5b56eaf3b082fddaf219a8a6d7af53ba4840480c', 'message': 'Firewall group associated with ports is not allowed to be deleted\n\nCurrently, we determine that the firewall group is in use based on\nits ACTIVE status. But the firewall group may have just updated\nthe port and is currently PENDING_UPDATE status, deletion should\nnot be allowed at this time.\nThis patch changes the judgment method for deleting firewall\ngroups, no longer based on their status. But like other neutron\nresources, based on whether or not they are associated.\n\nCloses-Bug: #2018967\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826\n\nChange-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339\n'}]",8,884333,5b56eaf3b082fddaf219a8a6d7af53ba4840480c,28,6,7,30380,,,0,"Firewall group associated with ports is not allowed to be deleted

Currently, we determine that the firewall group is in use based on
its ACTIVE status. But the firewall group may have just updated
the port and is currently PENDING_UPDATE status, deletion should
not be allowed at this time.
This patch changes the judgment method for deleting firewall
groups, no longer based on their status. But like other neutron
resources, based on whether or not they are associated.

Closes-Bug: #2018967
Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883826

Change-Id: Ib7ab0daf9f6de45125ffc9408f865fc0964ff339
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/33/884333/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/fwaas_plugin_v2.py'],1,da3a1542c05150709f6387722092532ed54e50ee,, if fwg['ports']:, if fwg['status'] == nl_constants.ACTIVE:,1,1
openstack%2Fcharm-heat-k8s~main~I3b89feba7f9b9d98e02b01cdb4177f7708c9d675,openstack/charm-heat-k8s,main,I3b89feba7f9b9d98e02b01cdb4177f7708c9d675,Move to 2023.1,MERGED,2023-07-21 03:25:51.000000000,2023-07-26 07:10:29.000000000,2023-07-26 07:10:29.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 03:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/c995fad8fd4199c15f242b8b3a385e57c38e9a11', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 2, 'created': '2023-07-21 05:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/a2ec4d9dfa2cbab55ab86d3ca71f5d11ec17c245', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1085\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 3, 'created': '2023-07-21 05:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/4582b1945c1e6cac3cd795db40b7f66815acef34', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1085\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 4, 'created': '2023-07-21 10:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/4aab48fcb878a6385e16af300eb8567a00d9de51', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n* Make API service configurable using config parameter.\n  With this change, heat-k8s charm can be used to deploy\n  heat-api+heat-engine OR heat-api-cfn+heat-engine\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 5, 'created': '2023-07-21 10:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/0eff6cf327cc90c4212ae2799f07367a5c157a03', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n* Make API service configurable using config parameter.\n  With this change, heat-k8s charm can be used to deploy\n  heat-api+heat-engine OR heat-api-cfn+heat-engine\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 6, 'created': '2023-07-22 06:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/6ba2d0d4e0368ec3d489a0586873057dc4b5e028', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n* Make API service configurable using config parameter.\n  With this change, heat-k8s charm can be used to deploy\n  heat-api+heat-engine OR heat-api-cfn+heat-engine\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 7, 'created': '2023-07-24 00:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/8436d6f92aa0714289c3c854476e69408b200d9a', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n* Make API service configurable using config parameter.\n  With this change, heat-k8s charm can be used to deploy\n  heat-api+heat-engine OR heat-api-cfn+heat-engine\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 8, 'created': '2023-07-26 04:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/19e4be5f1a15e3e6a96d3810d083c6a7cb73106e', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n* Make API service configurable using config parameter.\n  With this change, heat-k8s charm can be used to deploy\n  heat-api+heat-engine OR heat-api-cfn+heat-engine\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}, {'number': 9, 'created': '2023-07-26 05:34:42.000000000', 'files': ['TODO.txt', 'lib/charms/traefik_k8s/v1/ingress.py', 'lib/charms/data_platform_libs/v0/database_requires.py', 'src/templates/parts/database-connection', 'config.yaml', 'src/templates/api-paste.ini.j2', 'README.md', 'tests/tests.yaml', 'lib/charms/keystone_k8s/v1/identity_service.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'src/templates/parts/identity-data', 'tests/bundles/smoke.yaml', 'src/templates/heat.conf.j2', 'charmcraft.yaml', 'src/templates/parts/section-identity', 'tests/unit/test_heat_charm.py', 'src/charm.py', 'src/templates/parts/section-database', 'metadata.yaml', 'fetch-libs.sh', 'src/templates/ceph.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-heat-k8s/commit/6a27fa5a6ca146842e08c65181f319c7b5c19ef0', 'message': 'Move to 2023.1\n\n* Move base to 22.04\n* Use images from ghrc with tag 2023.1\n* Fix heat-api service endpoints\n* Add healthchecks\n* Change api-paste file to reflect latest from upstream\n* Add ingress rules to api-paste.ini\n* Add service token role configs\n* Add tempest tests\n* Update necessary external libs\n* Make API service configurable using config parameter.\n  With this change, heat-k8s charm can be used to deploy\n  heat-api+heat-engine OR heat-api-cfn+heat-engine\n\nChange-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675\n'}]",7,889145,6a27fa5a6ca146842e08c65181f319c7b5c19ef0,26,3,9,10366,,,0,"Move to 2023.1

* Move base to 22.04
* Use images from ghrc with tag 2023.1
* Fix heat-api service endpoints
* Add healthchecks
* Change api-paste file to reflect latest from upstream
* Add ingress rules to api-paste.ini
* Add service token role configs
* Add tempest tests
* Update necessary external libs
* Make API service configurable using config parameter.
  With this change, heat-k8s charm can be used to deploy
  heat-api+heat-engine OR heat-api-cfn+heat-engine

Change-Id: I3b89feba7f9b9d98e02b01cdb4177f7708c9d675
",git fetch https://review.opendev.org/openstack/charm-heat-k8s refs/changes/45/889145/9 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/traefik_k8s/v1/ingress.py', 'lib/charms/data_platform_libs/v0/database_requires.py', 'src/templates/parts/database-connection', 'src/templates/api-paste.ini.j2', 'tests/tests.yaml', 'lib/charms/keystone_k8s/v1/identity_service.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'src/templates/parts/identity-data', 'tests/bundles/smoke.yaml', 'src/templates/heat.conf.j2', 'charmcraft.yaml', 'src/templates/parts/section-identity', 'src/charm.py', 'src/templates/parts/section-database', 'metadata.yaml', 'fetch-libs.sh', 'src/templates/ceph.conf.j2']",17,c995fad8fd4199c15f242b8b3a385e57c38e9a11,,,############################################################################### # [ WARNING ] # ceph configuration file maintained in aso # local changes may be overwritten. ############################################################################### [global] {% if ceph.auth -%} auth_supported = {{ ceph.auth }} mon host = {{ ceph.mon_hosts }} {% endif -%} keyring = /etc/ceph/$cluster.$name.keyring log to syslog = false err to syslog = false clog to syslog = false {% if ceph.rbd_features %} rbd default features = {{ ceph.rbd_features }} {% endif %} [client] {% if ceph_config.rbd_default_data_pool -%} rbd default data pool = {{ ceph_config.rbd_default_data_pool }} {% endif %} ,246,453
openstack%2Frpm-packaging~master~I03d082118007a8cc68e3edc37ec9e96735def3af,openstack/rpm-packaging,master,I03d082118007a8cc68e3edc37ec9e96735def3af,Update to the latest release 10.4.0,MERGED,2023-07-25 21:41:21.000000000,2023-07-26 06:49:07.000000000,2023-07-26 06:49:07.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 21:41:21.000000000', 'files': ['openstack/keystonemiddleware/keystonemiddleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4a1650b4e2bb7b6273ce43ff08a721c02b045a0c', 'message': 'Update to the latest release 10.4.0\n\nChange-Id: I03d082118007a8cc68e3edc37ec9e96735def3af\n'}]",1,889662,4a1650b4e2bb7b6273ce43ff08a721c02b045a0c,7,2,1,1916,,,0,"Update to the latest release 10.4.0

Change-Id: I03d082118007a8cc68e3edc37ec9e96735def3af
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/889662/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystonemiddleware/keystonemiddleware.spec.j2'],1,4a1650b4e2bb7b6273ce43ff08a721c02b045a0c,update_keystonemiddleware,{% set upstream_version = upstream_version('10.4.0') %},{% set upstream_version = upstream_version('10.3.0') %},1,1
openstack%2Fneutron-fwaas~master~I009b6e65424ba3b662949baa1226fbf0ff14af80,openstack/neutron-fwaas,master,I009b6e65424ba3b662949baa1226fbf0ff14af80,Use unittest.mock instead of mock,MERGED,2023-06-27 03:15:28.000000000,2023-07-26 06:23:08.000000000,2023-07-26 06:22:06.000000000,"[{'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2023-06-27 03:15:28.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'test-requirements.txt', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/test_checks.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/logapi/rpc/test_log_server.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/privileged/test_netlink_lib.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/privileged/netfilter_log/test_libnetfilter_log.py', 'neutron_fwaas/tests/unit/services/logapi/base.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/logapi/test_fwg_validate.py', 'neutron_fwaas/tests/unit/privileged/test_utils.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/test_fwg_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/test_driver_api.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/193d1e27661438e11a44b379367d56affba79b21', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py38 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I009b6e65424ba3b662949baa1226fbf0ff14af80\n'}]",2,887015,193d1e27661438e11a44b379367d56affba79b21,13,2,1,21757,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py38 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I009b6e65424ba3b662949baa1226fbf0ff14af80
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/15/887015/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'test-requirements.txt', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/test_checks.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/logapi/rpc/test_log_server.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/privileged/test_netlink_lib.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/privileged/netfilter_log/test_libnetfilter_log.py', 'neutron_fwaas/tests/unit/services/logapi/base.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/logapi/test_fwg_validate.py', 'neutron_fwaas/tests/unit/privileged/test_utils.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/test_fwg_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/test_driver_api.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py']",28,193d1e27661438e11a44b379367d56affba79b21,unittest.mock,from unittest import mock,import mock,45,28
openstack%2Fopenstack-ansible-plugins~stable%2Fzed~I9444ef832136783bde1eff5425e4cd369f905a5c,openstack/openstack-ansible-plugins,stable/zed,I9444ef832136783bde1eff5425e4cd369f905a5c,Use cryptography backend for openssh_keypair,MERGED,2023-07-20 09:18:22.000000000,2023-07-26 06:15:49.000000000,2023-07-25 16:42:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-20 09:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9cbab4c1d2f94bc0b1456808b86a99ae1857f342', 'message': 'Use cryptography backend for openssh_keypair\n\nWith default ""auto"" backend, opensshbin is first pick, which fails\nto read a key in case of insecure permissions. This makes task fail\nin case private key in topic has mode different from 0600, even if\ndifferent mode specified for the module itself [1].\n\nAlong with switching backend we also adding mode key to be supported\n\n[1] https://github.com/ansible-collections/community.crypto/issues/564\nChange-Id: I9444ef832136783bde1eff5425e4cd369f905a5c\n(cherry picked from commit 1dbc2985d39fae7c73c741a95a486d9014aa036b)\n'}, {'number': 2, 'created': '2023-07-24 07:39:40.000000000', 'files': ['roles/ssh_keypairs/tasks/standalone/create_keypair.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/3f6feed9dcaab3b0957d534d125b4db22add6a8f', 'message': 'Use cryptography backend for openssh_keypair\n\nWith default ""auto"" backend, opensshbin is first pick, which fails\nto read a key in case of insecure permissions. This makes task fail\nin case private key in topic has mode different from 0600, even if\ndifferent mode specified for the module itself [1].\n\nAlong with switching backend we also adding mode key to be supported\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/888437\n\n[1] https://github.com/ansible-collections/community.crypto/issues/564\nChange-Id: I9444ef832136783bde1eff5425e4cd369f905a5c\n(cherry picked from commit 1dbc2985d39fae7c73c741a95a486d9014aa036b)\n'}]",0,888658,3f6feed9dcaab3b0957d534d125b4db22add6a8f,12,3,2,31792,,,0,"Use cryptography backend for openssh_keypair

With default ""auto"" backend, opensshbin is first pick, which fails
to read a key in case of insecure permissions. This makes task fail
in case private key in topic has mode different from 0600, even if
different mode specified for the module itself [1].

Along with switching backend we also adding mode key to be supported

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/888437

[1] https://github.com/ansible-collections/community.crypto/issues/564
Change-Id: I9444ef832136783bde1eff5425e4cd369f905a5c
(cherry picked from commit 1dbc2985d39fae7c73c741a95a486d9014aa036b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/58/888658/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/ssh_keypairs/tasks/standalone/create_keypair.yml'],1,9cbab4c1d2f94bc0b1456808b86a99ae1857f342,," mode: ""{{ kp.mode | default(omit) }}"" backend: cryptography",,2,0
openstack%2Ftripleo-common~stable%2Ftrain~Iae303be073891c81cbcedee81930aafd9f322a41,openstack/tripleo-common,stable/train,Iae303be073891c81cbcedee81930aafd9f322a41,Do pagination when getting continer image tags,MERGED,2023-07-25 10:48:57.000000000,2023-07-26 05:44:34.000000000,2023-07-26 05:43:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-07-25 10:48:57.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4091c61ea96dfa88541cf097bb4ad6e5c173519b', 'message': ""Do pagination when getting continer image tags\n\nCurrently, _inspect() method doesn't do pagination when accessing the\nfollowing docker API.\n\n  GET /v2/<name>/tags/list?n=<integer>\n\nPagenation is described here:\n\n  https://docs.docker.com/registry/spec/api/#pagination-1\n\nBecause of this behavior, when the docker API does pagination when\nreturning container image tags, _inspect() couldn't obtain all of the\ntags. This causes some errors during deployments.\n\nCloses-Bug: #2028260\nChange-Id: Iae303be073891c81cbcedee81930aafd9f322a41\n(cherry picked from commit e38a79e8663728cd96478ed43f1b0e6c6c5fe63f)\n""}]",0,889387,4091c61ea96dfa88541cf097bb4ad6e5c173519b,8,3,1,34564,,,0,"Do pagination when getting continer image tags

Currently, _inspect() method doesn't do pagination when accessing the
following docker API.

  GET /v2/<name>/tags/list?n=<integer>

Pagenation is described here:

  https://docs.docker.com/registry/spec/api/#pagination-1

Because of this behavior, when the docker API does pagination when
returning container image tags, _inspect() couldn't obtain all of the
tags. This causes some errors during deployments.

Closes-Bug: #2028260
Change-Id: Iae303be073891c81cbcedee81930aafd9f322a41
(cherry picked from commit e38a79e8663728cd96478ed43f1b0e6c6c5fe63f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/889387/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,4091c61ea96dfa88541cf097bb4ad6e5c173519b,bug/2028260-stable/train," while 'next' in tags_r.links: next_url = parse.urljoin(tags_url, tags_r.links['next']['url']) tags_r = RegistrySessionHelper.get(session, next_url, timeout=30) tags.extend(tags_r.json()['tags'])",,85,0
openstack%2Fsahara~master~I8ac88c9095bb426fb454b1ba475de420a26a5e92,openstack/sahara,master,I8ac88c9095bb426fb454b1ba475de420a26a5e92,Update the correct link in the docs,MERGED,2023-07-26 04:26:57.000000000,2023-07-26 04:49:28.000000000,2023-07-26 04:48:22.000000000,"[{'_account_id': 22348}, {'_account_id': 29423}, {'_account_id': 36096}]","[{'number': 1, 'created': '2023-07-26 04:26:57.000000000', 'files': ['doc/source/install/installation-guide.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/5bcf1864406169aacb6d4b15a611de761ab02916', 'message': 'Update the correct link in the docs\n\nChange-Id: I8ac88c9095bb426fb454b1ba475de420a26a5e92\n'}]",0,889671,5bcf1864406169aacb6d4b15a611de761ab02916,8,3,1,36096,,,0,"Update the correct link in the docs

Change-Id: I8ac88c9095bb426fb454b1ba475de420a26a5e92
",git fetch https://review.opendev.org/openstack/sahara refs/changes/71/889671/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation-guide.rst'],1,5bcf1864406169aacb6d4b15a611de761ab02916,, `<https://tarballs.opendev.org/openstack/sahara/>`_ and install it using pip:, `<http://tarballs.openstack.org/sahara/>`_ and install it using pip:,1,1
openstack%2Fswift~master~Ic1b3a8c6c9b1aaead25070e49f514785c2d52c98,openstack/swift,master,Ic1b3a8c6c9b1aaead25070e49f514785c2d52c98,versioning: Only list versions container if it seems to exist,MERGED,2023-06-29 22:58:08.000000000,2023-07-26 04:16:30.000000000,2023-07-26 04:14:08.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 22:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e5137d06c766ecab5ac0aa41347bb6a2ce2680b', 'message': ""versioning: Only list versions container if it seems to exist\n\nIt costs us an extra HEAD sometimes, but those at least get cached\nsome. Seems better than doing real GETs and going out to handoffs\nevery time when versioning isn't enabled.\n\nChange-Id: Ic1b3a8c6c9b1aaead25070e49f514785c2d52c98\n""}, {'number': 2, 'created': '2023-07-06 18:24:28.000000000', 'files': ['test/unit/common/middleware/test_object_versioning.py', 'swift/common/middleware/versioned_writes/object_versioning.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/14a227f305a9e498fab761672bd8652bba8de5d2', 'message': ""versioning: Only list versions container if it seems to exist\n\nIt costs us an extra HEAD sometimes, but those at least get cached\nsome. Seems better than doing real GETs and going out to handoffs\nevery time when versioning isn't enabled.\n\nChange-Id: Ic1b3a8c6c9b1aaead25070e49f514785c2d52c98\n""}]",17,887345,14a227f305a9e498fab761672bd8652bba8de5d2,18,3,2,15343,,,0,"versioning: Only list versions container if it seems to exist

It costs us an extra HEAD sometimes, but those at least get cached
some. Seems better than doing real GETs and going out to handoffs
every time when versioning isn't enabled.

Change-Id: Ic1b3a8c6c9b1aaead25070e49f514785c2d52c98
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/887345/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/versioned_writes/object_versioning.py'],1,8e5137d06c766ecab5ac0aa41347bb6a2ce2680b,," if get_container_info(versions_req.environ, self.app, swift_source='OV')['status'] == 404: # we don't usually like to LBYL like this, but 404s tend to be # expensive (since we check all primaries and a bunch of handoffs) # and we expect this to be a reasonably common way to listing # objects since it's more complete from the user's perspective # (see also: s3api and that client ecosystem) versions_resp = None else: versions_req.params = { k: params.get(k, '') for k in ( 'prefix', 'marker', 'limit', 'delimiter', 'reverse')} versions_resp = versions_req.get_response(self.app) if versions_resp is None \ or versions_resp.status_int == HTTP_NOT_FOUND:"," versions_req.params = { k: params.get(k, '') for k in ('prefix', 'marker', 'limit', 'delimiter', 'reverse')} versions_resp = versions_req.get_response(self.app) if versions_resp.status_int == HTTP_NOT_FOUND:",15,5
openstack%2Fsahara-plugin-vanilla~master~I2791b0ffe7f787ff2d28bee04a10afbe04cd950d,openstack/sahara-plugin-vanilla,master,I2791b0ffe7f787ff2d28bee04a10afbe04cd950d,setup.cfg: Replace dashes with underscores,NEW,2023-06-12 07:45:07.000000000,2023-07-26 03:52:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 07:45:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/5ce51d3374aa989d01d689668ecc1472c2ace978', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2791b0ffe7f787ff2d28bee04a10afbe04cd950d\n""}]",1,885780,5ce51d3374aa989d01d689668ecc1472c2ace978,4,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2791b0ffe7f787ff2d28bee04a10afbe04cd950d
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/80/885780/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5ce51d3374aa989d01d689668ecc1472c2ace978,,description_file = README.rstpython_requires = >=3.8author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.8author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fsahara-plugin-spark~master~I85b2679ffb5fcb404ef3fe292cef41cadc13d320,openstack/sahara-plugin-spark,master,I85b2679ffb5fcb404ef3fe292cef41cadc13d320,setup.cfg: Replace dashes with underscores,NEW,2023-06-12 07:43:32.000000000,2023-07-26 03:45:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 07:43:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/5bdf8f8e6fd837c972018a6c7e2c38463bdb077a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I85b2679ffb5fcb404ef3fe292cef41cadc13d320\n""}]",1,885779,5bdf8f8e6fd837c972018a6c7e2c38463bdb077a,4,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I85b2679ffb5fcb404ef3fe292cef41cadc13d320
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/79/885779/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5bdf8f8e6fd837c972018a6c7e2c38463bdb077a,,description_file = README.rstpython_requires = >=3.8author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.8author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fpython-saharaclient~master~I4765ada5144e4e278a4873ca202c07631b16a3b3,openstack/python-saharaclient,master,I4765ada5144e4e278a4873ca202c07631b16a3b3,Updated links in documentation to be safe links,NEW,2023-07-26 02:45:25.000000000,2023-07-26 03:41:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-26 02:45:25.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/739a4ba1977ed02f767ec10a0f06daea76328983', 'message': 'Updated links in documentation to be safe links\n\nChange-Id: I4765ada5144e4e278a4873ca202c07631b16a3b3\n'}]",1,889670,739a4ba1977ed02f767ec10a0f06daea76328983,4,1,1,36096,,,0,"Updated links in documentation to be safe links

Change-Id: I4765ada5144e4e278a4873ca202c07631b16a3b3
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/70/889670/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,739a4ba1977ed02f767ec10a0f06daea76328983,,https://docs.openstack.org/sahara/latest/contributor/contributing.html,http://docs.openstack.org/sahara/latest/contributor/contributing.html,1,1
openstack%2Fpuppet-keystone~stable%2Fyoga~I0866f2d546b9f23acef5a7e15bdf334ff781655d,openstack/puppet-keystone,stable/yoga,I0866f2d546b9f23acef5a7e15bdf334ff781655d,Add support for [DEFAULT] notification_opt_out,MERGED,2023-07-24 19:28:49.000000000,2023-07-26 02:54:14.000000000,2023-07-26 02:52:38.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 19:28:49.000000000', 'files': ['manifests/init.pp', 'spec/classes/keystone_init_spec.rb', 'releasenotes/notes/notification_opt_out-5c87151211fe8840.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f60c82edac2b59838c32ecee6258f32d3209ee1d', 'message': 'Add support for [DEFAULT] notification_opt_out\n\nChange-Id: I0866f2d546b9f23acef5a7e15bdf334ff781655d\n(cherry picked from commit 6d90c87e01871c0b4fcf66f8181a7e63962044ec)\n'}]",0,889347,f60c82edac2b59838c32ecee6258f32d3209ee1d,8,4,1,7973,,,0,"Add support for [DEFAULT] notification_opt_out

Change-Id: I0866f2d546b9f23acef5a7e15bdf334ff781655d
(cherry picked from commit 6d90c87e01871c0b4fcf66f8181a7e63962044ec)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/47/889347/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb', 'releasenotes/notes/notification_opt_out-5c87151211fe8840.yaml']",3,f60c82edac2b59838c32ecee6258f32d3209ee1d,,--- features: - | The new ``keystone::notification_opt_out`` parameter has been added. ,,29,3
openstack%2Fnova~master~I362a40403d1094be36412f5f7afba00da8af8301,openstack/nova,master,I362a40403d1094be36412f5f7afba00da8af8301,Add dest_compute_id to Migration object,MERGED,2023-04-05 19:39:51.000000000,2023-07-26 02:13:56.000000000,2023-07-26 02:04:49.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-05 19:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81a60fcee3a8415649ab20f5073deae5b32c8f3d', 'message': 'Add dest_compute_id to Migration object\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 2, 'created': '2023-04-07 19:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9234c731921eaecd75c5942b44d250affe4c2bec', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nFIXME: Still need to do something about the disabled-during move thing\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 3, 'created': '2023-04-12 17:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0858aa3ad681541ba491ab33d248861105822f6c', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nFIXME: Still need to do something about the disabled-during move thing\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 4, 'created': '2023-05-05 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d8002630d02df6d131ff6f9f0f7f966fd898d42', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nFIXME: Still need to do something about the disabled-during move thing\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 5, 'created': '2023-05-08 23:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9b1f319c6406f907adc9ffb84625a9bb988c346', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nFIXME: Still need to do something about the disabled-during move thing\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 6, 'created': '2023-05-22 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4406bf05548735ab48917683c34d6f695d16340b', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 7, 'created': '2023-05-30 17:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ecbf8892d2271f42835949bec23bebbb8806e7a', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}, {'number': 8, 'created': '2023-05-31 14:13:27.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/api/openstack/compute/migrations.py', 'nova/tests/functional/api_sample_tests/test_migrations.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/compute/resource_tracker.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/70516d4ff9d0cc74059f147b4dfcaf7405b70643', 'message': 'Add dest_compute_id to Migration object\n\nThis makes us store the compute_id of the destination node in the\nMigration object. Since resize/cold-migration changes the node\naffiliation of an instance *to* the destination node *from* the source\nnode, we need a positive record of the node id to be used. The\ndestination node set this to its own node when creating the migration,\nand it is used by the source node when the switchover happens.\n\nBecause the migration may be backleveled for an older node involved\nin that process and thus saved or passed without this field, this\nadds a compatibility routine that falls back to looking up the node\nby host/nodename.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: I362a40403d1094be36412f5f7afba00da8af8301\n'}]",13,879682,70516d4ff9d0cc74059f147b4dfcaf7405b70643,60,3,8,4393,,,0,"Add dest_compute_id to Migration object

This makes us store the compute_id of the destination node in the
Migration object. Since resize/cold-migration changes the node
affiliation of an instance *to* the destination node *from* the source
node, we need a positive record of the node id to be used. The
destination node set this to its own node when creating the migration,
and it is used by the source node when the switchover happens.

Because the migration may be backleveled for an older node involved
in that process and thus saved or passed without this field, this
adds a compatibility routine that falls back to looking up the node
by host/nodename.

Related to blueprint compute-object-ids

Change-Id: I362a40403d1094be36412f5f7afba00da8af8301
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/879682/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/api/openstack/compute/migrations.py', 'nova/tests/functional/api_sample_tests/test_migrations.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/compute/resource_tracker.py', 'nova/objects/migration.py']",13,81a60fcee3a8415649ab20f5073deae5b32c8f3d,bp/compute-object-ids,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) # Version 1.8: Added dest_compute_id VERSION = '1.8' # ID of ComputeNode matching dest_node 'dest_compute_id': fields.IntegerField(nullable=True), if target_version < (1, 8): primitive.pop('dest_compute_id', None) version = versionutils.convert_version_to_tuple(self.VERSION) if 'dest_node' in updates and 'dest_compute_id' not in updates: # NOTE(danms): This is not really the best idea, as we should try # not to have different behavior based on the version of the # object. However, this exception helps us find cases in testing # where these may not be updated together. We can remove this # later. if version >= (1, 8): raise exception.ObjectActionError( action='create', reason=_('cannot create a Migration object with a ' 'dest_node but no dest_compute_id')) else: LOG.warning('Migration is being created for %s but no ' 'compute_id is set', self.dest_node) def get_dest_compute_id(self): """"""Try to determine the ComputeNode id this migration targets. This should be just the dest_compute_id field, but for migrations created by older compute nodes, we may not have that set. If not, look up the compute the old way for compatibility. :raises:ComputeHostNotFound if the destination compute is missing """""" if 'dest_compute_id' not in self: self.dest_compute_id = ( objects.ComputeNode.get_by_host_and_nodename(self._context, self.dest_compute, self.dest_node)) return self.dest_compute_id ", VERSION = '1.7',82,13
openstack%2Fsahara-plugin-mapr~master~I14aaec1fbd6684a20bc0cfaa755ef4d73473b025,openstack/sahara-plugin-mapr,master,I14aaec1fbd6684a20bc0cfaa755ef4d73473b025,setup.cfg: Replace dashes with underscores,NEW,2023-06-12 07:33:38.000000000,2023-07-26 00:36:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 07:33:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/49eba1bcf0899f9e9704e90e34120d0a79f5d37b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I14aaec1fbd6684a20bc0cfaa755ef4d73473b025\n""}]",2,885777,49eba1bcf0899f9e9704e90e34120d0a79f5d37b,6,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I14aaec1fbd6684a20bc0cfaa755ef4d73473b025
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/77/885777/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,49eba1bcf0899f9e9704e90e34120d0a79f5d37b,,description_file = README.rstpython_requires = >=3.8author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.8author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fsahara-specs~master~Iac38495c4263b7649132019e1b7c7cdf6fa6d53b,openstack/sahara-specs,master,Iac38495c4263b7649132019e1b7c7cdf6fa6d53b,Update various links in the documentation,NEW,2023-06-08 00:24:26.000000000,2023-07-26 00:35:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 00:24:26.000000000', 'files': ['specs/mitaka/improved-secret-storage.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/28e7ca56ec228a5fcaf43d0cfac9c167cda03f02', 'message': 'Update various links in the documentation\n\nChange-Id: Iac38495c4263b7649132019e1b7c7cdf6fa6d53b\n'}]",8,885436,28e7ca56ec228a5fcaf43d0cfac9c167cda03f02,17,1,1,29423,,,0,"Update various links in the documentation

Change-Id: Iac38495c4263b7649132019e1b7c7cdf6fa6d53b
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/36/885436/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/improved-secret-storage.rst'],1,28e7ca56ec228a5fcaf43d0cfac9c167cda03f02,,barbican documentation https://docs.openstack.org/barbican/latest/,barbican documentation http://docs.openstack.org/developer/barbican/,1,1
openstack%2Ftripleo-heat-templates~master~Ic4a7877bc973af222237ff4b6d9ae3ffc7883173,openstack/tripleo-heat-templates,master,Ic4a7877bc973af222237ff4b6d9ae3ffc7883173,Use tripleo_ovn standalone role for ovn scale tasks,ABANDONED,2022-09-01 12:13:20.000000000,2023-07-26 00:32:50.000000000,,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-01 12:13:20.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b53faf3153ca8d34532d638224e3078da7c4476d', 'message': 'Use tripleo_ovn standalone role for ovn scale tasks\n\nUse the scale_tasks from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/855505\nChange-Id: Ic4a7877bc973af222237ff4b6d9ae3ffc7883173\n'}]",1,855506,b53faf3153ca8d34532d638224e3078da7c4476d,7,5,1,32114,,,0,"Use tripleo_ovn standalone role for ovn scale tasks

Use the scale_tasks from the tripleo-ovn standalone role in
tripleo-heat-templates.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/855505
Change-Id: Ic4a7877bc973af222237ff4b6d9ae3ffc7883173
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/855506/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,b53faf3153ca8d34532d638224e3078da7c4476d,standalone-roles, - name: Include scale tasks include_role: name: tripleo_ovn tasks_from: scale_tasks.yml," # Some tasks are running from the Undercloud which has # the OpenStack clients installed. - name: Get neutron agents ID command: openstack network agent list --column ID --column Host --column Binary --format yaml register: neutron_agents_result delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false changed_when: false - name: Filter only current host set_fact: neutron_agents: ""{{ neutron_agents_result.stdout | from_yaml | selectattr('Host', 'match', ansible_facts['fqdn'] ~ '.*') | list }}"" delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false - name: Deleting OVN agents block: - name: Stop OVN containers loop: - tripleo_ovn_controller - tripleo_ovn_metadata_agent service: name: ""{{ item }}"" state: stopped enabled: false become: true register: stop_containers failed_when: ""('msg' in stop_containers and 'Could not find the requested service' not in stop_containers.msg) or ('rc' in stop_containers and stop_containers.rc != 0)"" - name: Delete neutron agents loop: ""{{ neutron_agents }}"" loop_control: loop_var: agent label: ""{{ agent.Host }}/{{ agent.Binary }}"" command: openstack network agent delete {{ agent.ID }} delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false",4,36
openstack%2Ftripleo-docs~master~I0a781238e36e3c01c0a8ad1783a142ea5df3fb69,openstack/tripleo-docs,master,I0a781238e36e3c01c0a8ad1783a142ea5df3fb69,Update node delete host name list command,ABANDONED,2022-09-07 00:56:28.000000000,2023-07-26 00:32:11.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-07 00:56:28.000000000', 'files': ['deploy-guide/source/post_deployment/delete_nodes.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a18228a0d125b60e1b70be2aeea0efa6ae7e915c', 'message': 'Update node delete host name list command\n\nThis change updates the note refering to using tripleo-ansible-inventory\nto generate a list of hosts to now using metalsmith.\n\ntripleo-ansible-inventory is no longer working now that Heat and Neutron\nare no longer deployed at all times on the undercloud\n\nChange-Id: I0a781238e36e3c01c0a8ad1783a142ea5df3fb69\n'}]",1,856218,a18228a0d125b60e1b70be2aeea0efa6ae7e915c,4,2,1,32114,,,0,"Update node delete host name list command

This change updates the note refering to using tripleo-ansible-inventory
to generate a list of hosts to now using metalsmith.

tripleo-ansible-inventory is no longer working now that Heat and Neutron
are no longer deployed at all times on the undercloud

Change-Id: I0a781238e36e3c01c0a8ad1783a142ea5df3fb69
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/18/856218/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/delete_nodes.rst'],1,a18228a0d125b60e1b70be2aeea0efa6ae7e915c,, You can generate the list of nodes using metalsmith:: metalsmith list This output will contain a list of nodes and their hostname you can use to identify the hostname value that needs to be passed to the `node delete` command., You can generate the list of hostname in the Ansible inventory using:: tripleo-ansible-inventory --stack <STACK_NAME> --static-yaml-inventory overcloud-inv.yaml This file will contain the Ansible inventory in use and help to identify the hostname that needs to be passed to the `node delete` command.,4,4
openstack%2Ftripleo-ansible~master~I4a8a53252f8ce7acce01b28d9b4f94e298ec659f,openstack/tripleo-ansible,master,I4a8a53252f8ce7acce01b28d9b4f94e298ec659f,Migrate tripleo_ovn scale tasks to tripleo-ansible,ABANDONED,2022-09-01 12:10:52.000000000,2023-07-26 00:31:45.000000000,,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-01 12:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a2f7ca38aed10ebdbba9b8c300b089469b1ea8b', 'message': 'Migrate tripleo_ovn scale tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the\n tripleo_ovn role\n\nChange-Id: I4a8a53252f8ce7acce01b28d9b4f94e298ec659f\n'}, {'number': 2, 'created': '2022-09-09 05:53:09.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn/tasks/scale_tasks.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/33d189d358fab23f5c61acac99b51fd7bda97765', 'message': 'Migrate tripleo_ovn scale tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the\n tripleo_ovn role\n\nChange-Id: I4a8a53252f8ce7acce01b28d9b4f94e298ec659f\n'}]",10,855505,33d189d358fab23f5c61acac99b51fd7bda97765,15,5,2,32114,,,0,"Migrate tripleo_ovn scale tasks to tripleo-ansible

Migrate the tripleo-heat-template ansible tasks into the
 tripleo_ovn role

Change-Id: I4a8a53252f8ce7acce01b28d9b4f94e298ec659f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/855505/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovn/tasks/scale_tasks.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/main.yml']",2,5a2f7ca38aed10ebdbba9b8c300b089469b1ea8b,standalone-roles, - name: Include scale tasks include_tasks: scale_tasks.yml,,53,0
openstack%2Ftripleo-ansible~master~I7645ab66bfb4682654ba9984df823147402fd986,openstack/tripleo-ansible,master,I7645ab66bfb4682654ba9984df823147402fd986,Migrate tripleo_ovn_metadata host prep tasks to tripleo-ansible,ABANDONED,2022-09-07 01:08:11.000000000,2023-07-26 00:31:39.000000000,,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 31245}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-09-07 01:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a06aa4e5451129c239802c3888f9b880d7c018d9', 'message': 'Migrate tripleo_ovn_metadata host prep tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the\n tripleo_ovn role.\n\nChange-Id: I7645ab66bfb4682654ba9984df823147402fd986\n'}, {'number': 2, 'created': '2022-09-09 05:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e54bd9b1fb66d0ad189bf965b2fd57d6ce00d6af', 'message': 'Migrate tripleo_ovn_metadata host prep tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the\n tripleo_ovn role.\n\nChange-Id: I7645ab66bfb4682654ba9984df823147402fd986\n'}, {'number': 3, 'created': '2022-09-09 06:08:47.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn/files/kill-script', 'tripleo_ansible/roles/tripleo_ovn/tasks/metadata-install.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e716ab447deb2af25ed1e34acc948b6d8e37f5e', 'message': 'Migrate tripleo_ovn_metadata host prep tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the\n tripleo_ovn role.\n\nChange-Id: I7645ab66bfb4682654ba9984df823147402fd986\n'}]",2,856220,5e716ab447deb2af25ed1e34acc948b6d8e37f5e,12,7,3,32114,,,0,"Migrate tripleo_ovn_metadata host prep tasks to tripleo-ansible

Migrate the tripleo-heat-template ansible tasks into the
 tripleo_ovn role.

Change-Id: I7645ab66bfb4682654ba9984df823147402fd986
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/856220/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovn/files/kill-script', 'tripleo_ansible/roles/tripleo_ovn/tasks/metadata-install.yaml']",2,a06aa4e5451129c239802c3888f9b880d7c018d9,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: create /run/netns with temp namespace ansible.builtin.command: ip netns add ns_temp register: ipnetns_add_result failed_when: false - name: remove temp namespace ansible.builtin.command: ip netns delete ns_temp failed_when: false when: - ipnetns_add_result.rc is defined - ipnetns_add_result.rc == 0 - name: create /var/lib/neutron ansible.builtin.file: path: /var/lib/neutron state: directory setype: container_file_t - name: set conditions ansible.builtin.set_fact: haproxy_wrapper_enabled: ""{{ haproxy_wrapper_enabled_value }}"" debug_enabled: if: - ""{{ OVNWrapperDebug }}"" - true - ""{{ Debug }}"" - name: create kill_scripts directory within /var/lib/neutron ansible.builtin.file: state: directory path: /var/lib/neutron/kill_scripts - name: Copy in haproxy kill script when: haproxy_wrapper_enabled|bool ansible.builtin.copy: src: kill-script dest: '/var/lib/neutron/kill_scripts/haproxy-kill' force: true mode: '0755' ",,125,0
openstack%2Ftripleo-heat-templates~master~Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6,openstack/tripleo-heat-templates,master,Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6,Use tripleo_ovn standalone role for host_prep_tasks,ABANDONED,2022-05-17 06:34:35.000000000,2023-07-26 00:31:36.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 31245}, {'_account_id': 32114}]","[{'number': 1, 'created': '2022-05-17 06:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b75b2e1478d4cf51709ee598972b460934959a9', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 2, 'created': '2022-05-17 07:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7a8529442a0e58566c191f5e91fab79d15bad37', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nCo-Authored-By: Brendan Shephard <bshephar@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 3, 'created': '2022-05-17 12:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8169903e36c6378d9aecf53109e46cf7cf802967', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 4, 'created': '2022-05-18 23:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42631ba84745cf36c49130790c7e9449a0c294f2', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 5, 'created': '2022-05-19 04:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5eed9e57732797eecb7dc9b79a02d4c8e463897a', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 6, 'created': '2022-05-19 04:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d45b1b3e1007346d6dd08ee2edb42a45b112849', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 7, 'created': '2022-08-09 09:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/122171447f095a5d4ad44e5e3b5286eaa7f63bf1', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 8, 'created': '2022-08-09 09:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a9ca686b1298fabd1da541c70a8588dcc620d85', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}, {'number': 9, 'created': '2022-09-07 01:28:19.000000000', 'files': ['deployment/neutron/neutron-cleanup', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa0f5cccc5f768b82d28d6947ac44ae65674036a', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the hostprep from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/856222\nChange-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6\n'}]",19,842044,aa0f5cccc5f768b82d28d6947ac44ae65674036a,61,9,9,32114,,,0,"Use tripleo_ovn standalone role for host_prep_tasks

Use the hostprep from the tripleo-ovn standalone role in
tripleo-heat-templates.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/842041
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/856222
Change-Id: Ibaa99aaeaa782abc04ffd89fd3d4c70d775871f6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/842044/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-cleanup.service', 'deployment/neutron/neutron-cleanup', 'deployment/ovn/ovn-controller-container-puppet.yaml']",3,5b75b2e1478d4cf51709ee598972b460934959a9,standalone-roles, - name: Include host prep tasks include_role: name: tripleo_ovn tasks_from: hostprep.yml ," - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" with_items: - { 'path': /var/log/containers/openvswitch, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/openvswitch/ovn, 'setype': container_file_t } - name: enable virt_sandbox_use_netlink for healthcheck seboolean: name: virt_sandbox_use_netlink persistent: true state: true when: - ansible_facts.selinux is defined - ansible_facts.selinux.status == ""enabled"" - name: Copy in cleanup script copy: content: {get_file: ../neutron/neutron-cleanup} dest: '/usr/libexec/neutron-cleanup' force: true mode: '0755' - name: Copy in cleanup service copy: content: {get_file: ../neutron/neutron-cleanup.service} dest: '/usr/lib/systemd/system/neutron-cleanup.service' force: true - name: Enabling the cleanup service service: name: neutron-cleanup enabled: true",5,71
openstack%2Ftripleo-heat-templates~master~Id4e33e9e73d84d9d66cfd1a3b9d5bcf6c3a5c6f5,openstack/tripleo-heat-templates,master,Id4e33e9e73d84d9d66cfd1a3b9d5bcf6c3a5c6f5,Use tripleo_ovn standalone role for external_update_tasks,ABANDONED,2022-08-17 13:25:21.000000000,2023-07-26 00:31:31.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-08-17 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac44e32c20a8973305b92803392c3a7728f156f5', 'message': 'Use tripleo_ovn standalone role for external_update_tasks\n\nUse external_update_tasks from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nChange-Id: Id4e33e9e73d84d9d66cfd1a3b9d5bcf6c3a5c6f5\n'}, {'number': 2, 'created': '2022-08-17 13:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f02877aabe0b63418e4fd84c5b308dab7e630ad3', 'message': 'Use tripleo_ovn standalone role for external_update_tasks\n\nUse external_update_tasks from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/853483\nChange-Id: Id4e33e9e73d84d9d66cfd1a3b9d5bcf6c3a5c6f5\n'}, {'number': 3, 'created': '2022-08-17 22:14:23.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55cbdebf9fb7404934acb3168a2f3598b9c2ba96', 'message': 'Use tripleo_ovn standalone role for external_update_tasks\n\nUse external_update_tasks from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/853483\nChange-Id: Id4e33e9e73d84d9d66cfd1a3b9d5bcf6c3a5c6f5\n'}]",5,853484,55cbdebf9fb7404934acb3168a2f3598b9c2ba96,13,4,3,32114,,,0,"Use tripleo_ovn standalone role for external_update_tasks

Use external_update_tasks from the tripleo-ovn standalone role in
tripleo-heat-templates.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/853483
Change-Id: Id4e33e9e73d84d9d66cfd1a3b9d5bcf6c3a5c6f5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/853484/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,ac44e32c20a8973305b92803392c3a7728f156f5,standalone-roles," - when: - step|int == 0 name: external_update_tasks block: - name: OVN Container image used debug: msg: ""ovn container will be using {{ image }}"" vars: tags: ovn - include_role: name: tripleo_ovn tasks_from: external_update_tasks.yml vars: async: {get_param: OVNControllerUpdateTimeout} image: {get_param: ContainerOvnControllerConfigImage} retries: {get_param: OVNControllerUpdateTimeout} tags: ovn"," - name: OVN Container image used debug: msg: ""ovn container will be using {{ image }}"" vars: image: {get_param: ContainerOvnControllerConfigImage} when: step|int == 1 tags: ovn - name: Update ovn_controller. when: step|int == 1 tags: ovn become: true loop: ""{{ groups['ovn_controller'] }}"" delegate_to: ""{{ item }}"" async: {get_param: OVNControllerUpdateTimeout} poll: 0 register: ovn_controller_update ignore_errors: true tripleo_container_manage: config_dir: ""/var/lib/tripleo-config/container-startup-config/step_4"" config_patterns: 'ovn_controller.json' config_id: - 'tripleo_step4' container_cli: ""{{ container_cli }}"" log_path: ""{{ container_log_stdout_path }}"" debug: ""{{ enable_debug | bool }}"" config_overrides: ovn_controller: - name: Was the ovn_controller successful. when: - step|int == 1 - ""'results' in ovn_controller_update"" tags: ovn become: true delegate_to: ""{{ async_result_item.item }}"" async_status: jid: ""{{ async_result_item.ansible_job_id }}"" loop: ""{{ovn_controller_update.results }}"" loop_control: loop_var: ""async_result_item"" register: async_poll_results until: async_poll_results.finished retries: {get_param: OVNControllerUpdateTimeout}",18,42
openstack%2Ftripleo-ansible~master~I55146522530fd4b4984b414623f52826435f5ef3,openstack/tripleo-ansible,master,I55146522530fd4b4984b414623f52826435f5ef3,Migrate tripleo_ovn external_update_tasks to tripleo-ansible,ABANDONED,2022-08-17 13:22:32.000000000,2023-07-26 00:31:27.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-08-17 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2988b56d831a55382b6c1bd7e82c4f7aab3356aa', 'message': 'Migrate tripleo_ovn external_update_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: I55146522530fd4b4984b414623f52826435f5ef3\n'}, {'number': 2, 'created': '2022-08-17 14:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c95e921cf4bb780b2429934649fd7989249f13cf', 'message': 'Migrate tripleo_ovn external_update_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: I55146522530fd4b4984b414623f52826435f5ef3\n'}, {'number': 3, 'created': '2022-08-17 22:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3fea89a42fd1479cc92dee309a3d82105a127df', 'message': 'Migrate tripleo_ovn external_update_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: I55146522530fd4b4984b414623f52826435f5ef3\n'}, {'number': 4, 'created': '2022-09-09 05:58:12.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/external_update_tasks.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09b4a842c62ca677e90b72d704e6a6cf0f245633', 'message': 'Migrate tripleo_ovn external_update_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: I55146522530fd4b4984b414623f52826435f5ef3\n'}]",14,853483,09b4a842c62ca677e90b72d704e6a6cf0f245633,25,5,4,32114,,,0,"Migrate tripleo_ovn external_update_tasks to tripleo-ansible

Migrate the tripleo-heat-template ansible tasks into the tripleo_ovn
standalone ansible role.

Change-Id: I55146522530fd4b4984b414623f52826435f5ef3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/853483/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovn/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/external_update_tasks.yml']",2,2988b56d831a55382b6c1bd7e82c4f7aab3356aa,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Update ovn_controller. tags: ovn become: true loop: ""{{ groups['ovn_controller'] }}"" delegate_to: ""{{ item }}"" async: ""{{ async }}"" poll: 0 register: ovn_controller_update ignore_errors: true tripleo_container_manage: config_dir: ""/var/lib/tripleo-config/container-startup-config/step_4"" config_patterns: 'ovn_controller.json' config_id: 'tripleo_step4' log_base_path: ""{{ container_log_stdout_path }}"" debug: ""{{ enable_debug | bool }}"" config_overrides: ovn_controller: image: ""{{ image }}"" - name: Was the ovn_controller successful. when: - ""'results' in ovn_controller_update"" tags: ovn become: true delegate_to: ""{{ async_result_item.item }}"" async_status: jid: ""{{ async_result_item.ansible_job_id }}"" loop: ""{{ovn_controller_update.results }}"" loop_control: loop_var: ""async_result_item"" register: async_poll_results until: async_poll_results.finished retries: ""{{ retries }}""",,51,0
openstack%2Fsahara-extra~master~Iacb5a4d8b8317705351ad95efd8e04385f32984b,openstack/sahara-extra,master,Iacb5a4d8b8317705351ad95efd8e04385f32984b,setup.cfg: Replace dashes with underscores,ABANDONED,2023-06-12 07:27:51.000000000,2023-07-26 00:15:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-06-12 07:27:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/3549041f8cc92457bcb9d02ab69abb6eee82644a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iacb5a4d8b8317705351ad95efd8e04385f32984b\n""}]",4,885774,3549041f8cc92457bcb9d02ab69abb6eee82644a,13,2,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iacb5a4d8b8317705351ad95efd8e04385f32984b
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/74/885774/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3549041f8cc92457bcb9d02ab69abb6eee82644a,,description_file = README.rstpython_requires = >=3.6author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.6author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fswift~master~Ia0ac4ea2006d8965d7fdb6659d355c77386adb70,openstack/swift,master,Ia0ac4ea2006d8965d7fdb6659d355c77386adb70,ring: Introduce a v2 ring format,NEW,2022-03-18 06:06:20.000000000,2023-07-26 00:03:30.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-18 06:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88fc7aeb6046ecf31ea2e445999dcd6b187cae71', 'message': 'WIP: Add new RingWriter class\n\nPut it in a new swift/common/ring/io.py module. You *can* use it like\nthe old gzip file, but you can also define named sections which can be\nreferenced later on read. Section names may be arbitrary strings, but\nthe ""swift/"" prefix is reserved for upstream use. Sections must contain\na single length-value encoded BLOB. If sections are used, an additional\nBLOB is written at the end containing a JSON section-index, followed by\nan uncompressed offset for the index.\n\nMove RingReader to ring/io.py, too. Drop the MD5 tracking (it was\nbrittle at best anyway, and nothing uses it -- YAGNI). Fix size/raw_size\nattributes when loading only metadata. Add the ability to seek, provided\nyou know what you\'re doing.\n\nTODO: tests; actually use this to write and read new v2 rings\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 2, 'created': '2022-04-19 07:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d54bb9ec7b2d419da0dff36143a9266fc0819ee', 'message': 'WIP: Add new RingWriter class\n\nPut it in a new swift/common/ring/io.py module. You *can* use it like\nthe old gzip file, but you can also define named sections which can be\nreferenced later on read. Section names may be arbitrary strings, but\nthe ""swift/"" prefix is reserved for upstream use. Sections must contain\na single length-value encoded BLOB. If sections are used, an additional\nBLOB is written at the end containing a JSON section-index, followed by\nan uncompressed offset for the index.\n\nMove RingReader to ring/io.py, too. Drop the MD5 tracking (it was\nbrittle at best anyway, and nothing uses it -- YAGNI). Fix size/raw_size\nattributes when loading only metadata. Add the ability to seek, provided\nyou know what you\'re doing.\n\nTODO: tests; actually use this to write and read new v2 rings\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 3, 'created': '2022-04-23 01:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d8d41f770fb6d445539a23ebb78f942c3d49a770', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nTODO: more tests\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 4, 'created': '2022-04-23 05:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3da7c22b17209960b62ef15476651a9754a5cda', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nTODO: more tests\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 5, 'created': '2022-06-08 23:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/00bdb0a26cf52bce1305f86a617662e7bb696655', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 6, 'created': '2022-07-08 23:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3eedbc3c0d71db591adefc34b48afd28c6a7c740', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 7, 'created': '2022-07-11 22:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/352eb9d83d8365159136c49c8ee5aa88f7f03d12', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 8, 'created': '2022-07-20 17:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63f57a156273b05fa5c15ad813bf602139afc1d6', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 9, 'created': '2022-07-28 04:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b2ba51a6d71ee7e3627b48dfe923d5c78e62133', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 10, 'created': '2022-07-28 18:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63ad9dd9be6eb44144dbbaec74b302e9cd7ef8d3', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 11, 'created': '2022-07-28 18:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/beae30eef531547d9908c58c196e1cebef7bb6c5', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 12, 'created': '2022-07-29 21:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/00949fa087706962da9315a1ba7b7a313c46ecf0', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 13, 'created': '2022-09-01 20:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/51e03a3e0e078efeca92e20d92e7f050004f1413', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 14, 'created': '2022-09-14 18:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/919a79e8afad88e76da9c6b3d0f150ae297df9e4', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 15, 'created': '2022-09-26 22:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/719991f6441ed676d30de708522aea21c76d2804', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 16, 'created': '2022-10-21 05:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d9caa89f8a97d2ec86d011cf1f15878867054394', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 17, 'created': '2022-11-11 00:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/59b5bf4da4ada7c28bbc08d8af0cc417727c5cfd', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 18, 'created': '2023-05-03 19:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/871161b659bab9b662600a76cabd9e3138bc7b15', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 19, 'created': '2023-05-03 22:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c94f5a8bf78e661168c3f6de25df684edea6e7be', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}, {'number': 20, 'created': '2023-05-11 04:18:27.000000000', 'files': ['swift/common/ring/composite_builder.py', 'test/unit/common/ring/test_builder.py', '.gitignore', 'test/unit/common/ring/test_ring.py', 'doc/source/ring_partpower.rst', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py', 'swift/common/exceptions.py', 'swift/common/ring/builder.py', 'swift/common/ring/io.py', 'doc/source/index.rst', 'doc/source/overview_ring_format.rst', 'doc/source/ring.rst', 'test/functional/__init__.py', 'test/unit/common/ring/test_composite_builder.py', 'swift/common/ring/ring.py', 'test/unit/common/ring/test_io.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1ff766bcff07c6a038a19518cb569418abe32cbd', 'message': 'ring: Introduce a v2 ring format\n\nThere\'s a bunch of moving pieces here:\n\n- Add a new RingWriter class.\n\n  Stick it in a new swift.common.ring.io module. You *can* use it like\n  the old gzip file, but you can also define named sections which can\n  be referenced later on read. Section names may be arbitrary strings,\n  but the ""swift/"" prefix is reserved for upstream use. Sections must\n  contain a single length-value encoded BLOB. If sections are used, an\n  additional BLOB is written at the end containing a JSON section-index,\n  followed by an uncompressed offset for the index.\n\n  Move RingReader to ring/io.py, too.\n\n- Drop MD5 tracking in RingReader. It was brittle at best anyway, and\n  nothing uses it. YAGNI\n\n  Drive-by: Fix size/raw_size attributes when loading only metadata.\n\n- Add the ability to seek within RingReaders, though you need to know\n  what you\'re doing and only seek to flush points.\n\n- Let RingData and RingBuilder objects change how wide their\n  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized\n  ring metadata.\n\nChange-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70\n'}]",252,834261,1ff766bcff07c6a038a19518cb569418abe32cbd,91,4,20,15343,,,0,"ring: Introduce a v2 ring format

There's a bunch of moving pieces here:

- Add a new RingWriter class.

  Stick it in a new swift.common.ring.io module. You *can* use it like
  the old gzip file, but you can also define named sections which can
  be referenced later on read. Section names may be arbitrary strings,
  but the ""swift/"" prefix is reserved for upstream use. Sections must
  contain a single length-value encoded BLOB. If sections are used, an
  additional BLOB is written at the end containing a JSON section-index,
  followed by an uncompressed offset for the index.

  Move RingReader to ring/io.py, too.

- Drop MD5 tracking in RingReader. It was brittle at best anyway, and
  nothing uses it. YAGNI

  Drive-by: Fix size/raw_size attributes when loading only metadata.

- Add the ability to seek within RingReaders, though you need to know
  what you're doing and only seek to flush points.

- Let RingData and RingBuilder objects change how wide their
  replica2part2dev_id arrays are. Add a dev_id_bytes key to serialized
  ring metadata.

Change-Id: Ia0ac4ea2006d8965d7fdb6659d355c77386adb70
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/834261/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/io.py', 'test/unit/common/ring/test_ring.py', 'swift/common/ring/ring.py']",3,88fc7aeb6046ecf31ea2e445999dcd6b187cae71,ring-v2,"from swift.common.ring.io import RingReader, RingWriter self.size = self.raw_size = None with contextlib.closing(RingReader(filename)) as reader: if reader.version == 0: # Old-style pickled ring ring_data = pickle.load(reader) elif reader.version == 1: reader.read(6) # R1NG<vrs> ring_data = cls.deserialize_v1( reader, metadata_only=metadata_only) else: raise Exception('Unknown ring format version %d' % reader.version) for attr in ('size', 'raw_size'): setattr(ring_data, attr, getattr(reader, attr)) def serialize_v1(self, writer): # Write out new-style serialization magic and version: writer.write(struct.pack('!4sH', b'R1NG', 1)) writer.write_json(_text, '!I') writer.write(part2dev_id.tostring()) else: part2dev_id.tofile(writer) def save(self, filename, mtime=1300507380.0, format_version=1): if format_version not in (0, 1): raise ValueError(""format_version must be one of 0, 1"") with RingWriter(filename, mtime) as writer: if format_version == 0: pickle.dump(self.to_dict(), writer) elif format_version == 1: self.serialize_v1(writer) elif format_version == 2: self.serialize_v2(writer)","from gzip import GzipFilefrom tempfile import NamedTemporaryFileimport zlibclass RingReader(object): chunk_size = 2 ** 16 def __init__(self, filename): self.fp = open(filename, 'rb') self._reset() def _reset(self): self._buffer = b'' self.size = 0 self.raw_size = 0 self._md5 = md5(usedforsecurity=False) self._decomp = zlib.decompressobj(32 + zlib.MAX_WBITS) @property def close(self): return self.fp.close def seek(self, pos, ref=0): if (pos, ref) != (0, 0): raise NotImplementedError self._reset() return self.fp.seek(pos, ref) def _buffer_chunk(self): chunk = self.fp.read(self.chunk_size) if not chunk: return False self.size += len(chunk) self._md5.update(chunk) chunk = self._decomp.decompress(chunk) self.raw_size += len(chunk) self._buffer += chunk return True def read(self, amount=-1): if amount < 0: raise IOError(""don't be greedy"") while amount > len(self._buffer): if not self._buffer_chunk(): break result, self._buffer = self._buffer[:amount], self._buffer[amount:] return result def readline(self): # apparently pickle needs this? while b'\n' not in self._buffer: if not self._buffer_chunk(): break line, sep, self._buffer = self._buffer.partition(b'\n') return line + sep def readinto(self, buffer): chunk = self.read(len(buffer)) buffer[:len(chunk)] = chunk return len(chunk) @property def md5(self): return self._md5.hexdigest() self.md5 = self.size = self.raw_size = None with contextlib.closing(RingReader(filename)) as gz_file: # See if the file is in the new format magic = gz_file.read(4) if magic == b'R1NG': format_version, = struct.unpack('!H', gz_file.read(2)) if format_version == 1: ring_data = cls.deserialize_v1( gz_file, metadata_only=metadata_only) else: raise Exception('Unknown ring format version %d' % format_version) else: # Assume old-style pickled ring gz_file.seek(0) ring_data = pickle.load(gz_file) for attr in ('md5', 'size', 'raw_size'): setattr(ring_data, attr, getattr(gz_file, attr)) def serialize_v1(self, file_obj): # Write out new-style serialization magic and version: file_obj.write(struct.pack('!4sH', b'R1NG', 1)) json_text = json.dumps(_text, sort_keys=True, ensure_ascii=True).encode('ascii') json_len = len(json_text) file_obj.write(struct.pack('!I', json_len)) file_obj.write(json_text) file_obj.write(part2dev_id.tostring()) else: part2dev_id.tofile(file_obj) def save(self, filename, mtime=1300507380.0): tempf = NamedTemporaryFile(dir=""."", prefix=filename, delete=False) gz_file = GzipFile(filename, mode='wb', fileobj=tempf, mtime=mtime) self.serialize_v1(gz_file) gz_file.close() tempf.flush() os.fsync(tempf.fileno()) tempf.close() os.chmod(tempf.name, 0o644) os.rename(tempf.name, filename) self._md5 = ring_data.md5 def md5(self): return self._md5 @property",391,113
openstack%2Fcinder~master~I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045,openstack/cinder,master,I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045,Deprecate [DEFAULT] use_forwarded_for,NEW,2022-04-03 15:37:22.000000000,2023-07-25 23:35:29.000000000,,"[{'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 34807}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-04-03 15:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e69ea6c5eabd96b19fcb37bcadd9ed0ed06239c7', 'message': 'Deprecate [DEFAULT] use_forwarded_for\n\n... because functionality of this parameter is effectively duplicate of\nthe HTTPProxyToWSGI middleware in oslo.middleware library.\n\nChange-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045\n'}, {'number': 2, 'created': '2022-04-03 15:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ae29da23baa958fe65e901001e657f92e70b9dd', 'message': 'Deprecate [DEFAULT] use_forwarded_for\n\n... because functionality of this parameter is effectively duplicate of\nthe HTTPProxyToWSGI middleware in oslo.middleware library.\n\nCloses-Bug: #1967686\nChange-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045\n'}, {'number': 3, 'created': '2022-04-11 23:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad2cfa3d86e9b003d5a13686e0cdcd9074cb8dbf', 'message': 'Deprecate [DEFAULT] use_forwarded_for\n\n... because functionality of this parameter is effectively duplicate of\nthe HTTPProxyToWSGI middleware in oslo.middleware library.\n\nCloses-Bug: #1967686\nChange-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045\n'}, {'number': 4, 'created': '2022-07-16 14:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56718817622b53bf0ed4d812288f036d458e5d20', 'message': 'Deprecate [DEFAULT] use_forwarded_for\n\n... because functionality of this parameter is effectively duplicate of\nthe HTTPProxyToWSGI middleware in oslo.middleware library.\n\nCloses-Bug: #1967686\nChange-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045\n'}, {'number': 5, 'created': '2022-07-16 14:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09af02f3c47d1fc978aa669b1b51f50eba4a95b5', 'message': 'Deprecate [DEFAULT] use_forwarded_for\n\n... because functionality of this parameter is effectively a duplicate\nof the HTTPProxyToWSGI middleware in oslo.middleware library.\n\nCloses-Bug: #1967686\nChange-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045\n'}, {'number': 6, 'created': '2023-07-22 14:37:45.000000000', 'files': ['cinder/api/middleware/auth.py', 'releasenotes/notes/deprecate-use_forwarded_for-7b26cd5b8704944c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6154395fc29d0edf7f05e681e6e81fd3728110f', 'message': 'Deprecate [DEFAULT] use_forwarded_for\n\n... because functionality of this parameter is effectively a duplicate\nof the HTTPProxyToWSGI middleware in oslo.middleware library.\n\nCloses-Bug: #1967686\nChange-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045\n'}]",9,836252,a6154395fc29d0edf7f05e681e6e81fd3728110f,112,7,6,9816,,,0,"Deprecate [DEFAULT] use_forwarded_for

... because functionality of this parameter is effectively a duplicate
of the HTTPProxyToWSGI middleware in oslo.middleware library.

Closes-Bug: #1967686
Change-Id: I0dd59ed5d7e63ea7a5e80c6a0505e6e1f1f60045
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/836252/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/middleware/auth.py', 'releasenotes/notes/deprecate-use_forwarded_for-7b26cd5b8704944c.yaml']",2,e69ea6c5eabd96b19fcb37bcadd9ed0ed06239c7,bug/1967686,"--- deprecations: - | The ``[DEFAULT] use_forwarded_for`` parameter has been deprecated. Instead of using this parameter, add the ``HTTPProxyToWSGI`` middleware to api pipelines, and ``[oslo_middleware] enable_proxy_headers_parsing = True`` to cinder.conf. ",,10,0
openstack%2Fmanila~master~If04263dfd646543cf8f5d6839f11de6aa7c9f987,openstack/manila,master,If04263dfd646543cf8f5d6839f11de6aa7c9f987,Allow restricting access rules fields and deletion,ABANDONED,2023-07-25 21:32:12.000000000,2023-07-25 23:12:29.000000000,,[],"[{'number': 1, 'created': '2023-07-25 21:32:12.000000000', 'files': ['manila/tests/api/v1/test_shares.py', 'manila/db/sqlalchemy/models.py', 'manila/api/v1/shares.py', 'manila/tests/lock/test_api.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/api/v2/share_access_metadata.py', 'manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v2/resource_locks.py', 'manila/api/v2/share_accesses.py', 'manila/tests/api/v2/test_share_accesses.py', 'manila/common/constants.py', 'manila/api/views/share_accesses.py', 'manila/lock/api.py', 'manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ee1246f1d6ecd56bdd816519cd8ec2f4f44e03eb', 'message': 'Allow restricting access rules fields and deletion\n\nAccess rules rules allow API will now take two additional\nparameters:\n\n- restrict_visibility: when True, only services, administrators and\n  the same user will be able to see the content of ``access_to`` and\n  access_key.\n\n- restrict_deletion: when True, the access rule will be locked for\n  deletion. Only services, administrators or the user that placed\n  the lock will be able to drop the access rule.\n\nIn order to delete an access rule that is currently locked, the\nrequester will need to specify ``unrestrict=True`` in the request.\n\nIn case a service placed the restrictions, only the own service or\nthe system administrator will be able to release it.\n\nDocImpact\nChange-Id: Iea422c9d6bc99a81cd88c5f4b7055d6a1cf97fdc\n\nChange-Id: If04263dfd646543cf8f5d6839f11de6aa7c9f987\n'}]",0,889661,ee1246f1d6ecd56bdd816519cd8ec2f4f44e03eb,4,0,1,29632,,,0,"Allow restricting access rules fields and deletion

Access rules rules allow API will now take two additional
parameters:

- restrict_visibility: when True, only services, administrators and
  the same user will be able to see the content of ``access_to`` and
  access_key.

- restrict_deletion: when True, the access rule will be locked for
  deletion. Only services, administrators or the user that placed
  the lock will be able to drop the access rule.

In order to delete an access rule that is currently locked, the
requester will need to specify ``unrestrict=True`` in the request.

In case a service placed the restrictions, only the own service or
the system administrator will be able to release it.

DocImpact
Change-Id: Iea422c9d6bc99a81cd88c5f4b7055d6a1cf97fdc

Change-Id: If04263dfd646543cf8f5d6839f11de6aa7c9f987
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/889661/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v1/test_shares.py', 'manila/db/sqlalchemy/models.py', 'manila/api/v1/shares.py', 'manila/tests/lock/test_api.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/api/v2/share_access_metadata.py', 'manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v2/resource_locks.py', 'manila/api/v2/share_accesses.py', 'manila/tests/api/v2/test_share_accesses.py', 'manila/common/constants.py', 'manila/api/views/share_accesses.py', 'manila/lock/api.py', 'manila/api/v2/shares.py']",16,ee1246f1d6ecd56bdd816519cd8ec2f4f44e03eb,,"from manila.lock import api as resource_locks self.resource_locks_api = resource_locks.API() if req.api_version_request >= api_version.APIVersionRequest(""2.80""): access_data = body.get('allow_access') kwargs['restrict_visibility'] = access_data.get( 'restrict_visibility', False) kwargs['restrict_deletion'] = access_data.get( 'restrict_deletion', False) if req.api_version_request >= api_version.APIVersionRequest(""2.80""): kwargs['check_for_locks'] = True",,597,17
openstack%2Fcharm-swift-storage~stable%2Fyoga~Ia0081ac92bcadf638df084e385cc3c0e7af4ecf7,openstack/charm-swift-storage,stable/yoga,Ia0081ac92bcadf638df084e385cc3c0e7af4ecf7,Add docs key and point at Discourse,MERGED,2023-07-18 20:29:37.000000000,2023-07-25 22:14:57.000000000,2023-07-25 22:14:57.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:29:37.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/347b6983d2f94739ba4088b55fd91584b4ec80cb', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: Ia0081ac92bcadf638df084e385cc3c0e7af4ecf7\n(cherry picked from commit 20a5dc391fe2a1becbeb46d6b6a25f1819317075)\n""}]",0,888816,347b6983d2f94739ba4088b55fd91584b4ec80cb,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: Ia0081ac92bcadf638df084e385cc3c0e7af4ecf7
(cherry picked from commit 20a5dc391fe2a1becbeb46d6b6a25f1819317075)
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/16/888816/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,347b6983d2f94739ba4088b55fd91584b4ec80cb,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/swift-storage-docs-index/11104,,1,0
openstack%2Fcharm-neutron-openvswitch~stable%2Fyoga~I85703b441023d58dee7fc2918cad2bc32899ae91,openstack/charm-neutron-openvswitch,stable/yoga,I85703b441023d58dee7fc2918cad2bc32899ae91,Add docs key and point at Discourse,MERGED,2023-07-18 20:25:47.000000000,2023-07-25 22:14:07.000000000,2023-07-25 22:14:07.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:25:47.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/fa1985a9becdf4ea067b70d8994756e00295da06', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I85703b441023d58dee7fc2918cad2bc32899ae91\n(cherry picked from commit 6e5cf7da7f3f5c1c8f98c6af087f16ae779d5381)\n""}]",0,888815,fa1985a9becdf4ea067b70d8994756e00295da06,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I85703b441023d58dee7fc2918cad2bc32899ae91
(cherry picked from commit 6e5cf7da7f3f5c1c8f98c6af087f16ae779d5381)
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/15/888815/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,fa1985a9becdf4ea067b70d8994756e00295da06,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/neutron-openvswitch-docs-index/11001,,1,0
openstack%2Fcharm-neutron-gateway~stable%2Fyoga~I4ab7cd110208816df38c5c70736b69930bcfc086,openstack/charm-neutron-gateway,stable/yoga,I4ab7cd110208816df38c5c70736b69930bcfc086,Add docs key and point at Discourse,MERGED,2023-07-18 20:24:09.000000000,2023-07-25 22:13:44.000000000,2023-07-25 22:13:44.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:24:09.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/63d59839d77e16d86aa56850146cabaa46a4d18e', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I4ab7cd110208816df38c5c70736b69930bcfc086\n(cherry picked from commit 44f6190ee042f1a8382026750ec9d0c61431de2a)\n""}]",0,888814,63d59839d77e16d86aa56850146cabaa46a4d18e,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I4ab7cd110208816df38c5c70736b69930bcfc086
(cherry picked from commit 44f6190ee042f1a8382026750ec9d0c61431de2a)
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/14/888814/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,63d59839d77e16d86aa56850146cabaa46a4d18e,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/neutron-gateway-docs-index/11000,,1,0
openstack%2Fcharm-nova-compute~stable%2Fyoga~I73c3ffa7632bbb2903b9c81d94af7dabae0b19da,openstack/charm-nova-compute,stable/yoga,I73c3ffa7632bbb2903b9c81d94af7dabae0b19da,Add docs key and point at Discourse,MERGED,2023-07-18 20:18:20.000000000,2023-07-25 22:13:33.000000000,2023-07-25 22:13:33.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:18:20.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/12de211bd1f96bec9a8c6bbed816102326b4001f', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I73c3ffa7632bbb2903b9c81d94af7dabae0b19da\n(cherry picked from commit 28688d7a69ed80fa60fa033567dc9217ce8f78e2)\n""}]",0,888811,12de211bd1f96bec9a8c6bbed816102326b4001f,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I73c3ffa7632bbb2903b9c81d94af7dabae0b19da
(cherry picked from commit 28688d7a69ed80fa60fa033567dc9217ce8f78e2)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/11/888811/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,12de211bd1f96bec9a8c6bbed816102326b4001f,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/nova-compute-docs-index/10552,,1,0
openstack%2Fcharm-keystone~stable%2Fyoga~I6a9834d838803b6eea967e7c15be9fe7fe0ca052,openstack/charm-keystone,stable/yoga,I6a9834d838803b6eea967e7c15be9fe7fe0ca052,Add docs key and point at Discourse,MERGED,2023-06-28 15:46:40.000000000,2023-07-25 22:12:06.000000000,2023-07-25 22:12:06.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2023-06-28 15:46:40.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/668a4c1cf0b598df396725e2990e967da683070f', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I6a9834d838803b6eea967e7c15be9fe7fe0ca052\n(cherry picked from commit e9368e4b79259335f33291bd82a282c526046638)\n""}]",1,887172,668a4c1cf0b598df396725e2990e967da683070f,9,5,1,30561,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I6a9834d838803b6eea967e7c15be9fe7fe0ca052
(cherry picked from commit e9368e4b79259335f33291bd82a282c526046638)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/72/887172/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,668a4c1cf0b598df396725e2990e967da683070f,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/keystone-docs-index/10527,,1,0
openstack%2Fcharm-ceph-osd~master~I0fb5e14bd2e58d4abdcce6e230d5c4c1a1d00af7,openstack/charm-ceph-osd,master,I0fb5e14bd2e58d4abdcce6e230d5c4c1a1d00af7,Add docs key and point at Discourse,MERGED,2023-07-18 17:58:39.000000000,2023-07-25 22:10:10.000000000,2023-07-25 22:10:10.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 17:58:39.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/af700cf3261c99e826070f19bf70da3b516ee99c', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I0fb5e14bd2e58d4abdcce6e230d5c4c1a1d00af7\n""}]",2,888793,af700cf3261c99e826070f19bf70da3b516ee99c,10,3,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I0fb5e14bd2e58d4abdcce6e230d5c4c1a1d00af7
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/93/888793/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,af700cf3261c99e826070f19bf70da3b516ee99c,charmhub-pop,docs: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545,,1,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fyoga~I76332eb6f80b494015d461cf968604fe795b16f1,openstack/charm-nova-cloud-controller,stable/yoga,I76332eb6f80b494015d461cf968604fe795b16f1,Add docs key and point at Discourse,MERGED,2023-07-18 20:15:37.000000000,2023-07-25 22:08:40.000000000,2023-07-25 22:08:40.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:15:37.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/0f76bf7944ec8c175c71b5c9a0037b9373fb7df5', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I76332eb6f80b494015d461cf968604fe795b16f1\n(cherry picked from commit 636c9e35985f3a462adf5c797656118c895e065f)\n""}]",0,888810,0f76bf7944ec8c175c71b5c9a0037b9373fb7df5,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I76332eb6f80b494015d461cf968604fe795b16f1
(cherry picked from commit 636c9e35985f3a462adf5c797656118c895e065f)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/10/888810/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,0f76bf7944ec8c175c71b5c9a0037b9373fb7df5,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/nova-cloud-controller-docs-index/10551,,1,0
openstack%2Fcharm-cinder~stable%2Fyoga~Ia8830828f363af91b0765ff4f761faefb5f00212,openstack/charm-cinder,stable/yoga,Ia8830828f363af91b0765ff4f761faefb5f00212,Add docs key and point at Discourse,MERGED,2023-07-18 20:19:54.000000000,2023-07-25 22:08:16.000000000,2023-07-25 22:08:16.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:19:54.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/05bda07795998126bf9e9666de462caec68bf208', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: Ia8830828f363af91b0765ff4f761faefb5f00212\n(cherry picked from commit 6f00af3e777ff53cfbe287536977f7ff3eb7f0c3)\n""}]",0,888812,05bda07795998126bf9e9666de462caec68bf208,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: Ia8830828f363af91b0765ff4f761faefb5f00212
(cherry picked from commit 6f00af3e777ff53cfbe287536977f7ff3eb7f0c3)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/12/888812/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,05bda07795998126bf9e9666de462caec68bf208,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/cinder-docs-index/10549,,1,0
openstack%2Fcharm-neutron-api~stable%2Fyoga~Idb7ec6357e2ef7449cc77bff48d12102da72d822,openstack/charm-neutron-api,stable/yoga,Idb7ec6357e2ef7449cc77bff48d12102da72d822,Add docs key and point at Discourse,MERGED,2023-07-18 20:13:23.000000000,2023-07-25 22:07:55.000000000,2023-07-25 22:07:55.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:13:23.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b6352931eff5738d54e8070a0e382514dfdb19a2', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: Idb7ec6357e2ef7449cc77bff48d12102da72d822\n(cherry picked from commit 3141e839a150dd440c0655e2d69ee41f2635453f)\n""}]",0,888809,b6352931eff5738d54e8070a0e382514dfdb19a2,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: Idb7ec6357e2ef7449cc77bff48d12102da72d822
(cherry picked from commit 3141e839a150dd440c0655e2d69ee41f2635453f)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/09/888809/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,b6352931eff5738d54e8070a0e382514dfdb19a2,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/neutron-api-docs-index/10555,,1,0
openstack%2Fcharm-glance~stable%2Fyoga~I8105c5e90d0e8054f26f21fbd29cb80bebe7aa39,openstack/charm-glance,stable/yoga,I8105c5e90d0e8054f26f21fbd29cb80bebe7aa39,Add docs key and point at Discourse,MERGED,2023-07-18 20:11:26.000000000,2023-07-25 22:07:18.000000000,2023-07-25 22:07:18.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 20:11:26.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/9b36daaefb1be07c1db6cf2001eac92cfc4e3675', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at the Discourse topic previously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I8105c5e90d0e8054f26f21fbd29cb80bebe7aa39\n(cherry picked from commit fe0cfb0134975c4c6607a47a4936fbfc5b7ea33c)\n""}]",0,888808,9b36daaefb1be07c1db6cf2001eac92cfc4e3675,8,4,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at the Discourse topic previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I8105c5e90d0e8054f26f21fbd29cb80bebe7aa39
(cherry picked from commit fe0cfb0134975c4c6607a47a4936fbfc5b7ea33c)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/08/888808/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,9b36daaefb1be07c1db6cf2001eac92cfc4e3675,charmhub-pop-stable/yoga,docs: https://discourse.charmhub.io/t/glance-docs-index/10553,,1,0
openstack%2Fnova~master~Ia0f747158721f82ef1803618b6cb30661b6252c9,openstack/nova,master,Ia0f747158721f82ef1803618b6cb30661b6252c9,Server Rescue leads to Server ERROR state if original image is deleted,NEW,2023-02-01 08:33:56.000000000,2023-07-25 21:21:04.000000000,,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-01 08:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2660f80d0ecbb5cfb200be85ececc9b1ebb615e9', 'message': 'Server Rescue leads to Server ERROR state if basew image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta instead making api to glance.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 2, 'created': '2023-02-01 12:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c165011e9560b06dfc9d44954f38433b67143a8', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 3, 'created': '2023-02-01 15:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5256780e70b7b48536b49b5fc194bea265ee42d4', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 4, 'created': '2023-02-07 10:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee3fc2c3614e42de0d9ae51bdcd51911b9dfcc19', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 5, 'created': '2023-02-07 13:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2a387caa26f98513c7c399f2b5a4d4850a4a185', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 6, 'created': '2023-02-07 20:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4377b6211774ba2b7b90611a2869f6e3829e7973', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 7, 'created': '2023-02-08 05:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a43af3041064af9058386ed620468cc91c0a9cb7', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 8, 'created': '2023-03-14 14:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff818efa4e33f4218e343645beecd8c6693d7e00', 'message': 'Server Rescue leads to Server ERROR state if base image is deleted\n\nServer has dependency of original base image used to Create Server or\nRebuild Server. If original image is deleted from glance, nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix uses instance.image_meta if api call to glance failed.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 9, 'created': '2023-07-20 16:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91e21408ef196c43736428157b6ebee899e406a5', 'message': 'Server Rescue leads to Server ERROR state if original image is deleted\n\nServer rescue in stable device mode has dependency on the original\nimage used to create or rebuild the server. If the original image\nwas deleted from Glance, the server could not be rescued. Nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix use falling back to the instance image metadata if\nthe original image is not found in Glance.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 10, 'created': '2023-07-21 06:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6fd71a187c907c70a54baca2399aefd63acfa4d', 'message': 'Server Rescue leads to Server ERROR state if original image is deleted\n\nServer rescue in stable device mode has dependency on the original\nimage used to create or rebuild the server. If the original image\nwas deleted from Glance, the server could not be rescued. Nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix use falling back to the instance image metadata if\nthe original image is not found in Glance.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 11, 'created': '2023-07-25 14:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c92afe8aec2520293cd67e7801b1eddebaa018b', 'message': 'Server Rescue leads to Server ERROR state if original image is deleted\n\nServer rescue in stable device mode has dependency on the original\nimage used to create or rebuild the server. If the original image\nwas deleted from Glance, the server could not be rescued. Nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix use falling back to the instance image metadata if\nthe original image is not found in Glance.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}, {'number': 12, 'created': '2023-07-25 19:24:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_rescue_deleted_base.py', 'releasenotes/notes/rescue-stable-with-deleted-base-image-5143f1c1c914b8fe.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f878ad21c5dec6de03c9ce33147fd3e70a0770c', 'message': 'Server Rescue leads to Server ERROR state if original image is deleted\n\nServer rescue in stable device mode has dependency on the original\nimage used to create or rebuild the server. If the original image\nwas deleted from Glance, the server could not be rescued. Nova has\nserver.image_ref reference to non-existent image. Rescue in stable\ndevice rescue mode leads to driver error and Server in ERROR state.\nProposed fix use falling back to the instance image metadata if\nthe original image is not found in Glance.\n\nCloses-Bug: #2002606\nChange-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9\n'}]",46,872385,6f878ad21c5dec6de03c9ce33147fd3e70a0770c,68,3,12,34609,,,0,"Server Rescue leads to Server ERROR state if original image is deleted

Server rescue in stable device mode has dependency on the original
image used to create or rebuild the server. If the original image
was deleted from Glance, the server could not be rescued. Nova has
server.image_ref reference to non-existent image. Rescue in stable
device rescue mode leads to driver error and Server in ERROR state.
Proposed fix use falling back to the instance image metadata if
the original image is not found in Glance.

Closes-Bug: #2002606
Change-Id: Ia0f747158721f82ef1803618b6cb30661b6252c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/872385/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,2660f80d0ecbb5cfb200be85ececc9b1ebb615e9,fix-rescue-stable, image_meta = instance.image_meta," if instance.image_ref: image_meta = objects.ImageMeta.from_image_ref( context, self._image_api, instance.image_ref) else: # NOTE(lyarwood): If instance.image_ref isn't set attempt to # lookup the original image_meta from the bdms. This will # return an empty dict if no valid image_meta is found. image_meta_dict = block_device.get_bdm_image_metadata( context, self._image_api, self._volume_api, block_device_info['block_device_mapping'], legacy_bdm=False) image_meta = objects.ImageMeta.from_dict(image_meta_dict)",1,12
openstack%2Fproject-config~master~Ia6fa05f6aead94a0e70376e2c51d9b551a189660,openstack/project-config,master,Ia6fa05f6aead94a0e70376e2c51d9b551a189660,Add ceph-related projects to charm-ceph acl,MERGED,2023-07-10 19:19:15.000000000,2023-07-25 20:53:48.000000000,2023-07-25 20:48:10.000000000,"[{'_account_id': 2424}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-10 19:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/88a0ed5529aa90b9baf998818019cd7ffc1183a2', 'message': 'Add charms.ceph to charm-ceph acl\n\nThe ceph charms were broken out into their own project ACL with\ncommit 64afff5b73 but it missed the charms.ceph project which is\na common library for ceph charms. This patch fixes the ACL to point\nto the charm-ceph.config for the acl list for charms.ceph.\n\nChange-Id: Ia6fa05f6aead94a0e70376e2c51d9b551a189660\n'}, {'number': 2, 'created': '2023-07-14 15:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3ce765604e9df093f23032fc0202e24c876b7919', 'message': 'Add charms.ceph to charm-ceph acl\n\nThe ceph charms were broken out into their own project ACL with\ncommit 64afff5b73 but it missed a few ceph-related projects.\nThis patch fixes the ACL to point to the charm-ceph.config for the\nacl list for all these projects.\n\nChange-Id: Ia6fa05f6aead94a0e70376e2c51d9b551a189660\n'}, {'number': 3, 'created': '2023-07-14 15:51:33.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/69b27e0dee60557be76ce7b0dcd6dd6dbee0d8c5', 'message': 'Add ceph-related projects to charm-ceph acl\n\nThe ceph charms were broken out into their own project ACL with\ncommit 64afff5b73 but it missed a few ceph-related projects.\nThis patch fixes the ACL to point to the charm-ceph.config for the\nacl list for all these projects.\n\nChange-Id: Ia6fa05f6aead94a0e70376e2c51d9b551a189660\n'}]",8,888066,69b27e0dee60557be76ce7b0dcd6dd6dbee0d8c5,22,4,3,8992,,,0,"Add ceph-related projects to charm-ceph acl

The ceph charms were broken out into their own project ACL with
commit 64afff5b73 but it missed a few ceph-related projects.
This patch fixes the ACL to point to the charm-ceph.config for the
acl list for all these projects.

Change-Id: Ia6fa05f6aead94a0e70376e2c51d9b551a189660
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/888066/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,88a0ed5529aa90b9baf998818019cd7ffc1183a2,acl-charms.ceph, acl-config: /home/gerrit2/acls/openstack/charm-ceph.config, acl-config: /home/gerrit2/acls/openstack/charm.config,1,1
openstack%2Fbarbican~stable%2Fvictoria~I1f996cc50c2b4667c18d495b4ca422a40e594cff,openstack/barbican,stable/victoria,I1f996cc50c2b4667c18d495b4ca422a40e594cff,Fix admin can not delete other user's secrets,NEW,2023-07-06 15:38:55.000000000,2023-07-25 20:41:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-06 15:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e211777209c1393390bd90b4016a9b9a5db43e7e', 'message': ""Fix admin can not delete other user's secrets\n\nChange-Id: I1f996cc50c2b4667c18d495b4ca422a40e594cff\n(cherry picked from commit b0ec7edf1dd69eaf5ec30a1a5f6e8db7ecfa3024)\n""}, {'number': 2, 'created': '2023-07-25 18:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ec77351f7932b51351c3f07c966e4769fddc1dc9', 'message': ""Fix admin can not delete other user's secrets\n\nDepends-On: I7aeb35ff90fcc3185ef850f883b275e73d7a9eab\nChange-Id: I1f996cc50c2b4667c18d495b4ca422a40e594cff\n(cherry picked from commit b0ec7edf1dd69eaf5ec30a1a5f6e8db7ecfa3024)\n""}, {'number': 3, 'created': '2023-07-25 19:51:16.000000000', 'files': ['requirements.txt', 'barbican/api/controllers/secrets.py', 'releasenotes/notes/fix-story-2006978-aa5f2r9cqpfa0tm8.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/732492ba18e210324f70b8f8c947a953c71ffcfa', 'message': ""Fix admin can not delete other user's secrets\n\nDepends-On: I7aeb35ff90fcc3185ef850f883b275e73d7a9eab\nChange-Id: I1f996cc50c2b4667c18d495b4ca422a40e594cff\n(cherry picked from commit b0ec7edf1dd69eaf5ec30a1a5f6e8db7ecfa3024)\n""}]",0,887811,732492ba18e210324f70b8f8c947a953c71ffcfa,7,1,3,7973,,,0,"Fix admin can not delete other user's secrets

Depends-On: I7aeb35ff90fcc3185ef850f883b275e73d7a9eab
Change-Id: I1f996cc50c2b4667c18d495b4ca422a40e594cff
(cherry picked from commit b0ec7edf1dd69eaf5ec30a1a5f6e8db7ecfa3024)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/887811/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/secrets.py', 'releasenotes/notes/fix-story-2006978-aa5f2r9cqpfa0tm8.yaml']",2,e211777209c1393390bd90b4016a9b9a5db43e7e,bug/2006978,--- fixes: - | Fixed Story #2006978: An admin user now can delete other users secrets by adjust the policy file. ,,12,0
openstack%2Foperations-guide~master~Ia2c4b1c368f5b1f18c4c56b4c884e88ef54ff099,openstack/operations-guide,master,Ia2c4b1c368f5b1f18c4c56b4c884e88ef54ff099,Repair the link address of CERN Cloud Infrastructure User to open 404 BUG,MERGED,2022-09-15 09:56:41.000000000,2023-07-25 20:35:47.000000000,2023-07-25 20:34:36.000000000,"[{'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-15 09:56:41.000000000', 'files': ['doc/source/app-usecases.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/170f875ad5ff98c04f508f8a591ea51de3f21a9e', 'message': 'Repair the link address of CERN Cloud Infrastructure User to open 404 BUG\n\nChange-Id: Ia2c4b1c368f5b1f18c4c56b4c884e88ef54ff099\n'}]",1,857859,170f875ad5ff98c04f508f8a591ea51de3f21a9e,8,3,1,35313,,,0,"Repair the link address of CERN Cloud Infrastructure User to open 404 BUG

Change-Id: Ia2c4b1c368f5b1f18c4c56b4c884e88ef54ff099
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/59/857859/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/app-usecases.rst'],1,170f875ad5ff98c04f508f8a591ea51de3f21a9e,my-topic, Guide <https://clouddocs.web.cern.ch>`_, Guide <http://information-technology.web.cern.ch/book/cern-private-cloud-user-guide>`_,1,1
openstack%2Fapi-site~master~Idc7ba9a25c4209e57f64d683b732e9d2e3fcb139,openstack/api-site,master,Idc7ba9a25c4209e57f64d683b732e9d2e3fcb139,Remove python-dev from bindep,NEW,2022-11-07 09:49:49.000000000,2023-07-25 20:33:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-07 09:49:49.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/api-site/commit/1837b7291b8ac2580905665880bb6770a494ddb9', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: Idc7ba9a25c4209e57f64d683b732e9d2e3fcb139\n""}]",2,863825,1837b7291b8ac2580905665880bb6770a494ddb9,9,1,1,28522,,,0,"Remove python-dev from bindep

It is no longer supported by jammy and lead us to the following errors with the announce-release job.

```
No package matching 'python-dev' is available
```

Change-Id: Idc7ba9a25c4209e57f64d683b732e9d2e3fcb139
",git fetch https://review.opendev.org/openstack/api-site refs/changes/25/863825/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1837b7291b8ac2580905665880bb6770a494ddb9,drop-python-dev-from-bindep,,python-dev [platform:dpkg] python-devel [platform:rpm],0,2
openstack%2Fproject-config~master~Icfd58a88a12d13f093c08f41ab4be85c26051149,openstack/project-config,master,Icfd58a88a12d13f093c08f41ab4be85c26051149,Add 32GB nodes Ubuntu Focal and Jammy nodes,MERGED,2023-07-18 23:15:03.000000000,2023-07-25 20:28:19.000000000,2023-07-25 20:05:49.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 23:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f85731f3ec39994ab2a7dbe771ee894c486995c', 'message': 'Add 16GB nodes to nodepool providers\n\nSome deployment projects (e.g. Openstack-Helm)\ntest their code as ""all-in-one"" deployment.\nI.e. a test job deploys all Openstack components\non a single node sometimes on top of a minimalistic\nK8s cluster running on the same node.\n\nThis sometimes requires more memory than 8GB to make\njobs reliable and we need labels explicitly specifing\nthat a node has at least 16GB memory.\n\nChange-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149\n'}, {'number': 2, 'created': '2023-07-18 23:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc30a0450d32175f43e90ee1096ee4583d3b562f', 'message': 'Add 16GB nodes to nodepool providers\n\nSome deployment projects (e.g. Openstack-Helm)\ntest their code as ""all-in-one"" deployment.\nI.e. a test job deploys all Openstack components\non a single node sometimes on top of a minimalistic\nK8s cluster running on the same node.\n\nThis sometimes requires more memory than 8GB to make\njobs reliable and we need labels explicitly specifing\nthat a node has at least 16GB memory.\n\nChange-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149\n'}, {'number': 3, 'created': '2023-07-18 23:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e1437444cebd66ace17e8bf25c40c80a91d33e0', 'message': 'Add 16GB nodes to nodepool providers\n\nSome deployment projects (e.g. Openstack-Helm)\ntest their code as ""all-in-one"" deployment.\nI.e. a test job deploys all Openstack components\non a single node sometimes on top of a minimalistic\nK8s cluster running on the same node.\n\nThis sometimes requires more memory than 8GB to make\njobs reliable and we need labels explicitly specifing\nthat a node has at least 16GB memory.\n\nChange-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149\n'}, {'number': 4, 'created': '2023-07-18 23:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6d0875cf8e0c0715226ba1a2fb51e79e78eb70ca', 'message': 'Add 16GB nodes to nodepool providers\n\nSome deployment projects (e.g. Openstack-Helm)\ntest their code as ""all-in-one"" deployment.\nI.e. a test job deploys all Openstack components\non a single node on top of a minimalistic\nK8s cluster running on the same node.\n\nThis requires more memory than 8GB to make\njobs reliable and we need labels explicitly specifing\nthat a node has at least 16GB memory.\n\nChange-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149\n'}, {'number': 5, 'created': '2023-07-19 11:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/02a232a0bf26056e11cc1fc16053ec9c36eabc74', 'message': 'Add 32GB nodes Ubuntu Focal and Jammy nodes\n\nSome deployment projects (e.g. Openstack-Helm)\ntest their code as ""all-in-one"" deployment.\nI.e. a test job deploys all Openstack components\non a single node on top of a minimalistic\nK8s cluster running on the same node.\n\nThis requires more memory than 8GB to make\njobs reliable. We add these new *-32GB labels\nonly in the Vexxhost ca-ymq-1 region because\nv3-standard-8 flavor in this region has 32GB\nnodes.\n\nAt the same time we should not stick to this\nkind of nodes since the number of such nodes\nis very limited. It is highly recommended to\nredesign the test jobs so they use multinode\nnodesets.\n\nChange-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149\n'}, {'number': 6, 'created': '2023-07-19 12:42:21.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/50c4046096268f618008f668f4a08755eafa1165', 'message': 'Add 32GB nodes Ubuntu Focal and Jammy nodes\n\nSome deployment projects (e.g. Openstack-Helm)\ntest their code as ""all-in-one"" deployment.\nI.e. a test job deploys all Openstack components\non a single node on top of a minimalistic\nK8s cluster running on the same node.\n\nThis requires more memory than 8GB to make\njobs reliable. We add these new *-32GB labels\nonly in the Vexxhost ca-ymq-1 region because\nv3-standard-8 flavor in this region has 32GB\nnodes.\n\nAt the same time we should not stick to this\nkind of nodes since the number of such nodes\nis very limited. It is highly recommended to\nredesign the test jobs so they use multinode\nnodesets.\n\nChange-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149\n'}]",1,888901,50c4046096268f618008f668f4a08755eafa1165,17,3,6,3009,,,0,"Add 32GB nodes Ubuntu Focal and Jammy nodes

Some deployment projects (e.g. Openstack-Helm)
test their code as ""all-in-one"" deployment.
I.e. a test job deploys all Openstack components
on a single node on top of a minimalistic
K8s cluster running on the same node.

This requires more memory than 8GB to make
jobs reliable. We add these new *-32GB labels
only in the Vexxhost ca-ymq-1 region because
v3-standard-8 flavor in this region has 32GB
nodes.

At the same time we should not stick to this
kind of nodes since the number of such nodes
is very limited. It is highly recommended to
redesign the test jobs so they use multinode
nodesets.

Change-Id: Icfd58a88a12d13f093c08f41ab4be85c26051149
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/888901/6 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",4,4f85731f3ec39994ab2a7dbe771ee894c486995c,, - name: ubuntu-focal-16GB - name: ubuntu-jammy-16GB,,30,0
openstack%2Fopenstacksdk~master~Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825,openstack/openstacksdk,master,Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825,Add share group snapshots to shared file systems.,MERGED,2023-04-05 20:25:21.000000000,2023-07-25 20:27:08.000000000,2023-07-25 20:25:44.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-04-05 20:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/47e64a15298ffc1e644e5ba1aaba0cb65f3f0c66', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 2, 'created': '2023-04-06 18:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8d4ea8e0236d211e848ee05a9356aee15cc3782e', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 3, 'created': '2023-04-10 16:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/90ca4f3dc0a1150276b149e59416274956bf3a98', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 4, 'created': '2023-04-10 17:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ba3d02f5cdffe890757c67c6e201111399743991', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 5, 'created': '2023-04-10 22:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/45f0cd6a9e5badcfc94d3797c5fd51a16f0290ad', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 6, 'created': '2023-04-27 13:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c356309f7a21a0826c798a69b70359eadce1a85f', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 7, 'created': '2023-05-02 19:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/14950d186efc30cacde0aa62a8198c25dd46a358', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 8, 'created': '2023-06-21 18:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee55a777b55754f0ddd3a2bcd207e56d00226310', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 9, 'created': '2023-07-05 21:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a337f2a4a3aaadcae315ca90b1899d0d3f494a7b', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}, {'number': 10, 'created': '2023-07-05 22:12:36.000000000', 'files': ['examples/shared_file_system/share_group_snapshots.py', 'releasenotes/notes/add-shared-file-system-share-group-snapshot-c5099e6c8accf077.yaml', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'doc/source/user/resources/shared_file_system/index.rst', 'openstack/tests/functional/shared_file_system/test_share_group_snapshot.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/unit/shared_file_system/v2/test_share_group_snapshot.py', 'doc/source/user/resources/shared_file_system/v2/share_group_snapshot.rst', 'openstack/shared_file_system/v2/share_group_snapshot.py', 'doc/source/user/guides/shared_file_system.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4838e5e7292e0fdd851e0c4758ff30006b7d5914', 'message': 'Add share group snapshots to shared file systems.\n\nIntroduce Share Group Snapshot class with basic methods including list,\ncreate, delete, get and update to shared file system storage service.\n\nChange-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825\n'}]",36,879686,4838e5e7292e0fdd851e0c4758ff30006b7d5914,35,3,10,29632,,,0,"Add share group snapshots to shared file systems.

Introduce Share Group Snapshot class with basic methods including list,
create, delete, get and update to shared file system storage service.

Change-Id: Ice8750dcf07ff436ba8d9e9cf5e8cb183b5b3825
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/86/879686/5 && git format-patch -1 --stdout FETCH_HEAD,"['examples/shared_file_system/share_group_snapshots.py', 'releasenotes/notes/add-shared-file-system-share-group-snapshot-c5099e6c8accf077.yaml', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'doc/source/user/resources/shared_file_system/index.rst', 'openstack/tests/functional/shared_file_system/test_share_group_snapshot.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/unit/shared_file_system/v2/test_share_group_snapshot.py', 'doc/source/user/resources/shared_file_system/v2/share_group_snapshot.rst', 'openstack/shared_file_system/v2/share_group_snapshot.py', 'doc/source/user/guides/shared_file_system.rst']",11,47e64a15298ffc1e644e5ba1aaba0cb65f3f0c66,," List Share Group Snapshots -------------------------- A share group snapshot is a point-in-time, read-only copy of the data that is contained in a share group. You can list all share group snapshots .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: list_share_group_snapshots Get Share Group Snapshot ------------------------ Show share group snapshot details .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: get_share_group_snapshot List Share Group Snapshot Members --------------------------------- Lists all share group snapshots members. .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: share_group_snapshot_members Create Share Group Snapshot --------------------------- Creates a snapshot from a share. .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: create_share_group_snapshot Reset Share Group Snapshot --------------------------- Reset share group snapshot state. .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: reset_share_group_snapshot_status Update Share Group Snapshot --------------------------- Updates a share group snapshot. .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: update_share_group_snapshot Delete Share Group Snapshot --------------------------- Deletes a share group snapshot. .. literalinclude:: ../examples/shared_file_system/share_group_snapshots.py :pyobject: delete_share_group_snapshot",,567,0
openstack%2Foperations-guide~master~I202f871751967b395aa4b8b090a7356b8e48a2ba,openstack/operations-guide,master,I202f871751967b395aa4b8b090a7356b8e48a2ba,Updated from openstack-manuals,MERGED,2023-03-15 11:21:47.000000000,2023-07-25 20:19:32.000000000,2023-07-25 20:18:31.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-15 11:21:47.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/ecfa143a32256b7b2528a954c9bc75a12dc2ad9c', 'message': 'Updated from openstack-manuals\n\nChange-Id: I202f871751967b395aa4b8b090a7356b8e48a2ba\n'}]",2,877461,ecfa143a32256b7b2528a954c9bc75a12dc2ad9c,9,3,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I202f871751967b395aa4b8b090a7356b8e48a2ba
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/61/877461/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,ecfa143a32256b7b2528a954c9bc75a12dc2ad9c,openstack/openstack-manuals," 2023.2 Bobcat The code name for the twenty eighth release of OpenStack. At the same time as OpenStack releases run out of alphabet the Technical Committee changed the `naming process <https://governance.openstack.org/tc/resolutions/20220524-release-identification-process.html>`__ to have release number and a release name as an identification code. The release number will be the primary identifier: `""year"".""release count within the year""` and the name will be used mostly for marketing purposes. The first such release is 2023.1 Antelope. Followed by, respectively, 2023.2 Bobcat. "," At the same time as OpenStack releases run out of alphabet the Technical Committee changed the `naming process <https://governance.openstack.org/tc/resolutions/20220524-release-identification-process.html>`__ to have release number and a release name as an identification code. The release number will be the primary identifier: `""year"".""release count within the year""` and the name will be used mostly for marketing purposes. The first such release will be: 2023.1 Antelope. ",13,9
openstack%2Fneutron~master~I382b02267ddd30fdb006818fe607e0abc6d1bcbc,openstack/neutron,master,I382b02267ddd30fdb006818fe607e0abc6d1bcbc,[Trunk] Copy trunk's live-migration info to subports,NEW,2023-04-14 12:08:13.000000000,2023-07-25 19:29:52.000000000,,"[{'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-04-14 12:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94f08b2e48fe6dbbeb0c91dd81e984bd5d8a8bbd', 'message': ""[Trunk] Copy trunk's live-migration info to subports\n\nWhile live-migration subports doesn't get any information\nrelating to the live migration. This causes that the\nsubport will bounce from old-compute to new-compute\na number of times that can cause the subport status to\nremain DOWN.\n\nChange-Id: I382b02267ddd30fdb006818fe607e0abc6d1bcbc\n""}, {'number': 2, 'created': '2023-04-14 13:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/936fe4e8f7707e9d1559b499381208025c16bf52', 'message': ""[Trunk] Copy trunk's live-migration info to subports\n\nWhile live-migration subports doesn't get any information\nrelating to the live migration. This causes that the\nsubport will bounce from old-compute to new-compute\na number of times that can cause the subport status to\nremain DOWN.\n\nChange-Id: I382b02267ddd30fdb006818fe607e0abc6d1bcbc\n""}, {'number': 3, 'created': '2023-04-26 15:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5acf01dbe51c4b071b9dd2a3efe783139e237e6', 'message': ""[Trunk] Copy trunk's live-migration info to subports\n\nWhile live-migration subports doesn't get any information\nrelating to the live migration. This causes that the\nsubport will bounce from old-compute to new-compute\na number of times that can cause the subport status to\nremain DOWN.\n\nChange-Id: I382b02267ddd30fdb006818fe607e0abc6d1bcbc\n""}, {'number': 4, 'created': '2023-04-26 15:16:18.000000000', 'files': ['neutron/services/trunk/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/08712cfdfaaf4616d69984ca6a11038e429fbc61', 'message': ""[Trunk] Copy trunk's live-migration info to subports\n\nWhile live-migration subports doesn't get any information\nrelating to the live migration. This causes that the\nsubport will bounce from old-compute to new-compute\na number of times that can cause the subport status to\nremain DOWN.\n\nChange-Id: I382b02267ddd30fdb006818fe607e0abc6d1bcbc\n""}]",21,880483,08712cfdfaaf4616d69984ca6a11038e429fbc61,26,5,4,34118,,,0,"[Trunk] Copy trunk's live-migration info to subports

While live-migration subports doesn't get any information
relating to the live migration. This causes that the
subport will bounce from old-compute to new-compute
a number of times that can cause the subport status to
remain DOWN.

Change-Id: I382b02267ddd30fdb006818fe607e0abc6d1bcbc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/880483/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/plugin.py', 'neutron/services/ovn_l3/plugin.py']",2,94f08b2e48fe6dbbeb0c91dd81e984bd5d8a8bbd,fix/trunk-live-migration-subport," if event == events.AFTER_UPDATE and (utils.is_lsp_router_port(current) or current.get('device_owner', '') == 'trunk:subport'):", if event == events.AFTER_UPDATE and utils.is_lsp_router_port(current):,38,1
openstack%2Fopenstack-ansible~stable%2Fzed~I55cd2142806144f84023ff87e1e2e4e2cc209bbf,openstack/openstack-ansible,stable/zed,I55cd2142806144f84023ff87e1e2e4e2cc209bbf,Restore an ability for HAProxy to bind on interal IP,MERGED,2023-07-04 08:28:43.000000000,2023-07-25 19:01:31.000000000,2023-07-25 19:00:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-04 08:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9418d3297f8d21c41726faf479f6c2d1da58b450', 'message': 'Restore an ability for HAProxy to bind on interal IP\n\nAccording to the docs [1], there is an ability for HAProxy to bind\nspecifically on IP-address, ""while preserving the names for TLS-\ncertificates and endpoint URIs"".\n\nFor internal endpoint this supposed to be done by setting\n`internal_lb_vip_address` and `haproxy_bind_internal_lb_vip_address`\nbut was broken due to the fact that for:\n* `haproxy_galera_service`\n* `haproxy_opendaylight_neutron_service`\n* `haproxy_opendaylight_websocket_service`\n* `haproxy_nova_api_metadata_service`\n* `haproxy_rabbitmq_service`\n* `haproxy_repo_service`\n`haproxy_bind` was explicitly set to `[internal_lb_vip_address]` and\noverriding `haproxy_bind_internal_lb_vip_address` would result in\nwrong certificate paths (with FQDN in names, which does not exist)\nfor these frontends.\n\n[1] https://docs.openstack.org/openstack-ansible-haproxy_server/latest/configure-haproxy.html#overriding-the-address-haproxy-will-bind-to\n\nChange-Id: I55cd2142806144f84023ff87e1e2e4e2cc209bbf\n'}, {'number': 2, 'created': '2023-07-04 08:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/74b1e242c1de9475080d901efcd4df8ae14256a8', 'message': 'Restore an ability for HAProxy to bind on interal IP\n\nAccording to the docs [1], there is an ability for HAProxy to bind\nspecifically on IP-address, ""while preserving the names for TLS-\ncertificates and endpoint URIs"".\n\nFor internal endpoint this supposed to be done by setting\n`internal_lb_vip_address` and `haproxy_bind_internal_lb_vip_address`\nbut was broken due to the fact that for:\n* `haproxy_galera_service`\n* `haproxy_opendaylight_neutron_service`\n* `haproxy_opendaylight_websocket_service`\n* `haproxy_nova_api_metadata_service`\n* `haproxy_rabbitmq_service`\n* `haproxy_repo_service`\n`haproxy_bind` was explicitly set to `[internal_lb_vip_address]` and\noverriding `haproxy_bind_internal_lb_vip_address` would result in\nwrong certificate paths (with FQDN in names, which does not exist)\nfor these frontends.\n\n[1] https://docs.openstack.org/openstack-ansible-haproxy_server/latest/configure-haproxy.html#overriding-the-address-haproxy-will-bind-to\n\nChange-Id: I55cd2142806144f84023ff87e1e2e4e2cc209bbf\n'}, {'number': 3, 'created': '2023-07-20 09:29:36.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f80e65d0eebf752537e786d1a71a82251aea46b7', 'message': 'Restore an ability for HAProxy to bind on interal IP\n\nAccording to the docs [1], there is an ability for HAProxy to bind\nspecifically on IP-address, ""while preserving the names for TLS-\ncertificates and endpoint URIs"".\n\nFor internal endpoint this supposed to be done by setting\n`internal_lb_vip_address` and `haproxy_bind_internal_lb_vip_address`\nbut was broken due to the fact that for:\n* `haproxy_galera_service`\n* `haproxy_opendaylight_neutron_service`\n* `haproxy_opendaylight_websocket_service`\n* `haproxy_nova_api_metadata_service`\n* `haproxy_rabbitmq_service`\n* `haproxy_repo_service`\n`haproxy_bind` was explicitly set to `[internal_lb_vip_address]` and\noverriding `haproxy_bind_internal_lb_vip_address` would result in\nwrong certificate paths (with FQDN in names, which does not exist)\nfor these frontends.\n\n[1] https://docs.openstack.org/openstack-ansible-haproxy_server/latest/configure-haproxy.html#overriding-the-address-haproxy-will-bind-to\n\nChange-Id: I55cd2142806144f84023ff87e1e2e4e2cc209bbf\n'}]",0,887574,f80e65d0eebf752537e786d1a71a82251aea46b7,11,3,3,34653,,,0,"Restore an ability for HAProxy to bind on interal IP

According to the docs [1], there is an ability for HAProxy to bind
specifically on IP-address, ""while preserving the names for TLS-
certificates and endpoint URIs"".

For internal endpoint this supposed to be done by setting
`internal_lb_vip_address` and `haproxy_bind_internal_lb_vip_address`
but was broken due to the fact that for:
* `haproxy_galera_service`
* `haproxy_opendaylight_neutron_service`
* `haproxy_opendaylight_websocket_service`
* `haproxy_nova_api_metadata_service`
* `haproxy_rabbitmq_service`
* `haproxy_repo_service`
`haproxy_bind` was explicitly set to `[internal_lb_vip_address]` and
overriding `haproxy_bind_internal_lb_vip_address` would result in
wrong certificate paths (with FQDN in names, which does not exist)
for these frontends.

[1] https://docs.openstack.org/openstack-ansible-haproxy_server/latest/configure-haproxy.html#overriding-the-address-haproxy-will-bind-to

Change-Id: I55cd2142806144f84023ff87e1e2e4e2cc209bbf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/887574/3 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,9418d3297f8d21c41726faf479f6c2d1da58b450,multiceph," haproxy_bind: ""{{ [haproxy_bind_internal_lb_vip_address | default(internal_lb_vip_address)] }}"" haproxy_bind: ""{{ [haproxy_bind_internal_lb_vip_address | default(internal_lb_vip_address)] }}"" haproxy_bind: ""{{ [haproxy_bind_internal_lb_vip_address | default(internal_lb_vip_address)] }}"" haproxy_bind: ""{{ [haproxy_bind_internal_lb_vip_address | default(internal_lb_vip_address)] }}"" haproxy_bind: ""{{ [haproxy_bind_internal_lb_vip_address | default(internal_lb_vip_address)] }}"" haproxy_bind: ""{{ [haproxy_bind_internal_lb_vip_address | default(internal_lb_vip_address)] }}"""," haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}""",6,6
openstack%2Fbarbican-tempest-plugin~master~I7605fe11caa8ae5725e0c0583c623ebad73d40da,openstack/barbican-tempest-plugin,master,I7605fe11caa8ae5725e0c0583c623ebad73d40da,Remove secgroups related methods,MERGED,2022-06-09 10:56:01.000000000,2023-07-25 18:50:35.000000000,2022-10-20 10:44:03.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-06-09 10:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1d3e9926285d81e800db70a3665dcb58ee7db3ca', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}, {'number': 2, 'created': '2022-06-09 15:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c485592821f241fa05abbfa233efd833eb082b23', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}, {'number': 3, 'created': '2022-06-09 15:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/977abe8820737cc656dc299ab28ad16d160fe731', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}, {'number': 4, 'created': '2022-06-09 15:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/74d8570fd0199cfdb49715af995f821116f3d236', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}, {'number': 5, 'created': '2022-07-13 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/d391dec9572906c33b586b36988eb9941e63c429', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}, {'number': 6, 'created': '2022-07-13 13:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c2af7e67ea9e1935acddc75b30d1d589916bb7e1', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}, {'number': 7, 'created': '2022-07-13 13:49:54.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_ephemeral_disk_encryption.py', 'barbican_tempest_plugin/tests/scenario/test_volume_encryption.py', 'barbican_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/29541dcf25610b5626ba0eb547fc0e16d6dfb8e6', 'message': ""Remove secgroups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]\nit can be now reused in plugins.\n\nBarbican tempest plugin still uses nova-network old interface for floating ip\nrelated methods, this patch removes them and use tempests's ones which\nalready use neutron's interface.[2]\n\nReplaced/Removed methods:\n    * _default_security_group\n    * _create_security_group\n    * _create_loginable_secgroup_rule\n    * _create_security_group_rule\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8\n\nChange-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da\n""}]",3,845255,29541dcf25610b5626ba0eb547fc0e16d6dfb8e6,20,6,7,33732,,,0,"Remove secgroups related methods

As tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1]
it can be now reused in plugins.

Barbican tempest plugin still uses nova-network old interface for floating ip
related methods, this patch removes them and use tempests's ones which
already use neutron's interface.[2]

Replaced/Removed methods:
    * _default_security_group
    * _create_security_group
    * _create_loginable_secgroup_rule
    * _create_security_group_rule

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://opendev.org/openstack/tempest/commit/bbc9dd34f6455aa7fdd70737764408e48c1494f8

Change-Id: I7605fe11caa8ae5725e0c0583c623ebad73d40da
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/55/845255/3 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/manager.py'],1,1d3e9926285d81e800db70a3665dcb58ee7db3ca,tempest-scenario-manager-cleanup,,"from tempest.lib.common.utils import test_utils # Nova security groups client cls.compute_security_groups_client = ( cls.os_primary.compute_security_groups_client) cls.compute_security_group_rules_client = ( cls.os_primary.compute_security_group_rules_client) cls.servers_client = cls.os_primary.servers_client def _default_security_group(self, client=None, tenant_id=None): """"""Get default secgroup for given tenant_id. :returns: default secgroup for given tenant """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sgs = [ sg for sg in list(client.list_security_groups().values())[0] if sg['tenant_id'] == tenant_id and sg['name'] == 'default' ] msg = ""No default security group for tenant %s."" % (tenant_id) self.assertGreater(len(sgs), 0, msg) return sgs[0] def _create_security_group(self): # Create security group sg_name = data_utils.rand_name(self.__class__.__name__) sg_desc = sg_name + "" description"" secgroup = self.compute_security_groups_client.create_security_group( name=sg_name, description=sg_desc)['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.compute_security_groups_client.delete_security_group, secgroup['id']) # Add rules to the security group self._create_loginable_secgroup_rule(secgroup['id']) return secgroup def _create_loginable_secgroup_rule(self, secgroup_id=None): _client = self.compute_security_groups_client _client_rules = self.compute_security_group_rules_client if secgroup_id is None: sgs = _client.list_security_groups()['security_groups'] for sg in sgs: if sg['name'] == 'default': secgroup_id = sg['id'] # These rules are intended to permit inbound ssh and icmp # traffic from all sources, so no group_id is provided. # Setting a group_id would only permit traffic from ports # belonging to the same security group. rulesets = [ { # ssh 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'cidr': '0.0.0.0/0', }, { # ping 'ip_protocol': 'icmp', 'from_port': -1, 'to_port': -1, 'cidr': '0.0.0.0/0', } ] rules = list() for ruleset in rulesets: sg_rule = _client_rules.create_security_group_rule( parent_group_id=secgroup_id, **ruleset)['security_group_rule'] rules.append(sg_rule) return rules def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule",0,121
openstack%2Fneutron-tempest-plugin~master~I1b3df7e66e2d2f55c13b3cf2cc2d13a6a7230c19,openstack/neutron-tempest-plugin,master,I1b3df7e66e2d2f55c13b3cf2cc2d13a6a7230c19,Exercise to change test code,NEW,2023-07-24 08:02:55.000000000,2023-07-25 18:25:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-07-24 08:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4b18d30db16cf2851cd3b3900601d1da20554594', 'message': 'Exercise to change test code\n\nTests file in repo: neutron_tempest_plugin/scenario/test_basic.py\nTest method name in file: test_basic_instance\n\nThe test verifies ssh connectivity to 1 VM.\nChange the test code and functions called in it to create 3 VMs,\non same network and subnet, with a FIP for each VM, verify ssh\nconnectivity works for all 3 VMs.\n\nChange-Id: I1b3df7e66e2d2f55c13b3cf2cc2d13a6a7230c19\n'}, {'number': 2, 'created': '2023-07-24 12:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c8c009f4d6dc14eff20656485fed8cf6451d9a44', 'message': 'Exercise to change test code\n\nTests file in repo: neutron_tempest_plugin/scenario/test_basic.py\nTest method name in file: test_basic_instance\n\nThe test verifies ssh connectivity to 1 VM.\nChange the test code and functions called in it to create 3 VMs,\non same network and subnet, with a FIP for each VM, verify ssh\nconnectivity works for all 3 VMs.\n\nChange-Id: I1b3df7e66e2d2f55c13b3cf2cc2d13a6a7230c19\n'}, {'number': 3, 'created': '2023-07-25 15:12:36.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6ccb42359efdbe0c19c43d3b1f1bfd2737b09cbe', 'message': 'Exercise to change test code\n\nTests file in repo: neutron_tempest_plugin/scenario/test_basic.py\nTest method name in file: test_basic_instance\n\nThe test verifies ssh connectivity to 1 VM.\nChange the test code and functions called in it to create 3 VMs,\non same network and subnet, with a FIP for each VM, verify ssh\nconnectivity works for all 3 VMs.\n\nChange-Id: I1b3df7e66e2d2f55c13b3cf2cc2d13a6a7230c19\n'}]",17,889295,6ccb42359efdbe0c19c43d3b1f1bfd2737b09cbe,8,2,3,35229,,,0,"Exercise to change test code

Tests file in repo: neutron_tempest_plugin/scenario/test_basic.py
Test method name in file: test_basic_instance

The test verifies ssh connectivity to 1 VM.
Change the test code and functions called in it to create 3 VMs,
on same network and subnet, with a FIP for each VM, verify ssh
connectivity works for all 3 VMs.

Change-Id: I1b3df7e66e2d2f55c13b3cf2cc2d13a6a7230c19
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/95/889295/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_basic.py']",2,4b18d30db16cf2851cd3b3900601d1da20554594,exercise-change-test," # Update the function call to create three VMs. self.setup_network_and_servers(server_name=['vm1', 'vm2', 'vm3']) # Perform the connectivity checks for each VM for server, fip in zip(self.servers, self.fips): self.check_connectivity(fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) LOG.debug(""machine checked"") "," self.setup_network_and_server() self.check_connectivity(self.fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) ",33,22
openstack%2Fnova~stable%2Fwallaby~I73c9ae27e9c42ee211a53bed3d849650b65f08be,openstack/nova,stable/wallaby,I73c9ae27e9c42ee211a53bed3d849650b65f08be,Update RequestSpec.pci_request for resize,NEW,2022-08-16 11:30:37.000000000,2023-07-25 18:02:14.000000000,,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-16 11:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/532e4959c1b5ce6584cab211fd9e4f73615e329e', 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nConflicts:\n       nova/compute/api.py due to flavor was still named instance_type\n       in wallaby\n       nova/tests/functional/libvirt/test_pci_sriov_servers.py due to\n       not having the original reproduction test in wallaby\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n'}, {'number': 2, 'created': '2023-05-23 11:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3479ada21dcced214736e194b47f7e2337a44be8', 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nConflicts:\n       nova/compute/api.py due to flavor was still named instance_type\n       in wallaby\n       nova/tests/functional/libvirt/test_pci_sriov_servers.py due to\n       not having the original reproduction test in wallaby\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n'}, {'number': 3, 'created': '2023-05-23 11:35:35.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35ad4bbaf8b383436d3b972daa58e05a47e36d82', 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nConflicts:\n       nova/compute/api.py due to flavor was still named instance_type\n       in wallaby\n       nova/tests/functional/libvirt/test_pci_sriov_servers.py due to\n       not having the original reproduction test in wallaby\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n'}]",9,853274,35ad4bbaf8b383436d3b972daa58e05a47e36d82,31,3,3,9708,,,0,"Update RequestSpec.pci_request for resize

Nova uses the RequestSpec.pci_request in the PciPassthroughFilter to
decide if the PCI devicesm, requested via the pci_alias in the flavor
extra_spec, are available on a potential target host. During resize the
new flavor might contain different pci_alias request than the old flavor
of the instance. In this case Nova should use the pci_alias from the new
flavor to scheduler the destination host of the resize. However this
logic was missing and Nova used the old pci_request value based on the
old flavor. This patch adds the missing logic.

Conflicts:
       nova/compute/api.py due to flavor was still named instance_type
       in wallaby
       nova/tests/functional/libvirt/test_pci_sriov_servers.py due to
       not having the original reproduction test in wallaby

Closes-Bug: #1983753
Closes-Bug: #1941005
Change-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be
(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)
(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)
(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/853274/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",3,532e4959c1b5ce6584cab211fd9e4f73615e329e,bug/1941005, fake_spec = objects.RequestSpec( pci_requests=objects.InstancePCIRequests(requests=[])), fake_spec = objects.RequestSpec(),20,22
openstack%2Fopenstack-ansible~stable%2Fzed~Iaf81f778ffd9fcf6572e03e8ce73ffef46bd98aa,openstack/openstack-ansible,stable/zed,Iaf81f778ffd9fcf6572e03e8ce73ffef46bd98aa,Use include_role in task to avoid lack of access to vars,MERGED,2023-07-20 09:20:07.000000000,2023-07-25 17:01:50.000000000,2023-07-25 16:59:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-20 09:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f12220b8e666f88eae934496ff3a249cd4d9486', 'message': ""Use include_role in task to avoid lack of access to vars\n\nThis patch updates the security hardening playbook to use include_role\nwithin a task versus using 'roles' directly to fix cases where\napply_security_hardening is set to False. Some change to Ansible\nappears to limit access to vars when the role is skipped, resulting\nin failures. The side effect of this change is the role is skipped\nentirely (when applicable) versus the individual tasks being skipped,\nwhich speeds up deployment times.\n\nChange-Id: Iaf81f778ffd9fcf6572e03e8ce73ffef46bd98aa\n(cherry picked from commit 9690b34193430d99c201e3ac2e85258e6aba011e)\n""}, {'number': 2, 'created': '2023-07-24 07:38:48.000000000', 'files': ['playbooks/infra-journal-remote.yml', 'playbooks/security-hardening.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63641540a63260081e18b076011d96a4ff65fd47', 'message': ""Use include_role in task to avoid lack of access to vars\n\nThis patch updates the security hardening playbook to use include_role\nwithin a task versus using 'roles' directly to fix cases where\napply_security_hardening is set to False. Some change to Ansible\nappears to limit access to vars when the role is skipped, resulting\nin failures. The side effect of this change is the role is skipped\nentirely (when applicable) versus the individual tasks being skipped,\nwhich speeds up deployment times.\n\nChange-Id: Iaf81f778ffd9fcf6572e03e8ce73ffef46bd98aa\n(cherry picked from commit 9690b34193430d99c201e3ac2e85258e6aba011e)\n""}]",0,888660,63641540a63260081e18b076011d96a4ff65fd47,10,3,2,28619,,,0,"Use include_role in task to avoid lack of access to vars

This patch updates the security hardening playbook to use include_role
within a task versus using 'roles' directly to fix cases where
apply_security_hardening is set to False. Some change to Ansible
appears to limit access to vars when the role is skipped, resulting
in failures. The side effect of this change is the role is skipped
entirely (when applicable) versus the individual tasks being skipped,
which speeds up deployment times.

Change-Id: Iaf81f778ffd9fcf6572e03e8ce73ffef46bd98aa
(cherry picked from commit 9690b34193430d99c201e3ac2e85258e6aba011e)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/888660/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/infra-journal-remote.yml', 'playbooks/security-hardening.yml']",2,0f12220b8e666f88eae934496ff3a249cd4d9486,osa/core-2.15-stable/zed," tasks: - name: Include security hardening role include_role: name: ""ansible-hardening"""," roles: - role: ""ansible-hardening""",8,4
openstack%2Fproject-config~master~I16cce758922377fd4ae82d44825d61129ad909bc,openstack/project-config,master,I16cce758922377fd4ae82d44825d61129ad909bc,Grafana: remove networking-odl board,MERGED,2023-07-25 15:26:51.000000000,2023-07-25 16:36:19.000000000,2023-07-25 16:34:21.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:26:51.000000000', 'files': ['grafana/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b0bdbf31cc55a2961f69c214bbe0b3a187ffdfc1', 'message': 'Grafana: remove networking-odl board\n\nnetworking-odl is deprecated (see [1]), so no need for\nthese old graphs.\n\n[1]: https://review.opendev.org/c/openstack/networking-odl/+/886752\n\nChange-Id: I16cce758922377fd4ae82d44825d61129ad909bc\n'}]",0,889516,b0bdbf31cc55a2961f69c214bbe0b3a187ffdfc1,7,2,1,8313,,,0,"Grafana: remove networking-odl board

networking-odl is deprecated (see [1]), so no need for
these old graphs.

[1]: https://review.opendev.org/c/openstack/networking-odl/+/886752

Change-Id: I16cce758922377fd4ae82d44825d61129ad909bc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/889516/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/networking-odl.yaml'],1,b0bdbf31cc55a2961f69c214bbe0b3a187ffdfc1,remove_odl_grafana,,"dashboard: title: Networking ODL Failure Rate rows: - title: Description height: 100px panels: - title: Description content: | **This dashboard is managed by [Grafyaml](https://docs.openstack.org/infra/system-config/grafyaml.html).** If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/grafana/networking-odl.yaml). type: text - title: Graphs height: 320px panels: - title: Unit Tests Failure Rates (Check queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') type: graph - title: Unit Tests Failure Rates (Gate queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') type: graph - title: Grenade Tests Failure Rates (Check queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-grenade.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-grenade.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-grenade') type: graph - title: Functional Tests Failure Rates (Check queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-oxygen.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-functional-oxygen') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-functional-fluorine') type: graph - title: Functional Tests Failure Rates (Gate queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-oxygen.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-functional-oxygen') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-functional-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-functional-fluorine') type: graph - title: Tempest Failure Rates (Check queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-oxygen.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-tempest-oxygen') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-tempest-fluorine') type: graph - title: Multi-node Failure Rates (Check queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-oxygen-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-oxygen-multinode.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-tempest-oxygen-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine-multinode.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-tempest-fluorine-multinode') type: graph - title: Rally Failure Rates (Check queue) span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-rally-oxygen.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-rally-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-rally-oxygen') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-rally-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_networking-odl.master.job.networking-odl-rally-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-rally-fluorine') type: graph - title: Periodic jobs span: 4 yaxes: - label: Failure rates % format: percent - show: false targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.legacy-periodic-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.legacy-periodic-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic-stable.project.opendev_org.openstack_networking-odl.stable_pike.job.build-openstack-sphinx-docs.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic-stable.project.opendev_org.openstack_networking-odl.stable_pike.job.build-openstack-sphinx-docs.{SUCCESS,FAILURE})),'24hours'), 'build-openstack-sphinx-docs-pike') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic-stable.project.opendev_org.openstack_networking-odl.stable_pike.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic-stable.project.opendev_org.openstack_networking-odl.stable_pike.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27-pike') type: graph ",0,105
openstack%2Fproject-config~master~If1297eaa1ad71b423be7db2cd3f38d2b7aaf6b84,openstack/project-config,master,If1297eaa1ad71b423be7db2cd3f38d2b7aaf6b84,Grafana: remove tap-as-a-service board,MERGED,2023-07-25 15:22:56.000000000,2023-07-25 16:32:31.000000000,2023-07-25 16:30:28.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 15:22:56.000000000', 'files': ['grafana/tap-as-a-service.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/09bd23f8d504d62016870035109d1f5cf2016ea5', 'message': 'Grafana: remove tap-as-a-service board\n\nTAAS is monitored by Neutron team, it has weekly jobs,\nthese old graphs are not necessary any more.\n\nChange-Id: If1297eaa1ad71b423be7db2cd3f38d2b7aaf6b84\n'}]",0,889511,09bd23f8d504d62016870035109d1f5cf2016ea5,7,2,1,8313,,,0,"Grafana: remove tap-as-a-service board

TAAS is monitored by Neutron team, it has weekly jobs,
these old graphs are not necessary any more.

Change-Id: If1297eaa1ad71b423be7db2cd3f38d2b7aaf6b84
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/889511/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/tap-as-a-service.yaml'],1,09bd23f8d504d62016870035109d1f5cf2016ea5,remove_taas_grafana,,"dashboard: title: Tap-as-a-Service Failure Rate rows: - title: Description height: 100px panels: - title: Description content: | **This dashboard is managed by [Grafyaml](https://docs.openstack.org/infra/system-config/grafyaml.html).** If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/grafana/tap-as-a-service.yaml). type: text - title: Graphs height: 320px panels: - title: Unit Tests Failure Rates (Check queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py35.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py35.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py35') type: graph - title: Unit Tests Failure Rates (Gate queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py35.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.openstack-tox-py35.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py35') type: graph - title: Tempest Failure Rates (Check queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-dsvm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-dsvm.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tap-as-a-service-tempest-dsvm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-plugin.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-plugin.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tap-as-a-service-tempest-plugin') type: graph - title: Tempest Failure Rates (Gate queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-dsvm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-dsvm.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tap-as-a-service-tempest-dsvm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-plugin.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_tap-as-a-service.master.job.tap-as-a-service-tempest-plugin.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tap-as-a-service-tempest-plugin') type: graph ",0,39
openstack%2Foctavia-dashboard~stable%2Fvictoria~I4377339ff52836ad953e3936b3e6a33b3ba73389,openstack/octavia-dashboard,stable/victoria,I4377339ff52836ad953e3936b3e6a33b3ba73389,[stable-only] Cap virtualenv/setuptools & drop lower-constraints,MERGED,2023-07-25 15:13:28.000000000,2023-07-25 16:22:21.000000000,2023-07-25 16:21:12.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-25 15:13:28.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/832010f00629717842b56f682e91f0be8cef817a', 'message': ""[stable-only] Cap virtualenv/setuptools & drop lower-constraints\n\n2 commits squashed into 1:\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\n--\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389\n""}]",1,889496,832010f00629717842b56f682e91f0be8cef817a,8,3,1,29244,,,0,"[stable-only] Cap virtualenv/setuptools & drop lower-constraints

2 commits squashed into 1:

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

--

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/96/889496/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,832010f00629717842b56f682e91f0be8cef817a,,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,10,0
openstack%2Fneutron~stable%2Fxena~Iac1472f7f896ea434deacb6d236ab469f4f6ed56,openstack/neutron,stable/xena,Iac1472f7f896ea434deacb6d236ab469f4f6ed56,Fix ACL sync when default sg group is created,MERGED,2023-07-19 20:43:16.000000000,2023-07-25 16:22:06.000000000,2023-07-25 16:19:06.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 20:43:16.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc130493d2038c93665664110c4cc3e1da24a001', 'message': 'Fix ACL sync when default sg group is created\n\nPort group not being available in NB DB during ACL sync\nis bit of a corner case but possible during the ML2/OVS\nto ML2/OVN migration sync. It can also happen in ML2/OVN\nonly enviroment. See my detailed description of both\nscenarios in the linked Bug.\nThe easiest fix is to just retry ALL port groups sync\none more time if ACL sync cant find a port group row. This\nadditional resync is really quick.\n\nCloses-Bug: #2008943\nChange-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56\n(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)\n'}]",2,888652,fc130493d2038c93665664110c4cc3e1da24a001,10,3,1,34271,,,0,"Fix ACL sync when default sg group is created

Port group not being available in NB DB during ACL sync
is bit of a corner case but possible during the ML2/OVS
to ML2/OVN migration sync. It can also happen in ML2/OVN
only enviroment. See my detailed description of both
scenarios in the linked Bug.
The easiest fix is to just retry ALL port groups sync
one more time if ACL sync cant find a port group row. This
additional resync is really quick.

Closes-Bug: #2008943
Change-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56
(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/888652/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,fc130493d2038c93665664110c4cc3e1da24a001,db_sync_sgs-stable/yoga-stable/xena,"from ovsdbapp.backend.ovs_idl import idlutils pg_resync_count = 0 while True: try: with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add( **acla, may_exist=True)) except idlutils.RowNotFound as row_err: if row_err.msg.startswith(""Cannot find Port_Group""): if pg_resync_count < 1: LOG.warning('Port group row was not found during ' 'ACLs sync. Will attempt to sync port ' 'groups one more time. The caught ' 'exception is: %s', row_err) self.sync_port_groups(ctx) pg_resync_count += 1 continue LOG.error('Port group exception during ACL sync ' 'even after one more port group resync. ' 'The caught exception is: %s', row_err) else: raise break"," with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add(**acla, may_exist=True))",27,6
openstack%2Fneutron~stable%2Fwallaby~Iac1472f7f896ea434deacb6d236ab469f4f6ed56,openstack/neutron,stable/wallaby,Iac1472f7f896ea434deacb6d236ab469f4f6ed56,Fix ACL sync when default sg group is created,MERGED,2023-07-19 20:43:40.000000000,2023-07-25 16:21:07.000000000,2023-07-25 16:19:10.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 20:43:40.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fcb5fbf0affbe8428edf13d88f2e13c239cdd9c', 'message': 'Fix ACL sync when default sg group is created\n\nPort group not being available in NB DB during ACL sync\nis bit of a corner case but possible during the ML2/OVS\nto ML2/OVN migration sync. It can also happen in ML2/OVN\nonly enviroment. See my detailed description of both\nscenarios in the linked Bug.\nThe easiest fix is to just retry ALL port groups sync\none more time if ACL sync cant find a port group row. This\nadditional resync is really quick.\n\nCloses-Bug: #2008943\nChange-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56\n(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)\n'}]",2,888653,8fcb5fbf0affbe8428edf13d88f2e13c239cdd9c,14,3,1,34271,,,0,"Fix ACL sync when default sg group is created

Port group not being available in NB DB during ACL sync
is bit of a corner case but possible during the ML2/OVS
to ML2/OVN migration sync. It can also happen in ML2/OVN
only enviroment. See my detailed description of both
scenarios in the linked Bug.
The easiest fix is to just retry ALL port groups sync
one more time if ACL sync cant find a port group row. This
additional resync is really quick.

Closes-Bug: #2008943
Change-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56
(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/888653/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,8fcb5fbf0affbe8428edf13d88f2e13c239cdd9c,db_sync_sgs-stable/yoga-stable/xena-stable/wallaby,"from ovsdbapp.backend.ovs_idl import idlutils pg_resync_count = 0 while True: try: with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add( **acla, may_exist=True)) except idlutils.RowNotFound as row_err: if row_err.msg.startswith(""Cannot find Port_Group""): if pg_resync_count < 1: LOG.warning('Port group row was not found during ' 'ACLs sync. Will attempt to sync port ' 'groups one more time. The caught ' 'exception is: %s', row_err) self.sync_port_groups(ctx) pg_resync_count += 1 continue LOG.error('Port group exception during ACL sync ' 'even after one more port group resync. ' 'The caught exception is: %s', row_err) else: raise break"," with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add(**acla, may_exist=True))",27,6
openstack%2Fneutron~stable%2Fyoga~Iac1472f7f896ea434deacb6d236ab469f4f6ed56,openstack/neutron,stable/yoga,Iac1472f7f896ea434deacb6d236ab469f4f6ed56,Fix ACL sync when default sg group is created,MERGED,2023-07-17 16:54:39.000000000,2023-07-25 16:21:05.000000000,2023-07-25 16:19:02.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 16:54:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d55b30844f67e3f95db7c56fb24b8d08f4be0c08', 'message': 'Fix ACL sync when default sg group is created\n\nPort group not being available in NB DB during ACL sync\nis bit of a corner case but possible during the ML2/OVS\nto ML2/OVN migration sync. It can also happen in ML2/OVN\nonly enviroment. See my detailed description of both\nscenarios in the linked Bug.\nThe easiest fix is to just retry ALL port groups sync\none more time if ACL sync cant find a port group row. This\nadditional resync is really quick.\n\nCloses-Bug: #2008943\nChange-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56\n(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)\n'}]",1,888645,d55b30844f67e3f95db7c56fb24b8d08f4be0c08,11,4,1,1131,,,0,"Fix ACL sync when default sg group is created

Port group not being available in NB DB during ACL sync
is bit of a corner case but possible during the ML2/OVS
to ML2/OVN migration sync. It can also happen in ML2/OVN
only enviroment. See my detailed description of both
scenarios in the linked Bug.
The easiest fix is to just retry ALL port groups sync
one more time if ACL sync cant find a port group row. This
additional resync is really quick.

Closes-Bug: #2008943
Change-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56
(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/888645/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,d55b30844f67e3f95db7c56fb24b8d08f4be0c08,db_sync_sgs-stable/yoga,"from ovsdbapp.backend.ovs_idl import idlutils pg_resync_count = 0 while True: try: with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add( **acla, may_exist=True)) except idlutils.RowNotFound as row_err: if row_err.msg.startswith(""Cannot find Port_Group""): if pg_resync_count < 1: LOG.warning('Port group row was not found during ' 'ACLs sync. Will attempt to sync port ' 'groups one more time. The caught ' 'exception is: %s', row_err) self.sync_port_groups(ctx) pg_resync_count += 1 continue LOG.error('Port group exception during ACL sync ' 'even after one more port group resync. ' 'The caught exception is: %s', row_err) else: raise break"," with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add(**acla, may_exist=True))",27,6
openstack%2Fneutron~stable%2Fzed~Iac1472f7f896ea434deacb6d236ab469f4f6ed56,openstack/neutron,stable/zed,Iac1472f7f896ea434deacb6d236ab469f4f6ed56,Fix ACL sync when default sg group is created,MERGED,2023-07-17 16:54:18.000000000,2023-07-25 16:21:05.000000000,2023-07-25 16:18:57.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 16:54:18.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a131686abf41cece67c002c3c0a9f5f7e28fde61', 'message': 'Fix ACL sync when default sg group is created\n\nPort group not being available in NB DB during ACL sync\nis bit of a corner case but possible during the ML2/OVS\nto ML2/OVN migration sync. It can also happen in ML2/OVN\nonly enviroment. See my detailed description of both\nscenarios in the linked Bug.\nThe easiest fix is to just retry ALL port groups sync\none more time if ACL sync cant find a port group row. This\nadditional resync is really quick.\n\nCloses-Bug: #2008943\nChange-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56\n(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)\n'}]",1,888644,a131686abf41cece67c002c3c0a9f5f7e28fde61,10,4,1,1131,,,0,"Fix ACL sync when default sg group is created

Port group not being available in NB DB during ACL sync
is bit of a corner case but possible during the ML2/OVS
to ML2/OVN migration sync. It can also happen in ML2/OVN
only enviroment. See my detailed description of both
scenarios in the linked Bug.
The easiest fix is to just retry ALL port groups sync
one more time if ACL sync cant find a port group row. This
additional resync is really quick.

Closes-Bug: #2008943
Change-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56
(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/888644/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,a131686abf41cece67c002c3c0a9f5f7e28fde61,db_sync_sgs-stable/zed,"from ovsdbapp.backend.ovs_idl import idlutils pg_resync_count = 0 while True: try: with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add( **acla, may_exist=True)) except idlutils.RowNotFound as row_err: if row_err.msg.startswith(""Cannot find Port_Group""): if pg_resync_count < 1: LOG.warning('Port group row was not found during ' 'ACLs sync. Will attempt to sync port ' 'groups one more time. The caught ' 'exception is: %s', row_err) self.sync_port_groups(ctx) pg_resync_count += 1 continue LOG.error('Port group exception during ACL sync ' 'even after one more port group resync. ' 'The caught exception is: %s', row_err) else: raise break"," with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add(**acla, may_exist=True))",27,6
openstack%2Fdevstack~master~I5ea8693c0b967937483bd921b1d9984ea14bc723,openstack/devstack,master,I5ea8693c0b967937483bd921b1d9984ea14bc723,Fix reboot on fedora like nodes,MERGED,2023-03-27 20:58:38.000000000,2023-07-25 16:20:34.000000000,2023-07-25 16:18:54.000000000,"[{'_account_id': 4393}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-27 20:58:38.000000000', 'files': ['tools/fixup_stuff.sh', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/80c3ffe154fd79e03d8c4258b500b77a26efa008', 'message': 'Fix reboot on fedora like nodes\n\nThis change enables httpd in systemd so that it\nstarts after a reboot and updates how selinux is\ndisabled to use /etc/selinux/config in addtion\nto setenforce.\n\nChange-Id: I5ea8693c0b967937483bd921b1d9984ea14bc723\n'}]",5,878718,80c3ffe154fd79e03d8c4258b500b77a26efa008,18,3,1,11604,,,0,"Fix reboot on fedora like nodes

This change enables httpd in systemd so that it
starts after a reboot and updates how selinux is
disabled to use /etc/selinux/config in addtion
to setenforce.

Change-Id: I5ea8693c0b967937483bd921b1d9984ea14bc723
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/878718/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/fixup_stuff.sh', 'lib/apache']",2,80c3ffe154fd79e03d8c4258b500b77a26efa008,fix-reboot-on-fedora-like-distros, # rpm distros dont enable httpd by default so enable it to support reboots. sudo systemctl enable httpd,,8,0
openstack%2Foctavia-dashboard~stable%2Fvictoria~I7cc8e114f42b115637980fffb7c3b1f29b307f39,openstack/octavia-dashboard,stable/victoria,I7cc8e114f42b115637980fffb7c3b1f29b307f39,[stable-only] Cap virtualenv/setuptools,ABANDONED,2023-07-25 15:00:17.000000000,2023-07-25 15:44:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-25 15:00:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7dd453bfdb0b855efe883223851af2b5cc6ffad4', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I7cc8e114f42b115637980fffb7c3b1f29b307f39\n""}]",0,889476,7dd453bfdb0b855efe883223851af2b5cc6ffad4,3,1,1,29244,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I7cc8e114f42b115637980fffb7c3b1f29b307f39
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/76/889476/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7dd453bfdb0b855efe883223851af2b5cc6ffad4,,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fneutron-tempest-plugin~master~I107ca20426bc408f5ce494d472f5d58a577f3a2d,openstack/neutron-tempest-plugin,master,I107ca20426bc408f5ce494d472f5d58a577f3a2d,Add VM creation and connectivity test,NEW,2023-07-12 09:51:53.000000000,2023-07-25 15:35:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-07-12 09:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e00984931e46176014cab201621095bdcb24c8bd', 'message': 'adds a test for SSH connectivity for 3 VMs on the same network\n\nChange-Id: I107ca20426bc408f5ce494d472f5d58a577f3a2d\n'}, {'number': 2, 'created': '2023-07-25 09:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0863155b8a436d0010fd812e0968ce8d5f2cbd02', 'message': 'Add VM creation and connectivity test\n\nThis patch adds a test that creates three virtual machines and checks connectivity for each one.\n\nVarious issues have been addressed and fixes have been made:\n- Ensured that flavor/image arguments are compatible with advanced image and cirros.\n- Reviewed and confirmed the necessity of saving to instance. Each iteration now maintains its own server details, preventing override of previous server information.\n- Corrected PEP8 violations across the modified files.\n- Addressed minor issues to improve code readability and efficiency.\n\nChange-Id: I107ca20426bc408f5ce494d472f5d58a577f3a2d\n'}, {'number': 3, 'created': '2023-07-25 09:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ab4ffdaa75429674ae91329dd4597093ee74d8ec', 'message': 'Add VM creation and connectivity test\n\nThis patch adds a test that creates three virtual machines and checks connectivity for each one.\n\nVarious issues have been addressed and fixes have been made:\n- Ensured that flavor/image arguments are compatible with advanced image and cirros.\n- Reviewed and confirmed the necessity of saving to instance. Each iteration now maintains its own server details, preventing override of previous server information.\n- Corrected PEP8 violations across the modified files.\n- Addressed minor issues to improve code readability and efficiency.\n\nChange-Id: I107ca20426bc408f5ce494d472f5d58a577f3a2d\n'}, {'number': 4, 'created': '2023-07-25 12:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/446ff95d163651b070d1cd3ee4bfdf760042dc77', 'message': 'DNM\nAdd VM creation and connectivity test\n\nThis patch adds a test that creates three virtual machines and checks connectivity for each one.\n\nVarious issues have been addressed and fixes have been made:\n- Ensured that flavor/image arguments are compatible with advanced image and cirros.\n- Reviewed and confirmed the necessity of saving to instance. Each iteration now maintains its own server details, preventing override of previous server information.\n- Corrected PEP8 violations across the modified files.\n- Addressed minor issues to improve code readability and efficiency.\n\nChange-Id: I107ca20426bc408f5ce494d472f5d58a577f3a2d\n'}, {'number': 5, 'created': '2023-07-25 13:23:48.000000000', 'files': ['neutron_tempest_plugin/scenario/test_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/89d1ab2dda93c1a37a1fe5e0b6f09302d560e582', 'message': 'Add VM creation and connectivity test\n\nThis patch adds a test that creates three virtual machines and checks connectivity for each one.\n\nVarious issues have been addressed and fixes have been made:\n- Ensured that flavor/image arguments are compatible with advanced image and cirros.\n- Reviewed and confirmed the necessity of saving to instance. Each iteration now maintains its own server details, preventing override of previous server information.\n- Corrected PEP8 violations across the modified files.\n- Addressed minor issues to improve code readability and efficiency.\n\nChange-Id: I107ca20426bc408f5ce494d472f5d58a577f3a2d\n'}]",18,888222,89d1ab2dda93c1a37a1fe5e0b6f09302d560e582,12,2,5,36141,,,0,"Add VM creation and connectivity test

This patch adds a test that creates three virtual machines and checks connectivity for each one.

Various issues have been addressed and fixes have been made:
- Ensured that flavor/image arguments are compatible with advanced image and cirros.
- Reviewed and confirmed the necessity of saving to instance. Each iteration now maintains its own server details, preventing override of previous server information.
- Corrected PEP8 violations across the modified files.
- Addressed minor issues to improve code readability and efficiency.

Change-Id: I107ca20426bc408f5ce494d472f5d58a577f3a2d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/22/888222/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_basic.py'],1,e00984931e46176014cab201621095bdcb24c8bd,first_test,"from tempest.lib.common.utils import data_utils num_of_servers = 3 # Create a network resource self.network = self.create_network() self.subnet = self.create_subnet(self.network) secgroup = self.os_primary.network_client.create_security_group(name=data_utils.rand_name('secgroup')) self.security_groups.append(secgroup['security_group']) router = self.create_router_by_client() self.create_router_interface(router['id'], self.subnet['id']) self.keypair = self.create_keypair() self.create_loginable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) server_kwargs = { 'flavor_ref': CONF.compute.flavor_ref, 'image_ref': CONF.compute.image_ref, 'key_name': self.keypair['name'], 'networks': [{'uuid': self.network['id']}], 'security_groups': [{'name': secgroup['security_group']['name']}], } # create servers for i in range(num_of_servers): server_kwargs['name'] = ""server-%s"" % i self.server = self.create_server(**server_kwargs) self.port = self.client.list_ports(network_id=self.network['id'], device_id=self.server[ 'server']['id'])['ports'][0] self.fip = self.create_floatingip(port=self.port) # check connectivity self.check_connectivity(self.fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'])"," self.setup_network_and_server() self.check_connectivity(self.fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'])",34,4
openstack%2Foctavia-dashboard~stable%2Fyoga~I4377339ff52836ad953e3936b3e6a33b3ba73389,openstack/octavia-dashboard,stable/yoga,I4377339ff52836ad953e3936b3e6a33b3ba73389,Drop lower-constraints.txt and its testing,MERGED,2023-07-25 14:24:26.000000000,2023-07-25 15:23:18.000000000,2023-07-25 15:19:11.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-25 14:24:26.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6910a29bbf31db558a4048930cb26d0da822b9e8', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389\n(cherry picked from commit 91c6a2de3bb72e9438004d653478f3b13e44726c)\n'}]",1,889433,6910a29bbf31db558a4048930cb26d0da822b9e8,8,3,1,29244,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389
(cherry picked from commit 91c6a2de3bb72e9438004d653478f3b13e44726c)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/33/889433/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",4,6910a29bbf31db558a4048930cb26d0da822b9e8,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,149
openstack%2Foctavia-dashboard~stable%2Fxena~I4377339ff52836ad953e3936b3e6a33b3ba73389,openstack/octavia-dashboard,stable/xena,I4377339ff52836ad953e3936b3e6a33b3ba73389,Drop lower-constraints.txt and its testing,MERGED,2023-07-25 14:24:55.000000000,2023-07-25 15:23:15.000000000,2023-07-25 15:19:13.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-25 14:24:55.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2c1cb9b3a2279862d48bb6c846d3df5e02737ede', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389\n(cherry picked from commit 91c6a2de3bb72e9438004d653478f3b13e44726c)\n(cherry picked from commit 6910a29bbf31db558a4048930cb26d0da822b9e8)\n'}]",1,889434,2c1cb9b3a2279862d48bb6c846d3df5e02737ede,8,3,1,29244,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389
(cherry picked from commit 91c6a2de3bb72e9438004d653478f3b13e44726c)
(cherry picked from commit 6910a29bbf31db558a4048930cb26d0da822b9e8)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/34/889434/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",4,2c1cb9b3a2279862d48bb6c846d3df5e02737ede,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,149
openstack%2Foctavia-dashboard~stable%2Fwallaby~I4377339ff52836ad953e3936b3e6a33b3ba73389,openstack/octavia-dashboard,stable/wallaby,I4377339ff52836ad953e3936b3e6a33b3ba73389,Drop lower-constraints.txt and its testing,MERGED,2023-07-25 14:25:22.000000000,2023-07-25 15:22:43.000000000,2023-07-25 15:19:10.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-25 14:25:22.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2876c19b110831c891cdfd1fb85a41b0b5c5d754', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389\n(cherry picked from commit 91c6a2de3bb72e9438004d653478f3b13e44726c)\n(cherry picked from commit 6910a29bbf31db558a4048930cb26d0da822b9e8)\n(cherry picked from commit 2c1cb9b3a2279862d48bb6c846d3df5e02737ede)\n'}]",1,889435,2876c19b110831c891cdfd1fb85a41b0b5c5d754,8,3,1,29244,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4377339ff52836ad953e3936b3e6a33b3ba73389
(cherry picked from commit 91c6a2de3bb72e9438004d653478f3b13e44726c)
(cherry picked from commit 6910a29bbf31db558a4048930cb26d0da822b9e8)
(cherry picked from commit 2c1cb9b3a2279862d48bb6c846d3df5e02737ede)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/35/889435/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",4,2876c19b110831c891cdfd1fb85a41b0b5c5d754,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,149
openstack%2Fnetworking-bagpipe~stable%2Fvictoria~Iceb92b157d5e875090a0dedec37c398716b89495,openstack/networking-bagpipe,stable/victoria,Iceb92b157d5e875090a0dedec37c398716b89495,Add required projects where necessary and fix gate,NEW,2022-10-24 16:18:17.000000000,2023-07-25 14:55:50.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b7b93c6cdd2bd4b33e3a1ee3918dd1ffbe8ae4f7', 'message': ""Add required projects where necessary\n\nMost of the jobs needs required-projects to be added, especially in\nstable branches, where the lack of them causes gate failures.\n\nSince the templates openstack-python3-jobs-neutron and\nperiodic-stable-jobs-neutron don't contain all the necessary projects\nfor bagpipe we need to add them one by one.\n\nChanges:\n  .zuul.yaml\n\nNOTE(elod.illes): the change is due to py39 non-voting job is not\npresent in stable/victoria check queue.\n\nChange-Id: Iceb92b157d5e875090a0dedec37c398716b89495\n(cherry picked from commit 7a02ee3188a4cadba76d75ea03400b35a33c2e5f)\n(cherry picked from commit 1b474c3333b25970431ade31d90a38af3f47fb7a)\n(cherry picked from commit d9bd4c660ee10c8de39d4b83090aefb79933fc00)\n(cherry picked from commit 39546f061193de8d46d6ca6141122f83bb18621a)\n(cherry picked from commit 1f44d064188d222b54cc207125cfab89af3148eb)\n""}, {'number': 2, 'created': '2023-06-13 21:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5b32087f3037c3d2d439743f888357c974934c41', 'message': ""Add required projects where necessary\n\nMost of the jobs needs required-projects to be added, especially in\nstable branches, where the lack of them causes gate failures.\n\nSince the templates openstack-python3-jobs-neutron and\nperiodic-stable-jobs-neutron don't contain all the necessary projects\nfor bagpipe we need to add them one by one.\n\nChanges:\n  .zuul.yaml\n\nNOTE(elod.illes): the change is due to py39 non-voting job is not\npresent in stable/victoria check queue.\n\nChange-Id: Iceb92b157d5e875090a0dedec37c398716b89495\n(cherry picked from commit 7a02ee3188a4cadba76d75ea03400b35a33c2e5f)\n(cherry picked from commit 1b474c3333b25970431ade31d90a38af3f47fb7a)\n(cherry picked from commit d9bd4c660ee10c8de39d4b83090aefb79933fc00)\n(cherry picked from commit 39546f061193de8d46d6ca6141122f83bb18621a)\n(cherry picked from commit 1f44d064188d222b54cc207125cfab89af3148eb)\n""}, {'number': 3, 'created': '2023-06-14 09:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b94230b429ff6f3cbffd3a155d1b9c07a7676213', 'message': ""Add required projects where necessary\n\nMost of the jobs needs required-projects to be added, especially in\nstable branches, where the lack of them causes gate failures.\n\nSince the templates openstack-python3-jobs-neutron and\nperiodic-stable-jobs-neutron don't contain all the necessary projects\nfor bagpipe we need to add them one by one.\n\nChanges:\n  .zuul.yaml\n\nIn check queue add required projects for the job\nneutron-tempest-plugin-bgpvpn-bagpipe-victoria\n\nNOTE(elod.illes): the change is due to py39 non-voting job is not\npresent in stable/victoria check queue.\n\nChange-Id: Iceb92b157d5e875090a0dedec37c398716b89495\n(cherry picked from commit 7a02ee3188a4cadba76d75ea03400b35a33c2e5f)\n(cherry picked from commit 1b474c3333b25970431ade31d90a38af3f47fb7a)\n(cherry picked from commit d9bd4c660ee10c8de39d4b83090aefb79933fc00)\n(cherry picked from commit 39546f061193de8d46d6ca6141122f83bb18621a)\n(cherry picked from commit 1f44d064188d222b54cc207125cfab89af3148eb)\n""}, {'number': 4, 'created': '2023-07-17 15:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/33621b6f42e86fa6becc0e64bd2b41e97e0c3c46', 'message': 'Add required projects where necessary and fix gate\n\nMost of the jobs needs required-projects to be added, especially in\nstable branches, where the lack of them causes gate failures.\n\nSince the templates openstack-python3-jobs-neutron and\nperiodic-stable-jobs-neutron don\'t contain all the necessary projects\nfor bagpipe we need to add them one by one.\n\nChanges:\n  .zuul.yaml\n\nIn check queue add required projects for the job\nneutron-tempest-plugin-bgpvpn-bagpipe-victoria\n\nNOTE(elod.illes): the change is due to py39 non-voting job is not\npresent in stable/victoria check queue.\nAlso a tox fix is needed for victoria that caps virtualenv/setuptools:\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch\'s upper constraint [2]. pbr\'s next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria\'s gate,\nand also caps tox for the \'inner\' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and \'outer\'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module \'setuptools.command.easy_install\' has no attribute \'get_script_header\'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44""\n\nChange-Id: Iceb92b157d5e875090a0dedec37c398716b89495\n(cherry picked from commit 7a02ee3188a4cadba76d75ea03400b35a33c2e5f)\n(cherry picked from commit 1b474c3333b25970431ade31d90a38af3f47fb7a)\n(cherry picked from commit d9bd4c660ee10c8de39d4b83090aefb79933fc00)\n(cherry picked from commit 39546f061193de8d46d6ca6141122f83bb18621a)\n(cherry picked from commit 1f44d064188d222b54cc207125cfab89af3148eb)\n'}, {'number': 5, 'created': '2023-07-25 13:19:49.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e2f7d6b5f059a1967106dfee35db1d42752d973c', 'message': 'Add required projects where necessary and fix gate\n\nMost of the jobs needs required-projects to be added, especially in\nstable branches, where the lack of them causes gate failures.\n\nSince the templates openstack-python3-jobs-neutron and\nperiodic-stable-jobs-neutron don\'t contain all the necessary projects\nfor bagpipe we need to add them one by one.\n\nChanges:\n  .zuul.yaml\n\nIn check queue add required projects for the job\nneutron-tempest-plugin-bgpvpn-bagpipe-victoria\n\nNOTE(elod.illes): the change is due to py39 non-voting job is not\npresent in stable/victoria check queue.\nAlso a tox fix is needed for victoria that caps virtualenv/setuptools:\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch\'s upper constraint [2]. pbr\'s next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria\'s gate,\nand also caps tox for the \'inner\' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and \'outer\'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module \'setuptools.command.easy_install\' has no attribute \'get_script_header\'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44""\n\nChange-Id: Iceb92b157d5e875090a0dedec37c398716b89495\n(cherry picked from commit 7a02ee3188a4cadba76d75ea03400b35a33c2e5f)\n(cherry picked from commit 1b474c3333b25970431ade31d90a38af3f47fb7a)\n(cherry picked from commit d9bd4c660ee10c8de39d4b83090aefb79933fc00)\n(cherry picked from commit 39546f061193de8d46d6ca6141122f83bb18621a)\n(cherry picked from commit 1f44d064188d222b54cc207125cfab89af3148eb)\n'}]",2,862505,e2f7d6b5f059a1967106dfee35db1d42752d973c,18,2,5,17685,,,0,"Add required projects where necessary and fix gate

Most of the jobs needs required-projects to be added, especially in
stable branches, where the lack of them causes gate failures.

Since the templates openstack-python3-jobs-neutron and
periodic-stable-jobs-neutron don't contain all the necessary projects
for bagpipe we need to add them one by one.

Changes:
  .zuul.yaml

In check queue add required projects for the job
neutron-tempest-plugin-bgpvpn-bagpipe-victoria

NOTE(elod.illes): the change is due to py39 non-voting job is not
present in stable/victoria check queue.
Also a tox fix is needed for victoria that caps virtualenv/setuptools:
With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44""

Change-Id: Iceb92b157d5e875090a0dedec37c398716b89495
(cherry picked from commit 7a02ee3188a4cadba76d75ea03400b35a33c2e5f)
(cherry picked from commit 1b474c3333b25970431ade31d90a38af3f47fb7a)
(cherry picked from commit d9bd4c660ee10c8de39d4b83090aefb79933fc00)
(cherry picked from commit 39546f061193de8d46d6ca6141122f83bb18621a)
(cherry picked from commit 1f44d064188d222b54cc207125cfab89af3148eb)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/05/862505/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b7b93c6cdd2bd4b33e3a1ee3918dd1ffbe8ae4f7,add-bagpipe-required-projects, - openstack-tox-docs: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-docs: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc periodic-stable: jobs: - openstack-tox-docs: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py36: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py38: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc,,27,0
openstack%2Fdevstack~master~Iacd86e3953f573a0fc38dc4898aafefccb3a9a79,openstack/devstack,master,Iacd86e3953f573a0fc38dc4898aafefccb3a9a79,Remove unused file,MERGED,2023-06-26 10:24:43.000000000,2023-07-25 14:46:47.000000000,2023-07-25 14:45:38.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-26 10:24:43.000000000', 'files': ['files/dnsmasq-for-baremetal-from-nova-network.conf'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a1b2808af68ab50a15a9c16bfe217fac50bf309', 'message': 'Remove unused file\n\nThis was forgotten in [0]\n\n[0] I20501fec140998b91c9ddfd84b7b10168624430a\n\nChange-Id: Iacd86e3953f573a0fc38dc4898aafefccb3a9a79\n'}]",5,886975,4a1b2808af68ab50a15a9c16bfe217fac50bf309,16,3,1,13252,,,0,"Remove unused file

This was forgotten in [0]

[0] I20501fec140998b91c9ddfd84b7b10168624430a

Change-Id: Iacd86e3953f573a0fc38dc4898aafefccb3a9a79
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/886975/1 && git format-patch -1 --stdout FETCH_HEAD,['files/dnsmasq-for-baremetal-from-nova-network.conf'],1,4a1b2808af68ab50a15a9c16bfe217fac50bf309,cleanup,,enable-tftp tftp-root=/tftpboot dhcp-boot=pxelinux.0 ,0,3
openstack%2Fproject-config~master~I13d8434d78ef7839eb66149fe4b6f8454b238ccb,openstack/project-config,master,I13d8434d78ef7839eb66149fe4b6f8454b238ccb,Add starlingx/apt-ostree,MERGED,2023-07-19 14:56:27.000000000,2023-07-25 14:27:04.000000000,2023-07-21 16:21:28.000000000,"[{'_account_id': 5263}, {'_account_id': 9926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 14:56:27.000000000', 'files': ['gerrit/acls/starlingx/apt-ostree.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/37a7137ec17c1549eda5c84a2487b52efee0c267', 'message': 'Add starlingx/apt-ostree\n\nInitial repository code extracted from\nhttps://github.com/zulcss/apt-ostree.\n\nTask: 2010836\n\nChange-Id: I13d8434d78ef7839eb66149fe4b6f8454b238ccb\nSigned-off-by: Charles Short <charles.short@windriver.com>\n'}]",1,888930,37a7137ec17c1549eda5c84a2487b52efee0c267,12,3,1,24,,,0,"Add starlingx/apt-ostree

Initial repository code extracted from
https://github.com/zulcss/apt-ostree.

Task: 2010836

Change-Id: I13d8434d78ef7839eb66149fe4b6f8454b238ccb
Signed-off-by: Charles Short <charles.short@windriver.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/888930/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/starlingx/apt-ostree.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,37a7137ec17c1549eda5c84a2487b52efee0c267,apt-ostree, - starlingx/apt-ostree,,25,0
openstack%2Fpuppet-neutron~master~Ie1c9dc21ec424cb1b8c3f5c7a1f6a0d460313e42,openstack/puppet-neutron,master,Ie1c9dc21ec424cb1b8c3f5c7a1f6a0d460313e42,Accept a flat string for physical_network_mtus,ABANDONED,2023-07-25 14:16:34.000000000,2023-07-25 14:17:09.000000000,,[],"[{'number': 1, 'created': '2023-07-25 14:16:34.000000000', 'files': ['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/115c8f91d7304261a8cfddafca03dcbbe46b38fa', 'message': 'Accept a flat string for physical_network_mtus\n\n... in addition to an array, to make the handling more consistent\nwith the other ListOpt options.\n\nChange-Id: Ie1c9dc21ec424cb1b8c3f5c7a1f6a0d460313e42\n'}]",0,889419,115c8f91d7304261a8cfddafca03dcbbe46b38fa,2,0,1,9816,,,0,"Accept a flat string for physical_network_mtus

... in addition to an array, to make the handling more consistent
with the other ListOpt options.

Change-Id: Ie1c9dc21ec424cb1b8c3f5c7a1f6a0d460313e42
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/889419/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp']",2,115c8f91d7304261a8cfddafca03dcbbe46b38fa,listopt," 'ml2/physical_network_mtus': value => join(any2array($physical_network_mtus), ',');"," if is_service_default($physical_network_mtus) { neutron_plugin_ml2 { 'ml2/physical_network_mtus': ensure => absent; } } else { validate_legacy(Array, 'validate_array', $physical_network_mtus) neutron_plugin_ml2 { 'ml2/physical_network_mtus': value => join($physical_network_mtus, ','); } }",1,12
openstack%2Fneutron~master~I035a2e59f22a5816be84954491c103849d467c08,openstack/neutron,master,I035a2e59f22a5816be84954491c103849d467c08,Add function to refresh accept_ra on router state change,NEW,2022-01-17 14:40:16.000000000,2023-07-25 14:10:00.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d499510963d7646ac7726c0c40b9035112c1afba', 'message': 'Return true if we are not keepalived primary\n\nFix the function which defines if we need to disable the accept_ra sysctl value.\nWe need to return true so accept_ra is disabled on backup nodes.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 2, 'created': '2022-01-17 17:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb730d180545842a71fd14a218f635e07a50ab94', 'message': 'Return true if we are not keepalived primary\n\nFix the function which defines if we need to disable the accept_ra sysctl value.\nWe need to return true so accept_ra is disabled on backup nodes.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 3, 'created': '2022-01-18 00:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d22cdc3f3b889ead028eb531b7367ae5521da788', 'message': 'Add function to refresh accept_ra on router state change\n\nWhen we failover a ha router we need to set accept_ra to 1 or 0\ndepending on if we are becoming a primary or backup router.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 4, 'created': '2022-01-18 07:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57a764ae77c908a19a1c65df4284d7dba9f5fc7e', 'message': 'Add function to refresh accept_ra on router state change\n\nWhen we failover a ha router we need to set accept_ra to 1 or 0\ndepending on if we are becoming a primary or backup router.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 5, 'created': '2022-01-18 15:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d52bf23550a7b9116daa7fb4e675fea923d76a67', 'message': 'Add function to refresh accept_ra on router state change\n\nSet the initial accept_ra always to 0 and let the state change\ndecide which value needs to get set.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 6, 'created': '2022-01-18 15:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40b9564104de04f9d2187f7ffbfa9e0548397bbc', 'message': 'Add function to refresh accept_ra on router state change\n\nSet the initial accept_ra always to 0 and let the state change\ndecide which value needs to get set.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 7, 'created': '2022-11-24 11:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b57cf41ea131b51978ad6d8723082348e9755dd7', 'message': 'Add function to refresh accept_ra on router state change\n\nSet the initial accept_ra always to 0 and let the state change\ndecide which value needs to get set.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 8, 'created': '2022-11-25 23:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afa16d9ad1b7b5a8bd5c14f27b4aaf712aaf24cd', 'message': 'Add function to refresh accept_ra on router state change\n\nSet the initial accept_ra always to 0 and let the state change\ndecide which value needs to get set.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}, {'number': 9, 'created': '2022-11-26 15:53:34.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/67f85c726593161f9099295ca9f4938905a53e0f', 'message': 'Add function to refresh accept_ra on router state change\n\nSet the initial accept_ra always to 0 and let the state change\ndecide which value needs to get set.\n\nCloses-Bug: #1958149\nChange-Id: I035a2e59f22a5816be84954491c103849d467c08\n'}]",21,824947,67f85c726593161f9099295ca9f4938905a53e0f,54,4,9,34380,,,0,"Add function to refresh accept_ra on router state change

Set the initial accept_ra always to 0 and let the state change
decide which value needs to get set.

Closes-Bug: #1958149
Change-Id: I035a2e59f22a5816be84954491c103849d467c08
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/824947/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/ha_router.py'],1,d499510963d7646ac7726c0c40b9035112c1afba,fix-accept_ra-harouter, return True, return False,1,1
openstack%2Fcinder~master~Ia4981d36a0051c5ebd2fc86b5c68a4ae509f6d23,openstack/cinder,master,Ia4981d36a0051c5ebd2fc86b5c68a4ae509f6d23,DNM: internal test,NEW,2023-07-07 06:03:44.000000000,2023-07-25 14:08:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 35822}]","[{'number': 1, 'created': '2023-07-07 06:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/631e62043bca268b29fd564314011089449e8099', 'message': 'DNM: internal test\n\ndo not merge.\nThis patch can be ignored.\n\nChange-Id: Ia4981d36a0051c5ebd2fc86b5c68a4ae509f6d23\n'}, {'number': 2, 'created': '2023-07-24 06:18:28.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe6105bb8a1580ded9f51db9ed91103ed8a87a5d', 'message': 'DNM: internal test\n\ndo not merge.\nThis patch can be ignored.\n\nChange-Id: Ia4981d36a0051c5ebd2fc86b5c68a4ae509f6d23\n'}]",1,887558,fe6105bb8a1580ded9f51db9ed91103ed8a87a5d,44,2,2,29122,,,0,"DNM: internal test

do not merge.
This patch can be ignored.

Change-Id: Ia4981d36a0051c5ebd2fc86b5c68a4ae509f6d23
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/887558/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,631e62043bca268b29fd564314011089449e8099,,# PS1 - 07july ,,2,0
openstack%2Fneutron-tempest-plugin~master~Ifdf78c3667752fdeab56cf61f191b53177983126,openstack/neutron-tempest-plugin,master,Ifdf78c3667752fdeab56cf61f191b53177983126,DNM - Add VM creation and connectivity test,ABANDONED,2023-07-13 10:40:27.000000000,2023-07-25 13:57:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-13 10:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f627534ade9e5211f9e2ed343df29170b8c56c92', 'message': 'Add VM creation and connectivity test\n\nThis patch adds a test that creates three virtual machines and checks connectivity for each one.\n\nVarious issues have been addressed and fixes have been made:\n- Ensured that flavor/image arguments are compatible with advanced image and cirros.\n- Reviewed and confirmed the necessity of saving to instance. Each iteration now maintains its own server details, preventing override of previous server information.\n- Corrected PEP8 violations across the modified files.\n- Addressed minor issues to improve code readability and efficiency.\n\nChange-Id: Ifdf78c3667752fdeab56cf61f191b53177983126\n'}, {'number': 2, 'created': '2023-07-13 10:41:33.000000000', 'files': ['.idea/neutron-tempest-plugin.iml', '.idea/inspectionProfiles/Project_Default.xml', '.idea/vcs.xml', '.idea/workspace.xml', '.idea/inspectionProfiles/profiles_settings.xml', '.idea/misc.xml', 'neutron_tempest_plugin/scenario/test_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0407762d22c500e3995bee46a42fb7df234cbaee', 'message': 'DNM - Add VM creation and connectivity test\n\nThis patch adds a test that creates three virtual machines and checks connectivity for each one.\n\nVarious issues have been addressed and fixes have been made:\n- Ensured that flavor/image arguments are compatible with advanced image and cirros.\n- Each iteration now maintains its own server details, preventing override of previous server information.\n- nit fix: PEP8, line order\n\nChange-Id: Ifdf78c3667752fdeab56cf61f191b53177983126\n'}]",4,888453,0407762d22c500e3995bee46a42fb7df234cbaee,4,1,2,36141,,,0,"DNM - Add VM creation and connectivity test

This patch adds a test that creates three virtual machines and checks connectivity for each one.

Various issues have been addressed and fixes have been made:
- Ensured that flavor/image arguments are compatible with advanced image and cirros.
- Each iteration now maintains its own server details, preventing override of previous server information.
- nit fix: PEP8, line order

Change-Id: Ifdf78c3667752fdeab56cf61f191b53177983126
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/53/888453/2 && git format-patch -1 --stdout FETCH_HEAD,"['.idea/neutron-tempest-plugin.iml', '.idea/inspectionProfiles/Project_Default.xml', '.idea/vcs.xml', '.idea/workspace.xml', '.idea/inspectionProfiles/profiles_settings.xml', '.idea/misc.xml', 'neutron_tempest_plugin/scenario/test_basic.py']",7,f627534ade9e5211f9e2ed343df29170b8c56c92,first_test,"from tempest.lib.common.utils import data_utils num_of_servers = 3 # Create a network resource self.network = self.create_network() self.subnet = self.create_subnet(self.network) secgroup = self.os_primary.network_client.create_security_group( name=data_utils.rand_name('secgroup')) self.security_groups.append(secgroup['security_group']) self.create_loginable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) router = self.create_router_by_client() self.create_router_interface(router['id'], self.subnet['id']) self.keypair = self.create_keypair() # create servers servers = [] server_kwargs = { 'flavor_ref': CONF.neutron_plugin_options.advanced_image_flavor_ref, 'image_ref': CONF.neutron_plugin_options.advanced_image_ref, 'key_name': self.keypair['name'], 'networks': [{'uuid': self.network['id']}], 'security_groups': [{'name': secgroup['security_group']['name']}], } for i in range(num_of_servers): server_kwargs['name'] = ""server-%s"" % i server = self.create_server(**server_kwargs) port = self.client.list_ports(network_id=self.network['id'], device_id=server['server']['id'])['ports'][0] fip = self.create_floatingip(port=port) servers.append({'server': server, 'fip': fip}) # check connectivity self.check_connectivity(fip['floating_ip_address'], CONF.neutron_plugin_options.advanced_image_ssh_user, self.keypair['private_key'])"," self.setup_network_and_server() self.check_connectivity(self.fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'])",208,4
openstack%2Fsecurity-doc~master~If4b4d837323d3e88386282aa9a871dda31e20996,openstack/security-doc,master,If4b4d837323d3e88386282aa9a871dda31e20996,Broken link,MERGED,2023-07-25 13:23:40.000000000,2023-07-25 13:49:46.000000000,2023-07-25 13:48:51.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-25 13:23:40.000000000', 'files': ['security-guide/source/secure-communication/introduction-to-ssl-and-tls.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/456dcb52e90761fe08191651921a68c6d747183f', 'message': 'Broken link\n\nUpdate the OpenSSL fips link\n\nChange-Id: If4b4d837323d3e88386282aa9a871dda31e20996\n'}]",0,889403,456dcb52e90761fe08191651921a68c6d747183f,7,2,1,35025,,,0,"Broken link

Update the OpenSSL fips link

Change-Id: If4b4d837323d3e88386282aa9a871dda31e20996
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/03/889403/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/secure-communication/introduction-to-ssl-and-tls.rst'],1,456dcb52e90761fe08191651921a68c6d747183f,,* `OpenSSL and FIPS 140-2 <https://www.openssl.org/docs/fips.html>`_,* `OpenSSL and FIPS 140-2 <http://www.openssl.org/docs/fips/fipsnotes.html>`_,1,1
openstack%2Fopenstacksdk~master~If8151ebe82c3991c9cd2fed57ecb7723ab3db97c,openstack/openstacksdk,master,If8151ebe82c3991c9cd2fed57ecb7723ab3db97c,WIP: Add Tap Mirrors to SDK,NEW,2023-06-14 11:24:36.000000000,2023-07-25 13:45:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 11:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c86d586a9cd2571ddbb10ebb76220f97f1567c13', 'message': 'WIP: Add Tap Mirrors to SDK\n\nTODO:\n* tests\n* documentation\n* reno\n\nChange-Id: If8151ebe82c3991c9cd2fed57ecb7723ab3db97c\nRelated-Bug: #2015471\n'}, {'number': 2, 'created': '2023-07-25 12:08:02.000000000', 'files': ['openstack/network/v2/_proxy.py', 'openstack/network/v2/tap_mirror.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/475b8dae3e6aa543ceea139c8ba8200d8bbdaaf1', 'message': 'WIP: Add Tap Mirrors to SDK\n\nTODO:\n* tests\n* documentation\n* reno\n\nChange-Id: If8151ebe82c3991c9cd2fed57ecb7723ab3db97c\nRelated-Bug: #2015471\n'}]",0,886084,475b8dae3e6aa543ceea139c8ba8200d8bbdaaf1,4,1,2,8313,,,0,"WIP: Add Tap Mirrors to SDK

TODO:
* tests
* documentation
* reno

Change-Id: If8151ebe82c3991c9cd2fed57ecb7723ab3db97c
Related-Bug: #2015471
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/84/886084/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/_proxy.py', 'openstack/network/v2/tap_mirror.py']",2,c86d586a9cd2571ddbb10ebb76220f97f1567c13,bug/2015471,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class TapMirror(resource.Resource): """"""Tap Mirror"""""" resource_key = 'tap_mirror' resources_key = 'tap_mirrors' base_path = '/taas/tap_mirrors' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True _allow_unknown_attrs_in_body = True _query_mapping = resource.QueryParameters( ""sort_key"", ""sort_dir"", 'name', 'project_id' ) # Properties #: The ID of the Tap Mirror. id = resource.Body('id') #: The Tap Mirror name. name = resource.Body('name') #: The Tap Mirror description. description = resource.Body('description') #: The ID of the project that owns the Tap Mirror. project_id = resource.Body('project_id', alias='tenant_id') #: Tenant_id (deprecated attribute). tenant_id = resource.Body('tenant_id', deprecated=True) #: The id of the port the Tap Mirror is associated with port_id = resource.Body('port_id') #: The status for the tap service. directions = resource.Body('directions') #: The destination IP address of the Tap Mirror remote_ip = resource.Body('remote_ip') #: The type of the Tap Mirror, it can be gre or erspanv1 mirror_type = resource.Body('mirror_type') ",,87,0
openstack%2Fsushy~stable%2Fyoga~I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,openstack/sushy,stable/yoga,I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,Requests must always have a read/connect timeout,MERGED,2023-07-20 16:59:54.000000000,2023-07-25 13:33:45.000000000,2023-07-25 13:32:49.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-20 16:59:54.000000000', 'files': ['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5f6744887e6ea1e56e6b6d96db3783d072c57f04', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}]",0,889114,5f6744887e6ea1e56e6b6d96db3783d072c57f04,7,2,1,10342,,,0,"Requests must always have a read/connect timeout

Before this change, a request to a nonresponsive BMC may have hung
forever waiting for requests to connect and read. Now, we ensure all
calls have a timeout unless explicitly disabled by the API user.

Because timeout was already an argument for _op, anyone attempting
to previously override the requests timeout (send one at all) wouldn't
have been able to for pythonic reasons.

Closes-Bug: 2021995
Change-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/14/889114/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,5f6744887e6ea1e56e6b6d96db3783d072c57f04,," headers=self.headers, json=None, timeout=60) headers=self.headers, json=None, allow_redirects=False, timeout=60) json=self.data, headers=self.headers, timeout=60) json=self.data, headers=self.headers, timeout=60) headers=expected_headers, json=None, timeout=60) json=self.data, headers=expected_headers, timeout=60) headers=expected_headers, json=None, timeout=60) headers=expected_headers, json=None, timeout=60) headers=expected_headers, json=None, timeout=60)"," headers=self.headers, json=None) headers=self.headers, json=None, allow_redirects=False) json=self.data, headers=self.headers) json=self.data, headers=self.headers) headers=expected_headers, json=None) json=self.data, headers=expected_headers) headers=expected_headers, json=None) headers=expected_headers, json=None) headers=expected_headers, json=None)",22,10
openstack%2Fkeystone~master~I8d51230c8e9b93acfb366a735faecc5b395544fa,openstack/keystone,master,I8d51230c8e9b93acfb366a735faecc5b395544fa,Imported Translations from Zanata,MERGED,2023-07-04 04:06:57.000000000,2023-07-25 13:23:47.000000000,2023-07-25 13:22:36.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 04:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/88dbf3f51bc347b343899d693aee39f3f8f41252', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}, {'number': 2, 'created': '2023-07-05 04:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec8a18e922ab928766fe3bdf7cc17e09b516a9b6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}, {'number': 3, 'created': '2023-07-06 04:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fbdec355b8f6c7853e9f8c1a166f1d55af97637b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}, {'number': 4, 'created': '2023-07-07 04:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d3ab700e8b3c8a88d08c16fb54f19b62ea5f27b9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}, {'number': 5, 'created': '2023-07-11 04:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0c06abfe1ac570798cf20f9eb7ccd744b48b1cc6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}, {'number': 6, 'created': '2023-07-12 04:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cd2c4ab527ec2188707493595b8cc96158ccbfb5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}, {'number': 7, 'created': '2023-07-20 04:46:04.000000000', 'files': ['keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/04e1b79cdde393382ffc6c7ab9462666a3ebe1b6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa\n'}]",0,887546,04e1b79cdde393382ffc6c7ab9462666a3ebe1b6,26,2,7,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8d51230c8e9b93acfb366a735faecc5b395544fa
",git fetch https://review.opendev.org/openstack/keystone refs/changes/46/887546/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,88dbf3f51bc347b343899d693aee39f3f8f41252,zanata/translations,"""POT-Creation-Date: 2023-07-03 14:34+0000\n""","""POT-Creation-Date: 2023-05-16 18:13+0000\n""msgid ""18.1.0-4"" msgstr ""18.1.0-4"" ",28,6
openstack%2Fneutron~stable%2Fwallaby~I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35,openstack/neutron,stable/wallaby,I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35,Delete sg rule which remote is the deleted sg,MERGED,2023-07-04 12:26:34.000000000,2023-07-25 13:18:23.000000000,2023-07-25 13:16:59.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 12:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98aef71c3acfd17831c583c32ed7852aab6c8d0b', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nOne version of this fix was merged:\nhttps://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nand reverted due to #2019449:\nhttps://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181\n\nThis patch is based on\nhttps://review.opendev.org/c/openstack/neutron/+/876716/1\n\nCloses-Bug: #2008712\nRelated-Bug: #2019449\nChange-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35\n(cherry picked from commit 67a0b0728788207cee27adb586880fabb8da6f25)\n'}, {'number': 2, 'created': '2023-07-05 09:41:09.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e6c64904b3cbf79849cfa289f6a8fc935442567', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nOne version of this fix was merged:\nhttps://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nand reverted due to #2019449:\nhttps://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181\n\nThis patch is based on\nhttps://review.opendev.org/c/openstack/neutron/+/876716/1\n\nConflicts in (due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nCloses-Bug: #2008712\nRelated-Bug: #2019449\nChange-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35\n(cherry picked from commit 67a0b0728788207cee27adb586880fabb8da6f25)\n'}]",6,887468,3e6c64904b3cbf79849cfa289f6a8fc935442567,25,3,2,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

One version of this fix was merged:
https://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7
and reverted due to #2019449:
https://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181

This patch is based on
https://review.opendev.org/c/openstack/neutron/+/876716/1

Conflicts in (due to notify to publish changes):
* neutron/db/securitygroups_db.py
* neutron/tests/unit/db/test_securitygroups_db.py

Closes-Bug: #2008712
Related-Bug: #2019449
Change-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35
(cherry picked from commit 67a0b0728788207cee27adb586880fabb8da6f25)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/887468/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",2,98aef71c3acfd17831c583c32ed7852aab6c8d0b,bug/2008712-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby," # If there's a rule which remote is the deleted sg, remove that also. rules = self.rcache.match_resources_with_func( 'SecurityGroupRule', lambda sg_rule: sg_rule.remote_group_id == existing.id) for rule in rules: self.rcache.record_resource_delete(context, 'SecurityGroupRule', rule.id)",,56,1
openstack%2Fkolla~master~I5a63fb283150c68c73e10c07397e0f32f6e5d079,openstack/kolla,master,I5a63fb283150c68c73e10c07397e0f32f6e5d079,Add Cinder user to the tty group,ABANDONED,2023-06-30 12:16:51.000000000,2023-07-25 13:09:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-30 12:16:51.000000000', 'files': ['docker/cinder/cinder-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2dd51cd2e93511d06239b0b371522d393d3a5076', 'message': ""Add Cinder user to the tty group\n\nWhen running cinder api under apache all its logs appear as [wsgi:error]\nentries, and in some deployments we may want to get cleaner logs and\ndecide to add to the cinder.conf file config option\n`log_file=/dev/stdout` under the `[DEFAULT]` group.\n\nDoing this may fail with:\n  PermissionError: [Errno 13] Permission denied: '/dev/stdout'\n\nRecurrently looking at permissions of /dev/stdout we find:\n\n  [cinder@cinder-api-54859ccfbd-pqxwf ~]$ ls -la /dev/stdout\n  lrwxrwxrwx. 1 root root 15 Jun 28 19:41 /dev/stdout -> /proc/self/fd/1\n\n  [cinder@cinder-api-54859ccfbd-pqxwf ~]$ ls -la /proc/self/fd/1\n  lrwx------. 1 cinder cinder 64 Jun 28 20:01 /proc/self/fd/1 -> /dev/pts/0\n\n  [cinder@cinder-api-54859ccfbd-pqxwf ~]$ ls -la /dev/pts/0\n  crw--w----. 1 root tty 136, 0 Jun 28 20:01 /dev/pts/0\n\nNon cinder API services (scheduler, volume, and backup) wont't have this\nissue because they run as root, but httpd doesn't allow to run mod_wsgi\nas root, so we are running it as the cinder user:\n\n  WSGIDaemonProcess cinder-api display-name=cinder_wsgi group=cinder processes=4 threads=1 user=cinder\n\nThis patch adds the cinder user to the group `tty`, thus allowing the\ncinder api service to log directly to stdout and avoiding the whole\n[wsgi:error].\n\nChange-Id: I5a63fb283150c68c73e10c07397e0f32f6e5d079\n""}]",0,887370,2dd51cd2e93511d06239b0b371522d393d3a5076,4,1,1,9535,,,0,"Add Cinder user to the tty group

When running cinder api under apache all its logs appear as [wsgi:error]
entries, and in some deployments we may want to get cleaner logs and
decide to add to the cinder.conf file config option
`log_file=/dev/stdout` under the `[DEFAULT]` group.

Doing this may fail with:
  PermissionError: [Errno 13] Permission denied: '/dev/stdout'

Recurrently looking at permissions of /dev/stdout we find:

  [cinder@cinder-api-54859ccfbd-pqxwf ~]$ ls -la /dev/stdout
  lrwxrwxrwx. 1 root root 15 Jun 28 19:41 /dev/stdout -> /proc/self/fd/1

  [cinder@cinder-api-54859ccfbd-pqxwf ~]$ ls -la /proc/self/fd/1
  lrwx------. 1 cinder cinder 64 Jun 28 20:01 /proc/self/fd/1 -> /dev/pts/0

  [cinder@cinder-api-54859ccfbd-pqxwf ~]$ ls -la /dev/pts/0
  crw--w----. 1 root tty 136, 0 Jun 28 20:01 /dev/pts/0

Non cinder API services (scheduler, volume, and backup) wont't have this
issue because they run as root, but httpd doesn't allow to run mod_wsgi
as root, so we are running it as the cinder user:

  WSGIDaemonProcess cinder-api display-name=cinder_wsgi group=cinder processes=4 threads=1 user=cinder

This patch adds the cinder user to the group `tty`, thus allowing the
cinder api service to log directly to stdout and avoiding the whole
[wsgi:error].

Change-Id: I5a63fb283150c68c73e10c07397e0f32f6e5d079
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/887370/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-base/Dockerfile.j2'],1,2dd51cd2e93511d06239b0b371522d393d3a5076,cinder-user-tty-group,"{{ macros.configure_user(name='cinder', groups='tty') }}",{{ macros.configure_user(name='cinder') }},1,1
openstack%2Fsushy~stable%2Fzed~I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,openstack/sushy,stable/zed,I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,Requests must always have a read/connect timeout,MERGED,2023-07-20 16:29:14.000000000,2023-07-25 13:06:13.000000000,2023-07-25 13:05:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-20 16:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1feb23f8bfcb72ce5218a7fa6a95277ae735d601', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}, {'number': 2, 'created': '2023-07-20 16:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/4082dfe1bc52b7cb8551a889c6cd65d849abfe58', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}, {'number': 3, 'created': '2023-07-20 16:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1afeee94fcb0a3167559c9217ef1b97b83735086', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}, {'number': 4, 'created': '2023-07-20 16:33:03.000000000', 'files': ['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/8ff0d10ef3e3c4f03f80e201a56818203a81c311', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}]",0,889112,8ff0d10ef3e3c4f03f80e201a56818203a81c311,10,2,4,10342,,,0,"Requests must always have a read/connect timeout

Before this change, a request to a nonresponsive BMC may have hung
forever waiting for requests to connect and read. Now, we ensure all
calls have a timeout unless explicitly disabled by the API user.

Because timeout was already an argument for _op, anyone attempting
to previously override the requests timeout (send one at all) wouldn't
have been able to for pythonic reasons.

Closes-Bug: 2021995
Change-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/12/889112/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,1feb23f8bfcb72ce5218a7fa6a95277ae735d601,," headers=self.headers, json=None, verify=True, timeout=60) verify=True, timeout=60) json=self.data, headers=self.headers, verify=True, timeout=60) json=self.data, headers=self.headers, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60) json=self.data, headers=expected_headers, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60) headers=expected_headers, json=None, verify=True, timeout=60)"," headers=self.headers, json=None, verify=True) verify=True) json=self.data, headers=self.headers, verify=True) json=self.data, headers=self.headers, verify=True) headers=expected_headers, json=None, verify=True) json=self.data, headers=expected_headers, verify=True) headers=expected_headers, json=None, verify=True) headers=expected_headers, json=None, verify=True) headers=expected_headers, json=None, verify=True)",26,13
openstack%2Fsushy~stable%2Fxena~I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,openstack/sushy,stable/xena,I76c543c6e39bab81f46a7aa00f1d38328c30cf7b,Requests must always have a read/connect timeout,MERGED,2023-07-20 17:01:15.000000000,2023-07-25 13:06:02.000000000,2023-07-25 13:05:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-07-20 17:01:15.000000000', 'files': ['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3e7e51891a9953182429847ff42db4ff3b9ede1a', 'message': ""Requests must always have a read/connect timeout\n\nBefore this change, a request to a nonresponsive BMC may have hung\nforever waiting for requests to connect and read. Now, we ensure all\ncalls have a timeout unless explicitly disabled by the API user.\n\nBecause timeout was already an argument for _op, anyone attempting\nto previously override the requests timeout (send one at all) wouldn't\nhave been able to for pythonic reasons.\n\nCloses-Bug: 2021995\nChange-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b\n""}]",0,889115,3e7e51891a9953182429847ff42db4ff3b9ede1a,7,2,1,10342,,,0,"Requests must always have a read/connect timeout

Before this change, a request to a nonresponsive BMC may have hung
forever waiting for requests to connect and read. Now, we ensure all
calls have a timeout unless explicitly disabled by the API user.

Because timeout was already an argument for _op, anyone attempting
to previously override the requests timeout (send one at all) wouldn't
have been able to for pythonic reasons.

Closes-Bug: 2021995
Change-Id: I76c543c6e39bab81f46a7aa00f1d38328c30cf7b
",git fetch https://review.opendev.org/openstack/sushy refs/changes/15/889115/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-read-and-connect-timeout-9f7dc3ed63c192c8.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,3e7e51891a9953182429847ff42db4ff3b9ede1a,," headers=self.headers, json=None, timeout=60) headers=self.headers, json=None, allow_redirects=False, timeout=60) json=self.data, headers=self.headers, timeout=60) json=self.data, headers=self.headers, timeout=60) headers=expected_headers, json=None, timeout=60) json=self.data, headers=expected_headers, timeout=60) headers=expected_headers, json=None, timeout=60) headers=expected_headers, json=None, timeout=60) headers=expected_headers, json=None, timeout=60)"," headers=self.headers, json=None) headers=self.headers, json=None, allow_redirects=False) json=self.data, headers=self.headers) json=self.data, headers=self.headers) headers=expected_headers, json=None) json=self.data, headers=expected_headers) headers=expected_headers, json=None) headers=expected_headers, json=None) headers=expected_headers, json=None)",22,10
openstack%2Fopenstack-ansible~stable%2Fzed~Ieeda83fee215443431fc6d689f1910d8b1eff2c5,openstack/openstack-ansible,stable/zed,Ieeda83fee215443431fc6d689f1910d8b1eff2c5,Re-enable CI jobs after rally is fixed,MERGED,2023-07-13 08:29:11.000000000,2023-07-25 13:05:57.000000000,2023-07-25 13:03:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-13 08:29:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/17abe18d8b45b4585734adcdddd4caeba7de3e40', 'message': 'Re-enable CI jobs after rally is fixed\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887680\nChange-Id: Ieeda83fee215443431fc6d689f1910d8b1eff2c5\n'}]",1,888437,17abe18d8b45b4585734adcdddd4caeba7de3e40,12,3,1,28619,,,0,"Re-enable CI jobs after rally is fixed

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887680
Change-Id: Ieeda83fee215443431fc6d689f1910d8b1eff2c5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/888437/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,17abe18d8b45b4585734adcdddd4caeba7de3e40,, - openstack-ansible-deploy-guide-jobs - openstack-ansible-deploy-base-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-deploy-ceph-jobs - openstack-ansible-deploy-proxy-jobs - openstack-ansible-deploy-distro_ceph-jobs, # - openstack-ansible-deploy-guide-jobs # - openstack-ansible-deploy-base-jobs # - openstack-ansible-deploy-aio_lxc-jobs # - openstack-ansible-deploy-aio_distro_lxc-jobs # - openstack-ansible-deploy-aio_metal-jobs # - openstack-ansible-deploy-aio_distro_metal-jobs # - openstack-ansible-deploy-ceph-jobs # - openstack-ansible-deploy-proxy-jobs # - openstack-ansible-deploy-distro_ceph-jobs,9,9
openstack%2Fcinder~stable%2Fvictoria~Ie2b7a163ee3a83121c04a21808ef437d740426d5,openstack/cinder,stable/victoria,Ie2b7a163ee3a83121c04a21808ef437d740426d5,Fix Infinidat driver to return all iSCSI portals,NEW,2023-06-12 21:42:39.000000000,2023-07-25 12:55:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 21:42:39.000000000', 'files': ['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c451111d4ebd6090808c15bc7dde6548b043a41b', 'message': 'Fix Infinidat driver to return all iSCSI portals\n\nInfinidat Cinder driver truncates the list of configured iSCSI\nportals and returns only the first IP for a given network space.\nAnd in case of network path failure we lose access to the data.\n\nTo fix this issue, we need to return all configured and enabled\niSCSI portals for a given configured network space.\n\nCloses-bug: #1981354\nChange-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5\nCo-authored-by: Alexander Deiter <adeiter@infinidat.com>\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)\n(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)\n(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)\n(cherry picked from commit f6b44fc201c3e679d70367fd588304d7a8cbf420)\n'}]",8,885917,c451111d4ebd6090808c15bc7dde6548b043a41b,31,1,1,35075,,,0,"Fix Infinidat driver to return all iSCSI portals

Infinidat Cinder driver truncates the list of configured iSCSI
portals and returns only the first IP for a given network space.
And in case of network path failure we lose access to the data.

To fix this issue, we need to return all configured and enabled
iSCSI portals for a given configured network space.

Closes-bug: #1981354
Change-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5
Co-authored-by: Alexander Deiter <adeiter@infinidat.com>
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)
(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)
(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)
(cherry picked from commit f6b44fc201c3e679d70367fd588304d7a8cbf420)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/885917/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,c451111d4ebd6090808c15bc7dde6548b043a41b,bug/1981354-stable/yoga-stable/xena-stable/wallaby-stable/victoria,"# Copyright 2022 Infinidat Ltd. 1.7 - fixed iSCSI to return all portals VERSION = '1.7' def _get_iscsi_portals(self, netspace): port = netspace.get_properties().iscsi_tcp_port portals = [""%s:%s"" % (interface.ip_address, port) for interface in netspace.get_ips() if interface.enabled] if portals: return portals netspace_portals = self._get_iscsi_portals(netspace) target_portals.extend(netspace_portals) target_iqns.extend([netspace.get_properties().iscsi_iqn] * len(netspace_portals)) target_luns.extend([lun] * len(netspace_portals))","# Copyright 2016 Infinidat Ltd. VERSION = '1.6' def _get_iscsi_portal(self, netspace): for netpsace_interface in netspace.get_ips(): if netpsace_interface.enabled: port = netspace.get_properties().iscsi_tcp_port return ""%s:%s"" % (netpsace_interface.ip_address, port) target_portals.append(self._get_iscsi_portal(netspace)) target_iqns.append(netspace.get_properties().iscsi_iqn) target_luns.append(lun)",197,52
openstack%2Fnova~stable%2Fwallaby~I16ed1143ead3779c87698aa29bac005678db2993,openstack/nova,stable/wallaby,I16ed1143ead3779c87698aa29bac005678db2993,Add reno for fixing bug 1941005,NEW,2022-08-16 11:30:37.000000000,2023-07-25 12:43:49.000000000,,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-16 11:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b55cdad37d4c3f7442789db8767a2c2fd1061d3', 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)\n(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)\n'}, {'number': 2, 'created': '2023-05-23 11:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95557c4cf0f8308569337e73f3c674fad3cebff2', 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)\n(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)\n'}, {'number': 3, 'created': '2023-05-23 11:35:35.000000000', 'files': ['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/63c21cf68502a6c61727d9080e13a3882b9e7c11', 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)\n(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)\n'}]",2,853275,63c21cf68502a6c61727d9080e13a3882b9e7c11,12,3,3,9708,,,0,"Add reno for fixing bug 1941005

Related-Bug: #1941005
Related-Bug: #1983753
Change-Id: I16ed1143ead3779c87698aa29bac005678db2993
(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)
(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)
(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/853275/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'],1,6b55cdad37d4c3f7442789db8767a2c2fd1061d3,bug/1941005,--- fixes: - | `Bug #1941005 <https://bugs.launchpad.net/nova/+bug/1941005>`_ is fixed. During resize Nova now uses the PCI requests from the new flavor to select the destination host. ,,6,0
openstack%2Fansible-role-zookeeper~master~Iaa81bfe9c524d9818d19019d5a09cf8e817d8396,openstack/ansible-role-zookeeper,master,Iaa81bfe9c524d9818d19019d5a09cf8e817d8396,Fix linters and metadata,MERGED,2023-07-14 18:17:13.000000000,2023-07-25 12:18:08.000000000,2023-07-25 12:17:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-14 18:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-zookeeper/commit/e41ecfa2c786fea9e703c7769f5c34c5f027d017', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223\nChange-Id: Iaa81bfe9c524d9818d19019d5a09cf8e817d8396\n""}, {'number': 2, 'created': '2023-07-18 09:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-zookeeper/commit/29e392c0c3db8a14b373549fb8014a2da343907e', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223\nChange-Id: Iaa81bfe9c524d9818d19019d5a09cf8e817d8396\n""}, {'number': 3, 'created': '2023-07-18 09:32:19.000000000', 'files': ['tasks/main.yml', 'tasks/zookeeper_pre_install.yml', 'tasks/zookeeper_install.yml', 'tasks/zookeeper_post_install.yml', 'handlers/main.yml', 'defaults/main.yml', 'vars/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-zookeeper/commit/6c783cde7865053430986a3d9477f31c45ecfc34', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223\nChange-Id: Iaa81bfe9c524d9818d19019d5a09cf8e817d8396\n""}]",1,888610,6c783cde7865053430986a3d9477f31c45ecfc34,16,3,3,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/888223
Change-Id: Iaa81bfe9c524d9818d19019d5a09cf8e817d8396
",git fetch https://review.opendev.org/openstack/ansible-role-zookeeper refs/changes/10/888610/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/zookeeper_pre_install.yml', 'tasks/zookeeper_install.yml', 'tasks/zookeeper_post_install.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml', 'vars/main.yml']",8,e41ecfa2c786fea9e703c7769f5c34c5f027d017,osa/core-2.15, {%- if hostvars[member]['ansible_host'] == ansible_host -%} {%- endif -%}, {%- if hostvars[member]['ansible_host'] == ansible_host -%} {%- endif -%},30,20
openstack%2Freleases~master~I4b021d99bd4ecc232838a3639dd8d5ef075e1a24,openstack/releases,master,I4b021d99bd4ecc232838a3639dd8d5ef075e1a24,Add a Sorting function.,MERGED,2023-07-05 11:45:27.000000000,2023-07-25 12:14:35.000000000,2023-07-25 12:14:35.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-07-05 11:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/485f8c025161fdb019e615feb3c49f24e95caa85', 'message': 'Add a Sorting function.\n\nCurrently we\'re reverse sorting with a simple sort, this sadly puts\nnewer released (antalope, bobcat) at the end of the list.  Add a\nkey function that has context around our release names and release ids\nto sort ""2024.1/cantaloupe"" at the top.\n\nChange-Id: I4b021d99bd4ecc232838a3639dd8d5ef075e1a24\n'}, {'number': 2, 'created': '2023-07-05 13:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/55e7998d0a14916bd073434429f03b7f1a089302', 'message': 'Add a Sorting function.\n\nCurrently we\'re reverse sorting with a simple sort, this sadly puts\nnewer released (antalope, bobcat) at the end of the list.  Add a\nkey function that has context around our release names and release ids\nto sort ""2024.1/cantaloupe"" at the top.\n\nChange-Id: I4b021d99bd4ecc232838a3639dd8d5ef075e1a24\n'}, {'number': 3, 'created': '2023-07-12 06:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f9a8f983c72749becd0b0ebff4c1d503cf89deaa', 'message': 'Add a Sorting function.\n\nCurrently we\'re reverse sorting with a simple sort, this sadly puts\nnewer released (antalope, bobcat) at the end of the list.  Add a\nkey function that has context around our release names and release ids\nto sort ""2024.1/cantaloupe""[1] at the top.\n\n[1] As of now the c name isn\'t selected cantaloupe is my placeholder\n\nChange-Id: I4b021d99bd4ecc232838a3639dd8d5ef075e1a24\n'}, {'number': 4, 'created': '2023-07-13 06:39:39.000000000', 'files': ['doc/source/_exts/deliverables.py', 'openstack_releases/tests/test_sorting.py', 'openstack_releases/series_sorting.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/4f5ae35e15da937322d31b123bbbc18986f63ea8', 'message': 'Add a Sorting function.\n\nCurrently we\'re reverse sorting with a simple sort, this sadly puts\nnewer released (antalope, bobcat) at the end of the list.  Add a\nkey function that has context around our release names and release ids\nto sort ""2024.1/cantaloupe""[1] at the top.\n\n[1] As of now the c name isn\'t selected cantaloupe is my placeholder\n\nChange-Id: I4b021d99bd4ecc232838a3639dd8d5ef075e1a24\n'}]",16,887691,4f5ae35e15da937322d31b123bbbc18986f63ea8,19,5,4,12898,,,0,"Add a Sorting function.

Currently we're reverse sorting with a simple sort, this sadly puts
newer released (antalope, bobcat) at the end of the list.  Add a
key function that has context around our release names and release ids
to sort ""2024.1/cantaloupe""[1] at the top.

[1] As of now the c name isn't selected cantaloupe is my placeholder

Change-Id: I4b021d99bd4ecc232838a3639dd8d5ef075e1a24
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/887691/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/deliverables.py', 'openstack_releases/series_sorting.py']",2,485f8c025161fdb019e615feb3c49f24e95caa85,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. def keyfunc(series_name): series_data = [ [""austin"", ""bexar"", ""cactus"", ""diablo"", ""essex"", ""folsom"", ""grizzly"", ""havana"", ""icehouse"", ""juno"", ""kilo"", ""liberty"", ""mitaka"", ""newton"", ""ocata"", ""pike"", ""queens"", ""rocky"", ""stein"", ""train"", ""ussuri"", ""victoria"", ""wallaby"", ""xena"", ""yoga"", ""zed""], # [""antalope"", bobcat, etc etc etc], ] assert series_name.isascii() # NOTE(tonyb): Create a private copy to avoid mutating input variable _series_name = series_name.lower() for series_nr, series_names in enumerate(series_data): if _series_name in series_names: series_idx = series_names.index(_series_name) break else: if _series_name[0].isalpha(): series_nr += 1 series_idx = ord(_series_name[0]) - ord(""a"") elif _series_name[0].isdigit(): (year, release) = map(int, _series_name.split(""."")) # This arithmetic comes from the fact that we started using # semver(ish) after we completed a full list of the alphabet. # This happened with the 2023.1 release. # Releases ""austin"" -> ""zed"" are 0 -> 25 so 2023.1 is the 26th # OpenStack release (series_nr, series_idx) = \ divmod(26 + ((year-2023)*2 + (release-1)), 26) else: assert False # TODO(tonyb): Do we want to switch this to aa_austin, ba_2023.1 to force # a stable sort order return series_nr * 26 + series_idx ",,49,1
openstack%2Fbarbican~master~Ibe0cfb66cc7199c9024abd780ae56282282a25a8,openstack/barbican,master,Ibe0cfb66cc7199c9024abd780ae56282282a25a8,Imported Translations from Zanata,MERGED,2023-06-18 02:29:40.000000000,2023-07-25 12:12:21.000000000,2023-07-25 12:11:08.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-18 02:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/30d092ffec05f0cdd036c62345b74024d5fc90e1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibe0cfb66cc7199c9024abd780ae56282282a25a8\n'}, {'number': 2, 'created': '2023-07-05 04:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/626fc9f3c787ed7ce6e6a4d6b00fc40638db741d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibe0cfb66cc7199c9024abd780ae56282282a25a8\n'}, {'number': 3, 'created': '2023-07-08 04:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3ecde81ab12367757f1fd7aa27adebec77c8a22e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibe0cfb66cc7199c9024abd780ae56282282a25a8\n'}, {'number': 4, 'created': '2023-07-22 03:20:12.000000000', 'files': ['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/fb9e98577ff3955534d36d530c962ecdff6386fb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibe0cfb66cc7199c9024abd780ae56282282a25a8\n'}]",0,886309,fb9e98577ff3955534d36d530c962ecdff6386fb,14,3,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibe0cfb66cc7199c9024abd780ae56282282a25a8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/09/886309/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,30d092ffec05f0cdd036c62345b74024d5fc90e1,zanata/translations,"""POT-Creation-Date: 2023-06-07 10:59+0000\n""""PO-Revision-Date: 2023-06-17 02:35+0000\n""msgid ""16.0.0-10"" msgstr ""16.0.0-10""""System scope has been removed from the RBAC policies as specified in the "" ""Consistent and Secure Default RBAC community goal. See: https://governance."" ""openstack.org/tc/goals/selected/consistent-and-secure-rbac.html APIs that "" ""required system scoped tokens can now be accessed by using a project scoped "" ""token with the \""admin\"" role."" msgstr """" ""System scope has been removed from the RBAC policies as specified in the "" ""Consistent and Secure Default RBAC community goal. See: https://governance."" ""openstack.org/tc/goals/selected/consistent-and-secure-rbac.html APIs that "" ""required system-scoped tokens can now be accessed by using a project-scoped "" ""token with the \""admin\"" role."" msgid """"","""POT-Creation-Date: 2023-04-20 13:57+0000\n""""PO-Revision-Date: 2023-05-08 09:54+0000\n""msgid ""16.0.0-7"" msgstr ""16.0.0-7""",17,4
openstack%2Fkeystonemiddleware~master~I8016ba267c9c72132c49a07aa15f28d068ebebd1,openstack/keystonemiddleware,master,I8016ba267c9c72132c49a07aa15f28d068ebebd1,Imported Translations from Zanata,MERGED,2022-10-17 03:28:23.000000000,2023-07-25 12:08:48.000000000,2023-07-25 12:07:44.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 03:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e136d12b069f21bab4c1fa7055ee1c2bf4b1f52e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 2, 'created': '2022-12-16 03:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b3c76a302339e7cd6b9bcedd5fcac135cdac1868', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 3, 'created': '2022-12-20 02:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/df28572d0dc9fd9b19ad455110a24d424b58a6db', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 4, 'created': '2023-03-01 03:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/334fa60050a5788e6c6388a70eeb0761ac71f4c1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 5, 'created': '2023-03-04 03:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6789f6962bf11ffd0135090285a923d7c9f68719', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 6, 'created': '2023-05-09 03:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3b86b4c4748c47baa6e7ff67456228332d4b13e8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 7, 'created': '2023-05-27 02:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f97a912221c5fe72cc84491f037501089a425718', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 8, 'created': '2023-06-28 04:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b04d99491d2a230d758cba13fe5fa8dcdfbe6a3b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 9, 'created': '2023-06-29 03:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/af7c9cc547e1aceb8f3510e485ba540f2be2a415', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}, {'number': 10, 'created': '2023-07-01 03:55:37.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/fe644edbc5e54d3e0ae552a1a5d0b8088506cdc7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1\n'}]",0,861552,fe644edbc5e54d3e0ae552a1a5d0b8088506cdc7,27,5,10,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8016ba267c9c72132c49a07aa15f28d068ebebd1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/52/861552/7 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,e136d12b069f21bab4c1fa7055ee1c2bf4b1f52e,zanata/translations,"""POT-Creation-Date: 2022-09-16 17:43+0000\n""""PO-Revision-Date: 2022-10-16 10:45+0000\n""msgid ""10.1.0"" msgstr ""10.1.0""","""POT-Creation-Date: 2022-08-26 17:13+0000\n""""PO-Revision-Date: 2022-09-05 10:38+0000\n""msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""10.0.0-3"" msgstr ""10.0.0-3""msgid """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgstr """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" ",4,14
openstack%2Fvenus~master~I0422e02137f55346f2695d977c71fd92e9bb68d3,openstack/venus,master,I0422e02137f55346f2695d977c71fd92e9bb68d3,anomaly detect: add api (delete record),MERGED,2023-07-25 10:54:15.000000000,2023-07-25 11:21:07.000000000,2023-07-25 11:20:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-25 10:54:15.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/6f6770dd6b3cb8b9672b5b1a261d43854649459d', 'message': 'anomaly detect: add api (delete record)\n\nChange-Id: I0422e02137f55346f2695d977c71fd92e9bb68d3\n'}]",0,889273,6f6770dd6b3cb8b9672b5b1a261d43854649459d,7,2,1,27565,,,0,"anomaly detect: add api (delete record)

Change-Id: I0422e02137f55346f2695d977c71fd92e9bb68d3
",git fetch https://review.opendev.org/openstack/venus refs/changes/73/889273/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,6f6770dd6b3cb8b9672b5b1a261d43854649459d,," def delete_record(self, id): res = self.sql.delete_record(id) return res",,19,0
openstack%2Fopenstack-ansible-plugins~master~I0790e4a29cb9378dac126149554f936d80fe707c,openstack/openstack-ansible-plugins,master,I0790e4a29cb9378dac126149554f936d80fe707c,Allow to define cloud name for service_setup,MERGED,2023-07-21 10:17:22.000000000,2023-07-25 11:15:27.000000000,2023-07-25 11:14:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-21 10:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/ba6dcd80b6d6b4a9630e00fa073e2022d7cb38e1', 'message': 'Allow to define cloud name for service_setup\n\nAt the moment there is no way to override cloud name for service_setup\nwhich might be useful for usage of the role outside of the OSA setup.\n\nThis intorduce `service_cloud_name`  variable for this purpose.\n\nChange-Id: I0790e4a29cb9378dac126149554f936d80fe707c\n'}, {'number': 2, 'created': '2023-07-21 10:17:41.000000000', 'files': ['roles/service_setup/tasks/main.yml', 'roles/service_setup/tasks/setup_roles.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/1e46752752e5fb5b714e35e289351bf7afd4dad4', 'message': 'Allow to define cloud name for service_setup\n\nAt the moment there is no way to override cloud name for service_setup\nwhich might be useful for usage of the role outside of the OSA setup.\n\nThis intorduce `service_cloud_name`  variable for this purpose.\n\nChange-Id: I0790e4a29cb9378dac126149554f936d80fe707c\n'}]",1,889167,1e46752752e5fb5b714e35e289351bf7afd4dad4,13,3,2,28619,,,0,"Allow to define cloud name for service_setup

At the moment there is no way to override cloud name for service_setup
which might be useful for usage of the role outside of the OSA setup.

This intorduce `service_cloud_name`  variable for this purpose.

Change-Id: I0790e4a29cb9378dac126149554f936d80fe707c
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/67/889167/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/service_setup/tasks/main.yml', 'roles/service_setup/tasks/setup_roles.yml']",2,ba6dcd80b6d6b4a9630e00fa073e2022d7cb38e1,," cloud: ""{{ _service_cloud_name }}"" cloud: ""{{ _service_cloud_name }}"" cloud: ""{{ _service_cloud_name }}"" cloud: ""{{ _service_cloud_name }}""", cloud: default cloud: default cloud: default cloud: default,10,9
openstack%2Fvenus~master~I3bae12453161b4e82da481a9dbd13a7d64e598b1,openstack/venus,master,I3bae12453161b4e82da481a9dbd13a7d64e598b1,anomaly detect: add api (get record list),MERGED,2023-07-25 09:56:33.000000000,2023-07-25 10:53:19.000000000,2023-07-25 10:52:23.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-25 09:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/3b4ac56e0843ca454a006c67ac46401b75f07cfd', 'message': 'anomaly detect: add api (get record list)\n\nChange-Id: I3bae12453161b4e82da481a9dbd13a7d64e598b1\n'}, {'number': 2, 'created': '2023-07-25 10:15:15.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/fc3732231e862105e61dae3e8f199b5ef004c957', 'message': 'anomaly detect: add api (get record list)\n\nChange-Id: I3bae12453161b4e82da481a9dbd13a7d64e598b1\n'}]",1,889272,fc3732231e862105e61dae3e8f199b5ef004c957,9,2,2,27565,,,0,"anomaly detect: add api (get record list)

Change-Id: I3bae12453161b4e82da481a9dbd13a7d64e598b1
",git fetch https://review.opendev.org/openstack/venus refs/changes/72/889272/2 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,3b4ac56e0843ca454a006c67ac46401b75f07cfd,," def get_record_list(self, params): res = self.sql.get_record_list(self, params) return res",,55,0
openstack%2Ftooz~master~I36c80f882a91cd1c63d5a3bc2d1d8cb50f6637c6,openstack/tooz,master,I36c80f882a91cd1c63d5a3bc2d1d8cb50f6637c6,Fix: Add timeout for mysql driver,MERGED,2023-07-10 04:03:40.000000000,2023-07-25 10:51:23.000000000,2023-07-25 10:50:18.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-07-10 04:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/74a1b78ffbcf94d535fe4b0bcfb21bc532a1fc6f', 'message': ""Fix: Add timeout for mysql driver\n\nThe issue with current one is we try to use blocking as timeout\nprovider.\nThat make the timeout setting in mysql bindled with blocking.\nAnd the lock can't served with scenario that when we don't need timeout\nblocking but still timeout required.\n\nChange-Id: I36c80f882a91cd1c63d5a3bc2d1d8cb50f6637c6\n""}, {'number': 2, 'created': '2023-07-10 14:56:26.000000000', 'files': ['tooz/drivers/mysql.py', 'tooz/tests/test_mysql.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/bed303e9b47b5aef3a9e2d6a5da4b5891e9e6689', 'message': ""Fix: Add timeout for mysql driver\n\nThe issue with current one is we try to use blocking as timeout\nprovider.\nThat make the timeout setting in mysql bound with blocking.\nAnd the lock can't served with scenario that when we don't need timeout\nblocking but still timeout required.\n\nChange-Id: I36c80f882a91cd1c63d5a3bc2d1d8cb50f6637c6\n""}]",6,888016,bed303e9b47b5aef3a9e2d6a5da4b5891e9e6689,12,5,2,12404,,,0,"Fix: Add timeout for mysql driver

The issue with current one is we try to use blocking as timeout
provider.
That make the timeout setting in mysql bound with blocking.
And the lock can't served with scenario that when we don't need timeout
blocking but still timeout required.

Change-Id: I36c80f882a91cd1c63d5a3bc2d1d8cb50f6637c6
",git fetch https://review.opendev.org/openstack/tooz refs/changes/16/888016/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/mysql.py', 'tooz/tests/test_mysql.py']",2,74a1b78ffbcf94d535fe4b0bcfb21bc532a1fc6f,fix-mysql-timeout,," @mock.patch(""pymysql.Connect"") def test_parsing_timeout_settings(self, sql_mock): c = self._create_coordinator(""mysql://localhost:3306/test"") c.start() name = tests.get_random_uuid() blocking_value = 10.12 lock = c.get_lock(name) with mock.patch.object(lock, 'acquire', wraps=True, autospec=True) as \ mock_acquire: with lock(blocking_value): mock_acquire.assert_called_once_with(blocking_value)",2,17
openstack%2Fcinder~stable%2Fyoga~Ibda3a09a181160b8ee9129795429a7f1795e907d,openstack/cinder,stable/yoga,Ibda3a09a181160b8ee9129795429a7f1795e907d,Fix Infinidat driver multi-attach feature,NEW,2023-07-24 14:32:21.000000000,2023-07-25 10:31:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-24 14:32:21.000000000', 'files': ['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d99c990ba16e2e1d89c8ba6d90a29f64bd54f983', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)\n(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)\n'}]",55,889239,d99c990ba16e2e1d89c8ba6d90a29f64bd54f983,11,1,1,35075,,,0,"Fix Infinidat driver multi-attach feature

Added a check if there are multiple attachments to the volume
from the same connector and terminate connection only for the
last attachment from the corresponding host.

Closes-bug: #1982350
Change-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)
(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/889239/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",4,d99c990ba16e2e1d89c8ba6d90a29f64bd54f983,infinidat-add-local-volume-migration-stable/zed-stable/yoga,"<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl)======= 1.8 - added revert to snapshot 1.9 - added manage/unmanage/manageable-list volume/snapshot 1.10 - added support for TLS/SSL communication 1.11 - fixed generic volume migration 1.12 - fixed volume multi-attach >>>>>>> CHANGE (8e5330 Fix Infinidat driver multi-attach feature)<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl)======= VERSION = '1.12' >>>>>>> CHANGE (8e5330 Fix Infinidat driver multi-attach feature) def _is_volume_multiattached(self, volume, connector): """"""Returns whether the volume is multiattached. Check if there are multiple attachments to the volume from the same connector. Terminate connection only for the last attachment from the corresponding host. """""" if not (connector and volume.multiattach and volume.volume_attachment): return False keys = ['system uuid'] if self._protocol == constants.FC: keys.append('wwpns') else: keys.append('initiator') for key in keys: if not (key in connector and connector[key]): continue if sum(1 for attachment in volume.volume_attachment if attachment.connector and key in attachment.connector and attachment.connector[key] == connector[key]) > 1: LOG.debug('Volume %s is multiattached to %s %s', volume.name_id, key, connector[key]) return True return False if self._is_volume_multiattached(volume, connector): return True<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl)======= if self._protocol == constants.FC: conn_info = dict(driver_volume_type=volume_type, data=result_data) >>>>>>> CHANGE (8e5330 Fix Infinidat driver multi-attach feature) return volume.volume_attachment and len(volume.volume_attachment) > 1<<<<<<< HEAD (3f254a Merge ""Add a check for virtual_size at API layer"" into stabl)======= clone = mock.Mock(name_id=str(volume.name_id) + '-internal', multiattach=False, volume_attachment=[]) >>>>>>> CHANGE (8e5330 Fix Infinidat driver multi-attach feature)", return conn_info,477,6
openstack%2Fneutron~master~Ib81f2c36a93f08844a629f165d2323bf1198d465,openstack/neutron,master,Ib81f2c36a93f08844a629f165d2323bf1198d465,[sqlalchemy-20] Replace Query.get() with Session.get(),MERGED,2023-07-19 15:04:49.000000000,2023-07-25 10:30:41.000000000,2023-07-25 10:29:09.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-19 15:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc7afbcef71f3fd2e25e145c848ac0ea52c319db', 'message': '[DNM][WIP] [sqlalchemy-20] Replace Query.get() with Session.get()\n\nThe Query.get() method is considered legacy as of the 1.x series of\nSQLAlchemy and becomes a legacy construct in 2.0. This should be\nreplaced with Session.get() method.\n\nCloses-Bug: #2027604\nChange-Id: Ib81f2c36a93f08844a629f165d2323bf1198d465\n'}, {'number': 2, 'created': '2023-07-19 15:05:09.000000000', 'files': ['neutron/plugins/ml2/driver_context.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aeb8036393f46f9644ee996fa8e91467480f970f', 'message': '[sqlalchemy-20] Replace Query.get() with Session.get()\n\nThe Query.get() method is considered legacy as of the 1.x series of\nSQLAlchemy and becomes a legacy construct in 2.0. This should be\nreplaced with Session.get() method.\n\nCloses-Bug: #2027604\nChange-Id: Ib81f2c36a93f08844a629f165d2323bf1198d465\n'}]",9,888932,aeb8036393f46f9644ee996fa8e91467480f970f,40,6,2,16688,,,0,"[sqlalchemy-20] Replace Query.get() with Session.get()

The Query.get() method is considered legacy as of the 1.x series of
SQLAlchemy and becomes a legacy construct in 2.0. This should be
replaced with Session.get() method.

Closes-Bug: #2027604
Change-Id: Ib81f2c36a93f08844a629f165d2323bf1198d465
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/888932/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/driver_context.py'],1,cc7afbcef71f3fd2e25e145c848ac0ea52c319db,bug/2027604," db_obj = session.get(self._model_class, self._identity_key)", db_obj = session.query(self._model_class).get(self._identity_key),1,1
openstack%2Fopenstacksdk~master~I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2,openstack/openstacksdk,master,I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2,Adds share group resource to shared file system,MERGED,2023-04-05 20:21:16.000000000,2023-07-25 09:55:30.000000000,2023-07-25 09:54:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-04-05 20:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/22132ff6d37d5d67325fe94f543050313ff4bcd8', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 2, 'created': '2023-04-06 18:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9681c63673fed55bef432332e7c97c9bddf1e96b', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 3, 'created': '2023-04-10 16:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d20afecf050c620522493217d1a24d9ddb31bbf', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 4, 'created': '2023-04-10 17:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/111940d0980fffe451b793fb871d15d435e7f8eb', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 5, 'created': '2023-04-10 22:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cfffd8b9e28e166bc5c8a4b87d8c928f026501ba', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 6, 'created': '2023-04-10 22:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e04de8f652d34606e11f7bf7bf514227893e090', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 7, 'created': '2023-04-27 13:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/35dd4df87991bb1d72e671d2f5e882c7e7ea01cd', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 8, 'created': '2023-06-21 18:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/44c49298a799f781727abf1731dd19eb99bbdaee', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 9, 'created': '2023-07-05 21:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/70ddc55fe56a3be7407e51e72b2e841869be051a', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}, {'number': 10, 'created': '2023-07-05 22:08:35.000000000', 'files': ['openstack/shared_file_system/v2/share_group.py', 'doc/source/user/resources/shared_file_system/v2/share_group.rst', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'openstack/tests/functional/shared_file_system/test_share_group.py', 'openstack/tests/unit/shared_file_system/v2/test_share_group.py', 'releasenotes/notes/add-share_group-to-shared-file-8cee20d8aa2afbb7.yaml', 'doc/source/user/resources/shared_file_system/index.rst', 'openstack/tests/functional/shared_file_system/base.py', 'openstack/shared_file_system/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0017ffb050e6df0df28716d32e2b6b03e145a4b6', 'message': 'Adds share group resource to shared file system\n\nIntroduce Share groups class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2\n'}]",36,879685,0017ffb050e6df0df28716d32e2b6b03e145a4b6,30,3,10,29632,,,0,"Adds share group resource to shared file system

Introduce Share groups class with basic methods
including list, create, delete, get and update to
shared file system service.

Change-Id: I7d7e4e7addc1c1b040276e10f8152bc0adb8eeb2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/85/879685/7 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/shared_file_system/v2/share_group.py', 'doc/source/user/resources/shared_file_system/v2/share_group.rst', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'openstack/tests/functional/shared_file_system/test_share_group.py', 'doc/source/user/resources/shared_file_system/index.rst', 'openstack/tests/unit/shared_file_system/v2/test_share_group.py', 'releasenotes/notes/add-share_group-to-shared-file-8cee20d8aa2afbb7.yaml', 'openstack/tests/functional/shared_file_system/base.py', 'openstack/shared_file_system/v2/_proxy.py']",10,22132ff6d37d5d67325fe94f543050313ff4bcd8,," share_group as _share_group ) from openstack.shared_file_system.v2 import ( def share_groups(self, **query): """"""Lists all share groups. :param kwargs query: Optional query parameters to be sent to limit the share groups being returned. Available parameters include: * status: Filters by a share group status. * name: The user defined name of the resource to filter resources by. * description: The user defined description text that can be used to filter resources. * project_id: The project ID of the user or service. * share_server_id: The UUID of the share server. * snapshot_id: The UUID of the shares base snapshot to filter the request based on. * host: The host name for the back end. * share_network_id: The UUID of the share network to filter resources by. * share_group_type_id: The share group type ID to filter share groups. * share_group_snapshot_id: The source share group snapshot ID to list the share group. * share_types: A list of one or more share type IDs. Allows filtering share groups. * limit: The maximum number of share groups members to return. * offset: The offset to define start point of share or share group listing. * sort_key: The key to sort a list of shares. * sort_dir: The direction to sort a list of shares * name~: The name pattern that can be used to filter shares, share snapshots, share networks or share groups. * description~: The description pattern that can be used to filter shares, share snapshots, share networks or share groups. :returns: A generator of manila share group resources :rtype: :class:`~openstack.shared_file_system.v2. share_group.ShareGroup` """""" return self._list( _share_group.ShareGroup, **query) def get_share_group(self, share_group_id): """"""Lists details for a share group. :param share: The ID of the share group to get :returns: Details of the identified share group :rtype: :class:`~openstack.shared_file_system.v2. share_group.ShareGroup` """""" return self._get(_share_group.ShareGroup, share_group_id) def find_share_group(self, name_or_id, ignore_missing=True): """"""Finds a single share group :param name_or_id: The name or ID of a share group. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.shared_file_system.v2. share_group.ShareGroup` or None """""" return self._find(_share_group.ShareGroup, name_or_id, ignore_missing=ignore_missing) def create_share_group(self, **attrs): """"""Creates a share group from attributes :returns: Details of the new share group :rtype: :class:`~openstack.shared_file_system.v2. share_group.ShareGroup` """""" return self._create(_share_group.ShareGroup, **attrs) def update_share_group(self, share_group_id, **kwargs): """"""Updates details of a single share group :param share: The ID of the share group :returns: Updated details of the identified share group :rtype: :class:`~openstack.shared_file_system.v2. share_group.ShareGroup` """""" return self._update( _share_group.ShareGroup, share_group_id, **kwargs) def delete_share_group(self, share_group_id, ignore_missing=True): """"""Deletes a single share group :param share: The ID of the share group :returns: Result of the ""delete"" on share group :rtype: :class:`~openstack.shared_file_system.v2. share_group.ShareGroup` """""" return self._delete( _share_group.ShareGroup, share_group_id, ignore_missing=ignore_missing) ",,389,0
openstack%2Fskyline-console~master~I9f0b660fa5457b56f1c5f2d4897e2c4513a3dd5a,openstack/skyline-console,master,I9f0b660fa5457b56f1c5f2d4897e2c4513a3dd5a,fix: update policy for project roles,MERGED,2023-07-25 03:21:19.000000000,2023-07-25 09:43:53.000000000,2023-07-25 09:42:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-07-25 03:21:19.000000000', 'files': ['src/pages/identity/containers/Project/actions/ManageUser.jsx', 'src/pages/identity/containers/Project/actions/ManageUserGroup.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1f5940fd1164c6d6435b6470221c1ee0f8a77704', 'message': 'fix: update policy for project roles\n\n1. update policy for project manage users\n2. update policy for project manage user groups\n\nChange-Id: I9f0b660fa5457b56f1c5f2d4897e2c4513a3dd5a\n'}]",1,889371,1f5940fd1164c6d6435b6470221c1ee0f8a77704,11,2,1,30434,,,0,"fix: update policy for project roles

1. update policy for project manage users
2. update policy for project manage user groups

Change-Id: I9f0b660fa5457b56f1c5f2d4897e2c4513a3dd5a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/71/889371/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/Project/actions/ManageUser.jsx', 'src/pages/identity/containers/Project/actions/ManageUserGroup.jsx']",2,1f5940fd1164c6d6435b6470221c1ee0f8a77704,bugs," static policy = ['identity:create_grant', 'identity:revoke_grant'];", static policy = 'identity:update_project';,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I078379c0d2e39a2f0b694a9a9d8fb43d10ff7374,openstack/tripleo-heat-templates,stable/wallaby,I078379c0d2e39a2f0b694a9a9d8fb43d10ff7374,Rsyncd should listen only on the storagemgmt network,ABANDONED,2023-06-05 12:24:52.000000000,2023-07-25 09:30:58.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 12:24:52.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d77c737557207c39e74021dc3640471d4e7cf5ad', 'message': 'Rsyncd should listen only on the storagemgmt network\n\nRsyncd should listen only on the storagemgmt network\nDepends-on: https://review.opendev.org/c/openstack/puppet-swift/+/885280\n\nChange-Id: I078379c0d2e39a2f0b694a9a9d8fb43d10ff7374\n'}]",3,885281,d77c737557207c39e74021dc3640471d4e7cf5ad,5,2,1,7130,,,0,"Rsyncd should listen only on the storagemgmt network

Rsyncd should listen only on the storagemgmt network
Depends-on: https://review.opendev.org/c/openstack/puppet-swift/+/885280

Change-Id: I078379c0d2e39a2f0b694a9a9d8fb43d10ff7374
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/885281/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,d77c737557207c39e74021dc3640471d4e7cf5ad,swift," swift::storage::all::hosts_allow: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, SwiftStorageNetwork]}",,6,0
openstack%2Ftripleo-heat-templates~master~Icb670131637e053de4a5f6372da25612beddd0cd,openstack/tripleo-heat-templates,master,Icb670131637e053de4a5f6372da25612beddd0cd,Rsyncd should listen only on the storagemgmt network,ABANDONED,2023-07-04 20:47:41.000000000,2023-07-25 09:29:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-04 20:47:41.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7a449c3d4c989107020e283ac1ceb7f626fff66', 'message': 'Rsyncd should listen only on the storagemgmt network\n\nRsyncd should listen only on the storagemgmt network\nDepends-on: https://review.opendev.org/c/openstack/puppet-swift/+/885280\n\nChange-Id: Icb670131637e053de4a5f6372da25612beddd0cd\n'}]",1,887644,c7a449c3d4c989107020e283ac1ceb7f626fff66,4,1,1,7130,,,0,"Rsyncd should listen only on the storagemgmt network

Rsyncd should listen only on the storagemgmt network
Depends-on: https://review.opendev.org/c/openstack/puppet-swift/+/885280

Change-Id: Icb670131637e053de4a5f6372da25612beddd0cd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/887644/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,c7a449c3d4c989107020e283ac1ceb7f626fff66,," swift::storage::all::hosts_allow: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, SwiftStorageNetwork]}",,6,0
openstack%2Fopenstack-ansible-os_manila~stable%2Fzed~If3757269213246f3f54769e12bc93cdc50fe93e1,openstack/openstack-ansible-os_manila,stable/zed,If3757269213246f3f54769e12bc93cdc50fe93e1,"Don't install zlibc, it was removed from Debian",MERGED,2023-07-24 17:37:46.000000000,2023-07-25 09:29:32.000000000,2023-07-25 09:28:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-24 17:37:46.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/ed350049eec3dfc4f66aad7b4a31c639e91b7e17', 'message': ""Don't install zlibc, it was removed from Debian\n\nChange-Id: If3757269213246f3f54769e12bc93cdc50fe93e1\n(cherry picked from commit e29058b48e3d239d0b61ef2cff1b45c2e11794fc)\n""}]",0,889346,ed350049eec3dfc4f66aad7b4a31c639e91b7e17,8,3,1,13095,,,0,"Don't install zlibc, it was removed from Debian

Change-Id: If3757269213246f3f54769e12bc93cdc50fe93e1
(cherry picked from commit e29058b48e3d239d0b61ef2cff1b45c2e11794fc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/46/889346/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,ed350049eec3dfc4f66aad7b4a31c639e91b7e17,dont-install-zlibc-stable/zed,, - zlibc,0,1
openstack%2Fnova~master~Ifaca903a333b0b39ae87e6dc152b8fb2ec849989,openstack/nova,master,Ifaca903a333b0b39ae87e6dc152b8fb2ec849989,Use Cinder's os-extend_volume_completion volume action.,NEW,2023-02-13 13:11:33.000000000,2023-07-25 09:28:53.000000000,,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-13 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47d310607456be23e275d51248e75d5e0736bc3f', 'message': ""Use Cinder's os-extend_volume_completion volume action.\n\nIf Nova receives a volume-extended external server event and the status\nof the extended volume is 'extending', it will notify Cinder of success or\nfailure when handling the event using the new os-extend_volume_completion\nvolume action.\n\nImplements: bp/assisted-volume-extend\nDepends-On: Ifdeab1a8cd634bbe63c25fae17448c0789b297c9\nChange-Id: Ifaca903a333b0b39ae87e6dc152b8fb2ec849989\n""}, {'number': 2, 'created': '2023-03-28 09:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f20485982e568dcd163f7b0da8a7ac3c3109b01e', 'message': ""Use Cinder's os-extend_volume_completion volume action.\n\nIf Nova receives a volume-extended external server event and the status\nof the extended volume is 'extending', it will notify Cinder of success or\nfailure when handling the event using the new os-extend_volume_completion\nvolume action.\n\nImplements: bp/assisted-volume-extend\nDepends-On: Ifdeab1a8cd634bbe63c25fae17448c0789b297c9\nChange-Id: Ifaca903a333b0b39ae87e6dc152b8fb2ec849989\n""}, {'number': 3, 'created': '2023-07-25 07:40:42.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/volume/cinder.py', 'nova/api/openstack/compute/server_external_events.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/compute/manager.py', 'releasenotes/notes/bp-assisted-volume-extend-4c6bafb10135b463.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9232ecd203abe1ad1bc38cd8bb394c584ff6ce9', 'message': ""Use Cinder's os-extend_volume_completion volume action.\n\nIf Nova receives a volume-extended external server event and the status\nof the extended volume is 'extending', it will notify Cinder of success or\nfailure when handling the event using the new os-extend_volume_completion\nvolume action.\n\nImplements: bp/assisted-volume-extend\nDepends-On: Ifdeab1a8cd634bbe63c25fae17448c0789b297c9\nChange-Id: Ifaca903a333b0b39ae87e6dc152b8fb2ec849989\n""}]",24,873560,e9232ecd203abe1ad1bc38cd8bb394c584ff6ce9,24,3,3,34859,,,0,"Use Cinder's os-extend_volume_completion volume action.

If Nova receives a volume-extended external server event and the status
of the extended volume is 'extending', it will notify Cinder of success or
failure when handling the event using the new os-extend_volume_completion
volume action.

Implements: bp/assisted-volume-extend
Depends-On: Ifdeab1a8cd634bbe63c25fae17448c0789b297c9
Change-Id: Ifaca903a333b0b39ae87e6dc152b8fb2ec849989
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/873560/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/volume/cinder.py', 'nova/api/openstack/compute/server_external_events.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/compute/manager.py', 'nova/compute/api.py']",9,47d310607456be23e275d51248e75d5e0736bc3f,bp/extend-volume-completion-action,"MIN_COMPUTE_EXTEND_VOLUME_COMPLETION = 67 def external_instance_event(self, api_context, instances, events, extend_completion=False): if extend_completion: # If the requested API version supports sending the extend # completion, we need to make sure that compute also # supports it. min_ver = objects.service.get_minimum_version_all_cells( nova_context.get_admin_context(), ['nova-compute']) if min_ver < MIN_COMPUTE_EXTEND_VOLUME_COMPLETION: volume = event.tag LOG.warning(""TODO"") cinder.extend_volume_completion(volume, error=True) continue "," def external_instance_event(self, api_context, instances, events):",272,33
openstack%2Fkolla-ansible~master~I0b437a77aeb61bc5ae9238f900a1fa00cbc34e18,openstack/kolla-ansible,master,I0b437a77aeb61bc5ae9238f900a1fa00cbc34e18,Fix OpenSearch Dashboards health check,MERGED,2023-07-21 15:55:06.000000000,2023-07-25 09:14:39.000000000,2023-07-25 09:13:23.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 26285}, {'_account_id': 32553}, {'_account_id': 35263}, {'_account_id': 35264}]","[{'number': 1, 'created': '2023-07-21 15:55:06.000000000', 'files': ['releasenotes/notes/fix-os-dashboards-health-check-bf56027f8c3369ea.yaml', 'ansible/roles/opensearch/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bacd6c7f4ff6788feb75a6abc4339e29684195ab', 'message': 'Fix OpenSearch Dashboards health check\n\nThe OpenSearch Dashboards container does not have a health\ncheck defined when created. This causes the container to always\nrestart when reconfigured, even if no change has been made.\n\nChange-Id: I0b437a77aeb61bc5ae9238f900a1fa00cbc34e18\nPartial-Bug: #2028362\n'}]",2,889189,bacd6c7f4ff6788feb75a6abc4339e29684195ab,13,7,1,17669,,,0,"Fix OpenSearch Dashboards health check

The OpenSearch Dashboards container does not have a health
check defined when created. This causes the container to always
restart when reconfigured, even if no change has been made.

Change-Id: I0b437a77aeb61bc5ae9238f900a1fa00cbc34e18
Partial-Bug: #2028362
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/889189/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-os-dashboards-health-check-bf56027f8c3369ea.yaml', 'ansible/roles/opensearch/handlers/main.yml']",2,bacd6c7f4ff6788feb75a6abc4339e29684195ab,," healthcheck: ""{{ service.healthcheck | default(omit) }}""",,7,0
openstack%2Fdesignate~master~Iab105ec5f45083a9026718572d77870fd908d660,openstack/designate,master,Iab105ec5f45083a9026718572d77870fd908d660,Removed unused code path in sql base,MERGED,2023-07-22 21:17:42.000000000,2023-07-25 09:00:25.000000000,2023-07-25 08:58:34.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-22 21:17:42.000000000', 'files': ['designate/storage/sqlalchemy/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e003d7aa68182cdace7c35965e68eeb77d5686fa', 'message': ""Removed unused code path in sql base\n\nWe never provide any extra parameters in any\nof these code paths and instead of adding missing\ntesting coverage it's better to just remove these\ncode paths.\n\nChange-Id: Iab105ec5f45083a9026718572d77870fd908d660\n""}]",1,889261,e003d7aa68182cdace7c35965e68eeb77d5686fa,8,3,1,22623,,,0,"Removed unused code path in sql base

We never provide any extra parameters in any
of these code paths and instead of adding missing
testing coverage it's better to just remove these
code paths.

Change-Id: Iab105ec5f45083a9026718572d77870fd908d660
",git fetch https://review.opendev.org/openstack/designate refs/changes/61/889261/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/sqlalchemy/base.py'],1,e003d7aa68182cdace7c35965e68eeb77d5686fa,,"def _set_object_from_model(obj, model): for field_name in obj.FIELDS.keys(): if hasattr(model, field_name): obj[field_name] = getattr(model, field_name)def _set_listobject_from_models(obj, models): for model in models: obj.objects.append(_set_object_from_model(obj.LIST_ITEM_TYPE(), model))","def _set_object_from_model(obj, model, **extra): for fieldname in obj.FIELDS.keys(): if hasattr(model, fieldname): if fieldname in extra.keys(): obj[fieldname] = extra[fieldname] else: obj[fieldname] = getattr(model, fieldname)def _set_listobject_from_models(obj, models, map_=None): for model in models: extra = {} if map_ is not None: extra = map_(model) obj.objects.append( _set_object_from_model(obj.LIST_ITEM_TYPE(), model, **extra))",6,17
openstack%2Fcinder~master~Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba,openstack/cinder,master,Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba,[Pure Storage] Fix failure in replication failover,MERGED,2023-06-08 16:19:09.000000000,2023-07-25 09:00:08.000000000,2023-07-25 00:46:23.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32074}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-08 16:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17468692a39bab9a12465820a1ddec3a05cc39fd', 'message': '[Pure Storage] Fix failure in replication failover\n\nA previous patch incorrectly removed a call using a specific\nversion of API as part of the replication failover process.\n\nThe call being made to the backend fails as one of the\nparameters is not supported in later API version.\n\nThis patch fixes the call to the backend to use the required\nAPI version.\n\nThere are no tempest tests for replication failover, hence\nwhy the original patch passed tests.\n\nChange-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba\n'}, {'number': 2, 'created': '2023-06-08 16:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86d7325ea13501eb0ac6fc39bb9637d4f8cee337', 'message': '[Pure Storage] Fix failure in replication failover\n\nA previous patch incorrectly removed a call using a specific\nversion of API as part of the replication failover process.\n\nThe call being made to the backend fails as one of the\nparameters is not supported in later API version.\n\nThis patch fixes the call to the backend to use the required\nAPI version.\n\nThere are no tempest tests for replication failover, hence\nwhy the original patch passed tests.\n\nChange-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba\n'}, {'number': 3, 'created': '2023-06-19 15:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52cf15db65ca733397f46a480e1e531276e2b1c1', 'message': '[Pure Storage] Fix failure in replication failover\n\nA previous patch incorrectly removed a call using a specific\nversion of API as part of the replication failover process.\n\nThe call being made to the backend fails as one of the\nparameters is not supported in later API version.\n\nThis patch fixes the call to the backend to use the required\nAPI version.\n\nThere are no tempest tests for replication failover, hence\nwhy the original patch passed tests.\n\nChange-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba\n'}, {'number': 4, 'created': '2023-07-21 14:46:32.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-fix-failover-fe6260a112409742.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/084d84152a4c2fcf4c94d46d4a1a97add409bd42', 'message': '[Pure Storage] Fix failure in replication failover\n\nA previous patch incorrectly removed a call using a specific\nversion of API as part of the replication failover process.\n\nThe call being made to the backend fails as one of the\nparameters is not supported in later API version.\n\nThis patch fixes the call to the backend to use the required\nAPI version.\n\nThere are no tempest tests for replication failover, hence\nwhy the original patch passed tests.\n\nCloses-Bug: #2028380\nChange-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba\n'}]",52,885596,084d84152a4c2fcf4c94d46d4a1a97add409bd42,160,6,4,13425,,,0,"[Pure Storage] Fix failure in replication failover

A previous patch incorrectly removed a call using a specific
version of API as part of the replication failover process.

The call being made to the backend fails as one of the
parameters is not supported in later API version.

This patch fixes the call to the backend to use the required
API version.

There are no tempest tests for replication failover, hence
why the original patch passed tests.

Closes-Bug: #2028380
Change-Id: Id4f5f16a04220cc880e17ffd69a8303c93a6e8ba
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/885596/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,17468692a39bab9a12465820a1ddec3a05cc39fd,fix_failover," # We have to rely on a call that is only available in REST API 1.3 # therefore we have to create a temporary FlashArray for this. rest_version='1.3',"," request_kwargs=secondary_array._request_kwargs,",4,1
openstack%2Fdesignate~master~Idddf63a4decc31895e3c5a3b9a11f51cddffedaa,openstack/designate,master,Idddf63a4decc31895e3c5a3b9a11f51cddffedaa,Improve DNS Service test coverage,MERGED,2023-07-22 22:55:41.000000000,2023-07-25 08:59:36.000000000,2023-07-25 08:58:32.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-22 22:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2c1956b1540301d3d3decfe2f553733e0e2cbb1b', 'message': 'Improve DNS Service test coverage\n\n- Cleaned up error handling logic to make testing easier.\n\nChange-Id: Idddf63a4decc31895e3c5a3b9a11f51cddffedaa\n'}, {'number': 2, 'created': '2023-07-22 22:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/db4cba92d239e1c9da9f3f19b2d71b54ffabf0fc', 'message': 'Improve DNS Service test coverage\n\n- Cleaned up error handling logic to make testing easier.\n\nChange-Id: Idddf63a4decc31895e3c5a3b9a11f51cddffedaa\n'}, {'number': 3, 'created': '2023-07-23 10:36:13.000000000', 'files': ['designate/service.py', 'designate/tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/991e0afe44f8a65d95c74595aa1bb00fd03c2895', 'message': 'Improve DNS Service test coverage\n\n- Cleaned up error handling logic to make testing easier.\n\nChange-Id: Idddf63a4decc31895e3c5a3b9a11f51cddffedaa\n'}]",1,889262,991e0afe44f8a65d95c74595aa1bb00fd03c2895,11,3,3,22623,,,0,"Improve DNS Service test coverage

- Cleaned up error handling logic to make testing easier.

Change-Id: Idddf63a4decc31895e3c5a3b9a11f51cddffedaa
",git fetch https://review.opendev.org/openstack/designate refs/changes/62/889262/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate/service.py', 'designate/tests/unit/test_service.py']",2,2c1956b1540301d3d3decfe2f553733e0e2cbb1b,,"import errno import socketfrom oslo_config import cfg from oslo_config import fixture as cfg_fixture from oslo_service import servicefrom designate.mdns import handlerfrom designate import utils CONF = cfg.CONF class TestBaseService(oslotest.base.BaseTestCase): @mock.patch.object(service, 'launch') def test_serve(self, mock_service_launch): server = mock.Mock() designate_service.serve(server) mock_service_launch.assert_called_with( mock.ANY, server, workers=None, restart_method='mutate' ) @mock.patch.object(service, 'launch') def test_serve_twice(self, _): server = mock.Mock() designate_service.serve(server) self.assertRaisesRegex( RuntimeError, 'serve\(\) can only be called once', designate_service.serve, server ) @mock.patch.object(rpc, 'cleanup') @mock.patch.object(service, 'launch') def test_wait(self, mock_service_launch, mock_rpc_cleanup): server = mock.Mock() designate_service.serve(server) designate_service.wait() mock_service_launch.assert_called_with( mock.ANY, server, workers=None, restart_method='mutate' ) mock_rpc_cleanup.assert_called() @mock.patch.object(rpc, 'cleanup') @mock.patch.object(service, 'launch') def test_wait_keyboard_interrupt(self, mock_service_launch, mock_rpc_cleanup): server = mock.Mock() mock_launcher = mock.Mock() mock_service_launch.return_value = mock_launcher mock_launcher.wait.side_effect = [KeyboardInterrupt] designate_service.serve(server) designate_service.wait() mock_rpc_cleanup.assert_called()class TestServiceInit(oslotest.base.BaseTestCase):class TestRpcService(oslotest.base.BaseTestCase): super(TestRpcService, self).setUp() class TestDNSService(oslotest.base.BaseTestCase): def setUp(self): super(TestDNSService, self).setUp() self.useFixture(cfg_fixture.Config(CONF)) self.tg = mock.Mock() self.storage = mock.Mock() self.application = handler.RequestHandler(self.storage, self.tg) self.service = designate_service.DNSService( self.application, self.tg, CONF['service:mdns'].listen, CONF['service:mdns'].tcp_backlog, CONF['service:mdns'].tcp_recv_timeout, ) self.service._running = mock.Mock() def test_service_init(self): self.assertEqual(CONF['service:mdns'].listen, self.service.listen) self.assertEqual( CONF['service:mdns'].tcp_backlog, self.service.tcp_backlog ) self.assertEqual( CONF['service:mdns'].tcp_recv_timeout, self.service.tcp_recv_timeout ) @mock.patch.object(utils, 'bind_tcp') @mock.patch.object(utils, 'bind_udp') def test_service_start(self, mock_bind_udp, mock_bind_tcp): self.service.start() mock_bind_udp.assert_called_with('0.0.0.0', 5354) mock_bind_tcp.assert_called_with( '0.0.0.0', 5354, CONF['service:mdns'].tcp_backlog ) def test_service_stop(self): mock_sock_tcp = mock.Mock() mock_sock_udp = mock.Mock() self.service._dns_socks_tcp = [mock_sock_tcp] self.service._dns_socks_udp = [mock_sock_udp] self.service.stop() mock_sock_tcp.close.assert_called_once() mock_sock_udp.close.assert_called_once() def test_handle_tcp(self): self.service._running.is_set.side_effect = [True, True, False] mock_client = mock.Mock() addr = ('192.0.2.1', 5353, '127.0.0.1', 5353) mock_sock_tcp = mock.Mock() mock_sock_tcp.accept.return_value = (mock_client, addr) self.assertIsNone(self.service._dns_handle_tcp(mock_sock_tcp)) mock_sock_tcp.accept.assert_called() mock_client.settimeout.assert_called() def test_handle_tcp_handle_errors(self): self.service._running.is_set.side_effect = [True, True, True, False] mock_sock_tcp = mock.Mock() mock_sock_tcp.accept.side_effect = [ socket.timeout(), socket.error(errno.EACCES), Exception() ] self.assertIsNone(self.service._dns_handle_tcp(mock_sock_tcp)) mock_sock_tcp.accept.assert_called() def test_handle_tcp_without_timeout(self): CONF.set_override('tcp_recv_timeout', 0, 'service:mdns') self.service = designate_service.DNSService( self.application, self.tg, CONF['service:mdns'].listen, CONF['service:mdns'].tcp_backlog, CONF['service:mdns'].tcp_recv_timeout, ) self.service._running = mock.Mock() self.service._running.is_set.side_effect = [True, True, False] mock_client = mock.Mock() addr = ('192.0.2.1', 5353) mock_sock_tcp = mock.Mock() mock_sock_tcp.accept.return_value = (mock_client, addr) self.assertIsNone(self.service._dns_handle_tcp(mock_sock_tcp)) mock_sock_tcp.accept.assert_called() mock_client.settimeout.assert_not_called() def test_handle_tcp_running_not_set(self): mock_sock_tcp = mock.Mock() self.service._running.is_set.side_effect = [False] self.assertIsNone(self.service._dns_handle_tcp(mock_sock_tcp)) def test_handle_udp(self): self.service._running.is_set.side_effect = [True, True, False] mock_client = mock.Mock() addr = ('192.0.2.1', 5353) mock_sock_udp = mock.Mock() mock_sock_udp.recvfrom.return_value = (mock_client, addr) self.assertIsNone(self.service._dns_handle_udp(mock_sock_udp)) mock_sock_udp.recvfrom.assert_called() def test_handle_udp_handle_errors(self): self.service._running.is_set.side_effect = [True, True, True, False] mock_sock_tcp = mock.Mock() mock_sock_tcp.recvfrom.side_effect = [ socket.timeout(), socket.error(errno.EACCES), Exception() ] self.assertIsNone(self.service._dns_handle_udp(mock_sock_tcp)) mock_sock_tcp.recvfrom.assert_called()","class TestDesignateServiceInit(oslotest.base.BaseTestCase):class TestDesignateRpcService(oslotest.base.BaseTestCase): super(TestDesignateRpcService, self).setUp()",294,43
openstack%2Fvenus~master~I4308940ce3df0c2ff17e7c792c69483212410cb1,openstack/venus,master,I4308940ce3df0c2ff17e7c792c69483212410cb1,anomaly detect: replace params to dict,MERGED,2023-07-25 07:09:59.000000000,2023-07-25 08:01:54.000000000,2023-07-25 08:01:01.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-25 07:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/c7adf8f6367915bac24ed5a137769ecc22185b71', 'message': 'anomaly detect: replace params to dict\n\nChange-Id: I4308940ce3df0c2ff17e7c792c69483212410cb1\n'}, {'number': 2, 'created': '2023-07-25 07:22:37.000000000', 'files': ['venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/b8cb5221af249b4e50214da055111902721232c5', 'message': 'anomaly detect: replace params to dict\n\nChange-Id: I4308940ce3df0c2ff17e7c792c69483212410cb1\n'}]",9,889271,b8cb5221af249b4e50214da055111902721232c5,9,2,2,27565,,,0,"anomaly detect: replace params to dict

Change-Id: I4308940ce3df0c2ff17e7c792c69483212410cb1
",git fetch https://review.opendev.org/openstack/venus refs/changes/71/889271/2 && git format-patch -1 --stdout FETCH_HEAD,"['venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",3,c7adf8f6367915bac24ed5a137769ecc22185b71,," def add_rule(self, params): res = self.sql.add_rule(params) def get_rule_list(self, params): res = self.sql.get_rule_list(self, params) def update_rule(self, params): res = self.sql.update_rule(params)"," def add_rule(self, title, desc, keyword, log_type, module): res = self.sql.add_rule(title, desc, keyword, log_type, module) def get_rule_list(self, title, module, flag, page_num, page_size): res = self.sql.get_rule_list(self, title, module, flag, page_num, page_size) def update_rule(self, id, title, desc, keyword, log_type, module, flag): res = self.sql.update_rule(title, desc, keyword, log_type, module, flag)",49,57
openstack%2Fcyborg-tempest-plugin~master~Ibf0bf40699c87a3c47255c2ed4f7edb23082ba7e,openstack/cyborg-tempest-plugin,master,Ibf0bf40699c87a3c47255c2ed4f7edb23082ba7e,Add stable/2023.1 jobs on master gate,MERGED,2023-06-09 04:11:21.000000000,2023-07-25 07:49:26.000000000,2023-07-25 07:49:26.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-09 04:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/6c1a7d02fd98348b5ea92cf9c2a8fd3a63b9aedc', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso, remove stable/wallaby jobs given that wallaby went\nto Extended Maintenance on 2022-11-07T10:52:23+00:00\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ibf0bf40699c87a3c47255c2ed4f7edb23082ba7e\n'}, {'number': 2, 'created': '2023-06-09 05:07:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/1db2d0f864435f45a14b8de0e789715ba13eccb9', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ibf0bf40699c87a3c47255c2ed4f7edb23082ba7e\n'}]",1,885678,1db2d0f864435f45a14b8de0e789715ba13eccb9,9,3,2,8556,,,0,"Add stable/2023.1 jobs on master gate

As 2023.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ibf0bf40699c87a3c47255c2ed4f7edb23082ba7e
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/78/885678/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c1a7d02fd98348b5ea92cf9c2a8fd3a63b9aedc,2023-1-stable-job, - cyborg-tempest-2023-1 - cyborg-tempest-2023-1 name: cyborg-tempest-2023-1 parent: cyborg-tempest nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job:,,8,0
openstack%2Fpuppet-nova~master~I799ac9a9bd308308304b8321f6dd6ceb838f982e,openstack/puppet-nova,master,I799ac9a9bd308308304b8321f6dd6ceb838f982e,Add support for [DEFAULT] periodic_fuzzy_delay,MERGED,2023-07-12 13:26:23.000000000,2023-07-25 06:22:41.000000000,2023-07-25 06:21:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 13:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fa6d62e75ecb7a50ae3f12e145dd9810d9b193fc', 'message': 'Add support for [DEFAULT] periodic_fuzzy_delay\n\nChange-Id: I799ac9a9bd308308304b8321f6dd6ceb838f982e\n'}, {'number': 2, 'created': '2023-07-12 15:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ece93fcabceb44afb81d62f8e8950e8f891e0cb0', 'message': 'Add support for [DEFAULT] periodic_fuzzy_delay\n\nChange-Id: I799ac9a9bd308308304b8321f6dd6ceb838f982e\n'}, {'number': 3, 'created': '2023-07-12 15:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a87236a1fb39cffee683e6f6ede9894e90eb3f0', 'message': 'Add support for [DEFAULT] periodic_fuzzy_delay\n\nChange-Id: I799ac9a9bd308308304b8321f6dd6ceb838f982e\n'}, {'number': 4, 'created': '2023-07-17 03:59:29.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/periodic_fuzzy_delay-0e21c3c4235aa399.yaml', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d8fbf028c11dd4dfece9232ead4fef316fd52652', 'message': 'Add support for [DEFAULT] periodic_fuzzy_delay\n\nChange-Id: I799ac9a9bd308308304b8321f6dd6ceb838f982e\n'}]",0,888276,d8fbf028c11dd4dfece9232ead4fef316fd52652,13,4,4,9816,,,0,"Add support for [DEFAULT] periodic_fuzzy_delay

Change-Id: I799ac9a9bd308308304b8321f6dd6ceb838f982e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/76/888276/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/periodic_fuzzy_delay-0e21c3c4235aa399.yaml', 'spec/classes/nova_init_spec.rb']",3,fa6d62e75ecb7a50ae3f12e145dd9810d9b193fc,," is_expected.to contain_nova_config('DEFAULT/periodic_fuzzy_delay').with_value('<SERVICE DEFAULT>') :periodic_fuzzy_delay => '61', is_expected.to contain_nova_config('DEFAULT/periodic_fuzzy_delay').with_value('61')",,13,0
openstack%2Fvenus~master~I59cfb1d61aa0dbce31322ac4c788f09c0ffe6b3d,openstack/venus,master,I59cfb1d61aa0dbce31322ac4c788f09c0ffe6b3d,anomaly detect: replace param match_num to log_type,MERGED,2023-07-25 05:40:15.000000000,2023-07-25 06:02:59.000000000,2023-07-25 06:02:05.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-25 05:40:15.000000000', 'files': ['venus/modules/anomaly_detect/backends/models.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/63eba13dfa439ffc69a4b9d7024c05d379c12b66', 'message': 'anomaly detect: replace param match_num to log_type\n\nChange-Id: I59cfb1d61aa0dbce31322ac4c788f09c0ffe6b3d\n'}]",0,889270,63eba13dfa439ffc69a4b9d7024c05d379c12b66,7,2,1,27565,,,0,"anomaly detect: replace param match_num to log_type

Change-Id: I59cfb1d61aa0dbce31322ac4c788f09c0ffe6b3d
",git fetch https://review.opendev.org/openstack/venus refs/changes/70/889270/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/modules/anomaly_detect/backends/models.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,63eba13dfa439ffc69a4b9d7024c05d379c12b66,," def add_rule(self, title, desc, keyword, log_type, module): res = self.sql.add_rule(title, desc, keyword, log_type, module) def update_rule(self, id, title, desc, keyword, log_type, module, flag): log_type,"," def add_rule(self, title, desc, keyword, match_num, module): res = self.sql.add_rule(title, desc, keyword, match_num, module) def update_rule(self, id, title, desc, keyword, match_num, module, flag): match_num,",18,17
openstack%2Fpython-troveclient~master~I0a19802c82c9ea9138a870559748063dca5507e1,openstack/python-troveclient,master,I0a19802c82c9ea9138a870559748063dca5507e1,Drop openstack-lower-constraints-jobs,MERGED,2022-05-11 10:05:11.000000000,2023-07-25 05:55:34.000000000,2023-07-25 05:53:36.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-05-11 10:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/a8382caf020fc35161508306cb94799aff486b83', 'message': 'Drop openstack-lower-constraints-jobs\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I0a19802c82c9ea9138a870559748063dca5507e1\n'}, {'number': 2, 'created': '2022-08-27 02:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/1788ea04209cbe5d221270d73a98a9db8ab02f3d', 'message': 'Drop openstack-lower-constraints-jobs\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I0a19802c82c9ea9138a870559748063dca5507e1\n'}, {'number': 3, 'created': '2022-08-29 03:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/5ea012db0f16cdf20fcc896383423eef7bd348e2', 'message': 'Drop openstack-lower-constraints-jobs\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I0a19802c82c9ea9138a870559748063dca5507e1\n'}, {'number': 4, 'created': '2023-06-26 10:10:33.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/0415e4bc884b4acb341960f35678c6b93f262518', 'message': 'Drop openstack-lower-constraints-jobs\n\nAs discussed in TC PTG[1] and TC resolution[2], dropping\nthe lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I0a19802c82c9ea9138a870559748063dca5507e1\n'}]",0,841395,0415e4bc884b4acb341960f35678c6b93f262518,15,2,4,32029,,,0,"Drop openstack-lower-constraints-jobs

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I0a19802c82c9ea9138a870559748063dca5507e1
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/95/841395/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,a8382caf020fc35161508306cb94799aff486b83,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,84
openstack%2Ftripleo-common~stable%2Fwallaby~Iae303be073891c81cbcedee81930aafd9f322a41,openstack/tripleo-common,stable/wallaby,Iae303be073891c81cbcedee81930aafd9f322a41,Do pagination when getting continer image tags,MERGED,2023-07-20 12:26:17.000000000,2023-07-25 05:50:34.000000000,2023-07-25 05:49:41.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-07-20 12:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb37b62d08d0ccd78b545f0980fed757a0353815', 'message': ""Do pagination when getting continer image tags\n\nCurrently, _inspect() method doesn't do pagination when accessing the\nfollowing docker API.\n\n  GET /v2/<name>/tags/list?n=<integer>\n\nPagenation is described here:\n\n  https://docs.docker.com/registry/spec/api/#pagination-1\n\nBecause of this behavior, when the docker API does pagination when\nreturning container image tags, _inspect() couldn't obtain all of the\ntags. This causes some errors during deployments.\n\nCloses-Bug: #2028260\nChange-Id: Iae303be073891c81cbcedee81930aafd9f322a41\n""}, {'number': 2, 'created': '2023-07-20 23:08:46.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e38a79e8663728cd96478ed43f1b0e6c6c5fe63f', 'message': ""Do pagination when getting continer image tags\n\nCurrently, _inspect() method doesn't do pagination when accessing the\nfollowing docker API.\n\n  GET /v2/<name>/tags/list?n=<integer>\n\nPagenation is described here:\n\n  https://docs.docker.com/registry/spec/api/#pagination-1\n\nBecause of this behavior, when the docker API does pagination when\nreturning container image tags, _inspect() couldn't obtain all of the\ntags. This causes some errors during deployments.\n\nCloses-Bug: #2028260\nChange-Id: Iae303be073891c81cbcedee81930aafd9f322a41\n""}]",2,889091,e38a79e8663728cd96478ed43f1b0e6c6c5fe63f,15,3,2,34564,,,0,"Do pagination when getting continer image tags

Currently, _inspect() method doesn't do pagination when accessing the
following docker API.

  GET /v2/<name>/tags/list?n=<integer>

Pagenation is described here:

  https://docs.docker.com/registry/spec/api/#pagination-1

Because of this behavior, when the docker API does pagination when
returning container image tags, _inspect() couldn't obtain all of the
tags. This causes some errors during deployments.

Closes-Bug: #2028260
Change-Id: Iae303be073891c81cbcedee81930aafd9f322a41
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/889091/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,cb37b62d08d0ccd78b545f0980fed757a0353815,bug/2028260-stable/wallaby," while 'next' in tags_r.links: next_url = parse.urljoin(tags_url, tags_r.links['next']['url']) tags_r = RegistrySessionHelper.get(session, next_url, timeout=30) tags.extend(tags_r.json()['tags'])",,85,0
openstack%2Fos-brick~master~Ie49b70e69ed07589a9ca155524685d95c460374f,openstack/os-brick,master,Ie49b70e69ed07589a9ca155524685d95c460374f,Remove egg_info from setup.cfg,NEW,2023-07-20 12:58:59.000000000,2023-07-25 05:45:10.000000000,,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-20 12:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/512b3e264839c1c5f8f0fd78923a3b3951e66814', 'message': 'Remove egg_info from setup.cfg\n\nThis was removed from cinder by change If7db350ea55a that removed\npy27 support, but apparently we missed it in os-brick.\n\nChange-Id: Ie49b70e69ed07589a9ca155524685d95c460374f\n'}, {'number': 2, 'created': '2023-07-21 12:33:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d38bcebe69d02a78a474f5411647e5ce8c155bcf', 'message': 'Remove egg_info from setup.cfg\n\nThis was removed from cinder by change If7db350ea55a that removed\npy27 support, but apparently we missed it in os-brick.\n\nChange-Id: Ie49b70e69ed07589a9ca155524685d95c460374f\n'}]",4,889093,d38bcebe69d02a78a474f5411647e5ce8c155bcf,33,4,2,5314,,,0,"Remove egg_info from setup.cfg

This was removed from cinder by change If7db350ea55a that removed
py27 support, but apparently we missed it in os-brick.

Change-Id: Ie49b70e69ed07589a9ca155524685d95c460374f
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/93/889093/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,512b3e264839c1c5f8f0fd78923a3b3951e66814,remove-egg-info,,[egg_info] tag_build = tag_date = 0 tag_svn_revision = 0 ,0,5
openstack%2Ftrove-tempest-plugin~master~I8f818b6278499ef420588b6bdcfd1734c5cf41d6,openstack/trove-tempest-plugin,master,I8f818b6278499ef420588b6bdcfd1734c5cf41d6,Add expect_op_status for wait_for_instance_status function.,MERGED,2023-07-21 01:24:59.000000000,2023-07-25 04:28:36.000000000,2023-07-25 04:27:39.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-21 01:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/8acc0542dbe75f086a557bc32c95cc3b4a2d1fc9', 'message': 'Set the expected_status to HEALTHY only.\n\nWe should wait until the instances status becomes healthy before\nsending api requests.\n\nChange-Id: I8f818b6278499ef420588b6bdcfd1734c5cf41d6\n'}, {'number': 2, 'created': '2023-07-24 09:30:50.000000000', 'files': ['trove_tempest_plugin/tests/scenario/base_actions.py', 'trove_tempest_plugin/tests/scenario/base_replication.py', 'trove_tempest_plugin/tests/base.py', 'trove_tempest_plugin/tests/scenario/base_update_access.py', 'trove_tempest_plugin/tests/scenario/base_backup.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/9122baa27245705147fde6b88450c1a17489e501', 'message': 'Add expect_op_status for wait_for_instance_status function.\n\nWe should wait until the instances status becomes healthy before\nsending api requests.\n\nChange-Id: I8f818b6278499ef420588b6bdcfd1734c5cf41d6\n'}]",1,889142,9122baa27245705147fde6b88450c1a17489e501,9,2,2,26285,,,0,"Add expect_op_status for wait_for_instance_status function.

We should wait until the instances status becomes healthy before
sending api requests.

Change-Id: I8f818b6278499ef420588b6bdcfd1734c5cf41d6
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/42/889142/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_tempest_plugin/tests/base.py'],1,8acc0542dbe75f086a557bc32c95cc3b4a2d1fc9,," cls.wait_for_instance_status(cls.instance_id, expected_status=[""HEALTHY""])", cls.wait_for_instance_status(cls.instance_id),1,1
openstack%2Fvenus~master~I6d186789195ffd8ab2a7d8da8ed2c7aabc858ab9,openstack/venus,master,I6d186789195ffd8ab2a7d8da8ed2c7aabc858ab9,anomaly detect: add api (get rule list),MERGED,2023-07-25 02:16:15.000000000,2023-07-25 04:04:29.000000000,2023-07-25 04:03:31.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-25 02:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/5ae1246a56bf9ff8bfc485f7ddd5ec97118419d5', 'message': 'anomaly detect: add api (get rule list)\n\nChange-Id: I6d186789195ffd8ab2a7d8da8ed2c7aabc858ab9\n'}, {'number': 2, 'created': '2023-07-25 02:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/115809693cde06580f4b071a5e761ae3b15daa63', 'message': 'anomaly detect: add api (get rule list)\n\nChange-Id: I6d186789195ffd8ab2a7d8da8ed2c7aabc858ab9\n'}, {'number': 3, 'created': '2023-07-25 03:00:46.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/5d4cfc41c8aec30556e58f9eb4f5d478b6dd94a7', 'message': 'anomaly detect: add api (get rule list)\n\nChange-Id: I6d186789195ffd8ab2a7d8da8ed2c7aabc858ab9\n'}]",7,889269,5d4cfc41c8aec30556e58f9eb4f5d478b6dd94a7,11,2,3,27565,,,0,"anomaly detect: add api (get rule list)

Change-Id: I6d186789195ffd8ab2a7d8da8ed2c7aabc858ab9
",git fetch https://review.opendev.org/openstack/venus refs/changes/69/889269/3 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,5ae1246a56bf9ff8bfc485f7ddd5ec97118419d5,," def get_rule_list(self, title, module, flag, page_num, page_size): res = self.sql.get_rule_list(self, title, module, flag, page_num, page_size) return res ",,56,0
openstack%2Fswift~master~Ib5cec0e552cd51592653e9e100729fcf91f99415,openstack/swift,master,Ib5cec0e552cd51592653e9e100729fcf91f99415,Delete s3api MPU segments when the manifest expires,NEW,2021-07-13 17:47:53.000000000,2023-07-25 03:51:58.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 17:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/178674f074e20462cca411ea28b0f6a348685c5e', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 2, 'created': '2021-12-17 18:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c784676a56c40db1454db30536c1c634922529ce', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would NOT be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiration will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 3, 'created': '2021-12-20 21:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3292127828b740737f169349e4fce4e8e8ec0316', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 4, 'created': '2021-12-21 02:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a4c555a76e54350e3855e5df3f5fd6418383d898', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 5, 'created': '2021-12-21 16:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/edff82be41225a2002ed177c2d1348e1d5873f72', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 6, 'created': '2021-12-22 17:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/699a89144abff95a77b98be5595978697022fa4f', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 7, 'created': '2022-01-06 22:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d153f27be531b8c4602504c8fe18273bb6477a4', 'message': ""WIP: expirer the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 8, 'created': '2022-01-07 22:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/210807787136a603e7ed06b5bd87efedff60afe3', 'message': ""Expire the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 9, 'created': '2022-01-11 20:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d333a1d67e8bf2214b28ac7788647b0ba5747aba', 'message': ""Expire the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 10, 'created': '2022-01-13 06:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/60cb24a6beaeb592b47fcbbd5bfab4b97a119d48', 'message': ""Expire the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this manner.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 11, 'created': '2022-01-13 20:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/54ddec106774608414dc300cc30bed9d1d8e3c54', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 12, 'created': '2022-01-14 13:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b01be931d1cee2dd67e536ec2bf9a1485c912e40', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 13, 'created': '2022-01-14 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42d03756296c570f206080e9f99e9572e41d836c', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 14, 'created': '2022-01-28 15:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/baf8d307496c8105e9017ba559905cf2934badbb', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 15, 'created': '2022-02-14 18:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28553920d653d08fe0b06af0bda7808ec8b5a2a4', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 16, 'created': '2022-10-17 18:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f084cd291b306d73fc86786e00e54d4a0465d253', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 17, 'created': '2022-11-04 04:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96f3eb7a0aa1ba6cbb3425b419b9e2e181c7ecfc', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 18, 'created': '2023-01-03 18:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52460eed7518ae432c44d3547fea9196b0dc026b', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 19, 'created': '2023-02-09 15:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d1a1821d2b32110377e6b8f3ba884f63510d27af', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 20, 'created': '2023-07-25 01:41:14.000000000', 'files': ['test/probe/common.py', 'test/unit/cli/test_container_deleter.py', 'test/unit/obj/test_expirer.py', 'swift/obj/server.py', 'test/unit/common/test_internal_client.py', 'test/unit/__init__.py', 'tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'swift/obj/expirer.py', 'swift/common/internal_client.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/001470f4e4ca141163298ee671faf4945a4a13a2', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}]",86,800701,001470f4e4ca141163298ee671faf4945a4a13a2,79,5,20,1179,,,0,"Delete s3api MPU segments when the manifest expires

The object-expirer will delete s3api MPU segments automatically when it
expires an s3api manifest.

This is just a best effort cleanup of the segments. In some
circumstances (e.g. when manifest objects are not consistent) this may
fail to delete all segments. However, s3api MPUs already have a related
bug to address orphaned segments.  The automatic deletion is only
applied to s3api segments, not to SLO segments in general, because:

(a) s3api segments cannot be referenced via the S3 API, and are
therefore orphaned as soon as the manifest is deleted; SLO segments in
general are not necessarily orphaned when a manifest is deleted.

(b) the names of s3api MPU segments can be easily inferred from the
manifest DELETE response headers without inspecting the manifest body.

Related-Bug: #1813202
Change-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/800701/19 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py', 'swift/proxy/controllers/base.py']",4,178674f074e20462cca411ea28b0f6a348685c5e,expire-mpu,"def add_s3api_metadata(resp_headers, all_headers): s3api_meta = set() for headers in all_headers: headers = dict(headers) upload_id = headers.get('x-object-sysmeta-s3api-upload-id') if not upload_id: continue etag = headers.get('x-object-sysmeta-s3api-etag') if not etag: continue upload_segments = '%s/%s' % (upload_id, etag.rsplit('-', 1)[1]) s3api_meta.add(upload_segments) if not s3api_meta: return key = 'X-Backend-S3Api-Upload-Segments' upload_segments = ','.join(s3api_meta) if hasattr(resp_headers, 'append'): resp_headers.append((key, upload_segments)) else: # I think this only happens in tests resp_headers[key] = upload_segments resp_headers = headers[status_index] add_s3api_metadata(resp_headers, headers) update_headers(resp, resp_headers)"," update_headers(resp, headers[status_index])",52,6
openstack%2Ftempest~master~I54516ec8de0aab6454f7f9b0d438ace6cdbf311f,openstack/tempest,master,I54516ec8de0aab6454f7f9b0d438ace6cdbf311f,Default tox env to python 3.10,NEW,2023-07-25 01:24:00.000000000,2023-07-25 03:28:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-25 01:24:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1e3acb92d6b2ca3a228e97ae1f6fa8cad1ef075', 'message': 'Default tox env to python 3.10\n\nChange-Id: I54516ec8de0aab6454f7f9b0d438ace6cdbf311f\n'}]",0,889370,b1e3acb92d6b2ca3a228e97ae1f6fa8cad1ef075,2,1,1,8556,,,0,"Default tox env to python 3.10

Change-Id: I54516ec8de0aab6454f7f9b0d438ace6cdbf311f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/889370/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1e3acb92d6b2ca3a228e97ae1f6fa8cad1ef075,,"envlist = pep8,py310,bashate,pip-check-reqs","envlist = pep8,py39,bashate,pip-check-reqs",1,1
openstack%2Fpuppet-vitrage~master~I82c9f4e6b7f407cdfb49fa8f804d233e0edc4fee,openstack/puppet-vitrage,master,I82c9f4e6b7f407cdfb49fa8f804d233e0edc4fee,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:53:08.000000000,2023-07-25 03:13:30.000000000,2023-07-25 03:13:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:53:08.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/3510c49d64dad92a50d19a3c78e44f955b23330a', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I82c9f4e6b7f407cdfb49fa8f804d233e0edc4fee\n'}]",2,889245,3510c49d64dad92a50d19a3c78e44f955b23330a,15,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I82c9f4e6b7f407cdfb49fa8f804d233e0edc4fee
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/45/889245/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,3510c49d64dad92a50d19a3c78e44f955b23330a,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Ftempest~master~I70e974939d7828caf3accbc3a2612e423d834571,openstack/tempest,master,I70e974939d7828caf3accbc3a2612e423d834571,Add logs in generate-tempest-plugins-list.py,NEW,2023-07-24 18:07:27.000000000,2023-07-25 02:19:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 18:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/64c6f2f357037962d55ecae3e1a3a8a58aa57587', 'message': 'Add logs in generate-tempest-plugins-list.py\n\ngenerate-tempest-plugins-list.py search in more than\nthousand of repositories and detect the tempest plugins.\nSometime it can be slow and to debug the issue we need\nto know some information about total repo searched and\nwhat all.\n\nChange-Id: I70e974939d7828caf3accbc3a2612e423d834571\n'}, {'number': 2, 'created': '2023-07-25 01:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2fbf3d313d8e6b6de948b95d8176859f926b9cd1', 'message': 'Add logs in generate-tempest-plugins-list.py\n\ngenerate-tempest-plugins-list.py search in more than\nthousand of repositories and detect the tempest plugins.\nSometime it can be slow and to debug the issue we need\nto know some information about total repo searched and\nwhat all.\n\nChange-Id: I70e974939d7828caf3accbc3a2612e423d834571\n'}, {'number': 3, 'created': '2023-07-25 01:50:43.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0748f957d7a6d43958f44b2600615b49e8c27e2c', 'message': 'Add logs in generate-tempest-plugins-list.py\n\ngenerate-tempest-plugins-list.py search in more than\nthousand of repositories and detect the tempest plugins.\nSometime it can be slow and to debug the issue we need\nto know some information about total repo searched and\nwhat all.\n\nChange-Id: I70e974939d7828caf3accbc3a2612e423d834571\n'}]",3,889333,0748f957d7a6d43958f44b2600615b49e8c27e2c,7,2,3,8556,,,0,"Add logs in generate-tempest-plugins-list.py

generate-tempest-plugins-list.py search in more than
thousand of repositories and detect the tempest plugins.
Sometime it can be slow and to debug the issue we need
to know some information about total repo searched and
what all.

Change-Id: I70e974939d7828caf3accbc3a2612e423d834571
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/889333/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,64c6f2f357037962d55ecae3e1a3a8a58aa57587,tempest-job-timeout," print('Searching Tempest plugin in repository: ', proj)print('\nTotal projects searched for Tempest Plugin: ', len(projects_list), '\nTotal Tempest plugins found: ', len(found_plugins), '\n') ",,5,0
openstack%2Fvenus~master~Ie25f2224b7d3fb54f56a26e627655726cfd068ff,openstack/venus,master,Ie25f2224b7d3fb54f56a26e627655726cfd068ff,anomaly detect: add api (update rule),MERGED,2023-07-25 01:17:57.000000000,2023-07-25 01:42:58.000000000,2023-07-25 01:42:09.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-25 01:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/078e644b865258ed5e961a171c6267f3da137e6a', 'message': 'anomaly detect: add api (get rule)\n\nChange-Id: Ie25f2224b7d3fb54f56a26e627655726cfd068ff\n'}, {'number': 2, 'created': '2023-07-25 01:23:38.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/ee5a0cf2d623d016e20879161a8ca80d8fd3ffef', 'message': 'anomaly detect: add api (update rule)\n\nChange-Id: Ie25f2224b7d3fb54f56a26e627655726cfd068ff\n'}]",0,889268,ee5a0cf2d623d016e20879161a8ca80d8fd3ffef,8,2,2,27565,,,0,"anomaly detect: add api (update rule)

Change-Id: Ie25f2224b7d3fb54f56a26e627655726cfd068ff
",git fetch https://review.opendev.org/openstack/venus refs/changes/68/889268/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,078e644b865258ed5e961a171c6267f3da137e6a,," def update_rule(self, id, title, desc, keyword, match_num, module, flag): res = self.sql.update_rule(title, desc, keyword, match_num, module, flag) return res ",,53,0
openstack%2Ftempest~master~I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72,openstack/tempest,master,I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72,Optimize the resource creation and status waiting in scenario tests,MERGED,2023-07-21 19:14:04.000000000,2023-07-25 01:19:28.000000000,2023-07-25 01:18:29.000000000,"[{'_account_id': 4393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-07-21 19:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/828d32e89b0ecb85d2a2a20461a195f28f9b90d8', 'message': ""Optimize the resource creation and status waiting in scenario tests\n\nIn many scenario tests, resource either same or different services\nare created serially which is ok at some extend as most of the\nresource creation is async operation. But when we wait for resource\nstatus serially for example volume to reach to 'avaiable' state, server\nto become 'SSHABLE' then it add a lot of time in test execution.\n\nThis commit try to make resources creation and their status waiting\nin parallel operation so that while we wait for volume to be reach in\n'available' state we create server and same time we wait for server\nto be ACTIVE or SSHABLE.\n\nRelated-Bug: #2004780\nChange-Id: I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72\n""}, {'number': 2, 'created': '2023-07-21 20:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8b2a56355f1d81c71c347f130d2b51674f4447c', 'message': ""Optimize the resource creation and status waiting in scenario tests\n\nIn many scenario tests, resource either same or different services\nare created serially which is ok at some extend as most of the\nresource creation is async operation. But when we wait for resource\nstatus serially for example volume to reach to 'avaiable' state, server\nto become 'SSHABLE' then it add a lot of time in test execution.\n\nThis commit try to make resources creation and their status waiting\nin parallel operation so that while we wait for volume to be reach in\n'available' state we create server and same time we wait for server\nto be ACTIVE or SSHABLE.\n\nRelated-Bug: #2004780\nChange-Id: I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72\n""}, {'number': 3, 'created': '2023-07-23 20:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2963dad33b9b827b2da964f626a1376c2ec94e8', 'message': ""Optimize the resource creation and status waiting in scenario tests\n\nIn many scenario tests, resource either same or different services\nare created serially which is ok at some extend as most of the\nresource creation is async operation. But when we wait for resource\nstatus serially for example volume to reach to 'avaiable' state, server\nto become 'SSHABLE' then it add a lot of time in test execution.\n\nThis commit try to make resources creation and their status waiting\nin parallel operation so that while we wait for volume to be reach in\n'available' state we create server and same time we wait for server\nto be ACTIVE or SSHABLE.\n\nRelated-Bug: #2004780\nChange-Id: I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72\n""}, {'number': 4, 'created': '2023-07-23 22:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3002bdc465fd7754fa38fdf2eb966411f1a641d', 'message': ""Optimize the resource creation and status waiting in scenario tests\n\nIn many scenario tests, resource either same or different services\nare created serially which is ok at some extend as most of the\nresource creation is async operation. But when we wait for resource\nstatus serially for example volume to reach to 'avaiable' state, server\nto become 'SSHABLE' then it add a lot of time in test execution.\n\nThis commit try to make resources creation and their status waiting\nin parallel operation so that while we wait for volume to be reach in\n'available' state we create server and same time we wait for server\nto be ACTIVE or SSHABLE.\n\nRelated-Bug: #2004780\nChange-Id: I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72\n""}, {'number': 5, 'created': '2023-07-24 01:22:28.000000000', 'files': ['tempest/scenario/test_server_volume_attachment.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_encrypted_cinder_volumes.py', 'tempest/scenario/test_server_multinode.py', 'tempest/scenario/test_stamp_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/51c0f9a35364da60c8a4d22636602a116621881d', 'message': ""Optimize the resource creation and status waiting in scenario tests\n\nIn many scenario tests, resource either same or different services\nare created serially which is ok at some extend as most of the\nresource creation is async operation. But when we wait for resource\nstatus serially for example volume to reach to 'avaiable' state, server\nto become 'SSHABLE' then it add a lot of time in test execution.\n\nThis commit try to make resources creation and their status waiting\nin parallel operation so that while we wait for volume to be reach in\n'available' state we create server and same time we wait for server\nto be ACTIVE or SSHABLE.\n\nRelated-Bug: #2004780\nChange-Id: I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72\n""}]",8,889207,51c0f9a35364da60c8a4d22636602a116621881d,27,4,5,8556,,,0,"Optimize the resource creation and status waiting in scenario tests

In many scenario tests, resource either same or different services
are created serially which is ok at some extend as most of the
resource creation is async operation. But when we wait for resource
status serially for example volume to reach to 'avaiable' state, server
to become 'SSHABLE' then it add a lot of time in test execution.

This commit try to make resources creation and their status waiting
in parallel operation so that while we wait for volume to be reach in
'available' state we create server and same time we wait for server
to be ACTIVE or SSHABLE.

Related-Bug: #2004780
Change-Id: I30f2a44d94dc1e94aefeefecd4dc4e25bdda7a72
",git fetch https://review.opendev.org/openstack/tempest refs/changes/07/889207/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_minimum_basic.py', 'tempest/scenario/test_server_volume_attachment.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_encrypted_cinder_volumes.py', 'tempest/scenario/test_server_multinode.py', 'tempest/scenario/test_stamp_pattern.py']",6,828d32e89b0ecb85d2a2a20461a195f28f9b90d8,bug/2004780,"from tempest.common import waiters volume = self.create_volume(wait_until=None) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # The volume retrieved on creation has a non-up-to-date status. # Retrieval after it becomes active ensures correct details. volume = self.volumes_client.show_volume(volume['id'])['volume'] snapshot_id=volume_snapshot['id'], wait_until=None) waiters.wait_for_volume_resource_status(self.volumes_client, volume_from_snapshot['id'], 'available') # The volume retrieved on creation has a non-up-to-date status. # Retrieval after it becomes active ensures correct details. volume_from_snapshot = self.volumes_client.show_volume( volume_from_snapshot['id'])['volume'] ", volume = self.create_volume() snapshot_id=volume_snapshot['id']),87,21
openstack%2Fvenus~master~I1edafaaed9ae04ec599ff02ed9da4bf7835ded9c,openstack/venus,master,I1edafaaed9ae04ec599ff02ed9da4bf7835ded9c,anomaly detect: add api (get rule),MERGED,2023-07-24 10:54:35.000000000,2023-07-25 01:13:56.000000000,2023-07-25 01:12:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-24 10:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/05f95555f076ddb29f21ebbd43aa76e309483ce3', 'message': 'anomaly detect: add api (get rule)\n\nChange-Id: I1edafaaed9ae04ec599ff02ed9da4bf7835ded9c\n'}, {'number': 2, 'created': '2023-07-24 10:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/1ea97589bccc0fa8d372add1ff8dd224a5fd4e5b', 'message': 'anomaly detect: add api (get rule)\n\nChange-Id: I1edafaaed9ae04ec599ff02ed9da4bf7835ded9c\n'}, {'number': 3, 'created': '2023-07-25 00:41:04.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/70d8d02e1b4ca62a8c9c688aed099cdb2e1fb627', 'message': 'anomaly detect: add api (get rule)\n\nChange-Id: I1edafaaed9ae04ec599ff02ed9da4bf7835ded9c\n'}]",2,889266,70d8d02e1b4ca62a8c9c688aed099cdb2e1fb627,10,2,3,27565,,,0,"anomaly detect: add api (get rule)

Change-Id: I1edafaaed9ae04ec599ff02ed9da4bf7835ded9c
",git fetch https://review.opendev.org/openstack/venus refs/changes/66/889266/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,05f95555f076ddb29f21ebbd43aa76e309483ce3,," def get_rule(self, id): res = self.sql.get_rule(id) return res ",,34,1
openstack%2Fneutron~master~Id4f26c8a9aa6c18b9471349131a5a2b63d375772,openstack/neutron,master,Id4f26c8a9aa6c18b9471349131a5a2b63d375772,Add sanity check for dnsmasq 2.86,MERGED,2023-07-20 09:21:09.000000000,2023-07-25 00:08:09.000000000,2023-07-21 23:26:38.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 09:21:09.000000000', 'files': ['neutron/cmd/sanity/checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/36db70a7188b23008e46ae55dc2b9b8e489bcae6', 'message': 'Add sanity check for dnsmasq 2.86\n\ndnsmasq 2.86 has a known issue where it segfaults\nwith configuration refresh. 2.87 has the fix included.\n\nThis patch adds a sanity check to warn users if running\na buggy version.\n\nRelated-Bug: #2026757\nChange-Id: Id4f26c8a9aa6c18b9471349131a5a2b63d375772\n'}]",5,889015,36db70a7188b23008e46ae55dc2b9b8e489bcae6,16,4,1,13861,,,0,"Add sanity check for dnsmasq 2.86

dnsmasq 2.86 has a known issue where it segfaults
with configuration refresh. 2.87 has the fix included.

This patch adds a sanity check to warn users if running
a buggy version.

Related-Bug: #2026757
Change-Id: Id4f26c8a9aa6c18b9471349131a5a2b63d375772
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/889015/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/sanity/checks.py'],1,36db70a7188b23008e46ae55dc2b9b8e489bcae6,bug/2026757,"DNSMASQ_VERSION_SEGFAULT_ISSUE = '2.86' if ver == versionutils.convert_version_to_tuple( DNSMASQ_VERSION_SEGFAULT_ISSUE): LOG.warning('Found dnsmasq version %(current)s installed, this ' 'version has a known issue, more details in: ' 'https://bugs.launchpad.net/bugs/2026757.', {'current': ver})",,7,0
openstack%2Fpuppet-sahara~master~I899bcf4b9cd0d8c49a39c3aba4c5e94db9864a2f,openstack/puppet-sahara,master,I899bcf4b9cd0d8c49a39c3aba4c5e94db9864a2f,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:52:31.000000000,2023-07-24 23:57:27.000000000,2023-07-24 23:57:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:52:31.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/2ed0dce1a7c6a74c7ee8bc2ec031f6b28cff4848', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I899bcf4b9cd0d8c49a39c3aba4c5e94db9864a2f\n'}]",1,889243,2ed0dce1a7c6a74c7ee8bc2ec031f6b28cff4848,11,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I899bcf4b9cd0d8c49a39c3aba4c5e94db9864a2f
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/43/889243/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,2ed0dce1a7c6a74c7ee8bc2ec031f6b28cff4848,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fcinder~stable%2Fyoga~Ic61f23c87de5dad52c06061849e3db970cee4327,openstack/cinder,stable/yoga,Ic61f23c87de5dad52c06061849e3db970cee4327,Fix volume caching in PowerFlex driver,MERGED,2022-11-02 11:52:01.000000000,2023-07-24 23:25:41.000000000,2023-07-24 23:24:21.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31779}]","[{'number': 1, 'created': '2022-11-02 11:52:01.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'releasenotes/notes/fix-powerflex-volume-cache-da3fa1769ef78ae8.yaml', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a91db604d8c9e80c49ea9a3c1ffb0ee0d821c55b', 'message': 'Fix volume caching in PowerFlex driver\n\nVolume caching stops working after 126th volume created from\nthe same image due to snapshot limit per volume in PowerFlex.\nThe driver needs to throw exception ""SnapshotLimitReached"" to\ninvalidate cache and start over with new volume snapshots.\n\nCloses-Bug: #1942095\nChange-Id: Ic61f23c87de5dad52c06061849e3db970cee4327\n(cherry picked from commit 05de32ece711eb101041efd153852121cb2e5fd8)\n'}]",5,863277,a91db604d8c9e80c49ea9a3c1ffb0ee0d821c55b,39,6,1,35464,,,0,"Fix volume caching in PowerFlex driver

Volume caching stops working after 126th volume created from
the same image due to snapshot limit per volume in PowerFlex.
The driver needs to throw exception ""SnapshotLimitReached"" to
invalidate cache and start over with new volume snapshots.

Closes-Bug: #1942095
Change-Id: Ic61f23c87de5dad52c06061849e3db970cee4327
(cherry picked from commit 05de32ece711eb101041efd153852121cb2e5fd8)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/863277/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'releasenotes/notes/fix-powerflex-volume-cache-da3fa1769ef78ae8.yaml', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py']",4,a91db604d8c9e80c49ea9a3c1ffb0ee0d821c55b,bug/1942095-stable/yoga,"TOO_MANY_SNAPS_ERROR = 182MAX_SNAPS_IN_VTREE = 126 # check if the volume reached snapshot limit if (""details"" in response and response[""details""][0][""rc""] == TOO_MANY_SNAPS_ERROR): raise exception.SnapshotLimitReached( set_limit=MAX_SNAPS_IN_VTREE)",,45,0
openstack%2Fnova~master~Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6,openstack/nova,master,Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6,"Add compute_id columns to instances, migrations",MERGED,2023-04-04 17:42:37.000000000,2023-07-24 23:25:36.000000000,2023-07-24 23:24:14.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-04 17:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a32d30546140e895e130a5d61b228195f4d1cd53', 'message': 'Add compute_id column to instances table\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 2, 'created': '2023-04-05 15:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c048a3af6a488fd02ca9b0cbcb4597ab9f4ef8d5', 'message': 'Add compute_id column to instances table\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 3, 'created': '2023-04-05 19:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fabc851d9be50aa6ed4e836185f760a644f687c8', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 4, 'created': '2023-04-07 19:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d2385c63fced85e0970bad34deab1a8dd6b9d56', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 5, 'created': '2023-04-12 17:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35b5371a3bd629bad3189a292218a757b3a90d21', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 6, 'created': '2023-05-05 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/084b6f384e81fd39e45dd35e7d0cb163eb23d2ea', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 7, 'created': '2023-05-08 23:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bdb419c12e7c6138310970d766e0b974fedbb6a', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 8, 'created': '2023-05-22 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38b454dda39abf578514900e4bc24e8abe509734', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 9, 'created': '2023-05-30 17:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c98a29e90805e7cc3a5502a47f6698d33248c6d4', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}, {'number': 10, 'created': '2023-05-31 14:13:27.000000000', 'files': ['nova/tests/unit/db/main/test_migrations.py', 'nova/db/main/migrations/versions/1acf2c98e646_add_compute_id_to_instance.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a47fdef1bfba8b1e2c3279f2c51eda3d8a985ec1', 'message': 'Add compute_id columns to instances, migrations\n\nThis adds a compute_id column to the instances table in anticipation\nof later patches to link instances to computes by row id instead of\nname. It also adds a dest_compute_id to migrations, so that we can\npositively track where the instance is to end up.\n\nRelated to blueprint compute-object-ids\n\nChange-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6\n'}]",27,879499,a47fdef1bfba8b1e2c3279f2c51eda3d8a985ec1,103,5,10,4393,,,0,"Add compute_id columns to instances, migrations

This adds a compute_id column to the instances table in anticipation
of later patches to link instances to computes by row id instead of
name. It also adds a dest_compute_id to migrations, so that we can
positively track where the instance is to end up.

Related to blueprint compute-object-ids

Change-Id: Ia9c367c08604926598b3c1c21bd8dbd2ba0bfbc6
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/879499/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/main/test_migrations.py', 'nova/db/main/migrations/versions/1acf2c98e646_add_compute_id_to_instance.py', 'nova/db/main/models.py']",3,a32d30546140e895e130a5d61b228195f4d1cd53,bp/compute-object-ids," sa.Index('instances_compute_id_deleted_idx', 'compute_id', 'deleted'), # This identifies the ComputeNode object that this instance resides # on and should be equivalent to the one referenced by the 'node' # field above. compute_id = sa.Column(sa.BigInteger())",,55,0
openstack%2Fneutron~master~I94e27baf4f06e3351c380982293d284cd1e4af22,openstack/neutron,master,I94e27baf4f06e3351c380982293d284cd1e4af22,Remove RULE_NET_OWNER_MEMBER API policy rule,ABANDONED,2023-07-20 08:00:00.000000000,2023-07-24 23:18:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-20 08:00:00.000000000', 'files': ['requirements.txt', 'neutron/conf/policies/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/15fe8730e6d75ed32c9544ca96e7240b1eae30f3', 'message': 'Remove RULE_NET_OWNER_MEMBER API policy rule\n\nThis rule was added temporary by [1] until ""network"" resource will not\nbe added to the neutron_lib.services.constants.EXT_PARENT_RESOURCE_MAPPING.\nNow it\'s there, added by [2] and it\'s available in neutron_lib >= 3.7.0.\n\nThis patch makes clean up of the temporary RULE_NET_OWNER_MEMBER,\nswitches subnet policies to use base.PARENT_OWNER_MEMBER instead and\nbumps required neutron-lib version to 3.7.0.\n\nRelated-bug: #2023679\n\n[1] https://review.opendev.org/c/openstack/neutron/+/886231\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/886746\n\nChange-Id: I94e27baf4f06e3351c380982293d284cd1e4af22\n'}]",1,889004,15fe8730e6d75ed32c9544ca96e7240b1eae30f3,6,1,1,11975,,,0,"Remove RULE_NET_OWNER_MEMBER API policy rule

This rule was added temporary by [1] until ""network"" resource will not
be added to the neutron_lib.services.constants.EXT_PARENT_RESOURCE_MAPPING.
Now it's there, added by [2] and it's available in neutron_lib >= 3.7.0.

This patch makes clean up of the temporary RULE_NET_OWNER_MEMBER,
switches subnet policies to use base.PARENT_OWNER_MEMBER instead and
bumps required neutron-lib version to 3.7.0.

Related-bug: #2023679

[1] https://review.opendev.org/c/openstack/neutron/+/886231
[2] https://review.opendev.org/c/openstack/neutron-lib/+/886746

Change-Id: I94e27baf4f06e3351c380982293d284cd1e4af22
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/889004/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/conf/policies/subnet.py']",2,15fe8730e6d75ed32c9544ca96e7240b1eae30f3,bug/2023679," base.PARENT_OWNER_MEMBER), base.PARENT_OWNER_MEMBER), base.PARENT_OWNER_MEMBER),","# TODO(slaweq): remove it once network will be added to the # EXT_PARENT_RESOURCE_MAPPING in neutron_lib and rule base.PARENT_OWNER_MEMBER # will be possible to use instead of RULE_NET_OWNER_MEMBER RULE_NET_OWNER_MEMBER = 'role:member and ' + base.RULE_NET_OWNER RULE_NET_OWNER_MEMBER), RULE_NET_OWNER_MEMBER), RULE_NET_OWNER_MEMBER),",4,9
openstack%2Fcharm-openstack-loadbalancer~master~I711b639df69af8ee643f3843c15b07d86e860aab,openstack/charm-openstack-loadbalancer,master,I711b639df69af8ee643f3843c15b07d86e860aab,Add 2023.2 Bobcat support,NEW,2023-07-20 20:14:55.000000000,2023-07-24 23:08:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 20:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/dc0349ed49c52def43c776e3b75caefe4c9f9f48', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n\nChange-Id: I711b639df69af8ee643f3843c15b07d86e860aab\n'}, {'number': 2, 'created': '2023-07-24 19:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/100d0b78ca369331a4475e444fbc16fc60537ead', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n\nChange-Id: I711b639df69af8ee643f3843c15b07d86e860aab\n'}, {'number': 3, 'created': '2023-07-24 19:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/5f3334c6333dbdcaa47bd967dc54fa2773b190ff', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n* drop kinetic\n\nChange-Id: I711b639df69af8ee643f3843c15b07d86e860aab\n'}, {'number': 4, 'created': '2023-07-24 19:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/7c32c7fe31d82ae959b76eef6f456afa455dc01d', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n* drop kinetic\n\nChange-Id: I711b639df69af8ee643f3843c15b07d86e860aab\n'}, {'number': 5, 'created': '2023-07-24 19:27:20.000000000', 'files': ['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'tests/tests.yaml', 'osci.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'charmcraft.yaml', 'tests/bundles/overlays/kinetic.yaml.j2', 'tests/bundles/mantic.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/e2fc5775cde1c72e8973914ae1635be23f22a176', 'message': 'Add 2023.2 Bobcat support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to bobcat\n* add mantic to metadata series\n* align testing with bobcat\n* add new bobcat bundles\n* add bobcat bundles to tests.yaml\n* add bobcat tests to osci.yaml\n* update build-on and run-on bases\n* drop kinetic\n\nChange-Id: I711b639df69af8ee643f3843c15b07d86e860aab\n'}]",0,889126,e2fc5775cde1c72e8973914ae1635be23f22a176,10,2,5,11805,,,0,"Add 2023.2 Bobcat support

* sync charm-helpers to classic charms
* change openstack-origin/source default to bobcat
* add mantic to metadata series
* align testing with bobcat
* add new bobcat bundles
* add bobcat bundles to tests.yaml
* add bobcat tests to osci.yaml
* update build-on and run-on bases
* drop kinetic

Change-Id: I711b639df69af8ee643f3843c15b07d86e860aab
",git fetch https://review.opendev.org/openstack/charm-openstack-loadbalancer refs/changes/26/889126/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'tests/tests.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'charmcraft.yaml', 'tests/bundles/overlays/kinetic.yaml.j2', 'metadata.yaml', 'tests/bundles/mantic.yaml']",7,dc0349ed49c52def43c776e3b75caefe4c9f9f48,,"local_overlay_enabled: False series: mantic applications: ceph-osd: charm: ch:ceph-osd num_units: 6 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' channel: latest/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: monitor-count: '3' channel: latest/edge vault: num_units: 1 charm: ch:vault channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster constraints: mem=3072M num_units: 3 channel: latest/edge vault-mysql-router: charm: ch:mysql-router channel: latest/edge ceph-dashboard: charm: ch:ceph-dashboard options: public-hostname: 'ceph-dashboard.zaza.local' channel: latest/edge openstack-loadbalancer: charm: ../../openstack-loadbalancer.charm num_units: 3 hacluster: charm: ch:hacluster options: cluster_count: 3 channel: latest/edge relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceph-dashboard:dashboard' - 'ceph-mon:dashboard' - - 'ceph-dashboard:certificates' - 'vault:certificates' - - 'openstack-loadbalancer:loadbalancer' - 'ceph-dashboard:loadbalancer' - - 'openstack-loadbalancer:ha' - 'hacluster:ha' ",,63,8
openstack%2Fironic~master~Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc,openstack/ironic,master,Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc,CI: Handle unhappiness with github cert,ABANDONED,2023-07-19 19:23:03.000000000,2023-07-24 22:30:11.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 19:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a509153224a638be6ff0efc175302843e1d893c', 'message': 'CI: Handle unhappiness with github cert\n\nChange-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc\n'}, {'number': 2, 'created': '2023-07-19 23:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc342bfe8c295d703070cf3c713d4d90a66aa31b', 'message': ""CI: Handle unhappiness with github cert\n\nTemporarily disable cert checking when downloading cirros image,\nand temporarily disable grenade in order for that change to land.\n\nThe grenade job must be re-enabled once this branch and it's older\nupgrade-buddy both have a version of this fix landed.\n\nChange-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc\n""}, {'number': 3, 'created': '2023-07-19 23:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/056d2fabfc940434087675e47e7129f70590a585', 'message': ""CI: Handle unhappiness with github cert\n\nTemporarily disable cert checking when downloading cirros image,\nand temporarily disable grenade in order for that change to land.\n\nThe grenade job must be re-enabled once this branch and it's older\nupgrade-buddy both have a version of this fix landed.\n\nChange-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc\n""}, {'number': 4, 'created': '2023-07-19 23:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05329a01617737b88454297972ca6a00cd40707b', 'message': ""CI: Handle unhappiness with github cert\n\nTemporarily disable cert checking when downloading cirros image,\nand temporarily disable grenade in order for that change to land.\n\nThe grenade job must be re-enabled once this branch and it's older\nupgrade-buddy both have a version of this fix landed.\n\nChange-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc\n""}, {'number': 5, 'created': '2023-07-19 23:30:42.000000000', 'files': ['zuul.d/project.yaml', 'devstack/tools/ironic/scripts/cirros-partition.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/254d22c886a81cec41f97b581135ffcff2395582', 'message': ""CI: Handle unhappiness with github cert\n\nTemporarily disable cert checking when downloading cirros image,\nand temporarily disable grenade in order for that change to land.\n\nThe grenade job must be re-enabled once this branch and it's older\nupgrade-buddy both have a version of this fix landed.\n\nChange-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc\n""}]",2,888951,254d22c886a81cec41f97b581135ffcff2395582,22,2,5,11655,,,0,"CI: Handle unhappiness with github cert

Temporarily disable cert checking when downloading cirros image,
and temporarily disable grenade in order for that change to land.

The grenade job must be re-enabled once this branch and it's older
upgrade-buddy both have a version of this fix landed.

Change-Id: Ic8d3cbcb0c25683e7459362a9d81ed532607d5bc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/888951/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tools/ironic/scripts/cirros-partition.sh'],1,4a509153224a638be6ff0efc175302843e1d893c,,"# FIXME(TheJulia): Below we're passing -k to curl so it doesn't freak when # it sees a subject alternative name missing from the certificate. # Cirros download site now directs to content.githubusercontent.com, but # the ssl certificate on that system is *.github.io without a Subject # Alternative Name. As of July 19th, 2023. :( curl -Lfk -o disk.qcow2 $DISK_URL",curl -Lf -o disk.qcow2 $DISK_URL,6,1
openstack%2Fswift~master~I31ed36d32682469e3c5ca8bf9a2b383568d63c72,openstack/swift,master,I31ed36d32682469e3c5ca8bf9a2b383568d63c72,proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler,MERGED,2023-06-23 13:42:30.000000000,2023-07-24 22:05:41.000000000,2023-07-24 22:04:28.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}, {'_account_id': 34892}]","[{'number': 1, 'created': '2023-06-23 13:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/67738885294be92ea2d7cff87c8298bb594da214', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler when the ECFragGetter class was introduced [2], but\nthe EC specific code was not expunged from GetOrHeadHandler. In [3]\nthe ECFragGetter client_chunk_size was renamed to fragment_size to\nbetter reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}, {'number': 2, 'created': '2023-06-26 09:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9d4c76250addafd7de3989a666045ac00be98d09', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler when the ECFragGetter class was introduced [2], but\nthe EC specific code was not expunged from GetOrHeadHandler. In [3]\nthe ECFragGetter client_chunk_size was renamed to fragment_size to\nbetter reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}, {'number': 3, 'created': '2023-06-26 11:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/db947cf34d24914608c4febabc09b143cf021954', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler when the ECFragGetter class was introduced [2], but\nthe EC specific code was not expunged from GetOrHeadHandler. In [3]\nthe ECFragGetter client_chunk_size was renamed to fragment_size to\nbetter reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}, {'number': 4, 'created': '2023-06-27 17:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/684b28042d1eb8e135e1e8ec6adf64f4a807f3ca', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler when the ECFragGetter class was introduced [2], but\nthe EC specific code was not expunged from GetOrHeadHandler. In [3]\nthe ECFragGetter client_chunk_size was renamed to fragment_size to\nbetter reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}, {'number': 5, 'created': '2023-07-10 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5bd21ba912f42ee6893ec5614609344da9e19f95', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler when the ECFragGetter class was introduced [2], but\nthe EC specific code was not expunged from GetOrHeadHandler. In [3]\nthe ECFragGetter client_chunk_size was renamed to fragment_size to\nbetter reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}, {'number': 6, 'created': '2023-07-24 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7417b538092e8212bb21d2470cc9945dae9ce9e5', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler for Object GET when the ECFragGetter class was introduced [2], but the EC specific code was not expunged from GetOrHeadHandler. In [3] the ECFragGetter client_chunk_size was renamed to fragment_size to better reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}, {'number': 7, 'created': '2023-07-24 14:15:23.000000000', 'files': ['test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/369a72c4cf48cf8637e508155cbef8471c69a39a', 'message': 'proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler\n\nThe client_chunk_size attribute was introduced into GetOrHeadHandler\nfor EC support [1]. It was only ever not None for an\nECObjectController. The ECObjectController stopped using\nGetOrHeadHandler for Object GET when the ECFragGetter class was\nintroduced [2], but the EC specific code was not expunged from\nGetOrHeadHandler. In [3] the ECFragGetter client_chunk_size was renamed\nto fragment_size to better reflect what it represented.\n\nThe skip_bytes attribute was similarly introduced for EC support. It\nis only ever non-zero if client_chunk_size is an int. For EC,\nskip_bytes is used to undo the effect of expanding the backend\nrange(s) to fetch whole fragments: the range(s) of decoded bytes\nreturned to the client may need to be narrower than the backend\nranges. There is no equivalent requirement for replicated GETs.\n\nThe elimination of client_chunk_size and skip_bytes simplifies the\nyielding of chunks from the GetOrHeadHandler response iter.\n\nRelated-Change:\n[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2\n[2] I0dc5644a84ededee753e449e053e6b1786fdcf32\n[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d\n\nChange-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72\n'}]",14,886823,369a72c4cf48cf8637e508155cbef8471c69a39a,28,4,7,7847,,,0,"proxy: remove client_chunk_size and skip_bytes from GetOrHeadHandler

The client_chunk_size attribute was introduced into GetOrHeadHandler
for EC support [1]. It was only ever not None for an
ECObjectController. The ECObjectController stopped using
GetOrHeadHandler for Object GET when the ECFragGetter class was
introduced [2], but the EC specific code was not expunged from
GetOrHeadHandler. In [3] the ECFragGetter client_chunk_size was renamed
to fragment_size to better reflect what it represented.

The skip_bytes attribute was similarly introduced for EC support. It
is only ever non-zero if client_chunk_size is an int. For EC,
skip_bytes is used to undo the effect of expanding the backend
range(s) to fetch whole fragments: the range(s) of decoded bytes
returned to the client may need to be narrower than the backend
ranges. There is no equivalent requirement for replicated GETs.

The elimination of client_chunk_size and skip_bytes simplifies the
yielding of chunks from the GetOrHeadHandler response iter.

Related-Change:
[1] I9c13c03616489f8eab7dcd7c5f21237ed4cb6fd2
[2] I0dc5644a84ededee753e449e053e6b1786fdcf32
[3] Ie1efaab3bd0510275d534b5c023cb73c98bec90d

Change-Id: I31ed36d32682469e3c5ca8bf9a2b383568d63c72
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/886823/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py']",5,67738885294be92ea2d7cff87c8298bb594da214,unify-get," path, backend_headers, logger=None): backend_headers, concurrency=1, policy=None, newest=None, logger=None): backend_headers, logger) if not chunk: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(chunk) yield chunk byte_count = ((end_byte - start_byte + 1) concurrency=1, policy=None):"," path, backend_headers, logger=None, client_chunk_size=None): self.client_chunk_size = client_chunk_size If client_chunk_size is set, makes sure we yield things starting on chunk boundaries based on the Content-Range header in the response. if self.client_chunk_size: self.skip_bytes = bytes_to_skip(self.client_chunk_size, start) backend_headers, concurrency=1, policy=None, client_chunk_size=None, newest=None, logger=None): backend_headers, logger, client_chunk_size) buf = b'' # NB: this append must be *inside* the context # manager for test.unit.SlowBody to do its thing buf += chunk buf = b'' if buf and self.skip_bytes: if self.skip_bytes < len(buf): buf = buf[self.skip_bytes:] self.bytes_used_from_backend += self.skip_bytes self.skip_bytes = 0 else: self.skip_bytes -= len(buf) self.bytes_used_from_backend += len(buf) buf = b'' if not chunk: if buf: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' if self.client_chunk_size is not None: while len(buf) >= self.client_chunk_size: client_chunk = buf[:self.client_chunk_size] buf = buf[self.client_chunk_size:] with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += \ len(client_chunk) yield client_chunk else: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' # note: learn_size_from_content_range() sets # self.skip_bytes byte_count = ((end_byte - start_byte + 1) - self.skip_bytes concurrency=1, policy=None, client_chunk_size=None): :param client_chunk_size: chunk size for response body iterator client_chunk_size=client_chunk_size,",120,162
openstack%2Fcharm-ceph-osd~master~I805b28bf625d69626fcf663530ac93073d298732,openstack/charm-ceph-osd,master,I805b28bf625d69626fcf663530ac93073d298732,Fix: test bundles for jammy and lunar,MERGED,2023-07-24 15:25:46.000000000,2023-07-24 21:45:37.000000000,2023-07-24 21:45:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-07-24 15:25:46.000000000', 'files': ['tests/bundles/lunar-antelope.yaml', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/6a0b48e916b61e6c236e77a39f095512f35386f2', 'message': 'Fix: test bundles for jammy and lunar\n\nSeries and UCA pockets were off. Also deploy supporting charms for\nlunar on jammy for stability\n\nChange-Id: I805b28bf625d69626fcf663530ac93073d298732\n'}]",1,889324,6a0b48e916b61e6c236e77a39f095512f35386f2,7,3,1,15382,,,0,"Fix: test bundles for jammy and lunar

Series and UCA pockets were off. Also deploy supporting charms for
lunar on jammy for stability

Change-Id: I805b28bf625d69626fcf663530ac93073d298732
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/24/889324/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/lunar-antelope.yaml', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed.yaml']",3,6a0b48e916b61e6c236e77a39f095512f35386f2,fix/test-bundles, openstack-origin: &openstack-origin cloud:jammy-zed series: jammy channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 3.9/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge, openstack-origin: &openstack-origin cloud:focal-yoga series: focal channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge options: source: *openstack-origin channel: latest/edge options: source: *openstack-origin channel: latest/edge channel: yoga/edge channel: yoga/edge channel: yoga/edge channel: yoga/edge channel: yoga/edge channel: yoga/edge channel: yoga/edge,59,59
openstack%2Fcinder~master~I6f17409e2beecc217d71bb2cdaa278e229280d0b,openstack/cinder,master,I6f17409e2beecc217d71bb2cdaa278e229280d0b,Bump mypy to 1.3.0,NEW,2023-05-26 14:16:24.000000000,2023-07-24 21:35:25.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 34489}, {'_account_id': 35075}, {'_account_id': 35316}]","[{'number': 1, 'created': '2023-05-26 14:16:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b759a5d08a7ec0b8973110f4fc2402db3a3471d6', 'message': 'Bump mypy to 1.3.0\n\nDepends-On: I8a784e446c730153ec2696ccdbd9502dde199168\nChange-Id: I6f17409e2beecc217d71bb2cdaa278e229280d0b\n'}]",6,884508,b759a5d08a7ec0b8973110f4fc2402db3a3471d6,27,5,1,4523,,,0,"Bump mypy to 1.3.0

Depends-On: I8a784e446c730153ec2696ccdbd9502dde199168
Change-Id: I6f17409e2beecc217d71bb2cdaa278e229280d0b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/884508/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b759a5d08a7ec0b8973110f4fc2402db3a3471d6,,mypy>=1.3.0 # MIT,mypy>=1.2.0 # MIT,1,1
openstack%2Fopenstack-ansible-plugins~master~I33a590e329cd455c9357d569867247f723d8a64a,openstack/openstack-ansible-plugins,master,I33a590e329cd455c9357d569867247f723d8a64a,Do not use notify inside handlers,MERGED,2023-07-18 11:33:26.000000000,2023-07-24 20:51:44.000000000,2023-07-24 20:49:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-18 11:33:26.000000000', 'files': ['roles/ssh_keypairs/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/267ea035d2f24f094d4a8d868ecab142e479d927', 'message': 'Do not use notify inside handlers\n\nSince latest ansible handlers are not triggered inside the same\nhandlers flush, which means that triggering mysql restart\nthe way we did does not work anymore. So instead of\nnotifying inside handlers, we add listen key to tasks\nthat are triggered by these newly produced notifications.\n\nThis could be due to the bug [1], but ansible-core version that has\nbackport included still shows inconsistent behaviour\n\n[1] https://github.com/ansible/ansible/issues/80880\n\nChange-Id: I33a590e329cd455c9357d569867247f723d8a64a\n'}]",0,888766,267ea035d2f24f094d4a8d868ecab142e479d927,8,3,1,28619,,,0,"Do not use notify inside handlers

Since latest ansible handlers are not triggered inside the same
handlers flush, which means that triggering mysql restart
the way we did does not work anymore. So instead of
notifying inside handlers, we add listen key to tasks
that are triggered by these newly produced notifications.

This could be due to the bug [1], but ansible-core version that has
backport included still shows inconsistent behaviour

[1] https://github.com/ansible/ansible/issues/80880

Change-Id: I33a590e329cd455c9357d569867247f723d8a64a
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/66/888766/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ssh_keypairs/handlers/main.yml'],1,267ea035d2f24f094d4a8d868ecab142e479d927,osa/core-2.15, listen: - Regenerate trusted_ca file, notify: Reload sshd,2,1
openstack%2Fopenstack-ansible-plugins~master~I3129b75af1127c62a0bd1cee39586730c5f6589c,openstack/openstack-ansible-plugins,master,I3129b75af1127c62a0bd1cee39586730c5f6589c,Installing systemd-udev with NVR,MERGED,2023-07-18 08:16:36.000000000,2023-07-24 20:50:48.000000000,2023-07-24 20:49:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-18 08:16:36.000000000', 'files': ['roles/glusterfs/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/2638ff34e750268fcccbebbb95feae03adf27a68', 'message': 'Installing systemd-udev with NVR\n\nDue to the bug [1] in CentOS packaging, systemd-udev is substituted with\nsystemd-boot-unsigned. So you need to use NVR to properly\ninstall systemd-udev until the bug is fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279\n\nChange-Id: I3129b75af1127c62a0bd1cee39586730c5f6589c\n'}]",1,888753,2638ff34e750268fcccbebbb95feae03adf27a68,10,4,1,28619,,,0,"Installing systemd-udev with NVR

Due to the bug [1] in CentOS packaging, systemd-udev is substituted with
systemd-boot-unsigned. So you need to use NVR to properly
install systemd-udev until the bug is fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279

Change-Id: I3129b75af1127c62a0bd1cee39586730c5f6589c
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/53/888753/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/glusterfs/vars/redhat.yml'],1,2638ff34e750268fcccbebbb95feae03adf27a68,osa/centos_lxc, - systemd-udev-252-*, - systemd-udev,1,1
openstack%2Fcharm-guide~master~I8099c5b3c8fc4f23d517d48b55061f194796c69f,openstack/charm-guide,master,I8099c5b3c8fc4f23d517d48b55061f194796c69f,Update backport policy,MERGED,2023-02-22 13:21:57.000000000,2023-07-24 19:27:22.000000000,2023-07-24 17:46:38.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-02-22 13:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0d2ceb43d66156f2dd862703fd1bfaf619a17307', 'message': 'Update backport policy\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}, {'number': 2, 'created': '2023-02-22 14:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/845206aaa3eb941afe099b20560b2ced672a1867', 'message': 'Update backport policy\n\nThis change updates the backport policy aligning it with the current\nstate of the project since the inclusion of multiple maintained git\nbranches (one per OpenStack release) which are delivered on Charmhub via\nmultiple channels, this new delivery mechanim has prompted to the\ncommunity to be more proactive on the proposal of backports.\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}, {'number': 3, 'created': '2023-07-17 23:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c55381c4f9ed785a98a35f8e03efe13795dd048a', 'message': 'Update backport policy\n\nThis change updates the backport policy aligning it with the current\nstate of the project since the inclusion of multiple maintained git\nbranches (one per OpenStack release) which are delivered on Charmhub via\nmultiple channels, this new delivery mechanim has prompted to the\ncommunity to be more proactive on the proposal of backports.\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}, {'number': 4, 'created': '2023-07-18 14:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9021c13c21b94078ac3015c12da5388448d95b18', 'message': 'Update backport policy\n\nThis change updates the backport policy aligning it with the current\nstate of the project since the inclusion of multiple maintained git\nbranches (one per OpenStack release) which are delivered on Charmhub via\nmultiple channels, this new delivery mechanim has prompted to the\ncommunity to be more proactive on the proposal of backports.\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}, {'number': 5, 'created': '2023-07-24 15:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a7aa83a952909c839fa99bd7394e56e75f78121b', 'message': 'Update backport policy\n\nThis change updates the backport policy aligning it with the current\nstate of the project since the inclusion of multiple maintained git\nbranches (one per OpenStack release) which are delivered on Charmhub via\nmultiple channels, this new delivery mechanim has prompted to the\ncommunity to be more proactive on the proposal of backports.\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}, {'number': 6, 'created': '2023-07-24 15:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6859140c8897d851f08b6a931e07894234571f70', 'message': 'Update backport policy\n\nThis change updates the backport policy aligning it with the current\nstate of the project since the inclusion of multiple maintained git\nbranches (one per OpenStack release) which are delivered on Charmhub via\nmultiple channels, this new delivery mechanim has prompted to the\ncommunity to be more proactive on the proposal of backports.\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}, {'number': 7, 'created': '2023-07-24 17:28:49.000000000', 'files': ['doc/source/project/backport-policy.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/34880447565b57ab03aa89a13649660123752195', 'message': 'Update backport policy\n\nThis change updates the backport policy aligning it with the current\nstate of the project since the inclusion of multiple maintained git\nbranches (one per OpenStack release) which are delivered on Charmhub via\nmultiple channels, this new delivery mechanim has prompted to the\ncommunity to be more proactive on the proposal of backports.\n\nChange-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f\n'}]",33,874770,34880447565b57ab03aa89a13649660123752195,28,5,7,2424,,,0,"Update backport policy

This change updates the backport policy aligning it with the current
state of the project since the inclusion of multiple maintained git
branches (one per OpenStack release) which are delivered on Charmhub via
multiple channels, this new delivery mechanim has prompted to the
community to be more proactive on the proposal of backports.

Change-Id: I8099c5b3c8fc4f23d517d48b55061f194796c69f
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/70/874770/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/backport-policy.rst'],1,0d2ceb43d66156f2dd862703fd1bfaf619a17307,backport-policy,"Backporting PolicyGuidelines ---------- The charms project uses git for source version control, hence backports are done by cherry picking a patch that has been already merged into another branch (e.g. master). These are the guidelines: * Before you cherry-pick a change, make sure it has already been merged to master. If the patch is still in review the revision of the patch you are cherry-picking may not be the exact one that ends up being merged in master. The simplest way to do this is run git branch --contains <COMMIT_ID>, if the commit id is found in at least the master branch, then it passes this criteria. * Backports must be proposed in reverse chronological order. For example if you want to get a bug fixed in ``Xena``, and the last stable release is ``Antelope``, then the backport needs to be proposed for ``stable/antelope``, ``stable/zed``, ``stable/yoga`` and finally ``stable/xena``. * You can propose backports directly from git instead of using the gerrit web interface, but if you do, you must include the fact that its a cherry-pick in the commit message using the -x flag, for example ``git cherry-pick -x <COMMIT_ID>``. This will allow easier tracking of the patch as it is backported into different branches. * Bug fixes classified as **Critical** and **High** in Launchpad are considered candidates to be backported. * Backports of simple configuration enablements that are opt-in can be considered as candidates, although its important those patches dont introduce new behaviors (e.g. default values are changed). * A juju action that improves operator experience is another candidate for backports, but care will be taken into account considering what risk the change introduces, if you consider the risk to be minimal, then include your reasoning, so the maintainers team can take a more informed decision. Exclusions ---------- * A large or risky new feature is not a candidate for being backported. CI Testing ---------- * Commits that depend on functional testing need to be backported as well in tandem, an example can be found at <URL_OF_BACKPORT_THAT_NEEDS_Z-O-T_BACKPORT> Backport Approvals* All charm stable branch reviews must be approved by two core reviewers or stable maintainers prior to landing and CI system(s) voted with a Verified+1.","Backporting policyThis page documents the OpenStack Charms backport policy. Backport candidates ------------------- - Critical and High bugs fixes, if reported in Launchpad. Backport exclusions ------------------- - Medium and Low bug fixes - Features Backport exceptions ------------------- Exceptions may be made to changes covered under 'Backport exclusions' in the event that the default behaviour of the charm is not impacted and that the risk of regression is deemed sufficiently low. The change must be covered by a bug report and the regression risk must be evaluated and documented in the bug report as part of the stable backport process. Backport approvalsAll charm stable branch reviews must be approved by two core reviewers prior to landing.",43,21
openstack%2Fcharm-guide~master~I5df82ab5f33d731397788ffefb947ed56ce6fd30,openstack/charm-guide,master,I5df82ab5f33d731397788ffefb947ed56ce6fd30,Minor amendments to the backport policy.,MERGED,2023-07-24 18:54:48.000000000,2023-07-24 19:13:39.000000000,2023-07-24 19:12:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-07-24 18:54:48.000000000', 'files': ['doc/source/project/backport-policy.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6d6611e1e76e4a9d54a55f4f94a3f415d7d83b61', 'message': 'Minor amendments to the backport policy.\n\nChange-Id: I5df82ab5f33d731397788ffefb947ed56ce6fd30\n'}]",1,889340,6d6611e1e76e4a9d54a55f4f94a3f415d7d83b61,7,2,1,2424,,,0,"Minor amendments to the backport policy.

Change-Id: I5df82ab5f33d731397788ffefb947ed56ce6fd30
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/40/889340/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/backport-policy.rst'],1,6d6611e1e76e4a9d54a55f4f94a3f415d7d83b61,backport-policy,Only a fix for a bug classified as **Critical** or **High** in Launchpad can be considered as a backport candidate.~~~~~~~~~~ A code change is generally not eligible as a backport when it is either: * large * risky The following consequences of a code change qualifies it as risky: * New behaviour is introduced in the charm * New behaviour is introduced in the payload * New Debian packages are installed on the host * New Python packages are installed in the charm The above is not an exhaustive list... code-block:: none git checkout -t origin/stable/zed git cherry-pick -x $master_commit_id git review stable/zed,"Bug fixes classified as **Critical** or **High** in Launchpad are considered candidates to be backported.---------- A large or risky new feature is not a candidate for being backported. An inconclusive list of aspects that make a backport to fall in the category of ""risky new feature"" would be: * It introduces new behaviors to the charm or the payload * It installs new debian packages in the system, or python packages in the charm. .. code:: $ git checkout -t origin/stable/zed $ git cherry-pick -x $master_commit_id $ git review stable/zed",17,13
openstack%2Fopenstack-ansible-memcached_server~master~Ie285e582fc9ada149c199a3bd4e6344035068bd3,openstack/openstack-ansible-memcached_server,master,Ie285e582fc9ada149c199a3bd4e6344035068bd3,"[doc] Document how to use ""local"" memcached",MERGED,2023-07-11 18:19:57.000000000,2023-07-24 18:51:55.000000000,2023-07-24 18:50:46.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-11 18:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/c7e3d7ea22769a6924511f80a68e54d03162970b', 'message': '[doc] Document how to use ""local"" memcached\n\nHaving ""local"" memcached might be valuable for some usecases,\nlike availability zones, where distance or connection between\ncontrollers is a concern, and memcached with lowest latency should\nbe preffered whenever possible.\n\nChange-Id: Ie285e582fc9ada149c199a3bd4e6344035068bd3\n'}, {'number': 2, 'created': '2023-07-11 19:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e94f0ed888b012b037743581adb1d13855d417a9', 'message': '[doc] Document how to use ""local"" memcached\n\nHaving ""local"" memcached might be valuable for some usecases,\nlike availability zones, where distance or connection between\ncontrollers is a concern, and memcached with lowest latency should\nbe preffered whenever possible.\n\nChange-Id: Ie285e582fc9ada149c199a3bd4e6344035068bd3\n'}, {'number': 3, 'created': '2023-07-11 19:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/1178faeb5b097ae6f12084a837242bae2f672bab', 'message': '[doc] Document how to use ""local"" memcached\n\nHaving ""local"" memcached might be valuable for some usecases,\nlike availability zones, where distance or connection between\ncontrollers is a concern, and memcached with lowest latency should\nbe preffered whenever possible.\n\nChange-Id: Ie285e582fc9ada149c199a3bd4e6344035068bd3\n'}, {'number': 4, 'created': '2023-07-11 20:07:21.000000000', 'files': ['doc/source/index.rst', 'doc/source/configure-ha.rst', 'doc/source/alternate-configurations.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e29db7b3cba9a9f506d4021fbf8ccec473c32dd6', 'message': '[doc] Document how to use ""local"" memcached\n\nHaving ""local"" memcached might be valuable for some usecases,\nlike availability zones, where distance or connection between\ncontrollers is a concern, and memcached with lowest latency should\nbe preffered whenever possible.\n\nChange-Id: Ie285e582fc9ada149c199a3bd4e6344035068bd3\n'}]",1,888148,e29db7b3cba9a9f506d4021fbf8ccec473c32dd6,15,3,4,28619,,,0,"[doc] Document how to use ""local"" memcached

Having ""local"" memcached might be valuable for some usecases,
like availability zones, where distance or connection between
controllers is a concern, and memcached with lowest latency should
be preffered whenever possible.

Change-Id: Ie285e582fc9ada149c199a3bd4e6344035068bd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/48/888148/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/configure-ha.rst', 'doc/source/alternate-configurations.rst']",3,c7e3d7ea22769a6924511f80a68e54d03162970b,,"==================================== Alternative Memcached configurations ==================================== By default Memcached servers are deployed on each controller host as a part of `shared-infra_containers` group. Drivers, like `oslo_cache.memcache_pool <https://github.com/openstack/oslo.cache/blob/master/oslo_cache/backends/memcache_pool.py>`_ support marking memcache backends as dead, however not all services allow you to select driver which will be used for interaction with Memcached. In the meanwhile you may face services API response delays or even unresponsive APIs while one of the memcached backends is down. That's why you may want to use HAProxy for handling access and check of backend aliveness or use always ""local"" to the service memcached server. Configuring Memcached through HAProxy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Setting haproxy in front of the Memcached servers and relying it in checking aliveness of the backends gives more reliable failover and minimize delays in case of backend failure. We need to define the following in your ``user_variables.yml``: .. code-block:: yaml haproxy_memcached_allowlist_networks: ""{{ haproxy_allowlist_networks }}"" memcached_servers: ""{{ internal_lb_vip_address ~ ':' ~ memcached_port }}"" haproxy_extra_services: - service: haproxy_service_name: memcached haproxy_backend_nodes: ""{{ groups['memcached'] | default([]) }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_port: 11211 haproxy_balance_type: tcp haproxy_balance_alg: source haproxy_backend_ssl: False haproxy_backend_options: - tcp-check haproxy_allowlist_networks: ""{{ haproxy_memcached_allowlist_networks }}"" After setting that you need to update haproxy and all services configuration to use new memcached backend: .. code-block:: shell-session # openstack-ansible playbooks/haproxy-install.yml # openstack-ansible playbooks/setup-openstack.yml Using only ""local"" Memcached ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Idea behind that, is to configure services to use Memcached, that will reside only on local control plane. Here ""local"" means not only having memcahed inside the container with the service itslef, but also having memcached inside a separate container on the same controller as the service well. This will reduce latency and improve stability, since service and memcached instance will be running on the same control plane just on different containers that are connected through the same L2 bridge. Among cons of this approach is that there won't be any failover available in case of the memcached container crush, so caching on this controller won't work. For pros it's only 1 controller that will be affected and not all of them in case of remote memcached unavailability. Also, most common scenario of API response delays is when whole controller goes down, since connection drop causes memcache_pool to wait for connection timeout rather then connection is rejected when memcached service goes down and memcache_pool instantly switches to another backend. .. note:: In case some service won't have memcached server ""locally"" to the service that is running, behaviour will fallback to using all available memcached servers and memcached client will decide which one to use. In order to always use ""local"" memcached you need to define the following in the ``user_variables.yml`` file: .. code-block:: yaml memcached_servers: |- {% set service_controller_group = group_names | select('regex', '.*-host_containers') | first | default('memcached') %} {{ groups['memcached'] | intersect(groups[service_controller_group]) | map('extract', hostvars, 'management_address') | map('regex_replace', '(.+)', '\1:' ~ memcached_port) | list | join(',') }} After setting that you need to update all services configuration to use new memcached backend: .. code-block:: shell-session # openstack-ansible playbooks/setup-openstack.yml ",,97,46
openstack%2Fansible-role-python_venv_build~master~I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260,openstack/ansible-role-python_venv_build,master,I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260,Fix linters and metadata,MERGED,2023-07-12 10:56:33.000000000,2023-07-24 18:49:14.000000000,2023-07-24 18:48:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-12 10:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/cf5a69e62d9d7617182cca69d5343583dbef0879', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260\n""}, {'number': 2, 'created': '2023-07-12 13:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/96bf0bd8ce161a8014068f96ed1e3a8bf183c4d2', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260\n""}, {'number': 3, 'created': '2023-07-13 11:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/aa4eca4d5d5626516b91ee70b9b50bbcd083288a', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260\n""}, {'number': 4, 'created': '2023-07-13 13:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/80cf149e0938cf1e45ee49b332d07cdd57863156', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260\n""}, {'number': 5, 'created': '2023-07-14 05:48:27.000000000', 'files': ['tasks/python_venv_set_facts.yml', 'tasks/main.yml', 'tasks/python_venv_install_symlink.yml', 'handlers/main.yml', 'tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'vars/main.yml', 'meta/main.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/43032d25cf73c8c26e9b96195bef15f08ea70dd3', 'message': ""Fix linters and metadata\n\nWith update of ansible-lint to version >=6.0.0 a lot of new\nlinters were added, that enabled by default. In order to comply\nwith linter rules we're applying changes to the role.\n\nWith that we also update metdata to reflect current state.\n\nChange-Id: I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260\n""}]",1,888227,43032d25cf73c8c26e9b96195bef15f08ea70dd3,18,3,5,28619,,,0,"Fix linters and metadata

With update of ansible-lint to version >=6.0.0 a lot of new
linters were added, that enabled by default. In order to comply
with linter rules we're applying changes to the role.

With that we also update metdata to reflect current state.

Change-Id: I6b4b83ec472d4a3de9139eb4e7c7b2dc8a9fc260
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/27/888227/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_set_facts.yml', 'tasks/main.yml', 'tasks/python_venv_install_symlink.yml', 'handlers/main.yml', 'tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'vars/main.yml', 'meta/main.yml', 'tasks/python_venv_install.yml']",9,cf5a69e62d9d7617182cca69d5343583dbef0879,osa/core-2.15," name: >- {{ (venv_wheel_build_enable | bool) | ternary( venv_install_base_distro_package_list | union(venv_install_distro_package_list), ( venv_build_base_distro_package_list | union(venv_build_distro_package_list) | union(venv_install_base_distro_package_list) | union(venv_install_distro_package_list) ) ) }} mode: ""0755"" mode: ""0644"""," name: ""{{ (venv_wheel_build_enable | bool) | ternary(venv_install_base_distro_package_list | union(venv_install_distro_package_list), (venv_build_base_distro_package_list | union(venv_build_distro_package_list) | union(venv_install_base_distro_package_list) | union(venv_install_distro_package_list))) }}""",51,15
openstack%2Fnetworking-bgpvpn~stable%2Fvictoria~I4d96eeba7a1f2da8d939803a5b7b785af9607bc8,openstack/networking-bgpvpn,stable/victoria,I4d96eeba7a1f2da8d939803a5b7b785af9607bc8,[stable-only] Cap virtualenv/setuptools,NEW,2023-07-17 15:38:37.000000000,2023-07-24 18:36:48.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/acbed6f765008824f6d1dcf573c5941d9cdf75c3', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I4d96eeba7a1f2da8d939803a5b7b785af9607bc8\n""}, {'number': 2, 'created': '2023-07-24 17:37:06.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/165a093dbb84df7b22149cc49df5cf7962954307', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I4d96eeba7a1f2da8d939803a5b7b785af9607bc8\n""}]",0,888719,165a093dbb84df7b22149cc49df5cf7962954307,4,2,2,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I4d96eeba7a1f2da8d939803a5b7b785af9607bc8
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/19/888719/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,acbed6f765008824f6d1dcf573c5941d9cdf75c3,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fansible-role-systemd_mount~master~I3c112b74b4777b9443f3c3041a51ecb770d48021,openstack/ansible-role-systemd_mount,master,I3c112b74b4777b9443f3c3041a51ecb770d48021,Installing systemd-udev with NVR,MERGED,2023-07-18 08:19:30.000000000,2023-07-24 18:34:36.000000000,2023-07-24 18:33:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-18 08:19:30.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/cb8418715a139615175489a6589449f5f60a0158', 'message': 'Installing systemd-udev with NVR\n\nDue to the bug [1] in CentOS packaging, systemd-udev is substituted with\nsystemd-boot-unsigned. So you need to use NVR to properly\ninstall systemd-udev until the bug is fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279\n\nChange-Id: I3c112b74b4777b9443f3c3041a51ecb770d48021\n'}]",0,888754,cb8418715a139615175489a6589449f5f60a0158,10,4,1,28619,,,0,"Installing systemd-udev with NVR

Due to the bug [1] in CentOS packaging, systemd-udev is substituted with
systemd-boot-unsigned. So you need to use NVR to properly
install systemd-udev until the bug is fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2183279

Change-Id: I3c112b74b4777b9443f3c3041a51ecb770d48021
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/54/888754/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,cb8418715a139615175489a6589449f5f60a0158,osa/centos_lxc, - systemd-udev-252-*, - systemd-udev,1,1
openstack%2Fswift~master~Ic3f15df5820f0e92c4042b1ffbd7ab06fb02ec44,openstack/swift,master,Ic3f15df5820f0e92c4042b1ffbd7ab06fb02ec44,squash: wsgi error log txn-id tests,NEW,2023-07-24 18:28:46.000000000,2023-07-24 18:29:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-24 18:28:46.000000000', 'files': ['test/unit/common/test_http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eaea37c77bf4764f73ed1bbc37b6227d01659e57', 'message': 'squash: wsgi error log txn-id tests\n\nChange-Id: Ic3f15df5820f0e92c4042b1ffbd7ab06fb02ec44\n'}]",0,889335,eaea37c77bf4764f73ed1bbc37b6227d01659e57,3,1,1,7847,,,0,"squash: wsgi error log txn-id tests

Change-Id: Ic3f15df5820f0e92c4042b1ffbd7ab06fb02ec44
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/889335/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_http_protocol.py'],1,eaea37c77bf4764f73ed1bbc37b6227d01659e57,bad-req-txn,"from test.debug_logger import debug_logger, DebugLogger def _run_bytes_through_protocol(self, bytes_from_client, app=None, server_logger=None): log=server_logger, def test_bad_request_server_logging(self): server_logger = debug_logger() with mock.patch('swift.common.http_protocol.generate_trans_id', return_value='test-trans-id'): bytes_out = self._run_bytes_through_protocol(( b""ONLY-METHOD\r\n"" b""Server: example.com\r\n"" b""\r\n"" ), server_logger=server_logger) self.assertIn(b""X-Trans-Id: test-trans-id"", lines[6]) self.assertIn(b""X-Openstack-Request-Id: test-trans-id"", lines[7]) self.assertIn( ""ERROR WSGI: code 400, message Bad request syntax ('ONLY-METHOD'),"" "" transaction_id test-trans-id"", server_logger.get_lines_for_level('info')) def test_bad_request_app_logging(self): server_logger = debug_logger() app_logger = debug_logger() app = mock.MagicMock() app.logger = app_logger with mock.patch('swift.common.http_protocol.generate_trans_id', return_value='test-trans-id'): bytes_out = self._run_bytes_through_protocol(( b""ONLY-METHOD\r\n"" b""Server: example.com\r\n"" b""\r\n"" ), server_logger=server_logger, app=app) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual( lines[0], b""HTTP/1.1 400 Bad request syntax ('ONLY-METHOD')"") self.assertIn(b""Bad request syntax or unsupported method."", lines[-1]) self.assertIn(b""X-Trans-Id: test-trans-id"", lines[6]) self.assertIn(b""X-Openstack-Request-Id: test-trans-id"", lines[7]) # debug_logger doesn't add txn_id to the log message :'( self.assertIn( ""ERROR WSGI: code 400, message Bad request syntax ('ONLY-METHOD')"", app_logger.get_lines_for_level('error')) # but we can at least assert that the logger txn_id was set self.assertEqual('test-trans-id', app_logger.txn_id) # the app logged this, server logger not used... self.assertNotIn( ""ERROR WSGI: code 400, message Bad request syntax ('ONLY-METHOD'),"" "" transaction_id test-trans-id"", server_logger.get_lines_for_level('info')) def test_bad_request_app_logging_has_no_txn_id_attribute(self): server_logger = debug_logger() # use a DebugLogger without a DebugLogAdapter so the app has a logger, # but the logger does not have a txn_id attribute app_logger = DebugLogger() with self.assertRaises(AttributeError): app_logger.txn_id app = mock.MagicMock() app.logger = app_logger with mock.patch('swift.common.http_protocol.generate_trans_id', return_value='test-trans-id'): bytes_out = self._run_bytes_through_protocol(( b""ONLY-METHOD\r\n"" b""Server: example.com\r\n"" b""\r\n"" ), server_logger=server_logger, app=app) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual( lines[0], b""HTTP/1.1 400 Bad request syntax ('ONLY-METHOD')"") self.assertIn(b""Bad request syntax or unsupported method."", lines[-1]) self.assertIn(b""X-Trans-Id: test-trans-id"", lines[6]) self.assertIn(b""X-Openstack-Request-Id: test-trans-id"", lines[7]) # debug_logger doesn't add txn_id to the log message :'( self.assertIn( ""ERROR WSGI: code 400, message Bad request syntax ('ONLY-METHOD'),"" "" transaction_id test-trans-id"", app_logger.get_lines_for_level('error')) with self.assertRaises(AttributeError): app_logger.txn_id # the app logged this, server logger not used... self.assertNotIn( ""ERROR WSGI: code 400, message Bad request syntax ('ONLY-METHOD'),"" "" transaction_id test-trans-id"", server_logger.get_lines_for_level('info'))","from debug_logger import debug_logger def _run_bytes_through_protocol(self, bytes_from_client, app=None): log=debug_logger('proxy'), def test_bad_request(self): bytes_out = self._run_bytes_through_protocol(( b""ONLY-METHOD\r\n"" b""Server: example.com\r\n"" b""\r\n"" )) self.assertIn(b""X-Trans-Id"", lines[6]) self.assertIn(b""X-Openstack-Request-Id"", lines[7])",85,11
openstack%2Fcharm-vault~master~Ib4f4a8acf807de0406b9588d32750e3a48ff2841,openstack/charm-vault,master,Ib4f4a8acf807de0406b9588d32750e3a48ff2841,Convert the charm to binary wheel builds,MERGED,2023-07-19 19:14:31.000000000,2023-07-24 17:45:52.000000000,2023-07-24 17:45:52.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 19:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d8819c4ad6c399c0acba9bfe751f6aac404b4ff7', 'message': 'Convert the charm to binary wheel builds\n\nConverting the charm to binary builds provides two benefits:\n\n - build time issues are moved to testing rather than (failing) at the\n   install time, which can often happen after the charm is pushed to the\n   charmhub.\n - the install time is much, much faster. This means upgrades take < 1m\n   rather 3-4m.\n\nChange-Id: Ib4f4a8acf807de0406b9588d32750e3a48ff2841\n'}, {'number': 2, 'created': '2023-07-19 19:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ad122c67e105440a6f3f6491fbe45320fd33cdad', 'message': 'Convert the charm to binary wheel builds\n\nConverting the charm to binary builds provides two benefits:\n\n - build time issues are moved to testing rather than (failing) at the\n   install time, which can often happen after the charm is pushed to the\n   charmhub.\n - the install time is much, much faster. This means upgrades take < 1m\n   rather 3-4m.\n\nChange-Id: Ib4f4a8acf807de0406b9588d32750e3a48ff2841\n'}, {'number': 3, 'created': '2023-07-20 11:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/94e8320ba8bd522950dd8fdf5e9ebfba8d543eaa', 'message': 'Convert the charm to binary wheel builds\n\nConverting the charm to binary builds provides two benefits:\n\n - build time issues are moved to testing rather than (failing) at the\n   install time, which can often happen after the charm is pushed to the\n   charmhub.\n - the install time is much, much faster. This means upgrades take < 1m\n   rather 3-4m.\n\nChange-Id: Ib4f4a8acf807de0406b9588d32750e3a48ff2841\n'}, {'number': 4, 'created': '2023-07-20 11:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/13879f0c8f184edd3a80918100f3e038c72f544d', 'message': 'Convert the charm to binary wheel builds\n\nConverting the charm to binary builds provides two benefits:\n\n - build time issues are moved to testing rather than (failing) at the\n   install time, which can often happen after the charm is pushed to the\n   charmhub.\n - the install time is much, much faster. This means upgrades take < 1m\n   rather 3-4m.\n\nChange-Id: Ib4f4a8acf807de0406b9588d32750e3a48ff2841\n'}, {'number': 5, 'created': '2023-07-20 15:44:55.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-mysql8.yaml', 'src/tests/bundles/kinetic-raft-cluster.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/jammy-raft-cluster.yaml', 'src/tests/bundles/kinetic-mysql8.yaml', 'tox.ini', 'src/tests/bundles/jammy-raft.yaml', 'src/tests/bundles/kinetic-raft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c331210e2283647dd9c1207fc7e78b094040424e', 'message': 'Convert the charm to binary wheel builds\n\nConverting the charm to binary builds provides two benefits:\n\n - build time issues are moved to testing rather than (failing) at the\n   install time, which can often happen after the charm is pushed to the\n   charmhub.\n - the install time is much, much faster. This means upgrades take < 1m\n   rather 3-4m.\n\nChange-Id: Ib4f4a8acf807de0406b9588d32750e3a48ff2841\n'}]",1,888950,c331210e2283647dd9c1207fc7e78b094040424e,15,3,5,20870,,,0,"Convert the charm to binary wheel builds

Converting the charm to binary builds provides two benefits:

 - build time issues are moved to testing rather than (failing) at the
   install time, which can often happen after the charm is pushed to the
   charmhub.
 - the install time is much, much faster. This means upgrades take < 1m
   rather 3-4m.

Change-Id: Ib4f4a8acf807de0406b9588d32750e3a48ff2841
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/50/888950/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/jammy-mysql8.yaml', 'src/tests/bundles/kinetic-raft-cluster.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/jammy-raft-cluster.yaml', 'src/tests/bundles/kinetic-mysql8.yaml', 'tox.ini', 'src/tests/bundles/jammy-raft.yaml', 'src/tests/bundles/kinetic-raft.yaml']",9,d8819c4ad6c399c0acba9bfe751f6aac404b4ff7,, charm: ../../../vault_ubuntu-23.04-amd64.charm, charm: ../../../vault.charm,68,26
openstack%2Fswift~master~I2764896c673e3cddc6d62b7b9f75f643fa0c6a44,openstack/swift,master,I2764896c673e3cddc6d62b7b9f75f643fa0c6a44,stats: Allow emission of tagged metrics,NEW,2023-06-05 22:50:52.000000000,2023-07-24 17:36:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 22:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fc963787b25315b1f4336dd9f146e39f9e9991ba', 'message': 'stats: Allow emission of tagged metrics\n\nChange-Id: I2764896c673e3cddc6d62b7b9f75f643fa0c6a44\n'}, {'number': 2, 'created': '2023-06-06 04:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78b986e98e6856a898a1449538860e2de4a4d644', 'message': 'stats: Allow emission of tagged metrics\n\nChange-Id: I2764896c673e3cddc6d62b7b9f75f643fa0c6a44\n'}, {'number': 3, 'created': '2023-07-24 15:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ffe5c735d2868dccd97142b76bfffa6dd2b1108', 'message': 'stats: Allow emission of tagged metrics\n\nChange-Id: I2764896c673e3cddc6d62b7b9f75f643fa0c6a44\n'}, {'number': 4, 'created': '2023-07-24 15:58:51.000000000', 'files': ['swift/obj/server.py', 'swift/obj/reconstructor.py', 'swift/common/memcached.py', 'swift/common/utils/__init__.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'swift/obj/expirer.py', 'swift/common/db.py', 'swift/container/updater.py', 'swift/account/reaper.py', 'swift/obj/diskfile.py', 'swift/common/middleware/proxy_logging.py', 'swift/common/middleware/backend_ratelimit.py', 'swift/container/sync.py', 'swift/common/middleware/tempurl.py', 'swift/obj/auditor.py', 'swift/common/middleware/formpost.py', 'swift/container/replicator.py', 'swift/proxy/server.py', 'swift/common/db_auditor.py', 'swift/obj/replicator.py', 'swift/obj/updater.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/tempauth.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7fe650acb0b5e365f70e79f0c346489c3543644f', 'message': 'stats: Allow emission of tagged metrics\n\nChange-Id: I2764896c673e3cddc6d62b7b9f75f643fa0c6a44\n'}]",128,885321,7fe650acb0b5e365f70e79f0c346489c3543644f,11,1,4,15343,,,0,"stats: Allow emission of tagged metrics

Change-Id: I2764896c673e3cddc6d62b7b9f75f643fa0c6a44
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/885321/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/obj/reconstructor.py', 'swift/common/memcached.py', 'swift/common/utils/__init__.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'swift/obj/expirer.py', 'swift/common/db.py', 'swift/container/updater.py', 'swift/account/reaper.py', 'swift/obj/diskfile.py', 'swift/common/middleware/proxy_logging.py', 'swift/common/middleware/backend_ratelimit.py', 'swift/container/sync.py', 'swift/common/middleware/tempurl.py', 'swift/obj/auditor.py', 'swift/common/middleware/formpost.py', 'swift/container/replicator.py', 'swift/proxy/server.py', 'swift/common/db_auditor.py', 'swift/obj/replicator.py', 'swift/obj/updater.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/tempauth.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'swift/proxy/controllers/base.py']",27,fc963787b25315b1f4336dd9f146e39f9e9991ba,," logger, server_type, op_type, cache_state, resp=None): labels = { 'result': cache_state, 'op': op_type, } if resp is not None: labels['status'] = resp.status_int if cache_state == 'infocache_hit': logger.increment( 'swift_cache', labels=labels, legacy_format='{op}.infocache.hit') logger.increment( 'swift_cache', labels=labels, legacy_format='{op}.cache.{result}') # Note: currently there is no case that 'resp' will be None. logger.increment( 'swift_cache', labels=labels, legacy_format='{op}.cache.{result}.{status}') info_result = 'skip' info_result = 'hit' if info else 'miss' if logger: labels = { 'server_type': info_type, 'result': info_result, 'op': 'info' } logger.increment( 'swift_cache', labels=labels, legacy_format='{server_type}.{op}.cache.{result}') self.logger.increment( 'swift_proxy_client_timeouts', labels={'server_type': self.server_type.lower()}, legacy_format='{server_type}.client_timeouts') labels = {'server_type': self.server_type.lower()} self.logger.increment( 'swift_proxy_handoff_count', labels=labels, legacy_format='{server_type}.handoff_count') self.logger.increment( 'swift_proxy_handoff_all_count', labels=labels, legacy_format='{server_type}.handoff_all_count')"," logger, layer, op_type, cache_state, resp=None): if cache_state == 'infocache_hit': logger.increment('%s.%s.infocache.hit' % (layer, op_type)) logger.increment('%s.%s.cache.hit' % (layer, op_type)) if resp is not None: # Note: currently there is no case that 'resp' will be None. logger.increment( '%s.%s.cache.%s.%d' % ( layer, op_type, cache_state, resp.status_int)) if logger: logger.increment('%s.info.cache.skip' % ( info_type)) if logger: logger.increment('%s.info.cache.%s' % ( info_type, 'hit' if info else 'miss')) self.logger.increment('%s.client_timeouts' % self.server_type.lower()) self.logger.increment('%s.handoff_count' % self.server_type.lower()) self.logger.increment('%s.handoff_all_count' % self.server_type.lower())",950,231
openstack%2Fmanila~master~I93d30aed90b0f42ef88dd67112bfc484cc91e668,openstack/manila,master,I93d30aed90b0f42ef88dd67112bfc484cc91e668,NetApp: Improve REST API cover and fix internals,ABANDONED,2023-04-13 14:22:30.000000000,2023-07-24 17:32:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 33301}, {'_account_id': 35677}]","[{'number': 1, 'created': '2023-04-13 14:22:30.000000000', 'files': ['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode_rest.py', 'manila/share/drivers/netapp/dataontap/client/rest_api.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/166e73b80465a09b7b2fa97c3f4827514e436d66', 'message': 'NetApp: Improve REST API cover and fix internals\n\nImprove coverage of REST API feature merged in stable 2023.1.\nFix Netapp internals tests DHSS True REST:\n\n- Fix test_netapp_nfs_config.NetAppNFSConfigTest\n- Fix set_volume_snapdir_access\n\npartially-implements: bp netapp-ontap-rest-api-client\nChange-Id: Ie4e3bbfe3bb6c874f1e6e8ae41e8e30540f05a92\n\nCo-authored-by: Helena Dantas <helenamylena@gmail.com>\nCo-authored-by: Lucas Oliveira <lucasmoliveira059@gmail.com>\nCo-authored-by: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I93d30aed90b0f42ef88dd67112bfc484cc91e668\n'}]",6,879843,166e73b80465a09b7b2fa97c3f4827514e436d66,17,3,1,35586,,,0,"NetApp: Improve REST API cover and fix internals

Improve coverage of REST API feature merged in stable 2023.1.
Fix Netapp internals tests DHSS True REST:

- Fix test_netapp_nfs_config.NetAppNFSConfigTest
- Fix set_volume_snapdir_access

partially-implements: bp netapp-ontap-rest-api-client
Change-Id: Ie4e3bbfe3bb6c874f1e6e8ae41e8e30540f05a92

Co-authored-by: Helena Dantas <helenamylena@gmail.com>
Co-authored-by: Lucas Oliveira <lucasmoliveira059@gmail.com>
Co-authored-by: Renan Vitor <renanpiranguinho@gmail.com>
Change-Id: I93d30aed90b0f42ef88dd67112bfc484cc91e668
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/879843/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode_rest.py', 'manila/share/drivers/netapp/dataontap/client/rest_api.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py']",4,166e73b80465a09b7b2fa97c3f4827514e436d66,bp/netapp-ontap-rest-api-client,"QOS_MAX_THROUGHPUT_IOPS = '5000iops'QOS_MAX_THROUGHPUT_IOPS_NO_UNIT = 5000 { 'uuid': 'fake_uuid_1', 'address': IP_ADDRESS, 'home-node': NODE_NAME, 'home-port': VLAN_PORT, 'interface-name': LIF_NAME, 'netmask': NETMASK, 'role': 'data', 'vserver': VSERVER_NAME, }, { 'uuid': 'fake_uuid_2', 'address': IP_ADDRESS, 'home-node': NODE_NAME, 'home-port': VLAN_PORT, 'interface-name': LIF_NAME, 'netmask': NETMASK, 'role': 'data', 'vserver': VSERVER_NAME, }, { 'uuid': 'fake_uuid_3', 'address': IP_ADDRESS, 'home-node': NODE_NAME, 'home-port': VLAN_PORT, 'interface-name': LIF_NAME, 'netmask': NETMASK, 'role': 'data', 'vserver': VSERVER_NAME, }, ], ""num_records"": 1, ], ""name"": VSERVER_NAME, FAKE_CIFS_LOCAL_USER = { 'records': [ { 'sid': 'S-1-5-21-256008430-3394229847-3930036330-1001' } ] } FAKE_SERVER_SWITCH_NAME = 'fake_ss_name' FAKE_SUBTYPE = 'fake_subtype' FAKE_DNS_CONFIG = { 'dns-state': 'true', 'domains': ['fake_domain'], 'dns-ips': ['fake_ip'] } FAKE_VOLUME_MANAGE = { 'records': [ { 'name': VOLUME_NAMES[0], 'aggregates': [ { 'name': SHARE_AGGREGATE_NAME } ], 'nas': { 'path': VOLUME_JUNCTION_PATH }, 'style': 'flex', 'type': 'fake_type', 'svm': { 'name': VSERVER_NAME }, 'qos': { 'policy': { 'name': QOS_POLICY_GROUP_NAME } }, 'space': { 'size': SHARE_SIZE } } ], 'num_records': 1 } FAKE_PORTS = [ {'speed': ''}, {'speed': '4'}, {'speed': 'auto'}, {'speed': 'undef'}, {'speed': 'fake_speed'} ] FAKE_ROOT_AGGREGATES_RESPONSE = { ""records"": [ { ""aggregate"": SHARE_AGGREGATE_NAME } ] }"," {'uuid': FAKE_UUID, 'address': IP_ADDRESS, 'home-node': NODE_NAME, 'home-port': VLAN_PORT, 'interface-name': LIF_NAME, 'netmask': NETMASK, 'role': 'data', 'vserver': VSERVER_NAME, }, ] ]",1510,154
openstack%2Fcharm-glance-k8s~main~I778ed027d1664d05239d1bfe98fa8ed4e8684d8b,openstack/charm-glance-k8s,main,I778ed027d1664d05239d1bfe98fa8ed4e8684d8b,Remove cinder.conf from glance,MERGED,2023-07-12 09:03:36.000000000,2023-07-24 17:13:58.000000000,2023-07-24 16:56:59.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 09:03:36.000000000', 'files': ['src/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/6de731bc892fff3c8237948ac6bf340c826d6a74', 'message': 'Remove cinder.conf from glance\n\nChange-Id: I778ed027d1664d05239d1bfe98fa8ed4e8684d8b\n'}]",0,888217,6de731bc892fff3c8237948ac6bf340c826d6a74,7,2,1,35761,,,0,"Remove cinder.conf from glance

Change-Id: I778ed027d1664d05239d1bfe98fa8ed4e8684d8b
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/17/888217/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/cinder.conf.j2'],1,6de731bc892fff3c8237948ac6bf340c826d6a74,fix/remove-cinder-conf,,"############################################################################### # [ WARNING ] # cinder configuration file maintained by Juju # local changes may be overwritten. ############################################################################### [DEFAULT] rootwrap_config = /etc/cinder/rootwrap.conf api_paste_confg = /etc/cinder/api-paste.ini debug = {{ options.debug }} transport_url = {{ amqp.transport_url }} auth_strategy = keystone {% include ""parts/section-database"" %} [keystone_authtoken] www_authenticate_uri = {{ identity_service.internal_protocol }}://{{ identity_service.internal_host }}:{{ identity_service.internal_port }} auth_url = {{ identity_service.internal_protocol }}://{{ identity_service.internal_host }}:{{ identity_service.internal_port }} auth_type = password project_domain_name = {{ identity_service.service_domain_name }} user_domain_name = {{ identity_service.service_domain_name }} project_name = {{ identity_service.service_project_name }} username = {{ identity_service.service_user_name }} password = {{ identity_service.service_password }} [oslo_concurrency] lock_path = /var/lib/cinder/tmp ",0,26
openstack%2Fcharm-barbican-k8s~main~Id52a92eccead21a9a354dd2f9c26ab8271a60568,openstack/charm-barbican-k8s,main,Id52a92eccead21a9a354dd2f9c26ab8271a60568,Misc fixes and testing,MERGED,2023-07-24 12:51:36.000000000,2023-07-24 16:31:54.000000000,2023-07-24 16:31:54.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 12:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/19f38dec0624d20f942b75a434e69ed984c125f7', 'message': 'Misc fixes and testing\n\n* Add functional tests\n* Add service / group user\n\nChange-Id: Id52a92eccead21a9a354dd2f9c26ab8271a60568\n'}, {'number': 2, 'created': '2023-07-24 13:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/5190670c83dbf7451176769ae3a0e30edc8bf02a', 'message': 'Misc fixes and testing\n\n* Add functional tests\n* Add service / group user\n\nChange-Id: Id52a92eccead21a9a354dd2f9c26ab8271a60568\n'}, {'number': 3, 'created': '2023-07-24 13:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/137064d1150957a7715fdb0060daf85431107f3e', 'message': 'Misc fixes and testing\n\n* Add functional tests\n* Add service / group user\n\nChange-Id: Id52a92eccead21a9a354dd2f9c26ab8271a60568\n'}, {'number': 4, 'created': '2023-07-24 14:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/13502bee495f5aa9a873cdd8eab873634a8bd8e3', 'message': 'Misc fixes and testing\n\n* Add functional tests\n* Add service / group user\n* Remove observability_libs\n\nChange-Id: Id52a92eccead21a9a354dd2f9c26ab8271a60568\n'}, {'number': 5, 'created': '2023-07-24 14:39:15.000000000', 'files': ['osci.yaml', '.gitreview', '.zuul.yaml', 'src/templates/parts/section-service-user', 'tests/unit/test_barbican_charm.py', 'tests/tests.yaml', 'lib/charms/keystone_k8s/v1/identity_service.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/bundles/smoke.yaml', 'rename.sh', 'src/templates/parts/section-identity', 'src/charm.py', 'metadata.yaml', 'tox.ini', 'fetch-libs.sh', 'src/templates/barbican.conf'], 'web_link': 'https://opendev.org/openstack/charm-barbican-k8s/commit/eaa39e7cd2d27290b46280acd63859ac4e0b18bb', 'message': 'Misc fixes and testing\n\n* Add functional tests\n* Add service / group user\n* Remove observability_libs\n* Upgrade keystone identity_service lib\n* Use admin url\n* Use service token\n\nChange-Id: Id52a92eccead21a9a354dd2f9c26ab8271a60568\n'}]",0,889316,eaa39e7cd2d27290b46280acd63859ac4e0b18bb,12,2,5,35761,,,0,"Misc fixes and testing

* Add functional tests
* Add service / group user
* Remove observability_libs
* Upgrade keystone identity_service lib
* Use admin url
* Use service token

Change-Id: Id52a92eccead21a9a354dd2f9c26ab8271a60568
",git fetch https://review.opendev.org/openstack/charm-barbican-k8s refs/changes/16/889316/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', '.gitreview', 'tests/bundles/smoke.yaml', 'rename.sh', '.zuul.yaml', 'src/charm.py', 'tox.ini']",8,19f38dec0624d20f942b75a434e69ed984c125f7,misc-barbican, flake8<6 # Pin version until https://github.com/savoirfairelinux/flake8-copyright/issues/19 is mergeddeps = git+https://github.com/openstack-charmers/zaza.git@libjuju-3.1#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack git+https://opendev.org/openstack/tempest.git#egg=tempestdeps = {[testenv:func-noop]deps}deps = {[testenv:func-noop]deps}deps = {[testenv:func-noop]deps}deps = {[testenv:func-noop]deps}, flake8<6,99,42
openstack%2Fneutron~master~If4b03e42c5eaedad926e3b8efb8f72ed6872c9b6,openstack/neutron,master,If4b03e42c5eaedad926e3b8efb8f72ed6872c9b6,Follow up on a small nit from patch 875989 [1],MERGED,2023-07-19 17:24:51.000000000,2023-07-24 16:22:59.000000000,2023-07-24 16:20:37.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-19 17:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9946b864477493060a32d5929b5a1ab1addf06e', 'message': 'Follow up on a small nit from patch 875989\n\nUsing boolean instead of instead of number for one time resync\n\n[1] https://review.opendev.org/c/openstack/neutron/+/875989/comment/e2d314d1_3b1ded43/\n\nChange-Id: If4b03e42c5eaedad926e3b8efb8f72ed6872c9b6\n'}, {'number': 2, 'created': '2023-07-19 17:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffa2b66f61dfdf41d396a677babc0005a0a0bf86', 'message': 'Follow up on a small nit from patch 875989 [1]\n\nUsing boolean instead of instead of number for one time resync\n\n[1] https://review.opendev.org/c/openstack/neutron/+/875989/comment/e2d314d1_3b1ded43/\n\nChange-Id: If4b03e42c5eaedad926e3b8efb8f72ed6872c9b6\n'}, {'number': 3, 'created': '2023-07-19 17:31:30.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/321182980d8122a82e5f2a75a693cb527ee7257b', 'message': 'Follow up on a small nit from patch 875989 [1]\n\nUsing boolean instead of an integer for one time resync\n\n[1] https://review.opendev.org/c/openstack/neutron/+/875989/comment/e2d314d1_3b1ded43/\n\nChange-Id: If4b03e42c5eaedad926e3b8efb8f72ed6872c9b6\n'}]",2,888945,321182980d8122a82e5f2a75a693cb527ee7257b,16,4,3,34271,,,0,"Follow up on a small nit from patch 875989 [1]

Using boolean instead of an integer for one time resync

[1] https://review.opendev.org/c/openstack/neutron/+/875989/comment/e2d314d1_3b1ded43/

Change-Id: If4b03e42c5eaedad926e3b8efb8f72ed6872c9b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/888945/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,f9946b864477493060a32d5929b5a1ab1addf06e,db_sync_sgs, one_time_pg_resync = True if one_time_pg_resync: one_time_pg_resync = False, pg_resync_count = 0 if pg_resync_count < 1: pg_resync_count += 1,3,3
openstack%2Fcharm-rabbitmq-server~master~Idd4eb37dd413b49a99b8b81fd15d0b45f75ae97e,openstack/charm-rabbitmq-server,master,Idd4eb37dd413b49a99b8b81fd15d0b45f75ae97e,Add docs key and point at Discourse,MERGED,2023-07-18 17:52:01.000000000,2023-07-24 16:04:03.000000000,2023-07-24 16:04:03.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 17:52:01.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/84b8605ed6cfd439a9163b5e41eee24a4bcc2eb6', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: Idd4eb37dd413b49a99b8b81fd15d0b45f75ae97e\n""}]",1,888791,84b8605ed6cfd439a9163b5e41eee24a4bcc2eb6,7,3,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: Idd4eb37dd413b49a99b8b81fd15d0b45f75ae97e
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/91/888791/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,84b8605ed6cfd439a9163b5e41eee24a4bcc2eb6,charmhub-pop,docs: https://discourse.charmhub.io/t/rabbitmq-server-docs-index/10546,,1,0
openstack%2Fcharm-ceph-mon~master~I173cadb5a8208283883e1119dbfc5d661809cc5f,openstack/charm-ceph-mon,master,I173cadb5a8208283883e1119dbfc5d661809cc5f,Add docs key and point at Discourse,MERGED,2023-07-18 17:55:48.000000000,2023-07-24 16:02:32.000000000,2023-07-24 16:02:32.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 17:55:48.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/3eb5898a655cf9b6221bd3ec74d0a98947b08092', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I173cadb5a8208283883e1119dbfc5d661809cc5f\n""}]",1,888792,3eb5898a655cf9b6221bd3ec74d0a98947b08092,7,3,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I173cadb5a8208283883e1119dbfc5d661809cc5f
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/92/888792/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3eb5898a655cf9b6221bd3ec74d0a98947b08092,charmhub-pop,docs: https://discourse.charmhub.io/t/ceph-mon-docs-index/10544,,1,0
openstack%2Fcharm-ceph-radosgw~master~Id759ee81cea83fe9b18671ce5bc19a31db319a77,openstack/charm-ceph-radosgw,master,Id759ee81cea83fe9b18671ce5bc19a31db319a77,Add docs key and point at Discourse,MERGED,2023-07-18 18:14:53.000000000,2023-07-24 15:59:11.000000000,2023-07-24 15:59:11.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-18 18:14:53.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/14a195d942b976b7a5d47b1fe43f11be8da2b084', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: Id759ee81cea83fe9b18671ce5bc19a31db319a77\n""}]",1,888795,14a195d942b976b7a5d47b1fe43f11be8da2b084,7,3,1,31203,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: Id759ee81cea83fe9b18671ce5bc19a31db319a77
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/95/888795/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,14a195d942b976b7a5d47b1fe43f11be8da2b084,charmhub-pop,docs: https://discourse.charmhub.io/t/ceph-radosgw-docs-index/11005,,1,0
openstack%2Fpuppet-nova~master~I80c901f3081ef057980b8c736c65c43e4fd522b2,openstack/puppet-nova,master,I80c901f3081ef057980b8c736c65c43e4fd522b2,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:51:25.000000000,2023-07-24 15:26:44.000000000,2023-07-24 15:26:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:51:25.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/126e87107329df6673f6df25c7030854314855b9', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I80c901f3081ef057980b8c736c65c43e4fd522b2\n'}]",0,889220,126e87107329df6673f6df25c7030854314855b9,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I80c901f3081ef057980b8c736c65c43e4fd522b2
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/20/889220/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,126e87107329df6673f6df25c7030854314855b9,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fbarbican~master~I552a3ae54569b885d14cef218f7c7a3389de52a3,openstack/barbican,master,I552a3ae54569b885d14cef218f7c7a3389de52a3,Update default policies for cluster admin,NEW,2022-12-07 06:34:11.000000000,2023-07-24 15:25:51.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-07 06:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1d3e5a8e2b4ffa8c3b6aa611432dc268a1409f6b', 'message': 'Fix story 2010461\n\nAllow cluster admin to decrypt and get secrets required\nfor VM migration and evacuation\n\nChange-Id: I552a3ae54569b885d14cef218f7c7a3389de52a3\n'}, {'number': 2, 'created': '2022-12-07 06:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/05682f78e18eaa81b50dc929e9a8373187b57dc0', 'message': 'Update default policies for cluster admin\n\nAllow cluster admin to decrypt and get secrets required\nfor VM migration and evacuation\n\nStory: 2010461\n\nChange-Id: I552a3ae54569b885d14cef218f7c7a3389de52a3\n'}, {'number': 3, 'created': '2023-03-21 16:11:14.000000000', 'files': ['releasenotes/notes/fix-story-2010461-986362e5c6f925ac.yaml', 'barbican/common/policies/secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/71eb0ab55c48acbe731ce0021213ff4218d90f57', 'message': 'Update default policies for cluster admin\n\nAllow cluster admin to decrypt and get secrets required\nfor VM migration and evacuation\n\nStory: 2010461\n\nChange-Id: I552a3ae54569b885d14cef218f7c7a3389de52a3\n'}]",2,866825,71eb0ab55c48acbe731ce0021213ff4218d90f57,9,4,3,34293,,,0,"Update default policies for cluster admin

Allow cluster admin to decrypt and get secrets required
for VM migration and evacuation

Story: 2010461

Change-Id: I552a3ae54569b885d14cef218f7c7a3389de52a3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/25/866825/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-story-2010461-986362e5c6f925ac.yaml', 'barbican/common/policies/secrets.py']",2,1d3e5a8e2b4ffa8c3b6aa611432dc268a1409f6b,," 'rule:secret_project_creator or rule:admin or ' + 'rule:secret_project_creator or rule:admin or ' + ""rule:secret_acl_read or "" ""rule:admin)""), ""rule:secret_acl_read or "" ""rule:admin)""),"," 'rule:secret_project_creator or ' + 'rule:secret_project_creator or ' + ""rule:secret_acl_read)""), ""rule:secret_acl_read)""),",11,4
openstack%2Fbarbican~master~I36926e62842780068f7e66564233c121c37565d0,openstack/barbican,master,I36926e62842780068f7e66564233c121c37565d0,Use consistent [database] options,NEW,2022-06-28 16:47:56.000000000,2023-07-24 15:25:49.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-06-28 16:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/64ece27228562aef64302964bd9e58740c4235dc', 'message': ""Use consistent [database] options\n\nCurrently Barbican is not using oslo.db to set up database connection\nbut it's own implementation directly using sqlalchemy. Because of this\nthe database parameters were not updated and these are based on\nthe names in quite old oslo.db library.\n\nThis change updates the database options so that the name of these\nparameters become consistent with oslo.db.\n\nThis would help us replace current own implementation by oslo.db in\nthe future.\n\nChange-Id: I36926e62842780068f7e66564233c121c37565d0\n""}, {'number': 2, 'created': '2022-12-06 01:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e51fc3fa3719f528eafa2a1b4fdad053f9d441c1', 'message': ""Use consistent [database] options\n\nCurrently Barbican is not using oslo.db to set up database connection\nbut it's own implementation directly using sqlalchemy. Because of this\nthe database parameters were not updated and these are based on\nthe names in quite old oslo.db library.\n\nThis change updates the database options so that the name of these\nparameters become consistent with oslo.db.\n\nThis would help us replace current own implementation by oslo.db in\nthe future.\n\nChange-Id: I36926e62842780068f7e66564233c121c37565d0\n""}, {'number': 3, 'created': '2023-03-21 16:08:29.000000000', 'files': ['barbican/cmd/db_manage.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/model/sync.py', 'barbican/cmd/barbican_manage.py', 'barbican/cmd/functionaltests/test_db_manage.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/cmd/test_db_cleanup.py', 'barbican/tests/model/repositories/test_repositories.py', 'barbican/tests/database_utils.py', 'barbican/model/repositories.py', 'barbican/model/clean.py', 'barbican/model/migration/commands.py', 'releasenotes/notes/rename-db-opts-547a9114abde2e88.yaml', 'barbican/common/config.py', 'barbican/tests/cmd/test_barbican_manage.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c783594161ed60b59283d36652d07abf770a6838', 'message': ""Use consistent [database] options\n\nCurrently Barbican is not using oslo.db to set up database connection\nbut it's own implementation directly using sqlalchemy. Because of this\nthe database parameters were not updated and these are based on\nthe names in quite old oslo.db library.\n\nThis change updates the database options so that the name of these\nparameters become consistent with oslo.db.\n\nThis would help us replace current own implementation by oslo.db in\nthe future.\n\nChange-Id: I36926e62842780068f7e66564233c121c37565d0\n""}]",2,848011,c783594161ed60b59283d36652d07abf770a6838,12,5,3,9816,,,0,"Use consistent [database] options

Currently Barbican is not using oslo.db to set up database connection
but it's own implementation directly using sqlalchemy. Because of this
the database parameters were not updated and these are based on
the names in quite old oslo.db library.

This change updates the database options so that the name of these
parameters become consistent with oslo.db.

This would help us replace current own implementation by oslo.db in
the future.

Change-Id: I36926e62842780068f7e66564233c121c37565d0
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/848011/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/cmd/db_manage.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/model/sync.py', 'barbican/cmd/barbican_manage.py', 'barbican/cmd/functionaltests/test_db_manage.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/cmd/test_db_cleanup.py', 'barbican/tests/model/repositories/test_repositories.py', 'barbican/tests/database_utils.py', 'barbican/model/repositories.py', 'barbican/model/clean.py', 'barbican/model/migration/commands.py', 'releasenotes/notes/rename-db-opts-547a9114abde2e88.yaml', 'barbican/common/config.py', 'barbican/tests/cmd/test_barbican_manage.py']",15,64ece27228562aef64302964bd9e58740c4235dc,," manager.CONF.set_override('connection', 'mockdburl', 'database')"," manager.CONF.set_override('sql_connection', 'mockdburl')",103,62
openstack%2Fpuppet-placement~master~I637f94a04511256c0d69284522d7ba73a0332c5d,openstack/puppet-placement,master,I637f94a04511256c0d69284522d7ba73a0332c5d,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:52:07.000000000,2023-07-24 15:25:18.000000000,2023-07-24 15:25:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:52:07.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/cb9d3c9f1f2c9a704469cc7293b1e3c2483092c0', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I637f94a04511256c0d69284522d7ba73a0332c5d\n'}]",0,889242,cb9d3c9f1f2c9a704469cc7293b1e3c2483092c0,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I637f94a04511256c0d69284522d7ba73a0332c5d
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/42/889242/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,cb9d3c9f1f2c9a704469cc7293b1e3c2483092c0,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",1,1
openstack%2Fpuppet-keystone~master~I853d5156f1c24c442ed82187ba5e7d30d892bc4d,openstack/puppet-keystone,master,I853d5156f1c24c442ed82187ba5e7d30d892bc4d,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:46:56.000000000,2023-07-24 15:24:48.000000000,2023-07-24 15:24:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:46:56.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9331acb9306de33217ba27ec984499f009882f94', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I853d5156f1c24c442ed82187ba5e7d30d892bc4d\n'}]",0,889215,9331acb9306de33217ba27ec984499f009882f94,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I853d5156f1c24c442ed82187ba5e7d30d892bc4d
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/15/889215/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,9331acb9306de33217ba27ec984499f009882f94,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-trove~master~If1211e7adfa541b1f915191fa3d8c73155268e08,openstack/puppet-trove,master,If1211e7adfa541b1f915191fa3d8c73155268e08,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:52:49.000000000,2023-07-24 15:21:15.000000000,2023-07-24 15:21:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:52:49.000000000', 'files': ['manifests/api.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/3fd257bcfcffe64ba26e09d0e277a944b60ff003', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: If1211e7adfa541b1f915191fa3d8c73155268e08\n'}]",0,889244,3fd257bcfcffe64ba26e09d0e277a944b60ff003,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: If1211e7adfa541b1f915191fa3d8c73155268e08
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/44/889244/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/policy.pp']",2,3fd257bcfcffe64ba26e09d0e277a944b60ff003,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-ceph~master~I7e4e2403570cff622d81804c13edf03548a0de18,openstack/puppet-ceph,master,I7e4e2403570cff622d81804c13edf03548a0de18,Ensure public_addr option is purged,MERGED,2023-07-22 17:32:24.000000000,2023-07-24 15:20:32.000000000,2023-07-24 15:20:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 17:32:24.000000000', 'files': ['spec/classes/ceph_mds_spec.rb', 'manifests/mds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/1857b60b6074ca5d2bb1d5ecb368e8ad495b8814', 'message': 'Ensure public_addr option is purged\n\n... instead of leaving the option.\n\nChange-Id: I7e4e2403570cff622d81804c13edf03548a0de18\n'}]",0,889255,1857b60b6074ca5d2bb1d5ecb368e8ad495b8814,7,3,1,9816,,,0,"Ensure public_addr option is purged

... instead of leaving the option.

Change-Id: I7e4e2403570cff622d81804c13edf03548a0de18
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/55/889255/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceph_mds_spec.rb', 'manifests/mds.pp']",2,1857b60b6074ca5d2bb1d5ecb368e8ad495b8814,," } else { ceph_config { ""mds.${mds_id}/public_addr"": ensure => absent; } ceph_config { ""mds.${mds_id}/public_addr"": ensure => absent; }",,10,0
openstack%2Fpuppet-ceph~master~Ib7f0954413d2a5727e5eaf457da544c48a14ff6b,openstack/puppet-ceph,master,Ib7f0954413d2a5727e5eaf457da544c48a14ff6b,repo: Fix undefined $el,MERGED,2023-07-20 06:15:59.000000000,2023-07-24 15:20:30.000000000,2023-07-24 15:20:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 06:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/9ddc324aa9ac55d58ebeddfb701d22ead422de5c', 'message': 'repo: Fix undefined $el\n\nThis fixes the undefined $el variable when epel is enabled but sig\nrepository is used.\n\nChange-Id: Ib7f0954413d2a5727e5eaf457da544c48a14ff6b\n'}, {'number': 2, 'created': '2023-07-20 06:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4d1f342eaf7ff2b33ee5f298091890c03b324df5', 'message': 'repo: Fix undefined $el\n\nThis fixes the undefined $el variable when epel is enabled but sig\nrepository is used.\n\nChange-Id: Ib7f0954413d2a5727e5eaf457da544c48a14ff6b\n'}, {'number': 3, 'created': '2023-07-20 09:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2518d88079aca9e7cf1dd64e46c33c0e98c181e0', 'message': 'repo: Fix undefined $el\n\nThis fixes the undefined $el variable when epel is enabled but sig\nrepository is used.\n\nChange-Id: Ib7f0954413d2a5727e5eaf457da544c48a14ff6b\n'}, {'number': 4, 'created': '2023-07-22 14:40:34.000000000', 'files': ['manifests/repo.pp', 'spec/classes/ceph_repo_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0d77c3353bb76b810fb7376214dfe11bec035fdc', 'message': 'repo: Fix undefined $el\n\nThis fixes the undefined $el variable when epel is enabled but sig\nrepository is used.\n\nChange-Id: Ib7f0954413d2a5727e5eaf457da544c48a14ff6b\n'}]",2,888980,0d77c3353bb76b810fb7376214dfe11bec035fdc,15,3,4,9816,,,0,"repo: Fix undefined $el

This fixes the undefined $el variable when epel is enabled but sig
repository is used.

Change-Id: Ib7f0954413d2a5727e5eaf457da544c48a14ff6b
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/80/888980/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo.pp'],1,9ddc324aa9ac55d58ebeddfb701d22ead422de5c,," baseurl => ""http://download.ceph.com/rpm-${release}/el${facts['os']['release']['major']}/\$basearch"", baseurl => ""http://download.ceph.com/rpm-${release}/el${facts['os']['release']['major']}/noarch"", baseurl => ""http://gitbuilder.ceph.com/mod_fastcgi-rpm-rhel${facts['os']['release']['major']}-x86_64-basic/ref/master"", yumrepo { ""ext-epel-${facts['os']['release']['major']}"": descr => ""External EPEL ${facts['os']['release']['major']}"", name => ""ext-epel-${facts['os']['release']['major']}"", gpgkey => ""https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-${facts['os']['release']['major']}"", mirrorlist => ""http://mirrors.fedoraproject.org/metalink?repo=epel-${facts['os']['release']['major']}&arch=\$basearch"","," $el = $facts['os']['release']['major'] baseurl => ""http://download.ceph.com/rpm-${release}/el${el}/\$basearch"", baseurl => ""http://download.ceph.com/rpm-${release}/el${el}/noarch"", baseurl => ""http://gitbuilder.ceph.com/mod_fastcgi-rpm-rhel${el}-x86_64-basic/ref/master"", yumrepo { ""ext-epel-${el}"": descr => ""External EPEL ${el}"", name => ""ext-epel-${el}"", gpgkey => ""https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-${el}"", mirrorlist => ""http://mirrors.fedoraproject.org/metalink?repo=epel-${el}&arch=\$basearch"",",8,10
openstack%2Fpuppet-neutron~master~I8fffedd98f7bef5a9bf065ee3a7850fb0222869d,openstack/puppet-neutron,master,I8fffedd98f7bef5a9bf065ee3a7850fb0222869d,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:51:07.000000000,2023-07-24 15:19:49.000000000,2023-07-24 15:19:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:51:07.000000000', 'files': ['manifests/agents/ml2/linuxbridge.pp', 'manifests/agents/vpnaas.pp', 'manifests/agents/ml2/networking_baremetal.pp', 'manifests/init.pp', 'manifests/agents/ml2/ovn.pp', 'manifests/agents/ml2/ovs.pp', 'manifests/agents/ml2/macvtap.pp', 'manifests/agents/l3.pp', 'manifests/agents/bagpipe.pp', 'manifests/agents/bgp_dragent.pp', 'manifests/agents/ml2/sriov.pp', 'manifests/agents/dhcp.pp', 'manifests/agents/l2gw.pp', 'manifests/plugins/ml2.pp', 'manifests/agents/metering.pp', 'manifests/plugins/ml2/nuage.pp', 'manifests/agents/metadata.pp', 'manifests/agents/ovn_metadata.pp', 'manifests/policy.pp', 'manifests/services/l2gw.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/dbad032e33586748ef96caf03571fbbc75a0fc8d', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I8fffedd98f7bef5a9bf065ee3a7850fb0222869d\n'}]",0,889219,dbad032e33586748ef96caf03571fbbc75a0fc8d,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I8fffedd98f7bef5a9bf065ee3a7850fb0222869d
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/889219/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/linuxbridge.pp', 'manifests/agents/vpnaas.pp', 'manifests/agents/ml2/networking_baremetal.pp', 'manifests/init.pp', 'manifests/agents/ml2/ovn.pp', 'manifests/agents/ml2/ovs.pp', 'manifests/agents/ml2/macvtap.pp', 'manifests/agents/l3.pp', 'manifests/agents/bagpipe.pp', 'manifests/agents/bgp_dragent.pp', 'manifests/agents/ml2/sriov.pp', 'manifests/agents/dhcp.pp', 'manifests/agents/l2gw.pp', 'manifests/plugins/ml2.pp', 'manifests/agents/metering.pp', 'manifests/plugins/ml2/nuage.pp', 'manifests/agents/metadata.pp', 'manifests/agents/ovn_metadata.pp', 'manifests/policy.pp', 'manifests/services/l2gw.pp']",20,dbad032e33586748ef96caf03571fbbc75a0fc8d,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",20,20
openstack%2Fpuppet-mistral~master~I4b156ed71c9ce982e07b9d1fee53cf2562dc7340,openstack/puppet-mistral,master,I4b156ed71c9ce982e07b9d1fee53cf2562dc7340,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:48:31.000000000,2023-07-24 15:15:39.000000000,2023-07-24 15:15:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:48:31.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/533955f2d1f34a72b31d203c6b6a68211b03fab7', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I4b156ed71c9ce982e07b9d1fee53cf2562dc7340\n'}]",0,889218,533955f2d1f34a72b31d203c6b6a68211b03fab7,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I4b156ed71c9ce982e07b9d1fee53cf2562dc7340
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/18/889218/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,533955f2d1f34a72b31d203c6b6a68211b03fab7,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-watcher~master~I29a314933017596337617f1dfa745ddc22689a7c,openstack/puppet-watcher,master,I29a314933017596337617f1dfa745ddc22689a7c,Deprecate ineffective use_ssl parameter,MERGED,2023-07-22 15:03:58.000000000,2023-07-24 15:15:22.000000000,2023-07-24 15:14:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 15:03:58.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/deprecate-use_ssl-e944756f793be4c8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/513071c1cba170889df55cb3ca8bc60b80668fc2', 'message': 'Deprecate ineffective use_ssl parameter\n\nThis parameter has never been used.\n\nChange-Id: I29a314933017596337617f1dfa745ddc22689a7c\n'}]",0,889251,513071c1cba170889df55cb3ca8bc60b80668fc2,8,3,1,9816,,,0,"Deprecate ineffective use_ssl parameter

This parameter has never been used.

Change-Id: I29a314933017596337617f1dfa745ddc22689a7c
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/51/889251/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/deprecate-use_ssl-e944756f793be4c8.yaml']",2,513071c1cba170889df55cb3ca8bc60b80668fc2,dep-use_ssl,--- deprecations: - | The ``watcher::use_ssl`` parameter has been deprecated. ,,15,5
openstack%2Fpuppet-watcher~master~Ic59d8374bb062063518ff8088f50c11045163322,openstack/puppet-watcher,master,Ic59d8374bb062063518ff8088f50c11045163322,Add strict validation about boolean parameters,MERGED,2023-07-22 15:00:01.000000000,2023-07-24 15:14:21.000000000,2023-07-24 15:14:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 15:00:01.000000000', 'files': ['manifests/api.pp', 'manifests/applier.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/2875dba27ce568a628c70a55d242a5898948ad7b', 'message': 'Add strict validation about boolean parameters\n\nThis ensures the parameters used by if-else logic accept only boolean\nvalues because non-boolean can result in unexpected behavior.\n\nChange-Id: Ic59d8374bb062063518ff8088f50c11045163322\n'}]",0,889250,2875dba27ce568a628c70a55d242a5898948ad7b,7,3,1,9816,,,0,"Add strict validation about boolean parameters

This ensures the parameters used by if-else logic accept only boolean
values because non-boolean can result in unexpected behavior.

Change-Id: Ic59d8374bb062063518ff8088f50c11045163322
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/50/889250/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/applier.pp']",2,2875dba27ce568a628c70a55d242a5898948ad7b,validate-boolean," Boolean $enabled = true, Boolean $manage_service = true,"," $enabled = true, $manage_service = true,",14,14
openstack%2Fpuppet-magnum~master~I9384da8c16c1c7f515c775f3c5b3d0e25f046323,openstack/puppet-magnum,master,I9384da8c16c1c7f515c775f3c5b3d0e25f046323,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:47:30.000000000,2023-07-24 15:11:03.000000000,2023-07-24 15:11:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:47:30.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/1efa9bbff80a9c59337209307f900fb24093e040', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I9384da8c16c1c7f515c775f3c5b3d0e25f046323\n'}]",0,889216,1efa9bbff80a9c59337209307f900fb24093e040,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I9384da8c16c1c7f515c775f3c5b3d0e25f046323
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/16/889216/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,1efa9bbff80a9c59337209307f900fb24093e040,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-watcher~master~I975452d2e0dfc65bbb2811181a2a1407d33286b9,openstack/puppet-watcher,master,I975452d2e0dfc65bbb2811181a2a1407d33286b9,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:53:27.000000000,2023-07-24 15:10:26.000000000,2023-07-24 15:10:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:53:27.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/2ab021d060145b392fdd4e0a6b57e37aa6c18406', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: I975452d2e0dfc65bbb2811181a2a1407d33286b9\n'}]",0,889246,2ab021d060145b392fdd4e0a6b57e37aa6c18406,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: I975452d2e0dfc65bbb2811181a2a1407d33286b9
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/46/889246/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,2ab021d060145b392fdd4e0a6b57e37aa6c18406,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fpuppet-octavia~master~Id91663d36151d87c3d6e5de9130ea767c3c72095,openstack/puppet-octavia,master,Id91663d36151d87c3d6e5de9130ea767c3c72095,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:51:52.000000000,2023-07-24 15:07:18.000000000,2023-07-24 15:07:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:51:52.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c36870fccf94afcb36e39008d10d40850c5872b7', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Id91663d36151d87c3d6e5de9130ea767c3c72095\n'}]",0,889241,c36870fccf94afcb36e39008d10d40850c5872b7,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Id91663d36151d87c3d6e5de9130ea767c3c72095
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/41/889241/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,c36870fccf94afcb36e39008d10d40850c5872b7,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fironic~stable%2F2023.1~If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,openstack/ironic,stable/2023.1,If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,Fix anaconda stage2_id loading from image properties,NEW,2023-05-19 10:32:49.000000000,2023-07-24 15:01:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 10:32:49.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae78df020d36e2fb93e7d6cde97d8fe09e4c98e1', 'message': 'Fix anaconda stage2_id loading from image properties\n\nAnaconda stage2 location is not verified nor loaded when kernel\nand ramdisk instance info on a node is already populated, due\nto a condition removed by commit 4d653ac225.\nThis change implements a check based on stage2 label presence\nthat again allows stage2 to be processed separately from kernel\nand ramdisk.\n\nAnd changes incorrect parameter check_on_exit passed to\noslo_concurrency.processutils.execute() to the correct one,\ncheck_exit_code.\n\nChange-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5\n(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)\n'}]",3,883575,ae78df020d36e2fb93e7d6cde97d8fe09e4c98e1,13,1,1,35987,,,0,"Fix anaconda stage2_id loading from image properties

Anaconda stage2 location is not verified nor loaded when kernel
and ramdisk instance info on a node is already populated, due
to a condition removed by commit 4d653ac225.
This change implements a check based on stage2 label presence
that again allows stage2 to be processed separately from kernel
and ramdisk.

And changes incorrect parameter check_on_exit passed to
oslo_concurrency.processutils.execute() to the correct one,
check_exit_code.

Change-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5
(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/883575/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,ae78df020d36e2fb93e7d6cde97d8fe09e4c98e1,fix-anaconda-stage2-stable/2023.1," if 'stage2' in anaconda_labels: 'ksvalidator', ks_file.name, check_exit_code=[0], attempts=1"," 'ksvalidator', ks_file.name, check_on_exit=[0], attempts=1",2,1
openstack%2Fcinder~master~Ia7b87622aabf13c997defd92404304270ed3751b,openstack/cinder,master,Ia7b87622aabf13c997defd92404304270ed3751b,remove tpool.Proxy() from image upload,NEW,2023-07-17 10:42:39.000000000,2023-07-24 14:46:00.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 10:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dba03e3386dfba71c3563c92c441c07b32bb06f', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 2, 'created': '2023-07-17 12:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88441dd17a57e8a758cd0c916d67aaee196a17ae', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 3, 'created': '2023-07-21 07:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34ac65521cab0029911bdc0ce8622a955547f3dd', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 4, 'created': '2023-07-24 06:08:49.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a0b9531f606afce9cffd47579900c2d35ccbcea', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}]",6,888676,7a0b9531f606afce9cffd47579900c2d35ccbcea,62,2,4,36198,,,0,"remove tpool.Proxy() from image upload

Removing tpool.Proxy() as this caused very slow upload speeds during
an image upload. In combination with the python-glanceclient patch that
removes the chunked encoding[1], the upload speed increases significant.
Without the tpool.execute() the image upload could block other
concurrent processes.

[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984

Closes-Bug: #2027970
Co-authored-by: Max <max.lamprecht@mail.schwarz>
Change-Id: Ia7b87622aabf13c997defd92404304270ed3751b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/888676/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,0dba03e3386dfba71c3563c92c441c07b32bb06f,slow_image_upload," tpool.execute(image_service.update, context, image_id, {}, image_file, store_id=store_id, base_image_ref=base_image_ref) tpool.execute(image_service.update, context, image_id, {}, image_file, store_id=store_id, base_image_ref=base_image_ref) tpool.execute(image_service.update, context, image_id, {}, image_file, store_id=store_id, base_image_ref=base_image_ref)"," image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref) image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref) image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref)",9,12
openstack%2Fpuppet-murano~master~Ia930dbcf99653d8f7b53c2243eee838e3e3f0a67,openstack/puppet-murano,master,Ia930dbcf99653d8f7b53c2243eee838e3e3f0a67,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:54:03.000000000,2023-07-24 14:24:52.000000000,2023-07-24 14:24:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:54:03.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/e0f4b775dc9d215c1814bf18804826c75f0f4422', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Ia930dbcf99653d8f7b53c2243eee838e3e3f0a67\n'}]",0,889248,e0f4b775dc9d215c1814bf18804826c75f0f4422,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Ia930dbcf99653d8f7b53c2243eee838e3e3f0a67
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/48/889248/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,e0f4b775dc9d215c1814bf18804826c75f0f4422,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b,openstack/tripleo-ansible,stable/wallaby,Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b,Pin ansible-collections-openstack,MERGED,2023-07-24 02:48:51.000000000,2023-07-24 14:24:42.000000000,2023-07-24 14:24:42.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 02:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d08ea2e92fbf726681094b4743f784d34eeed18', 'message': 'Pin ansible-collections-openstack\n\nThe latest ansible-collections-openstack version is no longer\ncompatible with openstacksdk in stable/wallaby.\n\nThis pins the collection to avoid pulling ""too new"" version.\n\nCloses-Bug: #2028472\nChange-Id: Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b\n'}, {'number': 2, 'created': '2023-07-24 04:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a78c11e3f8a354766e2eebdbb1c59f5bc684d53d', 'message': 'Pin ansible-collections-openstack\n\nThe latest ansible-collections-openstack version is no longer\ncompatible with openstacksdk in stable/wallaby.\n\nThis pins the collection to avoid pulling ""too new"" version.\n\nCloses-Bug: #2028472\nChange-Id: Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b\n'}, {'number': 3, 'created': '2023-07-24 04:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abbd80a126ee501e8e6b76eafacbe25418f2d770', 'message': 'Pin ansible-collections-openstack\n\nThe latest ansible-collections-openstack version is no longer\ncompatible with openstacksdk in stable/wallaby (0.55.1).\n\nThis pins the collection to avoid pulling ""too new"" version.\n\nCloses-Bug: #2028472\nChange-Id: Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b\n'}, {'number': 4, 'created': '2023-07-24 04:14:52.000000000', 'files': ['tripleo_ansible/requirements.yml', 'tripleo_ansible/ansible-collections-requirements.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb360cd9e51ac64ce9d923a4974088ed412e36dd', 'message': 'Pin ansible-collections-openstack\n\nThe latest ansible-collections-openstack version is no longer\ncompatible with openstacksdk in stable/wallaby (0.55.1).\n\nThis pins the collection to avoid pulling ""too new"" version.\n\nCloses-Bug: #2028472\nChange-Id: Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b\n'}]",2,889286,eb360cd9e51ac64ce9d923a4974088ed412e36dd,12,2,4,9816,,,0,"Pin ansible-collections-openstack

The latest ansible-collections-openstack version is no longer
compatible with openstacksdk in stable/wallaby (0.55.1).

This pins the collection to avoid pulling ""too new"" version.

Closes-Bug: #2028472
Change-Id: Iee2ebe5fab92fa6865c39a09d59f769f80ff7b9b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/889286/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible-collections-requirements.yml'],1,7d08ea2e92fbf726681094b4743f784d34eeed18,, version: 1.9.1,,1,0
openstack%2Fswift~master~I0dc5644a84ededee753e449e053e6b1786fdcf32,openstack/swift,master,I0dc5644a84ededee753e449e053e6b1786fdcf32,Start to decouple Object GET path,MERGED,2020-06-05 18:56:09.000000000,2023-07-24 14:11:41.000000000,2020-09-04 14:22:17.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 18:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ffda7b149fb53ce88b6c92aad8f66b558967fbc6', 'message': 'Start to decouple Object GET path\n\nThese shared primitives are brittle and slowing us down.  To find a\nbetter way to share code we need to start by separating the very\ndifferent EC vs Replicated connection logic.  Eventually there it may\nbecome obvious that we can combine the common handling of all object\nresource download which is irrelevant to replicated database resources.\n\nChange-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32\n'}, {'number': 2, 'created': '2020-06-19 22:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2aa4fe6c6a23c7b1eafe211dcb7ba779a6f358b9', 'message': 'Start to decouple Object GET path\n\nThese shared primitives are brittle and slowing us down.  To find a\nbetter way to share code we need to start by separating the very\ndifferent EC vs Replicated connection logic.  Eventually there it may\nbecome obvious that we can combine the common handling of all object\nresource download which is irrelevant to replicated database resources.\n\nChange-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32\n'}, {'number': 3, 'created': '2020-07-22 17:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/15107d01b990c7f63a3ff4746a85a655f59ec312', 'message': 'Start to decouple Object GET path\n\nThese shared primitives are brittle and slowing us down.  To find a\nbetter way to share code we need to start by separating the very\ndifferent EC vs Replicated connection logic.  Eventually there it may\nbecome obvious that we can combine the common handling of all object\nresource download which is irrelevant to replicated database resources.\n\nChange-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32\n'}, {'number': 4, 'created': '2020-07-27 17:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0ad440525f7cf2ab87ee6d445d34a9d7ab64f7f8', 'message': 'Start to decouple Object GET path\n\nThese shared primitives are brittle and slowing us down.  To find a\nbetter way to share code we need to start by separating the very\ndifferent EC vs Replicated connection logic.  Eventually there it may\nbecome obvious that we can combine the common handling of all object\nresource download which is irrelevant to replicated database resources.\n\nChange-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32\n'}, {'number': 5, 'created': '2020-08-04 18:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6598ebda8815248961b1cc35f9bb8865f715578a', 'message': 'Start to decouple Object GET path\n\nThese shared primitives are brittle and slowing us down.  To find a\nbetter way to share code we need to start by separating the very\ndifferent EC vs Replicated connection logic.  Eventually there it may\nbecome obvious that we can combine the common handling of all object\nresource download which is irrelevant to replicated database resources.\n\nChange-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32\n'}, {'number': 6, 'created': '2020-08-04 21:57:01.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5b2c846c69cba6dc707ff32318b715791711f34e', 'message': 'Start to decouple Object GET path\n\nThese shared primitives are brittle and slowing us down.  To find a\nbetter way to share code we need to start by separating the very\ndifferent EC vs Replicated connection logic.  Eventually there it may\nbecome obvious that we can combine the common handling of all object\nresource download which is irrelevant to replicated database resources.\n\nChange-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32\n'}]",10,733911,5b2c846c69cba6dc707ff32318b715791711f34e,33,4,6,1179,,,0,"Start to decouple Object GET path

These shared primitives are brittle and slowing us down.  To find a
better way to share code we need to start by separating the very
different EC vs Replicated connection logic.  Eventually there it may
become obvious that we can combine the common handling of all object
resource download which is irrelevant to replicated database resources.

Change-Id: I0dc5644a84ededee753e449e053e6b1786fdcf32
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/733911/6 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py']",3,ffda7b149fb53ce88b6c92aad8f66b558967fbc6,waterfall-ec-refactor,class GetOrHeadHandler(object):,class ResumingGetter(object): class GetOrHeadHandler(ResumingGetter):,573,14
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0af50e1ebddf897376cad2b5dbd75dac2e51a81f,openstack/tripleo-heat-templates,stable/wallaby,I0af50e1ebddf897376cad2b5dbd75dac2e51a81f,Set UpgradeLeappDebug to false,MERGED,2023-07-20 10:19:44.000000000,2023-07-24 13:18:22.000000000,2023-07-24 13:18:22.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}, {'_account_id': 33080}, {'_account_id': 34419}]","[{'number': 1, 'created': '2023-07-20 10:19:44.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1340564b905921ffbb857cecfffe7cf3b640d77', 'message': 'Set UpgradeLeappDebug to false\n\nSet UpgradeLeappDebug to false to allow leapp not to stuck in ""early\nconsole in setup code""\n\nResolves: rhbz#2196288\nRelated-Bug: rhbz#2224085\n\nChange-Id: I0af50e1ebddf897376cad2b5dbd75dac2e51a81f\n'}]",1,889072,d1340564b905921ffbb857cecfffe7cf3b640d77,9,8,1,11090,,,0,"Set UpgradeLeappDebug to false

Set UpgradeLeappDebug to false to allow leapp not to stuck in ""early
console in setup code""

Resolves: rhbz#2196288
Related-Bug: rhbz#2224085

Change-Id: I0af50e1ebddf897376cad2b5dbd75dac2e51a81f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/889072/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,d1340564b905921ffbb857cecfffe7cf3b640d77,, default: false, default: true,1,1
openstack%2Fovsdbapp~master~I19583b439f0d8488e957265d89309abf08d307e7,openstack/ovsdbapp,master,I19583b439f0d8488e957265d89309abf08d307e7,Add some basic usage documentation,MERGED,2023-07-18 20:08:54.000000000,2023-07-24 13:09:03.000000000,2023-07-24 13:08:03.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-07-18 20:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a00951c80d3208527ed4e9c22975ecbb4bdcfc6d', 'message': 'Add some basic usage documentation\n\nThis adds some basic usage documentation and a simple tutorial for\novsdbapp.\n\nChange-Id: I19583b439f0d8488e957265d89309abf08d307e7\n'}, {'number': 2, 'created': '2023-07-18 21:57:38.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/overview.rst', 'doc/source/user/tutorial.rst'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6f7aed70982ba33ccf5a76a02bf9f9fa659e505c', 'message': 'Add some basic usage documentation\n\nThis adds some basic usage documentation and a simple tutorial for\novsdbapp.\n\nChange-Id: I19583b439f0d8488e957265d89309abf08d307e7\n'}]",7,888807,6f7aed70982ba33ccf5a76a02bf9f9fa659e505c,12,5,2,5756,,,0,"Add some basic usage documentation

This adds some basic usage documentation and a simple tutorial for
ovsdbapp.

Change-Id: I19583b439f0d8488e957265d89309abf08d307e7
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/07/888807/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/overview.rst', 'doc/source/user/tutorial.rst']",3,a00951c80d3208527ed4e9c22975ecbb4bdcfc6d,,"======== Tutorial ======== Open vSwitch Environment Setup ------------------------------ This tutorial will use the Open vSwitch sandbox environment from the OVS source tree. For the sake of simplicity, we will build OVS without SSL support. You will need git, C development tools, automake, autoconf, and libtool. See the `Installing Open vSwitch`_ instructions for build requirements and more detailed build instructions. .. code-block:: shell git clone https://github.com/openvswitch/ovs cd ovs ./boot.sh ./configure --disable-ssl --enable-shared export OVS_SRCDIR=`pwd` make -j $(nproc) sandbox Backend Setup ------------- While the original ovs-vsctl -based backend required no setup, other backends may. For example, the python-ovs IDL backend maintains a constant connection to ovsdb-server and requires an IDL class to be instantiated and passed to an OVSDBapp IDL backend Connection object. .. code-block:: python import os from ovs.db import idl as ovs_idl from ovsdbapp.backend.ovs_idl import connection from ovsdbapp.schema.open_vswitch import impl_idl src_dir = os.getenv(""OVS_SRCDIR"") run_dir = os.getenv(""OVS_RUNDIR"", ""/var/run/openvswitch"") schema_file = os.path.join(src_dir, ""vswitchd"", ""vswitch.ovsschema"") db_sock = os.path.join(run_dir, ""db.sock"") remote = f""unix:{db_sock}"" schema_helper = ovs_idl.SchemaHelper(schema_file) schema_helper.register_all() idl = ovs_idl.Idl(remote, schema_helper) conn = connection.Connection(idl=idl, timeout=60) api = impl_idl.OvsdbIdl(conn) Using the API ------------- Each API definition varies based on the schemas it supports and what the app requires. There is built-in support for many common OVS and OVN-related schemas, but it is possible that the APIs defined for these are not optimized for a given app's use cases. It may often make sense for apps to define APIs separate from those that are in ovsdbapp. With that said, any api that inherits from ovsdbapp.api.API will at least have methods defined for the standard generic OVSDB DB operations found described in the `ovs-vsctl manpage`_ under Database Commands. * list * find * get * set * add * remove * clear * create * destroy They are all prefixed with db\_ (e.g. list becomes db_list) and have an interface similar to that used by ovs-vsctl, ovn-nbctl, ovn-sbctl, etc. db_list() and db_find() return results as lists of dicts with each dict representing a row, with keys as the column names. Later versions added db_list_rows() and db_find_rows() to return lists of RowView objects. API commands that interact with the OVSDB server typically return an instance of a subclass of ovsdbapp.api.Command. These objects hold the state of a request that will be sent to an OVSDB server as part of a transaction. They can be thought of as the equivalent of queries in SQL. For a Command to be sent to the OVSDB server, it must be attached to a transaction, and committed. For single commands, this can be done with execute(): .. code-block:: python results = api.db_list(""Open_vSwitch"").execute(check_error=True) This implicitly creates a transaction, adds the Command returned by db_list() to that transaction, calls commit() on the transaction, and returns the result that is stored on the Command object. It is the equivalent of: .. code-block:: python txn = api.create_transaction(check_error=True) add_cmd = api.db_list(""Open_vSwitch"") txn.add(add_cmd) txn.commit() results = add_cmd.result That API also defines transaction(), a context manager, that makes multi-command transactions easier. .. code-block:: python with api.transaction(check_error=True) as txn: br_cmd = txn.add(api.db_create(""Bridge"", name=""test-br"")) txn.add(api.db_add(""Open_vSwitch"", ""."", ""bridges"", br_cmd)) There are some things to note with the above code. First, is that Transaction.add() returns the Command object that is passed to it. In the case of the db_create() command, the row it will create can be referenced in other commands in the same transaction. Second, if a table is defined as having at most one row, like the Open_vSwitch table, instead of passing its UUID, ""."" can be passed. Lastly, note that we are creating a Bridge row and adding it to the Open_vSwitch row's ""bridges"" field. The Bridge table is not set as a ""root"" table in the Open_vSwitch schema. What this means is that if no row in a root table references this Bridge, ovsdb-server will automatically clean up this row. The Open_vSwitch table is a root table, so referencing the bridge in that row prevents the bridge that was just created from being immediately removed. .. _Installing Open vSwitch: https://docs.openvswitch.org/en/latest/intro/install/ .. _ovs-vsctl manpage: http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.html ",,193,5
openstack%2Fopenstacksdk~master~I82f905590bc4341c79d6aed6db0064763fd7cb0a,openstack/openstacksdk,master,I82f905590bc4341c79d6aed6db0064763fd7cb0a,Add support for default security group rules in SDK,NEW,2023-06-29 10:04:18.000000000,2023-07-24 12:57:21.000000000,,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-29 10:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3314f2572cfca0a66f776d7a416948311bffdf60', 'message': 'Add support for default security group rules in SDK\n\nNeutron introduced new API for ""default security group rules"" which are\nkind of template of the SG rules which are next added to each newly\ncreated SG.\nThis patch adds support for that new API in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884474\n\nRelated-bug: #1983053\nChange-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a\n'}, {'number': 2, 'created': '2023-06-29 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/25843de75b1e8292543769932a7d3ff787956385', 'message': 'Add support for default security group rules in SDK\n\nNeutron introduced new API for ""default security group rules"" which are\nkind of template of the SG rules which are next added to each newly\ncreated SG.\nThis patch adds support for that new API in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884474\n\nRelated-bug: #1983053\nChange-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a\n'}, {'number': 3, 'created': '2023-06-30 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e0283b94fb163f70d1a5d263d7dedb65c790ba73', 'message': 'Add support for default security group rules in SDK\n\nNeutron introduced new API for ""default security group rules"" which are\nkind of template of the SG rules which are next added to each newly\ncreated SG.\nThis patch adds support for that new API in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884474\n\nRelated-bug: #1983053\nChange-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a\n'}, {'number': 4, 'created': '2023-07-07 08:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0095d93d27d2c0003f3ad99cab40145e887b4da4', 'message': 'Add support for default security group rules in SDK\n\nNeutron introduced new API for ""default security group rules"" which are\nkind of template of the SG rules which are next added to each newly\ncreated SG.\nThis patch adds support for that new API in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884474\n\nRelated-bug: #1983053\nChange-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a\n'}, {'number': 5, 'created': '2023-07-19 14:16:52.000000000', 'files': ['openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_default_security_group_rule.py', 'openstack/tests/functional/network/v2/test_default_security_group_rule.py', 'openstack/network/v2/default_security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b02c96974edc3bdf91b4b11afc689569562b6c78', 'message': 'Add support for default security group rules in SDK\n\nNeutron introduced new API for ""default security group rules"" which are\nkind of template of the SG rules which are next added to each newly\ncreated SG.\nThis patch adds support for that new API in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884474\n\nRelated-bug: #1983053\nChange-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a\n'}]",17,887262,b02c96974edc3bdf91b4b11afc689569562b6c78,19,4,5,11975,,,0,"Add support for default security group rules in SDK

Neutron introduced new API for ""default security group rules"" which are
kind of template of the SG rules which are next added to each newly
created SG.
This patch adds support for that new API in SDK.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/884474

Related-bug: #1983053
Change-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/62/887262/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_default_security_group_rule.py', 'openstack/tests/functional/network/v2/test_default_security_group_rule.py', 'openstack/network/v2/default_security_group_rule.py']",4,3314f2572cfca0a66f776d7a416948311bffdf60,bug/1983053,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.common import tag from openstack.network.v2 import _base from openstack import resource class DefaultSecurityGroupRule(_base.NetworkResource): resource_key = 'default_security_group_rule' resources_key = 'default_security_group_rules' base_path = '/default-security-group-rules' # capabilities allow_create = True allow_fetch = True allow_commit = False allow_delete = True allow_list = True _query_mapping = resource.QueryParameters( 'id', 'description', 'remote_group_id', 'remote_address_group_id', 'direction', 'protocol', 'port_range_min', 'port_range_max', 'remote_ip_prefix', 'used_in_default_sg', 'used_in_non_default_sg', 'sort_dir', 'sort_key', ether_type='ethertype', ) # Properties #: The default security group rule description. description = resource.Body('description') #: The remote security group ID to be associated with this security #: group rule created from this template. #: You can specify either ``remote_group_id`` or #: #: ``remote_address_group_id`` or ``remote_ip_prefix``. remote_group_id = resource.Body('remote_group_id') #: The remote address group ID to be associated with this security #: group rule created from that template. #: You can specify either ``remote_group_id`` or #: ``remote_address_group_id`` or ``remote_ip_prefix``. remote_address_group_id = resource.Body('remote_address_group_id') #: ``ingress`` or ``egress``: The direction in which the security group #: # rule will be applied. See 'direction' field in the security group rule # API. direction = resource.Body('direction') #: The protocol that is matched by the security group rule. #: Valid values are ``null``, ``tcp``, ``udp``, and ``icmp``. protocol = resource.Body('protocol') #: The minimum port number in the range that is matched by the #: security group rule. If the protocol is TCP or UDP, this value #: must be less than or equal to the value of the port_range_max #: attribute. If the protocol is ICMP, this value must be an ICMP type. port_range_min = resource.Body('port_range_min', type=int) #: The maximum port number in the range that is matched by the #: security group rule. The port_range_min attribute constrains #: the port_range_max attribute. If the protocol is ICMP, this #: value must be an ICMP type. port_range_max = resource.Body('port_range_max', type=int) #: The remote IP prefix to be associated with this security group rule. #: You can specify either ``remote_group_id`` or #: ``remote_address_group_id`` or ``remote_ip_prefix``. #: This attribute matches the specified IP prefix as the source or #: destination IP address of the IP packet depending on direction. remote_ip_prefix = resource.Body('remote_ip_prefix') #: Must be IPv4 or IPv6, and addresses represented in CIDR must match #: the ingress or egress rules. ether_type = resource.Body('ethertype') #: Indicate if this template be used to create security group rules in the #: default security group created automatically for each project. used_in_default_sg = resource.Body('used_in_default_sg', type=bool) #: Indicate if this template be used to create security group rules in the #: custom security groups created in the project by users. used_in_non_default_sg = resource.Body('used_in_non_default_sg', type=bool) ",,363,0
openstack%2Fneutron~master~I94d2d94dfc5b2483d52d8a19cc207c7a2ec74e76,openstack/neutron,master,I94d2d94dfc5b2483d52d8a19cc207c7a2ec74e76,DNM Just trying to reproduce UT failure from other patch,ABANDONED,2023-07-07 13:48:24.000000000,2023-07-24 12:56:06.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-07 13:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/882d5dc8ea1af9f336af2c0a38ccc79eb1bdf072', 'message': 'DNM Just trying to reproduce UT failure from other patch\n\nChange-Id: I94d2d94dfc5b2483d52d8a19cc207c7a2ec74e76\n'}, {'number': 2, 'created': '2023-07-07 14:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e1a3e90d7a6b8eb73d2c0391a48f53e728f980f', 'message': 'DNM Just trying to reproduce UT failure from other patch\n\nChange-Id: I94d2d94dfc5b2483d52d8a19cc207c7a2ec74e76\n'}, {'number': 3, 'created': '2023-07-17 10:42:46.000000000', 'files': ['neutron/db/securitygroups_db.py', 'zuul.d/project.yaml', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0306d088662676768ae70de063891f9f2bc3f39f', 'message': 'DNM Just trying to reproduce UT failure from other patch\n\nChange-Id: I94d2d94dfc5b2483d52d8a19cc207c7a2ec74e76\n'}]",22,887957,0306d088662676768ae70de063891f9f2bc3f39f,16,2,3,11975,,,0,"DNM Just trying to reproduce UT failure from other patch

Change-Id: I94d2d94dfc5b2483d52d8a19cc207c7a2ec74e76
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/887957/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'neutron/tests/unit/extensions/test_securitygroup.py']",2,882d5dc8ea1af9f336af2c0a38ccc79eb1bdf072,bug/1983053," print(""SK; res = %s"" % res.__dict__) result = res.get_response(self.ext_api) print(""SK; result = %s"" % result.__dict__) groups = self.deserialize(self.fmt, result) print(""SK; groups = %s"" % groups)"," groups = self.deserialize(self.fmt, res.get_response(self.ext_api))",5,68
openstack%2Fneutron-tempest-plugin~master~Ic487ac600270ca772e344ed95cd14bd40257e268,openstack/neutron-tempest-plugin,master,Ic487ac600270ca772e344ed95cd14bd40257e268,Add VNaaS OVN job to the project,NEW,2023-07-24 07:52:10.000000000,2023-07-24 12:52:37.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 07:52:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3181d66db1ca44e88c01c1b133048af5ff65dce2', 'message': 'Add VNaaS OVN job to the project\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\nChange-Id: Ic487ac600270ca772e344ed95cd14bd40257e268\n'}]",1,889294,3181d66db1ca44e88c01c1b133048af5ff65dce2,4,2,1,28619,,,0,"Add VNaaS OVN job to the project

Depends-On: https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353
Change-Id: Ic487ac600270ca772e344ed95cd14bd40257e268
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/94/889294/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3181d66db1ca44e88c01c1b133048af5ff65dce2,bug/1905391, - neutron-tempest-plugin-vpnaas-ovn - neutron-tempest-plugin-vpnaas-ovn,,2,0
openstack%2Fkayobe~stable%2F2023.1~Ie29137fe1ab4d50366b8a000d891db3d256d09f2,openstack/kayobe,stable/2023.1,Ie29137fe1ab4d50366b8a000d891db3d256d09f2,docs: Add a warning on creating network loops,MERGED,2023-07-24 12:14:26.000000000,2023-07-24 12:32:20.000000000,2023-07-24 12:30:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-07-24 12:14:26.000000000', 'files': ['doc/source/configuration/reference/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/68bdfcec6ae661c6c13f178bdb5e7ff859c3b785', 'message': 'docs: Add a warning on creating network loops\n\nChange-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2\n(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)\n'}]",0,889237,68bdfcec6ae661c6c13f178bdb5e7ff859c3b785,7,2,1,32657,,,0,"docs: Add a warning on creating network loops

Change-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2
(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/889237/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/network.rst'],1,68bdfcec6ae661c6c13f178bdb5e7ff859c3b785,,".. warning:: Changing ``external_net_names`` after initial deployment has a potential for creating network loops. Kayobe / Ansible will not clean up any items removed from this variable in the OVS. Any additional interfaces that map to network names from the list will be added to the bridge. Any previous entries that should be removed, must be deleted in OVS manually prior to applying changes via Kayobe in order to avoid creating a loop. ",,9,0
openstack%2Fproject-config~master~I095f44c9f934b0532f08dc411700ebd7528cee67,openstack/project-config,master,I095f44c9f934b0532f08dc411700ebd7528cee67,Add Intel Ethernet Operator app to StarlingX,MERGED,2023-07-07 10:23:22.000000000,2023-07-24 12:31:31.000000000,2023-07-24 12:20:15.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 24777}, {'_account_id': 28558}]","[{'number': 1, 'created': '2023-07-07 10:23:22.000000000', 'files': ['gerrit/acls/starlingx/app-intel-ethernet-operator.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d2babc51c4d31b4b29f2f7c0fecf194393122e2', 'message': 'Add Intel Ethernet Operator app to StarlingX\n\nStory: 2010562\nTask: 48334\n\nChange-Id: I095f44c9f934b0532f08dc411700ebd7528cee67\nSigned-off-by: Rafal Lal <rafalx.lal@intel.com>\n'}]",2,887941,2d2babc51c4d31b4b29f2f7c0fecf194393122e2,10,4,1,35858,,,0,"Add Intel Ethernet Operator app to StarlingX

Story: 2010562
Task: 48334

Change-Id: I095f44c9f934b0532f08dc411700ebd7528cee67
Signed-off-by: Rafal Lal <rafalx.lal@intel.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/887941/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/starlingx/app-intel-ethernet-operator.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,2d2babc51c4d31b4b29f2f7c0fecf194393122e2,, - starlingx/app-intel-ethernet-operator,,24,0
openstack%2Fpython-openstackclient~master~I364211a597b6ec155b154fa9d3c67239e750b5ad,openstack/python-openstackclient,master,I364211a597b6ec155b154fa9d3c67239e750b5ad,Migrate 'volume summary' command to SDK,MERGED,2023-05-25 13:34:23.000000000,2023-07-24 12:31:30.000000000,2023-07-24 12:29:14.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 13:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7f4f4e2ec747237baff64af6a04553b716027da2', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}, {'number': 2, 'created': '2023-06-02 19:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ee26cf3e17fe82b3c40a4535c9dfb3d828b03943', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}, {'number': 3, 'created': '2023-06-06 08:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b9c4f6a0cd46bf5a2cd280cdb1d826e9cf061311', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}, {'number': 4, 'created': '2023-06-06 10:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4831a2657f9997bbb2c7cfbad5ad41face72580a', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}, {'number': 5, 'created': '2023-06-09 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f129deeea9d1fc647831bffe8c30f8ee7b45c38a', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}, {'number': 6, 'created': '2023-06-14 06:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/70db0c8f150a18e23508d2f1c58f74144f13bc9b', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}, {'number': 7, 'created': '2023-07-05 10:04:01.000000000', 'files': ['releasenotes/notes/migrate-volume-summary-to-sdk-96ff58f653e0feaa.yaml', 'openstackclient/volume/v3/volume.py', 'openstackclient/tests/unit/volume/v3/fakes.py', 'openstackclient/tests/unit/volume/v3/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4dfbc5011efe6b5cd30d5eac20b8cf29003004b2', 'message': ""Migrate 'volume summary' command to SDK\n\nThis patch modifies the existing volume summary call from\ncinderclient to SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397\nChange-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad\n""}]",14,884398,4dfbc5011efe6b5cd30d5eac20b8cf29003004b2,29,3,7,27615,,,0,"Migrate 'volume summary' command to SDK

This patch modifies the existing volume summary call from
cinderclient to SDK.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884397
Change-Id: I364211a597b6ec155b154fa9d3c67239e750b5ad
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/884398/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrate-volume-summary-to-sdk-96ff58f653e0feaa.yaml', 'openstackclient/volume/v3/volume.py', 'openstackclient/tests/unit/volume/v3/test_volume.py']",3,7f4f4e2ec747237baff64af6a04553b716027da2,cinderclient-sdk-migration,"class BaseVolumeTest(volume_fakes.TestVolume): def setUp(self): super().setUp() self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.volume = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.volume self.sdk_client.reset_mock() patcher = mock.patch.object( sdk_utils, 'supports_microversion', return_value=True ) self.addCleanup(patcher.stop) self.supports_microversion_mock = patcher.start() self._set_mock_microversion( self.app.client_manager.volume.api_version.get_string() ) def _set_mock_microversion(self, mock_v): """"""Set a specific microversion for the mock supports_microversion()."""""" self.supports_microversion_mock.reset_mock(return_value=True) self.supports_microversion_mock.side_effect = ( lambda _, v: api_versions.APIVersion(v) <= api_versions.APIVersion(mock_v) ) class TestVolumeSummary(BaseVolumeTest): self.sdk_client.summary.return_value = self.return_dict self._set_mock_microversion('3.12') self.sdk_client.summary.assert_called_once_with(True) self._set_mock_microversion('3.36') self.sdk_client.summary.return_value = meta_dict self.sdk_client.summary.assert_called_once_with(True)class TestVolumeRevertToSnapshot(BaseVolumeTest):","class TestVolumeSummary(volume_fakes.TestVolume): self.volumes_mock = self.app.client_manager.volume.volumes self.volumes_mock.reset_mock() self.volumes_mock.summary.return_value = self.return_dict self.app.client_manager.volume.api_version = api_versions.APIVersion( '3.12' ) self.volumes_mock.summary.assert_called_once_with( all_tenants=True, ) self.app.client_manager.volume.api_version = api_versions.APIVersion( '3.36' ) self.volumes_mock.summary.return_value = meta_dict self.volumes_mock.summary.assert_called_once_with( all_tenants=True, )class TestVolumeRevertToSnapshot(volume_fakes.TestVolume): self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.volume = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.volume self.sdk_client.reset_mock() patcher = mock.patch.object( sdk_utils, 'supports_microversion', return_value=True ) self.addCleanup(patcher.stop) self.supports_microversion_mock = patcher.start() self._set_mock_microversion( self.app.client_manager.volume.api_version.get_string() ) def _set_mock_microversion(self, mock_v): """"""Set a specific microversion for the mock supports_microversion()."""""" self.supports_microversion_mock.reset_mock(return_value=True) self.supports_microversion_mock.side_effect = ( lambda _, v: api_versions.APIVersion(v) <= api_versions.APIVersion(mock_v) ) ",43,47
openstack%2Fopenstacksdk~master~I939530af74174f6b0db706295a34612bb643ca38,openstack/openstacksdk,master,I939530af74174f6b0db706295a34612bb643ca38,wokflow: add update_workflow proxy method,MERGED,2023-07-18 11:19:47.000000000,2023-07-24 12:31:30.000000000,2023-07-24 12:29:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-07-18 11:19:47.000000000', 'files': ['openstack/tests/unit/workflow/v2/test_proxy.py', 'openstack/workflow/v2/workflow.py', 'releasenotes/notes/update_workflow-ecdef6056ef2687b.yaml', 'doc/source/user/proxies/workflow.rst', 'openstack/workflow/v2/_proxy.py', 'openstack/tests/unit/workflow/test_workflow.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c9c212c81a430b46b7447ea9f918fedfd0d6b154', 'message': 'wokflow: add update_workflow proxy method\n\nChange-Id: I939530af74174f6b0db706295a34612bb643ca38\n'}]",3,888764,c9c212c81a430b46b7447ea9f918fedfd0d6b154,11,3,1,35642,,,0,"wokflow: add update_workflow proxy method

Change-Id: I939530af74174f6b0db706295a34612bb643ca38
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/888764/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/workflow/v2/test_proxy.py', 'openstack/workflow/v2/workflow.py', 'releasenotes/notes/update_workflow-ecdef6056ef2687b.yaml', 'doc/source/user/proxies/workflow.rst', 'openstack/workflow/v2/_proxy.py', 'openstack/tests/unit/workflow/test_workflow.py']",6,c9c212c81a430b46b7447ea9f918fedfd0d6b154,update_workflow, self.assertTrue(sot.allow_commit),,43,6
openstack%2Fneutron~stable%2F2023.1~Iac1472f7f896ea434deacb6d236ab469f4f6ed56,openstack/neutron,stable/2023.1,Iac1472f7f896ea434deacb6d236ab469f4f6ed56,Fix ACL sync when default sg group is created,MERGED,2023-07-17 16:31:17.000000000,2023-07-24 12:31:29.000000000,2023-07-24 12:29:09.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 16:31:17.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1f5bac4a2ab4fb34d56a5c7ccc118c82e133d5d', 'message': 'Fix ACL sync when default sg group is created\n\nPort group not being available in NB DB during ACL sync\nis bit of a corner case but possible during the ML2/OVS\nto ML2/OVN migration sync. It can also happen in ML2/OVN\nonly enviroment. See my detailed description of both\nscenarios in the linked Bug.\nThe easiest fix is to just retry ALL port groups sync\none more time if ACL sync cant find a port group row. This\nadditional resync is really quick.\n\nCloses-Bug: #2008943\nChange-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56\n(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)\n'}]",1,888643,c1f5bac4a2ab4fb34d56a5c7ccc118c82e133d5d,9,3,1,1131,,,0,"Fix ACL sync when default sg group is created

Port group not being available in NB DB during ACL sync
is bit of a corner case but possible during the ML2/OVS
to ML2/OVN migration sync. It can also happen in ML2/OVN
only enviroment. See my detailed description of both
scenarios in the linked Bug.
The easiest fix is to just retry ALL port groups sync
one more time if ACL sync cant find a port group row. This
additional resync is really quick.

Closes-Bug: #2008943
Change-Id: Iac1472f7f896ea434deacb6d236ab469f4f6ed56
(cherry picked from commit 33cf2cdc83a8cee9ee075eb371f779c3d356cf48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/888643/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,c1f5bac4a2ab4fb34d56a5c7ccc118c82e133d5d,db_sync_sgs-stable/2023.1,"from ovsdbapp.backend.ovs_idl import idlutils pg_resync_count = 0 while True: try: with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add( **acla, may_exist=True)) except idlutils.RowNotFound as row_err: if row_err.msg.startswith(""Cannot find Port_Group""): if pg_resync_count < 1: LOG.warning('Port group row was not found during ' 'ACLs sync. Will attempt to sync port ' 'groups one more time. The caught ' 'exception is: %s', row_err) self.sync_port_groups(ctx) pg_resync_count += 1 continue LOG.error('Port group exception during ACL sync ' 'even after one more port group resync. ' 'The caught exception is: %s', row_err) else: raise break"," with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add(**acla, may_exist=True))",27,6
openstack%2Fkayobe~stable%2Fyoga~Ie29137fe1ab4d50366b8a000d891db3d256d09f2,openstack/kayobe,stable/yoga,Ie29137fe1ab4d50366b8a000d891db3d256d09f2,docs: Add a warning on creating network loops,MERGED,2023-07-24 11:25:39.000000000,2023-07-24 12:28:35.000000000,2023-07-24 12:27:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-07-24 11:25:39.000000000', 'files': ['doc/source/configuration/reference/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ca362a928245dbbc85775655c7121af2fc66c96f', 'message': 'docs: Add a warning on creating network loops\n\nChange-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2\n(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)\n'}]",0,889234,ca362a928245dbbc85775655c7121af2fc66c96f,7,2,1,32657,,,0,"docs: Add a warning on creating network loops

Change-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2
(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/34/889234/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/network.rst'],1,ca362a928245dbbc85775655c7121af2fc66c96f,,".. warning:: Changing ``external_net_names`` after initial deployment has a potential for creating network loops. Kayobe / Ansible will not clean up any items removed from this variable in the OVS. Any additional interfaces that map to network names from the list will be added to the bridge. Any previous entries that should be removed, must be deleted in OVS manually prior to applying changes via Kayobe in order to avoid creating a loop. ",,9,0
openstack%2Fkayobe~stable%2Fzed~Ie29137fe1ab4d50366b8a000d891db3d256d09f2,openstack/kayobe,stable/zed,Ie29137fe1ab4d50366b8a000d891db3d256d09f2,docs: Add a warning on creating network loops,MERGED,2023-07-24 11:25:25.000000000,2023-07-24 12:28:33.000000000,2023-07-24 12:27:36.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-07-24 11:25:25.000000000', 'files': ['doc/source/configuration/reference/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e00f9cadebfd680011efa5b80bb70ef37abf4655', 'message': 'docs: Add a warning on creating network loops\n\nChange-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2\n(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)\n'}]",0,889233,e00f9cadebfd680011efa5b80bb70ef37abf4655,7,2,1,32657,,,0,"docs: Add a warning on creating network loops

Change-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2
(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/33/889233/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/network.rst'],1,e00f9cadebfd680011efa5b80bb70ef37abf4655,,".. warning:: Changing ``external_net_names`` after initial deployment has a potential for creating network loops. Kayobe / Ansible will not clean up any items removed from this variable in the OVS. Any additional interfaces that map to network names from the list will be added to the bridge. Any previous entries that should be removed, must be deleted in OVS manually prior to applying changes via Kayobe in order to avoid creating a loop. ",,9,0
openstack%2Fkayobe~stable%2Fxena~Ie29137fe1ab4d50366b8a000d891db3d256d09f2,openstack/kayobe,stable/xena,Ie29137fe1ab4d50366b8a000d891db3d256d09f2,docs: Add a warning on creating network loops,MERGED,2023-07-24 11:25:57.000000000,2023-07-24 12:23:35.000000000,2023-07-24 12:22:36.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-07-24 11:25:57.000000000', 'files': ['doc/source/configuration/reference/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5543cc7b1e6d258b410426262ed65e69f7081938', 'message': 'docs: Add a warning on creating network loops\n\nChange-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2\n(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)\n'}]",0,889235,5543cc7b1e6d258b410426262ed65e69f7081938,7,2,1,32657,,,0,"docs: Add a warning on creating network loops

Change-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2
(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/35/889235/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/network.rst'],1,5543cc7b1e6d258b410426262ed65e69f7081938,,".. warning:: Changing ``external_net_names`` after initial deployment has a potential for creating network loops. Kayobe / Ansible will not clean up any items removed from this variable in the OVS. Any additional interfaces that map to network names from the list will be added to the bridge. Any previous entries that should be removed, must be deleted in OVS manually prior to applying changes via Kayobe in order to avoid creating a loop. ",,9,0
openstack%2Fopenstack-ansible-os_rally~stable%2Fzed~I016e457c0e4b7819d6d65af3bc35e06061f92d1c,openstack/openstack-ansible-os_rally,stable/zed,I016e457c0e4b7819d6d65af3bc35e06061f92d1c,Include proper commit in rally_upper_constraints_url,MERGED,2023-07-06 09:35:44.000000000,2023-07-24 12:18:16.000000000,2023-07-24 12:17:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-07-06 09:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/b251a835c04b5e149556e8eaff3eecd3e3d93126', 'message': 'Include proper commit in rally_upper_constraints_url\n\nCurrently, rally_upper_constraints_url always points to master branch.\nIt is not a valid behavior because u-c from master may not work for\nstable branches.\nThis change fixes rally_upper_constraints_url.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/887592\n\nChange-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c\n(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)\n'}, {'number': 2, 'created': '2023-07-13 08:28:36.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/6c3b52eeb09ab78e2b08e2adbf279e03f321b345', 'message': 'Include proper commit in rally_upper_constraints_url\n\nCurrently, rally_upper_constraints_url always points to master branch.\nIt is not a valid behavior because u-c from master may not work for\nstable branches.\nThis change fixes rally_upper_constraints_url.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/888436\n\nChange-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c\n(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)\n'}]",1,887680,6c3b52eeb09ab78e2b08e2adbf279e03f321b345,14,3,2,32666,,,0,"Include proper commit in rally_upper_constraints_url

Currently, rally_upper_constraints_url always points to master branch.
It is not a valid behavior because u-c from master may not work for
stable branches.
This change fixes rally_upper_constraints_url.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/888436

Change-Id: I016e457c0e4b7819d6d65af3bc35e06061f92d1c
(cherry picked from commit c65b91b4900292fb5c4a07dd4473fcf4554b111e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/80/887680/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b251a835c04b5e149556e8eaff3eecd3e3d93126,,"rally_upper_constraints_url: ""{{ rally_openstack_git_repo }}/raw/{{ rally_openstack_git_install_branch }}/upper-constraints.txt""","rally_upper_constraints_url: ""{{ rally_openstack_git_repo }}/raw/branch/master/upper-constraints.txt""",1,1
openstack%2Fneutron~master~Ib3cde1710edd400b972f493b13666d0679a7753c,openstack/neutron,master,Ib3cde1710edd400b972f493b13666d0679a7753c,Default SG api rules template - DB and OVO models,MERGED,2023-05-16 11:08:39.000000000,2023-07-24 12:17:33.000000000,2023-07-24 12:16:05.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-16 11:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/144f43144f63eed4e0c07b2150390865f060e579', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 2, 'created': '2023-05-17 15:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc7d6bc41908f91993c876cc62ce3771071559e6', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 3, 'created': '2023-05-17 15:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cffb9effc5622bea5e1f4f1d16943616a4b1f06e', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 4, 'created': '2023-05-18 17:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4ba847159f5b361c62ba9cada3b8accc6f0209f', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 5, 'created': '2023-05-18 17:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ce50b2cd276297016fceccacbf4876585b95f74', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 6, 'created': '2023-05-22 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/277b406eb0a59102b355b06f9181a0b5dd32fd08', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 7, 'created': '2023-05-25 10:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ac03c667aa30d562d8ea32dc06488f68cd2f197', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 8, 'created': '2023-05-25 11:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3dc16c6568d40e319acddbc3d909fb84c359bf0', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 9, 'created': '2023-05-25 14:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2775f7b1a253845933f0fd39c41414db72f68e82', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 10, 'created': '2023-06-01 07:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/296be1849fefebd75121fb78add488d4709ba5b5', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 11, 'created': '2023-06-01 10:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ecb2934bb8ba91a5b3c857bbcaeddb7cf072f80', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 12, 'created': '2023-06-22 07:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ce263afab836efb5eefd19ee786102b05ece07d', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 13, 'created': '2023-06-26 14:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3d4b06bcbbbba8d5ef2fda661a607d8905d093d', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 14, 'created': '2023-06-29 09:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e739c7d7de28e8718eaef9f2e6cf2903247c45d', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 15, 'created': '2023-07-05 10:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76212314a2950ca5ea75b754fe1d6848981bafa0', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}, {'number': 16, 'created': '2023-07-07 08:44:15.000000000', 'files': ['neutron/extensions/security_groups_default_rules.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/extensions/test_security_groups_default_rules.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/tests/unit/conf/policies/test_default_security_group_rules.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/securitygroup_default_rules.py', 'neutron/db/migration/alembic_migrations/versions/2023.2/expand/c33da356b165_security_group_default_rules.py', 'neutron/common/ovn/extensions.py', 'neutron/conf/policies/__init__.py', 'neutron/objects/securitygroup_default_rules.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/conf/policies/default_security_group_rules.py', 'neutron/tests/unit/objects/test_securitygroup_default_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e41fae522bdee1a27bac49376360c6293f2c53e2', 'message': 'Default SG api rules template - DB and OVO models\n\nThis patch adds DB model, OVO class and DB migration script for\nSG rules template used for every new SG created.\nIt also implements Create/Get/Delete actions for that new resource and\nadds API policies for those APIs\n\nRelated-Bug: #1983053\nChange-Id: Ib3cde1710edd400b972f493b13666d0679a7753c\n'}]",75,883246,e41fae522bdee1a27bac49376360c6293f2c53e2,119,6,16,11975,,,0,"Default SG api rules template - DB and OVO models

This patch adds DB model, OVO class and DB migration script for
SG rules template used for every new SG created.
It also implements Create/Get/Delete actions for that new resource and
adds API policies for those APIs

Related-Bug: #1983053
Change-Id: Ib3cde1710edd400b972f493b13666d0679a7753c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/883246/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_securitygroup_default_rules.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/securitygroup_default_rules.py', 'neutron/db/migration/alembic_migrations/versions/2023.2/expand/c33da356b165_security_group_default_rules.py', 'neutron/objects/securitygroup_default_rules.py']",5,144f43144f63eed4e0c07b2150390865f060e579,bug/1983053,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.objects import common_types from neutron_lib.utils import net as net_utils from oslo_versionedobjects import fields as obj_fields from neutron.db.models import securitygroup_default_rules from neutron.objects import base @base.NeutronObjectRegistry.register class SecurityGroupDefaultRule(base.NeutronDbObject): # Version 1.0: Initial version VERSION = '1.0' db_model = securitygroup_default_rules.SecurityGroupDefaultRule fields = { 'id': common_types.UUIDField(), 'remote_group_id': obj_fields.StringField(nullable=True), 'direction': common_types.FlowDirectionEnumField(nullable=True), 'ethertype': common_types.EtherTypeEnumField(nullable=True), 'protocol': common_types.IpProtocolEnumField(nullable=True), 'port_range_min': common_types.PortRangeWith0Field(nullable=True), 'port_range_max': common_types.PortRangeWith0Field(nullable=True), 'remote_ip_prefix': common_types.IPNetworkField(nullable=True), 'remote_address_group_id': common_types.UUIDField(nullable=True), 'used_in_default_sg': obj_fields.BooleanField(nullable=False), 'used_in_non_default_sg': obj_fields.BooleanField(nullable=False), } @classmethod def modify_fields_to_db(cls, fields): result = super(SecurityGroupDefaultRule, cls).modify_fields_to_db(fields) remote_ip_prefix = result.get('remote_ip_prefix') if remote_ip_prefix: result['remote_ip_prefix'] = cls.filter_to_str(remote_ip_prefix) return result @classmethod def modify_fields_from_db(cls, db_obj): fields = super(SecurityGroupDefaultRule, cls).modify_fields_from_db(db_obj) if 'remote_ip_prefix' in fields: fields['remote_ip_prefix'] = ( net_utils.AuthenticIPNetwork(fields['remote_ip_prefix'])) return fields ",,227,1
openstack%2Fneutron~stable%2Fxena~I8cfa7e67524a42224cbb4b3c3cec3cfa49b795fd,openstack/neutron,stable/xena,I8cfa7e67524a42224cbb4b3c3cec3cfa49b795fd,[OVN] Prevent Trunk creation/deletion with parent port bound,MERGED,2023-07-04 13:32:55.000000000,2023-07-24 12:17:32.000000000,2023-07-24 12:16:10.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-04 13:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b459d85966fe31c4037b5a7d283162f3c7b14a56', 'message': '[OVN] Prevent Trunk creation/deletion with parent port bound\n\nThis patch imitates the ML2/OVS Trunk driver behaviour. When the\ntrunk parent port is bound:\n* A new trunk cannot be created using this parent port.\n* If the port is assigned as parent port of a trunk, this\n  trunk cannot be deleted.\n\nConflicts:\n    neutron/db/l3_dvr_db.py\n    neutron/common/utils.py\n\nCloses-Bug: #2022059\nChange-Id: I8cfa7e67524a42224cbb4b3c3cec3cfa49b795fd\n(cherry picked from commit 833a6d82cd705548130cdac73a88d388f52c7824)\n(cherry picked from commit 2f48c24d412ee07d7cc609cf8379de83380324e3)\n(cherry picked from commit 0d499808f1f3ec6cf40bb87eb32789c463401338)\n(cherry picked from commit 42fc5d305cef7aacbc63cda4733ab07bfe2e28b2)\n'}, {'number': 2, 'created': '2023-07-04 16:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0026b75babc4e8b873763c7aa9340ad10cc51192', 'message': '[OVN] Prevent Trunk creation/deletion with parent port bound\n\nThis patch imitates the ML2/OVS Trunk driver behaviour. When the\ntrunk parent port is bound:\n* A new trunk cannot be created using this parent port.\n* If the port is assigned as parent port of a trunk, this\n  trunk cannot be deleted.\n\nConflicts:\n    neutron/db/l3_dvr_db.py\n    neutron/common/utils.py\n\nCloses-Bug: #2022059\nChange-Id: I8cfa7e67524a42224cbb4b3c3cec3cfa49b795fd\n(cherry picked from commit 833a6d82cd705548130cdac73a88d388f52c7824)\n(cherry picked from commit 2f48c24d412ee07d7cc609cf8379de83380324e3)\n(cherry picked from commit 0d499808f1f3ec6cf40bb87eb32789c463401338)\n(cherry picked from commit 539961b4b9563588d3fe51c84b062b153d97ce68)\n'}, {'number': 3, 'created': '2023-07-06 12:32:03.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/db/l3_dvr_db.py', 'releasenotes/notes/ovn-trunk-check-parent-port-eeca2eceaca9d158.yaml', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/common/utils.py', 'neutron/services/trunk/plugin.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce95bccfe5c30b9119733036dd027f34894420fb', 'message': '[OVN] Prevent Trunk creation/deletion with parent port bound\n\nThis patch imitates the ML2/OVS Trunk driver behaviour. When the\ntrunk parent port is bound:\n* A new trunk cannot be created using this parent port.\n* If the port is assigned as parent port of a trunk, this\n  trunk cannot be deleted.\n\nConflicts:\n    neutron/db/l3_dvr_db.py\n    neutron/common/utils.py\n\nCloses-Bug: #2022059\nChange-Id: I8cfa7e67524a42224cbb4b3c3cec3cfa49b795fd\n(cherry picked from commit 833a6d82cd705548130cdac73a88d388f52c7824)\n(cherry picked from commit 2f48c24d412ee07d7cc609cf8379de83380324e3)\n(cherry picked from commit 0d499808f1f3ec6cf40bb87eb32789c463401338)\n(cherry picked from commit 539961b4b9563588d3fe51c84b062b153d97ce68)\n'}]",32,887605,ce95bccfe5c30b9119733036dd027f34894420fb,21,4,3,16688,,,0,"[OVN] Prevent Trunk creation/deletion with parent port bound

This patch imitates the ML2/OVS Trunk driver behaviour. When the
trunk parent port is bound:
* A new trunk cannot be created using this parent port.
* If the port is assigned as parent port of a trunk, this
  trunk cannot be deleted.

Conflicts:
    neutron/db/l3_dvr_db.py
    neutron/common/utils.py

Closes-Bug: #2022059
Change-Id: I8cfa7e67524a42224cbb4b3c3cec3cfa49b795fd
(cherry picked from commit 833a6d82cd705548130cdac73a88d388f52c7824)
(cherry picked from commit 2f48c24d412ee07d7cc609cf8379de83380324e3)
(cherry picked from commit 0d499808f1f3ec6cf40bb87eb32789c463401338)
(cherry picked from commit 539961b4b9563588d3fe51c84b062b153d97ce68)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/887605/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/db/l3_dvr_db.py', 'releasenotes/notes/ovn-trunk-check-parent-port-eeca2eceaca9d158.yaml', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/common/utils.py', 'neutron/services/trunk/plugin.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']",8,b459d85966fe31c4037b5a7d283162f3c7b14a56,bug/2022059,"from neutron_lib.callbacks import exceptions as n_exc def test_trunk_create_parent_port_bound(self): with self.network() as network: with self.subnet(network=network) as subnet: with self.port(subnet=subnet) as parent_port: pb = port_obj.PortBinding.get_objects( self.context, port_id=parent_port['port']['id']) port_obj.PortBinding.update_object( self.context, {'vif_type': portbindings.VIF_TYPE_OVS}, port_id=pb[0].port_id, host=pb[0].host) tenant_id = uuidutils.generate_uuid() trunk = {'trunk': { 'port_id': parent_port['port']['id'], 'tenant_id': tenant_id, 'project_id': tenant_id, 'admin_state_up': True, 'name': 'trunk', 'sub_ports': []}} self.assertRaises(n_exc.CallbackFailure, self.trunk_plugin.create_trunk, self.context, trunk) def test_trunk_delete_parent_port_bound(self): with self.trunk() as trunk: bp = port_obj.PortBinding.get_objects( self.context, port_id=trunk['port_id']) port_obj.PortBinding.update_object( self.context, {'vif_type': portbindings.VIF_TYPE_OVS}, port_id=bp[0].port_id, host=bp[0].host) self.assertRaises(n_exc.CallbackFailure, self.trunk_plugin.delete_trunk, self.context, trunk['id'])",,83,19
openstack%2Fkayobe~stable%2Fwallaby~Ie29137fe1ab4d50366b8a000d891db3d256d09f2,openstack/kayobe,stable/wallaby,Ie29137fe1ab4d50366b8a000d891db3d256d09f2,docs: Add a warning on creating network loops,ABANDONED,2023-07-24 11:26:08.000000000,2023-07-24 12:16:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-24 11:26:08.000000000', 'files': ['doc/source/configuration/reference/network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dcbc00aec2050a9a318cc6a85cf8f33afbaf4014', 'message': 'docs: Add a warning on creating network loops\n\nChange-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2\n(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)\n'}]",0,889236,dcbc00aec2050a9a318cc6a85cf8f33afbaf4014,3,1,1,32657,,,0,"docs: Add a warning on creating network loops

Change-Id: Ie29137fe1ab4d50366b8a000d891db3d256d09f2
(cherry picked from commit c7b0ffd266c4d567ecee8c5b596f252e3e3c531e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/36/889236/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/network.rst'],1,dcbc00aec2050a9a318cc6a85cf8f33afbaf4014,,".. warning:: Changing ``external_net_names`` after initial deployment has a potential for creating network loops. Kayobe / Ansible will not clean up any items removed from this variable in the OVS. Any additional interfaces that map to network names from the list will be added to the bridge. Any previous entries that should be removed, must be deleted in OVS manually prior to applying changes via Kayobe in order to avoid creating a loop. ",,9,0
openstack%2Fpuppet-cinder~stable%2Fzed~I22618ef8528d0e8dafd1d3483a2d02a15b30c816,openstack/puppet-cinder,stable/zed,I22618ef8528d0e8dafd1d3483a2d02a15b30c816,Add per module policy service refresh,MERGED,2023-07-21 22:07:39.000000000,2023-07-24 11:53:56.000000000,2023-07-24 11:53:56.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:07:39.000000000', 'files': ['spec/classes/cinder_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/65dc51db77b13ca17d3e348d787083692393bb40', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I22618ef8528d0e8dafd1d3483a2d02a15b30c816\n(cherry picked from commit f755731f77d537e5cbb9d776448bd1927d8f5110)\n(cherry picked from commit c667fd34513628148aeec6921be566b2cbef5e29)\n'}]",3,889032,65dc51db77b13ca17d3e348d787083692393bb40,12,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I22618ef8528d0e8dafd1d3483a2d02a15b30c816
(cherry picked from commit f755731f77d537e5cbb9d776448bd1927d8f5110)
(cherry picked from commit c667fd34513628148aeec6921be566b2cbef5e29)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/32/889032/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,65dc51db77b13ca17d3e348d787083692393bb40,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'cinder',",,4,1
openstack%2Fpython-cinderclient~master~Ifdeab1a8cd634bbe63c25fae17448c0789b297c9,openstack/python-cinderclient,master,Ifdeab1a8cd634bbe63c25fae17448c0789b297c9,Add os-extend_volume_completion volume action.,NEW,2023-02-13 12:45:15.000000000,2023-07-24 11:25:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-02-13 12:45:15.000000000', 'files': ['cinderclient/v3/volumes_base.py', 'cinderclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ecf3ff5d4b0bbeb9d0ac7c711a4614b26f9615fe', 'message': 'Add os-extend_volume_completion volume action.\n\nDepends-On: I4aaa5da1ad67a948102c498483de318bd245d86b\nChange-Id: Ifdeab1a8cd634bbe63c25fae17448c0789b297c9\n'}]",4,873558,ecf3ff5d4b0bbeb9d0ac7c711a4614b26f9615fe,6,3,1,34859,,,0,"Add os-extend_volume_completion volume action.

Depends-On: I4aaa5da1ad67a948102c498483de318bd245d86b
Change-Id: Ifdeab1a8cd634bbe63c25fae17448c0789b297c9
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/58/873558/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/volumes_base.py', 'cinderclient/api_versions.py']",2,ecf3ff5d4b0bbeb9d0ac7c711a4614b26f9615fe,bp/extend-volume-completion-action,"MAX_VERSION = ""3.71""","MAX_VERSION = ""3.70""",12,1
openstack%2Foctavia~stable%2Fyoga~I21746515e4ceb0352b4e77708f58873e16d4cdfe,openstack/octavia,stable/yoga,I21746515e4ceb0352b4e77708f58873e16d4cdfe,Fix persistence_granularity default value,NEW,2023-07-18 09:07:44.000000000,2023-07-24 11:24:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-07-18 09:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/195394d9c243884078260e80a8e86c69a93fc4d9', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n'}, {'number': 2, 'created': '2023-07-19 15:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/83dde13d572b6abd69fec1fd807a8620385f34f8', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n'}, {'number': 3, 'created': '2023-07-20 09:50:12.000000000', 'files': ['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-persistence-granularity-default-value-540093bbf6518ed8.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/61bb22bbd9bdc311063e4562d209daebfd0fab3e', 'message': 'Fix persistence_granularity default value\n\nSo far we assiged an ipv4 default value to persistence_granularity when\nwe created a UDP pool with session persistence.\n\nThis patch adds the condition of ipv6 and assigns its matching netmask\nvalue.\n\nStory 2009922\nTask 44780\n\nChange-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe\n(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)\n(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)\n'}]",4,888758,61bb22bbd9bdc311063e4562d209daebfd0fab3e,12,3,3,31664,,,0,"Fix persistence_granularity default value

So far we assiged an ipv4 default value to persistence_granularity when
we created a UDP pool with session persistence.

This patch adds the condition of ipv6 and assigns its matching netmask
value.

Story 2009922
Task 44780

Change-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe
(cherry picked from commit dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83)
(cherry picked from commit 3a1e35da43822362727bd611f1726fb0a8c6b2c4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/888758/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-persistence-granularity-default-value-540093bbf6518ed8.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",4,195394d9c243884078260e80a8e86c69a93fc4d9,fix_persistence_granularity," vip=vip or sample_vip_tuple(), topology=None, enabled=True, listeners=None, pools=None): listeners = listeners or [sample_listener_tuple("," vip=sample_vip_tuple(), topology=None, enabled=True, pools=None): listeners = [sample_listener_tuple(",45,4
openstack%2Ftempest~master~Ib0318bb3c55d05891f209af259e706fa66a3081f,openstack/tempest,master,Ib0318bb3c55d05891f209af259e706fa66a3081f,Split up ServerActionsTestJSON for better mixing,MERGED,2023-07-20 15:32:03.000000000,2023-07-24 10:57:41.000000000,2023-07-24 10:56:34.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-07-20 15:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a912bf4f9b00ae0b88f927a6639bcf4090e8f35', 'message': 'WIP: Try splitting up ServerActionsTestJSON\n\nChange-Id: Ib0318bb3c55d05891f209af259e706fa66a3081f\n'}, {'number': 2, 'created': '2023-07-20 18:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/15917c5603b2727a0b140181eba80865b16db018', 'message': 'WIP: Try splitting up ServerActionsTestJSON\n\nChange-Id: Ib0318bb3c55d05891f209af259e706fa66a3081f\n'}, {'number': 3, 'created': '2023-07-20 20:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a4072096a77e95a6b3a35230b2ad69e85e00be4', 'message': 'WIP: Try splitting up ServerActionsTestJSON\n\nChange-Id: Ib0318bb3c55d05891f209af259e706fa66a3081f\n'}, {'number': 4, 'created': '2023-07-20 21:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a2d7ce53cc5427250e9764a8b81850eec3a5dffd', 'message': 'WIP: Try splitting up ServerActionsTestJSON\n\nChange-Id: Ib0318bb3c55d05891f209af259e706fa66a3081f\n'}, {'number': 5, 'created': '2023-07-20 23:05:47.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1643536c9f7407dceccfaa18a2dd95156de1419c', 'message': 'Split up ServerActionsTestJSON for better mixing\n\nSince we group tests in a single class on a given testr worker, a very\nlarge/slow class will cause a bunch of wall time to pile up on a\nsingle worker, making our distribution less efficient. This splits up\nthe tests in ServerActionsTestJSON into two other classes (and\nrefactors the helpers to a common base class). The interop tests that\ncan\'t move stay in a class of the same name, while the rest move into\ntwo ""other"" classes for better distribution.\n\nOn my system, this results in an almost perfect distribution of wall\ntime into three buckets and goes from about 15 minutes serial to just\nover five minutes in parallel.\n\nChange-Id: Ib0318bb3c55d05891f209af259e706fa66a3081f\n'}]",10,889109,1643536c9f7407dceccfaa18a2dd95156de1419c,20,3,5,4393,,,0,"Split up ServerActionsTestJSON for better mixing

Since we group tests in a single class on a given testr worker, a very
large/slow class will cause a bunch of wall time to pile up on a
single worker, making our distribution less efficient. This splits up
the tests in ServerActionsTestJSON into two other classes (and
refactors the helpers to a common base class). The interop tests that
can't move stay in a class of the same name, while the rest move into
two ""other"" classes for better distribution.

On my system, this results in an almost perfect distribution of wall
time into three buckets and goes from about 15 minutes serial to just
over five minutes in parallel.

Change-Id: Ib0318bb3c55d05891f209af259e706fa66a3081f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/889109/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,3a912bf4f9b00ae0b88f927a6639bcf4090e8f35,split-sat,class ServerActionsBase(base.BaseV2ComputeTest): super().setUp() class ServerActionsTestJSONTestA(ServerActionsBase): class ServerActionsTestJSONTestB(ServerActionsBase):,"class ServerActionsTestJSON(base.BaseV2ComputeTest): super(ServerActionsTestJSON, self).setUp()",6,2
openstack%2Foctavia~stable%2Fxena~I59f1ed85383c078f505c654b1acf3e2a22d11faa,openstack/octavia,stable/xena,I59f1ed85383c078f505c654b1acf3e2a22d11faa,Fix octavia-status with amphorav2,NEW,2023-07-20 08:04:18.000000000,2023-07-24 10:49:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 08:04:18.000000000', 'files': ['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9c3901034fb4c22cb7a386c510e96c8da46e55a', 'message': 'Fix octavia-status with amphorav2\n\nChange-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa\n(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)\n(cherry picked from commit e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec)\n(cherry picked from commit 22d616c5455a0847a9f7c608676f27a871c649b2)\n(cherry picked from commit 1f224a9fb9d02fe6f78627961eaa1f2d9f893651)\n'}]",3,889009,c9c3901034fb4c22cb7a386c510e96c8da46e55a,7,2,1,29244,,,0,"Fix octavia-status with amphorav2

Change-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa
(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)
(cherry picked from commit e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec)
(cherry picked from commit 22d616c5455a0847a9f7c608676f27a871c649b2)
(cherry picked from commit 1f224a9fb9d02fe6f78627961eaa1f2d9f893651)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/889009/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml']",3,c9c3901034fb4c22cb7a386c510e96c8da46e55a,,--- fixes: - | Fixed a bug in octavia-status which reported an incorrect status for the *amphorav2* driver when using the default *amphora* alias. ,,8,4
openstack%2Fvenus~master~I0e19db135e6fc602bd13e0db7528a8bcf2051520,openstack/venus,master,I0e19db135e6fc602bd13e0db7528a8bcf2051520,anomaly detect: add api (delete rule),MERGED,2023-07-24 10:13:15.000000000,2023-07-24 10:42:48.000000000,2023-07-24 10:41:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-24 10:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/45fb1f47ce985f7b3de164aa24f22b24164e485b', 'message': 'anomaly detect: add api (delete rule)\n\nChange-Id: I0e19db135e6fc602bd13e0db7528a8bcf2051520\n'}, {'number': 2, 'created': '2023-07-24 10:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/dc89e4c2b6a628ea02858c63843d33b73d1ad3db', 'message': 'anomaly detect: add api (delete rule)\n\nChange-Id: I0e19db135e6fc602bd13e0db7528a8bcf2051520\n'}, {'number': 3, 'created': '2023-07-24 10:25:15.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/ba0a023d9fb8c398703b1d0c047e51007bceefeb', 'message': 'anomaly detect: add api (delete rule)\n\nChange-Id: I0e19db135e6fc602bd13e0db7528a8bcf2051520\n'}]",3,889265,ba0a023d9fb8c398703b1d0c047e51007bceefeb,11,2,3,27565,,,0,"anomaly detect: add api (delete rule)

Change-Id: I0e19db135e6fc602bd13e0db7528a8bcf2051520
",git fetch https://review.opendev.org/openstack/venus refs/changes/65/889265/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,45fb1f47ce985f7b3de164aa24f22b24164e485b,," def delete_rule(self, id): res = self.sql.delete_rule(id) return res",,19,0
openstack%2Fvenus~master~Ia8de8742de6f18394250ce4fe51da16d2048519b,openstack/venus,master,Ia8de8742de6f18394250ce4fe51da16d2048519b,anomaly detect: add api (add rule),MERGED,2023-07-24 09:01:03.000000000,2023-07-24 09:56:50.000000000,2023-07-24 09:55:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-24 09:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/4f4afee50ecab77cb8888ff6c3f0fc45c6a88657', 'message': 'anomaly detect: add api (add rule)\n\nChange-Id: Ia8de8742de6f18394250ce4fe51da16d2048519b\n'}, {'number': 2, 'created': '2023-07-24 09:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/8120edb7619bdbe430581ce6b4c30723be3b07c1', 'message': 'anomaly detect: add api (add rule)\n\nChange-Id: Ia8de8742de6f18394250ce4fe51da16d2048519b\n'}, {'number': 3, 'created': '2023-07-24 09:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/52856d56cfa3392d293b0ba15cf08c84732eb658', 'message': 'anomaly detect: add api (add rule)\n\nChange-Id: Ia8de8742de6f18394250ce4fe51da16d2048519b\n'}, {'number': 4, 'created': '2023-07-24 09:36:30.000000000', 'files': ['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/8a79f8ee4068100b2527b0e74b3ba60778a2c234', 'message': 'anomaly detect: add api (add rule)\n\nChange-Id: Ia8de8742de6f18394250ce4fe51da16d2048519b\n'}]",15,889264,8a79f8ee4068100b2527b0e74b3ba60778a2c234,12,2,4,27565,,,0,"anomaly detect: add api (add rule)

Change-Id: Ia8de8742de6f18394250ce4fe51da16d2048519b
",git fetch https://review.opendev.org/openstack/venus refs/changes/64/889264/4 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/v1/router.py', 'venus/modules/anomaly_detect/backends/sql.py', 'venus/modules/anomaly_detect/controller.py', 'venus/modules/anomaly_detect/action.py']",4,4f4afee50ecab77cb8888ff6c3f0fc45c6a88657,,"# Copyright 2020 Inspur # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from venus.modules.anomaly_detect.backends.sql import AnomalyDetectSql class AnomalyDetectCore(object): def __init__(self): self.sql = AnomalyDetectSql() super(AnomalyDetectCore, self).__init__() def add_rule(self, title, desc, keyword, match_num, module): res = self.sql.add_rule(title, desc, keyword, match_num, module) return res ",,131,0
openstack%2Fopenstack-helm-images~master~I4458d6def6e202d14b61f21f22f85b5855ba99e8,openstack/openstack-helm-images,master,I4458d6def6e202d14b61f21f22f85b5855ba99e8,fix(ovn): add iproute2 image,MERGED,2023-07-21 14:06:14.000000000,2023-07-24 09:47:53.000000000,2023-07-24 09:46:40.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 14:06:14.000000000', 'files': ['ovn/Dockerfile.ubuntu'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fe257fa396aaa48667b7094b841244fb1b4368e7', 'message': 'fix(ovn): add iproute2 image\n\nChange-Id: I4458d6def6e202d14b61f21f22f85b5855ba99e8\n'}]",0,889181,fe257fa396aaa48667b7094b841244fb1b4368e7,8,3,1,1004,,,0,"fix(ovn): add iproute2 image

Change-Id: I4458d6def6e202d14b61f21f22f85b5855ba99e8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/81/889181/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn/Dockerfile.ubuntu'],1,fe257fa396aaa48667b7094b841244fb1b4368e7,, iproute2 \,,1,0
openstack%2Foctavia~stable%2Fxena~I579c1e7bd364b3c34e9a813f99c77d30753d288b,openstack/octavia,stable/xena,I579c1e7bd364b3c34e9a813f99c77d30753d288b,Fix create_server_group in compute noop,NEW,2023-07-20 07:39:21.000000000,2023-07-24 09:44:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 07:39:21.000000000', 'files': ['octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5c1bbe24860728217735e7e1955e3f38e3fddde9', 'message': 'Fix create_server_group in compute noop\n\nWhen using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group\ndoesn\'t return a value but the caller (NovaServerGroupCreate.execute)\naccesses to the id attribute of the returned value, it triggers an\nAttributeError:\n\nFile ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute\n        ""%s"", server_group.id, loadbalancer_id)\nAttributeError: \'NoneType\' object has no attribute \'id\'\n\nThis commit adds a fake object that is returned by the noop driver.\n\nChange-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b\n(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)\n(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)\n(cherry picked from commit 146b3fe462b21637583f8beebd6581388fd2eea1)\n(cherry picked from commit 5cacbb334ebf136999e5ac1a50cd14587fe87592)\n'}]",3,888997,5c1bbe24860728217735e7e1955e3f38e3fddde9,6,2,1,29244,,,0,"Fix create_server_group in compute noop

When using Noop+ACTIVE_STANDBY+anti_affinity, create_server_group
doesn't return a value but the caller (NovaServerGroupCreate.execute)
accesses to the id attribute of the returned value, it triggers an
AttributeError:

File ""../worker/v2/tasks/compute_tasks.py"", line 319, in execute
        ""%s"", server_group.id, loadbalancer_id)
AttributeError: 'NoneType' object has no attribute 'id'

This commit adds a fake object that is returned by the noop driver.

Change-Id: I579c1e7bd364b3c34e9a813f99c77d30753d288b
(cherry picked from commit 5fff5676d7bf87d6fda0421e0066ce1958c5db5e)
(cherry picked from commit 7a2c472ee4a498902f98ff5f30c9e2b26be8d236)
(cherry picked from commit 146b3fe462b21637583f8beebd6581388fd2eea1)
(cherry picked from commit 5cacbb334ebf136999e5ac1a50cd14587fe87592)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/888997/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/noop_driver/driver.py'],1,5c1bbe24860728217735e7e1955e3f38e3fddde9,,"from collections import namedtuple NoopServerGroup = namedtuple('ServerGroup', ['id']) return NoopServerGroup(id=uuidutils.generate_uuid())",,6,0
openstack%2Foctavia~stable%2Fyoga~I59f1ed85383c078f505c654b1acf3e2a22d11faa,openstack/octavia,stable/yoga,I59f1ed85383c078f505c654b1acf3e2a22d11faa,Fix octavia-status with amphorav2,NEW,2023-07-20 08:04:05.000000000,2023-07-24 09:43:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-20 08:04:05.000000000', 'files': ['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f224a9fb9d02fe6f78627961eaa1f2d9f893651', 'message': 'Fix octavia-status with amphorav2\n\nChange-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa\n(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)\n(cherry picked from commit e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec)\n(cherry picked from commit 22d616c5455a0847a9f7c608676f27a871c649b2)\n'}]",2,889008,1f224a9fb9d02fe6f78627961eaa1f2d9f893651,5,2,1,29244,,,0,"Fix octavia-status with amphorav2

Change-Id: I59f1ed85383c078f505c654b1acf3e2a22d11faa
(cherry picked from commit 1771f6acf9255e0ba80a8e5e68a8d1865daaae30)
(cherry picked from commit e6e9f285ffb6ef736ba2ffe93af959b0cb32d6ec)
(cherry picked from commit 22d616c5455a0847a9f7c608676f27a871c649b2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/889008/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/status.py', 'octavia/tests/unit/cmd/test_status.py', 'releasenotes/notes/fix-octavia-status-amphorav2-038fe77a2189b99f.yaml']",3,1f224a9fb9d02fe6f78627961eaa1f2d9f893651,,--- fixes: - | Fixed a bug in octavia-status which reported an incorrect status for the *amphorav2* driver when using the default *amphora* alias. ,,8,4
openstack%2Fmagnum~master~I4db6bbbbdc2f311f4c159b2d4f9992cfdbdafac4,openstack/magnum,master,I4db6bbbbdc2f311f4c159b2d4f9992cfdbdafac4,Use new get_rpc_client API from oslo.messaging,MERGED,2023-01-19 20:44:00.000000000,2023-07-24 09:24:44.000000000,2023-07-24 09:23:41.000000000,"[{'_account_id': 782}, {'_account_id': 1004}, {'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-19 20:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/00ec192df5af92a15ceae6991477cee5387d9551', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: I4db6bbbbdc2f311f4c159b2d4f9992cfdbdafac4\n'}, {'number': 2, 'created': '2023-01-23 19:17:27.000000000', 'files': ['requirements.txt', 'magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c28760c8ac9bae00096578b2a70b546031011b15', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: I4db6bbbbdc2f311f4c159b2d4f9992cfdbdafac4\n'}]",0,871170,c28760c8ac9bae00096578b2a70b546031011b15,11,4,2,16137,,,0,"Use new get_rpc_client API from oslo.messaging

Use the new API that is consistent with
the existing API instead of instantiating the client
class directly.

This was introduced in release 14.1.0 here [1] and
added into oslo.messaging here [2]

[1] https://review.opendev.org/c/openstack/requirements/+/869340
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419

Change-Id: I4db6bbbbdc2f311f4c159b2d4f9992cfdbdafac4
",git fetch https://review.opendev.org/openstack/magnum refs/changes/70/871170/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'magnum/common/rpc.py']",2,00ec192df5af92a15ceae6991477cee5387d9551,," return messaging.get_rpc_client( TRANSPORT, target, version_cap=version_cap, serializer=serializer, timeout=timeout)"," return messaging.RPCClient(TRANSPORT, target, version_cap=version_cap, serializer=serializer, timeout=timeout)",4,6
openstack%2Fdevstack~master~I42d698f15db5918443073fff8f27b926126d1d0f,openstack/devstack,master,I42d698f15db5918443073fff8f27b926126d1d0f,[WIP] Enable keystone token caching by OSC,NEW,2023-06-18 12:50:03.000000000,2023-07-24 09:07:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-18 12:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c32ff5463fbc7480005ca2fea06853868b8ea37', 'message': '[WIP] Enable keystone token caching by OSC\n\nSDK uses python keyring library to enable token caching. Normally this\nis requiring a proper desktop (interactive) session, but there are some\nbackend plugins working in non-interactive mode. Store cache in an\nunencrypted file on FS (this is not worse than storing passwords in\nplaintext).\n\nChange-Id: I42d698f15db5918443073fff8f27b926126d1d0f\n'}, {'number': 2, 'created': '2023-06-18 13:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/559caa7a81132297e9b2c7c61d96113b6ed13ff3', 'message': '[WIP] Enable keystone token caching by OSC\n\nSDK uses python keyring library to enable token caching. Normally this\nis requiring a proper desktop (interactive) session, but there are some\nbackend plugins working in non-interactive mode. Store cache in an\nunencrypted file on FS (this is not worse than storing passwords in\nplaintext).\n\nChange-Id: I42d698f15db5918443073fff8f27b926126d1d0f\n'}, {'number': 3, 'created': '2023-06-19 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/266bc5ecbaccfa11d3ff26d5411b8fb2441859d3', 'message': '[WIP] Enable keystone token caching by OSC\n\nSDK uses python keyring library to enable token caching. Normally this\nis requiring a proper desktop (interactive) session, but there are some\nbackend plugins working in non-interactive mode. Store cache in an\nunencrypted file on FS (this is not worse than storing passwords in\nplaintext).\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886341\nChange-Id: I42d698f15db5918443073fff8f27b926126d1d0f\n'}, {'number': 4, 'created': '2023-06-20 13:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/67d8bb4da30a7fb7823814513783b0537cf5c4a6', 'message': '[WIP] Enable keystone token caching by OSC\n\nSDK uses python keyring library to enable token caching. Normally this\nis requiring a proper desktop (interactive) session, but there are some\nbackend plugins working in non-interactive mode. Store cache in an\nunencrypted file on FS (this is not worse than storing passwords in\nplaintext).\n\nChange-Id: I42d698f15db5918443073fff8f27b926126d1d0f\n'}, {'number': 5, 'created': '2023-06-26 11:50:39.000000000', 'files': ['tools/update_clouds_yaml.py', 'lib/libraries', 'functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/238dbceaab8b03dd2f4d90fe8b75f4adf966f18a', 'message': '[WIP] Enable keystone token caching by OSC\n\nSDK uses python keyring library to enable token caching. Normally this\nis requiring a proper desktop (interactive) session, but there are some\nbackend plugins working in non-interactive mode. Store cache in an\nunencrypted file on FS (this is not worse than storing passwords in\nplaintext).\n\nChange-Id: I42d698f15db5918443073fff8f27b926126d1d0f\n'}]",6,886339,238dbceaab8b03dd2f4d90fe8b75f4adf966f18a,22,1,5,27900,,,0,"[WIP] Enable keystone token caching by OSC

SDK uses python keyring library to enable token caching. Normally this
is requiring a proper desktop (interactive) session, but there are some
backend plugins working in non-interactive mode. Store cache in an
unencrypted file on FS (this is not worse than storing passwords in
plaintext).

Change-Id: I42d698f15db5918443073fff8f27b926126d1d0f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/886339/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/update_clouds_yaml.py', 'lib/libraries']",2,4c32ff5463fbc7480005ca2fea06853868b8ea37,, # Add libraries required for token caching by OpenStackSDK/CLI pip_install keyring pip_install keyrings.alt,,20,5
openstack%2Fcharm-octavia~stable%2Fyoga~I80b5cea812becd1724fcfe2a8a232253eac76735,openstack/charm-octavia,stable/yoga,I80b5cea812becd1724fcfe2a8a232253eac76735,Ensure mgmt network mtu,MERGED,2023-06-16 14:37:34.000000000,2023-07-24 09:05:54.000000000,2023-07-24 09:05:54.000000000,"[{'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 14:37:34.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5747bcad9386e30a63e7f2bbb56f81b55979785a', 'message': 'Ensure mgmt network mtu\n\nThis will ensure that mtu is set whenever setup_hm_port()\nis called regardless of if the port has just been created\nor not. Also checks mtu in update-status hook.\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n(cherry picked from commit f326ef267aa3e671b608b823bfcaf938868cba45)\n(cherry picked from commit 3ebb523f89cda314b52805443fb4782a16888c66)\n(cherry picked from commit 1fa839826f5009d1cbf8bcc97234afa1fbd5dfb0)\n'}]",25,886262,5747bcad9386e30a63e7f2bbb56f81b55979785a,46,4,1,6737,,,0,"Ensure mgmt network mtu

This will ensure that mtu is set whenever setup_hm_port()
is called regardless of if the port has just been created
or not. Also checks mtu in update-status hook.

Change-Id: I80b5cea812becd1724fcfe2a8a232253eac76735
Closes-Bug: #2018998
(cherry picked from commit f326ef267aa3e671b608b823bfcaf938868cba45)
(cherry picked from commit 3ebb523f89cda314b52805443fb4782a16888c66)
(cherry picked from commit 1fa839826f5009d1cbf8bcc97234afa1fbd5dfb0)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/62/886262/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py']",4,5747bcad9386e30a63e7f2bbb56f81b55979785a,bug/2018998,"def ensure_hm_port_mtu(identity_service): """""" Ensure the Octavia health manager port has the same mtu as the network it is attached to. This is to ensure that of the mtu changes in Neutron it is reflected here as well. """""" session = session_from_identity_service(identity_service) nc = init_neutron_client(session) resp = nc.list_networks(tags='charm-octavia') if len(resp['networks']) > 0: network = resp['networks'][0] ch_core.hookenv.log('ensuring mgmt network {} mtu={}'. format(network['id'], network['mtu']), level=ch_core.hookenv.DEBUG) try: subprocess.check_call( ['ovs-vsctl', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'mtu={}'.format(network['mtu'])]) subprocess.check_call( ['ip', 'link', 'set', octavia.OCTAVIA_MGMT_INTF, 'mtu', str(network['mtu'])]) except subprocess.CalledProcessError as exc: ch_core.hookenv.log(""failed to apply mtu to interface '{}': {}"". format(octavia.OCTAVIA_MGMT_INTF, exc), level=ch_core.hookenv.DEBUG) else: ch_core.hookenv.log('mgmt network not found - cannot set mtu') # NOTE: apply this always to ensure consistency ensure_hm_port_mtu(identity_service) ",,69,4
openstack%2Fvenus~master~Ief0ab775e7054c1ef14fa5c95b4747039023bd7a,openstack/venus,master,Ief0ab775e7054c1ef14fa5c95b4747039023bd7a,add anomaly detect db models,MERGED,2023-07-24 07:37:11.000000000,2023-07-24 09:01:07.000000000,2023-07-24 09:00:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-07-24 07:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/d08e8aa083abdf4832651837fced756e324d2b6a', 'message': 'add anomaly detect db models\n\nChange-Id: Ief0ab775e7054c1ef14fa5c95b4747039023bd7a\n'}, {'number': 2, 'created': '2023-07-24 08:00:40.000000000', 'files': ['venus/modules/anomaly_detect/backends/models.py', 'venus/modules/anomaly_detect/backends/__init__.py', 'venus/modules/anomaly_detect/__init__.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/6c9e74770f7446ba903bc33a40cbeae5ce4b66b3', 'message': 'add anomaly detect db models\n\nChange-Id: Ief0ab775e7054c1ef14fa5c95b4747039023bd7a\n'}]",3,889263,6c9e74770f7446ba903bc33a40cbeae5ce4b66b3,9,2,2,27565,,,0,"add anomaly detect db models

Change-Id: Ief0ab775e7054c1ef14fa5c95b4747039023bd7a
",git fetch https://review.opendev.org/openstack/venus refs/changes/63/889263/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/modules/anomaly_detect/backends/models.py', 'venus/modules/anomaly_detect/backends/__init__.py', 'venus/modules/anomaly_detect/__init__.py']",3,d08e8aa083abdf4832651837fced756e324d2b6a,,,,89,0
openstack%2Fpuppet-aodh~stable%2Fzed~I7dc9f4a9849043624359eb97775af20d1885103a,openstack/puppet-aodh,stable/zed,I7dc9f4a9849043624359eb97775af20d1885103a,Add per module policy service refresh,MERGED,2023-07-21 22:03:24.000000000,2023-07-24 08:47:01.000000000,2023-07-24 08:47:01.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:03:24.000000000', 'files': ['spec/classes/aodh_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8bd14efb213b643b213f42c95a714f6fa55825e6', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I7dc9f4a9849043624359eb97775af20d1885103a\n(cherry picked from commit 366abb9ccd04396334feb947b82b71ee99a102dc)\n(cherry picked from commit 1f21b55553d0e5d8d49b888716eb402039826eed)\n'}]",2,889028,8bd14efb213b643b213f42c95a714f6fa55825e6,10,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I7dc9f4a9849043624359eb97775af20d1885103a
(cherry picked from commit 366abb9ccd04396334feb947b82b71ee99a102dc)
(cherry picked from commit 1f21b55553d0e5d8d49b888716eb402039826eed)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/28/889028/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,8bd14efb213b643b213f42c95a714f6fa55825e6,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'aodh',",,4,1
openstack%2Fpuppet-zaqar~stable%2Fzed~Id77056322ad610006ac0f216870d679b250ab702,openstack/puppet-zaqar,stable/zed,Id77056322ad610006ac0f216870d679b250ab702,Add per module policy service refresh,MERGED,2023-07-21 22:10:01.000000000,2023-07-24 08:46:35.000000000,2023-07-24 08:46:35.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:10:01.000000000', 'files': ['spec/classes/zaqar_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/30c5bf65da893e9500e076f523c6f8c72e245709', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Id77056322ad610006ac0f216870d679b250ab702\n(cherry picked from commit 7d5258c9a9182e7789d25e6524dfbad4f32d7f26)\n(cherry picked from commit f1606e475bed920bee89bfc358c278500961033e)\n'}]",3,889226,30c5bf65da893e9500e076f523c6f8c72e245709,11,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Id77056322ad610006ac0f216870d679b250ab702
(cherry picked from commit 7d5258c9a9182e7789d25e6524dfbad4f32d7f26)
(cherry picked from commit f1606e475bed920bee89bfc358c278500961033e)
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/26/889226/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,30c5bf65da893e9500e076f523c6f8c72e245709,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'zaqar',",,4,1
openstack%2Fheat-tempest-plugin~master~I80213eb072281ec0a71fa068f9d8f25d0feffe27,openstack/heat-tempest-plugin,master,I80213eb072281ec0a71fa068f9d8f25d0feffe27,Add stable/2023.1 jobs on master gate,MERGED,2023-06-09 04:12:12.000000000,2023-07-24 08:13:56.000000000,2023-07-24 08:13:56.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 04:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/b2446da562630ab5f6bce78bcc485dd3163d3e67', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso, remove stable/wallaby jobs given that wallaby went\nto Extended Maintenance on 2022-11-07T10:52:23+00:00\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I80213eb072281ec0a71fa068f9d8f25d0feffe27\n'}, {'number': 2, 'created': '2023-06-09 05:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/4c80d6430a74e2859a1359688fec0693b74426ab', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I80213eb072281ec0a71fa068f9d8f25d0feffe27\n'}, {'number': 3, 'created': '2023-06-09 06:49:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/861283a98f5d5c3b0252ef52db3cbd64cd3cc3a6', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso removing EM stable/xena|wallaby job\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I80213eb072281ec0a71fa068f9d8f25d0feffe27\n'}]",7,885688,861283a98f5d5c3b0252ef52db3cbd64cd3cc3a6,24,2,3,8556,,,0,"Add stable/2023.1 jobs on master gate

As 2023.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Also removing EM stable/xena|wallaby job

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I80213eb072281ec0a71fa068f9d8f25d0feffe27
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/88/885688/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b2446da562630ab5f6bce78bcc485dd3163d3e67,2023-1-stable-job, name: heat-functional-2023-1 parent: heat-functional nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job: - heat-functional-2023-1,,7,0
openstack%2Fpuppet-designate~stable%2Fzed~Ie848a4ead3c493f01bf941e57741616d4c4cda47,openstack/puppet-designate,stable/zed,Ie848a4ead3c493f01bf941e57741616d4c4cda47,Add per module policy service refresh,MERGED,2023-07-21 22:09:26.000000000,2023-07-24 08:10:29.000000000,2023-07-24 08:10:29.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/ea70912e8909a7fc0606d0a163c4f1de0c9c4c62', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Ie848a4ead3c493f01bf941e57741616d4c4cda47\n(cherry picked from commit 133dd8b13d22342906940beb35582e8ccfa6cf12)\n(cherry picked from commit 90b0d06326c49858877668be577ba85fc561a639)\n'}, {'number': 2, 'created': '2023-07-24 06:01:37.000000000', 'files': ['spec/classes/designate_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/c730f1ffec5a54da240f3cdf1139fd2cde225dfb', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Ie848a4ead3c493f01bf941e57741616d4c4cda47\n(cherry picked from commit 133dd8b13d22342906940beb35582e8ccfa6cf12)\n(cherry picked from commit 90b0d06326c49858877668be577ba85fc561a639)\n'}]",1,889222,c730f1ffec5a54da240f3cdf1139fd2cde225dfb,10,2,2,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Ie848a4ead3c493f01bf941e57741616d4c4cda47
(cherry picked from commit 133dd8b13d22342906940beb35582e8ccfa6cf12)
(cherry picked from commit 90b0d06326c49858877668be577ba85fc561a639)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/22/889222/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,ea70912e8909a7fc0606d0a163c4f1de0c9c4c62,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'designate',",,4,1
openstack%2Fopenstack-ansible~stable%2Fzed~Ia45454d39bbf79bb99320f99726684a22e0f6844,openstack/openstack-ansible,stable/zed,Ia45454d39bbf79bb99320f99726684a22e0f6844,Include proper vars_file for rally,MERGED,2023-07-13 08:28:04.000000000,2023-07-24 07:58:39.000000000,2023-07-24 07:56:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-07-13 08:28:04.000000000', 'files': ['playbooks/os-rally-install.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b0143db4882f8d199b13eb715b27a89df92c226', 'message': 'Include proper vars_file for rally\n\nRally SHA is stored in openstack_testing, so including\nopenstack_services results in always installing master version of rally.\n\nThis also disables functional CI tests to solve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887680\nChange-Id: Ia45454d39bbf79bb99320f99726684a22e0f6844\n'}]",0,888436,6b0143db4882f8d199b13eb715b27a89df92c226,8,3,1,28619,,,0,"Include proper vars_file for rally

Rally SHA is stored in openstack_testing, so including
openstack_services results in always installing master version of rally.

This also disables functional CI tests to solve circular dependency

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/887680
Change-Id: Ia45454d39bbf79bb99320f99726684a22e0f6844
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/888436/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-rally-install.yml', 'zuul.d/project.yaml']",2,6b0143db4882f8d199b13eb715b27a89df92c226,, # - openstack-ansible-deploy-guide-jobs # - openstack-ansible-deploy-base-jobs # - openstack-ansible-deploy-aio_lxc-jobs # - openstack-ansible-deploy-aio_distro_lxc-jobs # - openstack-ansible-deploy-aio_metal-jobs # - openstack-ansible-deploy-aio_distro_metal-jobs # - openstack-ansible-deploy-ceph-jobs # - openstack-ansible-deploy-proxy-jobs # - openstack-ansible-deploy-distro_ceph-jobs, - openstack-ansible-deploy-guide-jobs - openstack-ansible-deploy-base-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-deploy-ceph-jobs - openstack-ansible-deploy-proxy-jobs - openstack-ansible-deploy-distro_ceph-jobs,10,10
openstack%2Fpuppet-neutron~stable%2Fzed~I541a7dbb11580155cf2bb3af0ffbf6ebc5b1220b,openstack/puppet-neutron,stable/zed,I541a7dbb11580155cf2bb3af0ffbf6ebc5b1220b,Add per module policy service refresh,MERGED,2023-07-21 22:07:49.000000000,2023-07-24 07:37:19.000000000,2023-07-24 07:37:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:07:49.000000000', 'files': ['spec/classes/neutron_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/55d36ea5d83a3d2c9f37db9a3aeca43ae8fc5d98', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I541a7dbb11580155cf2bb3af0ffbf6ebc5b1220b\n(cherry picked from commit f7f43194782035c58c6fd799fe08136068a4dedc)\n(cherry picked from commit d76f4b4dfd6ee9d4f641c726c0da86b2a7373d61)\n'}]",2,889033,55d36ea5d83a3d2c9f37db9a3aeca43ae8fc5d98,9,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I541a7dbb11580155cf2bb3af0ffbf6ebc5b1220b
(cherry picked from commit f7f43194782035c58c6fd799fe08136068a4dedc)
(cherry picked from commit d76f4b4dfd6ee9d4f641c726c0da86b2a7373d61)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/33/889033/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,55d36ea5d83a3d2c9f37db9a3aeca43ae8fc5d98,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'neutron',",,4,1
openstack%2Fpuppet-glance~stable%2Fzed~I83d3ff31083dd687c5b2d76c8297b5e74a7caa1a,openstack/puppet-glance,stable/zed,I83d3ff31083dd687c5b2d76c8297b5e74a7caa1a,Add per module policy service refresh,MERGED,2023-07-21 22:07:29.000000000,2023-07-24 07:29:41.000000000,2023-07-24 07:29:41.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:07:29.000000000', 'files': ['spec/classes/glance_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/cdd725955dae4fe65cac0c2fa40f300744a9e573', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I83d3ff31083dd687c5b2d76c8297b5e74a7caa1a\n(cherry picked from commit 8d4873a3af5e515769c7b87ce5d36cc49b773707)\n(cherry picked from commit dcacc06e303c75c368040bfbaf91752d97b1a5b6)\n'}]",3,889031,cdd725955dae4fe65cac0c2fa40f300744a9e573,9,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I83d3ff31083dd687c5b2d76c8297b5e74a7caa1a
(cherry picked from commit 8d4873a3af5e515769c7b87ce5d36cc49b773707)
(cherry picked from commit dcacc06e303c75c368040bfbaf91752d97b1a5b6)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/31/889031/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,cdd725955dae4fe65cac0c2fa40f300744a9e573,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'glance',",,4,1
openstack%2Fpuppet-designate~stable%2Fzed~I201743c6796b9b863b0befffaa85fff1675d80b0,openstack/puppet-designate,stable/zed,I201743c6796b9b863b0befffaa85fff1675d80b0,Ensure Redis is enabled in acceptance test,MERGED,2023-07-24 06:00:53.000000000,2023-07-24 07:16:16.000000000,2023-07-24 07:16:16.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-24 06:00:53.000000000', 'files': ['spec/acceptance/10_basic_designate_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/e7c50d7ad863c07bf80dfeec53c11838a40eb4e1', 'message': 'Ensure Redis is enabled in acceptance test\n\nDesignate requires that the coordination backend is up, otherwise\nthe central service does not start.\n\nDepeneds-on: https://review.opendev.org/855261\nChange-Id: I201743c6796b9b863b0befffaa85fff1675d80b0\n(cherry picked from commit 8522fa13a85b71b8d9cd7244419c5674c9d3c76e)\n'}]",1,889232,e7c50d7ad863c07bf80dfeec53c11838a40eb4e1,6,2,1,9816,,,0,"Ensure Redis is enabled in acceptance test

Designate requires that the coordination backend is up, otherwise
the central service does not start.

Depeneds-on: https://review.opendev.org/855261
Change-Id: I201743c6796b9b863b0befffaa85fff1675d80b0
(cherry picked from commit 8522fa13a85b71b8d9cd7244419c5674c9d3c76e)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/32/889232/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_designate_spec.rb'],1,e7c50d7ad863c07bf80dfeec53c11838a40eb4e1,, include openstack_integration::redis,,1,0
openstack%2Fmasakari~master~Ife418c698f6a5748d0ec63116da31f20bcb20387,openstack/masakari,master,Ife418c698f6a5748d0ec63116da31f20bcb20387,reduce duplicated novaclient initialization,NEW,2023-07-21 07:53:23.000000000,2023-07-24 07:08:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-21 07:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/500bddbabf82e6434d31ea27379578d41b975b60', 'message': 'reduce duplicated novaclient initialization\n\nIn the HA workflow, it will interact with Nova too much times. Every\ntime it initializes the novaclient, it need a token from keystone, which\nbrings great pressure to Keystone.\n\nThis patch uses one same novaclient in the HA workflow to reduce the\npressure to Keystone.\n\nChange-Id: Ife418c698f6a5748d0ec63116da31f20bcb20387\n'}, {'number': 2, 'created': '2023-07-24 06:32:06.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/engine/drivers/taskflow/driver.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/ha/api.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/tests/unit/engine/drivers/taskflow/test_instance_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/2e7660032bd92f0f2c8601e23e8ac86ce5132aac', 'message': 'reduce duplicated novaclient initialization\n\nIn the HA workflow, it will interact with Nova too much times. Every\ntime it initializes the novaclient, it needs a token from keystone,\nwhich brings great pressure to Keystone.\n\nThis patch uses one same novaclient in the HA workflow to reduce the\npressure to Keystone.\n\nChange-Id: Ife418c698f6a5748d0ec63116da31f20bcb20387\n'}]",2,889151,2e7660032bd92f0f2c8601e23e8ac86ce5132aac,4,1,2,30623,,,0,"reduce duplicated novaclient initialization

In the HA workflow, it will interact with Nova too much times. Every
time it initializes the novaclient, it needs a token from keystone,
which brings great pressure to Keystone.

This patch uses one same novaclient in the HA workflow to reduce the
pressure to Keystone.

Change-Id: Ife418c698f6a5748d0ec63116da31f20bcb20387
",git fetch https://review.opendev.org/openstack/masakari refs/changes/51/889151/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/engine/drivers/taskflow/driver.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/ha/api.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/tests/unit/engine/drivers/taskflow/test_instance_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py']",8,500bddbabf82e6434d31ea27379578d41b975b60,," def __init(self, context): self.nova = novaclient(context) return self.nova.servers.list(detailed=True, search_opts=opts) service = self.nova.services.list(host=host_name, binary='nova-compute')[0] self.nova.services.disable_log_reason(service.id, reason) else: self.nova.services.disable(service.id) self.nova.services.enable(service.id) service = self.nova.services.list(host=host_name, binary=binary)[0] self.nova.servers.evacuate(uuid, host=target) self.nova.servers.reset_state(uuid, status) return self.nova.servers.get(uuid) return self.nova.servers.stop(uuid) return self.nova.servers.start(uuid) return self.nova.aggregates.list() return self.nova.aggregates.add_host(aggregate.id, host) return self.nova.servers.lock(uuid) return self.nova.servers.unlock(uuid) self.nova.services.list(binary='nova-compute', host=compute_name)"," nova = novaclient(context) return nova.servers.list(detailed=True, search_opts=opts) nova = novaclient(context) service = nova.services.list(host=host_name, binary='nova-compute')[0] nova.services.disable_log_reason(service.id, reason) else: nova.services.disable(service.id) nova.services.enable(service.id) nova = novaclient(context) service = nova.services.list(host=host_name, binary=binary)[0] nova = novaclient(context) nova.servers.evacuate(uuid, host=target) nova = novaclient(context) nova.servers.reset_state(uuid, status) nova = novaclient(context) return nova.servers.get(uuid) nova = novaclient(context) return nova.servers.stop(uuid) nova = novaclient(context) return nova.servers.start(uuid) nova = novaclient(context) return nova.aggregates.list() nova = novaclient(context) return nova.aggregates.add_host(aggregate.id, host) nova = novaclient(context) return nova.servers.lock(uuid) nova = novaclient(context) return nova.servers.unlock(uuid) nova = novaclient(context) nova.services.list(binary='nova-compute', host=compute_name)",32,42
openstack%2Fpuppet-manila~stable%2Fzed~I2364aed9cadceaa9b71b570357975b93634f71a2,openstack/puppet-manila,stable/zed,I2364aed9cadceaa9b71b570357975b93634f71a2,Add per module policy service refresh,MERGED,2023-07-21 22:10:29.000000000,2023-07-24 06:45:14.000000000,2023-07-24 06:45:14.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:10:29.000000000', 'files': ['spec/classes/manila_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/cc983123edb64b45f7828eb7a10922cd9cfa5d84', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I2364aed9cadceaa9b71b570357975b93634f71a2\n(cherry picked from commit fd90649c82116148bd474a57544ce5a345de5ac5)\n(cherry picked from commit 56e4f87456f69b800f3abdebf9657cd6603b1aa5)\n'}]",2,889229,cc983123edb64b45f7828eb7a10922cd9cfa5d84,8,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I2364aed9cadceaa9b71b570357975b93634f71a2
(cherry picked from commit fd90649c82116148bd474a57544ce5a345de5ac5)
(cherry picked from commit 56e4f87456f69b800f3abdebf9657cd6603b1aa5)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/29/889229/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,cc983123edb64b45f7828eb7a10922cd9cfa5d84,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'manila',",,4,1
openstack%2Fpuppet-trove~stable%2Fzed~I4733a5d445621ff1cb270fa3be3811b531b9a7b8,openstack/puppet-trove,stable/zed,I4733a5d445621ff1cb270fa3be3811b531b9a7b8,Add per module policy service refresh,MERGED,2023-07-21 22:10:10.000000000,2023-07-24 06:21:30.000000000,2023-07-24 06:21:30.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:10:10.000000000', 'files': ['spec/classes/trove_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/0560f486d915939a0e1cea7ef256330fa066cbfe', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I4733a5d445621ff1cb270fa3be3811b531b9a7b8\n(cherry picked from commit 160b0b18d173351a91e6dde051d802e0affc88a2)\n(cherry picked from commit b5c621fbea68f44656b3da5c7457f259aa5f75ee)\n'}]",1,889227,0560f486d915939a0e1cea7ef256330fa066cbfe,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I4733a5d445621ff1cb270fa3be3811b531b9a7b8
(cherry picked from commit 160b0b18d173351a91e6dde051d802e0affc88a2)
(cherry picked from commit b5c621fbea68f44656b3da5c7457f259aa5f75ee)
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/27/889227/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/trove_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,0560f486d915939a0e1cea7ef256330fa066cbfe,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'trove',",,4,1
openstack%2Fpuppet-sahara~stable%2Fzed~I72b2d29962e82e9c254c2254663865da2b747e3b,openstack/puppet-sahara,stable/zed,I72b2d29962e82e9c254c2254663865da2b747e3b,Add per module policy service refresh,MERGED,2023-07-21 22:09:14.000000000,2023-07-24 06:20:20.000000000,2023-07-24 06:20:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:09:14.000000000', 'files': ['spec/classes/sahara_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/a35ff8da65d9bfe98502df5be082b670340d8d26', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I72b2d29962e82e9c254c2254663865da2b747e3b\n(cherry picked from commit e2b1d99501500991b2ddfd9cf115b33fbd2dc2ea)\n(cherry picked from commit d6c970f4c80c23e04764f2ec6d287a0ecff92c3c)\n'}]",1,889221,a35ff8da65d9bfe98502df5be082b670340d8d26,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I72b2d29962e82e9c254c2254663865da2b747e3b
(cherry picked from commit e2b1d99501500991b2ddfd9cf115b33fbd2dc2ea)
(cherry picked from commit d6c970f4c80c23e04764f2ec6d287a0ecff92c3c)
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/21/889221/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/sahara_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,a35ff8da65d9bfe98502df5be082b670340d8d26,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'sahara',",,4,1
openstack%2Fpuppet-horizon~stable%2Fzed~I94e1120013aa6e15bbf3aa48a9c29d9943985440,openstack/puppet-horizon,stable/zed,I94e1120013aa6e15bbf3aa48a9c29d9943985440,Add per module policy service refresh,MERGED,2023-07-21 22:08:28.000000000,2023-07-24 06:18:45.000000000,2023-07-24 06:18:45.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:08:28.000000000', 'files': ['spec/defines/horizon_policy_base_spec.rb', 'manifests/deps.pp', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/476cd8bb2d1144bcccfeece8579be6923d0f49b0', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I94e1120013aa6e15bbf3aa48a9c29d9943985440\n(cherry picked from commit 7c0c3e4d453b4967ddc74b98d322a61a81305a3a)\n(cherry picked from commit 6baab951c67169d9ad05e55bb0a5b6e11ffb76c1)\n'}]",1,889037,476cd8bb2d1144bcccfeece8579be6923d0f49b0,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I94e1120013aa6e15bbf3aa48a9c29d9943985440
(cherry picked from commit 7c0c3e4d453b4967ddc74b98d322a61a81305a3a)
(cherry picked from commit 6baab951c67169d9ad05e55bb0a5b6e11ffb76c1)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/37/889037/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/horizon_policy_base_spec.rb', 'manifests/deps.pp', 'manifests/policy/base.pp']",3,476cd8bb2d1144bcccfeece8579be6923d0f49b0,per-module-policy-refresh-stable/2023.1-stable/zed," purge_config => $purge_config, tag => 'horizon',", purge_config => $purge_config,5,2
openstack%2Fpuppet-placement~stable%2Fzed~Iaf0bae66224d568a2a05f4ac5281c36bde2705e0,openstack/puppet-placement,stable/zed,Iaf0bae66224d568a2a05f4ac5281c36bde2705e0,Add per module policy service refresh,MERGED,2023-07-21 22:07:17.000000000,2023-07-24 06:18:32.000000000,2023-07-24 06:18:32.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:07:17.000000000', 'files': ['spec/classes/placement_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/14cc9ef3d58d770042c463594f9b7d423edee2c5', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Iaf0bae66224d568a2a05f4ac5281c36bde2705e0\n(cherry picked from commit 11e694b010b26dd1b9065f52b759366dc24ca7b8)\n(cherry picked from commit 75ed4dba31af3712630a807dcd581a6eb8a90375)\n'}]",1,889030,14cc9ef3d58d770042c463594f9b7d423edee2c5,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Iaf0bae66224d568a2a05f4ac5281c36bde2705e0
(cherry picked from commit 11e694b010b26dd1b9065f52b759366dc24ca7b8)
(cherry picked from commit 75ed4dba31af3712630a807dcd581a6eb8a90375)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/30/889030/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,14cc9ef3d58d770042c463594f9b7d423edee2c5,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'placement',",,4,1
openstack%2Fpuppet-keystone~stable%2Fzed~I80117d1c7ab1bd9642a6c3d416c6683ae024894a,openstack/puppet-keystone,stable/zed,I80117d1c7ab1bd9642a6c3d416c6683ae024894a,Add per module policy service refresh,MERGED,2023-07-21 22:07:59.000000000,2023-07-24 06:17:53.000000000,2023-07-24 06:17:53.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:07:59.000000000', 'files': ['spec/classes/keystone_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/eed08fb49b450a7aa441cede453e7ef0aa160d81', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I80117d1c7ab1bd9642a6c3d416c6683ae024894a\n(cherry picked from commit 9fee3031a3f7bcb3427d2570cca5f150d9068db5)\n(cherry picked from commit 74468f0c675005b3791d14f0e7eeb678fd0c413a)\n'}]",1,889034,eed08fb49b450a7aa441cede453e7ef0aa160d81,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I80117d1c7ab1bd9642a6c3d416c6683ae024894a
(cherry picked from commit 9fee3031a3f7bcb3427d2570cca5f150d9068db5)
(cherry picked from commit 74468f0c675005b3791d14f0e7eeb678fd0c413a)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/34/889034/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,eed08fb49b450a7aa441cede453e7ef0aa160d81,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'keystone',",,4,1
openstack%2Fpuppet-nova~stable%2Fzed~Id3ca3c57026549c17bb3c8a3bedee08672168c5d,openstack/puppet-nova,stable/zed,Id3ca3c57026549c17bb3c8a3bedee08672168c5d,Add per module policy service refresh,MERGED,2023-07-21 22:07:03.000000000,2023-07-24 06:17:02.000000000,2023-07-24 06:17:02.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:07:03.000000000', 'files': ['spec/classes/nova_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c7a476e486aca6220f7fd1a2f18543290f3fd45f', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Id3ca3c57026549c17bb3c8a3bedee08672168c5d\n(cherry picked from commit 8850d96e1063e8a0e1ffd724ac9135eb2de65c4d)\n(cherry picked from commit 4a04ba262dd67f5e8a22262b5ffd2f5c798ed44b)\n'}]",1,889029,c7a476e486aca6220f7fd1a2f18543290f3fd45f,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Id3ca3c57026549c17bb3c8a3bedee08672168c5d
(cherry picked from commit 8850d96e1063e8a0e1ffd724ac9135eb2de65c4d)
(cherry picked from commit 4a04ba262dd67f5e8a22262b5ffd2f5c798ed44b)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/29/889029/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,c7a476e486aca6220f7fd1a2f18543290f3fd45f,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'nova',",,4,1
openstack%2Fpuppet-mistral~stable%2Fzed~I5a30077b83dacc901bbad38ecf58095780a7233d,openstack/puppet-mistral,stable/zed,I5a30077b83dacc901bbad38ecf58095780a7233d,Add per module policy service refresh,MERGED,2023-07-21 22:09:35.000000000,2023-07-24 06:16:24.000000000,2023-07-24 06:16:24.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:09:35.000000000', 'files': ['spec/classes/mistral_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/66ceb5de5b24753f540f697dbb9fca95926e77f2', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I5a30077b83dacc901bbad38ecf58095780a7233d\n(cherry picked from commit d6f55e497f1d455c357c32cbc3a879addb778739)\n(cherry picked from commit 5dfb8046bcb053ea371962a5f10c6a5a507bd350)\n'}]",1,889223,66ceb5de5b24753f540f697dbb9fca95926e77f2,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I5a30077b83dacc901bbad38ecf58095780a7233d
(cherry picked from commit d6f55e497f1d455c357c32cbc3a879addb778739)
(cherry picked from commit 5dfb8046bcb053ea371962a5f10c6a5a507bd350)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/23/889223/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/mistral_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,66ceb5de5b24753f540f697dbb9fca95926e77f2,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'mistral',",,4,1
openstack%2Fswift~master~Icdc74856f7beb318bfd84b39b5776d0d531a74b9,openstack/swift,master,Icdc74856f7beb318bfd84b39b5776d0d531a74b9,Add more unit tests for ranged GETs,MERGED,2023-07-12 11:10:18.000000000,2023-07-24 06:14:19.000000000,2023-07-24 06:12:11.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 11:10:18.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/771d605d0314374b575ca018929db7c534729636', 'message': 'Add more unit tests for ranged GETs\n\nChange-Id: Icdc74856f7beb318bfd84b39b5776d0d531a74b9\n'}]",1,888229,771d605d0314374b575ca018929db7c534729636,8,2,1,7847,,,0,"Add more unit tests for ranged GETs

Change-Id: Icdc74856f7beb318bfd84b39b5776d0d531a74b9
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/888229/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_server.py']",2,771d605d0314374b575ca018929db7c534729636,,"from swift.common.swob import Request, WsgiBytesIO, \ HTTPRequestedRangeNotSatisfiable self.assertEqual('bytes */6', resp.headers['content-range']) self.assertNotIn('content-range', resp.headers) self.assertEqual('bytes 1-3/6', resp.headers['content-range']) self.assertNotIn('content-range', resp.headers) def test_GET_range_not_satisfiable(self): timestamp = normalize_timestamp(time()) req = Request.blank('/sda1/p/a/c/zero-byte', environ={'REQUEST_METHOD': 'PUT'}, headers={'X-Timestamp': timestamp, 'Content-Type': 'application/x-test'}) req.body = b'7 bytes' resp = req.get_response(self.object_controller) self.assertEqual(resp.status_int, 201) req = Request.blank('/sda1/p/a/c/zero-byte', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=1-20, 30-40'}) resp = req.get_response(self.object_controller) self.assertEqual(resp.status_int, 206) self.assertEqual('bytes 1-6/7', resp.headers.get('Content-Range')) self.assertEqual(b' bytes', resp.body) req = Request.blank('/sda1/p/a/c/zero-byte', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=10-20'}) resp = req.get_response(self.object_controller) self.assertEqual(resp.status_int, 416) self.assertEqual('bytes */7', resp.headers.get('Content-Range')) exp_resp_body = b''.join( HTTPRequestedRangeNotSatisfiable()({}, lambda *args: None)) self.assertEqual(str(len(exp_resp_body)), resp.headers.get('Content-Length')) self.assertEqual( '""%s""' % md5(b'7 bytes', usedforsecurity=False).hexdigest(), resp.headers.get('Etag')) self.assertEqual(exp_resp_body, resp.body) ","from swift.common.swob import Request, WsgiBytesIO",132,1
openstack%2Fpuppet-vitrage~stable%2Fzed~Ib1f41d2dcce7c7cd095ac589fbd15cd020c69af3,openstack/puppet-vitrage,stable/zed,Ib1f41d2dcce7c7cd095ac589fbd15cd020c69af3,Add per module policy service refresh,MERGED,2023-07-21 22:09:02.000000000,2023-07-24 06:13:39.000000000,2023-07-24 06:13:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:09:02.000000000', 'files': ['manifests/deps.pp', 'spec/classes/vitrage_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/47df2f1feaa8fe3ba2099f20ba2e645fd435e403', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Ib1f41d2dcce7c7cd095ac589fbd15cd020c69af3\n(cherry picked from commit a23ca78f52072271de8b3fde16ab280dcf3f938e)\n(cherry picked from commit 3edb10323ad65aef24a1b6a96231ef4e9823e776)\n'}]",1,889040,47df2f1feaa8fe3ba2099f20ba2e645fd435e403,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Ib1f41d2dcce7c7cd095ac589fbd15cd020c69af3
(cherry picked from commit a23ca78f52072271de8b3fde16ab280dcf3f938e)
(cherry picked from commit 3edb10323ad65aef24a1b6a96231ef4e9823e776)
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/40/889040/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/deps.pp', 'spec/classes/vitrage_policy_spec.rb', 'manifests/policy.pp']",3,47df2f1feaa8fe3ba2099f20ba2e645fd435e403,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'vitrage',",,4,1
openstack%2Fpuppet-barbican~stable%2Fzed~I42153ec891feb569a9614166104be5382d893f96,openstack/puppet-barbican,stable/zed,I42153ec891feb569a9614166104be5382d893f96,Add per module policy service refresh,MERGED,2023-07-21 22:09:44.000000000,2023-07-24 06:08:45.000000000,2023-07-24 06:08:45.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:09:44.000000000', 'files': ['spec/classes/barbican_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/9abf42afb502d32eda803bc552ae62357752911f', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I42153ec891feb569a9614166104be5382d893f96\n(cherry picked from commit c38323518bbff0395b16c00a1a4640aba2231cef)\n(cherry picked from commit dbd8e47e31b25a0bf2422f3d523468a45549b0c3)\n'}]",1,889224,9abf42afb502d32eda803bc552ae62357752911f,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I42153ec891feb569a9614166104be5382d893f96
(cherry picked from commit c38323518bbff0395b16c00a1a4640aba2231cef)
(cherry picked from commit dbd8e47e31b25a0bf2422f3d523468a45549b0c3)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/24/889224/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,9abf42afb502d32eda803bc552ae62357752911f,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'barbican',",,4,1
openstack%2Fpuppet-magnum~stable%2Fzed~Ied6c7759af242021ed83e3c60197e74c947bf811,openstack/puppet-magnum,stable/zed,Ied6c7759af242021ed83e3c60197e74c947bf811,Add per module policy service refresh,MERGED,2023-07-21 22:10:20.000000000,2023-07-24 06:08:32.000000000,2023-07-24 06:08:32.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:10:20.000000000', 'files': ['spec/classes/magnum_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/2a046d22f62665fbca694502cf0943f1716c815d', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Ied6c7759af242021ed83e3c60197e74c947bf811\n(cherry picked from commit f42642bd61205cb8ed6968ae9cf2180eb772099a)\n(cherry picked from commit 93c2557cac8bd7166cc03797e734b7b4bd824d5a)\n'}]",1,889228,2a046d22f62665fbca694502cf0943f1716c815d,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Ied6c7759af242021ed83e3c60197e74c947bf811
(cherry picked from commit f42642bd61205cb8ed6968ae9cf2180eb772099a)
(cherry picked from commit 93c2557cac8bd7166cc03797e734b7b4bd824d5a)
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/28/889228/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/magnum_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,2a046d22f62665fbca694502cf0943f1716c815d,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'magnum',",,4,1
openstack%2Fpuppet-gnocchi~stable%2Fzed~I5b7504bc02b2576a8921d1a70bc1bd07b19c1023,openstack/puppet-gnocchi,stable/zed,I5b7504bc02b2576a8921d1a70bc1bd07b19c1023,Add per module policy service refresh,MERGED,2023-07-21 22:08:08.000000000,2023-07-24 06:07:40.000000000,2023-07-24 06:07:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:08:08.000000000', 'files': ['spec/classes/gnocchi_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/28ee3ee9e7da6b87211282baddbd112c93adb171', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I5b7504bc02b2576a8921d1a70bc1bd07b19c1023\n(cherry picked from commit fea62d44e918fb5f944882ef01fa02e5687c7f31)\n(cherry picked from commit 841e19d5a203d864ae92dc4c013f54004f2d4483)\n'}]",1,889035,28ee3ee9e7da6b87211282baddbd112c93adb171,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I5b7504bc02b2576a8921d1a70bc1bd07b19c1023
(cherry picked from commit fea62d44e918fb5f944882ef01fa02e5687c7f31)
(cherry picked from commit 841e19d5a203d864ae92dc4c013f54004f2d4483)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/35/889035/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/gnocchi_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,28ee3ee9e7da6b87211282baddbd112c93adb171,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'gnocchi',",,4,1
openstack%2Fpuppet-octavia~stable%2Fzed~I6cf1abb1645a47eb3afdcdf4d659cea8eb780f68,openstack/puppet-octavia,stable/zed,I6cf1abb1645a47eb3afdcdf4d659cea8eb780f68,Add per module policy service refresh,MERGED,2023-07-21 22:08:52.000000000,2023-07-24 06:06:04.000000000,2023-07-24 06:06:04.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:08:52.000000000', 'files': ['spec/classes/octavia_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/328913822c415fc30c476f984997eac156862fbe', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I6cf1abb1645a47eb3afdcdf4d659cea8eb780f68\n(cherry picked from commit 6e17904d674a28f518da18d538ca5c37b15ac52f)\n(cherry picked from commit 1faed322e7ac62f6c989fc9b232fdc95592b1819)\n'}]",1,889039,328913822c415fc30c476f984997eac156862fbe,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I6cf1abb1645a47eb3afdcdf4d659cea8eb780f68
(cherry picked from commit 6e17904d674a28f518da18d538ca5c37b15ac52f)
(cherry picked from commit 1faed322e7ac62f6c989fc9b232fdc95592b1819)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/39/889039/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,328913822c415fc30c476f984997eac156862fbe,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'octavia',",,4,1
openstack%2Fpuppet-heat~stable%2Fzed~Ie190999dfdce7fe75bbc1889ec11feda796e226c,openstack/puppet-heat,stable/zed,Ie190999dfdce7fe75bbc1889ec11feda796e226c,Add per module policy service refresh,MERGED,2023-07-21 22:08:36.000000000,2023-07-24 06:03:58.000000000,2023-07-24 06:03:58.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:08:36.000000000', 'files': ['spec/classes/heat_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/7c2aa9f14a1fcc2ae49b6e206d305ce006b2288a', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Ie190999dfdce7fe75bbc1889ec11feda796e226c\n(cherry picked from commit 41dae27b094581a0037cdf1b5193572e04defdd5)\n(cherry picked from commit a9a0182f59128b222a9e5913d1019453d17fa5bc)\n'}]",1,889038,7c2aa9f14a1fcc2ae49b6e206d305ce006b2288a,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Ie190999dfdce7fe75bbc1889ec11feda796e226c
(cherry picked from commit 41dae27b094581a0037cdf1b5193572e04defdd5)
(cherry picked from commit a9a0182f59128b222a9e5913d1019453d17fa5bc)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/38/889038/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,7c2aa9f14a1fcc2ae49b6e206d305ce006b2288a,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'heat',",,4,1
openstack%2Fpuppet-ec2api~stable%2Fzed~I306233bb64b1070f722d7897063a700050be0058,openstack/puppet-ec2api,stable/zed,I306233bb64b1070f722d7897063a700050be0058,Add per module policy service refresh,MERGED,2023-07-21 22:09:52.000000000,2023-07-24 06:03:46.000000000,2023-07-24 06:03:46.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:09:52.000000000', 'files': ['spec/classes/ec2api_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/7eb20e31351ec3b1e92eec0f27a25cd07aaf5b64', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I306233bb64b1070f722d7897063a700050be0058\n(cherry picked from commit 8d522ae1f264364dd2fac3a16b92390ba69de08e)\n(cherry picked from commit 95e2bae8f59ece79d6e85c14c2481f0a1267328e)\n'}]",1,889225,7eb20e31351ec3b1e92eec0f27a25cd07aaf5b64,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I306233bb64b1070f722d7897063a700050be0058
(cherry picked from commit 8d522ae1f264364dd2fac3a16b92390ba69de08e)
(cherry picked from commit 95e2bae8f59ece79d6e85c14c2481f0a1267328e)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/25/889225/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ec2api_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,7eb20e31351ec3b1e92eec0f27a25cd07aaf5b64,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'ec2api',",,4,1
openstack%2Fheat~stable%2Fvictoria~I6e182ac615895b488061f3486387f54b712c50d4,openstack/heat,stable/victoria,I6e182ac615895b488061f3486387f54b712c50d4,[stable-only] Cap virtualenv/setuptools,MERGED,2023-07-17 14:23:59.000000000,2023-07-24 05:57:35.000000000,2023-07-24 05:56:29.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 14:23:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/ec3e354afb87b197cf3deb3d60c8b3d7de74b864', 'message': ""[stable-only] Cap virtualenv/setuptools\n\nWith latest virtualenv release (20.24.0) and its bundled setuptools\nversion, stable/victoria gates started to fail [1], because setuptools\nis not compatible with the pbr version (5.5.0) which is in victoria\nbranch's upper constraint [2]. pbr's next release (5.5.1) removed the\nfailing code, this is why the change is only needed in stable/victoria.\n\nThis patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,\nand also caps tox for the 'inner' virtualenv, otherwise tox>4 would be\ninstalled, that would introduce failures (those failures are fixed in\nnewer stable branches, but it would need several backports and 'outer'\ntox is capped <4 anyway, so no worth dealing with it here).\n\n[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'\n[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44\n\nChange-Id: I6e182ac615895b488061f3486387f54b712c50d4\n""}]",1,888693,ec3e354afb87b197cf3deb3d60c8b3d7de74b864,8,2,1,17685,,,0,"[stable-only] Cap virtualenv/setuptools

With latest virtualenv release (20.24.0) and its bundled setuptools
version, stable/victoria gates started to fail [1], because setuptools
is not compatible with the pbr version (5.5.0) which is in victoria
branch's upper constraint [2]. pbr's next release (5.5.1) removed the
failing code, this is why the change is only needed in stable/victoria.

This patch caps virtualenv to <20.24.0 to fix stable/victoria's gate,
and also caps tox for the 'inner' virtualenv, otherwise tox>4 would be
installed, that would introduce failures (those failures are fixed in
newer stable branches, but it would need several backports and 'outer'
tox is capped <4 anyway, so no worth dealing with it here).

[1] AttributeError: module 'setuptools.command.easy_install' has no attribute 'get_script_header'
[2] https://opendev.org/openstack/requirements/src/commit/636b6b3bde4b68ef27ac6b524cb888152eddf517/upper-constraints.txt#L44

Change-Id: I6e182ac615895b488061f3486387f54b712c50d4
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/888693/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ec3e354afb87b197cf3deb3d60c8b3d7de74b864,gate-fix-cap-virtualenv,# Cap setuptools via virtualenv to prevent compatibility issue with victoria # branch's upper constraint of pbr package (5.5.0). Tox is also needed to be # constrained for the 'inner' tox to be installed with the constrained venv. requires = virtualenv<20.24.0 tox<4,,6,0
openstack%2Fpuppet-watcher~stable%2Fzed~I9c4804116384465fbefa419c1158a87ab8b2c872,openstack/puppet-watcher,stable/zed,I9c4804116384465fbefa419c1158a87ab8b2c872,Add per module policy service refresh,MERGED,2023-07-21 22:08:19.000000000,2023-07-24 05:55:37.000000000,2023-07-24 05:55:37.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:08:19.000000000', 'files': ['spec/classes/watcher_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/6e9ba1e0d74b870de0643d200144ae84a1e95a0d', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I9c4804116384465fbefa419c1158a87ab8b2c872\n(cherry picked from commit df8733d486a9c87ad5e8103c45d5b7011e41935e)\n(cherry picked from commit d661961d356f6cb13a219275ee971380c21951e0)\n'}]",1,889036,6e9ba1e0d74b870de0643d200144ae84a1e95a0d,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I9c4804116384465fbefa419c1158a87ab8b2c872
(cherry picked from commit df8733d486a9c87ad5e8103c45d5b7011e41935e)
(cherry picked from commit d661961d356f6cb13a219275ee971380c21951e0)
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/36/889036/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,6e9ba1e0d74b870de0643d200144ae84a1e95a0d,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'watcher',",,4,1
openstack%2Fpuppet-cloudkitty~stable%2Fzed~I7eda28c684af2def0d4acacfa5ba453ef02b42a3,openstack/puppet-cloudkitty,stable/zed,I7eda28c684af2def0d4acacfa5ba453ef02b42a3,Add per module policy service refresh,MERGED,2023-07-21 22:10:50.000000000,2023-07-24 05:25:20.000000000,2023-07-24 05:25:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 22:10:50.000000000', 'files': ['spec/classes/cloudkitty_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/dabe1c7a8eac2d9f87fe2aa31abb7e5c7d555b4a', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I7eda28c684af2def0d4acacfa5ba453ef02b42a3\n(cherry picked from commit 2abda4f574fe9b152f45af67ddefe75b20459aa3)\n(cherry picked from commit 9ff18740fb82b0f8d45f153ec4fe13fc20ed1bcd)\n'}]",1,889230,dabe1c7a8eac2d9f87fe2aa31abb7e5c7d555b4a,6,2,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I7eda28c684af2def0d4acacfa5ba453ef02b42a3
(cherry picked from commit 2abda4f574fe9b152f45af67ddefe75b20459aa3)
(cherry picked from commit 9ff18740fb82b0f8d45f153ec4fe13fc20ed1bcd)
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/30/889230/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,dabe1c7a8eac2d9f87fe2aa31abb7e5c7d555b4a,per-module-policy-refresh-stable/2023.1-stable/zed," tag => 'cloudkitty',",,4,1
openstack%2Fpuppet-ceph~master~I0030baf97f831384d5dad46dbaeb1ee5169cfe21,openstack/puppet-ceph,master,I0030baf97f831384d5dad46dbaeb1ee5169cfe21,Fix undefined variables caused by exec_timeout,MERGED,2023-07-20 01:50:39.000000000,2023-07-24 03:31:14.000000000,2023-07-24 03:31:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 01:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/df6777c740773204fa02bb74aafc6dd2418fcfe4', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}, {'number': 2, 'created': '2023-07-20 06:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/46addcc3fb0033ac37f99d1df195b00673b1a1a9', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}, {'number': 3, 'created': '2023-07-20 06:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a7ca30c023598565a390005ba778792c46a6c1f6', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}, {'number': 4, 'created': '2023-07-20 09:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a7b9d30aae2e7239f02f86ad49ce4de78cabc2a2', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}, {'number': 5, 'created': '2023-07-20 15:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/06b11ccbdef2c728d982759784a450aef3e6cb21', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}, {'number': 6, 'created': '2023-07-20 17:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f927e4bd13472cb2e8ba8e368be9bbbc659fde18', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}, {'number': 7, 'created': '2023-07-22 14:42:30.000000000', 'files': ['manifests/fs.pp', 'manifests/pool.pp', 'manifests/mon.pp', 'manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/50f777cbff4fcd2bece278045e31e373fb3e6389', 'message': ""Fix undefined variables caused by exec_timeout\n\nThis fixes the following error found in Puppet 8 unit tests.\n\nEvaluation Error: Error while evaluating a Resource Statement,\nEvaluation Error: Unknown variable: 'ceph::params::exec_timeout'.\n\nChange-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21\n""}]",3,888968,50f777cbff4fcd2bece278045e31e373fb3e6389,25,4,7,9816,,,0,"Fix undefined variables caused by exec_timeout

This fixes the following error found in Puppet 8 unit tests.

Evaluation Error: Error while evaluating a Resource Statement,
Evaluation Error: Unknown variable: 'ceph::params::exec_timeout'.

Change-Id: I0030baf97f831384d5dad46dbaeb1ee5169cfe21
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/68/888968/7 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/fs.pp', 'manifests/pool.pp', 'manifests/mon.pp', 'manifests/osd.pp']",4,df6777c740773204fa02bb74aafc6dd2418fcfe4,," $exec_timeout = undef, $exec_timeout_real = $exec_timeout ? { undef => $ceph::params::exec_timeout, default => $exec_timeout, } timeout => $exec_timeout_real, timeout => $exec_timeout_real, timeout => $exec_timeout_real,"," $exec_timeout = $ceph::params::exec_timeout, timeout => $exec_timeout, timeout => $exec_timeout, timeout => $exec_timeout,",38,16
openstack%2Ftrove~master~If3c6f1456b1454f6a06b8974d1877e9e87bcf3f3,openstack/trove,master,If3c6f1456b1454f6a06b8974d1877e9e87bcf3f3,Imported Translations from Zanata,MERGED,2023-07-21 05:07:08.000000000,2023-07-24 01:42:34.000000000,2023-07-24 01:41:33.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-21 05:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/096e82187a33b48e312fcd8d90ce37015e2f3b6e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If3c6f1456b1454f6a06b8974d1877e9e87bcf3f3\n'}, {'number': 2, 'created': '2023-07-22 02:57:16.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove/commit/c4efd57e3659a2ac075106835ffd807b1f77df35', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If3c6f1456b1454f6a06b8974d1877e9e87bcf3f3\n'}]",0,889147,c4efd57e3659a2ac075106835ffd807b1f77df35,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If3c6f1456b1454f6a06b8974d1877e9e87bcf3f3
",git fetch https://review.opendev.org/openstack/trove refs/changes/47/889147/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",3,096e82187a33b48e312fcd8d90ce37015e2f3b6e,zanata/translations,,"# Corinne Verheyde <cverheyd@gmail.com>, 2016. #zanata # Grald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: trove\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2023-05-22 12:03+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 06:43+0000\n"" ""Last-Translator: Grald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""5.0.0"" msgstr ""5.0.0"" msgid ""5.0.1"" msgstr ""5.0.1"" msgid ""5.1.0"" msgstr ""5.1.0"" msgid ""5.1.1"" msgstr ""5.1.1"" msgid ""6.0.0"" msgstr ""6.0.0"" msgid """" ""A locality flag was added to the trove ReST API to allow a user to specify "" ""whether new replicas should be on the same hypervisor (affinity) or on "" ""different hypervisors (anti-affinity)."" msgstr """" ""Ajout d'un flag de localisation aux API ReST trove pour permettre  "" ""l'utilisateur de spcifier si les nouveaux replicas doivent tre sur le mme "" ""hyperviseur (affinit) ou sur des hyperviseurs diffrents (ante-affinit)."" msgid ""An invalid module driver is now logged correctly. Bug 1579900"" msgstr """" ""Un driver de module invalide est maintenant logu correctement. Bug 1579900"" msgid ""Bug Fixes"" msgstr ""Rsolutions de Bugs"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dprcies "" msgid ""Dropping support for python 2.6"" msgstr ""Suppression du support de python 2.6"" msgid """" ""Fixes an issue with a failure to establish a new replica for MySQL in some "" ""cases where a replica already exists and some data has been inserted into "" ""the master. Bug 1563574"" msgstr """" ""Rsout un problme d'chec de mise en place d'un nouveau replica pour MySQL "" ""dans certains cas o un replica existe dj et des donnes ont t insres "" ""sur le master. Bug 1563574"" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalits"" msgid ""Newton Series Release Notes"" msgstr ""Note de release pour Newton"" msgid ""Other Notes"" msgstr ""Autres notes"" msgid ""Security Issues"" msgstr ""Problmes de scurits"" msgid ""Trove Release Notes"" msgstr ""Note de release pour Trove"" ",35,127
openstack%2Fsenlin-dashboard~stable%2Fzed~Ia7a0f26a3cc1f13d8785479426c122997dcd6fc6,openstack/senlin-dashboard,stable/zed,Ia7a0f26a3cc1f13d8785479426c122997dcd6fc6,Imported Translations from Zanata,NEW,2023-05-09 04:09:12.000000000,2023-07-24 01:28:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-09 04:09:12.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'senlin_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/44d20522c05fea725d7d597b9498bfaeed189e38', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia7a0f26a3cc1f13d8785479426c122997dcd6fc6\n'}]",0,882658,44d20522c05fea725d7d597b9498bfaeed189e38,5,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia7a0f26a3cc1f13d8785479426c122997dcd6fc6
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/58/882658/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'senlin_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",8,44d20522c05fea725d7d597b9498bfaeed189e38,zanata/translations,,"# zzxwill <zzxwill@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Senlin Dashboard Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-02-26 11:55+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-09-13 01:59+0000\n"" ""Last-Translator: zzxwill <zzxwill@gmail.com>\n"" ""Language-Team: Chinese (China)\n"" ""Language: zh_CN\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""0.4.0"" msgstr ""0.4.0"" msgid ""Bug Fixes"" msgstr ""Bug"" msgid ""Current Series Release Notes"" msgstr """" msgid ""New Features"" msgstr """" msgid ""Paginated list for node objects."" msgstr """" msgid ""Senlin Dashboard Release Notes"" msgstr ""Senlin Dashboard"" ",576,1240
openstack%2Fpuppet-ceph~master~I9d783e500f94b3f474d657ab10b1594ab6e6e65b,openstack/puppet-ceph,master,I9d783e500f94b3f474d657ab10b1594ab6e6e65b,Validate authentication_type,MERGED,2023-07-20 02:07:37.000000000,2023-07-23 16:59:28.000000000,2023-07-23 16:59:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 02:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/76dd79f0e94bb2da457c3ba36f8f07c4e440cfe8', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 2, 'created': '2023-07-20 04:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d24c9de6998da1c097f62908bd60ccf3a546d4fa', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 3, 'created': '2023-07-20 06:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c4838af022697b11e1e18e75b6a122268731cfdf', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 4, 'created': '2023-07-20 06:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/cb937c3ed2d3485a35bab6f645622eae2b06bdcf', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 5, 'created': '2023-07-20 06:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4cf8b54897cf94cf417902baf60aad12f4eacbfa', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 6, 'created': '2023-07-20 09:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/eee4e39b2b9a99b7715150214cfa092b6a49e168', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 7, 'created': '2023-07-20 15:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b139778ba434e0c022b62636b0d67b46671c4c0d', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 8, 'created': '2023-07-20 17:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/3c29bc848135a9c6de6d34bf04ba257b53ec5d6e', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}, {'number': 9, 'created': '2023-07-22 14:42:30.000000000', 'files': ['manifests/profile/params.pp', 'manifests/mgr.pp', 'manifests/init.pp', 'spec/classes/ceph_profile_client_spec.rb', 'manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/843fa12939db665512a8d5ce667907dc47049a84', 'message': ""Validate authentication_type\n\nCurrently we expect only 'cephx' or 'none' as authentication_type. This\nenforces that limitation using parameter types..\n\nChange-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b\n""}]",2,888970,843fa12939db665512a8d5ce667907dc47049a84,26,4,9,9816,,,0,"Validate authentication_type

Currently we expect only 'cephx' or 'none' as authentication_type. This
enforces that limitation using parameter types..

Change-Id: I9d783e500f94b3f474d657ab10b1594ab6e6e65b
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/70/888970/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/params.pp', 'manifests/mgr.pp', 'manifests/init.pp', 'types/authentication_type.pp', 'manifests/mon.pp']",5,76dd79f0e94bb2da457c3ba36f8f07c4e440cfe8,," Ceph::AuthenticationType $authentication_type = 'cephx',"," $authentication_type = 'cephx',",42,41
openstack%2Fproject-config~master~Id494264603b966eced136f6edc76944ec96c9375,openstack/project-config,master,Id494264603b966eced136f6edc76944ec96c9375,Normalize projects.yaml,MERGED,2023-07-22 02:11:38.000000000,2023-07-23 15:35:00.000000000,2023-07-23 15:29:33.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 02:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cb4b8ac8fc6d0c0c8d4322b00490590ad2e414d9', 'message': 'Normalize projects.yaml\n\nChange-Id: Id494264603b966eced136f6edc76944ec96c9375\n'}, {'number': 2, 'created': '2023-07-23 02:10:46.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f4b2c7c6afa3baa0a4d1629a0db74a3a159b2141', 'message': 'Normalize projects.yaml\n\nChange-Id: Id494264603b966eced136f6edc76944ec96c9375\n'}]",0,889212,f4b2c7c6afa3baa0a4d1629a0db74a3a159b2141,9,2,2,11131,,,0,"Normalize projects.yaml

Change-Id: Id494264603b966eced136f6edc76944ec96c9375
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/889212/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cb4b8ac8fc6d0c0c8d4322b00490590ad2e414d9,project-yaml-normalization,, upstream: https://github.com/zulcss/apt-ostree.git,0,1
openstack%2Fcinder~stable%2Fzed~Ibda3a09a181160b8ee9129795429a7f1795e907d,openstack/cinder,stable/zed,Ibda3a09a181160b8ee9129795429a7f1795e907d,Fix Infinidat driver multi-attach feature,MERGED,2023-06-15 13:30:30.000000000,2023-07-22 22:47:54.000000000,2023-07-22 22:46:38.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-06-15 13:30:30.000000000', 'files': ['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e5330c029b538252e8743f7dd2276f423a8ec1b', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)\n'}]",13,886141,8e5330c029b538252e8743f7dd2276f423a8ec1b,59,4,1,35075,,,0,"Fix Infinidat driver multi-attach feature

Added a check if there are multiple attachments to the volume
from the same connector and terminate connection only for the
last attachment from the corresponding host.

Closes-bug: #1982350
Change-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/886141/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",4,8e5330c029b538252e8743f7dd2276f423a8ec1b,infinidat-add-local-volume-migration-stable/zed," 1.12 - fixed volume multi-attach VERSION = '1.12' def _is_volume_multiattached(self, volume, connector): """"""Returns whether the volume is multiattached. Check if there are multiple attachments to the volume from the same connector. Terminate connection only for the last attachment from the corresponding host. """""" if not (connector and volume.multiattach and volume.volume_attachment): return False keys = ['system uuid'] if self._protocol == constants.FC: keys.append('wwpns') else: keys.append('initiator') for key in keys: if not (key in connector and connector[key]): continue if sum(1 for attachment in volume.volume_attachment if attachment.connector and key in attachment.connector and attachment.connector[key] == connector[key]) > 1: LOG.debug('Volume %s is multiattached to %s %s', volume.name_id, key, connector[key]) return True return False if self._is_volume_multiattached(volume, connector): return True if self._protocol == constants.FC: conn_info = dict(driver_volume_type=volume_type, data=result_data) return volume.volume_attachment and len(volume.volume_attachment) > 1 clone = mock.Mock(name_id=str(volume.name_id) + '-internal', multiattach=False, volume_attachment=[])"," VERSION = '1.11' conn_info = dict(driver_volume_type=volume_type, data=result_data) if self._protocol == constants.FC: return conn_info clone = mock.Mock(name_id=str(volume.name_id) + '-internal')",148,13
openstack%2Fpuppet-manila~master~Id021d0581894fea76359a7d1d41117b27bfa7376,openstack/puppet-manila,master,Id021d0581894fea76359a7d1d41117b27bfa7376,Do not hard-code [oslo_messaging_amqp] container_name,MERGED,2023-07-22 15:13:53.000000000,2023-07-22 22:25:42.000000000,2023-07-22 22:24:28.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 15:13:53.000000000', 'files': ['spec/classes/manila_init_spec.rb', 'releasenotes/notes/amqp_container_name-use_default-2ea9e17fcb213273.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ebb199a55ca0bb310d6cb14165399785a96fa76d', 'message': 'Do not hard-code [oslo_messaging_amqp] container_name\n\nThe container name should be globally unique, and using a fixed and\nhard-coded value does not meet that requirement.\n\nThe oslo.messaging library generates the random value automatically\nunless the option is set, so we should rely on that behavior.\n\nChange-Id: Id021d0581894fea76359a7d1d41117b27bfa7376\n'}]",0,889253,ebb199a55ca0bb310d6cb14165399785a96fa76d,8,3,1,9816,,,0,"Do not hard-code [oslo_messaging_amqp] container_name

The container name should be globally unique, and using a fixed and
hard-coded value does not meet that requirement.

The oslo.messaging library generates the random value automatically
unless the option is set, so we should rely on that behavior.

Change-Id: Id021d0581894fea76359a7d1d41117b27bfa7376
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/53/889253/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_init_spec.rb', 'releasenotes/notes/amqp_container_name-use_default-2ea9e17fcb213273.yaml', 'manifests/init.pp']",3,ebb199a55ca0bb310d6cb14165399785a96fa76d,amqp-defaults," $amqp_container_name = $facts['os_service_default'],"," $amqp_container_name = 'guest',",8,2
openstack%2Fbifrost~master~I93b0d7f296bae859914477b4009e44a44e3bde1a,openstack/bifrost,master,I93b0d7f296bae859914477b4009e44a44e3bde1a,Refactor the use of include_vars,MERGED,2023-02-20 23:05:23.000000000,2023-07-22 22:25:06.000000000,2023-07-22 22:24:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-02-20 23:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/42722da8a95101bf1a3997e9f89ff8ff014f15d1', 'message': ""Refactor the use of include_vars\n\nThe debian_family and ubuntu files have the same content, and they're\nboth in the debian family, so drop the ubuntu vars.\n\nMove remaining os-default files to vars directory, where the\ninclude_vars expects them to be.\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I93b0d7f296bae859914477b4009e44a44e3bde1a\n""}, {'number': 2, 'created': '2023-07-11 20:25:37.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/vars/debian.yml', 'playbooks/roles/bifrost-keystone-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-keystone-install/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/619dbe31e270af952349358354ac482b496fa183', 'message': ""Refactor the use of include_vars\n\nThe debian_family and ubuntu files have the same content, and they're\nboth in the debian family, so drop the ubuntu vars.\n\nMove remaining os-default files to vars directory, where the\ninclude_vars expects them to be.\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I93b0d7f296bae859914477b4009e44a44e3bde1a\n""}]",3,874523,619dbe31e270af952349358354ac482b496fa183,20,4,2,25600,,,0,"Refactor the use of include_vars

The debian_family and ubuntu files have the same content, and they're
both in the debian family, so drop the ubuntu vars.

Move remaining os-default files to vars directory, where the
include_vars expects them to be.

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I93b0d7f296bae859914477b4009e44a44e3bde1a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/23/874523/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/vars/debian.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-keystone-install/vars/redhat.yml']",5,42722da8a95101bf1a3997e9f89ff8ff014f15d1,first_found_keystone,,,12,32
openstack%2Fpuppet-manila~master~Ie0be34f7b6af5cbfd895301983bd8e0e58482930,openstack/puppet-manila,master,Ie0be34f7b6af5cbfd895301983bd8e0e58482930,Drop redundant hardcoded defaults of amqp options,MERGED,2023-07-22 15:08:44.000000000,2023-07-22 22:24:27.000000000,2023-07-22 22:24:27.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 15:08:44.000000000', 'files': ['spec/classes/manila_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ae10afeda566769c3bf2ac722670ab5fc52d59e6', 'message': 'Drop redundant hardcoded defaults of amqp options\n\nThese defaults match the default values defined in oslo.messaging.\n\nChange-Id: Ie0be34f7b6af5cbfd895301983bd8e0e58482930\n'}]",0,889252,ae10afeda566769c3bf2ac722670ab5fc52d59e6,7,3,1,9816,,,0,"Drop redundant hardcoded defaults of amqp options

These defaults match the default values defined in oslo.messaging.

Change-Id: Ie0be34f7b6af5cbfd895301983bd8e0e58482930
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/52/889252/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_init_spec.rb', 'manifests/init.pp']",2,ae10afeda566769c3bf2ac722670ab5fc52d59e6,amqp-defaults," $amqp_server_request_prefix = $facts['os_service_default'], $amqp_broadcast_prefix = $facts['os_service_default'], $amqp_group_request_prefix = $facts['os_service_default'], $amqp_idle_timeout = $facts['os_service_default'], $amqp_trace = $facts['os_service_default'],"," $amqp_server_request_prefix = 'exclusive', $amqp_broadcast_prefix = 'broadcast', $amqp_group_request_prefix = 'unicast', $amqp_idle_timeout = '0', $amqp_trace = false,",10,10
openstack%2Fpuppet-manila~master~Id7f139b395e193635a673fe07b46baafe4a8772f,openstack/puppet-manila,master,Id7f139b395e193635a673fe07b46baafe4a8772f,Ensure purge_config takes a boolean value,MERGED,2023-07-22 14:48:02.000000000,2023-07-22 22:00:20.000000000,2023-07-22 22:00:20.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-22 14:48:02.000000000', 'files': ['manifests/init.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/607e366887fe8068f1b2f526ed4b3a7f0962f90e', 'message': 'Ensure purge_config takes a boolean value\n\nThe purge_config parameters only accept boolean values. This enforces\nthat using the typed parameters.\n\nChange-Id: Id7f139b395e193635a673fe07b46baafe4a8772f\n'}]",0,889217,607e366887fe8068f1b2f526ed4b3a7f0962f90e,7,3,1,9816,,,0,"Ensure purge_config takes a boolean value

The purge_config parameters only accept boolean values. This enforces
that using the typed parameters.

Change-Id: Id7f139b395e193635a673fe07b46baafe4a8772f
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/17/889217/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/policy.pp']",2,607e366887fe8068f1b2f526ed4b3a7f0962f90e,purge_config-boolean," Boolean $purge_config = false,"," $purge_config = false,",2,2
openstack%2Fdesignate~master~Ibc6b1a67a14c8a83c1f679a9e3302e9c2eb25983,openstack/designate,master,Ibc6b1a67a14c8a83c1f679a9e3302e9c2eb25983,Add a tempest test job with sqlalchemy 2.x,MERGED,2023-07-18 16:27:03.000000000,2023-07-22 19:50:49.000000000,2023-07-22 19:49:10.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-07-18 16:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5bf0666f4509c4b877b539e3bd8c58d0f2e136d5', 'message': 'Add a tempest test job with sqlalchemy 2.x\n\nNow that nova removed the use of ""migrate"" we can add a tempest test job\nwith sqlalchemy 2.x.\n\nChange-Id: Ibc6b1a67a14c8a83c1f679a9e3302e9c2eb25983\n'}, {'number': 2, 'created': '2023-07-18 18:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e4a439399eeaeb9028c2fd9ad6c3f0d8b4479775', 'message': 'Add a tempest test job with sqlalchemy 2.x\n\nNow that nova removed the use of ""migrate"" we can add a tempest test job\nwith sqlalchemy 2.x.\n\nChange-Id: Ibc6b1a67a14c8a83c1f679a9e3302e9c2eb25983\n'}, {'number': 3, 'created': '2023-07-18 19:22:49.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/9c6ed2913567c4078facc7a355ae47fc62bbf2ef', 'message': 'Add a tempest test job with sqlalchemy 2.x\n\nNow that nova removed the use of ""migrate"" we can add a tempest test job\nwith sqlalchemy 2.x.\n\nChange-Id: Ibc6b1a67a14c8a83c1f679a9e3302e9c2eb25983\n'}]",4,888779,9c6ed2913567c4078facc7a355ae47fc62bbf2ef,18,3,3,11628,,,0,"Add a tempest test job with sqlalchemy 2.x

Now that nova removed the use of ""migrate"" we can add a tempest test job
with sqlalchemy 2.x.

Change-Id: Ibc6b1a67a14c8a83c1f679a9e3302e9c2eb25983
",git fetch https://review.opendev.org/openstack/designate refs/changes/79/888779/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5bf0666f4509c4b877b539e3bd8c58d0f2e136d5,," name: designate-bind9-sqlalchemy-2x parent: designate-bind9 description: | Run tempest tests with main branch of SQLAlchemy, alembic and oslo.db. # The job only tests the latest and shouldn't be run on the stable branches branches: ^(?!stable) required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db - job: - designate-bind9-sqlalchemy-2x - designate-bind9-sqlalchemy-2x",,16,0
openstack%2Fpuppet-ceph~master~I2be3b97677afd0baac189ddc8b880b6166610fa4,openstack/puppet-ceph,master,I2be3b97677afd0baac189ddc8b880b6166610fa4,Ensure valid value for store_type,MERGED,2023-07-17 14:56:22.000000000,2023-07-22 19:18:45.000000000,2023-07-22 19:18:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 14:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/8bad6a561f48e6edd087d93e1798f23f11928783', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported. Note that filestore is no\nlonger supported by recent release of ceph, but is kept because we\nstill have to support nautilus, which is used with stable/train.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 2, 'created': '2023-07-17 14:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c92e860f50cf87f954b7b30c4cdc30e479d81d65', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 3, 'created': '2023-07-17 15:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2f11b43d3f84333a0ebee2d9b9f8d0f93c7ec6e4', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 4, 'created': '2023-07-20 02:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d0f24adf9be337bbf0bd5ccb0b532bd73a9d651e', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 5, 'created': '2023-07-20 06:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/45472c55dc001c3aed8c593a9c29b45750958441', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 6, 'created': '2023-07-20 06:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/6c34e40e3ead6e8597d5921e302ce81c488a9651', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 7, 'created': '2023-07-20 09:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4d31705c6ec0795814440a13cfb3e2e5aefefd31', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 8, 'created': '2023-07-20 15:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b6ed95deb2b572b1dea24c80480d5233a075f53c', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 9, 'created': '2023-07-20 17:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/95e73180fc4c4cf7f0904ea762d897f88e79bb34', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}, {'number': 10, 'created': '2023-07-22 14:42:30.000000000', 'files': ['manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c55e22b8a339b8d27a3755f576740cb1a1ea8b99', 'message': 'Ensure valid value for store_type\n\nThe store_type parameter accepts only one of filestore or bluestore.\nThis ensures the given value is supported.\n\nNote that filestore will be no longer supported by the next major\nrelease(R), but is kept now because we still have to support old\nreleases used with stable branches.\n\nChange-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4\n'}]",3,888700,c55e22b8a339b8d27a3755f576740cb1a1ea8b99,26,4,10,9816,,,0,"Ensure valid value for store_type

The store_type parameter accepts only one of filestore or bluestore.
This ensures the given value is supported.

Note that filestore will be no longer supported by the next major
release(R), but is kept now because we still have to support old
releases used with stable branches.

Change-Id: I2be3b97677afd0baac189ddc8b880b6166610fa4
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/00/888700/10 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,8bad6a561f48e6edd087d93e1798f23f11928783,," Optional[Enum['filestore', 'bluestore']] $store_type = undef,"," $store_type = undef,",1,1
openstack%2Fpuppet-ceph~master~Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2,openstack/puppet-ceph,master,Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2,Validate ensure parameter using the typed parameters,MERGED,2023-07-17 08:21:03.000000000,2023-07-22 18:57:31.000000000,2023-07-22 18:57:31.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 08:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/53c4cfc1a06e73d4d295a163f902c607c1d22588', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 2, 'created': '2023-07-17 11:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b6afa18f128e98f22fb5aea5c40fb7e595b1d207', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 3, 'created': '2023-07-17 12:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ad1e3fa47e5f278559c80396d8c88d9bc95d386b', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 4, 'created': '2023-07-17 15:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2d854f09f31399d41c8e66db3e5138d49cd018ab', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 5, 'created': '2023-07-20 02:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2bfb250f65aaa7aa0d6961aa94fa51010112bce8', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 6, 'created': '2023-07-20 06:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7bcb16245d835e71fb63ed32824b7f2fd5520f97', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 7, 'created': '2023-07-20 06:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a617a8b8a6dee7be754c9674e0f771d9ca134f2d', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 8, 'created': '2023-07-20 09:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a4469f6cb04867bcd8a00e64660659f1d849bfa5', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 9, 'created': '2023-07-20 15:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/63f2871b987fa2ed36dcec5f30317a8aee589482', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 10, 'created': '2023-07-20 17:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/db131a1b0313febfc3ad64ebb2c0eee44b9c3b5e', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 11, 'created': '2023-07-22 14:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e6cb527e162e1b01c906f5ad509a0fb3a8639b2a', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}, {'number': 12, 'created': '2023-07-22 14:42:30.000000000', 'files': ['spec/defines/ceph_osd_spec.rb', 'manifests/pool.pp', 'manifests/mon.pp', 'manifests/osd.pp', 'spec/defines/ceph_mon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/83c19702c23c575e4b4238af7e756df3d3c3c76f', 'message': 'Validate ensure parameter using the typed parameters\n\n... instead of validating the value as part of manifest logics.\n\nChange-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2\n'}]",3,888666,83c19702c23c575e4b4238af7e756df3d3c3c76f,34,4,12,9816,,,0,"Validate ensure parameter using the typed parameters

... instead of validating the value as part of manifest logics.

Change-Id: Id46cf10ca4321d2f757e5a1171c1e2900ccbc2e2
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/66/888666/9 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/pool.pp', 'manifests/mon.pp', 'manifests/osd.pp']",3,53c4cfc1a06e73d4d295a163f902c607c1d22588,," Enum['present', 'absent'] $ensure = present, } else {"," $ensure = present, } elsif $ensure == absent { } else { fail('Ensure on OSD must be either present or absent')",6,14
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I2588337c013068174f10e4d39092450debece07b,openstack/puppet-openstack-integration,stable/yoga,I2588337c013068174f10e4d39092450debece07b,Test deployment with modular libvirt daemons,MERGED,2023-06-21 12:02:18.000000000,2023-07-22 18:29:03.000000000,2023-07-22 18:29:03.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-21 12:02:18.000000000', 'files': ['fixtures/scenario003.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9b332d02033b41c76a9b096a85930fc58e0e4b6c', 'message': ""Test deployment with modular libvirt daemons\n\nThis enables modular libvirt daemons in CentOS so that we can test\nboth monolithic libvirt and modular libvirt in our CI jobs.\n\nConflicts:\n    - fixtures/scenario005.pp\n\nBackport note: We don't backport the entire scenario005 instead we\nuse modular libvirt on scenario003 for this branch.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/886608\nChange-Id: I2588337c013068174f10e4d39092450debece07b\n(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)\n(cherry picked from commit 8d9ccd50b92c291da9348f3d260b7a1e51fceccf)\n""}]",0,886630,9b332d02033b41c76a9b096a85930fc58e0e4b6c,7,3,1,16137,,,0,"Test deployment with modular libvirt daemons

This enables modular libvirt daemons in CentOS so that we can test
both monolithic libvirt and modular libvirt in our CI jobs.

Conflicts:
    - fixtures/scenario005.pp

Backport note: We don't backport the entire scenario005 instead we
use modular libvirt on scenario003 for this branch.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/886608
Change-Id: I2588337c013068174f10e4d39092450debece07b
(cherry picked from commit c966b231146d9ade2fd85a7715e6a93d12528253)
(cherry picked from commit 8d9ccd50b92c291da9348f3d260b7a1e51fceccf)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/30/886630/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario003.pp', 'manifests/nova.pp']",2,9b332d02033b41c76a9b096a85930fc58e0e4b6c,,"# [*modular_libvirt*] # (optional) Use modular libvirt daemons instead of the monolithic libvirtd # deamon # Defaults to false # $modular_libvirt = false, transport => $migration_transport, modular_libvirt => $modular_libvirt, virt_type => $libvirt_virt_type, cpu_mode => $libvirt_cpu_mode, images_type => $images_type, manage_libvirt_services => false, } class { 'nova::compute::libvirt::services': modular_libvirt => $modular_libvirt,"," transport => $migration_transport virt_type => $libvirt_virt_type, cpu_mode => $libvirt_cpu_mode, # virtlock and virtlog services resources are not idempotent # on Ubuntu, let's disable it for now. # https://tickets.puppetlabs.com/browse/PUP-6370 virtlock_service_name => false, virtlog_service_name => false, images_type => $images_type,",20,10
openstack%2Fdesignate-tempest-plugin~master~Ia73e4d9d037e5ab5e7ac55fa70c41a39bc927db8,openstack/designate-tempest-plugin,master,Ia73e4d9d037e5ab5e7ac55fa70c41a39bc927db8,Shared Zones - new scenario test cases,MERGED,2023-07-02 12:40:18.000000000,2023-07-22 17:58:48.000000000,2023-07-22 17:57:59.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29681}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-07-02 12:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5e6c9816535b7c835e64de0bc06e6472873196c0', 'message': 'Shared Zones - new scenario test cases\n\nTests scenarios to reproduce this Launchpad bug:\nhttps://bugs.launchpad.net/designate/+bug/2025295\n1) test_list_zones_shared_with_more_then_two_projects\n2) test_create_recordset_for_zone_shared_with_two_projects\n\nChange-Id: Ia73e4d9d037e5ab5e7ac55fa70c41a39bc927db8\n'}, {'number': 2, 'created': '2023-07-02 14:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/34f26e38975d8c4f3d8eb69394c7a22fe5d23dc0', 'message': 'Shared Zones - new scenario test cases\n\nTests scenarios to reproduce this Launchpad bug:\nhttps://bugs.launchpad.net/designate/+bug/2025295\n1) test_list_zones_shared_with_more_then_two_projects\n2) test_create_recordset_for_zone_shared_with_two_projects\n\nChange-Id: Ia73e4d9d037e5ab5e7ac55fa70c41a39bc927db8\n'}, {'number': 3, 'created': '2023-07-21 22:27:15.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_shared_zones.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/725b25003ed1208db07b5d8c517ce7fff57cf048', 'message': 'Shared Zones - new scenario test cases\n\nTests scenarios to reproduce this Launchpad bug:\nhttps://bugs.launchpad.net/designate/+bug/2025295\n1) test_list_zones_shared_with_more_then_two_projects\n2) test_create_recordset_for_zone_shared_with_two_projects\n\nChange-Id: Ia73e4d9d037e5ab5e7ac55fa70c41a39bc927db8\n'}]",2,887449,725b25003ed1208db07b5d8c517ce7fff57cf048,13,7,3,28609,,,0,"Shared Zones - new scenario test cases

Tests scenarios to reproduce this Launchpad bug:
https://bugs.launchpad.net/designate/+bug/2025295
1) test_list_zones_shared_with_more_then_two_projects
2) test_create_recordset_for_zone_shared_with_two_projects

Change-Id: Ia73e4d9d037e5ab5e7ac55fa70c41a39bc927db8
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/49/887449/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_shared_zones.py'],1,5e6c9816535b7c835e64de0bc06e6472873196c0,shared_zones_bug," @decorators.attr(type='slow') @decorators.idempotent_id('c5d83684-18cb-11ee-a872-201e8823901f') @decorators.skip_because(bug=""2025295"") def test_list_zones_shared_with_more_then_two_projects(self): # Create a zone to share with the alt credentialzones_client zone_name = dns_data_utils.rand_zone_name(name='TestZone', suffix=self.tld_name) LOG.info('Create a zone: %s', zone_name) zone = self.zones_client.create_zone(name=zone_name)[1] zone_id = zone['id'] self.addCleanup(self.wait_zone_delete, self.zones_client, zone['id'], ignore_errors=lib_exc.NotFound) # Share the zone with the alt credential shared_zone = self.share_zone_client.create_zone_share( zone['id'], self.alt_rec_client.project_id)[1] self.addCleanup(self.share_zone_client.delete_zone_share, zone['id'], shared_zone['id']) # Share the zone with the demo credential shared_zone = self.share_zone_client.create_zone_share( zone['id'], self.demo_rec_client.project_id)[1] self.addCleanup(self.share_zone_client.delete_zone_share, zone['id'], shared_zone['id']) zones = self.zones_client.list_zones()[1]['zones'] zones_ids = [zone['id'] for zone in zones] self.assertEqual( 1, zones_ids.count(zone_id), 'Failed, ID:{} listed more than once in zones listed: {}'.format( zone_id, zones)) @decorators.attr(type='slow') @decorators.idempotent_id('78b77c6c-18cf-11ee-a872-201e8823901f') @decorators.skip_because(bug=""2025295"") def test_create_recordset_for_zone_shared_with_two_projects(self): # Create a zone to share with the alt credential zone_name = dns_data_utils.rand_zone_name(name='TestZone', suffix=self.tld_name) LOG.info('Create a zone: %s', zone_name) zone = self.zones_client.create_zone(name=zone_name)[1] self.addCleanup(self.wait_zone_delete, self.zones_client, zone['id'], ignore_errors=lib_exc.NotFound) # Share the zone with the alt credential shared_zone = self.share_zone_client.create_zone_share( zone['id'], self.alt_rec_client.project_id)[1] self.addCleanup(self.share_zone_client.delete_zone_share, zone['id'], shared_zone['id']) # Check that the alt user can create a recordset on the shared zone recordset_data = dns_data_utils.rand_recordset_data( record_type='A', zone_name=zone['name']) recordset = self.alt_rec_client.create_recordset( zone['id'], recordset_data)[1] self.addCleanup(self.wait_recordset_delete, self.alt_rec_client, zone['id'], recordset['id'], ignore_errors=lib_exc.NotFound) # Share the zone with the demo credential shared_zone = self.share_zone_client.create_zone_share( zone['id'], self.demo_rec_client.project_id)[1] self.addCleanup(self.share_zone_client.delete_zone_share, zone['id'], shared_zone['id']) # Check that the demo user can create a recordset on the shared zone recordset_data = dns_data_utils.rand_recordset_data( record_type='A', zone_name=zone['name']) recordset = self.demo_rec_client.create_recordset( zone['id'], recordset_data)[1] self.addCleanup(self.wait_recordset_delete, self.demo_rec_client, zone['id'], recordset['id'], ignore_errors=lib_exc.NotFound) ",,72,0
openstack%2Fpuppet-ceph~master~Id2338a7ff434c78912b5a3de70658ffa001cca65,openstack/puppet-ceph,master,Id2338a7ff434c78912b5a3de70658ffa001cca65,Fix missing ceph::params,MERGED,2023-07-20 06:18:37.000000000,2023-07-22 17:00:08.000000000,2023-07-22 17:00:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-20 06:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7eec21fb2a23a655b52d60246847c0d8e8136f38', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 2, 'created': '2023-07-20 06:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7c58d766fab2de4d8a0c451c81cb31cc51222fd1', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 3, 'created': '2023-07-20 09:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/60e5a5c2fbe385d6ecb2bd5bda10fb7d0a5e2a84', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 4, 'created': '2023-07-20 10:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/32424073ab141ae08e01e41bc5de0604125ecf6b', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 5, 'created': '2023-07-20 15:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a0da0e2356cad05a7b8c07ba15b7081132573d11', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 6, 'created': '2023-07-20 17:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ff5cf02e3e1140ef02d1835c156792ffbc334a07', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 7, 'created': '2023-07-22 14:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4b7dd51e18c5eb2836811269eb4072b79054e2f4', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}, {'number': 8, 'created': '2023-07-22 14:42:30.000000000', 'files': ['manifests/osd.pp', 'manifests/key.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2eec134ed1b549cc2963cc83414e0e8beedc44f9', 'message': 'Fix missing ceph::params\n\nThe ceph::key defined resource type has reference to the ceph::params\nclass so that class should be included.\n\nChange-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65\n'}]",1,888981,2eec134ed1b549cc2963cc83414e0e8beedc44f9,20,4,8,9816,,,0,"Fix missing ceph::params

The ceph::key defined resource type has reference to the ceph::params
class so that class should be included.

Change-Id: Id2338a7ff434c78912b5a3de70658ffa001cca65
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/81/888981/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/key.pp'],1,7eec21fb2a23a655b52d60246847c0d8e8136f38,, include ceph::params ,,2,0
openstack%2Fpuppet-nova~master~I37bf555f947e581b8076b55069943182e5668a24,openstack/puppet-nova,master,I37bf555f947e581b8076b55069943182e5668a24,Drop hard-coded default for service_down_time and report_interval,MERGED,2023-07-12 13:17:20.000000000,2023-07-22 16:55:44.000000000,2023-07-22 16:55:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-12 13:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3224b346972e580ec94d39fd5142af9d7b0615b6', 'message': 'Drop hard-coded default for service_down_time and report_interval\n\n... because the hard-coded values exactly match the service default\nvalues.\n\nChange-Id: I37bf555f947e581b8076b55069943182e5668a24\n'}, {'number': 2, 'created': '2023-07-12 13:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/07f9fe8f56a0b2e2eb4713550fe70b8d498c6720', 'message': 'Drop hard-coded default for service_down_time and report_interval\n\n... because the hard-coded values exactly match the service default\nvalues.\n\nChange-Id: I37bf555f947e581b8076b55069943182e5668a24\n'}, {'number': 3, 'created': '2023-07-12 13:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/393872ff315879a292d0886e71e4932ab294a4bd', 'message': 'Drop hard-coded default for service_down_time and report_interval\n\n... because the hard-coded values exactly match the service default\nvalues.\n\nChange-Id: I37bf555f947e581b8076b55069943182e5668a24\n'}, {'number': 4, 'created': '2023-07-12 15:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/28ade94340a33e74559aa17fd0ac0f83a1aa4cf5', 'message': 'Drop hard-coded default for service_down_time and report_interval\n\n... because the hard-coded values exactly match the service default\nvalues.\n\nChange-Id: I37bf555f947e581b8076b55069943182e5668a24\n'}, {'number': 5, 'created': '2023-07-12 15:59:54.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d2b3430296f1715c604e8c0a9d430b0673aeb8c6', 'message': 'Drop hard-coded default for service_down_time and report_interval\n\n... because the hard-coded values exactly match the service default\nvalues.\n\nChange-Id: I37bf555f947e581b8076b55069943182e5668a24\n'}]",1,888273,d2b3430296f1715c604e8c0a9d430b0673aeb8c6,16,3,5,9816,,,0,"Drop hard-coded default for service_down_time and report_interval

... because the hard-coded values exactly match the service default
values.

Change-Id: I37bf555f947e581b8076b55069943182e5668a24
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/73/888273/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,3224b346972e580ec94d39fd5142af9d7b0615b6,," is_expected.to contain_nova_config('DEFAULT/service_down_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/report_interval').with_value('<SERVICE DEFAULT>') :service_down_time => '60', :report_interval => '10', is_expected.to contain_nova_config('DEFAULT/service_down_time').with_value('60') is_expected.to contain_nova_config('DEFAULT/report_interval').with_value('10')"," is_expected.to contain_nova_config('DEFAULT/service_down_time').with_value('60') is_expected.to contain_nova_config('DEFAULT/report_interval').with_value('10') :service_down_time => '120', :report_interval => '60', is_expected.to contain_nova_config('DEFAULT/service_down_time').with_value('120') is_expected.to contain_nova_config('DEFAULT/report_interval').with_value('60')",10,10
openstack%2Fpuppet-heat~master~Ida223d6d06d3538b8c2f7b430db233782b3ba500,openstack/puppet-heat,master,Ida223d6d06d3538b8c2f7b430db233782b3ba500,Remove strict validation of enable_stack_adopt/abandon,MERGED,2023-07-17 15:56:04.000000000,2023-07-22 16:53:31.000000000,2023-07-22 16:53:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 15:56:04.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/ae4cce773a4bd683ca8a44eb8df20d246d024b8d', 'message': 'Remove strict validation of enable_stack_adopt/abandon\n\nWe have not yet implemented global way to validate bool options in\nOpenStack. To keep the implementation simple and consistent across\nthe modules/parameters, this change removes the current strict\nvalidation for now.\n\nChange-Id: Ida223d6d06d3538b8c2f7b430db233782b3ba500\n'}]",1,888727,ae4cce773a4bd683ca8a44eb8df20d246d024b8d,11,3,1,9816,,,0,"Remove strict validation of enable_stack_adopt/abandon

We have not yet implemented global way to validate bool options in
OpenStack. To keep the implementation simple and consistent across
the modules/parameters, this change removes the current strict
validation for now.

Change-Id: Ida223d6d06d3538b8c2f7b430db233782b3ba500
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/27/888727/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,ae4cce773a4bd683ca8a44eb8df20d246d024b8d,," $enable_stack_adopt = $facts['os_service_default'], $enable_stack_abandon = $facts['os_service_default'],"," Variant[Openstacklib::ServiceDefault, Boolean] $enable_stack_adopt = $facts['os_service_default'], Variant[Openstacklib::ServiceDefault, Boolean] $enable_stack_abandon = $facts['os_service_default'],",2,4
openstack%2Fneutron-lib~master~Ia2cd6301e04ac502888ee2b8042ea8c19873a95a,openstack/neutron-lib,master,Ia2cd6301e04ac502888ee2b8042ea8c19873a95a,"Revert ""Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING""",MERGED,2023-07-21 08:19:12.000000000,2023-07-22 15:07:52.000000000,2023-07-22 15:06:56.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-21 08:19:12.000000000', 'files': ['neutron_lib/services/constants.py', 'releasenotes/notes/network-in-parent-resource-mapping-0bc57f9bb54d1dc9.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5df6e93b59e02d2b11359f0e8941fcd6292245c2', 'message': 'Revert ""Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING""\n\nThis reverts commit a0147209123542c4b237b3e3dddea880be27a5af.\n\nReason for revert: It is not needed to have network in the EXT_PARENT_RESOURCE_MAPPING as we will keep NET_OWNER rules and use\nthem for subnets and ports API.\nPlease see [1] for more detailed explanation why it\'s better to keep NET_OWNER rules for those policies.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/889153\n\nChange-Id: Ia2cd6301e04ac502888ee2b8042ea8c19873a95a\n'}]",2,889025,5df6e93b59e02d2b11359f0e8941fcd6292245c2,16,3,1,11975,,,0,"Revert ""Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING""

This reverts commit a0147209123542c4b237b3e3dddea880be27a5af.

Reason for revert: It is not needed to have network in the EXT_PARENT_RESOURCE_MAPPING as we will keep NET_OWNER rules and use
them for subnets and ports API.
Please see [1] for more detailed explanation why it's better to keep NET_OWNER rules for those policies.

[1] https://review.opendev.org/c/openstack/neutron/+/889153

Change-Id: Ia2cd6301e04ac502888ee2b8042ea8c19873a95a
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/25/889025/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/services/constants.py', 'releasenotes/notes/network-in-parent-resource-mapping-0bc57f9bb54d1dc9.yaml']",2,5df6e93b59e02d2b11359f0e8941fcd6292245c2,bug/2023679,,--- other: - | Resource ``network`` was added to the ``EXT_PARENT_RESOURCE_MAPPING in ``neutron_lib.services.constants``. ,0,7
openstack%2Fopenstack-ansible~master~I1be9c669e9f4c996d587ef52a6d384d89b75a3f6,openstack/openstack-ansible,master,I1be9c669e9f4c996d587ef52a6d384d89b75a3f6,Allow to update AIO config prior to an upgrade,MERGED,2023-06-04 14:48:23.000000000,2023-07-22 14:26:31.000000000,2023-07-22 14:24:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-04 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dfea79f07afaca1d0b29d7d064f9db01d7a52517', 'message': 'Update AIO config before performing an upgrade\n\nNew OSA version may contain some updates to the default config files\nused in a CI.\nCI should update these files before performing an actual upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n'}, {'number': 2, 'created': '2023-06-04 14:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/642d60f36402659a9fc4c363c57ad1c6f9884709', 'message': ""Update AIO config before performing an upgrade\n\nNew OSA version may contain some updates to the default config files\nused in a CI.\nCI should update these files before performing an actual upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got some issues with OVN agents after an upgrade. They were down until I restarted neutron-server. So it is safer to only run 'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 3, 'created': '2023-06-04 19:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d5fc66cf9c00c6d4f96e9871862917c9b50423e', 'message': ""Update AIO config before performing an upgrade\n\nNew OSA version may contain some updates to the default config files\nused in a CI.\nCI should update these files before performing an actual upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got some issues with OVN agents after an upgrade. They were down until I restarted neutron-server. So it is safer to only run 'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 4, 'created': '2023-06-05 09:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/501a93854f1da6635a6df45ca50b1bba19be42cb', 'message': ""Update AIO config before performing an upgrade\n\nNew OSA version may contain some updates to the default config files\nused in a CI.\nCI should update these files before performing an actual upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got some issues with OVN agents after an upgrade. They were down until I restarted neutron-server. So it is safer to only run 'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 5, 'created': '2023-06-08 04:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/27401a98082a40fd8c797292daebc0997bfc720d', 'message': ""Update AIO config before performing an upgrade\n\nNew OSA version may contain some updates to the default config files\nused in a CI.\nCI should update these files before performing an actual upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got some issues with OVN agents after an upgrade. They were down until I restarted neutron-server. So it is safer to only run 'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 6, 'created': '2023-06-20 16:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ec7f5d1442eb613509704b0306e96e67baee503', 'message': ""Allow to update AIO config prior to an upgrade\n\nUpgraded OSA version may contain some updates to the default config\nfiles used in CI.\nFor some scenarios it may be required to apply these changes prior to\nthe upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got\nsome issues with OVN agents after an upgrade. They were down until I\nrestarted neutron-server. So it is safer to only run\n'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 7, 'created': '2023-06-20 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/accfc6c554737057bbf1ae56f5aa64a112302510', 'message': ""Allow to update AIO config prior to an upgrade\n\nUpgraded OSA version may contain some updates to the default config\nfiles used in CI.\nFor some scenarios it may be required to apply these changes prior to\nthe upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got\nsome issues with OVN agents after an upgrade. They were down until I\nrestarted neutron-server. So it is safer to only run\n'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 8, 'created': '2023-06-27 21:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4006571e4b0ca83a8d2cf162dac1c0e959334551', 'message': ""Allow to update AIO config prior to an upgrade\n\nUpgraded OSA version may contain some updates to the default config\nfiles used in CI.\nFor some scenarios it may be required to apply these changes prior to\nthe upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got\nsome issues with OVN agents after an upgrade. They were down until I\nrestarted neutron-server. So it is safer to only run\n'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}, {'number': 9, 'created': '2023-07-06 16:44:25.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/230004a38aae66e5848f12e5fd037fd20210c351', 'message': ""Allow to update AIO config prior to an upgrade\n\nUpgraded OSA version may contain some updates to the default config\nfiles used in CI.\nFor some scenarios it may be required to apply these changes prior to\nthe upgrade.\n\nI tried to re-execute the whole bootstrap-aio.sh script but then I got\nsome issues with OVN agents after an upgrade. They were down until I\nrestarted neutron-server. So it is safer to only run\n'prepare-aio-config' tag.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189\nChange-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6\n""}]",10,885190,230004a38aae66e5848f12e5fd037fd20210c351,30,3,9,32666,,,0,"Allow to update AIO config prior to an upgrade

Upgraded OSA version may contain some updates to the default config
files used in CI.
For some scenarios it may be required to apply these changes prior to
the upgrade.

I tried to re-execute the whole bootstrap-aio.sh script but then I got
some issues with OVN agents after an upgrade. They were down until I
restarted neutron-server. So it is safer to only run
'prepare-aio-config' tag.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885187
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885188
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885189
Change-Id: I1be9c669e9f4c996d587ef52a6d384d89b75a3f6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/885190/8 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,dfea79f07afaca1d0b29d7d064f9db01d7a52517,tls-backend," # Update AIO config files export BOOTSTRAP_OPTS=""${BOOTSTRAP_OPTS:-} update_aio_config=true"" export BOOTSTRAP_EXTRA_PARAMS=""${BOOTSTRAP_EXTRA_PARAMS:-} -t prepare-aio-config"" ""${SCRIPTS_PATH}/bootstrap-aio.sh""",,4,0
openstack%2Fmistral-extra~master~Ia272d7bfbc69d64e031c8f7268ec69a8ea9baae6,openstack/mistral-extra,master,Ia272d7bfbc69d64e031c8f7268ec69a8ea9baae6,Fix Nova client version discovery,MERGED,2023-07-07 15:00:35.000000000,2023-07-22 07:29:40.000000000,2023-07-22 07:28:42.000000000,"[{'_account_id': 11583}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-07-07 15:00:35.000000000', 'files': ['mistral_extra/actions/openstack/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/9e2ba462fe5b965d493449227662f69183664d2d', 'message': 'Fix Nova client version discovery\n\nSigned-off-by: Axel Vanzaghi <axel.vanzaghi@ovhcloud.com>\nChange-Id: Ia272d7bfbc69d64e031c8f7268ec69a8ea9baae6\n'}]",0,887967,9e2ba462fe5b965d493449227662f69183664d2d,10,5,1,35600,,,0,"Fix Nova client version discovery

Signed-off-by: Axel Vanzaghi <axel.vanzaghi@ovhcloud.com>
Change-Id: Ia272d7bfbc69d64e031c8f7268ec69a8ea9baae6
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/67/887967/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_extra/actions/openstack/actions.py'],1,9e2ba462fe5b965d493449227662f69183664d2d,," nova.API_MIN_VERSION, nova_api_versions.APIVersion(""2.latest"")"," nova.API_MAX_VERSION, nova.API_MAX_VERSION",2,2
