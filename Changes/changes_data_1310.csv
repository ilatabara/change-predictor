id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foperations-guide~master~I4670907857a45853705259587a996d63d0d77ee4,openstack/operations-guide,master,I4670907857a45853705259587a996d63d0d77ee4,Imported Translations from Transifex,MERGED,2014-04-18 06:20:39.000000000,2014-04-18 07:21:11.000000000,2014-04-18 07:21:11.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-18 06:20:39.000000000', 'files': ['doc/openstack-ops/locale/fr.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/1883cbba2f8f53814cd93332f968d58ad225a840', 'message': 'Imported Translations from Transifex\n\nChange-Id: I4670907857a45853705259587a996d63d0d77ee4\n'}]",0,88513,1883cbba2f8f53814cd93332f968d58ad225a840,6,2,1,11131,,,0,"Imported Translations from Transifex

Change-Id: I4670907857a45853705259587a996d63d0d77ee4
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/13/88513/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/locale/fr.po'],1,1883cbba2f8f53814cd93332f968d58ad225a840,transifex/translations,"""POT-Creation-Date: 2014-04-17 08:46+0000\n"" ""PO-Revision-Date: 2014-04-17 14:50+0000\n""msgstr ""DÃ©marrage rapide de l'API OpenStack""","""POT-Creation-Date: 2014-04-14 06:48+0000\n"" ""PO-Revision-Date: 2014-04-15 05:40+0000\n""msgstr """"",3,3
openstack%2Fcinder~master~Ib9f0f22c34941a336e9afd55b6cd9d009797d920,openstack/cinder,master,Ib9f0f22c34941a336e9afd55b6cd9d009797d920,Include user id when getting a volume/snapshot,ABANDONED,2014-04-18 06:46:32.000000000,2014-04-18 06:49:01.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-18 06:46:32.000000000', 'files': ['cinder/tests/api/v1/test_volumes.py', 'cinder/tests/api/v2/stubs.py', 'cinder/api/v1/volumes.py', 'cinder/tests/api/v1/test_snapshots.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/tests/api/v1/stubs.py', 'cinder/api/v2/snapshots.py', 'cinder/tests/api/v2/test_volumes.py', 'cinder/tests/api/v2/test_snapshots.py', 'cinder/api/v1/snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7a3416b89ef690094c0ae24733eac791c7b3898', 'message': 'Include user id when getting a volume/snapshot\n\nWhen getting a volume/snapshot, user id should be included, which is\nnecessary to bill and meter for them.\n\nRTC 181170\n\nChange-Id: Ib9f0f22c34941a336e9afd55b6cd9d009797d920\n'}]",0,88518,a7a3416b89ef690094c0ae24733eac791c7b3898,2,1,1,10569,,,0,"Include user id when getting a volume/snapshot

When getting a volume/snapshot, user id should be included, which is
necessary to bill and meter for them.

RTC 181170

Change-Id: Ib9f0f22c34941a336e9afd55b6cd9d009797d920
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/88518/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/v1/test_volumes.py', 'cinder/tests/api/v2/stubs.py', 'cinder/api/v1/volumes.py', 'cinder/tests/api/v1/test_snapshots.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/tests/api/v1/stubs.py', 'cinder/api/v2/snapshots.py', 'cinder/tests/api/v2/test_snapshots.py', 'cinder/tests/api/v2/test_volumes.py', 'cinder/api/v1/snapshots.py']",10,a7a3416b89ef690094c0ae24733eac791c7b3898,add_user_project_id, d['user_id'] = snapshot['user_id'] elem.set('user_id'),,40,3
openstack%2Fnova~master~I0d15420c7d8f0a88868e5da1157c8a1a628fe350,openstack/nova,master,I0d15420c7d8f0a88868e5da1157c8a1a628fe350,Removed copyright from empty files,ABANDONED,2014-04-17 05:30:34.000000000,2014-04-18 06:45:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-17 05:30:34.000000000', 'files': ['nova/cloudpipe/__init__.py', 'nova/tests/volume/encryptors/__init__.py', 'nova/virt/hyperv/__init__.py', 'nova/openstack/common/report/views/json/__init__.py', 'nova/__init__.py', 'nova/tests/integrated/api/__init__.py', 'nova/objectstore/__init__.py', 'nova/conductor/tasks/__init__.py', 'nova/virt/__init__.py', 'nova/tests/conductor/tasks/__init__.py', 'nova/tests/db/__init__.py', 'nova/tests/virt/baremetal/__init__.py', 'nova/openstack/common/report/__init__.py', 'nova/openstack/common/report/models/__init__.py', 'nova/tests/keymgr/__init__.py', 'nova/virt/baremetal/db/sqlalchemy/__init__.py', 'nova/openstack/common/report/views/xml/__init__.py', 'nova/tests/api/ec2/__init__.py', 'nova/tests/objects/__init__.py', 'nova/cert/__init__.py', 'nova/tests/api/openstack/compute/extensions/__init__.py', 'nova/api/metadata/__init__.py', 'nova/tests/virt/hyperv/__init__.py', 'nova/console/__init__.py', 'nova/openstack/common/report/generators/__init__.py', 'nova/virt/disk/vfs/__init__.py', 'nova/tests/scheduler/__init__.py', 'nova/virt/baremetal/db/sqlalchemy/migrate_repo/versions/__init__.py', 'nova/tests/cells/__init__.py', 'nova/virt/xenapi/client/__init__.py', 'nova/tests/consoleauth/__init__.py', 'nova/tests/api/openstack/compute/contrib/__init__.py', 'nova/db/sqlalchemy/migrate_repo/__init__.py', 'nova/tests/virt/vmwareapi/__init__.py', 'nova/virt/disk/__init__.py', 'nova/tests/api/openstack/compute/__init__.py', 'nova/scheduler/__init__.py', 'nova/cells/__init__.py', 'nova/tests/compute/__init__.py', 'nova/openstack/common/report/views/text/__init__.py', 'nova/db/sqlalchemy/migrate_repo/versions/__init__.py', 'nova/tests/network/__init__.py', 'nova/storage/__init__.py', 'nova/openstack/common/report/views/__init__.py', 'nova/tests/glance/__init__.py', 'nova/tests/virt/disk/__init__.py', 'nova/tests/console/__init__.py', 'nova/tests/image/__init__.py', 'nova/virt/baremetal/db/sqlalchemy/migrate_repo/__init__.py', 'nova/tests/api/__init__.py', 'nova/tests/cert/__init__.py', 'nova/tests/virt/baremetal/db/__init__.py', 'nova/tests/integrated/__init__.py', 'nova/tests/api/openstack/__init__.py', 'nova/tests/servicegroup/__init__.py', 'nova/virt/disk/mount/__init__.py', 'nova/tests/volume/__init__.py', 'nova/tests/virt/libvirt/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6abf84090147b327bc338275fb77572310b0f48', 'message': 'Removed copyright from empty files\n\nAccording to policy change in HACKING:\nhttp://docs.openstack.org/developer/hacking/#openstack-licensing\nempty files should no longer contain copyright notices.\n\nChange-Id: I0d15420c7d8f0a88868e5da1157c8a1a628fe350\nCloses-Bug: #1262424\n'}]",0,88141,b6abf84090147b327bc338275fb77572310b0f48,9,6,1,1004,,,0,"Removed copyright from empty files

According to policy change in HACKING:
http://docs.openstack.org/developer/hacking/#openstack-licensing
empty files should no longer contain copyright notices.

Change-Id: I0d15420c7d8f0a88868e5da1157c8a1a628fe350
Closes-Bug: #1262424
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/88141/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cloudpipe/__init__.py', 'nova/tests/volume/encryptors/__init__.py', 'nova/virt/hyperv/__init__.py', 'nova/openstack/common/report/views/json/__init__.py', 'nova/__init__.py', 'nova/tests/integrated/api/__init__.py', 'nova/objectstore/__init__.py', 'nova/conductor/tasks/__init__.py', 'nova/virt/__init__.py', 'nova/tests/conductor/tasks/__init__.py', 'nova/tests/db/__init__.py', 'nova/tests/virt/baremetal/__init__.py', 'nova/openstack/common/report/__init__.py', 'nova/openstack/common/report/models/__init__.py', 'nova/tests/keymgr/__init__.py', 'nova/virt/baremetal/db/sqlalchemy/__init__.py', 'nova/openstack/common/report/views/xml/__init__.py', 'nova/tests/api/ec2/__init__.py', 'nova/tests/objects/__init__.py', 'nova/cert/__init__.py', 'nova/tests/api/openstack/compute/extensions/__init__.py', 'nova/api/metadata/__init__.py', 'nova/tests/virt/hyperv/__init__.py', 'nova/console/__init__.py', 'nova/openstack/common/report/generators/__init__.py', 'nova/virt/disk/vfs/__init__.py', 'nova/tests/scheduler/__init__.py', 'nova/virt/baremetal/db/sqlalchemy/migrate_repo/versions/__init__.py', 'nova/tests/cells/__init__.py', 'nova/virt/xenapi/client/__init__.py', 'nova/tests/consoleauth/__init__.py', 'nova/tests/api/openstack/compute/contrib/__init__.py', 'nova/db/sqlalchemy/migrate_repo/__init__.py', 'nova/tests/virt/vmwareapi/__init__.py', 'nova/virt/disk/__init__.py', 'nova/tests/api/openstack/compute/__init__.py', 'nova/scheduler/__init__.py', 'nova/cells/__init__.py', 'nova/tests/compute/__init__.py', 'nova/openstack/common/report/views/text/__init__.py', 'nova/db/sqlalchemy/migrate_repo/versions/__init__.py', 'nova/tests/network/__init__.py', 'nova/storage/__init__.py', 'nova/openstack/common/report/views/__init__.py', 'nova/tests/glance/__init__.py', 'nova/tests/virt/disk/__init__.py', 'nova/tests/console/__init__.py', 'nova/tests/image/__init__.py', 'nova/virt/baremetal/db/sqlalchemy/migrate_repo/__init__.py', 'nova/tests/api/__init__.py', 'nova/tests/cert/__init__.py', 'nova/tests/virt/baremetal/db/__init__.py', 'nova/tests/integrated/__init__.py', 'nova/tests/api/openstack/__init__.py', 'nova/tests/servicegroup/__init__.py', 'nova/virt/disk/mount/__init__.py', 'nova/tests/volume/__init__.py', 'nova/tests/virt/libvirt/__init__.py']",58,b6abf84090147b327bc338275fb77572310b0f48,bug/1262424,,"# Copyright (c) 2013 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",0,931
openstack%2Fopenstack-manuals~master~Ifa3c6fe63577d5fc109bd1cb3594c26a2e2b04f9,openstack/openstack-manuals,master,Ifa3c6fe63577d5fc109bd1cb3594c26a2e2b04f9,Don't build localized HA Guide,MERGED,2014-04-17 18:44:49.000000000,2014-04-18 06:39:27.000000000,2014-04-18 06:39:27.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 8642}]","[{'number': 1, 'created': '2014-04-17 18:44:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c30ba92a73e97e6551bc79e4af82bccb53a99fc9', 'message': ""Don't build localized HA Guide\n\nWe currently only build the misc-guides-ja target for Japanese and the\nHA Guide does not build at all. Disable it until it gets fixed.\n\nChange-Id: Ifa3c6fe63577d5fc109bd1cb3594c26a2e2b04f9\n""}]",0,88394,c30ba92a73e97e6551bc79e4af82bccb53a99fc9,8,4,1,6547,,,0,"Don't build localized HA Guide

We currently only build the misc-guides-ja target for Japanese and the
HA Guide does not build at all. Disable it until it gets fixed.

Change-Id: Ifa3c6fe63577d5fc109bd1cb3594c26a2e2b04f9
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/94/88394/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c30ba92a73e97e6551bc79e4af82bccb53a99fc9,disable-lang-misc-ha," # NOTE(jaegerandi) as of 2014-04-17 the ha guide does not build for # Japanese, disable it. # openstack-generate-docbook -l {posargs} -b high-availability-guide openstack-doc-test --check-build -l {posargs} --only-book security-guide --nocreate-index", openstack-generate-docbook -l {posargs} -b high-availability-guide openstack-doc-test --check-build -l {posargs} --only-book security-guide --only-book high-availability-guide --nocreate-index,4,2
openstack%2Fnova~milestone-proposed~Ib1f387a41abe2b52357854e90c2535ebb7b43f18,openstack/nova,milestone-proposed,Ib1f387a41abe2b52357854e90c2535ebb7b43f18,VMWare: add power off vm before detach disk during unrescue,ABANDONED,2014-04-12 15:59:38.000000000,2014-04-18 06:22:31.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5170}, {'_account_id': 8962}]","[{'number': 1, 'created': '2014-04-12 15:59:38.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b3cfd00f30f5f9cc80a806898dbcc2fb581706c', 'message': 'VMWare: add power off vm before detach disk during unrescue\n\nNon Hot Plug type disk like IDE can only be detached when the VM is power off.\n\nChange-Id: Ib1f387a41abe2b52357854e90c2535ebb7b43f18\nClose-bug: #1279199\n(cherry picked from commit 1e1915aaaca38b5691794e0e052a42b9d95dd3c2)\n'}]",0,87088,7b3cfd00f30f5f9cc80a806898dbcc2fb581706c,6,4,1,1653,,,0,"VMWare: add power off vm before detach disk during unrescue

Non Hot Plug type disk like IDE can only be detached when the VM is power off.

Change-Id: Ib1f387a41abe2b52357854e90c2535ebb7b43f18
Close-bug: #1279199
(cherry picked from commit 1e1915aaaca38b5691794e0e052a42b9d95dd3c2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/87088/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",2,7b3cfd00f30f5f9cc80a806898dbcc2fb581706c,1279199," self.test_vm_ref = None self.test_device_name = None def fake_power_off_vm_ref(vm_ref): self.test_vm_ref = vm_ref self.assertIsNotNone(vm_ref) def fake_detach_disk_from_vm(vm_ref, instance, device_name, destroy_disk=False): self.test_device_name = device_name info = self.conn.get_info(instance) self._check_vm_info(info, power_state.SHUTDOWN) with contextlib.nested( mock.patch.object(self.conn._vmops, ""_power_off_vm_ref"", side_effect=fake_power_off_vm_ref), mock.patch.object(self.conn._volumeops, ""detach_disk_from_vm"", side_effect=fake_detach_disk_from_vm), ) as (poweroff, detach): self.conn.unrescue(self.instance, None) poweroff.assert_called_once_with(self.test_vm_ref) detach.assert_called_once_with(self.test_vm_ref, mock.ANY, self.test_device_name) self.test_vm_ref = None self.test_device_name = None"," def fake_detach_disk_from_vm(*args, **kwargs): pass self.stubs.Set(self.conn._volumeops, ""detach_disk_from_vm"", fake_detach_disk_from_vm) self.conn.unrescue(self.instance, None)",38,10
openstack%2Fcinder~master~Idcefba808d6d5817d5a855cdb84815f38f1999d4,openstack/cinder,master,Idcefba808d6d5817d5a855cdb84815f38f1999d4,Milestone considerations for new driver code,ABANDONED,2014-02-15 00:16:01.000000000,2014-04-18 06:12:06.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 5997}, {'_account_id': 7689}]","[{'number': 1, 'created': '2014-02-15 00:16:01.000000000', 'files': ['doc/source/devref/drivers.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/08560471b7aa3e08308de688b911ed15d9bc6ad9', 'message': 'Milestone considerations for new driver code\n\nProposing a reasonable guide for expectations on driver submissions for\nboth reviewers and driver maintainers.\n\nChange-Id: Idcefba808d6d5817d5a855cdb84815f38f1999d4\n'}]",3,73745,08560471b7aa3e08308de688b911ed15d9bc6ad9,17,7,1,170,,,0,"Milestone considerations for new driver code

Proposing a reasonable guide for expectations on driver submissions for
both reviewers and driver maintainers.

Change-Id: Idcefba808d6d5817d5a855cdb84815f38f1999d4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/73745/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/drivers.rst'],1,08560471b7aa3e08308de688b911ed15d9bc6ad9,driver-submission-doc,"Contributing A New Driver ------------------------- Please submit your [blue print](https://blueprints.launchpad.net/cinder/+addspec) by milestone 1. Exceptions for new driver blue prints may be accepted for milestone 2. Your code should be submitted and ready for review no later than milestone 2. If you submit new driver code late in milestone 2, it might be delayed to milestone 3 or might not make the release due to gate congestion and priorities of other reviews. In other words, don't wait last minute to ensure your driver makes the release. There will be **no** exceptions made for driver blue prints or code submitted in milestone 3. Drivers submitted in milestone 3 will be delayed to the next release. ",,14,0
openstack%2Fopenstack-manuals~master~I6f5d9fd40355c3a45b93cec2946257d505aef73f,openstack/openstack-manuals,master,I6f5d9fd40355c3a45b93cec2946257d505aef73f,Fix the cinder backup drivers path,MERGED,2014-04-17 19:15:27.000000000,2014-04-18 06:06:51.000000000,2014-04-18 05:51:39.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 10262}]","[{'number': 1, 'created': '2014-04-17 19:15:27.000000000', 'files': ['doc/config-reference/block-storage/backup/ceph-backup-driver.xml', 'doc/config-reference/block-storage/backup/swift-backup-driver.xml', 'doc/config-reference/block-storage/backup/tsm-backup-driver.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/874a358eb959a1a47668c01da5cf903bcfce46cf', 'message': 'Fix the cinder backup drivers path\n\nCorrect the values of backup_driver in the config reference.\n\nAlso add some spaces to make samples more easily readable.\n\nChange-Id: I6f5d9fd40355c3a45b93cec2946257d505aef73f\nPartial-Bug: #1309137\n'}]",0,88408,874a358eb959a1a47668c01da5cf903bcfce46cf,8,4,1,7923,,,0,"Fix the cinder backup drivers path

Correct the values of backup_driver in the config reference.

Also add some spaces to make samples more easily readable.

Change-Id: I6f5d9fd40355c3a45b93cec2946257d505aef73f
Partial-Bug: #1309137
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/08/88408/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/block-storage/backup/ceph-backup-driver.xml', 'doc/config-reference/block-storage/backup/swift-backup-driver.xml', 'doc/config-reference/block-storage/backup/tsm-backup-driver.xml']",3,874a358eb959a1a47668c01da5cf903bcfce46cf,bug/1309137/backup-drivers, <programlisting>backup_driver = cinder.backup.drivers.tsm</programlisting>, <programlisting>backup_driver=cinder.backup.driver.tsm</programlisting>,17,17
openstack%2Fneutron~master~I595c90e42129a2d365f3860e3042e826bd031365,openstack/neutron,master,I595c90e42129a2d365f3860e3042e826bd031365,netaddr<=0.7.10 raises ValueError instead of AddrFormatError,MERGED,2014-04-16 18:37:48.000000000,2014-04-18 06:05:16.000000000,2014-04-18 06:05:15.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}]","[{'number': 2, 'created': '2014-04-16 18:37:48.000000000', 'files': ['neutron/extensions/securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd2ccd12adfb6c7d4aa500ba4120f767beeed35c', 'message': 'netaddr<=0.7.10 raises ValueError instead of AddrFormatError\n\nThis patch ensures that ValueError is also caught in addition to\nAddrFormatError as in netaddr>=0.7.11 AddrFormatError is raised and\nin netaddr<=0.7.10 ValueError is raised.\n\nChange-Id: I595c90e42129a2d365f3860e3042e826bd031365\nCloses-bug: #1308675\n'}, {'number': 1, 'created': '2014-04-16 18:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cf8af119ee80decff3d67a929b19ada1d4890d8', 'message': 'netaddr<=0.7.10 raises ValueError instead of AddrFormatError\n\nThis patch ensures that ValueError is also caught in addition to\nAddrFormatError as in netaddr>=0.7.11 AddrFormatError is raised and\nin netaddr<=0.7.10 ValueError is raised.\n\nChange-Id: I595c90e42129a2d365f3860e3042e826bd031365\nCloses-bug: #1308675\n'}]",0,88052,dd2ccd12adfb6c7d4aa500ba4120f767beeed35c,56,14,2,4395,,,0,"netaddr<=0.7.10 raises ValueError instead of AddrFormatError

This patch ensures that ValueError is also caught in addition to
AddrFormatError as in netaddr>=0.7.11 AddrFormatError is raised and
in netaddr<=0.7.10 ValueError is raised.

Change-Id: I595c90e42129a2d365f3860e3042e826bd031365
Closes-bug: #1308675
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/88052/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/securitygroup.py'],1,dd2ccd12adfb6c7d4aa500ba4120f767beeed35c,master," except (ValueError, TypeError, netaddr.AddrFormatError):"," except (TypeError, netaddr.AddrFormatError):",1,1
openstack%2Fcinder~master~If18851e0b9f5c242f84b1eab928b42d809335d80,openstack/cinder,master,If18851e0b9f5c242f84b1eab928b42d809335d80,Re-raise exceptions in upload-to-image,MERGED,2014-04-16 19:08:16.000000000,2014-04-18 06:05:07.000000000,2014-04-18 06:05:06.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 9236}, {'_account_id': 10973}]","[{'number': 1, 'created': '2014-04-16 19:08:16.000000000', 'files': ['cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6673a1d6b33ca72062d35450f97de43bf550b705', 'message': ""Re-raise exceptions in upload-to-image\n\nThis patch catches any exceptions returned from Glance during an\nupload-to-image operation and re-raises them so that the user can see\nthe failure message and make the appropriate adjustments.  More\nspecifically, this addresses an invalid container format.\n\nFor example, the following command:\n\n    $ cinder upload-to-image --container-format foobar ...\n\nGoes from:\n\n    ERROR: The server could not comply with the request since it is\n           either malformed or otherwise incorrect. (HTTP 400)\n           (Request-ID: req-f19bad2f-c39d-40a2-a3cc-6db9b9fe64cd)\n\nTo:\n\n    ERROR: 400 Bad Request\n    Invalid container format 'foobar' for image.\n        (HTTP 400) (HTTP 400)\n        (Request-ID: req-47cb2772-78c4-48b7-87ce-fb124ecfa989)\n\nCloses-Bug: #1308689\nChange-Id: If18851e0b9f5c242f84b1eab928b42d809335d80\n""}]",0,88063,6673a1d6b33ca72062d35450f97de43bf550b705,14,6,1,9236,,,0,"Re-raise exceptions in upload-to-image

This patch catches any exceptions returned from Glance during an
upload-to-image operation and re-raises them so that the user can see
the failure message and make the appropriate adjustments.  More
specifically, this addresses an invalid container format.

For example, the following command:

    $ cinder upload-to-image --container-format foobar ...

Goes from:

    ERROR: The server could not comply with the request since it is
           either malformed or otherwise incorrect. (HTTP 400)
           (Request-ID: req-f19bad2f-c39d-40a2-a3cc-6db9b9fe64cd)

To:

    ERROR: 400 Bad Request
    Invalid container format 'foobar' for image.
        (HTTP 400) (HTTP 400)
        (Request-ID: req-47cb2772-78c4-48b7-87ce-fb124ecfa989)

Closes-Bug: #1308689
Change-Id: If18851e0b9f5c242f84b1eab928b42d809335d80
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/88063/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/volume_actions.py'],1,6673a1d6b33ca72062d35450f97de43bf550b705,bug/1308689, except Exception as error: raise webob.exc.HTTPBadRequest(explanation=unicode(error)),,2,0
openstack%2Fneutron~master~Iccb7a92637e25a65de80914a6025ef28141aa137,openstack/neutron,master,Iccb7a92637e25a65de80914a6025ef28141aa137,LBaaS: implements LVS driver,ABANDONED,2014-01-17 09:37:55.000000000,2014-04-18 06:03:34.000000000,,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 4149}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 9200}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-01-17 09:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8d8cc75955160ce7264b227466bbb9b2bc6358d', 'message': 'LBaaS: implements LVS driver (WORKINPROGRESS)\n\nThis inclules bp lbaas-support-routed-service-insertion, which will be\nseparated before merge.\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 2, 'created': '2014-01-30 08:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33d605cfc524e4d1b7e78297544f7418e288edc2', 'message': 'LBaaS: implements LVS driver (WORKINPROGRESS)\n\nThis inclules bp lbaas-support-routed-service-insertion, which will be\nseparated before merge.\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 3, 'created': '2014-02-05 02:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/055f684c35ff7dbed57ce5ec02ee4036524ee9cf', 'message': 'LBaaS: implements LVS driver (WORKINPROGRESS)\n\nThis inclules bp lbaas-support-routed-service-insertion, which will be\nseparated before merge.\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 4, 'created': '2014-02-10 08:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52c18750314aa05ef46923c540c50652fb215627', 'message': 'LBaaS: implements LVS driver (WORKINPROGRESS)\n\nThis inclules bp lbaas-support-routed-service-insertion, which will be\nseparated before merge.\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 5, 'created': '2014-02-17 06:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7e777a11034e4fe83f08879791723b5c011df49', 'message': 'LBaaS: implements LVS driver\n\nThis commits adds an LVS loadbalancer driver using keepalived.\nAn LVS loadbalancer can be configured on a configured L3 router.  Pools\nand vips should be on the networks that are connected to the router.\n\nThis inclules bp lbaas-support-routed-service-insertion, which will be\nseparated before merge.\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 6, 'created': '2014-02-17 07:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f905aa99c192a89ad4e5020a62fef9959e291bb1', 'message': 'LBaaS: implements LVS driver\n\nThis commits adds an LVS loadbalancer driver using keepalived.\nAn LVS loadbalancer can be configured on a configured L3 router.  Pools\nand vips should be on the networks that are connected to the router.\n\nThis inclules bp lbaas-support-routed-service-insertion, which will be\nseparated before merge.\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 7, 'created': '2014-02-24 06:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fe460e3bc4fca6c19fe6cb48bca02e891d79f9e', 'message': 'LBaaS: implements LVS driver\n\nThis commits adds an LVS loadbalancer driver using keepalived.\nAn LVS loadbalancer can be configured on a configured L3 router.  Pools\nand vips should be on the networks that are connected to the router.\n\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 8, 'created': '2014-02-28 06:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c999e3f283dbd4c45f51efda26fc597755a0372', 'message': 'LBaaS: implements LVS driver\n\nThis commits adds an LVS loadbalancer driver using keepalived.\nAn LVS loadbalancer can be configured on a configured L3 router.  Pools\nand vips should be on the networks that are connected to the router.\n\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}, {'number': 9, 'created': '2014-04-10 05:22:27.000000000', 'files': ['neutron/services/loadbalancer/drivers/lvs/__init__.py', 'neutron/tests/unit/services/loadbalancer/drivers/lvs/test_agent.py', 'neutron/services/loadbalancer/agent/agent_api.py', 'neutron/db/l3_db.py', 'neutron/services/loadbalancer/agent/lbaas_l3_agent.py', 'etc/neutron/rootwrap.d/lbaas-l3.filters', 'neutron/services/loadbalancer/drivers/lvs/plugin_driver.py', 'neutron/tests/unit/services/loadbalancer/drivers/lvs/test_plugin.py', 'neutron/services/loadbalancer/plugin.py', 'bin/neutron-lb-member-status-update', 'neutron/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron/services/loadbalancer/drivers/lvs/agent.py', 'neutron/tests/unit/services/loadbalancer/drivers/lvs/__init__.py', 'neutron/common/topics.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/36576c47b8c96563df451a3b583d4c3d4dffff77', 'message': 'LBaaS: implements LVS driver\n\nThis commit adds an LVS loadbalancer driver using keepalived.\nAn LVS loadbalancer can be configured on a configured L3 router.  Pools\nand vips should be on the networks that are connected to the router.\n\nImplements bp/lbaas-lvs-driver\n\nChange-Id: Iccb7a92637e25a65de80914a6025ef28141aa137\n'}]",7,67405,36576c47b8c96563df451a3b583d4c3d4dffff77,114,20,9,9200,,,0,"LBaaS: implements LVS driver

This commit adds an LVS loadbalancer driver using keepalived.
An LVS loadbalancer can be configured on a configured L3 router.  Pools
and vips should be on the networks that are connected to the router.

Implements bp/lbaas-lvs-driver

Change-Id: Iccb7a92637e25a65de80914a6025ef28141aa137
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/67405/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/loadbalancer/drivers/lvs/__init__.py', 'neutron/agent/l3_agent.py', 'neutron/services/loadbalancer/drivers/lvs/plugin_driver.py', 'neutron/services/loadbalancer/plugin.py', 'bin/neutron-lb-member-status-update', 'neutron/extensions/loadbalancer.py', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/services/loadbalancer/drivers/agent_based_driver/plugin_driver.py', 'neutron/services/loadbalancer/drivers/abstract_driver.py', 'neutron/services/loadbalancer/drivers/agent_based_driver/agent_api.py', 'neutron/services/loadbalancer/drivers/lvs/agent.py', 'neutron/common/topics.py', 'setup.cfg', 'neutron/services/loadbalancer/drivers/haproxy/plugin_driver.py', 'neutron/tests/unit/db/loadbalancer/test_db_loadbalancer.py']",15,a8d8cc75955160ce7264b227466bbb9b2bc6358d,bp/lbaas-lvs-driver," def validate_pool(self, context, router_id, pool=None, pool_id=None, vip=None): pass ",,635,2
openstack%2Fnova~milestone-proposed~Ic1aacab212c2a2026d18ef57ad9d77fdc6d86b47,openstack/nova,milestone-proposed,Ic1aacab212c2a2026d18ef57ad9d77fdc6d86b47,"Fix bug detach volume fails with ""KeyError"" in EC2",ABANDONED,2014-04-10 02:34:25.000000000,2014-04-18 06:03:33.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5170}]","[{'number': 1, 'created': '2014-04-10 02:34:25.000000000', 'files': ['nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3ec28fab9b43c2e000c2f8cbe62eb00a9c17328', 'message': 'Fix bug detach volume fails with ""KeyError"" in EC2\n\nModified volume[\'instance_uuid\'] to volume.get(\'instance_uuid\'),\nto avoid ""KeyError"", when detach a volume with ""attaching"" status.\n\nChange-Id: Ic1aacab212c2a2026d18ef57ad9d77fdc6d86b47\nCloses-Bug: #1280532\n(cherry picked from commit fa72e49845179e29cf918e0742ef735ae868bb4c)\n'}]",0,86492,f3ec28fab9b43c2e000c2f8cbe62eb00a9c17328,7,3,1,8276,,,0,"Fix bug detach volume fails with ""KeyError"" in EC2

Modified volume['instance_uuid'] to volume.get('instance_uuid'),
to avoid ""KeyError"", when detach a volume with ""attaching"" status.

Change-Id: Ic1aacab212c2a2026d18ef57ad9d77fdc6d86b47
Closes-Bug: #1280532
(cherry picked from commit fa72e49845179e29cf918e0742ef735ae868bb4c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/86492/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py']",2,f3ec28fab9b43c2e000c2f8cbe62eb00a9c17328,, if volume.get('instance_uuid'):, if volume['instance_uuid']:,21,1
openstack%2Fneutron~master~I912ffeb60a50cb009f3aa5d8598a1184267c32da,openstack/neutron,master,I912ffeb60a50cb009f3aa5d8598a1184267c32da,(WIP) BigSwitch: hybrid routing model for plugin,ABANDONED,2014-03-25 17:14:13.000000000,2014-04-18 06:03:32.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-03-25 17:14:13.000000000', 'files': ['neutron/plugins/bigswitch/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27e37a7375e814bb46d1d91db3723799d4dad3f2', 'message': '(WIP) BigSwitch: hybrid routing model for plugin\n\nFabric does some things, agents do other things.\nStay tuned for more.\n\nChange-Id: I912ffeb60a50cb009f3aa5d8598a1184267c32da\n'}]",0,82873,27e37a7375e814bb46d1d91db3723799d4dad3f2,34,10,1,7787,,,0,"(WIP) BigSwitch: hybrid routing model for plugin

Fabric does some things, agents do other things.
Stay tuned for more.

Change-Id: I912ffeb60a50cb009f3aa5d8598a1184267c32da
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/82873/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/bigswitch/plugin.py'],1,27e37a7375e814bb46d1d91db3723799d4dad3f2,bp/bsn-hybrid-routing,"from neutron.api.rpc.agentnotifiers import l3_rpc_agent_apifrom neutron.db import l3_rpc_basefrom neutron.plugins.common import constants as pconstclass L3RpcCallback(l3_rpc_base.L3RpcCallbackMixin): RPC_API_VERSION = '1.0' agents_db.AgentExtRpcCallback(), L3RpcCallback()]) ""l3_agent_scheduler"", ""ext-gw-mode"", self.service_topics = {pconst.CORE: topics.PLUGIN, pconst.L3_ROUTER_NAT: topics.L3PLUGIN} # add notifier for L3 agent self.l3_rpc_notifier = l3_rpc_agent_api.L3AgentNotifyAPI() self.agent_notifiers[const.AGENT_TYPE_L3] = ( self.l3_rpc_notifier ) for topic in self.service_topics.values(): self.conn.create_consumer(topic, self.dispatcher, fanout=False) # L3 agent is required if backend doesn't support floating IP # or SNAT offloading. if any(cap not in self.servers.get_capabilities() for cap in ['floatingip-offload', 'snat-offload']): raise Exception('not implemented') "," agents_db.AgentExtRpcCallback()]) self.conn.create_consumer(self.topic, self.dispatcher, fanout=False)",24,3
openstack%2Fpython-glanceclient~master~I9a9ece1e193c412f1deeb937b362515f5c7661ef,openstack/python-glanceclient,master,I9a9ece1e193c412f1deeb937b362515f5c7661ef,Remove dependent module py3kcompat,ABANDONED,2014-02-14 09:30:34.000000000,2014-04-18 06:03:32.000000000,,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 9560}]","[{'number': 1, 'created': '2014-02-14 09:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/57feb83759d8e0a7ff8d011633ae0a72c210700e', 'message': 'Remove dependent module py3kcompat\n\nModule py3kcompat was removed from oslo-incubator, we can use\nsix directly.\n\n* Sync commit of removing py3kcompat from oslo\n* use six replace usage of py3kcompat\n\nChange-Id: I9a9ece1e193c412f1deeb937b362515f5c7661ef\nCloses-Bug: #1280033\n'}, {'number': 2, 'created': '2014-02-17 07:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/c61d1f918e31c7fb3b51a124fec54a2e2d258cab', 'message': 'Remove dependent module py3kcompat\n\nModule py3kcompat was removed from oslo-incubator, we can use\nsix directly.\n\n* Sync commit of removing py3kcompat from oslo\n* use six replace usage of py3kcompat\n\nChange-Id: I9a9ece1e193c412f1deeb937b362515f5c7661ef\nCloses-Bug: #1280033\n'}, {'number': 3, 'created': '2014-03-26 04:03:32.000000000', 'files': ['openstack-common.conf', 'glanceclient/openstack/common/py3kcompat/__init__.py', 'glanceclient/openstack/common/apiclient/base.py', 'glanceclient/openstack/common/py3kcompat/urlutils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1012d9529c600b0c12d4f6605a1e58f2727f7697', 'message': 'Remove dependent module py3kcompat\n\nModule py3kcompat was removed from oslo-incubator, we can use\nsix directly. See https://review.openstack.org/#/c/71591/.\n\n* Sync commit of removing py3kcompat from oslo\n* use six replace usage of py3kcompat\n\nChange-Id: I9a9ece1e193c412f1deeb937b362515f5c7661ef\nCloses-Bug: #1280033\n'}]",1,73552,1012d9529c600b0c12d4f6605a1e58f2727f7697,53,6,3,9560,,,0,"Remove dependent module py3kcompat

Module py3kcompat was removed from oslo-incubator, we can use
six directly. See https://review.openstack.org/#/c/71591/.

* Sync commit of removing py3kcompat from oslo
* use six replace usage of py3kcompat

Change-Id: I9a9ece1e193c412f1deeb937b362515f5c7661ef
Closes-Bug: #1280033
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/52/73552/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack-common.conf', 'glanceclient/openstack/common/py3kcompat/__init__.py', 'glanceclient/openstack/common/apiclient/base.py', 'glanceclient/openstack/common/apiclient/fake_client.py', 'glanceclient/openstack/common/py3kcompat/urlutils.py']",5,57feb83759d8e0a7ff8d011633ae0a72c210700e,bug/1280033,,"# # Copyright 2013 Canonical Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """""" Python2/Python3 compatibility layer for OpenStack """""" import six if six.PY3: # python3 import urllib.error import urllib.parse import urllib.request urlencode = urllib.parse.urlencode urljoin = urllib.parse.urljoin quote = urllib.parse.quote parse_qsl = urllib.parse.parse_qsl unquote = urllib.parse.unquote unquote_plus = urllib.parse.unquote_plus urlparse = urllib.parse.urlparse urlsplit = urllib.parse.urlsplit urlunsplit = urllib.parse.urlunsplit SplitResult = urllib.parse.SplitResult urlopen = urllib.request.urlopen URLError = urllib.error.URLError pathname2url = urllib.request.pathname2url else: # python2 import urllib import urllib2 import urlparse urlencode = urllib.urlencode quote = urllib.quote unquote = urllib.unquote unquote_plus = urllib.unquote_plus parse = urlparse parse_qsl = parse.parse_qsl urljoin = parse.urljoin urlparse = parse.urlparse urlsplit = parse.urlsplit urlunsplit = parse.urlunsplit SplitResult = parse.SplitResult urlopen = urllib2.urlopen URLError = urllib2.URLError pathname2url = urllib.pathname2url ",5,87
openstack%2Fhorizon~master~I940338b8822dadbe28b090e9bf3631d92817e367,openstack/horizon,master,I940338b8822dadbe28b090e9bf3631d92817e367,Handle file locking timeouts when generating a secret key,ABANDONED,2014-03-11 21:31:11.000000000,2014-04-18 06:03:31.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 10521}, {'_account_id': 10605}]","[{'number': 1, 'created': '2014-03-11 21:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6b4c19c7072c9820391c741ec8371c665bae4932', 'message': 'Handle file locking timeouts when generating a secret key\n\nChange-Id: I940338b8822dadbe28b090e9bf3631d92817e367\n'}, {'number': 2, 'created': '2014-03-12 18:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/67ebaf6c03b6c2b379d34edbbe623c214cd27ac1', 'message': 'Handle file locking timeouts when generating a secret key\n\n  - Add a try/except clause to handle a possible timeout for locking the file\n  - Finally unblock the file and generate key\n\nChange-Id: I940338b8822dadbe28b090e9bf3631d92817e367\nCloses-Bug: #1291041\n'}, {'number': 3, 'created': '2014-04-04 14:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6ff23bac8da72732fc62c3627f1198cd4714a051', 'message': 'Handle file locking timeouts when generating a secret key\n\n  - Add a try/except clause to handle a possible timeout for locking the file\n  - Finally unblock the file and generate key\n\nChange-Id: I940338b8822dadbe28b090e9bf3631d92817e367\nCloses-Bug: #1291041\n'}, {'number': 4, 'created': '2014-04-04 15:11:00.000000000', 'files': ['horizon/utils/secret_key.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cf2c888a2c34c31a52feec5f702480571a93b181', 'message': 'Handle file locking timeouts when generating a secret key\n\n  - Add a try/except clause to handle a possible timeout for locking the file\n  - Finally unblock the file and generate key\n\nChange-Id: I940338b8822dadbe28b090e9bf3631d92817e367\nCloses-Bug: #1291041\n'}]",5,79777,cf2c888a2c34c31a52feec5f702480571a93b181,40,4,4,10605,,,0,"Handle file locking timeouts when generating a secret key

  - Add a try/except clause to handle a possible timeout for locking the file
  - Finally unblock the file and generate key

Change-Id: I940338b8822dadbe28b090e9bf3631d92817e367
Closes-Bug: #1291041
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/79777/3 && git format-patch -1 --stdout FETCH_HEAD,['horizon/utils/secret_key.py'],1,6b4c19c7072c9820391c741ec8371c665bae4932,bug/1291041," environment). Also check if file permissions are set correctly and If the locking mechanism throws a Timeout error, then read/update the file without locking it. Else it will hang indefinitely. while not lock.i_am_locking(): try: lock.acquire(timeout=30) except lockfile.LockTimeout: pass finally: key = _generate_or_read_from_file(key_file, key_length) lock.break_lock() def _generate_or_read_from_file(key_file, key_length): if not os.path.exists(key_file): key = generate_key(key_length) old_umask = os.umask(0o177) # Use '0600' file permissions with open(key_file, 'w') as key_file_data: key_file_data.write(key) os.umask(old_umask) else: if oct(os.stat(key_file).st_mode & 0o777) != '0600': raise FilePermissionError(""Insecure key file permissions!"") with open(key_file, 'r') as key_file_data: key = key_file_data.readline() return key"," environment). Also checks if file permissions are set correctly and with lock: if not os.path.exists(key_file): key = generate_key(key_length) old_umask = os.umask(0o177) # Use '0600' file permissions with open(key_file, 'w') as f: f.write(key) os.umask(old_umask) else: if oct(os.stat(key_file).st_mode & 0o777) != '0600': raise FilePermissionError(""Insecure key file permissions!"") with open(key_file, 'r') as f: key = f.readline()",27,13
openstack%2Fnova~master~Ib51e68041ea273c0b2012617048663372dd9d911,openstack/nova,master,Ib51e68041ea273c0b2012617048663372dd9d911,Add dynamic logging support,ABANDONED,2014-03-24 10:05:11.000000000,2014-04-18 06:03:28.000000000,,"[{'_account_id': 3}, {'_account_id': 688}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9975}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-24 10:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39389ae0e0e5890a04e0c3489c9bb3d40b1d2f60', 'message': 'Add dynamic logging support.\n\nImplements: blueprint dynamic logging\nChange-Id: Ib51e68041ea273c0b2012617048663372dd9d911\n'}, {'number': 3, 'created': '2014-03-24 13:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0fb5a57e628f0d4f5b7dd420b6d07d0981fdc59', 'message': 'Add dynamic logging support\n\nThis patch is to allow admin changing logging level for nova service on-the-fly.\n\nImplements: blueprint dynamic-logging\nChange-Id: Ib51e68041ea273c0b2012617048663372dd9d911\n'}, {'number': 2, 'created': '2014-03-24 13:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b06eeee1be2b66261a8d9c19166f9f34a0b67ad', 'message': 'Add dynamic logging support\n\nThis patch is to allow admin changing logging level for nova service on-the-fly.\n\nImplements: blueprint dynamic-logging\nChange-Id: Ib51e68041ea273c0b2012617048663372dd9d911\n'}, {'number': 4, 'created': '2014-04-10 08:29:23.000000000', 'files': ['nova/tests/test_baserpc.py', 'nova/cmd/manage.py', 'nova/baserpc.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de6b4d7ef59314bd2352f52a3b5745609ad2fe35', 'message': 'Add dynamic logging support\n\nThis patch is to allow admin changing logging\nlevel for nova service on-the-fly.\n\nImplements: blueprint dynamic-logging\nChange-Id: Ib51e68041ea273c0b2012617048663372dd9d911\n'}]",9,82460,de6b4d7ef59314bd2352f52a3b5745609ad2fe35,44,10,4,9975,,,0,"Add dynamic logging support

This patch is to allow admin changing logging
level for nova service on-the-fly.

Implements: blueprint dynamic-logging
Change-Id: Ib51e68041ea273c0b2012617048663372dd9d911
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/82460/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/manage.py', 'nova/baserpc.py']",2,39389ae0e0e5890a04e0c3489c9bb3d40b1d2f60,bp/dynamic-logging,"from nova.openstack.common import log as logging def set_log_level(self, context, log_level): cctxt = self.client.prepare(fanout=True) return cctxt.cast(context, 'set_log_level', log_level=log_level) def set_log_level(self, context, log_level): LOG = logging.getLogger(None) handlers = LOG.handlers for item in handlers: item.setLevel(int(log_level)) return ",,40,4
openstack%2Fnova~master~Id770b3b17f0aadc6071293d017ea19f4e3b62ee0,openstack/nova,master,Id770b3b17f0aadc6071293d017ea19f4e3b62ee0,Include ephemeral disk in mapping for rescued instances,ABANDONED,2014-02-12 15:03:13.000000000,2014-04-18 06:03:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 1779}, {'_account_id': 1882}, {'_account_id': 5170}, {'_account_id': 6896}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-02-12 15:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60d34b0788a5267a11a9461f5836fefdd2eb6c89', 'message': 'Include ephemeral disk in mapping for rescued instances\n\nCurrently the rescue operation maps the ""old"" root disk\nto /dev/vdb and leaves the ephemeral disk (which was on vdb)\nunmapped.\n\nThis change maps the ephemeral (if it exists) to /dev/vdc so\nin the case where the root disk cannot be recvered data from\nthe ephemeral can still be retrieved.\n\nChange-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0\nCloses-Bug: #1223396\n'}, {'number': 2, 'created': '2014-02-14 13:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a2819c8eb66e617ee466528593d5b10bc052ecd', 'message': 'Include ephemeral disk in mapping for rescued instances\n\nCurrently the rescue operation maps the ""old"" root disk\nto /dev/vdb and leaves the ephemeral disk (which was on vdb)\nunmapped.\n\nThis change maps the ephemeral (if it exists) to /dev/vdc so\nin the case where the root disk cannot be recvered data from\nthe ephemeral can still be retrieved.\n\nChange-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0\nCloses-Bug: #1223396\n'}, {'number': 3, 'created': '2014-03-19 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5fa984eb241d0fe3d088b9cef5b2560ff472011', 'message': 'Include ephemeral disk in mapping for rescued instances (WORKINPROGRESS)\n\nCurrently the rescue operation maps the ""old"" root disk\nto /dev/vdb and leaves the ephemeral disk (which was on vdb)\nunmapped.\n\nThis change maps the ephemeral (if it exists) to /dev/vdc so\nin the case where the root disk cannot be recvered data from\nthe ephemeral can still be retrieved.\n\nChange-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0\nCloses-Bug: #1223396\n'}, {'number': 4, 'created': '2014-04-08 14:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89c6bd753162365c8f5b5a5f43bda146bdfce71e', 'message': 'Include ephemeral disk in mapping for rescued instances (WORKINPROGRESS)\n\nCurrently the rescue operation maps the ""old"" root disk\nto /dev/vdb and leaves the ephemeral disk (which was on vdb)\nunmapped.\n\nThis change maps the ephemeral (if it exists) to /dev/vdc so\nin the case where the root disk cannot be recvered data from\nthe ephemeral can still be retrieved.\n\nChange-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0\nCloses-Bug: #1223396\n'}, {'number': 5, 'created': '2014-04-08 15:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c71f66455560d42014989655007f298a1e9d15eb', 'message': 'Include ephemeral disk in mapping for rescued instances\n\nCurrently the rescue operation maps the ""old"" root disk\nto /dev/vdb and leaves the ephemeral disk (which was on vdb)\nunmapped.\n\nThis change maps the ephemeral (if it exists) to /dev/vdc so\nin the case where the root disk cannot be recvered data from\nthe ephemeral can still be retrieved.\n\nChange-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0\nCloses-Bug: #1223396\n'}, {'number': 6, 'created': '2014-04-09 15:20:15.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_libvirt_blockinfo.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35624e533527878276814a9e949439cf67d67ae6', 'message': 'Include ephemeral disk in mapping for rescued instances\n\nCurrently the rescue operation maps the ""old"" root disk\nto /dev/vdb and leaves the ephemeral disk (which was on vdb)\nunmapped.\n\nThis change maps the ephemeral (if it exists) to /dev/vdc so\nin the case where the root disk cannot be recvered data from\nthe ephemeral can still be retrieved.\n\nChange-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0\nCloses-Bug: #1223396\n'}]",7,72961,35624e533527878276814a9e949439cf67d67ae6,90,8,6,1882,,,0,"Include ephemeral disk in mapping for rescued instances

Currently the rescue operation maps the ""old"" root disk
to /dev/vdb and leaves the ephemeral disk (which was on vdb)
unmapped.

This change maps the ephemeral (if it exists) to /dev/vdc so
in the case where the root disk cannot be recvered data from
the ephemeral can still be retrieved.

Change-Id: Id770b3b17f0aadc6071293d017ea19f4e3b62ee0
Closes-Bug: #1223396
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/72961/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_libvirt_blockinfo.py']",4,60d34b0788a5267a11a9461f5836fefdd2eb6c89,bug/1223396," 'disk.local': {'bus': 'virtio', 'dev': 'vdc', 'type': 'disk'}",,17,1
openstack%2Fneutron~master~I5a6775588e4d391c1d5e0e53296289e177865b5f,openstack/neutron,master,I5a6775588e4d391c1d5e0e53296289e177865b5f,l3-agent-consolidation: framework for consolidating l3 agents,ABANDONED,2013-11-21 09:10:52.000000000,2014-04-18 06:03:26.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 2592}, {'_account_id': 4149}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6659}, {'_account_id': 7016}, {'_account_id': 7141}, {'_account_id': 7448}, {'_account_id': 7987}, {'_account_id': 9008}, {'_account_id': 9200}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2013-11-21 09:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df82da4de9ee2b2d13f4147aaeddd3eca386f902', 'message': 'l3-agent-consolidation(WIP): framework for consolidate l3 agents\n\nThis patch is for review. not for merge yet.\nThis phase is for checking its direction.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nTODO:\n- convert VPN agent and check the interface of driver base class\n- unit tests\n- pydoc\n- convert other service agents as independent patches\n  (firewall, l3_router, loadbalancer and metering. what order?)\n\nFurther step(this is out of scope of this BP):\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 2, 'created': '2013-11-29 08:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ea99d3281c11c442c6db81595ee77fbc7922e90', 'message': 'l3-agent-consolidation(WIP): framework for consolidating l3 agents\n\nThis patch is for review. not for merge yet.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nTODO:\n- unit tests\n- convert other service agents as independent patches\n  (firewall, l3_router, loadbalancer and metering. what order?)\n\nFurther step:\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\n---\nChanges v1 -> v2:\n- refrect reviews\n- pydoc\n- use stevedore for loading drivers\n- refined driver interface\n- introduced ServiceAgentDriver for conversion of existing agent\n- converted vpnagent\n\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 3, 'created': '2013-12-03 05:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65ea2658f133600370eadc84b131795e9dc32c1e', 'message': 'l3-agent-consolidation(WIP): framework for consolidating l3 agents\n\nThis patch is for review. not for merge yet.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nTODO:\n- unit tests\n- convert other service agents as independent patches\n  (firewall, l3_router, loadbalancer and metering. what order?)\n\nFurther step:\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\n---\nChanges v2 -> v2.1\n- review by Paul Michali\n- fix Jenkins\n\nChanges v1 -> v2:\n- refrect reviews\n- pydoc\n- use stevedore for loading drivers\n- refined driver interface\n- introduced ServiceAgentDriver for conversion of existing agent\n- converted vpnagent\n\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 4, 'created': '2013-12-04 10:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d21bb2b839489a4cf498b07171f10d727cada611', 'message': 'l3-agent-consolidation(WIP): framework for consolidating l3 agents\n\nThis patch is for review. not for merge yet.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nTODO:\n- unit tests\n- convert other service agents as independent patches\n  (firewall, l3_router, loadbalancer and metering. what order?)\n\nFurther step:\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\n---\nChanges v2.1 -> v2.2\n- reflect review: minor nitpicks\n\nChanges v2 -> v2.1\n- review by Paul Michali\n- fix Jenkins\n\nChanges v1 -> v2:\n- refrect reviews\n- pydoc\n- use stevedore for loading drivers\n- refined driver interface\n- introduced ServiceAgentDriver for conversion of existing agent\n- converted vpnagent\n\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 5, 'created': '2013-12-05 10:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3822c38ce613724ddd1c148a298e044f1896ef6', 'message': 'l3-agent-consolidation(WIP): framework for consolidating l3 agents\n\nThis patch is for review. not for merge yet.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nTODO:\n- unit tests\n- devstack\n\nFurther step:\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\n---\nChanges v2.2 -> v3\n- reflected review\n- converted service agents\n\nChanges v2.1 -> v2.2\n- reflect review: minor nitpicks\n\nChanges v2 -> v2.1\n- review by Paul Michali\n- fix Jenkins\n\nChanges v1 -> v2:\n- refrect reviews\n- pydoc\n- use stevedore for loading drivers\n- refined driver interface\n- introduced ServiceAgentDriver for conversion of existing agent\n- converted vpnagent\n\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 6, 'created': '2014-02-12 10:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d271043eb1e2c2b62c608e98716758ccfc9e51d', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch is for review. not for merge yet.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther step:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 7, 'created': '2014-02-12 12:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9145cc06cb0bca545e63488812772dd0d007409', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch is for review. not for merge yet.\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther step:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 8, 'created': '2014-02-12 14:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5c3bf4c6b734dfc207b31ef563b369e604b7fdb', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther step:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 9, 'created': '2014-02-14 07:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf47f0e60f09939558571db7a0d0b474fffd73c1', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther step:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 10, 'created': '2014-02-17 05:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32ded054b8b55124e88d41dda11fa6f92a3136c5', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther step:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 11, 'created': '2014-02-20 07:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34b9365f12e4f80a4201061a7e97ec64a79d3695', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther steps:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 12, 'created': '2014-02-20 09:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c99a778c4a28c67702c2a7fca71a7cae667f51b3', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther steps:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 13, 'created': '2014-02-21 04:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a626b972a702cfcfea57805329ac01559585b368', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther steps:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 14, 'created': '2014-02-25 01:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cdd3f1fe24e1c31473fa8c120796fca9ac38550', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther steps:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}, {'number': 15, 'created': '2014-02-25 04:46:58.000000000', 'files': ['neutron/agent/service/__init__.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/tests/unit/services/agent/test_service_driver.py', 'neutron/agent/l3_agent.py', 'neutron/agent/service/driver_base.py', 'neutron/services/vpn/agent.py', 'etc/service_agent.ini', 'neutron/services/loadbalancer/agent/agent.py', 'neutron/agent/dhcp_agent.py', 'neutron/tests/unit/services/agent/__init__.py', 'neutron/agent/service/agent.py', 'neutron/common/topics.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7c04d16a5fd15bc296a329d9220b5aff77bc8a7', 'message': 'l3-agent-consolidation: framework for consolidating l3 agents\n\nThis patch implements framework for consolidating agents of services.\n(firewall, l3_router, loadbalancer, metering and vpn) into single agent.\nAnd converts vpn agent as a reference. Later, further conversion patches\nwill follow.\n\nFurther steps:\n- devstack\n- refactoring for agent framework\n  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor\n- convert other agents (plugin agent, ml2 agent)\n\nImplement blueprint l3-agent-consolidation\nChange-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f\n'}]",94,57627,c7c04d16a5fd15bc296a329d9220b5aff77bc8a7,234,26,15,333,,,0,"l3-agent-consolidation: framework for consolidating l3 agents

This patch implements framework for consolidating agents of services.
(firewall, l3_router, loadbalancer, metering and vpn) into single agent.
And converts vpn agent as a reference. Later, further conversion patches
will follow.

Further steps:
- devstack
- refactoring for agent framework
  https://etherpad.openstack.org/p/icehouse-neutron-agent-framework-refactor
- convert other agents (plugin agent, ml2 agent)

Implement blueprint l3-agent-consolidation
Change-Id: I5a6775588e4d391c1d5e0e53296289e177865b5f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/57627/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/service/__init__.py', 'neutron/agent/service/driver_base.py', 'neutron/agent/service/agent.py', 'neutron/common/topics.py', 'etc/service_agent.ini', 'neutron/agent/service/driver_noop.py', 'setup.cfg']",7,df82da4de9ee2b2d13f4147aaeddd3eca386f902,bp/l3-agent-consolidation, etc/service_agent.ini neutron-service-agent = enutron.agent.service.agent:main,,188,0
openstack%2Fmurano~master~Ifb1d95d41e2f96b827d677a098256caaaa134247,openstack/murano,master,Ifb1d95d41e2f96b827d677a098256caaaa134247,Add Roles to Context,ABANDONED,2014-03-12 21:18:57.000000000,2014-04-18 06:03:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7549}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-03-12 21:18:57.000000000', 'files': ['muranoapi/api/middleware/context.py', 'muranoapi/context.py', 'muranoapi/tests/common/test_context.py', 'muranoapi/tests/common/fakes.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/bdcbc52bf1c22d154b3582084e0f8ec179d80c60', 'message': 'Add Roles to Context\n\nThis patch adds user roles from keystone\nauth information to request context.\n\nAlse deprecaed header X-Tenant-Id was replaced\nby X-Project-Id.\n\nChange-Id: Ifb1d95d41e2f96b827d677a098256caaaa134247\n'}]",0,80090,bdcbc52bf1c22d154b3582084e0f8ec179d80c60,8,3,1,8443,,,0,"Add Roles to Context

This patch adds user roles from keystone
auth information to request context.

Alse deprecaed header X-Tenant-Id was replaced
by X-Project-Id.

Change-Id: Ifb1d95d41e2f96b827d677a098256caaaa134247
",git fetch https://review.opendev.org/openstack/murano refs/changes/90/80090/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoapi/api/middleware/context.py', 'muranoapi/context.py', 'muranoapi/tests/common/test_context.py', 'muranoapi/tests/common/fakes.py']",4,bdcbc52bf1c22d154b3582084e0f8ec179d80c60,,"# Copyright (c) 2013 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock fakeAuthTokenHeaders = {'X-User-Id': u'773a902f022949619b5c2f32cd89d419', 'X-Roles': u'admin, ResellerAdmin, _member_', 'X-Project-Id': u'5588aebbcdc24e17a061595f80574376', 'X-Project-Name': 'test', 'X-User-Name': 'test', 'X-Auth-Token': u'5588aebbcdc24e17a061595f80574376', 'X-Forwarded-For': u'10.10.10.10, 11.11.11.11', 'X-Service-Catalog': u'{test: 12345}', 'X-Identity-Status': 'Confirmed', 'X-Domain-Name': 'domain', 'X-Project-Domain-Id': 'project_domain_id', 'X-User-Domain-Id': 'user_domain_id', 'X-Configuration-Session': 'session', } class FakeRequest(mock.Mock): def __init__(self, **kwargs): super(FakeRequest, self).__init__(**kwargs) self.host_url = 'http://test_url:8080/test' self.context = {} self.body = '' self.content_type = 'text/unicode' self.params = {} self.path = '/v1/example' self.headers = fakeAuthTokenHeaders def __setitem__(self, index, value): setattr(self, index, value) ",,110,4
openstack%2Ffuel-web~master~I40b0e427acbcd978a1fd4d4857ce557f4a0a9802,openstack/fuel-web,master,I40b0e427acbcd978a1fd4d4857ce557f4a0a9802,Fix for tasks weight,ABANDONED,2014-04-08 08:04:00.000000000,2014-04-18 06:03:22.000000000,,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8930}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10392}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-08 08:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/24a328e7dad97c3cab892a9cc80bb7be3ac09fe4', 'message': 'Fix for tasks weight\n\nCalculation of the task weight is moved into models.Task.__init__.\nIt prevents wrong progress calculation after reset and redeployment\nof the environment\n\nChange-Id: I40b0e427acbcd978a1fd4d4857ce557f4a0a9802\nCloses-Bug: #1294536\n'}, {'number': 2, 'created': '2014-04-10 08:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5937e2bbc7e6aade7950a28995cb52d164266c85', 'message': 'Fix for tasks weight\n\nCalculation of the task weight is moved into models.Task.__init__.\nIt prevents wrong progress calculation after reset and redeployment\nof the environment\n\nChange-Id: I40b0e427acbcd978a1fd4d4857ce557f4a0a9802\nCloses-Bug: #1294536\n'}, {'number': 3, 'created': '2014-04-10 13:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/607496e0ba6d544f7bec54f89908f05aea549b4d', 'message': 'Fix for tasks weight\n\nCalculation of the task weight is moved into models.Task.__init__.\nIt prevents wrong progress calculation after reset and redeployment\nof the environment\n\nChange-Id: I40b0e427acbcd978a1fd4d4857ce557f4a0a9802\nCloses-Bug: #1294536\n'}, {'number': 4, 'created': '2014-04-10 13:33:53.000000000', 'files': ['nailgun/nailgun/db/sqlalchemy/models/task.py', 'nailgun/nailgun/test/integration/test_task_managers.py', 'nailgun/nailgun/test/unit/test_task.py', 'nailgun/nailgun/task/manager.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f83e9ef855a901b79d82fca08295348143d1fdb9', 'message': 'Fix for tasks weight\n\nCalculation of the task weight is moved into models.Task.__init__.\nIt prevents wrong progress calculation after reset and redeployment\nof the environment\n\nChange-Id: I40b0e427acbcd978a1fd4d4857ce557f4a0a9802\nCloses-Bug: #1294536\n'}]",1,85947,f83e9ef855a901b79d82fca08295348143d1fdb9,29,9,4,10959,,,0,"Fix for tasks weight

Calculation of the task weight is moved into models.Task.__init__.
It prevents wrong progress calculation after reset and redeployment
of the environment

Change-Id: I40b0e427acbcd978a1fd4d4857ce557f4a0a9802
Closes-Bug: #1294536
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/47/85947/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/db/sqlalchemy/models/task.py', 'nailgun/nailgun/test/integration/test_task_managers.py', 'nailgun/nailgun/test/unit/test_task.py', 'nailgun/nailgun/task/manager.py']",4,24a328e7dad97c3cab892a9cc80bb7be3ac09fe4,tasks-weight-fix,, # For more accurate progress calulation task_provision.weight = 0.4,52,2
openstack%2Fdiskimage-builder~master~I3a3e10b0cbadc4b70a2d10bfe5e7be7f9fcca2bf,openstack/diskimage-builder,master,I3a3e10b0cbadc4b70a2d10bfe5e7be7f9fcca2bf,Add mellanox upstream element,ABANDONED,2014-04-04 01:02:02.000000000,2014-04-18 06:03:22.000000000,,"[{'_account_id': 3}, {'_account_id': 6488}, {'_account_id': 7144}, {'_account_id': 7579}, {'_account_id': 9268}, {'_account_id': 9369}, {'_account_id': 10373}]","[{'number': 1, 'created': '2014-04-04 01:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/942f6e5956fb50cbf2faf94ee7b3a5ed87a8ac4b', 'message': 'Add mellanox upstream element\n\nSome kernels have older mellanox drivers which are horrible.\n\nChange-Id: I3a3e10b0cbadc4b70a2d10bfe5e7be7f9fcca2bf\n'}, {'number': 2, 'created': '2014-04-04 03:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6b0421188b9770b7cb1dc2686eea51eddffb4e1a', 'message': 'Add mellanox upstream element\n\nSome kernels have older mellanox drivers which are horrible.\n\nChange-Id: I3a3e10b0cbadc4b70a2d10bfe5e7be7f9fcca2bf\n'}, {'number': 3, 'created': '2014-04-04 23:59:30.000000000', 'files': ['elements/mellanox-upstream/source-repository-mellanox-upstream', 'elements/mellanox-upstream/install.d/50-mellanox-upstream', 'elements/mellanox-upstream/element-deps', 'elements/mellanox-upstream/README.md'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/60f780ff2b32de6dec8fb70877ed37195071906e', 'message': 'Add mellanox upstream element\n\nSome kernels have older mellanox drivers which are horrible.\n\nChange-Id: I3a3e10b0cbadc4b70a2d10bfe5e7be7f9fcca2bf\n'}]",7,85208,60f780ff2b32de6dec8fb70877ed37195071906e,28,7,3,6488,,,0,"Add mellanox upstream element

Some kernels have older mellanox drivers which are horrible.

Change-Id: I3a3e10b0cbadc4b70a2d10bfe5e7be7f9fcca2bf
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/85208/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/mellanox-upstream/install.d/50-mellanox-upstream', 'elements/mellanox-upstream/element-deps', 'elements/mellanox-upstream/mellanox-upstream-source-repositories', 'elements/mellanox-upstream/README.md']",4,942f6e5956fb50cbf2faf94ee7b3a5ed87a8ac4b,,Install mellanox driver from upstream tarball. ,,10,0
openstack%2Ftempest~master~I5527c317e61a7d5c0ba6fb80065d0109939bee70,openstack/tempest,master,I5527c317e61a7d5c0ba6fb80065d0109939bee70,Add stevedore to test-requirements,ABANDONED,2014-04-08 20:37:46.000000000,2014-04-18 06:03:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5174}, {'_account_id': 6167}]","[{'number': 1, 'created': '2014-04-08 20:37:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1bf74213bea3c59513f9ef27904c5c7a8ae53d01', 'message': 'Add stevedore to test-requirements\n\nThis package is used by our sample conf generator so should be required, but\nit is not required to run tempest.\n\nChange-Id: I5527c317e61a7d5c0ba6fb80065d0109939bee70\n'}]",0,86148,1bf74213bea3c59513f9ef27904c5c7a8ae53d01,9,4,1,1192,,,0,"Add stevedore to test-requirements

This package is used by our sample conf generator so should be required, but
it is not required to run tempest.

Change-Id: I5527c317e61a7d5c0ba6fb80065d0109939bee70
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/86148/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1bf74213bea3c59513f9ef27904c5c7a8ae53d01,require-stevedore,stevedore>=0.10,,1,0
openstack%2Ffuel-main~stable%2F4.1~I6f38ca7cbc79280bce7da2004b1536391fb9eeff,openstack/fuel-main,stable/4.1,I6f38ca7cbc79280bce7da2004b1536391fb9eeff,Change default mirror to 4.1.1,ABANDONED,2014-04-07 14:44:29.000000000,2014-04-18 06:03:20.000000000,,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-04-07 14:44:29.000000000', 'files': ['config.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7952542960887a34a2ebfda46c5ee4aa61706b3f', 'message': 'Change default mirror to 4.1.1\n\nChange-Id: I6f38ca7cbc79280bce7da2004b1536391fb9eeff\n'}]",0,85731,7952542960887a34a2ebfda46c5ee4aa61706b3f,10,4,1,8777,,,0,"Change default mirror to 4.1.1

Change-Id: I6f38ca7cbc79280bce7da2004b1536391fb9eeff
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/31/85731/1 && git format-patch -1 --stdout FETCH_HEAD,['config.mk'],1,7952542960887a34a2ebfda46c5ee4aa61706b3f,move_to_4_1_1,PRODUCT_VERSION:=4.1.1,PRODUCT_VERSION:=4.1,1,1
openstack%2Fopenstack-manuals~master~Ia764443b2714fc2fbb4ea64876dfc47d05559153,openstack/openstack-manuals,master,Ia764443b2714fc2fbb4ea64876dfc47d05559153,"Added new section ""Example: Android x86 image""",ABANDONED,2014-04-09 16:32:28.000000000,2014-04-18 06:03:19.000000000,,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-09 16:32:28.000000000', 'files': ['doc/image-guide/ch_creating_images_manually.xml', 'doc/image-guide/section_android-example.xml', 'doc/image-guide/figures/android-installed.png'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4f834304546f7df3aba73b84d8cb3a9bd5882873', 'message': 'Added new section ""Example: Android x86 image""\n\nThe documentation provides instructions on how to create android images on openstack.\n\nChange-Id: Ia764443b2714fc2fbb4ea64876dfc47d05559153\nbackport: havana grizzly\n'}]",5,86391,4f834304546f7df3aba73b84d8cb3a9bd5882873,7,3,1,11091,,,0,"Added new section ""Example: Android x86 image""

The documentation provides instructions on how to create android images on openstack.

Change-Id: Ia764443b2714fc2fbb4ea64876dfc47d05559153
backport: havana grizzly
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/91/86391/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/image-guide/ch_creating_images_manually.xml', 'doc/image-guide/section_android-example.xml', 'doc/image-guide/figures/android-installed.png']",3,4f834304546f7df3aba73b84d8cb3a9bd5882873,android-image,,,159,0
openstack%2Fhorizon~master~I880c249deb4da73b3eeaaad7ee24e85ae7d08ce0,openstack/horizon,master,I880c249deb4da73b3eeaaad7ee24e85ae7d08ce0,Use default_project_id for v3 users,ABANDONED,2014-01-27 16:28:29.000000000,2014-04-18 06:03:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-01-27 16:28:29.000000000', 'files': ['openstack_dashboard/dashboards/admin/users/views.py', 'openstack_dashboard/test/test_data/keystone_data.py', 'openstack_dashboard/dashboards/admin/projects/tests.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2b8dc7fc045a23050ac66cd9662aa34664ff06c9', 'message': 'Use default_project_id for v3 users\n\nThe identity v3 api defines a default_project_id, not a project_id.\nSee https://github.com/openstack/identity-api/blob/master/openstack-identity-api/v3/src/markdown/identity-api-v3.md#users-v3users\n\nChange-Id: I880c249deb4da73b3eeaaad7ee24e85ae7d08ce0\nCloses-Bug: #1205520\n'}]",2,69401,2b8dc7fc045a23050ac66cd9662aa34664ff06c9,12,4,1,6593,,,0,"Use default_project_id for v3 users

The identity v3 api defines a default_project_id, not a project_id.
See https://github.com/openstack/identity-api/blob/master/openstack-identity-api/v3/src/markdown/identity-api-v3.md#users-v3users

Change-Id: I880c249deb4da73b3eeaaad7ee24e85ae7d08ce0
Closes-Bug: #1205520
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/69401/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/users/views.py', 'openstack_dashboard/test/test_data/keystone_data.py', 'openstack_dashboard/dashboards/admin/projects/tests.py', 'openstack_dashboard/api/keystone.py']",4,2b8dc7fc045a23050ac66cd9662aa34664ff06c9,keystone_v3_default_proj," if getattr(user, ""default_project_id"", None) is None: user.default_project_id = getattr(user, ""tenantId"", None)"," if getattr(user, ""project_id"", None) is None: user.project_id = getattr(user, ""tenantId"", None)",8,8
openstack%2Ftripleo-image-elements~master~Ia343a4e7138979b6083276be7f0f585920dff6e1,openstack/tripleo-image-elements,master,Ia343a4e7138979b6083276be7f0f585920dff6e1,Make enabled_apis option in nova.conf configurable,ABANDONED,2014-03-27 12:00:25.000000000,2014-04-18 06:03:17.000000000,,"[{'_account_id': 3}, {'_account_id': 1865}, {'_account_id': 4190}, {'_account_id': 6969}, {'_account_id': 7144}, {'_account_id': 7582}]","[{'number': 1, 'created': '2014-03-27 12:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/48c11b2288e830e198ac9684d797d674784b2208', 'message': 'Make enabled_apis option in nova.conf configurable\n\nWe need the option to disable the ec2 api in nova. Making this option\nconfigurable so that the existing functionality is not effected unless\nyou want it to change\n\nChange-Id: Ia343a4e7138979b6083276be7f0f585920dff6e1\n'}, {'number': 2, 'created': '2014-03-28 09:04:17.000000000', 'files': ['elements/nova/os-apply-config/etc/nova/nova.conf', 'elements/nova/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/400379579e3bf96001dcf6681fd861cb3756b238', 'message': 'Make enabled_apis option in nova.conf configurable\n\nWe need the option to disable the ec2 api in nova. Making this option\nconfigurable so that the existing functionality is not effected unless\nyou want it to change\n\nChange-Id: Ia343a4e7138979b6083276be7f0f585920dff6e1\n'}]",0,83355,400379579e3bf96001dcf6681fd861cb3756b238,18,6,2,6969,,,0,"Make enabled_apis option in nova.conf configurable

We need the option to disable the ec2 api in nova. Making this option
configurable so that the existing functionality is not effected unless
you want it to change

Change-Id: Ia343a4e7138979b6083276be7f0f585920dff6e1
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/55/83355/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova/os-apply-config/etc/nova/nova.conf'],1,48c11b2288e830e198ac9684d797d674784b2208,configure-enabled-apis-nova-conf,{{^nova.enabled_apis}}{{/nova.enabled_apis}} {{#nova.enabled_apis}} enabled_apis = {{.}} {{/nova.enabled_apis}},,5,0
openstack%2Ftempest~master~I3ace52f35112375dcec1d42c68de5506e40560fa,openstack/tempest,master,I3ace52f35112375dcec1d42c68de5506e40560fa,Add keystone test to filter endpoints results based on serviceid,ABANDONED,2014-04-03 21:21:16.000000000,2014-04-18 06:03:16.000000000,,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1687}, {'_account_id': 1795}, {'_account_id': 1916}, {'_account_id': 1921}, {'_account_id': 2238}, {'_account_id': 2846}, {'_account_id': 5689}, {'_account_id': 5803}]","[{'number': 1, 'created': '2014-04-03 21:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2dc69f3f2598ab36e403ed1fe183ff310a61caca', 'message': 'Add keystone test to filter endpoints results based on serviceid\n\nChange-Id: I3ace52f35112375dcec1d42c68de5506e40560fa\n'}, {'number': 2, 'created': '2014-04-08 17:28:51.000000000', 'files': ['tempest/services/identity/v3/json/endpoints_client.py', 'tempest/services/identity/v3/xml/endpoints_client.py', 'tempest/api/identity/admin/v3/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cea6b0ae1ab51304d539f39777e808e2ad9604e1', 'message': 'Add keystone test to filter endpoints results based on serviceid\n\nChange-Id: I3ace52f35112375dcec1d42c68de5506e40560fa\n'}]",9,85179,cea6b0ae1ab51304d539f39777e808e2ad9604e1,21,10,2,2846,,,0,"Add keystone test to filter endpoints results based on serviceid

Change-Id: I3ace52f35112375dcec1d42c68de5506e40560fa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/85179/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/identity/v3/json/endpoints_client.py', 'tempest/api/identity/admin/v3/test_endpoints.py', 'tempest/services/identity/v3/xml/endpoints_client.py']",3,2dc69f3f2598ab36e403ed1fe183ff310a61caca,tempest-keystone,"import urllib def get_endpoint(self, params=None): url = 'endpoints' if params: url += ""?%s"" % urllib.urlencode(params) resp, body = self.get(url) endpoints = self._parse_array(etree.fromstring(body)) return resp, endpoints ",,48,1
openstack%2Ftripleo-image-elements~master~I2e1a2369b414c19e42a4a89fa2808af7360bad96,openstack/tripleo-image-elements,master,I2e1a2369b414c19e42a4a89fa2808af7360bad96,Make it clear that the seed config is dynamic.,ABANDONED,2014-04-08 06:32:18.000000000,2014-04-18 06:03:15.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-04-08 06:32:18.000000000', 'files': ['elements/seed-stack-config/README.md', 'elements/seed-stack-config/install.d/01-seed-stack-packages'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/269ad11fd27ea0bcb28768b7c2e2087af53fa79a', 'message': ""Make it clear that the seed config is dynamic.\n\nI'm working on making downloadable images - seed and up- be a core\nfacility, and one of the things to fix is the virtual-power-key -\nit turns out to be easy, but its worth making that clear.\n\nChange-Id: I2e1a2369b414c19e42a4a89fa2808af7360bad96\n""}]",0,85936,269ad11fd27ea0bcb28768b7c2e2087af53fa79a,7,3,1,4190,,,0,"Make it clear that the seed config is dynamic.

I'm working on making downloadable images - seed and up- be a core
facility, and one of the things to fix is the virtual-power-key -
it turns out to be easy, but its worth making that clear.

Change-Id: I2e1a2369b414c19e42a4a89fa2808af7360bad96
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/36/85936/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/seed-stack-config/README.md', 'elements/seed-stack-config/install.d/01-seed-stack-packages']",2,269ad11fd27ea0bcb28768b7c2e2087af53fa79a,seed-download,#!/bin/bash set -eux install-packages jq ,,13,3
openstack%2Fdevstack-gate~master~I777c905841aaeec0800dfbc6b2c2173ec578bf4c,openstack/devstack-gate,master,I777c905841aaeec0800dfbc6b2c2173ec578bf4c,Enable sahara as default in gate,ABANDONED,2014-03-26 14:05:15.000000000,2014-04-18 06:03:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-03-26 14:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/39fde16f6514efd8ef3d6744d1d1855e34d21edc', 'message': 'Enable sahara as default in gate\n\nSahara has been graduated from incubation for the Juno cycle, so, we\nshould enable it by default in gate.\n\nChange-Id: I777c905841aaeec0800dfbc6b2c2173ec578bf4c\n'}, {'number': 2, 'created': '2014-04-10 13:55:39.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cbe09a1d30bc8c15bd05f8caa4e22f6dcbfbf51d', 'message': 'Enable sahara as default in gate\n\nSahara has been graduated from incubation for the Juno cycle, so, we\nshould enable it by default in gate.\n\nChange-Id: I777c905841aaeec0800dfbc6b2c2173ec578bf4c\n'}]",0,83076,cbe09a1d30bc8c15bd05f8caa4e22f6dcbfbf51d,20,3,2,6786,,,0,"Enable sahara as default in gate

Sahara has been graduated from incubation for the Juno cycle, so, we
should enable it by default in gate.

Change-Id: I777c905841aaeec0800dfbc6b2c2173ec578bf4c
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/76/83076/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,39fde16f6514efd8ef3d6744d1d1855e34d21edc,," MY_ENABLED_SERVICES+=,c-bak,sahara"," MY_ENABLED_SERVICES+=,c-bak if [ ""$DEVSTACK_GATE_SAHARA"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,sahara fi",1,4
openstack%2Fdevstack-gate~master~I4823bcfd7f71fc4ee3618163d03c646e88e82959,openstack/devstack-gate,master,I4823bcfd7f71fc4ee3618163d03c646e88e82959,Prepare for Juno dev,ABANDONED,2014-03-26 14:05:15.000000000,2014-04-18 06:03:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6786}]","[{'number': 2, 'created': '2014-03-26 14:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/727ac8c38bae18452b497934a92328cc7f186dd8', 'message': 'Prepare for Juno dev\n\nCopy current conf conditions to the stable/icehouse branch.\n\nChange-Id: I4823bcfd7f71fc4ee3618163d03c646e88e82959\n'}, {'number': 1, 'created': '2014-03-26 14:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/415f05a23fc1d1bc5b03e34303635375332897bc', 'message': 'Prepare for Juno dev\n\nCopy current conf conditions to the stable/icehouse branch.\n\nChange-Id: I4823bcfd7f71fc4ee3618163d03c646e88e82959\n'}, {'number': 3, 'created': '2014-04-10 13:54:43.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cc53a81cbd3350e614bb628089e7157a64eb1cd9', 'message': 'Prepare for Juno dev\n\nCopy current conf conditions to the stable/icehouse branch.\n\nChange-Id: I4823bcfd7f71fc4ee3618163d03c646e88e82959\n'}]",0,83075,cc53a81cbd3350e614bb628089e7157a64eb1cd9,19,3,3,6786,,,0,"Prepare for Juno dev

Copy current conf conditions to the stable/icehouse branch.

Change-Id: I4823bcfd7f71fc4ee3618163d03c646e88e82959
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/75/83075/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,727ac8c38bae18452b497934a92328cc7f186dd8,," elif [ ""$LOCALRC_BRANCH"" == ""stable/icehouse"" ]; then MY_ENABLED_SERVICES+=,c-bak # we don't want to enable services for grenade that don't have upgrade support # otherwise they can break grenade, especially when they are projects like # ceilometer which inject code in other projects if [ ""$DEVSTACK_GATE_GRENADE"" -ne ""1"" ]; then MY_ENABLED_SERVICES+=,heat,h-api,h-api-cfn,h-api-cw,h-eng MY_ENABLED_SERVICES+=,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification MY_ENABLED_SERVICES+=trove,tr-api,tr-tmgr,tr-cond fi if [ ""$DEVSTACK_GATE_NEUTRON"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering echo ""Q_USE_DEBUG_COMMAND=True"" >>localrc echo ""NETWORK_GATEWAY=10.1.0.1"" >>localrc else MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-net fi if [ ""$DEVSTACK_GATE_NOVA_API_METADATA_SPLIT"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-api-meta fi if [ ""$DEVSTACK_GATE_CELLS"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-cell fi if [ ""$DEVSTACK_GATE_MARCONI"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,marconi-server fi if [ ""$DEVSTACK_GATE_IRONIC"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,ir-api,ir-cond fi if [ ""$DEVSTACK_GATE_SAHARA"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,sahara fi",,32,0
openstack%2Fqa-specs~master~I2a44d409732b26f9c12bb42b548de07498d73692,openstack/qa-specs,master,I2a44d409732b26f9c12bb42b548de07498d73692,Adds spec for bp:admin-user-on-isolated-tenants,ABANDONED,2014-04-08 13:46:48.000000000,2014-04-18 06:03:08.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}]","[{'number': 1, 'created': '2014-04-08 13:46:48.000000000', 'files': ['specs/admin-user-on-isolated-tenants.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/edaecbb9246e4244e05983aca1924ccc9ec1e3ba', 'message': 'Adds spec for bp:admin-user-on-isolated-tenants\n\nChange-Id: I2a44d409732b26f9c12bb42b548de07498d73692\n'}]",0,86040,edaecbb9246e4244e05983aca1924ccc9ec1e3ba,8,3,1,8576,,,0,"Adds spec for bp:admin-user-on-isolated-tenants

Change-Id: I2a44d409732b26f9c12bb42b548de07498d73692
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/40/86040/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/admin-user-on-isolated-tenants.rst'],1,edaecbb9246e4244e05983aca1924ccc9ec1e3ba,bp/admin-user-on-isolated-tenants,"===================================== Add admin user to all isolated tenants ===================================== https://blueprints.launchpad.net/tempest/+spec/admin-user-on-isolated-tenants During debugging it is convenient view/modify the environment using Horizon GUI. in order to do that without logging as the randomly-generated tenant user, ""admin"" user needs to be added to the tenant user. Adding this to the tenant creation on the isolated_creds module, probably only in debug mode will make test writers' life easier ",,12,0
openstack%2Fnova~master~I2d6c98f04ade2fd3b4cacb1acdb96d466999ef8c,openstack/nova,master,I2d6c98f04ade2fd3b4cacb1acdb96d466999ef8c,Instance group does not include any members,ABANDONED,2014-04-02 15:20:48.000000000,2014-04-18 06:03:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 681}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7494}, {'_account_id': 8768}, {'_account_id': 9578}, {'_account_id': 9708}]","[{'number': 1, 'created': '2014-04-02 15:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f47c0ba4143f644dc937f8d26a04969cfcb0370e', 'message': 'Instance group does not include any members\n\nAfter some VM instances were created in an instance group, when\nretrieve instance group list with ""nova server-group-list"" or\n""nova server_group_get"", the output field ""member"" is always empty\neven if there are already some VMs in the instance group.\n\nThe root cause is that the filter is using {""deleted_at"": None} as\na filter, for a SQL sentence, we should always using ""deleted_at is\nNULL"" to check if the field is empty. The fix was using {""deleted"": 0}\nas filter which means that the API only get VMs which were not deleted.\n\nChange-Id: I2d6c98f04ade2fd3b4cacb1acdb96d466999ef8c\nCloses-Bug: #1301382\n'}, {'number': 2, 'created': '2014-04-06 02:33:39.000000000', 'files': ['nova/api/openstack/compute/contrib/server_groups.py', 'nova/tests/api/openstack/compute/contrib/test_server_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c400552ad5f0e3cb339cbc0f1b491e6bdaa65a70', 'message': 'Instance group does not include any members\n\nAfter some VM instances were created in an instance group, when\nretrieve instance group list with ""nova server-group-list"" or\n""nova server_group_get"", the output field ""member"" is always empty\neven if there are already some VMs in the instance group.\n\nThe root cause is that the filter is using {""deleted_at"": None} as\na filter, for a SQL sentence, we should always using ""deleted_at is\nNULL"" to check if the field is empty. The fix was using\n{""deleted"": False} as filter which means that the API only get VMs\nwhich were not deleted.\n\nChange-Id: I2d6c98f04ade2fd3b4cacb1acdb96d466999ef8c\nCloses-Bug: #1301382\n'}]",2,84751,c400552ad5f0e3cb339cbc0f1b491e6bdaa65a70,30,11,2,7494,,,0,"Instance group does not include any members

After some VM instances were created in an instance group, when
retrieve instance group list with ""nova server-group-list"" or
""nova server_group_get"", the output field ""member"" is always empty
even if there are already some VMs in the instance group.

The root cause is that the filter is using {""deleted_at"": None} as
a filter, for a SQL sentence, we should always using ""deleted_at is
NULL"" to check if the field is empty. The fix was using
{""deleted"": False} as filter which means that the API only get VMs
which were not deleted.

Change-Id: I2d6c98f04ade2fd3b4cacb1acdb96d466999ef8c
Closes-Bug: #1301382
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/84751/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/server_groups.py', 'nova/tests/api/openstack/compute/contrib/test_server_groups.py']",2,f47c0ba4143f644dc937f8d26a04969cfcb0370e,bug/1301382," def test_list_server_group_all_with_members(self): ctx = context.RequestContext('fake_user', 'fake') (ig_uuid, instances, members) = self._create_groups_and_instances(ctx) req = fakes.HTTPRequest.blank('/v2/fake/os-server-groups') res_dict = self.controller.index(req) result_members = res_dict.get('server_groups')[0]['members'] self.assertEqual(2, len(result_members)) for member in members: self.assertIn(member, result_members) ",,11,1
openstack%2Ftripleo-incubator~master~I9b6e7ec31f7267a701f5259ab205982d7e838943,openstack/tripleo-incubator,master,I9b6e7ec31f7267a701f5259ab205982d7e838943,Use openstack client in register-endpoint,ABANDONED,2014-04-04 20:14:13.000000000,2014-04-18 06:03:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-04-04 20:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/b31d665de06e0281cbbb74dd2ce53cfbc309757b', 'message': 'Use openstack client in register-endpoint\n\nIt is the future, we should be using it.\n\nChange-Id: I9b6e7ec31f7267a701f5259ab205982d7e838943\n'}, {'number': 2, 'created': '2014-04-05 00:37:41.000000000', 'files': ['scripts/register-endpoint'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/cc71e66f3018e1d43495b8c3698556ed7fbab396', 'message': 'Use openstack client in register-endpoint\n\nIt is the future, we should be using it.\n\nChange-Id: I9b6e7ec31f7267a701f5259ab205982d7e838943\n'}]",0,85475,cc71e66f3018e1d43495b8c3698556ed7fbab396,12,3,2,7144,,,0,"Use openstack client in register-endpoint

It is the future, we should be using it.

Change-Id: I9b6e7ec31f7267a701f5259ab205982d7e838943
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/75/85475/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/register-endpoint'],1,b31d665de06e0281cbbb74dd2ce53cfbc309757b,bug/1287453,"elif [ ""identity-v3"" = ""$TYPE"" ]; then SUFFIX=""/v3"" ADMIN_SUFFIX=""$SUFFIX""ADMIN_ROLE=$(openstack $DEBUG role list | awk '/ admin / {print $2}') SERVICE_PROJECT=$(openstack $DEBUG project list | awk '/ service / {print $2}') USER_ID=$(openstack user show $NAME | awk '$2==""id"" { print $4 }') SVC_USER=$(openstack $DEBUG user create --password=$PASSWORD --project $SERVICE_PROJECT --email=nobody@example.com $NAME | awk ' / id / {print $4}') openstack $DEBUG \ role add \ --project $SERVICE_PROJECT \ --user $SVC_USER \ $ADMIN_ROLE SERVICE_ID=$(openstack $DEBUG service create \ $NAME \ --type $TYPE \ | awk '/ id / {print $4}') openstack endpoint create $DEBUG --region ""$REGION"" \ $SERVICE_ID \ --publicurl ""${PUBLIC_URL}${SUFFIX}"" \ --adminurl ""${ADMIN_URL}${SUFFIX}"" \","ADMIN_ROLE=$(keystone $DEBUG role-list | awk '/ admin / {print $2}') SERVICE_TENANT=$(keystone $DEBUG tenant-list | awk '/ service / {print $2}') USER_ID=$(keystone user-get $NAME | awk '$2==""id"" { print $4 }') SVC_USER=$(keystone $DEBUG user-create --name=$NAME --pass=$PASSWORD --tenant-id $SERVICE_TENANT --email=nobody@example.com | awk ' / id / {print $4}') keystone user-role-add $DEBUG --tenant-id $SERVICE_TENANT \ --user-id $SVC_USER \ --role-id $ADMIN_ROLESERVICE_ID=$(keystone $DEBUG service-create --name=$NAME --type=$TYPE ""$DESCRIPTION"" | awk '/ id / {print $4}') keystone endpoint-create $DEBUG --region ""$REGION"" --service-id $SERVICE_ID \ --publicurl ""${PUBLIC_URL}${SUFFIX}"" \ --adminurl ""${ADMIN_URL}${ADMIN_SUFFIX}"" \",21,11
openstack%2Ftripleo-incubator~master~Ieabce318a207b32afa94b689f40a7b0d50db835d,openstack/tripleo-incubator,master,Ieabce318a207b32afa94b689f40a7b0d50db835d,Use openstack client in init-keystone.,ABANDONED,2014-04-04 20:14:13.000000000,2014-04-18 06:03:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-04-04 20:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/7fdce4b37aee142f8e1b14def5a9f12bdea7d52f', 'message': 'Use openstack client in init-keystone.\n\nIt is the future. We should be using it.\n\nChange-Id: Ieabce318a207b32afa94b689f40a7b0d50db835d\n'}, {'number': 2, 'created': '2014-04-05 00:37:40.000000000', 'files': ['scripts/init-keystone'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/cb269569aae6b960556dfcec1cb4cf2cdeb911a1', 'message': 'Use openstack client in init-keystone.\n\nIt is the future. We should be using it.\n\nChange-Id: Ieabce318a207b32afa94b689f40a7b0d50db835d\n'}]",0,85474,cb269569aae6b960556dfcec1cb4cf2cdeb911a1,12,3,2,7144,,,0,"Use openstack client in init-keystone.

It is the future. We should be using it.

Change-Id: Ieabce318a207b32afa94b689f40a7b0d50db835d
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/74/85474/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/init-keystone'],1,7fdce4b37aee142f8e1b14def5a9f12bdea7d52f,bug/1287453," echo "" -a -- Choose the Heat Stack Domain Admin User password.""TEMP=`getopt -o hr:p:a: -l help,region:,password:,ssl: -n $SCRIPT_NAME -- ""$@""` -a) DOMAIN_ADMIN_PASSWORD=$2; shift 2 ;; --ssl) SSL=$2; shift 2 ;;OS_TOKEN=${1:-""""}if [ -z ""$OS_TOKEN"" -o -z ""$ENDPOINT"" -o -z ""$ADMIN_EMAIL"" -o -z ""$HOST"" -o -n ""$EXTRA"" ]; thenexport OS_URL=http://$ENDPOINT:35357/v2.0 export OS_TOKENwait_for 60 10 ""openstack project create admin"" ADMIN_PROJECT_ID=$(openstack project show admin | awk '$2==""id"" {print $4}') SERVICE_PROJECT_ID=$(openstack project create service | awk '$2==""id"" {print $4}')ADMIN_ROLE_ID=$(openstack role create admin | awk '$2==""id"" {print $4}') MEMBER_ROLE_ID=$(openstack role create Member | awk '$2==""id"" {print $4}')ADMIN_USER_ID=$(openstack user create \ --password=""$PASSWORD"" \ --email=""$ADMIN_EMAIL"" \ --project=""$ADMIN_PROJECT_ID"" \ admin \ | awk '$2==""id"" {print $4}')openstack role add \ --user $ADMIN_USER_ID \ --project $ADMIN_PROJECT_ID \ $ADMIN_ROLE_IDregister-endpoint -r $REGION -d ""Keystone Identity Service"" keystone identity-v3 -i http://$ENDPOINT:35357 $PUBLIC_URL","TEMP=`getopt -o hr:p: -l help,region:,password:,ssl: -n $SCRIPT_NAME -- ""$@""` --ssl) SSL=$2; shift 2 ;;SERVICE_TOKEN=${1:-""""}if [ -z ""$SERVICE_TOKEN"" -o -z ""$ENDPOINT"" -o -z ""$ADMIN_EMAIL"" -o -z ""$HOST"" -o -n ""$EXTRA"" ]; thenexport SERVICE_ENDPOINT=http://$ENDPOINT:35357/v2.0 export SERVICE_TOKENwait_for 60 10 ""keystone tenant-create --name=admin"" ADMIN_TENANT_ID=$(keystone tenant-get admin | awk '$2==""id"" {print $4}') SERVICE_TENANT_ID=$(keystone tenant-create --name=service | awk '$2==""id"" {print $4}')ADMIN_ROLE_ID=$(keystone role-create --name=admin | awk '$2==""id"" {print $4}') MEMBER_ROLE_ID=$(keystone role-create --name=Member | awk '$2==""id"" {print $4}')ADMIN_USER_ID=$(keystone user-create --name=admin \ --pass=""$PASSWORD"" \ --email=""$ADMIN_EMAIL"" | awk '$2==""id"" {print $4}')keystone user-role-add --user-id $ADMIN_USER_ID --role-id $ADMIN_ROLE_ID --tenant-id $ADMIN_TENANT_ID ",24,16
openstack%2Fswift~master~I086a9c71114f112e00d83b392913de0caec4381e,openstack/swift,master,I086a9c71114f112e00d83b392913de0caec4381e,Updated from global requirements,ABANDONED,2014-03-18 08:52:48.000000000,2014-04-18 06:03:03.000000000,,"[{'_account_id': 3}, {'_account_id': 330}]","[{'number': 1, 'created': '2014-03-18 08:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/777d457c7adbb948cb408f905a3a81f60d37acc8', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 2, 'created': '2014-03-19 22:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5662fcebbb09e49189ab0932d49dbd8d71a69154', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 3, 'created': '2014-03-21 07:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5a139035f1916f19d9dc51e3dc5adb90068ef45', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 4, 'created': '2014-03-22 00:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96fae23c6b75239553bcb32f22d291ce7f072cef', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 5, 'created': '2014-03-26 16:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/22e91946b24abc89a6e30b4f29530abfb72a4c51', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 6, 'created': '2014-03-27 16:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9bdce9d158ffbc6e222088a55ec0706019d298a6', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 7, 'created': '2014-03-29 01:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/75a1c10e7753982e484ca31196210de8aaf17d4c', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 8, 'created': '2014-04-01 11:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/202aeab6f91e293a80b41547203c23f4fd7d5281', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 9, 'created': '2014-04-02 23:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5b647c6a51f787cbc79841eca812238f5bc89a2', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 10, 'created': '2014-04-04 04:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2b3eda94beb5a39dfea7ee8788a6e208d3b5fda6', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 11, 'created': '2014-04-04 11:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8757fe15aa2a9df284c4837e41aa4b359d9132bd', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 12, 'created': '2014-04-07 17:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8210e31d3d5a4e9afaa5e420543ad5e4c926fe58', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}, {'number': 13, 'created': '2014-04-11 04:17:53.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/cbc299f4baa789261f1f410a0096cc2fadb70560', 'message': 'Updated from global requirements\n\nChange-Id: I086a9c71114f112e00d83b392913de0caec4381e\n'}]",0,81207,cbc299f4baa789261f1f410a0096cc2fadb70560,51,2,13,3,,,0,"Updated from global requirements

Change-Id: I086a9c71114f112e00d83b392913de0caec4381e
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/81207/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,777d457c7adbb948cb408f905a3a81f60d37acc8,openstack/requirements," setup_requires=['pbr'],"," setup_requires=['pbr>=0.5.21,<1.0'],",10,10
openstack%2Fneutron~master~I64f62dca5bee580dcd28860760208e9be8f4b659,openstack/neutron,master,I64f62dca5bee580dcd28860760208e9be8f4b659,Switch over to FixedIntervalLoopingCall,MERGED,2014-04-14 15:09:09.000000000,2014-04-18 05:42:31.000000000,2014-04-18 05:42:29.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6593}, {'_account_id': 6788}, {'_account_id': 7317}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-04-14 15:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d77d5479cedfcb99ff6ddc9e0f2138064aa6f290', 'message': 'Switch over to FixedIntervalLoopingCall\n\nChange-Id: I64f62dca5bee580dcd28860760208e9be8f4b659\nCloses-Bug: #1307560\n'}, {'number': 2, 'created': '2014-04-15 14:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dd430fcf6e5406db365f80596d1d06b35babde4', 'message': 'Switch over to FixedIntervalLoopingCall\n\nChange-Id: I64f62dca5bee580dcd28860760208e9be8f4b659\nCloses-Bug: #1307560\n'}, {'number': 3, 'created': '2014-04-17 15:34:01.000000000', 'files': ['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/70dd312aa55597789ace92cf8733985f1c31faab', 'message': 'Switch over to FixedIntervalLoopingCall\n\nLoopingCall has been renamed (without a change) to\nFixedIntervalLoopingCall in https://review.openstack.org/#/c/26345/\n\nAdjust to the new name so that the compatibility code can be removed.\n\nChange-Id: I64f62dca5bee580dcd28860760208e9be8f4b659\nCloses-Bug: #1307560\n'}]",6,87292,70dd312aa55597789ace92cf8733985f1c31faab,49,17,3,6593,,,0,"Switch over to FixedIntervalLoopingCall

LoopingCall has been renamed (without a change) to
FixedIntervalLoopingCall in https://review.openstack.org/#/c/26345/

Adjust to the new name so that the compatibility code can be removed.

Change-Id: I64f62dca5bee580dcd28860760208e9be8f4b659
Closes-Bug: #1307560
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/87292/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py']",2,d77d5479cedfcb99ff6ddc9e0f2138064aa6f290,loopingcall, loopingcall.FixedIntervalLoopingCall( self._report_state).start(interval=report_interval), heartbeat = loopingcall.LoopingCall(self._report_state) heartbeat.start(interval=report_interval),4,4
openstack%2Fnova~master~I15a4ca0a10e114fc10d1dce21d85f7e944ca566a,openstack/nova,master,I15a4ca0a10e114fc10d1dce21d85f7e944ca566a,Refactor _is_neutron out from vmwareapi.VMOps,ABANDONED,2014-04-17 21:02:39.000000000,2014-04-18 04:49:05.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-04-17 21:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88d099ec4b62fa6fdb4f5976fd25721a292ca8f7', 'message': 'Remove duplicate tests in vmwareapi driver\n\nThe tests for the utils.is_neutron() function already occur\nin nova.tests.test_utils.  This removes an extra set of\ntests in the vmwareapi driver.\n\nChange-Id: I15a4ca0a10e114fc10d1dce21d85f7e944ca566a\n'}, {'number': 2, 'created': '2014-04-17 21:14:05.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/642d7239c08bd4db9580345fd6953af5a436087a', 'message': 'Refactor _is_neutron out from vmwareapi.VMOps\n\nThe utils.is_neutron() method already caches the result\nso there is no need to keep it as an attribute.  The\ntests for them are removed as well.\n\nChange-Id: I15a4ca0a10e114fc10d1dce21d85f7e944ca566a\n'}]",0,88436,642d7239c08bd4db9580345fd6953af5a436087a,16,7,2,1004,,,0,"Refactor _is_neutron out from vmwareapi.VMOps

The utils.is_neutron() method already caches the result
so there is no need to keep it as an attribute.  The
tests for them are removed as well.

Change-Id: I15a4ca0a10e114fc10d1dce21d85f7e944ca566a
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/88436/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/virt/vmwareapi/test_vmops.py'],1,88d099ec4b62fa6fdb4f5976fd25721a292ca8f7,cleanup,," def test_is_neutron_nova(self): self.flags(network_api_class='nova.network.api.API') ops = vmops.VMwareVMOps(None, None, None) self.assertFalse(ops._is_neutron) def test_is_neutron_neutron(self): self.flags(network_api_class='nova.network.neutronv2.api.API') ops = vmops.VMwareVMOps(None, None, None) self.assertTrue(ops._is_neutron) def test_is_neutron_quantum(self): self.flags(network_api_class='nova.network.quantumv2.api.API') ops = vmops.VMwareVMOps(None, None, None) self.assertTrue(ops._is_neutron) ",0,15
openstack%2Fdevstack-gate~master~I7450913f78e0c50194cb68096edbaf52259bb80f,openstack/devstack-gate,master,I7450913f78e0c50194cb68096edbaf52259bb80f,add run-tests.sh,MERGED,2014-04-17 20:43:59.000000000,2014-04-18 03:22:16.000000000,2014-04-18 03:22:15.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}]","[{'number': 1, 'created': '2014-04-17 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3a51f70dccefbbf1004ba73fa1d3f4ee2d34d5d5', 'message': 'add run-tests.sh\n\nthis is a basic test runner that runs all test-*.sh files in the\nroot directory.\n\nChange-Id: I7450913f78e0c50194cb68096edbaf52259bb80f\n'}, {'number': 2, 'created': '2014-04-17 21:08:46.000000000', 'files': ['run-tests.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9f43a1eca19728e12bfb6223dd62b63628a5fc22', 'message': 'add run-tests.sh\n\nthis is a basic test runner that runs all test-*.sh files in the\nroot directory.\n\nChange-Id: I7450913f78e0c50194cb68096edbaf52259bb80f\n'}]",0,88430,9f43a1eca19728e12bfb6223dd62b63628a5fc22,16,4,2,2750,,,0,"add run-tests.sh

this is a basic test runner that runs all test-*.sh files in the
root directory.

Change-Id: I7450913f78e0c50194cb68096edbaf52259bb80f
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/30/88430/1 && git format-patch -1 --stdout FETCH_HEAD,['run-tests.sh'],1,3a51f70dccefbbf1004ba73fa1d3f4ee2d34d5d5,run-tests,"#!/bin/bash # Run all test-*.sh functions, fail if any of them fail # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. set -o errexit # this is mostly syntactic sugar to make it easy on the reader of the tests trap exit_trap EXIT function exit_trap { local r=$? if [[ ""$r"" -eq ""0"" ]]; then echo ""All tests run successfully"" else echo ""ERROR! some tests failed, please see detailed output"" fi } for testfile in test-*.sh; do echo ""Running $testfile"" ./$testfile echo done ",,36,0
openstack%2Fopenstack-manuals~master~I3651abae223b4891f890ecf036c699add3ef3687,openstack/openstack-manuals,master,I3651abae223b4891f890ecf036c699add3ef3687,Updated the 'Create and manage containers' section,MERGED,2014-04-17 05:38:51.000000000,2014-04-18 02:43:22.000000000,2014-04-18 02:43:21.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-17 05:38:51.000000000', 'files': ['doc/user-guide/section_dashboard_manage_containers.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bb4d31caed8ab1b6a438330e808a967eb01fb539', 'message': ""Updated the 'Create and manage containers' section\n\nIncluded the following changes:\n- Option to make container Public or Private\n- New section 'Manage an object' with procedures to:\n  * Edit an object\n  * Copy an object from one container to another\n  * Create a metadata-only object without a file\n  * Create a pseudo-folder\nPartial-Bug: #1307860\n\nChange-Id: I3651abae223b4891f890ecf036c699add3ef3687\n""}]",0,88143,bb4d31caed8ab1b6a438330e808a967eb01fb539,7,3,1,8103,,,0,"Updated the 'Create and manage containers' section

Included the following changes:
- Option to make container Public or Private
- New section 'Manage an object' with procedures to:
  * Edit an object
  * Copy an object from one container to another
  * Create a metadata-only object without a file
  * Create a pseudo-folder
Partial-Bug: #1307860

Change-Id: I3651abae223b4891f890ecf036c699add3ef3687
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/43/88143/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/user-guide/section_dashboard_manage_containers.xml'],1,bb4d31caed8ab1b6a438330e808a967eb01fb539,containers-lp1307860," <para>In the <guilabel>Create Container</guilabel> dialog box, enter a name for the container, choose if you want the access to be <guilabel>Private</guilabel> or <guilabel>Public</guilabel>.</para> </step> <step> <para>Click <guibutton>Create Container</guibutton>.</para> <para>Log in to the dashboard, choose a project, and click <guilabel>Containers</guilabel> in the <guilabel>Object Store</guilabel> tab.</para> <para>The <guilabel>Upload Object To Container: <replaceable>&lt;name></replaceable></guilabel> dialog box is <para>You have successfully uploaded an object to the container.</para> </section> <section xml:id=""manage_object""> <title>Manage an object</title> <procedure xml:id=""edit_object""> <title>Edit an object</title> <step> <para>Log in to the dashboard, choose a project, and click <guilabel>Containers</guilabel> in the <guilabel>Object Store</guilabel> tab.</para> </step> <step> <para>Select the container in which you want to store your object.</para> </step> <step> <para>Click <guibutton>More</guibutton> and choose <guilabel>Edit </guilabel> from the dropdown list.</para> <para>The <guilabel>Edit Object</guilabel> dialog box is displayed.</para> </step> <step> <para>Browse to and select the file that you want to upload.</para> </step> <step> <para>Click <guibutton>Update Object</guibutton>.</para> </step> </procedure> <note> <para>To delete an object, click the <guibutton>More</guibutton> button and select <guilabel>Delete Object</guilabel>.</para> <procedure xml:id=""copy_object""> <title>Copy an object from one container to another</title> <step> <para>Log in to the dashboard, choose a project, and click <guilabel>Containers</guilabel> in the <guilabel>Object Store</guilabel> tab.</para> </step> <step> <para>Select the container in which you want to store your object.</para> </step> <step> <para>Click <guibutton>More</guibutton> and choose <guilabel>Copy </guilabel> from the dropdown list.</para> </step> <step> <para>In the <guilabel>Copy Object: launch</guilabel> dialog box, enter or select the following values:</para> <informaltable rules=""all"" width=""75%""> <col width=""25%""/> <col width=""75%""/> <tbody> <tr> <td> <para><guilabel>Destination Container</guilabel></para> </td> <td> <para>Choose the destination container from the dropdown list.</para> </td> </tr> <tr> <td> <para><guilabel>Path</guilabel></para> </td> <td> <para>Specify a path at which the new copy should be stored inside of the selected container.</para> </td> </tr> <tr> <td> <para><guilabel>Destination object name</guilabel></para> </td> <td> <para>Enter a name for the object in the new container.</para> </td> </tr> </tbody> </informaltable> </step> <step> <para>Click <guibutton>Copy Object</guibutton>.</para> </step> </procedure> <procedure xml:id=""create_empty_object""> <title>Create a metadata only object without a file</title> <step> <para>Log in to the dashboard, choose a project, and click <guilabel>Containers</guilabel> in the <guilabel>Object Store</guilabel> tab.</para> </step> <step> <para>Select the container in which you want to store your object.</para> </step> <step> <para>Click <guibutton>Upload Object</guibutton>.</para> <para>The <guilabel>Upload Object To Container: <replaceable>&lt;name></replaceable></guilabel> dialog box is displayed. <replaceable>&lt;name></replaceable> is the name of the container to which you are uploading the object.</para> <para>You can create a new object in container without a file available and can upload the file later when it is ready. This works like a place-holder for a new object to allow user to flexibly share object metadata and URL info in advance.</para> </step> <step> <para>Enter a name for the object.</para> </step> <step> <para>Click <guibutton>Update Object</guibutton>.</para> </step> </procedure> <procedure xml:id=""create_pseudo_folder""> <title>Create a pseudo-folder</title> <step> <para>Log in to the dashboard, choose a project, and click <guilabel>Containers</guilabel> in the <guilabel>Object Store</guilabel> tab.</para> </step> <step> <para>Select the container in which you want to store your object.</para> </step> <step> <para>Click <guibutton>Create Pseudo-folder</guibutton>.</para> <para>The <guilabel>Create pseudo-folder in container <replaceable>&lt;name> </replaceable></guilabel> dialog box is displayed. <replaceable>&lt;name> </replaceable> is the name of the container to which you are uploading the object.</para> </step> <step> <para>Enter a name for the pseudo-folder.</para> <para>Pseudo-folders behave similarly to folders in your desktop operating system, with the exception that they are virtual collections defined by a common prefix on the object's name.</para> <para>A slash (/) character is used as the delimiter for pseudo-folders in the Object Store.</para> </step> <step> <para>Click <guibutton>Create</guibutton>.</para> </step> </procedure>"," <para>In the Create Container dialog box, enter a name for the container, and then click<guibutton>Create Container</guibutton>.</para> <para>Log in to the dashboard, choose a projecet, and click <guilabel>Containers</guilabel>.</para> <para>The Upload Object To Container: <replaceable>&lt;name></replaceable> dialog box is <para>You have successfully uploaded an object to the container.</para> <note><para>To delete an object, click the <guibutton>More</guibutton> button and select <guilabel>Delete Object</guilabel>.</para>",154,10
openstack%2Fpython-swiftclient~master~Idb0581516b7e0a41c97977bb0bb9f8290f67ad13,openstack/python-swiftclient,master,Idb0581516b7e0a41c97977bb0bb9f8290f67ad13,Add tests for bin/swift,MERGED,2014-02-14 20:47:26.000000000,2014-04-18 02:28:27.000000000,2014-04-18 02:28:27.000000000,"[{'_account_id': 3}, {'_account_id': 866}, {'_account_id': 2622}, {'_account_id': 6968}]","[{'number': 1, 'created': '2014-02-14 20:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/ee4797694b7f634fe39546dae1bdb0978e751d7c', 'message': 'Add tests for bin/swift\n\nWIP - Do not merge\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient.client as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 2, 'created': '2014-02-17 10:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/0e88198551c94dbe239e66b613f8940b40d48c8b', 'message': 'Add tests for bin/swift\n\nWIP - Do not merge\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 3, 'created': '2014-02-26 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/14428db909a5fa5aca1f3f7faad86524ced09390', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 4, 'created': '2014-02-26 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/cb2848cd53dee2cee24f3fb09e740efd63719c7a', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 6, 'created': '2014-02-26 14:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3c0cdff2b39f2246e45d1af3bf85a21f0b8c4525', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 7, 'created': '2014-02-26 14:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b9ef17de34a55c78e9aa3e02a69e89696526ee0a', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 5, 'created': '2014-02-26 14:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/817dcd702444fe6062021d659f9d0732c049d41b', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 8, 'created': '2014-02-26 14:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c570cb80b0e62cdf53c3af8df16fc40f4fd84e24', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 9, 'created': '2014-04-14 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/734c5f2a259621cc20e45346eba1ac2e7efe4552', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 10, 'created': '2014-04-14 10:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/953a670f69d60b9873ca73e8c117e5259459b2ac', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}, {'number': 11, 'created': '2014-04-14 14:42:07.000000000', 'files': ['tests/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/f24c67cf1dbcbef0c4bc4edf86109f2175b0cc5b', 'message': 'Add tests for bin/swift\n\nTests are written to ensure bin/swift is working properly and using\nfunctions from swiftclient modules as expected.\n\nChange-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13\n'}]",10,73710,f24c67cf1dbcbef0c4bc4edf86109f2175b0cc5b,60,4,11,6968,,,0,"Add tests for bin/swift

Tests are written to ensure bin/swift is working properly and using
functions from swiftclient modules as expected.

Change-Id: Idb0581516b7e0a41c97977bb0bb9f8290f67ad13
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/10/73710/2 && git format-patch -1 --stdout FETCH_HEAD,"['bin/swift', 'swiftclient/shell.py', 'tests/test_shell.py']",3,ee4797694b7f634fe39546dae1bdb0978e751d7c,swiftclient-bin-tests,"# Copyright (c) 2014 Christian Schwede <christian.schwede@enovance.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock import os import tempfile import unittest import swiftclient import swiftclient.shell class TestShell(unittest.TestCase): def __init__(self, *args, **kwargs): super(TestShell, self).__init__(*args, **kwargs) os.environ['OS_TENANT_NAME'] = ""my_tenant"" os.environ['OS_USERNAME'] = ""test:user"" os.environ['ST_USER'] = ""test:tester"" os.environ['ST_PASSWORD'] = ""testing"" tmpfile = tempfile.NamedTemporaryFile(delete=False) self.tmpfile = tmpfile.name def tearDown(self): try: os.remove(self.tmpfile) except OSError: pass def check_global_args(self, args): self.assertEqual(args.verbose, 1) self.assertEqual(args.os_tenant_name, 'my_tenant') self.assertEqual(args.user, 'test:tester') @mock.patch('swiftclient.command_helpers.stat_object') @mock.patch('swiftclient.command_helpers.stat_container') @mock.patch('swiftclient.command_helpers.stat_account') def test_stat(self, stat_account, stat_container, stat_object): argv = ["""", ""stat""] swiftclient.shell.main(argv) stat_account.assert_called() args, kwargs = stat_account.call_args self.check_global_args(args[1]) argv = ["""", ""stat"", ""container""] swiftclient.shell.main(argv) stat_container.assert_called() args, kwargs = stat_container.call_args self.assertEqual(args[2], ['container']) self.check_global_args(args[1]) argv = ["""", ""stat"", ""container"", ""object""] swiftclient.shell.main(argv) stat_object.assert_called() args, kwargs = stat_object.call_args self.assertEqual(args[2], ['container', 'object']) self.check_global_args(args[1]) @mock.patch('swiftclient.shell.Connection') def test_list(self, connection): # Test account listing connection.return_value.get_account.side_effect = [ [None, [{'name': 'container_a'}]], [None, []], ] argv = ["""", ""list""] swiftclient.shell.main(argv) calls = [mock.call(marker='', prefix=None), mock.call(marker='container_a', prefix=None)] connection.return_value.get_account.assert_has_calls(calls) # Test container listing connection.return_value.get_container.side_effect = [ [None, [{'name': 'object_a'}]], [None, []], ] argv = ["""", ""list"", ""container""] swiftclient.shell.main(argv) calls = [ mock.call('container', marker='', delimiter=None, prefix=None), mock.call('container', marker='object_a', delimiter=None, prefix=None)] connection.return_value.get_container.assert_has_calls(calls) # Test container listing with --long connection.return_value.get_container.side_effect = [ [None, [{'name': 'object_a', 'bytes': 0, 'last_modified': '123T456'}]], [None, []], ] argv = ["""", ""list"", ""container"", ""--long""] swiftclient.shell.main(argv) calls = [ mock.call('container', marker='', delimiter=None, prefix=None), mock.call('container', marker='object_a', delimiter=None, prefix=None)] connection.return_value.get_container.assert_has_calls(calls) @mock.patch('__builtin__.open') @mock.patch('swiftclient.shell.Connection') def test_download(self, connection, mock_open): connection.return_value.get_object.return_value = [ {'content-type': 'text/plain', 'etag': 'd41d8cd98f00b204e9800998ecf8427e'}, ''] # Test downloading whole container connection.return_value.get_container.side_effect = [ [None, [{'name': 'object'}]], [None, []], ] argv = ["""", ""download"", ""container""] swiftclient.shell.main(argv) connection.return_value.get_object.assert_called_with( 'container', 'object', headers={}, resp_chunk_size=65536) # Test downloading single object argv = ["""", ""download"", ""container"", ""object""] swiftclient.shell.main(argv) connection.return_value.get_object.assert_called_with( 'container', 'object', headers={}, resp_chunk_size=65536) @mock.patch('swiftclient.shell.listdir') @mock.patch('swiftclient.shell.Connection') def test_upload(self, connection, listdir): connection.return_value.head_object.return_value = { 'content-length': '0'} argv = ["""", ""upload"", ""container"", self.tmpfile] swiftclient.shell.main(argv) connection.return_value.put_object.assert_called_with( 'container', self.tmpfile.lstrip('/'), mock.ANY, content_length=0, headers={'x-object-meta-mtime': mock.ANY}) # Upload whole directory argv = ["""", ""upload"", ""container"", ""/tmp""] listdir.return_value = [self.tmpfile] swiftclient.shell.main(argv) connection.return_value.put_object.assert_called_with( 'container', self.tmpfile.lstrip('/'), mock.ANY, content_length=0, headers={'x-object-meta-mtime': mock.ANY}) # Upload in segments argv = ["""", ""upload"", ""container"", self.tmpfile, ""-S"", ""10""] with open(self.tmpfile, ""wb"") as fh: fh.write('12345678901234567890') swiftclient.shell.main(argv) connection.return_value.put_object.assert_called_with( 'container', self.tmpfile.lstrip('/'), '', content_length=0, headers={'x-object-manifest': mock.ANY, 'x-object-meta-mtime': mock.ANY}) @mock.patch('swiftclient.shell.Connection') def test_delete(self, connection): argv = ["""", ""delete"", ""container""] connection.return_value.head_object.return_value = {} swiftclient.shell.main(argv) connection.return_value.delete_container.assert_called_with( 'container') argv = ["""", ""delete"", ""container"", ""object""] connection.return_value.head_object.return_value = {} swiftclient.shell.main(argv) connection.return_value.delete_object.assert_called_with( 'container', 'object', query_string=None) @mock.patch('swiftclient.shell.Connection') def test_post(self, connection): argv = ["""", ""post"", ""container"", ""object""] connection.return_value.head_object.return_value = {} swiftclient.shell.main(argv) connection.return_value.post_object.assert_called_with( 'container', 'object', headers={}) @mock.patch('swiftclient.shell.Connection') def test_capabilities(self, connection): argv = ["""", ""capabilities""] connection.return_value.get_capabilities.return_value = {'swift': None} swiftclient.shell.main(argv) if __name__ == '__main__': unittest.main() ",,1663,1420
openstack%2Fneutron~master~I909025503fc88a92201d5247ae5223e4516e8707,openstack/neutron,master,I909025503fc88a92201d5247ae5223e4516e8707,Notifier: Catch NotFound error from nova,MERGED,2014-04-17 20:53:03.000000000,2014-04-18 02:19:25.000000000,2014-04-18 02:19:23.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7317}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-04-17 20:53:03.000000000', 'files': ['neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_notifiers_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c049583e80d9b2234557a11b77d843549f1efa65', 'message': ""Notifier: Catch NotFound error from nova\n\nIf neutron sends a single event to nova and the server_uuid isn't found\nin nova. The python-novaclient will raise a 404 error. This patch ensures\nwe explicitly catch that exception and use LOG.warning instead of LOG.exception\nas this is not an error and can happen when deleting an instance if neutron\ndetects that the port_status goes down before the port is deleted because\nnova first unplugs the vif and then deletes it from neutron.\n\nChange-Id: I909025503fc88a92201d5247ae5223e4516e8707\nCloses-bug: #1309187\n""}]",0,88434,c049583e80d9b2234557a11b77d843549f1efa65,16,12,1,4395,,,0,"Notifier: Catch NotFound error from nova

If neutron sends a single event to nova and the server_uuid isn't found
in nova. The python-novaclient will raise a 404 error. This patch ensures
we explicitly catch that exception and use LOG.warning instead of LOG.exception
as this is not an error and can happen when deleting an instance if neutron
detects that the port_status goes down before the port is deleted because
nova first unplugs the vif and then deletes it from neutron.

Change-Id: I909025503fc88a92201d5247ae5223e4516e8707
Closes-bug: #1309187
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/88434/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_notifiers_nova.py']",2,c049583e80d9b2234557a11b77d843549f1efa65,master,"from novaclient import exceptions as nova_exceptions def test_nova_send_event_rasies_404(self): with mock.patch.object( self.nova_notifier.nclient.server_external_events, 'create') as nclient_create: nclient_create.side_effect = nova_exceptions.NotFound self.nova_notifier.send_events() ",,12,0
openstack%2Fswift~master~I49b5b4db3341416fce1ef42811732c16d3265522,openstack/swift,master,I49b5b4db3341416fce1ef42811732c16d3265522,Bring Object Auditor Coverage To 99%,MERGED,2014-04-12 23:41:21.000000000,2014-04-18 02:06:12.000000000,2014-04-18 02:06:12.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 6198}, {'_account_id': 6968}, {'_account_id': 7479}]","[{'number': 1, 'created': '2014-04-12 23:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3a0fe26cf2c428146e8fbacec299f3c40a0786f8', 'message': 'Bring Object Auditor Coverage To 99%\n\nPreviously at 87% with 20 missing 11 partial, this additional\ntest code brings it to 99% 0 missing and 3 partial.  Noticed\nsome easy places to add coverage while working on the\nStorage Policy branch.\n\nChange-Id: I49b5b4db3341416fce1ef42811732c16d3265522\n'}, {'number': 2, 'created': '2014-04-13 00:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43e5b8ed4ccf5568a13a716b98e09ed44df447b3', 'message': 'Bring Object Auditor Coverage To 99%\n\nPreviously at 87% with 20 missing 11 partial, this additional\ntest code brings it to 99% 0 missing and 3 partial.  Noticed\nsome easy places to add coverage while working on the\nStorage Policy branch.\n\nChange-Id: I49b5b4db3341416fce1ef42811732c16d3265522\n'}, {'number': 3, 'created': '2014-04-13 01:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf63b029a83df2c5d05dc3e649f55aa90ca4fd16', 'message': 'Bring Object Auditor Coverage To 99%\n\nPreviously at 87% with 20 missing 11 partial, this additional\ntest code brings it to 99% 0 missing and 3 partial.  Noticed\nsome easy places to add coverage while working on the\nStorage Policy branch.\n\nChange-Id: I49b5b4db3341416fce1ef42811732c16d3265522\n'}, {'number': 4, 'created': '2014-04-15 12:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4c6d5351fe94b43d223659f2ff0b80f317104a23', 'message': 'Bring Object Auditor Coverage To 99%\n\nPreviously at 87% with 20 missing 11 partial, this additional\ntest code brings it to 99% 0 missing and 3 partial.  Noticed\nsome easy places to add coverage while working on the\nStorage Policy branch.\n\nChange-Id: I49b5b4db3341416fce1ef42811732c16d3265522\n'}, {'number': 5, 'created': '2014-04-17 16:59:43.000000000', 'files': ['test/unit/obj/test_auditor.py', 'swift/obj/auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/968ec9806fb6ee12b4cd5ef016363bd1850dab95', 'message': 'Bring Object Auditor Coverage To 99%\n\nPreviously at 87% with 20 missing 11 partial, this additional\ntest code brings it to 99% 0 missing and 3 partial.  Noticed\nsome easy places to add coverage while working on the\nStorage Policy branch.\n\nChange-Id: I49b5b4db3341416fce1ef42811732c16d3265522\n'}]",7,87101,968ec9806fb6ee12b4cd5ef016363bd1850dab95,27,6,5,7479,,,0,"Bring Object Auditor Coverage To 99%

Previously at 87% with 20 missing 11 partial, this additional
test code brings it to 99% 0 missing and 3 partial.  Noticed
some easy places to add coverage while working on the
Storage Policy branch.

Change-Id: I49b5b4db3341416fce1ef42811732c16d3265522
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/87101/4 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_auditor.py'],1,3a0fe26cf2c428146e8fbacec299f3c40a0786f8,audit," # pick up some additional code coverage, large file data = '0' * 1024 * 1024 etag = md5() with self.disk_file.create() as writer: writer.write(data) etag.update(data) etag = etag.hexdigest() metadata = { 'ETag': etag, 'X-Timestamp': timestamp, 'Content-Length': str(os.fstat(writer._fd).st_size), } writer.put(metadata) auditor_worker.audit_all_objects(device_dirs=['sda', 'sdb']) self.assertEquals(auditor_worker.quarantines, pre_quarantines) self.assertEquals(auditor_worker.stats_buckets[1024], 1) self.assertEquals(auditor_worker.stats_buckets[10240], 0) # pick up even more additional code coverage, misc paths auditor_worker.log_time = -1 auditor_worker.stats_sizes = [] auditor_worker.audit_all_objects(device_dirs=['sda', 'sdb']) class Timeout(Exception): pass def mock_audit_loop_timeout(self, parent, zbo_fps, override_devices=None, **kwargs): raise Timeout def mock_audit_loop_bogus(self): pass real_audit_loop = my_auditor.audit_loop my_auditor.audit_loop = mocker.mock_audit_loop_timeout os.fork = mocker.mock_fork os.wait = mocker.mock_wait try: my_auditor.run_once(zero_byte_fps=50) self.assertRaises(StopForever, my_auditor.run_forever) my_auditor.audit_loop = mocker.mock_audit_loop_bogus my_auditor.run_once(zero_byte_fps=50) self.assertRaises(StopForever, my_auditor.run_forever) my_auditor.audit_loop = real_audit_loop ", try: os.fork = mocker.mock_fork os.wait = mocker.mock_wait,45,2
openstack%2Fkeystone~master~I437039fe520bd88b556af9ed2ee4a14bfe120498,openstack/keystone,master,I437039fe520bd88b556af9ed2ee4a14bfe120498,Don't re-raise instance,MERGED,2014-04-14 01:25:51.000000000,2014-04-18 02:05:20.000000000,2014-04-18 02:05:19.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-04-14 01:25:51.000000000', 'files': ['keystone/assignment/backends/ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2179958faf7270b393074f751935daa675a4f06a', 'message': ""Don't re-raise instance\n\nThere were a couple of places where the code would re-raise an\nexception with `raise inst`. This would lose the original\nbacktrace.\n\nChange-Id: I437039fe520bd88b556af9ed2ee4a14bfe120498\n""}]",0,87149,2179958faf7270b393074f751935daa675a4f06a,11,4,1,6486,,,0,"Don't re-raise instance

There were a couple of places where the code would re-raise an
exception with `raise inst`. This would lose the original
backtrace.

Change-Id: I437039fe520bd88b556af9ed2ee4a14bfe120498
",git fetch https://review.opendev.org/openstack/keystone refs/changes/49/87149/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/backends/ldap.py'],1,2179958faf7270b393074f751935daa675a4f06a,cleanup," conn.add_s(role_dn, attrs) conn.delete_s(role_dn)"," try: conn.add_s(role_dn, attrs) except Exception as inst: raise inst try: conn.delete_s(role_dn) except Exception as inst: raise inst",2,8
openstack%2Ffuel-docs~master~I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9,openstack/fuel-docs,master,I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9,break up reference-arch source into modular files,MERGED,2014-03-27 21:19:29.000000000,2014-04-18 01:56:00.000000000,2014-04-18 01:56:00.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 10014}]","[{'number': 1, 'created': '2014-03-27 21:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1acfcac406a35fd83afe39d59bc692588274affe', 'message': 'break up files to be modular\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}, {'number': 2, 'created': '2014-03-27 21:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/e1fc1a9a6221d160bd7e9f87caab1aed4b7ee17c', 'message': 'break up files to be modular\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}, {'number': 3, 'created': '2014-04-01 08:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/c3bdd09201559b682fab1f08d61582aa91499cb9', 'message': 'break up reference-arch source into modular files\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}, {'number': 4, 'created': '2014-04-14 23:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/649e1622cc6e716f0d55228ec7f7827432aa49e6', 'message': 'break up reference-arch source into modular files\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}, {'number': 5, 'created': '2014-04-15 00:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/465e41e36cde92d31ad26b171a6618a5ab205078', 'message': 'break up reference-arch source into modular files\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}, {'number': 6, 'created': '2014-04-15 00:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/ec326170d8526d0fe32939eb45c550c43eff7226', 'message': 'break up reference-arch source into modular files\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}, {'number': 7, 'created': '2014-04-18 01:41:40.000000000', 'files': ['pages/reference-architecture/0040-network-setup.rst', 'pages/reference-architecture/storage/0100-object-store-for-images.rst', 'pages/reference-architecture/logical-setup/0400-storage-nodes.rst', 'pages/reference-architecture/ovs/0230-cli-transformation.rst', 'pages/reference-architecture/storage/0300-block-storage-for-volumes.rst', 'pages/reference-architecture/storage/0200-object-storage-for-apps.rst', 'pages/reference-architecture/0020-logical-setup.rst', 'pages/reference-architecture/logical-setup/0100-intro-logical-setup.rst', 'contents/contents-refarch.rst', 'pages/reference-architecture/network-setup/0500-nic-usage.rst', 'pages/reference-architecture/network-setup/0100-network-intro.rst', 'pages/reference-architecture/0100-bonding.rst', 'pages/reference-architecture/ovs/0350-bonding-ui.rst', 'pages/reference-architecture/ovs/0100-neutron-ref-model.rst', 'pages/reference-architecture/network-setup/0200-public-net.rst', 'pages/reference-architecture/network-setup/0300-internal-mgmt-net.rst', 'pages/reference-architecture/storage/0000-storage-intro.rst', 'reference-architecture.rst', 'pages/reference-architecture/neutron-intro/0200-neutron-tech-intro.rst', 'pages/reference-architecture/neutron-intro/0300-neutron-limits.rst', 'pages/reference-architecture/ovs/0000-ovs-intro.rst', 'pages/reference-architecture/logical-setup/0200-controller-nodes.rst', 'pages/reference-architecture/ovs/0200-cli-adjust-network-config.rst', 'pages/reference-architecture/0050-technical-considerations-DISPLAYSTUB', 'pages/reference-architecture/neutron-intro/0600-virtualbox-promiscuous-mode.rst', 'pages/reference-architecture/0060-quantum-vs-nova-network.rst', 'pages/reference-architecture/0060-neutron-vs-nova-network.rst', 'pages/reference-architecture/0045-storage.rst', 'pages/reference-architecture/ovs/0330-bonding-cli-ex.rst', 'pages/reference-architecture/logical-setup/0300-compute-nodes.rst', 'pages/reference-architecture/neutron-intro/0100-neutron-vs-nova-network-intro.rst', 'pages/reference-architecture/network-setup/0400-private-network.rst', 'pages/reference-architecture/neutron-intro/0150-mos-networks-list.rst', 'pages/reference-architecture/ovs/0300-bonding-theory.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1f6453a72c23e6d73cdfaa22b62d520f48b00088', 'message': 'break up reference-arch source into modular files\n\nChange-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9\n'}]",0,83592,1f6453a72c23e6d73cdfaa22b62d520f48b00088,39,4,7,10014,,,0,"break up reference-arch source into modular files

Change-Id: I5b4458ec3e90f0974a7e070cdc9739727e7b8cc9
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/92/83592/4 && git format-patch -1 --stdout FETCH_HEAD,"['pages/reference-architecture/0040-network-setup.rst', 'pages/reference-architecture/storage/0100-object-store-for-images.rst', 'pages/reference-architecture/logical-setup/0400-storage-nodes.rst', 'pages/reference-architecture/ovs/0230-cli-transformation.rst', 'pages/reference-architecture/storage/0300-block-storage-for-volumes.rst', 'pages/reference-architecture/storage/0200-object-storage-for-apps.rst', 'pages/reference-architecture/0020-logical-setup.rst', 'pages/reference-architecture/logical-setup/0100-intro-logical-setup.rst', 'pages/reference-architecture/network-setup/0500-nic-usage.rst', 'pages/reference-architecture/network-setup/0100-network-intro.rst', 'pages/reference-architecture/0100-bonding.rst', 'pages/reference-architecture/ovs/0350-bonding-ui.rst', 'pages/reference-architecture/ovs/0100-neutron-ref-model.rst', 'pages/reference-architecture/network-setup/0200-public-net.rst', 'pages/reference-architecture/network-setup/0300-internal-mgmt-net.rst', 'pages/reference-architecture/storage/0000-storage-intro.rst', 'reference-architecture.rst', 'pages/reference-architecture/neutron-intro/0200-neutron-tech-intro.rst', 'pages/reference-architecture/neutron-intro/0300-neutron-limits.rst', 'pages/reference-architecture/neutron-intro/meg.tmp', 'pages/reference-architecture/ovs/0000-ovs-intro.rst', 'pages/reference-architecture/logical-setup/0200-controller-nodes.rst', 'pages/reference-architecture/ovs/0200-cli-adjust-network-config.rst', 'pages/reference-architecture/neutron-intro/0600-virtualbox-promiscuous-mode.rst', 'pages/reference-architecture/0060-quantum-vs-nova-network.rst', 'pages/reference-architecture/0060-neutron-vs-nova-network.rst', 'pages/reference-architecture/0045-storage.rst', 'pages/reference-architecture/ovs/0330-bonding-cli-ex.rst', 'pages/reference-architecture/logical-setup/0300-compute-nodes.rst', 'pages/reference-architecture/neutron-intro/0100-neutron-vs-nova-network-intro.rst', 'pages/reference-architecture/network-setup/0400-private-network.rst', 'pages/reference-architecture/neutron-intro/0150-mos-networks-list.rst', 'pages/reference-architecture/ovs/0300-bonding-theory.rst']",33,1acfcac406a35fd83afe39d59bc692588274affe,refarchmod,"NICs Aggregation ---------------- The NIC bonding allows you to aggregate multiple physical links to one link to increase speed and provide fault tolerance. **Documentation** The Linux kernel documentation about bonding can be found in Linux Ethernet Bonding Driver HOWTO: https://www.kernel.org/doc/Documentation/networking/bonding.txt. You can find shorter introduction to bonding and tips on link monitoring here: http://wiki.mikrotik.com/wiki/Manual:Interface/Bonding Cisco switches configuration guide: http://www.cisco.com/c/en/us/td/docs/switches/datacenter/nexus3000/sw/layer2/503_U2_1/b_Cisco_n3k_layer2_config_guide_503_U2_1/b_Cisco_n3k_layer2_config_gd_503_U2_1_chapter_01000.html Switches configuration tips for Fuel: https://etherpad.openstack.org/p/LACP_FUEL_bonding **Types of Bonding** Open VSwitch supports the same bonding features as the Linux kernel. Fuel supports bonding via Open VSwitch only. Linux supports two types of bonding: * IEEE 802.1AX (formerly known as 802.3ad) Link Aggregation Control Protocol (LACP). Devices on both sides of links must communicate using LACP to set up an aggregated link. So both devices must support LACP, enable and configure it on these links. * One side bonding does not require any special feature support from the switch side. Linux handles it using a set of traffic balancing algorithms. One Side Bonding Policies: * Balance-rr - Round-robin policy. This mode provides load balancing and fault tolerance. * Active-backup - Active-backup policy: Only one slave in the bond is active.This mode provides fault tolerance. * Balance-xor - XOR policy: Transmit based on the selected transmit hash policy. This mode provides load balancing and fault tolerance. * Broadcast - Broadcast policy: transmits everything on all slave interfaces. This mode provides fault tolerance. * balance-tlb - Adaptive transmit load balancing based on a current links' utilisation. This mode provides load balancing and fault tolerance. * balance-alb - Adaptive transmit and receive load balancing based on the current links' utilisation. This mode provides load balancing and fault tolerance. * balance-slb - Modification of balance-alb mode. SLB bonding allows a limited form of load balancing without the remote switch's knowledge or cooperation. SLB assigns each source MAC+VLAN pair to a link and transmits all packets from that MAC+VLAN through that link. Learning in the remote switch causes it to send packets to that MAC+VLAN through the same link. * balance-tcp - Adaptive transmit load balancing among interfaces. LACP Policies: * Layer2 - Uses XOR of hardware MAC addresses to generate the hash. * Layer2+3 - uses a combination of layer2 and layer3 protocol information to generate the hash. * Layer3+4 - uses upper layer protocol information, when available, to generate the hash. * Encap2+3 - uses the same formula as layer2+3 but it relies on skb_flow_dissect to obtain the header fields which might result in the use of inner headers if an encapsulation protocol is used. For example this will improve the performance for tunnel users because the packets will be distributed according to the encapsulated flows. * Encap3+4 - Similar to Encap2+3 but uses layer3+4. **Policies Supported by Fuel** Fuel supports the following policies: Active-backup, balance-slb, LACP balance-tcp. **Network Verification in Fuel** Fuel has limited network verification capabilities when working with bonds. Network connectivity can be checked for the new cluster only (not for deployed one) so check is done when nodes are in bootstrap and no bonds are up. Connectivity between slave interfaces can be checked but not bonds themselves. ",,985,821
openstack%2Fcinder~master~I82ed145db06a72d1ec0be9793323fa4142f86251,openstack/cinder,master,I82ed145db06a72d1ec0be9793323fa4142f86251,Regression test for missing attrs in glance image,ABANDONED,2014-04-16 21:37:00.000000000,2014-04-18 01:51:24.000000000,,"[{'_account_id': 3}, {'_account_id': 7198}]","[{'number': 1, 'created': '2014-04-16 21:37:00.000000000', 'files': ['cinder/tests/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ea8b4f6146d201f0e22556a8cb5f84a2f071248', 'message': 'Regression test for missing attrs in glance image\n\nVerify our extract attributes code from a glance image is aware of\nmissing attributes like name and checksum.\n\nCloses-Bug: #1308058\nChange-Id: I82ed145db06a72d1ec0be9793323fa4142f86251\n'}]",0,88090,7ea8b4f6146d201f0e22556a8cb5f84a2f071248,4,2,1,170,,,0,"Regression test for missing attrs in glance image

Verify our extract attributes code from a glance image is aware of
missing attributes like name and checksum.

Closes-Bug: #1308058
Change-Id: I82ed145db06a72d1ec0be9793323fa4142f86251
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/88090/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/image/test_glance.py'],1,7ea8b4f6146d201f0e22556a8cb5f84a2f071248,bug/1308058,"from glanceclient.v2 import client as glance_client_v2 def test_extracting_missing_attributes(self): """"""Verify behavior from glance objects that are missing attributes This fakes the image class and is missing the checksum and name attribute as the client would return if they're not set in the database. Regression test for bug #1308058. """""" class MyFakeGlanceImage(glance_stubs.FakeImage): def __init__(self, metadata): IMAGE_ATTRIBUTES = ['size', 'disk_format', 'owner', 'container_format', 'id', 'created_at', 'updated_at', 'deleted', 'status', 'min_disk', 'min_ram', 'is_public'] raw = dict.fromkeys(IMAGE_ATTRIBUTES) raw.update(metadata) self.__dict__['raw'] = raw metadata = { 'id': 1, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, } image = MyFakeGlanceImage(metadata) actual = glance._extract_attributes(image) expected = { 'id': 1, 'name': None, 'is_public': None, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'status': None, 'properties': {}, 'owner': None, } self.assertEqual(actual, expected) self.stubs.Set(glance_client_v2.Client, '_get_image_model', self.stubs.Set(glance_client_v2.Client, '_get_member_model',","import glanceclient.v2.client from glanceclient.v2.client import Client as glanceclient_v2 self.stubs.Set(glanceclient_v2, '_get_image_model', self.stubs.Set(glanceclient_v2, '_get_member_model',",47,4
openstack%2Fnova~master~I66682ca0cc886d050546e73dcb3c98314041e557,openstack/nova,master,I66682ca0cc886d050546e73dcb3c98314041e557,Make one output use unicode in api services,ABANDONED,2014-03-12 06:53:51.000000000,2014-04-18 01:34:48.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-03-12 06:53:51.000000000', 'files': ['nova/api/openstack/compute/contrib/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d865bec29dd3a5196bc3234a704d2afe7bf1f4a', 'message': ""Make one output use unicode in api services\n\nOne of existing exception log message of api services\ndoesn't use unicode ,this patch corrects it.\n\nChange-Id: I66682ca0cc886d050546e73dcb3c98314041e557\n""}]",0,79862,0d865bec29dd3a5196bc3234a704d2afe7bf1f4a,10,5,1,6062,,,0,"Make one output use unicode in api services

One of existing exception log message of api services
doesn't use unicode ,this patch corrects it.

Change-Id: I66682ca0cc886d050546e73dcb3c98314041e557
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/79862/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/services.py'],1,0d865bec29dd3a5196bc3234a704d2afe7bf1f4a,make-log-use-unicode-api-service," raise webob.exc.HTTPNotFound(_(""Unknown action""))"," raise webob.exc.HTTPNotFound(""Unknown action"")",1,1
openstack%2Ffuel-docs~master~Ia921903b5218525a744b29995053c9c8b112a631,openstack/fuel-docs,master,Ia921903b5218525a744b29995053c9c8b112a631,split faq source into modular files,MERGED,2014-03-26 08:22:49.000000000,2014-04-18 01:03:03.000000000,2014-04-18 01:03:03.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9695}, {'_account_id': 10014}]","[{'number': 1, 'created': '2014-03-26 08:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/84db06bbae486b0f4ecc39da87cb0c47f7950342', 'message': 'split files to be more modular\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}, {'number': 2, 'created': '2014-03-26 08:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/e5ee43b1f89a3333fea0b4acfde84c6be0760ce8', 'message': 'split files to be more modular\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}, {'number': 3, 'created': '2014-04-01 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/88a26f51dd6d74a5b0ef632dfbfbbdc74fe82613', 'message': 'split faq source into modular files\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}, {'number': 4, 'created': '2014-04-08 09:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/ba426eecf1ede96e1af3707d65f8e4eba44fa260', 'message': 'split faq source into modular files\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}, {'number': 5, 'created': '2014-04-10 05:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1b6966dff6d9d4ee9f0ba9d48d21a3c3d1780dac', 'message': 'split faq source into modular files\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}, {'number': 6, 'created': '2014-04-17 01:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/80b812c51392fdf1b9571d44bad5da38a3875c57', 'message': 'split faq source into modular files\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}, {'number': 7, 'created': '2014-04-18 00:58:23.000000000', 'files': ['pages/frequently-asked-questions/0260-verify-neutron-ha-crm.rst', 'pages/frequently-asked-questions/0250-crm-resources.rst', 'pages/frequently-asked-questions/0020-rabbitmq.rst', 'pages/frequently-asked-questions/0020-galera', 'pages/frequently-asked-questions/0220-redeploy-node.rst', 'pages/frequently-asked-questions/0120-pacemaker-settings.rst', 'pages/frequently-asked-questions/0010-corosync-crashes.rst', 'pages/frequently-asked-questions/0030-howtos.rst', 'pages/frequently-asked-questions/0090-ha-notes.rst', 'pages/frequently-asked-questions/0240-tshoot-corosync-pacemaker.rst', 'pages/frequently-asked-questions/0110-corosync-settings.rst', 'pages/frequently-asked-questions/0210-create-xfs.rst', 'pages/frequently-asked-questions/0000-common-issues-header.rst', 'pages/frequently-asked-questions/0130-how-fuel-deploys-ha.rst', 'pages/frequently-asked-questions/0000-technical-DISPLAYSTUB', 'pages/frequently-asked-questions/0300-other-questions.rst', 'frequently-asked-questions.rst', 'pages/frequently-asked-questions/0200-howtos.rst', 'pages/frequently-asked-questions/0230-galera-autorebuild.rst', 'pages/frequently-asked-questions/0100-ha-notes.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/db46e21a22d1d4cc4e94074f8ed6cf91701415d6', 'message': 'split faq source into modular files\n\nChange-Id: Ia921903b5218525a744b29995053c9c8b112a631\n'}]",0,83003,db46e21a22d1d4cc4e94074f8ed6cf91701415d6,37,5,7,10014,,,0,"split faq source into modular files

Change-Id: Ia921903b5218525a744b29995053c9c8b112a631
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/03/83003/1 && git format-patch -1 --stdout FETCH_HEAD,"['pages/frequently-asked-questions/0094-pacemaker-settings.rst', 'pages/frequently-asked-questions/0039-crm.rst', 'pages/frequently-asked-questions/0040-corosync-crashes.rst', 'pages/frequently-asked-questions/0092-corosync-settings.rst', 'pages/frequently-asked-questions/0030-howtos.rst', 'pages/frequently-asked-questions/0090-ha-notes.rst', 'pages/frequently-asked-questions/0037-galera-autorebuild.rst', 'pages/frequently-asked-questions/0038-tshoot-corosync-pacemaker.rst', 'pages/frequently-asked-questions/0039-common-issues-header.rst', 'pages/frequently-asked-questions/0036-redeploy-node.rst', 'pages/frequently-asked-questions/0095-how-fuel-deploys-ha.rst', 'pages/frequently-asked-questions/0035-create-xfs.rst', 'frequently-asked-questions.rst']",13,84db06bbae486b0f4ecc39da87cb0c47f7950342,faqmod,.. include:: /pages/frequently-asked-questions/0039.common-issues-header.rst.. include:: /pages/frequently-asked-questions/0092-corosync-settings.rst .. include:: /pages/frequently-asked-questions/0094-pacemaker-settings.rst .. include:: /pages/frequently-asked-questions/0095-how-fuel-deploys-ha.rst.. include:: /pages/frequently-asked-questions/0035-create-xfs.rst .. include:: /pages/frequently-asked-questions/0036.redeploy-node.rst .. include:: /pages/frequently-asked-questions/0037-galera-autorebuild.rst .. include:: /pages/frequently-asked-questions/0038-tshoot-corosync-pacemaker.rst .. include:: /pages/frequently-asked-questions/0039-crm.rst,,522,515
openstack%2Fdevstack~master~I609b67aed9afb6d7fccb190c6d2695bd406e85df,openstack/devstack,master,I609b67aed9afb6d7fccb190c6d2695bd406e85df,Add fping utility path to nova.conf,ABANDONED,2014-04-11 06:25:14.000000000,2014-04-18 00:51:22.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5689}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-11 06:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/64418ef6c767198444e01408c8a504a690bc5de1', 'message': ""Add fping utility path to nova.conf\n\nfping package introduced by Ibdc7479a9038321e4fc3953774a6f3e1dac90530 .\nBut there is difference between Nova's default fping path and Ubuntu\npackage path. So we can't still use os-fping API in Ubuntu. This commit\nadds fping_path to nova.conf in Ubuntu.\n\nChange-Id: I609b67aed9afb6d7fccb190c6d2695bd406e85df\nCloses-Bug: #1306390\n""}, {'number': 2, 'created': '2014-04-12 08:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f1a5fda377c1f46ab2d3c6a4eec6c02b6dc888be', 'message': ""Add fping utility path to nova.conf\n\nfping package introduced by Ibdc7479a9038321e4fc3953774a6f3e1dac90530 .\nBut there is difference between Nova's default fping path and Ubuntu\npackage path. So we can't still use os-fping API in Ubuntu. This commit\nadds fping_path to nova.conf in Ubuntu.\n\nChange-Id: I609b67aed9afb6d7fccb190c6d2695bd406e85df\nCloses-Bug: #1306390\n""}, {'number': 3, 'created': '2014-04-14 05:25:59.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b6ac37780d28ac1cd8de6fa736479ce285e2dcf3', 'message': ""Add fping utility path to nova.conf\n\nfping package introduced by Ibdc7479a9038321e4fc3953774a6f3e1dac90530 .\nBut there is difference between Nova's default fping path and Ubuntu\npackage path. So we can't still use os-fping API in Ubuntu. This commit\nadds fping_path to nova.conf in Ubuntu.\n\nChange-Id: I609b67aed9afb6d7fccb190c6d2695bd406e85df\nCloses-Bug: #1306390\n""}]",0,86806,b6ac37780d28ac1cd8de6fa736479ce285e2dcf3,22,5,3,5689,,,0,"Add fping utility path to nova.conf

fping package introduced by Ibdc7479a9038321e4fc3953774a6f3e1dac90530 .
But there is difference between Nova's default fping path and Ubuntu
package path. So we can't still use os-fping API in Ubuntu. This commit
adds fping_path to nova.conf in Ubuntu.

Change-Id: I609b67aed9afb6d7fccb190c6d2695bd406e85df
Closes-Bug: #1306390
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/86806/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,64418ef6c767198444e01408c8a504a690bc5de1,add-fping-to-conf," if is_ubuntu; then # nova defaults to /usr/sbin/fping, but Ubuntu apt likes to # install things in /usr/bin iniset $NOVA_CONF DEFAULT fping_path ""/usr/bin/fping"" fi",,6,0
openstack%2Fironic~master~I28bb17c7ce2262d3088f58ab4421145e8d9baa1f,openstack/ironic,master,I28bb17c7ce2262d3088f58ab4421145e8d9baa1f,Use DiskPartitioner,MERGED,2014-03-27 14:36:21.000000000,2014-04-18 00:44:41.000000000,2014-04-18 00:44:40.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-03-27 14:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc97712fa5ee858c56b603be6ac3e0783c1031a4', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 2, 'created': '2014-03-27 15:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/06a3eacfd07906b4533f23d5c47da5e46601ffd7', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 3, 'created': '2014-03-27 15:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc1a3b9e89de56b844de15d491b59f816c53b61d', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 4, 'created': '2014-03-28 10:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/27be2425bc6f4ccfb458b4f338356b1c9b37260f', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 5, 'created': '2014-03-28 10:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e52898217324827623ddbb7ef66b42f721c2795', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 6, 'created': '2014-03-28 11:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d19f87c3f49b87212f7d46497d92b63d2906047', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 7, 'created': '2014-03-28 11:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d76276ee9c8bbcfbcbccf251ce388ee87a90e2b', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 8, 'created': '2014-03-31 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0157b19371ce224f21cf8a128561e4374cebc7f7', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 9, 'created': '2014-04-02 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a9ab3ca39cb794ac271da9cec0543ed3ad680e4', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 10, 'created': '2014-04-02 16:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e410185de37ba287456dbc700e02cd488a59d36c', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 11, 'created': '2014-04-03 14:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0342bc44012730c693412af0a3a104c056c3c5a', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 12, 'created': '2014-04-07 09:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c513d29c01f7e5add2a317b66f4b22e3f3fd9bb', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 13, 'created': '2014-04-11 11:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b98af00a6c1b426401f9f4d923aeb2f83239bc8a', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 14, 'created': '2014-04-11 12:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/87083452b4ade40eb84cc68ecefd1b69d4c6c02b', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 15, 'created': '2014-04-15 10:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d949d72cb22a2f225d5e059bc742888b5c7a08b', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 16, 'created': '2014-04-16 09:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07bbb9ce1cdcd7fa478034aa7b541f7056d51b37', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}, {'number': 17, 'created': '2014-04-17 21:27:46.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py', 'ironic/tests/test_disk_partitioner.py', 'etc/ironic/rootwrap.d/ironic-utils.filters', 'ironic/common/disk_partitioner.py', 'ironic/tests/drivers/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8be126631b9aa21826b4df2f77f55f6085f17358', 'message': 'Use DiskPartitioner\n\nUse the new DiskPartitioner class to create the partition layout.\n\nThis commit also moves the sleep() workaround to avoid the ""device is\nbusy"" problem into the DiskPartitioner wrapper.\n\nChange-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f\nCloses-Bug: #1297925\n'}]",15,83399,8be126631b9aa21826b4df2f77f55f6085f17358,91,8,17,6773,,,0,"Use DiskPartitioner

Use the new DiskPartitioner class to create the partition layout.

This commit also moves the sleep() workaround to avoid the ""device is
busy"" problem into the DiskPartitioner wrapper.

Change-Id: I28bb17c7ce2262d3088f58ab4421145e8d9baa1f
Closes-Bug: #1297925
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/83399/14 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'etc/ironic/rootwrap.d/ironic-utils.filters']",2,fc97712fa5ee858c56b603be6ac3e0783c1031a4,use-disk-partitioner," # ironic/common/disk_partitioner.py parted: CommandFilter, parted, root","sfdisk: CommandFilter, sfdisk, root",11,14
openstack%2Fheat-templates~master~I928f9f06b722767e0cfd05d33d4a225f361d96ea,openstack/heat-templates,master,I928f9f06b722767e0cfd05d33d4a225f361d96ea,Added Fedora 20 option where missing,ABANDONED,2014-04-12 01:49:12.000000000,2014-04-18 00:38:40.000000000,,"[{'_account_id': 3}, {'_account_id': 6698}, {'_account_id': 7193}, {'_account_id': 8328}]","[{'number': 1, 'created': '2014-04-12 01:49:12.000000000', 'files': ['cfn/F17/EC2WithEBSSample.template', 'cfn/F17/WordPress_Single_Instance_With_HA_AccessPolicy.template', 'cfn/F17/WordPress_Single_Instance_With_HA.yaml', 'cfn/F17/WordPress_With_LB.template', 'cfn/F17/WordPress_Single_Instance.template', 'cfn/F17/WordPress_And_Http.template', 'cfn/F17/WordPress_Single_Instance_gold.template', 'cfn/F17/WordPress_2_Instances_With_EBS_EIP.template', 'cfn/F17/WordPress_Composed_Instances.template', 'cfn/F17/WordPress_2_Instances.template', 'cfn/F17/WordPress_Single_Instance_With_Neutron.template', 'cfn/F17/WordPress_2_Instances_With_EBS.template', 'cfn/F17/WordPress_Single_Instance_With_EBS_EIP.template', 'cfn/F17/AutoScalingMultiAZSample.template', 'cfn/F17/HAProxy_Single_Instance.template', 'cfn/F17/MySQL_Single_Instance.template', 'cfn/F17/WordPress_Single_Instance_With_HA.template', 'cfn/F17/WordPress_Single_Instance_With_EBS.template', 'cfn/F17/WordPress_Single_Instance_With_EIP.template', 'cfn/F17/WordPress_NoKey.template', 'cfn/F17/PuppetMaster_Single_Instance.template', 'cfn/F17/WordPress_With_RDS.template', 'cfn/F17/WordPress_Single_Instance.yaml', 'cfn/F17/AutoScalingMultiAZSample.yaml', 'cfn/F17/WordPress_Single_Instance_With_IHA.template'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/9f3cde8ab4614952a19a9b1f8880dabd4de1f607', 'message': 'Added Fedora 20 option where missing\n\nChange-Id: I928f9f06b722767e0cfd05d33d4a225f361d96ea\nPartial-Bug: #1305425\n'}]",0,87065,9f3cde8ab4614952a19a9b1f8880dabd4de1f607,10,4,1,8328,,,0,"Added Fedora 20 option where missing

Change-Id: I928f9f06b722767e0cfd05d33d4a225f361d96ea
Partial-Bug: #1305425
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/65/87065/1 && git format-patch -1 --stdout FETCH_HEAD,"['cfn/F17/EC2WithEBSSample.template', 'cfn/F17/WordPress_Single_Instance_With_HA_AccessPolicy.template', 'cfn/F17/WordPress_Single_Instance_With_HA.yaml', 'cfn/F17/WordPress_With_LB.template', 'cfn/F17/WordPress_Single_Instance.template', 'cfn/F17/WordPress_And_Http.template', 'cfn/F17/WordPress_Single_Instance_gold.template', 'cfn/F17/WordPress_2_Instances_With_EBS_EIP.template', 'cfn/F17/WordPress_Composed_Instances.template', 'cfn/F17/WordPress_2_Instances.template', 'cfn/F17/WordPress_Single_Instance_With_Neutron.template', 'cfn/F17/WordPress_2_Instances_With_EBS.template', 'cfn/F17/WordPress_Single_Instance_With_EBS_EIP.template', 'cfn/F17/AutoScalingMultiAZSample.template', 'cfn/F17/HAProxy_Single_Instance.template', 'cfn/F17/MySQL_Single_Instance.template', 'cfn/F17/WordPress_Single_Instance_With_HA.template', 'cfn/F17/WordPress_Single_Instance_With_EBS.template', 'cfn/F17/WordPress_Single_Instance_With_EIP.template', 'cfn/F17/WordPress_NoKey.template', 'cfn/F17/PuppetMaster_Single_Instance.template', 'cfn/F17/WordPress_With_RDS.template', 'cfn/F17/WordPress_Single_Instance.yaml', 'cfn/F17/AutoScalingMultiAZSample.yaml', 'cfn/F17/WordPress_Single_Instance_With_IHA.template']",25,9f3cde8ab4614952a19a9b1f8880dabd4de1f607,bug/1305425," ""AllowedValues"" : [ ""F20"", ""F18"", ""F17"", ""U10"", ""RHEL-6.1"", ""RHEL-6.2"", ""RHEL-6.3"" ] ""F20"" : { ""32"" : ""fedora-20.i386"", ""64"" : ""fedora-20.x86_64"" },"," ""AllowedValues"" : [ ""F18"", ""F17"", ""U10"", ""RHEL-6.1"", ""RHEL-6.2"", ""RHEL-6.3"" ]",51,25
openstack%2Fironic~master~Ieb63d85022388422936bb72064d33aa7c3decaa6,openstack/ironic,master,Ieb63d85022388422936bb72064d33aa7c3decaa6,sync RPC from oslo-incubator,ABANDONED,2014-04-14 17:16:03.000000000,2014-04-18 00:28:00.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-04-14 17:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3dcb742d3dcce3baeebda641d6f42bc71f0fa8d', 'message': 'sync RPC from oslo-incubator\n\nChange-Id: Ieb63d85022388422936bb72064d33aa7c3decaa6\n'}, {'number': 2, 'created': '2014-04-14 17:17:23.000000000', 'files': ['ironic/openstack/common/rpc/impl_zmq.py', 'ironic/openstack/common/rpc/service.py', 'ironic/openstack/common/rpc/amqp.py', 'ironic/openstack/common/rpc/impl_kombu.py', 'ironic/openstack/common/rpc/impl_qpid.py', 'ironic/openstack/common/rpc/common.py', 'ironic/openstack/common/rpc/impl_fake.py', 'ironic/openstack/common/rpc/zmq_receiver.py', 'ironic/openstack/common/rpc/matchmaker.py', 'ironic/openstack/common/rpc/matchmaker_ring.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/75090608660ae241d7b1b91add9dd65ef9476a38', 'message': 'sync RPC from oslo-incubator\n\nChange-Id: Ieb63d85022388422936bb72064d33aa7c3decaa6\n'}]",0,87328,75090608660ae241d7b1b91add9dd65ef9476a38,8,4,2,2889,,,0,"sync RPC from oslo-incubator

Change-Id: Ieb63d85022388422936bb72064d33aa7c3decaa6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/87328/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/openstack/common/rpc/impl_zmq.py', 'ironic/openstack/common/rpc/service.py', 'ironic/openstack/common/rpc/amqp.py', 'ironic/openstack/common/rpc/impl_kombu.py', 'ironic/openstack/common/rpc/impl_qpid.py', 'ironic/openstack/common/rpc/common.py', 'ironic/openstack/common/rpc/impl_fake.py', 'ironic/openstack/common/rpc/zmq_receiver.py', 'ironic/openstack/common/rpc/matchmaker.py', 'ironic/openstack/common/rpc/matchmaker_ring.py']",10,c3dcb742d3dcce3baeebda641d6f42bc71f0fa8d,oslo-updates,"from ironic.openstack.common.gettextutils import _LW _LW(""No key defining hosts for topic '%s', "" ""see ringfile"") % (key, ) _LW(""No key defining hosts for topic '%s', "" ""see ringfile"") % (nkey, )","from ironic.openstack.common.gettextutils import _ _(""No key defining hosts for topic '%s', "" ""see ringfile"") % (key, ) _(""No key defining hosts for topic '%s', "" ""see ringfile"") % (nkey, )",106,102
openstack%2Fzaqar~master~I18b8b7a9284b37d866dec7ab1f8117dc779431f8,openstack/zaqar,master,I18b8b7a9284b37d866dec7ab1f8117dc779431f8,Disable Metadata write operations on v1.1,MERGED,2014-04-16 14:25:13.000000000,2014-04-18 00:02:55.000000000,2014-04-18 00:02:55.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6944}]","[{'number': 1, 'created': '2014-04-16 14:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8dd43df9e9cfbcdf40c8229e7d849a7d313b21dc', 'message': 'Disable Metadata write operations on v1.1\n\nThis is the first step towards removing metadata completely from the\nAPI. This is temporary until we decided whether we will remove read\noeprations too.\n\nPartially-Implements: api-v1.1-remove-queue-metadata\n\nChange-Id: I18b8b7a9284b37d866dec7ab1f8117dc779431f8\n'}, {'number': 2, 'created': '2014-04-16 15:16:13.000000000', 'files': ['marconi/tests/queues/transport/wsgi/test_queue_lifecycle.py', 'tests/unit/queues/transport/wsgi/test_v1_1.py', 'marconi/queues/transport/wsgi/v1_1/metadata.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/23fa8e80c7a24abdfffadded1bc6eda0c5c071d0', 'message': 'Disable Metadata write operations on v1.1\n\nThis is the first step towards removing metadata completely from the\nAPI. This is temporary until we decided whether we will remove read\noperations too.\n\nPartially-Implements: api-v1.1-remove-queue-metadata\n\nChange-Id: I18b8b7a9284b37d866dec7ab1f8117dc779431f8\n'}]",6,87979,23fa8e80c7a24abdfffadded1bc6eda0c5c071d0,13,4,2,6159,,,0,"Disable Metadata write operations on v1.1

This is the first step towards removing metadata completely from the
API. This is temporary until we decided whether we will remove read
operations too.

Partially-Implements: api-v1.1-remove-queue-metadata

Change-Id: I18b8b7a9284b37d866dec7ab1f8117dc779431f8
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/79/87979/1 && git format-patch -1 --stdout FETCH_HEAD,"['marconi/tests/queues/transport/wsgi/test_queue_lifecycle.py', 'tests/unit/queues/transport/wsgi/test_v1_1.py', 'marconi/queues/transport/wsgi/v1_1/metadata.py']",3,8dd43df9e9cfbcdf40c8229e7d849a7d313b21dc,," resp.status = falcon.HTTP_405 resp.body = (""Queue's metadata has been deprecated "" ""It will be removed completely in the next "" ""version of the API."")"," try: # Place JSON size restriction before parsing self._validate.queue_metadata_length(req.content_length) except validation.ValidationFailed as ex: LOG.debug(ex) raise wsgi_errors.HTTPBadRequestAPI(six.text_type(ex)) # Deserialize queue metadata metadata, = wsgi_utils.filter_stream(req.stream, req.content_length, spec=None) try: self.queue_ctrl.set_metadata(queue_name, metadata=metadata, project=project_id) except validation.ValidationFailed as ex: LOG.debug(ex) raise wsgi_errors.HTTPBadRequestAPI(six.text_type(ex)) except storage_errors.QueueDoesNotExist: raise falcon.HTTPNotFound() except Exception as ex: LOG.exception(ex) description = _(u'Metadata could not be updated.') raise wsgi_errors.HTTPServiceUnavailable(description) resp.status = falcon.HTTP_204",74,50
openstack%2Fnova~master~If97c59766dc77a6dd0a8fa25f4376592ea50aca1,openstack/nova,master,If97c59766dc77a6dd0a8fa25f4376592ea50aca1,Delete ovs vif port safely,ABANDONED,2014-04-17 13:50:06.000000000,2014-04-17 23:47:49.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7975}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-17 13:50:06.000000000', 'files': ['nova/network/linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d3b7bb2c148805223e6e41038d8b2a9803d6054f', 'message': 'Delete ovs vif port safely\n\nIn some cases ovs port may not exists while running delete_ovs_vif_port\n\nChange-Id: If97c59766dc77a6dd0a8fa25f4376592ea50aca1\nCloses-Bug: #1309023\n'}]",0,88301,d3b7bb2c148805223e6e41038d8b2a9803d6054f,16,6,1,7975,,,0,"Delete ovs vif port safely

In some cases ovs port may not exists while running delete_ovs_vif_port

Change-Id: If97c59766dc77a6dd0a8fa25f4376592ea50aca1
Closes-Bug: #1309023
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/88301/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/linux_net.py'],1,d3b7bb2c148805223e6e41038d8b2a9803d6054f,bug/1309023," _ovs_vsctl(['--if-exists', 'del-port', bridge, dev])"," _ovs_vsctl(['del-port', bridge, dev])",1,1
openstack%2Ftempest~stable%2Fhavana~I6b95651684644344cd688d1ca1d6b3bd6bc70f01,openstack/tempest,stable/havana,I6b95651684644344cd688d1ca1d6b3bd6bc70f01,Add swift scenario tests,MERGED,2014-02-07 17:10:18.000000000,2014-04-17 23:41:21.000000000,2014-04-17 23:41:20.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5174}, {'_account_id': 5689}, {'_account_id': 5803}]","[{'number': 1, 'created': '2014-02-07 17:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4f4348fb3c365a874f2bc927c80544efc9e5d33', 'message': 'Add swift scenario tests\n\nThis tests swift as exercises do, trying common operations as:\n - create/delete a container;\n - add/delete object to a container;\n - list objects in the container;\n\nPartial-Bug: #1023131\nCherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8\n\nChange-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01\n'}, {'number': 5, 'created': '2014-02-07 19:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b5912e9ae5a48a01cbcd42fc9cf65044f971ff00', 'message': 'Add swift scenario tests\n\nThis tests swift as exercises do, trying common operations as:\n - create/delete a container;\n - add/delete object to a container;\n - list objects in the container;\n\nPartial-Bug: #1023131\nCherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8\n\nChange-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01\n'}, {'number': 4, 'created': '2014-02-07 19:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a4687dbe4ef49b9a30a68145a3ed4cc4c4eee197', 'message': 'Add swift scenario tests\n\nThis tests swift as exercises do, trying common operations as:\n - create/delete a container;\n - add/delete object to a container;\n - list objects in the container;\n\nPartial-Bug: #1023131\nCherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8\n\nChange-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01\n'}, {'number': 3, 'created': '2014-02-07 19:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b6bf78c06478c2390503249346e20be9e71dd2fc', 'message': 'Add swift scenario tests\n\nThis tests swift as exercises do, trying common operations as:\n - create/delete a container;\n - add/delete object to a container;\n - list objects in the container;\n\nPartial-Bug: #1023131\nCherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8\n\nChange-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01\n'}, {'number': 2, 'created': '2014-02-07 19:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f2dfb7ebf9220b0368a39d8ec031ac2a0a7368bb', 'message': 'Add swift scenario tests\n\nThis tests swift as exercises do, trying common operations as:\n - create/delete a container;\n - add/delete object to a container;\n - list objects in the container;\n\nPartial-Bug: #1023131\nCherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8\n\nChange-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01\n'}, {'number': 6, 'created': '2014-04-07 13:47:54.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_swift_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b57373012e8fe9ea8ce443d541f94fea1374345e', 'message': 'Add swift scenario tests\n\nThis tests swift as exercises do, trying common operations as:\n - create/delete a container;\n - add/delete object to a container;\n - list objects in the container;\n\nPartial-Bug: #1023131\nCherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8\n\nChange-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01\n'}]",0,71951,b57373012e8fe9ea8ce443d541f94fea1374345e,45,6,6,5174,,,0,"Add swift scenario tests

This tests swift as exercises do, trying common operations as:
 - create/delete a container;
 - add/delete object to a container;
 - list objects in the container;

Partial-Bug: #1023131
Cherry-picked from Id4b27ee70f420f7536b4c698eb1f3bba15dbd1e8

Change-Id: I6b95651684644344cd688d1ca1d6b3bd6bc70f01
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/71951/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_swift_basic_ops.py']",2,d4f4348fb3c365a874f2bc927c80544efc9e5d33,71952,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common.utils.data_utils import rand_name from tempest.openstack.common import log as logging from tempest.scenario import manager from tempest.test import services LOG = logging.getLogger(__name__) class TestSwiftBasicOps(manager.OfficialClientTest): """""" Test swift with the follow operations: * get swift stat. * create container. * upload a file to the created container. * list container's objects and assure that the uploaded file is present. * delete object from container. * list container's objects and assure that the deleted file is gone. * delete a container. * list containers and assure that the deleted container is gone. """""" @classmethod def setUpClass(cls): super(TestSwiftBasicOps, cls).setUpClass() if not cls.config.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) def _get_swift_stat(self): """"""get swift status for our user account."""""" self.object_storage_client.get_account() LOG.debug('Swift status information obtained successfully') def _create_container(self, container_name=None): name = container_name or rand_name('swift-scenario-container') self.object_storage_client.put_container(name) # look for the container to assure it is created self._list_and_check_container_objects(name) LOG.debug('Container %s created' % (name)) return name def _delete_container(self, container_name): self.object_storage_client.delete_container(container_name) LOG.debug('Container %s deleted' % (container_name)) def _upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or rand_name('swift-scenario-object') self.object_storage_client.put_object(container_name, obj_name, rand_name('obj_data'), content_type='text/plain') return obj_name def _delete_object(self, container_name, filename): self.object_storage_client.delete_object(container_name, filename) self._list_and_check_container_objects(container_name, not_present_obj=[filename]) def _list_and_check_container_objects(self, container_name, present_obj=[], not_present_obj=[]): """""" List objects for a given container and assert which are present and which are not. """""" meta, response = self.object_storage_client.get_container( container_name) # create a list with file name only object_list = [obj['name'] for obj in response] if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) @services('object') def test_swift_basic_ops(self): self._get_swift_stat() container_name = self._create_container() obj_name = self._upload_object_to_container(container_name) self._list_and_check_container_objects(container_name, [obj_name]) self._delete_object(container_name, obj_name) self._delete_container(container_name) ",,132,0
openstack%2Fkeystone~master~I6c068452479ceb23010396f14fe6d155ac954b04,openstack/keystone,master,I6c068452479ceb23010396f14fe6d155ac954b04,Cleanup of test_cert_setup tests,MERGED,2014-04-01 21:11:59.000000000,2014-04-17 23:41:12.000000000,2014-04-17 23:41:11.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 9569}]","[{'number': 1, 'created': '2014-04-01 21:11:59.000000000', 'files': ['keystone/tests/test_cert_setup.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e899fd358f0623bb9ee90d4e110c43ce8322881', 'message': 'Cleanup of test_cert_setup tests\n\n- Removed the redundant calls to load backends and fixtures\n- Only create a controller in the one test that needs it\n\nChange-Id: I6c068452479ceb23010396f14fe6d155ac954b04\n'}]",0,84550,9e899fd358f0623bb9ee90d4e110c43ce8322881,19,12,1,7725,,,0,"Cleanup of test_cert_setup tests

- Removed the redundant calls to load backends and fixtures
- Only create a controller in the one test that needs it

Change-Id: I6c068452479ceb23010396f14fe6d155ac954b04
",git fetch https://review.opendev.org/openstack/keystone refs/changes/50/84550/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_cert_setup.py'],1,9e899fd358f0623bb9ee90d4e110c43ce8322881,fix-the-tests," controller = token.controllers.Auth() controller.authenticate,","from keystone.tests import default_fixtures self.load_backends() self.load_fixtures(default_fixtures) self.controller = token.controllers.Auth() self.controller.authenticate,",3,5
openstack%2Fhorizon~master~I089eff5627f870c8b3f0b7913693231602a8f9d4,openstack/horizon,master,I089eff5627f870c8b3f0b7913693231602a8f9d4,Propagate logout_reason messages,MERGED,2014-03-26 21:39:05.000000000,2014-04-17 23:39:34.000000000,2014-04-17 23:39:34.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2170}, {'_account_id': 4978}, {'_account_id': 6610}, {'_account_id': 7386}, {'_account_id': 9317}, {'_account_id': 9659}, {'_account_id': 10112}, {'_account_id': 10295}, {'_account_id': 10521}]","[{'number': 1, 'created': '2014-03-26 21:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/04109c5c8dede50941e6377a23b982ccb5b41a74', 'message': 'Propagate logout_reason messages\n\nFor ajax requests, horizon.middleware does not currently copy\nthe logout_reason cookie into newly generated redirect_responses. This will result in lost logout_reason\nmessages when a user is redirected to logout.\n\nThis patch adds the logout_reason cookie to the list of cookies\ncopied over from the incoming response to the newly created\noutgoing response.\n\nChange-Id: I089eff5627f870c8b3f0b7913693231602a8f9d4\nCloses-Bug: #1298074\n'}, {'number': 2, 'created': '2014-04-16 23:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c99ad5f9d92713f64beaeb91ed7f58f4b534a0f8', 'message': 'Propagate logout_reason messages\n\nFor ajax requests, horizon.middleware does not currently copy the\nogout_reason cookie into newly generated redirect_responses. This will result\nin lost logout_reason messages when a user is redirected to logout.\n\nThis patch adds the logout_reason cookie to the list of cookies\ncopied over from the incoming response to the newly created\noutgoing response.\n\nChange-Id: I089eff5627f870c8b3f0b7913693231602a8f9d4\nCloses-Bug: #1298074\n'}, {'number': 3, 'created': '2014-04-16 23:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0eafac6030e52497daa1a98bf5b35ec101af2c96', 'message': 'Propagate logout_reason messages\n\nFor ajax requests, horizon.middleware does not currently copy the\nogout_reason cookie into newly generated redirect_responses. This will result\nin lost logout_reason messages when a user is redirected to logout.\n\nThis patch adds the logout_reason cookie to the list of cookies\ncopied over from the incoming response to the newly created\noutgoing response.\n\nChange-Id: I089eff5627f870c8b3f0b7913693231602a8f9d4\nCloses-Bug: #1298074\n'}, {'number': 4, 'created': '2014-04-17 03:22:46.000000000', 'files': ['horizon/middleware.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/013676583d388c0717fe405a18881b41d3155545', 'message': 'Propagate logout_reason messages\n\nFor ajax requests, horizon.middleware does not currently copy the\nlogout_reason cookie into newly generated redirect_responses. This\nwill result in lost logout_reason messages when a user is redirected\nto logout.\n\nThis patch adds the logout_reason cookie to the list of cookies\ncopied over from the incoming response to the newly created\noutgoing response.\n\nChange-Id: I089eff5627f870c8b3f0b7913693231602a8f9d4\nCloses-Bug: #1298074\n'}]",4,83227,013676583d388c0717fe405a18881b41d3155545,37,11,4,2170,,,0,"Propagate logout_reason messages

For ajax requests, horizon.middleware does not currently copy the
logout_reason cookie into newly generated redirect_responses. This
will result in lost logout_reason messages when a user is redirected
to logout.

This patch adds the logout_reason cookie to the list of cookies
copied over from the incoming response to the newly created
outgoing response.

Change-Id: I089eff5627f870c8b3f0b7913693231602a8f9d4
Closes-Bug: #1298074
",git fetch https://review.opendev.org/openstack/horizon refs/changes/27/83227/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/middleware.py'],1,04109c5c8dede50941e6377a23b982ccb5b41a74,os/bug/1298074," 'secure', 'httponly', 'logout_reason') and value"," 'secure', 'httponly') and value",1,1
openstack%2Fdiskimage-builder~master~I2429371d3c5d931d46674c4e46d99599fda9f42e,openstack/diskimage-builder,master,I2429371d3c5d931d46674c4e46d99599fda9f42e,Document a little the concerns for operators.,MERGED,2014-04-01 09:17:03.000000000,2014-04-17 23:36:41.000000000,2014-04-17 22:47:57.000000000,"[{'_account_id': 3}, {'_account_id': 3068}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 8532}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-04-01 09:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5a2c8751cf5e303b071867275d5c2febe5b1b5a9', 'message': 'Document a little the concerns for operators.\n\nChange-Id: I2429371d3c5d931d46674c4e46d99599fda9f42e\n'}, {'number': 2, 'created': '2014-04-05 07:17:40.000000000', 'files': ['elements/pypi/README.md'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3b7d6694e97f35779f4243c636bf9a5f6104c0b2', 'message': 'Document a little the concerns for operators.\n\nChange-Id: I2429371d3c5d931d46674c4e46d99599fda9f42e\n'}]",2,84385,3b7d6694e97f35779f4243c636bf9a5f6104c0b2,29,7,2,4190,,,0,"Document a little the concerns for operators.

Change-Id: I2429371d3c5d931d46674c4e46d99599fda9f42e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/85/84385/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/pypi/README.md'],1,5a2c8751cf5e303b071867275d5c2febe5b1b5a9,84385, When running this for unattended installs a dedicated user with no privileges may be desirable since pypi-mirror will compile fairly arbitrary code from the internet.,,4,0
openstack%2Fnova~stable%2Ficehouse~I3574a26e374d563677905b2a3c98b72bf1429d2b,openstack/nova,stable/icehouse,I3574a26e374d563677905b2a3c98b72bf1429d2b,Opening stable/icehouse,MERGED,2014-04-17 12:42:11.000000000,2014-04-17 23:27:52.000000000,2014-04-17 19:24:33.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 2750}, {'_account_id': 5170}]","[{'number': 1, 'created': '2014-04-17 12:42:11.000000000', 'files': ['.gitreview', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/61e060e2b4cc60ee9c1c0a4d69ea4de152876475', 'message': 'Opening stable/icehouse\n\nBump version to next stable release on icehouse branch, and set\ndefaultbranch in .gitreview for convenience.\n\nChange-Id: I3574a26e374d563677905b2a3c98b72bf1429d2b\n'}]",0,88274,61e060e2b4cc60ee9c1c0a4d69ea4de152876475,13,4,1,308,,,0,"Opening stable/icehouse

Bump version to next stable release on icehouse branch, and set
defaultbranch in .gitreview for convenience.

Change-Id: I3574a26e374d563677905b2a3c98b72bf1429d2b
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/88274/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'setup.cfg']",2,61e060e2b4cc60ee9c1c0a4d69ea4de152876475,stable-icehouse,version = 2014.1.1,version = 2014.1,2,1
openstack%2Fopenstack-manuals~master~I3e29a444799f5b983ba248b45fa94f8dc0a74973,openstack/openstack-manuals,master,I3e29a444799f5b983ba248b45fa94f8dc0a74973,Document python-keystoneclient 0.8.0,MERGED,2014-04-17 07:02:17.000000000,2014-04-17 22:58:06.000000000,2014-04-17 22:58:05.000000000,"[{'_account_id': 3}, {'_account_id': 6772}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-17 07:02:17.000000000', 'files': ['doc/common/ch_cli_keystone_commands.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c4ac2a792e2e8d74a7afbc74932bea83eb552178', 'message': 'Document python-keystoneclient 0.8.0\n\nUpdate of client commands.\n\nChange-Id: I3e29a444799f5b983ba248b45fa94f8dc0a74973\n'}]",0,88180,c4ac2a792e2e8d74a7afbc74932bea83eb552178,7,3,1,6547,,,0,"Document python-keystoneclient 0.8.0

Update of client commands.

Change-Id: I3e29a444799f5b983ba248b45fa94f8dc0a74973
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/80/88180/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/ch_cli_keystone_commands.xml'],1,c4ac2a792e2e8d74a7afbc74932bea83eb552178,keystone-0.8, <command>keystone</command> version 0.8.0., <command>keystone</command> version 0.7.1.,1,1
openstack%2Fironic~master~Id5622099db689cde2c685c203323de1ea20b70b0,openstack/ironic,master,Id5622099db689cde2c685c203323de1ea20b70b0,Refactor sync_power_states tests to not use DB,MERGED,2014-04-12 07:16:39.000000000,2014-04-17 22:57:30.000000000,2014-04-17 22:55:06.000000000,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-04-12 07:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29657a9a59c26377d9984787e269008a9d1a7cae', 'message': 'Refactor sync_power_states tests to not use DB\n\nDB calls are tested separately, so using the DB in tests is unnecessary.\nThis also adds some better call argument checking and sharing of code.\n\nRefactoring this here saves a couple of future patches from having to\ninclude a ton of changes to these tests.\n\nChange-Id: Id5622099db689cde2c685c203323de1ea20b70b0\n'}, {'number': 2, 'created': '2014-04-12 07:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0e8e3f8210a3aceae14eb2267e302e389386f50', 'message': 'Refactor sync_power_states tests to not use DB\n\nDB calls are tested separately, so using the DB in tests is unnecessary.\nThis also adds some better call argument checking and sharing of code.\n\nRefactoring this here saves a couple of future patches from having to\ninclude a ton of changes to these tests.\n\nChange-Id: Id5622099db689cde2c685c203323de1ea20b70b0\n'}, {'number': 3, 'created': '2014-04-12 16:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c86492b449cd44ddfbe74b5edc35acaf068f4d23', 'message': 'Refactor sync_power_states tests to not use DB\n\nDB calls are tested separately, so using the DB in tests is unnecessary.\nThis also adds some better call argument checking and sharing of code.\n\nRefactoring this here saves a couple of future patches from having to\ninclude a ton of changes to these tests.\n\nChange-Id: Id5622099db689cde2c685c203323de1ea20b70b0\n'}, {'number': 4, 'created': '2014-04-15 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9136dc6647c74ddb850ff20780ea448225910fd7', 'message': 'Refactor sync_power_states tests to not use DB\n\nDB calls are tested separately, so using the DB in tests is unnecessary.\nThis also adds some better call argument checking and some missing test\ncases.\n\nRefactoring this here saves a couple of future patches from having to\ninclude a ton of changes to these tests.\n\nChange-Id: Id5622099db689cde2c685c203323de1ea20b70b0\n'}, {'number': 5, 'created': '2014-04-15 12:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1ca8e3866f5838be4a6350732ddc0b76849f7d7', 'message': 'Refactor sync_power_states tests to not use DB\n\nDB calls are tested separately, so using the DB in tests is unnecessary.\nThis also adds some better call argument checking and some missing test\ncases.\n\nRefactoring this here saves a couple of future patches from having to\ninclude a ton of changes to these tests.\n\nChange-Id: Id5622099db689cde2c685c203323de1ea20b70b0\n'}, {'number': 6, 'created': '2014-04-16 15:19:16.000000000', 'files': ['ironic/tests/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a010d540da3f30ecb5d542ae12088b8b154c5cd2', 'message': 'Refactor sync_power_states tests to not use DB\n\nDB calls are tested separately, so using the DB in tests is unnecessary.\nThis also adds some better call argument checking and some missing test\ncases.\n\nRefactoring this here saves a couple of future patches from having to\ninclude a ton of changes to these tests.\n\nChange-Id: Id5622099db689cde2c685c203323de1ea20b70b0\n'}]",9,87076,a010d540da3f30ecb5d542ae12088b8b154c5cd2,38,8,6,1030,,,0,"Refactor sync_power_states tests to not use DB

DB calls are tested separately, so using the DB in tests is unnecessary.
This also adds some better call argument checking and some missing test
cases.

Refactoring this here saves a couple of future patches from having to
include a ton of changes to these tests.

Change-Id: Id5622099db689cde2c685c203323de1ea20b70b0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/87076/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/conductor/test_manager.py'],1,29657a9a59c26377d9984787e269008a9d1a7cae,object_fixes,"import contextlibfrom ironic.tests.objects import utils as obj_utils def _patch_object(self, obj, target): patcher = mock.patch.object(obj, target) def _cleanup(): patcher.stop() mock_obj = patcher.start() self.addCleanup(_cleanup) return mock_obj def _get_nodeinfo_mock(self, columns, nodes): if not isinstance(nodes, list): nodes = [nodes] get_ni_mock = self._patch_object(self.service.dbapi, 'get_nodeinfo_list') ret_values = [tuple(getattr(n, c) for c in columns) for n in nodes] get_ni_mock.return_value = ret_values return get_ni_mock def _do_sync_power_state_test_helper(self, old_power_state, new_power_states, fail_validate=False, fail_change=False): if not isinstance(new_power_states, (list, tuple)): new_power_states = [new_power_states] node = obj_utils.get_test_node(self.context, power_state=old_power_state) task = mock.Mock() task.context = self.context task.driver = self.driver task.node = node validate_mock = self._patch_object(self.driver.power, 'validate') save_mock = self._patch_object(node, 'save') npa_mock = self._patch_object(conductor_utils, 'node_power_action') if fail_validate: validate_mock.side_effect = exception.InvalidParameterValue( 'error') if fail_change: npa_mock.side_effect = exception.IronicException('test') for new_power_state in new_power_states: get_power_mock.return_value = new_power_state self.service._do_sync_power_state(task) if fail_validate: self.assertFalse(get_power_mock.called) else: exp_calls = [mock.call(task, node) for x in range(len(new_power_states))] self.assertEqual(exp_calls, get_power_mock.call_args_list) return task, validate_mock, save_mock, npa_mock def test__do_sync_power_state_state_unchanged(self): (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( 'fake-power', 'fake-power') self.assertEqual(task.node.power_state, 'fake-power') self.assertFalse(validate_mock.called) self.assertFalse(save_mock.called) self.assertFalse(npa_mock.called) def test__do_sync_power_state_not_set(self): (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( None, states.POWER_ON) self.assertEqual(states.POWER_ON, task.node.power_state) validate_mock.assert_called_once_with(task, task.node) save_mock.assert_called_once_with(self.context) self.assertFalse(npa_mock.called) def test__do_sync_power_state_validate_fail(self): (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( None, states.POWER_ON, fail_validate=True) self.assertEqual(None, task.node.power_state) validate_mock.assert_called_once_with(task, task.node) self.assertFalse(save_mock.called) self.assertFalse(npa_mock.called) def test__do_sync_power_state_changed_no_sync(self): self.config(force_power_state_during_sync=False, group='conductor') (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( states.POWER_ON, states.POWER_OFF) self.assertEqual(states.POWER_OFF, task.node.power_state) self.assertFalse(validate_mock.called) save_mock.assert_called_once_with(self.context) self.assertFalse(npa_mock.called) def test__do_sync_power_state_changed_sync(self): (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( states.POWER_ON, states.POWER_OFF) self.assertEqual(task.node.power_state, states.POWER_ON) self.assertFalse(validate_mock.called) self.assertFalse(save_mock.called) npa_mock.assert_called_once_with(task, task.node, states.POWER_ON) def test__do_sync_power_state_max_retries_exceeded(self): self.config(power_state_sync_max_retries=1, group='conductor') (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( states.POWER_ON, [states.POWER_OFF, states.POWER_OFF]) npa_mock.assert_called_once_with(task, task.node, states.POWER_ON) self.assertEqual(task.node.power_state, states.POWER_OFF) self.assertFalse(validate_mock.called) save_mock.assert_called_once_with(self.context) self.assertEqual(1, self.service.power_state_sync_count[task.node.uuid]) def test__do_sync_power_state_max_retries_exceeded2(self): self.config(force_power_state_during_sync=True, group='conductor') self.config(power_state_sync_max_retries=2, group='conductor') (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( states.POWER_ON, [states.POWER_OFF, states.POWER_OFF, states.POWER_OFF]) self.assertEqual(2, npa_mock.call_count) npa_mock.assert_called_with(task, task.node, states.POWER_ON) self.assertEqual(task.node.power_state, states.POWER_OFF) self.assertFalse(validate_mock.called) save_mock.assert_called_once_with(self.context) self.assertEqual(2, self.service.power_state_sync_count[task.node.uuid]) def test__do_sync_power_state_max_retry_success(self): self.config(force_power_state_during_sync=True, group='conductor') self.config(power_state_sync_max_retries=2, group='conductor') (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( states.POWER_ON, [states.POWER_OFF, states.POWER_OFF, states.POWER_ON]) self.assertEqual(2, npa_mock.call_count) npa_mock.assert_called_with(task, task.node, states.POWER_ON) self.assertEqual(task.node.power_state, states.POWER_ON) self.assertFalse(validate_mock.called) self.assertFalse(save_mock.called) self.assertNotIn(task.node.uuid, self.service.power_state_sync_count) def test__do_sync_power_state_changed_failed(self): self.config(force_power_state_during_sync=True, group='conductor') self.config(power_state_sync_max_retries=2, group='conductor') (task, validate_mock, save_mock, npa_mock) = self._do_sync_power_state_test_helper( states.POWER_ON, states.POWER_OFF, fail_change=True) # Just testing that this test doesn't raise. npa_mock.assert_called_once_with(task, task.node, states.POWER_ON) self.assertEqual(task.node.power_state, states.POWER_ON) self.assertFalse(validate_mock.called) self.assertFalse(save_mock.called) self.assertEqual(1, self.service.power_state_sync_count[task.node.uuid]) @contextlib.contextmanager def _sync_power_state_test_helper(self, get_ni_nodes): filters = {'reserved': False, 'maintenance': False} columns = ['id', 'uuid', 'driver'] get_ni_mock = self._get_nodeinfo_mock(columns, get_ni_nodes) mapped_mock = self._patch_object(self.service, '_mapped_to_this_conductor') get_node_mock = self._patch_object(self.service.dbapi, 'get_node') acquire_mock = self._patch_object(task_manager, 'acquire') with mock.patch.object(self.service, '_do_sync_power_state') as do_sps_mock: yield mapped_mock, get_node_mock, acquire_mock, do_sps_mock get_ni_mock.assert_called_once_with(columns=columns, filters=filters) def test__sync_power_state_single_node(self): node = obj_utils.get_test_node(self.context) task = mock.Mock() @contextlib.contextmanager def _acquire_side_effect(ctxt, node_id): yield task with self._sync_power_state_test_helper(node) as ( mapped_mock, get_node_mock, acquire_mock, do_sps_mock): mapped_mock.return_value = True get_node_mock.return_value = node acquire_mock.side_effect = _acquire_side_effect mapped_mock.assert_called_once_with(node.uuid, node.driver) get_node_mock.assert_called_once_with(node.uuid) acquire_mock.assert_called_once_with(self.context, node.id) do_sps_mock.assert_called_once_with(task) def test__sync_power_state_node_not_mapped(self): node = obj_utils.get_test_node(self.context) with self._sync_power_state_test_helper(node) as ( mapped_mock, get_node_mock, acquire_mock, do_sps_mock): mapped_mock.return_value = False mapped_mock.assert_called_once_with(node.uuid, node.driver) self.assertFalse(get_node_mock.called) self.assertFalse(acquire_mock.called) self.assertFalse(do_sps_mock.called) def test__sync_power_state_node_disappeared(self): node = obj_utils.get_test_node(self.context) with self._sync_power_state_test_helper(node) as ( mapped_mock, get_node_mock, acquire_mock, do_sps_mock): mapped_mock.return_value = True get_node_mock.side_effect = exception.NodeNotFound(node='fake') mapped_mock.assert_called_once_with(node.uuid, node.driver) get_node_mock.assert_called_once_with(node.uuid) self.assertFalse(acquire_mock.called) self.assertFalse(do_sps_mock.called) node = obj_utils.get_test_node(self.context, provision_state=states.DEPLOYWAIT) with self._sync_power_state_test_helper(node) as ( mapped_mock, get_node_mock, acquire_mock, do_sps_mock): mapped_mock.return_value = True get_node_mock.return_value = node mapped_mock.assert_called_once_with(node.uuid, node.driver) get_node_mock.assert_called_once_with(node.uuid) self.assertFalse(acquire_mock.called) self.assertFalse(do_sps_mock.called) def test__sync_power_state_node_locked(self): node = obj_utils.get_test_node(self.context) with self._sync_power_state_test_helper(node) as ( mapped_mock, get_node_mock, acquire_mock, do_sps_mock): mapped_mock.return_value = True get_node_mock.return_value = node acquire_mock.side_effect = exception.NodeLocked(node=node.uuid, host='fake') mapped_mock.assert_called_once_with(node.uuid, node.driver) get_node_mock.assert_called_once_with(node.uuid) acquire_mock.assert_called_once_with(self.context, node.id) self.assertFalse(do_sps_mock.called) def test__sync_power_state_multiple_nodes(self): # Create 6 nodes: # 1st node: Should acquire and try to sync # 2nd node: Not mapped to this conductor # 3rd node: In DEPLOYWAIT provision_state # 4th node: Disappears after getting nodeinfo list. # 5th node: task_manger.acquire() fails due to lock # 6th node: Should acquire and try to sync nodes = [] get_node_map = {} mapped_map = {} for i in range(1, 7): n = obj_utils.get_test_node(self.context, id=i, uuid=ironic_utils.generate_uuid(), driver='fake', power_state=states.POWER_OFF) if i == 3: n.provision_state = states.DEPLOYWAIT nodes.append(n) mapped_map[n.uuid] = False if i == 2 else True get_node_map[n.uuid] = n tasks = [mock.Mock(), mock.Mock()] def _get_node_side_effect(node_uuid): node = get_node_map[node_uuid] if node.id == 4: # Make this node disappear raise exception.NodeNotFound(node=node_uuid) return node @contextlib.contextmanager def _acquire_side_effect(ctxt, node_id): if node_id == 1: yield tasks[0] elif node_id == 5: raise exception.NodeLocked(node=4, host='fake') elif node_id == 6: yield tasks[1] with self._sync_power_state_test_helper(nodes) as ( mapped_mock, get_node_mock, acquire_mock, do_sps_mock): mapped_mock.side_effect = lambda x, y: mapped_map[x] get_node_mock.side_effect = _get_node_side_effect acquire_mock.side_effect = _acquire_side_effect mapped_calls = [mock.call(n.uuid, n.driver) for n in nodes] self.assertEqual(mapped_calls, mapped_mock.call_args_list) get_node_calls = [mock.call(n.uuid) for n in nodes[:1] + nodes[2:]] self.assertEqual(get_node_calls, get_node_mock.call_args_list) acquire_calls = [mock.call(self.context, n.id) for n in [nodes[0], nodes[4], nodes[5]]] self.assertEqual(acquire_calls, acquire_mock.call_args_list) do_sps_calls = [mock.call(task) for task in tasks] self.assertEqual(do_sps_calls, do_sps_mock.call_args_list)","from testtools.matchers import HasLengthfrom ironic.openstack.common import context self.context = context.get_admin_context() def test__sync_power_state_no_sync(self): self._start_service() n = utils.get_test_node(driver='fake', power_state='fake-power') self.dbapi.create_node(n) get_power_mock.return_value = 'fake-power' self.service._sync_power_states(self.context) get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) node = self.dbapi.get_node(n['id']) self.assertEqual('fake-power', node['power_state']) def test__sync_power_state_not_set(self): self._start_service() n = utils.get_test_node(driver='fake', power_state=None) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_ON self.service._sync_power_states(self.context) get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) node = self.dbapi.get_node(n['id']) self.assertEqual(states.POWER_ON, node['power_state']) @mock.patch.object(objects.node.Node, 'save') def test__sync_power_state_unchanged(self, save_mock): self._start_service() n = utils.get_test_node(driver='fake', power_state=states.POWER_ON) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_ON self.service._sync_power_states(self.context) get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) self.assertFalse(save_mock.called) @mock.patch.object(conductor_utils, 'node_power_action') @mock.patch.object(objects.node.Node, 'save') def test__sync_power_state_changed_sync(self, save_mock, npa_mock): self._start_service() self.config(force_power_state_during_sync=True, group='conductor') n = utils.get_test_node(driver='fake', power_state=states.POWER_ON) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_OFF self.service._sync_power_states(self.context) get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) npa_mock.assert_called_once_with(mock.ANY, mock.ANY, states.POWER_ON) self.assertFalse(save_mock.called) @mock.patch.object(conductor_utils, 'node_power_action') @mock.patch.object(objects.node.Node, 'save') def test__sync_power_state_max_retries_exceeded(self, save_mock, npa_mock): """"""Force sync node power state and check if max retry limit for force sync is honoured """""" self._start_service() n = utils.get_test_node(driver='fake', power_state=states.POWER_ON) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_OFF self.service._sync_power_states(self.context) self.assertEqual(1, get_power_mock.call_count) npa_mock.assert_called_once_with(mock.ANY, mock.ANY, states.POWER_ON) self.assertEqual(0, save_mock.call_count) npa_mock.reset_mock() save_mock.reset_mock() get_power_mock.reset_mock() # This try wont succeed self.service._sync_power_states(self.context) self.assertEqual(0, npa_mock.call_count) self.assertEqual(1, get_power_mock.call_count) self.assertEqual(1, save_mock.call_count) @mock.patch.object(conductor_utils, 'node_power_action') @mock.patch.object(objects.node.Node, 'save') def test__sync_power_state_changed_failed(self, save_mock, npa_mock): self._start_service() n = utils.get_test_node(driver='fake', power_state=states.POWER_ON) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_OFF npa_mock.side_effect = exception.IronicException('test') # we are testing that this does NOT raise an exception # so don't assertRaises here self.service._sync_power_states(self.context) get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) npa_mock.assert_called_once_with(mock.ANY, mock.ANY, states.POWER_ON) self.assertFalse(save_mock.called) @mock.patch.object(conductor_utils, 'node_power_action') @mock.patch.object(objects.node.Node, 'save') def test__sync_power_state_changed_save(self, save_mock, npa_mock): self.config(force_power_state_during_sync=False, group='conductor') n = utils.get_test_node(driver='fake', power_state=states.POWER_OFF) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_ON get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) self.assertFalse(npa_mock.called) self.assertTrue(save_mock.called) def test__sync_power_state_node_locked(self): self._start_service() n = utils.get_test_node(driver='fake', power_state='fake-power') self.dbapi.create_node(n) self.dbapi.reserve_nodes('fake-reserve', [n['id']]) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: self.service._sync_power_states(self.context) self.assertFalse(get_power_mock.called) node = self.dbapi.get_node(n['id']) self.assertEqual('fake-power', node['power_state']) def test__sync_power_state_multiple_nodes(self): self._start_service() self.config(force_power_state_during_sync=False, group='conductor') # create three nodes nodes = [] nodeinfo = [] for i in range(0, 3): n = utils.get_test_node(id=i, uuid=ironic_utils.generate_uuid(), driver='fake', power_state=states.POWER_OFF) self.dbapi.create_node(n) nodes.append(n['uuid']) nodeinfo.append([i, n['uuid'], 'fake']) # lock the first node self.dbapi.reserve_nodes('fake-reserve', [nodes[0]]) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: get_power_mock.return_value = states.POWER_ON with mock.patch.object(self.dbapi, 'get_nodeinfo_list') as get_fnl_mock: # delete the second node self.dbapi.destroy_node(nodes[1]) get_fnl_mock.return_value = nodeinfo self.service._sync_power_states(self.context) # check that get_power only called once, which updated third node get_power_mock.assert_called_once_with(mock.ANY, mock.ANY) n1 = self.dbapi.get_node(nodes[0]) n3 = self.dbapi.get_node(nodes[2]) self.assertEqual(states.POWER_OFF, n1['power_state']) self.assertEqual(states.POWER_ON, n3['power_state']) def test__sync_power_state_node_no_power_state(self): self._start_service() self.config(force_power_state_during_sync=False, group='conductor') # create three nodes nodes = [] for i in range(0, 3): n = utils.get_test_node(id=i, uuid=ironic_utils.generate_uuid(), driver='fake', power_state=states.POWER_OFF) self.dbapi.create_node(n) nodes.append(n['uuid']) # cannot get power state of node 2; only nodes 1 & 3 have # their power states changed. with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: returns = [states.POWER_ON, exception.InvalidParameterValue(""invalid""), states.POWER_ON] def side_effect(*args): result = returns.pop(0) if isinstance(result, Exception): raise result return result get_power_mock.side_effect = side_effect self.service._sync_power_states(self.context) self.assertThat(returns, HasLength(0)) final = [states.POWER_ON, states.POWER_OFF, states.POWER_ON] for i in range(0, 3): n = self.dbapi.get_node(nodes[i]) self.assertEqual(final[i], n.power_state) self._start_service() n = utils.get_test_node(provision_state=states.DEPLOYWAIT) self.dbapi.create_node(n) with mock.patch.object(self.driver.power, 'get_power_state') as get_power_mock: self.service._sync_power_states(self.context) self.assertFalse(get_power_mock.called) @mock.patch('ironic.drivers.modules.fake.FakePower.get_power_state') @mock.patch('ironic.drivers.modules.fake.FakePower.validate') def test__sync_power_state_validate_fail(self, mock_validate, mock_get): self._start_service() n = utils.get_test_node(power_state=states.NOSTATE) self.dbapi.create_node(n) mock_validate.side_effect = exception.InvalidParameterValue('error') self.service._sync_power_states(self.context) self.assertFalse(mock_get.called) mock_validate.assert_called_once_with(mock.ANY, mock.ANY)",290,192
openstack%2Fironic~master~Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f,openstack/ironic,master,Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f,Make sync_power_states yield,MERGED,2014-04-02 21:03:28.000000000,2014-04-17 22:55:59.000000000,2014-04-17 22:55:58.000000000,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2889}, {'_account_id': 7711}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-04-02 21:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66a8a6339d8ac35d3157ff0a9b92f81bf4cbfac3', 'message': ""Remove DB query from _sync_power_states\n\nThere's an extra DB query in _sync_power_states() that can be removed by\nsimply querying for the provision_state column in a previous query.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 2, 'created': '2014-04-10 20:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c63b3408ba20845125dee529f903aff11293257', 'message': ""Remove DB query from _sync_power_states\n\nThere's an extra DB query in _sync_power_states() that can be removed by\nsimply querying for the provision_state column in a previous query.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 3, 'created': '2014-04-10 20:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45238a6a6d526fff064c80c0fe35f3c528324b0b', 'message': ""Remove DB query from _sync_power_states\n\nThere's an extra DB query in _sync_power_states() that can be removed by\nsimply querying for the provision_state column in a previous query.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 4, 'created': '2014-04-12 07:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ebbea72185958470b3a7d220ba3601cf424dc1e', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however, so it's better to not do much filtering\nwhen we get the initial list of node info. Instead, fetch the full node\nand do the state checks immediately after. There's still potential for\nraces, but this shortens the window, even with the yielding added.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 5, 'created': '2014-04-12 07:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6cdc12df7da3ef401742fba7d78d917412f265ab', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however, so it's better to not do much filtering\nwhen we get the initial list of node info. Instead, fetch the full node\nand do the state checks immediately after. There's still potential for\nraces, but this shortens the window, even with the yielding added.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 6, 'created': '2014-04-12 16:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8feb99dc8d06f3f5e25850e6debff221379e938', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however, so it's better to not do much filtering\nwhen we get the initial list of node info. Instead, fetch the full node\nand do the state checks immediately after. There's still potential for\nraces, but this shortens the window, even with the yielding added.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 7, 'created': '2014-04-12 17:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/028b914873add7a4990e532cee29f48e9ee04a15', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however, so it's better to not do much filtering\nwhen we get the initial list of node info. Instead, fetch the full node\nand do the state checks immediately after. There's still potential for\nraces, but this shortens the window, even with the yielding added.\n\nAlso, when querying the Node, use the integer ID instead of the UUID,\nbecause it's slightly more efficient.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 8, 'created': '2014-04-15 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93754c993eb7f01b8dffadc0adebcecefe07339b', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however.\n\nSo for every node returned from get_nodeinfo_list, we re-fetch and check\nthe states again, because they may have changed. Also, check the states\nyet again after acquiring a lock. This can be fixed at some point by\nallowing constraints to be passed when acquiring a lock. I've noted\nthis with a FIXME.\n\nAlso, when querying the Node, use the integer ID instead of the UUID,\nbecause it's slightly more efficient.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 9, 'created': '2014-04-15 12:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c57999cf5577934f1e01848212d2ea75e39d106', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however.\n\nSo for every node returned from get_nodeinfo_list, we re-fetch and check\nthe states again, because they may have changed. Also, check the states\nyet again after acquiring a lock. This can be fixed at some point by\nallowing constraints to be passed when acquiring a lock. I've noted\nthis with a FIXME.\n\nAlso, when querying the Node, use the integer ID instead of the UUID,\nbecause it's slightly more efficient.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}, {'number': 10, 'created': '2014-04-16 15:19:15.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5da02800a82bdf6b7cace396b8ae70a4d1a6fbcf', 'message': ""Make sync_power_states yield\n\nThe sync_power_states periodic task can run for a long time, so it needs\nto yield to other greenthreads. Adding yielding increases the chances\nfor race conditions, however.\n\nSo for every node returned from get_nodeinfo_list, we re-fetch and check\nthe states again, because they may have changed. Also, check the states\nyet again after acquiring a lock. This can be fixed at some point by\nallowing constraints to be passed when acquiring a lock. I've noted\nthis with a FIXME.\n\nAlso, when querying the Node, use the integer ID instead of the UUID,\nbecause it's slightly more efficient.\n\nChange-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f\n""}]",9,84862,5da02800a82bdf6b7cace396b8ae70a4d1a6fbcf,57,8,10,1030,,,0,"Make sync_power_states yield

The sync_power_states periodic task can run for a long time, so it needs
to yield to other greenthreads. Adding yielding increases the chances
for race conditions, however.

So for every node returned from get_nodeinfo_list, we re-fetch and check
the states again, because they may have changed. Also, check the states
yet again after acquiring a lock. This can be fixed at some point by
allowing constraints to be passed when acquiring a lock. I've noted
this with a FIXME.

Also, when querying the Node, use the integer ID instead of the UUID,
because it's slightly more efficient.

Change-Id: Ie4d3f896e32b58378bfeb5ff457a9bfe6a8d065f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/84862/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py']",2,66a8a6339d8ac35d3157ff0a9b92f81bf4cbfac3,object_fixes," columns = ['id', 'uuid', 'driver', 'provision_state'] for (node_id, node_uuid, driver, provision_state) in node_list: if provision_state == states.DEPLOYWAIT:"," columns = ['id', 'uuid', 'driver'] for (node_id, node_uuid, driver) in node_list: node = self.dbapi.get_node(node_uuid) if node.provision_state == states.DEPLOYWAIT:",4,6
openstack%2Fdiskimage-builder~master~I4b15347a76aa3241e741931bb94f17598641ae42,openstack/diskimage-builder,master,I4b15347a76aa3241e741931bb94f17598641ae42,Add ability to add extra apt keys,MERGED,2014-03-27 21:49:22.000000000,2014-04-17 22:47:58.000000000,2014-04-17 22:47:58.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 3068}, {'_account_id': 6449}, {'_account_id': 7579}, {'_account_id': 8688}, {'_account_id': 9369}, {'_account_id': 10807}]","[{'number': 1, 'created': '2014-03-27 21:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c53150ed19324db4484ee1ff8434df46e125126e', 'message': 'Add ability to upload a new GPG into the apt keyring for the image\n\nAdds an environment variable DIB_ADD_REPO_KEY which contains a path\nto a GPG key file. Once the path is verified to point to a valid\nGPG key file, the file is copied into the image and apt-key is used\nto add the key to the apt keyring.\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 2, 'created': '2014-03-28 15:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c338ff14015fc493b3e2fd3f0b8bf9d9ee12ab58', 'message': 'Add ability to upload a new GPG into the apt keyring for the image\n\nAdds an environment variable DIB_ADD_REPO_KEY which contains a path\nto a GPG key file. Once the path is verified to point to a valid\nGPG key file, the file is copied into the image and apt-key is used\nto add the key to the apt keyring.\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 3, 'created': '2014-03-28 15:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/12768827c77c95f050dc5284b6f789fdce333b71', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 4, 'created': '2014-03-28 16:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b310cff243568843ed5ec72209f1fd7820bc8ea6', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 5, 'created': '2014-03-28 19:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fb99a9f090e4613c2111be8637c2f2f259c0fe2d', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nFixed test to see if DIB_ADD_APT_KEY variable was set in 01-copy-apt-keys\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 6, 'created': '2014-03-28 20:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e516524c417a3b7f388cf28de76477a521ff3118', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nFixed test to see if DIB_ADD_APT_KEY variable was set in 01-copy-apt-keys\n\nFixed 02-add-apt-keys to test for existence of directory before trying to add keys\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 7, 'created': '2014-03-31 09:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c209c62a88866a244b2fba62b31e228de4ba97c0', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nFixed test to see if DIB_ADD_APT_KEY variable was set in 01-copy-apt-keys\n\nFixed 02-add-apt-keys to test for existence of directory before trying to add keys\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 8, 'created': '2014-03-31 13:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8ae6afad3cff99658fc32c7758286e15ee620db3', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}, {'number': 9, 'created': '2014-04-07 12:51:43.000000000', 'files': ['elements/dpkg/README.md', 'elements/dpkg/extra-data.d/01-copy-apt-keys', 'elements/dpkg/pre-install.d/02-add-apt-keys'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/240856956606585113f4c76fc55d3a5645f7230a', 'message': 'Add ability to add extra apt keys\n\nAdds an environment variable DIB_ADD_APT_KEYS pointing to a folder of\napt repo GPG keys. Each key will be verified and installed with apt-key\nto the apt keyring.\n\nChange-Id: I4b15347a76aa3241e741931bb94f17598641ae42\n'}]",31,83596,240856956606585113f4c76fc55d3a5645f7230a,74,8,9,10807,,,0,"Add ability to add extra apt keys

Adds an environment variable DIB_ADD_APT_KEYS pointing to a folder of
apt repo GPG keys. Each key will be verified and installed with apt-key
to the apt keyring.

Change-Id: I4b15347a76aa3241e741931bb94f17598641ae42
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/96/83596/9 && git format-patch -1 --stdout FETCH_HEAD,"['elements/dpkg/pre-install.d/02-add-repo-key', 'elements/dpkg/README.md', 'elements/dpkg/extra-data.d/01-copyin-repo-gpgkey']",3,c53150ed19324db4484ee1ff8434df46e125126e,83596,"#!/bin/bash # Check $DIB_ADD_REPO_KEY points to a valif GPG public key file and then if it is copy to $TMP_MOUNT_PATH/etc/apt/`basename $DIB_ADD_REPO_KEY` set -eu # exit directly if DIB_ADD_REPO_KEY is not defined properly if [ -z ""$DIB_ADD_REPO_KEY"" ] ; then echo ""DIB_ADD_REPO_KEY is not set - no additional repository key will be copied in"" exit 0 elif ! file -b ""$DIB_ADD_REPO_KEY"" | grep -q 'PGP public key block' ; then echo ""$DIB_ADD_REPO_KEY is not a valid GPG public key file."" echo ""You should assign a path to a proper GPG public key file in DIB_ADD_REPO_KEY"" exit 1 fi # copy the apt.conf to cloudimg sudo cp -L -f $DIB_ADD_REPO_KEY $TMP_MOUNT_PATH/etc/apt/`basename $DIB_ADD_REPO_KEY` ",,27,0
openstack%2Fdevstack-gate~master~If46d1624e0b35a37d5dfb043edb513fc04b6ea68,openstack/devstack-gate,master,If46d1624e0b35a37d5dfb043edb513fc04b6ea68,update grenade branches,MERGED,2014-04-17 19:51:59.000000000,2014-04-17 22:47:55.000000000,2014-04-17 22:47:55.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-17 19:51:59.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1ab574df7c6b97dcc32f9b9191ff6bb5ac61e4e0', 'message': 'update grenade branches\n\nmake it possible to run grenade from stable/icehouse -> master\n\nChange-Id: If46d1624e0b35a37d5dfb043edb513fc04b6ea68\n'}]",0,88418,1ab574df7c6b97dcc32f9b9191ff6bb5ac61e4e0,7,3,1,2750,,,0,"update grenade branches

make it possible to run grenade from stable/icehouse -> master

Change-Id: If46d1624e0b35a37d5dfb043edb513fc04b6ea68
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/18/88418/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,1ab574df7c6b97dcc32f9b9191ff6bb5ac61e4e0,feature_grid," export GRENADE_OLD_BRANCH=""stable/icehouse"" export GRENADE_NEW_BRANCH=""stable/icehouse"" elif [ ""$ZUUL_BRANCH"" == ""stable/icehouse"" ]; then export GRENADE_OLD_BRANCH=""stable/icehouse"""," export GRENADE_OLD_BRANCH=""stable/havana""",4,1
openstack%2Fdevstack-gate~master~I711a7a30460db91e76814088431400df4b9de272,openstack/devstack-gate,master,I711a7a30460db91e76814088431400df4b9de272,add sahara to devstack-gate default runs,MERGED,2014-04-17 19:46:16.000000000,2014-04-17 22:47:54.000000000,2014-04-17 22:47:54.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-17 19:46:16.000000000', 'files': ['features.yaml', 'test-features.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f2f60e31f1153fbf356e49832bd2fdb4a8c1b460', 'message': 'add sahara to devstack-gate default runs\n\nsahara is an integrated project, put it in the integrated test\nmatrix.\n\nChange-Id: I711a7a30460db91e76814088431400df4b9de272\n'}]",0,88415,f2f60e31f1153fbf356e49832bd2fdb4a8c1b460,7,3,1,2750,,,0,"add sahara to devstack-gate default runs

sahara is an integrated project, put it in the integrated test
matrix.

Change-Id: I711a7a30460db91e76814088431400df4b9de272
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/15/88415/1 && git format-patch -1 --stdout FETCH_HEAD,"['features.yaml', 'test-features.sh']",2,f2f60e31f1153fbf356e49832bd2fdb4a8c1b460,feature_grid,"TEMPEST_FULL_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,heat,h-api,h-api-cfn,h-api-cw,h-eng,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,trove,tr-api,tr-tmgr,tr-cond,n-net,sahara"" TEMPEST_NEUTRON_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,heat,h-api,h-api-cfn,h-api-cw,h-eng,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,trove,tr-api,tr-tmgr,tr-cond,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering,sahara"" TEMPEST_HEAT_SLOW_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,heat,h-api,h-api-cfn,h-api-cw,h-eng,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,trove,tr-api,tr-tmgr,tr-cond,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering,sahara""","TEMPEST_FULL_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,heat,h-api,h-api-cfn,h-api-cw,h-eng,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,trove,tr-api,tr-tmgr,tr-cond,n-net"" TEMPEST_NEUTRON_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,heat,h-api,h-api-cfn,h-api-cw,h-eng,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,trove,tr-api,tr-tmgr,tr-cond,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering"" TEMPEST_HEAT_SLOW_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,heat,h-api,h-api-cfn,h-api-cw,h-eng,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,trove,tr-api,tr-tmgr,tr-cond,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering""",4,4
openstack%2Fironic~master~I2da37409cea98731a2ca18dfe7298861fde37783,openstack/ironic,master,I2da37409cea98731a2ca18dfe7298861fde37783,Better handling of missing drivers,MERGED,2014-03-27 20:16:52.000000000,2014-04-17 22:43:10.000000000,2014-04-17 22:39:53.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 4190}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-03-27 20:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aeb90645f9635308402be5ac2cb981ebc5436ae3', 'message': 'Have stevedore convert DriverNotFound to a warning\n\nWhen loading drivers - particularly third-party drivers that may not be\nloadable if they require external libraries that are missing - use a\ncallback hook in stevedore to convert DriverNotFound exceptions\nto warnings.\n\nThese warnings will appear immediately on startup of the\nironic-conductor service and should be sufficient to draw attention\nwhere it is needed.\n\nThe current behavior is logging an ERROR with exception traceback\nwhen failing to load the SeaMicro drivers.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\n'}, {'number': 2, 'created': '2014-03-31 22:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/83ece6b9f6d2ec345073894b0a4d65727e99e778', 'message': 'Better handling of missing drivers\n\nWhen loading drivers - particularly third-party drivers that may not be\nloadable if they require external libraries that are missing - use a\ncallback hook in stevedore to avoid uncaught (but not fatal) tracebacks.\n\nInstead, add a CONF option for ""enabled_drivers"" which explicitly sets\nthe expected drivers. A failure to load an enabled driver will prevent\nconductor.manager from starting. Conversely, a failure to load a\nnon-enabled driver will be suppressed entirely.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\n'}, {'number': 3, 'created': '2014-03-31 22:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ca193cc91867c512020de4282e4ab38893dee70', 'message': 'Better handling of missing drivers\n\nWhen loading drivers - particularly third-party drivers that may not be\nloadable if they require external libraries that are missing - use a\ncallback hook in stevedore to avoid uncaught (but not fatal) tracebacks.\n\nInstead, add a CONF option for ""enabled_drivers"" which explicitly sets\nthe expected drivers. A failure to load an enabled driver will prevent\nconductor.manager from starting. Conversely, a failure to load a\nnon-enabled driver will be suppressed entirely.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\n'}, {'number': 4, 'created': '2014-04-10 21:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f30e669abc3b1b638be19ebf9b8cb801eac6220', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\n'}, {'number': 5, 'created': '2014-04-10 21:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/616637f613185c10c4a603c4bf4fb13f7d44eca9', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\n'}, {'number': 6, 'created': '2014-04-10 21:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5425477cdf7388872654c837eb140df5094f221', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\n'}, {'number': 7, 'created': '2014-04-10 22:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f440078621c9a68e716f18f78c3c36e75f107e5', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}, {'number': 8, 'created': '2014-04-11 17:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b08f0dc8030fa8053095426bb48d5c946c3e290', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}, {'number': 9, 'created': '2014-04-15 00:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f3e289a5312d5074f8b2dcb55a3ef6b80117a63d', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}, {'number': 10, 'created': '2014-04-15 17:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a86908ebfc9674ff540003d0588d0a02394097fe', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}, {'number': 11, 'created': '2014-04-15 19:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4dc1eb8e1d05e0a87ad1d101bcb4a2ce86071e9d', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}, {'number': 13, 'created': '2014-04-16 19:14:49.000000000', 'files': ['ironic/common/exception.py', 'ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/api/v1/test_ports.py', 'ironic/common/driver_factory.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/fake.py', 'ironic/drivers/pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c023f3394d4b2ffd92849fa0eed8d1dfbbb1165b', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}, {'number': 12, 'created': '2014-04-16 19:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0913b72ae433a69eeb912cb0cfa00afade9a5469', 'message': 'Better handling of missing drivers\n\nInstead of loading all available drivers, this patch adds add a CONF\noption for ""enabled_drivers"" which explicitly sets the expected drivers.\nA failure to load an enabled driver will prevent the conductor service\nfrom starting.\n\nUse a callback hook in stevedore to capture and clean up import exceptions.\nThird-party drivers are expected to use importutils to attempt to load\ntheir external requirements, and when unable to, they should raise a\nDriverNotFound error to tie into this hook.\n\nSets the default enabled drivers to:\n- pxe_ssh\n- pxe_ipmitool\n\ntests/api/v1/test_ports was creating a ConductorManager instance\ninstead of appropriately mocking the conductor.rpcapi, which led to test\nfailures when changing how ConductorManager loads drivers. This patch\ncorrects this by properly mocking the rpcapi within that test class.\n\nChange-Id: I2da37409cea98731a2ca18dfe7298861fde37783\nCloses-bug: #1298529\nCloses-bug: #1302562\n'}]",15,83572,c023f3394d4b2ffd92849fa0eed8d1dfbbb1165b,99,11,13,2889,,,0,"Better handling of missing drivers

Instead of loading all available drivers, this patch adds add a CONF
option for ""enabled_drivers"" which explicitly sets the expected drivers.
A failure to load an enabled driver will prevent the conductor service
from starting.

Use a callback hook in stevedore to capture and clean up import exceptions.
Third-party drivers are expected to use importutils to attempt to load
their external requirements, and when unable to, they should raise a
DriverNotFound error to tie into this hook.

Sets the default enabled drivers to:
- pxe_ssh
- pxe_ipmitool

tests/api/v1/test_ports was creating a ConductorManager instance
instead of appropriately mocking the conductor.rpcapi, which led to test
failures when changing how ConductorManager loads drivers. This patch
corrects this by properly mocking the rpcapi within that test class.

Change-Id: I2da37409cea98731a2ca18dfe7298861fde37783
Closes-bug: #1298529
Closes-bug: #1302562
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/83572/7 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/driver_factory.py'],1,aeb90645f9635308402be5ac2cb981ebc5436ae3,add-CONF-for-drivers," # NOTE(deva): Drivers raise ""DriverNotFound"" if they are unable to be # loaded, eg. due to missing external dependencies. # We need to tell stevedore to capture that exception # and log a warning rather than an error. def _catch_driver_not_found(mgr, ep, exc): if isinstance(exc, exception.DriverNotFound): LOG.warning(_(""Unable to load driver %(exc)s.""), {'exc': exc}) else: LOG.error(_(""Stevedore failed to load %(name)r: %(exc)s.""), {'name': ep.name, 'exc': exc}) LOG.exception(exc) dispatch.NameDispatchExtensionManager( 'ironic.drivers', lambda x: True, invoke_on_load=True, on_load_failure_callback=_catch_driver_not_found)"," dispatch.NameDispatchExtensionManager('ironic.drivers', lambda x: True, invoke_on_load=True)",18,3
openstack%2Fdevstack-gate~master~Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c,openstack/devstack-gate,master,Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c,use feature grid for service selection,MERGED,2014-04-15 19:16:02.000000000,2014-04-17 22:38:40.000000000,2014-04-17 22:38:40.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6316}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-15 19:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/105d29e8c39ccdbd376db70566c5429778cca6d3', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 2, 'created': '2014-04-15 19:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7693dd1d6b925611c4607804b342834041d92bcb', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 3, 'created': '2014-04-15 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d8fd1535efbc88b121aac44524729b82dddf9b10', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 4, 'created': '2014-04-15 20:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/007e3433e1370ed976f0635dd6bacc122e642bc1', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 5, 'created': '2014-04-15 20:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4f0f30490a4ef6fee201d6305636f41759ec702b', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 6, 'created': '2014-04-15 23:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/201edb509413245db31bfd417860e7cb4607b8ec', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 7, 'created': '2014-04-16 00:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ad142a5930bda3fc0c2e0be4d048f1961f8d2136', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}, {'number': 8, 'created': '2014-04-16 11:59:42.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4704c85782edf82be257730d94bddf72b7a4de14', 'message': 'use feature grid for service selection\n\nthis uses the feature grid for service selection in all the\ndevstack-gate jobs\n\nChange-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c\n'}]",0,87766,4704c85782edf82be257730d94bddf72b7a4de14,38,6,8,2750,,,0,"use feature grid for service selection

this uses the feature grid for service selection in all the
devstack-gate jobs

Change-Id: Ie543feb5b6557f1b33f1a0d7edfbc198a749eb0c
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/66/87766/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,105d29e8c39ccdbd376db70566c5429778cca6d3,feature_grid," MY_ENABLED_SERVICES=`./test-matrix.py -b $LOCALRC_BRANCH` if [ ! -z $ENABLED_SERVICES ] ; then MY_ENABLED_SERVICES+=,$ENABLED_SERVICES if [ ""$DEVSTACK_GATE_NEUTRON"" -eq ""1"" ]; then echo ""Q_USE_DEBUG_COMMAND=True"" >>localrc echo ""NETWORK_GATEWAY=10.1.0.1"" >>localrc fi "," DEFAULT_ENABLED_SERVICES=n-api,n-crt,n-obj,n-cpu,n-sch,n-cond # nova, n-net left out DEFAULT_ENABLED_SERVICES+=,g-api,g-reg # glance DEFAULT_ENABLED_SERVICES+=,key,horizon # keystone & horizon DEFAULT_ENABLED_SERVICES+=,c-api,c-vol,c-sch,c-bak,cinder # NOTE 'cinder' is for legacy compat DEFAULT_ENABLED_SERVICES+=,s-proxy,s-account,s-container,s-object # swift DEFAULT_ENABLED_SERVICES+=,mysql,rabbit,dstat # support services if [ -z $ENABLED_SERVICES ] ; then MY_ENABLED_SERVICES=$DEFAULT_ENABLED_SERVICES else MY_ENABLED_SERVICES=$DEFAULT_ENABLED_SERVICES,$ENABLED_SERVICES fi if [ ""$DEVSTACK_GATE_TEMPEST"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,tempest fi if [ ""$DEVSTACK_GATE_CELLS"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-cell else MY_ENABLED_SERVICES+=,heat,h-api,h-api-cfn,h-api-cw,h-eng MY_ENABLED_SERVICES+=,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api fi if [ ""$DEVSTACK_GATE_NEUTRON"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering echo ""Q_USE_DEBUG_COMMAND=True"" >>localrc echo ""NETWORK_GATEWAY=10.1.0.1"" >>localrc else MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-net fi else # master # we don't want to enable services for grenade that don't have upgrade support # otherwise they can break grenade, especially when they are projects like # ceilometer which inject code in other projects if [ ""$DEVSTACK_GATE_GRENADE"" -ne ""1"" ]; then MY_ENABLED_SERVICES+=,heat,h-api,h-api-cfn,h-api-cw,h-eng MY_ENABLED_SERVICES+=,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification MY_ENABLED_SERVICES+=,trove,tr-api,tr-tmgr,tr-cond fi if [ ""$DEVSTACK_GATE_NEUTRON"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering echo ""Q_USE_DEBUG_COMMAND=True"" >>localrc echo ""NETWORK_GATEWAY=10.1.0.1"" >>localrc else MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-net fi if [ ""$DEVSTACK_GATE_NOVA_API_METADATA_SPLIT"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,n-api-meta fi if [ ""$DEVSTACK_GATE_MARCONI"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,marconi-server fi if [ ""$DEVSTACK_GATE_IRONIC"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,ir-api,ir-cond fi if [ ""$DEVSTACK_GATE_SAHARA"" -eq ""1"" ]; then MY_ENABLED_SERVICES=$MY_ENABLED_SERVICES,sahara if [ ""$DEVSTACK_GATE_POSTGRES"" -eq ""1"" ]; then cat <<\EOF >>localrc disable_service mysql enable_service postgresql EOF fi if [ ""$DEVSTACK_GATE_MQ_DRIVER"" == ""zeromq"" ]; then echo ""disable_service rabbit"" >>localrc echo ""enable_service zeromq"" >>localrc elif [ ""$DEVSTACK_GATE_MQ_DRIVER"" == ""qpid"" ]; then echo ""disable_service rabbit"" >>localrc echo ""enable_service qpid"" >>localrc fi ",8,71
openstack%2Fdevstack-gate~master~Ib030f820073dd0b450b362fd721f9477778c04b0,openstack/devstack-gate,master,Ib030f820073dd0b450b362fd721f9477778c04b0,feature matrix definition in yaml,MERGED,2014-04-15 11:43:32.000000000,2014-04-17 22:38:39.000000000,2014-04-17 22:38:39.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6316}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-15 11:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/5b51bfbebc4f4f76bd70bf5b69f9886586838b60', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 2, 'created': '2014-04-15 13:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3f43a7e0513b1c7d6618393c13db0f99a059a6da', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 3, 'created': '2014-04-15 14:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/07d3cb961700ca6c741067ec9f9540bdcd952b2e', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 4, 'created': '2014-04-15 19:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cebc4e866d092d919fcd72ba6e232ef30fff43ad', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 5, 'created': '2014-04-15 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8aebf9b221383a231a8aef50892f107ceea3356d', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 6, 'created': '2014-04-15 20:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/dac87856da9fde89440430e1017539d42d2c1f6e', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 7, 'created': '2014-04-15 23:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/95e617f53213f1f96c0dc246d3b563d45fc7ff59', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 8, 'created': '2014-04-16 00:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/046d2402a8ab97605ecdf34f88858487b013133a', 'message': 'draft feature matrix definition\n\ndraft of how to specify the feature matrix for discussion, and\npiece of python code to do the calculations.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}, {'number': 9, 'created': '2014-04-16 11:59:42.000000000', 'files': ['features.yaml', 'test-features.sh', 'test-matrix.py'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ccc43248557c05aba8c4ec26bf08c51c523be5b1', 'message': 'feature matrix definition in yaml\n\nThis adds a definition mechanism for the d-g feature matrix in\nyaml, a python tool to process that into an ENABLED_SERVICES list\nand a test script to verify that it works as expected.\n\nThe theory here is that we create configs (which match to d-g\nDEVSTACK_GATE_ vars) that enable or disable ""features"". The\nfeatures then enable or disable ""services"" (and eventually\nextensions).\n\nAn important part of this is the ability to rm-* content. That\nmeans the neutron feature can rm-services: n-net. The hope is\nthis makes reviewing changes more straight forward, and also\nmakes it so if something goes wrong we don\'t run a job missing\nservices, because we don\'t need to make sure we add things in\nthe else clauses.\n\nA follow up patch integrates this into d-g proper, but this\npatch seemed easier to review on it\'s own.\n\nChange-Id: Ib030f820073dd0b450b362fd721f9477778c04b0\n'}]",4,87554,ccc43248557c05aba8c4ec26bf08c51c523be5b1,45,6,9,2750,,,0,"feature matrix definition in yaml

This adds a definition mechanism for the d-g feature matrix in
yaml, a python tool to process that into an ENABLED_SERVICES list
and a test script to verify that it works as expected.

The theory here is that we create configs (which match to d-g
DEVSTACK_GATE_ vars) that enable or disable ""features"". The
features then enable or disable ""services"" (and eventually
extensions).

An important part of this is the ability to rm-* content. That
means the neutron feature can rm-services: n-net. The hope is
this makes reviewing changes more straight forward, and also
makes it so if something goes wrong we don't run a job missing
services, because we don't need to make sure we add things in
the else clauses.

A follow up patch integrates this into d-g proper, but this
patch seemed easier to review on it's own.

Change-Id: Ib030f820073dd0b450b362fd721f9477778c04b0
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/54/87554/2 && git format-patch -1 --stdout FETCH_HEAD,['features.yaml'],1,5b51bfbebc4f4f76bd70bf5b69f9886586838b60,feature_grid,"config: default: features: default, ceilometer, glance, horizon, nova, swift, cinder, keystone, heat, trove neutron: features: neutron postgresql: features: postgresql grenade: rm-features: ceilometer, heat, trove, sahara features: default: base: services: mysql, rabbit, dstat ceilometer: base: services: ceilometer-acompute, ceilometer-acentral, ceilometer-collector, ceilometer-api, ceilometer-alarm-notifier, ceilometer-alarm-evaluator, ceilometer-anotification havana: rm-services: ceilometer-alarm-notifier, ceilometer-alarm-evaluator, ceilometer-anotification glance: base: services: g-api,g-reg horizon: base: services: horizon nova: base: services: n-api,n-crt,n-obj,n-cpu,n-sch,n-cond havana: rm-compute-ext: icehouse: juno: nova-md: base: services: n-api-meta nova-cells: base: services: n-cell rm-compute-ext: agregates,hosts neutron: base: services: q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering rm-services: n-net swift: base: services: s-proxy,s-account,s-container,s-object cinder: base: services: c-api,c-vol,c-sch,c-bak havana: rm-services: c-bak heat: base: h-api,h-api-cfn,h-api-cw,h-eng # service overrides postgresql: base: services: postgresql rm-services: mysql zeromq: base: services: zeromq rm-services: rabbit qpid: base: services: qpid rm-services: rabbit",,79,0
openstack%2Frequirements~master~I65559d725f443cd2097ab09bf6a0f1adb81d1153,openstack/requirements,master,I65559d725f443cd2097ab09bf6a0f1adb81d1153,Trollius: allow version 0.2 and later,MERGED,2014-04-07 12:45:27.000000000,2014-04-17 22:38:38.000000000,2014-04-17 22:38:38.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 7680}, {'_account_id': 9107}]","[{'number': 1, 'created': '2014-04-07 12:45:27.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8d679d01caf0f2af33433f1f62f70ae53e175d3e', 'message': 'Trollius: allow version 0.2 and later\n\nAs the author of the Trollius module, I would like to use newer\nversions. In version 0.2, the API changed a little bit (""yield\nFrom(...)"" instead of ""yield ...""), but the change is backward\ncompatible (yield ...  is still accepted).\n\nChange-Id: I65559d725f443cd2097ab09bf6a0f1adb81d1153\n'}]",0,85699,8d679d01caf0f2af33433f1f62f70ae53e175d3e,22,5,1,9107,,,0,"Trollius: allow version 0.2 and later

As the author of the Trollius module, I would like to use newer
versions. In version 0.2, the API changed a little bit (""yield
From(...)"" instead of ""yield ...""), but the change is backward
compatible (yield ...  is still accepted).

Change-Id: I65559d725f443cd2097ab09bf6a0f1adb81d1153
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/85699/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,8d679d01caf0f2af33433f1f62f70ae53e175d3e,trollius02,trollius>=0.1.4,"trollius>=0.1.4,<0.2",1,1
openstack%2Ftempest~master~I9fd2f3eeae4648015976d3c5944655b211ccbaa1,openstack/tempest,master,I9fd2f3eeae4648015976d3c5944655b211ccbaa1,Swift formpost cleanup,MERGED,2014-04-09 07:11:55.000000000,2014-04-17 22:25:33.000000000,2014-04-17 22:25:32.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 6968}, {'_account_id': 8859}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-09 07:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/341245587b4c753012aef20171df9b062c04b40b', 'message': 'Swift formpost cleanup\n\nFormpost test failed sometimes with an Unauthorized error.\nA possible reason for this is the eventual consistency, because\nthe required account metadata might not be ready when the test\nis executed.\n\nMetadata availability is now checked in setUp(). This check is\nalready used in tempest.api.object_storage.test_tempurl.\n\nTests now also use the built in client. An additional negative test\nhas been added to ensure that formpost middleware is actually used\nand not bypassed due to an already authenticated request.\n\nChange-Id: I9fd2f3eeae4648015976d3c5944655b211ccbaa1\nCloses-Bug: 1304341\n'}, {'number': 2, 'created': '2014-04-14 07:23:05.000000000', 'files': ['tempest/common/rest_client.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_object_formpost.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/285a8481c9deafd6a67e7b429ae9ea671959fd6c', 'message': 'Swift formpost cleanup\n\nFormpost test failed sometimes with an Unauthorized error.\nA possible reason for this is the eventual consistency, because\nthe required account metadata might not be ready when the test\nis executed.\n\nMetadata availability is now checked in setUp(). This check is\nalready used in tempest.api.object_storage.test_tempurl.\n\nTests now also use the built in client. An additional negative test\nhas been added to ensure that formpost middleware is actually used\nand not bypassed due to an already authenticated request.\n\nChange-Id: I9fd2f3eeae4648015976d3c5944655b211ccbaa1\nCloses-Bug: 1304341\n'}]",0,86244,285a8481c9deafd6a67e7b429ae9ea671959fd6c,14,6,2,6968,,,0,"Swift formpost cleanup

Formpost test failed sometimes with an Unauthorized error.
A possible reason for this is the eventual consistency, because
the required account metadata might not be ready when the test
is executed.

Metadata availability is now checked in setUp(). This check is
already used in tempest.api.object_storage.test_tempurl.

Tests now also use the built in client. An additional negative test
has been added to ensure that formpost middleware is actually used
and not bypassed due to an already authenticated request.

Change-Id: I9fd2f3eeae4648015976d3c5944655b211ccbaa1
Closes-Bug: 1304341
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/86244/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/rest_client.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_object_formpost.py']",3,341245587b4c753012aef20171df9b062c04b40b,bug/1304341," def setUp(self): super(ObjectFormPostTest, self).setUp() # make sure the metadata has been set account_client_metadata, _ = \ self.account_client.list_account_metadata() self.assertIn('x-account-meta-temp-url-key', account_client_metadata) self.assertEqual( account_client_metadata['x-account-meta-temp-url-key'], self.key) url = ""%s/%s"" % (self.container_name, self.object_name) resp, body = self.object_client.post(url, body, headers=headers)"," url = ""%s/%s/%s"" % (self.container_client.base_url, self.container_name, self.object_name) # Use a raw request, otherwise authentication headers are used resp, body = self.object_client.http_obj.request(url, ""POST"", body, headers=headers)",49,16
openstack%2Ftrove~master~I1867ef3ab0fd13cc7fd0875b419e06c2d96963c2,openstack/trove,master,I1867ef3ab0fd13cc7fd0875b419e06c2d96963c2,Use six.moves.urllib.parse instead of urlparse,MERGED,2014-02-12 09:07:15.000000000,2014-04-17 22:25:31.000000000,2014-04-17 22:25:30.000000000,"[{'_account_id': 3}, {'_account_id': 739}, {'_account_id': 1925}, {'_account_id': 2340}, {'_account_id': 4458}, {'_account_id': 5293}, {'_account_id': 7092}, {'_account_id': 7543}, {'_account_id': 8415}]","[{'number': 1, 'created': '2014-02-12 09:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9771db248bb0ba4f7eb0aa31c787ed4c39eba5e6', 'message': 'Use six.moves.urllib.parse instead of urlparse\n\nTo keep Python 3.x compatibility, use six.moves.urllib.parse to\nreplace urlparse.\n\nChange-Id: I1867ef3ab0fd13cc7fd0875b419e06c2d96963c2\n'}, {'number': 2, 'created': '2014-02-13 02:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f1d7fe4aa72b860f1f01820c1adb6a5f50247739', 'message': 'Use six.moves.urllib.parse instead of urlparse\n\nTo keep Python 3.x compatibility, use six.moves.urllib.parse to\nreplace urlparse.\n\nCloses-Bug: #1279611\nChange-Id: I1867ef3ab0fd13cc7fd0875b419e06c2d96963c2\n'}, {'number': 3, 'created': '2014-02-21 01:49:02.000000000', 'files': ['rsdns/client/records.py', 'trove/openstack/common/network_utils.py', 'trove/common/pagination.py', 'trove/common/utils.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6113ede1982520d22ae93366c54de41f7ae59b50', 'message': 'Use six.moves.urllib.parse instead of urlparse\n\nTo keep Python 3.x compatibility, use six.moves.urllib.parse to\nreplace urlparse.\n\nCloses-Bug: #1279611\nChange-Id: I1867ef3ab0fd13cc7fd0875b419e06c2d96963c2\n'}]",0,72882,6113ede1982520d22ae93366c54de41f7ae59b50,48,9,3,7543,,,0,"Use six.moves.urllib.parse instead of urlparse

To keep Python 3.x compatibility, use six.moves.urllib.parse to
replace urlparse.

Closes-Bug: #1279611
Change-Id: I1867ef3ab0fd13cc7fd0875b419e06c2d96963c2
",git fetch https://review.opendev.org/openstack/trove refs/changes/82/72882/1 && git format-patch -1 --stdout FETCH_HEAD,"['rsdns/client/records.py', 'trove/common/pagination.py', 'trove/common/utils.py']",3,9771db248bb0ba4f7eb0aa31c787ed4c39eba5e6,master,import six.moves.urllib.parse as urlparse,import urlparse,3,3
openstack%2Ftrove~master~Ic34f86e269a8faec6efb3f49ad01bdd8e7f3ec55,openstack/trove,master,Ic34f86e269a8faec6efb3f49ad01bdd8e7f3ec55,Updated from global requirements,MERGED,2014-04-07 21:17:50.000000000,2014-04-17 22:19:57.000000000,2014-04-17 22:19:56.000000000,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 5293}, {'_account_id': 7092}]","[{'number': 1, 'created': '2014-04-07 21:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d1e32f4aa493410b77d5388a6310f08a5f85e162', 'message': 'Updated from global requirements\n\nChange-Id: Ic34f86e269a8faec6efb3f49ad01bdd8e7f3ec55\n'}, {'number': 2, 'created': '2014-04-11 04:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/aadfe75c8161ff663a6073443a24894c618618f8', 'message': 'Updated from global requirements\n\nChange-Id: Ic34f86e269a8faec6efb3f49ad01bdd8e7f3ec55\n'}, {'number': 3, 'created': '2014-04-14 23:22:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/f10d4b4036cc18f29e1e77e0bfb5cff4a459d3f8', 'message': 'Updated from global requirements\n\nUpdated global requirements from openstack/requirements.\n\nChange-Id: Ic34f86e269a8faec6efb3f49ad01bdd8e7f3ec55\n'}]",0,85844,f10d4b4036cc18f29e1e77e0bfb5cff4a459d3f8,24,4,3,3,,,0,"Updated from global requirements

Updated global requirements from openstack/requirements.

Change-Id: Ic34f86e269a8faec6efb3f49ad01bdd8e7f3ec55
",git fetch https://review.opendev.org/openstack/trove refs/changes/44/85844/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d1e32f4aa493410b77d5388a6310f08a5f85e162,(detached,"pbr>=0.6,!=0.7,<1.0","pbr>=0.6,<1.0",1,1
openstack%2Fos-collect-config~master~Ie1a20c6a46a0b79eaaa965322de75f82d698ec20,openstack/os-collect-config,master,Ie1a20c6a46a0b79eaaa965322de75f82d698ec20,Updated from global requirements,MERGED,2014-04-07 21:14:59.000000000,2014-04-17 22:02:53.000000000,2014-04-17 22:02:53.000000000,"[{'_account_id': 3}, {'_account_id': 6449}, {'_account_id': 6488}]","[{'number': 1, 'created': '2014-04-07 21:14:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/68f90070218dd11c6f3cf13f4ff2802b00221dc7', 'message': 'Updated from global requirements\n\nChange-Id: Ie1a20c6a46a0b79eaaa965322de75f82d698ec20\n'}]",0,85829,68f90070218dd11c6f3cf13f4ff2802b00221dc7,12,3,1,3,,,0,"Updated from global requirements

Change-Id: Ie1a20c6a46a0b79eaaa965322de75f82d698ec20
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/29/85829/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,68f90070218dd11c6f3cf13f4ff2802b00221dc7,openstack/requirements,"pbr>=0.6,!=0.7,<1.0","pbr>=0.6,<1.0",1,1
openstack%2Fcongress~master~If0d5fb37a77acfca6e98cec6d6ebcd2245faca2b,openstack/congress,master,If0d5fb37a77acfca6e98cec6d6ebcd2245faca2b,Adding future-features.txt,MERGED,2014-04-17 21:00:33.000000000,2014-04-17 21:20:22.000000000,2014-04-17 21:20:22.000000000,"[{'_account_id': 3}, {'_account_id': 8215}]","[{'number': 1, 'created': '2014-04-17 21:00:33.000000000', 'files': ['future-features.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/d85670e5a886537385fed3bc9c5aa150563a983f', 'message': 'Adding future-features.txt\n\nKeeping track of the features we eventually want to add.\n\nChange-Id: If0d5fb37a77acfca6e98cec6d6ebcd2245faca2b\n'}]",0,88435,d85670e5a886537385fed3bc9c5aa150563a983f,6,2,1,8215,,,0,"Adding future-features.txt

Keeping track of the features we eventually want to add.

Change-Id: If0d5fb37a77acfca6e98cec6d6ebcd2245faca2b
",git fetch https://review.opendev.org/openstack/congress refs/changes/35/88435/1 && git format-patch -1 --stdout FETCH_HEAD,['future-features.txt'],1,d85670e5a886537385fed3bc9c5aa150563a983f,,"* Basic Policy language implementation ** Multi-threaded Datalog implementation ** Bottom-up datalog evaluation ** Query optimization ** Materialized implementation: automated view selection/inlining * Enhanced Policy language ** ActiveDirectory facade ** Syntax improvements (modals like insert/delete) ** Support for compound objects (safe, stratified recursion) ** Richer support for describing actions in Enforcement policy ** Modules * Policy structure ** Multi-tenant ** Multi-stakeholder (tenants, finance, operations, etc.) * Enforcement ** Execution of (rich) actions ** Carve out subpolicies and push to other components, e.g. Neutron ** Add consultation with Congress to other OS components, e.g. Nova/Neutron ** Proper remediation enumeration with Classification+Action policies ** Find ways of automatically choosing the proper remediation strategy (e.g. priorities/monotonicity) ** Give cloud owner way of configuring how proactive/reactive/etc. based on information from separate policies. * Libraries ** Data source drivers for common OS and non-OS components ** HIPAA, etc. encoding ** Ontologies for different sectors, e.g. finance * Policy Analysis ** Look for infinite loops through Enforcement policy (using Action policy) ** Compare Access control policy and Classification policy for redundancy ** Change impact analysis * Dashboard ** IDE for policy (different levels: raw-Datalog, AD, checkbox-based) ** List violations ** Explain violations (step-by-step tracing thru policy) ** Simulate state change and action execution ** Enumerate remediations for a given violation * Architecture and API ** Formalize and implement full introspection and query APIs ** Distribute across multiple nodes ** Ensure Congress can use another Congress instance as data * Authentication and Access Control ** Add authentication and access controls on API/dashboard ** When remediating, which user(s) are executing actions? Does Congress need admin credentials for all its cloud services or are user credentials part of actions? Need proper storage for those credentials. Etc. ",,51,0
openstack%2Fdevstack~master~Ia8250db660216a5296cb6ba2af1538b8c90d187c,openstack/devstack,master,Ia8250db660216a5296cb6ba2af1538b8c90d187c,Devstack support for Neutron VPNaaS,MERGED,2014-04-10 11:37:31.000000000,2014-04-17 21:09:09.000000000,2014-04-17 21:09:08.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 9008}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-10 11:37:31.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/746dceeb68e6bd2bee4b06fc5744821ba801642c', 'message': 'Devstack support for Neutron VPNaaS\n\nIncludes two enhancements to support VPNaaS and allow other\nvendor implementation support. Goal is to provide a solution\nfor VPN .ini files until a more general solution can be defined\nto handle all reference and vendor .ini files.\n\nFirst, the /opt/stack/neutron/etc/vpn_agent.ini file is copied\nto /etc/neutron, to allow the selected device drivers for agent\nto be specified. Both reference and vendor implementations can\nbe uncommented in this file, prior to stacking.\n\nSecond, to allow vendor VPN implementations to provide an .ini\nfile to the agent at start-up time, an environment variable is\ndefined and can be set in the localrc to specify one or more\n.ini files. The desire is NOT to include vendor settings in the\nglobal vpn_agent.ini.\n\nChange-Id: Ia8250db660216a5296cb6ba2af1538b8c90d187c\nCloses-Bug: 1301552\n'}]",1,86567,746dceeb68e6bd2bee4b06fc5744821ba801642c,22,9,1,6659,,,0,"Devstack support for Neutron VPNaaS

Includes two enhancements to support VPNaaS and allow other
vendor implementation support. Goal is to provide a solution
for VPN .ini files until a more general solution can be defined
to handle all reference and vendor .ini files.

First, the /opt/stack/neutron/etc/vpn_agent.ini file is copied
to /etc/neutron, to allow the selected device drivers for agent
to be specified. Both reference and vendor implementations can
be uncommented in this file, prior to stacking.

Second, to allow vendor VPN implementations to provide an .ini
file to the agent at start-up time, an environment variable is
defined and can be set in the localrc to specify one or more
.ini files. The desire is NOT to include vendor settings in the
global vpn_agent.ini.

Change-Id: Ia8250db660216a5296cb6ba2af1538b8c90d187c
Closes-Bug: 1301552
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/86567/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,746dceeb68e6bd2bee4b06fc5744821ba801642c,bug/1301552,"# List of (optional) config files for VPN device drivers to use with # the neutron-q-vpn agent declare -a Q_VPN_EXTRA_CONF_FILES screen_it q-vpn ""cd $NEUTRON_DIR && $AGENT_VPN_BINARY $VPN_CONF_FILES"" local cfg_file if is_service_enabled q-vpn; then Q_VPN_CONF_FILE=$NEUTRON_CONF_DIR/vpn_agent.ini cp $NEUTRON_DIR/etc/vpn_agent.ini $Q_VPN_CONF_FILE VPN_CONF_FILES=""--config-file $NEUTRON_CONF --config-file=$Q_L3_CONF_FILE --config-file=$Q_VPN_CONF_FILE"" for cfg_file in ${Q_VPN_EXTRA_CONF_FILES[@]}; do VPN_CONF_FILES+="" --config-file $cfg_file"" done fi "," screen_it q-vpn ""cd $NEUTRON_DIR && $AGENT_VPN_BINARY $L3_CONF_FILES""",15,1
openstack%2Fglance~master~I0c47f991c3974e441335e71c9d26fab8a127f2ca,openstack/glance,master,I0c47f991c3974e441335e71c9d26fab8a127f2ca,Replace assert* with more suitable asserts in unit tests,MERGED,2014-02-07 12:20:45.000000000,2014-04-17 21:09:06.000000000,2014-04-17 21:09:05.000000000,"[{'_account_id': 3}, {'_account_id': 616}, {'_account_id': 6484}, {'_account_id': 6493}, {'_account_id': 6549}, {'_account_id': 7491}, {'_account_id': 7604}, {'_account_id': 8759}, {'_account_id': 9520}, {'_account_id': 9569}, {'_account_id': 10374}]","[{'number': 1, 'created': '2014-02-07 12:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/374bff2b549a370ad89ec618867b4635de33c1db', 'message': 'Replace assert* with more suitable asserts in tests\n\nReplace assertTrue(* is None) with assertIsNone,\nassertTrue(* is not None) with assertIsNotNone,\nassertTrue(* in *) with assertIn,\nassertTrue(* not in *) with assertNotIn,\nassertFalse(* in *) with assertNotIn,\nassertTrue(* > *) with assertGreater,\nassert(* <= *) with assertLessEqual,\nassertTrue(* == *) with assertEqual,\nassertTrue(* != *) with assertNotEqual.\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 2, 'created': '2014-02-07 12:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3f36500781bfec3ec6289b0f22353ccaa3601079', 'message': 'Replace assert* with more suitable asserts in tests\n\nReplace assertTrue(* is None) with assertIsNone,\nassertTrue(* is not None) with assertIsNotNone,\nassertTrue(* in *) with assertIn,\nassertTrue(* not in *) with assertNotIn,\nassertFalse(* in *) with assertNotIn,\nassertTrue(* > *) with assertGreater,\nassert(* <= *) with assertLessEqual,\nassertTrue(* == *) with assertEqual,\nassertTrue(* != *) with assertNotEqual.\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 3, 'created': '2014-02-07 13:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/22719415e57434b6ba663c1d90a70337e27c4a0e', 'message': 'Replace assert* with more suitable asserts in tests\n\nReplace assertTrue(* is None) with assertIsNone,\nassertTrue(* is not None) with assertIsNotNone,\nassertTrue(* in *) with assertIn,\nassertTrue(* not in *) with assertNotIn,\nassertFalse(* in *) with assertNotIn,\nassertTrue(* == *) with assertEqual,\nassertTrue(* != *) with assertNotEqual.\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 4, 'created': '2014-02-13 11:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e6d38594bff069134b81860ba4984b04c616b4b7', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nReplace assertTrue(* is None) with assertIsNone,\nassertTrue(* is not None) with assertIsNotNone,\nassertTrue(* in *) with assertIn,\nassertTrue(* not in *) with assertNotIn,\nassertFalse(* in *) with assertNotIn,\nassertTrue(* == *) with assertEqual,\nassertTrue(* != *) with assertNotEqual in unit tests to have\nmore clear messages in case of failure.\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 5, 'created': '2014-02-18 12:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/07e20fec18e186daa1ba94a9087f51d79d1f0e47', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nThe following replacements were done in unit tests to have clearer messages in case of failure:\n- assertTrue(* is None) with assertIsNone\n- assertTrue(* is not None) with assertIsNotNone\n- assertTrue(* in *) with assertIn\n- assertTrue(* not in *) with assertNotIn\n- assertFalse(* in *) with assertNotIn\n- assertTrue(* == *) with assertEqual\n- assertTrue(* != *) with assertNotEqual\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 6, 'created': '2014-02-19 08:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/305605ceb96908c06e68ab31c45e8b5c19bd5719', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nThe following replacements were done in unit tests to have clearer messages in case of failure:\n- assertTrue(* is None) with assertIsNone\n- assertTrue(* is not None) with assertIsNotNone\n- assertTrue(* in *) with assertIn\n- assertTrue(* not in *) with assertNotIn\n- assertFalse(* in *) with assertNotIn\n- assertTrue(* == *) with assertEqual\n- assertTrue(* != *) with assertNotEqual\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 7, 'created': '2014-02-27 11:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/caa35ac206dbecf65c3c47df8c7b6892d19e3f2b', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nThe following replacements were done in unit tests to have clearer messages in case of failure:\n- assertTrue(* is None) with assertIsNone\n- assertTrue(* is not None) with assertIsNotNone\n- assertTrue(* in *) with assertIn\n- assertTrue(* not in *) with assertNotIn\n- assertFalse(* in *) with assertNotIn\n- assertTrue(* == *) with assertEqual\n- assertTrue(* != *) with assertNotEqual\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 8, 'created': '2014-03-18 11:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/968481ea2de158616d494874e92339d11d60bccb', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nThe following replacements were done in unit tests to have clearer messages in case of failure:\n- assertTrue(* is None) with assertIsNone\n- assertTrue(* is not None) with assertIsNotNone\n- assertTrue(* in *) with assertIn\n- assertTrue(* not in *) with assertNotIn\n- assertFalse(* in *) with assertNotIn\n- assertTrue(* == *) with assertEqual\n- assertTrue(* != *) with assertNotEqual\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 9, 'created': '2014-04-08 10:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/04b2fab7bb964da407f480ce409f24b9bb288cbf', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nThe following replacements were done in unit tests to have clearer messages in case of failure:\n- assertTrue(* is None) with assertIsNone\n- assertTrue(* is not None) with assertIsNotNone\n- assertTrue(* in *) with assertIn\n- assertTrue(* not in *) with assertNotIn\n- assertFalse(* in *) with assertNotIn\n- assertTrue(* == *) with assertEqual\n- assertTrue(* != *) with assertNotEqual\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}, {'number': 10, 'created': '2014-04-17 06:37:14.000000000', 'files': ['glance/tests/unit/test_migrations.py', 'glance/tests/unit/v1/test_registry_api.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/common/test_exception.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/common/test_rpc.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_misc.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_notifier.py', 'glance/tests/unit/test_store_location.py', 'glance/tests/unit/test_swift_store.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/tests/unit/v2/test_registry_client.py', 'glance/tests/unit/v1/test_api.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/v1/test_registry_client.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/api/test_property_protections.py', 'glance/tests/unit/api/test_cmd_cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/84dbe32a6d72ed6da08ab31b57f863f64c303ae6', 'message': 'Replace assert* with more suitable asserts in unit tests\n\nThe following replacements were done in unit tests to have\nclearer messages in case of failure:\n- assertTrue(* is None) with assertIsNone\n- assertTrue(* is not None) with assertIsNotNone\n- assertTrue(* in *) with assertIn\n- assertTrue(* not in *) with assertNotIn\n- assertFalse(* in *) with assertNotIn\n- assertTrue(* == *) with assertEqual\n- assertTrue(* != *) with assertNotEqual\n\nChange-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca\n'}]",38,71880,84dbe32a6d72ed6da08ab31b57f863f64c303ae6,72,11,10,9569,,,0,"Replace assert* with more suitable asserts in unit tests

The following replacements were done in unit tests to have
clearer messages in case of failure:
- assertTrue(* is None) with assertIsNone
- assertTrue(* is not None) with assertIsNotNone
- assertTrue(* in *) with assertIn
- assertTrue(* not in *) with assertNotIn
- assertFalse(* in *) with assertNotIn
- assertTrue(* == *) with assertEqual
- assertTrue(* != *) with assertNotEqual

Change-Id: I0c47f991c3974e441335e71c9d26fab8a127f2ca
",git fetch https://review.opendev.org/openstack/glance refs/changes/80/71880/9 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_migrations.py', 'glance/tests/unit/v1/test_registry_api.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/common/test_exception.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/common/test_rpc.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_misc.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_notifier.py', 'glance/tests/unit/test_store_location.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/tests/unit/v2/test_registry_client.py', 'glance/tests/unit/v1/test_api.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/v1/test_registry_client.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/api/test_property_protections.py', 'glance/tests/unit/api/test_cmd_cache_manage.py']",24,374bff2b549a370ad89ec618867b4635de33c1db,uniit-tests," self.assertIn( mock.call.mock_client().queue_image_for_caching('img_id'), self.assertIn( mock.call.mock_client().delete_cached_image('img_id'), self.assertIn( mock.call.mock_client().delete_all_cached_images(), self.assertIn( mock.call.mock_client().delete_queued_image('img_id'), self.assertIn( mock.call.mock_client().delete_all_queued_images(), self.assertGreater(len(oparser.option_list), 0)", self.assertTrue( mock.call.mock_client().queue_image_for_caching('img_id') in self.assertTrue( mock.call.mock_client().delete_cached_image('img_id') in self.assertTrue( mock.call.mock_client().delete_all_cached_images() in self.assertTrue( mock.call.mock_client().delete_queued_image('img_id') in self.assertTrue( mock.call.mock_client().delete_all_queued_images() in self.assertTrue(len(oparser.option_list) > 0),243,244
openstack%2Fdevstack~master~Iaf7c71854c3741a505a79037ffb8c86ace74fc27,openstack/devstack,master,Iaf7c71854c3741a505a79037ffb8c86ace74fc27,Remove sshd reconfig from lib/ironic,MERGED,2014-04-14 18:59:28.000000000,2014-04-17 21:07:51.000000000,2014-04-17 21:07:50.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1420}, {'_account_id': 1653}, {'_account_id': 2889}, {'_account_id': 6482}, {'_account_id': 8247}, {'_account_id': 10239}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-14 18:59:28.000000000', 'files': ['lib/ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/867651049a07a087e619a17d05f569188032f7e0', 'message': 'Remove sshd reconfig from lib/ironic\n\nThe sshd reconfiguration to listen on port 2222 provides no\nbenefit and complicates deployment on some systems.  This removes\nthe reconfiguration and instead just confirms SSH connectivity.\nDefault SSH host and ports are left configurable, but the port now\nreflects the default 22.\n\nChange-Id: Iaf7c71854c3741a505a79037ffb8c86ace74fc27\n'}]",0,87355,867651049a07a087e619a17d05f569188032f7e0,20,9,1,1420,,,0,"Remove sshd reconfig from lib/ironic

The sshd reconfiguration to listen on port 2222 provides no
benefit and complicates deployment on some systems.  This removes
the reconfiguration and instead just confirms SSH connectivity.
Default SSH host and ports are left configurable, but the port now
reflects the default 22.

Change-Id: Iaf7c71854c3741a505a79037ffb8c86ace74fc27
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/87355/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ironic'],1,867651049a07a087e619a17d05f569188032f7e0,ironic_remove_ssh_reconfig,IRONIC_VM_SSH_PORT=${IRONIC_VM_SSH_PORT:-22} ironic_ssh_check $IRONIC_SSH_KEY_DIR/$IRONIC_SSH_KEY_FILENAME $IRONIC_VM_SSH_ADDRESS $IRONIC_VM_SSH_PORT $IRONIC_SSH_USERNAME 10,"IRONIC_VM_SSH_PORT=${IRONIC_VM_SSH_PORT:-2222}function configure_ironic_sshd { # Ensure sshd server accepts connections from localhost only SSH_CONFIG=/etc/ssh/sshd_config HOST_PORT=$IRONIC_VM_SSH_ADDRESS:$IRONIC_VM_SSH_PORT if ! sudo grep ListenAddress $SSH_CONFIG | grep $HOST_PORT; then echo ""ListenAddress $HOST_PORT"" | sudo tee -a $SSH_CONFIG fi SSH_SERVICE_NAME=sshd if is_ubuntu; then SSH_SERVICE_NAME=ssh fi restart_service $SSH_SERVICE_NAME # to ensure ssh service is up and running sleep 3 ironic_ssh_check $IRONIC_SSH_KEY_DIR/$IRONIC_SSH_KEY_FILENAME $IRONIC_VM_SSH_ADDRESS $IRONIC_VM_SSH_PORT $IRONIC_SSH_USERNAME 10 } configure_ironic_sshd",2,23
openstack%2Fpython-neutronclient~master~Ice43bbe19138be6af85b47c2090359d22c70b29f,openstack/python-neutronclient,master,Ice43bbe19138be6af85b47c2090359d22c70b29f,session_persistence: invalid str2dict value: u'',MERGED,2014-01-23 10:54:11.000000000,2014-04-17 20:59:58.000000000,2014-04-17 20:59:58.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5572}, {'_account_id': 7317}, {'_account_id': 7448}, {'_account_id': 8533}]","[{'number': 1, 'created': '2014-01-23 10:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2e33cabe45900f9bf39adea0110aac701a98b5fe', 'message': 'session_persistence: invalid str2dict value: u\'\'\n\nCan\'t receive empty session_persistence dict to update the vip.\nIt would raise the following error:\n\n$ neutron lb-vip-update vip --session_persistence type=dict """"\nusage: neutron [--session_persistence SESSION_PERSISTENCE]\nneutron: error: argument --session_persistence: invalid str2dict value: u\'\'\n\nChange-Id: Ice43bbe19138be6af85b47c2090359d22c70b29f\nCloses-Bug: #1262582\n'}, {'number': 2, 'created': '2014-01-28 09:21:23.000000000', 'files': ['neutronclient/common/utils.py', 'neutronclient/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/43ef5172abe0208046f9dd273e2c9d8154cc5dc8', 'message': 'session_persistence: invalid str2dict value: u\'\'\n\nCan\'t receive empty session_persistence dict to update the vip.\nIt would raise the following error:\n\n$ neutron lb-vip-update vip --session_persistence type=dict """"\nusage: neutron [--session_persistence SESSION_PERSISTENCE]\nneutron: error: argument --session_persistence: invalid str2dict value: u\'\'\n\nChange-Id: Ice43bbe19138be6af85b47c2090359d22c70b29f\nCloses-Bug: #1262582\n'}]",3,68603,43ef5172abe0208046f9dd273e2c9d8154cc5dc8,40,7,2,8533,,,0,"session_persistence: invalid str2dict value: u''

Can't receive empty session_persistence dict to update the vip.
It would raise the following error:

$ neutron lb-vip-update vip --session_persistence type=dict """"
usage: neutron [--session_persistence SESSION_PERSISTENCE]
neutron: error: argument --session_persistence: invalid str2dict value: u''

Change-Id: Ice43bbe19138be6af85b47c2090359d22c70b29f
Closes-Bug: #1262582
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/03/68603/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/common/utils.py'],1,2e33cabe45900f9bf39adea0110aac701a98b5fe,master, if not strdict: return _info,,2,0
openstack%2Fpython-neutronclient~master~Id43ad905c5c13da9015d035267eaa86429e60ff3,openstack/python-neutronclient,master,Id43ad905c5c13da9015d035267eaa86429e60ff3,Suppress stdout/stderr in test_shell,MERGED,2014-03-22 22:14:13.000000000,2014-04-17 20:59:57.000000000,2014-04-17 20:59:57.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 7448}]","[{'number': 1, 'created': '2014-03-22 22:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d180cae5d64a706ed9a4219f315f1ef36de95251', 'message': 'Suppress stdout/stderr in test_shell.\n\ntest_shell is refactored to check stderr in addition to stdout\nand suppress stdout/stderr. In addition, test_auth tries API call\nto keystone, so related methods are mocked out now to avoid it.\n\nChange-Id: Id43ad905c5c13da9015d035267eaa86429e60ff3\nCloses-Bug: #1161849\n'}, {'number': 2, 'created': '2014-03-23 14:46:52.000000000', 'files': ['neutronclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a9f6ce4066eb523250d45689356f5b3dd5f93195', 'message': 'Suppress stdout/stderr in test_shell\n\ntest_shell is refactored to check stderr in addition to stdout\nand suppress stdout/stderr. In addition, test_auth tries API call\nto keystone, so related methods are mocked out now to avoid it.\n\nChange-Id: Id43ad905c5c13da9015d035267eaa86429e60ff3\nCloses-Bug: #1161849\n'}]",0,82322,a9f6ce4066eb523250d45689356f5b3dd5f93195,16,5,2,841,,,0,"Suppress stdout/stderr in test_shell

test_shell is refactored to check stderr in addition to stdout
and suppress stdout/stderr. In addition, test_auth tries API call
to keystone, so related methods are mocked out now to avoid it.

Change-Id: Id43ad905c5c13da9015d035267eaa86429e60ff3
Closes-Bug: #1161849
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/22/82322/2 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/test_shell.py'],1,d180cae5d64a706ed9a4219f315f1ef36de95251,bug/1161849,"import loggingfrom neutronclient.common import clientmanager def shell(self, argstr, check=False): orig = (sys.stdout, sys.stderr) sys.stderr = cStringIO.StringIO() stdout = sys.stdout.getvalue() stderr = sys.stderr.getvalue() sys.stderr.close() sys.stdout, sys.stderr = orig return stdout, stderr self.useFixture(fixtures.FakeLogger(level=logging.DEBUG)) stdout, stderr = self.shell('fake', check=True) self.assertFalse(stdout) self.assertEqual(""Unknown command ['fake']"", stderr.strip()) help_text, stderr = self.shell('help') self.assertFalse(stderr) stdout, stderr = self.shell('help quota-list') self.assertFalse(stderr) help_text, stderr = self.shell('help network-create') self.assertFalse(stderr) self.useFixture(fixtures.FakeLogger(level=logging.DEBUG)) stdout, stderr = self.shell('--os-auth-strategy fake quota-list') self.assertFalse(stdout) self.assertEqual('You must provide a service URL via ' 'either --os-url or env[OS_URL]', stderr.strip()) neutron_shell = openstack_shell.NeutronShell('2.0') self.addCleanup(self.mox.UnsetStubs) self.mox.StubOutWithMock(clientmanager.ClientManager, '__init__') self.mox.StubOutWithMock(neutron_shell, 'run_subcommand') clientmanager.ClientManager.__init__( token='', url='', auth_url='http://127.0.0.1:5000/', tenant_name='test', tenant_id='tenant_id', username='test', password='test', region_name='', api_version={'network': '2.0'}, auth_strategy='keystone', service_type='network', endpoint_type='publicURL', insecure=False, ca_cert=None, log_credentials=True) neutron_shell.run_subcommand(['quota-list']) self.mox.ReplayAll() cmdline = ('--os-username test ' '--os-password test ' '--os-tenant-name test ' '--os-auth-url http://127.0.0.1:5000/ ' '--os-auth-strategy keystone quota-list') neutron_shell.run(cmdline.split()) self.mox.VerifyAll()","from neutronclient.common import exceptionsclass NoExitArgumentParser(argparse.ArgumentParser): def error(self, message): raise exceptions.CommandError(message) def _tolerant_shell(self, cmd): t_shell = openstack_shell.NeutronShell('2.0') t_shell.run(cmd.split()) # Make a fake shell object, a helping wrapper to call it, and a quick # way of asserting that certain API calls were made. global shell, _shell, assert_called, assert_called_anytime _shell = openstack_shell.NeutronShell('2.0') shell = lambda cmd: _shell.run(cmd.split()) def shell(self, argstr): orig = sys.stdout out = sys.stdout.getvalue() sys.stdout = orig return out openstack_shell.NeutronShell('2.0').run('fake') help_text = self.shell('help') stdout = self.shell('help quota-list') help_text = self.shell('help network-create') self.shell('--os-auth-strategy fake quota-list') self.shell(' --os-username test' ' --os-password test' ' --os-tenant-name test' ' --os-auth-url http://127.0.0.1:5000/' ' --os-auth-strategy keystone quota-list') #self.mox.StubOutWithMock(qshell_mock, 'run')",45,32
openstack%2Fbugdaystats~master~I3d39924bddfe8b8ad053d36cbf3b41ae21110972,openstack/bugdaystats,master,I3d39924bddfe8b8ad053d36cbf3b41ae21110972,Recreate index.html with each run,MERGED,2014-03-28 19:59:25.000000000,2014-04-17 20:54:05.000000000,2014-04-17 20:54:05.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6609}, {'_account_id': 6987}]","[{'number': 1, 'created': '2014-03-28 19:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bugdaystats/commit/fd65a8524f3932db5837894749a9dacd213aa813', 'message': 'Recreate index.html with each run\n\nRegardless of wither the index.html already exists, create a new\none with each run so any template changes are picked up.\n\nChange-Id: I3d39924bddfe8b8ad053d36cbf3b41ae21110972\n'}, {'number': 2, 'created': '2014-03-28 20:05:59.000000000', 'files': ['bugdaystats.py'], 'web_link': 'https://opendev.org/openstack/bugdaystats/commit/4b8b0922c4b688f28083fee6d21444ddd76e563a', 'message': 'Recreate index.html with each run\n\nRegardless of whether the index.html already exists, create a new\none with each run so any template changes are picked up.\n\nChange-Id: I3d39924bddfe8b8ad053d36cbf3b41ae21110972\n'}]",0,83880,4b8b0922c4b688f28083fee6d21444ddd76e563a,18,5,2,6609,,,0,"Recreate index.html with each run

Regardless of whether the index.html already exists, create a new
one with each run so any template changes are picked up.

Change-Id: I3d39924bddfe8b8ad053d36cbf3b41ae21110972
",git fetch https://review.opendev.org/openstack/bugdaystats refs/changes/80/83880/2 && git format-patch -1 --stdout FETCH_HEAD,['bugdaystats.py'],1,fd65a8524f3932db5837894749a9dacd213aa813,rm/index," template = env.get_template('index.html') template.stream(projects=projects, openstack_status=openstack_status).dump(indexfile)"," if not os.path.exists(indexfile): template = env.get_template('index.html') template.stream(projects=projects, openstack_status=openstack_status).dump(indexfile)",3,4
openstack%2Fbugdaystats~master~I4dc17671cb1d96eb8cbfef1aaf4604d8cfa34cc0,openstack/bugdaystats,master,I4dc17671cb1d96eb8cbfef1aaf4604d8cfa34cc0,Add link to JSON file on index.html,MERGED,2014-03-28 19:52:44.000000000,2014-04-17 20:53:35.000000000,2014-04-17 20:53:35.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6987}]","[{'number': 1, 'created': '2014-03-28 19:52:44.000000000', 'files': ['templates/index.html'], 'web_link': 'https://opendev.org/openstack/bugdaystats/commit/61cda4a2e386adf7b1151cd4c48bff922d9314cb', 'message': ""Add link to JSON file on index.html\n\nA json file is generated for each service, link this to the main page\nso it's discoverable.\n\nChange-Id: I4dc17671cb1d96eb8cbfef1aaf4604d8cfa34cc0\n""}]",0,83878,61cda4a2e386adf7b1151cd4c48bff922d9314cb,14,4,1,6609,,,0,"Add link to JSON file on index.html

A json file is generated for each service, link this to the main page
so it's discoverable.

Change-Id: I4dc17671cb1d96eb8cbfef1aaf4604d8cfa34cc0
",git fetch https://review.opendev.org/openstack/bugdaystats refs/changes/78/83878/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/index.html'],1,61cda4a2e386adf7b1151cd4c48bff922d9314cb,addlinks/json,"</IFRAME> <BR><A HREF=""{{ project.project }}-bug-stats.json"">JSON FILE</A></TD></TR>",</IFRAME></TD></TR>,2,1
openstack%2Fbugdaystats~master~I164fb98f48d5b0d7a69bd6cfb84793328bbdc202,openstack/bugdaystats,master,I164fb98f48d5b0d7a69bd6cfb84793328bbdc202,Wrap results on index.html in container div,MERGED,2014-03-28 19:31:52.000000000,2014-04-17 20:53:03.000000000,2014-04-17 20:53:03.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6987}]","[{'number': 1, 'created': '2014-03-28 19:31:52.000000000', 'files': ['templates/index.html'], 'web_link': 'https://opendev.org/openstack/bugdaystats/commit/de4e917021be44df582baa636993fe1fcc3b2704', 'message': 'Wrap results on index.html in container div\n\nAll other projects on status.openstack.org are nicely\ncontainerized for a similar look. Doing this for the\nbugdaystats template as well.\n\nChange-Id: I164fb98f48d5b0d7a69bd6cfb84793328bbdc202\n'}]",0,83870,de4e917021be44df582baa636993fe1fcc3b2704,14,4,1,6609,,,0,"Wrap results on index.html in container div

All other projects on status.openstack.org are nicely
containerized for a similar look. Doing this for the
bugdaystats template as well.

Change-Id: I164fb98f48d5b0d7a69bd6cfb84793328bbdc202
",git fetch https://review.opendev.org/openstack/bugdaystats refs/changes/70/83870/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/index.html'],1,de4e917021be44df582baa636993fe1fcc3b2704,centerhtml,"<DIV class=""container""></DIV>",,2,0
openstack%2Fopenstacksdk~master~I407045da12e86d9b1007429566bf30cf3c866720,openstack/openstacksdk,master,I407045da12e86d9b1007429566bf30cf3c866720,Rename session to transport,MERGED,2014-04-16 05:28:21.000000000,2014-04-17 20:52:03.000000000,2014-04-17 20:52:03.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-04-16 05:28:21.000000000', 'files': ['openstack/tests/test_transport.py', 'openstack/transport.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/49922f340cb9f7d8921f176d13fab2f37e23931a', 'message': ""Rename session to transport\n\nRename the requests.Session subclass because of the use of 'session'\nin other places that doesn't match this usage.\n\nChange-Id: I407045da12e86d9b1007429566bf30cf3c866720\n""}]",0,87855,49922f340cb9f7d8921f176d13fab2f37e23931a,11,5,1,970,,,0,"Rename session to transport

Rename the requests.Session subclass because of the use of 'session'
in other places that doesn't match this usage.

Change-Id: I407045da12e86d9b1007429566bf30cf3c866720
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/55/87855/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/test_transport.py', 'openstack/transport.py']",2,49922f340cb9f7d8921f176d13fab2f37e23931a,transporting,"- set default user_agent at Transport creation; set to None to skip the header - set default verify at Transport creationclass Transport(requests.Session): super(Transport, self).__init__() resp = super(Transport, self).request(method, url, **kwargs)","- set default user_agent at Session creation; set to None to skip the header - set default verify at Session creationclass Session(requests.Session): super(Session, self).__init__() resp = super(Session, self).request(method, url, **kwargs)",45,39
openstack%2Fdevstack~master~I61d16c4786d2e8043664478f2f9e3043365bef41,openstack/devstack,master,I61d16c4786d2e8043664478f2f9e3043365bef41,Set up cgroups for libvirt,ABANDONED,2014-03-24 22:21:45.000000000,2014-04-17 20:40:02.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1849}]","[{'number': 1, 'created': '2014-03-24 22:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f3951dae507870111f51ec81e1e09af1732ff405', 'message': ""Set up cgroups for libvirt\n\nlibvirt is trying to use cgroups, but we don't have them configured, so\nset them up first.\n\nChange-Id: I61d16c4786d2e8043664478f2f9e3043365bef41\nRelated-Bug: #1295876\n""}, {'number': 2, 'created': '2014-03-24 23:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2be7ae3473e6c9b3d5054626015c7445a7c7c963', 'message': ""Set up cgroups for libvirt\n\nlibvirt is trying to use cgroups, but we don't have them configured, so\nset them up first.\n\nChange-Id: I61d16c4786d2e8043664478f2f9e3043365bef41\nRelated-Bug: #1295876\n""}, {'number': 3, 'created': '2014-03-25 00:49:10.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/25567df274519867e0e34c304fea9c6a4a3a6501', 'message': ""Set up cgroups for libvirt\n\nlibvirt is trying to use cgroups, but we don't have them configured, so\nset them up first.\n\nChange-Id: I61d16c4786d2e8043664478f2f9e3043365bef41\nRelated-Bug: #1295876\n""}]",0,82630,25567df274519867e0e34c304fea9c6a4a3a6501,13,3,3,1849,,,0,"Set up cgroups for libvirt

libvirt is trying to use cgroups, but we don't have them configured, so
set them up first.

Change-Id: I61d16c4786d2e8043664478f2f9e3043365bef41
Related-Bug: #1295876
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/82630/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,f3951dae507870111f51ec81e1e09af1732ff405,cgroups, # Attempt to fix bug https://bugs.launchpad.net/nova/+bug/1295876 mount -t tmpfs cgroup_root /sys/fs/cgroup mkdir /sys/fs/cgroup/cpuset mount -t cgroup cpuset -ocpuset /sys/fs/cgroup/cpuset echo 1 > /sys/fs/cgroup/cpuset/cgroup.clone_children,,5,0
openstack-attic%2Fobject-api~master~I4463c6bf64bbbc89319fe67433b4aa016d2c53cb,openstack-attic/object-api,master,I4463c6bf64bbbc89319fe67433b4aa016d2c53cb,Add X-Newest header to Show container details and list objects call,MERGED,2014-04-17 01:43:07.000000000,2014-04-17 20:35:21.000000000,2014-04-17 20:35:21.000000000,"[{'_account_id': 3}, {'_account_id': 2448}, {'_account_id': 6547}, {'_account_id': 9695}]","[{'number': 1, 'created': '2014-04-17 01:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/object-api/commit/13671d05d14798a64781dd4515bb0c14ba3b6421', 'message': 'Add X-Newest header to Show container details and list objects call\n\nCloses-Bug: #1303907\n\nChange-Id: I4463c6bf64bbbc89319fe67433b4aa016d2c53cb\nauthor: diane fleming\n'}, {'number': 2, 'created': '2014-04-17 17:36:58.000000000', 'files': ['openstack-object-storage-dev/bk_os-objectstorage-devguide.xml'], 'web_link': 'https://opendev.org/openstack-attic/object-api/commit/f82c4e186392255e493f94a0a9d0fb109b3e9849', 'message': ""Add X-Newest header to Show container details and list objects call\n\nChange in the WADL through change https://review.openstack.org/#/c/88117/1\nwill appear in this book once the 88117 change merges.\nUpdated the revision history in the book to indicate what's changed.\nThis book points to WADL for API calls.\n\nCloses-Bug: #1303907\n\nChange-Id: I4463c6bf64bbbc89319fe67433b4aa016d2c53cb\nauthor: diane fleming\n""}]",0,88118,f82c4e186392255e493f94a0a9d0fb109b3e9849,15,4,2,2448,,,0,"Add X-Newest header to Show container details and list objects call

Change in the WADL through change https://review.openstack.org/#/c/88117/1
will appear in this book once the 88117 change merges.
Updated the revision history in the book to indicate what's changed.
This book points to WADL for API calls.

Closes-Bug: #1303907

Change-Id: I4463c6bf64bbbc89319fe67433b4aa016d2c53cb
author: diane fleming
",git fetch https://review.opendev.org/openstack-attic/object-api refs/changes/18/88118/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack-object-storage-dev/bk_os-objectstorage-devguide.xml'],1,13671d05d14798a64781dd4515bb0c14ba3b6421,1303907," <date>2014-04-16</date> <revdescription> <itemizedlist spacing=""compact""> <listitem> <para>Added <literal>X-Newest</literal> header to show container details and list objects call.</para> </listitem> </itemizedlist> </revdescription> </revision> <revision>",,10,0
openstack%2Fpython-keystoneclient~master~I6a7fb360e884c62d172546631002247f0090877d,openstack/python-keystoneclient,master,I6a7fb360e884c62d172546631002247f0090877d,Example Initialization scripts,ABANDONED,2014-04-17 20:29:38.000000000,2014-04-17 20:33:03.000000000,,[],"[{'number': 1, 'created': '2014-04-17 20:29:38.000000000', 'files': ['examples/scripts/revocation_events.py', 'examples/scripts/initialize_keystone.py', 'examples/scripts/README.txt', 'examples/scripts/teardown_keystone.py', 'examples/scripts/regions.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/29f850db12ee34088a539c01d4457ad7439dd155', 'message': 'Example Initialization scripts\n\nExample scripts show how to do standard keystone operations\nfrom the client using the V3 APIs.\n\nOne populates an Empty Keystone server.\nA partner script shows how to reverse the process.\nScripts excercise the regions and revocation event APIs.\n\nChange-Id: I6a7fb360e884c62d172546631002247f0090877d\n'}]",0,88426,29f850db12ee34088a539c01d4457ad7439dd155,2,0,1,2218,,,0,"Example Initialization scripts

Example scripts show how to do standard keystone operations
from the client using the V3 APIs.

One populates an Empty Keystone server.
A partner script shows how to reverse the process.
Scripts excercise the regions and revocation event APIs.

Change-Id: I6a7fb360e884c62d172546631002247f0090877d
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/26/88426/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/scripts/revocation_events.py', 'examples/scripts/initialize_keystone.py', 'examples/scripts/README.txt', 'examples/scripts/teardown_keystone.py', 'examples/scripts/regions.py']",5,29f850db12ee34088a539c01d4457ad7439dd155,scripts,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Example of manipulating Regions using the client and the V3 API. Performs Create without and with parent region, list, update and delete. Uses the OS_SERVICE_TOKEN to authenticate, assuming a new install and no established authentication information. """""" from __future__ import print_function import os import sys from keystoneclient.v3 import client try: OS_SERVICE_ENDPOINT = os.environ['OS_SERVICE_ENDPOINT'] OS_SERVICE_TOKEN = os.environ['OS_SERVICE_TOKEN'] except KeyError as e: print ('%s environment variables not set.' % e.message, file=sys.stderr) exit(1) admin_client = client.Client(endpoint=OS_SERVICE_ENDPOINT, token='freeipa4all') admin_client.regions.create(id='Australia', description=""The Island Continent"") admin_client.regions.get('Australia') NSW = admin_client.regions.create(id='NSW', description='New South Wales', parent_region='Australia') Sydney = admin_client.regions.create(id='Sydney', description='More than an Opera House', parent_region=NSW) Oceana = admin_client.regions.create( id='Oceana', description='Places south and east of Asia') admin_client.regions.update('Australia', parent_region=Oceana, description='The Island Continent Country') for region in admin_client.regions.list(): print(""id = %s, parent = %s, description=%s"" % ( region.id, region.parent_region_id, region.description)) admin_client.regions.delete('Sydney') admin_client.regions.delete('NSW') admin_client.regions.delete('Australia') admin_client.regions.delete('Oceana') ",,443,0
openstack%2Fsolum~master~Ifecf76904f614942a4661d9d9ac71d8fae78cf94,openstack/solum,master,Ifecf76904f614942a4661d9d9ac71d8fae78cf94,Move Image/Build states into own class,MERGED,2014-04-17 17:59:03.000000000,2014-04-17 20:31:42.000000000,2014-04-17 20:31:42.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 7858}]","[{'number': 1, 'created': '2014-04-17 17:59:03.000000000', 'files': ['solum/worker/api.py', 'solum/worker/handlers/shell.py', 'solum/builder/handlers/image_handler.py', 'solum/conductor/handlers/default.py', 'solum/tests/objects/test_assembly.py', 'solum/api/handlers/assembly_handler.py', 'solum/objects/image.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/4ec92c0fc5b9d8a84a4601ada0618809d4cf1d2c', 'message': 'Move Image/Build states into own class\n\nReduce some confustion in worker/shell by replacing\nthe handwritten strings with some named classes\n\nChange-Id: Ifecf76904f614942a4661d9d9ac71d8fae78cf94\n'}]",0,88378,4ec92c0fc5b9d8a84a4601ada0618809d4cf1d2c,8,4,1,1375,,,0,"Move Image/Build states into own class

Reduce some confustion in worker/shell by replacing
the handwritten strings with some named classes

Change-Id: Ifecf76904f614942a4661d9d9ac71d8fae78cf94
",git fetch https://review.opendev.org/openstack/solum refs/changes/78/88378/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/worker/api.py', 'solum/worker/handlers/shell.py', 'solum/builder/handlers/image_handler.py', 'solum/conductor/handlers/default.py', 'solum/tests/objects/test_assembly.py', 'solum/api/handlers/assembly_handler.py', 'solum/objects/image.py']",7,4ec92c0fc5b9d8a84a4601ada0618809d4cf1d2c,classify-states, class States(object): PENDING = 'PENDING' BUILDING = 'BUILDING' ERROR = 'ERROR' COMPLETE = 'COMPLETE',,35,18
openstack%2Fdiskimage-builder~master~I072cf8bf6748d0c910fecffdf2282bcc4656d038,openstack/diskimage-builder,master,I072cf8bf6748d0c910fecffdf2282bcc4656d038,doc: indentation rules for element,MERGED,2014-04-03 08:58:23.000000000,2014-04-17 20:29:21.000000000,2014-04-17 20:29:21.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 1726}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 8449}, {'_account_id': 9268}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-04-03 08:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/480538202e78a79f5dfe00c8cbf7e40016f86c06', 'message': 'doc: indentation rules for element\n\nThis change defines indentation rules for the elements. It enforces\nthe use of 2 spaces which is already the de facto standard.\n\nChange-Id: I072cf8bf6748d0c910fecffdf2282bcc4656d038\n'}, {'number': 2, 'created': '2014-04-05 19:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9f19a6855d0051764fccf3fd62d177edfb974d00', 'message': 'doc: indentation rules for element\n\nThis change defines indentation rules for the elements. It enforces\nthe use of 2 spaces which is already the de facto standard.\n\nChange-Id: I072cf8bf6748d0c910fecffdf2282bcc4656d038\n'}, {'number': 3, 'created': '2014-04-05 19:23:13.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3c5eabceb34eaafe7ba66c88ccc99e441126e6a3', 'message': 'doc: indentation rules for element\n\nThis change defines indentation rules for the elements. It enforces\nthe use of 4 spaces which is already the devstack standard.\n\nChange-Id: I072cf8bf6748d0c910fecffdf2282bcc4656d038\n'}]",8,84960,3c5eabceb34eaafe7ba66c88ccc99e441126e6a3,28,9,3,9268,,,0,"doc: indentation rules for element

This change defines indentation rules for the elements. It enforces
the use of 4 spaces which is already the devstack standard.

Change-Id: I072cf8bf6748d0c910fecffdf2282bcc4656d038
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/60/84960/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,480538202e78a79f5dfe00c8cbf7e40016f86c06,style-cleanup,"### Whitespace Rules - lines should not include trailing whitespace - there should be no hard tabs in the file - indents are 2 spaces, and all indentation should be some multiple of them ",,7,0
openstack%2Fsolum~master~Ia44e42cc0e137281202bdb34d75328ee23a1f170,openstack/solum,master,Ia44e42cc0e137281202bdb34d75328ee23a1f170,Load solum objects in rpc service,MERGED,2014-04-17 16:46:45.000000000,2014-04-17 20:27:00.000000000,2014-04-17 20:27:00.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 7858}]","[{'number': 1, 'created': '2014-04-17 16:46:45.000000000', 'files': ['solum/common/rpc/service.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/3c3e3de785faee0f29a623c9729baa3a09b98550', 'message': 'Load solum objects in rpc service\n\nChange-Id: Ia44e42cc0e137281202bdb34d75328ee23a1f170\nFixes-bug: #1309106\n'}]",0,88362,3c3e3de785faee0f29a623c9729baa3a09b98550,9,5,1,8334,,,0,"Load solum objects in rpc service

Change-Id: Ia44e42cc0e137281202bdb34d75328ee23a1f170
Fixes-bug: #1309106
",git fetch https://review.opendev.org/openstack/solum refs/changes/62/88362/1 && git format-patch -1 --stdout FETCH_HEAD,['solum/common/rpc/service.py'],1,3c3e3de785faee0f29a623c9729baa3a09b98550,obj_load,from solum import objects objects.load(),,2,0
openstack%2Fceilometer~master~Ic33c2ddbd1a49ae96a6186ad77004a47ec8b2527,openstack/ceilometer,master,Ic33c2ddbd1a49ae96a6186ad77004a47ec8b2527,Fix url schema in unittest code,ABANDONED,2014-04-17 18:27:01.000000000,2014-04-17 20:17:28.000000000,,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7385}, {'_account_id': 7729}]","[{'number': 1, 'created': '2014-04-17 18:27:01.000000000', 'files': ['ceilometer/tests/api/v1/test_app.py', 'ceilometer/tests/api/v2/test_app.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2ba80ef23381fd02172b66e3a31f815585551762', 'message': 'Fix url schema in unittest code\n\nAfter update keystoneclient to version 0.8.0, the middleware.auth_token\nonly accepts valid url schema now. The testcode which uses (forttp, barttp)\nno longer works, so they have to be fixed.\n\nThe default auth_protocol is https, so the testcode change the value to\nhttp can still achieve its ends.\n\nChange-Id: Ic33c2ddbd1a49ae96a6186ad77004a47ec8b2527\nCloses-Bug: #1309092\n'}]",0,88386,2ba80ef23381fd02172b66e3a31f815585551762,9,5,1,6676,,,0,"Fix url schema in unittest code

After update keystoneclient to version 0.8.0, the middleware.auth_token
only accepts valid url schema now. The testcode which uses (forttp, barttp)
no longer works, so they have to be fixed.

The default auth_protocol is https, so the testcode change the value to
http can still achieve its ends.

Change-Id: Ic33c2ddbd1a49ae96a6186ad77004a47ec8b2527
Closes-Bug: #1309092
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/86/88386/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/api/v1/test_app.py', 'ceilometer/tests/api/v2/test_app.py']",2,2ba80ef23381fd02172b66e3a31f815585551762,bug/1309092," self.CONF.set_override(""auth_protocol"", ""http"", self.assertTrue(api_app.auth_uri.startswith('http')) ""auth_protocol = http\n""\ self.assertTrue(api_app.auth_uri.startswith('http'))"," self.CONF.set_override(""auth_protocol"", ""foottp"", self.assertTrue(api_app.auth_uri.startswith('foottp')) ""auth_protocol = barttp\n""\ self.assertTrue(api_app.auth_uri.startswith('barttp'))",8,8
openstack%2Fpython-neutronclient~master~I29aef075081965bb8ecacf45a166ca9dbd4cbb8d,openstack/python-neutronclient,master,I29aef075081965bb8ecacf45a166ca9dbd4cbb8d,Return response status reason on error,MERGED,2014-03-03 10:39:21.000000000,2014-04-17 20:14:54.000000000,2014-04-17 20:14:54.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 7385}, {'_account_id': 7448}]","[{'number': 1, 'created': '2014-03-03 10:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2f9256e7cc8a75a5c6dd82045b904d94ceb167e3', 'message': 'Return response status reason on error\n\nUpon server error, return the status reason if the body is empty, to\nhelp debug server issues.\n\nChange-Id: I29aef075081965bb8ecacf45a166ca9dbd4cbb8d\nCloses-Bug: #1287110\n'}, {'number': 2, 'created': '2014-04-04 07:34:12.000000000', 'files': ['neutronclient/tests/unit/test_cli20.py', 'neutronclient/v2_0/client.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f1a2d5eb10b29384769a0d65c9a134e8748a648b', 'message': 'Return response status reason on error\n\nUpon server error, return the status reason if the body is empty, to\nhelp debug server issues.\n\nChange-Id: I29aef075081965bb8ecacf45a166ca9dbd4cbb8d\nCloses-Bug: #1287110\n'}]",7,77559,f1a2d5eb10b29384769a0d65c9a134e8748a648b,20,6,2,7385,,,0,"Return response status reason on error

Upon server error, return the status reason if the body is empty, to
help debug server issues.

Change-Id: I29aef075081965bb8ecacf45a166ca9dbd4cbb8d
Closes-Bug: #1287110
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/59/77559/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/test_cli20.py', 'neutronclient/v2_0/client.py']",2,2f9256e7cc8a75a5c6dd82045b904d94ceb167e3,bug/1287110, if not replybody: replybody = resp.reason,,26,1
openstack%2Fdiskimage-builder~master~Ib8e287060f32312ab80dd7f44e2792ecca48edbb,openstack/diskimage-builder,master,Ib8e287060f32312ab80dd7f44e2792ecca48edbb,apt-conf: uninitialised variables fix,MERGED,2014-03-28 13:45:59.000000000,2014-04-17 20:08:50.000000000,2014-04-17 20:08:50.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 455}, {'_account_id': 4190}, {'_account_id': 4330}, {'_account_id': 6969}, {'_account_id': 9268}, {'_account_id': 9453}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-03-28 13:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1d32af88b2c32a328beff1ae6a220e70275fe120', 'message': 'apt-conf: uninitialised variables fix\n\nIn the bash script ""99-override-default-apt-conf"" \'set -u\'\nwas being used to check for uninitialised variables.\n\nThis resulted in generic \'unbound variable\' messages rather\nthan the intended error messages.\n\nChange-Id: Ib8e287060f32312ab80dd7f44e2792ecca48edbb\n'}, {'number': 2, 'created': '2014-04-09 07:12:33.000000000', 'files': ['elements/apt-conf/extra-data.d/99-override-default-apt-conf'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/06ccb7484fbaa6f92c85820434c923683ae5364b', 'message': 'apt-conf: uninitialised variables fix\n\nIn the bash script ""99-override-default-apt-conf"" \'set -u\'\nis being used to check for uninitialised variables.\n\nThis resulted in generic \'unbound variable\' messages rather\nthan the intended error messages.\n\nTweaked the check for DIB_APT_CONF to work if the variable is unbound;\nso that we get the intended error message rather than the `unbound\nvariable` message.\n\nChange-Id: Ib8e287060f32312ab80dd7f44e2792ecca48edbb\n'}]",0,83746,06ccb7484fbaa6f92c85820434c923683ae5364b,29,9,2,455,,,0,"apt-conf: uninitialised variables fix

In the bash script ""99-override-default-apt-conf"" 'set -u'
is being used to check for uninitialised variables.

This resulted in generic 'unbound variable' messages rather
than the intended error messages.

Tweaked the check for DIB_APT_CONF to work if the variable is unbound;
so that we get the intended error message rather than the `unbound
variable` message.

Change-Id: Ib8e287060f32312ab80dd7f44e2792ecca48edbb
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/46/83746/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/apt-conf/extra-data.d/99-override-default-apt-conf'],1,1d32af88b2c32a328beff1ae6a220e70275fe120,apt-conf-override-default-apt-conf-fix,set -e,set -eu,1,1
openstack%2Fironic-python-agent~master~I845bebf17c62653521282863d596ac512dd6b82e,openstack/ironic-python-agent,master,I845bebf17c62653521282863d596ac512dd6b82e,Better documentation and defaults for coreos image,MERGED,2014-04-17 17:07:24.000000000,2014-04-17 20:03:52.000000000,2014-04-17 20:03:52.000000000,"[{'_account_id': 3}, {'_account_id': 7903}, {'_account_id': 10343}, {'_account_id': 10380}]","[{'number': 1, 'created': '2014-04-17 17:07:24.000000000', 'files': ['imagebuild/coreos/README.md', 'imagebuild/coreos/oem/run.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0436f1dbfeeedb782940b887ca1dfc4f96da8679', 'message': ""Better documentation and defaults for coreos image\n\nThe existing coreos image required 20G+ of RAM, which isn't reasonable.\nAlso there was no documentation about how to get the image running, so a\nsample configuration with iPXE was added. These changes are required to\nhelp folks who want to use the agent now.\n\nChange-Id: I845bebf17c62653521282863d596ac512dd6b82e\n""}]",1,88364,0436f1dbfeeedb782940b887ca1dfc4f96da8679,7,4,1,10342,,,0,"Better documentation and defaults for coreos image

The existing coreos image required 20G+ of RAM, which isn't reasonable.
Also there was no documentation about how to get the image running, so a
sample configuration with iPXE was added. These changes are required to
help folks who want to use the agent now.

Change-Id: I845bebf17c62653521282863d596ac512dd6b82e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/64/88364/1 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/coreos/README.md', 'imagebuild/coreos/oem/run.sh']",2,0436f1dbfeeedb782940b887ca1dfc4f96da8679,,"# for some images. If you need something larger, uncomment the following line # to remount it with a larger size. # Note: When CoreOS changes to r/w /, instead of remounting here, rootflags= # in the kernelk command line will be used to set the size. #mount -o remount,size=20G /media/state","# for some images. Remount it with a larger size. Note: When CoreOS changes to # r/w /, instead of remounting here, we'll use rootflags= to set the size. mount -o remount,size=20G /media/state",31,4
openstack%2Fapi-site~master~I51d8b36e657d2a8decc8ffd5e68f021f897ab209,openstack/api-site,master,I51d8b36e657d2a8decc8ffd5e68f021f897ab209,Remove v3/projects/{project_id}/users from Identity v3,MERGED,2014-04-14 22:02:49.000000000,2014-04-17 20:03:51.000000000,2014-04-17 20:03:51.000000000,"[{'_account_id': 3}, {'_account_id': 2448}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-04-14 22:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/66bbb71e787fba120a4f7022c40d3b8a450fd931', 'message': ""Remove v3/projects/{project_id}/users from Identity v3\n\nThere was documentation for `GET v3/projects/{project_id}/users`,\nbut there's no v3/projects/{project_id}/users resource in the\nIdentity API V3. When users try the operation they just get a\n404 Not Found response.\n\nThis change removes the `GET v3/projects/{project_id}/users` from\nthe api reference.\n\nChange-Id: I51d8b36e657d2a8decc8ffd5e68f021f897ab209\nCloses-Bug: #1307699\n""}, {'number': 2, 'created': '2014-04-17 19:39:42.000000000', 'files': ['api-ref/src/wadls/identity-api/src/v3/samples/ProjectListUsersResponse.json', 'api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl', 'api-ref/src/docbkx/ch_identity-v3.xml'], 'web_link': 'https://opendev.org/openstack/api-site/commit/126a0dccff6ee9c73f5754946b80c438074dda18', 'message': ""Remove v3/projects/{project_id}/users from Identity v3\n\nThere was documentation for `GET v3/projects/{project_id}/users`,\nbut there's no v3/projects/{project_id}/users resource in the\nIdentity API V3. When users try the operation they just get a\n404 Not Found response.\n\nThis change removes the `GET v3/projects/{project_id}/users` from\nthe api reference.\n\nChange-Id: I51d8b36e657d2a8decc8ffd5e68f021f897ab209\nCloses-Bug: #1307699\n""}]",0,87393,126a0dccff6ee9c73f5754946b80c438074dda18,12,3,2,6486,,,0,"Remove v3/projects/{project_id}/users from Identity v3

There was documentation for `GET v3/projects/{project_id}/users`,
but there's no v3/projects/{project_id}/users resource in the
Identity API V3. When users try the operation they just get a
404 Not Found response.

This change removes the `GET v3/projects/{project_id}/users` from
the api reference.

Change-Id: I51d8b36e657d2a8decc8ffd5e68f021f897ab209
Closes-Bug: #1307699
",git fetch https://review.opendev.org/openstack/api-site refs/changes/93/87393/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/identity-api/src/v3/samples/ProjectListUsersResponse.json', 'api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl', 'api-ref/src/docbkx/ch_identity-v3.xml']",3,66bbb71e787fba120a4f7022c40d3b8a450fd931,bug/1307699,," <!-- list project users --> <wadl:resource href=""../wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl#projectIDUsers""/>",0,48
openstack%2Fpython-neutronclient~master~I35dcfdd24067e6bd37f970d8ab73d416fbe55f96,openstack/python-neutronclient,master,I35dcfdd24067e6bd37f970d8ab73d416fbe55f96,Updated from global requirements,MERGED,2014-04-07 21:16:16.000000000,2014-04-17 19:59:11.000000000,2014-04-17 19:59:10.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 7448}]","[{'number': 1, 'created': '2014-04-07 21:16:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/27f04bffa480211470658e876658f3e46ddcf123', 'message': 'Updated from global requirements\n\nChange-Id: I35dcfdd24067e6bd37f970d8ab73d416fbe55f96\n'}]",0,85835,27f04bffa480211470658e876658f3e46ddcf123,10,4,1,3,,,0,"Updated from global requirements

Change-Id: I35dcfdd24067e6bd37f970d8ab73d416fbe55f96
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/35/85835/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,27f04bffa480211470658e876658f3e46ddcf123,openstack/requirements,"pbr>=0.6,!=0.7,<1.0","pbr>=0.6,<1.0",1,1
openstack%2Fapi-site~master~I1e252ec18012d858bbcd05f048bcc0ad6079e6cd,openstack/api-site,master,I1e252ec18012d858bbcd05f048bcc0ad6079e6cd,Fix problem with duplicate names (createNetwork),MERGED,2014-04-17 19:36:39.000000000,2014-04-17 19:57:54.000000000,2014-04-17 19:57:54.000000000,"[{'_account_id': 3}, {'_account_id': 2448}]","[{'number': 1, 'created': '2014-04-17 19:36:39.000000000', 'files': ['api-ref/src/wadls/netconn-api/src/os-networks-multi-provider-ext.wadl', 'api-ref/src/docbkx/ch_netconn-ext-v2.xml'], 'web_link': 'https://opendev.org/openstack/api-site/commit/56f5e6c0d4b93b7b6811d14f15fd32309b6483aa', 'message': 'Fix problem with duplicate names (createNetwork)\n\nChange-Id: I1e252ec18012d858bbcd05f048bcc0ad6079e6cd\nauthor: diane fleming\n'}]",0,88412,56f5e6c0d4b93b7b6811d14f15fd32309b6483aa,6,2,1,2448,,,0,"Fix problem with duplicate names (createNetwork)

Change-Id: I1e252ec18012d858bbcd05f048bcc0ad6079e6cd
author: diane fleming
",git fetch https://review.opendev.org/openstack/api-site refs/changes/12/88412/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/netconn-api/src/os-networks-multi-provider-ext.wadl', 'api-ref/src/docbkx/ch_netconn-ext-v2.xml']",2,56f5e6c0d4b93b7b6811d14f15fd32309b6483aa,fix-naming-issue, issue a normal delete network request.</para>," issue a normal delete network request, as follows:</para> <screen><uri>DELETE v2.0/networks/â{network_id}</uri>â</screen>",7,93
openstack%2Fos-collect-config~master~Icf9479376e32c3ad8f9be29359e6100c1aeda2a5,openstack/os-collect-config,master,Icf9479376e32c3ad8f9be29359e6100c1aeda2a5,Restore 'deployments' key to cfn Metadata,MERGED,2014-03-28 17:32:27.000000000,2014-04-17 19:56:29.000000000,2014-04-17 19:56:29.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 4571}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8399}]","[{'number': 1, 'created': '2014-03-28 17:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/9acd91d4367e74202360e3f4782ec30a3064d971', 'message': ""Restore 'deployments' key to cfn Metadata\n\nIn recent changes support was added to explode the deployment key into\nmultiple json files for merging by os-apply-config. But this breaks\nother users who want direct access to the full deployments structure.\n\nThere seems to be no real reason to delete the key other than tidiness,\nso we will stop deleting it from the main cfn structure.\n\nChange-Id: Icf9479376e32c3ad8f9be29359e6100c1aeda2a5\nCloses-Bug: #1299110\n""}, {'number': 2, 'created': '2014-04-01 23:18:23.000000000', 'files': ['os_collect_config/tests/test_cfn.py', 'os_collect_config/cfn.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/8cfe571c709616ecade398221827e72944b9d547', 'message': ""Restore 'deployments' key to cfn Metadata\n\nIn recent changes support was added to explode the deployment key into\nmultiple json files for merging by os-apply-config. But this breaks\nother users who want direct access to the full deployments structure.\n\nThere seems to be no real reason to delete the key other than tidiness,\nso we will stop deleting it from the main cfn structure.\n\nChange-Id: Icf9479376e32c3ad8f9be29359e6100c1aeda2a5\nCloses-Bug: #1299110\n""}]",2,83837,8cfe571c709616ecade398221827e72944b9d547,25,8,2,6488,,,0,"Restore 'deployments' key to cfn Metadata

In recent changes support was added to explode the deployment key into
multiple json files for merging by os-apply-config. But this breaks
other users who want direct access to the full deployments structure.

There seems to be no real reason to delete the key other than tidiness,
so we will stop deleting it from the main cfn structure.

Change-Id: Icf9479376e32c3ad8f9be29359e6100c1aeda2a5
Closes-Bug: #1299110
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/37/83837/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_collect_config/tests/test_cfn.py', 'os_collect_config/cfn.py']",2,9acd91d4367e74202360e3f4782ec30a3064d971,,, del final_content[depkey],9,2
openstack%2Fglance~master~I2a20b0c5033c6920749370355c2d672dec707c28,openstack/glance,master,I2a20b0c5033c6920749370355c2d672dec707c28,Get rid of TaskDetails in favor of TaskStub,MERGED,2014-03-27 00:33:07.000000000,2014-04-17 19:54:43.000000000,2014-04-17 19:54:42.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2537}, {'_account_id': 6549}, {'_account_id': 8759}]","[{'number': 1, 'created': '2014-03-27 00:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6857b661a50a5c11d1f087ad1cec554fa709984b', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 2, 'created': '2014-03-28 20:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/339e3994809f2fc1fe001721b051c97d84e7ca16', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 3, 'created': '2014-03-28 21:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65ff0a1d826dd1e5e029fb52e50dca676f0e795f', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 4, 'created': '2014-03-31 20:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d1b7b943573c73b15a16ff2f3d04fc8bb205a3bb', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 5, 'created': '2014-04-09 02:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d91c9520f812757d045606b454b9ff5230ae315f', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 6, 'created': '2014-04-09 19:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b59699f7587ec28a2886729242b066059e6ce0be', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 7, 'created': '2014-04-09 20:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2e22a870f4e05a1dc33bc12295672fde63ce6aea', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 8, 'created': '2014-04-09 20:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/665ef64878d8f7abbd7be8e0eea88a17f9253c28', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 9, 'created': '2014-04-09 21:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/95b844690255e938a725aefce5bb672ca5fbfaa7', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 10, 'created': '2014-04-09 21:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/74baaf085c8664b38e057cf810ae2d1502901d14', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 11, 'created': '2014-04-12 02:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ccc6ce5792cea9fe0eae02c924b0f2a24220adfa', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 12, 'created': '2014-04-15 20:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/88154a3691817efb1f7fef0aee370fbfef4c3485', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}, {'number': 13, 'created': '2014-04-16 18:29:44.000000000', 'files': ['glance/api/authorization.py', 'glance/tests/functional/v2/test_tasks.py', 'glance/api/v2/tasks.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/db/__init__.py', 'glance/gateway.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/__init__.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/test_notifier.py', 'glance/tests/unit/test_policy.py', 'glance/tests/unit/test_db.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7f512fd0ac59ccb0d087e2f2e9aa30802dea894b', 'message': ""Get rid of TaskDetails in favor of TaskStub\n\nChange I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new\nclass TaskStub. This class is designed to be a subset of what a\ntask is in the domain layer: it doesn't contain input, message and\nresult. TaskStub should be used when listing tasks in order to avoid\nextra-overhead of transporting these text fields.\nAs a result, the TaskDetails introduced by change\nI0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.\n\nWith this patch, the domain layer contains Task and TaskStub instead\nof Task, TaskStub and TaskDetails.\n\npartially implements bp async-glance-workers\n\nChange-Id: I2a20b0c5033c6920749370355c2d672dec707c28\n""}]",55,83257,7f512fd0ac59ccb0d087e2f2e9aa30802dea894b,64,5,13,8759,,,0,"Get rid of TaskDetails in favor of TaskStub

Change I0b406e4662cfd3cb496b71be77ad10a90c178baa introduces a new
class TaskStub. This class is designed to be a subset of what a
task is in the domain layer: it doesn't contain input, message and
result. TaskStub should be used when listing tasks in order to avoid
extra-overhead of transporting these text fields.
As a result, the TaskDetails introduced by change
I0b406e4662cfd3cb496b71be77ad10a90c178baa doesn't need to exist.

With this patch, the domain layer contains Task and TaskStub instead
of Task, TaskStub and TaskDetails.

partially implements bp async-glance-workers

Change-Id: I2a20b0c5033c6920749370355c2d672dec707c28
",git fetch https://review.opendev.org/openstack/glance refs/changes/57/83257/13 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/authorization.py', 'glance/tests/functional/v2/test_tasks.py', 'glance/api/v2/tasks.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/db/__init__.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/__init__.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/test_notifier.py', 'glance/tests/unit/test_policy.py', 'glance/tests/unit/test_db.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py']",16,6857b661a50a5c11d1f087ad1cec554fa709984b,bp/async-glance-workers," task_proxy_class=None, task_proxy_kwargs=None): def get_task(self, task_id): task = self.base.get_task(task_id) return (self.task_proxy_helper.proxy(task)) def add(self, task): self.base.add(self.task_proxy_helper.unproxy(task)) def save(self, task): self.base.save(self.task_proxy_helper.unproxy(task)) input = _proxy('base', 'input') task_proxy_kwargs=None):"," task_proxy_class=None, task_proxy_kwargs=None, task_details_proxy_class=None, task_details_proxy_kwargs=None): self.task_details_proxy_helper = Helper(task_details_proxy_class, task_details_proxy_kwargs) def get_task_and_details(self, task_id): task, task_details = self.base.get_task_and_details(task_id) return (self.task_proxy_helper.proxy(task), self.task_details_proxy_helper.proxy(task_details)) def add(self, task, task_details=None): self.base.add(self.task_proxy_helper.unproxy(task), self.task_details_proxy_helper.unproxy(task_details)) def save(self, task, task_details=None): self.base.save(self.task_proxy_helper.unproxy(task), self.task_details_proxy_helper.unproxy(task_details)) task_input = _proxy('base', 'task_input')class TaskDetails(object): def __init__(self, base): self.base = base task_id = _proxy('base', 'task_id') input = _proxy('base', 'input') result = _proxy('base', 'result') message = _proxy('base', 'message') task_proxy_kwargs=None, task_details_proxy_class=None, task_details_proxy_kwargs=None): self.task_details_helper = Helper(task_details_proxy_class, task_details_proxy_kwargs) def new_task_details(self, task_id, task_input, message=None, result=None): td = self.base.new_task_details(task_id, task_input, message, result) return self.task_details_helper.proxy(td)",157,366
openstack%2Fsahara~master~I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c,openstack/sahara,master,I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c,Imported Translations from Transifex,MERGED,2014-04-10 06:06:30.000000000,2014-04-17 19:52:52.000000000,2014-04-17 19:52:52.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7604}, {'_account_id': 8090}]","[{'number': 1, 'created': '2014-04-10 06:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1c52cfd78880094389148053c833d60e237f2edd', 'message': 'Imported Translations from Transifex\n\nChange-Id: I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c\n'}, {'number': 2, 'created': '2014-04-11 06:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5b8254a65cd3559e853a4ee5601fbf8bda3db417', 'message': 'Imported Translations from Transifex\n\nChange-Id: I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c\n'}, {'number': 3, 'created': '2014-04-12 06:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ec53e0c9f28e42778e1eed7db76fbc6eaf303d8e', 'message': 'Imported Translations from Transifex\n\nChange-Id: I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c\n'}, {'number': 4, 'created': '2014-04-13 06:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/58f8f5089d4aef08292a439da4cd7c4302922704', 'message': 'Imported Translations from Transifex\n\nChange-Id: I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c\n'}, {'number': 5, 'created': '2014-04-14 06:06:19.000000000', 'files': ['sahara/locale/ms/LC_MESSAGES/sahara.po', 'sahara/locale/en_GB/LC_MESSAGES/sahara.po', 'sahara/locale/bs/LC_MESSAGES/sahara.po', 'sahara/locale/ta/LC_MESSAGES/sahara.po', 'sahara/locale/ar/LC_MESSAGES/sahara.po', 'sahara/locale/zh_HK/LC_MESSAGES/sahara.po', 'sahara/locale/ru/LC_MESSAGES/sahara.po', 'sahara/locale/es/LC_MESSAGES/sahara.po', 'sahara/locale/pt_BR/LC_MESSAGES/sahara.po', 'sahara/locale/nl_NL/LC_MESSAGES/sahara.po', 'sahara/locale/mr_IN/LC_MESSAGES/sahara.po', 'sahara/locale/kn/LC_MESSAGES/sahara.po', 'sahara/locale/bn_IN/LC_MESSAGES/sahara.po', 'sahara/locale/sv/LC_MESSAGES/sahara.po', 'sahara/locale/en_US/LC_MESSAGES/sahara.po', 'sahara/locale/fi_FI/LC_MESSAGES/sahara.po', 'sahara/locale/da/LC_MESSAGES/sahara.po', 'sahara/locale/hr/LC_MESSAGES/sahara.po', 'sahara/locale/cs/LC_MESSAGES/sahara.po', 'sahara/locale/fil/LC_MESSAGES/sahara.po', 'sahara/locale/gl/LC_MESSAGES/sahara.po', 'sahara/locale/is_IS/LC_MESSAGES/sahara.po', 'sahara/locale/pt/LC_MESSAGES/sahara.po', 'sahara/locale/ro/LC_MESSAGES/sahara.po', 'sahara/locale/tr_TR/LC_MESSAGES/sahara.po', 'sahara/locale/km/LC_MESSAGES/sahara.po', 'sahara/locale/ur/LC_MESSAGES/sahara.po', 'sahara/locale/it_IT/LC_MESSAGES/sahara.po', 'sahara/locale/sahara.pot', 'sahara/locale/ne/LC_MESSAGES/sahara.po', 'sahara/locale/es_MX/LC_MESSAGES/sahara.po', 'sahara/locale/hi/LC_MESSAGES/sahara.po', 'sahara/locale/te_IN/LC_MESSAGES/sahara.po', 'sahara/locale/zh_TW/LC_MESSAGES/sahara.po', 'sahara/locale/ka_GE/LC_MESSAGES/sahara.po', 'sahara/locale/vi_VN/LC_MESSAGES/sahara.po', 'sahara/locale/bg_BG/LC_MESSAGES/sahara.po', 'sahara/locale/ca/LC_MESSAGES/sahara.po', 'sahara/locale/sk/LC_MESSAGES/sahara.po', 'sahara/locale/pa_IN/LC_MESSAGES/sahara.po', 'sahara/locale/zh_CN/LC_MESSAGES/sahara.po', 'sahara/locale/sw_KE/LC_MESSAGES/sahara.po', 'sahara/locale/ko_KR/LC_MESSAGES/sahara.po', 'sahara/locale/nb/LC_MESSAGES/sahara.po', 'sahara/locale/hu/LC_MESSAGES/sahara.po', 'sahara/locale/tl/LC_MESSAGES/sahara.po', 'sahara/locale/de/LC_MESSAGES/sahara.po', 'sahara/locale/fa/LC_MESSAGES/sahara.po', 'sahara/locale/fr/LC_MESSAGES/sahara.po', 'sahara/locale/id/LC_MESSAGES/sahara.po', 'sahara/locale/ml_IN/LC_MESSAGES/sahara.po', 'sahara/locale/ja/LC_MESSAGES/sahara.po', 'sahara/locale/it/LC_MESSAGES/sahara.po', 'sahara/locale/sr/LC_MESSAGES/sahara.po', 'sahara/locale/en_AU/LC_MESSAGES/sahara.po', 'sahara/locale/uk/LC_MESSAGES/sahara.po', 'sahara/locale/sq/LC_MESSAGES/sahara.po', 'sahara/locale/el/LC_MESSAGES/sahara.po', 'sahara/locale/he/LC_MESSAGES/sahara.po', 'sahara/locale/eu/LC_MESSAGES/sahara.po', 'sahara/locale/pl_PL/LC_MESSAGES/sahara.po', 'sahara/locale/sl_SI/LC_MESSAGES/sahara.po', 'sahara/locale/he_IL/LC_MESSAGES/sahara.po'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f165e8ca19453375da4580ac48ae7ae29b82b6f6', 'message': 'Imported Translations from Transifex\n\nChange-Id: I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c\n'}]",0,86507,f165e8ca19453375da4580ac48ae7ae29b82b6f6,36,5,5,3,,,0,"Imported Translations from Transifex

Change-Id: I7ad25a3e3c40d7b3fc4fe41b247e435575c1645c
",git fetch https://review.opendev.org/openstack/sahara refs/changes/07/86507/5 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/locale/ms/LC_MESSAGES/sahara.po', 'sahara/locale/en_GB/LC_MESSAGES/sahara.po', 'sahara/locale/bs/LC_MESSAGES/sahara.po', 'sahara/locale/ta/LC_MESSAGES/sahara.po', 'sahara/locale/ar/LC_MESSAGES/sahara.po', 'sahara/locale/zh_HK/LC_MESSAGES/sahara.po', 'sahara/locale/ru/LC_MESSAGES/sahara.po', 'sahara/locale/es/LC_MESSAGES/sahara.po', 'sahara/locale/pt_BR/LC_MESSAGES/sahara.po', 'sahara/locale/nl_NL/LC_MESSAGES/sahara.po', 'sahara/locale/mr_IN/LC_MESSAGES/sahara.po', 'sahara/locale/kn/LC_MESSAGES/sahara.po', 'sahara/locale/bn_IN/LC_MESSAGES/sahara.po', 'sahara/locale/sv/LC_MESSAGES/sahara.po', 'sahara/locale/en_US/LC_MESSAGES/sahara.po', 'sahara/locale/fi_FI/LC_MESSAGES/sahara.po', 'sahara/locale/da/LC_MESSAGES/sahara.po', 'sahara/locale/hr/LC_MESSAGES/sahara.po', 'sahara/locale/cs/LC_MESSAGES/sahara.po', 'sahara/locale/fil/LC_MESSAGES/sahara.po', 'sahara/locale/gl/LC_MESSAGES/sahara.po', 'sahara/locale/is_IS/LC_MESSAGES/sahara.po', 'sahara/locale/pt/LC_MESSAGES/sahara.po', 'sahara/locale/ro/LC_MESSAGES/sahara.po', 'sahara/locale/tr_TR/LC_MESSAGES/sahara.po', 'sahara/locale/km/LC_MESSAGES/sahara.po', 'sahara/locale/ur/LC_MESSAGES/sahara.po', 'sahara/locale/it_IT/LC_MESSAGES/sahara.po', 'sahara/locale/sahara.pot', 'sahara/locale/ne/LC_MESSAGES/sahara.po', 'sahara/locale/es_MX/LC_MESSAGES/sahara.po', 'sahara/locale/hi/LC_MESSAGES/sahara.po', 'sahara/locale/te_IN/LC_MESSAGES/sahara.po', 'sahara/locale/zh_TW/LC_MESSAGES/sahara.po', 'sahara/locale/ka_GE/LC_MESSAGES/sahara.po', 'sahara/locale/vi_VN/LC_MESSAGES/sahara.po', 'sahara/locale/bg_BG/LC_MESSAGES/sahara.po', 'sahara/locale/ca/LC_MESSAGES/sahara.po', 'sahara/locale/sk/LC_MESSAGES/sahara.po', 'sahara/locale/pa_IN/LC_MESSAGES/sahara.po', 'sahara/locale/zh_CN/LC_MESSAGES/sahara.po', 'sahara/locale/sw_KE/LC_MESSAGES/sahara.po', 'sahara/locale/ko_KR/LC_MESSAGES/sahara.po', 'sahara/locale/nb/LC_MESSAGES/sahara.po', 'sahara/locale/hu/LC_MESSAGES/sahara.po', 'sahara/locale/tl/LC_MESSAGES/sahara.po', 'sahara/locale/de/LC_MESSAGES/sahara.po', 'sahara/locale/fa/LC_MESSAGES/sahara.po', 'sahara/locale/fr/LC_MESSAGES/sahara.po', 'sahara/locale/id/LC_MESSAGES/sahara.po', 'sahara/locale/ml_IN/LC_MESSAGES/sahara.po', 'sahara/locale/ja/LC_MESSAGES/sahara.po', 'sahara/locale/it/LC_MESSAGES/sahara.po', 'sahara/locale/sr/LC_MESSAGES/sahara.po', 'sahara/locale/en_AU/LC_MESSAGES/sahara.po', 'sahara/locale/uk/LC_MESSAGES/sahara.po', 'sahara/locale/sq/LC_MESSAGES/sahara.po', 'sahara/locale/el/LC_MESSAGES/sahara.po', 'sahara/locale/he/LC_MESSAGES/sahara.po', 'sahara/locale/eu/LC_MESSAGES/sahara.po', 'sahara/locale/pl_PL/LC_MESSAGES/sahara.po', 'sahara/locale/sl_SI/LC_MESSAGES/sahara.po', 'sahara/locale/he_IL/LC_MESSAGES/sahara.po']",63,1c52cfd78880094389148053c833d60e237f2edd,transifex/translations,"""POT-Creation-Date: 2014-04-10 06:06+0000\n""","""POT-Creation-Date: 2014-04-09 06:06+0000\n""",64,64
openstack%2Fsahara~master~Iafc35807c7b03b8e4a19f2b5775143a5830cee5f,openstack/sahara,master,Iafc35807c7b03b8e4a19f2b5775143a5830cee5f,Removed impossible branch of 'if' statement,MERGED,2014-03-08 05:02:13.000000000,2014-04-17 19:50:50.000000000,2014-04-17 19:50:50.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7109}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8304}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-03-08 05:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5c18a12c93409675ae5da755c683832e80d0cf80', 'message': 'Removed impossible branch of \'if\' statement\n\nScaling is called with the following code:\n\n----------\n    cluster = conductor.cluster_update(ctx, cluster,\n                                       {""status"": ""Decommissioning""})\n...\n\n    cluster = conductor.cluster_update(ctx, cluster, {""status"": ""Scaling""})\n...\n    instances = INFRA.scale_cluster(cluster, node_group_id_map)\n----------\n\nCluster can\'t be in decommissioning state inside scale_cluster.\n\nRemoved code looks like attempt to move cluster to Error state in case if some\nnodes were removed. According to comment in Heat engine, our policy is to remove\nadded node, but do not add removed nodes back (need to update docs?).\n\nSo, just removing impossible branch of if statement.\n\nChange-Id: Iafc35807c7b03b8e4a19f2b5775143a5830cee5f\n'}, {'number': 2, 'created': '2014-04-04 17:03:43.000000000', 'files': ['sahara/service/direct_engine.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2c75a019debe72eccaa6d635824db54f6ba37b0a', 'message': 'Removed impossible branch of \'if\' statement\n\nScaling is called with the following code:\n\n----------\n    cluster = conductor.cluster_update(ctx, cluster,\n                                       {""status"": ""Decommissioning""})\n...\n\n    cluster = conductor.cluster_update(ctx, cluster, {""status"": ""Scaling""})\n...\n    instances = INFRA.scale_cluster(cluster, node_group_id_map)\n----------\n\nCluster can\'t be in decommissioning state inside scale_cluster.\n\nRemoved code looks like attempt to move cluster to Error state in case if some\nnodes were removed. According to comment in Heat engine, our policy is to remove\nadded node, but do not add removed nodes back (need to update docs?).\n\nSo, just removing impossible branch of if statement.\n\nChange-Id: Iafc35807c7b03b8e4a19f2b5775143a5830cee5f\n'}]",0,79124,2c75a019debe72eccaa6d635824db54f6ba37b0a,52,10,2,8411,,,0,"Removed impossible branch of 'if' statement

Scaling is called with the following code:

----------
    cluster = conductor.cluster_update(ctx, cluster,
                                       {""status"": ""Decommissioning""})
...

    cluster = conductor.cluster_update(ctx, cluster, {""status"": ""Scaling""})
...
    instances = INFRA.scale_cluster(cluster, node_group_id_map)
----------

Cluster can't be in decommissioning state inside scale_cluster.

Removed code looks like attempt to move cluster to Error state in case if some
nodes were removed. According to comment in Heat engine, our policy is to remove
added node, but do not add removed nodes back (need to update docs?).

So, just removing impossible branch of if statement.

Change-Id: Iafc35807c7b03b8e4a19f2b5775143a5830cee5f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/24/79124/1 && git format-patch -1 --stdout FETCH_HEAD,['savanna/service/direct_engine.py'],1,5c18a12c93409675ae5da755c683832e80d0cf80,," cluster = conductor.cluster_update(ctx, cluster, {""status"": ""Active""})"," if cluster.status == 'Decommissioning': cluster = conductor.cluster_update(ctx, cluster, {""status"": ""Error""}) else: cluster = conductor.cluster_update(ctx, cluster, {""status"": ""Active""})",2,6
openstack%2Fswift~master~I568b68c33ff599d7a4f590e2a0eb8caeee4b4d4e,openstack/swift,master,I568b68c33ff599d7a4f590e2a0eb8caeee4b4d4e,Fix test-requirements.txt,MERGED,2014-04-17 16:55:20.000000000,2014-04-17 19:38:22.000000000,2014-04-17 19:38:22.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 866}]","[{'number': 1, 'created': '2014-04-17 16:55:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/51f6035f3b8be100fc79605db31676c8b75631e2', 'message': 'Fix test-requirements.txt\n\nmock >= 1.0 changed the behavior for iterable sideeffects. Any\nexceptions in an iterable side_effect will now be raised instead of\nreturned.\n\nWith mock < 1.0 tests are failing, because test for the\ninternal client (TestSimpleClient.test_get_with_retries) use an\niterable sideeffect that raise an URLError on the first request\nand pass on the second request.\n\nChange-Id: I568b68c33ff599d7a4f590e2a0eb8caeee4b4d4e\n'}]",0,88363,51f6035f3b8be100fc79605db31676c8b75631e2,7,3,1,6968,,,0,"Fix test-requirements.txt

mock >= 1.0 changed the behavior for iterable sideeffects. Any
exceptions in an iterable side_effect will now be raised instead of
returned.

With mock < 1.0 tests are failing, because test for the
internal client (TestSimpleClient.test_get_with_retries) use an
iterable sideeffect that raise an URLError on the first request
and pass on the second request.

Change-Id: I568b68c33ff599d7a4f590e2a0eb8caeee4b4d4e
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/88363/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,51f6035f3b8be100fc79605db31676c8b75631e2,fix-test-requirements,mock>=1.0,mock>=0.8.0,1,1
openstack%2Fkeystone~master~If7abf1db9859d66c06f7f223056c106292f256fa,openstack/keystone,master,If7abf1db9859d66c06f7f223056c106292f256fa,Isolate backend loading,MERGED,2014-02-18 08:41:52.000000000,2014-04-17 19:37:28.000000000,2014-04-17 19:37:27.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 6771}, {'_account_id': 7191}, {'_account_id': 7244}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-02-18 08:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/57a78ed3b0b18a5e99a0750264dde05cd7163d00', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}, {'number': 2, 'created': '2014-03-04 01:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87c590dd712ef72edea346481dfaa5efb5e93304', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}, {'number': 3, 'created': '2014-03-25 03:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ad370e482a4eb31c5b4498efc0b62e313bb1b32d', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}, {'number': 4, 'created': '2014-03-26 01:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a2760aa9343df3d4c1e734ac20539b2532d617e6', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}, {'number': 5, 'created': '2014-03-26 22:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/70a3010257057b5241d632fbc4b43a046aec1ccf', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}, {'number': 6, 'created': '2014-04-07 03:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ecae31b9d983df617f3cc912531a7b56bd18b42f', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}, {'number': 7, 'created': '2014-04-16 05:24:09.000000000', 'files': ['keystone/tests/core.py', 'keystone/backends.py', 'keystone/service.py', 'bin/keystone-all', 'httpd/keystone.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/22b734fa60ccc25749e318be4ced478fcdb8d23c', 'message': ""Isolate backend loading\n\nPecan uses thread local storage and so if we combine pecan and eventlet\nwe need to make sure that eventlet is monkey patched before pecan is\nfirst loaded.\n\nTo keep the paste.ini file untouched we need to keep the app creation in\nservice.py but we can't load that from keystone-all because it has pecan\nin it.\n\nSo we create a new file that can be safely imported before pecan is\nloaded.\n\nChange-Id: If7abf1db9859d66c06f7f223056c106292f256fa\nblueprint: keystone-pecan\n""}]",1,74293,22b734fa60ccc25749e318be4ced478fcdb8d23c,54,9,7,7191,,,0,"Isolate backend loading

Pecan uses thread local storage and so if we combine pecan and eventlet
we need to make sure that eventlet is monkey patched before pecan is
first loaded.

To keep the paste.ini file untouched we need to keep the app creation in
service.py but we can't load that from keystone-all because it has pecan
in it.

So we create a new file that can be safely imported before pecan is
loaded.

Change-Id: If7abf1db9859d66c06f7f223056c106292f256fa
blueprint: keystone-pecan
",git fetch https://review.opendev.org/openstack/keystone refs/changes/93/74293/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/core.py', 'keystone/backends.py', 'keystone/service.py', 'bin/keystone-all']",4,57a78ed3b0b18a5e99a0750264dde05cd7163d00,bp/keystone-pecan,from keystone import backends backends.load_backends(),from keystone import service service.load_backends(),52,32
openstack%2Foslo.messaging~master~I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c,openstack/oslo.messaging,master,I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c,Use mock's call assert methods over call_args_list,MERGED,2014-02-14 11:58:29.000000000,2014-04-17 19:25:44.000000000,2014-04-17 19:25:43.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1994}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 9656}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-02-14 11:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3f050c094c95be340df59e666d128a319d9dfd49', 'message': ""Use assert_called_once_with() over call_args_list\n\nThe way we're checking the value of call_args_list on a mock method is\nessentially what assert_called_once_with() since we also know the\nmethod is only called once.\n\nI'm slightly nervous of using call_args_list because it's the kind of\nthing you could imagine changing in future, even though it's not\nmarked private.\n\nChange-Id: I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c\n""}, {'number': 2, 'created': '2014-02-17 10:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/13347ceb1e7bcbde9ba9065e444a7b8415c0b5f4', 'message': ""Use assert_called_once_with() over call_args_list\n\nThe way we're checking the value of call_args_list on a mock method is\nessentially what assert_called_once_with() since we also know the\nmethod is only called once.\n\nI'm slightly nervous of using call_args_list because it's the kind of\nthing you could imagine changing in future, even though it's not\nmarked private.\n\nChange-Id: I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c\n""}, {'number': 3, 'created': '2014-03-03 18:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/89151af3e47f1b8e0bf78aae028fe1aa13d54030', 'message': ""Use assert_called_once_with() over call_args_list\n\nThe way we're checking the value of call_args_list on a mock method is\nessentially what assert_called_once_with() since we also know the\nmethod is only called once.\n\nI'm slightly nervous of using call_args_list because it's the kind of\nthing you could imagine changing in future, even though it's not\nmarked private.\n\nChange-Id: I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c\n""}, {'number': 4, 'created': '2014-03-03 18:23:21.000000000', 'files': ['tests/test_notify_dispatcher.py', 'tests/test_notify_listener.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9e47dbe00d8a7e51eff7313fb01ddfb622cea3c3', 'message': ""Use mock's call assert methods over call_args_list\n\nThe way we're checking the value of call_args_list on a mock method is\nessentially what assert_called_once_with() since we also know the\nmethod is only called once. In other cases, we can use\nassert_has_calls().\n\nI'm slightly nervous of using call_args_list because it's the kind of\nthing you could imagine changing in future, even though it's not\nmarked private.\n\nChange-Id: I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c\n""}]",0,73583,9e47dbe00d8a7e51eff7313fb01ddfb622cea3c3,42,9,4,1247,,,0,"Use mock's call assert methods over call_args_list

The way we're checking the value of call_args_list on a mock method is
essentially what assert_called_once_with() since we also know the
method is only called once. In other cases, we can use
assert_has_calls().

I'm slightly nervous of using call_args_list because it's the kind of
thing you could imagine changing in future, even though it's not
marked private.

Change-Id: I7eb3d095f7a1ff9a4abc9e027193d4918d0cda6c
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/83/73583/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_notify_dispatcher.py'],1,3f050c094c95be340df59e666d128a319d9dfd49,," method.assert_called_once_with({}, msg['publisher_id'], msg['event_type'], msg['payload'])"," expected = [mock.call({}, msg['publisher_id'], msg['event_type'], msg['payload'])] self.assertEqual(method.call_args_list, expected)",4,4
openstack%2Fneutron~master~I931f487fbd4ead93a1648e89c9c383b3d55fc07c,openstack/neutron,master,I931f487fbd4ead93a1648e89c9c383b3d55fc07c,Support enhancements to Cisco CSR VPN REST APIs,MERGED,2014-04-08 19:21:10.000000000,2014-04-17 19:25:34.000000000,2014-04-17 19:25:32.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-04-08 19:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be99a5d7717ab13ac36f04eb5aebb7f8c015693c', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}, {'number': 2, 'created': '2014-04-09 20:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bf7a8b984fe3f5f48ef38c767875e086aeafac8', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}, {'number': 6, 'created': '2014-04-11 11:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61d456d9d7faab49516c9097e25af1aaf99dee24', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nNote: notest_cisco_csr_rest.py, which tests the CSR REST client, is not\npart of the UT suite yet, pending resolution of httmock package inclusion\nas test requirement.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}, {'number': 5, 'created': '2014-04-11 11:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/533ff8a0cd9c5fc93070daac059e75334becbf6a', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nNote: notest_cisco_csr_rest.py, which tests the CSR REST client, is not\npart of the UT suite yet, pending resolution of httmock package inclusion\nas test requirement.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}, {'number': 4, 'created': '2014-04-11 11:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dbd995f234e3e0876ea34c2fac4cc21fb90aa30', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nNote: notest_cisco_csr_rest.py, which tests the CSR REST client, is not\npart of the UT suite yet, pending resolution of httmock package inclusion\nas test requirement.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}, {'number': 3, 'created': '2014-04-11 11:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16a259305ee02697fe0fc4a839c29f4f00578e5e', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nNote: notest_cisco_csr_rest.py, which tests the CSR REST client, is not\npart of the UT suite yet, pending resolution of httmock package inclusion\nas test requirement.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}, {'number': 7, 'created': '2014-04-16 12:08:12.000000000', 'files': ['neutron/services/vpn/device_drivers/ipsec.py', 'neutron/tests/unit/services/vpn/device_drivers/test_cisco_ipsec.py', 'neutron/tests/unit/services/vpn/device_drivers/cisco_csr_mock.py', 'neutron/tests/unit/services/vpn/device_drivers/notest_cisco_csr_rest.py', 'neutron/services/vpn/device_drivers/cisco_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb948a47058d96b35ddf555d02962088461af6b6', 'message': 'Support enhancements to Cisco CSR VPN REST APIs\n\nIncorporate latest enhancements and fixes in Cisco CSR router REST API\nto the VPNaaS device driver and unit test cases. Primarily, is support in\nthe REST API for different IKE and IPSec encryption algorithms, name length\nerror handling, disable of anti replay window, and IKE keep alive.\n\nAlso includes minor typos and comment fixes mentioned in previous reviews.\n\nNote: notest_cisco_csr_rest.py, which tests the CSR REST client, is not\npart of the UT suite yet, pending resolution of httmock package inclusion\nas test requirement.\n\nChange-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c\nCloses-Bug: 1303820\n'}]",17,86129,cb948a47058d96b35ddf555d02962088461af6b6,136,19,7,6659,,,0,"Support enhancements to Cisco CSR VPN REST APIs

Incorporate latest enhancements and fixes in Cisco CSR router REST API
to the VPNaaS device driver and unit test cases. Primarily, is support in
the REST API for different IKE and IPSec encryption algorithms, name length
error handling, disable of anti replay window, and IKE keep alive.

Also includes minor typos and comment fixes mentioned in previous reviews.

Note: notest_cisco_csr_rest.py, which tests the CSR REST client, is not
part of the UT suite yet, pending resolution of httmock package inclusion
as test requirement.

Change-Id: I931f487fbd4ead93a1648e89c9c383b3d55fc07c
Closes-Bug: 1303820
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/86129/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/vpn/device_drivers/ipsec.py', 'neutron/tests/unit/services/vpn/device_drivers/test_cisco_ipsec.py', 'neutron/tests/unit/services/vpn/device_drivers/cisco_csr_mock.py', 'neutron/tests/unit/services/vpn/device_drivers/notest_cisco_csr_rest.py', 'neutron/services/vpn/device_drivers/cisco_ipsec.py']",5,be99a5d7717ab13ac36f04eb5aebb7f8c015693c,bug/1303820," 'aes-192': u'aes192', 'aes-256': u'aes256', 'aes-192': u'esp-192-aes', 'aes-256': u'esp-256-aes', u'anti-replay-window-size': u'Disable'}"," # TODO(pcm) update these 2 once CSR updated 'aes-192': u'aes', 'aes-256': u'aes', # TODO(pcm) update these 2 once CSR updated 'aes-192': u'esp-aes', 'aes-256': u'esp-aes', # TODO(pcm): Remove when CSR fixes 'Disable' u'anti-replay-window-size': u'64'}",147,88
openstack%2Fkeystone~stable%2Ficehouse~I64f11ddbb5fb28ec6cbeb55f672f7eae0c56d38d,openstack/keystone,stable/icehouse,I64f11ddbb5fb28ec6cbeb55f672f7eae0c56d38d,Opening stable/icehouse,MERGED,2014-04-17 12:33:29.000000000,2014-04-17 19:24:28.000000000,2014-04-17 19:24:27.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 308}, {'_account_id': 8533}]","[{'number': 1, 'created': '2014-04-17 12:33:29.000000000', 'files': ['.gitreview', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1e948043fe2456bd91b398317c71c665d69e9935', 'message': 'Opening stable/icehouse\n\nBump version to next stable release on icehouse branch, and set\ndefaultbranch in .gitreview for convenience.\n\nChange-Id: I64f11ddbb5fb28ec6cbeb55f672f7eae0c56d38d\n'}]",0,88273,1e948043fe2456bd91b398317c71c665d69e9935,14,4,1,308,,,0,"Opening stable/icehouse

Bump version to next stable release on icehouse branch, and set
defaultbranch in .gitreview for convenience.

Change-Id: I64f11ddbb5fb28ec6cbeb55f672f7eae0c56d38d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/73/88273/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'setup.cfg']",2,1e948043fe2456bd91b398317c71c665d69e9935,stable-icehouse,version = 2014.1.1,version = 2014.1,2,1
openstack%2Fdevstack~stable%2Ficehouse~Iab15290eebabecc1ccd04361652895b3eeb3b370,openstack/devstack,stable/icehouse,Iab15290eebabecc1ccd04361652895b3eeb3b370,open stable/icehouse,MERGED,2014-04-17 12:54:40.000000000,2014-04-17 19:23:07.000000000,2014-04-17 19:23:07.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2750}, {'_account_id': 6482}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-17 12:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0b856e5c5797a4d185786f4e6ddbe9e298592740', 'message': 'open stable/icehouse\n\nstable icehouse devstack cut, with all repositories flipped over\n\nChange-Id: Iab15290eebabecc1ccd04361652895b3eeb3b370\n'}, {'number': 2, 'created': '2014-04-17 13:15:03.000000000', 'files': ['run_tests.sh', '.gitreview', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea548cd5ce1c0899bc12cd2ff957546ecb7e88b9', 'message': 'open stable/icehouse\n\nstable icehouse devstack cut, with all repositories flipped over\n\nChange-Id: Iab15290eebabecc1ccd04361652895b3eeb3b370\n'}]",0,88279,ea548cd5ce1c0899bc12cd2ff957546ecb7e88b9,11,5,2,2750,,,0,"open stable/icehouse

stable icehouse devstack cut, with all repositories flipped over

Change-Id: Iab15290eebabecc1ccd04361652895b3eeb3b370
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/88279/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'stackrc']",2,0b856e5c5797a4d185786f4e6ddbe9e298592740,,CEILOMETER_BRANCH=${CEILOMETER_BRANCH:-stable/icehouse}CINDER_BRANCH=${CINDER_BRANCH:-stable/icehouse}GLANCE_BRANCH=${GLANCE_BRANCH:-stable/icehouse}HEAT_BRANCH=${HEAT_BRANCH:-stable/icehouse}HORIZON_BRANCH=${HORIZON_BRANCH:-stable/icehouse}IRONIC_BRANCH=${IRONIC_BRANCH:-stable/icehouse}KEYSTONE_BRANCH=${KEYSTONE_BRANCH:-stable/icehouse}NOVA_BRANCH=${NOVA_BRANCH:-stable/icehouse}NEUTRON_BRANCH=${NEUTRON_BRANCH:-stable/icehouse}REQUIREMENTS_BRANCH=${REQUIREMENTS_BRANCH:-stable/icehouse}SWIFT_BRANCH=${SWIFT_BRANCH:-stable/icehouse}TROVE_BRANCH=${TROVE_BRANCH:-stable/icehouse},CEILOMETER_BRANCH=${CEILOMETER_BRANCH:-master}CINDER_BRANCH=${CINDER_BRANCH:-master}GLANCE_BRANCH=${GLANCE_BRANCH:-master}HEAT_BRANCH=${HEAT_BRANCH:-master}HORIZON_BRANCH=${HORIZON_BRANCH:-master}IRONIC_BRANCH=${IRONIC_BRANCH:-master}KEYSTONE_BRANCH=${KEYSTONE_BRANCH:-master}NOVA_BRANCH=${NOVA_BRANCH:-master}NEUTRON_BRANCH=${NEUTRON_BRANCH:-master}REQUIREMENTS_BRANCH=${REQUIREMENTS_BRANCH:-master}SWIFT_BRANCH=${SWIFT_BRANCH:-master}TROVE_BRANCH=${TROVE_BRANCH:-master},13,12
openstack%2Fpython-cinderclient~master~I5e4bf8641d7fd261fa24b03832bad08007e43c12,openstack/python-cinderclient,master,I5e4bf8641d7fd261fa24b03832bad08007e43c12,Accept deleting multiple snapshots in one shot,MERGED,2014-02-25 09:27:34.000000000,2014-04-17 19:21:42.000000000,2014-04-17 19:21:42.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 7051}, {'_account_id': 7808}]","[{'number': 1, 'created': '2014-02-25 09:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d26233050b88b0056e714f86ea69d0283f7bbfc0', 'message': 'Accept deleting multiple snapshots in one shot\n\nIn bug 1241941 the delete and force-delete commands were updated to\naccept multiple volumes for deleting in the same call. This patch adds\nthe same behaviour to the snapshot-delete command.\n\nCloses-Bug: #1284540\nChange-Id: I5e4bf8641d7fd261fa24b03832bad08007e43c12\n'}, {'number': 2, 'created': '2014-03-24 10:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8532282380eb3278437feeed305e3ff7799cdbdd', 'message': 'Accept deleting multiple snapshots in one shot\n\nIn bug 1241941 the delete and force-delete commands were updated to\naccept multiple volumes for deleting in the same call. This patch adds\nthe same behaviour to the snapshot-delete command.\n\nCloses-Bug: #1284540\nChange-Id: I5e4bf8641d7fd261fa24b03832bad08007e43c12\n'}, {'number': 3, 'created': '2014-04-03 08:21:45.000000000', 'files': ['doc/source/index.rst', 'cinderclient/tests/v2/test_shell.py', 'cinderclient/tests/v2/fakes.py', 'cinderclient/v1/shell.py', 'cinderclient/tests/v1/fakes.py', 'cinderclient/tests/v1/test_shell.py', 'cinderclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5a080b4d474a9e8ada54f4fa8c7b4a088d13f965', 'message': 'Accept deleting multiple snapshots in one shot\n\nIn bug 1241941 the delete and force-delete commands were updated to\naccept multiple volumes for deleting in the same call. This patch adds\nthe same behaviour to the snapshot-delete command.\n\nCloses-Bug: #1284540\nChange-Id: I5e4bf8641d7fd261fa24b03832bad08007e43c12\n'}]",2,76135,5a080b4d474a9e8ada54f4fa8c7b4a088d13f965,39,6,3,7808,,,0,"Accept deleting multiple snapshots in one shot

In bug 1241941 the delete and force-delete commands were updated to
accept multiple volumes for deleting in the same call. This patch adds
the same behaviour to the snapshot-delete command.

Closes-Bug: #1284540
Change-Id: I5e4bf8641d7fd261fa24b03832bad08007e43c12
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/35/76135/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/v2/fakes.py', 'cinderclient/tests/v2/test_shell.py', 'cinderclient/v1/shell.py', 'cinderclient/tests/v1/fakes.py', 'cinderclient/tests/v1/test_shell.py', 'cinderclient/v2/shell.py']",6,d26233050b88b0056e714f86ea69d0283f7bbfc0,bug/1241941," metavar='<snapshot>', nargs='+', help='Name or ID of the snapshot(s) to delete.') """"""Remove one or more snapshots."""""" failure_count = 0 for snapshot in args.snapshot: try: _find_volume_snapshot(cs, snapshot).delete() except Exception as e: failure_count += 1 print(""Delete for snapshot %s failed: %s"" % (snapshot, e)) if failure_count == len(args.snapshot): raise exceptions.CommandError(""Unable to delete any of the specified "" ""snapshots."")"," metavar='<snapshot>', help='Name or ID of the snapshot to delete.') """"""Remove a snapshot."""""" snapshot = _find_volume_snapshot(cs, args.snapshot) snapshot.delete()",40,10
openstack%2Fcookbook-openstack-compute~master~I778df6a890e2880f515628e768ff4f33ea5611ab,openstack/cookbook-openstack-compute,master,I778df6a890e2880f515628e768ff4f33ea5611ab,New libvirt conf section for icehouse,MERGED,2014-04-02 00:47:27.000000000,2014-04-17 19:13:52.000000000,2014-04-17 19:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2799}, {'_account_id': 5371}, {'_account_id': 6526}, {'_account_id': 7128}, {'_account_id': 9884}, {'_account_id': 10110}]","[{'number': 1, 'created': '2014-04-02 00:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/c6afbf8c623ab02e1e18465b2aaddda24e2f7c85', 'message': 'New libvirt conf section for icehouse\n\nAdd new libvirt section.\nUpdate names to remove libvirt_ prefix where needed, see bug.\nUpdate tests.\n\nChange-Id: I778df6a890e2880f515628e768ff4f33ea5611ab\nCloses-Bug: 1266456\n'}, {'number': 2, 'created': '2014-04-02 14:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/819978b76cf5368696a5b869e65fc8fe35ef66f8', 'message': 'New libvirt conf section for icehouse\n\nAdd new libvirt section.\nUpdate names to remove libvirt_ prefix where needed, see bug.\nUpdate tests.\n\nChange-Id: I778df6a890e2880f515628e768ff4f33ea5611ab\nCloses-Bug: 1266456\n'}, {'number': 3, 'created': '2014-04-08 17:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/d14cbab4995cca56f66217a5cecab3f008676b26', 'message': 'New libvirt conf section for icehouse\n\nAdd new [libvirt] section.\nUpdate names to remove libvirt_ prefix where needed, see bug.\nUpdate tests.\n\nChange-Id: I778df6a890e2880f515628e768ff4f33ea5611ab\nCloses-Bug: 1266456\n'}, {'number': 4, 'created': '2014-04-09 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/ec9a043476b9cea59fb5c1a0b952a8cf4051a27b', 'message': 'New libvirt conf section for icehouse\n\nAdd new [libvirt] section.\nUpdate names to remove libvirt_ prefix where needed, see bug.\nUpdate tests.\n\nChange-Id: I778df6a890e2880f515628e768ff4f33ea5611ab\nCloses-Bug: 1266456\n'}, {'number': 5, 'created': '2014-04-11 22:33:37.000000000', 'files': ['spec/nova-common_spec.rb', 'templates/default/nova.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/2913150a3ed6f84a5ffd6107df6de5077e53c1fd', 'message': 'New libvirt conf section for icehouse\n\nAdd new [libvirt] section.\nUpdate names to remove libvirt_ prefix where needed, see bug.\nUpdate tests.\n\nChange-Id: I778df6a890e2880f515628e768ff4f33ea5611ab\nCloses-Bug: #1266456\n'}]",7,84595,2913150a3ed6f84a5ffd6107df6de5077e53c1fd,36,8,5,7128,,,0,"New libvirt conf section for icehouse

Add new [libvirt] section.
Update names to remove libvirt_ prefix where needed, see bug.
Update tests.

Change-Id: I778df6a890e2880f515628e768ff4f33ea5611ab
Closes-Bug: #1266456
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/95/84595/4 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/nova-common_spec.rb', 'templates/default/nova.conf.erb', 'README.md']",4,c6afbf8c623ab02e1e18465b2aaddda24e2f7c85,new_libvirt_section,"* `openstack[""compute""][""libvirt""][""inject_key""]` - Inject the ssh public key at boot time, without an agent. (default: true) * `openstack[""compute""][""libvirt""][""inject_password""]` - Inject the admin password at boot time, without an agent. (default: false)","* `openstack[""compute""][""libvirt""][""libvirt_inject_key""]` - Inject the ssh public key at boot time, without an agent. (default: true) * `openstack[""compute""][""libvirt""][""libvirt_inject_password""]` - Inject the admin password at boot time, without an agent. (default: false)",167,43
openstack%2Ftripleo-image-elements~master~I3bb935f16e8d742aa8acc50c52accbd033488f02,openstack/tripleo-image-elements,master,I3bb935f16e8d742aa8acc50c52accbd033488f02,Passthrough-enable nova.conf.,MERGED,2014-04-16 17:41:28.000000000,2014-04-17 19:05:33.000000000,2014-04-17 18:53:14.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4190}, {'_account_id': 6488}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-04-16 17:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/59f90b1f18fb72cbaf68ef1553a8ae91279ec7e8', 'message': ""Passthrough-enable nova.conf.\n\nThis permits passthrough settings to be applied to nova.conf using\n'nova' as the key in the config. I'll do a bulk patch for this once\nreviewers have had time to digest and talk about this.\n\nChange-Id: I3bb935f16e8d742aa8acc50c52accbd033488f02\n""}, {'number': 2, 'created': '2014-04-17 07:49:52.000000000', 'files': ['elements/nova/os-apply-config/etc/nova/nova.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f0550a22405f21f8281c2afc723f5fb000277caa', 'message': ""Passthrough-enable nova.conf.\n\nThis permits passthrough settings to be applied to nova.conf using\n'nova' as the key in the config. I'll do a bulk patch for this once\nreviewers have had time to digest and talk about this.\n\nblueprint: passthrough-config\nChange-Id: I3bb935f16e8d742aa8acc50c52accbd033488f02\n""}]",2,88036,f0550a22405f21f8281c2afc723f5fb000277caa,20,5,2,4190,,,0,"Passthrough-enable nova.conf.

This permits passthrough settings to be applied to nova.conf using
'nova' as the key in the config. I'll do a bulk patch for this once
reviewers have had time to digest and talk about this.

blueprint: passthrough-config
Change-Id: I3bb935f16e8d742aa8acc50c52accbd033488f02
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/36/88036/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova/os-apply-config/etc/nova/nova.conf'],1,59f90b1f18fb72cbaf68ef1553a8ae91279ec7e8,bp/passthrough-config, {{#nova}} {{#config}} {{#comment}} repeats for each section {{/comment}} [{{section}}] {{#values}} {{option}}={{value}} {{/values}} {{/config}} {{/nova}},,10,0
openstack%2Fhorizon~master~I712d20b228299c4a5079813776e9fe59a1d65e9b,openstack/horizon,master,I712d20b228299c4a5079813776e9fe59a1d65e9b,updated description of the create image screen,ABANDONED,2014-04-17 18:40:06.000000000,2014-04-17 19:02:10.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-17 18:40:06.000000000', 'files': ['openstack_dashboard/dashboards/project/images/templates/images/images/_create.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/760c500fcbb7ec403b94e5f25420e636fb4502ee', 'message': 'updated description of the create image screen\n\nI update the current description on sceen\n/project/images ->""Create Image"" that it said:\n-------\nSpecify an image to upload to the Image Service.\nCurrently only images available via an HTTP URL\nare supported. The image location must be accessible\nto the Image Service. Compressed image binaries are\nsupported (.zip and .tar.gz.)\n\nPlease note: The Image Location field MUST be a\nvalid and direct URL to the image binary. URLs that\nredirect or serve error pages will result in unusable\nimages.\n-------\nSince horizon supports upload image from local file\nsystem.\n\nCloses-Bug: #1254273\n\nChange-Id: I712d20b228299c4a5079813776e9fe59a1d65e9b\n'}]",0,88389,760c500fcbb7ec403b94e5f25420e636fb4502ee,2,1,1,11117,,,0,"updated description of the create image screen

I update the current description on sceen
/project/images ->""Create Image"" that it said:
-------
Specify an image to upload to the Image Service.
Currently only images available via an HTTP URL
are supported. The image location must be accessible
to the Image Service. Compressed image binaries are
supported (.zip and .tar.gz.)

Please note: The Image Location field MUST be a
valid and direct URL to the image binary. URLs that
redirect or serve error pages will result in unusable
images.
-------
Since horizon supports upload image from local file
system.

Closes-Bug: #1254273

Change-Id: I712d20b228299c4a5079813776e9fe59a1d65e9b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/88389/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/images/templates/images/images/_create.html'],1,760c500fcbb7ec403b94e5f25420e636fb4502ee,b/1254273," {% trans ""Images can be provided via an HTTP URL or be uploaded from your local file system . Compressed image binaries are supported (.zip and .tar.gz.)"" %} {% trans ""If you select a image via an HTTP URL, the Image Location field MUST be a valid and direct URL to the image binary; it must also be accessible to the Image Service. URLs that redirect or serve error pages will result in unusable images."" %} <input class=""btn btn-primary pull-right"" type=""submit"" value=""{% trans 'Create Image' %}"" />"," {% trans ""Images can be provided via an HTTP URL or from a local image of your file system to be uploaded. Compressed image binaries are supported (.zip and .tar.gz.)"" %} {% trans ""In case you select a image via an HTTP URL, the Image Location field MUST be a valid and direct URL to the image binary and accessible to the Image Service. URLs that redirect or serve error pages will result in unusable images."" %} <input class=""btn btn-primary pull-right"" type=""submit"" value=""{% trans ""Create Image"" %}"" />",3,3
openstack%2Fcinder~stable%2Fhavana~Ic5082b74a362ded8b35cbc75cf178fe6e0db62d0,openstack/cinder,stable/havana,Ic5082b74a362ded8b35cbc75cf178fe6e0db62d0,Update ensure()/reconnect() to catch MessagingError,MERGED,2014-04-10 13:14:22.000000000,2014-04-17 18:51:44.000000000,2014-04-17 18:51:43.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1955}, {'_account_id': 6159}, {'_account_id': 11105}]","[{'number': 1, 'created': '2014-04-10 13:14:22.000000000', 'files': ['cinder/openstack/common/rpc/impl_qpid.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b7e766f0bf363b5a5e97048047cbefe6ff1e6b6', 'message': 'Update ensure()/reconnect() to catch MessagingError\n\nThe error handling code that gets connections reset if necessary\ncaught ConnectionError. It really needs to catch MessagingError,\nwhich ConnectionError inherits from. There are other types of\nMessagingErrors that may occur, such as InternalError, and they need\nto cause the connection to reset, as well.\n\nThis fix has already been merged into oslo.messaging.\n\nCloses-bug: #1303890\nChange-Id: Ic5082b74a362ded8b35cbc75cf178fe6e0db62d0\n(cherry picked from commit 234f64d608266f43d8856ff98c89ceba6699d752)\n'}]",0,86587,2b7e766f0bf363b5a5e97048047cbefe6ff1e6b6,18,5,1,6159,,,0,"Update ensure()/reconnect() to catch MessagingError

The error handling code that gets connections reset if necessary
caught ConnectionError. It really needs to catch MessagingError,
which ConnectionError inherits from. There are other types of
MessagingErrors that may occur, such as InternalError, and they need
to cause the connection to reset, as well.

This fix has already been merged into oslo.messaging.

Closes-bug: #1303890
Change-Id: Ic5082b74a362ded8b35cbc75cf178fe6e0db62d0
(cherry picked from commit 234f64d608266f43d8856ff98c89ceba6699d752)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/86587/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/rpc/impl_qpid.py'],1,2b7e766f0bf363b5a5e97048047cbefe6ff1e6b6,," except qpid_exceptions.MessagingError: except qpid_exceptions.MessagingError, e: qpid_exceptions.MessagingError), e:"," except qpid_exceptions.ConnectionError: except qpid_exceptions.ConnectionError, e: qpid_exceptions.ConnectionError), e:",3,3
openstack%2Fneutron-specs~master~I507d32cb2568d9c65b7a460196fdd873c4c5c445,openstack/neutron-specs,master,I507d32cb2568d9c65b7a460196fdd873c4c5c445,Allow adding sub-headings under Proposed change header,MERGED,2014-04-17 18:15:15.000000000,2014-04-17 18:43:03.000000000,2014-04-17 18:43:03.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 6524}, {'_account_id': 7448}]","[{'number': 1, 'created': '2014-04-17 18:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/60de56568bbfcce2d88b9fd5594366711e2922de', 'message': 'Allow adding sub-headings under Proposed change header\n\nThis changes the titles test under the ""Proposed change"" heading so\nthat it checks that *at least* the required 9 headings exist instead\nof checking that *exactly* the required 9 headings exist.\n\nThis will allow blueprint writers like me to add some structure to the\nfirst section under this heading before getting to the required\nsections.\n\nChange-Id: I507d32cb2568d9c65b7a460196fdd873c4c5c445\n'}, {'number': 2, 'created': '2014-04-17 18:16:30.000000000', 'files': ['tests/test_titles.py'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d76bec4015e43a5a85b89b8f31725a0828e1a629', 'message': 'Allow adding sub-headings under Proposed change header\n\nThis changes the titles test under the ""Proposed change"" heading so\nthat it checks that *at least* the required 9 headings exist instead\nof checking that *exactly* the required 9 headings exist.\n\nThis will allow writers like me to add some structure to the first\nsection under this heading before getting to the required sections.\n\nChange-Id: I507d32cb2568d9c65b7a460196fdd873c4c5c445\n'}]",0,88381,d76bec4015e43a5a85b89b8f31725a0828e1a629,12,5,2,7448,,,0,"Allow adding sub-headings under Proposed change header

This changes the titles test under the ""Proposed change"" heading so
that it checks that *at least* the required 9 headings exist instead
of checking that *exactly* the required 9 headings exist.

This will allow writers like me to add some structure to the first
section under this heading before getting to the required sections.

Change-Id: I507d32cb2568d9c65b7a460196fdd873c4c5c445
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/81/88381/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_titles.py'],1,60de56568bbfcce2d88b9fd5594366711e2922de,spec/sub-headings,," self.assertEqual(9, len(titles[proposed]))",0,1
openstack-attic%2Fopenstack-security-notes~master~I3213bbf4b9956b75d733f219660fcefe6a51848d,openstack-attic/openstack-security-notes,master,I3213bbf4b9956b75d733f219660fcefe6a51848d,Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation vulnerability,MERGED,2014-04-04 18:33:31.000000000,2014-04-17 18:42:56.000000000,2014-04-17 18:42:56.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2807}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7063}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 9098}, {'_account_id': 11029}]","[{'number': 1, 'created': '2014-04-04 18:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/openstack-security-notes/commit/ca0aa93a7165a5ff973d2b81c81aa2ffd875534b', 'message': 'Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation\nvulnerability\n\nThis adds OSSN-0010, which covers a privilege escalation issue\nassociated with a sample Keystone v3 policy file.\n\nChange-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d\nRelated-Bug: #1287219\n'}, {'number': 2, 'created': '2014-04-07 17:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/openstack-security-notes/commit/77058cd2d0c09afad01ab6d85707a4ffa4a47a9c', 'message': 'Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation\nvulnerability\n\nThis adds OSSN-0010, which covers a privilege escalation issue\nassociated with a sample Keystone v3 policy file.\n\nChange-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d\nRelated-Bug: #1287219\n'}, {'number': 3, 'created': '2014-04-08 20:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/openstack-security-notes/commit/2d7fc8eb2b1c9c403d5288aece6b0de0e64e465b', 'message': 'Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation\nvulnerability\n\nThis adds OSSN-0010, which covers a privilege escalation issue\nassociated with a sample Keystone v3 policy file.\n\nChange-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d\nRelated-Bug: #1287219\n'}, {'number': 4, 'created': '2014-04-10 00:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/openstack-security-notes/commit/20c37a511cd6560cf3b0e9b53807905c964ad078', 'message': 'Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation\nvulnerability\n\nThis adds OSSN-0010, which covers a privilege escalation issue\nassociated with a sample Keystone v3 policy file.\n\nChange-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d\nRelated-Bug: #1287219\n'}, {'number': 5, 'created': '2014-04-14 16:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/openstack-security-notes/commit/e615e4567ea52239552c298afd15764db41e5214', 'message': 'Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation\nvulnerability\n\nThis adds OSSN-0010, which covers a privilege escalation issue\nassociated with a sample Keystone v3 policy file.\n\nChange-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d\nRelated-Bug: #1287219\n'}, {'number': 6, 'created': '2014-04-17 16:37:05.000000000', 'files': ['notes/OSSN-0010'], 'web_link': 'https://opendev.org/openstack-attic/openstack-security-notes/commit/1c3455cc2b51bf3a998a361fb23d51c324e73f7c', 'message': 'Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation\nvulnerability\n\nThis adds OSSN-0010, which covers a privilege escalation issue\nassociated with a sample Keystone v3 policy file.\n\nChange-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d\nRelated-Bug: #1287219\n'}]",42,85441,1c3455cc2b51bf3a998a361fb23d51c324e73f7c,44,15,6,11029,,,0,"Add OSSN-0010 - Sample Keystone v3 policy exposes privilege escalation
vulnerability

This adds OSSN-0010, which covers a privilege escalation issue
associated with a sample Keystone v3 policy file.

Change-Id: I3213bbf4b9956b75d733f219660fcefe6a51848d
Related-Bug: #1287219
",git fetch https://review.opendev.org/openstack-attic/openstack-security-notes refs/changes/41/85441/1 && git format-patch -1 --stdout FETCH_HEAD,['notes/OSSN-0010'],1,ca0aa93a7165a5ff973d2b81c81aa2ffd875534b,bug-1287219,"Sample Keystone v3 policy exposes privilege escalation vulnerability --- ### Summary ### A sample Keystone policy file (policy.v3cloudsample.json), combined with underlying mutability of domain ID for user/group/project entities, exposed a privilege escalation vulnerability. When this sample policy is applied, a domain administrator can easily elevate their privileges to become the cloud administrator. ### Affected Services / Software ### Keystone ### Discussion ### A recent change to the Keystone v3 sample policy set an excessively broad domain administrator scope that allowed creation of roles (""create_grant"") on other domains (among other actions). There was no check that the administrator was already associated with the domain they were attempting to grant a role on. Combined with the mutable state of domain_id for a user/group/project entities, this resulted in a privilege escalation vulnerability. A domain administrator could execute a series of steps to escalate their access to that of cloud administrator. ### Recommended Actions ### Review the updated sample policy file policy.v3cloudsample.json (https://review.openstack.org/#/c/79897/) and ensure that your Keystone environment appropriately reflects that update. Domain administrators should generally only be permitted to perform actions against the domain with which they are associated. Optionally, also review the recent addition of domain_id_immutable option (https://review.openstack.org/#/c/80769/) and consider for applicability to your Keystone environment. ### Contacts / References ### This OSSN : https://bugs.launchpad.net/ossn/+bug/1287219 Original LaunchPad Bug : https://bugs.launchpad.net/keystone/+bug/1287219 OpenStack Security ML : openstack-security@lists.openstack.org OpenStack Security Group : https://launchpad.net/~openstack-ossg ",,42,0
openstack%2Fopenstack-chef-repo~master~I344472cf279b37c7ed6b602754a5a0dd5dcefdf2,openstack/openstack-chef-repo,master,I344472cf279b37c7ed6b602754a5a0dd5dcefdf2,Add client role,MERGED,2014-04-16 15:11:59.000000000,2014-04-17 18:41:55.000000000,2014-04-17 18:41:55.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2799}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-16 15:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/a3d45bc5f788439d9d92220bdcedde02f88bc2ce', 'message': 'Add client role\n\nAdd role for client interfaces\n\nChange-Id: I344472cf279b37c7ed6b602754a5a0dd5dcefdf2\nImplements: blueprint openstack-client\n'}, {'number': 2, 'created': '2014-04-16 15:42:02.000000000', 'files': ['infrastructure.yml', 'roles/os-client.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/c80c560d96afe7b90e5904f051230fc1f89c8f40', 'message': 'Add client role\n\nAdd role for client interfaces\n\nChange-Id: I344472cf279b37c7ed6b602754a5a0dd5dcefdf2\nImplements: blueprint openstack-client\n'}]",0,87994,c80c560d96afe7b90e5904f051230fc1f89c8f40,13,5,2,7128,,,0,"Add client role

Add role for client interfaces

Change-Id: I344472cf279b37c7ed6b602754a5a0dd5dcefdf2
Implements: blueprint openstack-client
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/94/87994/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/os-client.rb', 'CHANGELOG.md']",2,a3d45bc5f788439d9d92220bdcedde02f88bc2ce,bp/openstack-client,## 9.0.1 * Add client role ,,15,0
openstack%2Fsahara~master~I8624dbdcd53814dcabdf3692ed3aa9547413226a,openstack/sahara,master,I8624dbdcd53814dcabdf3692ed3aa9547413226a,Implementing constants for the job types used by EDP,MERGED,2014-03-13 17:51:56.000000000,2014-04-17 18:36:08.000000000,2014-04-17 18:36:08.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7109}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7555}, {'_account_id': 7604}, {'_account_id': 7700}, {'_account_id': 8091}, {'_account_id': 8304}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-03-13 17:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3371cd2b4cb74ee3b8089f179d760b4b6ed6366d', 'message': 'Implementing constants for the job types used by EDP\n\nChanges\n* adding job type variables to savanna.utils.edp\n    * JOB_TYPE_HIVE\n    * JOB_TYPE_JAVA\n    * JOB_TYPE_MAPREDUCE\n    * JOB_TYPE_MAPREDUCE_STREAMING\n    * JOB_TYPE_PIG\n* replacing string literals with edp job type variables\n\nImplements: blueprint edp-job-type-constants\nChange-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a\n'}, {'number': 2, 'created': '2014-03-20 14:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ce7d54437970efb8039a65c51552b89be0c36984', 'message': 'Implementing constants for the job types used by EDP\n\nChanges\n* adding job type variables to savanna.utils.edp\n* JOB_TYPE_HIVE\n* JOB_TYPE_JAVA\n* JOB_TYPE_MAPREDUCE\n* JOB_TYPE_MAPREDUCE_STREAMING\n* JOB_TYPE_PIG\n* replacing string literals with edp job type variables\n\nImplements: blueprint edp-job-type-constants\nChange-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a\n'}, {'number': 3, 'created': '2014-03-20 16:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/14b7ce207ea241116d67ff7fa6f4c2c20c4c56ea', 'message': 'Implementing constants for the job types used by EDP\n\nChanges\n* adding job type variables to savanna.utils.edp\n* JOB_TYPE_HIVE\n* JOB_TYPE_JAVA\n* JOB_TYPE_MAPREDUCE\n* JOB_TYPE_MAPREDUCE_STREAMING\n* JOB_TYPE_PIG\n* replacing string literals with edp job type variables\n\nImplements: blueprint edp-job-type-constants\nChange-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a\n'}, {'number': 4, 'created': '2014-04-11 21:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c11a665421acff7267a61807b3c80df074ad8c71', 'message': 'Implementing constants for the job types used by EDP\n\nChanges\n* adding job type variables to savanna.utils.edp\n* JOB_TYPE_HIVE\n* JOB_TYPE_JAVA\n* JOB_TYPE_MAPREDUCE\n* JOB_TYPE_MAPREDUCE_STREAMING\n* JOB_TYPE_PIG\n* adding job sub type variables to savanna.utils.edp\n* JOB_SUBTYPE_STREAMING\n* replacing string literals with edp job type variables\n\nImplements: blueprint edp-job-type-constants\nChange-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a\n'}, {'number': 5, 'created': '2014-04-14 19:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d7a40ed5e71d08283f1081f60df79e0e9c03d1d6', 'message': 'Implementing constants for the job types used by EDP\n\nChanges\n* adding job type variables to sahara.utils.edp\n* JOB_TYPE_HIVE\n* JOB_TYPE_JAVA\n* JOB_TYPE_MAPREDUCE\n* JOB_TYPE_MAPREDUCE_STREAMING\n* JOB_TYPE_PIG\n* adding job sub type variables to sahara.utils.edp\n* JOB_SUBTYPE_STREAMING\n* adding job types list variables to sahara.utils.edp\n* JOB_TYPES_ALL\n* replacing string literals with edp job type variables\n* removing get_possible_job_types from\nsahara/service/edp/workflow_creator/workflow_factory\n\nImplements: blueprint edp-job-type-constants\nChange-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a\n'}, {'number': 6, 'created': '2014-04-15 13:38:33.000000000', 'files': ['sahara/tests/unit/service/edp/test_job_manager.py', 'sahara/tests/unit/utils/test_edp.py', 'sahara/tests/integration/tests/gating/test_hdp_gating.py', 'sahara/tests/integration/tests/gating/test_vanilla_gating.py', 'sahara/service/edp/job_manager.py', 'sahara/service/validations/edp/job_executor.py', 'sahara/tests/integration/tests/edp.py', 'sahara/tests/unit/service/validation/edp/test_job.py', 'sahara/tests/unit/service/edp/test_job_possible_configs.py', 'sahara/service/edp/workflow_creator/workflow_factory.py', 'sahara/tests/unit/service/validation/edp/test_job_executor.py', 'sahara/tests/unit/service/validation/edp/test_job_executor_java.py', 'sahara/utils/edp.py', 'sahara/tests/integration/tests/gating/test_vanilla_two_gating.py', 'sahara/service/validations/edp/job.py', 'sahara/tests/unit/conductor/manager/test_edp.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/debac37821d342d4293bc0acfe62701b687aa759', 'message': 'Implementing constants for the job types used by EDP\n\nChanges\n* adding job type variables to sahara.utils.edp\n* JOB_TYPE_HIVE\n* JOB_TYPE_JAVA\n* JOB_TYPE_MAPREDUCE\n* JOB_TYPE_MAPREDUCE_STREAMING\n* JOB_TYPE_PIG\n* adding job sub type variables to sahara.utils.edp\n* JOB_SUBTYPE_STREAMING\n* adding job types list variables to sahara.utils.edp\n* JOB_TYPES_ALL\n* replacing string literals with edp job type variables\n* removing get_possible_job_types from\nsahara/service/edp/workflow_creator/workflow_factory\n\nImplements: blueprint edp-job-type-constants\nChange-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a\n'}]",30,80352,debac37821d342d4293bc0acfe62701b687aa759,73,13,6,10670,,,0,"Implementing constants for the job types used by EDP

Changes
* adding job type variables to sahara.utils.edp
* JOB_TYPE_HIVE
* JOB_TYPE_JAVA
* JOB_TYPE_MAPREDUCE
* JOB_TYPE_MAPREDUCE_STREAMING
* JOB_TYPE_PIG
* adding job sub type variables to sahara.utils.edp
* JOB_SUBTYPE_STREAMING
* adding job types list variables to sahara.utils.edp
* JOB_TYPES_ALL
* replacing string literals with edp job type variables
* removing get_possible_job_types from
sahara/service/edp/workflow_creator/workflow_factory

Implements: blueprint edp-job-type-constants
Change-Id: I8624dbdcd53814dcabdf3692ed3aa9547413226a
",git fetch https://review.opendev.org/openstack/sahara refs/changes/52/80352/5 && git format-patch -1 --stdout FETCH_HEAD,"['savanna/service/edp/workflow_creator/workflow_factory.py', 'savanna/tests/integration/tests/edp.py', 'savanna/tests/unit/service/validation/edp/test_job_executor.py', 'savanna/service/edp/job_manager.py', 'savanna/service/validations/edp/job_executor.py', 'savanna/tests/unit/service/validation/edp/test_job_executor_java.py', 'savanna/service/validations/edp/job.py', 'savanna/tests/unit/service/validation/edp/test_job.py', 'savanna/tests/unit/service/edp/test_job_manager.py', 'savanna/tests/integration/tests/gating/test_vanilla_gating.py', 'savanna/tests/integration/tests/gating/test_hdp_gating.py', 'savanna/tests/unit/conductor/manager/test_edp.py', 'savanna/tests/unit/service/edp/test_job_possible_configs.py', 'savanna/tests/unit/utils/test_edp.py', 'savanna/utils/edp.py']",15,3371cd2b4cb74ee3b8089f179d760b4b6ed6366d,bp/edp-job-type-constants,# job type separator character# job types available JOB_TYPE_HIVE = 'Hive' JOB_TYPE_JAVA = 'Java' JOB_TYPE_MAPREDUCE = 'MapReduce' JOB_TYPE_MAPREDUCE_STREAMING = 'MapReduce.Streaming' JOB_TYPE_PIG = 'Pig',,97,84
openstack%2Fopenstacksdk~master~I2996b793f6ef5881749a9fc3b7ce7d202a6a1349,openstack/openstacksdk,master,I2996b793f6ef5881749a9fc3b7ce7d202a6a1349,Docs cleanup,MERGED,2014-04-17 17:47:50.000000000,2014-04-17 18:32:20.000000000,2014-04-17 18:32:20.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 8257}]","[{'number': 1, 'created': '2014-04-17 17:47:50.000000000', 'files': ['doc/source/contributing.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/readme.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6923b2cff9fab54797a95771e09e1cb47451b0a5', 'message': 'Docs cleanup\n\nMassage the default cookiecutter-provided structire to remove Sphinx\nerrors and make it our own.\n\nChange-Id: I2996b793f6ef5881749a9fc3b7ce7d202a6a1349\n'}]",0,88375,6923b2cff9fab54797a95771e09e1cb47451b0a5,7,3,1,970,,,0,"Docs cleanup

Massage the default cookiecutter-provided structire to remove Sphinx
errors and make it our own.

Change-Id: I2996b793f6ef5881749a9fc3b7ce7d202a6a1349
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/88375/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/readme.rst', 'doc/source/installation.rst']",5,6923b2cff9fab54797a95771e09e1cb47451b0a5,basic-docs,During Development ------------------ Get the source:: $ git clone https://github.com/stackforge/python-openstacksdk $ python setup.py install After the Initial Release ------------------------- ,,66,9
openstack%2Fneutron~stable%2Ficehouse~I70ddfb8cc70f9d7fca4ff63f95d5bd9c7fb7ef81,openstack/neutron,stable/icehouse,I70ddfb8cc70f9d7fca4ff63f95d5bd9c7fb7ef81,Opening stable/icehouse,MERGED,2014-04-17 13:37:09.000000000,2014-04-17 18:14:31.000000000,2014-04-17 18:14:30.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 10117}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-04-17 13:37:09.000000000', 'files': ['.gitreview', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f65483443e77c892558b909c203be0ddcafd12c6', 'message': 'Opening stable/icehouse\n\nBump version to next stable release on icehouse branch, and set\ndefaultbranch in .gitreview for convenience.\n\nChange-Id: I70ddfb8cc70f9d7fca4ff63f95d5bd9c7fb7ef81\n'}]",0,88294,f65483443e77c892558b909c203be0ddcafd12c6,9,5,1,308,,,0,"Opening stable/icehouse

Bump version to next stable release on icehouse branch, and set
defaultbranch in .gitreview for convenience.

Change-Id: I70ddfb8cc70f9d7fca4ff63f95d5bd9c7fb7ef81
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/88294/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'setup.cfg']",2,f65483443e77c892558b909c203be0ddcafd12c6,stable-icehouse,version = 2014.1.1,version = 2014.1,2,1
openstack%2Fcookbook-openstack-orchestration~master~I2e4e3b5ed25b1449678e33dbd4ea45fcb6cac946,openstack/cookbook-openstack-orchestration,master,I2e4e3b5ed25b1449678e33dbd4ea45fcb6cac946,Remove policy json file,MERGED,2014-04-17 16:20:09.000000000,2014-04-17 18:13:16.000000000,2014-04-17 18:13:16.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2589}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-17 16:20:09.000000000', 'files': ['spec/api-cfn-redhat_spec.rb', 'spec/spec_helper.rb', 'spec/api-redhat_spec.rb', 'CHANGELOG.md', 'recipes/api.rb', 'metadata.rb', 'recipes/api-cfn.rb', 'recipes/api-cloudwatch.rb', 'spec/api-cloudwatch-redhat_spec.rb', 'templates/default/policy.json.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/38396602926dcec31f228c4f73c9fcbb0a1b91c9', 'message': 'Remove policy json file\n\nRemove the policy.json template, as they contain no templated variables.\nThis would allow use of the policy.json files provided via the package,\nand decrease the need to sync them with upstream\n\nChange-Id: I2e4e3b5ed25b1449678e33dbd4ea45fcb6cac946\nImplements: blueprint remove-policy-templates\n'}]",0,88356,38396602926dcec31f228c4f73c9fcbb0a1b91c9,8,4,1,7128,,,0,"Remove policy json file

Remove the policy.json template, as they contain no templated variables.
This would allow use of the policy.json files provided via the package,
and decrease the need to sync them with upstream

Change-Id: I2e4e3b5ed25b1449678e33dbd4ea45fcb6cac946
Implements: blueprint remove-policy-templates
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/56/88356/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/api-cfn-redhat_spec.rb', 'spec/spec_helper.rb', 'spec/api-redhat_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'recipes/api.rb', 'recipes/api-cfn.rb', 'recipes/api-cloudwatch.rb', 'spec/api-cloudwatch-redhat_spec.rb', 'templates/default/policy.json.erb']",10,38396602926dcec31f228c4f73c9fcbb0a1b91c9,bp/remove-policy-templates,,"{ ""context_is_admin"": ""role:admin"", ""deny_stack_user"": ""not role:heat_stack_user"", ""cloudformation:ListStacks"": ""rule:deny_stack_user"", ""cloudformation:CreateStack"": ""rule:deny_stack_user"", ""cloudformation:DescribeStacks"": ""rule:deny_stack_user"", ""cloudformation:DeleteStack"": ""rule:deny_stack_user"", ""cloudformation:UpdateStack"": ""rule:deny_stack_user"", ""cloudformation:DescribeStackEvents"": ""rule:deny_stack_user"", ""cloudformation:ValidateTemplate"": ""rule:deny_stack_user"", ""cloudformation:GetTemplate"": ""rule:deny_stack_user"", ""cloudformation:EstimateTemplateCost"": ""rule:deny_stack_user"", ""cloudformation:DescribeStackResource"": """", ""cloudformation:DescribeStackResources"": ""rule:deny_stack_user"", ""cloudformation:ListStackResources"": ""rule:deny_stack_user"", ""cloudwatch:DeleteAlarms"": ""rule:deny_stack_user"", ""cloudwatch:DescribeAlarmHistory"": ""rule:deny_stack_user"", ""cloudwatch:DescribeAlarms"": ""rule:deny_stack_user"", ""cloudwatch:DescribeAlarmsForMetric"": ""rule:deny_stack_user"", ""cloudwatch:DisableAlarmActions"": ""rule:deny_stack_user"", ""cloudwatch:EnableAlarmActions"": ""rule:deny_stack_user"", ""cloudwatch:GetMetricStatistics"": ""rule:deny_stack_user"", ""cloudwatch:ListMetrics"": ""rule:deny_stack_user"", ""cloudwatch:PutMetricAlarm"": ""rule:deny_stack_user"", ""cloudwatch:PutMetricData"": """", ""cloudwatch:SetAlarmState"": ""rule:deny_stack_user"", ""actions:action"": ""rule:deny_stack_user"", ""build_info:build_info"": ""rule:deny_stack_user"", ""events:index"": ""rule:deny_stack_user"", ""events:show"": ""rule:deny_stack_user"", ""resource:index"": ""rule:deny_stack_user"", ""resource:metadata"": """", ""resource:show"": ""rule:deny_stack_user"", ""stacks:abandon"": ""rule:deny_stack_user"", ""stacks:create"": ""rule:deny_stack_user"", ""stacks:delete"": ""rule:deny_stack_user"", ""stacks:detail"": ""rule:deny_stack_user"", ""stacks:generate_template"": ""rule:deny_stack_user"", ""stacks:index"": ""rule:deny_stack_user"", ""stacks:list_resource_types"": ""rule:deny_stack_user"", ""stacks:lookup"": ""rule:deny_stack_user"", ""stacks:resource_schema"": ""rule:deny_stack_user"", ""stacks:show"": ""rule:deny_stack_user"", ""stacks:template"": ""rule:deny_stack_user"", ""stacks:update"": ""rule:deny_stack_user"", ""stacks:validate_template"": ""rule:deny_stack_user"" } ",4,102
openstack%2Fcookbook-openstack-block-storage~master~I67ce6932df294ccbf4b052e488a3695889f2d285,openstack/cookbook-openstack-block-storage,master,I67ce6932df294ccbf4b052e488a3695889f2d285,Sync policy file,ABANDONED,2014-04-17 16:41:49.000000000,2014-04-17 18:12:52.000000000,,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2589}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-17 16:41:49.000000000', 'files': ['CHANGELOG.md', 'templates/default/policy.json.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/1497f2ceaa87ed6680efa1804ee48d817e2eac8a', 'message': 'Sync policy file\n\nSync policy file with base.\n\nChange-Id: I67ce6932df294ccbf4b052e488a3695889f2d285\nCloses-Bug: #1309102\n'}]",0,88360,1497f2ceaa87ed6680efa1804ee48d817e2eac8a,7,4,1,7128,,,0,"Sync policy file

Sync policy file with base.

Change-Id: I67ce6932df294ccbf4b052e488a3695889f2d285
Closes-Bug: #1309102
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/60/88360/1 && git format-patch -1 --stdout FETCH_HEAD,"['CHANGELOG.md', 'templates/default/policy.json.erb']",2,1497f2ceaa87ed6680efa1804ee48d817e2eac8a,remove_policy," ""volume:get_volume_admin_metadata"": [[""rule:admin_api""]], ""volume:delete_volume_admin_metadata"": [[""rule:admin_api""]], ""volume:update_volume_admin_metadata"": [[""rule:admin_api""]], ""volume:extend"": [], ""volume:update_readonly_flag"": [], ""volume:retype"": [], ""volume_extension:volume_type_encryption"": [[""rule:admin_api""]], ""volume_extension:volume_encryption_metadata"": [[""rule:admin_or_owner""]], ""volume_extension:quotas:update"": [[""rule:admin_api""]], ""volume_extension:volume_admin_actions:force_detach"": [[""rule:admin_api""]], ""volume_extension:volume_admin_actions:migrate_volume"": [[""rule:admin_api""]], ""volume_extension:volume_admin_actions:migrate_volume_completion"": [[""rule:admin_api""]], ""volume_extension:volume_tenant_attribute"": [[""rule:admin_or_owner""]], ""volume_extension:volume_mig_status_attribute"": [[""rule:admin_api""]], ""volume:services"": [[""rule:admin_api""]], ""volume:create_transfer"": [], ""volume:accept_transfer"": [], ""volume:delete_transfer"": [], ""volume:get_all_transfers"": [], ""backup:create"" : [], ""backup:delete"": [], ""backup:get"": [], ""backup:get_all"": [], ""backup:restore"": [], ""backup:backup-import"": [[""rule:admin_api""]], ""backup:backup-export"": [[""rule:admin_api""]], ""snapshot_extension:snapshot_actions:update_snapshot_status"": []"," ""volume_extension:quotas:update_for_project"": [[""rule:admin_api""]], ""volume_extension:quotas:update_for_user"": [[""rule:admin_or_projectadmin""]], ""volume_extension:volume_tenant_attribute"": [[""rule:admin_api""]], ""volume:services"": [[""rule:admin_api""]]",31,4
openstack%2Fcookbook-openstack-network~master~Iad2562d54907d8987c93c2ee41147a1027f57a69,openstack/cookbook-openstack-network,master,Iad2562d54907d8987c93c2ee41147a1027f57a69,Remove policy json file,MERGED,2014-04-17 16:27:06.000000000,2014-04-17 18:07:54.000000000,2014-04-17 18:07:54.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2589}, {'_account_id': 9884}, {'_account_id': 9970}]","[{'number': 1, 'created': '2014-04-17 16:27:06.000000000', 'files': ['CHANGELOG.md', 'recipes/common.rb', 'templates/default/policy.json.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/853fa9fcc6d7e9e6607be188299bf6c9208f24f7', 'message': 'Remove policy json file\n\nRemove the policy.json template, as they contain no templated variables.\nThis would allow use of the policy.json files provided via the package,\nand decrease the need to sync them with upstream\n\nChange-Id: Iad2562d54907d8987c93c2ee41147a1027f57a69\nImplements: blueprint remove-policy-templates\n'}]",0,88357,853fa9fcc6d7e9e6607be188299bf6c9208f24f7,9,5,1,7128,,,0,"Remove policy json file

Remove the policy.json template, as they contain no templated variables.
This would allow use of the policy.json files provided via the package,
and decrease the need to sync them with upstream

Change-Id: Iad2562d54907d8987c93c2ee41147a1027f57a69
Implements: blueprint remove-policy-templates
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/57/88357/1 && git format-patch -1 --stdout FETCH_HEAD,"['CHANGELOG.md', 'recipes/common.rb', 'templates/default/policy.json.erb']",3,853fa9fcc6d7e9e6607be188299bf6c9208f24f7,bp/remove-policy-templates,,"{ ""context_is_admin"": ""role:admin"", ""admin_or_owner"": ""rule:context_is_admin or tenant_id:%(tenant_id)s"", ""admin_or_network_owner"": ""rule:context_is_admin or tenant_id:%(network:tenant_id)s"", ""admin_only"": ""rule:context_is_admin"", ""regular_user"": """", ""shared"": ""field:networks:shared=True"", ""shared_firewalls"": ""field:firewalls:shared=True"", ""external"": ""field:networks:router:external=True"", ""default"": ""rule:admin_or_owner"", ""subnets:private:read"": ""rule:admin_or_owner"", ""subnets:private:write"": ""rule:admin_or_owner"", ""subnets:shared:read"": ""rule:regular_user"", ""subnets:shared:write"": ""rule:admin_only"", ""create_subnet"": ""rule:admin_or_network_owner"", ""get_subnet"": ""rule:admin_or_owner or rule:shared"", ""update_subnet"": ""rule:admin_or_network_owner"", ""delete_subnet"": ""rule:admin_or_network_owner"", ""create_network"": """", ""get_network"": ""rule:admin_or_owner or rule:shared or rule:external"", ""get_network:router:external"": ""rule:regular_user"", ""get_network:segments"": ""rule:admin_only"", ""get_network:provider:network_type"": ""rule:admin_only"", ""get_network:provider:physical_network"": ""rule:admin_only"", ""get_network:provider:segmentation_id"": ""rule:admin_only"", ""get_network:queue_id"": ""rule:admin_only"", ""create_network:shared"": ""rule:admin_only"", ""create_network:router:external"": ""rule:admin_only"", ""create_network:segments"": ""rule:admin_only"", ""create_network:provider:network_type"": ""rule:admin_only"", ""create_network:provider:physical_network"": ""rule:admin_only"", ""create_network:provider:segmentation_id"": ""rule:admin_only"", ""update_network"": ""rule:admin_or_owner"", ""update_network:segments"": ""rule:admin_only"", ""update_network:shared"": ""rule:admin_only"", ""update_network:provider:network_type"": ""rule:admin_only"", ""update_network:provider:physical_network"": ""rule:admin_only"", ""update_network:provider:segmentation_id"": ""rule:admin_only"", ""delete_network"": ""rule:admin_or_owner"", ""create_port"": """", ""create_port:mac_address"": ""rule:admin_or_network_owner"", ""create_port:fixed_ips"": ""rule:admin_or_network_owner"", ""create_port:port_security_enabled"": ""rule:admin_or_network_owner"", ""create_port:binding:host_id"": ""rule:admin_only"", ""create_port:binding:profile"": ""rule:admin_only"", ""create_port:binding:vnic_type"": ""rule:admin_or_owner"", ""create_port:mac_learning_enabled"": ""rule:admin_or_network_owner"", ""get_port"": ""rule:admin_or_owner"", ""get_port:queue_id"": ""rule:admin_only"", ""get_port:binding:vif_type"": ""rule:admin_only"", ""get_port:binding:vif_details"": ""rule:admin_only"", ""get_port:binding:host_id"": ""rule:admin_only"", ""get_port:binding:profile"": ""rule:admin_only"", ""get_port:binding:vnic_type"": ""rule:admin_or_owner"", ""update_port"": ""rule:admin_or_owner"", ""update_port:fixed_ips"": ""rule:admin_or_network_owner"", ""update_port:port_security_enabled"": ""rule:admin_or_network_owner"", ""update_port:binding:host_id"": ""rule:admin_only"", ""update_port:binding:profile"": ""rule:admin_only"", ""update_port:binding:vnic_type"": ""rule:admin_or_owner"", ""update_port:mac_learning_enabled"": ""rule:admin_or_network_owner"", ""delete_port"": ""rule:admin_or_owner"", ""create_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""update_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""create_firewall"": """", ""get_firewall"": ""rule:admin_or_owner"", ""create_firewall:shared"": ""rule:admin_only"", ""get_firewall:shared"": ""rule:admin_only"", ""update_firewall"": ""rule:admin_or_owner"", ""delete_firewall"": ""rule:admin_or_owner"", ""create_firewall_policy"": """", ""get_firewall_policy"": ""rule:admin_or_owner or rule:shared_firewalls"", ""create_firewall_policy:shared"": ""rule:admin_or_owner"", ""update_firewall_policy"": ""rule:admin_or_owner"", ""delete_firewall_policy"": ""rule:admin_or_owner"", ""create_firewall_rule"": """", ""get_firewall_rule"": ""rule:admin_or_owner or rule:shared_firewalls"", ""create_firewall_rule:shared"": ""rule:admin_or_owner"", ""get_firewall_rule:shared"": ""rule:admin_or_owner"", ""update_firewall_rule"": ""rule:admin_or_owner"", ""delete_firewall_rule"": ""rule:admin_or_owner"", ""create_qos_queue"": ""rule:admin_only"", ""get_qos_queue"": ""rule:admin_only"", ""update_agent"": ""rule:admin_only"", ""delete_agent"": ""rule:admin_only"", ""get_agent"": ""rule:admin_only"", ""create_dhcp-network"": ""rule:admin_only"", ""delete_dhcp-network"": ""rule:admin_only"", ""get_dhcp-networks"": ""rule:admin_only"", ""create_l3-router"": ""rule:admin_only"", ""delete_l3-router"": ""rule:admin_only"", ""get_l3-routers"": ""rule:admin_only"", ""get_dhcp-agents"": ""rule:admin_only"", ""get_l3-agents"": ""rule:admin_only"", ""get_loadbalancer-agent"": ""rule:admin_only"", ""get_loadbalancer-pools"": ""rule:admin_only"", ""create_router"": ""rule:regular_user"", ""get_router"": ""rule:admin_or_owner"", ""update_router:add_router_interface"": ""rule:admin_or_owner"", ""update_router:remove_router_interface"": ""rule:admin_or_owner"", ""delete_router"": ""rule:admin_or_owner"", ""create_floatingip"": ""rule:regular_user"", ""update_floatingip"": ""rule:admin_or_owner"", ""delete_floatingip"": ""rule:admin_or_owner"", ""get_floatingip"": ""rule:admin_or_owner"", ""create_network_profile"": ""rule:admin_only"", ""update_network_profile"": ""rule:admin_only"", ""delete_network_profile"": ""rule:admin_only"", ""get_network_profiles"": """", ""get_network_profile"": """", ""update_policy_profiles"": ""rule:admin_only"", ""get_policy_profiles"": """", ""get_policy_profile"": """", ""create_metering_label"": ""rule:admin_only"", ""delete_metering_label"": ""rule:admin_only"", ""get_metering_label"": ""rule:admin_only"", ""create_metering_label_rule"": ""rule:admin_only"", ""delete_metering_label_rule"": ""rule:admin_only"", ""get_metering_label_rule"": ""rule:admin_only"", ""get_service_provider"": ""rule:regular_user"", ""get_lsn"": ""rule:admin_only"", ""create_lsn"": ""rule:admin_only"" } ",1,149
openstack%2Fcookbook-openstack-network~master~Id3d9474332917571b692f3bba8fed4ca4ac1745a,openstack/cookbook-openstack-network,master,Id3d9474332917571b692f3bba8fed4ca4ac1745a,Allow control_exchange override,MERGED,2014-04-01 21:06:08.000000000,2014-04-17 18:07:43.000000000,2014-04-17 18:07:42.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2799}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-01 21:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/1a3d35edc3f23303cf267268b071529e3c6ab24a', 'message': 'Allow control_exchange override\n\nWith the quantum to neutron name change, this could be useful in\nsome cases.\n\nChange-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a\nCloses-Bug: 1259038\n'}, {'number': 2, 'created': '2014-04-02 16:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/598da2621b44b5ecaa9ecb1e9195c25be5aad491', 'message': 'Allow control_exchange override\n\nWith the quantum to neutron name change, this could be useful in\nsome cases.\nDepends upon common changes in another patch.\n\nChange-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a\nCloses-Bug: 1259038\n'}, {'number': 3, 'created': '2014-04-02 16:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/af1c96eff11499990c630227f98090911e480b45', 'message': 'Allow control_exchange override\n\nWith the quantum to neutron name change, this could be useful in\nsome cases.\nDepends upon common changes in another patch.\n\nChange-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a\nCloses-Bug: #1259038\n'}, {'number': 4, 'created': '2014-04-02 18:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/66c45a07db4abe34e7d906a12da8d78fbbb463f9', 'message': 'Allow control_exchange override\n\nWith the quantum to neutron name change, this could be useful in\nsome cases.\nThis change is dependent on Common change:\n  https://review.openstack.org/#/c/84757/\n\nChange-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a\nCloses-Bug: #1259038\n'}, {'number': 5, 'created': '2014-04-15 15:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/96c2dc95f850a00f1502edcbdddf9dc7df09277a', 'message': 'Allow control_exchange override\n\nWith the quantum to neutron name change, this could be useful in\nsome cases.\nThis change is dependent on Common change:\n  https://review.openstack.org/#/c/84757/\n\nChange-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a\nCloses-Bug: #1259038\n'}, {'number': 6, 'created': '2014-04-17 15:17:33.000000000', 'files': ['attributes/default.rb', 'spec/server_spec.rb', 'templates/default/neutron.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/34fecbaa805080e7f6eaada97024a7f2d46bad9e', 'message': 'Allow control_exchange override\n\nWith the quantum to neutron name change, this could be useful in\nsome cases.\nThis change is dependent on Common change:\n  https://review.openstack.org/#/c/84757/\n\nChange-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a\nCloses-Bug: #1259038\n'}]",0,84548,34fecbaa805080e7f6eaada97024a7f2d46bad9e,50,6,6,7128,,,0,"Allow control_exchange override

With the quantum to neutron name change, this could be useful in
some cases.
This change is dependent on Common change:
  https://review.openstack.org/#/c/84757/

Change-Id: Id3d9474332917571b692f3bba8fed4ca4ac1745a
Closes-Bug: #1259038
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/48/84548/3 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/server_spec.rb', 'templates/default/neutron.conf.erb']",3,1a3d35edc3f23303cf267268b071529e3c6ab24a,control_exchange,"control_exchange = <%= node[""openstack""][""network""][""control_exchange""] -%>",control_exchange = neutron,8,2
openstack%2Fopenstack-manuals~master~If2aa8cedaf7a3510123328b11406c9cb60e3fccf,openstack/openstack-manuals,master,If2aa8cedaf7a3510123328b11406c9cb60e3fccf,Included new section 'Create and manage host aggregates',MERGED,2014-04-10 02:15:06.000000000,2014-04-17 18:07:35.000000000,2014-04-17 18:07:34.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 2448}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 6843}, {'_account_id': 8103}]","[{'number': 1, 'created': '2014-04-10 02:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1648ee5ba11bfab895e645beb14a58f0e8dbccf2', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 2, 'created': '2014-04-10 04:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6e412e96adb2ae6af1131ab6cb51958cc6c25c57', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 3, 'created': '2014-04-11 00:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/82f9b80cde587257d82cd53f572391d4c6db9e2e', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 4, 'created': '2014-04-11 00:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4f45007f515854f141fcdef87d3cf4c97f557167', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 5, 'created': '2014-04-11 06:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/345caf5783ece3c7fd5113583bdbfe741e5e63cb', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 6, 'created': '2014-04-12 16:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6c1e8eb4c33ac81ed0ad5614402e8ca14ecae7d2', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 7, 'created': '2014-04-16 04:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/932146b5f3b657ace0141cd32a5f25cbf705b0fd', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}, {'number': 8, 'created': '2014-04-16 05:12:58.000000000', 'files': ['doc/user-guide-admin/section_dashboard_admin_manage_host_aggregates.xml', 'doc/user-guide-admin/ch_dashboard.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9da6bf5b4d45f5d3a7b65c84343247e343c4c49b', 'message': ""Included new section 'Create and manage host aggregates'\n\nNew section to the Admin User guide to 'Create and manage host aggregates'\nin the dashboard chapter.\nPartial-Bug: #1304821\n\nChange-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf\n""}]",22,86489,9da6bf5b4d45f5d3a7b65c84343247e343c4c49b,46,8,8,8103,,,0,"Included new section 'Create and manage host aggregates'

New section to the Admin User guide to 'Create and manage host aggregates'
in the dashboard chapter.
Partial-Bug: #1304821

Change-Id: If2aa8cedaf7a3510123328b11406c9cb60e3fccf
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/89/86489/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide-admin/section_dashboard_admin_manage_host_aggregates.xml', 'doc/user-guide-admin/ch_dashboard.xml']",2,1648ee5ba11bfab895e645beb14a58f0e8dbccf2,lp1304821-host-aggregates-AUG," <xi:include href=""section_dashboard_admin_manage_host_aggregates.xml""/> <?hard-pagebreak?>",,142,0
openstack%2Fcookbook-openstack-network~master~I934d20258beac779da5e53147571c0c2b1149563,openstack/cookbook-openstack-network,master,I934d20258beac779da5e53147571c0c2b1149563,ml2 is new icehouse core plugin default,MERGED,2014-03-27 19:09:34.000000000,2014-04-17 18:07:24.000000000,2014-04-17 18:07:24.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2799}, {'_account_id': 6526}, {'_account_id': 6981}, {'_account_id': 7128}, {'_account_id': 8622}, {'_account_id': 9488}, {'_account_id': 9884}, {'_account_id': 9970}, {'_account_id': 10479}]","[{'number': 1, 'created': '2014-03-27 19:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/fcb1130622299b0b246fd2aa73cb09d129143727', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\n\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 2, 'created': '2014-03-27 21:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/e8d1647c3f21ee373bfa913c17e197f6fda9bbb9', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\n\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 3, 'created': '2014-03-28 18:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/c1a083a34c809c0bb209f54e564af3e5b81e337c', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 4, 'created': '2014-03-28 18:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/d66593e75dcd4aaba3e9cfc18956dadd408fe535', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 5, 'created': '2014-03-31 22:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/d2aa1bf7a1457c4a4a85ce5d9f3676244a72ae64', 'message': ""ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nUpdate interface_driver for ml2, it's will default to openvswitch\ninterface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n""}, {'number': 6, 'created': '2014-03-31 22:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/b09829b3cdbac38711566f52a7821a78c15afc9b', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 7, 'created': '2014-03-31 22:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/208c07a1d198f5886991d503ebfffccd85509a77', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 8, 'created': '2014-04-04 17:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/0d35f6901281625071de7f7e4c70cb7a68a5ab70', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 9, 'created': '2014-04-12 02:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/a702f21fbd95fe8ff68896014d49482d776fe970', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 10, 'created': '2014-04-12 15:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/dbe059c02c03e389dcebaf806010e4d99294ef9a', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 11, 'created': '2014-04-17 15:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/77fe6b79198a89679dc159d86d659866d10a276b', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}, {'number': 12, 'created': '2014-04-17 15:49:21.000000000', 'files': ['spec/common_spec.rb', 'recipes/dhcp_agent.rb', 'spec/openvswitch-redhat_spec.rb', 'spec/hyperv_spec.rb', 'templates/default/plugins/openvswitch/ovs_neutron_plugin.ini.erb', 'spec/server-suse_spec.rb', 'recipes/openvswitch.rb', 'spec/server_spec.rb', 'recipes/server.rb', 'spec/linuxbridge-redhat_spec.rb', 'spec/openvswitch_spec.rb', 'templates/default/plugins/linuxbridge/linuxbridge_conf.ini.erb', 'templates/default/plugins/ml2/ml2_conf.ini.erb', 'attributes/default.rb', 'spec/linuxbridge_spec.rb', 'spec/dhcp_agent_spec.rb', 'recipes/l3_agent.rb', 'spec/linuxbridge-suse_spec.rb', 'recipes/common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/3c70fb222490684d77b25cbba17dde9c2a32d730', 'message': 'ml2 is new icehouse core plugin default\n\nUpdate core plugin default to ml2.\nReplace plugin_conf_map with core_plugin_map since basing it upon\ninterface driver does not work for ml2.\nCleanup interface_driver settings for ml2, it should default to\nopenvswitch interface.\nUpdate tests.\n\nImplements: blueprint neutron-icehouse-default-changes\nChange-Id: I934d20258beac779da5e53147571c0c2b1149563\n'}]",6,83536,3c70fb222490684d77b25cbba17dde9c2a32d730,74,11,12,7128,,,0,"ml2 is new icehouse core plugin default

Update core plugin default to ml2.
Replace plugin_conf_map with core_plugin_map since basing it upon
interface driver does not work for ml2.
Cleanup interface_driver settings for ml2, it should default to
openvswitch interface.
Update tests.

Implements: blueprint neutron-icehouse-default-changes
Change-Id: I934d20258beac779da5e53147571c0c2b1149563
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/36/83536/6 && git format-patch -1 --stdout FETCH_HEAD,"['spec/common_spec.rb', 'attributes/default.rb']",2,fcb1130622299b0b246fd2aa73cb09d129143727,bp/neutron-icehouse-default-changes,default['openstack']['network']['core_plugin'] = 'neutron.plugins.ml2.plugin.Ml2Plugin'default['openstack']['network']['interface_driver'] = 'neutron.agent.linux.interface.ml2interfacedriver',default['openstack']['network']['core_plugin'] = 'neutron.plugins.openvswitch.ovs_neutron_plugin.OVSNeutronPluginV2'default['openstack']['network']['interface_driver'] = 'neutron.agent.linux.interface.OVSInterfaceDriver',23,2
openstack%2Foslo-incubator~master~If064e274b2e2a4ff40fba97d85032b5992267e4d,openstack/oslo-incubator,master,If064e274b2e2a4ff40fba97d85032b5992267e4d,Add a remote_address field to Context,ABANDONED,2014-03-31 21:48:24.000000000,2014-04-17 18:03:07.000000000,,"[{'_account_id': 3}, {'_account_id': 10380}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-03-31 21:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e787f3a410b7670892c3633628225cc752dca399', 'message': 'Add a remote_address field to Context\n\nAdd a remote_address field to the Context class. This can be used to\ntrack the source address of a request. In practice, this should\ngenerally be the remote address that a request came from, or in\nsituations where it can be trusted, an X-Forwarded-For or similar\nheader.\n\nChange-Id: If064e274b2e2a4ff40fba97d85032b5992267e4d\n'}, {'number': 2, 'created': '2014-03-31 21:49:08.000000000', 'files': ['openstack/common/context.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fc4f029cc9a8580095c816cb6923fbe1f51c0fa7', 'message': 'Add a remote_address field to Context\n\nAdd a remote_address field to the Context class. This can be used to\ntrack the source address of a request. In practice, this should\ngenerally be the remote address that a request came from, or in\nsituations where it can be trusted, an X-Forwarded-For or similar\nheader.\n\nChange-Id: If064e274b2e2a4ff40fba97d85032b5992267e4d\n'}]",0,84262,fc4f029cc9a8580095c816cb6923fbe1f51c0fa7,9,3,2,10626,,,0,"Add a remote_address field to Context

Add a remote_address field to the Context class. This can be used to
track the source address of a request. In practice, this should
generally be the remote address that a request came from, or in
situations where it can be trusted, an X-Forwarded-For or similar
header.

Change-Id: If064e274b2e2a4ff40fba97d85032b5992267e4d
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/62/84262/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/context.py'],1,e787f3a410b7670892c3633628225cc752dca399,remote_host_on_context," instance_uuid=None, remote_host=None): self.remote_host = remote_host 'remote_host': self.remote_host,", instance_uuid=None):,3,1
openstack%2Fironic-python-agent~master~I0f7ad6d00c6f47836dcd71b05907076701bb2789,openstack/ironic-python-agent,master,I0f7ad6d00c6f47836dcd71b05907076701bb2789,Use docker import/export to make image smaller,MERGED,2014-04-16 00:19:07.000000000,2014-04-17 17:56:40.000000000,2014-04-17 17:56:40.000000000,"[{'_account_id': 3}, {'_account_id': 8003}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10380}]","[{'number': 1, 'created': '2014-04-16 00:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/96e937c7ce522e2fdebe44796591676fa67a5c79', 'message': 'Use docker import/export to make image smaller\n\nUsing docker export gives us only the top filesystem layer and not all\nthe layers used to build. Resulting image is about 20% smaller. Further\noptimizations will be made in future commits via removing build time\ndeps and temporary files in the Dockerfile.\n\nChange-Id: I0f7ad6d00c6f47836dcd71b05907076701bb2789\n'}, {'number': 2, 'created': '2014-04-16 00:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/99dba22eaa3961234abde1294e55026fd2cc9d4d', 'message': 'Use docker import/export to make image smaller\n\nUsing docker export gives us only the top filesystem layer and not all\nthe layers used to build. Resulting image is about 20% smaller. Further\noptimizations will be made in future commits via removing build time\ndeps and temporary files in the Dockerfile.\n\nChange-Id: I0f7ad6d00c6f47836dcd71b05907076701bb2789\n'}, {'number': 3, 'created': '2014-04-17 17:07:24.000000000', 'files': ['imagebuild/coreos/oem/run.sh', 'imagebuild/coreos/Makefile', 'imagebuild/coreos/docker_build.bash', 'imagebuild/coreos/coreos-oem-inject.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5af1fe64fd74cdc5d71ba217c9f56b95568a6f36', 'message': 'Use docker import/export to make image smaller\n\nUsing docker export gives us only the top filesystem layer and not all\nthe layers used to build. Resulting image is about 20% smaller. Further\noptimizations will be made in future commits via removing build time\ndeps and temporary files in the Dockerfile.\n\nChange-Id: I0f7ad6d00c6f47836dcd71b05907076701bb2789\n(cherry picked from commit 99dba22eaa3961234abde1294e55026fd2cc9d4d)\n'}]",0,87819,5af1fe64fd74cdc5d71ba217c9f56b95568a6f36,18,5,3,10342,,,0,"Use docker import/export to make image smaller

Using docker export gives us only the top filesystem layer and not all
the layers used to build. Resulting image is about 20% smaller. Further
optimizations will be made in future commits via removing build time
deps and temporary files in the Dockerfile.

Change-Id: I0f7ad6d00c6f47836dcd71b05907076701bb2789
(cherry picked from commit 99dba22eaa3961234abde1294e55026fd2cc9d4d)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/19/87819/2 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/coreos/oem/run.sh', 'imagebuild/coreos/Makefile', 'imagebuild/coreos/docker_build.bash', 'imagebuild/coreos/coreos-oem-inject.py']",4,96e937c7ce522e2fdebe44796591676fa67a5c79,smaller-image,"COREOS_VERSION=""197.0.0""","COREOS_VERSION=""dev-channel""",8,4
openstack%2Fironic~master~I387ed02c50532527c41d12964c212b0cd9201fad,openstack/ironic,master,I387ed02c50532527c41d12964c212b0cd9201fad,Update ironic.conf.sample,MERGED,2014-04-17 16:06:31.000000000,2014-04-17 17:55:52.000000000,2014-04-17 17:55:52.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}]","[{'number': 1, 'created': '2014-04-17 16:06:31.000000000', 'files': ['etc/ironic/ironic.conf.sample'], 'web_link': 'https://opendev.org/openstack/ironic/commit/14c61d69a20c9afaee8e534f0143874f751d1783', 'message': 'Update ironic.conf.sample\n\nUpdate ironic.conf.sample due to changes in keystoneclient\n\nChange-Id: I387ed02c50532527c41d12964c212b0cd9201fad\n'}]",0,88353,14c61d69a20c9afaee8e534f0143874f751d1783,8,3,1,2889,,,0,"Update ironic.conf.sample

Update ironic.conf.sample due to changes in keystoneclient

Change-Id: I387ed02c50532527c41d12964c212b0cd9201fad
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/88353/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/ironic.conf.sample'],1,14c61d69a20c9afaee8e534f0143874f751d1783,update-conf,"# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value)# Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value)# Port of the admin Identity API endpoint. Deprecated, use # identity_uri. (integer value)# Protocol of the admin Identity API endpoint (http or https). # Deprecated, use identity_uri. (string value)# Complete admin Identity API endpoint. This should specify # the unversioned root endpoint eg. https://localhost:35357/ # (string value) #identity_uri=<None> ",# Prefix to prepend at the beginning of the path (string # value)# Host providing the admin Identity API endpoint (string # value)# Port of the admin Identity API endpoint (integer value)# Protocol of the admin Identity API endpoint(http or https) # (string value),13,7
openstack%2Fapi-site~master~I09c4ca34aba14c263900c6ba820c4f36d0735824,openstack/api-site,master,I09c4ca34aba14c263900c6ba820c4f36d0735824,Add the networks multi provider extension,MERGED,2014-04-16 02:22:15.000000000,2014-04-17 17:46:48.000000000,2014-04-17 17:46:48.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 964}, {'_account_id': 2448}, {'_account_id': 4395}]","[{'number': 1, 'created': '2014-04-16 02:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/7762d4691e695cbdce3489b2f774db65e2db82fd', 'message': 'Add the networks multi provider extension\n\nPartial-Bug: #1226279\n\nChange-Id: I09c4ca34aba14c263900c6ba820c4f36d0735824\nauthor: diane fleming\n'}, {'number': 2, 'created': '2014-04-16 13:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/c0f7ea93098ce072782c095d7e0746baddab9062', 'message': 'Add the networks multi provider extension\n\nPartial-Bug: #1226279\n\nChange-Id: I09c4ca34aba14c263900c6ba820c4f36d0735824\nauthor: diane fleming\n'}, {'number': 3, 'created': '2014-04-16 17:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/d0c8089c4dc26d15f3a72a4699bf70c4d8223ee3', 'message': 'Add the networks multi provider extension\n\nPartial-Bug: #1226279\n\nChange-Id: I09c4ca34aba14c263900c6ba820c4f36d0735824\nauthor: diane fleming\n'}, {'number': 4, 'created': '2014-04-17 00:45:31.000000000', 'files': ['api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-get-detail-resp.json', 'api-ref/src/wadls/netconn-api/src/os-networks-provider-ext.wadl', 'api-ref/src/wadls/netconn-api/src/api_samples/network-multi-post-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-post-resp.json', 'api-ref/src/wadls/netconn-api/src/common.ent', 'api-ref/src/wadls/netconn-api/src/os-networks-multi-provider-ext.wadl', 'api-ref/src/docbkx/ch_netconn-ext-v2.xml', 'api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-list-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-multi-post-req.json'], 'web_link': 'https://opendev.org/openstack/api-site/commit/f74a6dea96e108544bb79b6286744a5a36a7ecc3', 'message': 'Add the networks multi provider extension\n\nPartial-Bug: #1226279\n\nChange-Id: I09c4ca34aba14c263900c6ba820c4f36d0735824\nauthor: diane fleming\n'}]",0,87827,f74a6dea96e108544bb79b6286744a5a36a7ecc3,16,5,4,2448,,,0,"Add the networks multi provider extension

Partial-Bug: #1226279

Change-Id: I09c4ca34aba14c263900c6ba820c4f36d0735824
author: diane fleming
",git fetch https://review.opendev.org/openstack/api-site refs/changes/27/87827/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-get-detail-resp.json', 'api-ref/src/wadls/netconn-api/src/os-networks-provider-ext.wadl', 'api-ref/src/wadls/netconn-api/src/api_samples/network-multi-post-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-post-resp.json', 'api-ref/src/wadls/netconn-api/src/common.ent', 'api-ref/src/wadls/netconn-api/src/os-networks-multi-provider-ext.wadl', 'api-ref/src/docbkx/ch_netconn-ext-v2.xml', 'api-ref/src/wadls/netconn-api/src/api_samples/network-multi-post-req.json']",8,7762d4691e695cbdce3489b2f774db65e2db82fd,1226279,"{ ""network"":{ ""segments"":[ { ""provider:segmentation_id"":""2"", ""provider:physical_network"":""8bab8453-1bc9-45af-8c70-f83aa9b50453"", ""provider:network_type"":""vlan"" }, { ""provider:physical_network"":""8bab8453-1bc9-45af-8c70-f83aa9b50453"", ""provider:network_type"":""stt"" } ], ""name"":""net1"", ""admin_state_up"":true } }",,329,20
openstack%2Fapi-site~master~Ied41119f18b9a42b57bed945aa47df216d6ce4be,openstack/api-site,master,Ied41119f18b9a42b57bed945aa47df216d6ce4be,Add X-Newest header to Show container details and list objects call,MERGED,2014-04-17 01:42:09.000000000,2014-04-17 17:41:11.000000000,2014-04-17 17:41:10.000000000,"[{'_account_id': 3}, {'_account_id': 860}, {'_account_id': 2448}, {'_account_id': 6547}, {'_account_id': 9695}]","[{'number': 1, 'created': '2014-04-17 01:42:09.000000000', 'files': ['api-ref/src/wadls/object-api/src/os-object-api-1.0.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/46f8d2d1b8e167bb58c68f12b63a196d29e544aa', 'message': 'Add X-Newest header to Show container details and list objects call\n\nPartial-Bug: #1303907\n\nChange-Id: Ied41119f18b9a42b57bed945aa47df216d6ce4be\nauthor: diane fleming\n'}]",0,88117,46f8d2d1b8e167bb58c68f12b63a196d29e544aa,9,5,1,2448,,,0,"Add X-Newest header to Show container details and list objects call

Partial-Bug: #1303907

Change-Id: Ied41119f18b9a42b57bed945aa47df216d6ce4be
author: diane fleming
",git fetch https://review.opendev.org/openstack/api-site refs/changes/17/88117/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/object-api/src/os-object-api-1.0.wadl'],1,46f8d2d1b8e167bb58c68f12b63a196d29e544aa,1303907, &auth-token-requestHeader-required; &newest-requestHeader; &accept-requestHeader; </request>, &auth-token-requestHeader-required; &accept-requestHeader; </request>,2,1
openstack%2Fmurano~master~I4c1886a0907f95cf9461b2d1c126229195e0cc71,openstack/murano,master,I4c1886a0907f95cf9461b2d1c126229195e0cc71,Default MuranoPL function argument value was evaluated incorrectly,MERGED,2014-04-16 15:24:32.000000000,2014-04-17 17:27:46.000000000,2014-04-17 17:27:46.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 8127}]","[{'number': 1, 'created': '2014-04-16 15:24:32.000000000', 'files': ['muranoapi/dsl/executor.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/eff8b1450b1d6a87b255765c8f51f0f5106e2f2a', 'message': 'Default MuranoPL function argument value was evaluated incorrectly\n\nChange-Id: I4c1886a0907f95cf9461b2d1c126229195e0cc71\nCloses-bug: #1308620\n'}]",0,87997,eff8b1450b1d6a87b255765c8f51f0f5106e2f2a,11,5,1,7226,,,0,"Default MuranoPL function argument value was evaluated incorrectly

Change-Id: I4c1886a0907f95cf9461b2d1c126229195e0cc71
Closes-bug: #1308620
",git fetch https://review.opendev.org/openstack/murano refs/changes/97/87997/1 && git format-patch -1 --stdout FETCH_HEAD,['muranoapi/dsl/executor.py'],1,eff8b1450b1d6a87b255765c8f51f0f5106e2f2a,bp/1308620," parameter_context = self._create_context( this, this.type, context) helpers.evaluate(arg_spec.default, parameter_context),"," helpers.evaluate(arg_spec.default, context),",3,1
openstack%2Fmistral-extra~master~I0b137d5877606e9fe59d6d1d08f3ac4886978a47,openstack/mistral-extra,master,I0b137d5877606e9fe59d6d1d08f3ac4886978a47,Fix run_vm_job according to new namespaces style,MERGED,2014-04-17 14:30:16.000000000,2014-04-17 17:23:17.000000000,2014-04-17 17:23:17.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-04-17 14:30:16.000000000', 'files': ['examples/vm_job/run_vm_job.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/408ead4ba911db25e39ec9c0f044b2a6cceb7046', 'message': 'Fix run_vm_job according to new namespaces style\n\n * Also fixed some task arguments\n\nChange-Id: I0b137d5877606e9fe59d6d1d08f3ac4886978a47\n'}]",0,88319,408ead4ba911db25e39ec9c0f044b2a6cceb7046,7,3,1,7700,,,0,"Fix run_vm_job according to new namespaces style

 * Also fixed some task arguments

Change-Id: I0b137d5877606e9fe59d6d1d08f3ac4886978a47
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/19/88319/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/vm_job/run_vm_job.yaml'],1,408ead4ba911db25e39ec9c0f044b2a6cceb7046,fix_vm_job,"Namespaces: Nova: # Nova actions for creating VM, retrieving IP and VM deleting. class: std.http actions: createVM: base-parameters: url: '{$.novaUrl}/{$.project_id}/servers' method: POST headers: X-Auth-Token: $.auth_token Content-Type: application/json body: server: name: $.server_name imageRef: $.image_id flavorRef: $.flavor_id output: vm_id: $.content.server.id getIP: base-parameters: url: '{$.novaUrl}/{$.project_id}/servers/{$.vm_id}' method: GET headers: X-Auth-Token: $.auth_token output: vm_ip: ""$.content.server.addresses.novanetwork.where($.'OS-EXT-IPS:type' = 'floating')[0].addr"" deleteVM: base-parameters: url: '{$.novaUrl}/{$.project_id}/servers/{$.vm_id}' method: DELETE headers: X-Auth-Token: $.auth_token Server: actions: # HTTP request to the server. calcSumm: class: std.http base-parameters: url: 'http://{$.vm_ip}:5000/summ' method: POST body: arguments: $.arguments output: summ_result: $.content.result Ssh: class: std.ssh base-parameters: host: $.vm_ip username: $.username password: $.password actions: # Simple SSH command. waitSSH: base-parameters: cmd: 'ls -l' # SSH command to run the server. runServer: base-parameters: cmd: 'nohup python ~/web_app.py > web_app.log &' - 23 vm_ip: $.vm_ip"," - 27 Namespaces: Nova: # Nova actions for creating VM, retrieving IP and VM deleting. actions: createVM: class: std.http base-parameters: url: '{$.novaUrl}/{$.project_id}/servers' method: POST headers: X-Auth-Token: $.auth_token Content-Type: application/json body: server: name: $.server_name imageRef: $.image_id flavorRef: $.flavor_id output: vm_id: $.content.server.id parameters: - novaUrl - project_id - auth_token - server_name - image_id - flavor_id getIP: class: std.http base-parameters: url: '{$.novaUrl}/{$.project_id}/servers/{$.vm_id}' method: GET headers: X-Auth-Token: $.auth_token output: vm_ip: ""$.content.server.addresses.novanetwork.where($.'OS-EXT-IPS:type' = 'floating')[0].addr"" parameters: - vm_id - auth_token - novaUrl - project_id deleteVM: class: std.http base-parameters: url: '{$.novaUrl}/{$.project_id}/servers/{$.vm_id}' method: DELETE headers: X-Auth-Token: $.auth_token parameters: - auth_token - vm_id - novaUrl - project_id Server: actions: # HTTP request to the server. calcSumm: class: std.http base-parameters: url: 'http://{$.vm_ip}:5000/summ' method: POST body: arguments: $.arguments output: summ_result: $.content.result parameters: - arguments Ssh: actions: # Simple SSH command. waitSSH: class: std.ssh base-parameters: host: $.vm_ip cmd: 'ls -l' username: $.username password: $.password parameters: - vm_ip - username - password # SSH command to run the server. runServer: class: std.ssh base-parameters: host: $.vm_ip cmd: 'nohup python ~/web_app.py > web_app.log &' username: $.username password: $.password parameters: - vm_ip - username - password",69,99
openstack%2Fheat~master~I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4,openstack/heat,master,I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4,Make template validation uniform,MERGED,2014-04-10 15:06:39.000000000,2014-04-17 17:20:47.000000000,2014-04-17 17:20:46.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 6577}, {'_account_id': 7135}, {'_account_id': 7193}, {'_account_id': 7761}]","[{'number': 2, 'created': '2014-04-10 15:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/17299aef8beb506471c244538d2c949926e4b312', 'message': 'Make template validation uniform\n\nThere were two different behaviours during template validation and creation\nstack (with template validation). In first case error was raised if\ntemplate did not have any resources. However user could create stack\nwithout error using this such kind of template.\nThis patch make behaviour equal for bath variant and gives ability to\ncreate and successfully validate stack with template which does not have\nresources.\n\nChange-Id: I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4\nCloses-Bug: #1278090\n'}, {'number': 1, 'created': '2014-04-10 15:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/65137f424ca55e1f94a1d397f3d078c186fae08c', 'message': 'Make template validation uniform\n\nThere were two different behaviours during template validation and creation\nstack (with template validation). In first case error was raised if\ntemplate did not have any resources. However user could create stack\nwithout error using this such kind of template.\nThis patch make behaviour equal for bath variant and gives ability to\ncreate and successfully validate stack with template which does not have\nresources.\n\nChange-Id: I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4\nCloses-Bug: #1278090\n'}, {'number': 3, 'created': '2014-04-15 06:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/154801fef9918adf046e3aa56485815f89669e26', 'message': 'Make template validation uniform\n\nThere were two different behaviours during template validation and creation\nstack (with template validation). In first case error was raised if\ntemplate did not have any resources. However user could create stack\nwithout error using this such kind of template.\nThis patch make behaviour equal for bath variant and gives ability to\ncreate and successfully validate stack with template which does not have\nresources.\n\nChange-Id: I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4\nCloses-Bug: #1278090\n'}, {'number': 4, 'created': '2014-04-17 08:40:43.000000000', 'files': ['heat/tests/test_validate.py', 'doc/source/template_guide/hot_spec.rst', 'heat/engine/template.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d102b1ee1c10d2a202fbdc7d18a2e931d8d09527', 'message': 'Make template validation uniform\n\nThere were two different behaviours during template validation and creation\nstack (with template validation). In first case error was raised if\ntemplate did not have any resources. However user could create stack\nwithout error using this such kind of template.\nThis patch make behaviour equal for both variant and gives ability to\ncreate and successfully validate stack with template which does not have\nresources.\n\nChange-Id: I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4\nCloses-Bug: #1278090\n'}]",4,86623,d102b1ee1c10d2a202fbdc7d18a2e931d8d09527,30,6,4,6577,,,0,"Make template validation uniform

There were two different behaviours during template validation and creation
stack (with template validation). In first case error was raised if
template did not have any resources. However user could create stack
without error using this such kind of template.
This patch make behaviour equal for both variant and gives ability to
create and successfully validate stack with template which does not have
resources.

Change-Id: I4dc30ccdc45e0fa7ff678b434106e056dba5f3b4
Closes-Bug: #1278090
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/86623/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_validate.py', 'heat/engine/template.py', 'heat/engine/service.py']",3,17299aef8beb506471c244538d2c949926e4b312,empty_templates_allowed, tmpl.validate(), tmpl.validate(allow_empty=False),4,11
openstack%2Fheat~master~I58bf53373e0a9231d198d8fb62e76b1373587b87,openstack/heat,master,I58bf53373e0a9231d198d8fb62e76b1373587b87,Allow filtering of stacks by action,MERGED,2014-04-08 17:30:05.000000000,2014-04-17 17:20:43.000000000,2014-04-17 17:20:42.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4328}, {'_account_id': 7135}, {'_account_id': 7253}, {'_account_id': 7256}, {'_account_id': 9059}, {'_account_id': 9062}, {'_account_id': 9189}]","[{'number': 1, 'created': '2014-04-08 17:30:05.000000000', 'files': ['heat/tests/test_api_openstack_v1.py', 'heat/api/openstack/v1/stacks.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cac55b5e8fc35fd2e577baec58e2e06778da7214', 'message': 'Allow filtering of stacks by action\n\nCurrently users can already filter by status.  Since status and action\nare so closely tied, it is valuable to be able to filter by action as\nwell.  As a result, users can filter stacks in a more meaningful way.\nFor example, /stacks?action=CREATE&status=IN_PROGRESS\n\nImplements: blueprint filter-by-action\nChange-Id: I58bf53373e0a9231d198d8fb62e76b1373587b87\n'}]",0,86102,cac55b5e8fc35fd2e577baec58e2e06778da7214,12,9,1,9062,,,0,"Allow filtering of stacks by action

Currently users can already filter by status.  Since status and action
are so closely tied, it is valuable to be able to filter by action as
well.  As a result, users can filter stacks in a more meaningful way.
For example, /stacks?action=CREATE&status=IN_PROGRESS

Implements: blueprint filter-by-action
Change-Id: I58bf53373e0a9231d198d8fb62e76b1373587b87
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/86102/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_api_openstack_v1.py', 'heat/api/openstack/v1/stacks.py']",2,cac55b5e8fc35fd2e577baec58e2e06778da7214,filter_by_action," 'action': 'mixed',",,4,1
openstack%2Fpython-cinderclient~master~If5f84003f868ef02bb7eb7da67cf62018602e8f0,openstack/python-cinderclient,master,If5f84003f868ef02bb7eb7da67cf62018602e8f0,Add auth_plugin support to cinderclient,MERGED,2014-02-14 20:04:50.000000000,2014-04-17 17:20:40.000000000,2014-04-17 17:20:40.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 4159}, {'_account_id': 5538}]","[{'number': 1, 'created': '2014-02-14 20:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e43b0df0e8884140896ba7dd27d8aa4864e2dbbc', 'message': ""Add auth_plugin support to cinderclient.\n\nWith CINDER_RAX_AUTH being rightfully removed, cinderclient is no longer\ncompatible with Rackspace/any non-keystone auth. To fix this, I stole\nauth_system/auth_plugin from novaclient's implementation.\n\nSee https://review.openstack.org/#/c/23820/.\n\nChange-Id: If5f84003f868ef02bb7eb7da67cf62018602e8f0\nCloses-Bug: 1280393\n""}, {'number': 2, 'created': '2014-02-14 21:09:53.000000000', 'files': ['cinderclient/tests/test_auth_plugins.py', 'cinderclient/client.py', 'cinderclient/auth_plugin.py', 'cinderclient/exceptions.py', 'cinderclient/shell.py', 'cinderclient/v1/client.py', 'tools/install_venv_common.py', 'cinderclient/v2/client.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d5334aa929beb4190ae04fddc98e693df142b9bd', 'message': ""Add auth_plugin support to cinderclient\n\nWith CINDER_RAX_AUTH being rightfully removed, cinderclient is no longer\ncompatible with Rackspace/any non-keystone auth. To fix this, I stole\nauth_system/auth_plugin from novaclient's implementation.\n\nSee https://review.openstack.org/#/c/23820/.\n\nChange-Id: If5f84003f868ef02bb7eb7da67cf62018602e8f0\nCloses-Bug: 1280393\n""}]",2,73703,d5334aa929beb4190ae04fddc98e693df142b9bd,23,5,2,4159,,,0,"Add auth_plugin support to cinderclient

With CINDER_RAX_AUTH being rightfully removed, cinderclient is no longer
compatible with Rackspace/any non-keystone auth. To fix this, I stole
auth_system/auth_plugin from novaclient's implementation.

See https://review.openstack.org/#/c/23820/.

Change-Id: If5f84003f868ef02bb7eb7da67cf62018602e8f0
Closes-Bug: 1280393
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/03/73703/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/test_auth_plugins.py', 'cinderclient/client.py', 'cinderclient/auth_plugin.py', 'cinderclient/exceptions.py', 'cinderclient/shell.py', 'cinderclient/v1/client.py', 'tools/install_venv_common.py', 'cinderclient/v2/client.py', 'cinderclient/utils.py']",9,e43b0df0e8884140896ba7dd27d8aa4864e2dbbc,bug/1280393,"import pkg_resources def _load_entry_point(ep_name, name=None): """"""Try to load the entry point ep_name that matches name."""""" for ep in pkg_resources.iter_entry_points(ep_name, name=name): try: return ep.load() except (ImportError, pkg_resources.UnknownExtra, AttributeError): continue ",,583,21
openstack%2Fmagnetodb~master~I5014b3f405c13f642e3d4b21f208570b30a56e90,openstack/magnetodb,master,I5014b3f405c13f642e3d4b21f208570b30a56e90,PoC: Proper RESTful interface for big data import,ABANDONED,2014-04-14 15:58:16.000000000,2014-04-17 17:13:28.000000000,,"[{'_account_id': 3}, {'_account_id': 8491}]","[{'number': 1, 'created': '2014-04-14 15:58:16.000000000', 'files': ['bin/magnetodb-async-api-server', 'poc/__init__.py', 'poc/bulk_load/bulk_load_client.py', 'poc/bulk_load/bulk_load_server.py', 'tox.ini', 'poc/bulk_load/__init__.py', 'etc/api-paste-async.ini', 'etc/magnetodb-async-api-server.conf'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/e0c8a119031b255c2d562dc39357dc6286d35c9f', 'message': 'PoC: Proper RESTful interface for big data import\n\nTo current PoC were added:\n - new async server, that uses gevent.pywsgi (instead of gevent.wsgi)\n - api-paste-async.ini and magnetodb-async-api-server.conf\n - url parsing, getting tenant_name and table_name from it\n   (URL: /v1/{tenant_name}/data/tables/{table_name}/bulk_load)\n - improve factory_method for bulk load application:\n   - getting cassandra endpoint from config\n   - getting oslo config arguments\n   - setup logging\n\nPartially implements: blueprint bulk-data-load-rest\n\nChange-Id: I5014b3f405c13f642e3d4b21f208570b30a56e90\n'}]",0,87304,e0c8a119031b255c2d562dc39357dc6286d35c9f,6,2,1,8408,,,0,"PoC: Proper RESTful interface for big data import

To current PoC were added:
 - new async server, that uses gevent.pywsgi (instead of gevent.wsgi)
 - api-paste-async.ini and magnetodb-async-api-server.conf
 - url parsing, getting tenant_name and table_name from it
   (URL: /v1/{tenant_name}/data/tables/{table_name}/bulk_load)
 - improve factory_method for bulk load application:
   - getting cassandra endpoint from config
   - getting oslo config arguments
   - setup logging

Partially implements: blueprint bulk-data-load-rest

Change-Id: I5014b3f405c13f642e3d4b21f208570b30a56e90
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/04/87304/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/magnetodb-async-api-server', 'poc/__init__.py', 'poc/bulk_load/bulk_load_client.py', 'poc/bulk_load/bulk_load_server.py', 'tox.ini', 'poc/bulk_load/__init__.py', 'etc/api-paste-async.ini', 'etc/magnetodb-async-api-server.conf']",8,e0c8a119031b255c2d562dc39357dc6286d35c9f,bp/bulk-data-load-rest,[DEFAULT] bind_host=0.0.0.0 bind_port=9999 api_paste_config=api-paste-async.ini,,452,146
openstack%2Ffuel-web~master~I82f9591b1b9d7d3b568b800c6d694f2012e02243,openstack/fuel-web,master,I82f9591b1b9d7d3b568b800c6d694f2012e02243,Setting dependencies on networking parameters,MERGED,2014-04-17 11:08:03.000000000,2014-04-17 17:10:43.000000000,2014-04-17 17:10:43.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}]","[{'number': 1, 'created': '2014-04-17 11:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a9bf44a55d7ad5f5e2cf0064d3ffcc5efc163e18', 'message': 'Setting dependencies on networking parameters\n\nChange-Id: I82f9591b1b9d7d3b568b800c6d694f2012e02243\n'}, {'number': 2, 'created': '2014-04-17 15:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f3ea6cfee1fd99023356c48ee09e2ec0250f154b', 'message': 'Setting dependencies on networking parameters\n\nChange-Id: I82f9591b1b9d7d3b568b800c6d694f2012e02243\n'}, {'number': 3, 'created': '2014-04-17 15:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/aeabe352b499aa0ef925838dff8f9a1d972c1d2a', 'message': 'Setting dependencies on networking parameters\n\nChange-Id: I82f9591b1b9d7d3b568b800c6d694f2012e02243\n'}, {'number': 4, 'created': '2014-04-17 16:00:11.000000000', 'files': ['nailgun/static/js/views/cluster_page_tabs/settings_tab.js', 'nailgun/static/js/views/cluster_page_tabs/network_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/247fdc3115ee21cf33a624b479a1c9564eeff0f4', 'message': 'Setting dependencies on networking parameters\n\nChange-Id: I82f9591b1b9d7d3b568b800c6d694f2012e02243\n'}]",3,88235,247fdc3115ee21cf33a624b479a1c9564eeff0f4,24,7,4,8766,,,0,"Setting dependencies on networking parameters

Change-Id: I82f9591b1b9d7d3b568b800c6d694f2012e02243
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/35/88235/2 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/views/cluster_page_tabs/settings_tab.js'],1,a9bf44a55d7ad5f5e2cf0064d3ffcc5efc163e18,net-deps," var networkDeferred = $.Deferred().resolve(); if (!this.model.get('networkConfiguration')) { this.model.set({networkConfiguration: new models.NetworkConfiguration()}); networkDeferred = this.model.get('networkConfiguration').fetch({url: _.result(this.model, 'url') + '/network_configuration/' + this.model.get('net_provider')}); } (this.loading = $.when(this.settings.fetch({cache: true}), networkDeferred)).done(_.bind(function() { this.configModels = { cluster: this.model, settings: this.settings, networking_parameters: this.model.get('networkConfiguration').get('networking_parameters'), default: this.settings };"," this.configModels = {settings: this.settings, cluster: this.model, default: this.settings}; (this.loading = this.settings.fetch({cache: true})).done(_.bind(function() {",12,2
openstack%2Ffuel-library~master~I1c279e6d687a08c5500f599cdc6530f335ffceef,openstack/fuel-library,master,I1c279e6d687a08c5500f599cdc6530f335ffceef,Fix keystone module name for auth_token,MERGED,2014-04-17 15:47:35.000000000,2014-04-17 17:04:15.000000000,2014-04-17 17:04:15.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}]","[{'number': 1, 'created': '2014-04-17 15:47:35.000000000', 'files': ['deployment/puppet/keystone/templates/client/authtoken.conf.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0b60ef6d9ceb0c048c0a8e8575f9a4536d9ddaea', 'message': 'Fix keystone module name for auth_token\n\nChange-Id: I1c279e6d687a08c5500f599cdc6530f335ffceef\nCloses-Bug: #1305822\n'}]",0,88344,0b60ef6d9ceb0c048c0a8e8575f9a4536d9ddaea,10,5,1,8786,,,0,"Fix keystone module name for auth_token

Change-Id: I1c279e6d687a08c5500f599cdc6530f335ffceef
Closes-Bug: #1305822
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/44/88344/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/keystone/templates/client/authtoken.conf.erb'],1,0b60ef6d9ceb0c048c0a8e8575f9a4536d9ddaea,bug1305822,paste.filter_factory = keystoneclient.middleware.auth_token:filter_factory,paste.filter_factory = keystone.middleware.auth_token:filter_factory,1,1
openstack%2Fironic~master~I07fd95417a2a48368fbce8db1a67b9bd5cdcbc5d,openstack/ironic,master,I07fd95417a2a48368fbce8db1a67b9bd5cdcbc5d,Update ironic.conf.sample after oslo changes,ABANDONED,2014-04-17 16:05:36.000000000,2014-04-17 17:03:03.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-17 16:05:36.000000000', 'files': ['etc/ironic/ironic.conf.sample'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5baecb1ed2c773830565f0e54137f83d7fa6c21b', 'message': 'Update ironic.conf.sample after oslo changes\n\nChange-Id: I07fd95417a2a48368fbce8db1a67b9bd5cdcbc5d\n'}]",0,88352,5baecb1ed2c773830565f0e54137f83d7fa6c21b,3,1,1,6773,,,0,"Update ironic.conf.sample after oslo changes

Change-Id: I07fd95417a2a48368fbce8db1a67b9bd5cdcbc5d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/88352/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/ironic.conf.sample'],1,5baecb1ed2c773830565f0e54137f83d7fa6c21b,oslo-sample-config,"# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value)# Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value)# Port of the admin Identity API endpoint. Deprecated, use # identity_uri. (integer value)# Protocol of the admin Identity API endpoint (http or https). # Deprecated, use identity_uri. (string value)# Complete admin Identity API endpoint. This should specify # the unversioned root endpoint eg. https://localhost:35357/ # (string value) #identity_uri=<None> ",# Prefix to prepend at the beginning of the path (string # value)# Host providing the admin Identity API endpoint (string # value)# Port of the admin Identity API endpoint (integer value)# Protocol of the admin Identity API endpoint(http or https) # (string value),13,7
openstack%2Fdjango_openstack_auth~master~I4e43e13234f7640ef216db168d873c4cc1198328,openstack/django_openstack_auth,master,I4e43e13234f7640ef216db168d873c4cc1198328,Fix H306 imports not in alphabetical order,MERGED,2014-04-04 10:15:04.000000000,2014-04-17 16:56:35.000000000,2014-04-17 16:56:35.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}]","[{'number': 1, 'created': '2014-04-04 10:15:04.000000000', 'files': ['openstack_auth/tests/tests.py', 'openstack_auth/user.py', 'openstack_auth/forms.py', 'openstack_auth/views.py', 'openstack_auth/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/41fc94754f2962f6e55b1009bbf5438b6e8d9d48', 'message': 'Fix H306 imports not in alphabetical order\n\nRemove the following rules from ignore list\nwithout any violations from these:\nH201,H302,H303,H701,H702,H803\n\nA part of blueprint openstack-hacking-compliant\n\nChange-Id: I4e43e13234f7640ef216db168d873c4cc1198328\n'}]",0,85289,41fc94754f2962f6e55b1009bbf5438b6e8d9d48,8,3,1,841,,,0,"Fix H306 imports not in alphabetical order

Remove the following rules from ignore list
without any violations from these:
H201,H302,H303,H701,H702,H803

A part of blueprint openstack-hacking-compliant

Change-Id: I4e43e13234f7640ef216db168d873c4cc1198328
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/89/85289/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/tests/tests.py', 'openstack_auth/user.py', 'openstack_auth/forms.py', 'openstack_auth/views.py', 'openstack_auth/utils.py', 'tox.ini']",6,41fc94754f2962f6e55b1009bbf5438b6e8d9d48,bp/openstack-hacking-compliant,"# H301 one import per lineignore = H301,H304,H4","# H201 no 'except:' at least use 'except Exception:' # H302 import only modules.'from optparse import make_option' does not import a module # H303 No wildcard (*) import.# H701 empty localization string # H702 Formatting operation should be outside of localization method call ignore = H201,H301,H306,H302,H303,H304,H4,H701,H702,H803",12,16
openstack%2Fdjango_openstack_auth~master~I0fb46309621c15dfe4363039bbe46669f1315dec,openstack/django_openstack_auth,master,I0fb46309621c15dfe4363039bbe46669f1315dec,Fix remaining PEP8 (E***) and PyFlakes (F***) issues,MERGED,2014-04-04 10:15:04.000000000,2014-04-17 16:55:33.000000000,2014-04-17 16:55:33.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}]","[{'number': 1, 'created': '2014-04-04 10:15:04.000000000', 'files': ['openstack_auth/tests/tests.py', 'openstack_auth/tests/settings.py', 'openstack_auth/views.py', 'openstack_auth/tests/data_v3.py', 'tox.ini', 'openstack_auth/tests/data_v2.py'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/32871fee1f5e64a6f14b3d9a719eecf7f440e7f5', 'message': ""Fix remaining PEP8 (E***) and PyFlakes (F***) issues\n\nE502 the backslash is redundant between brackets\nE501 line too long (XX > 79 characters)\nF841 local variable 'XXX' is assigned to but never used\n\nRemove F403 and F999 from ignore list because there is\nno violations related to these.\n\nThe remaining are all from OpenStack Hacking (H***) rules.\n\nA part of blueprint openstack-hacking-compliant\n\nChange-Id: I0fb46309621c15dfe4363039bbe46669f1315dec\n""}]",0,85288,32871fee1f5e64a6f14b3d9a719eecf7f440e7f5,9,3,1,841,,,0,"Fix remaining PEP8 (E***) and PyFlakes (F***) issues

E502 the backslash is redundant between brackets
E501 line too long (XX > 79 characters)
F841 local variable 'XXX' is assigned to but never used

Remove F403 and F999 from ignore list because there is
no violations related to these.

The remaining are all from OpenStack Hacking (H***) rules.

A part of blueprint openstack-hacking-compliant

Change-Id: I0fb46309621c15dfe4363039bbe46669f1315dec
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/88/85288/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/tests/tests.py', 'openstack_auth/tests/settings.py', 'openstack_auth/views.py', 'openstack_auth/tests/data_v3.py', 'tox.ini', 'openstack_auth/tests/data_v2.py']",6,32871fee1f5e64a6f14b3d9a719eecf7f440e7f5,bp/openstack-hacking-compliant," 'adminURL': ('http://nova-admin.localhost:8774/v2.0/%s' % (tenant_dict_1['id'])), 'internalURL': ('http://nova-internal.localhost:8774/v2.0/%s' % (tenant_dict_1['id'])), 'publicURL': ('http://nova-public.localhost:8774/v2.0/%s' % (tenant_dict_1['id'])) 'adminURL': ('http://nova2-admin.localhost:8774/v2.0/%s' % (tenant_dict_1['id'])), 'internalURL': ('http://nova2-internal.localhost:8774/v2.0/%s' % (tenant_dict_1['id'])), 'publicURL': ('http://nova2-public.localhost:8774/v2.0/%s' % (tenant_dict_1['id']))"," 'adminURL': 'http://nova-admin.localhost:8774/v2.0/%s' \ % (tenant_dict_1['id']), 'internalURL': 'http://nova-internal.localhost:8774/v2.0/%s' \ % (tenant_dict_1['id']), 'publicURL': 'http://nova-public.localhost:8774/v2.0/%s' \ % (tenant_dict_1['id']) 'adminURL': 'http://nova2-admin.localhost:8774/v2.0/%s' \ % (tenant_dict_1['id']), 'internalURL': 'http://nova2-internal.localhost:8774/v2.0/%s' \ % (tenant_dict_1['id']), 'publicURL': 'http://nova2-public.localhost:8774/v2.0/%s' \ % (tenant_dict_1['id'])",30,32
openstack%2Fdjango_openstack_auth~master~I06ce0ee5132178a777ce9b9e409ef1d24af1ea1f,openstack/django_openstack_auth,master,I06ce0ee5132178a777ce9b9e409ef1d24af1ea1f,Make Hacking E1XX compliant,MERGED,2014-04-04 10:15:04.000000000,2014-04-17 16:54:07.000000000,2014-04-17 16:54:07.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}]","[{'number': 1, 'created': '2014-04-04 10:15:04.000000000', 'files': ['openstack_auth/tests/tests.py', 'openstack_auth/user.py', 'openstack_auth/forms.py', 'openstack_auth/tests/urls.py', 'openstack_auth/backend.py', 'openstack_auth/tests/data_v3.py', 'tox.ini', 'openstack_auth/tests/data_v2.py', 'openstack_auth/urls.py'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/6e774321d87fef2300fc7ac28fe84d22284ef0b1', 'message': 'Make Hacking E1XX compliant\n\nE121 continuation line indentation is not a multiple of four\nE126 continuation line over-indented for hanging indent\nE127 continuation line over-indented for visual indent\nE128 continuation line under-indented for visual indent\n\nA part of blueprint openstack-hacking-compliant\n\nChange-Id: I06ce0ee5132178a777ce9b9e409ef1d24af1ea1f\n'}]",0,85287,6e774321d87fef2300fc7ac28fe84d22284ef0b1,9,3,1,841,,,0,"Make Hacking E1XX compliant

E121 continuation line indentation is not a multiple of four
E126 continuation line over-indented for hanging indent
E127 continuation line over-indented for visual indent
E128 continuation line under-indented for visual indent

A part of blueprint openstack-hacking-compliant

Change-Id: I06ce0ee5132178a777ce9b9e409ef1d24af1ea1f
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/87/85287/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/tests/tests.py', 'openstack_auth/user.py', 'openstack_auth/forms.py', 'openstack_auth/tests/urls.py', 'openstack_auth/backend.py', 'openstack_auth/tests/data_v3.py', 'tox.ini', 'openstack_auth/tests/data_v2.py', 'openstack_auth/urls.py']",9,6e774321d87fef2300fc7ac28fe84d22284ef0b1,bp/openstack-hacking-compliant,"urlpatterns = patterns( 'openstack_auth.views',","urlpatterns = patterns('openstack_auth.views',",64,66
openstack%2Fblazar~master~I4b21182f555ccd412a4ca4e0ce753f07edcd07f8,openstack/blazar,master,I4b21182f555ccd412a4ca4e0ce753f07edcd07f8,Change references of tenant to project,MERGED,2014-03-21 20:43:59.000000000,2014-04-17 16:48:54.000000000,2014-04-17 16:48:54.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 7075}, {'_account_id': 7166}, {'_account_id': 7535}, {'_account_id': 9225}, {'_account_id': 9331}, {'_account_id': 10200}]","[{'number': 1, 'created': '2014-03-21 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/eb4f508b5910e2af38eac84a9f0febd7b18d35ff', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 2, 'created': '2014-03-21 21:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a4ff18f46252573c823f5a1b1950e610eaa80756', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 3, 'created': '2014-03-26 13:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3318e2403a8780521e5eb9556e4a082395a77aea', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 4, 'created': '2014-03-26 15:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0d44f65f4a9875e56d9ea2f40eda5842fb6c557e', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 5, 'created': '2014-03-26 18:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e1edc57f36ce149775ad47fa2dfdd056ad5d7da2', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 6, 'created': '2014-04-14 20:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8c0926e039566cae2abf04adcde610fd4125b768', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 7, 'created': '2014-04-14 21:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b1b31af1d41c7b3dc035468eb0d9a2c8c9db99ac', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}, {'number': 8, 'created': '2014-04-17 14:16:38.000000000', 'files': ['climate/config.py', 'climate/tests/plugins/oshosts/test_reservation_pool.py', 'doc/source/introduction.rst', 'doc/source/restapi/rest_api_v1.0.rst', 'climate/db/sqlalchemy/models.py', 'climate/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'climate/tests/test_context.py', 'climate/utils/openstack/nova.py', 'climate/utils/trusts.py', 'climate/tests/db/migration/test_migrations.py', 'climate/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'etc/climate/climate.conf.sample', 'climate/plugins/oshosts/nova_inventory.py', 'climate/utils/openstack/keystone.py', 'climate/policy.py', 'climate/tests/api/v2/test_leases.py', 'climate/tests/utils/openstack/test_nova.py', 'climate/api/v2/controllers/lease.py', 'climate/tests/manager/test_rpcapi.py', 'etc/policy.json', 'climate/tests/test_policy.py', 'climate/api/context.py', 'climate/manager/service.py', 'climate/tests/api/test_context.py', 'climate/manager/rpcapi.py', 'climate/plugins/oshosts/reservation_pool.py', 'climate/db/sqlalchemy/api.py', 'climate/plugins/oshosts/host_plugin.py', 'climate/context.py', 'climate/db/api.py', 'climate/api/v1/app.py', 'climate/api/v1/service.py', 'contrib/devstack/lib/climate', 'doc/source/userdoc/installation.guide.rst', 'climate/tests/api/__init__.py', 'climate/tests/utils/openstack/test_keystone.py', 'climate/tests/fake_policy.py', 'climate/tests/utils/test_trusts.py', 'climate/plugins/oshosts/__init__.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/6b26ecaf758c30b807cebfddc5b1450175da537c', 'message': 'Change references of tenant to project\n\nRefernces from tenant to project were made in several\nplaces, including DB, HTTP Headers, configuration items,\njson in responses and devstack integration. Additionally,\na migration script using Alembic was included.\n\nImplements: blueprint tenant-to-project-ref\nChange-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8\n'}]",0,82192,6b26ecaf758c30b807cebfddc5b1450175da537c,58,8,8,9225,,,0,"Change references of tenant to project

Refernces from tenant to project were made in several
places, including DB, HTTP Headers, configuration items,
json in responses and devstack integration. Additionally,
a migration script using Alembic was included.

Implements: blueprint tenant-to-project-ref
Change-Id: I4b21182f555ccd412a4ca4e0ce753f07edcd07f8
",git fetch https://review.opendev.org/openstack/blazar refs/changes/92/82192/8 && git format-patch -1 --stdout FETCH_HEAD,"['climate/config.py', 'climate/tests/plugins/oshosts/test_reservation_pool.py', 'doc/source/introduction.rst', 'doc/source/restapi/rest_api_v1.0.rst', 'climate/db/sqlalchemy/models.py', 'climate/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'climate/tests/test_context.py', 'climate/utils/openstack/nova.py', 'climate/utils/trusts.py', 'climate/tests/db/migration/test_migrations.py', 'climate/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'etc/climate/climate.conf.sample', 'climate/plugins/oshosts/nova_inventory.py', 'climate/utils/openstack/keystone.py', 'climate/policy.py', 'climate/tests/api/v1/test_context.py', 'climate/tests/utils/openstack/test_nova.py', 'climate/tests/manager/test_rpcapi.py', 'etc/policy.json', 'climate/tests/test_policy.py', 'climate/api/context.py', 'climate/manager/service.py', 'climate/manager/rpcapi.py', 'climate/plugins/oshosts/reservation_pool.py', 'climate/db/sqlalchemy/api.py', 'climate/plugins/oshosts/host_plugin.py', 'climate/context.py', 'climate/db/api.py', 'climate/api/v1/app.py', 'climate/api/v1/service.py', 'contrib/devstack/lib/climate', 'doc/source/userdoc/installation.guide.rst', 'climate/tests/utils/openstack/test_keystone.py', 'climate/tests/fake_policy.py', 'climate/tests/utils/test_trusts.py', 'climate/plugins/oshosts/__init__.py']",36,eb4f508b5910e2af38eac84a9f0febd7b18d35ff,bp/tenant-to-project-ref," cfg.StrOpt('climate_project_name', help='Project of the user for write operations'),"," cfg.StrOpt('climate_tenant_name', help='Tenant of the user for write operations'),",170,104
openstack%2Fmurano-deployment~master~I470ff21973d946a0352c6bbfe89fafa0dab10329,openstack/murano-deployment,master,I470ff21973d946a0352c6bbfe89fafa0dab10329,Scripts to install Murano from OBS packages,ABANDONED,2014-02-06 11:22:39.000000000,2014-04-17 16:47:09.000000000,,"[{'_account_id': 3}, {'_account_id': 7562}]","[{'number': 1, 'created': '2014-02-06 11:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/6b46e1cd13bc8f90a991fa6b9725f540087c930c', 'message': ""Scripts to install Murano from OBS packages\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 2, 'created': '2014-02-06 11:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/3a8998694534188970d30bf663efacf18dfe7e5f', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 3, 'created': '2014-02-07 09:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/bac31cccce31d16994a5445f4e4f886ca76fe64c', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 4, 'created': '2014-02-07 14:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/c44c4a2c3ee73b85b2128382451a7ff696524239', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 5, 'created': '2014-02-07 14:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/3c2bdaf8c5eb421454cea0a539f86a7682c5ddc2', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 6, 'created': '2014-02-07 14:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/0195c14778048aa5141494619d92365faf79f2bc', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 7, 'created': '2014-02-07 14:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/f0b9ff6ec298ec73ff8593d881b8d58dd500844f', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 8, 'created': '2014-02-07 14:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/c9e41f549f6b1ca0dd405a8c4a238f08cba14f84', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 9, 'created': '2014-02-07 14:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/f74803c17a317bd65d308d268797746c2a62d569', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 10, 'created': '2014-02-07 14:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/57616f58c066ea53007bbbb66282abfc16dd9578', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 11, 'created': '2014-02-07 15:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/1623bc17fc96dae73a10911d92381b6b5d39c464', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 12, 'created': '2014-02-07 15:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/40ad8a8b01d9053d4e534fe5ad4146505ca90d7d', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 13, 'created': '2014-02-07 15:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/d71a58fe2875d2756e624920445c62afce3c836d', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 14, 'created': '2014-02-10 10:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/07993639e9d945e9ab8692ad2590513f89393123', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 15, 'created': '2014-02-10 10:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/7f08ca37cd6db09baa16065749959a136d14623f', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 16, 'created': '2014-02-10 13:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/831bad7174b670df42d551d6630d8ba23eba3d28', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 17, 'created': '2014-02-10 13:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/d77c4307b37b0f5e125ad786da3479674fbde118', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 18, 'created': '2014-02-10 13:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/f6e69a77927665078aae4bb0a005d774d6a97805', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 19, 'created': '2014-02-10 13:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/1fbd5c1a5f68153b10e4a632c8e2fe6b6623139f', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 20, 'created': '2014-02-10 13:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/5ed21a11898da45217a500f9c74028d349542c01', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 21, 'created': '2014-02-10 13:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/534c54967e2234c25fe229362ade594545d16023', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 22, 'created': '2014-02-10 14:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/de83c3e339443bd6f29836ff9f1201d6012b372b', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 23, 'created': '2014-02-11 09:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/09a609d04d3d12cda12777d907a5c5c859f53dde', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 24, 'created': '2014-02-11 11:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/9cf8c6ca8e7bedc56a5515ad4f014f9532662cae', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 25, 'created': '2014-02-11 12:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/1909db0bcc9fdce0acf312b764ee829d69830cde', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 26, 'created': '2014-03-31 12:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/e1cfc3cb225ea59480915ff30654315b8df9a62a', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}, {'number': 27, 'created': '2014-03-31 13:15:43.000000000', 'files': ['devbox-scripts/functions.sh', 'devbox-scripts/call.sh', 'devbox-scripts/murano-obs-install.sh', 'devbox-scripts/murano.defaults', 'devbox-scripts/muranorc'], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/a9635e10c3c4ee4ee8b6e4141e558ae68373fca5', 'message': ""Scripts to install Murano from OBS packages\n\n!!! DO NOT MERGE, WORK IN PROGRESS !!!\n\nThis scripts simplifies Murano installation process when it is required to\n   install it from packages in development.\n\nIt'll be updated to support Murano configuration tasks as well.\n\nChange-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329\n""}]",0,71491,a9635e10c3c4ee4ee8b6e4141e558ae68373fca5,92,2,27,7562,,,0,"Scripts to install Murano from OBS packages

!!! DO NOT MERGE, WORK IN PROGRESS !!!

This scripts simplifies Murano installation process when it is required to
   install it from packages in development.

It'll be updated to support Murano configuration tasks as well.

Change-Id: I470ff21973d946a0352c6bbfe89fafa0dab10329
",git fetch https://review.opendev.org/openstack/murano-deployment refs/changes/91/71491/24 && git format-patch -1 --stdout FETCH_HEAD,"['devbox-scripts/functions.sh', 'devbox-scripts/murano-obs-install.sh']",2,6b46e1cd13bc8f90a991fa6b9725f540087c930c,murano-obs-install,"#!/bin/bash declare -A ARGS ARGS=($@) source ./functions.sh # Import local configuration if [ -f '/etc/murano-deployment/obs-config.local' ]; then source /etc/murano-deployment/obs-config.local fi # Verify some variables die_if_not_set $LINENO OBS_URL_PREFIX die_if_not_set $LINENO OBS_REPO_PREFIX die_if_not_set $LINENO OBS_LOCAL_REPO # Fiest, add a repo with all dependencies add_obs_repo # Then, add per-requiest repositories for id in $OBS_REQUEST_IDS; do add_obs_repo ""$id"" done # Update cache before actual installation apt-get update ",,261,0
openstack%2Fmagnetodb~master~Ic5ba5eb337c03e5735475f961971fd2a806669dc,openstack/magnetodb,master,Ic5ba5eb337c03e5735475f961971fd2a806669dc,Added new artifacts for tempest in html format,MERGED,2014-04-14 07:23:48.000000000,2014-04-17 16:38:49.000000000,2014-04-17 16:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 10676}]","[{'number': 1, 'created': '2014-04-14 07:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/25da69a43e43c1b26cf3691bf7690862c82041e3', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 2, 'created': '2014-04-14 07:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/995766771d59eb1caddcd60f47f9689f3345ddb8', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 3, 'created': '2014-04-14 08:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/29985f2c8fcc5d3b2e3b40fe18f2d35c1a079814', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 4, 'created': '2014-04-14 09:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/e4e7818176bd7cf35fe9ef4c85a1532ae75a8e9d', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 5, 'created': '2014-04-14 10:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/e1b2461ee9d655363414abc406ff6a7c7b2c1c1a', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 6, 'created': '2014-04-14 11:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/3f9a04601ae7be9adc0cf600d8d4fb5f0e7094ca', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 7, 'created': '2014-04-14 11:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/2851d2238bdf577604f744a356724b5bbf49b9d1', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 8, 'created': '2014-04-14 13:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/6e3ab72e1b9a2e0439ce65e978e55306c72568bf', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 9, 'created': '2014-04-14 14:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/011c62a8280fc37e80bb123ccf690e0e25b1e73e', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}, {'number': 10, 'created': '2014-04-14 14:32:10.000000000', 'files': ['functionaltests/run_tests.sh', 'test-requirements.txt', 'functionaltests/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/56c361a8bf9cfc455696d797cc7f56cb351cf42f', 'message': 'Added new artifacts for tempest in html format\n\n - tempest-stabel.html\n - tempest-in-progress.html\n - tempest-not-ready.html\n\nChange-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc\nImplements: blueprint add-tempest-artifact\n'}]",0,87181,56c361a8bf9cfc455696d797cc7f56cb351cf42f,54,4,10,10676,,,0,"Added new artifacts for tempest in html format

 - tempest-stabel.html
 - tempest-in-progress.html
 - tempest-not-ready.html

Change-Id: Ic5ba5eb337c03e5735475f961971fd2a806669dc
Implements: blueprint add-tempest-artifact
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/81/87181/10 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/run_tests.sh', 'test-requirements.txt', 'functionaltests/post_test_hook.sh']",3,25da69a43e43c1b26cf3691bf7690862c82041e3,bp/add-tempest-artifact,# Convert to html FILES=`ls tempest-[ins]*` if [ -n $FILES ]; then for i in $FILES; do sudo python /usr/local/jenkins/slave_scripts/subunit2html.py $LOGS_DIR/$i $LOGS_DIR/$i.html done fi ,,14,4
openstack%2Ffuel-library~master~I027740b412b8d7d03adfd4098916becf352f462d,openstack/fuel-library,master,I027740b412b8d7d03adfd4098916becf352f462d,Allow separate RabbitMQ server for nailgun,MERGED,2014-03-24 14:07:06.000000000,2014-04-17 16:35:58.000000000,2014-04-17 16:35:58.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-03-24 14:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1cc269b3a320f48dbaa355a25643b8d5c6ecbcc7', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server itself is no longer a core\ndependency of nailgun class.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}, {'number': 2, 'created': '2014-04-10 13:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/71d2f24c35c92b8f9884344674cae904974becf5', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server itself is no longer a core\ndependency of nailgun class.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}, {'number': 3, 'created': '2014-04-11 12:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a63cd162c05de525383200389400bb39aa5df2a2', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server itself is no longer a core\ndependency of nailgun class.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}, {'number': 4, 'created': '2014-04-11 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/58b7781524f16375c1f888f62e72af52d46b2a93', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server itself is no longer a core\ndependency of nailgun class.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}, {'number': 5, 'created': '2014-04-13 11:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/484b86e48b688ca88f3f093de8a092ee976ba7f8', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server and required users are\nno longer a core dependency of nailgun class.\n\nAdded workaround for running RabbitMQ in\ndocker by purging /etc/default/rabbitmq-server,\nwhich contains a ulimit call.\n\nTODO: Refactor mcollective::rabbitmq to not\ninclude iptables commands so it can be called\nfor deployment inside docker.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}, {'number': 6, 'created': '2014-04-14 13:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d3af4ff6f1db356cdf2d7f42b1e467a063a20ac8', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server and required users are\nno longer a core dependency of nailgun class.\n\nAdded workaround for running RabbitMQ in\ndocker by purging /etc/default/rabbitmq-server,\nwhich contains a ulimit call.\n\nTODO: Refactor mcollective::rabbitmq to not\ninclude iptables commands so it can be called\nfor deployment inside docker.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}, {'number': 7, 'created': '2014-04-15 13:12:54.000000000', 'files': ['deployment/puppet/nailgun/manifests/rabbitmq.pp', 'deployment/puppet/nailgun/templates/astuted.conf.erb', 'deployment/puppet/nailgun/examples/rabbitmq-only.pp', 'deployment/puppet/nailgun/manifests/mcollective.pp', 'deployment/puppet/nailgun/templates/settings.yaml.erb', 'deployment/puppet/nailgun/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c14966dc8fb7ba3012b17cb9a8d6416fd49422fa', 'message': 'Allow separate RabbitMQ server for nailgun\n\nAdd rabbitmq_host variable for all classes\nthat depend on RabbitMQ for configuration,\nincluding nailgun, naily, and mcollective.\n\nRabbitMQ server and required users are\nno longer a core dependency of nailgun class.\n\nAdded workaround for running RabbitMQ in\ndocker by purging /etc/default/rabbitmq-server,\nwhich contains a ulimit call.\n\nTODO: Refactor mcollective::rabbitmq to not\ninclude iptables commands so it can be called\nfor deployment inside docker.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I027740b412b8d7d03adfd4098916becf352f462d\n'}]",10,82506,c14966dc8fb7ba3012b17cb9a8d6416fd49422fa,72,9,7,7195,,,0,"Allow separate RabbitMQ server for nailgun

Add rabbitmq_host variable for all classes
that depend on RabbitMQ for configuration,
including nailgun, naily, and mcollective.

RabbitMQ server and required users are
no longer a core dependency of nailgun class.

Added workaround for running RabbitMQ in
docker by purging /etc/default/rabbitmq-server,
which contains a ulimit call.

TODO: Refactor mcollective::rabbitmq to not
include iptables commands so it can be called
for deployment inside docker.

blueprint fuel-containerization-of-services

Change-Id: I027740b412b8d7d03adfd4098916becf352f462d
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/06/82506/7 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/site.pp', 'deployment/puppet/nailgun/manifests/rabbitmq.pp', 'deployment/puppet/nailgun/manifests/supervisor.pp', 'deployment/puppet/nailgun/manifests/mcollective.pp', 'deployment/puppet/nailgun/templates/settings.yaml.erb', 'deployment/puppet/nailgun/manifests/init.pp', 'deployment/puppet/nailgun/templates/nailyd.conf.erb']",7,1cc269b3a320f48dbaa355a25643b8d5c6ecbcc7,bp/fuel-containerization-of-services,broker_host: '<%= rabbitmq_host %>'broker_username: '<%= rabbitmq_naily_user %>' broker_password: '<%= rabbitmq_naily_password %>',broker_host: 'localhost'broker_username: '<%= @rabbitmq_naily_user %>' broker_password: '<%= @rabbitmq_naily_password %>',47,27
openstack%2Fsahara~stable%2Ficehouse~I9e1a2318ced92543866252b89dbf57d3c43b344b,openstack/sahara,stable/icehouse,I9e1a2318ced92543866252b89dbf57d3c43b344b,Opening stable/icehouse,MERGED,2014-04-17 14:18:41.000000000,2014-04-17 16:35:06.000000000,2014-04-17 16:35:06.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-04-17 14:18:41.000000000', 'files': ['.gitreview', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara/commit/eef9275c143bbb0bb1d301a29965580bacf80030', 'message': 'Opening stable/icehouse\n\nBump version to next stable release on icehouse branch, and set\ndefaultbranch in .gitreview for convenience.\n\nChange-Id: I9e1a2318ced92543866252b89dbf57d3c43b344b\n'}]",0,88314,eef9275c143bbb0bb1d301a29965580bacf80030,8,3,1,308,,,0,"Opening stable/icehouse

Bump version to next stable release on icehouse branch, and set
defaultbranch in .gitreview for convenience.

Change-Id: I9e1a2318ced92543866252b89dbf57d3c43b344b
",git fetch https://review.opendev.org/openstack/sahara refs/changes/14/88314/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'setup.cfg']",2,eef9275c143bbb0bb1d301a29965580bacf80030,stable-icehouse,version = 2014.1.1,version = 2014.1,2,1
openstack%2Ffuel-library~master~I5e920d55c9c74c8a10696843103bd44fbf96b26f,openstack/fuel-library,master,I5e920d55c9c74c8a10696843103bd44fbf96b26f,Standalone nginx site.pp and dir fixes,MERGED,2014-04-14 11:25:52.000000000,2014-04-17 16:32:22.000000000,2014-04-17 16:32:21.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-04-14 11:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/300e127655ff4ebd86e8593abcdeeacb81cb1851', 'message': 'Standalone nginx site.pp and dir fixes\n\nSet staticdir and templatedir for nginx to\nrefer to nailgun static dirs correctly\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I5e920d55c9c74c8a10696843103bd44fbf96b26f\n'}, {'number': 2, 'created': '2014-04-14 12:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8ce11fdcee3702930bb5774fb3c4404348e0e975', 'message': 'Standalone nginx site.pp and dir fixes\n\nSet staticdir and templatedir for nginx to\nrefer to nailgun static dirs correctly\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I5e920d55c9c74c8a10696843103bd44fbf96b26f\n'}, {'number': 3, 'created': '2014-04-14 14:52:18.000000000', 'files': ['deployment/puppet/nailgun/examples/nginx-only.pp', 'deployment/puppet/nailgun/manifests/nginx.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/08e16acf872bbb570f150472034583b4662fe33a', 'message': 'Standalone nginx site.pp and dir fixes\n\nSet staticdir and templatedir for nginx to\nrefer to nailgun static dirs correctly\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I5e920d55c9c74c8a10696843103bd44fbf96b26f\n'}]",0,87243,08e16acf872bbb570f150472034583b4662fe33a,23,7,3,7195,,,0,"Standalone nginx site.pp and dir fixes

Set staticdir and templatedir for nginx to
refer to nailgun static dirs correctly

blueprint fuel-containerization-of-services

Change-Id: I5e920d55c9c74c8a10696843103bd44fbf96b26f
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/43/87243/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/nginx-only.pp', 'deployment/puppet/nailgun/manifests/nginx.pp']",2,300e127655ff4ebd86e8593abcdeeacb81cb1851,bp/fuel-containerization-of-services," $production = ""production"","," $production = ""production"",",55,1
openstack%2Ffuel-library~master~Id99dee1e72fccf80be689650fc63cbe9eab06d99,openstack/fuel-library,master,Id99dee1e72fccf80be689650fc63cbe9eab06d99,Change state of 'lo' interface to 'up' inside net.namespace at creation.,MERGED,2014-04-16 15:04:03.000000000,2014-04-17 16:28:00.000000000,2014-04-17 16:27:59.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-16 15:04:03.000000000', 'files': ['deployment/puppet/cluster/files/ns_IPaddr2', 'deployment/puppet/cluster/files/ns_haproxy'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b2bbf0fcadb3b81875ad3aad3971d1b13b57ceac', 'message': ""Change state of 'lo' interface to 'up' inside net.namespace at creation.\n\nChange-Id: Id99dee1e72fccf80be689650fc63cbe9eab06d99\nCloses-Bug: #1308356\n""}]",0,87990,b2bbf0fcadb3b81875ad3aad3971d1b13b57ceac,16,5,1,7468,,,0,"Change state of 'lo' interface to 'up' inside net.namespace at creation.

Change-Id: Id99dee1e72fccf80be689650fc63cbe9eab06d99
Closes-Bug: #1308356
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/90/87990/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/cluster/files/ns_IPaddr2', 'deployment/puppet/cluster/files/ns_haproxy']",2,b2bbf0fcadb3b81875ad3aad3971d1b13b57ceac,bug/1308356, ocf_run $RUN_IN_NS ip link set up dev lo,,2,0
openstack%2Foslo-incubator~master~Ib93daac4c3bd72107074be3df64005af1ff18acb,openstack/oslo-incubator,master,Ib93daac4c3bd72107074be3df64005af1ff18acb,Fix python26 compatibility for RFCSysLogHandler,MERGED,2014-04-11 11:56:18.000000000,2014-04-17 16:23:57.000000000,2014-04-17 16:23:56.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1561}, {'_account_id': 1669}, {'_account_id': 1994}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 7491}, {'_account_id': 7562}, {'_account_id': 7710}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-11 11:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/31e1621254b330160d9a82f0766c9abe5992debd', 'message': 'Fix python26 compatibility for RFCSysLogHandler\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n'}, {'number': 2, 'created': '2014-04-11 12:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/224b44b997aaaa86fc932a3e4128c96d8ccc08a9', 'message': 'Fix python26 compatibility for RFCSysLogHandler\n\nCurrently used pattern will fail for Python 2.6.x.\nIn order to fix the broken Python 2.6.x compatibility,\nold style explicit superclass method calls should be used instead.\n(see an example of script to test this behavior with\n Python 2.7 vs 2.6: http://pastebin.com/e1wANw47 )\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n'}, {'number': 3, 'created': '2014-04-14 11:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3193c051e7f9c810b99b7a8d0868d41cdc09eda8', 'message': ""Fix python26 compatibility for RFCSysLogHandler\n\n1)Currently used pattern will fail for Python 2.6.x.\nIn order to fix the broken Python 2.6.x compatibility,\nold style explicit superclass method calls should be used instead.\nHere is an example of how to check this for Python v2.7 and v2.6:\n  import logging.handlers\n  print type(logging.handlers.SysLogHandler)\n  print type(logging.Handler)\nResults would be:\n  Python 2.7: <type 'type'>, so super() may be used for\n    RFCSysLogHandler(logging.handlers.SysLogHandler)\n  Python 2.6:<type 'classobj'>, so super() may *NOT* be used.\n2)Add unit tests for standard and RFC-wrapped format handlers.\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n""}, {'number': 4, 'created': '2014-04-14 11:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/cc10998e35bc12eceb35dbe95a58b1eff98274e0', 'message': ""Fix python26 compatibility for RFCSysLogHandler\n\n1)Currently used pattern will fail for Python 2.6.x.\nIn order to fix the broken Python 2.6.x compatibility,\nold style explicit superclass method calls should be used instead.\nHere is an example of how to check this for Python v2.7 and v2.6:\n  import logging.handlers\n  print type(logging.handlers.SysLogHandler)\n  print type(logging.Handler)\nResults would be:\n  Python 2.7: <type 'type'>, so super() may be used for\n    RFCSysLogHandler(logging.handlers.SysLogHandler)\n  Python 2.6:<type 'classobj'>, so super() may *NOT* be used.\n2)Add unit tests for standard and RFC-wrapped format handlers.\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n""}, {'number': 5, 'created': '2014-04-14 11:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/72f9408840d314033a11f4389f8f8eca4b786979', 'message': ""Fix python26 compatibility for RFCSysLogHandler\n\n1)Currently used pattern will fail for Python 2.6.x.\nIn order to fix the broken Python 2.6.x compatibility,\nold style explicit superclass method calls should be used instead.\nHere is an example of how to check this for Python v2.7 and v2.6:\n  import logging.handlers\n  print type(logging.handlers.SysLogHandler)\n  print type(logging.Handler)\nResults would be:\n  Python 2.7: <type 'type'>, so super() may be used for\n    RFCSysLogHandler(logging.handlers.SysLogHandler)\n  Python 2.6:<type 'classobj'>, so super() may *NOT* be used.\n2)Add unit tests for standard and RFC-wrapped format handlers.\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n""}, {'number': 6, 'created': '2014-04-15 06:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b739a382e349426514b20e9f9b3c66ffbfa9c5bb', 'message': ""Fix python26 compatibility for RFCSysLogHandler\n\n1)Currently used pattern will fail for Python 2.6.x.\nIn order to fix the broken Python 2.6.x compatibility,\nold style explicit superclass method calls should be used instead.\nHere is an example of how to check this for Python v2.7 and v2.6:\n  import logging.handlers\n  print type(logging.handlers.SysLogHandler)\n  print type(logging.Handler)\nResults would be:\n  Python 2.7: <type 'type'>, so super() may be used for\n    RFCSysLogHandler(logging.handlers.SysLogHandler)\n  Python 2.6:<type 'classobj'>, so super() may *NOT* be used.\n2)Add unit tests for standard and RFC-wrapped format handlers.\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n""}, {'number': 7, 'created': '2014-04-17 09:50:19.000000000', 'files': ['openstack/common/log.py', 'tests/unit/test_log.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/f61a4e72ad71b03a89860f553e693932596dd811', 'message': ""Fix python26 compatibility for RFCSysLogHandler\n\n1)Currently used pattern will fail for Python 2.6.x.\nIn order to fix the broken Python 2.6.x compatibility,\nold style explicit superclass method calls should be used instead.\nHere is an example of how to check this for Python v2.7 and v2.6:\n  import logging.handlers\n  print type(logging.handlers.SysLogHandler)\n  print type(logging.Handler)\nResults would be:\n  Python 2.7: <type 'type'>, so super() may be used for\n    RFCSysLogHandler(logging.handlers.SysLogHandler)\n  Python 2.6:<type 'classobj'>, so super() may *NOT* be used.\n2)Add unit tests for standard and RFC-wrapped format handlers.\n\nCloses-bug: #1306559\n\nChange-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n""}]",3,86875,f61a4e72ad71b03a89860f553e693932596dd811,43,15,7,6926,,,0,"Fix python26 compatibility for RFCSysLogHandler

1)Currently used pattern will fail for Python 2.6.x.
In order to fix the broken Python 2.6.x compatibility,
old style explicit superclass method calls should be used instead.
Here is an example of how to check this for Python v2.7 and v2.6:
  import logging.handlers
  print type(logging.handlers.SysLogHandler)
  print type(logging.Handler)
Results would be:
  Python 2.7: <type 'type'>, so super() may be used for
    RFCSysLogHandler(logging.handlers.SysLogHandler)
  Python 2.6:<type 'classobj'>, so super() may *NOT* be used.
2)Add unit tests for standard and RFC-wrapped format handlers.

Closes-bug: #1306559

Change-Id: Ib93daac4c3bd72107074be3df64005af1ff18acb
Signed-off-by: Bogdan Dobrelya <bogdando@mail.ru>
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/75/86875/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/log.py'],1,31e1621254b330160d9a82f0766c9abe5992debd,fix1306559," logging.handlers.SysLogHandler.__init__(self, *args, **kwargs) msg = logging.handlers.SysLogHandler.format(self, record)"," super(RFCSysLogHandler, self).__init__(*args, **kwargs) msg = super(RFCSysLogHandler, self).format(record)",2,2
openstack%2Fhorizon~master~Iecab2a52a44737e92c58b849c4dd384f43f674ce,openstack/horizon,master,Iecab2a52a44737e92c58b849c4dd384f43f674ce,Adding EDP job related panels to Sahara dashboard,ABANDONED,2014-04-11 13:50:47.000000000,2014-04-17 16:21:36.000000000,,"[{'_account_id': 3}, {'_account_id': 7132}, {'_account_id': 8090}]","[{'number': 1, 'created': '2014-04-11 13:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/72b5dc4b01f297dc8cc8517a8d073e5fceb2eb66', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\n'}, {'number': 4, 'created': '2014-04-11 14:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/77d8e7382771b316136744e76d3b468055235371', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\nThis code was originally from: https://github.com/openstack/sahara-dashboard\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 3, 'created': '2014-04-11 14:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9dd554af152162caa3e992cf57320f3f3ba7d7bf', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\nThis code was originally from: https://github.com/openstack/sahara-dashboard\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 2, 'created': '2014-04-11 14:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/10a4b5566ef901a80ddc46b3459bf4852202cd77', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\nThis code was originally from: https://github.com/openstack/sahara-dashboard\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 5, 'created': '2014-04-15 14:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/17e6d07ff5d56a0c1509838c8a35ce22d84118a4', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 7, 'created': '2014-04-15 14:07:34.000000000', 'files': ['openstack_dashboard/dashboards/sahara/templates/data_sources/data_sources_form_script.html', 'openstack_dashboard/dashboards/sahara/jobs/panel.py', 'openstack_dashboard/dashboards/sahara/jobs/workflows/launch.py', 'openstack_dashboard/dashboards/sahara/data_sources/views.py', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/create.html', 'openstack_dashboard/dashboards/sahara/templates/jobs/config_template.html', 'openstack_dashboard/dashboards/sahara/data_sources/urls.py', 'openstack_dashboard/dashboards/sahara/data_sources/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/job_executions/details.html', 'openstack_dashboard/dashboards/sahara/jobs/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/details.html', 'openstack_dashboard/dashboards/sahara/data_sources/tables.py', 'openstack_dashboard/dashboards/sahara/templates/job_executions/_details.html', 'openstack_dashboard/dashboards/sahara/jobs/tables.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_create_job_libs_help.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/_create_job_binary_help.html', 'openstack_dashboard/dashboards/sahara/job_binaries/urls.py', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/job_binaries.html', 'openstack_dashboard/dashboards/sahara/job_executions/urls.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/_create_data_source_help.html', 'openstack_dashboard/dashboards/sahara/data_sources/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/library_template.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/details.html', 'openstack_dashboard/dashboards/sahara/templates/jobs/jobs.html', 'openstack_dashboard/dashboards/sahara/templates/jobs/_launch_job_configure_help.html', 'openstack_dashboard/dashboards/sahara/job_executions/__init__.py', 'openstack_dashboard/dashboards/sahara/jobs/views.py', 'openstack_dashboard/dashboards/sahara/job_binaries/tables.py', 'openstack_dashboard/dashboards/sahara/data_sources/panel.py', 'openstack_dashboard/dashboards/sahara/templates/job_executions/job_executions.html', 'openstack_dashboard/dashboards/sahara/job_executions/tables.py', 'openstack_dashboard/dashboards/sahara/job_executions/tabs.py', 'openstack_dashboard/dashboards/sahara/job_binaries/tabs.py', 'openstack_dashboard/dashboards/sahara/jobs/urls.py', 'openstack_dashboard/dashboards/sahara/jobs/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_launch_job_help.html', 'openstack_dashboard/dashboards/sahara/job_executions/views.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/_details.html', 'openstack_dashboard/dashboards/sahara/job_binaries/forms.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_create_job_help.html', 'openstack_dashboard/dashboards/sahara/templates/data_sources/create.html', 'openstack_dashboard/dashboards/sahara/jobs/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/create.html', 'openstack_dashboard/dashboards/sahara/job_binaries/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_details.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/job_binaries_form_script.html', 'openstack_dashboard/dashboards/sahara/job_binaries/views.py', 'openstack_dashboard/dashboards/sahara/jobs/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/data_sources.html', 'openstack_dashboard/dashboards/sahara/job_executions/panel.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/details.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/_details.html', 'openstack_dashboard/dashboards/sahara/job_binaries/panel.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/launch.html', 'openstack_dashboard/dashboards/sahara/data_sources/__init__.py', 'openstack_dashboard/dashboards/sahara/dashboard.py', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/_create.html', 'openstack_dashboard/dashboards/sahara/data_sources/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/19ecdb5de15129aed0f4bfb21738f4e13767fb39', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 6, 'created': '2014-04-15 14:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7639cde32c4b14789b4fb7dc53ab235fc27ca61e', 'message': 'Adding EDP job related panels to Sahara dashboard\n\nThis patch set represents the Elastic Data Processing (EDP)\njob panels for the Sahara dashboard.  In general, they are\nresponsible for defining EDP jobs and launching the jobs on\na cluster.  Here is a quick rundown of the panels and what\ntheir function is:\n* data_sources: Interface for defining the input/output sources\n  of jobs.  Currently, they are either HDFS or Swift.\n* job_binaries: System for uploading scripts/jars/libraries or\n  whatever else is required for a job to run.  The binaries can\n  be stored either in Swift or in the Sahara internal database.\n* jobs: Here is where the EDP jobs are defined.  The type of job\n  (Pig, Hive, etc) and the job_binaries that are required (either\n  mains or libs) are defined here.  When a job is launched\n  against a cluster, the data sources and config parameters are\n  entered by the user.\n* job_executions: Here is where the launched jobs are displayed\n  (including finished jobs).  From here, you can get the detailed\n  view of an execution, remove (terminate) executions or relaunch\n  them with newly defined data sources/configuration.\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}]",0,86902,19ecdb5de15129aed0f4bfb21738f4e13767fb39,24,3,7,8090,,,0,"Adding EDP job related panels to Sahara dashboard

This patch set represents the Elastic Data Processing (EDP)
job panels for the Sahara dashboard.  In general, they are
responsible for defining EDP jobs and launching the jobs on
a cluster.  Here is a quick rundown of the panels and what
their function is:
* data_sources: Interface for defining the input/output sources
  of jobs.  Currently, they are either HDFS or Swift.
* job_binaries: System for uploading scripts/jars/libraries or
  whatever else is required for a job to run.  The binaries can
  be stored either in Swift or in the Sahara internal database.
* jobs: Here is where the EDP jobs are defined.  The type of job
  (Pig, Hive, etc) and the job_binaries that are required (either
  mains or libs) are defined here.  When a job is launched
  against a cluster, the data sources and config parameters are
  entered by the user.
* job_executions: Here is where the launched jobs are displayed
  (including finished jobs).  From here, you can get the detailed
  view of an execution, remove (terminate) executions or relaunch
  them with newly defined data sources/configuration.
This code was originally from:
https://github.com/openstack/sahara-dashboard

Change-Id: Iecab2a52a44737e92c58b849c4dd384f43f674ce
Partial-Implements:  blueprint merge-sahara-dashboard
Co-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>
Co-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/86902/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/sahara/templates/data_sources/data_sources_form_script.html', 'openstack_dashboard/dashboards/sahara/jobs/panel.py', 'openstack_dashboard/dashboards/sahara/jobs/workflows/launch.py', 'openstack_dashboard/dashboards/sahara/data_sources/views.py', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/create.html', 'openstack_dashboard/dashboards/sahara/templates/jobs/config_template.html', 'openstack_dashboard/dashboards/sahara/data_sources/urls.py', 'openstack_dashboard/dashboards/sahara/data_sources/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/job_executions/details.html', 'openstack_dashboard/dashboards/sahara/jobs/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/details.html', 'openstack_dashboard/dashboards/sahara/data_sources/tables.py', 'openstack_dashboard/dashboards/sahara/templates/job_executions/_details.html', 'openstack_dashboard/dashboards/sahara/jobs/tables.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_create_job_libs_help.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/_create_job_binary_help.html', 'openstack_dashboard/dashboards/sahara/job_binaries/urls.py', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/job_binaries.html', 'openstack_dashboard/dashboards/sahara/job_executions/urls.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/_create_data_source_help.html', 'openstack_dashboard/dashboards/sahara/data_sources/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/library_template.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/details.html', 'openstack_dashboard/dashboards/sahara/templates/jobs/jobs.html', 'openstack_dashboard/dashboards/sahara/templates/jobs/_launch_job_configure_help.html', 'openstack_dashboard/dashboards/sahara/job_executions/__init__.py', 'openstack_dashboard/dashboards/sahara/jobs/views.py', 'openstack_dashboard/dashboards/sahara/job_binaries/tables.py', 'openstack_dashboard/dashboards/sahara/data_sources/panel.py', 'openstack_dashboard/dashboards/sahara/templates/job_executions/job_executions.html', 'openstack_dashboard/dashboards/sahara/job_executions/tables.py', 'openstack_dashboard/dashboards/sahara/job_executions/tabs.py', 'openstack_dashboard/dashboards/sahara/job_binaries/tabs.py', 'openstack_dashboard/dashboards/sahara/jobs/urls.py', 'openstack_dashboard/dashboards/sahara/jobs/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_launch_job_help.html', 'openstack_dashboard/dashboards/sahara/job_executions/views.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/_details.html', 'openstack_dashboard/dashboards/sahara/job_binaries/forms.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_create_job_help.html', 'openstack_dashboard/dashboards/sahara/templates/data_sources/create.html', 'openstack_dashboard/dashboards/sahara/jobs/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/create.html', 'openstack_dashboard/dashboards/sahara/job_binaries/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/_details.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/job_binaries_form_script.html', 'openstack_dashboard/dashboards/sahara/job_binaries/views.py', 'openstack_dashboard/dashboards/sahara/jobs/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/data_sources.html', 'openstack_dashboard/dashboards/sahara/job_executions/panel.py', 'openstack_dashboard/dashboards/sahara/templates/data_sources/details.html', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/_details.html', 'openstack_dashboard/dashboards/sahara/job_binaries/panel.py', 'openstack_dashboard/dashboards/sahara/templates/jobs/launch.html', 'openstack_dashboard/dashboards/sahara/data_sources/__init__.py', 'openstack_dashboard/dashboards/sahara/dashboard.py', 'openstack_dashboard/dashboards/sahara/templates/job_binaries/_create.html', 'openstack_dashboard/dashboards/sahara/data_sources/tabs.py']",58,72b5dc4b01f297dc8cc8517a8d073e5fceb2eb66,bp/merge-sahara-dashboard,"# Copyright (c) 2013 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import logging from django.utils.translation import ugettext_lazy as _ from horizon import tabs from openstack_dashboard.dashboards.sahara.api \ import client as saharaclient LOG = logging.getLogger(__name__) class GeneralTab(tabs.Tab): name = _(""General Info"") slug = ""data_source_details_tab"" template_name = (""data_sources/_details.html"") def get_context_data(self, request): data_source_id = self.tab_group.kwargs['data_source_id'] sahara = saharaclient.client(request) data_source = sahara.data_sources.get(data_source_id) return {""data_source"": data_source} class DataSourceDetailsTabs(tabs.TabGroup): slug = ""data_source_details"" tabs = (GeneralTab,) sticky = True ",,3058,0
openstack%2Fhorizon~master~Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e,openstack/horizon,master,Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e,Adding hadoop cluster-related panels to Sahara dashboard,ABANDONED,2014-04-11 13:35:35.000000000,2014-04-17 16:21:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5733}, {'_account_id': 7132}, {'_account_id': 8090}]","[{'number': 1, 'created': '2014-04-11 13:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/af811967cfb6b3fc977ef388ba71fef7b83e9595', 'message': 'Adding hadoop cluster-related panels to Sahara dashboard\n\nThis patch set represents the minimal set of panels that\nwork together to provide the hadoop cluster functionality\nof the Sahara dashboard.  The panels and a brief description\nare as follows:\n* plugins:  Displays the hadoop platform/versions supported\n  by the underlying api service.\n* image_registry:  Interface for ""tagging"" an image with a\n  hadoop platform/version.\n* nodegroup_templates:  Interface for defining ""types"" of nodes.\n  Here is where the hadoop processes that will be run on a given\n  node type are defined.\n* cluster_templates: Interface where one ore more nodegroup templates\n  can be combined to define the makeup of a cluster.\n* clusters:  Interface for launching and management of hadoop clusters.\n\nChange-Id: Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e\nPartial-Implements:  blueprint merge-sahara-dashboard\n'}, {'number': 2, 'created': '2014-04-11 13:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b0eaff2860fed55527db40552f35fd531b8441ec', 'message': 'Adding hadoop cluster-related panels to Sahara dashboard\n\nThis patch set represents the minimal set of panels that\nwork together to provide the hadoop cluster functionality\nof the Sahara dashboard.  The panels and a brief description\nare as follows:\n* plugins:  Displays the hadoop platform/versions supported\n  by the underlying api service.\n* image_registry:  Interface for ""tagging"" an image with a\n  hadoop platform/version.\n* nodegroup_templates:  Interface for defining ""types"" of nodes.\n  Here is where the hadoop processes that will be run on a given\n  node type are defined.\n* cluster_templates: Interface where one ore more nodegroup templates\n  can be combined to define the makeup of a cluster.\n* clusters:  Interface for launching and management of hadoop clusters.\n\nChange-Id: Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e\nPartial-Implements:  blueprint merge-sahara-dashboard\n'}, {'number': 3, 'created': '2014-04-15 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/242c7d2d993fc54889f96f1cdf5729c429549c87', 'message': 'Adding hadoop cluster-related panels to Sahara dashboard\n\nThis patch set represents the minimal set of panels that\nwork together to provide the hadoop cluster functionality\nof the Sahara dashboard.  The panels and a brief description\nare as follows:\n* plugins:  Displays the hadoop platform/versions supported\n  by the underlying api service.\n* image_registry:  Interface for ""tagging"" an image with a\n  hadoop platform/version.\n* nodegroup_templates:  Interface for defining ""types"" of nodes.\n  Here is where the hadoop processes that will be run on a given\n  node type are defined.\n* cluster_templates: Interface where one ore more nodegroup templates\n  can be combined to define the makeup of a cluster.\n* clusters:  Interface for launching and management of hadoop clusters.\n\nChange-Id: Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e\nPartial-Implements:  blueprint merge-sahara-dashboard\n'}, {'number': 4, 'created': '2014-04-15 14:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/542b4baf0fff4d83fc01a716ff96cff0f0e5f6c6', 'message': 'Adding hadoop cluster-related panels to Sahara dashboard\n\nThis patch set represents the minimal set of panels that\nwork together to provide the hadoop cluster functionality\nof the Sahara dashboard.  The panels and a brief description\nare as follows:\n* plugins:  Displays the hadoop platform/versions supported\n  by the underlying api service.\n* image_registry:  Interface for ""tagging"" an image with a\n  hadoop platform/version.\n* nodegroup_templates:  Interface for defining ""types"" of nodes.\n  Here is where the hadoop processes that will be run on a given\n  node type are defined.\n* cluster_templates: Interface where one ore more nodegroup templates\n  can be combined to define the makeup of a cluster.\n* clusters:  Interface for launching and management of hadoop clusters.\nThis code was originally from: https://github.com/openstack/sahara-dashboard\n\nChange-Id: Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 5, 'created': '2014-04-17 14:01:34.000000000', 'files': ['openstack_dashboard/dashboards/sahara/templates/cluster_templates/_nodegroups_details.html', 'openstack_dashboard/dashboards/sahara/image_registry/__init__.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/workflows/create.py', 'openstack_dashboard/dashboards/sahara/clusters/workflows/scale.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/cluster_templates.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_nodegroups_details.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/create_cluster.html', 'openstack_dashboard/dashboards/sahara/plugins/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/edit_tags.html', 'openstack_dashboard/dashboards/sahara/templates/plugins/details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/create.html', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/workflows/copy.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/forms.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/urls.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_register_image.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/panel.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/views.py', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_configure_general_help.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_fields_help.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_edit_tags.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_create_cluster.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/configure.html', 'openstack_dashboard/dashboards/sahara/image_registry/tables.py', 'openstack_dashboard/dashboards/sahara/clusters/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_help.html', 'openstack_dashboard/dashboards/sahara/plugins/tables.py', 'openstack_dashboard/dashboards/sahara/templates/plugins/plugins.html', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/register_image.html', 'openstack_dashboard/dashboards/sahara/plugins/views.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/_configure_general_help.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/create.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_service_confs.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/_instances_details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_create_general_help.html', 'openstack_dashboard/dashboards/sahara/clusters/tables.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/configure.html', 'openstack_dashboard/dashboards/sahara/templates/plugins/_details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/upload_file.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_tag_form.html', 'openstack_dashboard/dashboards/sahara/image_registry/urls.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/__init__.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/workflows/copy.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_configure_general_help.html', 'openstack_dashboard/dashboards/sahara/clusters/urls.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/views.py', 'openstack_dashboard/dashboards/sahara/image_registry/views.py', 'openstack_dashboard/dashboards/sahara/plugins/panel.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/configure.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_processes_list.html', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/tables.py', 'openstack_dashboard/dashboards/sahara/clusters/panel.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_details.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_create_general_help.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/plugins/urls.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/urls.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/create.html', 'openstack_dashboard/dashboards/sahara/clusters/__init__.py', 'openstack_dashboard/dashboards/sahara/image_registry/forms.py', 'openstack_dashboard/dashboards/sahara/plugins/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/plugins/_versions_list.html', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_create_general_help.html', 'openstack_dashboard/dashboards/sahara/clusters/views.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/panel.py', 'openstack_dashboard/dashboards/sahara/dashboard.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/tables.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/scale.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/clusters.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_list_tags.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/image_registry.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_nodegroups_list.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/cluster_node_groups_template.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/nodegroup_templates.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_upload_file.html', 'openstack_dashboard/dashboards/sahara/image_registry/panel.py', 'openstack_dashboard/dashboards/sahara/clusters/tabs.py', 'openstack_dashboard/dashboards/sahara/clusters/workflows/__init__.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d1a7646b699341377dc2bf9fe39286f1a2d8182', 'message': 'Adding hadoop cluster-related panels to Sahara dashboard\n\nThis patch set represents the minimal set of panels that\nwork together to provide the hadoop cluster functionality\nof the Sahara dashboard.  The panels and a brief description\nare as follows:\n* plugins:  Displays the hadoop platform/versions supported\n  by the underlying api service.\n* image_registry:  Interface for ""tagging"" an image with a\n  hadoop platform/version.\n* nodegroup_templates:  Interface for defining ""types"" of nodes.\n  Here is where the hadoop processes that will be run on a given\n  node type are defined.\n* cluster_templates: Interface where one ore more nodegroup templates\n  can be combined to define the makeup of a cluster.\n* clusters:  Interface for launching and management of hadoop clusters.\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}]",2,86898,6d1a7646b699341377dc2bf9fe39286f1a2d8182,43,4,5,8090,,,0,"Adding hadoop cluster-related panels to Sahara dashboard

This patch set represents the minimal set of panels that
work together to provide the hadoop cluster functionality
of the Sahara dashboard.  The panels and a brief description
are as follows:
* plugins:  Displays the hadoop platform/versions supported
  by the underlying api service.
* image_registry:  Interface for ""tagging"" an image with a
  hadoop platform/version.
* nodegroup_templates:  Interface for defining ""types"" of nodes.
  Here is where the hadoop processes that will be run on a given
  node type are defined.
* cluster_templates: Interface where one ore more nodegroup templates
  can be combined to define the makeup of a cluster.
* clusters:  Interface for launching and management of hadoop clusters.
This code was originally from:
https://github.com/openstack/sahara-dashboard

Change-Id: Ib0a0ea5dfa82e44981c27dbfabcfee5a9b86620e
Partial-Implements:  blueprint merge-sahara-dashboard
Co-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>
Co-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/98/86898/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/sahara/templates/cluster_templates/_nodegroups_details.html', 'openstack_dashboard/dashboards/sahara/image_registry/__init__.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/workflows/create.py', 'openstack_dashboard/dashboards/sahara/clusters/workflows/scale.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/cluster_templates.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_nodegroups_details.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/create_cluster.html', 'openstack_dashboard/dashboards/sahara/plugins/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/edit_tags.html', 'openstack_dashboard/dashboards/sahara/templates/plugins/details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/create.html', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/workflows/copy.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/forms.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/urls.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_register_image.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/panel.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/views.py', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_configure_general_help.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_fields_help.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_edit_tags.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_create_cluster.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_details.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/configure.html', 'openstack_dashboard/dashboards/sahara/image_registry/tables.py', 'openstack_dashboard/dashboards/sahara/clusters/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_help.html', 'openstack_dashboard/dashboards/sahara/plugins/tables.py', 'openstack_dashboard/dashboards/sahara/templates/plugins/plugins.html', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/image_registry/register_image.html', 'openstack_dashboard/dashboards/sahara/plugins/views.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/_configure_general_help.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/create.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_service_confs.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/workflows/create.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/_instances_details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_create_general_help.html', 'openstack_dashboard/dashboards/sahara/clusters/tables.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/configure.html', 'openstack_dashboard/dashboards/sahara/templates/plugins/_details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/details.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/upload_file.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_tag_form.html', 'openstack_dashboard/dashboards/sahara/image_registry/urls.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/__init__.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/workflows/copy.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_configure_general_help.html', 'openstack_dashboard/dashboards/sahara/clusters/urls.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/views.py', 'openstack_dashboard/dashboards/sahara/image_registry/views.py', 'openstack_dashboard/dashboards/sahara/plugins/panel.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/configure.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_processes_list.html', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/tables.py', 'openstack_dashboard/dashboards/sahara/clusters/panel.py', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_details.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/_create_general_help.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/workflows/__init__.py', 'openstack_dashboard/dashboards/sahara/plugins/urls.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/urls.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/create.html', 'openstack_dashboard/dashboards/sahara/clusters/__init__.py', 'openstack_dashboard/dashboards/sahara/image_registry/forms.py', 'openstack_dashboard/dashboards/sahara/plugins/__init__.py', 'openstack_dashboard/dashboards/sahara/templates/plugins/_versions_list.html', 'openstack_dashboard/dashboards/sahara/cluster_templates/tabs.py', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/_create_general_help.html', 'openstack_dashboard/dashboards/sahara/clusters/views.py', 'openstack_dashboard/dashboards/sahara/nodegroup_templates/panel.py', 'openstack_dashboard/dashboards/sahara/dashboard.py', 'openstack_dashboard/dashboards/sahara/cluster_templates/tables.py', 'openstack_dashboard/dashboards/sahara/templates/clusters/scale.html', 'openstack_dashboard/dashboards/sahara/templates/clusters/clusters.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/_list_tags.html', 'openstack_dashboard/dashboards/sahara/templates/image_registry/image_registry.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_nodegroups_list.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/cluster_node_groups_template.html', 'openstack_dashboard/dashboards/sahara/templates/nodegroup_templates/nodegroup_templates.html', 'openstack_dashboard/dashboards/sahara/templates/cluster_templates/_upload_file.html', 'openstack_dashboard/dashboards/sahara/image_registry/panel.py', 'openstack_dashboard/dashboards/sahara/clusters/tabs.py', 'openstack_dashboard/dashboards/sahara/clusters/workflows/__init__.py']",87,af811967cfb6b3fc977ef388ba71fef7b83e9595,bp/merge-sahara-dashboard,,,4313,0
openstack%2Fhorizon~master~I306c335921ed2881d22942045323234d76097f26,openstack/horizon,master,I306c335921ed2881d22942045323234d76097f26,Selenium-based tests for the Sahara dashboard,ABANDONED,2014-04-11 14:42:14.000000000,2014-04-17 16:11:46.000000000,,"[{'_account_id': 3}, {'_account_id': 8090}]","[{'number': 1, 'created': '2014-04-11 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea21dc7df04b273f718e94bff580843f5d15832f', 'message': 'Selenium-based tests for the Sahara dashboard\n\nA set of selenium-based tests for the Sahara dashboard.\nThe tests cover a great deal of the Sahara funcitonality such as:\n* tagging images\n* creating/deleting node group templates\n* creating/deleting cluster templates\n* creating/deleting EDP jobs and their components\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: I306c335921ed2881d22942045323234d76097f26\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 3, 'created': '2014-04-11 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b3543326bde47c30e446e9c9fe6f591a60a9cfe', 'message': 'Selenium-based tests for the Sahara dashboard\n\nA set of selenium-based tests for the Sahara dashboard.\nThe tests cover a great deal of the Sahara funcitonality such as:\n* tagging images\n* creating/deleting node group templates\n* creating/deleting cluster templates\n* creating/deleting EDP jobs and their components\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: I306c335921ed2881d22942045323234d76097f26\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 2, 'created': '2014-04-11 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4c483b2642d8cfd4a05f5cc6f72db6f686fce1ce', 'message': 'Selenium-based tests for the Sahara dashboard\n\nA set of selenium-based tests for the Sahara dashboard.\nThe tests cover a great deal of the Sahara funcitonality such as:\n* tagging images\n* creating/deleting node group templates\n* creating/deleting cluster templates\n* creating/deleting EDP jobs and their components\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: I306c335921ed2881d22942045323234d76097f26\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 5, 'created': '2014-04-11 14:42:14.000000000', 'files': ['openstack_dashboard/dashboards/sahara/tests/cluster_tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/resources/edp-job.pig', 'openstack_dashboard/dashboards/sahara/tests/image_registry_tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/image_registry_tests/test_for_image_registry.py', 'openstack_dashboard/dashboards/sahara/tests/cluster_template_tests/negative_tests.py', 'openstack_dashboard/dashboards/sahara/tests/node_group_template_tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/resources/edp-lib.jar', 'openstack_dashboard/dashboards/sahara/tests/resources/README.rst', 'openstack_dashboard/dashboards/sahara/tests/configs/config.conf.sample', 'openstack_dashboard/dashboards/sahara/tests/cluster_template_tests/test_create_cluster_template.py', 'openstack_dashboard/dashboards/sahara/tests/node_group_template_tests/negative_tests.py', 'openstack_dashboard/dashboards/sahara/tests/configs/config.py', 'openstack_dashboard/dashboards/sahara/tests/node_group_template_tests/test_create_node_group_template.py', 'openstack_dashboard/dashboards/sahara/tests/README.rst', 'openstack_dashboard/dashboards/sahara/tests/resources/edp-job.jar', 'openstack_dashboard/dashboards/sahara/tests/cluster_tests/test_clusters.py', 'openstack_dashboard/dashboards/sahara/tests/configs/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/base.py', 'openstack_dashboard/dashboards/sahara/tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/cluster_template_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c457ae4b32629d17be26c09a23c9bd42a2b92eeb', 'message': 'Selenium-based tests for the Sahara dashboard\n\nA set of selenium-based tests for the Sahara dashboard.\nThe tests cover a great deal of the Sahara funcitonality such as:\n* tagging images\n* creating/deleting node group templates\n* creating/deleting cluster templates\n* creating/deleting EDP jobs and their components\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: I306c335921ed2881d22942045323234d76097f26\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}, {'number': 4, 'created': '2014-04-11 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/03240d26b8b8aede833039496b82368fc164bb00', 'message': 'Selenium-based tests for the Sahara dashboard\n\nA set of selenium-based tests for the Sahara dashboard.\nThe tests cover a great deal of the Sahara funcitonality such as:\n* tagging images\n* creating/deleting node group templates\n* creating/deleting cluster templates\n* creating/deleting EDP jobs and their components\nThis code was originally from:\nhttps://github.com/openstack/sahara-dashboard\n\nChange-Id: I306c335921ed2881d22942045323234d76097f26\nPartial-Implements:  blueprint merge-sahara-dashboard\nCo-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>\nCo-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>\n'}]",0,86920,c457ae4b32629d17be26c09a23c9bd42a2b92eeb,20,2,5,8090,,,0,"Selenium-based tests for the Sahara dashboard

A set of selenium-based tests for the Sahara dashboard.
The tests cover a great deal of the Sahara funcitonality such as:
* tagging images
* creating/deleting node group templates
* creating/deleting cluster templates
* creating/deleting EDP jobs and their components
This code was originally from:
https://github.com/openstack/sahara-dashboard

Change-Id: I306c335921ed2881d22942045323234d76097f26
Partial-Implements:  blueprint merge-sahara-dashboard
Co-Authored-By: Nikita Konovalov <nkonovalov@mirantis.com>
Co-Authored-By: Dmitry Mescheryakov <dmescheryakov@mirantis.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/86920/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/sahara/tests/cluster_tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/resources/edp-job.pig', 'openstack_dashboard/dashboards/sahara/tests/image_registry_tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/image_registry_tests/test_for_image_registry.py', 'openstack_dashboard/dashboards/sahara/tests/cluster_template_tests/negative_tests.py', 'openstack_dashboard/dashboards/sahara/tests/node_group_template_tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/resources/edp-lib.jar', 'openstack_dashboard/dashboards/sahara/tests/resources/README.rst', 'openstack_dashboard/dashboards/sahara/tests/configs/config.conf.sample', 'openstack_dashboard/dashboards/sahara/tests/cluster_template_tests/test_create_cluster_template.py', 'openstack_dashboard/dashboards/sahara/tests/node_group_template_tests/negative_tests.py', 'openstack_dashboard/dashboards/sahara/tests/configs/config.py', 'openstack_dashboard/dashboards/sahara/tests/node_group_template_tests/test_create_node_group_template.py', 'openstack_dashboard/dashboards/sahara/tests/README.rst', 'openstack_dashboard/dashboards/sahara/tests/resources/edp-job.jar', 'openstack_dashboard/dashboards/sahara/tests/cluster_tests/test_clusters.py', 'openstack_dashboard/dashboards/sahara/tests/configs/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/base.py', 'openstack_dashboard/dashboards/sahara/tests/__init__.py', 'openstack_dashboard/dashboards/sahara/tests/cluster_template_tests/__init__.py']",20,ea21dc7df04b273f718e94bff580843f5d15832f,bp/merge-sahara-dashboard,,,1625,0
openstack%2Fopenstack-manuals~master~Ibd14c78e6b9d1589935f572fa31040c5fd2f7827,openstack/openstack-manuals,master,Ibd14c78e6b9d1589935f572fa31040c5fd2f7827,Add service_provider config option,MERGED,2014-04-17 13:30:41.000000000,2014-04-17 16:04:30.000000000,2014-04-17 16:04:29.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6843}, {'_account_id': 9515}]","[{'number': 1, 'created': '2014-04-17 13:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7b33a8ed6220e742c6b5a8010e677d186c6932eb', 'message': 'Add service_provider config option\n\nThe service_provider config option was left off from this page.\nThis patch adds it in so FWaaS will work now.\n\nCloses Bug: #1308726\n\nChange-Id: Ibd14c78e6b9d1589935f572fa31040c5fd2f7827\n'}, {'number': 2, 'created': '2014-04-17 13:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ba4f459f507bdb36bdddf59453cd9a52304692ca', 'message': 'Add service_provider config option\n\nThe service_provider config option was left off from this page.\nThis patch adds it in so FWaaS will work now.\n\nCloses Bug: 1308726\n\nChange-Id: Ibd14c78e6b9d1589935f572fa31040c5fd2f7827\n'}, {'number': 3, 'created': '2014-04-17 13:38:58.000000000', 'files': ['doc/admin-guide-cloud/networking/section_networking_introduction.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0730e19a93993cdb200cc7d0568c7f517743442a', 'message': 'Add service_provider config option\n\nThe service_provider config option was left off from this page.\nThis patch adds it in so FWaaS will work now.\n\nCloses-Bug: 1308726\n\nChange-Id: Ibd14c78e6b9d1589935f572fa31040c5fd2f7827\n'}]",1,88288,0730e19a93993cdb200cc7d0568c7f517743442a,15,5,3,6843,,,0,"Add service_provider config option

The service_provider config option was left off from this page.
This patch adds it in so FWaaS will work now.

Closes-Bug: 1308726

Change-Id: Ibd14c78e6b9d1589935f572fa31040c5fd2f7827
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/88288/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/networking/section_networking_introduction.xml'],1,7b33a8ed6220e742c6b5a8010e677d186c6932eb,bug/1308726,[service_providers] service_provider=LOADBALANCER:Haproxy:neutron.services.loadbalancer.drivers.haproxy.plugin_driver.HaproxyOnHostPluginDriver:default,,2,0
openstack%2Ffuel-main~stable%2F4.1~I2a0377dc4a4dffff9a1d5d4fc53c601fe81733cb,openstack/fuel-main,stable/4.1,I2a0377dc4a4dffff9a1d5d4fc53c601fe81733cb,Remove thread_3 group from bonding tests,MERGED,2014-04-17 12:43:06.000000000,2014-04-17 15:57:53.000000000,2014-04-17 15:57:53.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-17 12:43:06.000000000', 'files': ['fuelweb_test/tests/test_bonding.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/83523b49883a55405b9e06d60beedb63ec1805da', 'message': 'Remove thread_3 group from bonding tests\n\nChange-Id: I2a0377dc4a4dffff9a1d5d4fc53c601fe81733cb\n'}]",0,88275,83523b49883a55405b9e06d60beedb63ec1805da,9,5,1,10136,,,0,"Remove thread_3 group from bonding tests

Change-Id: I2a0377dc4a4dffff9a1d5d4fc53c601fe81733cb
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/75/88275/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_bonding.py'],1,83523b49883a55405b9e06d60beedb63ec1805da,fixBondGroups,"@test(groups=[""bonding_simple"", ""bonding""])@test(groups=[""bonding_ha"", ""bonding""])","@test(groups=[""thread_3"", ""bonding_simple"", ""bonding""])@test(groups=[""thread_3"", ""bonding_ha"", ""bonding""])",2,2
openstack%2Fmagnetodb~master~Id2546d0baff4da17b15632ce670adbc303403f5c,openstack/magnetodb,master,Id2546d0baff4da17b15632ce670adbc303403f5c,Moved magnetodb config files to /etc/ directory,MERGED,2014-04-16 14:57:24.000000000,2014-04-17 15:57:46.000000000,2014-04-17 15:57:46.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 10676}]","[{'number': 1, 'created': '2014-04-16 14:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/8d578cc7a4d96ec3238c7bd85a8588f7e70dc676', 'message': 'Moved magnetodb config files to /etc/ directory\n\nChange-Id: Id2546d0baff4da17b15632ce670adbc303403f5c\n'}, {'number': 2, 'created': '2014-04-16 15:33:17.000000000', 'files': ['contrib/devstack/lib/magnetodb', 'functionaltests/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/346b2706692d43d6ba84ebb8e14217492225875c', 'message': 'Moved magnetodb config files to /etc/ directory\n\nImplements: blueprint move-configs-to-etc\nChange-Id: Id2546d0baff4da17b15632ce670adbc303403f5c\n'}]",0,87989,346b2706692d43d6ba84ebb8e14217492225875c,13,4,2,10676,,,0,"Moved magnetodb config files to /etc/ directory

Implements: blueprint move-configs-to-etc
Change-Id: Id2546d0baff4da17b15632ce670adbc303403f5c
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/89/87989/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/lib/magnetodb', 'functionaltests/post_test_hook.sh']",2,8d578cc7a4d96ec3238c7bd85a8588f7e70dc676,bp/move-configs-to-etc,,sudo mkdir $LOGS_DIR/magnetodb_etc/ sudo cp -r etc/* $LOGS_DIR/magnetodb_etc/,8,4
openstack%2Ffuel-library~master~I877abc85f36980da17ec71c5a2fa51fa243137c8,openstack/fuel-library,master,I877abc85f36980da17ec71c5a2fa51fa243137c8,Fix cobbler fence_ssh script to support newer agent,MERGED,2014-04-15 17:38:01.000000000,2014-04-17 15:56:59.000000000,2014-04-17 15:56:57.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 3009}, {'_account_id': 8777}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 17:38:01.000000000', 'files': ['deployment/puppet/nailgun/templates/cobbler/fence_ssh.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ec4b8ace741dc79ab6f32a6c7fa05ad9d5982815', 'message': 'Fix cobbler fence_ssh script to support newer agent\n\nChange-Id: I877abc85f36980da17ec71c5a2fa51fa243137c8\n'}]",0,87740,ec4b8ace741dc79ab6f32a6c7fa05ad9d5982815,17,6,1,8786,,,0,"Fix cobbler fence_ssh script to support newer agent

Change-Id: I877abc85f36980da17ec71c5a2fa51fa243137c8
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/40/87740/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/templates/cobbler/fence_ssh.erb'],1,ec4b8ace741dc79ab6f32a6c7fa05ad9d5982815,master," options[""-X""] = ""-t -o 'StrictHostKeyChecking=no' '/bin/bash -c \""PS1=%s /bin/bash --noprofile --norc\""'"" % options[""-c""]",,1,0
openstack%2Fcinder~master~If2c7b061753bbbd172a09d35b343e73e90a1b7b4,openstack/cinder,master,If2c7b061753bbbd172a09d35b343e73e90a1b7b4,"Create volume fail when image id is """"",MERGED,2014-04-04 14:05:47.000000000,2014-04-17 15:54:50.000000000,2014-04-17 15:54:49.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 8874}, {'_account_id': 9101}]","[{'number': 1, 'created': '2014-04-04 14:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b110175b2555a6fbbeec5397aee0983f187a3dfc', 'message': 'Create empty volume when snapshot id is """" or srv volume is """"\n\nWhen call create volume api with image id """", it will create an empty volume.But when create volume with snapshot id """" or srv volume """", it will return an 404 error.So we should create an empty volume when call create volume api with snapshot id """" or srv volume """".\n\nChange-Id: If2c7b061753bbbd172a09d35b343e73e90a1b7b4\nCloses-Bug: #1302609\n'}, {'number': 2, 'created': '2014-04-05 14:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e8fb0ece659c9541d7fab801ea58449813a48b3', 'message': 'Create volume fail when image id is """"\n\nWhen call create volume api with image id """", it will create an empty\nvolume.\nBut when create volume with snapshot id """" or srv volume """", it will\nreturn an 404 error.\nSo it should create volume fail when call create volume api with image id\n"""".\n\nChange-Id: If2c7b061753bbbd172a09d35b343e73e90a1b7b4\nCloses-Bug: #1302609\n'}, {'number': 3, 'created': '2014-04-10 03:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/816f1616cfd7986180a547861125d703fe98976c', 'message': 'Create volume fail when image id is """"\n\nWhen call create volume api with image id """", it will create an empty\nvolume.\nBut when create volume with snapshot id """" or srv volume """", it will\nreturn an 404 error.\nSo it should create volume fail when call create volume api with image id\n"""".\n\nChange-Id: If2c7b061753bbbd172a09d35b343e73e90a1b7b4\nCloses-Bug: #1302609\n'}, {'number': 4, 'created': '2014-04-16 08:16:21.000000000', 'files': ['cinder/tests/api/v1/test_volumes.py', 'cinder/api/v2/volumes.py', 'cinder/api/v1/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/api/v2/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eacab523be3d8f2f97809c785dba98e5e2e75c7b', 'message': 'Create volume fail when image id is """"\n\nWhen call create volume api with image id """", it will create an empty\nvolume.\nBut when create volume with snapshot id """" or srv volume """", it will\nreturn an 404 error.\nSo it should create volume fail when call create volume api with image id\n"""".\n\nChange-Id: If2c7b061753bbbd172a09d35b343e73e90a1b7b4\nCloses-Bug: #1302609\n'}]",0,85357,eacab523be3d8f2f97809c785dba98e5e2e75c7b,25,5,4,8874,,,0,"Create volume fail when image id is """"

When call create volume api with image id """", it will create an empty
volume.
But when create volume with snapshot id """" or srv volume """", it will
return an 404 error.
So it should create volume fail when call create volume api with image id
"""".

Change-Id: If2c7b061753bbbd172a09d35b343e73e90a1b7b4
Closes-Bug: #1302609
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/85357/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/v2/volumes.py'],1,b110175b2555a6fbbeec5397aee0983f187a3dfc,bug/1302609, if not snapshot_id: if not source_volid:, if snapshot_id is not None: if source_volid is not None:,2,2
openstack%2Fmurano-dashboard~master~I89274faf8c00d11d407cb3d553f41d65d5b76d55,openstack/murano-dashboard,master,I89274faf8c00d11d407cb3d553f41d65d5b76d55,Fix Quick Environment not deleting on errors,MERGED,2014-04-15 13:32:15.000000000,2014-04-17 15:54:32.000000000,2014-04-17 15:54:32.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7562}, {'_account_id': 8127}, {'_account_id': 8443}]","[{'number': 1, 'created': '2014-04-15 13:32:15.000000000', 'files': ['muranodashboard/catalog/views.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f72a8d0d2bf10fbbcd60f8e874b7daf2c8d4a946', 'message': 'Fix Quick Environment not deleting on errors\n\nIf loading UI definition fails during Quick Deploy, delete that quick\nEnvironment.\n\nChange-Id: I89274faf8c00d11d407cb3d553f41d65d5b76d55\nCloses-Bug: #1307586\n'}]",0,87618,f72a8d0d2bf10fbbcd60f8e874b7daf2c8d4a946,11,7,1,8040,,,0,"Fix Quick Environment not deleting on errors

If loading UI definition fails during Quick Deploy, delete that quick
Environment.

Change-Id: I89274faf8c00d11d407cb3d553f41d65d5b76d55
Closes-Bug: #1307586
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/18/87618/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/catalog/views.py'],1,f72a8d0d2bf10fbbcd60f8e874b7daf2c8d4a946,bug/1307586," try: return views.Wizard.as_view(services.get_app_forms, do_redirect=True)( request, app_id=app_id, environment_id=env.id) except: api.environment_delete(request, env.id) raise"," return views.Wizard.as_view(services.get_app_forms, do_redirect=True)( request, app_id=app_id, environment_id=env.id)",6,2
openstack%2Fironic-python-agent~master~Ie46470d888ff11edaf16b94e5b2e716d13cf764f,openstack/ironic-python-agent,master,Ie46470d888ff11edaf16b94e5b2e716d13cf764f,Deprecated extension name attribute,MERGED,2014-04-15 11:57:33.000000000,2014-04-17 15:50:55.000000000,2014-04-17 15:50:55.000000000,"[{'_account_id': 3}, {'_account_id': 8003}, {'_account_id': 10380}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-04-15 11:57:33.000000000', 'files': ['ironic_python_agent/extensions/base.py', 'ironic_python_agent/extensions/decom.py', 'ironic_python_agent/tests/extensions/standby.py', 'ironic_python_agent/extensions/flow.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/tests/extensions/base.py', 'ironic_python_agent/tests/extensions/flow.py', 'ironic_python_agent/tests/extensions/decom.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9e153253e59f6d1e23c3d974684a6447b795cf7e', 'message': 'Deprecated extension name attribute\n\nIt seems not to be used, so it is not needed.\n\nChange-Id: Ie46470d888ff11edaf16b94e5b2e716d13cf764f\nCloses-Bug: #1308017\n'}]",0,87557,9e153253e59f6d1e23c3d974684a6447b795cf7e,10,4,1,3009,,,0,"Deprecated extension name attribute

It seems not to be used, so it is not needed.

Change-Id: Ie46470d888ff11edaf16b94e5b2e716d13cf764f
Closes-Bug: #1308017
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/57/87557/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/base.py', 'ironic_python_agent/extensions/decom.py', 'ironic_python_agent/tests/extensions/standby.py', 'ironic_python_agent/extensions/flow.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/tests/extensions/base.py', 'ironic_python_agent/tests/extensions/flow.py', 'ironic_python_agent/tests/extensions/decom.py']",8,9e153253e59f6d1e23c3d974684a6447b795cf7e,base_extension_name,," def test_decom_extension(self): self.assertEqual(self.agent_extension.name, 'DECOM')",6,16
openstack%2Fcinder~master~Ic962613fd7ee3e978890c25f911f509e9533ef8a,openstack/cinder,master,Ic962613fd7ee3e978890c25f911f509e9533ef8a,Adjust sample config for keystoneclient 0.8.0 release,MERGED,2014-04-17 13:33:44.000000000,2014-04-17 15:48:20.000000000,2014-04-17 15:48:19.000000000,"[{'_account_id': 3}, {'_account_id': 2243}]","[{'number': 1, 'created': '2014-04-17 13:33:44.000000000', 'files': ['etc/cinder/cinder.conf.sample'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da2dbd35de752d4dd47859c8b9197b00c53dd872', 'message': 'Adjust sample config for keystoneclient 0.8.0 release\n\nHelps fixing the gate again.\n\nChange-Id: Ic962613fd7ee3e978890c25f911f509e9533ef8a\n'}]",0,88291,da2dbd35de752d4dd47859c8b9197b00c53dd872,7,2,1,6593,,,0,"Adjust sample config for keystoneclient 0.8.0 release

Helps fixing the gate again.

Change-Id: Ic962613fd7ee3e978890c25f911f509e9533ef8a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/88291/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/cinder.conf.sample'],1,da2dbd35de752d4dd47859c8b9197b00c53dd872,,"# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value)# Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value)# Port of the admin Identity API endpoint. Deprecated, use # identity_uri. (integer value)# Protocol of the admin Identity API endpoint (http or https). # Deprecated, use identity_uri. (string value)# Complete admin Identity API endpoint. This should specify # the unversioned root endpoint eg. https://localhost:35357/ # (string value) #identity_uri=<None> ",# Prefix to prepend at the beginning of the path (string # value)# Host providing the admin Identity API endpoint (string # value)# Port of the admin Identity API endpoint (integer value)# Protocol of the admin Identity API endpoint(http or https) # (string value),13,7
openstack%2Fhorizon~master~Ie0b0f40966f6bf98f693a971fdb498537842b21e,openstack/horizon,master,Ie0b0f40966f6bf98f693a971fdb498537842b21e,Add missing comma in Volume ResourceWrapper class,MERGED,2014-04-16 16:36:49.000000000,2014-04-17 15:48:16.000000000,2014-04-17 15:48:16.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4978}, {'_account_id': 6610}, {'_account_id': 7386}, {'_account_id': 8305}, {'_account_id': 8429}, {'_account_id': 8794}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 10295}]","[{'number': 1, 'created': '2014-04-16 16:36:49.000000000', 'files': ['openstack_dashboard/api/cinder.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c45449c3a979c15ae414934fe162fbb4f0502ba0', 'message': 'Add missing comma in Volume ResourceWrapper class\n\nChange-Id: Ie0b0f40966f6bf98f693a971fdb498537842b21e\nCloses-Bug: #1308642\n'}]",0,88021,c45449c3a979c15ae414934fe162fbb4f0502ba0,24,11,1,1941,,,0,"Add missing comma in Volume ResourceWrapper class

Change-Id: Ie0b0f40966f6bf98f693a971fdb498537842b21e
Closes-Bug: #1308642
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/88021/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/cinder.py'],1,c45449c3a979c15ae414934fe162fbb4f0502ba0,bug/1308642," 'volume_type', 'availability_zone', 'imageRef', 'bootable',"," 'volume_type', 'availability_zone', 'imageRef', 'bootable'",1,1
openstack%2Fpython-cinderclient~master~I308561c1d5a70812889a93922e13194597f670f1,openstack/python-cinderclient,master,I308561c1d5a70812889a93922e13194597f670f1,Fix malformed encryption-type body in test cases,MERGED,2014-02-28 18:17:33.000000000,2014-04-17 15:48:14.000000000,2014-04-17 15:48:14.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 6802}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-02-28 18:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bab098ca18ac61a496c9093ca69f4df35ea621b0', 'message': 'Fix malformed encryption-type body in test cases\n\nThis change addresses bug #1286261 and fixes two malformed\nencryption-type bodies in two test_create test cases.\n\nChange-Id: I308561c1d5a70812889a93922e13194597f670f1\nCloses-Bug: #1286261\n'}, {'number': 2, 'created': '2014-02-28 18:17:33.000000000', 'files': ['cinderclient/tests/v2/test_volume_encryption_types.py', 'cinderclient/tests/v1/test_volume_encryption_types.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/51ffb26437071e90a236767bc18d63bc7cabc2ce', 'message': 'Fix malformed encryption-type body in test cases\n\nThis change addresses bug #1286261 and fixes two malformed\nencryption-type bodies in two test_create test cases.\n\nChange-Id: I308561c1d5a70812889a93922e13194597f670f1\nCloses-Bug: #1286261\n'}]",0,77235,51ffb26437071e90a236767bc18d63bc7cabc2ce,17,4,2,7764,,,0,"Fix malformed encryption-type body in test cases

This change addresses bug #1286261 and fixes two malformed
encryption-type bodies in two test_create test cases.

Change-Id: I308561c1d5a70812889a93922e13194597f670f1
Closes-Bug: #1286261
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/35/77235/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/v2/test_volume_encryption_types.py', 'cinderclient/tests/v1/test_volume_encryption_types.py']",2,bab098ca18ac61a496c9093ca69f4df35ea621b0,bug/1286261," result = cs.volume_encryption_types.create(2, {'provider': 'Test', 'key_size': None, 'cipher': None, 'control_location': None})"," result = cs.volume_encryption_types.create(2, {'encryption': {'provider': 'Test', 'key_size': None, 'cipher': None, 'control_location': None}})",10,12
openstack%2Ftripleo-incubator~master~I85e43df1cf1201b07131acf4985edfdf99cef30c,openstack/tripleo-incubator,master,I85e43df1cf1201b07131acf4985edfdf99cef30c,Add some clarity to the first-time user experience,MERGED,2014-03-27 05:40:19.000000000,2014-04-17 15:46:58.000000000,2014-04-17 15:46:57.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 1926}, {'_account_id': 4190}, {'_account_id': 4330}, {'_account_id': 5639}, {'_account_id': 6153}, {'_account_id': 6488}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7419}, {'_account_id': 7585}, {'_account_id': 8399}, {'_account_id': 9453}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-03-27 05:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/3f008a3569c90887a45b21063d076cdbc0b2151f', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.thml - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first.\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 2, 'created': '2014-03-27 06:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/b755873afec6931cd759cd080f2e4144f31efb90', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.thml - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 3, 'created': '2014-03-27 06:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/46965e4b12f4ef647a54f4cff32d0ecf4110080a', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.thml - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 4, 'created': '2014-03-27 23:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ef07799d89136b1ba5c0cb15e5fc8c685f3e6802', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.thml - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 5, 'created': '2014-03-30 03:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/6bccfca0017a78449fd2df0a0a0a6c89a8034a5b', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.thml - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 6, 'created': '2014-03-30 03:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c81ef50fd076ab5458ac8ce8b67bf0bb7eb83a97', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.thml - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 7, 'created': '2014-03-31 23:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/f8767c987a7306b100c76276400cccdd29326276', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 8, 'created': '2014-03-31 23:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/8239956d25a495e25d801c65b93eab29872924c1', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 9, 'created': '2014-04-01 03:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ac569c921405f862d963c6844ef846cab0e2bb2e', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 10, 'created': '2014-04-06 23:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c087bf08c31a4ba73480524d7bd8097f47249b84', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 11, 'created': '2014-04-06 23:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/a8655ca34d8afe4fcb3070403f19125007b5a1a1', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 12, 'created': '2014-04-06 23:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/3488aff17aa1d9b26c4f22ee017b58dff7b4cac6', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 13, 'created': '2014-04-06 23:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/0f8b629947c7b32382d862486cfefd2576365036', 'message': 'Add some clarity to the first-time user experience\n\n* Explicitly instruct the user to set $TRIPLEO_ROOT. Although there\'s a\n  default value provided with no comments, this should be enough to\n  prompt the user to set it to some other value if they prefer.\n* Remove the aspirational instruction to ""git checkout <stable-branch"" -\n  we can add that back just as soon as we get one.\n* devtest_variables.sh tells the user to do one thing, but does\n  something different. Remove the surprise by having the script do as it\n  says to do.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nThis also avoids the trap where a user does the initial checkout into\n~/src/tripleo-incubator (or ~/openstack/tripleo-incubator, or ...) and\nthen later edits scripts there and wonders why the changes don\'t get\npicked up.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n'}, {'number': 14, 'created': '2014-04-09 22:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/cb245cef74949a09716bfe6663b61deb37a98016', 'message': ""Add some clarity to the first-time user experience\n\nIf a user follows the instructions in devtest, they'll first check out\ntriple-incubator somewhere; then run scripts inside it, which (unknown\nto them) check out a different copy of tripleo-incubator into ~/.cache.\n\nThis causes several surprises for the user: they'll be surprised to find\nthat lots of disk images have been created, but they can't find those\nimages. They'll be surprised when they edit scripts inside their\noriginal checkout, but those scripts are ignored when running the\ndevtest_* scripts. They may well be surprised to find that none of the\nwork they've done inside TRIPLEO_ROOT gets backed up, because most\nbackup systems will ignore data under ~/.cache.\n\nThis change moves the instructions about setting TRIPLEO_ROOT from\ndevtest_variables.sh to the top of devtest.sh, so it's seen by the user\nbefore they do their initial checkout. Instructions for that checkout\nare tweaked so that the checkout goes into TRIPLEO_ROOT. The user should\nno longer be surprised by the location of the artifacts created by the\nscripts, as they'll have explicitly configured TRIPLEO_ROOT.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nSome other improvements have been made. Now that we have a stable\nbranch, the docs for checkout out a stable branch have been clarified\nwith a real example, and split into their own section of the docs,\nlabelled as being an optional step.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n""}, {'number': 15, 'created': '2014-04-10 23:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/573f09309f1ec4ed7c72e22a1556da2102bde41e', 'message': ""Add some clarity to the first-time user experience\n\nIf a user follows the instructions in devtest, they'll first check out\ntriple-incubator somewhere; then run scripts inside it, which (unknown\nto them) check out a different copy of tripleo-incubator into ~/.cache.\n\nThis causes several surprises for the user: they'll be surprised to find\nthat lots of disk images have been created, but they can't find those\nimages. They'll be surprised when they edit scripts inside their\noriginal checkout, but those scripts are ignored when running the\ndevtest_* scripts. They may well be surprised to find that none of the\nwork they've done inside TRIPLEO_ROOT gets backed up, because most\nbackup systems will ignore data under ~/.cache.\n\nThis change moves the instructions about setting TRIPLEO_ROOT from\ndevtest_variables.sh to the top of devtest.sh, so it's seen by the user\nbefore they do their initial checkout. Instructions for that checkout\nare tweaked so that the checkout goes into TRIPLEO_ROOT. The user should\nno longer be surprised by the location of the artifacts created by the\nscripts, as they'll have explicitly configured TRIPLEO_ROOT.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nSome other improvements have been made. Now that we have a stable\nbranch, the docs for checkout out a stable branch have been clarified\nwith a real example, and split into their own section of the docs,\nlabelled as being an optional step.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n""}, {'number': 16, 'created': '2014-04-17 07:50:02.000000000', 'files': ['scripts/devtest_variables.sh', 'scripts/devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/cd6c740ebd73669dfc6d09e1dac62d8b59fb099c', 'message': ""Add some clarity to the first-time user experience\n\nIf a user follows the instructions in devtest, they'll first check out\ntriple-incubator somewhere; then run scripts inside it, which (unknown\nto them) check out a different copy of tripleo-incubator into ~/.cache.\n\nThis causes several surprises for the user: they'll be surprised to find\nthat lots of disk images have been created, but they can't find those\nimages. They'll be surprised when they edit scripts inside their\noriginal checkout, but those scripts are ignored when running the\ndevtest_* scripts. They may well be surprised to find that none of the\nwork they've done inside TRIPLEO_ROOT gets backed up, because most\nbackup systems will ignore data under ~/.cache.\n\nThis change moves the instructions about setting TRIPLEO_ROOT from\ndevtest_variables.sh to the top of devtest.sh, so it's seen by the user\nbefore they do their initial checkout. Instructions for that checkout\nare tweaked so that the checkout goes into TRIPLEO_ROOT. The user should\nno longer be surprised by the location of the artifacts created by the\nscripts, as they'll have explicitly configured TRIPLEO_ROOT.\n\nAs a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer\ntrap of trying to run devtest_setup.sh in the second step of\ndevtest.html - prior to this change, this was implicitly relying on\n$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,\nwhich is true on the second run but not the first. This means we can get\nrid of some undocumented code that was working around this first-time\nscenario\n\nSome other improvements have been made. Now that we have a stable\nbranch, the docs for checkout out a stable branch have been clarified\nwith a real example, and split into their own section of the docs,\nlabelled as being an optional step.\n\nChange-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c\n""}]",36,83294,cd6c740ebd73669dfc6d09e1dac62d8b59fb099c,110,15,16,9453,,,0,"Add some clarity to the first-time user experience

If a user follows the instructions in devtest, they'll first check out
triple-incubator somewhere; then run scripts inside it, which (unknown
to them) check out a different copy of tripleo-incubator into ~/.cache.

This causes several surprises for the user: they'll be surprised to find
that lots of disk images have been created, but they can't find those
images. They'll be surprised when they edit scripts inside their
original checkout, but those scripts are ignored when running the
devtest_* scripts. They may well be surprised to find that none of the
work they've done inside TRIPLEO_ROOT gets backed up, because most
backup systems will ignore data under ~/.cache.

This change moves the instructions about setting TRIPLEO_ROOT from
devtest_variables.sh to the top of devtest.sh, so it's seen by the user
before they do their initial checkout. Instructions for that checkout
are tweaked so that the checkout goes into TRIPLEO_ROOT. The user should
no longer be surprised by the location of the artifacts created by the
scripts, as they'll have explicitly configured TRIPLEO_ROOT.

As a side-effect, setting TRIPLEO_ROOT explicitly avoids the first-timer
trap of trying to run devtest_setup.sh in the second step of
devtest.html - prior to this change, this was implicitly relying on
$TRIPLEO_ROOT/tripleo-incubator/scripts having devtest-setup.sh in it,
which is true on the second run but not the first. This means we can get
rid of some undocumented code that was working around this first-time
scenario

Some other improvements have been made. Now that we have a stable
branch, the docs for checkout out a stable branch have been clarified
with a real example, and split into their own section of the docs,
labelled as being an optional step.

Change-Id: I85e43df1cf1201b07131acf4985edfdf99cef30c
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/94/83294/3 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/devtest_variables.sh', 'scripts/devtest.sh']",2,3f008a3569c90887a45b21063d076cdbc0b2151f,make_cache_dir,## TRIPLEO_ROOT=~/.cache/tripleo ## mkdir -p $TRIPLEO_ROOT ## cd $TRIPLEO_ROOT,## git checkout <stable-branch>,4,3
openstack%2Fcookbook-openstack-image~stable%2Fhavana~I4f6d854976ede6eaf280ba5e705d97f3bbc88fea,openstack/cookbook-openstack-image,stable/havana,I4f6d854976ede6eaf280ba5e705d97f3bbc88fea,Allow binding locally to different IP than endpoint IP,MERGED,2014-04-11 10:26:31.000000000,2014-04-17 15:41:10.000000000,2014-04-17 15:41:10.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-11 10:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/1a27e96af827a107d9f7b82fb1710bea9a1965f0', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that by using *-api-bind and *-registry-bind for the\nactual local bind addresses\n\nImplements blueprint increase-ip-binding-flexibility\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}, {'number': 2, 'created': '2014-04-16 15:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/12e5fecada5643825a6d02b8ea25e0659a9e6839', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that by using *-api-bind and *-registry-bind for the\nactual local bind addresses\n\nImplements blueprint increase-ip-binding-flexibility\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}, {'number': 3, 'created': '2014-04-17 09:53:51.000000000', 'files': ['Berksfile.lock', 'templates/default/glance-registry.conf.erb', 'recipes/registry.rb', 'spec/api_spec.rb', 'spec/registry_spec.rb', 'recipes/api.rb', 'metadata.rb', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/48749c19e0e0b60061dbc894b09646e3c90d3377', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that by using *-api-bind and *-registry-bind for the\nactual local bind addresses\n\nImplements blueprint increase-ip-binding-flexibility\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}]",0,86853,48749c19e0e0b60061dbc894b09646e3c90d3377,16,5,3,425,,,0,"Allow binding locally to different IP than endpoint IP

Sometimes you want the actual endpoint IP to be a load balanced IP, but
the bind IP to be a local IP (different per node).

This change allows that by using *-api-bind and *-registry-bind for the
actual local bind addresses

Implements blueprint increase-ip-binding-flexibility

Change-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/53/86853/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default/glance-registry.conf.erb', 'recipes/registry.rb', 'metadata.rb', 'recipes/api.rb', 'README.md']",5,1a27e96af827a107d9f7b82fb1710bea9a1965f0,bp/increase-ip-binding-flexibility,"The following attributes are defined in attributes/default.rb of the common cookbook, but are documented here due to their relevance: * `openstack['endpoints']['image-api-bind']['host']` - The IP address to bind the api service to * `openstack['endpoints']['image-api-bind']['port']` - The port to bind the api service to * `openstack['endpoints']['image-api-bind']['bind_interface']` - The interface name to bind the api service to * `openstack['endpoints']['image-registry-bind']['host']` - The IP address to bind the registry service to * `openstack['endpoints']['image-registry-bind']['port']` - The port to bind the registry service to * `openstack['endpoints']['image-registry-bind']['bind_interface']` - The interface name to bind the registry service to If the value of the 'bind_interface' attribute is non-nil, then the image service will be bound to the first IP address on that interface. If the value of the 'bind_interface' attribute is nil, then the image service will be bound to the IP address specified in the host attribute. ",,20,8
openstack%2Fcookbook-openstack-image~master~I4f6d854976ede6eaf280ba5e705d97f3bbc88fea,openstack/cookbook-openstack-image,master,I4f6d854976ede6eaf280ba5e705d97f3bbc88fea,Allow binding locally to different IP than endpoint IP,MERGED,2014-04-10 14:52:55.000000000,2014-04-17 15:36:40.000000000,2014-04-17 15:36:40.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-10 14:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/191127aa0c80f2f3d9f666e0b8ab7cc80ce30c71', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}, {'number': 2, 'created': '2014-04-11 10:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/00b41783d2e31c708647615142cb0175edf978ca', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that by using *-api-bind and *-registry-bind for the\nactual local bind addresses\n\nImplements blueprint increase-ip-binding-flexibility\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}, {'number': 3, 'created': '2014-04-17 08:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/7507b7f0858174d5638eb0c60ced1c3c5a701e85', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that by using *-api-bind and *-registry-bind for the\nactual local bind addresses\n\nImplements blueprint increase-ip-binding-flexibility\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}, {'number': 4, 'created': '2014-04-17 09:34:47.000000000', 'files': ['templates/default/glance-registry.conf.erb', 'recipes/registry.rb', 'spec/api_spec.rb', 'spec/registry_spec.rb', 'recipes/api.rb', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/0c17e691dc9abe143adc3c3a99b15e2563ac269c', 'message': 'Allow binding locally to different IP than endpoint IP\n\nSometimes you want the actual endpoint IP to be a load balanced IP, but\nthe bind IP to be a local IP (different per node).\n\nThis change allows that by using *-api-bind and *-registry-bind for the\nactual local bind addresses\n\nImplements blueprint increase-ip-binding-flexibility\n\nChange-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea\n'}]",0,86619,0c17e691dc9abe143adc3c3a99b15e2563ac269c,21,5,4,425,,,0,"Allow binding locally to different IP than endpoint IP

Sometimes you want the actual endpoint IP to be a load balanced IP, but
the bind IP to be a local IP (different per node).

This change allows that by using *-api-bind and *-registry-bind for the
actual local bind addresses

Implements blueprint increase-ip-binding-flexibility

Change-Id: I4f6d854976ede6eaf280ba5e705d97f3bbc88fea
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/19/86619/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/registry.rb', 'recipes/api.rb']",2,191127aa0c80f2f3d9f666e0b8ab7cc80ce30c71,bp/increase-ip-binding-flexibility,"api_bind = endpoint 'image-api-bind' api_bind_address: api_bind.host,"," api_bind_address: api_endpoint.host,",4,2
openstack%2Fmurano-dashboard~master~If1aeeb05b4a8d3984e0c518270920cb3e896576e,openstack/murano-dashboard,master,If1aeeb05b4a8d3984e0c518270920cb3e896576e,Add generateHostname function,MERGED,2014-04-16 04:46:44.000000000,2014-04-17 15:35:15.000000000,2014-04-17 15:35:15.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8443}, {'_account_id': 10063}]","[{'number': 1, 'created': '2014-04-16 04:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/dfab975bcbf127edb0e0685dadf79153ad057699', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}, {'number': 2, 'created': '2014-04-16 14:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/ca38a2206a5cc52e0805d6d100a1a08e2d382844', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}, {'number': 3, 'created': '2014-04-16 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/0ec9b827dd4a807eb3862414e743719ab90f9669', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}, {'number': 4, 'created': '2014-04-16 15:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f2998d75f5bc3bc63129b11268e324b31661642f', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}, {'number': 5, 'created': '2014-04-16 16:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8e6463d7321b454ebd1c8443375109baa4230d90', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}, {'number': 6, 'created': '2014-04-17 12:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/65964378ece4f2cb0fe515a54ae36f7b25721907', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}, {'number': 7, 'created': '2014-04-17 12:19:17.000000000', 'files': ['muranodashboard/dynamic_ui/forms.py', 'muranodashboard/dynamic_ui/helpers.py', 'muranodashboard/dynamic_ui/yaql_functions.py', 'muranodashboard/dynamic_ui/services.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/91e485e6a79414a22095397e3e5e10ca72d880cd', 'message': 'Add generateHostname function\n\nAdded new yaql function called generateHostname that should be used\nfor hostname generation. Generates random hostname if no value is\nprovided to the function, or return provided value.\n\nChange-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e\n'}]",7,87851,91e485e6a79414a22095397e3e5e10ca72d880cd,34,8,7,7225,,,0,"Add generateHostname function

Added new yaql function called generateHostname that should be used
for hostname generation. Generates random hostname if no value is
provided to the function, or return provided value.

Change-Id: If1aeeb05b4a8d3984e0c518270920cb3e896576e
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/51/87851/6 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/dynamic_ui/forms.py', 'muranodashboard/dynamic_ui/helpers.py', 'muranodashboard/dynamic_ui/yaql_functions.py', 'muranodashboard/dynamic_ui/services.py']",4,dfab975bcbf127edb0e0685dadf79153ad057699,(detached,import yaql from muranodashboard.dynamic_ui import helpers from .helpers import decamelizefrom muranodashboard.dynamic_ui import yaql_functions self.context = yaql.create_context() yaql_functions.register(self.context) self.context = yaql.create_context() yaql_functions.register(self.context),"from muranodashboard.dynamic_ui import helpers from .helpers import decamelize, create_yaql_context self.context = create_yaql_context() self.context = create_yaql_context()",106,37
openstack%2Fmagnetodb~master~Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6,openstack/magnetodb,master,Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6,Adds new tempest tests on ReST API create_table,MERGED,2014-04-15 14:00:05.000000000,2014-04-17 15:31:14.000000000,2014-04-17 15:31:14.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8408}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}, {'_account_id': 10665}]","[{'number': 1, 'created': '2014-04-15 14:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/20c14cb1e20fdda3158bfaa4e715635130832f55', 'message': 'Adds new tempest tests on ReST API create_table\n\nAlso adds indices tests, that correspond to create_table statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6\n'}, {'number': 3, 'created': '2014-04-15 14:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/fb359902af1d52cd4265e6a531b88397d6412e3c', 'message': 'Adds new tempest tests on ReST API create_table\n\nAlso adds indices tests, that correspond to create_table statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6\n'}, {'number': 2, 'created': '2014-04-15 14:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/1d0fbe960b6561315e0d6332647017c0b037cd67', 'message': 'Adds new tempest tests on ReST API create_table\n\nAlso adds indices tests, that correspond to create_table statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6\n'}, {'number': 4, 'created': '2014-04-16 15:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/f37c4b18e7ba2c6fd3f10fc103b5daa007f652d1', 'message': 'Adds new tempest tests on ReST API create_table\n\nAlso adds indices tests, that correspond to create_table statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6\n'}, {'number': 5, 'created': '2014-04-16 18:49:19.000000000', 'files': ['tempest/api/keyvalue/in_progress/rest/test_describe_table_negative.py', 'tempest/api/keyvalue/stable/rest/test_tables.py', 'tempest/api/keyvalue/in_progress/rest/test_tables_negative.py', 'tempest/api/keyvalue/stable/rest/test_create_table.py', 'tempest/api/keyvalue/stable/rest/test_describe_table.py', 'tempest/api/keyvalue/rest_base/base.py', 'tempest/api/keyvalue/in_progress/rest/test_create_table.py', 'tempest/api/keyvalue/in_progress/rest/test_describe_table.py', 'tempest/api/keyvalue/in_progress/rest/test_create_table_negative.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/2dfd6aaabefab8714f07aed561bb42dc8a600c15', 'message': 'Adds new tempest tests on ReST API create_table\n\nAlso adds indices tests, that correspond to create_table statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6\n'}]",0,87636,2dfd6aaabefab8714f07aed561bb42dc8a600c15,26,7,5,8863,,,0,"Adds new tempest tests on ReST API create_table

Also adds indices tests, that correspond to create_table statement.

Partially implements: bp tempest-rest-api-tests
Change-Id: Ibbbf42fd323ddbd78b357e7cd92c009a7d3969a6
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/36/87636/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/keyvalue/stable/rest/test_tables.py', 'tempest/api/keyvalue/in_progress/rest/test_tables_negative.py', 'tempest/api/keyvalue/rest_base/base.py', 'tempest/api/keyvalue/in_progress/rest/test_tables.py']",4,20c14cb1e20fdda3158bfaa4e715635130832f55,bp/tempest-rest-api-tests,"from tempest.test import attr @attr(type=['CreT-27']) def test_create_table_only_hash(self): @attr(type=['CreT-48']) @attr(type=['CreT-45']) def test_create_table_max_table_name(self): tname = rand_name().replace('-', '') tname = tname + 'q' * (255 - len(tname)) headers, body = self.client.create_table(self.smoke_attrs, tname, self.smoke_schema) self.assertEqual(dict, type(body)) self._verify_table_response('create_table', body, self.smoke_attrs, tname, self.smoke_schema) def test_create_table_with_indexes(self): tname = rand_name().replace('-', '') headers, body = self.client.create_table( self.smoke_attrs + self.index_attrs, tname, self.smoke_schema, self.smoke_lsi) self.assertEqual(dict, type(body)) self._verify_table_response('create_table', body, self.smoke_attrs + self.index_attrs, tname, self.smoke_schema, self.smoke_lsi) @attr(type=['CreT-81']) def test_create_table_index_1_non_key(self): tname = rand_name().replace('-', '') index_attrs = [{'attribute_name': 'attr_name1', 'attribute_type': 'S'}, ] non_key_attributes = ['non_key_attr1'] request_lsi = [ { 'index_name': 'index_name', 'key_schema': [ {'attribute_name': self.hashkey, 'key_type': 'HASH'}, {'attribute_name': 'attr_name1', 'key_type': 'RANGE'} ], 'projection': { 'projection_type': 'INCLUDE', 'non_key_attributes': non_key_attributes} } ] headers, body = self.client.create_table( self.smoke_attrs + index_attrs, tname, self.smoke_schema, request_lsi) self.assertEqual(dict, type(body)) indexes = body['table_description']['local_secondary_indexes'] self.assertIn('non_key_attributes', indexes[0]['projection']) self.assertEqual(non_key_attributes, indexes[0]['projection']['non_key_attributes']) @attr(type=['CreT-85']) def test_create_table_index_20_non_key_1_index(self): tname = rand_name().replace('-', '') index_attrs = [{'attribute_name': 'attr_name1', 'attribute_type': 'S'}, ] non_key_attributes = ['non_key_attr' + str(i) for i in range(0, 20)] request_lsi = [ { 'index_name': 'index_name', 'key_schema': [ {'attribute_name': self.hashkey, 'key_type': 'HASH'}, {'attribute_name': 'attr_name1', 'key_type': 'RANGE'} ], 'projection': { 'projection_type': 'INCLUDE', 'non_key_attributes': non_key_attributes} } ] headers, body = self.client.create_table( self.smoke_attrs + index_attrs, tname, self.smoke_schema, request_lsi) self.assertEqual(dict, type(body)) indexes = body['table_description']['local_secondary_indexes'] self.assertIn('non_key_attributes', indexes[0]['projection']) self.assertEqual(20, len(indexes[0]['projection']['non_key_attributes'])) @attr(type=['CreT-87']) def test_create_table_index_20_non_key_3_indexes(self): tname = rand_name().replace('-', '') index_attrs = [{'attribute_name': 'attr_name' + str(i), 'attribute_type': 'S'} for i in range(1, 4) ] non_key_attributes = (['non_key_attr' + str(i) for i in range(1, 8)], ['non_key_attr' + str(i) for i in range(8, 15)], ['non_key_attr' + str(i) for i in range(15, 21)]) request_lsi = [] for i, attr_name in enumerate(index_attrs): request_lsi.append( { 'index_name': '%s_index' % attr_name['attribute_name'], 'key_schema': [ {'attribute_name': self.hashkey, 'key_type': 'HASH'}, {'attribute_name': attr_name['attribute_name'], 'key_type': 'RANGE'} ], 'projection': { 'projection_type': 'INCLUDE', 'non_key_attributes': non_key_attributes[i]} } ) headers, body = self.client.create_table( self.smoke_attrs + index_attrs, tname, self.smoke_schema, request_lsi) self.assertEqual(dict, type(body)) indexes = body['table_description']['local_secondary_indexes'] for i in range(0, 3): self.assertIn('non_key_attributes', indexes[i]['projection']) self.assertEqual(len(non_key_attributes[i]), len(indexes[i]['projection'] ['non_key_attributes']))", def test_create_table_one_attr(self):,866,77
openstack%2Fmagnetodb~master~I79408228fbe078cab6f412d3bcfd29a3fd909a1f,openstack/magnetodb,master,I79408228fbe078cab6f412d3bcfd29a3fd909a1f,Adds new tempest tests on ReST API query,MERGED,2014-04-15 11:21:24.000000000,2014-04-17 15:29:21.000000000,2014-04-17 15:29:20.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8408}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}, {'_account_id': 10665}]","[{'number': 1, 'created': '2014-04-15 11:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/ec221342daa714b894d4fe6cf2a13081a9d80f2b', 'message': 'Adds new tempest tests on ReST API query\n\nAlso adds indices tests, that correspond to query statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: I79408228fbe078cab6f412d3bcfd29a3fd909a1f\n'}, {'number': 2, 'created': '2014-04-15 13:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/58e6dd6ae1da43554b20a71f73a490ff5fb19a61', 'message': 'Adds new tempest tests on ReST API query\n\nAlso adds indices tests, that correspond to query statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: I79408228fbe078cab6f412d3bcfd29a3fd909a1f\n'}, {'number': 3, 'created': '2014-04-15 13:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/cbd9c5bfcc673a9a4856e4eabd91de9dbf3fb892', 'message': 'Adds new tempest tests on ReST API query\n\nAlso adds indices tests, that correspond to query statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: I79408228fbe078cab6f412d3bcfd29a3fd909a1f\n'}, {'number': 4, 'created': '2014-04-16 18:56:52.000000000', 'files': ['tempest/api/keyvalue/stable/rest/test_queries.py', 'tempest/api/keyvalue/in_progress/rest/test_queries.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/bcb135589a759aac421416c61a8f78c35aed5d1b', 'message': 'Adds new tempest tests on ReST API query\n\nAlso adds indices tests, that correspond to query statement.\n\nPartially implements: bp tempest-rest-api-tests\nChange-Id: I79408228fbe078cab6f412d3bcfd29a3fd909a1f\n'}]",0,87547,bcb135589a759aac421416c61a8f78c35aed5d1b,27,7,4,8863,,,0,"Adds new tempest tests on ReST API query

Also adds indices tests, that correspond to query statement.

Partially implements: bp tempest-rest-api-tests
Change-Id: I79408228fbe078cab6f412d3bcfd29a3fd909a1f
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/47/87547/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/keyvalue/stable/rest/test_queries.py', 'tempest/api/keyvalue/in_progress/rest/test_queries.py']",2,ec221342daa714b894d4fe6cf2a13081a9d80f2b,bp/tempest-rest-api-tests,"import base64 @attr(type=['Q-39', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, consistent_read=True) @attr(type=['Q-6', 'negative']) @attr(type=['Q-7', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name='', key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-8', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name='qq', key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-9', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name='q' * 256, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-10.2']) @attr(type=['Q-19', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='ALL_ATTRIBUTES') @attr(type=['Q-20', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='ALL_PROJECTED_ATTRIBUTES') @attr(type=['Q-21', 'negative']) with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='COUNT') @attr(type=['Q-22', 'negative']) def test_query_attributes_to_get_select_empty(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') attributes_to_get = ['last_posted_by'] key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='') @attr(type=['Q-23', 'negative']) def test_query_attributes_to_get_select_incorrect(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') attributes_to_get = ['last_posted_by'] key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='INVALID') @attr(type=['Q-27', 'negative']) second_key_cond='subject', second_key_cond: { with self.assertRaises(result): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-108', 'negative']) def test_query_key_cond_invalid_comparison(self): self._query_key_cond_comparison_negative('N', '1', [{'N': '1'}], '%%') @attr(type=['Q-131', 'negative']) def test_query_key_cond_comparison_other_string(self): @attr(type=['Q-129', 'negative']) def test_query_key_cond_empty_comparison(self): self._query_key_cond_comparison_negative('N', '1', [{'N': '1'}], '') @attr(type=['Q-113', 'negative']) @attr(type=['Q-114', 'negative']) def test_query_key_cond_lt_set(self): self._query_key_cond_comparison_negative('N', '1', [{'NS': ['1', '2']}], 'LT') @attr(type=['Q-110', 'negative']) @attr(type=['Q-111', 'negative']) def test_query_key_cond_le_set(self): self._query_key_cond_comparison_negative('N', '1', [{'NS': ['1', '2']}], 'LE') @attr(type=['Q-116', 'negative']) @attr(type=['Q-117', 'negative']) def test_query_key_cond_ge_set(self): self._query_key_cond_comparison_negative('N', '1', [{'NS': ['1', '2']}], 'GE') @attr(type=['Q-119', 'negative']) @attr(type=['Q-123', 'negative']) def test_query_key_cond_begins_with_two_attrs(self): self._query_key_cond_comparison_negative('S', 'startend', [{'S': 'start'}, {'S': 'end'}], 'BEGINS_WITH') @attr(type=['Q-124', 'negative']) def test_query_key_cond_begins_with_set(self): self._query_key_cond_comparison_negative('S', 'startend', [{'SS': ['start', 'end']}], 'BEGINS_WITH') @attr(type=['Q-120', 'negative']) def test_query_key_cond_gt_set(self): [{'NS': ['1', '2']}], 'GT') @attr(type=['Q-122', 'negative']) def test_query_key_cond_begins_with_bad_field(self): self._query_key_cond_comparison_negative('S', 'startend', [{'S': 'start'}], 'BEGINS_WITH', 'non_existent_key_attr') @attr(type=['Q-126', 'negative']) def test_query_key_cond_between_bad_field(self): self._query_key_cond_comparison_negative('S', '1', [{'S': '0'}, {'S': '2'}], 'BETWEEN', 'non_existent_key_attr') @attr(type=['Q-127', 'negative']) def test_query_key_cond_between_one_attr(self): self._query_key_cond_comparison_negative('S', '1', [{'S': '1'}], 'BETWEEN') @attr(type=['Q-128', 'negative']) def test_query_key_cond_between_set(self): self._query_key_cond_comparison_negative('S', '1', [{'SS': ['0', '2']}], 'BETWEEN') @attr(type=['Q-11']) def test_query_table_name_query_upper_case(self): #NOTE(aostapenko) Check if table name is case sensitive in dynamodb self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } self.tname = self.tname.upper() headers, body = self.client.query(table_name=self.tname, consistent_read=True, key_conditions=key_conditions) self.assertTrue(body['count'] > 0) @attr(type=['Q-16', 'negative']) def test_query_attributes_to_get_empty_values(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') attributes_to_get = [''] key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True) @attr(type=['Q-40.1', 'negative']) def test_query_key_cond_invalid_type_ss(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'SS': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-40.2', 'negative']) def test_query_key_cond_invalid_type_other(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'INVALID': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-45', 'negative']) def test_query_consistent_read_invalid_value(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read='INVALID') @attr(type=['Q-62', 'negative']) def test_query_exclusive_set(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } exclusive = {'forum': {'SS': ['one', 'two']}} with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, exclusive_start_key=exclusive, consistent_read=True) @attr(type=['Q-64', 'negative']) def test_query_exclusive_incorrect(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } exclusive = {'forum': {'S': 'one'}, 'subject': {'S': 'two'}} with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, exclusive_start_key=exclusive, consistent_read=True) @attr(type=['Q-69', 'negative']) def test_query_index_non_existent(self): self.client.create_table(self.smoke_attrs + self.index_attrs, self.tname, self.smoke_schema, self.smoke_lsi) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') index_name = 'non_existent_index' key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'last_posted_by': { 'attribute_value_list': [{'S': 'John'}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.NotFound): self.client.query(table_name=self.tname, key_conditions=key_conditions, index_name=index_name, consistent_read=True) @attr(type=['Q-72', 'negative']) def test_query_index_too_short_index_name(self): self.client.create_table(self.smoke_attrs + self.index_attrs, self.tname, self.smoke_schema, self.smoke_lsi) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') index_name = 'in' key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'last_posted_by': { 'attribute_value_list': [{'S': 'John'}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, index_name=index_name, consistent_read=True) @attr(type=['Q-73', 'negative']) def test_query_index_too_long_index_name(self): self.client.create_table(self.smoke_attrs + self.index_attrs, self.tname, self.smoke_schema, self.smoke_lsi) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') index_name = 'i' * 256 key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'last_posted_by': { 'attribute_value_list': [{'S': 'John'}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, index_name=index_name, consistent_read=True) @attr(type=['Q-74', 'negative']) def test_query_index_empty_index_name(self): self.client.create_table(self.smoke_attrs + self.index_attrs, self.tname, self.smoke_schema, self.smoke_lsi) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') index_name = '' key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'last_posted_by': { 'attribute_value_list': [{'S': 'John'}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, index_name=index_name, consistent_read=True) @attr(type=['Q-83']) def test_query_limit_0_items_3(self): #NOTE(aostapenko) Needs verification in dynamodb self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) items = self.populate_smoke_table(self.tname, 1, 3) key_conditions = { 'forum': { 'attribute_value_list': [items[0]['forum']], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } headers, body = self.client.query(table_name=self.tname, key_conditions=key_conditions, limit=0, consistent_read=True) self.assertEqual(3, body['count']) self.assertNotIn('last_evaluated_key', body) @attr(type=['Q-89', 'negative']) def test_query_scan_index_other(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) items = self.populate_smoke_table(self.tname, 1, 5) key_conditions = { 'forum': { 'attribute_value_list': [items[0]['forum']], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, scan_index_forward=False, consistent_read='INVALID') @attr(type=['Q-90', 'negative']) def test_query_scan_index_empty(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) items = self.populate_smoke_table(self.tname, 1, 5) key_conditions = { 'forum': { 'attribute_value_list': [items[0]['forum']], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, scan_index_forward=False, consistent_read='') @attr(type=['Q-94']) def test_query_select_all_projected(self): lsi = [ { 'index_name': 'last_posted_by_index', 'key_schema': [ {'attribute_name': self.hashkey, 'key_type': 'HASH'}, {'attribute_name': 'last_posted_by', 'key_type': 'RANGE'} ], 'projection': {'projection_type': 'ALL'} } ] self.client.create_table(self.smoke_attrs + self.index_attrs, self.tname, self.smoke_schema, lsi) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'last_posted_by': { 'attribute_value_list': [{'S': 'John'}], 'comparison_operator': 'EQ' } } headers, body = self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True, index_name='last_posted_by_index', select='ALL_PROJECTED_ATTRIBUTES') self.assertEqual(body['count'], 1) self.assertEqual(len(body['items'][0]), 3) @attr(type=['Q-98', 'negative']) def test_query_select_empty(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True, select='') @attr(type=['Q-99', 'negative']) def test_query_select_invalid(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True, select='INVALID') @attr(type=['Q-103']) def test_query_one_key_cond_eq_ss(self): attrs = [ {'attribute_name': 'forum', 'attribute_type': 'S'}, {'attribute_name': 'subject', 'attribute_type': 'S'} ] schema = [ {'attribute_name': 'forum', 'key_type': 'HASH'}, {'attribute_name': 'subject', 'key_type': 'RANGE'} ] self.client.create_table(attrs, self.tname, schema) self.wait_for_table_active(self.tname) item = { ""forum"": {""S"": '1'}, ""subject"": {""S"": '1'} } self.client.put_item(self.tname, item) key_conditions = { 'forum': { 'attribute_value_list': [{'SS': ['1', '2']}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-104']) def test_query_one_key_cond_eq_s_n(self): attrs = [ {'attribute_name': 'forum', 'attribute_type': 'S'}, {'attribute_name': 'subject', 'attribute_type': 'S'} ] schema = [ {'attribute_name': 'forum', 'key_type': 'HASH'}, {'attribute_name': 'subject', 'key_type': 'RANGE'} ] self.client.create_table(attrs, self.tname, schema) self.wait_for_table_active(self.tname) item = { ""forum"": {""S"": '1'}, ""subject"": {""S"": '1'} } self.client.put_item(self.tname, item) key_conditions = { 'forum': { 'attribute_value_list': [{'S': '1'}, {'N': '1'}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-105', 'negative']) def test_query_one_key_cond_b_eq_s(self): attrs = [ {'attribute_name': 'forum', 'attribute_type': 'B'}, {'attribute_name': 'subject', 'attribute_type': 'B'} ] schema = [ {'attribute_name': 'forum', 'key_type': 'HASH'}, {'attribute_name': 'subject', 'key_type': 'RANGE'} ] self.client.create_table(attrs, self.tname, schema) self.wait_for_table_active(self.tname) value = base64.b64encode('\xFF') item = { ""forum"": {""B"": value}, ""subject"": {""B"": value} } self.client.put_item(self.tname, item) key_conditions = { 'forum': { 'attribute_value_list': [{'S': '1'}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-106', 'negative']) def test_query_one_key_cond_incorrect_key(self): attrs = [ {'attribute_name': 'forum', 'attribute_type': 'B'}, {'attribute_name': 'subject', 'attribute_type': 'B'} ] schema = [ {'attribute_name': 'forum', 'key_type': 'HASH'}, {'attribute_name': 'subject', 'key_type': 'RANGE'} ] self.client.create_table(attrs, self.tname, schema) self.wait_for_table_active(self.tname) value = base64.b64encode('\xFF') item = { ""forum"": {""B"": value}, ""subject"": {""B"": value} } self.client.put_item(self.tname, item) key_conditions = { 'incorrect': { 'attribute_value_list': [{'B': value}], 'comparison_operator': 'EQ' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type=['Q-16']) def test_query_attributes_to_get_incorrect_attr_name(self): self.client.create_table(self.smoke_attrs, self.tname, self.smoke_schema) self.wait_for_table_active(self.tname) self.put_smoke_item(self.tname, 'forum1', 'subject2', 'message text', 'John', '10') attributes_to_get = ['%$&'] key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } with self.assertRaises(exceptions.BadRequest): self.client.query(table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True)"," @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name=self.tname, consistent_read=True) @attr(type='negative') @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name='', key_conditions=key_conditions, consistent_read=True) @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name='qq', key_conditions=key_conditions, consistent_read=True) @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name='q' * 256, key_conditions=key_conditions, consistent_read=True) def test_query_upper_case_table_name(self): tname = 'table_name' self.client.create_table(self.smoke_attrs, tname, self.smoke_schema) self.wait_for_table_active(tname) self.put_smoke_item(tname, 'forum1', 'subject2', 'message text', 'John', '10') key_conditions = { 'forum': { 'attribute_value_list': [{'S': 'forum1'}], 'comparison_operator': 'EQ' }, 'subject': { 'attribute_value_list': [{'S': 'subject'}], 'comparison_operator': 'BEGINS_WITH' } } headers, body = self.client.query(table_name=tname.upper(), consistent_read=True, key_conditions=key_conditions) self.assertTrue(body['count'] > 0) @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='ALL_ATTRIBUTES') @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='ALL_PROJECTED_ATTRIBUTES') @attr(type='negative') self.assertRaises(exceptions.BadRequest, self.client.query, table_name=self.tname, key_conditions=key_conditions, attributes_to_get=attributes_to_get, consistent_read=True, select='COUNT') @attr(type='negative') 'subject': { self.assertRaises(result, self.client.query, table_name=self.tname, key_conditions=key_conditions, consistent_read=True) @attr(type='negative') def test_query_key_cond_invalid_comparison(self): @attr(type='negative') @attr(type='negative') @attr(type='negative') @attr(type='negative') @attr(type='negative') def test_query_key_cond_eq_two_attrs(self): [{'N': '1'}, {'N': '2'}], 'EQ')",1217,359
openstack%2Ffuel-web~master~I58482a2b8885402146687939e9fb71013bf30224,openstack/fuel-web,master,I58482a2b8885402146687939e9fb71013bf30224,Test skipped to prevent Jenkins from crushing,MERGED,2014-04-15 14:25:38.000000000,2014-04-17 15:27:34.000000000,2014-04-17 15:27:34.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 14:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7d86f97717cc41b36b4461ccf41cdb3765d98dde', 'message': 'Timeout increased to prevent Jenkins from falling\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 2, 'created': '2014-04-15 15:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b1aa1f62e866df6822d9ba208242e56444745cb5', 'message': 'Test skipped to prevent Jenkins from falling\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 3, 'created': '2014-04-15 15:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1438d2893e52704b0c3a33dbcf4165f3720c7dff', 'message': 'Test skipped to prevent Jenkins from falling\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 4, 'created': '2014-04-15 17:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0f700fa2bd47e0aa24761f21c61b33689f04837a', 'message': 'Test skipped to prevent Jenkins from falling\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 5, 'created': '2014-04-16 06:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7bd7ae023b50c7d2ceb4bd1bee1166867a6b3f64', 'message': 'Test skipped to prevent Jenkins from falling\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 6, 'created': '2014-04-16 11:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/66b0657169b25c53ee7ef0218a935ace5105188b', 'message': 'Test skipped to prevent Jenkins from falling\n\nRelated to bug #1308115\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 7, 'created': '2014-04-16 12:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/98beb322e75d9eb506e529b375d39ea15db7fcb5', 'message': 'Test skipped to prevent Jenkins from falling\n\nRelated to bug #1308115\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}, {'number': 8, 'created': '2014-04-16 14:01:22.000000000', 'files': ['nailgun/nailgun/test/integration/test_charset_issues.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8f0e07450cd2f30dd235410ce044606965268cd0', 'message': 'Test skipped to prevent Jenkins from crushing\n\nRelated to bug #1308115\n\nChange-Id: I58482a2b8885402146687939e9fb71013bf30224\n'}]",0,87655,8f0e07450cd2f30dd235410ce044606965268cd0,55,4,8,8053,,,0,"Test skipped to prevent Jenkins from crushing

Related to bug #1308115

Change-Id: I58482a2b8885402146687939e9fb71013bf30224
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/55/87655/8 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/test/integration/test_charset_issues.py'],1,7d86f97717cc41b36b4461ccf41cdb3765d98dde,bug/1308115, # temporary increased to prevent test from failing on Jenkins timeout = 60 * 30, timeout = 15,2,1
openstack%2Fopenstack-chef-repo~stable%2Fhavana~I7508480a565447594e8578e0bc1071aa524a90b2,openstack/openstack-chef-repo,stable/havana,I7508480a565447594e8578e0bc1071aa524a90b2,update Berksfile.lock,MERGED,2014-04-17 08:35:48.000000000,2014-04-17 15:24:35.000000000,2014-04-17 15:24:35.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-17 08:35:48.000000000', 'files': ['Berksfile.lock'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/ca38379c2596b0a9620b52df99b37dd049730322', 'message': 'update Berksfile.lock\n\nNeed to pull in recent chages to various cookbooks in the stable/havana\nbranches.\n\nChange-Id: I7508480a565447594e8578e0bc1071aa524a90b2\n'}]",0,88211,ca38379c2596b0a9620b52df99b37dd049730322,8,4,1,425,,,0,"update Berksfile.lock

Need to pull in recent chages to various cookbooks in the stable/havana
branches.

Change-Id: I7508480a565447594e8578e0bc1071aa524a90b2
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/11/88211/1 && git format-patch -1 --stdout FETCH_HEAD,['Berksfile.lock'],1,ca38379c2596b0a9620b52df99b37dd049730322,," ""locked_version"": ""8.4.2"", ""ref"": ""96f3da5551192423893a10a1dce12ba720c23acc"" ""ref"": ""3e9264d94b0cc0d30705408aa82ae538c482d2bb"" ""locked_version"": ""8.4.3"", ""ref"": ""3490aacc2f4b7538558452cc51ebe86f527e2f89"" ""locked_version"": ""8.1.4"", ""ref"": ""d3d1e34a63e2fe5f3764149a38378070956e1756"""," ""locked_version"": ""8.4.1"", ""ref"": ""2101de517678f55273a8078e74cfcdd805aefe4a"" ""ref"": ""30c55743d0a3dc8399f412ec13acb7a0d8cdcd0c"" ""locked_version"": ""8.4.2"", ""ref"": ""3faf96e0f4132eeed593795fa7b15c5bd4188d89"" ""locked_version"": ""8.1.3"", ""ref"": ""ef39c687d48c4674532deaa271555e323d37d46a""",7,7
openstack%2Ffuel-main~master~I837ebd2cd07697a6018b7249de5d888a4b5c6c2c,openstack/fuel-main,master,I837ebd2cd07697a6018b7249de5d888a4b5c6c2c,Remove harcode version for python-prettytable and python-migrate,MERGED,2014-04-17 14:48:28.000000000,2014-04-17 15:20:18.000000000,2014-04-17 15:20:18.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-17 14:48:28.000000000', 'files': ['requirements-rpm.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d1c962210f2dd88a2a810a52572597ea9e82d36f', 'message': 'Remove harcode version for python-prettytable and python-migrate\n\nremove hardcode version for python-prettytable and python-migrate. Packages updated by Icehouse\n\nChange-Id: I837ebd2cd07697a6018b7249de5d888a4b5c6c2c\n'}]",0,88327,d1c962210f2dd88a2a810a52572597ea9e82d36f,8,4,1,8777,,,0,"Remove harcode version for python-prettytable and python-migrate

remove hardcode version for python-prettytable and python-migrate. Packages updated by Icehouse

Change-Id: I837ebd2cd07697a6018b7249de5d888a4b5c6c2c
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/27/88327/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements-rpm.txt'],1,d1c962210f2dd88a2a810a52572597ea9e82d36f,move_to_icehouse,python-migratepython-prettytable,python-migrate-0.7.2-4.el6python-prettytable-0.6.1-1.el6,2,2
openstack%2Fnova~master~I93bf662797c3986324ca2099b403833c2e990fb4,openstack/nova,master,I93bf662797c3986324ca2099b403833c2e990fb4,Prevent spoofing instance_id from neutron to nova,MERGED,2013-12-11 14:09:22.000000000,2014-04-17 15:18:31.000000000,2013-12-14 09:22:59.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1955}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6316}, {'_account_id': 7823}, {'_account_id': 8688}]","[{'number': 1, 'created': '2013-12-11 14:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5716a9be61a8e1fd6662e524038b9a70193e868', 'message': ""Prevent spoofing instance_id from neturon to nova\n\nPreviously, one could update a port's device_id in neutron to be\nthat of another tenant's instance_id and then be able to retrieve\nthat instance's metadata. This patch prevents this from occuring by\nchecking that X-Tenant-ID received from the metadata request matches\nthe tenant_id in the nova database.\n\nDocImpact - This patch is dependent on another patch in neutron\n            which adds X-Tenant-ID to the request. Therefore to\n            minimize downtime one should upgrade Neutron first (then\n            restart neutron-metadata-agent) and lastly update nova.\n\nChange-Id: I93bf662797c3986324ca2099b403833c2e990fb4\nCloses-Bug: #1235450\n""}, {'number': 2, 'created': '2013-12-11 20:36:45.000000000', 'files': ['nova/api/metadata/handler.py', 'nova/tests/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bce36e9bdb1fcb9658f7b684d160e656e88d816c', 'message': ""Prevent spoofing instance_id from neutron to nova\n\nPreviously, one could update a port's device_id in neutron to be\nthat of another tenant's instance_id and then be able to retrieve\nthat instance's metadata. This patch prevents this from occurring by\nchecking that X-Tenant-ID received from the metadata request matches\nthe tenant_id in the nova database.\n\nDocImpact - This patch is dependent on another patch in neutron\n            which adds X-Tenant-ID to the request. Therefore to\n            minimize downtime one should upgrade Neutron first (then\n            restart neutron-metadata-agent) and lastly update nova.\n\nChange-Id: I93bf662797c3986324ca2099b403833c2e990fb4\nCloses-Bug: #1235450\n""}]",4,61428,bce36e9bdb1fcb9658f7b684d160e656e88d816c,24,10,2,5263,,,0,"Prevent spoofing instance_id from neutron to nova

Previously, one could update a port's device_id in neutron to be
that of another tenant's instance_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron
            which adds X-Tenant-ID to the request. Therefore to
            minimize downtime one should upgrade Neutron first (then
            restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/61428/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/metadata/handler.py', 'nova/tests/test_metadata.py']",2,b5716a9be61a8e1fd6662e524038b9a70193e868,master," 'X-Tenant-ID': 'test', 'X-Tenant-ID': 'test', 'X-Tenant-ID': 'test', # missing X-Tenant-ID from request response = fake_request( self.stubs, self.mdinst, relpath=""/2009-04-04/user-data"", address=""192.192.192.2"", fake_get_metadata_by_instance_id=fake_get_metadata, headers={'X-Forwarded-For': '192.192.192.2', 'X-Instance-ID': 'a-b-c-d', 'X-Instance-ID-Signature': signed}) self.assertEqual(response.status_int, 400) # mismatched X-Tenant-ID response = fake_request( self.stubs, self.mdinst, relpath=""/2009-04-04/user-data"", address=""192.192.192.2"", fake_get_metadata_by_instance_id=fake_get_metadata, headers={'X-Forwarded-For': '192.192.192.2', 'X-Instance-ID': 'a-b-c-d', 'X-Tenant-ID': 'FAKE', 'X-Instance-ID-Signature': signed}) self.assertEqual(response.status_int, 404) 'X-Tenant-ID': 'test', 'X-Tenant-ID': 'test',",,43,0
openstack%2Fzaqar~master~I54e436e08bbe6d2f3e3a4643f687e1d3a1647bb0,openstack/zaqar,master,I54e436e08bbe6d2f3e3a4643f687e1d3a1647bb0,Instantiate app only when needed,MERGED,2014-04-15 14:15:48.000000000,2014-04-17 15:17:49.000000000,2014-04-17 15:17:48.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6944}, {'_account_id': 7498}, {'_account_id': 8497}, {'_account_id': 8832}]","[{'number': 1, 'created': '2014-04-15 14:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/44d7560863fc049261e4d5bafefb959339161fb2', 'message': 'Instantiate app in a function\n\nThis patch moves the app instantiation to within a function. This is\nneeded to allow the functional tests to run against an external marconi\nserver, without having to unnecessarily configure the cache_url.\n\nChange-Id: I54e436e08bbe6d2f3e3a4643f687e1d3a1647bb0\nCloses-Bug: #1285100\n'}, {'number': 2, 'created': '2014-04-15 17:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d926c43927177a81b97ee8264ffb035f6b3bb325', 'message': 'Instantiate app in a function\n\nThis patch moves the app instantiation to within a function. This is\nneeded to allow the functional tests to run against an external marconi\nserver, without having to unnecessarily configure the cache_url.\n\nChange-Id: I54e436e08bbe6d2f3e3a4643f687e1d3a1647bb0\nCloses-Bug: #1285100\n'}, {'number': 3, 'created': '2014-04-15 17:05:32.000000000', 'files': ['marconi/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e11feb5ba682a0051ec81cf40480a217817fe8a3', 'message': 'Instantiate app only when needed\n\nThis patch instantiates the app only when it is needed. This will\nallow the functional tests to run against an external marconi\nserver, without having to unnecessarily configure the cache_url.\n\nChange-Id: I54e436e08bbe6d2f3e3a4643f687e1d3a1647bb0\nCloses-Bug: #1285100\n'}]",1,87647,e11feb5ba682a0051ec81cf40480a217817fe8a3,17,6,3,7498,,,0,"Instantiate app only when needed

This patch instantiates the app only when it is needed. This will
allow the functional tests to run against an external marconi
server, without having to unnecessarily configure the cache_url.

Change-Id: I54e436e08bbe6d2f3e3a4643f687e1d3a1647bb0
Closes-Bug: #1285100
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/47/87647/2 && git format-patch -1 --stdout FETCH_HEAD,"['marconi/queues/transport/wsgi/app.py', 'doc/source/installing.rst', 'marconi/tests/functional/base.py']",3,44d7560863fc049261e4d5bafefb959339161fb2,, self.client = http.WSGIClient(app.app()), self.client = http.WSGIClient(app.app),5,3
openstack%2Fsolum~master~I06b14f9d9b92ae655d745a51eebaff3695760f33,openstack/solum,master,I06b14f9d9b92ae655d745a51eebaff3695760f33,tag slug containers and upload slugrunner,MERGED,2014-04-09 21:24:57.000000000,2014-04-17 15:16:02.000000000,2014-04-17 15:16:02.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 4715}, {'_account_id': 7858}, {'_account_id': 8334}, {'_account_id': 9537}, {'_account_id': 9548}]","[{'number': 1, 'created': '2014-04-09 21:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/3d6956547b6070289c1fa5c1c3ac01a8e16e9e0b', 'message': 'tag slug containers and upload slugrunner\n\nthis provides a 2+minute performance increase\nto first app deployment by preseeding the\nslugrunner to glance/registry during\nprepare.\n\nChange-Id: I06b14f9d9b92ae655d745a51eebaff3695760f33\n'}, {'number': 2, 'created': '2014-04-11 15:33:53.000000000', 'files': ['contrib/lp-cedarish/docker/prepare', 'contrib/lp-cedarish/docker/build-app'], 'web_link': 'https://opendev.org/openstack/solum/commit/477b18e053fadb70c8782ba0545fb347ca0c120a', 'message': 'tag slug containers and upload slugrunner\n\nthis provides a 2+minute performance increase\nto first app deployment by preseeding the\nslugrunner to glance/registry during\nprepare.\n\nChange-Id: I06b14f9d9b92ae655d745a51eebaff3695760f33\n'}]",13,86454,477b18e053fadb70c8782ba0545fb347ca0c120a,24,8,2,7858,,,0,"tag slug containers and upload slugrunner

this provides a 2+minute performance increase
to first app deployment by preseeding the
slugrunner to glance/registry during
prepare.

Change-Id: I06b14f9d9b92ae655d745a51eebaff3695760f33
",git fetch https://review.opendev.org/openstack/solum refs/changes/54/86454/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/lp-cedarish/docker/prepare', 'contrib/lp-cedarish/docker/build-app']",2,3d6956547b6070289c1fa5c1c3ac01a8e16e9e0b,moar_fasterer, 127.0.0.1:5042/slugbuilder)FROM 127.0.0.1:5042/slugrunner, solum/slugbuilder)FROM solum/slugrunner,4,4
openstack%2Fmurano-dashboard~master~Id97ca694ccc6df4066fd327b3b271e924368fdae,openstack/murano-dashboard,master,Id97ca694ccc6df4066fd327b3b271e924368fdae,Tailor Deployments Tab to the new object model,MERGED,2014-04-10 11:56:13.000000000,2014-04-17 15:06:20.000000000,2014-04-17 15:06:19.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7562}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8443}]","[{'number': 1, 'created': '2014-04-10 11:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/82422f2c766561b714a68ebe156fa1559f877e20', 'message': 'Tailor Deployments Tab to the new object model\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n'}, {'number': 2, 'created': '2014-04-10 12:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/37d8943b3060f25b3e2384acdb10b1fa359c546a', 'message': 'Tailor Deployments Tab to the new object model\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n'}, {'number': 3, 'created': '2014-04-11 08:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/c95a0bf0f1ed39c5b675d1a696adf8f466cbd35d', 'message': 'Tailor Deployments Tab to the new object model\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n'}, {'number': 4, 'created': '2014-04-11 11:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/be17805dfae6d61f8e421511cef924687c434d10', 'message': 'Tailor Deployments Tab to the new object model\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n'}, {'number': 5, 'created': '2014-04-14 12:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7b0efb1e04e0bb518a4f42a6ba6606eaaf4d56a9', 'message': 'Tailor Deployments Tab to the new object model\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n'}, {'number': 6, 'created': '2014-04-15 12:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/2c9d9160f883615d7c162d7d2abac99300c55c5e', 'message': 'Tailor Deployments Tab to the new object model\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n'}, {'number': 7, 'created': '2014-04-17 09:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/c98ebca7d41c48881961a543009b64680a4148b3', 'message': ""Tailor Deployments Tab to the new object model\n\nBefore sending object model to murano-api store all necessary data\nunder ['?'][consts.STORAGE_ID] key for later use by UI.\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n""}, {'number': 8, 'created': '2014-04-17 11:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/cbb558e8d471071d216f9e2a6b185636f9be1143', 'message': ""Tailor Deployments Tab to the new object model\n\nBefore sending object model to murano-api store all necessary data\nunder ['?'][consts.DASHBOARD_ATTRS_KEY] key for later use by UI.\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n""}, {'number': 9, 'created': '2014-04-17 11:36:44.000000000', 'files': ['muranodashboard/environments/views.py', 'muranodashboard/environments/tables.py', 'muranodashboard/environments/consts.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/885c35ed7406e53a1ceac25dc65a8dc63a965f25', 'message': ""Tailor Deployments Tab to the new object model\n\nBefore sending object model to murano-api store all necessary data\nunder ['?'][consts.DASHBOARD_ATTRS_KEY] key for later use by UI.\n\nChange-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae\nCloses-Bug: #1304902\n""}]",1,86569,885c35ed7406e53a1ceac25dc65a8dc63a965f25,46,9,9,8040,,,0,"Tailor Deployments Tab to the new object model

Before sending object model to murano-api store all necessary data
under ['?'][consts.DASHBOARD_ATTRS_KEY] key for later use by UI.

Change-Id: Id97ca694ccc6df4066fd327b3b271e924368fdae
Closes-Bug: #1304902
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/69/86569/5 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/environments/tables.py', 'muranodashboard/environments/tabs.py']",2,82422f2c766561b714a68ebe156fa1559f877e20,bug/1304902, return deployment.get('applications'), return deployment.get('services'),3,3
openstack%2Ffuel-web~master~I9b363da4066a469a9b646c4de482dcad432f5977,openstack/fuel-web,master,I9b363da4066a469a9b646c4de482dcad432f5977,Devops documentation cleanup,MERGED,2014-04-15 07:46:08.000000000,2014-04-17 15:01:34.000000000,2014-04-17 15:01:33.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 7195}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 07:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6a17bb30c0431537f5a389e72910112a650188cd', 'message': 'Devops documentation cleanup\n\nChange-Id: I9b363da4066a469a9b646c4de482dcad432f5977\n'}, {'number': 2, 'created': '2014-04-15 07:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0d0a33124f63efc43c541b0431cd96a98e4363c3', 'message': 'Devops documentation cleanup\n\nChange-Id: I9b363da4066a469a9b646c4de482dcad432f5977\n'}, {'number': 3, 'created': '2014-04-15 08:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/310440717263210b6639576b0bb0c581539d2847', 'message': 'Devops documentation cleanup\n\nDepends on:\n    https://review.openstack.org/#/c/87487/\n    https://review.openstack.org/#/c/87462/\n    https://review.openstack.org/#/c/87117/\n\nChange-Id: I9b363da4066a469a9b646c4de482dcad432f5977\n'}, {'number': 4, 'created': '2014-04-15 08:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f4dacf55a46be51c766f09806623dfb088797b57', 'message': 'Devops documentation cleanup\n\nDepends on:\n    https://review.openstack.org/#/c/87487/\n    https://review.openstack.org/#/c/87462/\n    https://review.openstack.org/#/c/87117/\n\nChange-Id: I9b363da4066a469a9b646c4de482dcad432f5977\n'}, {'number': 5, 'created': '2014-04-16 09:32:49.000000000', 'files': ['docs/develop/env.rst', 'docs/devops.rst'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ad1d5f8f7579bf4123aad78290547d774f3d7822', 'message': 'Devops documentation cleanup\n\nDepends on:\n    https://review.openstack.org/#/c/87487/\n    https://review.openstack.org/#/c/87462/\n    https://review.openstack.org/#/c/87117/\n\nChange-Id: I9b363da4066a469a9b646c4de482dcad432f5977\n'}]",0,87484,ad1d5f8f7579bf4123aad78290547d774f3d7822,46,6,5,8965,,,0,"Devops documentation cleanup

Depends on:
    https://review.openstack.org/#/c/87487/
    https://review.openstack.org/#/c/87462/
    https://review.openstack.org/#/c/87117/

Change-Id: I9b363da4066a469a9b646c4de482dcad432f5977
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/84/87484/3 && git format-patch -1 --stdout FETCH_HEAD,['docs/devops.rst'],1,6a17bb30c0431537f5a389e72910112a650188cd,local/docs_cleanup,"and many other customizations with a few lines of code in system tests. For sources please refer to [fuel-devops@github](https://github.com/stackforge/fuel-devops) sudo apt-get install postgresql \ python-psycopg2 \ python-ipaddr \ python-libvirt \ python-paramiko \ python-django \ git \ python-xmlbuilder \ python-libvirt \ python-django-south **NOTE** Depending from your distro some of these packages could not exists in your distro upstream repositories. In this case please refer to *Devops installation in virtualenv* chapter. Devops Installation from packages --------------------------------- Here is nothing strange just do: sudo apt-get install postgresql \ python-psycopg2 \ python-ipaddr \ python-libvirt \ python-paramiko \ python-django \ git \ python-xmlbuilder \ python-libvirt \ python-django-south then clone fuel-devops repo and run setup.py: git clone git://github.com/stackforge/fuel-devops.git cd fuel-devops python ./setup.py Devops installation in virtualenv --------------------------------- First let's install packages required for that way: apt-get install postgresql-server-dev-all python-libvirt python-dev python-django Then create virtualenv: virtualenv --system-site-packages devops-venv And install devops inside it: . devops-venv/bin/activate pip install git+https://github.com/stackforge/fuel-devops.git --upgrade setup.py in fuel-devops repository does everything required. System wide settings required for devops ---------------------------------------- Basicly devops requires the following: * Existent libvirt's pool(called 'default' by default) * Permissions to run KVM VMs with libvirt * Alive Postgresql database with grants and devops schema * Optionally, Nested Paging enabled libvirt pool ~~~~~~~~~~~~ sudo virsh pool-define-as --type=dir --name=default --target=/var/lib/libvirt/images sudo virsh pool-autostart default sudo virsh pool-start default Permissions to run KVM VMs with libvirt ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ sudo usermod $(whoami) -a -G libvirtd,sudo Alive Postgresql database with grants and devops schema ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ django-admin.py syncdb --settings=devops.settings django-admin.py migrate devops --settings=devops.settings **NOTE** Depending from your distro django-admin.py may refer to system-wide django installed from package. In this case you could get an exception means devops.settings module is not resolvable. To fix this run django-admin.py (or django-admin) with full path: ./bin/django-admin syncdb --settings=devops.settings ./bin/django-admin migrate devops --settings=devops.settings Optionally, Nested Paging enabled ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This option enables in BIOS and turns on by kvm kernel module by default. To load kernel module run kvm-ok it will show something like INFO: /dev/kvm exists KVM acceleration can be used Then run cat /sys/module/kvm_intel/parameters/nested There will be Y letter. Clone fuel-main:Install requirements: pip install -r ./fuelweb_test/requirements.txt --upgrade If you don't have a Fuel ISO and wanna build it please refer to [building-fuel-iso](http://docs.mirantis.com/fuel-dev/develop/env.html#building-the-fuel-iso) section. Next, you need to define several variables for the future environment:Alternatively, you can edit this file to set them as a default values:Start tests by running this command: ./utils/jenkins/system_tests.sh -t test -w $(pwd) -j fuelweb_test -i $ISO_PATH -o --group=setup ""./utils/jenkins/system_tests.sh"" -h","and many other customizations with a few lines of code in system tests. For sources please refer to https://github.com/stackforge/fuel-devops. sudo apt-get install postgresql python-psycopg2 python-ipaddr python-libvirt sudo apt-get install python-paramiko python-django git python-xmlbuilder sudo apt-get install python-libvirt python-django-south git clone https://github.com/stackforge/fuel-devops.git cd fuel-devops/ export PYTHONPATH=$PYTHONPATH:$(pwd) django-admin syncdb --settings=devops.settings django-admin migrate devops --settings=devops.settings If you want to install a Fuel node + bootstrap for slave nodes, you will need to run the following commands:: sudo apt-get install python-pip postgresql-server-dev-all python-dev git sudo apt-get install python-libvirt libvirt-bin virt-manager postgresql sudo apt-get install qemu-utils qemu-kvm pm-utils python-virtualenv Clone fuel-main ::Create pool 'default' :: sudo virsh pool-define-as --type=dir --name=default --target= /var/lib/libvirt/images sudo virsh pool-autostart default sudo virsh pool-start default sudo usermod $USER -a -G libvirtd,sudo sudo reboot Check for KVM support (the output should be 'KVM acceleration can be used') :: kvm-ok Should be 'Y' :: cat /sys/module/kvm_intel/parameters/nested cd fuel-main/ virtualenv venv/fuelweb_test --system-site-packages . venv/fuelweb_test/bin/activate pip install -r fuelweb_test/requirements.txt sudo sed -ir 's/peer/trust/' /etc/postgresql/9.1/main/pg_hba.conf sudo service postgresql restart django-admin.py syncdb --settings devops.settings Please refer to `building-fuel-iso <http://docs.mirantis.com/fuel-dev/develop/env.html#building-the-fuel-iso>`_ section. Next, you need to define several variables for the future environment ::Alternatively, you can edit this file ::Start tests by running this command:: utils/jenkins/system_tests.sh -t test -w $(pwd) -j fuelweb_test -i $ISO_PATH -V $(pwd)/venv/fuelweb_test -o --group=setup ""utils/jenkins/system_tests.sh"" -h",116,47
openstack%2Fzaqar~stable%2Ficehouse~Ibb5861f47f041d313237a3ee1b87e31d559c406d,openstack/zaqar,stable/icehouse,Ibb5861f47f041d313237a3ee1b87e31d559c406d,Opening stable/icehouse,MERGED,2014-04-17 14:20:11.000000000,2014-04-17 14:54:19.000000000,2014-04-17 14:54:19.000000000,"[{'_account_id': 3}, {'_account_id': 6159}]","[{'number': 1, 'created': '2014-04-17 14:20:11.000000000', 'files': ['.gitreview', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f243bc6a96a239c3df4e93bb62bb0f039374fc65', 'message': 'Opening stable/icehouse\n\nBump version to next stable release on icehouse branch, and set\ndefaultbranch in .gitreview for convenience.\n\nChange-Id: Ibb5861f47f041d313237a3ee1b87e31d559c406d\n'}]",0,88316,f243bc6a96a239c3df4e93bb62bb0f039374fc65,6,2,1,308,,,0,"Opening stable/icehouse

Bump version to next stable release on icehouse branch, and set
defaultbranch in .gitreview for convenience.

Change-Id: Ibb5861f47f041d313237a3ee1b87e31d559c406d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/16/88316/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'setup.cfg']",2,f243bc6a96a239c3df4e93bb62bb0f039374fc65,stable-icehouse,version = 2014.1.1,version = 2014.1.b2,2,1
openstack%2Foslo-incubator~master~I7f6e272eaeb776b6a645ba502853892e79312afd,openstack/oslo-incubator,master,I7f6e272eaeb776b6a645ba502853892e79312afd,Prevent races in opportunistic db test cases,MERGED,2014-02-20 08:40:30.000000000,2014-04-17 14:44:03.000000000,2014-04-17 14:44:03.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 5638}, {'_account_id': 5652}, {'_account_id': 6786}, {'_account_id': 6849}, {'_account_id': 6928}, {'_account_id': 7331}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 7763}]","[{'number': 1, 'created': '2014-02-20 08:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fb6b786f8b8319e8f871efe645fa90777af70575', 'message': ""Prevent races in opportunistic db test cases\n\nopenstack_citest databases which are used in opportunistic db test\ncases are shared among test running processes (so it's possible that\ntwo different tests modify the db at the same time). In order to\nprevent race conditions we must ensure that those test cases are run\nsequentially for each (backend, database) pair.\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n""}, {'number': 2, 'created': '2014-02-21 14:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e087e550639174c8fdf831a1afd1ed7b137cdfbd', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}, {'number': 3, 'created': '2014-02-26 13:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/6979726f2f12cf9cd743dfd8946c7f60e46ee821', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}, {'number': 5, 'created': '2014-02-26 14:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/38ad553bcd4bbbd2a74b9db6f0bafb14b87a29a1', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}, {'number': 4, 'created': '2014-02-26 14:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/00760bbf8378d216caa4fbfaf656d12436bfa2c5', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}, {'number': 6, 'created': '2014-02-26 14:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/0e581a5cc465e019a424bcb40eb56ec648e2626f', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}, {'number': 7, 'created': '2014-04-16 13:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7977f2538fc610fe5502b38894d9027a88ef1215', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nRelated-Bug: #1288916\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}, {'number': 8, 'created': '2014-04-17 05:15:41.000000000', 'files': ['openstack/common/db/sqlalchemy/test_base.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/54f7e7f9b26b46a7ef9ef0de50187c06d6a424be', 'message': 'Prevent races in opportunistic db test cases\n\nPreviously opportunistic db test cases used to share openstack_citest\ndatabase among all test cases, which could be run concurrently in\ndifferent test running processes.\n\nWith recent changes made to our CI, we now can create and drop\ndatabase schemas on demand in tests. Providing each opportunistic db\ntest case with its own DB will effectively prevent possible races.\n\nRelated-Bug: #1288916\n\nChange-Id: I7f6e272eaeb776b6a645ba502853892e79312afd\n'}]",6,74963,54f7e7f9b26b46a7ef9ef0de50187c06d6a424be,105,12,8,6849,,,0,"Prevent races in opportunistic db test cases

Previously opportunistic db test cases used to share openstack_citest
database among all test cases, which could be run concurrently in
different test running processes.

With recent changes made to our CI, we now can create and drop
database schemas on demand in tests. Providing each opportunistic db
test case with its own DB will effectively prevent possible races.

Related-Bug: #1288916

Change-Id: I7f6e272eaeb776b6a645ba502853892e79312afd
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/63/74963/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/db/sqlalchemy/test_base.py'],1,fb6b786f8b8319e8f871efe645fa90777af70575,bp/sync-models-with-migrations,"import lockfile # openstack_citest database is shared among all test running processes. # Ensure that test cases which use it are run sequentially for each # db backend (but still run in parallel for e.g. mysql and postgresql). path = os.path.join(os.environ.get(""OSLO_LOCK_PATH""), credentials['backend'] + '-' + credentials['database']) self._lock = lockfile.FileLock(path) self.addCleanup(self._lock.release) self._lock.acquire() ",,11,0
openstack%2Ftripleo-incubator~master~I13bc19fb7d4a9fd347eb09ef0accc50f28ce0475,openstack/tripleo-incubator,master,I13bc19fb7d4a9fd347eb09ef0accc50f28ce0475,Move setup-clienttools to devtest_setup.sh,MERGED,2014-04-03 13:00:12.000000000,2014-04-17 14:31:37.000000000,2014-04-17 14:31:37.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7582}, {'_account_id': 8532}]","[{'number': 1, 'created': '2014-04-03 13:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/599f8cf7e4c1ba118a94f10b7e93a85c317c7765', 'message': 'Make setup-clienttools optional\n\nThis patch makes it optional for the case when people want to use\npackaged client tools on the host. as your reason. If they\'re\nbuilding images from packages, they\'ll likely want to use packages\non the host as well.\n\nAdds a new variable ""INSTALL_CLIENTTOOLS"" and defaults to true to\nnot disturb any current script behavior.\n\nChange-Id: I13bc19fb7d4a9fd347eb09ef0accc50f28ce0475\n'}, {'number': 2, 'created': '2014-04-03 13:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/b846da966d7ed8f375933d45bb4773586f770c92', 'message': 'Make setup-clienttools optional\n\nThis patch makes it optional for the case when people want to use\npackaged client tools on the host.  If they\'re building images\nfrom packages, they\'ll likely want to use packages on the host as well.\n\nThis also allows for the case when it\'s desireable to have the\ndependencies installed, but not the client tools.\n\nAdds a new variable ""INSTALL_CLIENTTOOLS"" and defaults to true to\nnot disturb any current script behavior.\n\nChange-Id: I13bc19fb7d4a9fd347eb09ef0accc50f28ce0475\n'}, {'number': 3, 'created': '2014-04-03 15:05:38.000000000', 'files': ['scripts/install-dependencies', 'scripts/devtest_setup.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/785bc64e2cec3f5c1bad7ab3214e41c310c4329c', 'message': ""Move setup-clienttools to devtest_setup.sh\n\nThis patch moves the call to setup-clienttools from\ninstall-dependencies to devtest_setup.sh to support a\nnear future patch to allow for using packages in\nsetup-clienttools.  If they're building images from\npackages, they'll likely want to use packages on the\nhost as well.\n\nChange-Id: I13bc19fb7d4a9fd347eb09ef0accc50f28ce0475\n""}]",0,85024,785bc64e2cec3f5c1bad7ab3214e41c310c4329c,45,6,3,8532,,,0,"Move setup-clienttools to devtest_setup.sh

This patch moves the call to setup-clienttools from
install-dependencies to devtest_setup.sh to support a
near future patch to allow for using packages in
setup-clienttools.  If they're building images from
packages, they'll likely want to use packages on the
host as well.

Change-Id: I13bc19fb7d4a9fd347eb09ef0accc50f28ce0475
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/24/85024/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-dependencies'],1,599f8cf7e4c1ba118a94f10b7e93a85c317c7765,make-setup-clienttools-optional,"INSTALL_CLIENTTOOLS=${INSTALL_CLIENTTOOLS:-true} if [ ""$INSTALL_CLIENTTOOLS"" == true ]; then setup-clienttools fi",setup-clienttools,4,1
openstack%2Fsolum~master~Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33,openstack/solum,master,Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33,Test sqlachemy objects with Component instead of Plan,MERGED,2014-04-11 17:49:26.000000000,2014-04-17 14:30:30.000000000,2014-04-17 14:30:29.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 4715}, {'_account_id': 8334}, {'_account_id': 9537}, {'_account_id': 9548}]","[{'number': 1, 'created': '2014-04-11 17:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/e7b8a8ce12e069d2095c0fd8f3c70c616f4522ba', 'message': 'Test sqlachemy objects with Component instead of Plan\n\nChange-Id: Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33\n'}, {'number': 2, 'created': '2014-04-14 08:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/44c4d775a137b931bce8e0849da74d0a5eba43ad', 'message': 'Test sqlachemy objects with Component instead of Plan\n\nChange-Id: Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33\n'}, {'number': 3, 'created': '2014-04-14 08:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/ea7ddd79fc24413f5efe5b2df15ec85ac94a117e', 'message': 'Test sqlachemy objects with Component instead of Plan\n\nChange-Id: Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33\n'}, {'number': 4, 'created': '2014-04-17 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/faa0b8af4c6a94ef06752e9663f73e9c90a3cd8d', 'message': 'Test sqlachemy objects with Component instead of Plan\n\nChange-Id: Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33\n'}, {'number': 5, 'created': '2014-04-17 13:56:43.000000000', 'files': ['solum/tests/objects/test_objects_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/291f9d4b284149f5c865169fe49d32ed90e2109f', 'message': 'Test sqlachemy objects with Component instead of Plan\n\nChange-Id: Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33\n'}]",0,86976,291f9d4b284149f5c865169fe49d32ed90e2109f,36,7,5,9548,,,0,"Test sqlachemy objects with Component instead of Plan

Change-Id: Iac2ac0a760d363a2ba0c1b1b5e9b22f11910be33
",git fetch https://review.opendev.org/openstack/solum refs/changes/76/86976/1 && git format-patch -1 --stdout FETCH_HEAD,['solum/tests/objects/test_objects_sqlalchemy.py'],1,e7b8a8ce12e069d2095c0fd8f3c70c616f4522ba,add-plan-in-swift," self.assertIsNotNone(objects.registry.Component) objects.registry.Component self.assertIsNotNone(objects.registry.Component) component = objects.registry.Component() self.assertIsNotNone(component) self.assertIsNone(component.id) # component = objects.registry.Component() # component.create(self.ctx) # component2 = objects.registry.Component() # component2.id = component.id # with testtools.ExpectedException(db_exc.DBError): # component2.create(self.ctx) objects.registry.Component.get_by_id(None, 10000) component = objects.registry.Component() self.assertIsNotNone(component) component.uuid = str(uuid.uuid4()) component.name = 'abc' component.description = '1-2-3-4' component.plan_id = 1 component.create(self.ctx) self.assertIsNotNone(component.id) component2 = objects.registry.Component.get_by_id(None, component.id) self.assertIsNotNone(component2) self.assertEqual(component.id, component2.id) self.assertEqual(component.uuid, component2.uuid) self.assertEqual(component.name, component2.name) self.assertEqual(component.description, component2.description) query = utils.get_dummy_session().query(component.__class__)\ .filter_by(id=component.id) component3 = query.first() self.assertIsNotNone(component3) self.assertEqual(component3.id, component3.id) components = objects.registry.ComponentList.get_all(None) exists = [item for item in components if item.id == component.id] component = objects.registry.Component() self.assertIsNotNone(component) component.uuid = str(uuid.uuid4()) component.plan_id = 1 component.create(self.ctx) self.assertIsNotNone(component.id) self.assertThat(component.created_at, matchers.GreaterThan(begin)) self.assertIsNone(component.updated_at) component.save(self.ctx) self.assertThat(next_time, matchers.GreaterThan(component.created_at))"," self.assertIsNotNone(objects.registry.Plan) objects.registry.Plan self.assertIsNotNone(objects.registry.Plan) plan = objects.registry.Plan() self.assertIsNotNone(plan) self.assertIsNone(plan.id) # plan = objects.registry.Plan() # plan.create(self.ctx) # plan2 = objects.registry.Plan() # plan2.id = plan.id # with testtools.ExpectedException(db_exc.DBError): # plan2.create(self.ctx) objects.registry.Plan.get_by_id(None, 10000) plan = objects.registry.Plan() self.assertIsNotNone(plan) plan.uuid = str(uuid.uuid4()) plan.name = 'abc' plan.description = '1-2-3-4' plan.create(self.ctx) self.assertIsNotNone(plan.id) plan2 = objects.registry.Plan.get_by_id(None, plan.id) self.assertIsNotNone(plan2) self.assertEqual(plan.id, plan2.id) self.assertEqual(plan.uuid, plan2.uuid) self.assertEqual(plan.name, plan2.name) self.assertEqual(plan.description, plan2.description) query = utils.get_dummy_session().query(plan.__class__)\ .filter_by(id=plan.id) plan3 = query.first() self.assertIsNotNone(plan3) self.assertEqual(plan3.id, plan.id) plans = objects.registry.PlanList.get_all(None) exists = [item for item in plans if item.id == plan.id] plan = objects.registry.Plan() self.assertIsNotNone(plan) plan.uuid = str(uuid.uuid4()) plan.create(self.ctx) self.assertIsNotNone(plan.id) self.assertThat(plan.created_at, matchers.GreaterThan(begin)) self.assertIsNone(plan.updated_at) plan.save(self.ctx) self.assertThat(next_time, matchers.GreaterThan(plan.created_at))",43,41
openstack%2Fsolum~master~Ie67f646b0018dd3409ceed89f4f838ee8b447ecb,openstack/solum,master,Ie67f646b0018dd3409ceed89f4f838ee8b447ecb,Test types with Component and test extra_keys in from_db_model,MERGED,2014-04-11 17:49:25.000000000,2014-04-17 14:29:55.000000000,2014-04-17 14:29:55.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 4715}, {'_account_id': 8334}, {'_account_id': 9548}]","[{'number': 1, 'created': '2014-04-11 17:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/abe9e95d9a9c84af936222fbf114b9e1dbb02e66', 'message': 'Test types with Component instead of Plan db object\n\nPlan db object is removed in add-plan-in-swift\n\nChange-Id: Ie67f646b0018dd3409ceed89f4f838ee8b447ecb\n'}, {'number': 2, 'created': '2014-04-14 08:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/cd7131243a1c06caa0f780e082cd1ee34fed0363', 'message': 'Test types with Component instead of Plan db object\n\nPlan db object is removed in add-plan-in-swift\n\nChange-Id: Ie67f646b0018dd3409ceed89f4f838ee8b447ecb\n'}, {'number': 3, 'created': '2014-04-14 08:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/8eac19de47972eb578518c2b0f434dd108f783ea', 'message': 'Test types with Component and test extra_keys in from_db_model\n\nPlan db object is removed in add-plan-in-swift, so we now\ntest types with Component instead of Plan db object.\nAlso added a unit test for extra_keys in from_db_model.\n\nChange-Id: Ie67f646b0018dd3409ceed89f4f838ee8b447ecb\n'}, {'number': 4, 'created': '2014-04-17 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/d3595c287739df33d47a4979c9ecf7a4b2a88f9b', 'message': 'Test types with Component and test extra_keys in from_db_model\n\nPlan db object is removed in add-plan-in-swift, so we now\ntest types with Component instead of Plan db object.\nAlso added a unit test for extra_keys in from_db_model.\n\nChange-Id: Ie67f646b0018dd3409ceed89f4f838ee8b447ecb\n'}, {'number': 5, 'created': '2014-04-17 13:56:43.000000000', 'files': ['solum/tests/api/v1/test_types.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/e61726e2d35aaa61de4c69429bc862513693f9d5', 'message': 'Test types with Component and test extra_keys in from_db_model\n\nPlan db object is removed in add-plan-in-swift, so we now\ntest types with Component instead of Plan db object.\nAlso added a unit test for extra_keys in from_db_model.\n\nChange-Id: Ie67f646b0018dd3409ceed89f4f838ee8b447ecb\n'}]",2,86975,e61726e2d35aaa61de4c69429bc862513693f9d5,35,6,5,9548,,,0,"Test types with Component and test extra_keys in from_db_model

Plan db object is removed in add-plan-in-swift, so we now
test types with Component instead of Plan db object.
Also added a unit test for extra_keys in from_db_model.

Change-Id: Ie67f646b0018dd3409ceed89f4f838ee8b447ecb
",git fetch https://review.opendev.org/openstack/solum refs/changes/75/86975/4 && git format-patch -1 --stdout FETCH_HEAD,['solum/tests/api/v1/test_types.py'],1,abe9e95d9a9c84af936222fbf114b9e1dbb02e66,add-plan-in-swift,"from solum.api.controllers.v1.datamodel import component as component_api from solum.objects.sqlalchemy import component as component_model 'uri': 'http://test_host/v1/components/hb', a = component_api.Component(**data) self.assertEqual(data, a.as_dict(component_model.Component)) a = component_api.Component(**data) self.assertEqual(data, a.as_dict_from_keys(['name', 'project_id'])) obj = objects.registry.Component() c = component_api.Component.from_db_model(obj, host_url) self.assertEqual(data['name'], c.name) self.assertEqual(data['project_id'], c.project_id) self.assertEqual('component', c.type) self.assertEqual(data['user_id'], c.user_id) c.uri)","from solum.api.controllers.v1.datamodel import plan as plan_api from solum.objects.sqlalchemy import plan as plan_model 'uri': 'http://test_host/v1/plans/hb', p = plan_api.Plan(**data) self.assertEqual(data, p.as_dict(plan_model.Plan)) p = plan_api.Plan(**data) self.assertEqual(data, p.as_dict_from_keys(['name', 'project_id'])) obj = objects.registry.Plan() p = plan_api.Plan.from_db_model(obj, host_url) self.assertEqual(data['name'], p.name) self.assertEqual(data['project_id'], p.project_id) self.assertEqual('plan', p.type) self.assertEqual(data['user_id'], p.user_id) p.uri)",14,14
openstack%2Fsolum~master~I3518e0dfb3f85631260474ba465146314e48a12c,openstack/solum,master,I3518e0dfb3f85631260474ba465146314e48a12c,Allow as_dict with no assembly_id FK set in Component,MERGED,2014-04-11 17:49:25.000000000,2014-04-17 14:29:54.000000000,2014-04-17 14:29:54.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 4715}, {'_account_id': 8334}, {'_account_id': 9548}]","[{'number': 1, 'created': '2014-04-11 17:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/006de0aedb79edfa9fb716d65edbbabcd735c230', 'message': ""Allow as_dict with no assembly_id FK set in Component\n\nComponent.assembly_uuid used to raise an exception when no assembly_id\nwas set. It was an acceptable behavior but when you were calling as_dict\nyou were getting a ResourneNotFound and couldn't retrieve your dict.\nThe purpose of this patch is to allow the use of as_dict with no assembly\nset as FK.\n\nChange-Id: I3518e0dfb3f85631260474ba465146314e48a12c\nCloses-Bug: #1306731\n""}, {'number': 2, 'created': '2014-04-14 08:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/dd712b0805fec34f75c124d33f3ff333ad54ba39', 'message': ""Allow as_dict with no assembly_id FK set in Component\n\nComponent.assembly_uuid used to raise an exception when no assembly_id\nwas set. It was an acceptable behavior but when you were calling as_dict\nyou were getting a ResourneNotFound and couldn't retrieve your dict.\nThe purpose of this patch is to allow the use of as_dict with no assembly\nset as FK.\n\nChange-Id: I3518e0dfb3f85631260474ba465146314e48a12c\nCloses-Bug: #1306731\n""}, {'number': 3, 'created': '2014-04-14 08:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/57a4693a58c8efe18d59261d7caad7ecbe79b488', 'message': ""Allow as_dict with no assembly_id FK set in Component\n\nComponent.assembly_uuid used to raise an exception when no assembly_id\nwas set. It was an acceptable behavior but when you were calling as_dict\nyou were getting a ResourneNotFound and couldn't retrieve your dict.\nThe purpose of this patch is to allow the use of as_dict with no assembly\nset as FK.\n\nChange-Id: I3518e0dfb3f85631260474ba465146314e48a12c\nCloses-Bug: #1306731\n""}, {'number': 4, 'created': '2014-04-17 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1fad45d9dc33e7911a3b2c711be5c1151f7b49d8', 'message': ""Allow as_dict with no assembly_id FK set in Component\n\nComponent.assembly_uuid used to raise an exception when no assembly_id\nwas set. It was an acceptable behavior but when you were calling as_dict\nyou were getting a ResourneNotFound and couldn't retrieve your dict.\nThe purpose of this patch is to allow the use of as_dict with no assembly\nset as FK.\n\nChange-Id: I3518e0dfb3f85631260474ba465146314e48a12c\nCloses-Bug: #1306731\n""}, {'number': 5, 'created': '2014-04-17 13:56:43.000000000', 'files': ['solum/objects/sqlalchemy/component.py', 'solum/tests/objects/test_component.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/e2368f5fdbf98420eb820ae09bbcc91fc6a045ab', 'message': ""Allow as_dict with no assembly_id FK set in Component\n\nComponent.assembly_uuid used to raise an exception when no assembly_id\nwas set. It was an acceptable behavior but when you were calling as_dict\nyou were getting a ResourneNotFound and couldn't retrieve your dict.\nThe purpose of this patch is to allow the use of as_dict with no assembly\nset as FK.\n\nChange-Id: I3518e0dfb3f85631260474ba465146314e48a12c\nCloses-Bug: #1306731\n""}]",1,86974,e2368f5fdbf98420eb820ae09bbcc91fc6a045ab,42,6,5,9548,,,0,"Allow as_dict with no assembly_id FK set in Component

Component.assembly_uuid used to raise an exception when no assembly_id
was set. It was an acceptable behavior but when you were calling as_dict
you were getting a ResourneNotFound and couldn't retrieve your dict.
The purpose of this patch is to allow the use of as_dict with no assembly
set as FK.

Change-Id: I3518e0dfb3f85631260474ba465146314e48a12c
Closes-Bug: #1306731
",git fetch https://review.opendev.org/openstack/solum refs/changes/74/86974/3 && git format-patch -1 --stdout FETCH_HEAD,['solum/objects/sqlalchemy/component.py'],1,006de0aedb79edfa9fb716d65edbbabcd735c230,add-plan-in-swift, if self.assembly_id is None: return None,,2,0
openstack%2Ffuel-main~master~I759a01c50e3d86f574401e6f092cd2d48dc5cb4a,openstack/fuel-main,master,I759a01c50e3d86f574401e6f092cd2d48dc5cb4a,Changes in packages for icehouse,MERGED,2014-04-02 16:20:26.000000000,2014-04-17 14:28:20.000000000,2014-04-17 14:28:20.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8777}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 10474}]","[{'number': 1, 'created': '2014-04-02 16:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/dce69977fd95069fda3d7600296fc5849e9f059a', 'message': 'Changes in neutron deb packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 2, 'created': '2014-04-02 16:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8351a7f0ccabf984eb6a5affd1e6f18b4f5d5ed0', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 3, 'created': '2014-04-04 11:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/04a5ba5efdbd18ebf7bee05f83b6e967250c84dc', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 4, 'created': '2014-04-11 14:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/89ba23d5a35c67115703389ad8f6130d36ea5889', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 5, 'created': '2014-04-11 15:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9938daaec9840c56b38d7ff492e790b62833f1da', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 6, 'created': '2014-04-16 12:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0a95e5f06f2928f5fcd8a5d850bfb8a4b9c31dd3', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 7, 'created': '2014-04-16 15:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/24f838873c908c9987a8c81b7038ceea8c94bc3e', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}, {'number': 8, 'created': '2014-04-16 17:46:39.000000000', 'files': ['requirements-rpm.txt', 'requirements-deb.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a15ddedeca4199f3531c1aa28dadf77a1958c897', 'message': 'Changes in packages for icehouse\n\nChange-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a\n'}]",1,84783,a15ddedeca4199f3531c1aa28dadf77a1958c897,52,9,8,9582,,,0,"Changes in packages for icehouse

Change-Id: I759a01c50e3d86f574401e6f092cd2d48dc5cb4a
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/83/84783/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements-deb.txt'],1,dce69977fd95069fda3d7600296fc5849e9f059a,master,,neutron-ovs-cleanup,0,1
openstack%2Fsolum~master~Ie4d25e7af2425f452858707098c9674d409cd882,openstack/solum,master,Ie4d25e7af2425f452858707098c9674d409cd882,Fix solum conf for keystone,MERGED,2014-04-17 13:27:29.000000000,2014-04-17 14:23:05.000000000,2014-04-17 14:23:04.000000000,"[{'_account_id': 3}, {'_account_id': 8334}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-04-17 13:27:29.000000000', 'files': ['etc/solum/solum.conf.sample'], 'web_link': 'https://opendev.org/openstack/solum/commit/6c5417fd3317d6adbaa8306b8f9fe018ea6182ce', 'message': 'Fix solum conf for keystone\n\nChange-Id: Ie4d25e7af2425f452858707098c9674d409cd882\n'}]",0,88287,6c5417fd3317d6adbaa8306b8f9fe018ea6182ce,7,3,1,9548,,,0,"Fix solum conf for keystone

Change-Id: Ie4d25e7af2425f452858707098c9674d409cd882
",git fetch https://review.opendev.org/openstack/solum refs/changes/87/88287/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/solum/solum.conf.sample'],1,6c5417fd3317d6adbaa8306b8f9fe018ea6182ce,fix-solum-conf-generator-for-keystone,"# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value)# Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value)# Port of the admin Identity API endpoint. Deprecated, use # identity_uri. (integer value)# Protocol of the admin Identity API endpoint (http or https). # Deprecated, use identity_uri. (string value)# Complete admin Identity API endpoint. This should specify # the unversioned root endpoint eg. https://localhost:35357/ # (string value) #identity_uri=<None> ",# Prefix to prepend at the beginning of the path (string # value)# Host providing the admin Identity API endpoint (string # value)# Port of the admin Identity API endpoint (integer value)# Protocol of the admin Identity API endpoint(http or https) # (string value),13,7
openstack%2Ftempest~master~I1040b61b081d783a7c206189e11d16f9f9e77f91,openstack/tempest,master,I1040b61b081d783a7c206189e11d16f9f9e77f91,Verify delete agent response of V2/V3 APIs,MERGED,2014-04-02 05:25:17.000000000,2014-04-17 14:21:38.000000000,2014-04-17 14:21:37.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 7882}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-02 05:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7fc9d3fc8456b48a26ca3dffa68b592a04c279a4', 'message': 'Verify delete agent response of V2/V3 APIs\n\nThis patch adds the JSON schema for response status of Nova agent delete APIs\nto block the backward incompatibility change in the future.\n\ndelete agent does not return the response body.\nResponse status of above APIs is below:\nV2 : 200\nV3 : 204\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I1040b61b081d783a7c206189e11d16f9f9e77f91\n'}, {'number': 3, 'created': '2014-04-02 11:19:19.000000000', 'files': ['tempest/api_schema/compute/v2/agents.py', 'tempest/services/compute/json/agents_client.py', 'tempest/api_schema/compute/v3/agents.py', 'tempest/services/compute/v3/json/agents_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c32a98beb8db5be1726d850572283bfc680223df', 'message': 'Verify delete agent response of V2/V3 APIs\n\nThis patch adds the JSON schema for response status of Nova agent delete APIs\nto block the backward incompatibility change in the future.\n\ndelete agent does not return the response body.\nResponse status of above APIs is below:\nV2 : 200\nV3 : 204\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I1040b61b081d783a7c206189e11d16f9f9e77f91\n'}, {'number': 2, 'created': '2014-04-02 11:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8ddc60a8dd24f1829e99c46ae6af2fe11dde2d2', 'message': 'Verify delete agent response of V2/V3 APIs\n\nThis patch adds the JSON schema for response status of Nova agent delete APIs\nto block the backward incompatibility change in the future.\n\ndelete agent does not return the response body.\nResponse status of above APIs is below:\nV2 : 200\nV3 : 204\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I1040b61b081d783a7c206189e11d16f9f9e77f91\n'}]",0,84625,c32a98beb8db5be1726d850572283bfc680223df,35,5,3,7882,,,0,"Verify delete agent response of V2/V3 APIs

This patch adds the JSON schema for response status of Nova agent delete APIs
to block the backward incompatibility change in the future.

delete agent does not return the response body.
Response status of above APIs is below:
V2 : 200
V3 : 204

Partially implements blueprint nova-api-attribute-test

Change-Id: I1040b61b081d783a7c206189e11d16f9f9e77f91
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/84625/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api_schema/compute/v2/agents.py', 'tempest/services/compute/json/agents_client.py', 'tempest/api_schema/compute/v3/agents.py', 'tempest/services/compute/v3/json/agents_client.py']",4,7fc9d3fc8456b48a26ca3dffa68b592a04c279a4,bp/nova-api-attribute-test,"from tempest.api_schema.compute.v3 import agents as schema resp, body = self.delete(""os-agents/%s"" % str(agent_id)) self.validate_response(schema.delete_agent, resp, body) return resp, body", return self.delete('os-agents/%s' % str(agent_id)),42,2
openstack%2Fmistral~master~Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6,openstack/mistral,master,Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6,Removing 'base_output' from ad-hoc actions specification,MERGED,2014-04-16 10:32:01.000000000,2014-04-17 13:59:45.000000000,2014-04-17 13:59:45.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}, {'_account_id': 10126}, {'_account_id': 10127}]","[{'number': 1, 'created': '2014-04-16 10:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a4101cb0f3f39d2decd63a61d4dae7a62b0ce86c', 'message': ""Removing 'base_output' from ad-hoc actions specification\n\n* Since '$' is a valid expression it may be used to refer to\n  base action result in ad-hoc actions so using '$.base_output'\n  is redundant.\n* Fixed module expressions.py so that YAQL expression '$' is\n  considered valid.\n* Fixed corresponding test cases.\n\nChange-Id: Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6\n""}, {'number': 2, 'created': '2014-04-16 15:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/85cd0718d13c6771426bc64ee7a7d871d8c764d1', 'message': ""Removing 'base_output' from ad-hoc actions specification\n\n* Since '$' is a valid expression it may be used to refer to\n  base action result in ad-hoc actions so using '$.base_output'\n  is redundant.\n* Fixed module expressions.py so that YAQL expression '$' is\n  considered valid.\n* Fixed corresponding test cases.\n\nChange-Id: Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6\n""}, {'number': 3, 'created': '2014-04-16 15:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5a271f857d877521d7a38c02941f162d92cfa1ac', 'message': ""Removing 'base_output' from ad-hoc actions specification\n\n* Since '$' is a valid expression it may be used to refer to\n  base action result in ad-hoc actions so using '$.base_output'\n  is redundant.\n* Fixed module expressions.py so that YAQL expression '$' is\n  considered valid.\n* Fixed corresponding test cases.\n\nChange-Id: Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6\n""}, {'number': 4, 'created': '2014-04-16 15:10:26.000000000', 'files': ['mistral/tests/resources/data_flow/two_dependent_tasks.yaml', 'mistral/tests/resources/data_flow/task_with_two_dependencies.yaml', 'mistral/tests/unit/actions/test_action_factory.py', 'mistral/actions/std_actions.py', 'mistral/expressions.py', 'mistral/tests/resources/data_flow/three_subsequent_tasks.yaml', 'mistral/tests/resources/data_flow/two_subsequent_tasks.yaml', 'mistral/tests/unit/actions/test_std_adhoc_action.py', 'mistral/tests/resources/retry_task/retry_task.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/afffb51b258f6deea552e54f67ca1f0cca72a9c2', 'message': ""Removing 'base_output' from ad-hoc actions specification\n\n* Since '$' is a valid expression it may be used to refer to\n  base action result in ad-hoc actions so using '$.base_output'\n  is redundant.\n* Fixed module expressions.py so that YAQL expression '$' is\n  considered valid.\n* Fixed corresponding test cases.\n\nChange-Id: Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6\n""}]",2,87919,afffb51b258f6deea552e54f67ca1f0cca72a9c2,38,8,4,8731,,,0,"Removing 'base_output' from ad-hoc actions specification

* Since '$' is a valid expression it may be used to refer to
  base action result in ad-hoc actions so using '$.base_output'
  is redundant.
* Fixed module expressions.py so that YAQL expression '$' is
  considered valid.
* Fixed corresponding test cases.

Change-Id: Ib7e534b3f9cc8fffb0f1626a987a8c8cc6eeddf6
",git fetch https://review.opendev.org/openstack/mistral refs/changes/19/87919/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/resources/data_flow/two_dependent_tasks.yaml', 'mistral/tests/resources/data_flow/task_with_two_dependencies.yaml', 'mistral/actions/std_actions.py', 'mistral/expressions.py', 'mistral/tests/unit/actions/test_action_factory.py', 'mistral/tests/resources/data_flow/three_subsequent_tasks.yaml', 'mistral/tests/resources/data_flow/two_subsequent_tasks.yaml', 'mistral/tests/unit/actions/test_std_adhoc_action.py', 'mistral/tests/resources/retry_task/retry_task.yaml']",9,a4101cb0f3f39d2decd63a61d4dae7a62b0ce86c,get_rid_of_base_output_in_adhoc_actions, greeting: $, greeting: $.base_output,21,21
openstack%2Fcinder~master~Ic2e0cb49b26c08e058b2589c91e729cb6e06192e,openstack/cinder,master,Ic2e0cb49b26c08e058b2589c91e729cb6e06192e,Update cinder.conf to cover new keystoneclient,ABANDONED,2014-04-17 13:46:01.000000000,2014-04-17 13:54:59.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}]","[{'number': 1, 'created': '2014-04-17 13:46:01.000000000', 'files': ['etc/cinder/cinder.conf.sample'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9aa18a631497ea6c8387145d1b65d3791f280ee5', 'message': 'Update cinder.conf to cover new keystoneclient\n\nBitten again by keystoneclient update.  Going forward\nwe should force keystoneclient to run conf checks so these\nare caught when they update, or we should come up with a safe\nway of not testing this any longer.\n\nChange-Id: Ic2e0cb49b26c08e058b2589c91e729cb6e06192e\n'}]",1,88299,9aa18a631497ea6c8387145d1b65d3791f280ee5,3,2,1,2243,,,0,"Update cinder.conf to cover new keystoneclient

Bitten again by keystoneclient update.  Going forward
we should force keystoneclient to run conf checks so these
are caught when they update, or we should come up with a safe
way of not testing this any longer.

Change-Id: Ic2e0cb49b26c08e058b2589c91e729cb6e06192e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/88299/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/cinder.conf.sample'],1,9aa18a631497ea6c8387145d1b65d3791f280ee5,update_conf_for_new_keystoneclient,"#qpid_hostname=cinder#rabbit_host=cinder# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value)# Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value)# Port of the admin Identity API endpoint. Deprecated, use # identity_uri. (integer value)# Protocol of the admin Identity API endpoint (http or https). # Deprecated, use identity_uri. (string value)# Complete admin Identity API endpoint. This should specify # the unversioned root endpoint eg. https://localhost:35357/ # (string value) #identity_uri=<None> ",#qpid_hostname=localhost#rabbit_host=localhost# Prefix to prepend at the beginning of the path (string # value)# Host providing the admin Identity API endpoint (string # value)# Port of the admin Identity API endpoint (integer value)# Protocol of the admin Identity API endpoint(http or https) # (string value),15,9
openstack%2Fos-apply-config~master~I20baf7fa3fab9c44d1fc20ad95980fb821b5e7f8,openstack/os-apply-config,master,I20baf7fa3fab9c44d1fc20ad95980fb821b5e7f8,Add metadata header,ABANDONED,2014-04-17 12:19:05.000000000,2014-04-17 13:54:01.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-17 12:19:05.000000000', 'files': ['os_apply_config/tests/test_apply_config.py', 'os_apply_config/tests/templates/etc/header/mode', 'os_apply_config/tests/templates/etc/header/none', 'os_apply_config/tests/templates/etc/header/allow_empty', 'os_apply_config/apply_config.py'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/1e726a69651e334b6346556280ccfcbe068b92e2', 'message': ""Add metadata header\n\nAllow templates to provide a metadata header (defaults shown).\n\n  -- os-apply-config --\n  allow_empty: true\n  mode: 0644\n  -- end --\n\nAll keys are optional and values may vary.\nMode must be four octal digits.\nThere may be other lines interspersed providing they don't look like key\nlines.\nThe header will be stripped.\n\nChange-Id: I20baf7fa3fab9c44d1fc20ad95980fb821b5e7f8\n""}]",0,88268,1e726a69651e334b6346556280ccfcbe068b92e2,3,1,1,8688,,,0,"Add metadata header

Allow templates to provide a metadata header (defaults shown).

  -- os-apply-config --
  allow_empty: true
  mode: 0644
  -- end --

All keys are optional and values may vary.
Mode must be four octal digits.
There may be other lines interspersed providing they don't look like key
lines.
The header will be stripped.

Change-Id: I20baf7fa3fab9c44d1fc20ad95980fb821b5e7f8
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/68/88268/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_apply_config/tests/test_apply_config.py', 'os_apply_config/tests/templates/etc/header/mode', 'os_apply_config/tests/templates/etc/header/none', 'os_apply_config/tests/templates/etc/header/allow_empty', 'os_apply_config/apply_config.py']",5,1e726a69651e334b6346556280ccfcbe068b92e2,,"import re# constants for the header HDR_START = '-- os-apply-config --' HDR_END = '-- end --' HDR_BODY = 'body' HDR_ALLOW_EMPTY = 'allow_empty' HDR_MODE = 'mode' # We won't need HDR_TRUE if we make true default for all options HDR_FALSE = 'false' for path, obj in tree.items(): output_path, strip_prefix('/', path)), obj)def write_file(path, obj): if obj.get(HDR_ALLOW_EMPTY, None) == HDR_FALSE and len(obj[HDR_BODY]) == 0: logger.info(""not creating empty %s"", path) return mode = obj.get(HDR_MODE, None) or mode newfile.write(obj[HDR_BODY]) '''Return a map of filenames to dicts. The dicts use keys: body: the intended file contents mode: the permissions to set on the file, EG 0755 allow_empty: boolean. If allow_empty and body='', no file will be created. An existing file will not be deleted. ''' return {filename: process_header(filename, body) for filename, body in res.iteritems()}def process_header(filename, body): '''Look for a header like: (defaults shown) -- os-apply-config -- allow_empty: true mode: 0644 -- end -- All keys are optional and values may vary. Mode must be four octal digits. The header is stripped from the result. ''' obj = {HDR_BODY: body} lines = body.splitlines() if lines[0] != HDR_START: return obj for line in lines[1:]: if line == HDR_END: break matcher = re.match(""([\w?./-]+): "", line) if not matcher: continue key = matcher.group(1) value = check_header_line(filename, key, line[matcher.end():]) obj[key] = value else: raise exc.ConfigException( ""no '%s' found for header on %s"" % (HDR_END, filename)) # Cut off the header, ensuring original line endings are preserved m = re.search(HDR_END + ""(?:\\r\\n|\\n)"", body) obj[HDR_BODY] = body[m.end():] return obj def check_header_line(filename, key, value): '''Validates key, value according to key and parses value into the correct type. ''' if key == HDR_ALLOW_EMPTY: return value if key == HDR_MODE: if re.match(""0[0-7]{3}$"", value) is None: raise exc.ConfigException( ""invalid mode '%s' in %s"" % (value, filename)) return int(value, 8) raise exc.ConfigException( ""unrecognised header key '%s' in %s"" % (key, filename)) "," for path, contents in tree.items(): output_path, strip_prefix('/', path)), contents)def write_file(path, contents): newfile.write(contents)# return a map of filenames->filecontents return res",172,51
openstack%2Foslo-incubator~master~I2471d638f42fc425efc928b280e1b47c23fddabd,openstack/oslo-incubator,master,I2471d638f42fc425efc928b280e1b47c23fddabd,generator: sanitize values ending with the fqdn,MERGED,2014-03-27 20:15:36.000000000,2014-04-17 13:49:02.000000000,2014-04-17 13:49:02.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 7923}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-03-27 20:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a3282445d8b6be05b0f71f70d0df7903b905cfc9', 'message': ""generator: sanitize values ending with the fqdn\n\nSome options (neutron_id in the neutron bigswitch plugin) use the\nhostname/fqdn to generate default values prefixed with a static string.\nThis patch handles such options and sanitize the default value by\nreplacing the hostname/fqdn with the 'oslo' string.\n\nCloses-Bug: #1298589\nChange-Id: I2471d638f42fc425efc928b280e1b47c23fddabd\n""}, {'number': 2, 'created': '2014-04-04 06:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/4252551c54256f3668552a5ed33f8ef571101176', 'message': ""generator: sanitize values ending with the fqdn\n\nSome options (neutron_id in the neutron bigswitch plugin) use the\nhostname/fqdn to generate default values prefixed with a static string.\nThis patch handles such options and sanitize the default value by\nreplacing the hostname/fqdn with the 'oslo' string.\n\nCloses-Bug: #1298589\nChange-Id: I2471d638f42fc425efc928b280e1b47c23fddabd\n""}, {'number': 3, 'created': '2014-04-11 14:22:24.000000000', 'files': ['openstack/common/config/generator.py', 'tests/unit/config/test_generator.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7f307c27697f3e622dd22f108edbeeed22e0f482', 'message': ""generator: sanitize values ending with the fqdn\n\nSome options (neutron_id in the neutron bigswitch plugin) use the\nhostname/fqdn to generate default values prefixed with a static string.\nThis patch handles such options and sanitize the default value by\nreplacing the hostname/fqdn with the 'oslo' string.\n\nCloses-Bug: #1298589\nChange-Id: I2471d638f42fc425efc928b280e1b47c23fddabd\n""}]",1,83571,7f307c27697f3e622dd22f108edbeeed22e0f482,35,6,3,7923,,,0,"generator: sanitize values ending with the fqdn

Some options (neutron_id in the neutron bigswitch plugin) use the
hostname/fqdn to generate default values prefixed with a static string.
This patch handles such options and sanitize the default value by
replacing the hostname/fqdn with the 'oslo' string.

Closes-Bug: #1298589
Change-Id: I2471d638f42fc425efc928b280e1b47c23fddabd
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/71/83571/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/config/generator.py', 'tests/unit/config/test_generator.py']",2,a3282445d8b6be05b0f71f70d0df7903b905cfc9,sanitize," result = generator._sanitize_default('neutron_id', 'id-%s' % fake_fqdn) self.assertEqual('id-oslo', result) ",,11,1
openstack%2Frally~master~I4170fb8e51851979d0610493a9d4c656107d750d,openstack/rally,master,I4170fb8e51851979d0610493a9d4c656107d750d,Fix ubuntu-12 issues in LxcHost,MERGED,2014-02-06 08:33:07.000000000,2014-04-17 13:46:55.000000000,2014-04-17 13:46:55.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7217}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 10475}]","[{'number': 1, 'created': '2014-02-06 08:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7c068b3dc6a104d0d2ceca3758ebbdeaa48fa96d', 'message': 'Fix btrfs checking in LxcHost\n\nThere was incorrect checking for btrfs availability\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 2, 'created': '2014-02-10 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bcad8dc46748f3b98cb54a42df37c5fb45fd20d4', 'message': 'Fix btrfs checking in LxcHost\n\nThere was incorrect checking for btrfs availability.\n\nAlso fixed ubuntu-12 issues:\n\n* do not use -B option when btrfs is not available (create_container)\n* query dnsmasq instead of using lxc-attach (get_ip)\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 3, 'created': '2014-02-11 10:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fe6859c5df3efc8ce0ec7b60df3bd1730a4c26a5', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* query dnsmasq instead of using lxc-attach (get_ip)\n* add ability to specify distro release in config\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 4, 'created': '2014-02-11 10:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e94c4625cef786fab509cc676fa2e952194c7110', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* query dnsmasq instead of using lxc-attach (get_ip)\n* add ability to specify distro release in config\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 5, 'created': '2014-02-18 11:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/df1a797b772d100c3fd9935c3b4c85fc9b6f3b0c', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* query dnsmasq instead of using lxc-attach (get_ip)\n* add ability to specify distro release in config\n* delete stale tunnels\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 6, 'created': '2014-02-20 15:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/68390477bb1b8cec50c5f3017c20beebedacfb4a', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 7, 'created': '2014-02-27 12:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4e3002e80d10468ee3fee78cf184a839cbc34d56', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 8, 'created': '2014-03-05 14:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/697c5b55f2487b076ec713b914da34beb6111345', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 9, 'created': '2014-03-08 19:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1cd7ca4f24bc7a8d9a691a73676bb27aa4135745', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nFixes: bug 1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 10, 'created': '2014-03-18 09:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fbd20a196da0367650b85d28aef4669cb146f825', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nCloses-Bug: #1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 11, 'created': '2014-03-24 10:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d590fc89f4348c443e302ed1019f878c37b9e533', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nCloses-Bug: #1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}, {'number': 12, 'created': '2014-04-17 08:36:26.000000000', 'files': ['rally/deploy/serverprovider/providers/lxc/tunnel-local.sh', 'rally/deploy/serverprovider/providers/lxc/tunnel-remote.sh', 'rally/deploy/serverprovider/providers/lxc.py', 'tests/deploy/serverprovider/providers/test_lxc.py', 'doc/samples/deployments/devstack-in-lxc.json', 'rally/deploy/serverprovider/providers/lxc/lxc-install.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/bf7a9e30f26800fd5c1dd8f1a97a692c672cd0d8', 'message': 'Fix ubuntu-12 issues in LxcHost\n\n* fix incorrect checking for btrfs availability\n* do not use -B option when btrfs is not available (create_container)\n* add ability to specify distro release in config\n* delete stale tunnels\n* fix issue when /dev/loop0 is not available\n\nCloses-Bug: #1276949\n\nChange-Id: I4170fb8e51851979d0610493a9d4c656107d750d\n'}]",4,71471,bf7a9e30f26800fd5c1dd8f1a97a692c672cd0d8,68,6,12,7369,,,0,"Fix ubuntu-12 issues in LxcHost

* fix incorrect checking for btrfs availability
* do not use -B option when btrfs is not available (create_container)
* add ability to specify distro release in config
* delete stale tunnels
* fix issue when /dev/loop0 is not available

Closes-Bug: #1276949

Change-Id: I4170fb8e51851979d0610493a9d4c656107d750d
",git fetch https://review.opendev.org/openstack/rally refs/changes/71/71471/9 && git format-patch -1 --stdout FETCH_HEAD,"['rally/serverprovider/providers/lxc.py', 'tests/serverprovider/providers/test_lxc.py']",2,7c068b3dc6a104d0d2ceca3758ebbdeaa48fa96d,bug/u12," self.server.ssh.execute.return_value = [0, '', ''] def test_backingstore_dir(self): self.server.ssh.execute.return_value = [-1, '', '']", def test_backingstore_none(self): self.server.ssh.execute.side_effect = exceptions.SSHError(),5,7
openstack%2Fsahara~master~I95623a3a009cd9863516b7b621c49aa06364f8f3,openstack/sahara,master,I95623a3a009cd9863516b7b621c49aa06364f8f3,Remote sahara/utils/rpc.py,ABANDONED,2014-04-17 13:04:23.000000000,2014-04-17 13:42:08.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-04-17 13:04:23.000000000', 'files': ['sahara/utils/rpc.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/fd60732cd1ba452d2c8308320b74e138a51b3d17', 'message': 'Remote sahara/utils/rpc.py\n\nA remnant from the past aeons.\n\nChange-Id: I95623a3a009cd9863516b7b621c49aa06364f8f3\n'}]",0,88281,fd60732cd1ba452d2c8308320b74e138a51b3d17,4,2,1,7109,,,0,"Remote sahara/utils/rpc.py

A remnant from the past aeons.

Change-Id: I95623a3a009cd9863516b7b621c49aa06364f8f3
",git fetch https://review.opendev.org/openstack/sahara refs/changes/81/88281/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/utils/rpc.py'],1,fd60732cd1ba452d2c8308320b74e138a51b3d17,,,"# Copyright (c) 2013 Mirantis Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import functools from sahara.openstack.common.rpc import common as rpc_common class RpcExceptionPassthrough(object): """"""Class to wrap another and translate the ClientExceptions raised by its function calls to the actual ones. """""" def __init__(self, target): self._target = target def __getattr__(self, name): func = getattr(self._target, name) @functools.wraps(func) def wrapper(*args, **kwargs): try: return func(*args, **kwargs) except rpc_common.ClientException as e: raise (e._exc_info[1], None, e._exc_info[2]) return wrapper ",0,39
openstack%2Fmistral~master~I9b13bd9896b0bfc0f6d826e660cb7e2dbe441100,openstack/mistral,master,I9b13bd9896b0bfc0f6d826e660cb7e2dbe441100,Temporarily commenting assertions in task retry tests,MERGED,2014-04-17 13:23:16.000000000,2014-04-17 13:40:28.000000000,2014-04-17 13:40:28.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}]","[{'number': 1, 'created': '2014-04-17 13:23:16.000000000', 'files': ['mistral/tests/unit/engine/test_task_retry.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/33a60acf4b4ed8722a611b54968c79d3c8a80245', 'message': 'Temporarily commenting assertions in task retry tests\n\n* These tests should be rewritten to avoid race conditions. In\n  other words they pass not always.\n\nTODO:\n* Fix task retry tests.\n\nChange-Id: I9b13bd9896b0bfc0f6d826e660cb7e2dbe441100\n'}]",0,88285,33a60acf4b4ed8722a611b54968c79d3c8a80245,7,3,1,8731,,,0,"Temporarily commenting assertions in task retry tests

* These tests should be rewritten to avoid race conditions. In
  other words they pass not always.

TODO:
* Fix task retry tests.

Change-Id: I9b13bd9896b0bfc0f6d826e660cb7e2dbe441100
",git fetch https://review.opendev.org/openstack/mistral refs/changes/85/88285/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/engine/test_task_retry.py'],1,33a60acf4b4ed8722a611b54968c79d3c8a80245,fix_retry_tests," # TODO(rakhmerov): It's not stable, need to avoid race condition. #self._assert_single_item(tasks, name=task_name) #self._assert_single_item(tasks, state=states.DELAYED) #tasks = # db_api.tasks_get(WB_NAME, execution['id']) # TODO(rakhmerov): It's not stable, need to avoid race condition. #self._assert_single_item(tasks, name=task_name_1) #self._assert_single_item(tasks, state=states.DELAYED)"," self._assert_single_item(tasks, name=task_name) self._assert_single_item(tasks, state=states.DELAYED) tasks = db_api.tasks_get(WB_NAME, execution['id']) self._assert_single_item(tasks, name=task_name_1) self._assert_single_item(tasks, state=states.DELAYED)",8,5
openstack%2Ffuel-web~master~I713608f5bdb611e5c29273be3a9833ce14382bc3,openstack/fuel-web,master,I713608f5bdb611e5c29273be3a9833ce14382bc3,Update OpenStack version to 2014.1 (Icehouse),MERGED,2014-04-14 14:37:50.000000000,2014-04-17 13:32:13.000000000,2014-04-17 13:32:13.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 1736}, {'_account_id': 8777}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-14 14:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6feb9934df5c826396dc34dd13bea001c3b1a7b9', 'message': 'Update OpenStack version to 2014.1.0 (IceHouse)\n\nChange-Id: I713608f5bdb611e5c29273be3a9833ce14382bc3\nCloses-bug: #1307496\n'}, {'number': 2, 'created': '2014-04-17 13:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a8a2691e7834165ef78b762751822a734605f871', 'message': 'Update OpenStack version to 2014.1.0 (IceHouse)\n\nChange-Id: I713608f5bdb611e5c29273be3a9833ce14382bc3\nCloses-bug: #1307496\n'}, {'number': 3, 'created': '2014-04-17 13:30:08.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7e2c00286f791601540ffe47de28b1beb1baa728', 'message': 'Update OpenStack version to 2014.1 (Icehouse)\n\nChange-Id: I713608f5bdb611e5c29273be3a9833ce14382bc3\nCloses-bug: #1307496\n'}]",0,87282,7e2c00286f791601540ffe47de28b1beb1baa728,19,6,3,1736,,,0,"Update OpenStack version to 2014.1 (Icehouse)

Change-Id: I713608f5bdb611e5c29273be3a9833ce14382bc3
Closes-bug: #1307496
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/82/87282/3 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,6feb9934df5c826396dc34dd13bea001c3b1a7b9,(detached," name: ""IceHouse on CentOS 6.5"" version: ""2014.1.0"" description: ""This option will install the OpenStack IceHouse packages using a CentOS based operating system. With high availability features built in, you are getting a robust, enterprise-grade OpenStack deployment."" name: ""IceHouse on Ubuntu 12.04"" version: ""2014.1.0"" description: ""This option will install the OpenStack IceHouse packages using Ubuntu as a base operating system. With high availability features built in, you are getting a robust, enterprise-grade OpenStack deployment."""," name: ""Havana on CentOS 6.5"" version: ""2013.2.2"" description: ""This option will install the OpenStack Havana packages using a CentOS based operating system. With high availability features built in, you are getting a robust, enterprise-grade OpenStack deployment."" name: ""Havana on Ubuntu 12.04"" version: ""2013.2.2"" description: ""This option will install the OpenStack Havana packages using Ubuntu as a base operating system. With high availability features built in, you are getting a robust, enterprise-grade OpenStack deployment.""",6,6
openstack%2Fopenstack-manuals~master~Id1ebffcfaebdac02931c294091498214fd5ed6a9,openstack/openstack-manuals,master,Id1ebffcfaebdac02931c294091498214fd5ed6a9,Update index.html pages for Icehouse release,MERGED,2014-04-17 12:20:58.000000000,2014-04-17 13:18:20.000000000,2014-04-17 13:18:19.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6843}, {'_account_id': 7472}]","[{'number': 1, 'created': '2014-04-17 12:20:58.000000000', 'files': ['www/havana/index.html', 'www/trunk/index.html', 'www/grizzly/index.html', 'www/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d0e9a94222182542dc741ba7f56544f8c0368926', 'message': 'Update index.html pages for Icehouse release\n\nAdd Icehouse as release\ndocs.openstack.org/index.html now points to Icehouse information\n\nChange-Id: Id1ebffcfaebdac02931c294091498214fd5ed6a9\n'}]",0,88270,d0e9a94222182542dc741ba7f56544f8c0368926,8,4,1,6547,,,0,"Update index.html pages for Icehouse release

Add Icehouse as release
docs.openstack.org/index.html now points to Icehouse information

Change-Id: Id1ebffcfaebdac02931c294091498214fd5ed6a9
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/70/88270/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/havana/index.html', 'www/trunk/index.html', 'www/grizzly/index.html', 'www/index.html']",4,d0e9a94222182542dc741ba7f56544f8c0368926,icehouse-launch-index," <li class=""link""><a href=""/icehouse/"" title=""Go to the &quot;Icehouse release&quot; page"" >Icehouse (current release)</a></li> >Havana</a></li> href=""http://docs.openstack.org/icehouse/install-guide/install/apt-debian/content/"" href=""http://docs.openstack.org/icehouse/install-guide/install/zypper/content/"" href=""http://docs.openstack.org/icehouse/install-guide/install/yum/content/"" href=""http://docs.openstack.org/icehouse/install-guide/install/apt/content/"" href=""http://docs.openstack.org/icehouse/config-reference/content/"">"," >Havana (current release)</a></li> href=""http://docs.openstack.org/havana/install-guide/install/apt-debian/content/"" href=""http://docs.openstack.org/havana/install-guide/install/zypper/content/"" href=""http://docs.openstack.org/havana/install-guide/install/yum/content/"" href=""http://docs.openstack.org/havana/install-guide/install/apt/content/"" href=""http://docs.openstack.org/havana/config-reference/content/"">",21,9
openstack%2Fopenstack-manuals~master~I0c01cd24805a3ba02fe4c97b874a01524c82cb82,openstack/openstack-manuals,master,I0c01cd24805a3ba02fe4c97b874a01524c82cb82,Fix gpfs driver volume_driver path,MERGED,2014-04-17 03:38:47.000000000,2014-04-17 13:18:12.000000000,2014-04-17 13:18:11.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-17 03:38:47.000000000', 'files': ['doc/config-reference/block-storage/drivers/ibm-gpfs-volume-driver.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1a4bca20b9dd0a1f192901ca174096746b852360', 'message': 'Fix gpfs driver volume_driver path\n\nGPFS driver was moved.\n\nChange-Id: I0c01cd24805a3ba02fe4c97b874a01524c82cb82\nCloses-Bug: 1284491\n'}]",0,88130,1a4bca20b9dd0a1f192901ca174096746b852360,7,3,1,612,,,0,"Fix gpfs driver volume_driver path

GPFS driver was moved.

Change-Id: I0c01cd24805a3ba02fe4c97b874a01524c82cb82
Closes-Bug: 1284491
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/30/88130/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/block-storage/drivers/ibm-gpfs-volume-driver.xml'],1,1a4bca20b9dd0a1f192901ca174096746b852360,bug/1284491, <programlisting>volume_driver = cinder.volume.drivers.ibm.gpfs.GPFSDriver</programlisting>, <programlisting>volume_driver = cinder.volume.drivers.gpfs.GPFSDriver</programlisting>,1,1
openstack%2Fopenstack-manuals~master~If9d589c2afcdce13f33d53a27c18526ff3f6b90e,openstack/openstack-manuals,master,If9d589c2afcdce13f33d53a27c18526ff3f6b90e,Install guide: add a cinder-verify section,MERGED,2014-04-17 12:22:12.000000000,2014-04-17 13:18:04.000000000,2014-04-17 13:18:03.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6843}, {'_account_id': 7472}]","[{'number': 1, 'created': '2014-04-17 12:22:12.000000000', 'files': ['doc/install-guide/ch_cinder.xml', 'doc/install-guide/section_cinder-verify.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6cae4bcd6cd14399106ed4e3275af4ea7ff7c5e4', 'message': 'Install guide: add a cinder-verify section\n\nDescribe how the Block Storage service can be tested after installation\n(volume creation).\n\nCloses-Bug: #1308370\nChange-Id: If9d589c2afcdce13f33d53a27c18526ff3f6b90e\n'}]",0,88271,6cae4bcd6cd14399106ed4e3275af4ea7ff7c5e4,8,4,1,7923,,,0,"Install guide: add a cinder-verify section

Describe how the Block Storage service can be tested after installation
(volume creation).

Closes-Bug: #1308370
Change-Id: If9d589c2afcdce13f33d53a27c18526ff3f6b90e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/71/88271/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/ch_cinder.xml', 'doc/install-guide/section_cinder-verify.xml']",2,6cae4bcd6cd14399106ed4e3275af4ea7ff7c5e4,,"<?xml version=""1.0"" encoding=""UTF-8""?> <section xml:id=""cinder-verify"" xmlns=""http://docbook.org/ns/docbook"" xmlns:xi=""http://www.w3.org/2001/XInclude"" xmlns:xlink=""http://www.w3.org/1999/xlink"" version=""5.0""> <title>Verify the Block Storage installation</title> <para>To verify that the Block Storage is installed and configured properly, create a new volume.</para> <para>For more information about how to manage volumes, see the <link xlink:href=""http://docs.openstack.org/user-guide/content/index.html"" ><citetitle>OpenStack User Guide</citetitle></link>.</para> <procedure> <step> <para>Source the <filename>demo-openrc.sh</filename> file:</para> <screen><prompt>$</prompt> <userinput>source demo-openrc.sh</userinput></screen> </step> <step> <para>Use the <command>cinder create</command> command to create a new volume:</para> <screen><prompt>$</prompt> <userinput>cinder create --display-name myVolume 1</userinput> <computeroutput>+---------------------+--------------------------------------+ | Property | Value | +---------------------+--------------------------------------+ | attachments | [] | | availability_zone | nova | | bootable | false | | created_at | 2014-04-17T10:28:19.615050 | | display_description | None | | display_name | myVolume | | encrypted | False | | id | 5e691b7b-12e3-40b6-b714-7f17550db5d1 | | metadata | {} | | size | 1 | | snapshot_id | None | | source_volid | None | | status | creating | | volume_type | None | +---------------------+--------------------------------------+</computeroutput></screen> </step> <step> <para>Make sure that the volume has been correctly created with the <command>cinder list</command> command:</para> <screen><prompt>$</prompt> <userinput>cinder list</userinput> <computeroutput>--------------------------------------+-----------+--------------+------+-------------+----------+-------------+ | ID | Status | Display Name | Size | Volume Type | Bootable | Attached to | +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+ | 5e691b7b-12e3-40b6-b714-7f17550db5d1 | available | myVolume | 1 | None | false | | +--------------------------------------+-----------+--------------+------+-------------+----------+-------------+</computeroutput></screen> <para>If the status value is not <literal>available</literal>, the volume creation failed. Check the log files in the <filename>/var/log/cinder/</filename> directory on the controller and volume nodes to get information about the failure.</para> </step> </procedure> </section> ",,55,0
openstack%2Fopenstack-manuals~master~Ib404d98ce504883ae22733f681e205c641720f5a,openstack/openstack-manuals,master,Ib404d98ce504883ae22733f681e205c641720f5a,Added watchdog property key and flavor-key info,MERGED,2014-04-14 06:04:56.000000000,2014-04-17 13:17:55.000000000,2014-04-17 13:17:54.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 6843}, {'_account_id': 7264}, {'_account_id': 7677}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-14 06:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c9cd7d37a9acefe90550c457478ec4d3d95330cc', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits).\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}, {'number': 2, 'created': '2014-04-14 21:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bf7c284ccd09b369728b14523ba999e57223bb93', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits).\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}, {'number': 3, 'created': '2014-04-15 00:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d285467bf1831aceb4c6a09138893fe837095797', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits). Added note about authorized\nusers, and reference to the page in the\nAdmin User Guide.\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}, {'number': 4, 'created': '2014-04-15 23:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4eb523c624c0cdbffdc88da6740e5ad67bcc550c', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits). Added note about authorized\nusers, and reference to the page in the\nAdmin User Guide.\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}, {'number': 5, 'created': '2014-04-16 15:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3ddd2d7e0b31a7e673fb70e31e1fc47aba64c4d5', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits). Added note about authorized\nusers, and reference to the page in the\nAdmin User Guide.\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}, {'number': 6, 'created': '2014-04-16 22:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e280d237d469c25545f14e478eb3fd3e33d8609e', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits). Added note about authorized\nusers, and reference to the page in the\nAdmin User Guide.\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}, {'number': 7, 'created': '2014-04-17 04:51:49.000000000', 'files': ['doc/common/section_cli_nova_customize_flavors.xml', 'doc/user-guide-admin/section_cli_nova_manage_flavors.xml', 'doc/cli-reference/ch_cli_glance_property_keys.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/105b4f7ae5b1c0a51bf7494856cb3a2293b270bb', 'message': 'Added watchdog property key and flavor-key info\n\nAdded hw_watchdog_action property key and\nwatchdog info for flavor_key section (plus\nminor edits). Added note about authorized\nusers, and reference to the page in the\nAdmin User Guide.\n\nCloses-bug: #1287406\nCloses-bug: #1287450\n\nChange-Id: Ib404d98ce504883ae22733f681e205c641720f5a\n'}]",27,87163,105b4f7ae5b1c0a51bf7494856cb3a2293b270bb,45,9,7,7264,,,0,"Added watchdog property key and flavor-key info

Added hw_watchdog_action property key and
watchdog info for flavor_key section (plus
minor edits). Added note about authorized
users, and reference to the page in the
Admin User Guide.

Closes-bug: #1287406
Closes-bug: #1287450

Change-Id: Ib404d98ce504883ae22733f681e205c641720f5a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/63/87163/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/section_cli_nova_customize_flavors.xml', 'doc/cli-reference/ch_cli_glance_property_keys.xml']",2,c9cd7d37a9acefe90550c457478ec4d3d95330cc,1287450," <td>hw_watchdog_action</td> <td>Enables a virtual hardware watchdog device with the specified action. By default, the i6300esb device is used (emulating a PCI Intel 6300ESB).</td> <td><itemizedlist> <listitem><para><literal>reset</literal> &mdash; Forcefully reset the guest (default).</para></listitem> <listitem><para><literal>shutdown</literal> &mdash; Gracefully shut down the guest. The 'shutdown' action requires that the guest is responsive to ACPI signals. In the sort of situations where the watchdog has expired, guests are usually unable to respond to ACPI signals. Therefore using 'shutdown' is not recommended.</para></listitem> <listitem><para><literal>poweroff</literal> &mdash; Forcefully power off the guest.</para></listitem> <listitem><para><literal>pause</literal> &mdash; Pause the guest.</para></listitem> <listitem><para><literal>none</literal> &mdash; Do nothing.</para></listitem> <listitem><para><literal>dump</literal> &mdash; Automatically core dump the guest. You can configure the directory in which to save dump files using the <option>auto_dump_path</option> option in the <filename>/etc/libvirt/qemu.conf</filename> file. By default, libvirt uses <filename>/var/lib/libvirt/qemu/dump</filename>.</para></listitem> </itemizedlist></td> </tr> <tr valign=""top""> <td>libvirt API driver</td>",,195,116
openstack%2Fpuppet-heat~master~I226ee5c6964cf9bbb13b14b70aa2139b20858788,openstack/puppet-heat,master,I226ee5c6964cf9bbb13b14b70aa2139b20858788,Add SSL parameters for rabbit,MERGED,2014-04-02 16:27:43.000000000,2014-04-17 13:15:56.000000000,2014-04-17 13:15:56.000000000,"[{'_account_id': 3}, {'_account_id': 6967}, {'_account_id': 7822}, {'_account_id': 7888}, {'_account_id': 8617}]","[{'number': 1, 'created': '2014-04-02 16:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/7b14cd299feeeca20276f17c880cf18d118f557c', 'message': 'Add SSL parameters for rabbit\n\nAdds the following parameters:\n * kombu_ssl_ca_certs option\n * kombu_ssl_certfile option\n * kombu_ssl_keyfile option\n * kombu_ssl_version option\n\nChange-Id: I226ee5c6964cf9bbb13b14b70aa2139b20858788\n'}, {'number': 2, 'created': '2014-04-04 18:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/2c6b5d30f8951dcb68566cf78c7be6153ce08b00', 'message': 'Add SSL parameters for rabbit\n\nAdds the following parameters:\n * kombu_ssl_ca_certs option\n * kombu_ssl_certfile option\n * kombu_ssl_keyfile option\n * kombu_ssl_version option\n\nChange-Id: I226ee5c6964cf9bbb13b14b70aa2139b20858788\n'}, {'number': 3, 'created': '2014-04-09 07:55:44.000000000', 'files': ['manifests/init.pp', 'spec/classes/heat_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/217567fbeec1534673c285819fff2c15fbcfab4e', 'message': 'Add SSL parameters for rabbit\n\nAdds the following parameters:\n * kombu_ssl_ca_certs option\n * kombu_ssl_certfile option\n * kombu_ssl_keyfile option\n * kombu_ssl_version option\n\nChange-Id: I226ee5c6964cf9bbb13b14b70aa2139b20858788\n'}]",4,84784,217567fbeec1534673c285819fff2c15fbcfab4e,26,5,3,7888,,,0,"Add SSL parameters for rabbit

Adds the following parameters:
 * kombu_ssl_ca_certs option
 * kombu_ssl_certfile option
 * kombu_ssl_keyfile option
 * kombu_ssl_version option

Change-Id: I226ee5c6964cf9bbb13b14b70aa2139b20858788
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/84/84784/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/heat_init_spec.rb']",2,7b14cd299feeeca20276f17c880cf18d118f557c,rabbit_ssl," should contain_heat_config('DEFAULT/rabbit_use_ssl').with_value(false) should contain_heat_config('DEFAULT/kombu_ssl_ca_certs').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_certfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_keyfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_version').with_ensure('absent') should contain_heat_config('DEFAULT/rabbit_use_ssl').with_value(false) should contain_heat_config('DEFAULT/kombu_ssl_ca_certs').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_certfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_keyfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_version').with_ensure('absent') should contain_heat_config('DEFAULT/rabbit_use_ssl').with_value(false) should contain_heat_config('DEFAULT/kombu_ssl_ca_certs').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_certfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_keyfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_version').with_ensure('absent') context 'with rabbit_use_ssl parameter' do let :facts do { :osfamily => 'Debian' } end let :params do { :rabbit_use_ssl => 'true' } end it 'configures rabbit' do should contain_heat_config('DEFAULT/rabbit_use_ssl').with_value(true) should contain_heat_config('DEFAULT/amqp_durable_queues').with_value(false) should contain_heat_config('DEFAULT/kombu_ssl_ca_certs').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_certfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_keyfile').with_ensure('absent') should contain_heat_config('DEFAULT/kombu_ssl_version').with_value('SSLv3') end end context 'with amqp ssl parameters' do let :facts do { :osfamily => 'Debian' } end let :params do { :rabbit_use_ssl => 'true', :kombu_ssl_ca_certs => '/etc/ca.cert', :kombu_ssl_certfile => '/etc/certfile', :kombu_ssl_keyfile => '/etc/key', :kombu_ssl_version => 'TLSv1', } end it 'configures rabbit' do should contain_heat_config('DEFAULT/rabbit_use_ssl').with_value(true) should contain_heat_config('DEFAULT/kombu_ssl_ca_certs').with_value('/etc/ca.cert') should contain_heat_config('DEFAULT/kombu_ssl_certfile').with_value('/etc/certfile') should contain_heat_config('DEFAULT/kombu_ssl_keyfile').with_value('/etc/key') should contain_heat_config('DEFAULT/kombu_ssl_version').with_value('TLSv1') end end ",,110,0
openstack%2Ffuel-library~master~I2679395b01977d8b1ea173af47b487c9aaeb3099,openstack/fuel-library,master,I2679395b01977d8b1ea173af47b487c9aaeb3099,Fix ostf supervisord config,MERGED,2014-04-17 12:00:22.000000000,2014-04-17 13:11:56.000000000,2014-04-17 13:11:56.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-17 12:00:22.000000000', 'files': ['deployment/puppet/nailgun/templates/supervisor/ostf.conf.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/424f460b2cac246ac5c9e70f6f6e00c813cbdab1', 'message': 'Fix ostf supervisord config\n\nChange-Id: I2679395b01977d8b1ea173af47b487c9aaeb3099\n'}]",0,88254,424f460b2cac246ac5c9e70f6f6e00c813cbdab1,12,5,1,8789,,,0,"Fix ostf supervisord config

Change-Id: I2679395b01977d8b1ea173af47b487c9aaeb3099
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/54/88254/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/templates/supervisor/ostf.conf.erb'],1,424f460b2cac246ac5c9e70f6f6e00c813cbdab1,(detached,command=<%= @ostf_env %>/bin/ostf-server --host=<%= @host %> --port=8777 --log_file=<%= @logfile %> --dbpath <%= @dbengine %>://<%= @dbuser %>:<%= @dbpass %>@<%= @dbhost %>:<%= @dbport %>/<%= @dbname %>,command=<%= @venv %>/bin/ostf-server --host=<%= @host %> --port=8777 --log_file=<%= @logfile %> --dbpath <%= @dbengine %>://<%= @dbuser %>:<%= @dbpass %>@<%= @dbhost %>:<%= @dbport %>/<%= @dbname %>,1,1
openstack%2Ffuel-library~master~Ie9d3e0c10743dbb6aa55ea193717c6326f3d2def,openstack/fuel-library,master,Ie9d3e0c10743dbb6aa55ea193717c6326f3d2def,Fix ulimit for /etc/sysconfig/docker,MERGED,2014-04-17 12:08:30.000000000,2014-04-17 13:11:28.000000000,2014-04-17 13:11:28.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-04-17 12:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e5a48de4cbd3ba3c24b2f44de9672bb942d992b6', 'message': 'Fix ulimit for /etc/sysconfig/docker\n\nJust fixing a typo, without ""-n"" we set ""file size"" limit instead\nof ""open files"".\n\nChange-Id: Ie9d3e0c10743dbb6aa55ea193717c6326f3d2def\n'}, {'number': 2, 'created': '2014-04-17 12:14:53.000000000', 'files': ['deployment/puppet/docker/templates/settings.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d0f09d462a497ddaa2272c73d4b4aa19acdbac7a', 'message': 'Fix ulimit for /etc/sysconfig/docker\n\nJust fixing a typo, without ""-n"" we set ""file size"" limit instead\nof ""open files"".\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie9d3e0c10743dbb6aa55ea193717c6326f3d2def\n'}]",0,88261,d0f09d462a497ddaa2272c73d4b4aa19acdbac7a,19,8,2,9387,,,0,"Fix ulimit for /etc/sysconfig/docker

Just fixing a typo, without ""-n"" we set ""file size"" limit instead
of ""open files"".

blueprint fuel-containerization-of-services

Change-Id: Ie9d3e0c10743dbb6aa55ea193717c6326f3d2def
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/61/88261/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/docker/templates/settings.erb'],1,e5a48de4cbd3ba3c24b2f44de9672bb942d992b6,bp/fuel-containerization-of-services,ulimit -n <%= @limit %>,ulimit <%= @limit %>,1,1
openstack%2Ffuel-library~master~I2ad74b743561d21bb8e522c0648d26d93348657e,openstack/fuel-library,master,I2ad74b743561d21bb8e522c0648d26d93348657e,Fix RGW endpoint port,MERGED,2014-04-15 11:07:20.000000000,2014-04-17 13:09:23.000000000,2014-04-17 13:09:23.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 11:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8afa4f93dd9cee4655c753d148519961158d9556', 'message': 'Fix RGW endpoint port\n\nChange RGW endpoint port registered in keystone\nto 8080 as this is the real port on which\nhaproxy is listening.\n\nPreviously, until https://review.openstack.org/#/c/85195/\nwas merged, RGW was working because virtual IP was located\non one of the controllers and apache proxying RGW fastcgi\napplication was answering on 6780 port. Currently, VIP moved\ninto namespace and 6780 is no longer available.\n\nChange-Id: I2ad74b743561d21bb8e522c0648d26d93348657e\nCloses-Bug: #1307508\n'}, {'number': 2, 'created': '2014-04-15 13:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/983afee3bf0de832bd4c57e2d7ba07ae15ee1118', 'message': 'Fix RGW endpoint port\n\nChange RGW endpoint port registered in keystone\nto 8080 as this is the real port on which\nhaproxy is listening.\n\nPreviously, until https://review.openstack.org/#/c/85195/\nwas merged, RGW was working because virtual IP was located\non one of the controllers and apache proxying RGW fastcgi\napplication was answering on 6780 port. Currently, VIP moved\ninto namespace and 6780 is no longer available.\n\nChange-Id: I2ad74b743561d21bb8e522c0648d26d93348657e\nCloses-Bug: #1307508\n'}, {'number': 3, 'created': '2014-04-16 16:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4decaa375860f1c6b21d8266cd66e6ee194ed21f', 'message': 'Fix RGW endpoint port\n\nChange RGW endpoint port registered in keystone\nto 8080 as this is the real port on which\nhaproxy is listening.\n\nPreviously, until https://review.openstack.org/#/c/85195/\nwas merged, RGW was working because virtual IP was located\non one of the controllers and apache proxying RGW fastcgi\napplication was answering on 6780 port. Currently, VIP moved\ninto namespace and 6780 is no longer available.\n\nChange-Id: I2ad74b743561d21bb8e522c0648d26d93348657e\nCloses-Bug: #1307508\n'}, {'number': 4, 'created': '2014-04-17 08:21:46.000000000', 'files': ['deployment/puppet/ceph/manifests/init.pp', 'deployment/puppet/ceph/manifests/keystone.pp', 'deployment/puppet/ceph/manifests/radosgw.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5b7d15a574bc133fb65814bb6fb3d5cb34bd12b2', 'message': 'Fix RGW endpoint port\n\nChange RGW endpoint port registered in keystone\nto 8080 as this is the real port on which\nhaproxy is listening.\n\nPreviously, until https://review.openstack.org/#/c/85195/\nwas merged, RGW was working because virtual IP was located\non one of the controllers and apache proxying RGW fastcgi\napplication was answering on 6780 port. Currently, VIP moved\ninto namespace and 6780 is no longer available.\n\nChange-Id: I2ad74b743561d21bb8e522c0648d26d93348657e\nCloses-Bug: #1307508\n'}]",3,87544,5b7d15a574bc133fb65814bb6fb3d5cb34bd12b2,45,8,4,8786,,,0,"Fix RGW endpoint port

Change RGW endpoint port registered in keystone
to 8080 as this is the real port on which
haproxy is listening.

Previously, until https://review.openstack.org/#/c/85195/
was merged, RGW was working because virtual IP was located
on one of the controllers and apache proxying RGW fastcgi
application was answering on 6780 port. Currently, VIP moved
into namespace and 6780 is no longer available.

Change-Id: I2ad74b743561d21bb8e522c0648d26d93348657e
Closes-Bug: #1307508
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/44/87544/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/ceph/manifests/init.pp', 'deployment/puppet/ceph/manifests/keystone.pp']",2,8afa4f93dd9cee4655c753d148519961158d9556,87544," $rgw_endpoint_port = $::ceph::rgw_endpoint_port, public_url => ""http://${pub_ip}:${rgw_endpoint_port}/swift/v1"", admin_url => ""http://${adm_ip}:${rgw_endpoint_port}/swift/v1"", internal_url => ""http://${int_ip}:${rgw_endpoint_port}/swift/v1"","," $rgw_port = $::ceph::rgw_port, public_url => ""http://${pub_ip}:${rgw_port}/swift/v1"", admin_url => ""http://${adm_ip}:${rgw_port}/swift/v1"", internal_url => ""http://${int_ip}:${rgw_port}/swift/v1"",",5,4
openstack%2Fmistral~master~Ic92f6921cda70023b041de86887b3c1a85ee70cb,openstack/mistral,master,Ic92f6921cda70023b041de86887b3c1a85ee70cb,Temporarily commenting assertions in task retry tests,MERGED,2014-04-17 10:41:07.000000000,2014-04-17 13:08:22.000000000,2014-04-17 13:08:22.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 10127}]","[{'number': 1, 'created': '2014-04-17 10:41:07.000000000', 'files': ['mistral/tests/unit/engine/test_task_retry.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/87090eefd38b958251fbe2ebc1ca8d5dd65b35ff', 'message': 'Temporarily commenting assertions in task retry tests\n\n* These tests should be rewritten to avoid race conditions. In\n  other words they pass not always.\n\nTODO:\n* Fix task retry tests.\n\nChange-Id: Ic92f6921cda70023b041de86887b3c1a85ee70cb\n'}]",0,88231,87090eefd38b958251fbe2ebc1ca8d5dd65b35ff,7,4,1,8731,,,0,"Temporarily commenting assertions in task retry tests

* These tests should be rewritten to avoid race conditions. In
  other words they pass not always.

TODO:
* Fix task retry tests.

Change-Id: Ic92f6921cda70023b041de86887b3c1a85ee70cb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/31/88231/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/engine/test_task_retry.py'],1,87090eefd38b958251fbe2ebc1ca8d5dd65b35ff,fix_retry_tests," # TODO(rakhmerov): It's not stable, need to avoid race condition. #self._assert_single_item(tasks, name='retry_task') #self._assert_single_item(tasks, task_runtime_context=None) # TODO(rakhmerov): It's not stable, need to avoid race condition. #tasks = db_api.tasks_get(WB_NAME, execution['id']) #self._assert_single_item(tasks, name='retry_task') #self._assert_single_item(tasks, task_runtime_context={ # 'retry_no': retry_count - 1}) #self._assert_single_item(tasks, state=states.ERROR) # TODO(rakhmerov): It's not stable, need to avoid race condition. #tasks = db_api.tasks_get(WB_NAME, execution['id']) #self._assert_single_item(tasks, name='retry_task') #self._assert_single_item(tasks, task_runtime_context={ # 'retry_no': retry_count/2 - 1}) # Convey final result outside the loop. # TODO(rakhmerov): It's not stable, need to avoid race condition. #self._assert_single_item(tasks, name=task_name) #self._assert_single_item(tasks, task_runtime_context={ # 'retry_no': retry_count - 1}) #self._assert_single_item(tasks, state=states.ERROR) # Convey final result outside the loop. # TODO(rakhmerov): It's not stable, need to avoid race condition. #tasks = db_api.tasks_get(WB_NAME, execution['id']) #self._assert_single_item(tasks, name=task_name_2) #self._assert_single_item(tasks, task_runtime_context={ # 'retry_no': retry_count - 1}) #self._assert_single_item(tasks, state=states.ERROR) # TODO(rakhmerov): It's not stable, need to avoid race condition. #tasks = db_api.tasks_get(WB_NAME, execution['id']) #self._assert_single_item(tasks, name=task_name_1) #self._assert_single_item(tasks, task_runtime_context={ # 'retry_no': retry_count - 1}) #self._assert_single_item(tasks, state=states.ERROR) # TODO(rakhmerov): It's not stable, need to avoid race condition. #tasks = db_api.tasks_get(WB_NAME, execution['id']) #self._assert_single_item(tasks, name=task_name_1) #self._assert_single_item(tasks, task_runtime_context={ # 'retry_no': retry_count/2}) #self._assert_single_item(tasks, state=states.SUCCESS)"," self._assert_single_item(tasks, name='retry_task') self._assert_single_item(tasks, task_runtime_context=None) tasks = db_api.tasks_get(WB_NAME, execution['id']) self._assert_single_item(tasks, name='retry_task') self._assert_single_item(tasks, task_runtime_context={ 'retry_no': retry_count - 1}) self._assert_single_item(tasks, state=states.ERROR) tasks = db_api.tasks_get(WB_NAME, execution['id']) self._assert_single_item(tasks, name='retry_task') self._assert_single_item(tasks, task_runtime_context={ 'retry_no': retry_count/2 - 1}) # convey final result outside the loop. self._assert_single_item(tasks, name=task_name) self._assert_single_item(tasks, task_runtime_context={ 'retry_no': retry_count - 1}) self._assert_single_item(tasks, state=states.ERROR) # convey final result outside the loop. tasks = db_api.tasks_get(WB_NAME, execution['id']) self._assert_single_item(tasks, name=task_name_2) self._assert_single_item(tasks, task_runtime_context={ 'retry_no': retry_count - 1}) self._assert_single_item(tasks, state=states.ERROR) tasks = db_api.tasks_get(WB_NAME, execution['id']) self._assert_single_item(tasks, name=task_name_1) self._assert_single_item(tasks, task_runtime_context={ 'retry_no': retry_count - 1}) self._assert_single_item(tasks, state=states.ERROR) tasks = db_api.tasks_get(WB_NAME, execution['id']) self._assert_single_item(tasks, name=task_name_1) self._assert_single_item(tasks, task_runtime_context={ 'retry_no': retry_count/2}) self._assert_single_item(tasks, state=states.SUCCESS)",78,32
openstack%2Ffuel-library~master~Ic438679c5247b72d14938885bb73c39d0dac283a,openstack/fuel-library,master,Ic438679c5247b72d14938885bb73c39d0dac283a,Add missing cobbler dependencies,MERGED,2014-04-16 13:18:42.000000000,2014-04-17 13:06:17.000000000,2014-04-17 13:06:16.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8839}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-16 13:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3ee8b35263352362b4f69fc7155d69db3601c022', 'message': 'Add missing cobbler dependencies\n\nCobbler depends on a number of libs\nand utilities to manage node\nprovisioning.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ic438679c5247b72d14938885bb73c39d0dac283a\n'}, {'number': 2, 'created': '2014-04-16 13:21:33.000000000', 'files': ['deployment/puppet/cobbler/manifests/packages.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/641e9e8f2a1b2687d59b355cd68ff89752c39139', 'message': 'Add missing cobbler dependencies\n\nCobbler depends on a number of libs\nand utilities to manage node\nprovisioning.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ic438679c5247b72d14938885bb73c39d0dac283a\n'}]",0,87961,641e9e8f2a1b2687d59b355cd68ff89752c39139,22,5,2,7195,,,0,"Add missing cobbler dependencies

Cobbler depends on a number of libs
and utilities to manage node
provisioning.

blueprint fuel-containerization-of-services

Change-Id: Ic438679c5247b72d14938885bb73c39d0dac283a
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/61/87961/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/cobbler/manifests/packages.pp'],1,3ee8b35263352362b4f69fc7155d69db3601c022,bp/fuel-containerization-of-services," $cobbler_additional_packages = [""xinetd"", ""tftp-server"", ""syslinux"", ""wget"", ""python-ipaddr"",""fence-agents"", ""bind-utils""] $openssh_package = ""openssh-clients"" $pexpect_package = ""pexpect"" $cobbler_additional_packages = [""tftpd-hpa"", ""syslinux"", ""wget"",""python-ipaddr"", ""fence-agents"", ""dnsutils"", ""bind9-host""] $openssh_package = ""openssh-client"" $pexpect_package = ""python-pexpect"" package { $openssh_client_package: ensure => installed } package { $pexpect_package: ensure => installed } "," $cobbler_additional_packages = [""xinetd"", ""tftp-server"", ""syslinux"", ""wget"", ""python-ipaddr""] $cobbler_additional_packages = [""tftpd-hpa"", ""syslinux"", ""wget"", ""python-ipaddr""]",14,2
openstack%2Ffuel-library~master~I6ba03ca7f74ebc2b1175aa07369d580b29472693,openstack/fuel-library,master,I6ba03ca7f74ebc2b1175aa07369d580b29472693,Add server override feature for cobbler,MERGED,2014-04-13 15:38:42.000000000,2014-04-17 13:06:02.000000000,2014-04-17 13:06:02.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8782}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-13 15:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d44e58d4b75891d122a5d87b255ed3e784ca219f', 'message': 'Add server override feature for cobbler\n\nNeeded for cobbler, which requires a local\nIP in server field for its own operations,\nbut connecting clients need IP of master host.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I6ba03ca7f74ebc2b1175aa07369d580b29472693\n'}, {'number': 2, 'created': '2014-04-13 15:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/35f7bdf0f27a839651a7a3e12142018fdf4cda38', 'message': 'Add server override feature for cobbler\n\nNeeded for cobbler, which requires a local\nIP in server field for its own operations,\nbut connecting clients need IP of master host.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I6ba03ca7f74ebc2b1175aa07369d580b29472693\n'}, {'number': 3, 'created': '2014-04-14 12:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a41564b0eeea73103ac87016168cce399a89ff81', 'message': 'Add server override feature for cobbler\n\nNeeded for cobbler, which requires a local\nIP in server field for its own operations,\nbut connecting clients need IP of master host.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I6ba03ca7f74ebc2b1175aa07369d580b29472693\n'}, {'number': 4, 'created': '2014-04-16 16:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8410ffa938e758a4c788c3f7720142917146e6c5', 'message': 'Add server override feature for cobbler\n\nNeeded for cobbler, which requires a local\nIP in server field for its own operations,\nbut connecting clients need IP of master host.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I6ba03ca7f74ebc2b1175aa07369d580b29472693\n'}, {'number': 5, 'created': '2014-04-16 17:17:11.000000000', 'files': ['deployment/puppet/cobbler/templates/preseed/ubuntu-1204.preseed.erb', 'deployment/puppet/cobbler/templates/kickstart/centos.ks.erb', 'deployment/puppet/cobbler/lib/puppet/type/cobbler_profile.rb', 'deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/cobbler/lib/puppet/provider/cobbler_profile/default.rb', 'deployment/puppet/nailgun/examples/cobbler-only.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a4b02fccdd537da581c36b341c8e0e0917b4c80e', 'message': 'Add server override feature for cobbler\n\nNeeded for cobbler, which requires a local\nIP in server field for its own operations,\nbut connecting clients need IP of master host.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I6ba03ca7f74ebc2b1175aa07369d580b29472693\n'}]",0,87119,a4b02fccdd537da581c36b341c8e0e0917b4c80e,43,8,5,7195,,,0,"Add server override feature for cobbler

Needed for cobbler, which requires a local
IP in server field for its own operations,
but connecting clients need IP of master host.

blueprint fuel-containerization-of-services

Change-Id: I6ba03ca7f74ebc2b1175aa07369d580b29472693
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/19/87119/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/cobbler/lib/puppet/type/cobbler_profile.rb', 'deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/cobbler/lib/puppet/provider/cobbler_profile/default.rb']",3,d44e58d4b75891d122a5d87b255ed3e784ca219f,bp/fuel-containerization-of-services," def server if @resource[:server].size > 0 ""--server=#{@resource[:server]}"" else """" end end profile, stderr = Open3.popen3(""cobbler profile find --name=#{@resource[:name]} --distro=#{@resource[:distro]} --enable-menu=#{enable_menu} --kopts=\""#{@resource[:kopts]}\"" #{server} #{kickstart} #{ksmeta}"")[1,2] stderr = Open3.popen3(""cobbler profile #{subcommand} --name=#{@resource[:name]} --distro=#{@resource[:distro]} --enable-menu=#{enable_menu} --kopts=\""#{@resource[:kopts]}\"" #{server} #{kickstart} #{ksmeta}"")[2]"," profile, stderr = Open3.popen3(""cobbler profile find --name=#{@resource[:name]} --distro=#{@resource[:distro]} --enable-menu=#{enable_menu} --kopts=\""#{@resource[:kopts]}\"" #{kickstart} #{ksmeta}"")[1,2] stderr = Open3.popen3(""cobbler profile #{subcommand} --name=#{@resource[:name]} --distro=#{@resource[:distro]} --enable-menu=#{enable_menu} --kopts=\""#{@resource[:kopts]}\"" #{kickstart} #{ksmeta}"")[2]",22,2
openstack%2Ffuel-library~master~If35dbef3121621d853798b371bf4aff495f2c68f,openstack/fuel-library,master,If35dbef3121621d853798b371bf4aff495f2c68f,Neutron fixes for ICE-HOUSE,MERGED,2014-04-11 15:00:04.000000000,2014-04-17 13:02:56.000000000,2014-04-17 13:02:56.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-11 15:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1ff382ba4419a39ea3d79b72dfc6b4b9431f7aad', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 2, 'created': '2014-04-14 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a0ddb0e5174c30395773a6b0a7231defb7d2d3fd', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 3, 'created': '2014-04-14 11:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/52428f7ede54a8237100277141329a7198949c87', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 5, 'created': '2014-04-14 11:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e70671c6f8a9263c9696700f83fff00f7b8231f5', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 4, 'created': '2014-04-14 11:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1da245d73311238c445cd1f08906d4a574e511ea', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 6, 'created': '2014-04-15 16:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2379fba3412c113ef94723a7c7d5707e5992c911', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 8, 'created': '2014-04-15 16:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8c6796fc4b1239596175c3609accf5f3d90027da', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 7, 'created': '2014-04-15 16:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/72ce1db05ce312e3acaff5af24f794618c630cfd', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 9, 'created': '2014-04-16 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5e342c47f25fc335c921e9032fa9590e684b6bf1', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 10, 'created': '2014-04-17 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/271625098a8f1c1631b4cad01b8fecf8f3b247eb', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 11, 'created': '2014-04-17 09:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/710ca2b3d319d265275f5b5505bc291d88267fd8', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}, {'number': 12, 'created': '2014-04-17 10:58:59.000000000', 'files': ['deployment/puppet/neutron/manifests/agents/ovs.pp', 'deployment/puppet/neutron/manifests/agents/l3.pp', 'deployment/puppet/neutron/manifests/db/mysql/host_access.pp', 'deployment/puppet/nova/manifests/network/neutron.pp', 'deployment/puppet/neutron/manifests/db/mysql.pp', 'deployment/puppet/openstack/manifests/nova/controller.pp', 'deployment/puppet/openstack/manifests/compute.pp', 'deployment/puppet/neutron/manifests/plugins/ovs.pp', 'deployment/puppet/neutron/files/default__neutron-server', 'deployment/puppet/neutron/manifests/init.pp', 'deployment/puppet/neutron/manifests/quota.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/17fba8505cadcbb857d02022e9eb1277a1157b1b', 'message': 'Neutron fixes for ICE-HOUSE\n\nCloses-Bug: #1305895\nCloses-Bug: #1306084\n\nChange-Id: If35dbef3121621d853798b371bf4aff495f2c68f\n'}]",1,86926,17fba8505cadcbb857d02022e9eb1277a1157b1b,82,8,12,7468,,,0,"Neutron fixes for ICE-HOUSE

Closes-Bug: #1305895
Closes-Bug: #1306084

Change-Id: If35dbef3121621d853798b371bf4aff495f2c68f
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/26/86926/12 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/neutron/manifests/agents/ovs.pp', 'deployment/puppet/neutron/manifests/agents/l3.pp', 'deployment/puppet/neutron/manifests/db/mysql/host_access.pp', 'deployment/puppet/nova/manifests/network/neutron.pp', 'deployment/puppet/neutron/manifests/db/mysql.pp', 'deployment/puppet/openstack/manifests/nova/controller.pp', 'deployment/puppet/neutron/manifests/init.pp', 'deployment/puppet/neutron/manifests/quota.pp']",8,1ff382ba4419a39ea3d79b72dfc6b4b9431f7aad,(detached,"# [*quota_health_monitor*] # (optional) Number of health monitors allowed per tenant. # A negative value means unlimited. # Defaults to '-1'. # # [*quota_items*] # (optional) Resource name(s) that are supported in quota features. # Defaults to 'network,subnet,port'. # # [*quota_member*] # (optional) Number of pool members allowed per tenant. # A negative value means unlimited # Defaults to '-1'. # # [*quota_network_gateway*] # (optional) Number of network gateways allowed per tenant, -1 for unlimited. # Defaults to '5'. # # [*quota_packet_filter*] # (optional) Number of packet_filters allowed per tenant, -1 for unlimited. # Defaults to '100'. # # [*quota_pool*] # (optional) Number of pools allowed per tenant. # A negative value means unlimited. # Defaults to '10'. # # [*quota_vip*] # (optional) Number of vips allowed per tenant. # A negative value means unlimited. # Defaults to '10'. # $quota_firewall_rule = -1, $quota_health_monitor = -1, $quota_items = 'network,subnet,port', $quota_member = -1, $quota_network_gateway = -1, $quota_packet_filter = 100, $quota_pool = 10, $quota_vip = -1 'QUOTAS/quota_health_monitor': value => $quota_health_monitor; 'QUOTAS/quota_items': value => $quota_items; 'QUOTAS/quota_member': value => $quota_member; 'QUOTAS/quota_network_gateway': value => $quota_network_gateway; 'QUOTAS/quota_packet_filter': value => $quota_packet_filter; 'QUOTAS/quota_pool': value => $quota_pool; 'QUOTAS/quota_vip': value => $quota_vip;", $quota_firewall_rule = -1,221,80
openstack%2Ffuel-main~master~Ic868a1a6aef95d98f6aa9748a3ba48b20c0a1aea,openstack/fuel-main,master,Ic868a1a6aef95d98f6aa9748a3ba48b20c0a1aea,Added additional log for macs returned by nailgun,MERGED,2014-04-17 08:20:51.000000000,2014-04-17 13:01:56.000000000,2014-04-17 13:01:56.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}]","[{'number': 1, 'created': '2014-04-17 08:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8bf3683b974e69c0229375648aa00c476fc439a4', 'message': 'Added additional log for macs returned by nailgun\n\nChange-Id: Ic868a1a6aef95d98f6aa9748a3ba48b20c0a1aea\n'}, {'number': 2, 'created': '2014-04-17 11:35:18.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9d80f3cc4915846d1b4cbf8d12c25b3029b30ba9', 'message': 'Added additional log for macs returned by nailgun\n\nChange-Id: Ic868a1a6aef95d98f6aa9748a3ba48b20c0a1aea\n'}]",1,88208,9d80f3cc4915846d1b4cbf8d12c25b3029b30ba9,16,5,2,10136,,,0,"Added additional log for macs returned by nailgun

Change-Id: Ic868a1a6aef95d98f6aa9748a3ba48b20c0a1aea
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/08/88208/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/fuel_web_client.py'],1,8bf3683b974e69c0229375648aa00c476fc439a4,addNailgunLog," logger.debug('Look for macs returned by nailgun %s', macs)",,1,0
openstack%2Fneutron~stable%2Fhavana~I8bc6241f537d937e5729072dcc76871bf407cdb3,openstack/neutron,stable/havana,I8bc6241f537d937e5729072dcc76871bf407cdb3,Prevent cross plugging router ports from other tenants,MERGED,2014-03-27 14:33:12.000000000,2014-04-17 13:01:45.000000000,2014-03-27 16:53:57.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7823}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-03-27 14:33:12.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1faec8354a0fab953524eaeb6042ad38461a58bc', 'message': ""Prevent cross plugging router ports from other tenants\n\nPreviously, a tenant could plug an interface into another tenant's\nrouter if he knew their router_id by creating a port with the correct\ndevice_id and device_owner. This patch prevents this from occuring\nby preventing non-admin users from creating ports with device_owner\nnetwork:router_interface with a device_id that matches another tenants router.\nIn addition, it prevents one from updating a ports device_owner and device_id\nso that the device_id won't match another tenants router with device_owner\nbeing network:router_interface.\n\nNOTE: with this change it does open up the possiblity for a tenant to discover\nrouter_id's of another tenant's by guessing them and updating a port till\na conflict occurs. That said, randomly guessing the router id would be hard\nand in theory should not matter if exposed. We also need to allow a tenant\nto update the device_id on network:router_interface ports as this would be\nused for by anyone using a vm as a service router. This issue will be fixed in\nanother patch upstream as a db migration is required but since this needs\nto be backported to all stable branches this is not possible.\n\nNOTE: The only plugins affect by this are the ones that use the l3-agent.\n\nNOTE: **One should perform and audit of the ports that are already\n        attached to routers after applying this patch and remove ports\n        that a tenant may have cross plugged.**\n\nCloses-bug: #1243327\n\nConflicts:\n    neutron/common/exceptions.py\n    neutron/db/db_base_plugin_v2.py\n\nChange-Id: I8bc6241f537d937e5729072dcc76871bf407cdb3\n""}]",0,83393,1faec8354a0fab953524eaeb6042ad38461a58bc,10,7,1,4395,,,0,"Prevent cross plugging router ports from other tenants

Previously, a tenant could plug an interface into another tenant's
router if he knew their router_id by creating a port with the correct
device_id and device_owner. This patch prevents this from occuring
by preventing non-admin users from creating ports with device_owner
network:router_interface with a device_id that matches another tenants router.
In addition, it prevents one from updating a ports device_owner and device_id
so that the device_id won't match another tenants router with device_owner
being network:router_interface.

NOTE: with this change it does open up the possiblity for a tenant to discover
router_id's of another tenant's by guessing them and updating a port till
a conflict occurs. That said, randomly guessing the router id would be hard
and in theory should not matter if exposed. We also need to allow a tenant
to update the device_id on network:router_interface ports as this would be
used for by anyone using a vm as a service router. This issue will be fixed in
another patch upstream as a db migration is required but since this needs
to be backported to all stable branches this is not possible.

NOTE: The only plugins affect by this are the ones that use the l3-agent.

NOTE: **One should perform and audit of the ports that are already
        attached to routers after applying this patch and remove ports
        that a tenant may have cross plugged.**

Closes-bug: #1243327

Conflicts:
    neutron/common/exceptions.py
    neutron/db/db_base_plugin_v2.py

Change-Id: I8bc6241f537d937e5729072dcc76871bf407cdb3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/83393/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/exceptions.py']",3,1faec8354a0fab953524eaeb6042ad38461a58bc,," class DeviceIDNotOwnedByTenant(Conflict): message = _(""The following device_id %(device_id)s is not owned by your "" ""tenant or matches another tenants router."")",,129,1
openstack%2Fpuppet-swift~master~I102008aad86c0e35e3020961119a56c81da973f3,openstack/puppet-swift,master,I102008aad86c0e35e3020961119a56c81da973f3,Parameterize the endpoint prefix,MERGED,2014-04-08 16:07:52.000000000,2014-04-17 12:53:23.000000000,2014-04-17 12:53:23.000000000,"[{'_account_id': 3}, {'_account_id': 6967}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-08 16:07:52.000000000', 'files': ['spec/classes/swift_keystone_auth_spec.rb', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/e4e0a7346846a9659fd300fb7f5f95bab9537d1b', 'message': 'Parameterize the endpoint prefix\n\nThe endpoint prefix for keystone endpoints is now configurable (defaults\nto AUTH). This will allow for easier integration with SwiftStack\nwhich requires that the endpoint prefix not be AUTH.\n\nChange-Id: I102008aad86c0e35e3020961119a56c81da973f3\n'}]",0,86081,e4e0a7346846a9659fd300fb7f5f95bab9537d1b,11,3,1,9500,,,0,"Parameterize the endpoint prefix

The endpoint prefix for keystone endpoints is now configurable (defaults
to AUTH). This will allow for easier integration with SwiftStack
which requires that the endpoint prefix not be AUTH.

Change-Id: I102008aad86c0e35e3020961119a56c81da973f3
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/81/86081/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_keystone_auth_spec.rb', 'manifests/keystone/auth.pp']",2,e4e0a7346846a9659fd300fb7f5f95bab9537d1b,," $configure_s3_endpoint = true, $endpoint_prefix = 'AUTH', public_url => ""${public_protocol}://${public_address}:${real_public_port}/v1/${endpoint_prefix}_%(tenant_id)s"", internal_url => ""${internal_protocol}://${real_internal_address}:${port}/v1/${endpoint_prefix}_%(tenant_id)s"","," $configure_s3_endpoint = true public_url => ""${public_protocol}://${public_address}:${real_public_port}/v1/AUTH_%(tenant_id)s"", internal_url => ""${internal_protocol}://${real_internal_address}:${port}/v1/AUTH_%(tenant_id)s"",",8,5
openstack%2Fopenstack-manuals~master~Ic4b6e46b70355f47ded6b6b90bba7bead1337b1d,openstack/openstack-manuals,master,Ic4b6e46b70355f47ded6b6b90bba7bead1337b1d,Install Guide edits for cinder,MERGED,2014-04-17 12:12:08.000000000,2014-04-17 12:50:10.000000000,2014-04-17 12:50:09.000000000,"[{'_account_id': 3}, {'_account_id': 6843}, {'_account_id': 7472}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-17 12:12:08.000000000', 'files': ['doc/install-guide/section_cinder-node.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7dcdb23814ea391d5ff1161453cca6415aeade2e', 'message': 'Install Guide edits for cinder\n\nsection_cinder-node:\n* Install tgt on openSUSE and SLES\n* Fix indentation of one line\n\nChange-Id: Ic4b6e46b70355f47ded6b6b90bba7bead1337b1d\n'}]",0,88263,7dcdb23814ea391d5ff1161453cca6415aeade2e,8,4,1,6547,,,0,"Install Guide edits for cinder

section_cinder-node:
* Install tgt on openSUSE and SLES
* Fix indentation of one line

Change-Id: Ic4b6e46b70355f47ded6b6b90bba7bead1337b1d
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/63/88263/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_cinder-node.xml'],1,7dcdb23814ea391d5ff1161453cca6415aeade2e,SUSE-edits," <screen os=""opensuse;sles""><prompt>#</prompt> <userinput>zypper install openstack-cinder-volume tgt</userinput></screen> DEFAULT rabbit_host <replaceable>controller</replaceable></userinput>"," <screen os=""opensuse;sles""><prompt>#</prompt> <userinput>zypper install openstack-cinder-volume</userinput></screen> DEFAULT rabbit_host <replaceable>controller</replaceable></userinput>",2,2
openstack%2Fnova~master~I663bd06eb50872f16fc9889dde917277739fefce,openstack/nova,master,I663bd06eb50872f16fc9889dde917277739fefce,Disable nova-manage network commands with Neutron V2,MERGED,2014-04-13 01:59:23.000000000,2014-04-17 12:38:45.000000000,2014-04-17 12:38:41.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1004}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9275}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-13 01:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/090daaabe698dcf0f8128fb3ac101720a2a7d3bc', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 2, 'created': '2014-04-13 02:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4eca7d947ca645364e0caa73280f6c2762d04a0f', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 3, 'created': '2014-04-14 15:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35393edab82f359cde3aa070ed13ca6d3a0bbac7', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 4, 'created': '2014-04-15 15:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8d1087d9227e5a9ca15facea39945773a16d51e', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 5, 'created': '2014-04-15 16:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4842ce1fb3a06e2c09c69ee91e0fdfa9b735ca96', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 6, 'created': '2014-04-15 17:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4201ee61428e19f710618f18d6b5286c67972e02', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 7, 'created': '2014-04-15 18:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2263f5d4640ea159dc34e5c091e09db44527d42', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 8, 'created': '2014-04-15 18:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a0f1dc9a708d10c87df2c88f799a187a264fa72', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 9, 'created': '2014-04-15 19:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/842714fbd0219da3eb507538d4c89ea2aa18aeaf', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}, {'number': 10, 'created': '2014-04-16 14:00:48.000000000', 'files': ['nova/tests/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a581823ecee286c5c6329c9c373f0fea0b6b729f', 'message': 'Disable nova-manage network commands with Neutron V2\n\nWhen using nova-manage with neutron v2 API, all CRUD operations\nshould be done directly against the neutron API, rather than\nusing nova-manage.\n\nChange-Id: I663bd06eb50872f16fc9889dde917277739fefce\nCloses-Bug: #1019895\n'}]",11,87103,a581823ecee286c5c6329c9c373f0fea0b6b729f,117,11,10,1004,,,0,"Disable nova-manage network commands with Neutron V2

When using nova-manage with neutron v2 API, all CRUD operations
should be done directly against the neutron API, rather than
using nova-manage.

Change-Id: I663bd06eb50872f16fc9889dde917277739fefce
Closes-Bug: #1019895
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/87103/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,090daaabe698dcf0f8128fb3ac101720a2a7d3bc,bug/1019895," def _check_network_api_class(self): if CONF.network_api_class == ""nova.network.neutronv2.api.API"": print(_(""Network commands are not supported with Quantum V2 "" ""API. Please use the quantum client."")) raise self._check_network_api_class() self._check_network_api_class() self._check_network_api_class() self._check_network_api_class()",,10,0
openstack%2Ftempest~master~Ib9dab5ab7a1af5211fb262b2a01538836d082797,openstack/tempest,master,Ib9dab5ab7a1af5211fb262b2a01538836d082797,Verify set server-metadata response of V2/V3 API,ABANDONED,2014-04-11 10:15:29.000000000,2014-04-17 12:30:48.000000000,,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6348}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-11 10:15:29.000000000', 'files': ['tempest/services/compute/json/servers_client.py', 'tempest/services/compute/v3/json/servers_client.py', 'tempest/api_schema/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/91cc89e26dfd040eb51a2282fec3951c2e833541', 'message': 'Verify set server-metadata response of V2/V3 API\n\nThis patch adds the JSON schema for response status of Nova server-metadata\nset API to block the backward incompatibility change in the future.\n\nThe response body of v2 and v3 API is the below:\n{\n    ""metadata"": {\n        ""name"": ""test_meta_data""\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: Ib9dab5ab7a1af5211fb262b2a01538836d082797\n'}]",0,86851,91cc89e26dfd040eb51a2282fec3951c2e833541,8,4,1,7882,,,0,"Verify set server-metadata response of V2/V3 API

This patch adds the JSON schema for response status of Nova server-metadata
set API to block the backward incompatibility change in the future.

The response body of v2 and v3 API is the below:
{
    ""metadata"": {
        ""name"": ""test_meta_data""
    }
}

Partially implements blueprint nova-api-attribute-test

Change-Id: Ib9dab5ab7a1af5211fb262b2a01538836d082797
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/86851/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/servers_client.py', 'tempest/services/compute/v3/json/servers_client.py', 'tempest/api_schema/compute/servers.py']",3,91cc89e26dfd040eb51a2282fec3951c2e833541,bp/nova-api-attribute-test," set_server_metadata = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'metadata': {'type': 'object'} }, 'required': ['metadata'] } }",,13,0
openstack%2Fhorizon~master~I3fb471864efae0175ba7b38a21e71fa70cbfd716,openstack/horizon,master,I3fb471864efae0175ba7b38a21e71fa70cbfd716,Adding missing comma.,ABANDONED,2014-04-17 08:38:35.000000000,2014-04-17 12:29:31.000000000,,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 6610}]","[{'number': 1, 'created': '2014-04-17 08:38:35.000000000', 'files': ['openstack_dashboard/api/cinder.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ead9738db7d424fed2a1cba3bf0a1ef19ecba384', 'message': 'Adding missing comma.\n\nChange-Id: I3fb471864efae0175ba7b38a21e71fa70cbfd716\nCloses-bug: #1308642\n'}]",0,88212,ead9738db7d424fed2a1cba3bf0a1ef19ecba384,6,3,1,8794,,,0,"Adding missing comma.

Change-Id: I3fb471864efae0175ba7b38a21e71fa70cbfd716
Closes-bug: #1308642
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/88212/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/cinder.py'],1,ead9738db7d424fed2a1cba3bf0a1ef19ecba384,bug/1308642," 'volume_type', 'availability_zone', 'imageRef', 'bootable',"," 'volume_type', 'availability_zone', 'imageRef', 'bootable'",1,1
openstack%2Fpuppet-heat~master~I6edc9c7b58dcd5569f20f202b9b665431c7b0845,openstack/puppet-heat,master,I6edc9c7b58dcd5569f20f202b9b665431c7b0845,Fix outdated DB connection information,MERGED,2014-04-17 06:24:06.000000000,2014-04-17 12:26:51.000000000,2014-04-17 12:26:51.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 6967}]","[{'number': 1, 'created': '2014-04-17 06:24:06.000000000', 'files': ['manifests/init.pp', 'spec/classes/heat_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/1cd2e6404f1f7b29fcce7f2e48afc86dc175d286', 'message': 'Fix outdated DB connection information\n\nIn Icehouse, the format of heat.conf has changed to be more consistent\nwith other projects.  What used to be:\n[DEFAULT]\nsql_connection= ...\n\nIs now:\n\n[database]\nconnection= ...\n\nThis patch fixes the heat module so that it correctly populates\ndatabase connection information.\n\nChange-Id: I6edc9c7b58dcd5569f20f202b9b665431c7b0845\nCloses-Bug: #1308868\n'}]",0,88161,1cd2e6404f1f7b29fcce7f2e48afc86dc175d286,7,3,1,6754,,,0,"Fix outdated DB connection information

In Icehouse, the format of heat.conf has changed to be more consistent
with other projects.  What used to be:
[DEFAULT]
sql_connection= ...

Is now:

[database]
connection= ...

This patch fixes the heat module so that it correctly populates
database connection information.

Change-Id: I6edc9c7b58dcd5569f20f202b9b665431c7b0845
Closes-Bug: #1308868
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/61/88161/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/heat_init_spec.rb']",2,1cd2e6404f1f7b29fcce7f2e48afc86dc175d286,, should contain_heat_config('database/connection').with_value( params[:sql_connection] ), should contain_heat_config('DEFAULT/sql_connection').with_value( params[:sql_connection] ),3,3
openstack%2Fpuppet-keystone~master~I452601cc41d57a78b3390e9516b0b0bef44ceb19,openstack/puppet-keystone,master,I452601cc41d57a78b3390e9516b0b0bef44ceb19,Fix deprecated section header in keystone.conf,MERGED,2014-04-17 06:03:27.000000000,2014-04-17 12:25:42.000000000,2014-04-17 12:25:42.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 6967}]","[{'number': 1, 'created': '2014-04-17 06:03:27.000000000', 'files': ['manifests/db/sync.pp', 'spec/classes/keystone_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d9aac2f78240e0fd651a6dc0ac05db4ffcba885b', 'message': 'Fix deprecated section header in keystone.conf\n\nIn Icehouse, the [sql] section in keystone.conf has been replaced with\na section called [database] instead to improve consistency across projects.\nThis patch modifies the puppet-keystone module so that it populates\nthe [database] section instead of the [sql] section.\n\nChange-Id: I452601cc41d57a78b3390e9516b0b0bef44ceb19\nCloses-Bug: #1308861\n'}]",0,88148,d9aac2f78240e0fd651a6dc0ac05db4ffcba885b,7,3,1,6754,,,0,"Fix deprecated section header in keystone.conf

In Icehouse, the [sql] section in keystone.conf has been replaced with
a section called [database] instead to improve consistency across projects.
This patch modifies the puppet-keystone module so that it populates
the [database] section instead of the [sql] section.

Change-Id: I452601cc41d57a78b3390e9516b0b0bef44ceb19
Closes-Bug: #1308861
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/48/88148/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db/sync.pp', 'spec/classes/keystone_spec.rb', 'manifests/init.pp']",3,d9aac2f78240e0fd651a6dc0ac05db4ffcba885b,," 'database/connection': value => $sql_connection, secret => true; 'database/idle_timeout': value => $idle_timeout;"," 'sql/connection': value => $sql_connection, secret => true; 'sql/idle_timeout': value => $idle_timeout;",6,6
openstack%2Fmurano~master~I54889acfedb1ac0d47e8395bb7c871c632b6e79e,openstack/murano,master,I54889acfedb1ac0d47e8395bb7c871c632b6e79e,Fix class FQNs for Active Directory in Dynamic UI,MERGED,2014-04-17 08:13:05.000000000,2014-04-17 12:12:51.000000000,2014-04-17 12:12:51.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 8040}, {'_account_id': 8127}]","[{'number': 1, 'created': '2014-04-17 08:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/a039cb31b2db6eb97747928bf8211ada7ab14b24', 'message': ""Use the same AppType in dynamic UI as in applications's manifest\n\nChange-Id: I54889acfedb1ac0d47e8395bb7c871c632b6e79e\n""}, {'number': 2, 'created': '2014-04-17 08:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c7bb985a41164b6f75439f8417592ba5ad147fe6', 'message': ""Use the same AppType in dynamic UI as in applications's manifest\n\nThis allows to query human-readable Application's name using FQN\nprovided by Dynamic UI through the object model to\nmurano-api. Currently app.id is used for that purpose which is not\nright thing because it will be purged from object model by engine\nduring the deployment.\n\nChange-Id: I54889acfedb1ac0d47e8395bb7c871c632b6e79e\n""}, {'number': 3, 'created': '2014-04-17 08:34:50.000000000', 'files': ['meta/io.murano.windows.ActiveDirectory/UI/ui.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/a601d57adcc7a6fc8bd27c2756d6516d071dfc6c', 'message': 'Fix class FQNs for Active Directory in Dynamic UI\n\nChange-Id: I54889acfedb1ac0d47e8395bb7c871c632b6e79e\n'}]",1,88206,a601d57adcc7a6fc8bd27c2756d6516d071dfc6c,13,5,3,8040,,,0,"Fix class FQNs for Active Directory in Dynamic UI

Change-Id: I54889acfedb1ac0d47e8395bb7c871c632b6e79e
",git fetch https://review.opendev.org/openstack/murano refs/changes/06/88206/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano.windows.ActiveDirectory/UI/ui.yaml'],1,a039cb31b2db6eb97747928bf8211ada7ab14b24,ad-fqn-fix, type: io.murano.windows.activeDirectory.PrimaryController type: io.murano.windows.activeDirectory.SecondaryController type: io.murano.windows.ActiveDirectory, type: io.murano.services.windows.activeDirectory.PrimaryController type: io.murano.services.windows.activeDirectory.SecondaryController type: io.murano.services.windows.activeDirectory.ActiveDirectory,3,3
openstack%2Fpuppet-ceilometer~master~I0619446907c5fb51dcdb6e5717faeb61442c699b,openstack/puppet-ceilometer,master,I0619446907c5fb51dcdb6e5717faeb61442c699b,Add table to mysql_grant call,MERGED,2014-04-17 07:17:36.000000000,2014-04-17 12:03:33.000000000,2014-04-17 12:03:33.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 6967}, {'_account_id': 6994}]","[{'number': 1, 'created': '2014-04-17 07:17:36.000000000', 'files': ['manifests/db/mysql/host_access.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f444fc8937a6bc05d0257c1a935e742491e94b02', 'message': 'Add table to mysql_grant call\n\nWhen using puppetlabs-mysql 2.2 with the ceilometer module, an\nerror occurs due to a call to mysql_grant not specifying a table.\nThis patch corrects the error by rectifying the mysql_grant call.\n\nChange-Id: I0619446907c5fb51dcdb6e5717faeb61442c699b\nCloses-Bug: #1308884\n'}]",0,88185,f444fc8937a6bc05d0257c1a935e742491e94b02,7,4,1,6754,,,0,"Add table to mysql_grant call

When using puppetlabs-mysql 2.2 with the ceilometer module, an
error occurs due to a call to mysql_grant not specifying a table.
This patch corrects the error by rectifying the mysql_grant call.

Change-Id: I0619446907c5fb51dcdb6e5717faeb61442c699b
Closes-Bug: #1308884
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/85/88185/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db/mysql/host_access.pp'],1,f444fc8937a6bc05d0257c1a935e742491e94b02,," table => ""${database}.*"", user => ""${user}@${name}"",",,2,0
openstack%2Ffuel-web~master~I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680,openstack/fuel-web,master,I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680,Nailgun Docs for base objects,MERGED,2014-04-15 12:15:34.000000000,2014-04-17 12:01:31.000000000,2014-04-17 12:01:31.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8829}, {'_account_id': 8930}, {'_account_id': 8971}, {'_account_id': 10014}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-15 12:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f7cc6b50e2238cc31ed67b3772aa5a9f779897dc', 'message': 'Nailgun docs for base objects\n\nChange-Id: I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680\n'}, {'number': 2, 'created': '2014-04-15 12:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4858008588aa63b57406cc7cf435f2eba354dcce', 'message': 'Nailgun docs for base objects\n\nChange-Id: I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680\n'}, {'number': 3, 'created': '2014-04-16 10:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/df8fae72979810061efe57b40206086338b63ce6', 'message': 'Nailgun docs for base objects\n\nChange-Id: I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680\n'}, {'number': 4, 'created': '2014-04-16 10:37:22.000000000', 'files': ['nailgun/nailgun/autoapidoc.py', 'nailgun/nailgun/objects/node.py', 'docs/conf.py', 'docs/develop/objects.rst', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/objects/release.py', 'docs/develop/api_doc.rst'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/054de900903b607a279114c6534bde8800f29194', 'message': 'Nailgun Docs for base objects\n\nChange-Id: I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680\n'}]",13,87569,054de900903b607a279114c6534bde8800f29194,39,10,4,8053,,,0,"Nailgun Docs for base objects

Change-Id: I1f2af3b2d5c0a1cc3e078f96fa4fcd810fbb9680
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/69/87569/3 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/autoapidoc.py', 'nailgun/nailgun/objects/node.py', 'docs/conf.py', 'docs/develop/objects.rst', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/objects/base.py', 'docs/develop/api_doc.rst', 'nailgun/nailgun/objects/release.py']",8,f7cc6b50e2238cc31ed67b3772aa5a9f779897dc,nailgun_docs,""""""" Release object and collection """""" """"""Release object """""" #: SQLAlchemy model for Release #: Serializer for Release #: Release JSON schema """"""Create Release instance with specified parameters in DB. Corresponding roles are created in DB using names specified in ""roles"" field. See :func:`update_roles` :param data: dictionary of key-value pairs as object fields :returns: Release instance """""" """"""Update existing Release instance with specified parameters. Corresponding roles are updated in DB using names specified in ""roles"" field. See :func:`update_roles` :param instance: Release instance :param data: dictionary of key-value pairs as object fields :returns: Release instance """""" """"""Update existing Release instance with specified roles. Previous ones are deleted. IMPORTANT NOTE: attempting to remove roles which are already assigned to nodes will lead to an Exception. :param instance: Release instance :param roles: list of new roles names :returns: None """""" """"""Release collection """""" #: Single Release object class",,295,7
openstack%2Ffuel-web~master~Ic94efd47e4e30b95ac6094328fd4b504a717743b,openstack/fuel-web,master,Ic94efd47e4e30b95ac6094328fd4b504a717743b,Fix Release PK in fixture,MERGED,2014-04-10 10:06:31.000000000,2014-04-17 11:57:54.000000000,2014-04-17 11:57:53.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-10 10:06:31.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1a9b698c4164c90436c265e0674df9b54796bfbd', 'message': 'Fix Release PK in fixture\n\nChange-Id: Ic94efd47e4e30b95ac6094328fd4b504a717743b\nCloses-bug: #1291836\n'}]",0,86545,1a9b698c4164c90436c265e0674df9b54796bfbd,14,4,1,1736,,,0,"Fix Release PK in fixture

Change-Id: Ic94efd47e4e30b95ac6094328fd4b504a717743b
Closes-bug: #1291836
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/45/86545/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,1a9b698c4164c90436c265e0674df9b54796bfbd,bug/1291836,- pk: 2,- pk: 3,1,1
openstack%2Ffuel-library~master~Ie72bd1293a029dd24fa28f2f014249e57c15737a,openstack/fuel-library,master,Ie72bd1293a029dd24fa28f2f014249e57c15737a,Use correct path for send2syslog.py,MERGED,2014-04-17 11:21:33.000000000,2014-04-17 11:31:41.000000000,2014-04-17 11:31:41.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-04-17 11:21:33.000000000', 'files': ['deployment/puppet/nailgun/manifests/cobbler.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ce2976806912e307d23af1ae9929e31cdd8e6e3f', 'message': 'Use correct path for send2syslog.py\n\nPreviously, send2syslog.py was in /bin\nand installed by anaconda.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie72bd1293a029dd24fa28f2f014249e57c15737a\n'}]",0,88239,ce2976806912e307d23af1ae9929e31cdd8e6e3f,10,6,1,7195,,,0,"Use correct path for send2syslog.py

Previously, send2syslog.py was in /bin
and installed by anaconda.

blueprint fuel-containerization-of-services

Change-Id: Ie72bd1293a029dd24fa28f2f014249e57c15737a
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/39/88239/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/manifests/cobbler.pp'],1,ce2976806912e307d23af1ae9929e31cdd8e6e3f,bp/fuel-containerization-of-services," ensure => '/usr/bin/send2syslog.py',"," ensure => '/bin/send2syslog.py',",1,1
openstack%2Fmanila~master~I371b63f98b1d961e04f146706e36385a7796c7f9,openstack/manila,master,I371b63f98b1d961e04f146706e36385a7796c7f9,Fixed tempest plugin compatibility with master,MERGED,2014-04-17 08:25:10.000000000,2014-04-17 11:30:06.000000000,2014-04-17 11:30:06.000000000,"[{'_account_id': 3}, {'_account_id': 7534}]","[{'number': 1, 'created': '2014-04-17 08:25:10.000000000', 'files': ['contrib/tempest/tempest/services/share/json/shares_client.py', 'contrib/tempest/tempest/share_exceptions.py', 'contrib/tempest/tempest/api/share/test_shares_negative.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/79ff07c8dd9071454bb42a4defa0d5742b3ff4b7', 'message': 'Fixed tempest plugin compatibility with master\n\nChange-Id: I371b63f98b1d961e04f146706e36385a7796c7f9\n'}]",0,88209,79ff07c8dd9071454bb42a4defa0d5742b3ff4b7,6,2,1,8851,,,0,"Fixed tempest plugin compatibility with master

Change-Id: I371b63f98b1d961e04f146706e36385a7796c7f9
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/88209/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/services/share/json/shares_client.py', 'contrib/tempest/tempest/share_exceptions.py', 'contrib/tempest/tempest/api/share/test_shares_negative.py']",3,79ff07c8dd9071454bb42a4defa0d5742b3ff4b7,tempest,from tempest import share_exceptions,from tempest.exceptions import share_exceptions,12,12
openstack%2Fneutron~master~I71fb8c887963a122a5bd8cfdda800026c1cd3954,openstack/neutron,master,I71fb8c887963a122a5bd8cfdda800026c1cd3954,Validate CIDR given as ip-prefix in security-group-rule-create,MERGED,2013-11-29 16:33:16.000000000,2014-04-17 11:17:45.000000000,2014-04-17 11:17:44.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 490}, {'_account_id': 841}, {'_account_id': 1119}, {'_account_id': 1935}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 2711}, {'_account_id': 2733}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6876}, {'_account_id': 7141}, {'_account_id': 7183}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8449}, {'_account_id': 8976}, {'_account_id': 9560}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2013-11-29 16:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d8efe944abf3f047e48d6b61cf55faa39e8c9f7', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 2, 'created': '2013-12-02 17:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06c61acc63473dbbd6724ded36eb9bed14500f00', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 3, 'created': '2013-12-04 14:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dd47fe6f2afac7d3380e5da7dc27cd4366f5fc0', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32)\nand also validate the rule ethertype against the ip_prefix address\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 4, 'created': '2013-12-06 09:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31db9957a34abf0035e37b354c07104939498f4b', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nTwo unit test cases added - bad prefix and incorrect ethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 5, 'created': '2013-12-06 13:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e8038f2aff8fc462d5380b20b88f2dcddfaa998', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nTwo unit test cases added - bad prefix and incorrect ethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 6, 'created': '2013-12-10 11:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/056c9cd95f64292e7caf2adf3e62788ddf8ae9d5', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nTwo unit test cases added - bad prefix and incorrect ethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 7, 'created': '2013-12-10 14:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdf44ff034c8e5a9c0901507654925c8712a441f', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nTwo unit test cases added - bad prefix and incorrect ethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 8, 'created': '2013-12-10 19:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d562d3df65dd39ec781774d39cea83266955fbc', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nTwo unit test cases added - bad prefix and incorrect ethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 9, 'created': '2014-02-26 15:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/469e6a16715cf0f498011eb529358e521f315f10', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nTwo unit test cases added - bad prefix and incorrect ethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 10, 'created': '2014-03-03 13:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cc5355f5053a81c4beb14820549f6b08f941366', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype.\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 11, 'created': '2014-03-04 14:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86c13778ed1fef0b56d590fc7746bda7509b1b7b', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype. Also adds attribute test cases for the added\nconvert_ip_prefix_to_cidr method\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 12, 'created': '2014-03-12 09:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bea78c3348a1ba0bf18a42183098a591a9072b59', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype. Also adds attribute test cases for the added\nconvert_ip_prefix_to_cidr method\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 13, 'created': '2014-04-01 12:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c3ee6c048cfdca92d07aaaab7294c33e2c7054d', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype. Also adds attribute test cases for the added\nconvert_ip_prefix_to_cidr method\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 14, 'created': '2014-04-02 07:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be4be9c517c088563961b4f03cdc75f32e743aef', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype. Also adds attribute test cases for the added\nconvert_ip_prefix_to_cidr method\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 15, 'created': '2014-04-15 10:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/561ecea59f6b331756b42e643a5d0ff6ac192b29', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype. Also adds attribute test cases for the added\nconvert_ip_prefix_to_cidr method\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}, {'number': 16, 'created': '2014-04-16 16:16:13.000000000', 'files': ['neutron/tests/unit/test_extension_security_group.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/test_security_groups_rpc.py', 'neutron/extensions/securitygroup.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/65aa92b0348b7ab8413f359b00825610cdf66607', 'message': 'Validate CIDR given as ip-prefix in security-group-rule-create\n\nThere was no validation for the provided ip prefix. This just adds\na simple parse using netaddr and explodes with appropriate message.\nAlso makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).\n\nValidation occurs at the attribute level (API model) as well as at\nthe db level, where the ethertype is validated against the ip_prefix\naddress type.\n\nUnit test cases added - bad prefix, unmasked prefix and incorrect\nethertype. Also adds attribute test cases for the added\nconvert_ip_prefix_to_cidr method\n\nChange-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954\nCloses-Bug: 1255338\n'}]",110,59212,65aa92b0348b7ab8413f359b00825610cdf66607,296,37,16,8449,,,0,"Validate CIDR given as ip-prefix in security-group-rule-create

There was no validation for the provided ip prefix. This just adds
a simple parse using netaddr and explodes with appropriate message.
Also makes sure ip prefix _is_ cidr (192.168.1.1-->192.168.1.1/32).

Validation occurs at the attribute level (API model) as well as at
the db level, where the ethertype is validated against the ip_prefix
address type.

Unit test cases added - bad prefix, unmasked prefix and incorrect
ethertype. Also adds attribute test cases for the added
convert_ip_prefix_to_cidr method

Change-Id: I71fb8c887963a122a5bd8cfdda800026c1cd3954
Closes-Bug: 1255338
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/59212/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/extensions/securitygroup.py']",2,3d8efe944abf3f047e48d6b61cf55faa39e8c9f7,bug/1255338,"class InvalidCIDR(qexception.InvalidInput): message = _(""Invalid CIDR \'%(input)s\' given as IP prefix"") ",,16,0
openstack%2Ffuel-library~master~Id416667d5956a9e4712ae47a3afd03104fde05c0,openstack/fuel-library,master,Id416667d5956a9e4712ae47a3afd03104fde05c0,Proxy requests to heat API using haproxy,MERGED,2014-04-15 13:33:30.000000000,2014-04-17 11:09:22.000000000,2014-04-17 11:09:22.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 13:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4bf97daf24953db74485b479431b9b58d0d1537a', 'message': 'Proxy requests to heat API using haproxy\n\nChange-Id: Id416667d5956a9e4712ae47a3afd03104fde05c0\nCloses-Bug: #1307503\n'}, {'number': 2, 'created': '2014-04-15 13:47:56.000000000', 'files': ['deployment/puppet/openstack/manifests/ha/heat.pp', 'deployment/puppet/openstack/manifests/ha/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/068b771286c47e4e73b4a2ccc6ca9a003a8a1edd', 'message': 'Proxy requests to heat API using haproxy\n\nChange-Id: Id416667d5956a9e4712ae47a3afd03104fde05c0\nCloses-Bug: #1307503\n'}]",0,87620,068b771286c47e4e73b4a2ccc6ca9a003a8a1edd,19,5,2,8786,,,0,"Proxy requests to heat API using haproxy

Change-Id: Id416667d5956a9e4712ae47a3afd03104fde05c0
Closes-Bug: #1307503
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/20/87620/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/ha/heat.pp', 'deployment/puppet/openstack/manifests/ha/haproxy.pp']",2,4bf97daf24953db74485b479431b9b58d0d1537a,master, class { 'openstack::ha::heat': },,13,0
openstack%2Ffuel-web~master~If5e6cf3d215734ff74b4284446dd47a62527c31a,openstack/fuel-web,master,If5e6cf3d215734ff74b4284446dd47a62527c31a,Reverse setting check (role dependencies),MERGED,2014-04-17 08:51:27.000000000,2014-04-17 10:51:43.000000000,2014-04-17 10:48:18.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}]","[{'number': 1, 'created': '2014-04-17 08:51:27.000000000', 'files': ['nailgun/static/js/views/cluster_page_tabs/settings_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5be0238fe90993c8fedb562f6f766583a514d450', 'message': 'Reverse setting check (role dependencies)\n\nChange-Id: If5e6cf3d215734ff74b4284446dd47a62527c31a\n'}]",3,88215,5be0238fe90993c8fedb562f6f766583a514d450,12,6,1,8766,,,0,"Reverse setting check (role dependencies)

Change-Id: If5e6cf3d215734ff74b4284446dd47a62527c31a
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/15/88215/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/views/cluster_page_tabs/settings_tab.js'],1,5be0238fe90993c8fedb562f6f766583a514d450,inverse-dependencies," checkDependentRoles: function(settingPath) { var disabled = false; var rolesData = this.model.get('release').get('roles_metadata'); _.each(this.model.get('release').get('roles'), function(role) { if (!disabled) { var satisfiedDependencies = _.filter(rolesData[role].depends, function(dependency) { var dependencyValue = dependency.condition['settings:' + settingPath + '.value']; return !_.isUndefined(dependencyValue) && dependencyValue == this.settings.get(settingPath + '.value'); }, this); var assignedNodes = this.model.get('nodes').filter(function(node) { return node.hasRole(role); }); disabled = satisfiedDependencies.length && assignedNodes.length; } else { return false; } }, this); return disabled; }, } else { return false; } if (!isSettingDisabled) { isSettingDisabled = this.checkDependentRoles(settingPath); } } else { return false; } } else { return false; } } else { return false; }", } else { return false; } } else { return false; } } else { return false; } } else { return false; },22,12
openstack%2Fpuppet-nova~master~Ib8f9db0896a70edc341b885e612bb8f56b874c6e,openstack/puppet-nova,master,Ib8f9db0896a70edc341b885e612bb8f56b874c6e,add configs for different workers,MERGED,2014-04-02 16:01:04.000000000,2014-04-17 10:33:54.000000000,2014-04-17 10:33:54.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 6838}, {'_account_id': 6967}, {'_account_id': 7156}, {'_account_id': 7822}, {'_account_id': 7909}, {'_account_id': 10536}]","[{'number': 1, 'created': '2014-04-02 16:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9df6d53327b90b8c5cc761e51192891f7b786236', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 2, 'created': '2014-04-02 16:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a912a35dd3af586b13b42eeb746262bf39867e2e', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 3, 'created': '2014-04-02 17:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/733daebb5740e39e32df8e97401f0fc3f8d082ee', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 4, 'created': '2014-04-02 21:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5afa6181ef6b4c58f2b627a20e6403f1e00a0a1d', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 5, 'created': '2014-04-02 21:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a7d7a8f1ba0ef543b056f61379133b277239515c', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 6, 'created': '2014-04-02 22:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/931ab1f638ff05ec79b5ff15ca4fc5f89833f733', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 7, 'created': '2014-04-03 09:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c4b6e2bb349c80e98eee2ebdf9df957930fa1343', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 8, 'created': '2014-04-14 09:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f5d99bca954dc39c10f29469b564d55b64cef582', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}, {'number': 9, 'created': '2014-04-15 17:16:35.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9b84c5f84e27a0509137aea5d800d1184a86b311', 'message': 'add configs for different workers\n\nworkers param for nova-api deprecated, change to osapi_compute_workers\nbecause workers in nova.conf is meant for conductor.\n\nadd config for metadata_workers.\n\nadd config for conductor_workers.\n\nChange-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e\n'}]",8,84772,9b84c5f84e27a0509137aea5d800d1184a86b311,55,8,9,10536,,,0,"add configs for different workers

workers param for nova-api deprecated, change to osapi_compute_workers
because workers in nova.conf is meant for conductor.

add config for metadata_workers.

add config for conductor_workers.

Change-Id: Ib8f9db0896a70edc341b885e612bb8f56b874c6e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/84772/9 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,9df6d53327b90b8c5cc761e51192891f7b786236,add_workers_configs,"# [*osapi_compute_workers*]# [*metadata_workers*] # (optional) Number of workers for metadata service # Defaults to $::processorcount # # [*conductor_workers*] # (optional) Number of workers for OpenStack Conductor service # Defaults to $::processorcount # $osapi_compute_workers = $::processorcount, $metadata_workers = $::processorcount, $conductor_workers = $::processorcount, 'nova.api.openstack.compute.limits:RateLimitingMiddleware.factory', # DEPRECATED PARAMETER $workers = $::processorcount, if $workers { warning('The workers parameter is deprecated, use osapi_compute_workers instead.') $osapi_compute_workers = $workers } 'DEFAULT/osapi_compute_workers': value => $osapi_compute_workers; 'DEFAULT/metadata_workers': value => $metadata_workers; 'DEFAULT/workers': value => $conductor_workers;","# [*workers*] $workers = $::processorcount, 'nova.api.openstack.compute.limits:RateLimitingMiddleware.factory' 'DEFAULT/osapi_compute_workers': value => $workers;",23,4
openstack%2Fcookbook-openstack-network~master~I803e92ebafe37c7414f767051354c7d1f1adc56d,openstack/cookbook-openstack-network,master,I803e92ebafe37c7414f767051354c7d1f1adc56d,Allow db stamp to be overidden,MERGED,2014-03-28 17:47:05.000000000,2014-04-17 10:33:53.000000000,2014-04-17 10:33:53.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2340}, {'_account_id': 2799}, {'_account_id': 5371}, {'_account_id': 7128}, {'_account_id': 8410}, {'_account_id': 8622}, {'_account_id': 9488}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-03-28 17:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/f9d7657be6d21ad0c35c976a0a522d2b28cc344c', 'message': 'Allow db stamp to be overidden\n\nSince the db stamp is not created until late in the base dev cycle,\nrecipe will fail trying to stamp db with it.  Allow override so\ndevelopers and test can use the recipe.  Other approach might be to\njust hardcode to ""head"" for now and fix it again once icehouse stamp\nis ready, votes?\n\nChange-Id: I803e92ebafe37c7414f767051354c7d1f1adc56d\n'}, {'number': 2, 'created': '2014-03-28 17:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/a5c6fc4a2869324cce91377383f87c3e9cfe9440', 'message': 'Allow db stamp to be overidden\n\nSince the db stamp is not created until late in the base dev cycle,\nrecipe will fail trying to stamp db with it.  Allow override so\ndevelopers and test can use the recipe.  Other approach might be to\njust hardcode to ""head"" for now and fix it again once icehouse stamp\nis ready, votes?\n\nChange-Id: I803e92ebafe37c7414f767051354c7d1f1adc56d\n'}, {'number': 3, 'created': '2014-03-28 18:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/3dd2ba0925ccc6c11b50edee30194072ba01cf4e', 'message': 'Allow db stamp to be overidden\n\nSince the db stamp is not created until late in the base dev cycle,\nrecipe will fail trying to stamp db with it.  Allow override so\ndevelopers and test can use the recipe.  Other approach might be to\njust hardcode to ""head"" for now and fix it again once icehouse stamp\nis ready, votes?\n\nCloses-Bug: 1299157\nChange-Id: I803e92ebafe37c7414f767051354c7d1f1adc56d\n'}, {'number': 4, 'created': '2014-04-10 15:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/1bcc0f56baeb29b558cea40c8a6f013bfdc1a209', 'message': 'Allow db stamp to be overidden\n\nSince the db stamp is not created until late in the base dev cycle,\nrecipe will fail trying to stamp db with it.  Allow override so\ndevelopers and test can use the recipe.\n\nCloses-Bug: 1299157\nChange-Id: I803e92ebafe37c7414f767051354c7d1f1adc56d\n'}, {'number': 5, 'created': '2014-04-15 14:48:54.000000000', 'files': ['attributes/default.rb', 'spec/server_spec.rb', 'recipes/server.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/c8a8f2a707e658c59dc0f093c0a9177415233148', 'message': 'Allow db stamp to be overidden\n\nSince the db stamp is not created until late in the base dev cycle,\nrecipe will fail trying to stamp db with it.  Allow override so\ndevelopers and test can use the recipe.\n\nCloses-Bug: 1299157\nChange-Id: I803e92ebafe37c7414f767051354c7d1f1adc56d\n'}]",1,83841,c8a8f2a707e658c59dc0f093c0a9177415233148,46,10,5,7128,,,0,"Allow db stamp to be overidden

Since the db stamp is not created until late in the base dev cycle,
recipe will fail trying to stamp db with it.  Allow override so
developers and test can use the recipe.

Closes-Bug: 1299157
Change-Id: I803e92ebafe37c7414f767051354c7d1f1adc56d
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/41/83841/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/server_spec.rb', 'recipes/server.rb']",3,f9d7657be6d21ad0c35c976a0a522d2b28cc344c,bug/1299157, db_stamp = node['openstack']['network']['db_stamp'] #{migrate_command} stamp #{db_stamp}, #{migrate_command} stamp icehouse,9,1
openstack%2Fheat~master~I482fe6a9ca134e9e3bc54282b4b10ed98c29b028,openstack/heat,master,I482fe6a9ca134e9e3bc54282b4b10ed98c29b028,Do not use suppport message if it's None,MERGED,2014-04-14 07:54:09.000000000,2014-04-17 10:33:48.000000000,2014-04-17 10:33:47.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-04-14 07:54:09.000000000', 'files': ['doc/source/ext/resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8c3a9e4ce270e7d760b690cc1310ae968f47ff32', 'message': ""Do not use suppport message if it's None\n\n'message' attribute of SupportStatus class has default value equal None.\nIf you use support_status value in Schema class without providing\n'message', you will get in documentation warning in form: DEPRECATED - None.\nIt looks confused and in such case we should display only 'status'\nattribute: DEPRECATED.\n\nChange-Id: I482fe6a9ca134e9e3bc54282b4b10ed98c29b028\n""}]",0,87184,8c3a9e4ce270e7d760b690cc1310ae968f47ff32,22,7,1,6577,,,0,"Do not use suppport message if it's None

'message' attribute of SupportStatus class has default value equal None.
If you use support_status value in Schema class without providing
'message', you will get in documentation warning in form: DEPRECATED - None.
It looks confused and in such case we should display only 'status'
attribute: DEPRECATED.

Change-Id: I482fe6a9ca134e9e3bc54282b4b10ed98c29b028
",git fetch https://review.opendev.org/openstack/heat refs/changes/84/87184/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ext/resources.py'],1,8c3a9e4ce270e7d760b690cc1310ae968f47ff32,," msg = _('%(status)s') if sstatus['message'] is not None: msg = _('%(status)s - %(message)s') para = nodes.inline('', msg % sstatus) sstatus = prop.support_status.to_dict() msg = _('%(status)s') if sstatus['message'] is not None: msg = _('%(status)s - %(message)s') para = nodes.inline('', msg % sstatus)"," para = nodes.inline( '', _('%(status)s - %(message)s') % sstatus) para = nodes.inline( '', _('%(status)s - %(message)s') % prop.support_status.to_dict())",9,5
openstack%2Fnova~master~I642b71385432801eb8fdd35484fbcb3ed5efa795,openstack/nova,master,I642b71385432801eb8fdd35484fbcb3ed5efa795,Remove the unused _validate_device_name(),MERGED,2014-04-08 05:54:26.000000000,2014-04-17 10:31:03.000000000,2014-04-17 10:30:59.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-04-08 05:54:26.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44f81e3377fea775ca42c63f6fcce093bdfc17b0', 'message': 'Remove the unused _validate_device_name()\n\nSince the commit I898ae56539c6101680983d1eca4bce6d92bd5ce6,\n_validate_device_name() method has been unused.\nThis patch removes the method.\n\nChange-Id: I642b71385432801eb8fdd35484fbcb3ed5efa795\n'}]",0,85929,44f81e3377fea775ca42c63f6fcce093bdfc17b0,14,7,1,6167,,,0,"Remove the unused _validate_device_name()

Since the commit I898ae56539c6101680983d1eca4bce6d92bd5ce6,
_validate_device_name() method has been unused.
This patch removes the method.

Change-Id: I642b71385432801eb8fdd35484fbcb3ed5efa795
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/85929/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/plugins/v3/servers.py'],1,44f81e3377fea775ca42c63f6fcce093bdfc17b0,cleanup,," def _validate_device_name(self, value): self._check_string_length(value, 'Device name', max_length=255) if ' ' in value: msg = _(""Device name cannot include spaces."") raise exc.HTTPBadRequest(explanation=msg) ",0,7
openstack%2Fopenstack-manuals~stable%2Fhavana~If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f,openstack/openstack-manuals,stable/havana,If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f,Remove wrong spaces in nova option,MERGED,2014-04-17 01:51:12.000000000,2014-04-17 10:10:14.000000000,2014-04-17 10:10:13.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 9695}]","[{'number': 1, 'created': '2014-04-17 01:51:12.000000000', 'files': ['doc/common/section_compute-configure-vnc.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c6e80fa1abb7bf3d559c01aff40de05a2799d190', 'message': 'Remove wrong spaces in nova option\n\nvncserver_ proxyclient_ address should be vncserver_proxyclient_address\n\nChange-Id: If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f\nCloses-Bug: #1308553\nbackport: havana\n(cherry picked from commit 0016e2657d95c77acc584b3bbdb9d8ea87b540a1)\n'}]",0,88120,c6e80fa1abb7bf3d559c01aff40de05a2799d190,9,3,1,6676,,,0,"Remove wrong spaces in nova option

vncserver_ proxyclient_ address should be vncserver_proxyclient_address

Change-Id: If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f
Closes-Bug: #1308553
backport: havana
(cherry picked from commit 0016e2657d95c77acc584b3bbdb9d8ea87b540a1)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/20/88120/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_compute-configure-vnc.xml'],1,c6e80fa1abb7bf3d559c01aff40de05a2799d190,havana/backport/88015, <literal>vncserver_proxyclient_address</literal>=<replaceable>127.0.0.1</replaceable>, <literal>vncserver_ proxyclient_ address </literal>=<replaceable>127.0.0.1</replaceable>,1,2
openstack%2Fopenstack-manuals~master~Ib2fa68e307cf465f496c43d345a5aa3a052d43fe,openstack/openstack-manuals,master,Ib2fa68e307cf465f496c43d345a5aa3a052d43fe,Add a note that Xen section is out of date,MERGED,2014-04-17 04:46:16.000000000,2014-04-17 10:10:06.000000000,2014-04-17 10:10:05.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7472}]","[{'number': 1, 'created': '2014-04-17 04:46:16.000000000', 'files': ['doc/config-reference/compute/section_introduction-to-xen.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c9b312102fa036d82ed7d3b49bfd45f30c6aec1b', 'message': ""Add a note that Xen section is out of date\n\nPatch adds a note that the Xen section is out of date, and\nlinks to the blueprint to fix it. Xen still looks to devstack\nfor install items, and hasn't been updated for three releases\nor so.\n\nChange-Id: Ib2fa68e307cf465f496c43d345a5aa3a052d43fe\nbp:redocument-xen\n""}]",0,88138,c9b312102fa036d82ed7d3b49bfd45f30c6aec1b,8,3,1,612,,,0,"Add a note that Xen section is out of date

Patch adds a note that the Xen section is out of date, and
links to the blueprint to fix it. Xen still looks to devstack
for install items, and hasn't been updated for three releases
or so.

Change-Id: Ib2fa68e307cf465f496c43d345a5aa3a052d43fe
bp:redocument-xen
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/38/88138/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/compute/section_introduction-to-xen.xml'],1,c9b312102fa036d82ed7d3b49bfd45f30c6aec1b,bp/to," <warning><title>This section needs help</title> <para>This section is low quality, and contains out of date information. The Documentation Team is currently looking for individuals with experience with the hypervisor to <link xlink:href=""https://blueprints.launchpad.net/openstack-manuals/+spec/redocument-xen"">Re-document Xen integration with OpenStack</link>.</para> </warning>",,7,0
openstack%2Fopenstack-manuals~master~I270d7e98fe857501fa6ac1a38f6ff928ea0192de,openstack/openstack-manuals,master,I270d7e98fe857501fa6ac1a38f6ff928ea0192de,tox.ini: Whitelist rm,MERGED,2014-04-17 08:25:27.000000000,2014-04-17 10:09:58.000000000,2014-04-17 10:09:57.000000000,"[{'_account_id': 3}, {'_account_id': 7472}]","[{'number': 1, 'created': '2014-04-17 08:25:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b99b4c48c858b77cbf5e480aaaae6336f7a57e1e', 'message': 'tox.ini: Whitelist rm\n\nRemove noise from execution, whitelist rm command.\n\nChange-Id: I270d7e98fe857501fa6ac1a38f6ff928ea0192de\n'}]",0,88210,b99b4c48c858b77cbf5e480aaaae6336f7a57e1e,6,2,1,6547,,,0,"tox.ini: Whitelist rm

Remove noise from execution, whitelist rm command.

Change-Id: I270d7e98fe857501fa6ac1a38f6ff928ea0192de
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/10/88210/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b99b4c48c858b77cbf5e480aaaae6336f7a57e1e,whitelist-rm, rm,,1,0
openstack%2Fcookbook-openstack-network~master~Iba940171f1dd0f2d6c773a72ffa5720e89733ca5,openstack/cookbook-openstack-network,master,Iba940171f1dd0f2d6c773a72ffa5720e89733ca5,Add rpc options,MERGED,2014-04-03 20:44:30.000000000,2014-04-17 10:02:11.000000000,2014-04-17 10:02:10.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 2799}, {'_account_id': 6526}, {'_account_id': 7128}, {'_account_id': 8410}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-03 20:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/28372cd09931879ca1b6a0d3c9d72740d8d50cf0', 'message': 'Add rpc options\n\nAdd rpc_thread_pool_size, rpc_conn_pool_size and rpc_response_timeout\n\nChange-Id: Iba940171f1dd0f2d6c773a72ffa5720e89733ca5\nCloses-Bug: #1302164\n'}, {'number': 2, 'created': '2014-04-08 14:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/7ca29b1dba20b361d3660c9dc6dfda4dee8f93fe', 'message': 'Add rpc options\n\nAdd rpc_thread_pool_size, rpc_conn_pool_size and rpc_response_timeout\n\nChange-Id: Iba940171f1dd0f2d6c773a72ffa5720e89733ca5\nCloses-Bug: #1302164\n'}, {'number': 3, 'created': '2014-04-15 14:57:51.000000000', 'files': ['attributes/default.rb', 'spec/server_spec.rb', 'CHANGELOG.md', 'templates/default/neutron.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/b903c1a8c3245c23abfd8b8d380a991ae0cf02fd', 'message': 'Add rpc options\n\nAdd rpc_thread_pool_size, rpc_conn_pool_size and rpc_response_timeout\n\nChange-Id: Iba940171f1dd0f2d6c773a72ffa5720e89733ca5\nCloses-Bug: #1302164\n'}]",0,85168,b903c1a8c3245c23abfd8b8d380a991ae0cf02fd,31,7,3,7128,,,0,"Add rpc options

Add rpc_thread_pool_size, rpc_conn_pool_size and rpc_response_timeout

Change-Id: Iba940171f1dd0f2d6c773a72ffa5720e89733ca5
Closes-Bug: #1302164
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/68/85168/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/server_spec.rb', 'templates/default/neutron.conf.erb']",3,28372cd09931879ca1b6a0d3c9d72740d8d50cf0,add_rpc_options,rpc_thread_pool_size = <%= node['openstack']['network']['rpc_thread_pool_size'] -%>rpc_conn_pool_size = <%= node['openstack']['network']['rpc_conn_pool_size'] -%>rpc_response_timeout = <%= node['openstack']['network']['rpc_response_timeout'] -%>,"# rpc_thread_pool_size = 64,# rpc_conn_pool_size = 30# rpc_response_timeout = 60",23,3
openstack%2Ffuel-library~master~I10da21d4631bc720a030bd0f987480110ee58095,openstack/fuel-library,master,I10da21d4631bc720a030bd0f987480110ee58095,Fix for mongo node deployment in HA mode,MERGED,2014-04-16 13:20:03.000000000,2014-04-17 09:56:27.000000000,2014-04-17 09:56:27.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10301}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-16 13:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/64a08905d40ae61e287ea06f22b0c6942c1c76b5', 'message': 'Fix for mongo node deployment in HA mode\n\nNumber of mongo nodes for HA was hardcoded\n\nChange-Id: I10da21d4631bc720a030bd0f987480110ee58095\nCloses-Bug: #1308362\n'}, {'number': 2, 'created': '2014-04-17 07:32:07.000000000', 'files': ['deployment/puppet/openstack/manifests/mongo_primary.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a552f6306b1183b66821ce0f2e187389eef4adc5', 'message': 'Fix for mongo node deployment in HA mode\n\nNumber of mongo nodes for HA were hardcoded\n\nChange-Id: I10da21d4631bc720a030bd0f987480110ee58095\nCloses-Bug: #1308362\n'}]",5,87962,a552f6306b1183b66821ce0f2e187389eef4adc5,24,8,2,10959,,,0,"Fix for mongo node deployment in HA mode

Number of mongo nodes for HA were hardcoded

Change-Id: I10da21d4631bc720a030bd0f987480110ee58095
Closes-Bug: #1308362
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/62/87962/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/mongo_primary.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp']",2,64a08905d40ae61e287ea06f22b0c6942c1c76b5,mongo-ha-cluster-fix," $mongo_secondary_hosts = values(nodes_to_hash($mongo_node,'name','internal_address'))# ceilometer_replset_members => [ $mongo_node[0]['internal_address'], $mongo_node[1]['internal_address'] ], ceilometer_replset_members => $mongo_secondary_hosts, } "," ceilometer_replset_members => [ $mongo_node[0]['internal_address'], $mongo_node[1]['internal_address'] ], }",6,2
openstack%2Fmistral~master~I9ecf4dc01f1ae084e27b29f46507c65fba9a6692,openstack/mistral,master,I9ecf4dc01f1ae084e27b29f46507c65fba9a6692,Fix result of HTTP action,MERGED,2014-04-16 14:44:22.000000000,2014-04-17 09:49:07.000000000,2014-04-17 09:49:07.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}, {'_account_id': 10126}]","[{'number': 1, 'created': '2014-04-16 14:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7eb67faf13a02328cf0871eb96d66297471f9c92', 'message': 'Fix result of HTTP action\n\n * Fixed HTTPAction result: To use expressions we need to\n   transform any action result to some expressions-readable\n   structure, e.g. dict. In case of HTTPActions we expose\n   status, content and headers. For example, if we recieved\n   response - {""server"": ""info"" {""id"": ""some_id""}} we can\n   address to property \'id\' using expression \'$.content.server.id\'\n * Unit test\n\nChange-Id: I9ecf4dc01f1ae084e27b29f46507c65fba9a6692\n'}, {'number': 2, 'created': '2014-04-17 09:24:39.000000000', 'files': ['mistral/actions/std_actions.py', 'mistral/tests/unit/actions/test_http_action.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e0e3a58cf5ecffbd493b51290e4e1e06a85d30db', 'message': 'Fix result of HTTP action\n\n * Fixed HTTPAction result: To use expressions we need to\n   transform any action result to some expressions-readable\n   structure, e.g. dict. In case of HTTPActions we expose\n   status, content and headers. For example, if we recieved\n   response - {""server"": ""info"" {""id"": ""some_id""}} we can\n   address to property \'id\' using expression \'$.content.server.id\'\n * Unit test\n\nChange-Id: I9ecf4dc01f1ae084e27b29f46507c65fba9a6692\n'}]",3,87985,e0e3a58cf5ecffbd493b51290e4e1e06a85d30db,23,5,2,7700,,,0,"Fix result of HTTP action

 * Fixed HTTPAction result: To use expressions we need to
   transform any action result to some expressions-readable
   structure, e.g. dict. In case of HTTPActions we expose
   status, content and headers. For example, if we recieved
   response - {""server"": ""info"" {""id"": ""some_id""}} we can
   address to property 'id' using expression '$.content.server.id'
 * Unit test

Change-Id: I9ecf4dc01f1ae084e27b29f46507c65fba9a6692
",git fetch https://review.opendev.org/openstack/mistral refs/changes/85/87985/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/std_actions.py', 'mistral/tests/unit/actions/test_http_action.py']",2,7eb67faf13a02328cf0871eb96d66297471f9c92,fix_http_action,"# -*- coding: utf-8 -*- # # Copyright 2014 - Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import json import mock import requests from mistral.actions import std_actions as std from mistral.tests import base URL = ""http://some_url"" DATA = { ""server"": { ""id"": ""12345"", ""metadata"": { ""name"": ""super_server"" } } } def get_fake_response(): response = mock.Mock() response.content = json.dumps(DATA) response.json = mock.MagicMock(return_value=DATA) response.headers = {'Content-Type': 'application/json'} response.status_code = 200 return response class HTTPActionTest(base.BaseTest): @mock.patch.object(requests, ""request"", mock.MagicMock(return_value=get_fake_response())) def test_http_action(self): action = std.HTTPAction(url=URL, method=""POST"", body=DATA) self.assertEqual(json.dumps(DATA), action.body) self.assertEqual(URL, action.url) result = action.run() self.assertIsInstance(result, dict) self.assertEqual(DATA, result['content']) self.assertIn('headers', result) self.assertEqual(200, result['status']) ",,69,1
openstack%2Fopenstack-manuals~stable%2Fhavana~I7ad86649eccde557195fe5d0af17ed9dbd4d92f2,openstack/openstack-manuals,stable/havana,I7ad86649eccde557195fe5d0af17ed9dbd4d92f2,Fix publishing for havana,MERGED,2014-04-17 04:09:10.000000000,2014-04-17 09:32:24.000000000,2014-04-17 09:32:23.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6676}, {'_account_id': 7472}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-17 04:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9dd1521be93ac9960346cea4563c1660d856340b', 'message': ""Fix publishing for havana\n\nAdd translated job targets as noop, we're not publishing translations\nfrom the havana branch.\n\nFix publish target to not publish the www directory at all.\n\nAdd build results to .gitignore\n\nChange-Id: I7ad86649eccde557195fe5d0af17ed9dbd4d92f2\n""}, {'number': 2, 'created': '2014-04-17 06:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/58dac356bf82933a3c53aea86c03fff80f715f97', 'message': ""Fix publishing for havana\n\nAdd translated job targets as noop, we're not publishing translations\nfrom the havana branch.\n\nFix publish target to not publish the www directory at all.\n\nAdd build results to .gitignore\n\nChange-Id: I7ad86649eccde557195fe5d0af17ed9dbd4d92f2\n""}, {'number': 3, 'created': '2014-04-17 08:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/31c4783d972791c6616f8a9cdc34a375e0da2f51', 'message': ""Fix publishing for havana\n\nAdd translated job targets as noop, we're not publishing translations\nfrom the havana branch.\n\nFix publish target to not publish the www directory at all.\n\nAdd build results to .gitignore\n\nChange-Id: I7ad86649eccde557195fe5d0af17ed9dbd4d92f2\n""}, {'number': 4, 'created': '2014-04-17 08:29:16.000000000', 'files': ['.gitignore', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ded04849b3b8f567f8c834bb36f6dd4d25888574', 'message': ""Fix publishing for havana\n\nAdd translated job targets as noop, we're not publishing translations\nfrom the havana branch.\n\nFix publish target to not publish the www directory at all.\n\nAdd build results to .gitignore\n\nChange-Id: I7ad86649eccde557195fe5d0af17ed9dbd4d92f2\n""}]",2,88136,ded04849b3b8f567f8c834bb36f6dd4d25888574,19,6,4,6547,,,0,"Fix publishing for havana

Add translated job targets as noop, we're not publishing translations
from the havana branch.

Fix publish target to not publish the www directory at all.

Add build results to .gitignore

Change-Id: I7ad86649eccde557195fe5d0af17ed9dbd4d92f2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/36/88136/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini']",2,9dd1521be93ac9960346cea4563c1660d856340b,havana/fix-publishing,"commands = openstack-doc-test --check-build --only-book install-guide --only-book config-reference --nocreate-index # Remove www directory, it's in the wrong location and should not be # published here rm -rf publish-docs/wwwcommands = echo ""Not supported on stable/havana"" [testenv:buildlang-misc] # Run as ""tox -e buildlang-misc -- $LANG"" commands = echo ""Not supported on stable/havana""","commands = openstack-doc-test --check-build --only-book install-guide --only-book config-reference --nocreate-index# Generatedocbook needs xml2po which cannot be installed # in the venv. Since it's installed in the system, let's # use sitepackages. sitepackages=True commands = openstack-generate-docbook -l {posargs} -b common openstack-generate-docbook -l {posargs} -b glossary openstack-generate-docbook -l {posargs} -b user-guide openstack-generate-docbook -l {posargs} -b install-guide cp doc/pom.xml generated/{posargs}/pom.xml openstack-doc-test --check-build -l {posargs} --only-book install-guide --nocreate-index",12,12
openstack%2Fcookbook-openstack-common~master~I8ab56b375b28c979021f3c5bc81e364f1cc65226,openstack/cookbook-openstack-common,master,I8ab56b375b28c979021f3c5bc81e364f1cc65226,Add python-openstackclient package support,MERGED,2014-04-07 17:05:19.000000000,2014-04-17 09:30:56.000000000,2014-04-17 09:30:56.000000000,"[{'_account_id': 3}, {'_account_id': 2340}, {'_account_id': 2589}, {'_account_id': 2799}, {'_account_id': 5371}, {'_account_id': 6526}, {'_account_id': 7128}, {'_account_id': 8410}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-07 17:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/bb959b7757e0cf5d96bf93d78a36d11aa697c116', 'message': 'Add python-openstackclient package support\n\nAdd new client recipe for new common client package.\nAs more new features are only supported via this new python client, we\nneed to have a way to deploy it and Common seems like the right place.\nThere is another blueprint for moving the openrc from Compute to Common\nthat is related to this.\n\nChange-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226\nImplements: blueprint openstack-client\n'}, {'number': 2, 'created': '2014-04-08 14:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/b17bfcc97128325e5fc8f1201a835c51fb46b752', 'message': 'Add python-openstackclient package support\n\nAdd new client recipe for new common client package.\nAs more new features are only supported via this new python client, we\nneed to have a way to deploy it and Common seems like the right place.\nThere is another blueprint for moving the openrc from Compute to Common\nthat is related to this.\n\nChange-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226\nImplements: blueprint openstack-client\n'}, {'number': 3, 'created': '2014-04-08 14:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/7e258e6c2ff09cef6495b40e11f922bdbeae44c8', 'message': 'Add python-openstackclient package support\n\nAdd new client recipe for new common client package.\nAs more new features are only supported via this new python client, we\nneed to have a way to deploy it and Common seems like the right place.\nThere is another blueprint for moving the openrc from Compute to Common\nthat is related to this.\n\nChange-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226\nImplements: blueprint openstack-client\n'}, {'number': 4, 'created': '2014-04-08 16:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/b40e3d9924c643b18a3f2d8b748ddc2ab633c600', 'message': 'Add python-openstackclient package support\n\nAdd new client recipe for new common client package.\nAs more new features are only supported via this new python client, we\nneed to have a way to deploy it and Common seems like the right place.\nThere is another blueprint for moving the openrc from Compute to Common\nthat is related to this.\n\nChange-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226\nImplements: blueprint openstack-client\n'}, {'number': 5, 'created': '2014-04-08 17:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/a15e78201fbdd6091685e2aacde65d3195f16ccc', 'message': 'Add python-openstackclient package support\n\nAdd new client recipe for new common client package.\nAs more new features are only supported via this new python client, we\nneed to have a way to deploy it and Common seems like the right place.\nThere is another blueprint for moving the openrc from Compute to Common\nthat is related to this.\n\nChange-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226\nImplements: blueprint openstack-client\n'}, {'number': 6, 'created': '2014-04-16 14:39:04.000000000', 'files': ['attributes/default.rb', 'recipes/client.rb', 'spec/client-redhat_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'spec/client_spec.rb', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/10bab59e86cd439d8bd14b9a4e9047e17cdced5b', 'message': 'Add python-openstackclient package support\n\nAdd new client recipe for new common client package.\nAs more new features are only supported via this new python client, we\nneed to have a way to deploy it and Common seems like the right place.\nThere is another blueprint for moving the openrc from Compute to Common\nthat is related to this.\n\nChange-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226\nImplements: blueprint openstack-client\n'}]",5,85754,10bab59e86cd439d8bd14b9a4e9047e17cdced5b,39,9,6,7128,,,0,"Add python-openstackclient package support

Add new client recipe for new common client package.
As more new features are only supported via this new python client, we
need to have a way to deploy it and Common seems like the right place.
There is another blueprint for moving the openrc from Compute to Common
that is related to this.

Change-Id: I8ab56b375b28c979021f3c5bc81e364f1cc65226
Implements: blueprint openstack-client
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/54/85754/4 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'recipes/client.rb', 'spec/client-redhat_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'spec/client_spec.rb', 'README.md']",7,bb959b7757e0cf5d96bf93d78a36d11aa697c116,bp/for,client ---- Install the common python openstack client package ,,90,1
openstack%2Fheat~master~I04abcf2e876d1de36a36bcd1596a2fd510669744,openstack/heat,master,I04abcf2e876d1de36a36bcd1596a2fd510669744,Push COMPLETE status change at the end of update,MERGED,2014-04-16 19:57:48.000000000,2014-04-17 09:13:17.000000000,2014-04-17 09:13:16.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 7135}, {'_account_id': 7193}, {'_account_id': 8289}]","[{'number': 1, 'created': '2014-04-16 19:57:48.000000000', 'files': ['heat/engine/parser.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f89edeaf39698329ec00367721dd9e11ebbad006', 'message': 'Push COMPLETE status change at the end of update\n\nThis patch moves the status change of stack update to the very end of\nthe update task, to avoid a race condition where the status of the stack\nis UPDATE_COMPLETE but stack-show could return the previous resources.\n\nChange-Id: I04abcf2e876d1de36a36bcd1596a2fd510669744\nCloses-Bug: #1308682\n'}]",0,88075,f89edeaf39698329ec00367721dd9e11ebbad006,9,5,1,7385,,,0,"Push COMPLETE status change at the end of update

This patch moves the status change of stack update to the very end of
the update task, to avoid a race condition where the status of the stack
is UPDATE_COMPLETE but stack-show could return the previous resources.

Change-Id: I04abcf2e876d1de36a36bcd1596a2fd510669744
Closes-Bug: #1308682
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/88075/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/parser.py'],1,f89edeaf39698329ec00367721dd9e11ebbad006,bug/1308682, # Don't use state_set to do only one update query and avoid race # condition with the COMPLETE status self.action = action self.status = stack_status self.status_reason = reason notification.send(self) ," self.state_set(action, stack_status, reason) ",8,2
openstack%2Fmanila~master~Ibb73f77095b035f33376aa1791448de3a1ed939b,openstack/manila,master,Ibb73f77095b035f33376aa1791448de3a1ed939b,Checking security service is not used while deleting,MERGED,2014-04-08 17:31:51.000000000,2014-04-17 09:13:01.000000000,2014-04-17 09:13:01.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-04-08 17:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/553f33d74bf70915abfde8c8a13524f5b6a03824', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 2, 'created': '2014-04-09 09:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c99549136fb838cd19edb181f46bc0892dc4e8f7', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 3, 'created': '2014-04-09 09:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/88bbad7b0205beccd4a8454660f4edf31d60093c', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 4, 'created': '2014-04-09 13:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cdc89e8f9ab0e7b8ca84d7dfe36bad9bbf8478ca', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 5, 'created': '2014-04-09 15:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3b6fe7e40e7794c73692730fb3ede124389f670e', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 6, 'created': '2014-04-09 15:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3447d09c626517c0dbff89bc9f124c0344c55d05', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 7, 'created': '2014-04-09 15:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b208085234d2a0883947212816e9da555ca30217', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}, {'number': 8, 'created': '2014-04-16 14:15:31.000000000', 'files': ['contrib/tempest/tempest/api/share/test_security_services_mapping_negative.py', 'manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v1/security_service.py', 'manila/tests/api/v1/test_security_service.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b2fd5e62231bfbb3923db7d53cf0a9d052e8ab2c', 'message': 'Checking security service is not used while deleting\n\nAdded db method share_network_get_all_by_security_service that\nreturns all share networks to which security service is assigned.\n\nAdded check to delete method in security service api that\ngets list of share networks that security service is assigned at\nand raises error if this list is not empty.\n\nCloses-bug: 1304473\n\nChange-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b\n'}]",0,86103,b2fd5e62231bfbb3923db7d53cf0a9d052e8ab2c,32,4,8,7534,,,0,"Checking security service is not used while deleting

Added db method share_network_get_all_by_security_service that
returns all share networks to which security service is assigned.

Added check to delete method in security service api that
gets list of share networks that security service is assigned at
and raises error if this list is not empty.

Closes-bug: 1304473

Change-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b
",git fetch https://review.opendev.org/openstack/manila refs/changes/03/86103/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v1/security_service.py', 'manila/exception.py', 'manila/tests/api/v1/test_security_service.py']",5,553f33d74bf70915abfde8c8a13524f5b6a03824,bug/1304473," db.share_network_get_all_by_security_service = mock.Mock( return_value=[]) req = fakes.HTTPRequest.blank('/security_services/1') def test_security_service_delete_has_share_networks(self): db.security_service_get = mock.Mock() db.share_network_get_all_by_security_service = mock.Mock( return_value=[{'share_network': 'fake_share_network'}]) req = fakes.HTTPRequest.blank('/security_services/1') self.assertRaises(webob.exc.HTTPForbidden, self.controller.delete, req, 1) ", req = fakes.HTTPRequest.blank('/shares/1'),39,2
openstack%2Fnova~master~I686b095eeb86b67271dc0e3cb5b6acd5a24d3d03,openstack/nova,master,I686b095eeb86b67271dc0e3cb5b6acd5a24d3d03,Added test cases in ConfKeyManagerTestCase to verify fixed_key.,MERGED,2014-04-01 18:33:56.000000000,2014-04-17 08:49:48.000000000,2014-04-17 08:49:44.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1004}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 8831}, {'_account_id': 9578}, {'_account_id': 10275}]","[{'number': 1, 'created': '2014-04-01 18:33:56.000000000', 'files': ['nova/tests/keymgr/test_conf_key_mgr.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a95f83abd6871bd62937ac776dc9b4c137dabb4c', 'message': 'Added test cases in ConfKeyManagerTestCase to verify fixed_key.\n\nConfKeyManagerTestCase sets the fixed_key option, but does not\nperform checks to verify it was used.  This patch adds the\nappropriate unit test cases to verify the fixed_key option.\n\nChange-Id: I686b095eeb86b67271dc0e3cb5b6acd5a24d3d03\nCloses-Bug: #1226228\n'}]",0,84517,a95f83abd6871bd62937ac776dc9b4c137dabb4c,19,9,1,8247,,,0,"Added test cases in ConfKeyManagerTestCase to verify fixed_key.

ConfKeyManagerTestCase sets the fixed_key option, but does not
perform checks to verify it was used.  This patch adds the
appropriate unit test cases to verify the fixed_key option.

Change-Id: I686b095eeb86b67271dc0e3cb5b6acd5a24d3d03
Closes-Bug: #1226228
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/84517/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/keymgr/test_conf_key_mgr.py'],1,a95f83abd6871bd62937ac776dc9b4c137dabb4c,bug/1226228," def test_init(self): key_manager = self._create_key_manager() self.assertEqual(self._hex_key, key_manager._hex_key) def test_init_value_error(self): CONF.set_default('fixed_key', default=None, group='keymgr') self.assertRaises(ValueError, conf_key_mgr.ConfKeyManager) def test_generate_hex_key(self): key_manager = self._create_key_manager() self.assertEqual(self._hex_key, key_manager._generate_hex_key())",,12,0
openstack%2Fnova~master~I9a45a705a39050b296936edc486db5c2f0aae4dc,openstack/nova,master,I9a45a705a39050b296936edc486db5c2f0aae4dc,Fix up import of conductor,MERGED,2014-04-17 02:06:27.000000000,2014-04-17 08:45:32.000000000,2014-04-17 08:45:29.000000000,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 9695}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-17 02:06:27.000000000', 'files': ['nova/objects/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5427630f735381569066815605c75bccd278def8', 'message': 'Fix up import of conductor\n\nNeed to import API from nova.conductor not from nova.conductor.api\ndirectly. This is needed so the is_local flag can be used to\ndetermine the conductor API to use (local or rpc)\n\nChange-Id: I9a45a705a39050b296936edc486db5c2f0aae4dc\nCloses-Bug: #1308811\n'}]",0,88123,5427630f735381569066815605c75bccd278def8,13,7,1,3031,,,0,"Fix up import of conductor

Need to import API from nova.conductor not from nova.conductor.api
directly. This is needed so the is_local flag can be used to
determine the conductor API to use (local or rpc)

Change-Id: I9a45a705a39050b296936edc486db5c2f0aae4dc
Closes-Bug: #1308811
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/88123/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/base.py'],1,5427630f735381569066815605c75bccd278def8,bugs/1308811, from nova import conductor self._conductor = conductor.API(), from nova.conductor import api as conductor_api self._conductor = conductor_api.API(),2,2
openstack%2Freviewday~master~Ic52f76543f819d9124e30d14626bfab352b91d4d,openstack/reviewday,master,Ic52f76543f819d9124e30d14626bfab352b91d4d,Add Trove-related projects,MERGED,2014-04-16 16:39:55.000000000,2014-04-17 08:43:01.000000000,2014-04-17 08:43:01.000000000,"[{'_account_id': 3}, {'_account_id': 6609}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-16 16:39:55.000000000', 'files': ['bin/reviewday'], 'web_link': 'https://opendev.org/openstack/reviewday/commit/70af56cf9b6580189f324ccb8b8f9abc71e8db07', 'message': 'Add Trove-related projects\n\nChange-Id: Ic52f76543f819d9124e30d14626bfab352b91d4d\n'}]",0,88022,70af56cf9b6580189f324ccb8b8f9abc71e8db07,8,3,1,9683,,,0,"Add Trove-related projects

Change-Id: Ic52f76543f819d9124e30d14626bfab352b91d4d
",git fetch https://review.opendev.org/openstack/reviewday refs/changes/22/88022/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/reviewday'],1,70af56cf9b6580189f324ccb8b8f9abc71e8db07,add_trove_projects," 'python-troveclient', 'trove', 'trove-integration',",,3,0
openstack%2Foperations-guide~master~I52a9bdaf638dc095a8744c2df3eded6cca1f2673,openstack/operations-guide,master,I52a9bdaf638dc095a8744c2df3eded6cca1f2673,Imported Translations from Transifex,MERGED,2014-04-17 06:21:13.000000000,2014-04-17 08:42:16.000000000,2014-04-17 08:42:16.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-17 06:21:13.000000000', 'files': ['doc/openstack-ops/locale/cs.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/311b69726eef135d7e8ebd403549b59a04994817', 'message': 'Imported Translations from Transifex\n\nChange-Id: I52a9bdaf638dc095a8744c2df3eded6cca1f2673\n'}]",0,88157,311b69726eef135d7e8ebd403549b59a04994817,8,3,1,11131,,,0,"Imported Translations from Transifex

Change-Id: I52a9bdaf638dc095a8744c2df3eded6cca1f2673
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/57/88157/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/locale/cs.po'],1,311b69726eef135d7e8ebd403549b59a04994817,transifex/translations,"""POT-Creation-Date: 2014-04-15 07:29+0000\n"" ""PO-Revision-Date: 2014-04-15 15:20+0000\n""msgstr ""DatabÃ¡ze""msgstr ""VLAN""msgstr ""ZÃ¡lohy databÃ¡ze""msgstr ""DatabÃ¡ze""","""POT-Creation-Date: 2014-04-14 06:48+0000\n"" ""PO-Revision-Date: 2014-04-14 18:40+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"",6,6
openstack%2Fnova~master~Ifc91c846cb4f48d821edf1cf637aeff793af40d9,openstack/nova,master,Ifc91c846cb4f48d821edf1cf637aeff793af40d9,Imported Translations from Transifex,MERGED,2014-04-14 06:13:46.000000000,2014-04-17 08:39:44.000000000,2014-04-17 08:39:41.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-14 06:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63d42302f81e4e7bbb79eee0b7c8e3aa3a5d5e99', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ifc91c846cb4f48d821edf1cf637aeff793af40d9\n'}, {'number': 2, 'created': '2014-04-15 06:14:30.000000000', 'files': ['nova/locale/is_IS/LC_MESSAGES/nova.po', 'nova/locale/hr/LC_MESSAGES/nova.po', 'nova/locale/pl_PL/LC_MESSAGES/nova.po', 'nova/locale/zh_HK/LC_MESSAGES/nova.po', 'nova/locale/pt_BR/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova.po', 'nova/locale/zh_TW/LC_MESSAGES/nova.po', 'nova/locale/fa/LC_MESSAGES/nova.po', 'nova/locale/pa_IN/LC_MESSAGES/nova.po', 'nova/locale/gl/LC_MESSAGES/nova.po', 'nova/locale/en_US/LC_MESSAGES/nova.po', 'nova/locale/id/LC_MESSAGES/nova.po', 'nova/locale/nb/LC_MESSAGES/nova.po', 'nova/locale/tl_PH/LC_MESSAGES/nova.po', 'nova/locale/nova.pot', 'nova/locale/ms/LC_MESSAGES/nova.po', 'nova/locale/bg_BG/LC_MESSAGES/nova.po', 'nova/locale/mr_IN/LC_MESSAGES/nova.po', 'nova/locale/en_AU/LC_MESSAGES/nova.po', 'nova/locale/ka_GE/LC_MESSAGES/nova.po', 'nova/locale/eu/LC_MESSAGES/nova.po', 'nova/locale/eu_ES/LC_MESSAGES/nova.po', 'nova/locale/cs/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova.po', 'nova/locale/ur/LC_MESSAGES/nova.po', 'nova/locale/pt/LC_MESSAGES/nova.po', 'nova/locale/sk/LC_MESSAGES/nova.po', 'nova/locale/it_IT/LC_MESSAGES/nova.po', 'nova/locale/ru_RU/LC_MESSAGES/nova.po', 'nova/locale/zh_CN/LC_MESSAGES/nova.po', 'nova/locale/he/LC_MESSAGES/nova.po', 'nova/locale/hu/LC_MESSAGES/nova.po', 'nova/locale/km/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/kn/LC_MESSAGES/nova.po', 'nova/locale/sq/LC_MESSAGES/nova.po', 'nova/locale/vi_VN/LC_MESSAGES/nova.po', 'nova/locale/ar/LC_MESSAGES/nova.po', 'nova/locale/tr/LC_MESSAGES/nova.po', 'nova/locale/fil/LC_MESSAGES/nova.po', 'nova/locale/da/LC_MESSAGES/nova.po', 'nova/locale/es_MX/LC_MESSAGES/nova.po', 'nova/locale/ru/LC_MESSAGES/nova.po', 'nova/locale/el/LC_MESSAGES/nova.po', 'nova/locale/ta/LC_MESSAGES/nova.po', 'nova/locale/he_IL/LC_MESSAGES/nova.po', 'nova/locale/en_GB/LC_MESSAGES/nova.po', 'nova/locale/bs/LC_MESSAGES/nova.po', 'nova/locale/nl_NL/LC_MESSAGES/nova.po', 'nova/locale/sv/LC_MESSAGES/nova.po', 'nova/locale/te_IN/LC_MESSAGES/nova.po', 'nova/locale/sw_KE/LC_MESSAGES/nova.po', 'nova/locale/hi/LC_MESSAGES/nova.po', 'nova/locale/sr/LC_MESSAGES/nova.po', 'nova/locale/ml_IN/LC_MESSAGES/nova.po', 'nova/locale/ca/LC_MESSAGES/nova.po', 'nova/locale/bn_IN/LC_MESSAGES/nova.po', 'nova/locale/ne/LC_MESSAGES/nova.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova.po', 'nova/locale/uk/LC_MESSAGES/nova.po', 'nova/locale/ro/LC_MESSAGES/nova.po', 'nova/locale/tr_TR/LC_MESSAGES/nova.po', 'nova/locale/ko/LC_MESSAGES/nova.po', 'nova/locale/tl/LC_MESSAGES/nova.po', 'nova/locale/de/LC_MESSAGES/nova.po', 'nova/locale/fi_FI/LC_MESSAGES/nova.po', 'nova/locale/sl_SI/LC_MESSAGES/nova.po'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e9ced05e17ca8580dc4ab00adb3bc2071653190', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ifc91c846cb4f48d821edf1cf637aeff793af40d9\n'}]",0,87164,2e9ced05e17ca8580dc4ab00adb3bc2071653190,35,6,2,3,,,0,"Imported Translations from Transifex

Change-Id: Ifc91c846cb4f48d821edf1cf637aeff793af40d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/87164/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/locale/is_IS/LC_MESSAGES/nova.po', 'nova/locale/hr/LC_MESSAGES/nova.po', 'nova/locale/pl_PL/LC_MESSAGES/nova.po', 'nova/locale/zh_HK/LC_MESSAGES/nova.po', 'nova/locale/pt_BR/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova.po', 'nova/locale/zh_TW/LC_MESSAGES/nova.po', 'nova/locale/fa/LC_MESSAGES/nova.po', 'nova/locale/pa_IN/LC_MESSAGES/nova.po', 'nova/locale/gl/LC_MESSAGES/nova.po', 'nova/locale/en_US/LC_MESSAGES/nova.po', 'nova/locale/id/LC_MESSAGES/nova.po', 'nova/locale/nb/LC_MESSAGES/nova.po', 'nova/locale/tl_PH/LC_MESSAGES/nova.po', 'nova/locale/nova.pot', 'nova/locale/ms/LC_MESSAGES/nova.po', 'nova/locale/bg_BG/LC_MESSAGES/nova.po', 'nova/locale/mr_IN/LC_MESSAGES/nova.po', 'nova/locale/en_AU/LC_MESSAGES/nova.po', 'nova/locale/ka_GE/LC_MESSAGES/nova.po', 'nova/locale/eu/LC_MESSAGES/nova.po', 'nova/locale/eu_ES/LC_MESSAGES/nova.po', 'nova/locale/cs/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova.po', 'nova/locale/ur/LC_MESSAGES/nova.po', 'nova/locale/pt/LC_MESSAGES/nova.po', 'nova/locale/sk/LC_MESSAGES/nova.po', 'nova/locale/it_IT/LC_MESSAGES/nova.po', 'nova/locale/ru_RU/LC_MESSAGES/nova.po', 'nova/locale/zh_CN/LC_MESSAGES/nova.po', 'nova/locale/he/LC_MESSAGES/nova.po', 'nova/locale/hu/LC_MESSAGES/nova.po', 'nova/locale/km/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/kn/LC_MESSAGES/nova.po', 'nova/locale/sq/LC_MESSAGES/nova.po', 'nova/locale/vi_VN/LC_MESSAGES/nova.po', 'nova/locale/ar/LC_MESSAGES/nova.po', 'nova/locale/tr/LC_MESSAGES/nova.po', 'nova/locale/fil/LC_MESSAGES/nova.po', 'nova/locale/da/LC_MESSAGES/nova.po', 'nova/locale/es_MX/LC_MESSAGES/nova.po', 'nova/locale/ru/LC_MESSAGES/nova.po', 'nova/locale/el/LC_MESSAGES/nova.po', 'nova/locale/ta/LC_MESSAGES/nova.po', 'nova/locale/he_IL/LC_MESSAGES/nova.po', 'nova/locale/en_GB/LC_MESSAGES/nova.po', 'nova/locale/bs/LC_MESSAGES/nova.po', 'nova/locale/nl_NL/LC_MESSAGES/nova.po', 'nova/locale/sv/LC_MESSAGES/nova.po', 'nova/locale/te_IN/LC_MESSAGES/nova.po', 'nova/locale/sw_KE/LC_MESSAGES/nova.po', 'nova/locale/hi/LC_MESSAGES/nova.po', 'nova/locale/sr/LC_MESSAGES/nova.po', 'nova/locale/ml_IN/LC_MESSAGES/nova.po', 'nova/locale/ca/LC_MESSAGES/nova.po', 'nova/locale/bn_IN/LC_MESSAGES/nova.po', 'nova/locale/ne/LC_MESSAGES/nova.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova.po', 'nova/locale/uk/LC_MESSAGES/nova.po', 'nova/locale/ro/LC_MESSAGES/nova.po', 'nova/locale/tr_TR/LC_MESSAGES/nova.po', 'nova/locale/ko/LC_MESSAGES/nova.po', 'nova/locale/tl/LC_MESSAGES/nova.po', 'nova/locale/de/LC_MESSAGES/nova.po', 'nova/locale/fi_FI/LC_MESSAGES/nova.po', 'nova/locale/sl_SI/LC_MESSAGES/nova.po']",68,63d42302f81e4e7bbb79eee0b7c8e3aa3a5d5e99,transifex/translations,"""POT-Creation-Date: 2014-04-14 06:11+0000\n""","""POT-Creation-Date: 2014-04-13 06:11+0000\n""",71,71
openstack%2Foslo-incubator~master~I1ab30ab99ec2564687ee166aa93aab32268e4c1d,openstack/oslo-incubator,master,I1ab30ab99ec2564687ee166aa93aab32268e4c1d,Drop dependency oslo.db from common.log,MERGED,2014-03-06 16:45:21.000000000,2014-04-17 08:38:20.000000000,2014-04-17 08:38:19.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-03-06 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d5b7e19493d5e5fa5691e5520ac0558660203b5c', 'message': 'Drop dependency oslo.db from common.log\n\nOpenstack common.log module registers a few oslo.config options,\nwhich possibly could cause of DuplicateOptError raising in case of use\nof both common.log and oslo.db in target projects.\nThus logging module from python standart library should be used.\n\nChange-Id: I1ab30ab99ec2564687ee166aa93aab32268e4c1d\nBlueprint: blueprint oslo-db-lib\n'}, {'number': 2, 'created': '2014-03-06 16:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1065f30af90980ec2a09204930ed049d6f6de899', 'message': 'Drop dependency oslo.db from common.log\n\nOpenstack common.log module registers a few oslo.config options,\nwhich possibly could cause of DuplicateOptError raising in case of use\nof both common.log and oslo.db in target projects.\nThus logging module from python standart library should be used.\n\nChange-Id: I1ab30ab99ec2564687ee166aa93aab32268e4c1d\nBlueprint: oslo-db-lib\n'}, {'number': 3, 'created': '2014-03-07 13:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7428bccbbca5acfee0e5604a0880df789aadf831', 'message': 'Drop dependency oslo.db from common.log\n\nOpenstack common.log module registers a few oslo.config options,\nwhich possibly could cause of DuplicateOptError raising in case of use\nof both common.log and oslo.db in target projects.\nThus logging module from python standart library should be used.\n\nChange-Id: I1ab30ab99ec2564687ee166aa93aab32268e4c1d\nBlueprint: oslo-db-lib\n'}, {'number': 4, 'created': '2014-04-15 15:05:23.000000000', 'files': ['tests/unit/db/sqlalchemy/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/5825976cbae77d1c93afdf5528ecd62bb40b1692', 'message': 'Drop dependency oslo.db from common.log\n\nOpenstack common.log module registers a few oslo.config options,\nwhich possibly could cause of DuplicateOptError raising in case of use\nof both common.log and oslo.db in target projects.\nThus logging module from python standart library should be used.\n\nChange-Id: I1ab30ab99ec2564687ee166aa93aab32268e4c1d\nBlueprint: oslo-db-lib\n'}]",4,78663,5825976cbae77d1c93afdf5528ecd62bb40b1692,37,6,4,7536,,,0,"Drop dependency oslo.db from common.log

Openstack common.log module registers a few oslo.config options,
which possibly could cause of DuplicateOptError raising in case of use
of both common.log and oslo.db in target projects.
Thus logging module from python standart library should be used.

Change-Id: I1ab30ab99ec2564687ee166aa93aab32268e4c1d
Blueprint: oslo-db-lib
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/63/78663/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/db/sqlalchemy/test_sqlalchemy.py'],1,d5b7e19493d5e5fa5691e5520ac0558660203b5c,bp/oslo-db-lib,"import loggingimport sixclass SetSQLModeTestCase(test.BaseTestCase): self.logger = logging.getLogger( 'openstack.common.db.sqlalchemy.session') self.stream = six.StringIO() handler = logging.StreamHandler self.handler = handler(self.stream) self.logger.addHandler(self.handler) self.addCleanup(self.logger.removeHandler, self.handler)",from openstack.common import logfrom tests.unit import test_logclass SetSQLModeTestCase(test_log.LogTestBase): self.logger = log.getLogger('openstack.common.db.sqlalchemy.session') self._add_handler_with_cleanup(self.logger),13,5
openstack%2Fopenstack-manuals~master~I6c7802e356c724e4b1b2d6beb976147d095cf9ed,openstack/openstack-manuals,master,I6c7802e356c724e4b1b2d6beb976147d095cf9ed,Fix icehouse page,MERGED,2014-04-17 05:31:17.000000000,2014-04-17 08:36:06.000000000,2014-04-17 08:36:05.000000000,"[{'_account_id': 3}, {'_account_id': 612}]","[{'number': 1, 'created': '2014-04-17 05:31:17.000000000', 'files': ['www/icehouse/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/05f1a8adac4416ed978bae2221579ca3346a6f1f', 'message': 'Fix icehouse page\n\nRemove Grizzly\nAdjust Havana title\nFix Icehouse title\n\nChange-Id: I6c7802e356c724e4b1b2d6beb976147d095cf9ed\n'}]",0,88142,05f1a8adac4416ed978bae2221579ca3346a6f1f,6,2,1,6547,,,0,"Fix icehouse page

Remove Grizzly
Adjust Havana title
Fix Icehouse title

Change-Id: I6c7802e356c724e4b1b2d6beb976147d095cf9ed
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/42/88142/1 && git format-patch -1 --stdout FETCH_HEAD,['www/icehouse/index.html'],1,05f1a8adac4416ed978bae2221579ca3346a6f1f,fix-icehouse, >Icehouse (current release)</a></li> >Havana</a></li>," >Havana (current release)</a></li> >Havana (current release)</a></li> <li class=""link""><a href=""/grizzly/"" title=""Go to the &quot;Grizzly&quot; page"" >Grizzly</a></li>",2,5
openstack%2Ftripleo-image-elements~master~I01f34c6869b60432cff115e46246cd526ec12a62,openstack/tripleo-image-elements,master,I01f34c6869b60432cff115e46246cd526ec12a62,Prevent stand-alone tftpd on Debian,MERGED,2014-04-11 10:09:26.000000000,2014-04-17 08:27:42.000000000,2014-04-17 08:27:42.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 7144}, {'_account_id': 7537}, {'_account_id': 7579}, {'_account_id': 8688}]","[{'number': 1, 'created': '2014-04-11 10:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/89d0ebdda7ff34de27cbf7486bac623774e04ea7', 'message': 'Prevent stand-along tftpd on Debian\n\nThe tftpd-hpa package includes a SysV startup script. Ensure\n(rather brutally) that this is turned off, to let xinetd get a\nlook-in.\n\nChange-Id: I01f34c6869b60432cff115e46246cd526ec12a62\n'}, {'number': 2, 'created': '2014-04-14 11:25:24.000000000', 'files': ['elements/nova-baremetal/install.d/80-pxelinux'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/54a3122bca99acaf5f8e2b07b85d6b006d7eb06c', 'message': 'Prevent stand-alone tftpd on Debian\n\nThe tftpd-hpa package includes a SysV startup script. Ensure\n(rather brutally) that this is turned off, to let xinetd get a\nlook-in.\n\nChange-Id: I01f34c6869b60432cff115e46246cd526ec12a62\n'}]",4,86847,54a3122bca99acaf5f8e2b07b85d6b006d7eb06c,21,7,2,7579,,,0,"Prevent stand-alone tftpd on Debian

The tftpd-hpa package includes a SysV startup script. Ensure
(rather brutally) that this is turned off, to let xinetd get a
look-in.

Change-Id: I01f34c6869b60432cff115e46246cd526ec12a62
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/47/86847/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova-baremetal/install.d/80-pxelinux'],1,89d0ebdda7ff34de27cbf7486bac623774e04ea7,fix/debian-tftp-config,# Disable the tftpd-hpa SysV script for the same reason [ -f /etc/init.d/tftpd-hpa ] && rm -f /etc/init.d/tftpd-hpa ,,3,0
openstack%2Ftripleo-image-elements~master~I3553ba27a18ec64a710168f0026fb8dd2aaed45f,openstack/tripleo-image-elements,master,I3553ba27a18ec64a710168f0026fb8dd2aaed45f,Read default_ephemeral_format from nova.conf,MERGED,2014-04-03 10:09:11.000000000,2014-04-17 08:27:05.000000000,2014-04-17 08:27:04.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6488}, {'_account_id': 6896}, {'_account_id': 6928}, {'_account_id': 6969}, {'_account_id': 7133}, {'_account_id': 8153}, {'_account_id': 8688}, {'_account_id': 9420}, {'_account_id': 10373}]","[{'number': 1, 'created': '2014-04-03 10:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bce2fc5d49bd850c7abe9ff63b32a0b320b26b19', 'message': 'Read default_ephemeral_format from nova.conf\n\nChange-Id: I3553ba27a18ec64a710168f0026fb8dd2aaed45f\nFixes-Bug: #1301841\n'}, {'number': 2, 'created': '2014-04-03 10:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/47604e5dfc888e45cc283ddb446c0d17201aa8c3', 'message': 'Read default_ephemeral_format from nova.conf\n\nChange-Id: I3553ba27a18ec64a710168f0026fb8dd2aaed45f\nCloses-Bug: #1301841\n'}, {'number': 3, 'created': '2014-04-03 14:18:13.000000000', 'files': ['elements/nova/os-apply-config/etc/nova/nova.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a151afce9b8968550a7e67940d01977aa84dda14', 'message': 'Read default_ephemeral_format from nova.conf\n\nCurrently the default_ephemeral_format is coming through as\nblank as the existing reference has no parent dict, so is not\nbeing retrieved.\n\nChange-Id: I3553ba27a18ec64a710168f0026fb8dd2aaed45f\nCloses-Bug: #1301841\n'}]",0,84979,a151afce9b8968550a7e67940d01977aa84dda14,34,11,3,7133,,,0,"Read default_ephemeral_format from nova.conf

Currently the default_ephemeral_format is coming through as
blank as the existing reference has no parent dict, so is not
being retrieved.

Change-Id: I3553ba27a18ec64a710168f0026fb8dd2aaed45f
Closes-Bug: #1301841
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/79/84979/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova/os-apply-config/etc/nova/nova.conf'],1,bce2fc5d49bd850c7abe9ff63b32a0b320b26b19,fix/default_ephemeral_format,default_ephemeral_format={{.}},default_ephemeral_format={{default_ephemeral_format}},1,1
openstack%2Fopenstack-doc-tools~master~I9972a690c6c714fbe028b47ff1da2884d058282b,openstack/openstack-doc-tools,master,I9972a690c6c714fbe028b47ff1da2884d058282b,Handle www pages properly when publishing,MERGED,2014-04-17 03:20:10.000000000,2014-04-17 08:25:43.000000000,2014-04-17 08:25:43.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-17 03:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/47538f8916ae20cfe752ff00e797354cd25e4ce2', 'message': 'Handle www pages properly when publishing\n\nwww is copied to publish-dir/www but this is not desired when publishing\nfor our external website - only for drafts.\n\nAdd option --publish for publishing to external website\nthat does not copy www over and also always builds manuals.\n\nChange-Id: I9972a690c6c714fbe028b47ff1da2884d058282b\n'}, {'number': 2, 'created': '2014-04-17 05:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/5fe8a97a3dafe8d2a4f789b2644c730686317f96', 'message': 'Handle www pages properly when publishing\n\nwww is copied to publish-dir/www but this is not desired when publishing\nfor our external website - only for drafts.\n\nAdd option --publish for publishing to external website\nthat does not copy www over and also always builds manuals.\n\nChange-Id: I9972a690c6c714fbe028b47ff1da2884d058282b\n'}, {'number': 3, 'created': '2014-04-17 05:34:54.000000000', 'files': ['os_doc_tools/doctest.py', 'doc/source/man/openstack-doc-test.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/cbd65025c9b5954a3d48d9eadf5a2c8df865bec7', 'message': 'Handle www pages properly when publishing\n\nwww is copied to publish-dir/www but this is not desired when publishing\nfor our external website - only for drafts.\n\nAdd option --publish for publishing to external website\nthat does not copy www over and also always builds manuals.\n\nChange-Id: I9972a690c6c714fbe028b47ff1da2884d058282b\n'}]",1,88129,cbd65025c9b5954a3d48d9eadf5a2c8df865bec7,13,3,3,6547,,,0,"Handle www pages properly when publishing

www is copied to publish-dir/www but this is not desired when publishing
for our external website - only for drafts.

Add option --publish for publishing to external website
that does not copy www over and also always builds manuals.

Change-Id: I9972a690c6c714fbe028b47ff1da2884d058282b
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/29/88129/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_doc_tools/doctest.py', 'doc/source/man/openstack-doc-test.rst', 'README.rst']",3,47538f8916ae20cfe752ff00e797354cd25e4ce2,fix-www,0.11 ---- * Add ``--publish`` option to ``openstack-doc-test`` that does not publish the www directory to the wrong location. * Improvements for generation of option tables. ,,37,2
openstack%2Fopenstack-doc-tools~master~I10c0177041f3e122d1a3c10da952352c8db54566,openstack/openstack-doc-tools,master,I10c0177041f3e122d1a3c10da952352c8db54566,Keystone 0.8 is recent,MERGED,2014-04-17 07:00:22.000000000,2014-04-17 08:18:45.000000000,2014-04-17 08:18:45.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-17 07:00:22.000000000', 'files': ['client-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/53f0b0e0e76445d3615f5437d366b6d656ec4f11', 'message': 'Keystone 0.8 is recent\n\nChange-Id: I10c0177041f3e122d1a3c10da952352c8db54566\n'}]",0,88178,53f0b0e0e76445d3615f5437d366b6d656ec4f11,6,2,1,6547,,,0,"Keystone 0.8 is recent

Change-Id: I10c0177041f3e122d1a3c10da952352c8db54566
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/78/88178/1 && git format-patch -1 --stdout FETCH_HEAD,['client-requirements.txt'],1,53f0b0e0e76445d3615f5437d366b6d656ec4f11,keystone0.8,python-keystoneclient >= 0.8,python-keystoneclient >= 0.7.1,1,1
openstack%2Ffuel-library~stable%2F4.1~I2ad74b743561d21bb8e522c0648d26d93348657e,openstack/fuel-library,stable/4.1,I2ad74b743561d21bb8e522c0648d26d93348657e,Fix RGW endpoint port,ABANDONED,2014-04-15 11:38:14.000000000,2014-04-17 08:07:26.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 11:38:14.000000000', 'files': ['deployment/puppet/ceph/manifests/init.pp', 'deployment/puppet/ceph/manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/be83ccef324d187b2f300c3d07d56be672845af3', 'message': 'Fix RGW endpoint port\n\nChange RGW endpoint port registered in keystone\nto 8080 as this is the real port on which\nhaproxy is listening.\n\nPreviously, until https://review.openstack.org/#/c/85195/\nwas merged, RGW was working because virtual IP was located\non one of the controllers and apache proxying RGW fastcgi\napplication was answering on 6780 port. Currently, VIP moved\ninto namespace and 6780 is no longer available.\n\nChange-Id: I2ad74b743561d21bb8e522c0648d26d93348657e\nCloses-Bug: #1307508\n'}]",7,87552,be83ccef324d187b2f300c3d07d56be672845af3,13,6,1,8786,,,0,"Fix RGW endpoint port

Change RGW endpoint port registered in keystone
to 8080 as this is the real port on which
haproxy is listening.

Previously, until https://review.openstack.org/#/c/85195/
was merged, RGW was working because virtual IP was located
on one of the controllers and apache proxying RGW fastcgi
application was answering on 6780 port. Currently, VIP moved
into namespace and 6780 is no longer available.

Change-Id: I2ad74b743561d21bb8e522c0648d26d93348657e
Closes-Bug: #1307508
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/52/87552/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/ceph/manifests/init.pp', 'deployment/puppet/ceph/manifests/keystone.pp']",2,be83ccef324d187b2f300c3d07d56be672845af3,stable/4.1," $rgw_endpoint_port = $::ceph::rgw_endpoint_port, public_url => ""http://${pub_ip}:${rgw_endpoint_port}/swift/v1"", admin_url => ""http://${adm_ip}:${rgw_endpoint_port}/swift/v1"", internal_url => ""http://${int_ip}:${rgw_endpoint_port}/swift/v1"","," $rgw_port = $::ceph::rgw_port, public_url => ""http://${pub_ip}:${rgw_port}/swift/v1"", admin_url => ""http://${adm_ip}:${rgw_port}/swift/v1"", internal_url => ""http://${int_ip}:${rgw_port}/swift/v1"",",5,4
openstack%2Fdiskimage-builder~master~I888304cb9167b8e074b04ca6c5b2f9143b70d37d,openstack/diskimage-builder,master,I888304cb9167b8e074b04ca6c5b2f9143b70d37d,Fix Grub configurations for Fedora images built on a UEFI host.,MERGED,2014-03-27 11:08:14.000000000,2014-04-17 07:48:06.000000000,2014-04-17 07:48:06.000000000,"[{'_account_id': 3}, {'_account_id': 3068}, {'_account_id': 7582}, {'_account_id': 9268}, {'_account_id': 10375}]","[{'number': 1, 'created': '2014-03-27 11:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4a830991c6a1aafbcf7d036bbe5717a873c343e1', 'message': 'Fix Grub configurations for Fedora images built on a UEFI host.\n\nThe grub install scripts on Fedora have hardcoded checks for\n/sys/firmware/efi and if the directory exists, it uses efi\nspecific instruction like initrdefi, linuxefi etc. vm element\nshould fix it once the configuration is generated.\n\nCloses-bug: #1231946\nChange-Id: I888304cb9167b8e074b04ca6c5b2f9143b70d37d\n'}, {'number': 3, 'created': '2014-03-28 06:54:31.000000000', 'files': ['elements/vm/finalise.d/51-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/50d1e09df10e4bfcbd21e111a4450b4a4a83240c', 'message': 'Fix Grub configurations for Fedora images built on a UEFI host.\n\nThe grub install scripts on Fedora have hardcoded checks for\n/sys/firmware/efi and if the directory exists, it uses efi\nspecific instruction like initrdefi, linuxefi etc. vm element\nshould fix it once the configuration is generated.\n\nCloses-bug: #1231946\nChange-Id: I888304cb9167b8e074b04ca6c5b2f9143b70d37d\n'}, {'number': 2, 'created': '2014-03-28 06:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb2a33b2683ab3343d78f0e73176fb2e096b0fa6', 'message': 'Fix Grub configurations for Fedora images built on a UEFI host.\n\nThe grub install scripts on Fedora have hardcoded checks for\n/sys/firmware/efi and if the directory exists, it uses efi\nspecific instruction like initrdefi, linuxefi etc. vm element\nshould fix it once the configuration is generated.\n\nCloses-bug: #1231946\nChange-Id: I888304cb9167b8e074b04ca6c5b2f9143b70d37d\n'}]",2,83342,50d1e09df10e4bfcbd21e111a4450b4a4a83240c,47,5,3,10375,,,0,"Fix Grub configurations for Fedora images built on a UEFI host.

The grub install scripts on Fedora have hardcoded checks for
/sys/firmware/efi and if the directory exists, it uses efi
specific instruction like initrdefi, linuxefi etc. vm element
should fix it once the configuration is generated.

Closes-bug: #1231946
Change-Id: I888304cb9167b8e074b04ca6c5b2f9143b70d37d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/42/83342/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/vm/finalise.d/51-bootloader'],1,4a830991c6a1aafbcf7d036bbe5717a873c343e1,bug/1231946, # Fix efi specific instructions in grub config file if [ -d /sys/firmware/efi ]; then sed -i 's%\(\(initrd\)\|\(linux\)\)efi /boot%\1 /boot%g' $GRUB_CFG fi,,4,0
openstack%2Fneutron~master~Ib0b1abf7d11627045be922f79aff6b80448ccbf4,openstack/neutron,master,Ib0b1abf7d11627045be922f79aff6b80448ccbf4,Remove workaround for bug #1219530,MERGED,2014-04-07 15:57:20.000000000,2014-04-17 07:35:36.000000000,2014-04-17 07:35:35.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 708}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7183}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-04-07 15:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0fe785df461e86be8ccf7f839ebb197466c4522', 'message': 'Remove workaround for bug #1219530\n\nBug #1219530 has been fixed before Havana. We can remove this workaround.\n\nChange-Id: Ib0b1abf7d11627045be922f79aff6b80448ccbf4\n'}, {'number': 2, 'created': '2014-04-14 12:07:20.000000000', 'files': ['neutron/agent/linux/ovsdb_monitor.py', 'neutron/tests/unit/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/53e784d27eafe848593467d4d598305f34030848', 'message': 'Remove workaround for bug #1219530\n\nBug #1219530 has been fixed before Havana. We can remove this workaround.\n\nCloses-Bug: #1307472\nChange-Id: Ib0b1abf7d11627045be922f79aff6b80448ccbf4\n'}]",4,85747,53e784d27eafe848593467d4d598305f34030848,62,17,2,708,,,0,"Remove workaround for bug #1219530

Bug #1219530 has been fixed before Havana. We can remove this workaround.

Closes-Bug: #1307472
Change-Id: Ib0b1abf7d11627045be922f79aff6b80448ccbf4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/85747/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ovsdb_monitor.py', 'neutron/tests/unit/agent/linux/test_ovsdb_monitor.py']",2,c0fe785df461e86be8ccf7f839ebb197466c4522,bug/1219530,," def test__read_stdout_queues_root_wrapper_errors_to_stderr_output(self): result = self.read_output_queues_and_returns_result('stdout', self.root_helper) self.assertIsNone(result) self.assertEqual(self.monitor._stderr_lines.get_nowait(), self.root_helper) ",3,17
openstack%2Factivity-board~master~I394c70a8b7d517e20a71094527e766a2e56b3958,openstack/activity-board,master,I394c70a8b7d517e20a71094527e766a2e56b3958,Fix error with datasources.html,MERGED,2014-04-17 01:37:26.000000000,2014-04-17 07:23:18.000000000,2014-04-17 07:23:18.000000000,"[{'_account_id': 3}, {'_account_id': 287}, {'_account_id': 9695}]","[{'number': 1, 'created': '2014-04-17 01:37:26.000000000', 'files': ['vizgrimoire.min.js', 'browser/data-sources.html'], 'web_link': 'https://opendev.org/openstack/activity-board/commit/2a866b2c2c90c251cee5928f9ec6a5fad9249e7a', 'message': 'Fix error with datasources.html\n\nAdd the HTML page and fix an error with the JS library which\ndisplayed the name of unavailable data sources in the table\n\nChange-Id: I394c70a8b7d517e20a71094527e766a2e56b3958\n'}]",0,88116,2a866b2c2c90c251cee5928f9ec6a5fad9249e7a,7,3,1,8710,,,0,"Fix error with datasources.html

Add the HTML page and fix an error with the JS library which
displayed the name of unavailable data sources in the table

Change-Id: I394c70a8b7d517e20a71094527e766a2e56b3958
",git fetch https://review.opendev.org/openstack/activity-board refs/changes/16/88116/1 && git format-patch -1 --stdout FETCH_HEAD,"['vizgrimoire.min.js', 'browser/data-sources.html']",2,2a866b2c2c90c251cee5928f9ec6a5fad9249e7a,datasources-page-fix,"<!DOCTYPE html> <html lang=""en""> <head> <meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"" /> <meta charset=""utf-8"" /> <title></title> <meta name=""viewport"" content=""width=device-width, initial-scale=1.0"" /> <link rel=""stylesheet"" type=""text/css"" id=""theme"" href=""VizGrimoireJS/vizgrimoire.css"" /> <link href=""VizGrimoireJS/bootstrap/css/bootstrap.css"" rel=""stylesheet"" /> <link rel=""stylesheet"" type=""text/css"" href=""custom.css"" /> <link href=""VizGrimoireJS/bootstrap/css/bootstrap-responsive.css"" rel=""stylesheet"" /> <link rel=""shortcut icon"" href=""favicon.png"" /> <link rel=""stylesheet"" href=""VizGrimoireJS/awesome/css/font-awesome.min.css""> </head> <body> <div class=""container-narrow""> <div id=""Navbar""></div> <!-- summary bar --> <div class=""capped-box overall-summary ""> <div class=""stats-switcher-viewport js-stats-switcher-viewport""> <ul class=""numbers-summary""> <li><a href=""scm.html""><span class=""GlobalData"" data-data-source=""scm"" data-field=""scm_commits""></span></a> commits</li> <li><a href=""scm.html""><span class=""GlobalData"" data-data-source=""scm"" data-field=""scm_authors""></span></a> developers </li> <li><a href=""its.html""><span class=""GlobalData"" data-data-source=""its"" data-field=""its_opened""></span></a> tickets</li> <li><a href=""mls.html""><span class=""GlobalData"" data-data-source=""mls"" data-field=""mls_sent""></span></a> mail messages </li> </ul> </div> </div> <!-- end of summary bar --> <div class=""row-fluid""> </div> <div class=""row-fluid""> <div class=""span6""> <div class=""DataSourcesTable""></div> </div> <div class=""span6""> <div class=""well well-lg""> <p>Our main concern as a company is <strong>to provide products and services as transparent as possible, generating a trustable relationship with our costumers</strong>. Therefore, if you find any inconsistencies in the data, or have any other kind of feedback, please let us know by contacting us.</p> <p><strong>Thanks</strong> for your interest and support!</p> </div> <p>Get here the <a href=""data/db"">MySQL database dumps</a> with the complete datasets retrievied using the <a href=""#""><i class=""fa fa-external-link""></i> Metrics Grimoire Tools</a></p> <p>You can also download the <a href=""data/json"">JSON files</a> (<a href=""data/json.tgz"">archive</a>) used to display the information shown on this dashboard</p> </div> </div> <footer> <div id=""Footer""></div> </footer> </div> <script type=""text/javascript"" src=""VizGrimoireJS/lib/jquery-1.7.1.min.js""></script> <script type=""text/javascript"" src=""VizGrimoireJS/bootstrap/js/bootstrap.js""></script> <script type=""text/javascript"" src=""VizGrimoireJS/vizgrimoire.min.js""></script> </body> </html> ",,80,2
openstack%2Fnova~master~Iaefded32d90ca2a7c414c645a2fa2cf0c7da1762,openstack/nova,master,Iaefded32d90ca2a7c414c645a2fa2cf0c7da1762,Fix fping utility default path of Nova,ABANDONED,2014-04-15 09:15:37.000000000,2014-04-17 06:42:58.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 1812}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5689}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-15 09:15:37.000000000', 'files': ['nova/api/openstack/compute/contrib/fping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c94957ebb1e39a7848698d08dc6c25539988e716', 'message': ""Fix fping utility default path of Nova\n\nfping package introduced by Ibdc7479a9038321e4fc3953774a6f3e1dac90530 .\nBut there is difference between Nova's default fping path and Ubuntu\npackage path. So we can't still use os-fping API in Ubuntu. This commit\nfixes default fping_path.\n\nChange-Id: Iaefded32d90ca2a7c414c645a2fa2cf0c7da1762\nCloses-Bug: #1306390\n""}]",0,87504,c94957ebb1e39a7848698d08dc6c25539988e716,12,9,1,5689,,,0,"Fix fping utility default path of Nova

fping package introduced by Ibdc7479a9038321e4fc3953774a6f3e1dac90530 .
But there is difference between Nova's default fping path and Ubuntu
package path. So we can't still use os-fping API in Ubuntu. This commit
fixes default fping_path.

Change-Id: Iaefded32d90ca2a7c414c645a2fa2cf0c7da1762
Closes-Bug: #1306390
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/87504/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/fping.py'],1,c94957ebb1e39a7848698d08dc6c25539988e716,fix-fping-path," default=""/usr/bin/fping"","," default=""/usr/sbin/fping"",",1,1
openstack%2Fmistral~master~I25c1b0581b17ca5c3e419b260a5bcc0e3c938ec5,openstack/mistral,master,I25c1b0581b17ca5c3e419b260a5bcc0e3c938ec5,Fixing http action and abstract engine,MERGED,2014-04-15 11:01:40.000000000,2014-04-17 06:31:01.000000000,2014-04-17 06:31:01.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}, {'_account_id': 10126}, {'_account_id': 10127}]","[{'number': 1, 'created': '2014-04-15 11:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b6851acceae58a22162f7178f4a52227b36ebabc', 'message': ""Fixing http action and abstract engine\n\n* Fixed wrong transformation of 'data' parameter in HTTPAction\n* Small fix in abstract_engine.py related to adhoc acitons\n\nChange-Id: I25c1b0581b17ca5c3e419b260a5bcc0e3c938ec5\n""}, {'number': 2, 'created': '2014-04-16 09:21:46.000000000', 'files': ['mistral/engine/abstract_engine.py', 'mistral/tests/unit/actions/test_action_factory.py', 'mistral/actions/std_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1d45c508dd932b3c031cea02b242a427eb5ce99b', 'message': ""Fixing http action and abstract engine\n\n* Fixed defaults for parameter 'data' in HTTPAction and MistralHTTPAction\n* Small fix in abstract_engine.py related to adhoc acitons\n\nChange-Id: I25c1b0581b17ca5c3e419b260a5bcc0e3c938ec5\n""}]",5,87541,1d45c508dd932b3c031cea02b242a427eb5ce99b,19,8,2,8731,,,0,"Fixing http action and abstract engine

* Fixed defaults for parameter 'data' in HTTPAction and MistralHTTPAction
* Small fix in abstract_engine.py related to adhoc acitons

Change-Id: I25c1b0581b17ca5c3e419b260a5bcc0e3c938ec5
",git fetch https://review.opendev.org/openstack/mistral refs/changes/41/87541/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/abstract_engine.py', 'mistral/actions/std_actions.py', 'mistral/tests/unit/actions/test_action_factory.py']",3,b6851acceae58a22162f7178f4a52227b36ebabc,fix_http_action_and_abstract_engine," self.assertDictEqual(task_params['body'], action.body) self.assertDictEqual(task_params['body'], action.body)","import json self.assertDictEqual(task_params['body'], json.loads(action.body)) self.assertDictEqual(task_params['body'], json.loads(action.body))",10,9
openstack%2Ffuel-web~master~I205b82e81d9dabda4f7d29694090270daa078a31,openstack/fuel-web,master,I205b82e81d9dabda4f7d29694090270daa078a31,Remove logs Releases from UI,MERGED,2014-04-10 09:43:25.000000000,2014-04-17 06:30:24.000000000,2014-04-17 06:30:24.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8392}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-10 09:43:25.000000000', 'files': ['nailgun/nailgun/settings.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bb88c430ac41e76ce2b827b4729b72a36c054e80', 'message': 'Remove logs Releases from UI\n\nCloses-bug #1299048\n\nChange-Id: I205b82e81d9dabda4f7d29694090270daa078a31\n'}]",0,86541,bb88c430ac41e76ce2b827b4729b72a36c054e80,13,4,1,1736,,,0,"Remove logs Releases from UI

Closes-bug #1299048

Change-Id: I205b82e81d9dabda4f7d29694090270daa078a31
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/41/86541/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/settings.yaml'],1,bb88c430ac41e76ce2b827b4729b72a36c054e80,bug/1299048,," - id: puppet name: ""Releases"" <<: *local_log_type <<: *remote_syslog_log_format path: ""/var/log/puppet/agent.log""",0,5
openstack%2Fpython-swiftclient~master~I69e986b7387dd3ac281731b8355a3eec34a537f8,openstack/python-swiftclient,master,I69e986b7387dd3ac281731b8355a3eec34a537f8,Makes use of requests.Session,MERGED,2014-02-18 17:18:15.000000000,2014-04-17 06:27:42.000000000,2014-04-17 06:27:42.000000000,"[{'_account_id': 3}, {'_account_id': 917}, {'_account_id': 2622}, {'_account_id': 7680}, {'_account_id': 9311}]","[{'number': 1, 'created': '2014-02-18 17:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/979d075a1330121f709077f7b629db0c83e58311', 'message': 'Makes use of requests.Session\n\nThis may allow better connection pooling. WIP\n\nChange-Id: I69e986b7387dd3ac281731b8355a3eec34a537f8\n'}, {'number': 2, 'created': '2014-04-16 16:01:38.000000000', 'files': ['swiftclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/fa20e7f6850a4793f8fb18400263269c24eda2ed', 'message': 'Makes use of requests.Session\n\nThis allows better connection pooling and may improve performances.\n\nChange-Id: I69e986b7387dd3ac281731b8355a3eec34a537f8\n'}]",0,74444,fa20e7f6850a4793f8fb18400263269c24eda2ed,23,5,2,9311,,,0,"Makes use of requests.Session

This allows better connection pooling and may improve performances.

Change-Id: I69e986b7387dd3ac281731b8355a3eec34a537f8
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/44/74444/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/client.py'],1,979d075a1330121f709077f7b629db0c83e58311,optim-requests-sessions," self.request_session = requests.Session() return self.request_session.request(*arg, **kwarg)"," return requests.request(*arg, **kwarg)",2,1
openstack%2Fpython-keystoneclient~master~I05d2632b4c8290c2b1015996769340f0bea16f93,openstack/python-keystoneclient,master,I05d2632b4c8290c2b1015996769340f0bea16f93,Create a V3 Token Generator,MERGED,2014-03-07 06:48:55.000000000,2014-04-17 06:27:35.000000000,2014-04-17 06:27:35.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-03-07 06:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f131ff2f5c4e85c83ace337de0ad39d8646d9ab3', 'message': 'Create a V3 Token Generator\n\nChange-Id: I05d2632b4c8290c2b1015996769340f0bea16f93\nblueprint: share-tokens\n'}, {'number': 2, 'created': '2014-03-07 06:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/495e507e7550747082189261d3cb5432c1b3b3a3', 'message': 'Create a V3 Token Generator\n\nChange-Id: I05d2632b4c8290c2b1015996769340f0bea16f93\nblueprint: share-tokens\n'}, {'number': 3, 'created': '2014-03-13 23:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/319b9210c4d6c23164d4878c294de2fb15073e5e', 'message': 'Create a V3 Token Generator\n\nChange-Id: I05d2632b4c8290c2b1015996769340f0bea16f93\nblueprint: share-tokens\n'}, {'number': 4, 'created': '2014-04-04 02:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/521bb958ba2ee693a27e9c2e38ec1856ec88e91e', 'message': 'Create a V3 Token Generator\n\nChange-Id: I05d2632b4c8290c2b1015996769340f0bea16f93\nblueprint: share-tokens\n'}, {'number': 5, 'created': '2014-04-14 02:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/70d6b0af8d0cefe1fe51384c0adc0dd83ad6c90f', 'message': 'Create a V3 Token Generator\n\nChange-Id: I05d2632b4c8290c2b1015996769340f0bea16f93\nblueprint: share-tokens\n'}, {'number': 6, 'created': '2014-04-16 21:12:19.000000000', 'files': ['keystoneclient/tests/v3/test_access.py', 'keystoneclient/fixture/v3.py', 'keystoneclient/tests/v3/test_service_catalog.py', 'keystoneclient/fixture/__init__.py', 'keystoneclient/tests/v3/client_fixtures.py', 'keystoneclient/tests/v3/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ee49824fe70244977e8d5a9af36590fb7edbe59d', 'message': 'Create a V3 Token Generator\n\nA token generator that can be used by other clients to generate\nconsistent tokens in there test code.\n\nChange-Id: I05d2632b4c8290c2b1015996769340f0bea16f93\nblueprint: share-tokens\n'}]",34,78878,ee49824fe70244977e8d5a9af36590fb7edbe59d,44,7,6,7191,,,0,"Create a V3 Token Generator

A token generator that can be used by other clients to generate
consistent tokens in there test code.

Change-Id: I05d2632b4c8290c2b1015996769340f0bea16f93
blueprint: share-tokens
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/78/78878/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/v3/test_access.py', 'keystoneclient/fixture/v3.py', 'keystoneclient/tests/v3/test_service_catalog.py', 'keystoneclient/fixture/__init__.py', 'keystoneclient/tests/v3/client_fixtures.py', 'keystoneclient/tests/v3/test_client.py']",6,f131ff2f5c4e85c83ace337de0ad39d8646d9ab3,bp/share-tokens," self.stub_auth(json=client_fixtures.unscoped_token()) self.stub_auth(json=client_fixtures.domain_scoped_token()) self.stub_auth(json=client_fixtures.project_scoped_token()), self.stub_auth(json=client_fixtures.project_scoped_token()) self.stub_auth(json=client_fixtures.project_scoped_token()) self.stub_auth(json=client_fixtures.project_scoped_token(), self.stub_auth(json=client_fixtures.trust_token()) self._management_url_is_updated(client_fixtures.project_scoped_token(), self._management_url_is_updated(client_fixtures.domain_scoped_token(), self.stub_auth(json=client_fixtures.auth_response_body())"," self.stub_auth(json=client_fixtures.UNSCOPED_TOKEN) self.stub_auth(json=client_fixtures.DOMAIN_SCOPED_TOKEN) self.stub_auth(json=client_fixtures.PROJECT_SCOPED_TOKEN), self.stub_auth(json=client_fixtures.PROJECT_SCOPED_TOKEN) self.stub_auth(json=client_fixtures.PROJECT_SCOPED_TOKEN) self.stub_auth(json=client_fixtures.PROJECT_SCOPED_TOKEN, self.stub_auth(json=client_fixtures.TRUST_TOKEN) self._management_url_is_updated(client_fixtures.PROJECT_SCOPED_TOKEN, self._management_url_is_updated(client_fixtures.DOMAIN_SCOPED_TOKEN, self.stub_auth(json=client_fixtures.AUTH_RESPONSE_BODY)",477,419
openstack%2Fpython-keystoneclient~master~Ib01d1072acff0d6ede468b0ecab4f871459014ee,openstack/python-keystoneclient,master,Ib01d1072acff0d6ede468b0ecab4f871459014ee,CLI always configures logging,MERGED,2014-04-16 22:11:02.000000000,2014-04-17 06:27:32.000000000,2014-04-17 06:27:32.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 9695}]","[{'number': 1, 'created': '2014-04-16 22:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/91630e8f101cb4bf8a76851fdb3450bf67bd3a8d', 'message': ""Always configure logging\n\nWhen the keystone CLI wound up logging something and --debug\nwasn't set, a message was printed that 'No handlers could be\nfound for logger <whatever>'. This is because Python logging\nwas only configured when the --debug option was set.\n\nThis change makes it so that logging is always configured. If\n--debug is used then the level is DEBUG and if it's not used\nthen the level is WARNING.\n\nChange-Id: Ib01d1072acff0d6ede468b0ecab4f871459014ee\nCloses-Bug: #1308739\n""}, {'number': 2, 'created': '2014-04-17 01:05:51.000000000', 'files': ['keystoneclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/59daf4bf02b60a523d7f68004b75316086e91d2a', 'message': ""CLI always configures logging\n\nWhen the keystone CLI wound up logging something and --debug\nwasn't set, a message was printed that 'No handlers could be\nfound for logger <whatever>'. This is because Python logging\nwas only configured when the --debug option was set.\n\nThis change makes it so that logging is always configured. If\n--debug is used then the level is DEBUG and if it's not used\nthen the level is WARNING.\n\nChange-Id: Ib01d1072acff0d6ede468b0ecab4f871459014ee\nCloses-Bug: #936404\n""}]",1,88097,59daf4bf02b60a523d7f68004b75316086e91d2a,13,6,2,6486,,,0,"CLI always configures logging

When the keystone CLI wound up logging something and --debug
wasn't set, a message was printed that 'No handlers could be
found for logger <whatever>'. This is because Python logging
was only configured when the --debug option was set.

This change makes it so that logging is always configured. If
--debug is used then the level is DEBUG and if it's not used
then the level is WARNING.

Change-Id: Ib01d1072acff0d6ede468b0ecab4f871459014ee
Closes-Bug: #936404
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/97/88097/2 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/shell.py'],1,91630e8f101cb4bf8a76851fdb3450bf67bd3a8d,bug/936404, logging_level = logging.DEBUG else: logging_level = logging.WARNING logging.basicConfig(level=logging_level), logging.basicConfig(level=logging.DEBUG),5,1
openstack%2Ftempest~master~I0cfd9c10c1fd5b674c1a2211f98a6aba042227da,openstack/tempest,master,I0cfd9c10c1fd5b674c1a2211f98a6aba042227da,skip test_stack_update_add_remove because of race,MERGED,2014-04-16 18:55:30.000000000,2014-04-17 06:27:24.000000000,2014-04-17 06:27:23.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-16 18:55:30.000000000', 'files': ['tempest/api/orchestration/stacks/test_update.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ef007a7cadd509fbb628bb39fb0d8f735ecde0a', 'message': ""skip test_stack_update_add_remove because of race\n\ntest_stack_update_add_remove races about 25% of the time in the\ngate because the update is eventually consistent, and doesn't\nhappen before the list returns. It's unclear if this is\nexpected or unexpected behavior for heat, but 25% failure rate\nis far too high.\n\nChange-Id: I0cfd9c10c1fd5b674c1a2211f98a6aba042227da\nRelated-Bug: #1308682\n""}]",0,88056,0ef007a7cadd509fbb628bb39fb0d8f735ecde0a,15,5,1,2750,,,0,"skip test_stack_update_add_remove because of race

test_stack_update_add_remove races about 25% of the time in the
gate because the update is eventually consistent, and doesn't
happen before the list returns. It's unclear if this is
expected or unexpected behavior for heat, but 25% failure rate
is far too high.

Change-Id: I0cfd9c10c1fd5b674c1a2211f98a6aba042227da
Related-Bug: #1308682
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/88056/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/orchestration/stacks/test_update.py'],1,0ef007a7cadd509fbb628bb39fb0d8f735ecde0a,1308682,from tempest import test @test.attr(type='gate') @test.attr(type='gate') @test.skip_because(bug='1308682'),from tempest.test import attr @attr(type='gate') @attr(type='gate'),4,3
openstack%2Fswift~feature%2Fec~I044d46214a62925f8eeb64918a819534c0dd0a9f,openstack/swift,feature/ec,I044d46214a62925f8eeb64918a819534c0dd0a9f,Expose ring properties on Internal Client,ABANDONED,2014-04-12 00:53:10.000000000,2014-04-17 06:06:47.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-12 00:53:10.000000000', 'files': ['test/unit/common/test_internal_client.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7cbb1fe7f230b2b7db4a54520ec123169843271d', 'message': 'Expose ring properties on Internal Client\n\nAlso cleanup some unittest code and factor out some common test\ninfrastructure.\n\nChange-Id: I044d46214a62925f8eeb64918a819534c0dd0a9f\n'}]",0,87060,7cbb1fe7f230b2b7db4a54520ec123169843271d,3,1,1,1179,,,0,"Expose ring properties on Internal Client

Also cleanup some unittest code and factor out some common test
infrastructure.

Change-Id: I044d46214a62925f8eeb64918a819534c0dd0a9f
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/87060/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'swift/common/internal_client.py']",4,7cbb1fe7f230b2b7db4a54520ec123169843271d,reconciler,"def pipeline_property(name): cache_attr_name = '_%s' % name def getter(self): app = self # first app is on self while not getattr(self, cache_attr_name, None): app = getattr(app, 'app', None) if not app: raise AttributeError('No apps in pipeline have a ' '%s attribute' % name) real_attr = getattr(app, name, None) setattr(self, cache_attr_name, real_attr) return getattr(self, cache_attr_name) return property(getter) get_object_ring = pipeline_property('get_object_ring') container_ring = pipeline_property('container_ring') account_ring = pipeline_property('account_ring') self, path, metadata_prefix='', acceptable_statuses=(2,), headers=None): :param headers: extra headers to send headers = headers or {} resp = self.make_request('HEAD', path, headers, acceptable_statuses) if resp.status_int not in acceptable_statuses and \ resp.status_int // 100 not in acceptable_statuses: acceptable_statuses=(2, HTTP_NOT_FOUND), headers=None): self.make_request('DELETE', path, (headers or {}), acceptable_statuses) acceptable_statuses=(2,), headers=None): :param headers: extra headers to send with request return self._get_metadata(path, metadata_prefix, acceptable_statuses, headers=headers) def get_object(self, account, container, obj, headers, acceptable_statuses=(2,)): """""" Returns a 3-tuple (status, headers, iterator of object body) """""" headers = headers or {} path = self.make_path(account, container, obj) resp = self.make_request('GET', path, headers, acceptable_statuses) return (resp.status_int, resp.headers, resp.app_iter)"," self, path, metadata_prefix='', acceptable_statuses=(2,)): resp = self.make_request('HEAD', path, {}, acceptable_statuses) if not resp.status_int // 100 == 2: acceptable_statuses=(2, HTTP_NOT_FOUND)): self.make_request('DELETE', path, {}, acceptable_statuses) acceptable_statuses=(2,)): return self._get_metadata(path, metadata_prefix, acceptable_statuses)",227,78
openstack%2Fneutron~master~I8071dd43a4371338523a0a9028045e6d054e75b2,openstack/neutron,master,I8071dd43a4371338523a0a9028045e6d054e75b2,Enable to set dhcp port attributes,ABANDONED,2013-12-10 07:34:09.000000000,2014-04-17 06:03:31.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 2711}, {'_account_id': 4149}, {'_account_id': 5170}, {'_account_id': 5209}, {'_account_id': 6659}, {'_account_id': 7715}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}]","[{'number': 1, 'created': '2013-12-10 07:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/469b080ab0bfc774e998d534190bb8f5772cab58', 'message': 'Enable to set dhcp port attributes.\n\nImplements blueprint enable-to-set-dhcp-port-attributes\n\nAdd dhcp port attributes parameter to ""add network to dhcp agent"" API.\nIf the parameter is specifyed a dhcp port will be created with the\nspecified attributes when the network is attached to the dhcp agent.\n\nChange-Id: I8071dd43a4371338523a0a9028045e6d054e75b2\n'}, {'number': 2, 'created': '2013-12-10 08:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa64021a1a60d311041648fdfa8f87ec587117b5', 'message': 'Enable to set dhcp port attributes\n\nImplements blueprint enable-to-set-dhcp-port-attributes\n\nAdd dhcp port attributes parameter to ""add network to dhcp agent"" API.\nIf the parameter is specifyed a dhcp port will be created with the\nspecified attributes when the network is attached to the dhcp agent.\n\nChange-Id: I8071dd43a4371338523a0a9028045e6d054e75b2\n'}, {'number': 3, 'created': '2014-01-22 00:28:11.000000000', 'files': ['neutron/extensions/dhcpagentscheduler.py', 'neutron/tests/unit/openvswitch/test_agent_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3034dfe914481dd4a26b32b993b84643fb135677', 'message': 'Enable to set dhcp port attributes\n\nImplements blueprint enable-to-set-dhcp-port-attributes\n\nAdd dhcp port attributes parameter to ""add network to dhcp agent"" API.\nIf the parameter is specifyed a dhcp port will be created with the\nspecified attributes when the network is attached to the dhcp agent.\n\nChange-Id: I8071dd43a4371338523a0a9028045e6d054e75b2\nDocImpact\n'}]",15,61026,3034dfe914481dd4a26b32b993b84643fb135677,93,19,3,4149,,,0,"Enable to set dhcp port attributes

Implements blueprint enable-to-set-dhcp-port-attributes

Add dhcp port attributes parameter to ""add network to dhcp agent"" API.
If the parameter is specifyed a dhcp port will be created with the
specified attributes when the network is attached to the dhcp agent.

Change-Id: I8071dd43a4371338523a0a9028045e6d054e75b2
DocImpact
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/61026/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/dhcpagentscheduler.py', 'neutron/tests/unit/openvswitch/test_agent_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/agent/linux/dhcp.py']",4,469b080ab0bfc774e998d534190bb8f5772cab58,bp/enable-to-set-dhcp-port-attributes,"from neutron.db import agentschedulers_db return agentschedulers_db.get_dhcp_agent_device_id(network.id, self.conf.host)","import uuid host_uuid = uuid.uuid5(uuid.NAMESPACE_DNS, socket.gethostname()) return 'dhcp%s-%s' % (host_uuid, network.id)",76,9
openstack%2Fnova~master~Id78f14bc5756886140cb0e9583a7dc69a2520330,openstack/nova,master,Id78f14bc5756886140cb0e9583a7dc69a2520330,Remove use of str() on exceptions,ABANDONED,2014-03-05 05:17:05.000000000,2014-04-17 06:03:30.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6601}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-03-05 05:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d493660a8a24f79ea757c264097fa04a305bf666', 'message': 'Remove use of str() on exceptions\n\nWhen lazy translation is enabled exception messages will be\nreplaced by a gettextutil.Message instance.   This class does\nnot support str().\n\nWhen the exception is used as input into string formatting\nthe str() can simply be removed and formatting will do the\nright thing.  In other cases, str() must be replaced by\nsix.text_type().\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Id78f14bc5756886140cb0e9583a7dc69a2520330\n'}, {'number': 2, 'created': '2014-04-08 13:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/639785c12b00c2a27f9724798f3749b6ac5351d2', 'message': 'Remove use of str() on exceptions\n\nWhen lazy translation is enabled exception messages will be\nreplaced by a gettextutil.Message instance.   This class does\nnot support str().\n\nWhen the exception is used as input into string formatting\nthe str() can simply be removed and formatting will do the\nright thing.  In other cases, str() must be replaced by\nsix.text_type().\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Id78f14bc5756886140cb0e9583a7dc69a2520330\n'}, {'number': 3, 'created': '2014-04-08 17:40:55.000000000', 'files': ['nova/tests/objects/test_objects.py', 'nova/virt/xenapi/vm_utils.py', 'nova/api/openstack/compute/plugins/v3/cells.py', 'nova/pci/pci_request.py', 'nova/image/glance.py', 'nova/tests/api/openstack/compute/test_limits.py', 'nova/api/openstack/compute/contrib/cells.py', 'nova/api/openstack/compute/contrib/admin_actions.py', 'nova/api/openstack/compute/contrib/os_networks.py', 'nova/tests/compute/test_claims.py', 'nova/virt/configdrive.py', 'nova/virt/baremetal/db/sqlalchemy/api.py', 'nova/notifications.py', 'nova/virt/libvirt/driver.py', 'nova/api/openstack/compute/plugins/v3/migrate_server.py', 'nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/compute/test_compute_utils.py', 'nova/api/openstack/xmlutil.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/virt/xenapi/pool.py', 'nova/api/openstack/compute/contrib/assisted_volume_snapshots.py', 'nova/compute/utils.py', 'nova/pci/pci_whitelist.py', 'nova/objects/fields.py', 'nova/tests/virt/xenapi/test_vm_utils.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/api/openstack/compute/servers.py', 'nova/network/floating_ips.py', 'nova/tests/virt/xenapi/image/test_bittorrent.py', 'nova/tests/network/test_neutronv2.py', 'nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/libvirt/test_libvirt.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/api/openstack/compute/contrib/os_tenant_networks.py', 'nova/virt/vmwareapi/error_util.py', 'nova/virt/vmwareapi/vim.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ff93216532983c15e52eef7f7b7e0cc3aeb86cf', 'message': 'Remove use of str() on exceptions\n\nWhen lazy translation is enabled exception messages will be\nreplaced by a gettextutil.Message instance.   This class does\nnot support str().\n\nWhen the exception is used as input into string formatting\nthe str() can simply be removed and formatting will do the\nright thing.  In other cases, str() must be replaced by\nsix.text_type().\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Id78f14bc5756886140cb0e9583a7dc69a2520330\n'}]",0,78096,0ff93216532983c15e52eef7f7b7e0cc3aeb86cf,30,8,3,6601,,,0,"Remove use of str() on exceptions

When lazy translation is enabled exception messages will be
replaced by a gettextutil.Message instance.   This class does
not support str().

When the exception is used as input into string formatting
the str() can simply be removed and formatting will do the
right thing.  In other cases, str() must be replaced by
six.text_type().

Partially implement blueprint i18n--messages

Change-Id: Id78f14bc5756886140cb0e9583a7dc69a2520330
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/78096/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_objects.py', 'nova/virt/xenapi/vm_utils.py', 'nova/api/openstack/compute/plugins/v3/cells.py', 'nova/pci/pci_request.py', 'nova/image/glance.py', 'nova/tests/api/openstack/compute/test_limits.py', 'nova/api/openstack/compute/contrib/cells.py', 'nova/api/openstack/compute/contrib/admin_actions.py', 'nova/api/openstack/compute/contrib/os_networks.py', 'nova/tests/compute/test_claims.py', 'nova/virt/configdrive.py', 'nova/virt/baremetal/db/sqlalchemy/api.py', 'nova/notifications.py', 'nova/virt/libvirt/driver.py', 'nova/api/openstack/compute/plugins/v3/migrate_server.py', 'nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/compute/test_compute_utils.py', 'nova/api/openstack/xmlutil.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/virt/xenapi/pool.py', 'nova/api/openstack/compute/contrib/assisted_volume_snapshots.py', 'nova/compute/utils.py', 'nova/pci/pci_whitelist.py', 'nova/objects/fields.py', 'nova/tests/virt/xenapi/test_vm_utils.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/api/openstack/compute/servers.py', 'nova/network/floating_ips.py', 'nova/tests/virt/xenapi/image/test_bittorrent.py', 'nova/tests/network/test_neutronv2.py', 'nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/libvirt/test_libvirt.py', 'nova/api/openstack/compute/contrib/agents.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/api/openstack/compute/contrib/os_tenant_networks.py', 'nova/virt/vmwareapi/vim.py']",38,d493660a8a24f79ea757c264097fa04a305bf666,bp/i18n--messages,import six if (six.text_type(excep).find(ADDRESS_IN_USE_ERROR) != -1 or six.text_type(excep).find(CONN_ABORT_ERROR)) != -1: elif six.text_type(excep).find(RESP_NOT_XML_ERROR) != -1:, if (str(excep).find(ADDRESS_IN_USE_ERROR) != -1 or str(excep).find(CONN_ABORT_ERROR)) != -1: elif str(excep).find(RESP_NOT_XML_ERROR) != -1:,84,57
openstack%2Fnova~master~Ib38bda7188a1f2472ee376039e46bd1abafc87e7,openstack/nova,master,Ib38bda7188a1f2472ee376039e46bd1abafc87e7,Remove use of concatenation on messages,ABANDONED,2014-03-05 05:17:04.000000000,2014-04-17 06:03:29.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6601}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-03-05 05:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf1f7ea5e457124e40ceb939601c09768bbae985', 'message': 'Remove use of concatenation on messages\n\nWhen lazy translation is enabled messages will be replaced by\na gettextutil.Message instance.   This class does not support\nconcatenation so the uses have to be replaced.\n\nThe exceptions in nova/virt/vmwareapi/error_util.py also had\nto be updated to support unicode in order to correctly handle\nthe contained instance of the Message class.\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Ib38bda7188a1f2472ee376039e46bd1abafc87e7\n'}, {'number': 2, 'created': '2014-04-07 21:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae784805a532e78d6386411ed18a27830d9bca0f', 'message': 'Remove use of concatenation on messages\n\nWhen lazy translation is enabled messages will be replaced by\na gettextutil.Message instance.   This class does not support\nconcatenation so the uses have to be replaced.\n\nThe exceptions in nova/virt/vmwareapi/error_util.py also had\nto be updated to support unicode in order to correctly handle\nthe contained instance of the Message class.\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Ib38bda7188a1f2472ee376039e46bd1abafc87e7\n'}, {'number': 3, 'created': '2014-04-08 12:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d053c6db6dc7535d1b32057e6eec1e180b51eb7', 'message': 'Remove use of concatenation on messages\n\nWhen lazy translation is enabled messages will be replaced by\na gettextutil.Message instance.   This class does not support\nconcatenation so the uses have to be replaced.\n\nThe exceptions in nova/virt/vmwareapi/error_util.py also had\nto be updated to support unicode in order to correctly handle\nthe contained instance of the Message class.\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Ib38bda7188a1f2472ee376039e46bd1abafc87e7\n'}, {'number': 4, 'created': '2014-04-08 13:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f5e7ed8911826ef4ebcd0026e2cfaa0f82c5f73', 'message': 'Remove use of concatenation on messages\n\nWhen lazy translation is enabled messages will be replaced by\na gettextutil.Message instance.   This class does not support\nconcatenation so the uses have to be replaced.\n\nThe exceptions in nova/virt/vmwareapi/error_util.py also had\nto be updated to support unicode in order to correctly handle\nthe contained instance of the Message class.\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Ib38bda7188a1f2472ee376039e46bd1abafc87e7\n'}, {'number': 5, 'created': '2014-04-08 17:40:56.000000000', 'files': ['nova/tests/compute/test_keypairs.py', 'nova/exception.py', 'nova/api/metadata/vendordata_json.py', 'nova/virt/vmwareapi/error_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5763059c9b592a06179f90527ab1a524aeeb716d', 'message': 'Remove use of concatenation on messages\n\nWhen lazy translation is enabled messages will be replaced by\na gettextutil.Message instance.   This class does not support\nconcatenation so the uses have to be replaced.\n\nThe exceptions in nova/virt/vmwareapi/error_util.py also had\nto be updated to support unicode in order to correctly handle\nthe contained instance of the Message class.\n\nPartially implement blueprint i18n--messages\n\nChange-Id: Ib38bda7188a1f2472ee376039e46bd1abafc87e7\n'}]",7,78095,5763059c9b592a06179f90527ab1a524aeeb716d,45,9,5,6601,,,0,"Remove use of concatenation on messages

When lazy translation is enabled messages will be replaced by
a gettextutil.Message instance.   This class does not support
concatenation so the uses have to be replaced.

The exceptions in nova/virt/vmwareapi/error_util.py also had
to be updated to support unicode in order to correctly handle
the contained instance of the Message class.

Partially implement blueprint i18n--messages

Change-Id: Ib38bda7188a1f2472ee376039e46bd1abafc87e7
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/78095/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_keypairs.py', 'nova/exception.py', 'nova/api/metadata/vendordata_json.py', 'nova/virt/vmwareapi/error_util.py']",4,bf1f7ea5e457124e40ceb939601c09768bbae985,bp/i18n--messages," return unicode(self).encode() def __unicode__(self): return u'%s%s' % (self.exception_summary, self.exception_obj) return unicode(self).encode() def __unicode__(self): return unicode(self.exception_obj)", return self.exception_summary + str(self.exception_obj) return str(self.exception_obj),14,7
openstack%2Fpython-ceilometerclient~master~Id1e5127a24b06c51a342765eede0eba933ce7c03,openstack/python-ceilometerclient,master,Id1e5127a24b06c51a342765eede0eba933ce7c03,Fix the order of arguments in assertEqual,ABANDONED,2014-03-18 03:19:53.000000000,2014-04-17 06:03:22.000000000,,"[{'_account_id': 3}, {'_account_id': 9562}, {'_account_id': 9684}, {'_account_id': 9712}, {'_account_id': 10275}]","[{'number': 1, 'created': '2014-03-18 03:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/1cebb9b92bce1bb5f0fcefae09c2eacdbec8a43d', 'message': 'Fix order of arguments in assertEquals\n\nIn assertEqual, the order of parameters should be (expected, observed).\nBut, some part of ceilometerclient test were written with invalid order.\nThis patch fixes this problem.\n\nRelated to: bug #1277104\n\nChange-Id: Id1e5127a24b06c51a342765eede0eba933ce7c03\n'}, {'number': 2, 'created': '2014-03-19 01:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/b0cb2fea5c37c26368df9618270ca654abac53b0', 'message': 'Fix the order of arguments in assertEqual\n\nIn assertEqual, the order of parameters should be (expected, observed).\nBut, some part of ceilometerclient test were written with invalid order.\nThis patch fixes this problem.\n\nRelated to: bug #1277104\n\nChange-Id: Id1e5127a24b06c51a342765eede0eba933ce7c03\n'}, {'number': 3, 'created': '2014-03-21 01:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/66aa0def9ef62eec9081449c11cadbff38aa226a', 'message': 'Fix the order of arguments in assertEqual\n\nIn assertEqual, the order of parameters should be (expected, observed).\nBut, some part of ceilometerclient test were written with invalid order.\nThis patch fixes this problem.\n\nRelated to: bug #1277104\n\nChange-Id: Id1e5127a24b06c51a342765eede0eba933ce7c03\n'}, {'number': 4, 'created': '2014-04-03 02:36:48.000000000', 'files': ['ceilometerclient/tests/v2/test_options.py', 'ceilometerclient/tests/v2/test_resources.py', 'ceilometerclient/tests/test_shell.py', 'ceilometerclient/tests/v2/test_shell.py', 'ceilometerclient/tests/test_utils.py', 'ceilometerclient/tests/v2/test_traits.py', 'ceilometerclient/tests/v2/test_statistics.py', 'ceilometerclient/tests/v2/test_alarms.py', 'ceilometerclient/tests/v2/test_samples.py', 'ceilometerclient/tests/v1/test_meters.py', 'ceilometerclient/tests/v1/test_resources.py', 'ceilometerclient/tests/test_http.py', 'ceilometerclient/tests/v2/test_trait_descriptions.py', 'ceilometerclient/tests/v2/test_event_types.py', 'ceilometerclient/tests/v1/test_projects.py', 'ceilometerclient/tests/v1/test_users.py', 'ceilometerclient/tests/v1/test_samples.py', 'ceilometerclient/tests/v2/test_events.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/459746a74e1a1e19e83e57795fcce975078657c9', 'message': 'Fix the order of arguments in assertEqual\n\nIn assertEqual, the order of parameters should be (expected, observed).\nBut, some part of ceilometerclient test were written with invalid order.\nThis patch fixes this problem.\n\nCloses-Bug: #1277104\n\nChange-Id: Id1e5127a24b06c51a342765eede0eba933ce7c03\n'}]",0,81154,459746a74e1a1e19e83e57795fcce975078657c9,41,5,4,9684,,,0,"Fix the order of arguments in assertEqual

In assertEqual, the order of parameters should be (expected, observed).
But, some part of ceilometerclient test were written with invalid order.
This patch fixes this problem.

Closes-Bug: #1277104

Change-Id: Id1e5127a24b06c51a342765eede0eba933ce7c03
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/54/81154/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometerclient/tests/v2/test_options.py', 'ceilometerclient/tests/v2/test_resources.py', 'ceilometerclient/tests/test_shell.py', 'ceilometerclient/tests/v2/test_shell.py', 'ceilometerclient/tests/test_utils.py', 'ceilometerclient/tests/v2/test_traits.py', 'ceilometerclient/tests/v2/test_statistics.py', 'ceilometerclient/tests/v2/test_alarms.py', 'ceilometerclient/tests/v2/test_samples.py', 'ceilometerclient/tests/v1/test_meters.py', 'ceilometerclient/tests/v1/test_resources.py', 'ceilometerclient/tests/test_http.py', 'ceilometerclient/tests/v2/test_trait_descriptions.py', 'ceilometerclient/tests/v2/test_event_types.py', 'ceilometerclient/tests/v1/test_projects.py', 'ceilometerclient/tests/v1/test_users.py', 'ceilometerclient/tests/v1/test_samples.py', 'ceilometerclient/tests/v2/test_events.py']",18,1cebb9b92bce1bb5f0fcefae09c2eacdbec8a43d,bug/1277104," self.assertEqual(expect, self.api.calls) self.assertEqual(3, len(events)) self.assertEqual('Foo', events[0].event_type) self.assertEqual('Foo', events[1].event_type) self.assertEqual('Bar', events[2].event_type) self.assertEqual(expect, self.api.calls) self.assertEqual('Foo', event.event_type) self.assertEqual(expect, self.api.calls) self.assertEqual(2, len(events)) self.assertEqual('Foo', events[0].event_type) self.assertEqual(expect, self.api.calls) self.assertEqual(2, len(events)) self.assertEqual('Foo', events[0].event_type) self.assertEqual(expect, self.api.calls) self.assertEqual(1, len(events))"," self.assertEqual(self.api.calls, expect) self.assertEqual(len(events), 3) self.assertEqual(events[0].event_type, 'Foo') self.assertEqual(events[1].event_type, 'Foo') self.assertEqual(events[2].event_type, 'Bar') self.assertEqual(self.api.calls, expect) self.assertEqual(event.event_type, 'Foo') self.assertEqual(self.api.calls, expect) self.assertEqual(len(events), 2) self.assertEqual(events[0].event_type, 'Foo') self.assertEqual(self.api.calls, expect) self.assertEqual(len(events), 2) self.assertEqual(events[0].event_type, 'Foo') self.assertEqual(self.api.calls, expect) self.assertEqual(len(events), 1)",245,245
openstack%2Fnova~master~I6bb7706b0cba2a015332720cc4a1db73fd1205a7,openstack/nova,master,I6bb7706b0cba2a015332720cc4a1db73fd1205a7,Add delete_on_termination option for attaching volume,ABANDONED,2014-01-16 08:39:12.000000000,2014-04-17 06:03:22.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1030}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 2835}, {'_account_id': 5170}, {'_account_id': 7002}, {'_account_id': 9008}, {'_account_id': 9560}, {'_account_id': 9578}, {'_account_id': 9684}]","[{'number': 1, 'created': '2014-01-16 08:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b64a6c3710557aa9af41c4f465e4094f8253a811', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\n'}, {'number': 2, 'created': '2014-01-21 02:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/504c260b3883a15204fda9e07d9ca8bad171a278', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 3, 'created': '2014-02-13 03:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fdde8afd211475f019820e54917b25221fde7ab', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 4, 'created': '2014-02-13 08:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09a08e49288fd00c9e4574c9d13e2a6dec4b6a68', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 5, 'created': '2014-04-01 02:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eb393f3572508031e922384bb8d3237b669b1f8', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 6, 'created': '2014-04-01 06:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81534dd34450d1bc5be0d2d99090f3b411119b18', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 7, 'created': '2014-04-02 03:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d80ef27e4700731bba11c88d7c780113824bc6f', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 8, 'created': '2014-04-02 08:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a819419866924ad324825cb698b96f9450015a4', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 9, 'created': '2014-04-03 02:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f286dd2eef79521a27a0c8e2ad8acacc0c8f21b3', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 10, 'created': '2014-04-03 03:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d370936a9a9eefbe84b9d4fac545444e9e858e72', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}, {'number': 11, 'created': '2014-04-03 06:06:16.000000000', 'files': ['nova/tests/integrated/api_samples/os-volumes/attach-volume-to-server-resp.json.tpl', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_volumes.py', 'nova/tests/integrated/api_samples/os-volumes/attach-volume-to-server-resp.xml.tpl', 'nova/api/ec2/cloud.py', 'nova/api/openstack/compute/schemas/v3/extended_volumes.py', 'nova/api/openstack/compute/contrib/volumes.py', 'nova/tests/api/openstack/compute/contrib/test_volumes.py', 'doc/api_samples/os-volumes/attach-volume-to-server-resp.xml', 'nova/api/openstack/compute/plugins/v3/extended_volumes.py', 'nova/compute/cells_api.py', 'doc/api_samples/os-volumes/attach-volume-to-server-resp.json', 'nova/tests/compute/test_rpcapi.py', 'nova/tests/integrated/test_api_samples.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7445883f28f4c1f54e4851b61c61edd82d83037c', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\nChange-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7\npartially implements blueprint add-delete-on-termination-option\n'}]",6,67067,7445883f28f4c1f54e4851b61c61edd82d83037c,98,12,11,9560,,,0,"Add delete_on_termination option for attaching volume

There is the delete_on_termination option for attaching volume when
creating a server but not for an existing server. So when delete the
server may be caused two cases although the delete_on_termination option
is true, one the attached volume can be deleted, the other is not.
The blueprint aimed to eliminate the differences.

Change-Id: I6bb7706b0cba2a015332720cc4a1db73fd1205a7
partially implements blueprint add-delete-on-termination-option
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/67067/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/extended_volumes.py', 'nova/api/openstack/compute/contrib/volumes.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/api/openstack/compute/contrib/test_volumes.py', 'nova/compute/api.py']",6,b64a6c3710557aa9af41c4f465e4094f8253a811,bp/aimed," context, instance.'uuid')) def attach_volume(self, context, instance, volume_id, device=None, delete_on_termination=False): volume_id=volume_id, mountpoint=device, delete_on_termination=delete_on_termination)"," context, instance.uuid)) def attach_volume(self, context, instance, volume_id, device=None): volume_id=volume_id, mountpoint=device)",47,23
openstack%2Fpython-novaclient~master~I653f194cfe3a28b9726984d2dc894c5e339a6186,openstack/python-novaclient,master,I653f194cfe3a28b9726984d2dc894c5e339a6186,Add delete_on_termination option to NovaClient,ABANDONED,2014-01-16 08:59:32.000000000,2014-04-17 06:03:21.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9560}]","[{'number': 1, 'created': '2014-01-16 08:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c4f6094deac5be0a8f993e2a400792ea2833970c', 'message': 'Add delete_on_termination option for attaching volume\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n'}, {'number': 2, 'created': '2014-01-16 09:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/893c63d9ae5d6f69011e04e417196f3d3d4840f5', 'message': 'Add delete_on_termination option to NovaClient\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n'}, {'number': 3, 'created': '2014-02-13 10:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/681f8292b646cf657db699cbc914d7589df33a3f', 'message': 'Add delete_on_termination option to NovaClient\n\nThere is the delete_on_termination option for attaching volume when\ncreating a server but not for an existing server. So when delete the\nserver may be caused two cases although the delete_on_termination option\nis true, one the attached volume can be deleted, the other is not.\nThe blueprint aimed to eliminate the differences.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n'}, {'number': 4, 'created': '2014-02-18 07:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/61e0e852b7a425f38c661a0cbdfc2eba33892a88', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}, {'number': 5, 'created': '2014-02-19 01:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/20e607c309d7bfa56c509874a120495575e70c30', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}, {'number': 6, 'created': '2014-02-20 01:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/69ec7d5e1a7d67c4fac3c3c24994d56dd5332211', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}, {'number': 7, 'created': '2014-02-21 01:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/101170379dd0d4f5f2ebf1081b90d01b46a7236b', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}, {'number': 8, 'created': '2014-03-10 01:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/625609ed01507cf55ecb0d022a2b6cc95046a55f', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}, {'number': 9, 'created': '2014-03-24 03:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/378bfa61a1d727ab16d501b553e7c0359ae0bc25', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\nNova patch: https://review.openstack.org/67067\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}, {'number': 10, 'created': '2014-03-24 03:02:43.000000000', 'files': ['novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py', 'novaclient/v3/shell.py', 'novaclient/v1_1/volumes.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/aa018fff8ff739e31b979bd5974cb3673acfbdef', 'message': ""Add delete_on_termination option to NovaClient\n\nNova has add an option 'delete_on_termination' for attaching volume to\nan existing server. So modify Novaclient to support the option.\nNova patch: https://review.openstack.org/67067\n\npartially implements blueprint add-delete-on-termination-option\n\nChange-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186\n""}]",15,67074,aa018fff8ff739e31b979bd5974cb3673acfbdef,77,5,10,9560,,,0,"Add delete_on_termination option to NovaClient

Nova has add an option 'delete_on_termination' for attaching volume to
an existing server. So modify Novaclient to support the option.
Nova patch: https://review.openstack.org/67067

partially implements blueprint add-delete-on-termination-option

Change-Id: I653f194cfe3a28b9726984d2dc894c5e339a6186
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/74/67074/9 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/shell.py', 'novaclient/v3/shell.py', 'novaclient/v1_1/volumes.py']",3,c4f6094deac5be0a8f993e2a400792ea2833970c,bp/aimed," def create_server_volume(self, server_id, volume_id, device, delete_on_termination=False): 'device': device, 'delete_on_termination': delete_on_termination}}"," def create_server_volume(self, server_id, volume_id, device): 'device': device}}",12,4
openstack%2Frally~master~If9eece7abb276a2bd21d7544bdc6e86f51c50895,openstack/rally,master,If9eece7abb276a2bd21d7544bdc6e86f51c50895,cleanup users' resouce only when the user is touched,ABANDONED,2014-03-18 15:06:49.000000000,2014-04-17 06:03:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 8507}, {'_account_id': 10475}]","[{'number': 1, 'created': '2014-03-18 15:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3eae18d590731356a851735f3211c61c4404c246', 'message': 'cleanup users\' resouce when the user is touched\n\nThis patch could help iter less user list during deleting resource. Mark\nthe user ""used"" when using it create some resource like server, image\nand so on. And after scenarios, only read the marked user list to delete\nresource.\n\nChange-Id: If9eece7abb276a2bd21d7544bdc6e86f51c50895\n'}, {'number': 2, 'created': '2014-03-19 07:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ed45311139ca9157c49ae77e87f03bce47429629', 'message': 'cleanup users\' resouce only when the user is touched\n\nThis patch could help iter less user list during deleting resource. Mark\nthe user ""used"" when using it create some resource like server, image\nand so on. And after scenarios, only read the marked user list to delete\nresource.\n\nChange-Id: If9eece7abb276a2bd21d7544bdc6e86f51c50895\n'}, {'number': 3, 'created': '2014-03-21 01:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1ae63c41b15ccccda7d4ae4d607b80c303f242ae', 'message': 'cleanup users\' resouce only when the user is touched\n\nThis patch could help iter less user list during deleting resource. Mark\nthe user ""used"" when using it create some resource like server, image\nand so on. And after scenarios, only read the marked user list to delete\nresource.\n\nChange-Id: If9eece7abb276a2bd21d7544bdc6e86f51c50895\n'}, {'number': 4, 'created': '2014-04-02 15:05:31.000000000', 'files': ['rally/benchmark/runners/base.py', 'tests/benchmark/context/test_cleaner.py', 'tests/fakes.py', 'rally/benchmark/context/cleaner.py', 'rally/benchmark/context/users.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/044927eeed54c6f2db277556c845c30797b87655', 'message': 'cleanup users\' resouce only when the user is touched\n\nThis patch could help iter less user list during deleting resource. Mark\nthe user ""touched"" when using it create some resource like server, image\nand so on. And after scenarios, only read the marked user list to delete\nresource.\n\nChange-Id: If9eece7abb276a2bd21d7544bdc6e86f51c50895\n'}]",6,81287,044927eeed54c6f2db277556c845c30797b87655,29,5,4,6835,,,0,"cleanup users' resouce only when the user is touched

This patch could help iter less user list during deleting resource. Mark
the user ""touched"" when using it create some resource like server, image
and so on. And after scenarios, only read the marked user list to delete
resource.

Change-Id: If9eece7abb276a2bd21d7544bdc6e86f51c50895
",git fetch https://review.opendev.org/openstack/rally refs/changes/87/81287/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/runners/base.py', 'tests/benchmark/context/test_cleaner.py', 'tests/fakes.py', 'rally/benchmark/context/cleaner.py', 'rally/benchmark/context/users.py']",5,3eae18d590731356a851735f3211c61c4404c246,touched_users," ""endpoint"": epoint, ""used"": False})"," ""endpoint"": epoint})",9,4
openstack%2Ftempest~master~I3f4bbc4a4835fa9f6d1f82eacafb7c4f04e40822,openstack/tempest,master,I3f4bbc4a4835fa9f6d1f82eacafb7c4f04e40822,It will fix the Bug #1201201,ABANDONED,2014-04-07 07:23:21.000000000,2014-04-17 06:03:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5174}, {'_account_id': 7293}, {'_account_id': 10366}]","[{'number': 1, 'created': '2014-04-07 07:23:21.000000000', 'files': ['doc/source/Tempest_Installation_configuration.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1b9ec9be9ee88fa2b9db00b6e55f115cdd5f7fa2', 'message': 'It will fix the Bug #1201201\n\nChange-Id: I3f4bbc4a4835fa9f6d1f82eacafb7c4f04e40822\n'}]",10,85654,1b9ec9be9ee88fa2b9db00b6e55f115cdd5f7fa2,8,5,1,10366,,,0,"It will fix the Bug #1201201

Change-Id: I3f4bbc4a4835fa9f6d1f82eacafb7c4f04e40822
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/85654/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/Tempest_Installation_configuration.rst'],1,1b9ec9be9ee88fa2b9db00b6e55f115cdd5f7fa2,bug/1201201,"Testing Openstack Installation with Tempest CONTENTS 1. Scope of this document 2. Document Convention 3. Prerequisite 4. Tempest Installation/Configuration 5. Tempest run 1.Scope of this document: This page explains how to test a Openstack installation. The Tempest tools will be used to test the installation and the stability. 2. Document Convention: In formatted blocks : command lines starting with a # must be run as root. values between < and > must be replaced by your values. 3. Prerequisites NB: we assume that Openstack environment variables (OS_USERNAME, OS_TENANT_NAME, OS_PASSWORD and OS_AUTH_URL) are set with a admin account. >> Setup the dependencies: # apt-get install -y git python-nose python-anyjson python-unittest2 python-lxml python-boto openstack-clients python-paramiko python-netifaces python-webob python-virtualenv python-dev libevent-dev python-sqlalchemy >> Prepare materials for Glance/Nova API # glance image-create --name <USER_DEFINED_IMAGE_NAME> --is-public true --container-format bare --disk-format qcow2 --location https://launchpad.net/cirros/trunk/0.3.0/+download/<IMAGE_NAME> Create two users for tempest test as a member: >> To get the member ID: # keystone role-list >> Create a new tenant1: # keystone tenant-create --name <TENANT_NAME> >> Create new user1: # keystone user-create --name=<USER_NAME> --pass=<USER_PASSWORD> --tenant-id <PUT_TENANTID_HERE> --email=<EAMAIL_ID> >> Assign Role to user1 # keystone user-role-add --tenant-id <PUT_TENANTID_HERE> --user-id <PUT_USERID_HERE> --role-id <PUT_ROLEID_HERE> >> Create a new tenant2: # keystone tenant-create --name <TENANT_NAME> >> Create new user2: keystone user-create --name=<USER_NAME> --pass=<USER_PASSWORD> --tenant-id <PUT_TENANTID_HERE> --email=<EAMAIL_ID> >> Assign Role to user2 keystone user-role-add --tenant-id <PUT_TENANTID_HERE> --user-id <PUT_USERID_HERE> --role-id <PUT_ROLEID_HERE> 4. Tempest Installation/Configuration >> Clone the git repository # git clone https://github.com/openstack/tempest.git >> Prepare the configuration file cp /root/tempest/etc/tempest.conf.sample /root/tempest/etc/tempest.conf >> Edit the following fields in /root/tempest/etc/tempest.conf, and replace <VALUE> by the value that match your configuration. NB: identity/host define field ""host"" in section ""[identity""] identity/host = <KEYSTONE_HOST> identity/port = <KEYSTONE_PORT> identity-admin/username = admin identify-admin/password = <THE_ADMIN_PASSWORD> identity-admin/tenant_name = <THE_ADMIN_TENANT> compute-admin/username = admin compute-admin/password = <THE_ADMIN_PASSWORD> compute-admin/tenant_name = <THE_ADMIN_TENANT> compute/image_ref = <ID_OF_THE_PREVIOUSLY_CREATED_GLANCE_IMAGE> compute/image_ref_alt = <ID_OF_THE_PREVIOUSLY_CREATED_GLANCE_IMAGE> compute/whitebox_enabled = false # this disable tests inside VM compute/resize_available = false # disable it only if your cluster don't support resize image/host = <GLANCE_HOST> image/host = <GLANCE_PORT> # This is for AWS services boto/ec2_url = <URL_OF_THE_EC2_API> # ie: http://identity.mystack.net:8773/services/Cloud boto/s3_url = <URL_OF_THE_S3_API> # ie: http://storage.mystack.net:8080 boto/aws_access = fd158f8c4841411f8ec0b1500b8c3c16 # access_key for the demo account boto/aws_secret = e6563c4efcc14c418f20262e92e8bfa9 # secret_key for the demo account boto/s3_materials_path = /root/s3-materials 5. Tempest run: >> Go in the tempest directory cd /root/tempest >> Run all tests with: nosetests tempest/tests/ >> Or only some of them with: For keystone: # nosetests tempest/tests/identity ... ---------------------------------------------------------------------- Ran 147 tests in 18.202s OK (SKIP=13) For swift: nosetests tempest/tests/object_storage ... ---------------------------------------------------------------------- Ran 17 tests in 2.389s OK >>To run single test case: Format: $ nosetests âv <path_of_testcase_file>.<testcase_file_name(withoutextension)>: <class_name_of_testcase_function>.<testcase_function_name> Example: $ nosetests âv tempest.api.compute.servers.test_servers_negative:ServersNegativeTestJSON.test_reboot_non_existent_server ",,134,0
openstack%2Fdevstack~master~If6669b764a1d7ca12f02d71781d02c256133bcaa,openstack/devstack,master,If6669b764a1d7ca12f02d71781d02c256133bcaa,"Fix Bug 1291752, added new line in the beginning of tempest guide for Devstack as per the instructions in the Bug",ABANDONED,2014-04-06 20:09:21.000000000,2014-04-17 06:03:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 6987}]","[{'number': 1, 'created': '2014-04-06 20:09:21.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0e9f38ce0a9ac4553f1c9f88a8d50f8281e3fb55', 'message': 'Fix Bug 1291752, added new line in the beginning of tempest guide for Devstack as per the instructions in the Bug\n\nChange-Id: If6669b764a1d7ca12f02d71781d02c256133bcaa\n'}]",2,85616,0e9f38ce0a9ac4553f1c9f88a8d50f8281e3fb55,8,3,1,10880,,,0,"Fix Bug 1291752, added new line in the beginning of tempest guide for Devstack as per the instructions in the Bug

Change-Id: If6669b764a1d7ca12f02d71781d02c256133bcaa
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/85616/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,0e9f38ce0a9ac4553f1c9f88a8d50f8281e3fb55,bug/1291752,"# To enable a minimal set of Ceilometer services, add the following to localrc: # # enable_service ceilometer # HEAT_FETCHED_TEST_IMAGE=Fedora-i386-20-20131211.1-sda #",,5,1
openstack%2Fnova~master~I94da0c3bdab759fe5db94dd206b054fbbe28c3fa,openstack/nova,master,I94da0c3bdab759fe5db94dd206b054fbbe28c3fa,Support using VNC SSL between WS proxy and host,ABANDONED,2014-02-28 21:07:15.000000000,2014-04-17 06:03:18.000000000,,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-02-28 21:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/885a769beb2b235e5e216929973333a135c17b2a', 'message': 'Support using VNC SSL between WS proxy and host\n\nPreviously, while communications between the browser\nand the noVNC proxy could be encrypted via WSS (essentially\nHTTPS for WebSockets), the connection between the noVNC\nwebsocket proxy and the compute node were not encrypted or\nauthenticated.  This meant that if a malicious entity were\nto gain access to the internals of a the OpenStack host\nnetwork, they could access VNC communications and connect\nto virtual machine VNC ports freely.\n\nTo rectify this situation, support for the VeNCrypt\nauthentication/encryption method has been introduced\ninto websocketproxy.py.  This means that, when enabled,\ncommunication between the proxy and compute node will\nbe encrypted via TLS (and optionally verified with\nx509 certificates).  Once the data reaches the proxy,\nthe encryption is removed and the normal proxy-to-browser\nflow takes over.\n\nThis works by (optionally) making the noVNC proxy appear\nas an RFB client and server, intercepting the security\nnegotiation, and changing it such that the server sees\nan VeNCrypt-capable client, and the client sees a server\ncapable of the normal ""None"" authentication method.\n\nNote that the hypervisor must be configured separately to\nenable support for VeNCrypt (for libvirt, this is done\nvia /etc/libvirt/qemu.conf)\n\nChange-Id: I94da0c3bdab759fe5db94dd206b054fbbe28c3fa\nFixes: bug #1248742\n'}, {'number': 2, 'created': '2014-03-03 22:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4814be54031a1d61c2b9b7200ab8c71c506dd2c4', 'message': 'Support using VNC SSL between WS proxy and host\n\nPreviously, while communications between the browser\nand the noVNC proxy could be encrypted via WSS (essentially\nHTTPS for WebSockets), the connection between the noVNC\nwebsocket proxy and the compute node were not encrypted or\nauthenticated.  This meant that if a malicious entity were\nto gain access to the internals of a the OpenStack host\nnetwork, they could access VNC communications and connect\nto virtual machine VNC ports freely.\n\nTo rectify this situation, support for the VeNCrypt\nauthentication/encryption method has been introduced\ninto websocketproxy.py.  This means that, when enabled,\ncommunication between the proxy and compute node will\nbe encrypted via TLS (and optionally verified with\nx509 certificates).  Once the data reaches the proxy,\nthe encryption is removed and the normal proxy-to-browser\nflow takes over.\n\nThis works by (optionally) making the noVNC proxy appear\nas an RFB client and server, intercepting the security\nnegotiation, and changing it such that the server sees\nan VeNCrypt-capable client, and the client sees a server\ncapable of the normal ""None"" authentication method.\n\nNote that the hypervisor must be configured separately to\nenable support for VeNCrypt (for libvirt, this is done\nvia /etc/libvirt/qemu.conf)\n\nChange-Id: I94da0c3bdab759fe5db94dd206b054fbbe28c3fa\nFixes: bug #1248742\n'}, {'number': 3, 'created': '2014-03-03 22:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5007ab7d308bfe7192af9317011b8f25bd1688be', 'message': 'Support using VNC SSL between WS proxy and host\n\nPreviously, while communications between the browser\nand the noVNC proxy could be encrypted via WSS (essentially\nHTTPS for WebSockets), the connection between the noVNC\nwebsocket proxy and the compute node were not encrypted or\nauthenticated.  This meant that if a malicious entity were\nto gain access to the internals of a the OpenStack host\nnetwork, they could access VNC communications and connect\nto virtual machine VNC ports freely.\n\nTo rectify this situation, support for the VeNCrypt\nauthentication/encryption method has been introduced\ninto websocketproxy.py.  This means that, when enabled,\ncommunication between the proxy and compute node will\nbe encrypted via TLS (and optionally verified with\nx509 certificates).  Once the data reaches the proxy,\nthe encryption is removed and the normal proxy-to-browser\nflow takes over.\n\nThis works by (optionally) making the noVNC proxy appear\nas an RFB client and server, intercepting the security\nnegotiation, and changing it such that the server sees\nan VeNCrypt-capable client, and the client sees a server\ncapable of the normal ""None"" authentication method.\n\nNote that the hypervisor must be configured separately to\nenable support for VeNCrypt (for libvirt, this is done\nvia /etc/libvirt/qemu.conf)\n\nChange-Id: I94da0c3bdab759fe5db94dd206b054fbbe28c3fa\nFixes: bug #1248742\n'}, {'number': 4, 'created': '2014-03-06 22:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7383c538a6fa09d715a5ec3077b5eb3939efe02', 'message': 'Support using VNC SSL between WS proxy and host\n\nPreviously, while communications between the browser\nand the noVNC proxy could be encrypted via WSS (essentially\nHTTPS for WebSockets), the connection between the noVNC\nwebsocket proxy and the compute node were not encrypted or\nauthenticated.  This meant that if a malicious entity were\nto gain access to the internals of a the OpenStack host\nnetwork, they could access VNC communications and connect\nto virtual machine VNC ports freely.\n\nTo rectify this situation, support for the VeNCrypt\nauthentication/encryption method has been introduced\ninto websocketproxy.py.  This means that, when enabled,\ncommunication between the proxy and compute node will\nbe encrypted via TLS (and optionally verified with\nx509 certificates).  Once the data reaches the proxy,\nthe encryption is removed and the normal proxy-to-browser\nflow takes over.\n\nThis works by (optionally) making the noVNC proxy appear\nas an RFB client and server, intercepting the security\nnegotiation, and changing it such that the server sees\nan VeNCrypt-capable client, and the client sees a server\ncapable of the normal ""None"" authentication method.\n\nNote that the hypervisor must be configured separately to\nenable support for VeNCrypt (for libvirt, this is done\nvia /etc/libvirt/qemu.conf)\n\nChange-Id: I94da0c3bdab759fe5db94dd206b054fbbe28c3fa\nFixes bug #1248742\n'}, {'number': 5, 'created': '2014-03-06 22:38:21.000000000', 'files': ['etc/nova/nova.conf.sample', 'nova/console/websocketproxy.py', 'nova/console/rfb_helper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a38392347a4155b3a599420ccd529a8fb58ec950', 'message': 'Support using VNC SSL between WS proxy and host\n\nPreviously, while communications between the browser\nand the noVNC proxy could be encrypted via WSS (essentially\nHTTPS for WebSockets), the connection between the noVNC\nwebsocket proxy and the compute node were not encrypted or\nauthenticated.  This meant that if a malicious entity were\nto gain access to the internals of a the OpenStack host\nnetwork, they could access VNC communications and connect\nto virtual machine VNC ports freely.\n\nTo rectify this situation, support for the VeNCrypt\nauthentication/encryption method has been introduced\ninto websocketproxy.py.  This means that, when enabled,\ncommunication between the proxy and compute node will\nbe encrypted via TLS (and optionally verified with\nx509 certificates).  Once the data reaches the proxy,\nthe encryption is removed and the normal proxy-to-browser\nflow takes over.\n\nThis works by (optionally) making the noVNC proxy appear\nas an RFB client and server, intercepting the security\nnegotiation, and changing it such that the server sees\nan VeNCrypt-capable client, and the client sees a server\ncapable of the normal ""None"" authentication method.\n\nNote that the hypervisor must be configured separately to\nenable support for VeNCrypt (for libvirt, this is done\nvia /etc/libvirt/qemu.conf)\n\nChange-Id: I94da0c3bdab759fe5db94dd206b054fbbe28c3fa\nCloses-Bug: #1248742\n'}]",7,77266,a38392347a4155b3a599420ccd529a8fb58ec950,35,8,5,7677,,,0,"Support using VNC SSL between WS proxy and host

Previously, while communications between the browser
and the noVNC proxy could be encrypted via WSS (essentially
HTTPS for WebSockets), the connection between the noVNC
websocket proxy and the compute node were not encrypted or
authenticated.  This meant that if a malicious entity were
to gain access to the internals of a the OpenStack host
network, they could access VNC communications and connect
to virtual machine VNC ports freely.

To rectify this situation, support for the VeNCrypt
authentication/encryption method has been introduced
into websocketproxy.py.  This means that, when enabled,
communication between the proxy and compute node will
be encrypted via TLS (and optionally verified with
x509 certificates).  Once the data reaches the proxy,
the encryption is removed and the normal proxy-to-browser
flow takes over.

This works by (optionally) making the noVNC proxy appear
as an RFB client and server, intercepting the security
negotiation, and changing it such that the server sees
an VeNCrypt-capable client, and the client sees a server
capable of the normal ""None"" authentication method.

Note that the hypervisor must be configured separately to
enable support for VeNCrypt (for libvirt, this is done
via /etc/libvirt/qemu.conf)

Change-Id: I94da0c3bdab759fe5db94dd206b054fbbe28c3fa
Closes-Bug: #1248742
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/77266/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/nova.conf.sample', 'nova/console/websocketproxy.py', 'nova/console/rfb_helper.py']",3,885a769beb2b235e5e216929973333a135c17b2a,bug/1248742,"# Copyright (c) 2014 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.openstack.common.gettextutils import _ from nova.openstack.common import log as logging LOG = logging.getLogger(__name__) class RFBException(Exception): pass class RFBSecurityProxyHelper(object): """"""MITM RFB Security Negotiator. This class proxies the initial setup of the RFB connection between the client and server. Then, when the RFB security negotiation step arrives, it intercepts the communication, posing as a server with the ""None"" authentication type to the client, and acting as a client (via the two marked methods below) to the server. After security negotiation, normal proxying can be used. """""" def __init__(self, client_sock, server_sock): self.client_sock = client_sock self.server_sock = server_sock def connect(self): """"""Initiate the RFB connection process."""""" # Server ProtocolVersion --> Client server_version = self.server_sock.recv(12) self.client_sock.sendall(server_version) LOG.debug(_(""Passed version string '%s' from "" ""server to client"") % server_version) # Client ProtocolVersion --> Server client_version = self.client_sock.recv(12) self.server_sock.sendall(client_version) LOG.debug(_(""Passed version string '%s' from "" ""client to server"") % client_version) # negotiate security with server sec_types_cnt = ord(self.server_sock.recv(1)) if sec_types_cnt == 0: reason = self.fmt.read_var_str(null_term=True) raise RFBException(_(""The server did not send any "" ""security types: %s"") % reason) sec_types = [ord(t) for t in self.server_sock.recv(sec_types_cnt)] LOG.debug(_(""The server sent security types: %s"") % sec_types) security_type = self.choose_security_type(sec_types) self.server_sock.sendall(chr(security_type)) LOG.debug(_(""Using security type %s with server"") % security_type) # negotiate security with client self.client_sock.sendall(chr(1) + chr(1)) # send a choice of 1:[None] client_auth = ord(self.client_sock.recv(1)) if client_auth != 1: raise RFBException( _(""Client wanted authentication: %s"") % client_auth) LOG.debug(_(""Using security type None (1) with client"")) # security-type-specific stuff self.security_handshake() LOG.debug(_(""Finished security handshake, beginning"" ""normal proxy mode"")) # we can just proxy the security result -- if the server security # negotiation fails, we want the client to think that it has failed # callbacks to be implemented by subclasses def choose_security_type(self, available_types): """"""Decide the security type to be used. Takes a list of security types (as integers) and returns the chosen security type (as an integer) """""" return max(available_types) def security_handshake(self): """"""Perform security-type-specific functionality."""""" pass ",,271,1
openstack%2Fcookbook-openstack-ops-database~master~Ie17429f8af8cc02c46611ea4e1079afaac4c7e68,openstack/cookbook-openstack-ops-database,master,Ie17429f8af8cc02c46611ea4e1079afaac4c7e68,Fix the depends cookbook version issue in metadata.rb,ABANDONED,2014-04-03 02:40:15.000000000,2014-04-17 06:03:17.000000000,,"[{'_account_id': 3}, {'_account_id': 7128}]","[{'number': 1, 'created': '2014-04-03 02:40:15.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/034c40f1ea972593347a945ca9686e82fa8644a3', 'message': ""Fix the depends cookbook version issue in metadata.rb\n\nThe depends condition should be ether of below:\ndepends 'cookbook-name', '>=x.y.z'\ndepends 'cookbook-name', '~>x.y'\n\nChange-Id: Ie17429f8af8cc02c46611ea4e1079afaac4c7e68\nCloses-bug: 1300524\n""}]",0,84927,034c40f1ea972593347a945ca9686e82fa8644a3,8,2,1,9488,,,0,"Fix the depends cookbook version issue in metadata.rb

The depends condition should be ether of below:
depends 'cookbook-name', '>=x.y.z'
depends 'cookbook-name', '~>x.y'

Change-Id: Ie17429f8af8cc02c46611ea4e1079afaac4c7e68
Closes-bug: 1300524
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/27/84927/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,034c40f1ea972593347a945ca9686e82fa8644a3,bug/1300524,"depends 'database', '>= 2.0.0' depends 'mysql', '>= 4.1.2' depends 'postgresql', '>= 3.3.4'","depends 'database', '~> 2.0.0' depends 'mysql', '~> 4.1.2' depends 'postgresql', '~> 3.3.4'",3,3
openstack%2Fdevstack~master~I515b5ac50d478184c726a92e1b5044ec708fd3ca,openstack/devstack,master,I515b5ac50d478184c726a92e1b5044ec708fd3ca,Speed up keystone service and endpoint creation,ABANDONED,2014-04-04 09:21:19.000000000,2014-04-17 06:03:13.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 5803}]","[{'number': 1, 'created': '2014-04-04 09:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8d8e1677176cd5468eed0c592f0a09457dadb30b', 'message': 'Speed up keystone service and endpoint creation\n\nThe keystone resource creation time mostly spend in starting up the\n python client program and in waiting for responses.\nMost of the keystone resource creation can be done in parallel,\nand it can save up to 30-60 sec on the ./stack.sh time.\n\nSimilar optimization could be done in the create_userrc.sh.\n\nChange-Id: I515b5ac50d478184c726a92e1b5044ec708fd3ca\n'}, {'number': 2, 'created': '2014-04-04 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0b0201f51ef291873e81757c4126be34b6ea85b4', 'message': 'Speed up keystone service and endpoint creation\n\nThe keystone resource creation time mostly spend in starting up the\n python client program and in waiting for responses.\nMost of the keystone resource creation can be done in parallel,\nand it can save up to 30-60 sec on the ./stack.sh time.\n\nSimilar optimization could be done in the create_userrc.sh.\n\nChange-Id: I515b5ac50d478184c726a92e1b5044ec708fd3ca\n'}, {'number': 3, 'created': '2014-04-04 23:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/163b55c7278cdc985c8aaf7ce1bfbeca6d9985e4', 'message': 'Speed up keystone service and endpoint creation\n\nThe keystone resource creation time mostly spend in starting up the\n python client program and in waiting for responses.\nMost of the keystone resource creation can be done in parallel,\nand it can save up to 30-60 sec on the ./stack.sh time.\n\nSimilar optimization could be done in the create_userrc.sh.\n\nChange-Id: I515b5ac50d478184c726a92e1b5044ec708fd3ca\n'}, {'number': 4, 'created': '2014-04-06 19:41:34.000000000', 'files': ['lib/keystone', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f40fd3144d395f5010bb5deeaf60f69b180b1b99', 'message': 'Speed up keystone service and endpoint creation\n\nThe keystone resource creation time mostly spend in starting up the\n python client program and in waiting for responses.\nMost of the keystone resource creation can be done in parallel,\nand it can save up to 30-60 sec on the ./stack.sh time.\n\nSimilar optimization could be done in the create_userrc.sh.\n\nChange-Id: I515b5ac50d478184c726a92e1b5044ec708fd3ca\n'}]",0,85275,f40fd3144d395f5010bb5deeaf60f69b180b1b99,16,3,4,5803,,,0,"Speed up keystone service and endpoint creation

The keystone resource creation time mostly spend in starting up the
 python client program and in waiting for responses.
Most of the keystone resource creation can be done in parallel,
and it can save up to 30-60 sec on the ./stack.sh time.

Similar optimization could be done in the create_userrc.sh.

Change-Id: I515b5ac50d478184c726a92e1b5044ec708fd3ca
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/85275/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/keystone', 'stack.sh']",2,8d8e1677176cd5468eed0c592f0a09457dadb30b,speed-key-services," create_keystone_accounts_common create_keystone_accounts & create_nova_accounts & create_glance_accounts & create_cinder_accounts & create_neutron_accounts & create_ceilometer_accounts & create_swift_accounts & create_heat_accounts & JOBS=`jobs` while [[ ""$JOBS"" =~ 'Running' ]]; do echo Waiting for childs! sleep 1 JOBS=`jobs` done", create_keystone_accounts create_nova_accounts create_glance_accounts create_cinder_accounts create_neutron_accounts create_ceilometer_accounts create_swift_accounts create_heat_accounts,41,29
openstack%2Fnova~master~Iad0294bd0757fd86975b847962a359cde8510376,openstack/nova,master,Iad0294bd0757fd86975b847962a359cde8510376,vmwareapi: WIP: refactor spawn logic proposal,ABANDONED,2014-03-26 00:52:27.000000000,2014-04-17 06:03:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 7629}, {'_account_id': 8027}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-03-26 00:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05ac49a6f5a9837f1647de1faa225acec37af82f', 'message': 'vmwareapi: WIP: (nonworking draft) refactor spawn logic proposal\n\nMostly an RFC on the general approach.\nFor more details please refer to:\nhttps://etherpad.openstack.org/p/vmware-spawn-refactor-design\n\npartial blueprint vmware-spawn-refactor\n\nChange-Id: Iad0294bd0757fd86975b847962a359cde8510376\n'}, {'number': 2, 'created': '2014-03-27 09:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d1379a52f50488226426897b4a6d1e79027115e', 'message': 'vmwareapi: WIP: (nonworking draft) refactor spawn logic proposal\n\nMostly an RFC on the general approach.\nFor more details please refer to:\nhttps://etherpad.openstack.org/p/vmware-spawn-refactor-design\n\npartial blueprint vmware-spawn-refactor\n\nChange-Id: Iad0294bd0757fd86975b847962a359cde8510376\n'}, {'number': 3, 'created': '2014-03-30 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc87a80eb81dfa80be189b57563dd2720d81a91e', 'message': 'vmwareapi: WIP: refactor spawn logic proposal\n\nMostly an RFC on the general approach.\nFor more details please refer to:\nhttps://etherpad.openstack.org/p/vmware-spawn-refactor-design\n\nAll vmwareapi unit tests should pass except those related\nto iso-boot.\n\nnext-up: re-add iso-boot functionality.\n\npartial blueprint vmware-spawn-refactor\n\nChange-Id: Iad0294bd0757fd86975b847962a359cde8510376\n'}, {'number': 4, 'created': '2014-03-31 00:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32a435b3865ccc1f9a5208d1f037dc8a9da8733d', 'message': 'vmwareapi: WIP: refactor spawn logic proposal\n\nMostly an RFC on the general approach.\nFor more details please refer to:\nhttps://etherpad.openstack.org/p/vmware-spawn-refactor-design\n\npartial blueprint vmware-spawn-refactor\n\nChange-Id: Iad0294bd0757fd86975b847962a359cde8510376\n'}, {'number': 5, 'created': '2014-03-31 06:25:26.000000000', 'files': ['nova/virt/vmwareapi/vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de334795f87086b0074c0e4076b46b5033cb43f7', 'message': 'vmwareapi: WIP: refactor spawn logic proposal\n\nMostly an RFC on the general approach.\nFor more details please refer to:\nhttps://etherpad.openstack.org/p/vmware-spawn-refactor-design\n\npartial blueprint vmware-spawn-refactor\n\nChange-Id: Iad0294bd0757fd86975b847962a359cde8510376\n'}]",18,82958,de334795f87086b0074c0e4076b46b5033cb43f7,56,9,5,8027,,,0,"vmwareapi: WIP: refactor spawn logic proposal

Mostly an RFC on the general approach.
For more details please refer to:
https://etherpad.openstack.org/p/vmware-spawn-refactor-design

partial blueprint vmware-spawn-refactor

Change-Id: Iad0294bd0757fd86975b847962a359cde8510376
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/82958/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/vmops.py'],1,05ac49a6f5a9837f1647de1faa225acec37af82f,bp/vmware-spawn-refactor,"import abcimport sixclass VirtualMachineInstanceConfigInfo(object): def __init__(self): # define fields? pass class VirtualMachine(object): def __init__(self, vi, vm_ref): self.vi = vi self.vm_ref = vm_ref pass def get_image_handler(vi): handler = FileBasedDownloadImageHandler(vi) return handler def get_image_adapter(vi): if vi.disk_type == ""thin"" or vi.disk_type == ""preallocated"": return FlatAdapter(vi) elif vi.disk_type == ""sparse"": return SparseAdapter(vi) if vi.is_iso: return IsoAdapter(vi) raise NotImplementedError("""") def get_image_use(vi): if vi.linked_clone: return LinkedC def get_tmp_folder_name(self): return self._tmp_folder def get_base_folder_name(self): return self._base_folder # # A discrete configuration step decorator. # # NO-OP for now. # # Note(vui): # A more uniform representation of each discrete step in spawn will # allow for some flexibility and enhancements in how they can be handled # in the future. # # Some cross-cutting functions that can be considered here: # - accumulating multiple calls and batching them to reduce round-trips # to server, # - doing preflight checks on all calls before invoking, # - tracking process / steps completed, etc) # def work_step(func): return func # # Reads and save out everything relevant from the spawn parameters # def _get_vm_config_info(self, context, instance, image_meta, injected_files, vi = VirtualMachineInstanceConfigInfo() # stashing these for now. to be removed with additional refactoring vi.vmops = self vi.context = context vi.instance = instance vi.injected_files = injected_files vi.admin_password = admin_password vi.block_device_mapping = None vi.block_device_mapping = driver.block_device_info_get_mapping( vi.file_type, vi.is_iso = self._get_disk_format(image_meta) vi.cf = self._session._get_vim().client.factory vi.vdm = self._session._get_vim().get_service_content().virtualDiskManager vi.ds = vm_util.get_datastore_ref_and_name(self._session, self._cluster, vi.data_store_ref = vi.ds[0] vi.data_store_name = vi.ds[1] vi.dc_info = self.get_datacenter_ref_and_name(vi.data_store_ref) vi.cache_root_ds_loc = DsPath( vi.data_store_name, self._base_folder, """", DsPath.DIRECTORY) vi.root_gb = instance['root_gb'] vi.root_gb_in_kb = vi.root_gb * units.Mi (vi.vmdk_file_size_in_kb, vi.os_type, vi.adapter_type, vi.disk_type, vi.vif_model, vi.image_linked_clone) = self.get_image_properties(context, instance, vi.root_gb_in_kb) # this logic allows for instances or images to decide # for themselves which strategy is best for them. vi.linked_clone = VMwareVMOps.decide_linked_clone( vi.image_linked_clone, CONF.vmware.use_linked_clone ) if vi.root_gb_in_kb and vi.vmdk_file_size_in_kb > vi.root_gb_in_kb: vi.node_mo_id = vm_util.get_mo_id_from_instance(instance) vi.res_pool_ref = vm_util.get_res_pool_ref(self._session, self._cluster, vi.node_mo_id) vi.instance_name = instance_name if not instance_name: vi.instance_name = instance['uuid'] vi.vif_infos = self.get_vif_infos(network_info, vi.vif_model) vi.power_on_after_create = power_on return vi def _get_vm_ref(self, vi): if vi.instance_name != vi.instance['uuid']: vi.instance_name) else: vm_ref = vm_util.get_vm_ref(self._session, vi.instance) return vm_ref @work_step def _create_vm(self, vi): client_factory = self._session._get_vim().client.factory # Get the create vm config spec config_spec = vm_util.get_vm_create_spec( client_factory, vi.instance, vi.instance_name, vi.data_store_name, vi.vif_infos, vi.os_type) task = self.execute_create_vm(vi.instance, config_spec, vi.dc_info.vmFolder, vi.res_pool_ref) # Note(vui): just populate the vm lookup cache with task.result? return VirtualMachine(vi, self._get_vm_ref(vi)) @work_step def _attach_from_block_device_mapping(self, vi): # Attach the root disk to the VM. for root_disk in vi.block_device_mapping: connection_info = root_disk['connection_info'] vi.vmops._volumeops.attach_root_volume(connection_info, vi.instance, self._default_root_device, vi.data_store_ref) @work_step def _inject_nic_config(self, vi): client_factory = self._session._get_vim().client.factory self._set_machine_id(client_factory, vi.instance, vi.network_info) @work_step def _configure_console_access(self, vi): client_factory = self._session._get_vim().client.factory self._set_vnc_config(client_factory, vi.instance, vnc_port) @work_step def _configure_config_drive(self, vi): session_vim = self._session._get_vim() vi.cookies = session_vim.client.options.transport.cookiejar if configdrive.required_by(vi.instance): uploaded_iso_path = self._create_config_drive(vi.instance, vi.injected_files, vi.admin_password, vi.data_store_name, vi.dc_info.name, vi.instance['uuid'], cookies) uploaded_iso_path = ds_util.build_datastore_path( vi.data_store_name, uploaded_iso_path) self._attach_cdrom_to_vm( vm_ref, vi.instance, vi.data_store_ref, uploaded_iso_path) @work_step def _power_on_new_vm(self, vm): if vm.vi.power_on_after_create: self.power_on_vm(vm.vi.instance, vm.vm_ref) @work_step def _fetch_image_if_missing(self, vi): image_handler = get_image_handler(vi) image_adapter = get_image_adapter(vi) image_handler.fetch(vi.instance['image_ref'], image_adapter) @work_step def _use_image(self, newvm) vi = newvm.vi image_user = get_image_user(vi) image_user.use() @work_step def _enlist_image(self, vi): ds_browser = self._get_ds_browser(vi.data_store_ref) # Check if the timestamp file exists - if so then delete it. This # will ensure that the aging will not delete a cache image if it # is going to be used now. if CONF.remove_unused_base_images: ds_path = ds_util.build_datastore_path(vi.data_store_name, vi._base_folder) path = self._imagecache.timestamp_folder_get(ds_path, vi.image_name) # Lock to ensure that the spawn will not try and access a image # that is currently being deleted on the datastore. with lockutils.lock(path, lock_file_prefix='nova-vmware-ts', external=True): self._imagecache.timestamp_cleanup(dc_info.ref, ds_browser, vi.data_store_ref, vi.data_store_name, path) def spawn(self, context, instance, image_meta, injected_files, admin_password, network_info, block_device_info=None, instance_name=None, power_on=True): # Builds the VirtualMachineInstanceConfigInfo object # to house the parameters need to create new instance vi = self._get_vm_config_info( context, instance, image_meta, injected_files, admin_password, network_info, block_device_info, instance_name, power_on) newvm = self._create_vm(vi) self._inject_nic_config(vi) self._configure_console_access(vi) if vi.block_device_mapping: self._attach_from_block_device_mapping(vi) self._power_on_new_vm(newvm) return self._fetch_image_if_missing(vi) # Attach the root disk to the VM. self._volumeops.attach_disk_to_vm( vm_ref, vi.instance, vi.adapter_type, vi.disk_type, root_vmdk_path, vi.root_gb_in_kb, vi.linked_clone) self._configure_config_drive(vi) self._power_on_new_vm(newvm) # Datastore path representation class DsPath(object): """"""Class for describing a directory or file path in a vSphere datatore. This provides various helper methods to access components and useful variants of the datastore path. Examples on how to instance objects of this class: DsPath(""datastore1"", ""_base/foo"", ""foo.vmdk"") creates an object that describes the ""[datastore1] _base/foo/foo.vmdk"" datastore file path. DsPath(""datastore1"", ""_temp"", ""some_dir_name"") creates an object that describes the ""[datastore1] _temp/some_dir_name"" datastore directory path. valid path_type """""" VMDK_FLAT = ""flat"" VMDK_SPARSE = ""sparse"" ISO = ""iso"" DIRECTORY = ""directory"" FILE = ""file"" def __init__(self, datastore_name, parent_dir_rel_path, leaf_name="""", path_type=FILE): self._ds_name = datastore_name self._parent_dir = parent_dir_rel_path self._leaf_name = leaf_name self._path_type = path_type def ds_path(self): """"""Full datastore path to the file or directory."""""" if self._leaf_name: return ""[%s] %s/%s"" % (self.ds_name(), self._parent_dir, self._leaf_name) return ""[%s] %s"" % (self.ds_name(), self._parent_dir) def ds_name(self): """"""Name of the datastore containing the path."""""" return self._ds_name def rel_path(self): """"""Path relative to the datastore root."""""" if self._leaf_name: return ""%s/%s"" % (self._parent_dir, self._leaf_name) return self._parent_dir def path_type(self): """"""Type of path."""""" return self._path_type def parent_rel_path(self): """"""Path of parent directory relative to datastore."""""" rel_path = self.rel_path() if rel_path.find(""/"") == -1: return """" else: return self.rel_path().rsplit(""/"", 1)[0] def parent_ds_path(self): parent_rel_path = self.parent_rel_path() if parent_rel_path: return ""[%s] %s"" % (self.ds_name(), parent_rel_path) else: return ""[%s]"" % self.ds_name() def file_name(self): """"""Name of the directory or file."""""" return self.rel_path().split(""/"")[-1] def file_name_no_extension(self): """"""Name of the file or directory, with trailing .xxx characters stripped if present."""""" file_name = self.file_name() return file_name[0:file_name.rfind('.')] # Note(vui): Some day we should stop referencing individual components of a # virtual disk. Some day. def make_data_ds_path_object(self): """"""Construct and returns another DsPath object corresponding to the data part of the virtual disk file"""""" ds_name = self.ds_name() parent_dir = self.parent_rel_path() file_name = self.file_name() if self._path_type == DsPath.VMDK_SPARSE: # only monosparse vmdk is supported, and they exists as single file # of data with embedded metadata. new_file_name = file_name elif self._path_type == DsPath.VMDK_FLAT: name_no_extension = file_name[0:file_name.rfind('.')] new_file_name = ""%s-%s.vmdk"" % (name_no_extension, ""flat"") else: raise NotImplementedError(msg) return DsPath(ds_name, parent_dir, new_file_name, DsPath.FILE) # Image Handlers @six.add_metaclass(abc.ABCMeta) class ImageHandler(object): """"""Image Handler abstract base class. Image handlers are responsible for obtaining the data of the image. """""" def __init__(self, vi): self.vi = vi ds_name = vi.data_store_name image_id = vi.instance['image_ref'] cached_image_name = ""%s.%s"" % (image_id, vi.file_type) self.cached_image_folder_ds_loc = DsPath(ds_name, vi.cache_root_ds_loc.rel_path(), image_id, DsPath.DIRECTORY) if vi.is_iso: cached_path_type = DsPath.ISO elif vi.disk_type == ""sparse"": cached_path_type = DsPath.VMDK_SPARSE else: cached_path_type = DsPath.VMDK_FLAT self.cached_image_ds_loc = DsPath(ds_name, self.cached_image_folder_ds_loc.rel_path(), cached_image_name, cached_path_type) def image_exists(self): session = self.vi.vmops._session cookies = session._get_vim().client.options.transport.cookiejar ds_browser = self.vi.vmops._get_ds_browser(self.vi.data_store_ref) file_exists = ds_util.file_exists( session, ds_browser, self.cached_image_folder_ds_loc.rel_path(), self.cached_image_ds_loc.file_name()) return file_exists @abc.abstractmethod def fetch(self, image_id, image_adapter): """"""Retrieve the data corresponding to a virtual machine image."""""" raise NotImplementedError(""fetch"") # Note(vui): for refactoring snapshot() next? # @abc.abstractmethod # def upload(image_id, image_adapter): # """"""Uploads data corresponding to a virtual machine image."""""" @six.add_metaclass(abc.ABCMeta) class DownloadImageHandler(ImageHandler): def __init__(self, vi): super(DownloadImageHandler, self).__init__(vi) self._ds_paths_to_delete = [] pass @abc.abstractmethod def _download_image(self, image_id, image_adapter): raise NotImplementedError(""_download_image"") def _register_for_delete(self, path): self._ds_paths_to_delete.append(path) pass def _setup(self): self.vi.vmops.check_cache_folder(self.vi.data_store_name, self.vi.data_store_ref) pass def _cleanup(self): session = self.vi.vmops._session for path in self._ds_paths_to_delete: ds_util.file_delete(session, path, self.vi.dc_info.ref) pass def _initialize_image_destination(self, image_adapter): self._image_ds_loc = image_adapter.get_image_fetch_location( self.cached_image_ds_loc) def fetch(self, image_id, image_adapter): if not self.image_exists(): self._initialize_image_destination(image_adapter) try: self._setup() self._download_image(image_id) image_adapter.cache(image_id) finally: self._cleanup() class FileBasedDownloadImageHandler(DownloadImageHandler): def __init__(self, vi): super(FileBasedDownloadImageHandler, self).__init__(vi) pass def _setup(self): super(FileBasedDownloadImageHandler, self)._setup() tmp_dir_name = uuidutils.generate_uuid() self.tmp_dir_loc = DsPath(self.vi.data_store_name, tmp_dir_name, """", DsPath.DIRECTORY) self._register_for_delete(self.tmp_dir_loc.ds_path()) pass def _download_image(self, image_id): vi = self.vi session_vim = vi.vmops._session._get_vim() cookies = session_vim.client.options.transport.cookiejar image_dir_name = self.cached_image_folder_ds_loc.file_name() LOG.debug(_(""Downloading image file data %(image_ref)s to "" ""%(file_path)s on the data store "" ""%(datastore_name)s""), {'image_ref': image_id, 'file_path': self._image_ds_loc.ds_path(), 'datastore_name': vi.data_store_name}, instance=vi.instance) vmware_images.fetch_image( vi.context, image_id, vi.instance, host=vi.vmops._session._host_ip, data_center_name=vi.dc_info.name, datastore_name=vi.data_store_name, cookies=cookies, file_path=self._image_ds_loc.rel_path()) @six.add_metaclass(abc.ABCMeta) class ImageAdapter(object): """"""Image Adapter abstract base class. Image adapters are employed by the image handlers to perform custom processing of the downloaded image data into a cached image item. """""" def __init__(self, vi): self.vi = vi @abc.abstractmethod def cache(self, image_id): """"""Cache a usable version of the downloaded image in the image cache. """""" raise NotImplementedError(""cache"") def get_image_fetch_location(self, cached_image_ds_loc): """"""Get a fetch ds path given the expected cached image ds path :param: cached_image_ds_loc: DsPath object corresponding to the expected path to the cached image :returns: the actual ds path to fetch image data to. """""" self.vi.vmops.check_temp_folder(self.vi.data_store_name, self.vi.data_store_ref) return self._prepare_image_fetch_location(cached_image_ds_loc) @abc.abstractmethod def _prepare_image_fetch_location(self, cached_image_ds_loc): """"""Readies a datastore path for image to be fetched to. Depending on the image type this can involve additional directory and file operations before making a datastore location available. :param: cached_image_ds_loc: DsPath object corresponding to the expected path to the cached image :returns: a datastore path to fetch image data to. """""" raise NotImplementedError(""prepare_image_fetch_location"") class NoopImageAdapter(ImageAdapter): """"""A No-op Image Adapter"""""" def cache(self, image_id): pass class SparseAdapter(ImageAdapter): """"""Adapter for a sparse vmdk image. Process a sparse vmdk into thin flat disk for the image cache on the datastore. """""" def __init__(self, vi): super(SparseAdapter, self).__init__(vi) def _prepare_image_fetch_location(self, cached_image_ds_loc): """"""Readies a datastore path for image to be fetched to. Depending on the image type this can involve additional directory and file operations before making a datastore location available. :param: cached_image_ds_loc: DsPath object corresponding to the expected path to the cached image :returns: a datastore path to fetch image data to. """""" vi = self.vi session = vi.vmops._session cookies = session._get_vim().client.options.transport.cookiejar image_dir_rel_path = ""%s/%s"" % (self.vi.vmops.get_tmp_folder_name(), self.vi.instance[""image_ref""]) self.tmp_image_ds_loc = DsPath( cached_image_ds_loc.ds_name(), image_dir_rel_path, ""tmp-sparse.vmdk"", #cached_image_ds_loc.file_name(), cached_image_ds_loc.path_type()) self.converted_image_ds_loc = DsPath( cached_image_ds_loc.ds_name(), image_dir_rel_path, cached_image_ds_loc.file_name(), cached_image_ds_loc.path_type()) return self.tmp_image_ds_loc def cache(self, image_id): vi = self.vi session = vi.vmops._session vi.vmops.copy_virtual_disk( vi.instance, self.tmp_image_ds_loc.ds_path(), self.converted_image_ds_loc.ds_path(), vi.adapter_type, vi.disk_type, vi.dc_info.ref) vi.vmops._delete_datastore_file( vi.instance, self.tmp_image_ds_loc.ds_path(), vi.dc_info.ref) src_folder_ds_path = self.tmp_image_ds_loc.parent_ds_path() dst_folder_ds_path = DsPath( vi.data_store_name, vi.vmops.get_base_folder_name(), """", DsPath.DIRECTORY).ds_path() ds_util.file_move(session, vi.dc_info.ref, src_folder_ds_path, dst_folder_ds_path) class FlatAdapter(ImageAdapter): """"""Adapter for a flat vmdk image. Ensures caching of the flat disk in the image cache on the datastore. """""" def __init__(self, vi): super(FlatAdapter, self).__init__(vi) def _prepare_image_fetch_location(self, cached_image_ds_loc): """"""Readies a datastore path for image to be fetched to. Depending on the image type this can involve additional directory and file operations before making a datastore location available. :param: cached_image_ds_loc: DsPath object corresponding to the expected path to the cached image :returns: a datastore path to fetch image data to. """""" vi = self.vi session = vi.vmops._session # Create a flat virtual disk and retain the metadata # file. This will be done in the unique temporary # directory. image_dir_rel_path = ""%s/%s"" % (self.vi.vmops.get_tmp_folder_name(), self.vi.instance[""image_ref""]) self.tmp_image_ds_loc = DsPath( cached_image_ds_loc.ds_name(), image_dir_rel_path, cached_image_ds_loc.file_name(), cached_image_ds_loc.path_type()) ds_util.mkdir(session, self.tmp_image_ds_loc.parent_ds_path(), vi.dc_info.ref) vi.vmops.create_virtual_disk( vi.instance, self.tmp_image_ds_loc.ds_path(), vi.vmdk_file_size_in_kb, vi.adapter_type, vi.disk_type, vi.dc_info.ref) flat_vmdk_ds_loc = self.tmp_image_ds_loc.make_data_ds_path_object() vi.vmops._delete_datastore_file( vi.instance, flat_vmdk_ds_loc.ds_path(), vi.dc_info.ref) return flat_vmdk_ds_loc def cache(self, image_id): vi = self.vi session = vi.vmops._session src_folder_ds_path = self.tmp_image_ds_loc.parent_ds_path() dst_folder_ds_path = DsPath( vi.data_store_name, vi.vmops.get_base_folder_name(), """", DsPath.DIRECTORY).ds_path() ds_util.file_move(session, vi.dc_info.ref, src_folder_ds_path, dst_folder_ds_path) pass class IsoAdapter(ImageAdapter): """"""Adapter for an ISO image. Ensures caching of the ISO image in the image cache on the datastore. """""" def __init__(self, vi): super(IsoAdapter, self).__init__(vi) def cache(image_id): raise NotImplementedError(""IsoAdapter cache"") # Image Users @six.add_metaclass(abc.ABCMeta) class ImageUser(vi): """"""Image user abstract base class Image users defines how a cache image is used by a newly spawned virtual machine. """""" def __init__(vi) self.vi = vi @abc.abstractmethod def use(self) pass class DuplicateImageUser(vi): """"""Uses cached image disk by making a copy of it into the VM directory."""""" def __init__(self, vi): super(DuplicateImageUser, self).__init__(vi) def use(self) # disk_id = create_virtual_disk(image_id) # disk_id = resize_virtual_disk(image_id) # attach_disk_to_vm(vm_id, disk_id) pass # Note(vui): What we are doing is not using link-clone VMs at all, just # COWing a disk. Rename class? class LinkedCloneImageUser(vi): """"""Uses cached image disk as parent of a COW child in the VM directory."""""" def __init__(self, vi): super(LinkCloneImageUser, self).__init__(vi) def use(self): # disk_id = create_sized_disk(image_id, flavor.size) # attach_disk_to_vm(vm_id, disk_id, link_clone=True) pass class IsoImageUser(vi): """"""Uses cached image as a bootable virtual cdrom"""""" def __init__(self, vi): super(LinkCloneImageUser, self).__init__(vi) def use(self) # attach_cdrom_to_vm(vm_id, iso_id) # create_blank_virtual_disk() # attach_disk_to_vm(vm_id, disk_id) pass"," def spawn(self, context, instance, image_meta, injected_files, """"""Creates a VM instance. Steps followed are: 1. Create a VM with no disk and the specifics in the instance object like RAM size. 2. For flat disk 2.1. Create a dummy vmdk of the size of the disk file that is to be uploaded. This is required just to create the metadata file. 2.2. Delete the -flat.vmdk file created in the above step and retain the metadata .vmdk file. 2.3. Upload the disk file. 3. For sparse disk 3.1. Upload the disk file to a -sparse.vmdk file. 3.2. Copy/Clone the -sparse.vmdk file to a thin vmdk. 3.3. Delete the -sparse.vmdk file. 4. Attach the disk to the VM by reconfiguring the same. 5. Power on the VM. """""" ebs_root = False block_device_mapping = driver.block_device_info_get_mapping( if block_device_mapping: ebs_root = True (file_type, is_iso) = self._get_disk_format(image_meta) client_factory = self._session._get_vim().client.factory service_content = self._session._get_vim().get_service_content() ds = vm_util.get_datastore_ref_and_name(self._session, self._cluster, data_store_ref = ds[0] data_store_name = ds[1] dc_info = self.get_datacenter_ref_and_name(data_store_ref) root_gb = instance['root_gb'] root_gb_in_kb = root_gb * units.Mi (vmdk_file_size_in_kb, os_type, adapter_type, disk_type, vif_model, image_linked_clone) = self.get_image_properties(context, instance, root_gb_in_kb) if root_gb_in_kb and vmdk_file_size_in_kb > root_gb_in_kb: node_mo_id = vm_util.get_mo_id_from_instance(instance) res_pool_ref = vm_util.get_res_pool_ref(self._session, self._cluster, node_mo_id) vif_infos = self.get_vif_infos(network_info, vif_model) if not instance_name: instance_name = instance['uuid'] # Get the create vm config spec config_spec = vm_util.get_vm_create_spec( client_factory, instance, instance_name, data_store_name, vif_infos, os_type) self.execute_create_vm(instance, config_spec, dc_info.vmFolder, res_pool_ref) if instance_name != instance['uuid']: instance_name) else: vm_ref = vm_util.get_vm_ref(self._session, instance) self._set_machine_id(client_factory, instance, network_info) self._set_vnc_config(client_factory, instance, vnc_port) if not ebs_root: # this logic allows for instances or images to decide # for themselves which strategy is best for them. linked_clone = VMwareVMOps.decide_linked_clone( image_linked_clone, CONF.vmware.use_linked_clone ) upload_name = instance['image_ref'] upload_folder = '%s/%s' % (self._base_folder, upload_name) # The vmdk meta-data file uploaded_file_name = ""%s/%s.%s"" % (upload_folder, upload_name, file_type) uploaded_file_path = ds_util.build_datastore_path(data_store_name, uploaded_file_name) session_vim = self._session._get_vim() cookies = session_vim.client.options.transport.cookiejar ds_browser = self._get_ds_browser(data_store_ref) upload_file_name = upload_name + "".%s"" % file_type # Check if the timestamp file exists - if so then delete it. This # will ensure that the aging will not delete a cache image if it # is going to be used now. if CONF.remove_unused_base_images: ds_path = ds_util.build_datastore_path(data_store_name, self._base_folder) path = self._imagecache.timestamp_folder_get(ds_path, upload_name) # Lock to ensure that the spawn will not try and access a image # that is currently being deleted on the datastore. with lockutils.lock(path, lock_file_prefix='nova-vmware-ts', external=True): self._imagecache.timestamp_cleanup(dc_info.ref, ds_browser, data_store_ref, data_store_name, path) # Check if the image exists in the datastore cache. If not the # image will be uploaded and cached. if not (self._check_if_folder_file_exists(ds_browser, data_store_ref, data_store_name, upload_folder, upload_file_name)): # Upload will be done to the self._tmp_folder and then moved # to the self._base_folder tmp_upload_folder = '%s/%s' % ( self._tmp_folder, generate_new_upload_folder_name()) upload_folder = '%s/%s' % (tmp_upload_folder, upload_name) # Naming the VM files in correspondence with the VM instance # The flat vmdk file name flat_uploaded_vmdk_name = ""%s/%s-flat.vmdk"" % ( upload_folder, upload_name) # The sparse vmdk file name for sparse disk image sparse_uploaded_vmdk_name = ""%s/%s-sparse.vmdk"" % ( upload_folder, upload_name) flat_uploaded_vmdk_path = ds_util.build_datastore_path( data_store_name, flat_uploaded_vmdk_name) sparse_uploaded_vmdk_path = ds_util.build_datastore_path( data_store_name, sparse_uploaded_vmdk_name) upload_file_name = ""%s/%s.%s"" % (upload_folder, upload_name, file_type) upload_path = ds_util.build_datastore_path(data_store_name, upload_file_name) if not is_iso: if disk_type != ""sparse"": # Create a flat virtual disk and retain the metadata # file. This will be done in the unique temporary # directory. ds_util.mkdir(self._session, ds_util.build_datastore_path( data_store_name, upload_folder), dc_info.ref) self.create_virtual_disk(instance, upload_path, vmdk_file_size_in_kb, adapter_type, disk_type, dc_info.ref) self._delete_datastore_file(instance, flat_uploaded_vmdk_path, dc_info.ref) upload_file_name = flat_uploaded_vmdk_name else: upload_file_name = sparse_uploaded_vmdk_name self.fetch_image_on_datastore(context, instance, data_store_name, dc_info.name, upload_file_name) if not is_iso and disk_type == ""sparse"": # Copy the sparse virtual disk to a thin virtual disk. disk_type = ""thin"" self.copy_virtual_disk(instance, sparse_uploaded_vmdk_path, upload_path, adapter_type, disk_type, dc_info.ref) self._delete_datastore_file(instance, sparse_uploaded_vmdk_path, dc_info.ref) base_folder = '%s/%s' % (self._base_folder, upload_name) dest_folder = ds_util.build_datastore_path(data_store_name, base_folder) src_folder = ds_util.build_datastore_path(data_store_name, upload_folder) try: ds_util.file_move(self._session, dc_info.ref, src_folder, dest_folder) except error_util.FileAlreadyExistsException: # File move has failed. This may be due to the fact that a # process or thread has already completed the opertaion. # In the event of a FileAlreadyExists we continue, # all other exceptions will be raised. LOG.debug(_(""File %s already exists""), dest_folder) # Delete the temp upload folder self._delete_datastore_file(instance, ds_util.build_datastore_path(data_store_name, tmp_upload_folder), dc_info.ref) else: # linked clone base disk exists if disk_type == ""sparse"": disk_type = ""thin"" if is_iso: if root_gb_in_kb: dest_vmdk_path = self._get_vmdk_path(data_store_name, instance['uuid'], instance_name) # Create the blank virtual disk for the VM self.create_virtual_disk(instance, dest_vmdk_path, root_gb_in_kb, adapter_type, disk_type, dc_info.ref) root_vmdk_path = dest_vmdk_path else: root_vmdk_path = None else: # Extend the disk size if necessary if not linked_clone: # If we are not using linked_clone, copy the image from # the cache into the instance directory. If we are using # linked clone it is references from the cache directory dest_vmdk_path = self._get_vmdk_path(data_store_name, instance_name, instance_name) self.copy_virtual_disk(instance, uploaded_file_path, dest_vmdk_path, adapter_type, disk_type, dc_info.ref) root_vmdk_path = dest_vmdk_path if root_gb_in_kb > vmdk_file_size_in_kb: self._extend_virtual_disk(instance, root_gb_in_kb, root_vmdk_path, dc_info.ref) else: upload_folder = '%s/%s' % (self._base_folder, upload_name) root_vmdk_name = ""%s/%s.%s.vmdk"" % (upload_folder, upload_name, root_gb) root_vmdk_path = ds_util.build_datastore_path( data_store_name, root_vmdk_name) if not self._check_if_folder_file_exists(ds_browser, data_store_ref, data_store_name, upload_folder, upload_name + "".%s.vmdk"" % root_gb): LOG.debug(_(""Copying root disk of size %sGb""), root_gb) try: self.copy_virtual_disk(instance, uploaded_file_path, root_vmdk_path, adapter_type, disk_type, dc_info.ref) except Exception as e: LOG.warning(_(""Root disk file creation "" ""failed - %s""), e) if root_gb_in_kb > vmdk_file_size_in_kb: self._extend_virtual_disk(instance, root_gb_in_kb, root_vmdk_path, dc_info.ref) # Attach the root disk to the VM. if root_vmdk_path: self._volumeops.attach_disk_to_vm( vm_ref, instance, adapter_type, disk_type, root_vmdk_path, root_gb_in_kb, linked_clone) if is_iso: self._attach_cdrom_to_vm( vm_ref, instance, data_store_ref, uploaded_file_path) if configdrive.required_by(instance): uploaded_iso_path = self._create_config_drive(instance, injected_files, admin_password, data_store_name, dc_info.name, instance['uuid'], cookies) uploaded_iso_path = ds_util.build_datastore_path( data_store_name, uploaded_iso_path) self._attach_cdrom_to_vm( vm_ref, instance, data_store_ref, uploaded_iso_path) else: # Attach the root disk to the VM. for root_disk in block_device_mapping: connection_info = root_disk['connection_info'] self._volumeops.attach_root_volume(connection_info, instance, self._default_root_device, data_store_ref) if power_on: self.power_on_vm(instance, vm_ref)",710,251
openstack%2Fhacking~master~I413eb75930352cad6d425504d225670a7015ce3f,openstack/hacking,master,I413eb75930352cad6d425504d225670a7015ce3f,Avoid IndexError,ABANDONED,2014-04-09 12:12:29.000000000,2014-04-17 06:03:12.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}]","[{'number': 1, 'created': '2014-04-09 12:12:29.000000000', 'files': ['hacking/core.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/989282bd024fba05082db8dd7a2d6321d2c01bad', 'message': 'Avoid IndexError\n\nChange-Id: I413eb75930352cad6d425504d225670a7015ce3f\nCloses-Bug: #1305027\n'}]",0,86303,989282bd024fba05082db8dd7a2d6321d2c01bad,5,2,1,4264,,,0,"Avoid IndexError

Change-Id: I413eb75930352cad6d425504d225670a7015ce3f
Closes-Bug: #1305027
",git fetch https://review.opendev.org/openstack/hacking refs/changes/03/86303/1 && git format-patch -1 --stdout FETCH_HEAD,['hacking/core.py'],1,989282bd024fba05082db8dd7a2d6321d2c01bad,," if (split_line_len > 1 and split_line[0] in ('import', 'from') and"," if (split_line[0] in ('import', 'from') and split_line_len > 1 and",1,1
openstack%2Fnova~master~Id07e6f5d343e9d4672566bd3b5b84c3ab5b3c82f,openstack/nova,master,Id07e6f5d343e9d4672566bd3b5b84c3ab5b3c82f,Allow nova to inject dhcp config to guest OS.,ABANDONED,2014-04-09 09:57:38.000000000,2014-04-17 06:03:10.000000000,,"[{'_account_id': 3}, {'_account_id': 2166}, {'_account_id': 5170}, {'_account_id': 5371}, {'_account_id': 6873}, {'_account_id': 8190}, {'_account_id': 9578}, {'_account_id': 9775}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-09 09:57:38.000000000', 'files': ['nova/virt/xenapi/vm_utils.py', 'nova/tests/network/test_network_info.py', 'nova/virt/interfaces.template', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2c5598516f97d6fe400a005060d4b6933b41a49', 'message': 'Allow nova to inject dhcp config to guest OS.\n\nCurrently nova does not inject the network setup for\nDHCP network configurations when it is configured to\ninject network setup into guest OSes using the\nflat_injected=true option in the nova.conf file.\nThis prevents the user from deploying a VM with\nDHCP using an image captured with static ip addresses.\n\nIn addition to injecting DHCP settings if the subnet\nhas a DHCP server specified, configuration values\nhave been added to allow the administrator to control\nthe behavior when the VIF does not have an IPv4 or\nIPv6 subnet.  In some environments it is desirable for\nthe operating system network interface to be configured\nwith DHCP or IPv6 auto conf to self-configure using\nDHCP servers available in the network.\n\nNote that all the previous test cases have been modified\nto work with this and a set of new test cases are added\nto test the new change.\n\nCloses Bug: #1298002\n\nChange-Id: Id07e6f5d343e9d4672566bd3b5b84c3ab5b3c82f\n'}]",8,86274,c2c5598516f97d6fe400a005060d4b6933b41a49,21,9,1,9775,,,0,"Allow nova to inject dhcp config to guest OS.

Currently nova does not inject the network setup for
DHCP network configurations when it is configured to
inject network setup into guest OSes using the
flat_injected=true option in the nova.conf file.
This prevents the user from deploying a VM with
DHCP using an image captured with static ip addresses.

In addition to injecting DHCP settings if the subnet
has a DHCP server specified, configuration values
have been added to allow the administrator to control
the behavior when the VIF does not have an IPv4 or
IPv6 subnet.  In some environments it is desirable for
the operating system network interface to be configured
with DHCP or IPv6 auto conf to self-configure using
DHCP servers available in the network.

Note that all the previous test cases have been modified
to work with this and a set of new test cases are added
to test the new change.

Closes Bug: #1298002

Change-Id: Id07e6f5d343e9d4672566bd3b5b84c3ab5b3c82f
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/86274/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/vm_utils.py', 'nova/tests/network/test_network_info.py', 'nova/virt/interfaces.template', 'nova/virt/netutils.py']",4,c2c5598516f97d6fe400a005060d4b6933b41a49,bug/1298002,"injection_ops = [ cfg.StrOpt('no_v4subnet_method_inject', default=None, help='The network configuration method to inject in the VMs ' 'network template if the VIF does not have a IPv4 subnet.' 'Valid values are (None, dhcp)'), cfg.StrOpt('no_v6subnet_method_inject', default=None, help='The network configuration method to inject in the VMs ' 'network template if the VIF does not have a IPv6 subnet.' 'Valid values are (None, dhcp, auto)')] CONF.register_opts(injection_ops) template=CONF.injected_network_template): if not vif['network']: methodv4 = None methodv4 = 'dhcp' elif subnet_v4['ips']: methodv4 = 'static' else: # The VIF doesn't have a v4 subnet. Check CONF values. if CONF.no_v4subnet_method_inject and \ CONF.no_v4subnet_method_inject.lower() == 'dhcp': methodv4 = 'dhcp' methodv6 = None methodv6 = 'dhcp' elif subnet_v6['ips']: methodv6 = 'static' ipv6_is_available = True elif use_ipv6: # request to use ipv6 but no subnet defined. # Check the CONF value for the method to use. if CONF.no_v6subnet_method_inject: if CONF.no_v6subnet_method_inject.lower() == 'dhcp': methodv6 = 'dhcp' ipv6_is_available = True elif CONF.no_v6subnet_method_inject.lower() == 'auto': methodv6 = 'auto' ipv6_is_available = True if methodv4 or methodv6: net_info = {'name': 'eth%d' % ifc_num, 'methodv4': methodv4, 'methodv6': methodv6, 'address': address, 'netmask': netmask, 'gateway': gateway, 'broadcast': broadcast, 'dns': dns, 'address_v6': address_v6, 'gateway_v6': gateway_v6, 'netmask_v6': netmask_v6} nets.append(net_info)"," template=CONF.injected_network_template): if not vif['network'] or not vif['network']['subnets']: continue if subnet_v4['ips']: continue if subnet_v6['ips']: net_info = {'name': 'eth%d' % ifc_num, 'address': address, 'netmask': netmask, 'gateway': gateway, 'broadcast': broadcast, 'dns': dns, 'address_v6': address_v6, 'gateway_v6': gateway_v6, 'netmask_v6': netmask_v6, } nets.append(net_info)",151,60
openstack%2Fswift~master~I90178372de11ed3da60b51c4a7db16b007b883b9,openstack/swift,master,I90178372de11ed3da60b51c4a7db16b007b883b9,refactor proxy and close connections,ABANDONED,2014-03-04 07:38:47.000000000,2014-04-17 06:03:09.000000000,,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 917}, {'_account_id': 1179}, {'_account_id': 1216}, {'_account_id': 2828}, {'_account_id': 6968}]","[{'number': 1, 'created': '2014-03-04 07:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43ded4cb516ec8f9b388750a852a5ab1d7e729fd', 'message': ""refactor proxy and close connections\n\nThe last time someone went after the close backend connections on PUT bug a\nrefactoring of that method came up as something we should do.  And I've often\ngiven Swift's proxy.controller.obj.PUT as an example of a fairly complex\nmethod.\n\nSo I think this is better, but mostly just cause it started out so unruly.\nThis may be able to improve (significantly?!) further, but I'll probably need\nto step away from it for a bit to come back and see if I've done anything\nreally ugly - or you could just point it out to me (or just push over the\nchange).\n\nAlso, close backend connections to object servers when we're done with them -\nalways.\n\nFixes lp bug #667956\n\nChange-Id: I90178372de11ed3da60b51c4a7db16b007b883b9\n""}, {'number': 2, 'created': '2014-03-04 15:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2632395c277322f23bb0bfc2d27565277cacfb9e', 'message': ""refactor proxy and close connections\n\nThe last time someone went after the close backend connections on PUT bug a\nrefactoring of that method came up as something we should do.  And I've often\ngiven Swift's proxy.controller.obj.PUT as an example of a fairly complex\nmethod.\n\nSo I think this is better, but mostly just cause it started out so unruly.\nThis may be able to improve (significantly?!) further, but I'll probably need\nto step away from it for a bit to come back and see if I've done anything\nreally ugly - or you could just point it out to me (or just push over the\nchange).\n\nAlso, close backend connections to object servers when we're done with them -\nalways.\n\nFixes lp bug #667956\n\nChange-Id: I90178372de11ed3da60b51c4a7db16b007b883b9\n""}, {'number': 3, 'created': '2014-03-04 17:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/696948baa6b4e5ca42619aad9a35011d23d2c25a', 'message': ""refactor proxy and close connections\n\nThe last time someone went after the close backend connections on PUT bug a\nrefactoring of that method came up as something we should do.  And I've often\ngiven Swift's proxy.controller.obj.PUT as an example of a fairly complex\nmethod.\n\nSo I think this is better, but mostly just cause it started out so unruly.\nThis may be able to improve (significantly?!) further, but I'll probably need\nto step away from it for a bit to come back and see if I've done anything\nreally ugly - or you could just point it out to me (or just push over the\nchange).\n\nAlso, close backend connections to object servers when we're done with them -\nalways.\n\nFixes lp bug #667956\n\nChange-Id: I90178372de11ed3da60b51c4a7db16b007b883b9\n""}, {'number': 4, 'created': '2014-03-05 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d26ac65e12658b872908e369ee68cb27ec3e7068', 'message': ""refactor proxy and close connections\n\nThe last time someone went after the close backend connections on PUT bug a\nrefactoring of that method came up as something we should do.  And I've often\ngiven Swift's proxy.controller.obj.PUT as an example of a fairly complex\nmethod.\n\nSo I think this is better, but mostly just cause it started out so unruly.\nThis may be able to improve (significantly?!) further, but I'll probably need\nto step away from it for a bit to come back and see if I've done anything\nreally ugly - or you could just point it out to me (or just push over the\nchange).\n\nAlso, close backend connections to object servers when we're done with them -\nalways.\n\nFixes lp bug #667956\n\nChange-Id: I90178372de11ed3da60b51c4a7db16b007b883b9\n""}, {'number': 5, 'created': '2014-03-05 20:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9bfe421b1453f59633e4ef913ba2b5c9327267c8', 'message': ""refactor proxy and close connections\n\nThe last time someone went after the close backend connections on PUT bug a\nrefactoring of that method came up as something we should do.  And I've often\ngiven Swift's proxy.controller.obj.PUT as an example of a fairly complex\nmethod.\n\nSo I think this is better, but mostly just cause it started out so unruly.\nThis may be able to improve (significantly?!) further, but I'll probably need\nto step away from it for a bit to come back and see if I've done anything\nreally ugly - or you could just point it out to me (or just push over the\nchange).\n\nAlso, close backend connections to object servers when we're done with them -\nalways.\n\nFixes lp bug #667956\n\nChange-Id: I90178372de11ed3da60b51c4a7db16b007b883b9\n""}, {'number': 6, 'created': '2014-03-05 20:36:31.000000000', 'files': ['test/unit/__init__.py', 'swift/common/swob.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a1cfeb70f95853c538ba833a28028f17a069cfb3', 'message': ""refactor proxy and close connections\n\nThe last time someone went after the close backend connections on PUT bug a\nrefactoring of that method came up as something we should do.  And I've often\ngiven Swift's proxy.controller.obj.PUT as an example of a fairly complex\nmethod.\n\nSo I think this is better, but mostly just cause it started out so unruly.\nThis may be able to improve (significantly?!) further, but I'll probably need\nto step away from it for a bit to come back and see if I've done anything\nreally ugly - or you could just point it out to me (or just push over the\nchange).\n\nAlso, close backend connections to object servers when we're done with them -\nalways.\n\nFixes lp bug #667956\n\nChange-Id: I90178372de11ed3da60b51c4a7db16b007b883b9\n""}]",8,77812,a1cfeb70f95853c538ba833a28028f17a069cfb3,40,7,6,1179,,,0,"refactor proxy and close connections

The last time someone went after the close backend connections on PUT bug a
refactoring of that method came up as something we should do.  And I've often
given Swift's proxy.controller.obj.PUT as an example of a fairly complex
method.

So I think this is better, but mostly just cause it started out so unruly.
This may be able to improve (significantly?!) further, but I'll probably need
to step away from it for a bit to come back and see if I've done anything
really ugly - or you could just point it out to me (or just push over the
change).

Also, close backend connections to object servers when we're done with them -
always.

Fixes lp bug #667956

Change-Id: I90178372de11ed3da60b51c4a7db16b007b883b9
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/77812/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'swift/common/swob.py', 'swift/proxy/controllers/obj.py']",3,43ded4cb516ec8f9b388750a852a5ab1d7e729fd,bug/667956," HTTPClientDisconnect, HTTPNotImplemented, HTTPException def _get_placement_info(self, req): partition, nodes = self.app.object_ring.get_nodes( self.account_name, self.container_name, self.object_name) return { 'nodes': nodes, 'partition': partition, } def _get_container_update_info(self, container_info): container_partition = container_info['partition'] containers = container_info['nodes'] return { 'container_nodes': containers, 'container_partition': container_partition, } def _get_expiring_object_info(self, req): if 'x-delete-at' not in req.headers: return {} try: x_delete_at = normalize_delete_at_timestamp( int(req.headers['x-delete-at'])) if int(x_delete_at) < time.time(): raise HTTPBadRequest( body='X-Delete-At in past', request=req, content_type='text/plain') except ValueError: raise HTTPBadRequest(request=req, content_type='text/plain', body='Non-integer X-Delete-At') req.environ.setdefault('swift.log_info', []).append( 'x-delete-at:%s' % x_delete_at) delete_at_container = normalize_delete_at_timestamp( int(x_delete_at) / self.app.expiring_objects_container_divisor * self.app.expiring_objects_container_divisor) delete_at_part, delete_at_nodes = \ self.app.container_ring.get_nodes( self.app.expiring_objects_account, delete_at_container) return { 'delete_at_nodes': delete_at_nodes, 'delete_at_container': delete_at_container, 'delete_at_part': delete_at_part, } def _update_x_timestamp(self, req, hresp): if 'x-timestamp' in req.headers: # Used by container sync feature try: req.headers['X-Timestamp'] = \ normalize_timestamp(req.headers['x-timestamp']) if hresp.environ and 'swift_x_timestamp' in hresp.environ and \ float(hresp.environ['swift_x_timestamp']) >= \ float(req.headers['x-timestamp']): return HTTPAccepted(request=req) except ValueError: return HTTPBadRequest( request=req, content_type='text/plain', body='X-Timestamp should be a UNIX timestamp float value; ' 'was %r' % req.headers['x-timestamp']) else: req.headers['X-Timestamp'] = normalize_timestamp(time.time()) def _update_content_type(self, req): # Sometimes the 'content-type' header exists, but is set to None. detect_content_type = \ config_true_value(req.headers.get('x-detect-content-type')) req.content_type_manually_set = True if detect_content_type or not req.headers.get('content-type'): guessed_type, _junk = mimetypes.guess_type(req.path_info) req.headers['Content-Type'] = guessed_type or \ 'application/octet-stream' if detect_content_type: req.headers.pop('x-detect-content-type') else: req.content_type_manually_set = False def _handle_versions(self, req, hresp, object_versions): if req.environ.get('swift_versioned_copy'): return if hresp.status_int == HTTP_NOT_FOUND: return # This is a version manifest and needs to be handled # differently. First copy the existing data to a new object, # then write the data from this request to the version manifest # object. lcontainer = object_versions.split('/')[0] prefix_len = '%03x' % len(self.object_name) lprefix = prefix_len + self.object_name + '/' ts_source = hresp.environ.get('swift_x_timestamp') if ts_source is None: ts_source = time.mktime(time.strptime( hresp.headers['last-modified'], '%a, %d %b %Y %H:%M:%S GMT')) new_ts = normalize_timestamp(ts_source) vers_obj_name = lprefix + new_ts copy_headers = { 'Destination': '%s/%s' % (lcontainer, vers_obj_name)} copy_environ = {'REQUEST_METHOD': 'COPY', 'swift_versioned_copy': True } copy_req = Request.blank(req.path_info, headers=copy_headers, environ=copy_environ) # since this request is for a different path, we're not going # to reuse this controller copy_resp = copy_req.get_response(self.app) if is_client_error(copy_resp.status_int): # missing container or bad permissions raise HTTPPreconditionFailed(request=req) elif not is_success(copy_resp.status_int): # could not copy the data, bail raise HTTPServiceUnavailable(request=req) def _check_min_conn(self, req, conns, min_conns, msg=None): msg = msg or 'Object PUT returning 503, ' \ '%(conns)s/%(min_conns)s required connections' if len(conns) < min_conns: self.app.logger.error(_(msg), { 'conns': len(conns), 'min_conns': min_conns}) raise HTTPServiceUnavailable(request=req) def _transfer_data(self, req, data_source, conns, nodes): min_conns = quorum_size(len(nodes)) self._check_min_conn(req, conns, min_conns) bytes_transferred = 0 try: with ContextPool(len(conns)) as pool: for conn in conns: conn.failed = False conn.queue = Queue(self.app.put_queue_depth) pool.spawn(self._send_file, conn, req.path) while True: with ChunkReadTimeout(self.app.client_timeout): try: chunk = next(data_source) except StopIteration: if req.is_chunked: for conn in conns: conn.queue.put('0\r\n\r\n') break bytes_transferred += len(chunk) if bytes_transferred > MAX_FILE_SIZE: raise HTTPRequestEntityTooLarge(request=req) for conn in list(conns): print 'chunk: %s' % chunk if not conn.failed: conn.queue.put( '%x\r\n%s\r\n' % (len(chunk), chunk) if req.is_chunked else chunk) else: conn.close() conns.remove(conn) self._check_min_conn( req, conns, min_conns, msg='Object PUT exceptions during send, ' '%(conns)s/%(min_conns)s required connections') for conn in conns: if conn.queue.unfinished_tasks: conn.queue.join() conns = [conn for conn in conns if not conn.failed] self._check_min_conn( req, conns, min_conns, msg='Object PUT exceptions after last send, ' '%(conns)s/%(min_conns)s required connections') except ChunkReadTimeout as err: self.app.logger.warn( _('ERROR Client read timeout (%ss)'), err.seconds) self.app.logger.increment('client_timeouts') raise HTTPRequestTimeout(request=req) except HTTPException: raise except (Exception, Timeout): self.app.logger.exception( _('ERROR Exception causing client disconnect')) raise HTTPClientDisconnect(request=req) if req.content_length and bytes_transferred < req.content_length: req.client_disconnect = True self.app.logger.warn( _('Client disconnected without sending enough data')) self.app.logger.increment('client_disconnects') raise HTTPClientDisconnect(request=req) def _get_put_connections(self, req, nodes, partition, outgoing_headers): node_iter = GreenthreadSafeIterator( self.iter_nodes_local_first(self.app.object_ring, partition)) pile = GreenPile(len(nodes)) for nheaders in outgoing_headers: # RFC2616:8.2.3 disallows 100-continue without a body if (req.content_length > 0) or req.is_chunked: nheaders['Expect'] = '100-continue' pile.spawn(self._connect_put_node, node_iter, partition, req.swift_entity_path, nheaders, self.app.logger.thread_locals) conns = [conn for conn in pile if conn] return conns def _store_object( # state, metadata, data self, req, data_source, # placement_info nodes, partition, # container_update_info container_nodes, container_partition, # expiring_object_info delete_at_nodes=None, delete_at_container=None, delete_at_part=None, # friendly signature **kwargs): if not all((nodes, container_nodes)): return HTTPNotFound() outgoing_headers = self._backend_requests( req, len(nodes), container_partition, container_nodes, delete_at_container, delete_at_part, delete_at_nodes) conns = self._get_put_connections(req, nodes, partition, outgoing_headers) try: self._transfer_data(req, data_source, conns, nodes) statuses, reasons, bodies, etags = self._get_put_responses( req, conns, nodes) except HTTPException as resp: return resp finally: for conn in conns: conn.close() if len(etags) > 1: self.app.logger.error( _('Object servers returned %s mismatched etags'), len(etags)) return HTTPServerError(request=req) etag = etags.pop() if len(etags) else None resp = self.best_response(req, statuses, reasons, bodies, _('Object PUT'), etag=etag) resp.last_modified = math.ceil(float(req.headers['X-Timestamp'])) return resp def _make_copy_request(self, req): if req.environ.get('swift.orig_req_method', req.method) != 'POST': req.environ.setdefault('swift.log_info', []).append( 'x-copy-from:%s' % req.headers['X-Copy-From']) src_container_name, src_obj_name = check_copy_from_header(req) ver, acct, _rest = req.split_path(2, 3, True) if isinstance(acct, unicode): acct = acct.encode('utf-8') source_path = '/%s/%s/%s/%s' % (ver, acct, src_container_name, src_obj_name) source_req = req.copy_get() source_req.path_info = source_path source_req.headers['X-Newest'] = 'true' new_req = Request.blank(req.path_info, environ=req.environ, headers=req.headers) orig_obj_name = self.object_name orig_container_name = self.container_name try: self.object_name = src_obj_name self.container_name = src_container_name source_resp = self.GET(source_req) # This gives middlewares a way to change the source; for example, # this lets you COPY a SLO manifest and have the new object be the # concatenation of the segments (like what a GET request gives # the client), not a copy of the manifest file. hook = req.environ.get( 'swift.copy_hook', (lambda source_req, source_resp, new_req: source_resp)) source_resp = hook(source_req, source_resp, new_req) finally: self.object_name = orig_obj_name self.container_name = orig_container_name return new_req, source_resp def _make_copy_context(self, req, new_req, source_resp): data_source = iter(source_resp.app_iter) new_req.content_length = source_resp.content_length new_req.etag = source_resp.etag # we no longer need the X-Copy-From header del new_req.headers['X-Copy-From'] if not req.content_type_manually_set: new_req.headers['Content-Type'] = \ source_resp.headers['Content-Type'] if not config_true_value( new_req.headers.get('x-fresh-metadata', 'false')): copy_headers_into(source_resp, new_req) copy_headers_into(req, new_req) # copy over x-static-large-object for POSTs and manifest copies if 'X-Static-Large-Object' in source_resp.headers and \ req.params.get('multipart-manifest') == 'get': new_req.headers['X-Static-Large-Object'] = \ source_resp.headers['X-Static-Large-Object'] # callback def update_response(resp): resp.headers['X-Copied-From'] = quote( source_resp.environ['PATH_INFO'].split('/', 3)[3]) if 'last-modified' in source_resp.headers: resp.headers['X-Copied-From-Last-Modified'] = \ source_resp.headers['last-modified'] copy_headers_into(new_req, resp) return resp return new_req, data_source, update_response # rather than do this check can we just have container_info raise? if not container_info['nodes']: return HTTPNotFound() hresp = None # since this is request is for the same path, we're just going to # reuse this controller hresp = self.HEAD(hreq) self._update_content_type(req) self._update_x_timestamp(req, hresp) if object_versions: try: self._handle_versions(req, hresp, object_versions) except HTTPException as resp: return resp if 'X-Copy-From' in req.headers: new_req, source_resp = self._make_copy_request(req) if source_resp.content_length is None: if source_resp.content_length > MAX_FILE_SIZE: req, data_source, update_response = self._make_copy_context( req, new_req, source_resp) else: reader = req.environ['wsgi.input'].read data_source = iter(lambda: reader(self.app.client_chunk_size), '') update_response = lambda r: r try: extra_info = {} extra_info.update(self._get_placement_info(req)) extra_info.update(self._get_container_update_info(container_info)) extra_info.update(self._get_expiring_object_info(req)) except HTTPException as resp: return resp resp = self._store_object(req, data_source, **extra_info) return update_response(resp)"," HTTPClientDisconnect, HTTPNotImplemented container_partition = container_info['partition'] containers = container_info['nodes'] if not containers: return HTTPNotFound(request=req) partition, nodes = self.app.object_ring.get_nodes( self.account_name, self.container_name, self.object_name) hresp = self.GETorHEAD_base( hreq, _('Object'), self.app.object_ring, partition, hreq.swift_entity_path) # Used by container sync feature if 'x-timestamp' in req.headers: try: req.headers['X-Timestamp'] = \ normalize_timestamp(req.headers['x-timestamp']) if hresp.environ and 'swift_x_timestamp' in hresp.environ and \ float(hresp.environ['swift_x_timestamp']) >= \ float(req.headers['x-timestamp']): return HTTPAccepted(request=req) except ValueError: return HTTPBadRequest( request=req, content_type='text/plain', body='X-Timestamp should be a UNIX timestamp float value; ' 'was %r' % req.headers['x-timestamp']) else: req.headers['X-Timestamp'] = normalize_timestamp(time.time()) # Sometimes the 'content-type' header exists, but is set to None. content_type_manually_set = True detect_content_type = \ config_true_value(req.headers.get('x-detect-content-type')) if detect_content_type or not req.headers.get('content-type'): guessed_type, _junk = mimetypes.guess_type(req.path_info) req.headers['Content-Type'] = guessed_type or \ 'application/octet-stream' if detect_content_type: req.headers.pop('x-detect-content-type') else: content_type_manually_set = False if object_versions and not req.environ.get('swift_versioned_copy'): if hresp.status_int != HTTP_NOT_FOUND: # This is a version manifest and needs to be handled # differently. First copy the existing data to a new object, # then write the data from this request to the version manifest # object. lcontainer = object_versions.split('/')[0] prefix_len = '%03x' % len(self.object_name) lprefix = prefix_len + self.object_name + '/' ts_source = hresp.environ.get('swift_x_timestamp') if ts_source is None: ts_source = time.mktime(time.strptime( hresp.headers['last-modified'], '%a, %d %b %Y %H:%M:%S GMT')) new_ts = normalize_timestamp(ts_source) vers_obj_name = lprefix + new_ts copy_headers = { 'Destination': '%s/%s' % (lcontainer, vers_obj_name)} copy_environ = {'REQUEST_METHOD': 'COPY', 'swift_versioned_copy': True } copy_req = Request.blank(req.path_info, headers=copy_headers, environ=copy_environ) copy_resp = self.COPY(copy_req) if is_client_error(copy_resp.status_int): # missing container or bad permissions return HTTPPreconditionFailed(request=req) elif not is_success(copy_resp.status_int): # could not copy the data, bail return HTTPServiceUnavailable(request=req) reader = req.environ['wsgi.input'].read data_source = iter(lambda: reader(self.app.client_chunk_size), '') source_header = req.headers.get('X-Copy-From') source_resp = None if source_header: if req.environ.get('swift.orig_req_method', req.method) != 'POST': req.environ.setdefault('swift.log_info', []).append( 'x-copy-from:%s' % source_header) src_container_name, src_obj_name = check_copy_from_header(req) ver, acct, _rest = req.split_path(2, 3, True) if isinstance(acct, unicode): acct = acct.encode('utf-8') source_header = '/%s/%s/%s/%s' % (ver, acct, src_container_name, src_obj_name) source_req = req.copy_get() source_req.path_info = source_header source_req.headers['X-Newest'] = 'true' orig_obj_name = self.object_name orig_container_name = self.container_name self.object_name = src_obj_name self.container_name = src_container_name sink_req = Request.blank(req.path_info, environ=req.environ, headers=req.headers) source_resp = self.GET(source_req) # This gives middlewares a way to change the source; for example, # this lets you COPY a SLO manifest and have the new object be the # concatenation of the segments (like what a GET request gives # the client), not a copy of the manifest file. hook = req.environ.get( 'swift.copy_hook', (lambda source_req, source_resp, sink_req: source_resp)) source_resp = hook(source_req, source_resp, sink_req) self.object_name = orig_obj_name self.container_name = orig_container_name data_source = iter(source_resp.app_iter) sink_req.content_length = source_resp.content_length if sink_req.content_length is None: if sink_req.content_length > MAX_FILE_SIZE: sink_req.etag = source_resp.etag # we no longer need the X-Copy-From header del sink_req.headers['X-Copy-From'] if not content_type_manually_set: sink_req.headers['Content-Type'] = \ source_resp.headers['Content-Type'] if not config_true_value( sink_req.headers.get('x-fresh-metadata', 'false')): copy_headers_into(source_resp, sink_req) copy_headers_into(req, sink_req) # copy over x-static-large-object for POSTs and manifest copies if 'X-Static-Large-Object' in source_resp.headers and \ req.params.get('multipart-manifest') == 'get': sink_req.headers['X-Static-Large-Object'] = \ source_resp.headers['X-Static-Large-Object'] req = sink_req if 'x-delete-at' in req.headers: try: x_delete_at = normalize_delete_at_timestamp( int(req.headers['x-delete-at'])) if int(x_delete_at) < time.time(): return HTTPBadRequest( body='X-Delete-At in past', request=req, content_type='text/plain') except ValueError: return HTTPBadRequest(request=req, content_type='text/plain', body='Non-integer X-Delete-At') req.environ.setdefault('swift.log_info', []).append( 'x-delete-at:%s' % x_delete_at) delete_at_container = normalize_delete_at_timestamp( int(x_delete_at) / self.app.expiring_objects_container_divisor * self.app.expiring_objects_container_divisor) delete_at_part, delete_at_nodes = \ self.app.container_ring.get_nodes( self.app.expiring_objects_account, delete_at_container) else: delete_at_container = delete_at_part = delete_at_nodes = None node_iter = GreenthreadSafeIterator( self.iter_nodes_local_first(self.app.object_ring, partition)) pile = GreenPile(len(nodes)) te = req.headers.get('transfer-encoding', '') chunked = ('chunked' in te) outgoing_headers = self._backend_requests( req, len(nodes), container_partition, containers, delete_at_container, delete_at_part, delete_at_nodes) for nheaders in outgoing_headers: # RFC2616:8.2.3 disallows 100-continue without a body if (req.content_length > 0) or chunked: nheaders['Expect'] = '100-continue' pile.spawn(self._connect_put_node, node_iter, partition, req.swift_entity_path, nheaders, self.app.logger.thread_locals) conns = [conn for conn in pile if conn] min_conns = quorum_size(len(nodes)) if len(conns) < min_conns: self.app.logger.error( _('Object PUT returning 503, %(conns)s/%(nodes)s ' 'required connections'), {'conns': len(conns), 'nodes': min_conns}) return HTTPServiceUnavailable(request=req) bytes_transferred = 0 try: with ContextPool(len(nodes)) as pool: for conn in conns: conn.failed = False conn.queue = Queue(self.app.put_queue_depth) pool.spawn(self._send_file, conn, req.path) while True: with ChunkReadTimeout(self.app.client_timeout): try: chunk = next(data_source) except StopIteration: if chunked: for conn in conns: conn.queue.put('0\r\n\r\n') break bytes_transferred += len(chunk) if bytes_transferred > MAX_FILE_SIZE: return HTTPRequestEntityTooLarge(request=req) for conn in list(conns): if not conn.failed: conn.queue.put( '%x\r\n%s\r\n' % (len(chunk), chunk) if chunked else chunk) else: conns.remove(conn) if len(conns) < min_conns: self.app.logger.error(_( 'Object PUT exceptions during' ' send, %(conns)s/%(nodes)s required connections'), {'conns': len(conns), 'nodes': min_conns}) return HTTPServiceUnavailable(request=req) for conn in conns: if conn.queue.unfinished_tasks: conn.queue.join() conns = [conn for conn in conns if not conn.failed] except ChunkReadTimeout as err: self.app.logger.warn( _('ERROR Client read timeout (%ss)'), err.seconds) self.app.logger.increment('client_timeouts') return HTTPRequestTimeout(request=req) except (Exception, Timeout): self.app.logger.exception( _('ERROR Exception causing client disconnect')) return HTTPClientDisconnect(request=req) if req.content_length and bytes_transferred < req.content_length: req.client_disconnect = True self.app.logger.warn( _('Client disconnected without sending enough data')) self.app.logger.increment('client_disconnects') return HTTPClientDisconnect(request=req) statuses, reasons, bodies, etags = self._get_put_responses(req, conns, nodes) if len(etags) > 1: self.app.logger.error( _('Object servers returned %s mismatched etags'), len(etags)) return HTTPServerError(request=req) etag = etags.pop() if len(etags) else None resp = self.best_response(req, statuses, reasons, bodies, _('Object PUT'), etag=etag) if source_header: resp.headers['X-Copied-From'] = quote( source_header.split('/', 3)[3]) if 'last-modified' in source_resp.headers: resp.headers['X-Copied-From-Last-Modified'] = \ source_resp.headers['last-modified'] copy_headers_into(req, resp) resp.last_modified = math.ceil(float(req.headers['X-Timestamp'])) return resp",347,239
openstack%2Ffuel-library~master~Idc978fc06364174ee367e22bf36fc201be584b08,openstack/fuel-library,master,Idc978fc06364174ee367e22bf36fc201be584b08,Rebase ceph backend support for upstream puppet-glance,ABANDONED,2014-04-09 16:43:43.000000000,2014-04-17 06:03:08.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-09 16:43:43.000000000', 'files': ['deployment/puppet/openstack/manifests/glance.pp', 'deployment/puppet/glance/manifests/backend/rbd.pp', 'deployment/puppet/glance/manifests/backend/ceph.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/01b8af72ae561cee67914bcafd27b4562a52f05e', 'message': 'Rebase ceph backend support for upstream puppet-glance\n\nChange-Id: Idc978fc06364174ee367e22bf36fc201be584b08\n'}]",0,86392,01b8af72ae561cee67914bcafd27b4562a52f05e,8,2,1,8786,,,0,"Rebase ceph backend support for upstream puppet-glance

Change-Id: Idc978fc06364174ee367e22bf36fc201be584b08
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/92/86392/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/glance.pp', 'deployment/puppet/glance/manifests/backend/rbd.pp', 'deployment/puppet/glance/manifests/backend/ceph.pp']",3,01b8af72ae561cee67914bcafd27b4562a52f05e,master,,"# configures the Ceph RBD backend for Glance class glance::backend::ceph( $default_store = 'rbd', $rbd_store_user = $::ceph::glance_user, $rbd_store_pool = $::ceph::glance_pool, $show_image_direct_url = $::ceph::show_image_direct_url, ) inherits glance::api { package {'python-ceph': ensure => latest, } glance_api_config { 'DEFAULT/default_store': value => $default_store; 'DEFAULT/rbd_store_user': value => $rbd_store_user; 'DEFAULT/rbd_store_pool': value => $rbd_store_pool; 'DEFAULT/show_image_direct_url': value => $show_image_direct_url; }~> Service['glance-api'] } ",14,20
openstack%2Fdevstack~master~I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb,openstack/devstack,master,I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb,Configure ssh server properly for ironic,ABANDONED,2014-03-20 13:16:13.000000000,2014-04-17 06:03:08.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1215}, {'_account_id': 1420}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 7369}, {'_account_id': 7419}, {'_account_id': 7711}, {'_account_id': 8003}, {'_account_id': 10239}, {'_account_id': 10380}]","[{'number': 1, 'created': '2014-03-20 13:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c162cd1134979b47cbab90a67f276e056192d1fa', 'message': ""Configure ssh server properly for ironic\n\nBy default sshd config doesn't have any active ListenAddress setting.\nWithout that sshd will jump from default listen address (0.0.0.0) to\nironic desired one which can probably cause the breaking of normal\nssh usage. So adding default listen address explicitly.\n\nChange-Id: I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb\n""}, {'number': 2, 'created': '2014-03-20 17:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/af95e67b8b0a9f7f265df26e2c01bd99692bb884', 'message': ""Configure ssh server properly for ironic\n\nBy default sshd config doesn't have any active ListenAddress setting.\nWithout that sshd will jump from default listen address (0.0.0.0) to\nironic desired one which can probably cause the breaking of normal\nssh usage. So adding default listen address explicitly.\n\nChange-Id: I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb\n""}, {'number': 3, 'created': '2014-03-21 13:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b8df610671eb4fedb89e4815602eafe98b7fc8d', 'message': ""Configure ssh server properly for ironic\n\nBy default sshd config doesn't have any active ListenAddress setting.\nThis means it will listen on any network interface by default. When\nadditional ListenAddress setting to be added by devstack it will\nstart listening only on that ListenAddress only and discontinue to\nlisten on any network interface. In other words, it will break normal\nssh usage (if any). So adding the default listen address explicitly\nto sshd config is neccessary for avoiding this breakage.\n\nIt just checks if ListenAddress doesn't set and adds the safe default\n(0.0.0.0) setting.\n\nChange-Id: I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb\n""}, {'number': 4, 'created': '2014-03-27 09:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/375ba7f877313e0e416ac145a59a6eb6b018e3af', 'message': ""Configure ssh server properly for ironic\n\nBy default sshd config doesn't have any active ListenAddress setting.\nThis means it will listen on any network interface by default. When\nadditional ListenAddress setting to be added by devstack it will\nstart listening only on that ListenAddress only and discontinue to\nlisten on any network interface. In other words, it will break normal\nssh usage (if any). So adding the default listen address explicitly\nto sshd config is neccessary for avoiding this breakage.\n\nIt just checks if ListenAddress doesn't set and adds the safe default\n(0.0.0.0) setting.\n\nChange-Id: I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb\n""}, {'number': 5, 'created': '2014-04-03 16:47:23.000000000', 'files': ['lib/ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab6e411aa6551a7fe4efb41c6d8250b7dbc6ab49', 'message': ""Configure ssh server properly for ironic\n\nBy default sshd config doesn't have any active ListenAddress setting.\nThis means it will listen on any network interface by default. When\nadditional ListenAddress setting to be added by devstack it will\nstart listening only on that ListenAddress only and discontinue to\nlisten on any network interface. In other words, it will break normal\nssh usage (if any). So adding the default listen address explicitly\nto sshd config is neccessary for avoiding this breakage.\n\nIt just checks if ListenAddress doesn't set and adds the safe default\n(0.0.0.0) setting. Also improves grep usage\n\nChange-Id: I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb\n""}]",8,81807,ab6e411aa6551a7fe4efb41c6d8250b7dbc6ab49,59,14,5,8003,,,0,"Configure ssh server properly for ironic

By default sshd config doesn't have any active ListenAddress setting.
This means it will listen on any network interface by default. When
additional ListenAddress setting to be added by devstack it will
start listening only on that ListenAddress only and discontinue to
listen on any network interface. In other words, it will break normal
ssh usage (if any). So adding the default listen address explicitly
to sshd config is neccessary for avoiding this breakage.

It just checks if ListenAddress doesn't set and adds the safe default
(0.0.0.0) setting. Also improves grep usage

Change-Id: I5664f9c2dd64e8f1cf3cf19e2182f69bd4af6ecb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/81807/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/ironic'],1,c162cd1134979b47cbab90a67f276e056192d1fa,fix_default_sshd_config," # Ensure that at least one ListenAddress exists. if ! sudo grep ListenAddress /etc/ssh/sshd_config | grep -cvq '^#'; then # Otherwise we're dealing with default sshd config. So adding the default one. echo ""ListenAddress 0.0.0.0"" | sudo tee -a $SSH_CONFIG fi if ! sudo grep ListenAddress $SSH_CONFIG | grep -v '^#' | cut -d "" "" -f2 | grep ""^$HOST_PORT$""; then", if ! sudo grep ListenAddress $SSH_CONFIG | grep $HOST_PORT; then,8,1
openstack%2Fneutron~master~I440a75a6843a294ebe87613ca15e023f62118e97,openstack/neutron,master,I440a75a6843a294ebe87613ca15e023f62118e97,NsxApiException should return str,ABANDONED,2014-03-20 01:38:13.000000000,2014-04-17 06:03:07.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9560}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-03-20 01:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f4a2f89784d9951c9343d87ff10246ffe750ae3', 'message': 'NsxApiException should return str\n\nNsxApiException can inherit from NeutronException\nNeutronException.__str__ should return str of message\nattribute.\n\nChange-Id: I440a75a6843a294ebe87613ca15e023f62118e97\nCloses-bug: #1228969\n'}, {'number': 2, 'created': '2014-03-21 07:21:10.000000000', 'files': ['neutron/common/exceptions.py', 'neutron/plugins/vmware/api_client/exception.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35be9c220a3099ad28cf8f0cb4151d1ce916bc97', 'message': 'NsxApiException should return str\n\nNsxApiException can inherit from NeutronException\nNeutronException.__str__ should return str of message\nattribute.\n\nChange-Id: I440a75a6843a294ebe87613ca15e023f62118e97\nCloses-bug: #1228969\n'}]",1,81685,35be9c220a3099ad28cf8f0cb4151d1ce916bc97,31,13,2,9560,,,0,"NsxApiException should return str

NsxApiException can inherit from NeutronException
NeutronException.__str__ should return str of message
attribute.

Change-Id: I440a75a6843a294ebe87613ca15e023f62118e97
Closes-bug: #1228969
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/81685/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/vmware/nsxlib/__init__.py', 'neutron/common/exceptions.py', 'neutron/plugins/vmware/api_client/exception.py']",3,8f4a2f89784d9951c9343d87ff10246ffe750ae3,bug/1228969,from neutron.common.exceptions import NeutronException class NsxApiException(NeutronException):," class NsxApiException(Exception): def __init__(self, **kwargs): try: self._error_string = self.message % kwargs except Exception: # at least get the core message out if something happened self._error_string = self.message def __str__(self): return self._error_string ",9,14
openstack%2Fcookbook-openstack-common~master~I84469994e89d4fcb13fff8caddf2369c895aea8c,openstack/cookbook-openstack-common,master,I84469994e89d4fcb13fff8caddf2369c895aea8c,Remove create database and user section when using db2,ABANDONED,2014-04-08 10:41:46.000000000,2014-04-17 06:03:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7996}, {'_account_id': 8410}, {'_account_id': 9488}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-08 10:41:46.000000000', 'files': ['libraries/database.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e786491ebe2417c0a4ba868d012246544a1ae0dd', 'message': 'Remove create database and user section when using db2\n\nThis section was moved to openstack-ops-database::db2-server\n\nThis change depends on: https://review.openstack.org/85985\n\nChange-Id: I84469994e89d4fcb13fff8caddf2369c895aea8c\nImplements: blueprint db2-reference-impl\n'}]",1,85986,e786491ebe2417c0a4ba868d012246544a1ae0dd,10,5,1,9488,,,0,"Remove create database and user section when using db2

This section was moved to openstack-ops-database::db2-server

This change depends on: https://review.openstack.org/85985

Change-Id: I84469994e89d4fcb13fff8caddf2369c895aea8c
Implements: blueprint db2-reference-impl
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/86/85986/1 && git format-patch -1 --stdout FETCH_HEAD,['libraries/database.rb'],1,e786491ebe2417c0a4ba868d012246544a1ae0dd,bp/db2-reference-impl, ## openstack-ops-database::db2-server creates database and users ## so that there will be less depends for db2 cookbook, db2_database 'create database' do db_name db_name action :create end db2_user 'create database user' do db_user user db_pass pass db_name db_name action :create end ,2,12
openstack%2Fpuppet-glance~master~I0af8c79d51bd10a31242cb0a149f4b343c187f96,openstack/puppet-glance,master,I0af8c79d51bd10a31242cb0a149f4b343c187f96,make known_stores of glance-api configurable,ABANDONED,2014-04-04 09:43:24.000000000,2014-04-17 06:03:05.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6967}, {'_account_id': 7156}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-04 09:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/b2bfa7a9d9e670350c5c8fa19a6061bcab727e21', 'message': 'make known_stores of glance-api configurable\n\nThis patch introduces a new parameter known_stores to make the known\nstores of the Glance API configurable.\n\nChange-Id: I0af8c79d51bd10a31242cb0a149f4b343c187f96\n'}, {'number': 2, 'created': '2014-04-04 09:47:22.000000000', 'files': ['manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fcf53234198efc84ae95cd1be3acd47c4d178b1c', 'message': 'make known_stores of glance-api configurable\n\nThis patch introduces a new parameter known_stores to make the known\nstores of the Glance API configurable.\n\nChange-Id: I0af8c79d51bd10a31242cb0a149f4b343c187f96\n'}]",0,85280,fcf53234198efc84ae95cd1be3acd47c4d178b1c,14,5,2,167,,,0,"make known_stores of glance-api configurable

This patch introduces a new parameter known_stores to make the known
stores of the Glance API configurable.

Change-Id: I0af8c79d51bd10a31242cb0a149f4b343c187f96
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/80/85280/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/glance_api_spec.rb']",2,b2bfa7a9d9e670350c5c8fa19a6061bcab727e21,making_known_stores_configurable," :mysql_module => '0.9', :known_stores => false, :show_image_direct_url => true, :known_stores => 'glance.store.filesystem.Store'", :mysql_module => '0.9' :show_image_direct_url => true,15,2
openstack%2Fopenstack-manuals~master~I43159033c3302348e49331f06b3a9b8fdcac2ec0,openstack/openstack-manuals,master,I43159033c3302348e49331f06b3a9b8fdcac2ec0,Single-source chunks in cinder backend setup,ABANDONED,2014-04-10 02:10:42.000000000,2014-04-17 06:03:03.000000000,,"[{'_account_id': 3}, {'_account_id': 9355}]","[{'number': 1, 'created': '2014-04-10 02:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dbce40a19885ecee80a4bb00579ece5448731e95', 'message': 'Single-source chunks in cinder backend setup\n\nThe sections on setting up GlusterFS and NFS back ends contain several\nduplicate chunks of content. This patch single-sources those chunks\nfor easier maintainability and better reuse.\n\nThis patch introduces no content changes.\n\nChange-Id: I43159033c3302348e49331f06b3a9b8fdcac2ec0\nPartial-Bug: #1217503\nRelated-Bug: #1281444\nRelated-Bug: #1280951\n'}, {'number': 2, 'created': '2014-04-10 02:48:26.000000000', 'files': ['doc/common/note_openstack-config-distros.xml', 'doc/admin-guide-cloud/section_nfs_backend.xml', 'doc/admin-guide-cloud/section_glusterfs_backend.xml', 'doc/common/step_cinder-volume-restart.xml', 'doc/common/note_cinder-volume-service.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6491c2575dc950664caef892996fa81ce1364a4a', 'message': 'Single-source chunks in cinder backend setup\n\nThe sections on setting up GlusterFS and NFS back ends contain several\nduplicate chunks of content. This patch single-sources those chunks\nfor easier maintainability and better reuse.\n\nThis patch introduces no content changes.\n\nChange-Id: I43159033c3302348e49331f06b3a9b8fdcac2ec0\nPartial-Bug: #1217503\nRelated-Bug: #1281444\nRelated-Bug: #1280951\n'}]",0,86488,6491c2575dc950664caef892996fa81ce1364a4a,9,2,2,9355,,,0,"Single-source chunks in cinder backend setup

The sections on setting up GlusterFS and NFS back ends contain several
duplicate chunks of content. This patch single-sources those chunks
for easier maintainability and better reuse.

This patch introduces no content changes.

Change-Id: I43159033c3302348e49331f06b3a9b8fdcac2ec0
Partial-Bug: #1217503
Related-Bug: #1281444
Related-Bug: #1280951
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/86488/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/note_openstack-config-distros.xml', 'doc/admin-guide-cloud/section_glusterfs_backend.xml', 'doc/admin-guide-cloud/section_nfs_backend.xml', 'doc/common/step_cinder-volume-restart.xml', 'doc/common/note_cinder-volume-service.xml']",5,dbce40a19885ecee80a4bb00579ece5448731e95,ssource_note-cinder-volume,"<?xml version=""1.0"" encoding=""UTF-8""?> <note xmlns=""http://docbook.org/ns/docbook"" xmlns:xi=""http://www.w3.org/2001/XInclude"" xmlns:xlink=""http://www.w3.org/1999/xlink"" version=""1.0""> <para os=""rhel;centos;fedora;opensuse;sles"">The <systemitem class=""service"">cinder</systemitem> volume service is named <literal>openstack-cinder-volume</literal> on the following distributions:</para> <itemizedlist os=""rhel;centos;fedora;opensuse;sles""> <listitem os=""rhel;centos;fedora""><para>CentOS</para></listitem> <listitem os=""rhel;centos;fedora""><para>Fedora</para></listitem> <listitem os=""opensuse;sles""><para>openSUSE</para></listitem> <listitem os=""rhel;centos;fedora""><para>Red Hat Enterprise Linux</para></listitem> <listitem os=""opensuse;sles""><para>SUSE Linux Enterprise </para></listitem> </itemizedlist> <para>In Ubuntu and Debian distributions, the <systemitem class=""service"">cinder</systemitem> volume service is named <literal>cinder-volume</literal>.</para> </note> ",,69,100
openstack%2Fhorizon~master~I30daf57f7df48662d4076fc9c2d60d787efa0fb4,openstack/horizon,master,I30daf57f7df48662d4076fc9c2d60d787efa0fb4,Security group validation throws an incorrect message,ABANDONED,2014-02-06 21:30:44.000000000,2014-04-17 06:03:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6610}, {'_account_id': 7386}, {'_account_id': 8305}, {'_account_id': 9275}, {'_account_id': 9347}, {'_account_id': 9498}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 10099}, {'_account_id': 10295}]","[{'number': 1, 'created': '2014-02-06 21:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b954697be13307919eb04a4e815d9512bc96616', 'message': 'Security group validation throws an incorrect message\n\nWhen we create a security group that have a ""@"" in the name, the form\nvalidation throws the next message:\n\n""The string may only contain ASCII characters and numbers.""\n\nThis message it\'s not enough correct because ""@"" is a valid ASCII\ncharacter. This validation is made by validate_slug and this only allows\nletters, numbers, underscores or hyphens. See ref:\n\nhttps://docs.djangoproject.com/en/1.6/ref/validators/\n\nWe changed the message that is showed to users by the following:\n\n""The security group name must contain only letters, numbers, underscores\nand/or hyphens.""\n\nChange-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4\nCloses-Bug: #1233502\n'}, {'number': 3, 'created': '2014-02-17 21:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0f05125da173f33531538af2550840f6a340e89f', 'message': 'Security group validation throws an incorrect message\n\nWhen we create a security group that have a ""@"" in the name, the form\nvalidation throws the next message:\n\n""The string may only contain ASCII characters and numbers.""\n\nThis message it\'s not enough correct because ""@"" is a valid ASCII\ncharacter. This validation is made by validate_slug and this only allows\nletters, numbers, underscores or hyphens. See ref:\n\nhttps://docs.djangoproject.com/en/1.6/ref/validators/\n\nWe changed the message that is showed to users by the following:\n\n""The security group name must contain only letters, numbers, underscores\nand/or hyphens.""\n\nChange-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4\nCloses-Bug: #1233502\n'}, {'number': 2, 'created': '2014-02-17 21:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f97fec3d79d870af6d2a64e88024f99d6701c5c1', 'message': 'Security group validation throws an incorrect message\n\nWhen we create a security group that have a ""@"" in the name, the form\nvalidation throws the next message:\n\n""The string may only contain ASCII characters and numbers.""\n\nThis message it\'s not enough correct because ""@"" is a valid ASCII\ncharacter. This validation is made by validate_slug and this only allows\nletters, numbers, underscores or hyphens. See ref:\n\nhttps://docs.djangoproject.com/en/1.6/ref/validators/\n\nWe changed the message that is showed to users by the following:\n\n""The security group name must contain only letters, numbers, underscores\nand/or hyphens.""\n\nChange-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4\nCloses-Bug: #1233502\n'}, {'number': 4, 'created': '2014-03-16 21:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/36ca6ba4142094b26f1a2f502501fd2419b606ca', 'message': 'Security group validation throws an incorrect message\n\nWhen we create a security group that have a ""@"" in the name, the form\nvalidation throws the next message:\n\n""The string may only contain ASCII characters and numbers.""\n\nThis message it\'s not enough correct because ""@"" is a valid ASCII\ncharacter. This validation is made by validate_slug and this only allows\nletters, numbers, underscores or hyphens. See ref:\n\nhttps://docs.djangoproject.com/en/1.6/ref/validators/\n\nWe changed the message that is showed to users by the following:\n\n""The security group name must contain only letters, numbers, underscores\nand/or hyphens.""\n\nChange-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4\nCloses-Bug: #1233502\n'}, {'number': 5, 'created': '2014-03-17 21:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/614a3aae766d5f72341a68239ae22a433db8d2dc', 'message': 'Security group validation throws an incorrect message\n\nWhen we create a security group that have a ""@"" in the name, the form\nvalidation throws the next message:\n\n""The string may only contain ASCII characters and numbers.""\n\nThis message it\'s not enough correct because ""@"" is a valid ASCII\ncharacter. This validation is made by validate_slug and this only allows\nletters, numbers, underscores or hyphens. See ref:\n\nhttps://docs.djangoproject.com/en/1.6/ref/validators/\n\nWe changed the message that is showed to users by the following:\n\n""The security group name must contain only letters, numbers, underscores\nand/or hyphens.""\n\nChange-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4\nCloses-Bug: #1233502\n'}, {'number': 6, 'created': '2014-03-20 17:06:57.000000000', 'files': ['openstack_dashboard/dashboards/project/access_and_security/security_groups/tests.py', 'openstack_dashboard/dashboards/project/access_and_security/security_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cbd790df334b5bcd204e6d145cb95de62db87795', 'message': 'Security group validation throws an incorrect message\n\nWhen we create a security group that have a ""@"" in the name, the form\nvalidation throws the next message:\n\n""The string may only contain ASCII characters and numbers.""\n\nThis message it\'s not enough correct because ""@"" is a valid ASCII\ncharacter. This validation is made by validate_slug and this only allows\nletters, numbers, underscores or hyphens. See ref:\n\nhttps://docs.djangoproject.com/en/1.6/ref/validators/\n\nWe changed the message that is showed to users by the following:\n\n""The security group name may only contain letters, numbers, underscores\nand hyphens.""\n\nChange-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4\nCloses-Bug: #1233502\n'}]",6,71659,cbd790df334b5bcd204e6d145cb95de62db87795,58,12,6,8305,,,0,"Security group validation throws an incorrect message

When we create a security group that have a ""@"" in the name, the form
validation throws the next message:

""The string may only contain ASCII characters and numbers.""

This message it's not enough correct because ""@"" is a valid ASCII
character. This validation is made by validate_slug and this only allows
letters, numbers, underscores or hyphens. See ref:

https://docs.djangoproject.com/en/1.6/ref/validators/

We changed the message that is showed to users by the following:

""The security group name may only contain letters, numbers, underscores
and hyphens.""

Change-Id: I30daf57f7df48662d4076fc9c2d60d787efa0fb4
Closes-Bug: #1233502
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/71659/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/access_and_security/security_groups/tests.py', 'openstack_dashboard/dashboards/project/access_and_security/security_groups/forms.py']",2,9b954697be13307919eb04a4e815d9512bc96616,bug/1233502," 'invalid': _(""The security group name must"" "" contain only"" "" letters, numbers, underscores"" "" and/or hyphens."")}, 'invalid': _(""The security group name must"" "" contain only"" "" letters, numbers, underscores"" "" and/or hyphens."")},"," 'invalid': _(""The string may only contain"" "" ASCII characters and numbers."")}, 'invalid': _(""The string may only contain"" "" ASCII characters and numbers."")},",9,5
openstack%2Fswift~feature%2Fec~Id13c20094cd227e5547bd4f265f4bc137dff72df,openstack/swift,feature/ec,Id13c20094cd227e5547bd4f265f4bc137dff72df,Add headers to DirectClientException,ABANDONED,2014-04-12 00:53:10.000000000,2014-04-17 06:02:44.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-12 00:53:10.000000000', 'files': ['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2eb3c520e7f4b2ece405cb3d77167b1afdb6331c', 'message': 'Add headers to DirectClientException\n\nDirectClientException is a subclass of ClientException with a convience\nconstructor.  ClientException now supports an http_headers kwarg.\n\nExceptions raised from direct_client will include headers.\n\nChange-Id: Id13c20094cd227e5547bd4f265f4bc137dff72df\n'}]",0,87061,2eb3c520e7f4b2ece405cb3d77167b1afdb6331c,3,1,1,1179,,,0,"Add headers to DirectClientException

DirectClientException is a subclass of ClientException with a convience
constructor.  ClientException now supports an http_headers kwarg.

Exceptions raised from direct_client will include headers.

Change-Id: Id13c20094cd227e5547bd4f265f4bc137dff72df
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/87061/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py', 'swift/common/exceptions.py']",3,2eb3c520e7f4b2ece405cb3d77167b1afdb6331c,reconciler," http_device='', http_response_content='', http_headers=None): self.http_headers = http_headers or {}"," http_device='', http_response_content=''):",378,260
openstack%2Fswift~feature%2Fec~Ic71a9cbade5962f8b6041cb43d57e379471149f9,openstack/swift,feature/ec,Ic71a9cbade5962f8b6041cb43d57e379471149f9,Add direct client container obj put and delete,ABANDONED,2014-04-12 00:53:11.000000000,2014-04-17 06:02:30.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-12 00:53:11.000000000', 'files': ['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/718cca124a2cae3c06710489291ae07dd437999a', 'message': 'Add direct client container obj put and delete\n\nChange-Id: Ic71a9cbade5962f8b6041cb43d57e379471149f9\n'}]",0,87063,718cca124a2cae3c06710489291ae07dd437999a,3,1,1,1179,,,0,"Add direct client container obj put and delete

Change-Id: Ic71a9cbade5962f8b6041cb43d57e379471149f9
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/87063/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py']",2,718cca124a2cae3c06710489291ae07dd437999a,reconciler,"def direct_put_container_object(node, part, account, container, obj, conn_timeout=5, response_timeout=15, headers=None): if headers is None: headers = {} have_x_timestamp = 'x-timestamp' in (k.lower() for k in headers) path = '/%s/%s/%s' % (account, container, obj) with Timeout(conn_timeout): conn = http_connect(node['ip'], node['port'], node['device'], part, 'PUT', path, headers=gen_headers(headers, add_ts=(not have_x_timestamp))) with Timeout(response_timeout): resp = conn.getresponse() resp.read() if not is_success(resp.status): raise DirectClientException('Container', 'DELETE', node, part, path, resp) def direct_delete_container_object(node, part, account, container, obj, conn_timeout=5, response_timeout=15, headers=None): if headers is None: headers = {} headers = gen_headers(headers, add_ts='x-timestamp' not in ( k.lower() for k in headers)) path = '/%s/%s/%s' % (account, container, obj) with Timeout(conn_timeout): conn = http_connect(node['ip'], node['port'], node['device'], part, 'DELETE', path, headers=headers) with Timeout(response_timeout): resp = conn.getresponse() resp.read() if not is_success(resp.status): raise DirectClientException('Container', 'DELETE', node, part, path, resp) ",,99,0
openstack%2Fswift~feature%2Fec~I1c9407283c61f9b25c25af2410005959796e33ce,openstack/swift,feature/ec,I1c9407283c61f9b25c25af2410005959796e33ce,Make middleware unittest helper storage policy aware,ABANDONED,2014-04-12 00:53:10.000000000,2014-04-17 06:02:12.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-12 00:53:10.000000000', 'files': ['test/unit/common/middleware/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c6576d3966b7421ee2ab59fef927473ba8298f97', 'message': 'Make middleware unittest helper storage policy aware\n\nChange-Id: I1c9407283c61f9b25c25af2410005959796e33ce\n'}]",0,87062,c6576d3966b7421ee2ab59fef927473ba8298f97,3,1,1,1179,,,0,"Make middleware unittest helper storage policy aware

Change-Id: I1c9407283c61f9b25c25af2410005959796e33ce
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/87062/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/helpers.py'],1,c6576d3966b7421ee2ab59fef927473ba8298f97,reconciler,"from test.unit import FakeLogger, FakeRing self.logger = FakeLogger('fake-swift') self.account_ring = FakeRing() self.container_ring = FakeRing() self.get_object_ring = lambda policy_index: FakeRing() def _get_response(self, method, path): resp = self._responses[(method, path)] if isinstance(resp, list): try: resp = resp.pop(0) except IndexError: raise IndexError(""Didn't find any more %r "" ""in allowed responses"" % ( (method, path),)) return resp req_headers = swob.Request(env).headers resp_class, raw_headers, body = self._get_response(method, path) resp_class, raw_headers, body = self._get_response( method, env['PATH_INFO']) resp_class, raw_headers, body = self._get_response('GET', path) raise KeyError(""Didn't find %r in allowed responses"" % ( (method, path),)) self._calls.append((method, path, req_headers)) def headers(self): return [headers for method, path, headers in self._calls] @property def register(self, method, path, response_class, headers, body=''): def register_responses(self, method, path, responses): self._responses[(method, path)] = list(responses)"," headers = swob.Request(env).headers self._calls.append((method, path, headers)) resp_class, raw_headers, body = self._responses[(method, path)] resp_class, raw_headers, body = self._responses[ (method, env['PATH_INFO'])] resp_class, raw_headers, _ = self._responses[('GET', path)] print ""Didn't find %r in allowed responses"" % ((method, path),) raise def register(self, method, path, response_class, headers, body):",34,9
openstack%2Fswift~feature%2Fec~I3ec34597543c6bcb872caddef67a4aec77b86b3e,openstack/swift,feature/ec,I3ec34597543c6bcb872caddef67a4aec77b86b3e,Enqueue misplaced objects on update.,ABANDONED,2014-04-14 22:51:22.000000000,2014-04-17 06:01:35.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-14 22:51:22.000000000', 'files': ['swift/obj/updater.py', 'swift/obj/server.py', 'test/probe/test_container_merge_policy_index.py', 'test/unit/common/test_direct_client.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'swift/common/direct_client.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7c5c777fda8f3f1527d34e76c533d9f2fd69dc0b', 'message': 'Enqueue misplaced objects on update.\n\nThis covers the vast majority of cases where an object needs to be enqueued\nfor the reconciler.\n\nChange-Id: I3ec34597543c6bcb872caddef67a4aec77b86b3e\n'}]",0,87402,7c5c777fda8f3f1527d34e76c533d9f2fd69dc0b,4,1,1,1179,,,0,"Enqueue misplaced objects on update.

This covers the vast majority of cases where an object needs to be enqueued
for the reconciler.

Change-Id: I3ec34597543c6bcb872caddef67a4aec77b86b3e
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/87402/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'swift/obj/server.py', 'test/probe/test_container_merge_policy_index.py', 'test/unit/common/test_direct_client.py', 'test/unit/__init__.py', 'swift/common/direct_client.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_updater.py']",8,7c5c777fda8f3f1527d34e76c533d9f2fd69dc0b,container-obj-put-409,"import random import itertools import urllibfrom contextlib import contextmanagerfrom swift.obj.diskfile import ASYNCDIR_BASE, get_async_dir, DiskFileManagerfrom swift.common import utils, swobfrom test.unit import debug_logger, patch_policies, fake_http_connect from swift.common.storage_policy import StoragePolicy, POLICIES, POLICY_INDEX@contextmanager def mocked_http_conn(*args, **kwargs): fake_conn = fake_http_connect(*args, **kwargs) with mock.patch('swift.common.bufferedhttp.http_connect_raw', new=fake_conn): yield fake_conn self.logger = debug_logger() 'node_timeout': '15'}, logger=self.logger) 'node_timeout': '15'}, logger=self.logger) 'node_timeout': '15'}, logger=self.logger) cu.logger._clear() cu.logger._clear() cu.logger._clear() def test_obj_put_conflict(self): ts = itertools.count(int(time())) policy = random.choice(list(POLICIES)) # setup updater conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) async_dir = os.path.join(self.sda1, get_async_dir(policy.idx)) os.mkdir(async_dir) # write an async dfmanager = DiskFileManager(conf, daemon.logger) account, container, obj = 'a', 'c', 'o' op = 'PUT' headers_out = swob.HeaderKeyDict({ 'x-size': 0, 'x-content-type': 'text/plain', 'x-etag': 'd41d8cd98f00b204e9800998ecf8427e', 'x-timestamp': ts.next(), }) data = {'op': op, 'account': account, 'container': container, 'obj': obj, 'headers': headers_out} dfmanager.pickle_async_update(self.sda1, account, container, obj, data, ts.next(), policy.idx) request_log = [] def capture(*args, **kwargs): request_log.append((args, kwargs)) # run once fake_status_codes = [ 200, # object update success 200, # object update success 409, # object update conflict 200, 200, 200, # enqueue ] with mocked_http_conn(*fake_status_codes, give_connect=capture): daemon.run_once() self.assertEqual(len(fake_status_codes), len(request_log)) for request_args, request_kwargs in request_log[:3]: ip, part, method, path, headers, qs, ssl = request_args self.assertEqual(method, 'PUT') self.assertEqual(headers[POLICY_INDEX], str(policy.idx)) for request_args, request_kwargs in request_log[3:]: ip, part, method, path, headers, qs, ssl = request_args self.assertEqual(method, 'PUT') device, part, reconciler_account, reconciler_container, q_item = \ utils.split_path(path, maxsegs=5, rest_with_last=True) self.assertEqual(reconciler_account, '.misplaced_objects') policy_index, obj_path = urllib.unquote(q_item).split(':', 1) self.assertEqual(policy_index, str(policy.idx)) expected_path = '/%s/%s/%s' % (account, container, obj) self.assertEqual(obj_path, expected_path) self.assertEqual(daemon.logger.get_increment_counts(), {'successes': 1, 'unlinks': 1, 'async_pendings': 1}) ","from swift.obj.diskfile import ASYNCDIR_BASE, get_async_dirfrom swift.common import utilsfrom test.unit import FakeLogger, patch_policies from swift.common.storage_policy import StoragePolicy, POLICIES 'node_timeout': '15'}) cu.logger = FakeLogger() 'node_timeout': '15'}) 'node_timeout': '15'}) cu.logger = FakeLogger() cu.logger = FakeLogger() cu.logger = FakeLogger() cu.logger = FakeLogger()",251,52
openstack%2Fswift~feature%2Fec~I64a181f256e9fb7748a1e8db02f406801f38d552,openstack/swift,feature/ec,I64a181f256e9fb7748a1e8db02f406801f38d552,wip container-enqueue,ABANDONED,2014-04-16 07:53:23.000000000,2014-04-17 06:01:05.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}]","[{'number': 1, 'created': '2014-04-16 07:53:23.000000000', 'files': ['test/unit/container/test_replicator.py', 'test/unit/common/test_db_replicator.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/common/db_replicator.py', 'test/unit/account/test_replicator.py', 'swift/container/replicator.py', 'swift/container/backend.py', 'test/unit/obj/test_updater.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/97d2305cb10a8fd0af756f7df1dabbf2efc1927c', 'message': 'wip container-enqueue\n\nChange-Id: I64a181f256e9fb7748a1e8db02f406801f38d552\n'}]",2,87865,97d2305cb10a8fd0af756f7df1dabbf2efc1927c,9,2,1,1179,,,0,"wip container-enqueue

Change-Id: I64a181f256e9fb7748a1e8db02f406801f38d552
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/87865/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'test/unit/common/test_db_replicator.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/common/db_replicator.py', 'test/unit/account/test_replicator.py', 'swift/container/replicator.py', 'swift/container/backend.py', 'test/unit/obj/test_updater.py', 'swift/container/reconciler.py']",11,97d2305cb10a8fd0af756f7df1dabbf2efc1927c,container-enqueue,"def incorrect_policy_index(info, remote_info): """""" Compare remote_info to info and decide if the remote storage policy index should be used instead of ours. """""" if 'storage_policy_index' not in remote_info: return False if remote_info['storage_policy_index'] == \ info['storage_policy_index']: return False def is_deleted(info): return (info['delete_timestamp'] > info['put_timestamp'] and info.get('count', info.get('object_count', 0)) == 0) if is_deleted(remote_info): if is_deleted(info): return ( info['status_changed_at'] < remote_info['status_changed_at']) return False if is_deleted(info): return True def has_been_recreated(info): return (info['put_timestamp'] > info['delete_timestamp'] > normalize_timestamp(0)) remote_recreated = has_been_recreated(remote_info) recreated = has_been_recreated(info) if remote_recreated and ( remote_info['status_changed_at'] > info['status_changed_at'] or not recreated): return True elif not recreated and ( remote_info['status_changed_at'] < info['status_changed_at']): return True return False def get_reconciler_container_name(obj_timestamp): return str(int(float(obj_timestamp)) // MISPLACED_OBJECTS_CONTAINER_DIVISOR * MISPLACED_OBJECTS_CONTAINER_DIVISOR) def get_reconciler_obj_name(policy_index, account, container, obj): return ""%(policy_index)d:/%(acc)s/%(con)s/%(obj)s"" % { 'policy_index': policy_index, 'acc': account, 'con': container, 'obj': obj} def get_reconciler_content_type(op): try: return { 'put': 'application/x-put', 'delete': 'application/x-delete', }[op.lower()] except KeyError: raise ValueError('invalid operation type %r' % op) def get_row_to_q_entry_translater(broker): account = broker.account container = broker.container policy_index = broker.storage_policy_index op_type = { 0: get_reconciler_content_type('put'), 1: get_reconciler_content_type('delete'), } def translater(obj_info): name = get_reconciler_obj_name(policy_index, account, container, obj_info['name']) return { 'name': name, 'deleted': 0, 'created_at': obj_info['created_at'], 'etag': obj_info['created_at'], 'content_type': op_type[obj_info['deleted']], 'size': 0, } return translater container_name = get_reconciler_container_name(obj_timestamp) object_name = get_reconciler_obj_name(obj_policy_index, account, container, obj) q_op_type = get_reconciler_content_type(op) 'X-Content-Type': q_op_type,","from swift.container.replicator import incorrect_policy_index container_name = str( int(float(obj_timestamp)) // MISPLACED_OBJECTS_CONTAINER_DIVISOR * MISPLACED_OBJECTS_CONTAINER_DIVISOR) object_name = ""%(policy_index)d:/%(acc)s/%(con)s/%(obj)s"" % { 'policy_index': obj_policy_index, 'acc': account, 'con': container, 'obj': obj} try: q_op = { 'put': 'application/x-put', 'delete': 'application/x-delete', }[op.lower()] except KeyError: raise ValueError('invalid operation type %r' % op) 'X-Content-Type': q_op,",394,297
openstack%2Fapi-site~master~I72de57df758fc04f8734d7f972d4185b2279dcb8,openstack/api-site,master,I72de57df758fc04f8734d7f972d4185b2279dcb8,Do not publish www to wrong location,MERGED,2014-04-17 03:58:00.000000000,2014-04-17 05:47:01.000000000,2014-04-17 05:47:01.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-17 03:58:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/api-site/commit/b4a01bdb0a921eacce7820e01cd1e7d8a23567fa', 'message': 'Do not publish www to wrong location\n\nwww pages are published via separate job and not via tox, remove\nthem from any publish-docs directory if they exist. publish-docs/www\nwould be the wrong location anyway.\n\nChange-Id: I72de57df758fc04f8734d7f972d4185b2279dcb8\n'}]",0,88132,b4a01bdb0a921eacce7820e01cd1e7d8a23567fa,6,2,1,6547,,,0,"Do not publish www to wrong location

www pages are published via separate job and not via tox, remove
them from any publish-docs directory if they exist. publish-docs/www
would be the wrong location anyway.

Change-Id: I72de57df758fc04f8734d7f972d4185b2279dcb8
",git fetch https://review.opendev.org/openstack/api-site refs/changes/32/88132/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b4a01bdb0a921eacce7820e01cd1e7d8a23567fa,fix-www,"commands = openstack-doc-test --check-build --nocreate-index --only-book api-quick-start # Remove www directory, it's published separately rm -rf publish-docs/www# api.openstack.org with just copying publish-docs/api-ref over. # Remove www directory, it's published separately rm -rf publish-docs/www",commands = openstack-doc-test --check-build --nocreate-index --only-book api-quick-start# api.openstack.org with just copying publish-docs/* over.,7,2
openstack%2Fhorizon~master~I4ee0b7b313f4e1b27c0daea829c8b38282fa78d9,openstack/horizon,master,I4ee0b7b313f4e1b27c0daea829c8b38282fa78d9,Fix default get_user_home with dynamic dashboards,MERGED,2014-04-11 22:42:24.000000000,2014-04-17 05:33:38.000000000,2014-04-17 05:33:37.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 5733}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 7386}, {'_account_id': 8247}, {'_account_id': 9317}, {'_account_id': 10099}]","[{'number': 1, 'created': '2014-04-11 22:42:24.000000000', 'files': ['openstack_dashboard/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c1a0a70154ddf107a6174d49793e369d28f1beb', 'message': ""Fix default get_user_home with dynamic dashboards\n\nThe existing get_user_home implementation expects both the 'admin'\nand 'project' dashboards to exist and throws an exception if they\nare missing.  With the inclusion of configurable dashboard loading,\nwe can no longer count on certain dashboards being loaded.\n\nCloses-Bug: #1293727\n\nChange-Id: I4ee0b7b313f4e1b27c0daea829c8b38282fa78d9\n""}]",0,87053,0c1a0a70154ddf107a6174d49793e369d28f1beb,25,9,1,5623,,,0,"Fix default get_user_home with dynamic dashboards

The existing get_user_home implementation expects both the 'admin'
and 'project' dashboards to exist and throws an exception if they
are missing.  With the inclusion of configurable dashboard loading,
we can no longer count on certain dashboards being loaded.

Closes-Bug: #1293727

Change-Id: I4ee0b7b313f4e1b27c0daea829c8b38282fa78d9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/53/87053/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/views.py'],1,0c1a0a70154ddf107a6174d49793e369d28f1beb,fix-no-admin-get-user-home,from horizon import base dashboard = None if user.is_superuser: try: dashboard = horizon.get_dashboard('admin') except base.NotRegistered: pass if dashboard is None: dashboard = horizon.get_default_dashboard() return dashboard.get_absolute_url(), if user.is_superuser: return horizon.get_dashboard('admin').get_absolute_url() return horizon.get_dashboard('project').get_absolute_url(),11,2
openstack%2Fneutron~master~Id4d82fb7e0e570a843e28856e531e25578a4351a,openstack/neutron,master,Id4d82fb7e0e570a843e28856e531e25578a4351a,Use different name for the same constraint,MERGED,2014-03-19 10:07:46.000000000,2014-04-17 05:29:25.000000000,2014-04-17 05:29:23.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 2592}, {'_account_id': 2711}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6601}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7183}, {'_account_id': 7189}, {'_account_id': 7249}, {'_account_id': 7317}, {'_account_id': 7930}, {'_account_id': 8172}, {'_account_id': 8278}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-03-19 10:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0a382e70745e24d937ba67af37e6f8eb3ac2480', 'message': ""Use different name for the same constraint\n\nIn DB2, a constraint-name must not identify a constraint\nthat was already specified within the same CREATE TABLE\nstatement. The current CREATE TABLE statement uses the same\nconstraint name 'ipv6_modes' for both ipv6_ra_mode and\nipv6_address_mode column. This change tries to use a different\nname for the same constraint.\n\nChange-Id: Id4d82fb7e0e570a843e28856e531e25578a4351a\nCloses-Bug: #1294568\n""}, {'number': 2, 'created': '2014-03-19 10:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/143d1c25822098f54c5466af307bd3bd32fbbcb4', 'message': ""Use different name for the same constraint\n\nIn DB2, a constraint-name must not identify a constraint\nthat was already specified within the same CREATE TABLE\nstatement. The current CREATE TABLE statement uses the same\nconstraint name 'ipv6_modes' for both ipv6_ra_mode and\nipv6_address_mode column. This change tries to use a different\nname for the same constraint.\n\nChange-Id: Id4d82fb7e0e570a843e28856e531e25578a4351a\nCloses-Bug: #1294568\n""}, {'number': 3, 'created': '2014-03-20 02:29:09.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/2447ad0e9585_add_ipv6_mode_props.py', 'neutron/db/models_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d6cb0c62e0245735a9d511d2f871776055ff224', 'message': ""Use different name for the same constraint\n\nIn DB2, a constraint-name must not identify a constraint\nthat was already specified within the same CREATE TABLE\nstatement. The current CREATE TABLE statement uses the same\nconstraint name 'ipv6_modes' for both ipv6_ra_mode and\nipv6_address_mode column. This change tries to use different\nnames.\n\nChange-Id: Id4d82fb7e0e570a843e28856e531e25578a4351a\nCloses-Bug: #1294568\n""}]",11,81488,5d6cb0c62e0245735a9d511d2f871776055ff224,71,27,3,7930,,,0,"Use different name for the same constraint

In DB2, a constraint-name must not identify a constraint
that was already specified within the same CREATE TABLE
statement. The current CREATE TABLE statement uses the same
constraint name 'ipv6_modes' for both ipv6_ra_mode and
ipv6_address_mode column. This change tries to use different
names.

Change-Id: Id4d82fb7e0e570a843e28856e531e25578a4351a
Closes-Bug: #1294568
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/81488/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/2447ad0e9585_add_ipv6_mode_props.py', 'neutron/db/models_v2.py']",2,f0a382e70745e24d937ba67af37e6f8eb3ac2480,master," # Using a different name for the same constraint. This is because in DB2 # A constraint-name must not identify a constraint that was already # specified within the same CREATE TABLE statement. (SQLSTATE 42710) name='ipv6_modes_still'), nullable=True)"," name='ipv6_modes'), nullable=True)",7,2
openstack%2Fpython-heatclient~master~I3822a87aba2b83261c0d0357a0b9024ce6f3a5b2,openstack/python-heatclient,master,I3822a87aba2b83261c0d0357a0b9024ce6f3a5b2,Add a description of how stack-abandon works,MERGED,2014-04-11 17:54:38.000000000,2014-04-17 05:29:21.000000000,2014-04-17 05:29:21.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 7256}]","[{'number': 1, 'created': '2014-04-11 17:54:38.000000000', 'files': ['heatclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/fa4fd14d6c827ddf3bdaedd24d620b2a17913dd2', 'message': 'Add a description of how stack-abandon works\n\nThe online help for stack-abandon does not make it clear that the stdout\nwill be a helpful blob of json, nor does it make clear what\nstack-abandon will actually do.\n\nChange-Id: I3822a87aba2b83261c0d0357a0b9024ce6f3a5b2\n'}]",0,86979,fa4fd14d6c827ddf3bdaedd24d620b2a17913dd2,13,4,1,6488,,,0,"Add a description of how stack-abandon works

The online help for stack-abandon does not make it clear that the stdout
will be a helpful blob of json, nor does it make clear what
stack-abandon will actually do.

Change-Id: I3822a87aba2b83261c0d0357a0b9024ce6f3a5b2
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/79/86979/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/v1/shell.py'],1,fa4fd14d6c827ddf3bdaedd24d620b2a17913dd2,," '''Abandon the stack. This will delete the record of the stack from Heat, but will not delete any of the underlying resources. Prints an adoptable JSON representation of the stack to stdout on success. '''", '''Abandon the stack.''',6,1
openstack%2Fopenstack-manuals~master~Ib739c50e26cf1ccc16f87b45695388ba358e0df3,openstack/openstack-manuals,master,Ib739c50e26cf1ccc16f87b45695388ba358e0df3,Fixes for the ceilometer installation on RHEL,MERGED,2014-04-16 15:04:34.000000000,2014-04-17 05:23:00.000000000,2014-04-17 05:22:59.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6676}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 15:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/62c8988b9c051adac42e9a19a58d8f3c142ff9c7', 'message': 'Fixes for the ceilometer installation on RHEL\n\n- install and start the alarming services\n- configure the mongo listen interface\n- add missing dependencies for the compute agent (workaround for a\n  packaging bug)\n\nChange-Id: Ib739c50e26cf1ccc16f87b45695388ba358e0df3\n'}, {'number': 2, 'created': '2014-04-16 18:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0223b9be9b8aef4652b3019711abbda5881f5a34', 'message': 'Fixes for the ceilometer installation on RHEL\n\n- install and start the alarming services\n- configure the mongo listen interface\n- add missing dependencies for the compute agent (workaround for a\n  packaging bug)\n\nCloses-Bug: #1308638\nChange-Id: Ib739c50e26cf1ccc16f87b45695388ba358e0df3\n'}, {'number': 3, 'created': '2014-04-16 20:13:04.000000000', 'files': ['doc/install-guide/section_ceilometer-install.xml', 'doc/install-guide/section_ceilometer-nova.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b81ec471003c5c6b80d77e02257de6f34d79b81e', 'message': 'Fixes for the ceilometer installation on RHEL\n\n- install and start the alarming services\n- configure the mongo listen interface\n- add missing dependencies for the compute agent (workaround for a\n  packaging bug)\n\nCloses-Bug: #1308638\nChange-Id: Ib739c50e26cf1ccc16f87b45695388ba358e0df3\n'}]",4,87991,b81ec471003c5c6b80d77e02257de6f34d79b81e,19,6,3,7923,,,0,"Fixes for the ceilometer installation on RHEL

- install and start the alarming services
- configure the mongo listen interface
- add missing dependencies for the compute agent (workaround for a
  packaging bug)

Closes-Bug: #1308638
Change-Id: Ib739c50e26cf1ccc16f87b45695388ba358e0df3
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/91/87991/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/section_ceilometer-install.xml', 'doc/install-guide/section_ceilometer-nova.xml']",2,62c8988b9c051adac42e9a19a58d8f3c142ff9c7,ceilo-yum," <screen os=""rhel;centos;fedora""><prompt>#</prompt> <userinput>yum install openstack-ceilometer-compute python-ceilometerclient python-pecan</userinput></screen>"," <screen os=""rhel;centos;fedora""><prompt>#</prompt> <userinput>yum install openstack-ceilometer-compute</userinput></screen>",12,7
openstack%2Fopenstack-manuals~master~Ic9fd323e31016040dbbf18be4969ff829d4edf1e,openstack/openstack-manuals,master,Ic9fd323e31016040dbbf18be4969ff829d4edf1e,Updated Weighting section,MERGED,2014-04-15 06:00:15.000000000,2014-04-17 05:22:52.000000000,2014-04-17 05:22:51.000000000,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 7264}]","[{'number': 1, 'created': '2014-04-15 06:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f37c2292df46fc39732fd562e43459f18bfb37ce', 'message': 'Updated Weighting section\n\nPut in table of relevant weighting options. Updated intro, and added graphic from training guides.\n\nChange-Id: Ic9fd323e31016040dbbf18be4969ff829d4edf1e\nCloses-bug: #1261521\n'}, {'number': 2, 'created': '2014-04-16 04:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/50ed5b25cf287d07af7c98ddcca59f56c69c2757', 'message': 'Updated Weighting section\n\nPut in tables of relevant weighting options for both hosts\nand cells. Updated intro, and added graphic from training\nguides.\n\nCloses-bug: #1261521\n\nChange-Id: Ic9fd323e31016040dbbf18be4969ff829d4edf1e\n'}, {'number': 3, 'created': '2014-04-16 23:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f67f0e747f9f2cbe083cd48337435f7200ec5594', 'message': 'Updated Weighting section\n\nPut in tables of relevant weighting options for both hosts\nand cells. Updated intro, and added graphic from training\nguides.\n\nCloses-bug: #1261521\n\nChange-Id: Ic9fd323e31016040dbbf18be4969ff829d4edf1e\n'}, {'number': 4, 'created': '2014-04-17 04:15:25.000000000', 'files': ['doc/training-guides/module001-ch009-vm-placement.xml', 'doc/common/figures/nova-weighting-hosts.png', 'doc/config-reference/compute/section_compute-scheduler.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7fcd56c1163cce3aa2d946b87f3ba155067ab72f', 'message': 'Updated Weighting section\n\nPut in tables of relevant weighting options for both hosts\nand cells. Updated intro. Added graphic from training\nguides (moved into common and relinked in training guide).\n\nCloses-bug: #1261521\n\nChange-Id: Ic9fd323e31016040dbbf18be4969ff829d4edf1e\n'}]",1,87446,7fcd56c1163cce3aa2d946b87f3ba155067ab72f,22,5,4,7264,,,0,"Updated Weighting section

Put in tables of relevant weighting options for both hosts
and cells. Updated intro. Added graphic from training
guides (moved into common and relinked in training guide).

Closes-bug: #1261521

Change-Id: Ic9fd323e31016040dbbf18be4969ff829d4edf1e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/46/87446/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/figures/nova-weights.png', 'doc/config-reference/compute/section_compute-scheduler.xml']",2,f37c2292df46fc39732fd562e43459f18bfb37ce,1261521," <para>When resourcing instances, the Filter Scheduler filters and weighs each host in the list of acceptable hosts. Each time the scheduler selects a host, it virtually consumes resources on it, and subsequent selections are adjusted accordingly. This process is useful when the customer asks for the same large amount of instances, because weight is computed for each requested instance. </para> <para>All weights are normalized before being summed up; the host with the largest weight is given the highest priority.</para> <figure xml:id=""figure_weighing-hosts""> <title>Weighing hosts</title> <mediaobject> <imageobject> <imagedata fileref=""../../common/figures/nova-weights.png""/> </imageobject> </mediaobject> </figure> <para>Hosts are weighed based on the following options in the <filename>/etc/nova/nova.conf</filename> file:</para> <table rules=""all"" xml:id=""table_weighting-options""> <caption>Weighting options</caption> <col width=""25%"" title=""Option""/> <col width=""75%"" title=""Description""/> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr valign=""top""> <td><literal>mute_weight_multiplier</literal></td> <td>Multiplier to weigh mute children (hosts which have not sent capacity or capacity updates for some time). Use a floating point value.</td> </tr> <tr valign=""top""> <td><literal>mute_weight_value</literal></td> <td>Weight value assigned to mute children. Use a floating point value.</td> </tr> <tr valign=""top""> <td><literal>offset_weight_multiplier</literal></td> <td>Multiplier to weigh cell hosts. Use a floating point value.</td> </tr> <tr valign=""top""> <td><literal>ram_weight_multiplier</literal></td> <td>By default, the scheduler spreads instances across all hosts evenly. Set the <literal>ram_weight_multiplier</literal> option to a negative number if you prefer stacking instead of spreading. Use a floating point value.</td> </tr> <tr valign=""top""> <td><literal>scheduler_host_subset_size</literal></td> <td>New instances are scheduled on a host that is chosen randomly from a subset of the N best hosts. This property defines the subset size from which a host is chosen. A value of 1 chooses the first host returned by the weighing functions.This value must be at least 1. A value less than 1 is ignored, and 1 is used instead. Use an integer value.</td> </tr> <tr valign=""top""> <td><literal>scheduler_weight_classes</literal></td> <td>Defaults to <literal>nova.scheduler.weights.all_weighers</literal>, which selects the only weigher available, the RamWeigher. Hosts are then weighed and sorted with the largest weight winning.</td> </tr> </tbody> </table> <para>For example:</para>ram_weight_multiplier=1.0</programlisting></section>"," <para>The Filter Scheduler weighs hosts based on the config option <literal>scheduler_weight_classes</literal>, this defaults to <literal>nova.scheduler.weights.all_weighers</literal>, which selects the only weigher available -- the RamWeigher. Hosts are then weighed and sorted with the largest weight winning.</para>ram_weight_multiplier=1.0</programlisting> <para>The default is to spread instances across all hosts evenly. Set the <literal>ram_weight_multiplier</literal> option to a negative number if you prefer stacking instead of spreading.</para> </section>",67,13
openstack%2Foslo.messaging~master~Ib29f995feed45d71000f333a2cc7d14b0efcb0d5,openstack/oslo.messaging,master,Ib29f995feed45d71000f333a2cc7d14b0efcb0d5,Remove rendundant parentheses of cfg help strings,MERGED,2014-04-03 09:34:32.000000000,2014-04-17 05:01:18.000000000,2014-04-17 05:01:18.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-04-03 09:34:32.000000000', 'files': ['oslo/messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9719b8a57b8cf850c7d5c47f7a69dcaf7fa014dc', 'message': ""Remove rendundant parentheses of cfg help strings\n\nThere is a hacking review https://review.openstack.org/#/c/74493/.\nThat makes me be aware we maybe have rendunant parentheses.\nWe'd better clean the parentheses, Python will handle that well.\n\nChange-Id: Ib29f995feed45d71000f333a2cc7d14b0efcb0d5\n""}]",0,84968,9719b8a57b8cf850c7d5c47f7a69dcaf7fa014dc,11,3,1,9796,,,0,"Remove rendundant parentheses of cfg help strings

There is a hacking review https://review.openstack.org/#/c/74493/.
That makes me be aware we maybe have rendunant parentheses.
We'd better clean the parentheses, Python will handle that well.

Change-Id: Ib29f995feed45d71000f333a2cc7d14b0efcb0d5
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/68/84968/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/messaging/_drivers/impl_rabbit.py'],1,9719b8a57b8cf850c7d5c47f7a69dcaf7fa014dc,redundant_parentheses," help='SSL certification authority file ' '(valid only if SSL enabled).'),"," help=('SSL certification authority file ' '(valid only if SSL enabled).')),",2,2
openstack-attic%2Foslo.version~master~Ia277504b291412553981e52bcca1ea9f6bd09b3f,openstack-attic/oslo.version,master,Ia277504b291412553981e52bcca1ea9f6bd09b3f,Support building wheels (PEP-427),MERGED,2014-02-07 10:31:04.000000000,2014-04-17 05:01:17.000000000,2014-04-17 05:01:17.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4375}, {'_account_id': 5638}, {'_account_id': 6786}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-02-07 10:31:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack-attic/oslo.version/commit/acf5eb40905f1961c4372a0c25801a22838fe1cb', 'message': 'Support building wheels (PEP-427)\n\nUniversal is used to identify pure-Python module(by bdist_wheel). For\nthese, it is sufficient to build a wheel with _any_ Python ABI version\nand publish that to PyPI (by whatever means).\n\nChange-Id: Ia277504b291412553981e52bcca1ea9f6bd09b3f\n'}]",0,71856,acf5eb40905f1961c4372a0c25801a22838fe1cb,27,6,1,4375,,,0,"Support building wheels (PEP-427)

Universal is used to identify pure-Python module(by bdist_wheel). For
these, it is sufficient to build a wheel with _any_ Python ABI version
and publish that to PyPI (by whatever means).

Change-Id: Ia277504b291412553981e52bcca1ea9f6bd09b3f
",git fetch https://review.opendev.org/openstack-attic/oslo.version refs/changes/56/71856/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,acf5eb40905f1961c4372a0c25801a22838fe1cb,wheel-publish, [wheel] universal = 1,,3,0
openstack%2Foslo.rootwrap~master~I2288d1305e9212bb69dfc76d46d3e16ef0629ff8,openstack/oslo.rootwrap,master,I2288d1305e9212bb69dfc76d46d3e16ef0629ff8,Fix import grouping,MERGED,2014-04-14 16:53:51.000000000,2014-04-17 05:01:16.000000000,2014-04-17 05:01:16.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-04-14 16:53:51.000000000', 'files': ['tests/test_rootwrap.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/b7a1a7bf92636c5f45fb0ab38e11234ea5f2054f', 'message': 'Fix import grouping\n\n(enforced by Hacking >= 0.9.0)\n\nChange-Id: I2288d1305e9212bb69dfc76d46d3e16ef0629ff8\n'}]",0,87321,b7a1a7bf92636c5f45fb0ab38e11234ea5f2054f,9,3,1,6593,,,0,"Fix import grouping

(enforced by Hacking >= 0.9.0)

Change-Id: I2288d1305e9212bb69dfc76d46d3e16ef0629ff8
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/21/87321/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_rootwrap.py'],1,b7a1a7bf92636c5f45fb0ab38e11234ea5f2054f,,import testtools,import testtools,1,1
openstack%2Foslo.rootwrap~master~I2ed56c53d4e4720d87fcce87b21180d4aa8dfc7b,openstack/oslo.rootwrap,master,I2ed56c53d4e4720d87fcce87b21180d4aa8dfc7b,Remove unused variable 'command',MERGED,2014-04-14 16:53:51.000000000,2014-04-17 05:01:14.000000000,2014-04-17 05:01:14.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-04-14 16:53:51.000000000', 'files': ['oslo/rootwrap/filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/b5cfe0a182710ce98a995f70e0a868548bb5c790', 'message': ""Remove unused variable 'command'\n\nTriggers F841 local variable 'command' is assigned to but never used\ninstead (with newer pyflakes)\n\nChange-Id: I2ed56c53d4e4720d87fcce87b21180d4aa8dfc7b\n""}]",0,87320,b5cfe0a182710ce98a995f70e0a868548bb5c790,10,3,1,6593,,,0,"Remove unused variable 'command'

Triggers F841 local variable 'command' is assigned to but never used
instead (with newer pyflakes)

Change-Id: I2ed56c53d4e4720d87fcce87b21180d4aa8dfc7b
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/20/87320/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/rootwrap/filters.py'],1,b5cfe0a182710ce98a995f70e0a868548bb5c790,, arguments = userargs[1:]," command, arguments = userargs[0], userargs[1:]",1,1
openstack%2Fnova~master~I01d7d502e8e8016cef3006ceddbcb31bccc4baf8,openstack/nova,master,I01d7d502e8e8016cef3006ceddbcb31bccc4baf8,Deprecate network_migrate_instance_* from conductor,MERGED,2014-04-11 22:04:02.000000000,2014-04-17 05:00:13.000000000,2014-04-17 05:00:08.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 1561}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-11 22:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd995d8504a37e8ed420c3fcc1fb0255b114e77e', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 2, 'created': '2014-04-12 17:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d74e15ef55290570de57a0af808602b1e23dd8d', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 3, 'created': '2014-04-12 17:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3d73320c03a51d25f43c714d165af4b2423e75a', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 4, 'created': '2014-04-12 20:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2db932006aeca817c8ec545180d425ee72b4e8f', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 5, 'created': '2014-04-12 21:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f76241712219b3b9f895b2edd734dc57a801812e', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 6, 'created': '2014-04-12 22:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e3d236d106b5971ba9a670605748c66f56b00d5', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 7, 'created': '2014-04-12 23:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4970d1bfdf677fa12a3902ec537c4909483c9fee', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}, {'number': 8, 'created': '2014-04-15 23:14:35.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c0246af3c9412499659e738c0ce897c58c35bb88', 'message': 'Deprecate network_migrate_instance_* from conductor\n\nThis deprecates network_migrate_instance_start() and\nnetwork_migrate_instance_finish() from conductor, which are no\nlonger used.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8\n'}]",1,87042,c0246af3c9412499659e738c0ce897c58c35bb88,57,8,8,4393,,,0,"Deprecate network_migrate_instance_* from conductor

This deprecates network_migrate_instance_start() and
network_migrate_instance_finish() from conductor, which are no
longer used.

Related to blueprint compute-manager-objects-juno

Change-Id: I01d7d502e8e8016cef3006ceddbcb31bccc4baf8
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/87042/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py']",4,bd995d8504a37e8ed420c3fcc1fb0255b114e77e,bp/compute-manager-objects-juno, # TODO(danms): This can be removed in version 3.0 of the RPC API # TODO(danms): This can be removed in version 3.0 of the RPC API,,25,45
openstack%2Fnova~master~Icb84a730c737160ba194586a523f18c4dcf1c96d,openstack/nova,master,Icb84a730c737160ba194586a523f18c4dcf1c96d,Deprecate aggregate_host_* operations in conductor,MERGED,2014-04-11 21:55:14.000000000,2014-04-17 04:59:04.000000000,2014-04-17 04:59:00.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 1561}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-11 21:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f873b51d7e9d44cae45c8b7b10ebca798f419e76', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 2, 'created': '2014-04-11 22:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9aa9bfb072ea1ebe9f514909e30d3636aaf083a1', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 3, 'created': '2014-04-12 17:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40590b6ab45845154c2f049087d414aca56b7834', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 4, 'created': '2014-04-12 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a89aafe1c18dd03cca5b2347719e7378b79035f5', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 5, 'created': '2014-04-12 20:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c910467f452fabba523dc42c61a417255a2a6131', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 6, 'created': '2014-04-12 21:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17e39e6fd55958e9d8d413760c4b51545d3968cb', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 7, 'created': '2014-04-12 22:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40f1c227bad3d28e4aae779fb33edb0ae8a646a7', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 8, 'created': '2014-04-12 23:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/163af0ffb28cef1c3cd1bf648525f506225b5cdb', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}, {'number': 9, 'created': '2014-04-15 23:14:33.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/010e9dbd124060a6f75722aa146fde0f3ff69ab7', 'message': 'Deprecate aggregate_host_* operations in conductor\n\nThis marks aggregate_host_add() and aggregate_host_delete() as\ndeprecated in conductor.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d\n'}]",1,87041,010e9dbd124060a6f75722aa146fde0f3ff69ab7,65,8,9,4393,,,0,"Deprecate aggregate_host_* operations in conductor

This marks aggregate_host_add() and aggregate_host_delete() as
deprecated in conductor.

Related to blueprint compute-manager-objects-juno

Change-Id: Icb84a730c737160ba194586a523f18c4dcf1c96d
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/87041/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py']",4,f873b51d7e9d44cae45c8b7b10ebca798f419e76,bp/compute-manager-objects-juno, # NOTE(danms): This method is now deprecated and can be removed in # version 2.0 of the RPC API # NOTE(danms): This method is now deprecated and can be removed in # version 2.0 of the RPC API," def aggregate_host_add(self, context, aggregate, host): return self.manager.aggregate_host_add(context, aggregate, host) def aggregate_host_delete(self, context, aggregate, host): return self.manager.aggregate_host_delete(context, aggregate, host) ",38,61
openstack%2Foslo.messaging~master~Ib5098e574d4ef81428065885e2295d0f87aba715,openstack/oslo.messaging,master,Ib5098e574d4ef81428065885e2295d0f87aba715,Select AMQP message broker at random,MERGED,2014-03-21 01:56:24.000000000,2014-04-17 04:55:23.000000000,2014-04-17 04:55:23.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1561}, {'_account_id': 5638}, {'_account_id': 9656}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-03-21 01:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fa16d1ce3755d1efd82c6fb59f6f72c87a04d7ae', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of chooing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}, {'number': 2, 'created': '2014-03-22 07:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/45bef22cdb5c536b5a85148c538b7f753f68d9f3', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of chooing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}, {'number': 3, 'created': '2014-03-28 07:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f27489f29d8af75e505bb31bf83ebc2720049bdb', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of chooing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}, {'number': 4, 'created': '2014-03-29 01:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4eb264482a4406cc69398782f72d1dd440d8fdca', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of choosing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}, {'number': 5, 'created': '2014-04-11 01:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8be038d0cec624cc8e42640b44a0bbc309e72faa', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of choosing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}, {'number': 6, 'created': '2014-04-11 02:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8c28353af531a4453e0c4cda8681c1a6b1818df3', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of choosing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}, {'number': 7, 'created': '2014-04-12 08:45:45.000000000', 'files': ['oslo/messaging/_drivers/impl_qpid.py', 'tests/test_qpid.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'tests/test_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8ae1880f7a31f6e7c985b99b2015db792d5cca46', 'message': 'Select AMQP message broker at random\n\nThe rule of choosing AMQP message broker is that chose first\navailable one in order now. The order depends on what we set in\nconfiguration file. That means all the connections will flock\nto same message broker and that may lead out performance issue.\nThis patch randomizes the order of choosing message broker for\neach connection to leverage broker cluster.\n\nChange-Id: Ib5098e574d4ef81428065885e2295d0f87aba715\nPartial-Bug: #1261631\n'}]",5,81962,8ae1880f7a31f6e7c985b99b2015db792d5cca46,53,6,7,9796,,,0,"Select AMQP message broker at random

The rule of choosing AMQP message broker is that chose first
available one in order now. The order depends on what we set in
configuration file. That means all the connections will flock
to same message broker and that may lead out performance issue.
This patch randomizes the order of choosing message broker for
each connection to leverage broker cluster.

Change-Id: Ib5098e574d4ef81428065885e2295d0f87aba715
Partial-Bug: #1261631
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/62/81962/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/impl_qpid.py', 'oslo/messaging/_drivers/impl_rabbit.py']",2,fa16d1ce3755d1efd82c6fb59f6f72c87a04d7ae,randomization,import random random.shuffle(params_list),,4,0
openstack%2Fnova~master~Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331,openstack/nova,master,Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331,Pass configured auth strategy to neutronclient,MERGED,2014-03-25 15:49:03.000000000,2014-04-17 04:54:23.000000000,2014-04-17 04:54:19.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-25 15:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb3a553effedd70cb7b78f5e2d90f4e0f50c607f', 'message': 'Pass configured auth strategy to neutronclient\n\nWhen the token is invalid Nova emits a log trace about an\nunknown auth strategy (caused by neutron client). This is a\nred herring and is only masking the fact that the token was\nunable to be validated in the first place.\n\nChange-Id: Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331\nPartial-bug: 1297309\n'}, {'number': 2, 'created': '2014-03-25 16:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8371d5241afb7bd02be1d3e610132525cf1633b', 'message': 'Pass configured auth strategy to neutronclient\n\nWhen the token is invalid Nova emits a log trace about an\nunknown auth strategy (caused by neutron client). This is a\nred herring and is only masking the fact that the token was\nunable to be validated in the first place.\n\nPartial-bug: 1297309\n\nChange-Id: Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331\n'}, {'number': 3, 'created': '2014-03-25 16:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3b3d888e1e06240b96bbde0863ad6cd7cd97919', 'message': 'Pass configured auth strategy to neutronclient\n\nWhen the token is invalid Nova emits a log trace about an\nunknown auth strategy (caused by neutron client). This is a\nred herring and is only masking the fact that the token was\nunable to be validated in the first place.\n\nPartial-bug: 1297309\n\nChange-Id: Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331\n'}, {'number': 4, 'created': '2014-03-25 16:43:00.000000000', 'files': ['nova/tests/network/test_neutronv2.py', 'nova/network/neutronv2/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fdd689c146713d18eb901d6f3ec986cdd11d13fe', 'message': 'Pass configured auth strategy to neutronclient\n\nWhen the token is invalid Nova emits a log trace about an\nunknown auth strategy (caused by neutron client). This is a\nred herring and is only masking the fact that the token was\nunable to be validated in the first place.\n\nPartial-bug: 1297309\n\nChange-Id: Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331\n'}]",0,82851,fdd689c146713d18eb901d6f3ec986cdd11d13fe,46,12,4,748,,,0,"Pass configured auth strategy to neutronclient

When the token is invalid Nova emits a log trace about an
unknown auth strategy (caused by neutron client). This is a
red herring and is only masking the fact that the token was
unable to be validated in the first place.

Partial-bug: 1297309

Change-Id: Ia3801f80c7ca18674fcf46b5270aa04f6c8c9331
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/82851/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/__init__.py'],1,bb3a553effedd70cb7b78f5e2d90f4e0f50c607f,bug/1297309," 'auth_strategy': CONF.neutron_auth_strategy,", params['auth_strategy'] = None params['auth_strategy'] = CONF.neutron_auth_strategy,1,2
openstack%2Fopenstack-manuals~master~Ibec8692bcccd177255fd64ed27ac8128651fb0bf,openstack/openstack-manuals,master,Ibec8692bcccd177255fd64ed27ac8128651fb0bf,Note that [database] may not exist,MERGED,2014-04-17 03:58:48.000000000,2014-04-17 04:52:56.000000000,2014-04-17 04:52:55.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7472}]","[{'number': 1, 'created': '2014-04-17 03:58:48.000000000', 'files': ['doc/install-guide/section_nova-controller.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ae6ef70788549855deb7935111f50f28a4849220', 'message': 'Note that [database] may not exist\n\nin some ubuntus, the reader will need to add the [database] section.\n\nThis patch adds a simple clarifying remark to that effect.\n\nChange-Id: Ibec8692bcccd177255fd64ed27ac8128651fb0bf\nCloses-Bug: 1308560\n'}]",0,88133,ae6ef70788549855deb7935111f50f28a4849220,7,3,1,612,,,0,"Note that [database] may not exist

in some ubuntus, the reader will need to add the [database] section.

This patch adds a simple clarifying remark to that effect.

Change-Id: Ibec8692bcccd177255fd64ed27ac8128651fb0bf
Closes-Bug: 1308560
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/33/88133/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_nova-controller.xml'],1,ae6ef70788549855deb7935111f50f28a4849220,bug/1308560," in the <filename>/etc/nova/nova.conf</filename> file, adding it if necessary, to modify this", in the <filename>/etc/nova/nova.conf</filename> file to modify this,2,1
openstack%2Fopenstack-manuals~master~I475c1fad39e74f38ec2b642547d5eba00df84500,openstack/openstack-manuals,master,I475c1fad39e74f38ec2b642547d5eba00df84500,Fix publishing of www pages,MERGED,2014-04-17 03:07:27.000000000,2014-04-17 04:52:48.000000000,2014-04-17 04:52:47.000000000,"[{'_account_id': 3}, {'_account_id': 7472}, {'_account_id': 9515}]","[{'number': 1, 'created': '2014-04-17 03:07:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f2ce736aa47ce2911834de08cdd506f1cd23eb84', 'message': 'Fix publishing of www pages\n\npublish pages at the right place, this needs a manual copy since python\ncode cannot copy files to an existing directory.\n\nAlso remove publish-docs/www directory, it should not be published.\n\nChange-Id: I475c1fad39e74f38ec2b642547d5eba00df84500\n'}]",0,88126,f2ce736aa47ce2911834de08cdd506f1cd23eb84,8,3,1,6547,,,0,"Fix publishing of www pages

publish pages at the right place, this needs a manual copy since python
code cannot copy files to an existing directory.

Also remove publish-docs/www directory, it should not be published.

Change-Id: I475c1fad39e74f38ec2b642547d5eba00df84500
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/26/88126/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f2ce736aa47ce2911834de08cdd506f1cd23eb84,fix-publishing," # Remove www directory, it's in the wrong location rm -rf publish-docs/www # Now publish www as well, we cannot do this from openstack-doc-test bash -c ""cp -a www/* publish-docs/""",,4,0
openstack%2Fnova~master~I56b19a49c123b73b6b3a5c4fc5f29864c6fd3b98,openstack/nova,master,I56b19a49c123b73b6b3a5c4fc5f29864c6fd3b98,Remove nova-clear-rabbit-queues,MERGED,2014-04-14 11:45:55.000000000,2014-04-17 04:48:14.000000000,2014-04-17 04:48:10.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7069}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-14 11:45:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/b63db53ab1e193eab51dd76edd535453271b00dd', 'message': 'Remove nova-clear-rabbit-queues\n\nIt was already non-functional since\nhttps://review.openstack.org/#/c/40355/\n\nChange-Id: I56b19a49c123b73b6b3a5c4fc5f29864c6fd3b98\nCloses-Bug: #1307460\n'}]",0,87248,b63db53ab1e193eab51dd76edd535453271b00dd,15,8,1,6593,,,0,"Remove nova-clear-rabbit-queues

It was already non-functional since
https://review.openstack.org/#/c/40355/

Change-Id: I56b19a49c123b73b6b3a5c4fc5f29864c6fd3b98
Closes-Bug: #1307460
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/87248/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b63db53ab1e193eab51dd76edd535453271b00dd,no_rabbit,, nova-clear-rabbit-queues = nova.cmd.clear_rabbit_queues:main,0,1
openstack%2Fmistral~master~I2d16e0c8ff3a9050674d6d8ba44b29da822aec7c,openstack/mistral,master,I2d16e0c8ff3a9050674d6d8ba44b29da822aec7c,Fix returning ERROR task state,MERGED,2014-04-16 15:38:36.000000000,2014-04-17 04:27:51.000000000,2014-04-17 04:27:50.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9432}, {'_account_id': 10126}]","[{'number': 1, 'created': '2014-04-16 15:38:36.000000000', 'files': ['mistral/actions/std_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/60e2c064ff54fe4d7b6e3c1893157240d7a2499a', 'message': ""Fix returning ERROR task state\n\n * Force raising ActionException in case if we can't convert result\n   in action output (e.g. we recieved a wrong result)\n\nChange-Id: I2d16e0c8ff3a9050674d6d8ba44b29da822aec7c\n""}]",1,88005,60e2c064ff54fe4d7b6e3c1893157240d7a2499a,8,4,1,7700,,,0,"Fix returning ERROR task state

 * Force raising ActionException in case if we can't convert result
   in action output (e.g. we recieved a wrong result)

Change-Id: I2d16e0c8ff3a9050674d6d8ba44b29da822aec7c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/05/88005/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/std_actions.py'],1,60e2c064ff54fe4d7b6e3c1893157240d7a2499a,fix_convert_result," try: return self._convert_result(self.base_action.run()) except Exception as e: raise exc.ActionException(""Failed to convert result in action %s,"" ""[Exception = %s"" % (self.action_spec.name, e))", return self._convert_result(self.base_action.run()),6,1
openstack%2Fdevstack~stable%2Fhavana~I1ea7c6a760c75e67f09e566d73e571be3a1d89ea,openstack/devstack,stable/havana,I1ea7c6a760c75e67f09e566d73e571be3a1d89ea,euca-bundle-image requires a new architecture parameter,MERGED,2014-04-16 18:34:52.000000000,2014-04-17 04:26:55.000000000,2014-04-17 04:26:55.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-04-16 18:34:52.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b9859ca78e7ec2b751026dfcb1327fe7076c4f8', 'message': 'euca-bundle-image requires a new architecture parameter\n\nRan into this issue while trying to enable UCA. This switch was\ndocumented by the euca2ools team in:\nhttps://eucalyptus.atlassian.net/browse/DOC-807\n\nCloses-Bug: #1304571\n\nChange-Id: I1ea7c6a760c75e67f09e566d73e571be3a1d89ea\n(cherry picked from commit 6066327474f9e4a9f3f6f3db11138f06c942ecb8)\n'}]",0,88051,1b9859ca78e7ec2b751026dfcb1327fe7076c4f8,15,4,1,5638,,,0,"euca-bundle-image requires a new architecture parameter

Ran into this issue while trying to enable UCA. This switch was
documented by the euca2ools team in:
https://eucalyptus.atlassian.net/browse/DOC-807

Closes-Bug: #1304571

Change-Id: I1ea7c6a760c75e67f09e566d73e571be3a1d89ea
(cherry picked from commit 6066327474f9e4a9f3f6f3db11138f06c942ecb8)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/88051/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,1b9859ca78e7ec2b751026dfcb1327fe7076c4f8,havana-bug/libvirt-1.2.x," euca-bundle-image -r x86_64 -i ""$kernel"" --kernel true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -r x86_64 -i ""$ramdisk"" --ramdisk true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -r x86_64 -i ""$disk_image"" -d ""$BOTO_MATERIALS_PATH"""," euca-bundle-image -i ""$kernel"" --kernel true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -i ""$ramdisk"" --ramdisk true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -i ""$disk_image"" -d ""$BOTO_MATERIALS_PATH""",3,3
openstack%2Ftripleo-image-elements~master~I8035b685589b9cba4c4b1dd0a46bc533d6955a70,openstack/tripleo-image-elements,master,I8035b685589b9cba4c4b1dd0a46bc533d6955a70,Make haproxy element balance type configurable,ABANDONED,2014-04-16 23:03:03.000000000,2014-04-17 04:24:44.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-16 23:03:03.000000000', 'files': ['elements/haproxy/os-config-applier/etc/haproxy/haproxy.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5154428be4d2080b014268bfbcaa69f0653336cd', 'message': 'Make haproxy element balance type configurable\n\nChange-Id: I8035b685589b9cba4c4b1dd0a46bc533d6955a70\n'}]",0,88104,5154428be4d2080b014268bfbcaa69f0653336cd,5,1,1,11176,,,0,"Make haproxy element balance type configurable

Change-Id: I8035b685589b9cba4c4b1dd0a46bc533d6955a70
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/04/88104/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/haproxy/os-config-applier/etc/haproxy/haproxy.cfg'],1,5154428be4d2080b014268bfbcaa69f0653336cd,master, balance {{balance}}, balance source,1,1
openstack%2Fmistral-extra~master~Ie7917dac2c5043676b86dc464e17742454d92328,openstack/mistral-extra,master,Ie7917dac2c5043676b86dc464e17742454d92328,Modify run_vm_job example,MERGED,2014-04-10 13:54:29.000000000,2014-04-17 04:22:00.000000000,2014-04-17 04:22:00.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-04-10 13:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/2b2280cac54c4edd08b70f37d0f91dcc00076f39', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}, {'number': 2, 'created': '2014-04-10 13:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/f5b0549f0766f9a6639dcd2fd52842e12ffd4b41', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}, {'number': 3, 'created': '2014-04-10 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/22bef248103f7c3138f1db74bcb054c5beb9e6ef', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}, {'number': 4, 'created': '2014-04-11 08:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/753fa11447db8a83e29299d38970ee82dca295d1', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}, {'number': 5, 'created': '2014-04-14 12:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/cdb780dd3d9c1d2671112de5c64dce1e0d545a18', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}, {'number': 6, 'created': '2014-04-16 12:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/711e3a62c18dac670f788fa5da87d3c4130a03ee', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}, {'number': 7, 'created': '2014-04-16 15:20:17.000000000', 'files': ['examples/vm_job/run_vm_job.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/df52023f6ab0ab0af891c38498e8d86f8af67090', 'message': 'Modify run_vm_job example\n\n * Vm job example is modified to run a real workflow:\n   createVM -> getIP -> waitSSH -> runServer -> calcSumm\n\nChange-Id: Ie7917dac2c5043676b86dc464e17742454d92328\n'}]",3,86597,df52023f6ab0ab0af891c38498e8d86f8af67090,38,4,7,7700,,,0,"Modify run_vm_job example

 * Vm job example is modified to run a real workflow:
   createVM -> getIP -> waitSSH -> runServer -> calcSumm

Change-Id: Ie7917dac2c5043676b86dc464e17742454d92328
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/97/86597/6 && git format-patch -1 --stdout FETCH_HEAD,['examples/vm_job/run_vm_job.yaml'],1,2b2280cac54c4edd08b70f37d0f91dcc00076f39,vm_job_example,"# For get this work, please provide next properties to execution context: # - novaUrl ## url to Nova service, e.g. http://0.0.0.0:8774/v3 # - server_name ## Name you want to give to new instance # - image_id ## image id from Glance service # - flavor_id ## flavor id - type of instance hardware # - network_id ## network id you want to connect your new instance # - ssh_username ## username of your VM # - ssh_password ## password to your VM create-vm: parameters: server: name: $.server_name imageRef: $.image_id flavorRef: $.flavor_id publish: vm_id: vm_id repeat: iterations: 10 delay: 10 break-on: $.vm_ip != null publish: vm_ip: vm_ip on-success: waitSSH # TODO This should be a repeat task waitSSH: action: Ssh:waitSSH parameters: username: $.ssh_username password: $.ssh_password on-error: waitSSH on-success: runServer runServer: action: Ssh:runServer parameters: username: $.ssh_username password: $.ssh_password on-success: calcSumm calcSumm: action: Server:calcSumm parameters: arguments: 32 publish: result: summ_result baseUrl: '{$.novaUrl}/{$.project_id}' url: /servers output: vm_id: $.server.id headers: X-Auth-Token: $.auth_token Content-Type: application/json headers: X-Auth-Token: $.auth_token output: vm_ip: ""$.server.addresses.novanetwork[$.'OS-EXT-IPS:type' = floating][0].addr"" Server: type: REST_API parameters: baseUrl: 'http://{$.vm_ip}:5000' actions: calcSumm: parameters: url: /summ output: summ_result: $.result Ssh: type: SSH actions: waitSSH: parameters: host: $.vm_ip cmd: 'ls -l' runServer: parameters: host: $.vm_ip cmd: 'nohup python ~/web_app.py > web_app.log &'", runJob: requires: createVM: $.vm_ip != null action: DemoApp:runJob on-success: deleteVM on-error: sendJobError on-finish: end createVM: action: std:repeat parameters: task: getIP retries: 5 delay: 3000 break-on: $.vm_ip != null on-finish: sendCreateVMError: $.vm_ip = null on-error: sendCreateVMError getIP:# Terminal no-op task. end: action: Util:no-op baseUrl: {$.novaURL} url: /servers/{$.vm_id} response: select: $.server.id store-as: vm_id response: select: $.server.accessIPv4 store-as: vm_ip DemoAPP: type: MISTRAL_REST_API parameters: baseUrl: http://{$.vm_ip}:8080/ actions: runJob: parameters: url: /runJob,79,39
openstack%2Fpuppet-swift~stable%2Fhavana~I7f81598f2f7910a2175fe772c9d82b2a1067826c,openstack/puppet-swift,stable/havana,I7f81598f2f7910a2175fe772c9d82b2a1067826c,Fix spurious warning in pipeline check,MERGED,2014-04-15 18:40:00.000000000,2014-04-17 04:07:38.000000000,2014-04-17 04:07:38.000000000,"[{'_account_id': 3}, {'_account_id': 6967}, {'_account_id': 7156}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-15 18:40:00.000000000', 'files': ['manifests/storage/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/98fe9219e35c65cf3db75bf79b9d12cead61f475', 'message': ""Fix spurious warning in pipeline check\n\nThe storage::server class includes a bit of logic that checks\nthe pipeline and warns if ${type}-server isn't included.\nHowever, the check has a logic flaw such that if $pipeline is an\narray and contains ${type}-server, the warning is triggered\nanyway.  This patch corrects the bad logic so that the warning\nisn't triggered spuriously.\n\nChange-Id: I7f81598f2f7910a2175fe772c9d82b2a1067826c\nCloses-Bug: #1289187\n(cherry picked from commit 01a3a40bcc43ffd492bea87e9b7b143bedccec37)\n""}]",0,87754,98fe9219e35c65cf3db75bf79b9d12cead61f475,9,4,1,6754,,,0,"Fix spurious warning in pipeline check

The storage::server class includes a bit of logic that checks
the pipeline and warns if ${type}-server isn't included.
However, the check has a logic flaw such that if $pipeline is an
array and contains ${type}-server, the warning is triggered
anyway.  This patch corrects the bad logic so that the warning
isn't triggered spuriously.

Change-Id: I7f81598f2f7910a2175fe772c9d82b2a1067826c
Closes-Bug: #1289187
(cherry picked from commit 01a3a40bcc43ffd492bea87e9b7b143bedccec37)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/54/87754/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/server.pp'],1,98fe9219e35c65cf3db75bf79b9d12cead61f475,," # Warn if ${type-server} isn't included in the pipeline if is_array($pipeline) { if !member($pipeline, ""${type}-server"") { } } elsif $pipeline != ""${type}-server"" { warning(""swift storage server ${type} must specify ${type}-server"")"," # TODO if array does not include type-server, warn if( (is_array($pipeline) and ! member($pipeline, ""${type}-server"")) or $pipeline != ""${type}-server"" ) {",6,5
openstack%2Ftempest~master~I236a889350e9b7d865e874b73f825b3a34809a3f,openstack/tempest,master,I236a889350e9b7d865e874b73f825b3a34809a3f,Implementing XML client for VPNaaS,MERGED,2014-04-04 06:42:39.000000000,2014-04-17 04:05:31.000000000,2014-04-16 12:25:14.000000000,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8085}, {'_account_id': 8205}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 11054}]","[{'number': 1, 'created': '2014-04-04 06:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c8ea0774aad7b6c723ac06e01a316ec36d9633d', 'message': 'Implementing XML client for VPNaaS\n\nVPNaaS API test for xml request body is missing.\nThis blueproint implements xml client for VPNaaS testcases.\n\nChange-Id: I236a889350e9b7d865e874b73f825b3a34809a3f\nImplements: blueprint vpnaas-api-tests-xml\n'}, {'number': 2, 'created': '2014-04-04 07:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d37d20da614f38f044c24cdc8850ad81c643569', 'message': 'Implementing XML client for VPNaaS\n\nVPNaaS API test for xml request body is missing.\nThis blueproint implements xml client for VPNaaS testcases.\n\nChange-Id: I236a889350e9b7d865e874b73f825b3a34809a3f\nImplements: blueprint vpnaas-api-tests-xml\n'}, {'number': 4, 'created': '2014-04-11 03:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/01d0b461d4d446af511313fe8fe61c2779b05a6e', 'message': 'Implementing XML client for VPNaaS\n\nVPNaaS API test for xml request body is missing.\nThis blueproint implements xml client for VPNaaS testcases.\n\nChange-Id: I236a889350e9b7d865e874b73f825b3a34809a3f\nImplements: blueprint vpnaas-api-tests-xml\n'}, {'number': 3, 'created': '2014-04-11 03:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/71567aee4701bff76eaf8bb46d7f9aa9a7ad2307', 'message': 'Implementing XML client for VPNaaS\n\nVPNaaS API test for xml request body is missing.\nThis blueproint implements xml client for VPNaaS testcases.\n\nChange-Id: I236a889350e9b7d865e874b73f825b3a34809a3f\nImplements: blueprint vpnaas-api-tests-xml\n'}, {'number': 5, 'created': '2014-04-14 07:21:43.000000000', 'files': ['tempest/api/network/test_vpnaas_extensions.py', 'tempest/services/network/xml/network_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c440bca030e4fd212207d6f2b6baec71d2cdaa42', 'message': 'Implementing XML client for VPNaaS\n\nVPNaaS API test for xml request body is missing.\nThis blueproint implements xml client for VPNaaS testcases.\n\nChange-Id: I236a889350e9b7d865e874b73f825b3a34809a3f\nImplements: blueprint vpnaas-api-tests-xml\n'}]",8,85255,c440bca030e4fd212207d6f2b6baec71d2cdaa42,63,8,5,8205,,,0,"Implementing XML client for VPNaaS

VPNaaS API test for xml request body is missing.
This blueproint implements xml client for VPNaaS testcases.

Change-Id: I236a889350e9b7d865e874b73f825b3a34809a3f
Implements: blueprint vpnaas-api-tests-xml
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/85255/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/test_vpnaas_extensions.py', 'tempest/services/network/xml/network_client.py']",2,9c8ea0774aad7b6c723ac06e01a316ec36d9633d,bp/vpnaas-api-tests-xml," def create_vpnservice(self, subnet_id, router_id, **kwargs): uri = '%s/vpn/vpnservices' % (self.uri_prefix) vpnservice = common.Element(""vpnservice"") p1 = common.Element(""subnet_id"", subnet_id) p2 = common.Element(""router_id"", router_id) vpnservice.append(p1) vpnservice.append(p2) common.deep_dict_to_xml(vpnservice, kwargs) resp, body = self.post(uri, str(common.Document(vpnservice))) body = _root_tag_fetcher_and_xml_to_json_parse(body) return resp, body def create_ikepolicy(self, name, **kwargs): uri = '%s/vpn/ikepolicies' % (self.uri_prefix) ikepolicy = common.Element(""ikepolicy"") p1 = common.Element(""name"", name) ikepolicy.append(p1) common.deep_dict_to_xml(ikepolicy, kwargs) resp, body = self.post(uri, str(common.Document(ikepolicy))) body = _root_tag_fetcher_and_xml_to_json_parse(body) return resp, body ",,28,2
openstack%2Fceilometer~master~I5dbc6f7886ed9a451926b502365ec80322f6b458,openstack/ceilometer,master,I5dbc6f7886ed9a451926b502365ec80322f6b458,More accurate meter name and unit for host load averages,MERGED,2014-04-14 13:19:52.000000000,2014-04-17 04:00:19.000000000,2014-04-15 13:42:29.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-04-14 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9d0233d217f56001f8fa4b80631cfae67b42cf17', 'message': 'More accurate meter name and unit for host load averages\n\nFixes bug 1307482\n\nPreviously, the SNMP reported load averages were misleadingly metered\nas percentage utilizations.\n\nNow, these samples include a meter name and unit that more accurately\nreflect their true meaning - i.e. a exponentially-damped moving average\nof the number of running or runnable processes.\n\nChange-Id: I5dbc6f7886ed9a451926b502365ec80322f6b458\n'}, {'number': 2, 'created': '2014-04-14 17:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0d17990fe7549f5fce19067a31959458c92c0b63', 'message': 'More accurate meter name and unit for host load averages\n\nFixes bug 1307482\n\nPreviously, the SNMP reported load averages were misleadingly metered\nas percentage utilizations.\n\nNow, these samples include a meter name and unit that more accurately\nreflect their true meaning - i.e. a exponentially-damped moving average\nof the number of running or runnable processes.\n\nChange-Id: I5dbc6f7886ed9a451926b502365ec80322f6b458\n'}, {'number': 3, 'created': '2014-04-14 17:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5824bd2313ca0d7570589b74a7b3cfcdd64dd098', 'message': 'More accurate meter name and unit for host load averages\n\nFixes bug 1307482\n\nPreviously, the SNMP reported load averages were misleadingly metered\nas percentage utilizations.\n\nNow, these samples include a meter name and unit that more accurately\nreflect their true meaning - i.e. an exponentially-damped moving average\nof the number of running or runnable processes.\n\nChange-Id: I5dbc6f7886ed9a451926b502365ec80322f6b458\n'}, {'number': 4, 'created': '2014-04-15 08:42:45.000000000', 'files': ['ceilometer/tests/hardware/pollsters/test_cpu.py', 'ceilometer/tests/hardware/pollsters/base.py', 'setup.cfg', 'ceilometer/hardware/pollsters/cpu.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5872c6fd12bbd3711f8a9e68adcfa70e8f8d80bc', 'message': 'More accurate meter name and unit for host load averages\n\nFixes bug 1307482\n\nPreviously, the SNMP reported load averages were misleadingly metered\nas percentage utilizations.\n\nNow, these samples include a meter name and unit that more accurately\nreflect their true meaning - i.e. an exponentially-damped moving average\nof the number of running or runnable processes.\n\nChange-Id: I5dbc6f7886ed9a451926b502365ec80322f6b458\n'}]",10,87267,5872c6fd12bbd3711f8a9e68adcfa70e8f8d80bc,27,6,4,2284,,,0,"More accurate meter name and unit for host load averages

Fixes bug 1307482

Previously, the SNMP reported load averages were misleadingly metered
as percentage utilizations.

Now, these samples include a meter name and unit that more accurately
reflect their true meaning - i.e. an exponentially-damped moving average
of the number of running or runnable processes.

Change-Id: I5dbc6f7886ed9a451926b502365ec80322f6b458
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/67/87267/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/hardware/pollsters/test_cpu.py', 'ceilometer/tests/hardware/pollsters/base.py', 'setup.cfg', 'ceilometer/hardware/pollsters/cpu.py']",4,9d0233d217f56001f8fa4b80631cfae67b42cf17,,"class CPULoad1MinPollster(_Base): name='cpu.load.1min', unit='process',class CPULoad5MinPollster(_Base): name='cpu.load.5min', unit='process',class CPULoad15MinPollster(_Base): name='cpu.load.15min', unit='process',","class CPUUtil1MinPollster(_Base): name='cpu.util.1min', unit='%',class CPUUtil5MinPollster(_Base): name='cpu.util.5min', unit='%',class CPUUtil15MinPollster(_Base): name='cpu.util.15min', unit='%',",27,22
openstack%2Fkeystone~master~Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e,openstack/keystone,master,Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e,Adding one more check on project_id,MERGED,2014-04-03 23:22:52.000000000,2014-04-17 03:58:33.000000000,2014-04-17 03:58:32.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8276}, {'_account_id': 8866}, {'_account_id': 10281}]","[{'number': 1, 'created': '2014-04-03 23:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9bae4b87a1ab54f20b8efeb15e421f5c651baf7a', 'message': 'Adding one more check on project_id\n\nProject_id is not a required attribute in creating Trust.\nAuthentication with this kind of trust results in an error ""Expecting to find id or name in project"".\nThis message is misleading as the trust creation without project_id was successful which is a valid behavior.\nThis error message is generated from checking if project_id is in trust metadata.\nOne more check is needed to verify if project_id is None or populated.\n\nChange-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e\n'}, {'number': 2, 'created': '2014-04-04 18:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dba1f4db8ccff675541757cc1a7eee09fb798ee9', 'message': 'Adding one more check on project_id\n\nProject_id is not a required attribute in creating Trust.\nAuthentication with this kind of trust results in an error ""Expecting to find id or name in project"".\nThis message is misleading as the trust creation without project_id was successful which is a valid behavior.\nThis error message is generated from checking if project_id is in trust metadata.\nOne more check is needed to verify if project_id is None or populated.\n\nChange-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e\n'}, {'number': 3, 'created': '2014-04-07 17:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a1662fd7cb31551734726302a4a0f9c9b8dbfee7', 'message': 'Adding one more check on project_id\n\nProject_id is not a required attribute in creating Trust.\nAuthentication with this kind of trust results in an error:\n""Expecting to find id or name in project"".\nThis message is misleading as the trust creation without project_id\nwas successful which is a valid behavior.\nThis error message is generated from checking if project_id is in trust\nmetadata.\nOne more check is needed to verify if project_id is None or populated.\n\nChange-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e\n'}, {'number': 4, 'created': '2014-04-08 22:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/71f557139dbf626fc69c4aa7c1213d7ff4d2ac11', 'message': 'Adding one more check on project_id\n\nProject_id is not a required attribute in creating Trust.\nAuthentication with this kind of trust results in an error:\n""Expecting to find id or name in project"".\nThis message is misleading as the trust creation without project_id\nwas successful which is a valid behavior.\nThis error message is generated from checking if project_id is in trust\nmetadata.\nOne more check is needed to verify if project_id is None or populated.\n\nChange-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e\n'}, {'number': 5, 'created': '2014-04-14 01:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcb7cbb55402962567ae210df496e013e12b35c2', 'message': 'Adding one more check on project_id\n\nProject_id is not a required attribute in creating Trust.\nAuthentication with this kind of trust results in an error:\n""Expecting to find id or name in project"".\nThis message is misleading as the trust creation without project_id\nwas successful which is a valid behavior.\nThis error message is generated from checking if project_id is in trust\nmetadata.\nOne more check is needed to verify if project_id is None or populated.\n\nCloses-Bug: #1301622\nChange-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e\n'}, {'number': 6, 'created': '2014-04-15 18:40:14.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/tests/test_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/01eea87dea766714015a62f5d24f07d2407f9612', 'message': 'Adding one more check on project_id\n\nProject_id is not a required attribute in creating Trust.\nAuthentication with this kind of trust results in an error:\n""Expecting to find id or name in project"".\nThis message is misleading as the trust creation without project_id\nwas successful which is a valid behavior.\nThis error message is generated from checking if project_id is in trust\nmetadata.\nOne more check is needed to verify if project_id is None or populated.\n\nCloses-Bug: #1301622\nChange-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e\n'}]",10,85199,01eea87dea766714015a62f5d24f07d2407f9612,47,8,6,10281,,,0,"Adding one more check on project_id

Project_id is not a required attribute in creating Trust.
Authentication with this kind of trust results in an error:
""Expecting to find id or name in project"".
This message is misleading as the trust creation without project_id
was successful which is a valid behavior.
This error message is generated from checking if project_id is in trust
metadata.
One more check is needed to verify if project_id is None or populated.

Closes-Bug: #1301622
Change-Id: Ic711a63f43ca87a97cb7f761170fa8aa2d45e11e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/99/85199/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/tests/test_auth.py']",2,9bae4b87a1ab54f20b8efeb15e421f5c651baf7a,fix-for-1301622," def test_create_trust_without_project_id(self): """"""Verify that trust can be created without project id and token can be generated with that trust."""""" context = self._create_auth_context( self.unscoped_token['access']['token']['id']) self.sample_data['project_id'] = None self.sample_data['roles'] = [] self.new_trust = self.trust_controller.create_trust( context, trust=self.sample_data)['trust'] self.assertEqual(self.trustor['id'], self.new_trust['trustor_user_id']) self.assertEqual(self.trustee['id'], self.new_trust['trustee_user_id']) self.assertIs(self.new_trust['impersonation'], True) auth_response = self.fetch_v2_token_from_trust() token_user = auth_response['access']['user'] self.assertEqual(token_user['id'], self.new_trust['trustor_user_id']) ",,20,3
openstack%2Frally~master~Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6,openstack/rally,master,Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6,Create vm benchmark module,MERGED,2014-04-10 14:51:33.000000000,2014-04-17 03:52:11.000000000,2014-04-17 03:52:10.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7217}, {'_account_id': 7369}]","[{'number': 1, 'created': '2014-04-10 14:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/111dd2b53c2162953dc654417495c736489e4c32', 'message': 'Create vm benchmark module\n\nMove the run command in instance benchmark out of the nova module into\nits own module (vm). Functionality is then split into a scenario module\nand a utils module, following the structure of the other benchmarks.\n\nTests are also refactored.\n\nChange-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6\n'}, {'number': 2, 'created': '2014-04-10 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/61dbad2df5626c9116b94e556994b3549e5ac25f', 'message': 'Create vm benchmark module\n\nMove the run command in instance benchmark out of the nova module into\nits own module (vm). Functionality is then split into a scenario module\nand a utils module, following the structure of the other benchmarks.\n\nTests are also refactored.\n\nChange-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6\n'}, {'number': 3, 'created': '2014-04-10 17:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fae3146d54ad0ad118e4005af865b7515ce017ac', 'message': 'Create vm benchmark module\n\nMove the run command in instance benchmark out of the nova module into\nits own module (vm). Functionality is then split into a scenario module\nand a utils module, following the structure of the other benchmarks.\n\nTests are also refactored.\n\nChange-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6\n'}, {'number': 4, 'created': '2014-04-10 22:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ff5d18a094b94450fdad904b4c9939c206a803cc', 'message': 'Create vm benchmark module\n\nMove the run command in instance benchmark out of the nova module into\nits own module (vm). Functionality is then split into a scenario module\nand a utils module, following the structure of the other benchmarks.\n\nTests are also refactored.\n\nChange-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6\n'}, {'number': 5, 'created': '2014-04-14 15:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0d8941bca851e78252e83955163b782006970a83', 'message': 'Create vm benchmark module\n\nMove the run command in instance benchmark out of the nova module into\nits own module (vm). Functionality is then split into a scenario module\nand a utils module, following the structure of the other benchmarks.\n\nTests are also refactored.\n\nChange-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6\n'}, {'number': 6, 'created': '2014-04-15 13:03:04.000000000', 'files': ['rally/benchmark/scenarios/vm/__init__.py', 'tests/benchmark/scenarios/vm/test_vmtasks.py', 'rally/benchmark/scenarios/vm/utils.py', 'rally/benchmark/scenarios/nova/servers.py', 'doc/samples/tasks/vm/boot-runcommand-delete.json', 'rally/benchmark/scenarios/vm/vmtasks.py', 'tests/benchmark/scenarios/vm/test_utils.py', 'tests/benchmark/scenarios/nova/test_servers.py', 'doc/samples/tasks/vm/boot-runcommand-delete.yaml', 'tests/benchmark/scenarios/vm/__init__.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/20ca110a4ca9897e4b737c6245e955597b794664', 'message': 'Create vm benchmark module\n\nMove the run command in instance benchmark out of the nova module into\nits own module (vm). Functionality is then split into a scenario module\nand a utils module, following the structure of the other benchmarks.\n\nTests are also refactored.\n\nChange-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6\n'}]",4,86618,20ca110a4ca9897e4b737c6245e955597b794664,32,5,6,7217,,,0,"Create vm benchmark module

Move the run command in instance benchmark out of the nova module into
its own module (vm). Functionality is then split into a scenario module
and a utils module, following the structure of the other benchmarks.

Tests are also refactored.

Change-Id: Ida26b5047b8e76f72e34c2aab9b8ab94f46bbad6
",git fetch https://review.opendev.org/openstack/rally refs/changes/18/86618/6 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/scenarios/vm/__init__.py', 'tests/benchmark/scenarios/vm/test_vmtasks.py', 'rally/benchmark/scenarios/vm/utils.py', 'rally/benchmark/scenarios/test/__init__.py', 'doc/samples/tasks/vm/boot-runcommand-delete.json', 'rally/benchmark/scenarios/nova/servers.py', 'rally/benchmark/scenarios/vm/vmtasks.py', 'tests/benchmark/scenarios/vm/test_utils.py', 'tests/benchmark/scenarios/nova/test_servers.py', 'doc/samples/tasks/vm/boot-runcommand-delete.yaml', 'tests/benchmark/scenarios/vm/__init__.py']",11,111dd2b53c2162953dc654417495c736489e4c32,create_vm_benchmark_module,,,255,114
openstack%2Ftempest~master~I9ecc3afa71b10cfbd3824bb86d02b3232c9a2594,openstack/tempest,master,I9ecc3afa71b10cfbd3824bb86d02b3232c9a2594,Validate list_instance_usage_audit_log Nova V2 API,MERGED,2014-03-27 06:51:20.000000000,2014-04-17 03:46:15.000000000,2014-04-17 03:46:14.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5174}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-27 06:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e863455f0fcd81e8ea9af88adf8e1878ff5bf3fd', 'message': 'Validate list_instance_usage_audit_log Nova V2 API\n\nThis patch adds the JSON schema for list_instance_usage_audit_log Nova\nV2 APIs and validate the response of the API with added JSON schema\nto block the backward incompatibility change in the future.\n\nResponse body of V2 List instance_usage_audit_log is below-\n\n{\n    ""instance_usage_audit_logs"": {\n        ""hosts_not_run"": [\n            ""%(hostid)s""\n        ],\n        ""log"": {},\n        ""num_hosts"": 1,\n        ""num_hosts_done"": 0,\n        ""num_hosts_not_run"": 1,\n        ""num_hosts_running"": 0,\n        ""overall_status"": ""0 of 1 hosts done. 0 errors."",\n        ""period_beginning"": ""%(timestamp)s"",\n        ""period_ending"": ""%(timestamp)s"",\n        ""total_errors"": 0,\n        ""total_instances"": 0\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I9ecc3afa71b10cfbd3824bb86d02b3232c9a2594\n'}, {'number': 2, 'created': '2014-04-15 12:33:07.000000000', 'files': ['tempest/services/compute/json/instance_usage_audit_log_client.py', 'tempest/api_schema/compute/v2/instance_usage_audit_logs.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fea1f1bb5d342c52a05d095d6aa85ddc0ffc424f', 'message': 'Validate list_instance_usage_audit_log Nova V2 API\n\nThis patch adds the JSON schema for list_instance_usage_audit_log Nova\nV2 APIs and validate the response of the API with added JSON schema\nto block the backward incompatibility change in the future.\n\nResponse body of V2 List instance_usage_audit_log is below-\n\n{\n    ""instance_usage_audit_logs"": {\n        ""hosts_not_run"": [\n            ""%(hostid)s""\n        ],\n        ""log"": {},\n        ""num_hosts"": 1,\n        ""num_hosts_done"": 0,\n        ""num_hosts_not_run"": 1,\n        ""num_hosts_running"": 0,\n        ""overall_status"": ""0 of 1 hosts done. 0 errors."",\n        ""period_beginning"": ""%(timestamp)s"",\n        ""period_ending"": ""%(timestamp)s"",\n        ""total_errors"": 0,\n        ""total_instances"": 0\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I9ecc3afa71b10cfbd3824bb86d02b3232c9a2594\n'}]",0,83305,fea1f1bb5d342c52a05d095d6aa85ddc0ffc424f,58,6,2,8556,,,0,"Validate list_instance_usage_audit_log Nova V2 API

This patch adds the JSON schema for list_instance_usage_audit_log Nova
V2 APIs and validate the response of the API with added JSON schema
to block the backward incompatibility change in the future.

Response body of V2 List instance_usage_audit_log is below-

{
    ""instance_usage_audit_logs"": {
        ""hosts_not_run"": [
            ""%(hostid)s""
        ],
        ""log"": {},
        ""num_hosts"": 1,
        ""num_hosts_done"": 0,
        ""num_hosts_not_run"": 1,
        ""num_hosts_running"": 0,
        ""overall_status"": ""0 of 1 hosts done. 0 errors."",
        ""period_beginning"": ""%(timestamp)s"",
        ""period_ending"": ""%(timestamp)s"",
        ""total_errors"": 0,
        ""total_instances"": 0
    }
}

Partially implements blueprint nova-api-attribute-test

Change-Id: I9ecc3afa71b10cfbd3824bb86d02b3232c9a2594
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/83305/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/instance_usage_audit_log_client.py', 'tempest/api_schema/compute/v2/instance_usage_audit_logs.py']",2,e863455f0fcd81e8ea9af88adf8e1878ff5bf3fd,bp/nova-api-attribute-test," list_instance_usage_audit_log = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'instance_usage_audit_logs': common_instance_usage_audit_log }, 'required': ['instance_usage_audit_logs'] } }",,13,0
openstack%2Ftripleo-heat-templates~master~I90cc7f59f9066718a2c49a682956f55f8bfc748d,openstack/tripleo-heat-templates,master,I90cc7f59f9066718a2c49a682956f55f8bfc748d,Design fiction porting undercloud-bm to software-config,ABANDONED,2014-02-11 02:49:38.000000000,2014-04-17 03:27:30.000000000,,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 4571}, {'_account_id': 6488}]","[{'number': 1, 'created': '2014-02-11 02:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be06627987f534a664569dd49bfe186a1593eef3', 'message': 'Design fiction porting undercloud-bm to software-config\n\nThis template does not work, but is intended to help evaluate\nwhether heat software-config meets tripleo\'s needs.\n\nThis template includes the following:\n- a full port to HOT template syntax\n- template parameters are set as config input defaults, but could equally be\n  specified as deployment input values\n\nThis template makes the following assumptions:\n- that JSON is an appropriate syntax for a tripleo configuration ""script""\n- that some mechanism substitutes key strings in the json with the actual\n  input values. This could be done by one of:\n  - an orc hook, like the hooks for other config tools https://review.openstack.org/#/c/70639/\n  - by heat engine before the deployment data is sent to the server\n  - oac gets support for variables, so the input values get sourced from environment variables\n    or a command line invocation and the json gets some syntax to denote a variable name\n\nChange-Id: I90cc7f59f9066718a2c49a682956f55f8bfc748d\n'}, {'number': 2, 'created': '2014-02-27 06:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad4c6b96cf44f9a62d3b4bc0def3c3fd5914168d', 'message': ""Design fiction porting undercloud-bm to software-config\n\nThis template does not work, but is intended to help evaluate\nwhether heat software-config meets tripleo's needs.\n\nThis template includes the following:\n- moving the config data to OS::Heat::StructuredConfig\n- undercloud deployment and baremetal deployment are represented by two separate\n  OS::Heat::SoftwareDeployment resources, so merge.py does not need to merge these\n  into a single launch config anymore\n- these templates still rely on merge.py for composing parameters and resources into\n  a single template, but this change might be the best first step in phasing out merge.py\n- oac templates would need to be modified to handle the new metadata layout, which\n  would be the json equivalent of:\n  os-collect-config:\n    # ...\n  deployments:\n  - name: 10_undercloud_config\n    config: # what used to be the Metadata section, with inputs substituted\n    # ... other config properties\n  - name: 20_baremetal_config\n    config: # what used to be the bm Metadata section, with inputs substituted\n    # ... other config properties\nChange-Id: I90cc7f59f9066718a2c49a682956f55f8bfc748d""}, {'number': 3, 'created': '2014-02-27 06:26:38.000000000', 'files': ['undercloud-source.yaml', 'undercloud-bm-source.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe8971ef7711899582b109287d67114a2eafc317', 'message': ""Design fiction porting undercloud-bm to software-config\n\nThis template does not work, but is intended to help evaluate\nwhether heat software-config meets tripleo's needs.\n\nThis template includes the following:\n- moving the config data to OS::Heat::StructuredConfig\n- undercloud deployment and baremetal deployment are represented by two separate\n  OS::Heat::SoftwareDeployment resources, so merge.py does not need to merge these\n  into a single launch config anymore\n- these templates still rely on merge.py for composing parameters and resources into\n  a single template, but this change might be the best first step in phasing out merge.py\n- oac templates would need to be modified to handle the new metadata layout, which\n  would be the json equivalent of:\n  os-collect-config:\n    # ...\n  deployments:\n  - name: 10_undercloud_config\n    config: # what used to be the Metadata section, with inputs substituted\n    # ... other config properties\n  - name: 20_baremetal_config\n    config: # what used to be the bm Metadata section, with inputs substituted\n    # ... other config properties\nChange-Id: I90cc7f59f9066718a2c49a682956f55f8bfc748d\n""}]",9,72533,fe8971ef7711899582b109287d67114a2eafc317,19,4,3,4571,,,0,"Design fiction porting undercloud-bm to software-config

This template does not work, but is intended to help evaluate
whether heat software-config meets tripleo's needs.

This template includes the following:
- moving the config data to OS::Heat::StructuredConfig
- undercloud deployment and baremetal deployment are represented by two separate
  OS::Heat::SoftwareDeployment resources, so merge.py does not need to merge these
  into a single launch config anymore
- these templates still rely on merge.py for composing parameters and resources into
  a single template, but this change might be the best first step in phasing out merge.py
- oac templates would need to be modified to handle the new metadata layout, which
  would be the json equivalent of:
  os-collect-config:
    # ...
  deployments:
  - name: 10_undercloud_config
    config: # what used to be the Metadata section, with inputs substituted
    # ... other config properties
  - name: 20_baremetal_config
    config: # what used to be the bm Metadata section, with inputs substituted
    # ... other config properties
Change-Id: I90cc7f59f9066718a2c49a682956f55f8bfc748d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/72533/2 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud-config.json', '.gitignore', 'Makefile', 'undercloud-bm-config.json', 'undercloud-bm-source.yaml', 'undercloud-source.yaml', 'undercloud-bm.yaml']",7,be06627987f534a664569dd49bfe186a1593eef3,heat-software-config,"heat_template_version: 2013-05-23 description: All-in-one baremetal OpenStack and all dependencies.,undercloud-bm-source.yaml parameters: AdminPassword: default: unset description: The password for the keystone admin account, used for monitoring, querying neutron etc. hidden: true type: String AdminToken: default: unset description: The keystone auth secret. hidden: true type: String BaremetalArch: default: i386 description: The architecture to use in Nova-BM - i386 or amd64. type: String Flavor: default: baremetal description: Flavor to request when deploying. type: String GlancePassword: default: unset description: The password for the glance service account, used by the glance services. hidden: true type: String HeatPassword: default: unset description: The password for the Heat service account, used by the Heat services. hidden: true type: String KeyName: default: default description: Name of an existing EC2 KeyPair to enable SSH access to the instances type: String NeutronPassword: default: unset description: The password for the neutron service account, used by neutron agents. hidden: true type: String NeutronPublicInterface: default: eth2 description: What interface to bridge onto br-ex for network nodes. type: String NovaPassword: default: unset description: The password for the nova service account, used by nova-api. hidden: true type: String PowerManager: default: nova.virt.baremetal.ipmi.IPMI description: Bare metal power manager driver. type: String undercloudImage: default: undercloud type: String resources: undercloud_config: type: OS::Heat::SoftwareConfig properties: config: get_file: undercloud-config.json inputs: - name: AdminPassword default: get_param: AdminPassword - name: AdminToken default: get_param: AdminToken - name: GlancePassword default: get_param: GlancePassword - name: HeatPassword default: get_param: HeatPassword - name: NeutronPassword default: get_param: NeutronPassword - name: ControllerAddress - name: WatchServerURL - name: MetadataServerURL - name: WaitconditionServerURL - name: StackName default: get_param: AWS::StackName - name: NeutronPublicInterface default: get_param: NeutronPublicInterface undercloud_bm_config: type: OS::Heat::SoftwareConfig properties: config: get_file: undercloud-bm-config.json inputs: - name: BaremetalArch default: get_param: BaremetalArch - name: PowerManager default: get_param: PowerManager - name: NovaPassword default: get_param: NovaPassword undercloud: type: OS::Nova::Server properties: flavor: get_param: Flavor image: get_param: undercloudImage key_name: get_param: KeyName undercloud_bm_deploy: type: OS::Heat::SoftwareDeployment properties: config_id: get_resource: undercloud_bm_config server_id: get_resource: undercloud undercloud_deploy: type: OS::Heat::SoftwareDeployment properties: config_id: get_resource: undercloud_config server_id: get_resource: undercloud input_values: ControllerAddress: get_attr: [undercloud, networks, ctlplane, 0] WatchServerURL: str_replace: params: host: get_attr: [undercloud, networks, ctlplane, 0] template: http://host:8003 MetadataServerURL: str_replace: params: host: get_attr: [undercloud, networks, ctlplane, 0] template: http://host:8000 WaitconditionServerURL: str_replace: params: host: get_attr: [undercloud, networks, ctlplane, 0] template: http://host:8000/v1/waitcondition ",,235,221
openstack%2Fnova~master~I753b98345d1614b8892f5059e516e51c7977ddb1,openstack/nova,master,I753b98345d1614b8892f5059e516e51c7977ddb1,Fix unshelve instance with user volumes,ABANDONED,2014-04-14 08:18:59.000000000,2014-04-17 03:22:32.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8290}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-14 08:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d10de773c400a65386f1d880820723e52f65f29', 'message': 'Fix unshelve instance with user volumes\n\nUnshelving an instance with user volumes will faile and the\ninstance will stuck in task_state of ""unshelving"".\nIt is because the user volumes of this instance is ""in-use"" state when\nUnshelving, and nova-compute will try to attach the volumes.\n\nChange-Id: I753b98345d1614b8892f5059e516e51c7977ddb1\nCloses-bug: #1305399\n'}, {'number': 2, 'created': '2014-04-14 09:38:48.000000000', 'files': ['nova/tests/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74e0fb1fdd6be5ef4cc49722e1ddad0f0d3d95cd', 'message': 'Fix unshelve instance with user volumes\n\nUnshelving an instance with user volumes will faile and the\ninstance will stuck in task_state of ""unshelving"".\nIt is because the user volumes of this instance is ""in-use"" state when\nUnshelving, and nova-compute will try to attach the volumes.\n\nChange-Id: I753b98345d1614b8892f5059e516e51c7977ddb1\nCloses-bug: #1305399\n'}]",2,87188,74e0fb1fdd6be5ef4cc49722e1ddad0f0d3d95cd,19,6,2,8290,,,0,"Fix unshelve instance with user volumes

Unshelving an instance with user volumes will faile and the
instance will stuck in task_state of ""unshelving"".
It is because the user volumes of this instance is ""in-use"" state when
Unshelving, and nova-compute will try to attach the volumes.

Change-Id: I753b98345d1614b8892f5059e516e51c7977ddb1
Closes-bug: #1305399
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/87188/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/compute/test_shelve.py']",2,2d10de773c400a65386f1d880820723e52f65f29,bug/1305399,"from nova import block_devicefrom nova.objects import block_device as block_device_obj self.mox.StubOutWithMock(self.compute, '_prep_unshelve_block_info') self.compute._prep_unshelve_block_info(self.context, instance, self.mox.StubOutWithMock(self.compute, '_prep_unshelve_block_info') self.compute._prep_unshelve_block_info(self.context, instance, def test_unshelve_with_user_volumes(self): db_instance = jsonutils.to_primitive(self._create_fake_instance()) self.compute.run_instance(self.context, db_instance, {}, {}, [], None, None, True, None, False) instance = instance_obj.Instance.get_by_uuid( self.context, db_instance['uuid'], expected_attrs=['metadata', 'system_metadata']) instance.task_state = task_states.UNSHELVING instance.save() image = {'id': 'fake_id'} host = 'fake-mini' node = test_compute.NODENAME limits = {} filter_properties = {'limits': limits} cur_time = timeutils.utcnow() cur_time_tz = cur_time.replace(tzinfo=iso8601.iso8601.Utc()) timeutils.set_time_override(cur_time) sys_meta = dict(instance.system_metadata) sys_meta['shelved_at'] = timeutils.strtime(at=cur_time) sys_meta['shelved_image_id'] = image['id'] sys_meta['shelved_host'] = host self.mox.StubOutWithMock(self.compute, '_notify_about_instance_usage') self.mox.StubOutWithMock(block_device_obj.BlockDeviceMappingList, 'get_by_instance_uuid') self.mox.StubOutWithMock(self.compute.driver, 'spawn') self.mox.StubOutWithMock(self.compute, '_get_power_state') self.mox.StubOutWithMock(self.rt, 'instance_claim') self.mox.StubOutWithMock(db, 'instance_update_and_get_original') self.deleted_image_id = None def fake_delete(self2, ctxt, image_id): self.deleted_image_id = image_id fake_image.stub_out_image_service(self.stubs) self.stubs.Set(fake_image._FakeImageService, 'delete', fake_delete) self.compute._notify_about_instance_usage(self.context, instance, 'unshelve.start') db.instance_update_and_get_original(self.context, instance['uuid'], {'task_state': task_states.SPAWNING}, update_cells=False, columns_to_join=['metadata', 'system_metadata'], ).AndReturn((db_instance, db_instance)) bdm = [ block_device.BlockDeviceDict({ 'id': 1, 'no_device': None, 'source_type': 'volume', 'destination_type': 'volume', 'snapshot_id': None, 'volume_id': 'fake_uuid', 'device_name': '/dev/vdb', 'delete_on_termination': False, })] block_device_obj.BlockDeviceMappingList.get_by_instance_uuid( self.context, mox.IgnoreArg()).AndReturn(bdm) block_device_info = self.compute._prep_unshelve_block_info(self.context, instance, bdm) db_instance['key_data'] = None db_instance['auto_disk_config'] = None self.rt.instance_claim(self.context, instance, limits).AndReturn( claims.Claim(db_instance, self.rt, _fake_resources())) self.compute.driver.spawn(self.context, instance, image, injected_files=[], admin_password=None, network_info=[], block_device_info=block_device_info) self.compute._get_power_state(self.context, instance).AndReturn(123) db.instance_update_and_get_original(self.context, instance['uuid'], {'power_state': 123, 'vm_state': vm_states.ACTIVE, 'task_state': None, 'image_ref': instance['image_ref'], 'key_data': None, 'auto_disk_config': False, 'expected_task_state': task_states.SPAWNING, 'launched_at': cur_time_tz}, update_cells=False, columns_to_join=['metadata', 'system_metadata'] ).AndReturn((db_instance, db_instance)) self.compute._notify_about_instance_usage(self.context, instance, 'unshelve.end') self.mox.ReplayAll() self.compute.unshelve_instance(self.context, instance, image=image, filter_properties=filter_properties, node=node) self.assertEqual(image['id'], self.deleted_image_id) self.assertEqual(instance.host, self.compute.host) "," self.mox.StubOutWithMock(self.compute, '_prep_block_device') self.compute._prep_block_device(self.context, instance, self.mox.StubOutWithMock(self.compute, '_prep_block_device') self.compute._prep_block_device(self.context, instance,",123,5
openstack%2Fnova~master~I14a79f0d98a6688087382aac052efefd3d12c4b7,openstack/nova,master,I14a79f0d98a6688087382aac052efefd3d12c4b7,Fix unshelving volume backed instance in conductor,ABANDONED,2014-04-15 03:16:25.000000000,2014-04-17 03:22:09.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5170}, {'_account_id': 8290}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-15 03:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15421906ae62edb6a8e1ae15ba5c35358af93ce8', 'message': ""Fix unshelving volume backed instance in conductor\n\nWhen unshelving an instance, the nova conductor will raise a\nKeyError,because conductor try to get shelved_image_id and to get\nimage,but shelved volume backed instance hasn't image.\nIt should just ensure the image is None when unshelving an instance.\n\nChange-Id: I14a79f0d98a6688087382aac052efefd3d12c4b7\nCloses-bug: #1302452\n""}, {'number': 2, 'created': '2014-04-15 08:05:22.000000000', 'files': ['nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ebbd97f60be790ff3a284077f873a5fe5d5f331', 'message': ""Fix unshelving volume backed instance in conductor\n\nWhen unshelving an instance, the nova conductor will raise a\nKeyError,because conductor try to get shelved_image_id and to get\nimage,but shelved volume backed instance hasn't image.\nIt should just ensure the image is None when unshelving an instance.\n\nChange-Id: I14a79f0d98a6688087382aac052efefd3d12c4b7\nCloses-bug: #1302452\n""}]",0,87434,2ebbd97f60be790ff3a284077f873a5fe5d5f331,19,6,2,8290,,,0,"Fix unshelving volume backed instance in conductor

When unshelving an instance, the nova conductor will raise a
KeyError,because conductor try to get shelved_image_id and to get
image,but shelved volume backed instance hasn't image.
It should just ensure the image is None when unshelving an instance.

Change-Id: I14a79f0d98a6688087382aac052efefd3d12c4b7
Closes-bug: #1302452
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/87434/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,15421906ae62edb6a8e1ae15ba5c35358af93ce8,bug/1302452," snapshot_id = sys_meta.get('shelved_image_id') image = self._get_image(context, snapshot_id)"," snapshot_id = sys_meta.get('shelved_image_id') image = self._get_image(context, sys_meta['shelved_image_id'])",25,3
openstack%2Fgrenade~master~Id0ddf92c0c2d02dd3fb86e408a84646e081944da,openstack/grenade,master,Id0ddf92c0c2d02dd3fb86e408a84646e081944da,switch swift enables to specify services,MERGED,2014-04-11 21:00:35.000000000,2014-04-17 03:18:28.000000000,2014-04-17 03:18:28.000000000,"[{'_account_id': 3}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-04-11 21:00:35.000000000', 'files': ['devstack.localrc.base', 'devstack.localrc.target'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e74a7fe5adc496b95791696bc1d4a138105019e5', 'message': 'switch swift enables to specify services\n\nin the gate we specify all the swift services directly, not the\nold swift flag. We should mirror that back to grenade, as we now\nreally do depend on it.\n\nChange-Id: Id0ddf92c0c2d02dd3fb86e408a84646e081944da\n'}]",0,87031,e74a7fe5adc496b95791696bc1d4a138105019e5,8,2,1,2750,,,0,"switch swift enables to specify services

in the gate we specify all the swift services directly, not the
old swift flag. We should mirror that back to grenade, as we now
really do depend on it.

Change-Id: Id0ddf92c0c2d02dd3fb86e408a84646e081944da
",git fetch https://review.opendev.org/openstack/grenade refs/changes/31/87031/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack.localrc.base', 'devstack.localrc.target']",2,e74a7fe5adc496b95791696bc1d4a138105019e5,,enable_service s-account s-container s-object s-proxy,enable_service swift,2,2
openstack%2Fgrenade~master~Ia27fc54f41404a113065258e950adb2851f1ece8,openstack/grenade,master,Ia27fc54f41404a113065258e950adb2851f1ece8,support proposed/* branches,MERGED,2014-04-11 20:42:33.000000000,2014-04-17 03:18:28.000000000,2014-04-17 03:18:27.000000000,"[{'_account_id': 3}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-04-11 20:42:33.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/grenade/commit/28989efa14918c5130061d8b4d4e61f8eec732c6', 'message': 'support proposed/* branches\n\nprovide support for named proposed branches for selection logic\n\nChange-Id: Ia27fc54f41404a113065258e950adb2851f1ece8\n'}]",0,87024,28989efa14918c5130061d8b4d4e61f8eec732c6,8,2,1,2750,,,0,"support proposed/* branches

provide support for named proposed branches for selection logic

Change-Id: Ia27fc54f41404a113065258e950adb2851f1ece8
",git fetch https://review.opendev.org/openstack/grenade refs/changes/24/87024/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,28989efa14918c5130061d8b4d4e61f8eec732c6,," if [[ $branch =~ ""stable/"" || $branch =~ ""proposed/"" ]]; then"," if [[ $branch =~ ""stable/"" ]]; then",1,1
openstack%2Fdiskimage-builder~master~I3166951c6fbb2faec53ffc339edd2fd0c3512300,openstack/diskimage-builder,master,I3166951c6fbb2faec53ffc339edd2fd0c3512300,Remove cloudy interfaces in dhcp-all-interfaces,MERGED,2014-04-11 18:38:18.000000000,2014-04-17 02:50:40.000000000,2014-04-17 02:50:40.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-04-11 18:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e1398fdd72b0c28e33bf7a1373bfe63f1a298685', 'message': ""Remove cloudy interfaces in dhcp-all-interfaces\n\nMoves the code that removes default cloud interfaces\ninto the dhcp-all-interfaces element. Having it live in\nstable-interface-names won't work right now because we\nneed this for virtualized testing.\n\nChange-Id: I3166951c6fbb2faec53ffc339edd2fd0c3512300\n""}, {'number': 2, 'created': '2014-04-16 18:10:04.000000000', 'files': ['elements/dhcp-all-interfaces/install.d/60-remove-cloud-image-interfaces', 'elements/stable-interface-names/install.d/02-stable-interface-names'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0a797c86de8ec43931ae51ed4233f6bb1717c0ef', 'message': ""Remove cloudy interfaces in dhcp-all-interfaces\n\nMoves the code that removes default cloud interfaces\ninto the dhcp-all-interfaces element. Having it live in\nstable-interface-names won't work right now because we\nneed this for virtualized testing.\n\nChange-Id: I3166951c6fbb2faec53ffc339edd2fd0c3512300\n""}]",4,86989,0a797c86de8ec43931ae51ed4233f6bb1717c0ef,26,5,2,360,,,0,"Remove cloudy interfaces in dhcp-all-interfaces

Moves the code that removes default cloud interfaces
into the dhcp-all-interfaces element. Having it live in
stable-interface-names won't work right now because we
need this for virtualized testing.

Change-Id: I3166951c6fbb2faec53ffc339edd2fd0c3512300
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/89/86989/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/dhcp-all-interfaces/install.d/60-remove-cloud-image-interfaces', 'elements/stable-interface-names/install.d/02-stable-interface-names']",2,e1398fdd72b0c28e33bf7a1373bfe63f1a298685,rm_cloud_image_interfaces,," # Fedora/RHEL cloud images may hard code the eth0 interface # so it boots w/ DHCP. We remove this file here so it # doesn't interfere w/ stable interface naming IFCFG_NETSCRIPT=""/etc/sysconfig/network-scripts/ifcfg-eth0"" if [ -f $IFCFG_NETSCRIPT ]; then rm $IFCFG_NETSCRIPT fi # Ubuntu may hard code the eth0 interface for DHCP # We remove this file here so it doesn't interfere w/ # stable interface naming ENI_ETH0_CFG=""/etc/network/interfaces.d/eth0.cfg"" if [ -f $ENI_ETH0_CFG ]; then rm $ENI_ETH0_CFG fi",17,16
openstack%2Fhacking~master~I6d335fc127f04a5be65c51b33794cbb3db009aa0,openstack/hacking,master,I6d335fc127f04a5be65c51b33794cbb3db009aa0,Disable logging correctly,MERGED,2014-03-24 07:13:44.000000000,2014-04-17 02:44:56.000000000,2014-04-17 02:44:56.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5638}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-03-24 07:13:44.000000000', 'files': ['hacking/core.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/17ba781fcacb1a299befb135a248493fc9331d19', 'message': 'Disable logging correctly\n\nlogging.disable() function expects a log level as an int. The given\nlevel is later compared against integer values (e. g.  INFO is 20). So,\nwhen logging.disable() is given a string, it is later compared to int,\nwhich is meaningless in python 2 and raises TypeError in python 3.\n\nThis change disables logging correctly, by passing maximal defined\nlog level (CRITICAL) to logging.disable().\n\nChange-Id: I6d335fc127f04a5be65c51b33794cbb3db009aa0\n'}]",0,82441,17ba781fcacb1a299befb135a248493fc9331d19,12,4,1,7366,,,0,"Disable logging correctly

logging.disable() function expects a log level as an int. The given
level is later compared against integer values (e. g.  INFO is 20). So,
when logging.disable() is given a string, it is later compared to int,
which is meaningless in python 2 and raises TypeError in python 3.

This change disables logging correctly, by passing maximal defined
log level (CRITICAL) to logging.disable().

Change-Id: I6d335fc127f04a5be65c51b33794cbb3db009aa0
",git fetch https://review.opendev.org/openstack/hacking refs/changes/41/82441/1 && git format-patch -1 --stdout FETCH_HEAD,['hacking/core.py'],1,17ba781fcacb1a299befb135a248493fc9331d19,,logging.disable(logging.CRITICAL),logging.disable('LOG'),1,1
openstack%2Fpython-keystoneclient~master~I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60,openstack/python-keystoneclient,master,I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60,Implement endpoint filtering functionality on the client side.,MERGED,2014-03-25 05:18:09.000000000,2014-04-17 02:41:38.000000000,2014-04-17 02:41:38.000000000,"[{'_account_id': 3}, {'_account_id': 1313}, {'_account_id': 1916}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-03-25 05:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f5450dfd4fcf4e99d57559dfc9bef2518c7390a6', 'message': 'Implement endpoint filtering functionality on the client side.\n\nbp/endpoint-filtering\n\nChange-Id: I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60\n'}, {'number': 2, 'created': '2014-03-25 23:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8574fd7031ca5155f65cb4511ec89d256b38b608', 'message': 'Implement endpoint filtering functionality on the client side.\n\nbp/endpoint-filtering\n\nChange-Id: I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60\n'}, {'number': 3, 'created': '2014-04-15 19:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a5f7113d6c61c91c4364d9fa34eb70e385f421e3', 'message': 'Implement endpoint filtering functionality on the client side.\n\nbp/endpoint-filtering\n\nChange-Id: I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60\n'}, {'number': 4, 'created': '2014-04-16 01:01:44.000000000', 'files': ['keystoneclient/v3/client.py', 'keystoneclient/tests/v3/test_endpoint_filter.py', 'keystoneclient/v3/contrib/endpoint_filter.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/eff1960daf341a0e23876c31300ee89378250e00', 'message': 'Implement endpoint filtering functionality on the client side.\n\nbp/endpoint-filtering\n\nChange-Id: I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60\n'}]",17,82713,eff1960daf341a0e23876c31300ee89378250e00,23,6,4,1916,,,0,"Implement endpoint filtering functionality on the client side.

bp/endpoint-filtering

Change-Id: I48cb8dbd2720bb0c5777712b68a8a5b8f3bf7f60
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/13/82713/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/v3/client.py', 'keystoneclient/tests/v3/test_endpoint_filter.py', 'keystoneclient/v3/contrib/endpoint_filter.py']",3,f5450dfd4fcf4e99d57559dfc9bef2518c7390a6,endpoint-filter,"# Copyright 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from keystoneclient import base from keystoneclient import exceptions class EndpointFilterManager(base.Manager): """"""Manager class for manipulating project-endpoint associations."""""" OS_EP_FILTER_EXT = '/OS-EP-FILTER' def _build_base_url(self, project=None, endpoint=None): project_id = base.getid(project) endpoint_id = base.getid(endpoint) api_path = None if project_id and endpoint_id: api_path = '/projects/%s/endpoints/%s' % (project_id, endpoint_id) elif project_id: api_path = '/projects/%s/endpoints' % (project_id) elif endpoint_id: api_path = '/endpoints/%s/projects' % (endpoint_id) else: msg = 'Must specify a project, an endpoint, or both' raise exceptions.ValidationError(msg) return self.OS_EP_FILTER_EXT + api_path def add_endpoint_to_project(self, project=None, endpoint=None): """"""Create a project-endpoint association."""""" base_url = self._build_base_url(project=project, endpoint=endpoint) return super(EndpointFilterManager, self)._put(url=base_url) def remove_endpoint_from_project(self, project=None, endpoint=None): """"""Remove a project-endpoint association."""""" base_url = self._build_base_url(project=project, endpoint=endpoint) return super(EndpointFilterManager, self)._delete(url=base_url) def check_endpoint_in_project(self, project=None, endpoint=None): """"""Checks if project-endpoint association exist."""""" base_url = self._build_base_url(project=project, endpoint=endpoint) return super(EndpointFilterManager, self)._head(url=base_url) def list_endpoints_for_project(self, project=None): """"""List all endpoints for a given project."""""" base_url = self._build_base_url(project=project) return super(EndpointFilterManager, self)._list( base_url, self.client.endpoints.collection_key, obj_class=self.client.endpoints.resource_class) def list_projects_for_endpoint(self, endpoint=None): """"""List all projects for a given endpoint."""""" base_url = self._build_base_url(endpoint=endpoint) return super(EndpointFilterManager, self)._list( base_url, self.client.projects.collection_key, obj_class=self.client.projects.resource_class) ",,218,0
openstack%2Fdevstack~master~Ic6f24a864ca0255e2a8e69969f347bcaf8493e1f,openstack/devstack,master,Ic6f24a864ca0255e2a8e69969f347bcaf8493e1f,Add sudoers.d entry for Ironic conductor,MERGED,2014-04-14 23:15:55.000000000,2014-04-17 02:41:31.000000000,2014-04-17 02:41:30.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1420}, {'_account_id': 2750}, {'_account_id': 7369}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-14 23:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ccd28f5f17e967d549e5d573d9a56d281484e3a2', 'message': 'Add sudoers.d entry for Ironic conductor\n\nIronic conductor requires sudo access for ironic-rootwrap.\n\nChange-Id: Ic6f24a864ca0255e2a8e69969f347bcaf8493e1f\n'}, {'number': 2, 'created': '2014-04-15 00:16:17.000000000', 'files': ['lib/ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3f2a7b75bb440e5658a61cb06097de280d9f572e', 'message': 'Add sudoers.d entry for Ironic conductor\n\nIronic conductor requires sudo access for ironic-rootwrap.\n\nChange-Id: Ic6f24a864ca0255e2a8e69969f347bcaf8493e1f\n'}]",2,87408,3f2a7b75bb440e5658a61cb06097de280d9f572e,35,6,2,1420,,,0,"Add sudoers.d entry for Ironic conductor

Ironic conductor requires sudo access for ironic-rootwrap.

Change-Id: Ic6f24a864ca0255e2a8e69969f347bcaf8493e1f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/87408/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ironic'],1,ccd28f5f17e967d549e5d573d9a56d281484e3a2,ironic_sudoers," IRONIC_ROOTWRAP=$(get_rootwrap_location ironic) ROOTWRAP_ISUDOER_CMD=""$IRONIC_ROOTWRAP $IRONIC_CONF_DIR/rootwrap.conf"" # Set up the rootwrap sudoers for ironic TEMPFILE=`mktemp` echo ""$STACK_USER ALL=(root) NOPASSWD: $ROOTWRAP_ISUDOER_CMD"" >$TEMPFILE chmod 0440 $TEMPFILE sudo chown root:root $TEMPFILE sudo mv $TEMPFILE /etc/sudoers.d/ironic-rootwrap",,9,0
openstack%2Fnova~master~Ifbf751739c215e566926719f481c03e2c064163a,openstack/nova,master,Ifbf751739c215e566926719f481c03e2c064163a,Remove unneeded call to fetch network info on shutdown,MERGED,2014-03-15 07:12:18.000000000,2014-04-17 02:40:43.000000000,2014-04-17 02:40:39.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2592}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5948}, {'_account_id': 6450}, {'_account_id': 6488}, {'_account_id': 6873}, {'_account_id': 7641}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-15 07:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceacfb1e98e185904cabefb116f345aa8acaa0b4', 'message': '<WIP>Remove unneeded call to fetch network info on shutdown\n\nSame issue with missing info_cache in all the tests....\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n'}, {'number': 2, 'created': '2014-03-17 23:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16a3b0f724c81f1ab9e360d34b16118b18d06fd9', 'message': 'Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces were this call to the network api call can be removed but that patch\njust handles the case for shutdown.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n'}, {'number': 3, 'created': '2014-03-18 03:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95e35eb4a27cafb7255905a235880a476e86e316', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces were this call to the network api call can be removed but that patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 4, 'created': '2014-03-19 05:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc1a4555975d72c07b32ebd11a33863fe118df00', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces were this call to the network api call can be removed but that patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 5, 'created': '2014-03-20 00:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09d1fb00e437b5daa4ab64556f116e4eb5515722', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces were this call to the network api call can be removed but that patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 6, 'created': '2014-03-20 01:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/831821ed6c9895e11d25213751acac06f1752ab4', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 7, 'created': '2014-03-21 17:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e07898778bf340e53a2e9e07273dae0691f6adf1', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 11, 'created': '2014-03-21 20:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e676fd884cf69c40c0f8bd58e6950606c8efa693', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 10, 'created': '2014-03-21 20:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f593b722e78bdc9fd13628ed50c20b2d98a87bd8', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 9, 'created': '2014-03-21 20:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d8636d4b7964a77d331991985af8b0982f092ec', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 8, 'created': '2014-03-21 20:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/113ad4732b2f1cde59e334d067c29aec8fbf756e', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 12, 'created': '2014-04-08 19:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e2e613fb3850e53d09143242e2c08a763162164', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 13, 'created': '2014-04-10 21:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0932f54f1b379c6a741f2289cbc5faa8d0b726c6', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}, {'number': 14, 'created': '2014-04-15 19:49:03.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/compute/test_compute_utils.py', 'nova/api/ec2/cloud.py', 'nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c47900064f2f3b4384cfa3fd6fe21f452514fa36', 'message': ""Remove unneeded call to fetch network info on shutdown\n\nThere is no reason to fetch the network_info from the network api on shutdown\nsince we can just pull it out of the local cache. There are probably other\nplaces where this call to the network api call can be removed but this patch\njust handles the case for shutdown.\n\nNote: the following test was removed 'test_terminate_no_fixed_ips' as\nthe call to the network api is no longer done so this test would be the\nsame as test_terminate_no_network.\n\nCloses-bug: #1288392\n\nChange-Id: Ifbf751739c215e566926719f481c03e2c064163a\n""}]",7,80760,c47900064f2f3b4384cfa3fd6fe21f452514fa36,160,21,14,4395,,,0,"Remove unneeded call to fetch network info on shutdown

There is no reason to fetch the network_info from the network api on shutdown
since we can just pull it out of the local cache. There are probably other
places where this call to the network api call can be removed but this patch
just handles the case for shutdown.

Note: the following test was removed 'test_terminate_no_fixed_ips' as
the call to the network api is no longer done so this test would be the
same as test_terminate_no_network.

Closes-bug: #1288392

Change-Id: Ifbf751739c215e566926719f481c03e2c064163a
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/80760/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/api.py', 'nova/compute/manager.py']",3,ceacfb1e98e185904cabefb116f345aa8acaa0b4,master,from nova.network import api as network_api network_info = network_api._get_info_cache_ifaces_from_instance( instance)," # get network info before tearing down try: network_info = self._get_instance_nw_info(context, instance) except (exception.NetworkNotFound, exception.NoMoreFixedIps, exception.InstanceInfoCacheNotFound): network_info = network_model.NetworkInfo()",18,19
openstack%2Fpython-openstackclient~master~Ic5446cd6f122cbb56fce543011386d53bc31fe18,openstack/python-openstackclient,master,Ic5446cd6f122cbb56fce543011386d53bc31fe18,Pass arguments to v3 keystoneclient by kwarg,MERGED,2014-04-03 22:12:00.000000000,2014-04-17 02:40:36.000000000,2014-04-17 02:40:36.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-04-03 22:12:00.000000000', 'files': ['openstackclient/identity/v3/endpoint.py', 'openstackclient/tests/identity/v3/test_user.py', 'openstackclient/identity/v3/project.py', 'openstackclient/tests/identity/v3/test_service.py', 'openstackclient/identity/v3/policy.py', 'openstackclient/identity/v3/service.py', 'openstackclient/tests/identity/v3/test_project.py', 'openstackclient/identity/v3/credential.py', 'openstackclient/tests/identity/v3/test_role.py', 'openstackclient/identity/v3/role.py', 'openstackclient/identity/v3/group.py', 'openstackclient/identity/v3/user.py', 'openstackclient/identity/v3/domain.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/022b6d95d167405fa6534680c8a7fe449b35ce77', 'message': ""Pass arguments to v3 keystoneclient by kwarg\n\nKeystoneclient has added the positional decorator which emits a warning\nif arguments aren't passed by keyword. This means we are getting\nwarnings in certain places in openstackclient.\n\nChange-Id: Ic5446cd6f122cbb56fce543011386d53bc31fe18\nCloses-Bug: #1302199\n""}]",0,85191,022b6d95d167405fa6534680c8a7fe449b35ce77,12,5,1,7191,,,0,"Pass arguments to v3 keystoneclient by kwarg

Keystoneclient has added the positional decorator which emits a warning
if arguments aren't passed by keyword. This means we are getting
warnings in certain places in openstackclient.

Change-Id: Ic5446cd6f122cbb56fce543011386d53bc31fe18
Closes-Bug: #1302199
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/85191/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/endpoint.py', 'openstackclient/tests/identity/v3/test_user.py', 'openstackclient/identity/v3/project.py', 'openstackclient/tests/identity/v3/test_service.py', 'openstackclient/identity/v3/policy.py', 'openstackclient/identity/v3/service.py', 'openstackclient/tests/identity/v3/test_project.py', 'openstackclient/identity/v3/credential.py', 'openstackclient/tests/identity/v3/test_role.py', 'openstackclient/identity/v3/role.py', 'openstackclient/identity/v3/group.py', 'openstackclient/identity/v3/user.py', 'openstackclient/identity/v3/domain.py']",13,022b6d95d167405fa6534680c8a7fe449b35ce77,positionalfix," name=parsed_args.name, description=parsed_args.description,"," parsed_args.name, parsed_args.description,",83,72
openstack%2Ftaskflow~master~Ia8bc48967e55df6107dba272ae7187b18ba2a16e,openstack/taskflow,master,Ia8bc48967e55df6107dba272ae7187b18ba2a16e,Add docs for jobs and jobboards,MERGED,2014-04-08 00:17:45.000000000,2014-04-17 02:40:35.000000000,2014-04-17 02:40:35.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2014-04-08 00:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1f78bc3799849b64487eea9ff0d7d6c95ddbda58', 'message': 'Add docs for jobs and jobboards (WIP)\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use these\nparadigms.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 2, 'created': '2014-04-08 00:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bf4ab008fab01b050f10af46c10ee65ae7658f77', 'message': 'Add docs for jobs and jobboards (WIP)\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use these\nparadigms.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 3, 'created': '2014-04-09 00:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e382b8a4ac08497abc24c974a89da68e38839771', 'message': 'Add docs for jobs and jobboards (WIP)\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 4, 'created': '2014-04-09 01:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ed5151c48c1c750baa767996f265342b157059f4', 'message': 'Add docs for jobs and jobboards (WIP)\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 5, 'created': '2014-04-09 01:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4074ce90de20556eb3550b5e47f2c3bee108d3dc', 'message': 'Add docs for jobs and jobboards (WIP)\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 6, 'created': '2014-04-09 02:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/eb47a38b8202837f5ea5436eb8c6764b0b030033', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 7, 'created': '2014-04-09 06:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2ff448536179ade158b6447da65c76a328cc3a28', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 8, 'created': '2014-04-09 06:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7c47f9797eb8a298c15349bda259a53a2bf3ee72', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 9, 'created': '2014-04-09 17:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b739d9aa6d974b80845dd989f782b3e25db349a4', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 10, 'created': '2014-04-09 17:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e0b852a723bf68551910964f25ae750ee6113cbf', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 12, 'created': '2014-04-10 00:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bcf0fccc7df1a1becbdc1ac8efa936f199b71ff2', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}, {'number': 13, 'created': '2014-04-16 06:28:31.000000000', 'files': ['doc/source/index.rst', 'doc/source/jobs.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/514761e1f1c10fe1aac897a289ba2583060da3ae', 'message': 'Add docs for jobs and jobboards\n\nAdd initial docs explaining the jobboard and job\nconcept and basic examples for how to use this\nparadigm.\n\nPart of blueprint jobboard-example-code\n\nChange-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e\n'}]",0,85873,514761e1f1c10fe1aac897a289ba2583060da3ae,58,2,12,1297,,,0,"Add docs for jobs and jobboards

Add initial docs explaining the jobboard and job
concept and basic examples for how to use this
paradigm.

Part of blueprint jobboard-example-code

Change-Id: Ia8bc48967e55df6107dba272ae7187b18ba2a16e
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/73/85873/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/jobs.rst']",2,1f78bc3799849b64487eea9ff0d7d6c95ddbda58,bp/jobboard-example-code,"---- Jobs ---- Overview ======== Jobs and jobboards are a **novel** concept that taskflow provides to allow for automatic ownership transfer of tasks and workflows between capable owners (those owners usually then use :doc:`engines <engines>` to complete the workflow). A job consists of a unique identifier, name, and a reference to a a logbook which contains the details of the work that has been or should be completed to complete the workflow that has been created for that job. Job Interface ============= .. automodule:: taskflow.jobs.job Jobboard Interface ================== .. automodule:: taskflow.jobs.jobboard ",,26,0
openstack%2Fpython-glanceclient~master~I76be6173b97eb000319d30b4e9232a5a7c4a5aba,openstack/python-glanceclient,master,I76be6173b97eb000319d30b4e9232a5a7c4a5aba,Fix for invalid literal ValueError parsing ipv6 url(s),MERGED,2014-03-27 20:58:00.000000000,2014-04-17 02:40:29.000000000,2014-04-17 02:40:29.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 616}, {'_account_id': 5638}, {'_account_id': 6549}, {'_account_id': 8278}, {'_account_id': 9126}]","[{'number': 1, 'created': '2014-03-27 20:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/eee0bd4a276964a90d44bef3548a009a59864211', 'message': 'Fix for invalid literal ValueError parsing ipv6 url(s)\n\nSwitch to using network_utils for splitting the URL. The code\nin oslo-incubator supports ipv6 urls\n\nHEAD of oslo-incubator is bb52a3fc49f033b9f36238231ca56e754a78cf4b\n\nUpdated openstack-common.conf to pick up the new dependency from\noslo-incubator\n\nChange-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba\nCloses-Bug: #1298137\n'}, {'number': 2, 'created': '2014-03-28 11:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1c5c03c9ab6305c4e3b39830b31028684d819e32', 'message': 'Fix for invalid literal ValueError parsing ipv6 url(s)\n\nSwitch to using network_utils for splitting the URL. The code\nin oslo-incubator supports ipv6 urls\n\nHEAD of oslo-incubator is bb52a3fc49f033b9f36238231ca56e754a78cf4b\n\nUpdated openstack-common.conf to pick up the new dependency from\noslo-incubator\n\nChange-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba\nCloses-Bug: #1298137\n'}, {'number': 3, 'created': '2014-03-28 18:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/3687ed5ae7efd79d41f02c227aa55d5ea3d5309e', 'message': 'Fix for invalid literal ValueError parsing ipv6 url(s)\n\nSwitch to using network_utils for splitting the URL. The code\nin oslo-incubator supports ipv6 urls\n\nHEAD of oslo-incubator is bb52a3fc49f033b9f36238231ca56e754a78cf4b\n\nUpdated openstack-common.conf to pick up the new dependency from\noslo-incubator\n\nChange-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba\nCloses-Bug: #1298137\n'}, {'number': 4, 'created': '2014-03-29 18:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/43364a493a582a64d178f87f21603698365e4a25', 'message': 'Fix for invalid literal ValueError parsing ipv6 url(s)\n\nSwitch to using network_utils for splitting the URL. The code\nin oslo-incubator supports ipv6 urls\n\nHEAD of oslo-incubator is bb52a3fc49f033b9f36238231ca56e754a78cf4b\n\nUpdated openstack-common.conf to pick up the new dependency from\noslo-incubator\n\nChange-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba\nCloses-Bug: #1298137\n'}, {'number': 5, 'created': '2014-03-31 11:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/a2c8e7787d8070470b48792ea5f45b9b375bf682', 'message': 'Fix for invalid literal ValueError parsing ipv6 url(s)\n\nSwitch to using network_utils for splitting the URL. The code\nin oslo-incubator supports ipv6 urls\n\nHEAD of oslo-incubator is bb52a3fc49f033b9f36238231ca56e754a78cf4b\n\nUpdated openstack-common.conf to pick up the new dependency from\noslo-incubator\n\nChange-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba\nCloses-Bug: #1298137\n'}, {'number': 6, 'created': '2014-04-03 01:39:39.000000000', 'files': ['glanceclient/common/http.py', 'tests/test_http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/078819cf9ea121bbffc71ad0af6b3bea1d897b0b', 'message': 'Fix for invalid literal ValueError parsing ipv6 url(s)\n\nSwitch to using network_utils for splitting the URL. The code\nin oslo-incubator supports ipv6 urls\n\nChange-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba\nCloses-Bug: #1298137\n'}]",3,83586,078819cf9ea121bbffc71ad0af6b3bea1d897b0b,65,7,6,5638,,,0,"Fix for invalid literal ValueError parsing ipv6 url(s)

Switch to using network_utils for splitting the URL. The code
in oslo-incubator supports ipv6 urls

Change-Id: I76be6173b97eb000319d30b4e9232a5a7c4a5aba
Closes-Bug: #1298137
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/86/83586/6 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/common/http.py', 'openstack-common.conf']",2,eee0bd4a276964a90d44bef3548a009a59864211,,module=network_utils,,3,1
openstack%2Fpython-glanceclient~master~I6803f1af8b0ff036bed634c8aa1cffc52bc508e0,openstack/python-glanceclient,master,I6803f1af8b0ff036bed634c8aa1cffc52bc508e0,Adding network_utils module from oslo-incubator,MERGED,2014-04-03 01:39:39.000000000,2014-04-17 02:40:27.000000000,2014-04-17 02:40:27.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 6549}, {'_account_id': 8278}]","[{'number': 1, 'created': '2014-04-03 01:39:39.000000000', 'files': ['openstack-common.conf', 'glanceclient/openstack/common/network_utils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/58ee451286b23a8043605085c3910c81592ed032', 'message': 'Adding network_utils module from oslo-incubator\n\nNeeded for fixing bug 1298137\n\nChange-Id: I6803f1af8b0ff036bed634c8aa1cffc52bc508e0\n'}]",0,84918,58ee451286b23a8043605085c3910c81592ed032,13,4,1,5638,,,0,"Adding network_utils module from oslo-incubator

Needed for fixing bug 1298137

Change-Id: I6803f1af8b0ff036bed634c8aa1cffc52bc508e0
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/18/84918/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack-common.conf', 'glanceclient/openstack/common/network_utils.py']",2,58ee451286b23a8043605085c3910c81592ed032,,"# Copyright 2012 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Network-related utilities and helper functions. """""" # TODO(jd) Use six.moves once # https://bitbucket.org/gutworth/six/pull-request/28 # is merged try: import urllib.parse SplitResult = urllib.parse.SplitResult except ImportError: import urlparse SplitResult = urlparse.SplitResult from six.moves.urllib import parse def parse_host_port(address, default_port=None): """"""Interpret a string as a host:port pair. An IPv6 address MUST be escaped if accompanied by a port, because otherwise ambiguity ensues: 2001:db8:85a3::8a2e:370:7334 means both [2001:db8:85a3::8a2e:370:7334] and [2001:db8:85a3::8a2e:370]:7334. >>> parse_host_port('server01:80') ('server01', 80) >>> parse_host_port('server01') ('server01', None) >>> parse_host_port('server01', default_port=1234) ('server01', 1234) >>> parse_host_port('[::1]:80') ('::1', 80) >>> parse_host_port('[::1]') ('::1', None) >>> parse_host_port('[::1]', default_port=1234) ('::1', 1234) >>> parse_host_port('2001:db8:85a3::8a2e:370:7334', default_port=1234) ('2001:db8:85a3::8a2e:370:7334', 1234) """""" if address[0] == '[': # Escaped ipv6 _host, _port = address[1:].split(']') host = _host if ':' in _port: port = _port.split(':')[1] else: port = default_port else: if address.count(':') == 1: host, port = address.split(':') else: # 0 means ipv4, >1 means ipv6. # We prohibit unescaped ipv6 addresses with port. host = address port = default_port return (host, None if port is None else int(port)) class ModifiedSplitResult(SplitResult): """"""Split results class for urlsplit."""""" # NOTE(dims): The functions below are needed for Python 2.6.x. # We can remove these when we drop support for 2.6.x. @property def hostname(self): netloc = self.netloc.split('@', 1)[-1] host, port = parse_host_port(netloc) return host @property def port(self): netloc = self.netloc.split('@', 1)[-1] host, port = parse_host_port(netloc) return port def urlsplit(url, scheme='', allow_fragments=True): """"""Parse a URL using urlparse.urlsplit(), splitting query and fragments. This function papers over Python issue9374 when needed. The parameters are the same as urlparse.urlsplit. """""" scheme, netloc, path, query, fragment = parse.urlsplit( url, scheme, allow_fragments) if allow_fragments and '#' in path: path, fragment = path.split('#', 1) if '?' in path: path, query = path.split('?', 1) return ModifiedSplitResult(scheme, netloc, path, query, fragment) ",,109,0
openstack%2Fpython-glanceclient~master~Ie89de1f95bb6fb9d11058413e682c441c39524f1,openstack/python-glanceclient,master,Ie89de1f95bb6fb9d11058413e682c441c39524f1,Sync with oslo-incubator,MERGED,2014-04-03 01:39:39.000000000,2014-04-17 02:40:25.000000000,2014-04-17 02:40:25.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 5638}, {'_account_id': 6549}]","[{'number': 1, 'created': '2014-04-03 01:39:39.000000000', 'files': ['glanceclient/openstack/common/__init__.py', 'glanceclient/openstack/common/gettextutils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/ff0c87eeca9e8ac88f41836551357289e1a99a4e', 'message': 'Sync with oslo-incubator\n\nHead of oslo-incubator is commit id:\n2fd457bf2ccbeb2b84ffb204778b6417cd5405ba\n\nincludes a fix for gettextutil.Message handling of deep copy\nfailures and adding a license header\n\nChange-Id: Ie89de1f95bb6fb9d11058413e682c441c39524f1\n'}]",0,84917,ff0c87eeca9e8ac88f41836551357289e1a99a4e,17,4,1,5638,,,0,"Sync with oslo-incubator

Head of oslo-incubator is commit id:
2fd457bf2ccbeb2b84ffb204778b6417cd5405ba

includes a fix for gettextutil.Message handling of deep copy
failures and adding a license header

Change-Id: Ie89de1f95bb6fb9d11058413e682c441c39524f1
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/17/84917/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/openstack/common/__init__.py', 'glanceclient/openstack/common/gettextutils.py']",2,ff0c87eeca9e8ac88f41836551357289e1a99a4e,," # Merge the dictionaries # Copy each item in case one does not support deep copy. params = {} if isinstance(self.params, dict): for key, val in self.params.items(): params[key] = self._copy_param(val) for key, val in other.items(): params[key] = self._copy_param(val) except Exception:","import re params = self._trim_dictionary_parameters(other) def _trim_dictionary_parameters(self, dict_param): """"""Return a dict that only has matching entries in the msgid."""""" # NOTE(luisg): Here we trim down the dictionary passed as parameters # to avoid carrying a lot of unnecessary weight around in the message # object, for example if someone passes in Message() % locals() but # only some params are used, and additionally we prevent errors for # non-deepcopyable objects by unicoding() them. # Look for %(param) keys in msgid; # Skip %% and deal with the case where % is first character on the line keys = re.findall('(?:[^%]|^)?%\((\w*)\)[a-z]', self.msgid) # If we don't find any %(param) keys but have a %s if not keys and re.findall('(?:[^%]|^)%[a-z]', self.msgid): # Apparently the full dictionary is the parameter params = self._copy_param(dict_param) else: params = {} # Save our existing parameters as defaults to protect # ourselves from losing values if we are called through an # (erroneous) chain that builds a valid Message with # arguments, and then does something like ""msg % kwds"" # where kwds is an empty dictionary. src = {} if isinstance(self.params, dict): src.update(self.params) src.update(dict_param) for key in keys: params[key] = self._copy_param(src[key]) return params except TypeError:",24,35
openstack%2Foslo-incubator~master~Ibb88d5e6a22c7422315dffd7c5853a29864e34d9,openstack/oslo-incubator,master,Ibb88d5e6a22c7422315dffd7c5853a29864e34d9,apiclient.exceptions.from_response() may miss request_id,MERGED,2014-04-11 14:49:58.000000000,2014-04-17 02:37:28.000000000,2014-04-17 02:37:27.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-04-11 14:49:58.000000000', 'files': ['openstack/common/apiclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3fb053c83036f90d2da3983cf6ab8f2981f17751', 'message': 'apiclient.exceptions.from_response() may miss request_id\n\nThe common header name for the request ID value across OpenStack projects is\nx-openstack-request-id. However, apiclient.exceptions.from_response() checks\nfor x-compute-request-id, which is only set in nova and cinder responses.\nThis precludes the request ID value from being outputted by glanceclient and\nothers; this hinders error debugging.\n\nChange-Id: Ibb88d5e6a22c7422315dffd7c5853a29864e34d9\nCloses-Bug: #1306654\n'}]",0,86922,3fb053c83036f90d2da3983cf6ab8f2981f17751,9,3,1,9126,,,0,"apiclient.exceptions.from_response() may miss request_id

The common header name for the request ID value across OpenStack projects is
x-openstack-request-id. However, apiclient.exceptions.from_response() checks
for x-compute-request-id, which is only set in nova and cinder responses.
This precludes the request ID value from being outputted by glanceclient and
others; this hinders error debugging.

Change-Id: Ibb88d5e6a22c7422315dffd7c5853a29864e34d9
Closes-Bug: #1306654
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/22/86922/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/apiclient/exceptions.py'],1,3fb053c83036f90d2da3983cf6ab8f2981f17751,bug/1306654," req_id = response.headers.get(""x-openstack-request-id"") #NOTE(hdd) true for older versions of nova and cinder if not req_id: req_id = response.headers.get(""x-compute-request-id"") ""request_id"": req_id,"," ""request_id"": response.headers.get(""x-compute-request-id""),",6,1
openstack%2Foslo-incubator~master~Ifa274b6f4426fa0e65e5a3d6fd40dfde3aff1bd2,openstack/oslo-incubator,master,Ifa274b6f4426fa0e65e5a3d6fd40dfde3aff1bd2,Let update.py read/write same file one time for all replacements,MERGED,2014-04-09 03:48:13.000000000,2014-04-17 02:37:20.000000000,2014-04-17 02:37:20.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 7536}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-09 03:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/849c30f61e8d00764b71928d1c79841a6c658e3f', 'message': ""Let update.py read/write same file one time for all replacements\n\nupdate.py handles base name replacement after copying each file.\nWe read/write same file for each replacement, we'd better collect\nall replacements and read/write file only one time for all replacements.\n\nChange-Id: Ifa274b6f4426fa0e65e5a3d6fd40dfde3aff1bd2\nCloses-Bug: #1304788\n""}, {'number': 2, 'created': '2014-04-11 02:18:05.000000000', 'files': ['update.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e9ad8a513a19619d425b98cf419dc9a057fb355d', 'message': ""Let update.py read/write same file one time for all replacements\n\nupdate.py handles base name replacement after copying each file.\nWe read/write same file for each replacement, we'd better collect\nall replacements and read/write file only one time for all replacements.\n\nChange-Id: Ifa274b6f4426fa0e65e5a3d6fd40dfde3aff1bd2\nCloses-Bug: #1304788\n""}]",0,86221,e9ad8a513a19619d425b98cf419dc9a057fb355d,21,7,2,9796,,,0,"Let update.py read/write same file one time for all replacements

update.py handles base name replacement after copying each file.
We read/write same file for each replacement, we'd better collect
all replacements and read/write file only one time for all replacements.

Change-Id: Ifa274b6f4426fa0e65e5a3d6fd40dfde3aff1bd2
Closes-Bug: #1304788
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/21/86221/1 && git format-patch -1 --stdout FETCH_HEAD,['update.py'],1,849c30f61e8d00764b71928d1c79841a6c658e3f,fix_replacement,"def _replace(path, replacements): for pattern, replacement in replacements: line = re.sub(pattern, replacement, line) f.write(line) replacements = [] if 'rpc/' not in dest: replacements.append(('oslo', base)) replacements.append(('OSLO', base.upper())) replacements.append((base + '.' + oslo_module, 'oslo.' + oslo_module)) replacements.append(('^( *)from openstack.common', r'\1from ' + base + '.openstack.common')) replacements.append(('^( *)import openstack.common', r'\1import ' + base + '.openstack.common')) replacements.append(('\'openstack\.common', '\'' + base + '.openstack.common')) replacements.append(('\""openstack\.common', '\""' + base + '.openstack.common')) replacements.append(('=openstack\.common', '=' + base + '.openstack.common')) replacements.append(('possible_topdir, ""oslo"",$', 'possible_topdir, ""' + base + '"",')) _replace(dest, replacements)","def _replace(path, pattern, replacement): f.write(re.sub(pattern, replacement, line)) if 'rpc/' not in dest: _replace(dest, 'oslo', base) _replace(dest, 'OSLO', base.upper()) _replace(dest, base + '.' + oslo_module, 'oslo.' + oslo_module) _replace(dest, '^( *)from openstack.common', r'\1from ' + base + '.openstack.common') _replace(dest, '^( *)import openstack.common', r'\1import ' + base + '.openstack.common') _replace(dest, '\'openstack\.common', '\'' + base + '.openstack.common') _replace(dest, '\""openstack\.common', '\""' + base + '.openstack.common') _replace(dest, '=openstack\.common', '=' + base + '.openstack.common') _replace(dest, 'possible_topdir, ""oslo"",$', 'possible_topdir, ""' + base + '"",')",24,24
openstack%2Fswift~master~I3ef98260a62c15d06ba8cc196196d4e90abca3f0,openstack/swift,master,I3ef98260a62c15d06ba8cc196196d4e90abca3f0,Fix testcase test_print_db_info_metadata(),MERGED,2014-04-14 22:12:40.000000000,2014-04-17 02:35:08.000000000,2014-04-17 02:35:07.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 6968}, {'_account_id': 7479}, {'_account_id': 9625}]","[{'number': 1, 'created': '2014-04-14 22:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/24f317948cd2043b595e79a52f3f2f540e8897f6', 'message': ""Fix testcase test_print_db_info_metadata()\n\nTest compares cluster info to hardcoded expected data and wasn't\nsorting the two sets of things being compared leading to some\nsporadic unit test failures.\n\nChange-Id: I3ef98260a62c15d06ba8cc196196d4e90abca3f0\n""}, {'number': 2, 'created': '2014-04-14 23:04:57.000000000', 'files': ['test/unit/cli/test_info.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/856c15539a958dabe3b8a1f22d305048ca39de9a', 'message': ""Fix testcase test_print_db_info_metadata()\n\nTest compares cluster info to hardcoded expected data and wasn't\nsorting the two sets of things being compared leading to some\nsporadic unit test failures.\n\nChange-Id: I3ef98260a62c15d06ba8cc196196d4e90abca3f0\n""}]",4,87394,856c15539a958dabe3b8a1f22d305048ca39de9a,17,6,2,7479,,,0,"Fix testcase test_print_db_info_metadata()

Test compares cluster info to hardcoded expected data and wasn't
sorting the two sets of things being compared leading to some
sporadic unit test failures.

Change-Id: I3ef98260a62c15d06ba8cc196196d4e90abca3f0
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/87394/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/cli/test_info.py'],1,24f317948cd2043b595e79a52f3f2f540e8897f6,info_order," self.assertEquals(sorted(out.getvalue().strip().split('\n')), sorted(exp_out.split('\n')))"," self.assertEquals(out.getvalue().strip(), exp_out)",2,1
openstack%2Fpython-keystoneclient~master~I63ea034e7c6eaaf42d4329526a902677a8dd709d,openstack/python-keystoneclient,master,I63ea034e7c6eaaf42d4329526a902677a8dd709d,Allow session to return an error response object,MERGED,2014-03-28 00:18:40.000000000,2014-04-17 02:35:05.000000000,2014-04-17 02:35:04.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-03-28 00:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9332a7ddd694d262904fbe0b2802f0c5a8489d97', 'message': 'Allow session to return an error response object\n\nTypically we want to have exceptions thrown when dealing with requests\nthat return a http error. However when looking at integrating the\nsession object with other clients it becomes apparent that the exception\nhandling is sufficiently different that it is best for now to let the\nexisting error handling work.\n\nTo do this we should allow the session.request call to return a http\nerror response if explicitly requested.\n\nChange-Id: I63ea034e7c6eaaf42d4329526a902677a8dd709d\n'}, {'number': 2, 'created': '2014-03-28 00:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3758b3b78cf5d8223c614b9f0d84bb3a470d15aa', 'message': 'Allow session to return an error response object\n\nTypically we want to have exceptions thrown when dealing with requests\nthat return a http error. However when looking at integrating the\nsession object with other clients it becomes apparent that the exception\nhandling is sufficiently different that it is best for now to let the\nexisting error handling work.\n\nTo do this we should allow the session.request call to return a http\nerror response if explicitly requested.\n\nChange-Id: I63ea034e7c6eaaf42d4329526a902677a8dd709d\n'}, {'number': 3, 'created': '2014-03-28 00:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f528c491605f39449dfdd526360f2fc13f584810', 'message': 'Allow session to return an error response object\n\nTypically we want to have exceptions thrown when dealing with requests\nthat return a http error. However when looking at integrating the\nsession object with other clients it becomes apparent that the exception\nhandling is sufficiently different that it is best for now to let the\nexisting error handling work.\n\nTo do this we should allow the session.request call to return a http\nerror response if explicitly requested.\n\nChange-Id: I63ea034e7c6eaaf42d4329526a902677a8dd709d\n'}, {'number': 4, 'created': '2014-04-12 03:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/eff0063d377bddd02c87e5acd20db60eeaa060b8', 'message': 'Allow session to return an error response object\n\nTypically we want to have exceptions thrown when dealing with requests\nthat return an HTTP error. However when looking at integrating the\nsession object with other clients it becomes apparent that the exception\nhandling is sufficiently different that it is best for now to let the\nexisting error handling work.\n\nTo do this we should allow the session.request call to return an HTTP\nerror response if explicitly requested.\n\nChange-Id: I63ea034e7c6eaaf42d4329526a902677a8dd709d\n'}, {'number': 5, 'created': '2014-04-13 23:46:25.000000000', 'files': ['keystoneclient/tests/test_session.py', 'keystoneclient/session.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/4f1d25e4896a94f1a9760b309de7e86093da472a', 'message': 'Allow session to return an error response object\n\nTypically we want to have exceptions thrown when dealing with requests\nthat return an HTTP error. However when looking at integrating the\nsession object with other clients it becomes apparent that the exception\nhandling is sufficiently different that it is best for now to let the\nexisting error handling work.\n\nAdd an option to return the failed request rather than raise an\nexception so existing clients can do there own error handling.\n\nBlueprint: session-propagation\nDocImpact: New session parameter.\nChange-Id: I63ea034e7c6eaaf42d4329526a902677a8dd709d\n'}]",21,83630,4f1d25e4896a94f1a9760b309de7e86093da472a,52,8,5,7191,,,0,"Allow session to return an error response object

Typically we want to have exceptions thrown when dealing with requests
that return an HTTP error. However when looking at integrating the
session object with other clients it becomes apparent that the exception
handling is sufficiently different that it is best for now to let the
existing error handling work.

Add an option to return the failed request rather than raise an
exception so existing clients can do there own error handling.

Blueprint: session-propagation
DocImpact: New session parameter.
Change-Id: I63ea034e7c6eaaf42d4329526a902677a8dd709d
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/30/83630/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/test_session.py', 'keystoneclient/session.py']",2,9332a7ddd694d262904fbe0b2802f0c5a8489d97,bp/session-propagation," redirect=DEFAULT_REDIRECT_LIMIT, raise_exc=True): endpoint_filter=None, raise_exc=True, **kwargs): :param bool raise_exc: If true then raise an appropriate exception for failed HTTP requests. If false then return the request object. (optional, default True) if raise_exc and resp.status_code >= 400:"," redirect=DEFAULT_REDIRECT_LIMIT): endpoint_filter=None, **kwargs): if resp.status_code >= 400:",31,4
openstack%2Fhacking~master~Idce9e163ab05c14f09e1a47394eab38b005055cf,openstack/hacking,master,Idce9e163ab05c14f09e1a47394eab38b005055cf,Add posargs to tox -epep8,MERGED,2014-04-09 00:29:45.000000000,2014-04-17 02:33:17.000000000,2014-04-17 02:33:17.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5638}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-09 00:29:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/3c9378fb46e387031ea06839320a4230a7c54996', 'message': 'Add posargs to tox -epep8\n\nAdd posargs so you can specify arbitrary pep8 flags such as:\n  tox -epep8 -- --count\n\nChange-Id: Idce9e163ab05c14f09e1a47394eab38b005055cf\n'}]",0,86196,3c9378fb46e387031ea06839320a4230a7c54996,12,4,1,1849,,,0,"Add posargs to tox -epep8

Add posargs so you can specify arbitrary pep8 flags such as:
  tox -epep8 -- --count

Change-Id: Idce9e163ab05c14f09e1a47394eab38b005055cf
",git fetch https://review.opendev.org/openstack/hacking refs/changes/96/86196/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3c9378fb46e387031ea06839320a4230a7c54996,rev,commands = flake8 {posargs},commands = flake8,1,1
openstack%2Fhacking~master~I92ab7318f74dbf5408b125281c94412d03509c31,openstack/hacking,master,I92ab7318f74dbf5408b125281c94412d03509c31,Make hacking pass pep8 1.5.x,MERGED,2014-04-04 22:35:58.000000000,2014-04-17 02:32:28.000000000,2014-04-17 02:32:28.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5638}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-04 22:35:58.000000000', 'files': ['hacking/core.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/2854f2db64d7e94aabca46f736ec59c9778f85d9', 'message': 'Make hacking pass pep8 1.5.x\n\nPep8 1.5 introduces some the following new rules:\n* E129\n* E265\n* E713\n* E714\n\nThis patch makes hacking pass these new rules. Hacking 1.5.x changes how\ndocstrings are handled and is breaking some hacking rules. So a\nsubsequent patch will fix those issues and move to pep8 1.5\n\nChange-Id: I92ab7318f74dbf5408b125281c94412d03509c31\n'}]",0,85505,2854f2db64d7e94aabca46f736ec59c9778f85d9,11,4,1,1849,,,0,"Make hacking pass pep8 1.5.x

Pep8 1.5 introduces some the following new rules:
* E129
* E265
* E713
* E714

This patch makes hacking pass these new rules. Hacking 1.5.x changes how
docstrings are handled and is breaking some hacking rules. So a
subsequent patch will fix those issues and move to pep8 1.5

Change-Id: I92ab7318f74dbf5408b125281c94412d03509c31
",git fetch https://review.opendev.org/openstack/hacking refs/changes/05/85505/1 && git format-patch -1 --stdout FETCH_HEAD,['hacking/core.py'],1,2854f2db64d7e94aabca46f736ec59c9778f85d9,rev,"# H1xx comments # H20x except # H23x Python 2.x -> 3.x portability issues # H3xx imports # H4xx docstrings # H5xx dictionaries/lists # H6xx calling methods # H7xx localization # H8xx git commit messages # H9xx other # TODO(jogo): make the following doctests pass: # TODO(jogo): make this check docstrings as well (don't have to be at top _check_for_exact_apache(line_number - 1, lines)): if(len(split_line) > 2 and split_line[0] == '__metaclass__' and # TODO(jogo): make the following doctests pass: # NOTE(afazekas): An old style relative import example will not be able to # TODO(mordred: We need to split this into 4 different checks so that they if (split_line_len > 1 and split_line[0] in ('import', 'from') and # NOTE(afazekas): import searches first in the package # NOTE(imelnikov): python 3 returns None for path of builtin # TODO(jogo) make this apply to multi line docstrings as well# TODO(jogo) Dict and list objects return (len(physical_line) - 2, # Get title of most recent commit # From https://github.com/openstack/openstack-ci-puppet # Changeid|bug|blueprint # NOTE(jogo) if match regex but over 3 words, acceptable title","#H1xx comments #H20x except #H23x Python 2.x -> 3.x portability issues #H3xx imports #H4xx docstrings #H5xx dictionaries/lists #H6xx calling methods #H7xx localization #H8xx git commit messages #H9xx other #TODO(jogo): make the following doctests pass: #TODO(jogo): make this check docstrings as well (don't have to be at top _check_for_exact_apache(line_number-1, lines)): if(split_line[0] == '__metaclass__' and #TODO(jogo): make the following doctests pass: #NOTE(afazekas): An old style relative import example will not be able to #TODO(mordred: We need to split this into 4 different checks so that they if (split_line[0] in ('import', 'from') and split_line_len > 1 and #NOTE(afazekas): import searches first in the package #NOTE(imelnikov): python 3 returns None for path of builtin #TODO(jogo) make this apply to multi line docstrings as well#TODO(jogo) Dict and list objects return (len(physical_line)-2, #Get title of most recent commit #From https://github.com/openstack/openstack-ci-puppet #Changeid|bug|blueprint #NOTE(jogo) if match regex but over 3 words, acceptable title",27,27
openstack%2Foslo-incubator~master~Ic4ff6321559cd484b722955c70d0db776e3e6620,openstack/oslo-incubator,master,Ic4ff6321559cd484b722955c70d0db776e3e6620,"Remove duplicated ""caught"" message",MERGED,2014-04-15 04:55:47.000000000,2014-04-17 02:30:15.000000000,2014-04-17 02:30:14.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-15 04:55:47.000000000', 'files': ['openstack/common/service.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/f718e40460e0302ed541c2327b8cc75bc103cccb', 'message': 'Remove duplicated ""caught"" message\n\nThe affected messge is duplicated in _wait_for_exit_or_signal.  Since\nINFO doesn\'t log it\'s source function it can be confusing as to where\nthis log output actually came from.\n\nSee also https://review.openstack.org/#/c/85639/\n\nChange-Id: Ic4ff6321559cd484b722955c70d0db776e3e6620\n'}]",0,87442,f718e40460e0302ed541c2327b8cc75bc103cccb,10,4,1,7118,,,0,"Remove duplicated ""caught"" message

The affected messge is duplicated in _wait_for_exit_or_signal.  Since
INFO doesn't log it's source function it can be confusing as to where
this log output actually came from.

See also https://review.openstack.org/#/c/85639/

Change-Id: Ic4ff6321559cd484b722955c70d0db776e3e6620
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/42/87442/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/service.py'],1,f718e40460e0302ed541c2327b8cc75bc103cccb,libvirt-dup-msg," LOG.info(_LI('Child caught %s, exiting'), signame)"," LOG.info(_LI('Caught %s, exiting'), signame)",1,1
openstack%2Foslo-incubator~master~Id65ab87ef6a89a772a4fab838220454c394a8737,openstack/oslo-incubator,master,Id65ab87ef6a89a772a4fab838220454c394a8737,Warn the user when they sync an obsolete module,MERGED,2014-04-11 20:55:30.000000000,2014-04-17 02:29:59.000000000,2014-04-17 02:29:58.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-11 20:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/cfce228ce1a304e2b82d0c43737231b2374c4b27', 'message': 'Warn the user when they sync an obsolete module\n\nPrint a warning from update.py when the user syncs an obsolete module,\nincluding a message about which new oslo library they should be using\ninstead.\n\nChange-Id: Id65ab87ef6a89a772a4fab838220454c394a8737\n'}, {'number': 2, 'created': '2014-04-12 09:09:11.000000000', 'files': ['obsolete.txt', 'update.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/824874d852d027dc5cae82e9f674ef87f319bb8f', 'message': 'Warn the user when they sync an obsolete module\n\nPrint a warning from update.py when the user syncs an obsolete module,\nincluding a message about which new oslo library they should be using\ninstead.\n\nChange-Id: Id65ab87ef6a89a772a4fab838220454c394a8737\n'}]",2,87029,824874d852d027dc5cae82e9f674ef87f319bb8f,15,6,2,2472,,,0,"Warn the user when they sync an obsolete module

Print a warning from update.py when the user syncs an obsolete module,
including a message about which new oslo library they should be using
instead.

Change-Id: Id65ab87ef6a89a772a4fab838220454c394a8737
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/29/87029/2 && git format-patch -1 --stdout FETCH_HEAD,"['obsolete.txt', 'update.py']",2,cfce228ce1a304e2b82d0c43737231b2374c4b27,warn-on-sync-obsolete,"import fnmatch_OBSOLETE_LIST = None def _check_obsolete(path): global _OBSOLETE_LIST if _OBSOLETE_LIST is None: _OBSOLETE_LIST = [] with open('obsolete.txt', 'r') as f: for num, line in enumerate(f): line = line.strip() if line.startswith('#') or not line: continue try: pattern, replacement = line.split() except Exception as e: print('ERROR: Could not parse obsolete.txt line %s %r: %s' % (num, line, e)) else: _OBSOLETE_LIST.append((pattern, replacement)) for pattern, replacement in _OBSOLETE_LIST: if fnmatch.fnmatch(path, pattern): print('### WARNING: %s is an obsolete module, see %s' % (path, replacement)) def _copy_file(path, dest, base): _check_obsolete(path) ","def _copy_file(path, dest, base):",33,0
openstack%2Ffuel-docs~master~Id8e464114a88c46c138007c78003b20fb2d59adc,openstack/fuel-docs,master,Id8e464114a88c46c138007c78003b20fb2d59adc,split user guide source into modular files,MERGED,2014-03-27 00:46:29.000000000,2014-04-17 02:11:37.000000000,2014-04-17 02:11:37.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 10014}]","[{'number': 1, 'created': '2014-03-27 00:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/73780b2035f29f9deac63ef15ae40c39713a7d71', 'message': 'split files to be modular\n\nChange-Id: Id8e464114a88c46c138007c78003b20fb2d59adc\n'}, {'number': 2, 'created': '2014-04-01 07:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/48396f586df4aad75dd916e0a9a4050f3d08f85b', 'message': 'split user guide source into modular files\n\nChange-Id: Id8e464114a88c46c138007c78003b20fb2d59adc\n'}, {'number': 3, 'created': '2014-04-17 02:07:44.000000000', 'files': ['pages/user-guide/health-checks/0500-addtional-checks-intro.rst', 'pages/user-guide/troubleshooting-ug/network-issues.rst', 'pages/user-guide/health-checks/0610-sahara-prepare-test.rst', 'pages/user-guide/health-checks/0200-run-tests.rst', 'pages/user-guide/health-checks/0400-sanity-tests-about.rst', 'pages/user-guide/health-checks/0410-functional-tests-about.rst', 'pages/user-guide/custom-attributes.rst', 'pages/user-guide/health-checks/0630-heat-prepare-test.rst', 'pages/user-guide/troubleshooting-ug/network-issues/0100-network-check-baremetal.rst', 'pages/user-guide/health-checks/0640-platform-test-details.rst', 'pages/user-guide/health-checks/0100-intro-health-checks.rst', 'pages/user-guide/troubleshooting-ug/network-issues/0150-network-check-virtualbox.rst', 'pages/user-guide/troubleshooting-ug/network-issues/0200-openstack-api-timeout.rst', 'pages/user-guide/post-install-healthchecks.rst', 'pages/user-guide/health-checks/0600-platform-tests-intro.rst', 'pages/user-guide/health-checks/0300-test-fails.rst', 'pages/user-guide/health-checks/0620-murano-prepare-test.rst', 'pages/user-guide/health-checks/0120-benefits.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/67b08719dd485a4c5ba20f961e81c18e125d2544', 'message': 'split user guide source into modular files\n\nChange-Id: Id8e464114a88c46c138007c78003b20fb2d59adc\n'}]",0,83258,67b08719dd485a4c5ba20f961e81c18e125d2544,19,4,3,10014,,,0,"split user guide source into modular files

Change-Id: Id8e464114a88c46c138007c78003b20fb2d59adc
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/58/83258/2 && git format-patch -1 --stdout FETCH_HEAD,"['pages/user-guide/health-checks/0500-addtional-checks-intro.rst', 'pages/user-guide/health-checks/0700-platform-test-details.rst', 'pages/user-guide/troubleshooting-ug/network-issues.rst', 'pages/user-guide/health-checks/0200-run-tests.rst', 'pages/user-guide/health-checks/0400-sanity-tests-about.rst', 'pages/user-guide/health-checks/0410-functional-tests-about.rst', 'pages/user-guide/custom-attributes.rst', 'pages/user-guide/health-checks/0630-heat-prepare-test.rst', 'pages/user-guide/troubleshooting-ug/network-issues/0100-network-check-baremetal.rst', 'pages/user-guide/health-checks/0100-intro-health-checks.rst', 'pages/user-guide/troubleshooting-ug/network-issues/0150-network-check-virtualbox.rst', 'pages/user-guide/troubleshooting-ug/network-issues/0200-openstack-api-timeout.rst', 'pages/user-guide/post-install-healthchecks.rst', 'pages/user-guide/health-checks/0300-test-fails.rst', 'pages/user-guide/health-checks/0620-murano-prepare-test.rst', 'pages/user-guide/health-checks/0510-platform-tests-intro.rst', 'pages/user-guide/health-checks/0120-benefits.rst', 'pages/user-guide/health-checks/0600-sahara-prepare-test.rst']",18,73780b2035f29f9deac63ef15ae40c39713a7d71,usergdmod,"Preparing Savanna for Testing +++++++++++++++++++++++++++++ The platform tests are run in the tenant you've specified in 'OpenStack Settings' tab during OpenStack installation. By default that is 'admin' tenant. Perform in the that tenant the following actions: 1. Configure security groups in the 'admin' tenant for post-deployment checks. See :ref:`savanna-deployment-label` for the details. 2. Get an image with Hadoop for Savanna and register it with Savanna. * First download the following image: http://savanna-files.mirantis.com/savanna-0.3-vanilla-1.2.1-ubuntu-13.04.qcow2 * Then upload the image into OpenStack Image Service (Glance) into 'admin' tenant and name it 'savanna'. * In OpenStack Dashboard (Horizon) access 'Savanna' tab. * Switch to 'admin' tenant if you are not in it already. * Go to the âImage Registryâ menu. Here push âRegister Imageâ button. Image registration window will open up. * Select the image youâve just uploaded. * Set username to âubuntuâ * For tags, pick âvanillaâ plugin and â1.2.1â version and press âAdd allâ button. * Finally push âDoneâ button After the steps above are done, the Savanna is ready to be tested. ",,696,696
openstack%2Fpython-openstackclient~master~I796258f8044f42abc6a51164d920a26f73397962,openstack/python-openstackclient,master,I796258f8044f42abc6a51164d920a26f73397962,Make bash comple command best effort to authorize,MERGED,2014-03-06 20:59:01.000000000,2014-04-17 02:06:11.000000000,2014-04-17 02:06:11.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-03-06 20:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2f4bf8d8689b47ca1a6e358ed3d2ed571201e426', 'message': 'Make bash comple command best effort to authorize\n\nIf authorization fails for the complete command, generate the bash complete anyway.\n* Added best_effort flag to command\n* Attempts to authorize for bash complete, but if it fails, it tries anyway\n\nChange-Id: I796258f8044f42abc6a51164d920a26f73397962\nPartial-Bug: #1283550\n'}, {'number': 2, 'created': '2014-03-07 01:41:58.000000000', 'files': ['openstackclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/211cd31d7ac2c7768cc871ac7c9228f7713b8dfc', 'message': 'Make bash comple command best effort to authorize\n\nIf authorization fails for the complete command, generate the bash complete anyway.\n* Added best_effort flag to command\n* Attempts to authorize for bash complete, but if it fails, it tries anyway\n\nChange-Id: I796258f8044f42abc6a51164d920a26f73397962\nPartial-Bug: #1283550\n'}]",4,78758,211cd31d7ac2c7768cc871ac7c9228f7713b8dfc,24,4,2,8736,,,0,"Make bash comple command best effort to authorize

If authorization fails for the complete command, generate the bash complete anyway.
* Added best_effort flag to command
* Attempts to authorize for bash complete, but if it fails, it tries anyway

Change-Id: I796258f8044f42abc6a51164d920a26f73397962
Partial-Bug: #1283550
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/58/78758/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/shell.py'],1,2f4bf8d8689b47ca1a6e358ed3d2ed571201e426,bug/1283550,from cliff import complete command.Command.best_effort = False complete.CompleteCommand.best_effort = True if not cmd.auth_required: return if cmd.best_effort: try: self.authenticate_user() self.restapi.set_auth(self.client_manager.identity.auth_token) except Exception as e: pass else:, if cmd.auth_required:,12,1
openstack%2Ffuel-docs~master~I147932aab807efa73b082ef118948b5c483cdbe8,openstack/fuel-docs,master,I147932aab807efa73b082ef118948b5c483cdbe8,removing express docs from repo,MERGED,2014-04-07 22:09:03.000000000,2014-04-17 02:04:35.000000000,2014-04-17 02:04:35.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 10014}]","[{'number': 1, 'created': '2014-04-07 22:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/99802716fc9044de66750154c90a71840e8316ee', 'message': 'removing express docs from repo\n\nChange-Id: I147932aab807efa73b082ef118948b5c483cdbe8\n'}, {'number': 2, 'created': '2014-04-10 06:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/e8d4b935c5ab55fc41f750b929cfed57aa5e0d1c', 'message': 'removing express docs from repo\n\nChange-Id: I147932aab807efa73b082ef118948b5c483cdbe8\n'}, {'number': 3, 'created': '2014-04-17 01:54:19.000000000', 'files': ['pages/exp-user-guide/0000-intro.rst', 'express-relnotes.rst', 'pages/exp-relnotes/0000-whatis.rst', 'pages/exp-relnotes/4000-known-issues.rst', 'pages/exp-relnotes/1000-features.rst', 'express-user-guide.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/11f13526c71165800a0429a3f057799311cd34b6', 'message': 'removing express docs from repo\n\nChange-Id: I147932aab807efa73b082ef118948b5c483cdbe8\n'}]",0,85858,11f13526c71165800a0429a3f057799311cd34b6,18,4,3,10014,,,0,"removing express docs from repo

Change-Id: I147932aab807efa73b082ef118948b5c483cdbe8
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/58/85858/3 && git format-patch -1 --stdout FETCH_HEAD,['pages/exp-user-guide/0000-intro.rst'],1,99802716fc9044de66750154c90a71840e8316ee,expbase,,"Introduction to Mirantis OpenStack Express 2014.1 ================================================= Mirantis OpenStack Express is a private Data Center that you deploy in the Cloud without investing in hardware or a full staff of cloud-savvy IT professionals. You choose the size and characteristics of the servers you need and pay only for what you use and the time you use them. After the initial deployment, you can add additional servers from your own Data Center Details dashboard. Mirantis OpenStack Express deploys the stable Mirantis OpenStack distribution of the open source technology with Fuel as the powerful cloud management tool. In the first release, you can deploy a cloud using the following features and services: * A multi-node environment. One server is the Fuel Master Node that is dedicated to running the Fuel management tool and at least one server is the Controller Node that runs the services that manage your cloud environment. The remaining nodes are typically deployed as Compute Nodes, which house your users VMs, or you may choose to create multiple environments, each with at least one Controller Node and one Compute Node; all these environments can be managed from one Fuel Master Node. * Nova-network to connect the nodes. * Horizon Dashboard for managing the OpenStack services. * Keystone, the OpenStack Identity Service. Mirantis OpenStack Express configures the self-signed SSL certificates that are required; users can manually configure the SSL certificates after deployment. In addition, you get the following: * Your personal Data Center Details dashboard that displays information about usage and costs to date for your cloud and allows you to order additional servers as required. * Mirantis manages your hardware; if a hardware device fails, Mirantis swaps in a new server for you. * Full access to knowledgeable Mirantis support staff to help you realize the power of OpenStack. The following Mirantis OpenStack features are not supported in Mirantis OpenStack Express 2014.1: * High-availability environment * Neutron networking * Remote and Object Storage Nodes using Cinder, Swift, and Ceph (which provides unified object, block, and file storage) * Murano, Sahara, and Ceilometer services ",0,55
openstack%2Fpython-openstackclient~master~I201121915638d89dfbe46a7e0026aa4c2777e590,openstack/python-openstackclient,master,I201121915638d89dfbe46a7e0026aa4c2777e590,"In anticipation of network agents, rename compute",MERGED,2014-02-27 17:58:27.000000000,2014-04-17 02:04:19.000000000,2014-04-17 02:04:18.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-02-27 17:58:27.000000000', 'files': ['openstackclient/compute/v2/agent.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e9015b94f91d3ff6972109fb21a2b5e7fd3b9a79', 'message': 'In anticipation of network agents, rename compute\n\nRename the compute agents in anticipation of network agents\n\nChange-Id: I201121915638d89dfbe46a7e0026aa4c2777e590\nCloses-Bug: #1285800\n'}]",0,76922,e9015b94f91d3ff6972109fb21a2b5e7fd3b9a79,12,4,1,8736,,,0,"In anticipation of network agents, rename compute

Rename the compute agents in anticipation of network agents

Change-Id: I201121915638d89dfbe46a7e0026aa4c2777e590
Closes-Bug: #1285800
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/22/76922/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/agent.py', 'setup.cfg']",2,e9015b94f91d3ff6972109fb21a2b5e7fd3b9a79,bug/1285800, compute_agent_create = openstackclient.compute.v2.agent:CreateAgent compute_agent_delete = openstackclient.compute.v2.agent:DeleteAgent compute_agent_list = openstackclient.compute.v2.agent:ListAgent compute_agent_set = openstackclient.compute.v2.agent:SetAgent, agent_create = openstackclient.compute.v2.agent:CreateAgent agent_delete = openstackclient.compute.v2.agent:DeleteAgent agent_list = openstackclient.compute.v2.agent:ListAgent agent_set = openstackclient.compute.v2.agent:SetAgent,8,8
openstack%2Fdevstack~master~I452e1adb22b4a2d7b5be7843ef52bf321cd8f246,openstack/devstack,master,I452e1adb22b4a2d7b5be7843ef52bf321cd8f246,Testing increased baremetal active timeout,ABANDONED,2014-04-11 18:38:56.000000000,2014-04-17 02:00:33.000000000,,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-11 18:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5e999454ccf89f832c3c0588d6d7466f366f64e2', 'message': 'Testing increased baremetal active timeout\n\nTesting an increased active timeout for baremetal provisioning\non real Jenkins slaves, 300s is probably not enough.\n\nDO NOT MERGE\n\nChange-Id: I452e1adb22b4a2d7b5be7843ef52bf321cd8f246\n'}, {'number': 2, 'created': '2014-04-11 21:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea57e8135dc26272ac4972c6feab49142b5e9fb9', 'message': 'Testing increased baremetal active timeout\n\nTesting an increased active timeout for baremetal provisioning\non real Jenkins slaves, 300s is probably not enough.\n\nTesting increased CPU and memory count for BM VM.\n\nDO NOT MERGE\n\nChange-Id: I452e1adb22b4a2d7b5be7843ef52bf321cd8f246\n'}, {'number': 3, 'created': '2014-04-12 02:27:46.000000000', 'files': ['lib/ironic', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e69d09f341f1868e3d3f2d9c8a2055ae350961e0', 'message': 'Testing increased baremetal active timeout\n\nTesting an increased active timeout for baremetal provisioning\non real Jenkins slaves, 300s is probably not enough.\n\nTesting increased CPU and memory count for BM VM.\n\nDO NOT MERGE\n\nChange-Id: I452e1adb22b4a2d7b5be7843ef52bf321cd8f246\n'}]",0,86990,e69d09f341f1868e3d3f2d9c8a2055ae350961e0,19,3,3,1420,,,0,"Testing increased baremetal active timeout

Testing an increased active timeout for baremetal provisioning
on real Jenkins slaves, 300s is probably not enough.

Testing increased CPU and memory count for BM VM.

DO NOT MERGE

Change-Id: I452e1adb22b4a2d7b5be7843ef52bf321cd8f246
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/86990/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,5e999454ccf89f832c3c0588d6d7466f366f64e2,baremetal_timeout_test, iniset $TEMPEST_CONFIG baremetal active_timeout 3000,,1,0
openstack%2Foslo-incubator~master~I780cb2be94e7be7ec3ca4eccacad429af5bb748a,openstack/oslo-incubator,master,I780cb2be94e7be7ec3ca4eccacad429af5bb748a,Activate unit tests from test_base_report.py under Python3,MERGED,2014-04-16 14:01:24.000000000,2014-04-17 01:58:56.000000000,2014-04-17 01:58:55.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 8122}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-16 14:01:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fba0b120b8d08d6c0ce16d91267c8b3dcb4a794d', 'message': 'Activate unit tests from test_base_report.py under Python3\n\nChange-Id: I780cb2be94e7be7ec3ca4eccacad429af5bb748a\n'}]",0,87973,fba0b120b8d08d6c0ce16d91267c8b3dcb4a794d,10,7,1,6645,,,0,"Activate unit tests from test_base_report.py under Python3

Change-Id: I780cb2be94e7be7ec3ca4eccacad429af5bb748a
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/73/87973/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fba0b120b8d08d6c0ce16d91267c8b3dcb4a794d,python3/base_report, tests/unit/reports/test_base_report.py \,,1,0
openstack%2Foslo-incubator~master~I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd,openstack/oslo-incubator,master,I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd,Fix i18n support for apiclient,MERGED,2014-01-08 16:20:25.000000000,2014-04-17 01:57:34.000000000,2014-04-17 01:57:34.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 7763}, {'_account_id': 9545}, {'_account_id': 9550}, {'_account_id': 9656}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-01-08 16:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/295c6ced7af5da21dab49ba3a351f5d7a55d9d78', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\n""}, {'number': 2, 'created': '2014-01-09 14:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/8f79ff5738b46648c4e63d3467f74f274c8059aa', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\n""}, {'number': 3, 'created': '2014-01-27 14:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/6bd1d0e940a9d055b5d47ae562669b3a4cb039c2', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\n""}, {'number': 4, 'created': '2014-02-03 09:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/61a5f8c22b93f0baaf3e5816fa0d14fe826bacde', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\nFix bug: 1275665\n""}, {'number': 5, 'created': '2014-02-03 09:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/8ced4d76ef0668ba166f25883287e7681c4becd1', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\nCloses-Bug: #1275665\n""}, {'number': 6, 'created': '2014-02-14 10:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/aaaa37143433dc06c2b969e01d2e5b51f45b5384', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\nCloses-Bug: #1275665\n""}, {'number': 7, 'created': '2014-02-14 10:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/97821703942b5f9c530590899b58ee9fadaf1d18', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\nCloses-Bug: #1275665\n""}, {'number': 8, 'created': '2014-02-24 09:24:32.000000000', 'files': ['openstack/common/apiclient/base.py', 'openstack/common/apiclient/exceptions.py', 'openstack/common/apiclient/client.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a1117d5791d66711a8fd286155abce60ad6a4f21', 'message': ""Fix i18n support for apiclient\n\nThere are some messages in apiclient which don't support i18n,\nthis patch must fixed them.\n\nChange-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd\nCloses-Bug: #1275665\n""}]",15,65498,a1117d5791d66711a8fd286155abce60ad6a4f21,72,13,8,9545,,,0,"Fix i18n support for apiclient

There are some messages in apiclient which don't support i18n,
this patch must fixed them.

Change-Id: I9247d3d765da7242b4df29b0a7b1f7ff6eee0cdd
Closes-Bug: #1275665
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/98/65498/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/apiclient/base.py', 'openstack/common/apiclient/exceptions.py', 'openstack/common/apiclient/client.py']",3,295c6ced7af5da21dab49ba3a351f5d7a55d9d78,fix_i18n_support,"from openstack.common.gettextutils import _ _(""Request returned failure status: %s""), _(""Cannot find endpoint or token for request"")) msg = _(""Invalid %(api_name)s client version '%(version)s'. "" ""must be one of: %(version_map)s"") % { 'api_name': api_name, 'version': version, 'version_map': ', '.join(version_map.keys()) }"," ""Request returned failure status: %s"", ""Cannot find endpoint or token for request"") msg = ""Invalid %s client version '%s'. must be one of: %s"" % ( (api_name, version, ', '.join(version_map.keys())))",51,37
openstack%2Foslo-incubator~master~Ia240b3b6815220ee8f187e8029ee118ced6fa23a,openstack/oslo-incubator,master,Ia240b3b6815220ee8f187e8029ee118ced6fa23a,Activate test_generator.py tests under Python3,MERGED,2014-04-16 21:30:30.000000000,2014-04-17 01:53:30.000000000,2014-04-17 01:53:29.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9107}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-16 21:30:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/20fb3549c803658fa5daf344367a51832a396fda', 'message': 'Activate test_generator.py tests under Python3\n\nChange-Id: Ia240b3b6815220ee8f187e8029ee118ced6fa23a\n'}]",0,88087,20fb3549c803658fa5daf344367a51832a396fda,9,6,1,6645,,,0,"Activate test_generator.py tests under Python3

Change-Id: Ia240b3b6815220ee8f187e8029ee118ced6fa23a
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/87/88087/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,20fb3549c803658fa5daf344367a51832a396fda,python3/test_generator, tests/unit/config/test_generator.py \,,1,0
openstack%2Foslo-incubator~master~Ib329965aecc5e685eed9c1d313ffe1b709981b71,openstack/oslo-incubator,master,Ib329965aecc5e685eed9c1d313ffe1b709981b71,Fix tests.unit.reports.test_guru_meditation_report under Python3,MERGED,2014-04-14 22:54:57.000000000,2014-04-17 01:50:49.000000000,2014-04-17 01:50:48.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 5902}, {'_account_id': 6645}, {'_account_id': 8122}, {'_account_id': 9107}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-14 22:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/2dec504e53d4eafa3cc6993be76c4baaf914d4d1', 'message': 'Fix tests.unit.reports.test_guru_meditation_report under Python3\n\nChange-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71\n'}, {'number': 2, 'created': '2014-04-15 03:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/436ab0ed9d3099e77d85926ec19b7258a3a4af25', 'message': 'Fix tests.unit.reports.test_guru_meditation_report under Python3\n\nChange-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71\n'}, {'number': 3, 'created': '2014-04-15 21:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/909664b1a46db2397c78684e44972fe7f9b39838', 'message': 'Fix tests.unit.reports.test_guru_meditation_report under Python3\n\nChange-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71\n'}, {'number': 4, 'created': '2014-04-16 14:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/9eb419f9214c7f3740de02fbf4fc5a8c56f2cbdd', 'message': 'Fix tests.unit.reports.test_guru_meditation_report under Python3\n\nChange-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71\n'}, {'number': 5, 'created': '2014-04-16 14:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/db473829147d6ea1868350e5c5ebd247f55c875e', 'message': 'Fix tests.unit.reports.test_guru_meditation_report under Python3\n\nChange-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71\n'}, {'number': 6, 'created': '2014-04-16 15:37:31.000000000', 'files': ['openstack/common/report/models/threading.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/91af2ba9a8bd85400563549291e14d52ae8bbb95', 'message': 'Fix tests.unit.reports.test_guru_meditation_report under Python3\n\nChange-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71\n'}]",9,87404,91af2ba9a8bd85400563549291e14d52ae8bbb95,35,9,6,6645,,,0,"Fix tests.unit.reports.test_guru_meditation_report under Python3

Change-Id: Ib329965aecc5e685eed9c1d313ffe1b709981b71
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/04/87404/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/report/models/threading.py', 'tox.ini']",2,2dec504e53d4eafa3cc6993be76c4baaf914d4d1,python3/guru_meditation_report2, tests/unit/reports/test_guru_meditation_report.py \,,5,3
openstack%2Ftrove~master~I134d2f93b23dd20c998982aec197cfe08f75f6a2,openstack/trove,master,I134d2f93b23dd20c998982aec197cfe08f75f6a2,changing field from local_infile to local-infile,ABANDONED,2014-04-03 21:39:26.000000000,2014-04-17 01:50:40.000000000,,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 6156}, {'_account_id': 7092}, {'_account_id': 8415}, {'_account_id': 9664}]","[{'number': 1, 'created': '2014-04-03 21:39:26.000000000', 'files': ['trove/templates/mysql/validation-rules.json', 'trove/tests/api/configurations.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/d27c3b99611aa2c11a8079a8c448fa4bcb63e192', 'message': 'changing field from local_infile to local-infile\n\nThis was the wrong name to set the configuration variable to because its\ndifferent between setting the local-infile on the cmd line or from the\nmysql client or the my.cnf file.\n\nCloses-Bug: #1302200\nChange-Id: I134d2f93b23dd20c998982aec197cfe08f75f6a2\n'}]",0,85182,d27c3b99611aa2c11a8079a8c448fa4bcb63e192,15,6,1,4240,,,0,"changing field from local_infile to local-infile

This was the wrong name to set the configuration variable to because its
different between setting the local-infile on the cmd line or from the
mysql client or the my.cnf file.

Closes-Bug: #1302200
Change-Id: I134d2f93b23dd20c998982aec197cfe08f75f6a2
",git fetch https://review.opendev.org/openstack/trove refs/changes/82/85182/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/templates/mysql/validation-rules.json', 'trove/tests/api/configurations.py']",2,d27c3b99611aa2c11a8079a8c448fa4bcb63e192,local-infile," values = ('{""connect_timeout"": 120, ""local-infile"": true, '"," values = ('{""connect_timeout"": 120, ""local_infile"": true, '",2,2
openstack%2Ffuel-docs~master~I460d4276b3e5f27884e53456b28fe52471294953,openstack/fuel-docs,master,I460d4276b3e5f27884e53456b28fe52471294953,break up post-install files into modular files,MERGED,2014-03-25 23:10:09.000000000,2014-04-17 01:01:08.000000000,2014-04-17 01:01:08.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 10014}]","[{'number': 1, 'created': '2014-03-25 23:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/571f191bac2c7ce19c5552c171a84b93b9b4d389', 'message': 'breaking up files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 2, 'created': '2014-03-25 23:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/dde139db8c4fe7e108391e9eb688281b90089ebe', 'message': 'breaking up files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 3, 'created': '2014-03-26 03:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/150e824e8059474c0c7cec98b91ca110b163ae38', 'message': 'breaking up files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 4, 'created': '2014-03-26 03:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/c510f4e8d0dbf7238f4d7984b1b18e9debea0706', 'message': 'breaking up files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 5, 'created': '2014-03-26 04:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/9ecbf9492ae03af8d19911c013a72cc720196be9', 'message': 'breaking up files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 6, 'created': '2014-03-28 03:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/45375ec5139a0daa004e41c3f8677e66f19664f5', 'message': 'break up post-install files into modular files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 7, 'created': '2014-03-28 06:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/5a9752ed031da92ba90e320655d740eb3e3cc2f4', 'message': 'break up post-install files into modular files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 8, 'created': '2014-04-16 23:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/956fc397ff8ec88162d4df9361741d3c7cfde0fd', 'message': 'break up post-install files into modular files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 9, 'created': '2014-04-17 00:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/cd2bd7db2efca90961c5f40f101a8f0efc7b526c', 'message': 'break up post-install files into modular files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}, {'number': 10, 'created': '2014-04-17 00:58:34.000000000', 'files': ['contents/contents-pre-install-guide.rst', 'pages/pre-install-guide/0020-system-requirements/0023-node-server-hardware-recommendations.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0660-nova-plan-flatdhcp.rst', 'pages/pre-install-guide/0051-network-plan/topology/0900-routing-req.rst', 'pages/pre-install-guide/0050-network-overview.rst', 'pages/pre-install-guide/0051-network-plan/topology/0600-nova-topologies.rst', 'pages/pre-install-guide/0031-fuel-configuration/0035-post-install-config.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0610-nova-topologies.rst', 'pages/pre-install-guide/0090-appendix/0095-neutron-switch-cisco-2960g.rst', 'pages/pre-install-guide/0080-reference-configuration.rst', 'pages/pre-install-guide/0080-reference-configuration/0081-tagged-ports.rst', 'pages/pre-install-guide/0051-network-plan/topology/neutron/0720-neutron-vlan.rst', 'pages/pre-install-guide/0051-network-plan/topology/0700-neutron-topologies.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0650-nova-assign-networks-to-nics.rst', 'pages/pre-install-guide/0051-network-plan/topology/neutron/0760-neutron-plan-vlan.rst', 'pages/pre-install-guide/0051-network-plan/topology/neutron/0780-neutron-plan-gre.rst', 'pages/pre-install-guide/0031-fuel-configuration.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0630-nova-vlan.rst', 'pages/pre-install-guide/0090-appendix/0091-nova-switch-juniper-ex4200.rst', 'pages/pre-install-guide/0051-network-plan/0200-topology-include.rst', 'pages/pre-install-guide/0080-reference-configuration/0080-ref-switches-intro.rst', 'pages/pre-install-guide/0051-network-plan/topology/neutron/0730-neutron-gre.rst', 'pages/pre-install-guide/0020-system-requirements/0021-sysreq-intro.rst', 'pages/install-guide/0000-preamble', 'pages/pre-install-guide/0080-reference-configuration/0085-untagged-ports.rst', 'pages/pre-install-guide/0051-network-plan/topology/0210-topology.intro.rst', 'pages/pre-install-guide/0090-appendix/0095-ex-ha-neutron-gre-ports.rst', 'pages/pre-install-guide/0051-network-plan/topology/neutron/0710-neutron-topologies.rst', 'pages/pre-install-guide/0090-appendix.rst', 'pages/pre-install-guide/0020-system-requirements/0022-master-hdwr.rst', 'pages/pre-install-guide/0090-appendix/0091-ex-ha-nova-flatdhcp.rst', 'pages/pre-install-guide/0031-fuel-configuration/0032-prepare-most-deploy.rst', 'pre-install-guide.rst', 'contents.rst', 'pages/pre-install-guide/0051-network-plan.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0659-nova-net-plan-header.rst', 'pages/pre-install-guide/0051-network-plan/0100-net-config-options.rst', 'pages/pre-install-guide/0051-network-plan/topology/neutron/0759.net-plan-header.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0680-nova-plan-vlan.rst', 'pages/pre-install-guide/0090-appendix/0095-ex-ha-neutron-gre.rst', 'pages/pre-install-guide/0051-network-plan/0110-openstack-networks.rst', 'pages/pre-install-guide/0020-system-requirements.rst', 'pages/pre-install-guide/0090-appendix/0091-nova-switch-cisco-2960g.rst', 'pages/pre-install-guide/0090-appendix/0095-neutron-switch-juniper-ex4200.rst', 'pages/pre-install-guide/0051-network-plan/topology/nova/0620-nova-flatdhcp.rst', 'pages/pre-install-guide/0090-appendix/0091-ex-ha-nova-flatdhcp-ports.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a07d2f7d0d5eba04e5840aad929625ea06161b04', 'message': 'break up post-install files into modular files\n\nChange-Id: I460d4276b3e5f27884e53456b28fe52471294953\n'}]",12,82943,a07d2f7d0d5eba04e5840aad929625ea06161b04,57,4,10,10014,,,0,"break up post-install files into modular files

Change-Id: I460d4276b3e5f27884e53456b28fe52471294953
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/43/82943/1 && git format-patch -1 --stdout FETCH_HEAD,"['pages/pre-install-guide/0050-network-overview.rst', 'pages/pre-install-guide/0031-fuel-configuration/0035-post-install-config.rst', 'pages/pre-install-guide/0050-network-overview/0058-routing-rec.rst', 'pages/pre-install-guide/0090-appendix/0095-switch-cisco-2960g.rst', 'pages/pre-install-guide/0080-reference-configuration.rst', 'pages/pre-install-guide/0050-network-overview/0055-assign-networks-to-nics.rst', 'pages/pre-install-guide/0090-appendix/0091-switch-cisco-2960g.rst', 'pages/pre-install-guide/0080-reference-configuration/0081-tagged-ports.rst', 'pages/pre-install-guide/0050-network-overview/0051-netconfig-intro.rst', 'pages/pre-install-guide/0050-network-overview/0057-neutron-vlan-network-plan-ex.rst', 'pages/pre-install-guide/0031-fuel-configuration.rst', 'pages/pre-install-guide/0080-reference-configuration/0080-ref-switches-intro.rst', 'pages/pre-install-guide/0020-system-requirements/0021-sysreq-intro.rst', 'pages/pre-install-guide/0090-appendix/0095-ex-ha-neutron-gre-ports.rst', 'pages/pre-install-guide/0050-network-overview/0053-nova-intro.rst', 'pages/pre-install-guide/0050-network-overview/0052-topology-intro.rst', 'pages/pre-install-guide/0050-network-overview/0057-neutron-gre.rst', 'pages/pre-install-guide/0050-network-overview/0054-nova-vlan.rst', 'pages/pre-install-guide/0090-appendix/0095-switch-juniper-ex4200.rst', 'pages/pre-install-guide/0090-appendix.rst', 'pages/pre-install-guide/0050-network-overview/0056-nova-flatdhcp-network-plan-ex.rst', 'pages/pre-install-guide/0050-network-overview/0057-neutron-gre-plan-ex.rst', 'pages/pre-install-guide/0020-system-requirements/0022-master-hdwr.rst', 'pages/pre-install-guide/0050-network-overview/0056-nova-vlan-network-plan-ex.rst', 'pages/pre-install-guide/0090-appendix/0091-ex-ha-nova-flatdhcp.rst', 'pages/pre-install-guide/0090-appendix/0091-switch-juniper-ex4200.rst', 'pages/pre-install-guide/0031-fuel-configuration/0032-prepare-most-deploy.rst', 'pages/pre-install-guide/0080-reference-configuration/0085-untagged-ports', 'contents.rst', 'pages/pre-install-guide/0050-network-overview/0057-neutron-vlan.rst', 'pages/pre-install-guide/0090-appendix/0095-ex-ha-neutron-gre.rst', 'pages/pre-install-guide/0020-system-requirements.rst', 'pages/pre-install-guide/0050-network-overview/0054-nova-flatdhcp.rst', 'pages/pre-install-guide/0090-appendix/0091-ex-ha-nova-flatdhcp-ports.rst']",34,571f191bac2c7ce19c5552c171a84b93b9b4d389,preinstallmod,"Detailed Port Configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following table describes the detailed port configuration and VLAN assignment. +--------+-------------------+--------+-----------+-------------------------+ | Switch | Server name | Server | tagged / | VLAN ID | | Port | | NIC | untagged | | +========+===================+========+===========+=========================+ | G0/1 | Fuel | eth0 | untagged | 104 | +--------+-------------------+--------+-----------+-------------------------+ | G0/2 | Fuel | eth1 | untagged | 100 | +--------+-------------------+--------+-----------+-------------------------+ | G0/3 | Compute Node 1 | eth0 | tagged | 101, 102, 104 (untagged)| +--------+-------------------+--------+-----------+-------------------------+ | G0/4 | Compute Node 1 | eth1 | tagged | 100, 103 | +--------+-------------------+--------+-----------+-------------------------+ | G0/5 | Compute Node n | eth0 | tagged | 101, 102, 104 (untagged)| +--------+-------------------+--------+-----------+-------------------------+ | G0/6 | Compute Node n | eth1 | tagged | 100, 103 | +--------+-------------------+--------+-----------+-------------------------+ | G0/7 | Controller Node 1 | eth0 | tagged | 101, 102, 104(untagged) | +--------+-------------------+--------+-----------+-------------------------+ | G0/8 | Controller Node 1 | eth1 | tagged | 100, 103 | +--------+-------------------+--------+-----------+-------------------------+ | G0/9 | Controller Node 2 | eth0 | tagged | 101, 102, 104 (untagged)| +--------+-------------------+--------+-----------+-------------------------+ | G0/10 | Controller Node 2 | eth1 | tagged | 100, 103 | +--------+-------------------+--------+-----------+-------------------------+ | G0/11 | Controller Node 3 | eth0 | tagged | 101, 102, 104 (untagged)| +--------+-------------------+--------+-----------+-------------------------+ | G0/12 | Controller Node 3 | eth1 | tagged | 100, 103 | +--------+-------------------+--------+-----------+-------------------------+ | G0/13 | Cinder Node | eth0 | tagged | 101, 102, 104 (untagged)| +--------+-------------------+--------+-----------+-------------------------+ | G0/14 | Cinder Node | eth1 | tagged | 100, 103 | +--------+-------------------+--------+-----------+-------------------------+ | G0/24 | Router (default | --- | untagged | 100 | | | gateway) | | | | +--------+-------------------+--------+-----------+-------------------------+ Connect the servers to the switch as in the diagram below: .. image:: /_images/preinstall_d_switch_connect.jpg :align: center :width: 75% The following diagram describes the network topology for this environment. .. image:: /_images/preinstall_d_logic_network.jpg :align: center :width: 75% ",,1749,1728
openstack%2Fnova~master~I2ddbb8e7fc22b875df19a4301cb559d2fc05a6c9,openstack/nova,master,I2ddbb8e7fc22b875df19a4301cb559d2fc05a6c9,Update launchpad url to nova-docker instead of nova,ABANDONED,2014-04-17 00:32:14.000000000,2014-04-17 01:00:32.000000000,,"[{'_account_id': 3}, {'_account_id': 159}]","[{'number': 1, 'created': '2014-04-17 00:32:14.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f0c5a1382f750b82a3ffc8edb3a8f4910b672c2', 'message': 'Update launchpad url to nova-docker instead of nova\n\nChange-Id: I2ddbb8e7fc22b875df19a4301cb559d2fc05a6c9\n'}]",0,88110,0f0c5a1382f750b82a3ffc8edb3a8f4910b672c2,3,2,1,4395,,,0,"Update launchpad url to nova-docker instead of nova

Change-Id: I2ddbb8e7fc22b875df19a4301cb559d2fc05a6c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/88110/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,0f0c5a1382f750b82a3ffc8edb3a8f4910b672c2,master, https://bugs.launchpad.net/nova-docker, https://bugs.launchpad.net/nova,1,1
openstack%2Fswift~feature%2Fec~Iae1adfd3449e8d4fc81cb3e78266496c85acb11a,openstack/swift,feature/ec,Iae1adfd3449e8d4fc81cb3e78266496c85acb11a,Super small code cleanup in Updater,MERGED,2014-04-15 01:12:14.000000000,2014-04-17 00:37:03.000000000,2014-04-17 00:37:03.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 5189}, {'_account_id': 7479}]","[{'number': 1, 'created': '2014-04-15 01:12:14.000000000', 'files': ['swift/obj/updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5263403af5ad3c14a04c75083f4b5496f6abe5d7', 'message': ""Super small code cleanup in Updater\n\nWe have this proposed on master as well so thought I'd better\nget it up to par on the feature/ec branch as well.  Just some\nextra code left over from multiple implementations...\n\nChange-Id: Iae1adfd3449e8d4fc81cb3e78266496c85acb11a\nImplements: blueprint storage-policies\n""}]",0,87424,5263403af5ad3c14a04c75083f4b5496f6abe5d7,14,5,1,7479,,,0,"Super small code cleanup in Updater

We have this proposed on master as well so thought I'd better
get it up to par on the feature/ec branch as well.  Just some
extra code left over from multiple implementations...

Change-Id: Iae1adfd3449e8d4fc81cb3e78266496c85acb11a
Implements: blueprint storage-policies
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/87424/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/updater.py'],1,5263403af5ad3c14a04c75083f4b5496f6abe5d7,bp/storage-policies, for asyncdir in os.listdir(device):, for asyncdir in [d for d in os.listdir(device)]:,1,1
openstack%2Fironic~master~I44be217d1e55778ed94f27603ce0537ff740febf,openstack/ironic,master,I44be217d1e55778ed94f27603ce0537ff740febf,Add DiskPartitioner,MERGED,2014-03-27 14:34:16.000000000,2014-04-17 00:30:43.000000000,2014-04-17 00:30:42.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 8412}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-03-27 14:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74eda637b9ffd1e78d6473f3619df2f70357ed8e', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 2, 'created': '2014-03-28 10:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6eb9eb6b6fe3d452f7c3daf9b2bf2eaec475c005', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 3, 'created': '2014-03-28 11:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee717a195526f7d121dcb4cc93cd34bad80d0f7d', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 4, 'created': '2014-03-28 11:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c2a79f387613c7b8ca9ca95653c966b271eec52', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 5, 'created': '2014-03-31 10:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a22be3590a7bb9fe91c10fbabf48024f77e3caca', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 6, 'created': '2014-04-02 13:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/31ad132b925cf20f89890f259493bfc2459b38ae', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 7, 'created': '2014-04-02 16:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4536823770e84d2c30ce1f706927c9e6904735f2', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 8, 'created': '2014-04-03 14:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16c92089c0d40bdade38e2295a3e2a7ac30b55be', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 9, 'created': '2014-04-07 09:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/860ddec706db0b3c83321e53e07433f82adcebb8', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool which\nintent to replace our currently use of sfdisk which is broken.\n\nThe parted tool was chosen over sfdisk because it also understand GPT\n(GUID Partition Table) which is needed for creating partitions with size\nbigger than 2TB.\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 10, 'created': '2014-04-11 11:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/262a61ec81ab5009795a47070cad297531451045', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool, this\nwrapper will make things easier for fixing other problems in Ironic like\nremoving the swap partition if not specified, having a more consistent\npartition layout or future work like creating GPT (GUID Partition Table)\npartitions (needed for creating partitions with size bigger than 2TB),\nefi partitions, etc..\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 11, 'created': '2014-04-15 10:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/683381b01487652e403c21493d8030d9cd17cb9c', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool, this\nwrapper will make things easier for fixing other problems in Ironic like\nremoving the swap partition if not specified, having a more consistent\npartition layout or future work like creating GPT (GUID Partition Table)\npartitions (needed for creating partitions with size bigger than 2TB),\nefi partitions, etc..\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}, {'number': 12, 'created': '2014-04-16 09:08:38.000000000', 'files': ['ironic/tests/test_disk_partitioner.py', 'ironic/common/disk_partitioner.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bdd6afb5a7abfd5ccf2e0095cacadbf9fcc62dd', 'message': 'Add DiskPartitioner\n\nDiskPartitioner is a convenient wrapper around the parted tool, this\nwrapper will make things easier for fixing other problems in Ironic like\nremoving the swap partition if not specified, having a more consistent\npartition layout or future work like creating GPT (GUID Partition Table)\npartitions (needed for creating partitions with size bigger than 2TB),\nefi partitions, etc..\n\nChange-Id: I44be217d1e55778ed94f27603ce0537ff740febf\nPartial-Bug: #1297925\nPartial-Bug: #1298362\n'}]",21,83396,4bdd6afb5a7abfd5ccf2e0095cacadbf9fcc62dd,77,7,12,6773,,,0,"Add DiskPartitioner

DiskPartitioner is a convenient wrapper around the parted tool, this
wrapper will make things easier for fixing other problems in Ironic like
removing the swap partition if not specified, having a more consistent
partition layout or future work like creating GPT (GUID Partition Table)
partitions (needed for creating partitions with size bigger than 2TB),
efi partitions, etc..

Change-Id: I44be217d1e55778ed94f27603ce0537ff740febf
Partial-Bug: #1297925
Partial-Bug: #1298362
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/83396/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/test_disk_partitioner.py', 'ironic/common/disk_partitioner.py']",2,74eda637b9ffd1e78d6473f3619df2f70357ed8e,add-disk-partitioner,"# Copyright 2014 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from ironic.common import utils class DiskPartitioner(object): def __init__(self, dev, unit='MiB', disk_label='msdos'): """"""A convenient wrapper around the parted tool. :param unit: Valid units are: B (byte), KiB (kibibyte), MiB (mebibyte), GiB (gibibyte), TiB (tebibyte), kB (kilobyte), MB (megabyte), GB (gigabyte) and TB (terabyte). :param disk_label: The type of the partition table. Valid types are: ""bsd"", ""dvh"", ""gpt"", ""loop"", ""mac"", ""msdos"", ""pc98"", or ""sun"". """""" self._dev = dev self._unit = unit self._disk_label = disk_label self._partitions = [] def _exec(self, *args): utils.execute('parted', '-a', 'optimal', '-s', self._dev, '--', 'unit', self._unit, *args, check_exit_code=[0], run_as_root=True) def _create_partition_table(self): """"""Create a new partition table."""""" self._exec('mklabel', self._disk_label) def add_partition(self, size, part_type='primary', fs_type='', bootable=False): """"""Add a partition. :param size: The size of the partition. :param part_type: The type of the partition. Valid values are: primary, logical, or extended. :param fs_type: The filesystem type. Valid types are: ext2, fat32, fat16, HFS, linux-swap, NTFS, reiserfs, ufs. :param bootable: Boolean value; whether the partition is bootable or not. :returns: The offset for the next partition. """""" bootable = 'on' if bootable else 'off' self._partitions.append({'size': size, 'type': part_type, 'fs_type': fs_type, 'bootable': bootable}) def rm_partition(self, part_num): """"""Remove a partition. :params part_num: The partition number. """""" if part_num <= 0: raise ValueError(_(""Partition number should be bigger than 0."")) try: del self._partitions[part_num - 1] except IndexError: raise ValueError(_(""Partition number %d not found."") % part_num) def get_partitions(self): """"""Get the partitioning layout. Return a tuple with the partition number and the partition layout. """""" return [(n, p) for n, p in enumerate(self._partitions, 1)] def commit(self): """"""Write to the disk."""""" self._create_partition_table() end = 0 for num, part in self.get_partitions(): start = end end = start + part['size'] self._exec('mkpart', part['type'], part['fs_type'], str(start), str(end), 'set', str(num), 'boot', part['bootable']) ",,187,0
openstack%2Fnova~master~Ib267d742e26b2d4285003619c5e5dedae8ec1035,openstack/nova,master,Ib267d742e26b2d4285003619c5e5dedae8ec1035,Convert instance_usage_audit() periodic task to objects,MERGED,2014-04-11 20:33:47.000000000,2014-04-16 23:45:50.000000000,2014-04-16 23:45:46.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 4912}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-11 20:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/987218deaa33c7b9118a10397bf18d6b1c90ace8', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 2, 'created': '2014-04-11 21:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/284a227f8005d0ffaf6d6f323543b1e6968adbdf', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 3, 'created': '2014-04-12 17:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2518e78b58c93476bf538e944cd1b7b93ce81789', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 4, 'created': '2014-04-12 17:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc7a0444ec2adedb77cd36c12aafc936f63dd9ee', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 5, 'created': '2014-04-12 20:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19138719f04dca3ae8cb631e972f8ab481a6bf11', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 6, 'created': '2014-04-12 21:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/962211e9f3c5ae5f75f685c862dec21eecba01a0', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 7, 'created': '2014-04-12 22:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af2b8c2af415d86623df305132b3151eaa6aae3c', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 8, 'created': '2014-04-12 23:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eec120e702ec0d5ece5369b42bb2acf857fd7b5f', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}, {'number': 9, 'created': '2014-04-15 23:14:22.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8bc2b8006f89bacf99a250c9d450f14f1ae906ce', 'message': 'Convert instance_usage_audit() periodic task to objects\n\nThis makes the instance_usage_audit() periodic task use the\nInstanceList object to get the list of instances in the window\ninstead of using a raw conductor api.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035\n'}]",3,87022,8bc2b8006f89bacf99a250c9d450f14f1ae906ce,86,11,9,4393,,,0,"Convert instance_usage_audit() periodic task to objects

This makes the instance_usage_audit() periodic task use the
InstanceList object to get the list of instances in the window
instead of using a raw conductor api.

Related to blueprint compute-manager-objects-juno

Change-Id: Ib267d742e26b2d4285003619c5e5dedae8ec1035
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/87022/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,987218deaa33c7b9118a10397bf18d6b1c90ace8,bp/compute-manager-objects-juno, instances = instance_obj.InstanceList.get_active_by_window_joined(, capi = self.conductor_api instances = capi.instance_get_active_by_window_joined(,9,6
openstack%2Ftempest~master~Ice061b0701d9e0bf4b2a9b95569bb715aecdaa6f,openstack/tempest,master,Ice061b0701d9e0bf4b2a9b95569bb715aecdaa6f,DO NOT MERGE -- Test commit to prove 79153,ABANDONED,2014-03-14 17:59:58.000000000,2014-04-16 23:24:45.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9146}]","[{'number': 1, 'created': '2014-03-14 17:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14b4ff09573bb577e232738ce19e5c3dd955b84b', 'message': 'DO NOT MERGE -- Test commit to prove 79153\n\nThis commit is to prove https://review.openstack.org/#/c/79153/ works\nas requested by Sean Dague.\n\nChange-Id: Ice061b0701d9e0bf4b2a9b95569bb715aecdaa6f\n'}, {'number': 2, 'created': '2014-03-18 18:23:10.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2765cdc8e64e1b6ff8303c1ba2656d89b6ad597a', 'message': 'DO NOT MERGE -- Test commit to prove 79153\n\nThis commit is to prove https://review.openstack.org/#/c/79153/ works\nas requested by Sean Dague.\n\nChange-Id: Ice061b0701d9e0bf4b2a9b95569bb715aecdaa6f\n'}]",0,80645,2765cdc8e64e1b6ff8303c1ba2656d89b6ad597a,18,3,2,9146,,,0,"DO NOT MERGE -- Test commit to prove 79153

This commit is to prove https://review.openstack.org/#/c/79153/ works
as requested by Sean Dague.

Change-Id: Ice061b0701d9e0bf4b2a9b95569bb715aecdaa6f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/80645/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_basic_ops.py'],1,14b4ff09573bb577e232738ce19e5c3dd955b84b,clean_up_floating_ip, self.run_ssh = True and \, self.run_ssh = CONF.compute.run_ssh and \,1,1
openstack%2Factivity-board~master~I75c0b6c88888bdd3b20c930b4b9322778266e06f,openstack/activity-board,master,I75c0b6c88888bdd3b20c930b4b9322778266e06f,Add new footer and apply new CSS styles,MERGED,2014-04-16 12:57:00.000000000,2014-04-16 22:51:04.000000000,2014-04-16 22:51:04.000000000,"[{'_account_id': 3}, {'_account_id': 287}, {'_account_id': 8000}]","[{'number': 1, 'created': '2014-04-16 12:57:00.000000000', 'files': ['browser/demographics.html', 'vizgrimoire.css', 'browser/scm.html', 'browser/projects-list.html', 'browser/footer.html', 'browser/index.html'], 'web_link': 'https://opendev.org/openstack/activity-board/commit/9630661be1afa5ea6bf9ac2217381a6321f33ad1', 'message': 'Add new footer and apply new CSS styles\n\nChange-Id: I75c0b6c88888bdd3b20c930b4b9322778266e06f\n'}]",0,87956,9630661be1afa5ea6bf9ac2217381a6321f33ad1,7,3,1,8710,,,0,"Add new footer and apply new CSS styles

Change-Id: I75c0b6c88888bdd3b20c930b4b9322778266e06f
",git fetch https://review.opendev.org/openstack/activity-board refs/changes/56/87956/1 && git format-patch -1 --stdout FETCH_HEAD,"['browser/demographics.html', 'vizgrimoire.css', 'browser/scm.html', 'browser/footer.html', 'browser/projects-list.html', 'browser/index.html']",6,9630661be1afa5ea6bf9ac2217381a6321f33ad1,improved-footer,," <div class=""row-fluid"" style=""margin-top: 10px;""> <div class=""span12""> <div id=""Refcard""></div> </div> </div> ",53,24
openstack%2Ftaskflow~master~Ied67118be79e3ac933d5b7006720b72f8dc441b4,openstack/taskflow,master,Ied67118be79e3ac933d5b7006720b72f8dc441b4,Reuse already defined variable,MERGED,2014-04-14 17:06:29.000000000,2014-04-16 22:38:21.000000000,2014-04-16 22:38:21.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 7366}]","[{'number': 1, 'created': '2014-04-14 17:06:29.000000000', 'files': ['taskflow/states.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6b91109dd8faa15e55b67d008e45520664d041ce', 'message': 'Reuse already defined variable\n\nThe REVERTING variable is already defined as flow state. Reuse\nit for the task state.\n\nChange-Id: Ied67118be79e3ac933d5b7006720b72f8dc441b4\n'}]",0,87323,6b91109dd8faa15e55b67d008e45520664d041ce,13,3,1,7102,,,0,"Reuse already defined variable

The REVERTING variable is already defined as flow state. Reuse
it for the task state.

Change-Id: Ied67118be79e3ac933d5b7006720b72f8dc441b4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/23/87323/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/states.py'],1,6b91109dd8faa15e55b67d008e45520664d041ce,reuse-task-state-var,REVERTING = REVERTING,REVERTING = 'REVERTING',1,1
openstack%2Fopenstack-manuals~master~I83c3425b64cde3ff94384276b76399d32a1aed19,openstack/openstack-manuals,master,I83c3425b64cde3ff94384276b76399d32a1aed19,Adds a note about running swift-ring-builder in a safe mode,ABANDONED,2014-04-16 17:54:03.000000000,2014-04-16 21:59:37.000000000,,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 17:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/11b5378bfc7e562b3fee2379b834ee74a7c26b4a', 'message': 'Adds a note about running swift-ring-builder in a safe mode\n\nChange-Id: I83c3425b64cde3ff94384276b76399d32a1aed19\nCloses-bug: 1006422\n'}, {'number': 2, 'created': '2014-04-16 21:56:53.000000000', 'files': ['doc/install-guide/object-storage/section_object-storage-install-config-proxy-node.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f50cde287e04e7dba21f4293f0d7a4154b4c24b2', 'message': 'Adds a note about running swift-ring-builder in a safe mode\n\nChange-Id: I83c3425b64cde3ff94384276b76399d32a1aed19\nCloses-bug: 1106422\n'}]",0,88039,f50cde287e04e7dba21f4293f0d7a4154b4c24b2,6,3,2,964,,,0,"Adds a note about running swift-ring-builder in a safe mode

Change-Id: I83c3425b64cde3ff94384276b76399d32a1aed19
Closes-bug: 1106422
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/39/88039/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/object-storage/section_object-storage-install-config-proxy-node.xml'],1,11b5378bfc7e562b3fee2379b834ee74a7c26b4a,bug/1006422," <para>Create the account, container, and object rings. The builder command creates a builder file with a few parameters. The parameter with the value of 18 represents 2 ^ 18th, the value that the partition is sized to. Set this âpartition powerâ value based on the total amount of storage you expect your entire ring to use. The value 3 represents the number of replicas of each object, with the last value being the number of hours to restrict moving a partition more than once.</para> <note> <para>Especially in an automated installation, you can provide a basic safe guard against write or read actions of the ring files while operations are in progress. Run the <command>swift-ring-builder</command> commands with the <command>--safe</command> parameter in order to place a <filename>.lock</filename> file in the parent directory in which the tool creates the ring files.</para> </note><prompt>#</prompt> <userinput>swift-ring-builder --safe account.builder create 18 3 1</userinput> <prompt>#</prompt> <userinput>swift-ring-builder --safe container.builder create 18 3 1</userinput> <prompt>#</prompt> <userinput>swift-ring-builder --safe object.builder create 18 3 1</userinput></screen>"," <para>Create the account, container, and object rings. The builder command creates a builder file with a few parameters. The parameter with the value of 18 represents 2 ^ 18th, the value that the partition is sized to. Set this âpartition powerâ value based on the total amount of storage you expect your entire ring to use. The value 3 represents the number of replicas of each object, with the last value being the number of hours to restrict moving a partition more than once.</para><prompt>#</prompt> <userinput>swift-ring-builder account.builder create 18 3 1</userinput> <prompt>#</prompt> <userinput>swift-ring-builder container.builder create 18 3 1</userinput> <prompt>#</prompt> <userinput>swift-ring-builder object.builder create 18 3 1</userinput></screen>",20,13
openstack%2Fopenstack-manuals~master~I2dfac169c89bdbecd67322923a6a84f2155c4150,openstack/openstack-manuals,master,I2dfac169c89bdbecd67322923a6a84f2155c4150,config-ref: include keystone tables,MERGED,2014-04-16 19:55:44.000000000,2014-04-16 21:38:12.000000000,2014-04-16 21:38:11.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 19:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/db8e84e7d8ba7b0a15c0d25c77f2c3b5464097e6', 'message': 'config-ref: include keystone tables\n\nInclude keystone configuration options in the Identity section.\n\nThere is room for lots of improvements, but this first step will at\nleast make the info available.\n\nCloses-Bug: #1277330\nChange-Id: I2dfac169c89bdbecd67322923a6a84f2155c4150\n'}, {'number': 2, 'created': '2014-04-16 20:19:21.000000000', 'files': ['doc/config-reference/dashboard/section_dashboard-sample-configuration-files.xml', 'doc/config-reference/ch_identityconfigure.xml', 'doc/common/section_identity-configure.xml', 'doc/config-reference/identity/section_keystone-sample-conf-files.xml', 'doc/config-reference/table_default-ports-primary-services.xml', 'doc/config-reference/ch_computeconfigure.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6a10e75a55b2ffb4b2a2f1774ac71042730a1ec6', 'message': 'config-ref: include keystone tables\n\nInclude keystone configuration options in the Identity section.\n\nThere is room for lots of improvements, but this first step will at\nleast make the info available.\n\nReplace ""Identity Service"" with ""Identity service"" in the config-ref.\n\nCloses-Bug: #1277330\nChange-Id: I2dfac169c89bdbecd67322923a6a84f2155c4150\n'}]",1,88073,6a10e75a55b2ffb4b2a2f1774ac71042730a1ec6,12,4,2,7923,,,0,"config-ref: include keystone tables

Include keystone configuration options in the Identity section.

There is room for lots of improvements, but this first step will at
least make the info available.

Replace ""Identity Service"" with ""Identity service"" in the config-ref.

Closes-Bug: #1277330
Change-Id: I2dfac169c89bdbecd67322923a6a84f2155c4150
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/73/88073/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/ch_identityconfigure.xml', 'doc/common/section_identity-configure.xml', 'doc/config-reference/identity/section_keystone-sample-conf-files.xml']",3,db8e84e7d8ba7b0a15c0d25c77f2c3b5464097e6,keystone-ref,,,44,116
openstack%2Fopenstack-manuals~master~I474545abc8fe67a062d7cbb76d5b5edea7904889,openstack/openstack-manuals,master,I474545abc8fe67a062d7cbb76d5b5edea7904889,Config reference tables update,MERGED,2014-04-16 18:34:29.000000000,2014-04-16 21:36:49.000000000,2014-04-16 21:36:48.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-16 18:34:29.000000000', 'files': ['doc/common/tables/trove-logging.xml', 'doc/common/tables/glance-sheepdog.xml', 'doc/common/tables/ceilometer-logging.xml', 'doc/common/tables/heat-logging.xml', 'doc/common/tables/glance-logging.xml', 'doc/common/tables/heat-api.xml', 'doc/common/tables/nova-libvirt.xml', 'doc/common/tables/neutron-common.xml', 'doc/common/tables/neutron-logging.xml', 'doc/common/tables/nova-scheduling.xml', 'doc/common/tables/nova-logging.xml', 'doc/common/tables/ceilometer-auth.xml', 'doc/common/tables/neutron-ofa_agent.xml', 'doc/common/tables/cinder-common.xml', 'tools/autogenerate-config-flagmappings/heat.flagmappings'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ef832d5b3d15ef1dd4c2ec70bc045e7eeef7bdde', 'message': 'Config reference tables update\n\nTables generated with the autoconf script.\n\nChange-Id: I474545abc8fe67a062d7cbb76d5b5edea7904889\n'}]",0,88049,ef832d5b3d15ef1dd4c2ec70bc045e7eeef7bdde,7,3,1,7923,,,0,"Config reference tables update

Tables generated with the autoconf script.

Change-Id: I474545abc8fe67a062d7cbb76d5b5edea7904889
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/49/88049/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/tables/trove-logging.xml', 'doc/common/tables/glance-sheepdog.xml', 'doc/common/tables/ceilometer-logging.xml', 'doc/common/tables/heat-logging.xml', 'doc/common/tables/glance-logging.xml', 'doc/common/tables/heat-api.xml', 'doc/common/tables/nova-libvirt.xml', 'doc/common/tables/neutron-common.xml', 'doc/common/tables/neutron-logging.xml', 'doc/common/tables/nova-scheduling.xml', 'doc/common/tables/nova-logging.xml', 'doc/common/tables/ceilometer-auth.xml', 'doc/common/tables/neutron-ofa_agent.xml', 'doc/common/tables/cinder-common.xml', 'tools/autogenerate-config-flagmappings/heat.flagmappings']",15,ef832d5b3d15ef1dd4c2ec70bc045e7eeef7bdde,config-ref-update,stack_action_timeout api,,75,70
openstack%2Frally~master~I5340dfe2e072fffb420764591b100edce4eea52c,openstack/rally,master,I5340dfe2e072fffb420764591b100edce4eea52c,Fix cleanup in LxcProvider,MERGED,2014-02-17 15:07:38.000000000,2014-04-16 21:26:51.000000000,2014-04-16 21:26:51.000000000,"[{'_account_id': 3}, {'_account_id': 1531}, {'_account_id': 6172}, {'_account_id': 7217}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 9548}, {'_account_id': 10475}]","[{'number': 1, 'created': '2014-02-17 15:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/874ec921a285c1c33dbda68f2e7b0a72e036d0f5', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nFixes: bug 1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 2, 'created': '2014-02-18 11:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b70d6083395fc2576043e39b672bc6834d355567', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nFixes: bug 1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 3, 'created': '2014-02-27 12:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0b9491bb0b736f831d7ad35cc2788c1ccc04b044', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nFixes: bug 1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 4, 'created': '2014-03-05 14:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/28e6f5d371beb976ff3f38742b1953fd7106895d', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nFixes: bug 1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 5, 'created': '2014-03-08 19:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/cf3054026e7c51b40c9bf7025f1aa0eb811974a6', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nFixes: bug 1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 6, 'created': '2014-03-18 09:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/66420230a8e9e0b33e44d96d6d1141fd5feeb16a', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nCloses-Bug: #1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 7, 'created': '2014-03-24 10:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bcaa972807aaa2a686b24e95f295a41649bccc80', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nCloses-Bug: #1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}, {'number': 8, 'created': '2014-04-16 09:32:17.000000000', 'files': ['rally/deploy/serverprovider/providers/lxc.py', 'tests/deploy/serverprovider/providers/test_lxc.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/d731567066463a743d68c8179b7e93f5465ad5c7', 'message': 'Fix cleanup in LxcProvider\n\nLxcProvider should call destroy_servers method of host_provider.\n\nFixes: bug 1281138\n\nChange-Id: I5340dfe2e072fffb420764591b100edce4eea52c\n'}]",1,74070,d731567066463a743d68c8179b7e93f5465ad5c7,41,8,8,7369,,,0,"Fix cleanup in LxcProvider

LxcProvider should call destroy_servers method of host_provider.

Fixes: bug 1281138

Change-Id: I5340dfe2e072fffb420764591b100edce4eea52c
",git fetch https://review.opendev.org/openstack/rally refs/changes/70/74070/8 && git format-patch -1 --stdout FETCH_HEAD,"['rally/serverprovider/providers/lxc.py', 'tests/serverprovider/providers/test_lxc.py']",2,874ec921a285c1c33dbda68f2e7b0a72e036d0f5,bug/1281138," with mock.patch.object(self.provider, 'get_host_provider') as ghp: ghp.return_value = fake_host_provider = mock.Mock() self.provider.destroy_servers() fake_host_provider.destroy_servers.assert_called_once()", self.provider.destroy_servers(),11,3
openstack%2Ftripleo-incubator~master~I15c870c1a8c7d3986b15ae0b919f50d0d2881e1f,openstack/tripleo-incubator,master,I15c870c1a8c7d3986b15ae0b919f50d0d2881e1f,Only route everything through the seed if...,MERGED,2014-04-04 13:58:39.000000000,2014-04-16 21:25:23.000000000,2014-04-16 21:25:22.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 6449}, {'_account_id': 7585}, {'_account_id': 9369}, {'_account_id': 9453}, {'_account_id': 10373}, {'_account_id': 10909}]","[{'number': 1, 'created': '2014-04-04 13:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/2a33c304160c9e8deef758d3a64747cc5de052b7', 'message': ""Only route everything through the seed if...\n\nthe baremetal gateway is configured to be the baremetal seed IP.\n\nBy default devtest has always routed all traffic to the baremetal\nnetwork through the seed IP. This isn't required (and\ncan actually cause connectivity issues) if you are using\nan alternate gateway on your baremetal network.\n\nThis should make using devtest_seed.sh on real networks\nmore configurable.\n\nChange-Id: I15c870c1a8c7d3986b15ae0b919f50d0d2881e1f\n""}, {'number': 2, 'created': '2014-04-08 18:46:48.000000000', 'files': ['scripts/devtest_seed.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/73d776f9dc4e032fa1aec9c897c290ad7cdb5900', 'message': ""Only route everything through the seed if...\n\nthe baremetal gateway is configured to be the baremetal seed IP.\n\nBy default devtest has always routed all traffic to the baremetal\nnetwork through the seed IP. This isn't required (and\ncan actually cause connectivity issues) if you are using\nan alternate gateway on your baremetal network.\n\nThis should make using devtest_seed.sh on real networks\nmore configurable.\n\nChange-Id: I15c870c1a8c7d3986b15ae0b919f50d0d2881e1f\n""}]",3,85355,73d776f9dc4e032fa1aec9c897c290ad7cdb5900,45,9,2,360,,,0,"Only route everything through the seed if...

the baremetal gateway is configured to be the baremetal seed IP.

By default devtest has always routed all traffic to the baremetal
network through the seed IP. This isn't required (and
can actually cause connectivity issues) if you are using
an alternate gateway on your baremetal network.

This should make using devtest_seed.sh on real networks
more configurable.

Change-Id: I15c870c1a8c7d3986b15ae0b919f50d0d2881e1f
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/55/85355/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_seed.sh'],1,2a33c304160c9e8deef758d3a64747cc5de052b7,baremetal_network_config, BM_NETWORK_SEED_IP=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.seed.ip --type raw --key-default '192.0.2.1') BM_NETWORK_GATEWAY=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.gateway-ip --type raw --key-default '192.0.2.1') if [ $BM_NETWORK_GATEWAY == $BM_NETWORK_SEED_IP ]; then ROUTE_DEV=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key seed-route-dev --type netdevice --key-default virbr0) sudo ip route replace $BM_NETWORK_CIDR dev $ROUTE_DEV via $SEED_IP fi,ROUTE_DEV=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key seed-route-dev --type netdevice --key-default virbr0) sudo ip route replace $BM_NETWORK_CIDR dev $ROUTE_DEV via $SEED_IPBM_NETWORK_SEED_IP=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.seed.ip --type raw --key-default '192.0.2.1')BM_NETWORK_GATEWAY=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.gateway-ip --type raw --key-default '192.0.2.1'),7,4
openstack%2Fkeystone~master~I2bef7da8bf8278349fec80a513095637ea49f19a,openstack/keystone,master,I2bef7da8bf8278349fec80a513095637ea49f19a,"Add missing import, remove trailing "":"" in middleware example",MERGED,2014-04-16 16:03:17.000000000,2014-04-16 21:12:41.000000000,2014-04-16 21:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-04-16 16:03:17.000000000', 'files': ['doc/source/external-auth.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0473e5ab75ece62df8b7bb429c9e75db34ce71f6', 'message': 'Add missing import, remove trailing "":"" in middleware example\n\nMinor fixes to the external authentication example given in the\ndocumentation.\n\nChange-Id: I2bef7da8bf8278349fec80a513095637ea49f19a\nCloses-Bug: #1308634\nCo-Authored-By: Florent Flament <florent.flament-ext@cloudwatt.com>\n'}]",0,88014,0473e5ab75ece62df8b7bb429c9e75db34ce71f6,8,3,1,7186,,,0,"Add missing import, remove trailing "":"" in middleware example

Minor fixes to the external authentication example given in the
documentation.

Change-Id: I2bef7da8bf8278349fec80a513095637ea49f19a
Closes-Bug: #1308634
Co-Authored-By: Florent Flament <florent.flament-ext@cloudwatt.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/14/88014/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/external-auth.rst'],1,0473e5ab75ece62df8b7bb429c9e75db34ce71f6,bug/1308634, from keystone import exception username = self.do_auth(request), username = self.do_auth(request):,2,1
openstack%2Fgovernance~master~Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e,openstack/governance,master,Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e,add upgrade testing expectation,MERGED,2014-04-08 21:18:42.000000000,2014-04-16 21:11:01.000000000,2014-04-16 09:09:39.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1247}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 2592}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-04-08 21:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/850c309494d6abadadf3a81ec823e46537724995', 'message': 'add upgrade testing expectation\n\nThis was part of the original QA proposal for project requirements,\nhowever when we lost the post integration section it was lost. We\nshould bring back the expectation of upgrade testing, as one of\nthe top community concerns by operators it the ability to upgrade\ntheir clouds from one release to the next.\n\nChange-Id: Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e\n'}, {'number': 2, 'created': '2014-04-09 20:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a5ea4a0e91e0ac764aa7a4447b114c70fa30092d', 'message': 'add upgrade testing expectation\n\nThis was part of the original QA proposal for project requirements,\nhowever when we lost the post integration section it was lost. We\nshould bring back the expectation of upgrade testing, as one of\nthe top community concerns by operators it the ability to upgrade\ntheir clouds from one release to the next.\n\nChange-Id: Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e\n'}, {'number': 3, 'created': '2014-04-14 10:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7709b4f3e5f3593b85d39a8152d68f07ce46b148', 'message': 'add upgrade testing expectation\n\nThis was part of the original QA proposal for project requirements,\nhowever when we lost the post integration section it was lost. We\nshould bring back the expectation of upgrade testing, as one of\nthe top community concerns by operators it the ability to upgrade\ntheir clouds from one release to the next.\n\nChange-Id: Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e\n'}, {'number': 4, 'created': '2014-04-14 10:21:44.000000000', 'files': ['reference/incubation-integration-requirements'], 'web_link': 'https://opendev.org/openstack/governance/commit/92fe161233fbf8eee6637f6ae5c6a9494d27735d', 'message': 'add upgrade testing expectation\n\nThis was part of the original QA proposal for project requirements,\nhowever when we lost the post integration section it was lost. We\nshould bring back the expectation of upgrade testing, as one of\nthe top community concerns by operators it the ability to upgrade\ntheir clouds from one release to the next.\n\nChange-Id: Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e\n'}]",2,86162,92fe161233fbf8eee6637f6ae5c6a9494d27735d,36,9,4,2750,,,0,"add upgrade testing expectation

This was part of the original QA proposal for project requirements,
however when we lost the post integration section it was lost. We
should bring back the expectation of upgrade testing, as one of
the top community concerns by operators it the ability to upgrade
their clouds from one release to the next.

Change-Id: Ie01d2a8b27e7cf9a0ec924c1d11d748af364929e
",git fetch https://review.opendev.org/openstack/governance refs/changes/62/86162/4 && git format-patch -1 --stdout FETCH_HEAD,['reference/incubation-integration-requirements'],1,850c309494d6abadadf3a81ec823e46537724995,upgrade_testing, * QA ** The project should participate in upgrade testing from previous stable to current master to ensure the project can be easily upgradable,,5,0
openstack%2Fqa-specs~master~I045bad4bad44cc5bd4fba328c673a4074daf449f,openstack/qa-specs,master,I045bad4bad44cc5bd4fba328c673a4074daf449f,add branchless_tempest first draft,MERGED,2014-04-10 12:48:43.000000000,2014-04-16 21:01:07.000000000,2014-04-16 21:01:07.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5196}]","[{'number': 1, 'created': '2014-04-10 12:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/5d88e10900d8695c317668ceba876e4bf0d8af63', 'message': 'add branchless_tempest first draft\n\nrelated to bp:branchless-tempest\n\nChange-Id: I045bad4bad44cc5bd4fba328c673a4074daf449f\n'}, {'number': 2, 'created': '2014-04-11 14:29:22.000000000', 'files': ['specs/branchless-tempest.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/a1b67cb5f833256247e5defbd0851202fa62d1a6', 'message': 'add branchless_tempest first draft\n\nrelated to bp:branchless-tempest\n\nChange-Id: I045bad4bad44cc5bd4fba328c673a4074daf449f\n'}]",11,86577,a1b67cb5f833256247e5defbd0851202fa62d1a6,26,5,2,2750,,,0,"add branchless_tempest first draft

related to bp:branchless-tempest

Change-Id: I045bad4bad44cc5bd4fba328c673a4074daf449f
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/77/86577/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/branchless-tempest.rst'],1,5d88e10900d8695c317668ceba876e4bf0d8af63,bp/branchless-tempest,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/tempest/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================= Branchless Tempest ============================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tempest/+spec/branchless-tempest Tempest historically has been treated like a core service, with a stable/foo release branch cut at every release of OpenStack. However, Tempest is largely black box testing for the OpenStack API. The API is represented by major versions, not by release tags, so Tempest should not need branches. This change would have a number of interesting cascading impacts, all of which should be possitive for the health of the project. Problem description =================== Our current release method for Tempest is to create a stable/foo branch at every release of the OpenStack core services. This has a number of side effects. - tests are only added to master, and rarely backported. Completely valid stable/havana testing has been lost. - behavior changes can happen between stable/havana and master because the version of the test run between them is different - what version of Tempest should a CDing public cloud test against? (i.e. releases aren't meaningful to lots of consumers) - stable/havana ends up being used as a global flag for what features are supported in OpenStack. But that's not meaningful because most environments run with a specific list of features enabled, not just anything we shipped in stable/havana. Tempest has organically grown up as a tool that works really well in our upstream gate, and medium well for people testing real deployments. One of the reasons for this difference is that we use the stable/foo Tempest branches to make assumptions about the relationship of services, and devstack, which set up Tempest. Breaking this convenience relationship will make us be much more dilligent in being explicit about Tempest as a tool designed to run under any setup environment. Proposed change =============== Under the proposed branchless environment we'd do the following: - Not set a stable/icehouse Tempest branch - stable/icehouse integrated services would be tested with Tempest master - Tempest master would be gated on successful runs against: - integrated services on master branches - integrated services on stable/icehouse branches - (Note: this would double the # of jobs to be run on Tempest proposed changes) - post release, devstack-gate would change to explicitly set not only the services that Tempest expects to tests, but also the extensions it expects to test on each branch This has cascading implications, probably best described as scenarios (I'll use nova as the example service for all scenarios, mostly because I'm more familiar with the extensions model, not because it's being picked on): Scenario 1: New Tests for new features -------------------------- If a new feature is added to Nova in Juno, and a new test is added to Tempest for this feature, this test will need to be behind a feature flag (as the feature wasn't available in Icehouse). - nova stable/icehouse - Test Skipped, feature not available - nova master - Test run This has the added benefit of making sure that a new Nova change is added in such a way that it's somehow discoverable that it's not there (i.e. behind an unloaded extension), and that Tempest has a knob for configuring or not configuring it. Scenario 2: Bug fix on core project needing Tempest change ---------------------------------------------------------- Previously a behavior change in nova master that needed a Tempest change could be changed via the tempest 2 step: - propose change to nova, get a nova +2 - propose skip on Tempest, +Aed after nova +2 on change - land nova change in master - land changed test in Tempest In this new model the change *will also* need to be backported to stable/icehouse simultaneously. Or we decide that this is behavior that should not be tested for, and drop the test entirely. Scenario 3: New Tests for existing features ------------------------------------------- When adding new tests for existing features the new tests will need to simultaneously pass when tested against nova master and nova stable/havana. If we discover there is a difference of behavior between the two, we'll need to harmonize that behavior before landing the test. We end up with 3 options: - fix nova master to reflect nova stable/havana behavior (nova regression) - fix nova stable/havana to reflect nova master behavior (missing backport) - decide to not land the Tempest test as it is attempting to verify behavior we don't consider stable Scenario 4: Obsolete Tests -------------------------- A feature, like Nova XML v2 is deprecated is icehouse, and (hypothetically) removed in juno. Howeve the XML v2 tests are in Tempest, and we still need to test icehouse releases. This would be handled by a slow deprecation / feature flag: - Tempest v2 XML feature flag added (default to false) - Devstack-gate modified to set to true for stable/icehouse - Tests are skipped in master, run in stable/icehouse - Once stable/icehouse is no longer supported upstream (Feb 2015), tests are removed from Tempest entirely. This will mean that Tempest will contain more legacy code, however that's a trade off we take with the benefits this provides. Additional Implications ----------------------- This will have some interesting additional fallout: - stable/* branches won't be broken so often: with the massive number of tempest patches that will require a working stable/* gate to land, stable/* will get a lot more regular testing, and be in a working state more often - API guaruntees will tighten up. We'll not only be testing that the API does what we expect in Tempest, but also that it acts the same across multiple versions. The added friction to breaking that kind of behavior will slow down any future breaks there. Alternatives ------------ The alternative is to continue with the current approach which uses stable/* branches in Tempest. However that has caused more unintentional coupling with devstack that we'd like, and I believe that long term it's the wrong approach for a test suite like Tempest. Implementation ============== Assignee(s) ----------- Primary assignee: Sean Dague <sean@dague.net> Can optionally can list additional ids if they intend on doing substantial implementation work on this blueprint. Milestones ---------- Target Milestone for completion: - April 17th for main infrastructure - Juno release cycle to handle various backports to devstack stable/icehouse to support all tempest feature flags Work Items ---------- The work items span projects - devstack-gate generic branch override support (DONE) - infrastructure jobs to gate Tempest on stable/icehouse (when available) - devstack-gate changes to select not only services, but also features supported at each release - devstack support for setting stable/icehouse features - additional Tempest feature flags for optional features not yet addressed Dependencies ============ Only those listed above ",,193,0
openstack%2Frally~master~Ica764eb6b1b420975ca91b9f9253109c251d940f,openstack/rally,master,Ica764eb6b1b420975ca91b9f9253109c251d940f,Updated from global requirements,MERGED,2014-04-11 04:18:43.000000000,2014-04-16 20:48:54.000000000,2014-04-16 20:48:54.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7217}]","[{'number': 1, 'created': '2014-04-11 04:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b1d46e5b499d1b21339af5c0bb4139c8a8944e57', 'message': 'Updated from global requirements\n\nChange-Id: Ica764eb6b1b420975ca91b9f9253109c251d940f\n'}, {'number': 2, 'created': '2014-04-16 20:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/64094cc0560c7bbf559f0a01b9a5f453be790d10', 'message': 'Updated from global requirements\n\nChange-Id: Ica764eb6b1b420975ca91b9f9253109c251d940f\n'}, {'number': 3, 'created': '2014-04-16 20:24:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/a96e7010de351cfee48bd31968b540570021dc45', 'message': 'Updated from global requirements\n\nChange-Id: Ica764eb6b1b420975ca91b9f9253109c251d940f\n'}]",0,86778,a96e7010de351cfee48bd31968b540570021dc45,23,3,3,3,,,0,"Updated from global requirements

Change-Id: Ica764eb6b1b420975ca91b9f9253109c251d940f
",git fetch https://review.opendev.org/openstack/rally refs/changes/78/86778/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b1d46e5b499d1b21339af5c0bb4139c8a8944e57,fix_jenkins_update_job,"pyflakes>=0.7.2,<0.7.4,==0.8.1 flake8==2.0,==2.1.0","pyflakes>=0.7.2,<0.7.4 flake8==2.0",2,2
openstack%2Ftaskflow~master~I300d7681e5884a989549c8b84d29f04e9ea3d060,openstack/taskflow,master,I300d7681e5884a989549c8b84d29f04e9ea3d060,Get persistence backend via kwargs instead of conf,MERGED,2014-04-09 06:04:05.000000000,2014-04-16 20:42:20.000000000,2014-04-16 20:42:20.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6648}]","[{'number': 1, 'created': '2014-04-09 06:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/efa6a53ce77c72406d9469133fa314e79c72be0e', 'message': ""Get persistence backend via kwargs instead of conf\n\nThe persistence backend that the zookeeper backend uses to\nload logbooks when they appear should come in via a kwarg\ninstead of coming in via conf (since it's not configuration).\n\nChange-Id: I300d7681e5884a989549c8b84d29f04e9ea3d060\n""}, {'number': 2, 'created': '2014-04-16 06:25:15.000000000', 'files': ['taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/tests/unit/jobs/test_zk_job.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3fd758d317cac2799cec981b39c8f95a87ef6b2f', 'message': ""Get persistence backend via kwargs instead of conf\n\nThe persistence backend that the zookeeper backend uses to\nload logbooks when they appear should come in via a kwarg\ninstead of coming in via conf (since it's not configuration).\n\nChange-Id: I300d7681e5884a989549c8b84d29f04e9ea3d060\n""}]",0,86234,3fd758d317cac2799cec981b39c8f95a87ef6b2f,25,3,2,1297,,,0,"Get persistence backend via kwargs instead of conf

The persistence backend that the zookeeper backend uses to
load logbooks when they appear should come in via a kwarg
instead of coming in via conf (since it's not configuration).

Change-Id: I300d7681e5884a989549c8b84d29f04e9ea3d060
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/34/86234/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/tests/unit/jobs/test_zk_job.py']",2,efa6a53ce77c72406d9469133fa314e79c72be0e,,"def create_board(client=None, persistence=None): if not client: client = fake_client.FakeClient() board = impl_zookeeper.ZookeeperJobBoard('test-board', {}, client=client, persistence=persistence)","def create_board(**kwargs): client = fake_client.FakeClient() board = impl_zookeeper.ZookeeperJobBoard('test-board', conf=dict(kwargs), client=client)",8,7
openstack%2Fnova~master~I2099bbe92906ac0b1b54f1819113b33565e78980,openstack/nova,master,I2099bbe92906ac0b1b54f1819113b33565e78980,Define constants for the VIF model types,MERGED,2014-02-10 08:39:50.000000000,2014-04-16 20:41:20.000000000,2014-04-16 20:41:16.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7282}, {'_account_id': 7400}, {'_account_id': 7730}, {'_account_id': 7750}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 10486}]","[{'number': 1, 'created': '2014-02-10 08:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bcf8b3791245ac178753076c98cc84888245efe', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 2, 'created': '2014-02-10 16:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11f69de64735b068e8485ac7604b680659195f35', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 3, 'created': '2014-02-13 13:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a81879fb50a94303f8cd1a1c630ef95a45d83e99', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 4, 'created': '2014-02-17 16:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/266a655d09a2368d4de1bfc40d3bf894cb42be1c', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 5, 'created': '2014-02-18 15:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c072c7d13cc23f982af7aa9869174c5718b3e390', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 6, 'created': '2014-02-21 06:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ca5ab18753bd3f5eb6ab3ece163c36d0a9cea45', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 7, 'created': '2014-02-21 14:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43ef2da3731e4f21ad518c1ef14b0875e6f8f7d6', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 8, 'created': '2014-02-24 16:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1e23f21a8bdadf8cb722a83f4dacc6b6b23fbdf', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 9, 'created': '2014-02-24 17:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df4794ae5b4ab7e0a6c92d62b8a53b93a76b309d', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 10, 'created': '2014-02-27 13:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cde1f99bb9fb16ba93ac4f7ad893a0fbd63d6974', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 11, 'created': '2014-03-03 08:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a257d13a274dd31fa02594cddcf7863b5c1b7b7e', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 12, 'created': '2014-03-04 17:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8b3ee5b1d95383dd6c03a0085555318525f2cb9', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 14, 'created': '2014-04-01 16:20:36.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py', 'nova/tests/virt/libvirt/test_libvirt_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f263d767a9c1a4c508fb385e484abb2791407fd', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}, {'number': 13, 'created': '2014-04-01 16:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fa48f8f15c99807b8c2a9972ae83c35223a54ab', 'message': 'Define constants for the VIF model types\n\nDefine constants for the common VIF model types. This will\nensure that all of the drivers will make use of the same values.\n\nChange-Id: I2099bbe92906ac0b1b54f1819113b33565e78980\n'}]",29,72292,0f263d767a9c1a4c508fb385e484abb2791407fd,171,20,14,1653,,,0,"Define constants for the VIF model types

Define constants for the common VIF model types. This will
ensure that all of the drivers will make use of the same values.

Change-Id: I2099bbe92906ac0b1b54f1819113b33565e78980
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/72292/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/libvirt/test_libvirt_vif.py']",5,6bcf8b3791245ac178753076c98cc84888245efe,vif_model_types," image_meta = {'properties': {'hw_vif_model': network_model.VIF_MODEL_E1000}} self._assertModel(xml, network_model.VIF_MODEL_E1000)"," image_meta = {'properties': {'hw_vif_model': 'e1000'}} self._assertModel(xml, ""e1000"")",32,7
openstack%2Fpuppet-swift~master~Iea5aa6f73ddbdef119c5e70b29820c43640f0dac,openstack/puppet-swift,master,Iea5aa6f73ddbdef119c5e70b29820c43640f0dac,"Add read_affinity, write_affinity support to proxy",MERGED,2014-04-08 21:36:12.000000000,2014-04-16 20:34:16.000000000,2014-04-16 20:34:16.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6967}, {'_account_id': 7156}, {'_account_id': 7822}, {'_account_id': 9061}]","[{'number': 1, 'created': '2014-04-08 21:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/00f5e0d734cc2f6ddec4f407258d81b1f2a0b662', 'message': 'Add read_affinity, write_affinity support to proxy\n\nThis optionally provides the ability to configure read and write affinity\nin proxy-server.conf.\nDocumentation: http://docs.openstack.org/developer/swift/admin_guide.html\n\nChange-Id: Iea5aa6f73ddbdef119c5e70b29820c43640f0dac\n'}, {'number': 2, 'created': '2014-04-16 14:24:04.000000000', 'files': ['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb', 'templates/proxy-server.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ed3ba7f889e4100a40403703b5ea0fdeab4d517e', 'message': 'Add read_affinity, write_affinity support to proxy\n\nThis optionally provides the ability to configure read and write affinity\nin proxy-server.conf.\nDocumentation: http://docs.openstack.org/developer/swift/admin_guide.html\n\nChange-Id: Iea5aa6f73ddbdef119c5e70b29820c43640f0dac\n'}]",0,86165,ed3ba7f889e4100a40403703b5ea0fdeab4d517e,13,6,2,9061,,,0,"Add read_affinity, write_affinity support to proxy

This optionally provides the ability to configure read and write affinity
in proxy-server.conf.
Documentation: http://docs.openstack.org/developer/swift/admin_guide.html

Change-Id: Iea5aa6f73ddbdef119c5e70b29820c43640f0dac
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/65/86165/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb', 'templates/proxy-server.conf.erb']",3,00f5e0d734cc2f6ddec4f407258d81b1f2a0b662,affinity,<% if @read_affinity -%> read_affinity = <%= @read_affinity -%> <% end %> <% if @write_affinity -%> write_affinity = <%= @write_affinity -%> <% end %> <% if @write_affinity_node_count -%> write_affinity_node_count = <%= @write_affinity_node_count -%> <% end %>,,45,7
openstack%2Fmurano~master~Ib638fe889b5d3616e1fe4bfe0c437b45e61a768e,openstack/murano,master,Ib638fe889b5d3616e1fe4bfe0c437b45e61a768e,Update requirements.txt due to changes in global-requirements.txt,MERGED,2014-04-15 11:31:42.000000000,2014-04-16 20:32:30.000000000,2014-04-16 20:32:30.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 8592}]","[{'number': 1, 'created': '2014-04-15 11:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/91e05a90a48c6b4f671252a78917bf852f128a86', 'message': 'Update requirements.txt due to changes in global-requirements.txt\n\nChange-Id: Ib638fe889b5d3616e1fe4bfe0c437b45e61a768e\n'}, {'number': 2, 'created': '2014-04-15 15:49:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/621684ecede11089d15fdf4010718094166f1a08', 'message': 'Update requirements.txt due to changes in global-requirements.txt\n\nChange-Id: Ib638fe889b5d3616e1fe4bfe0c437b45e61a768e\n'}]",1,87549,621684ecede11089d15fdf4010718094166f1a08,16,7,2,8592,,,0,"Update requirements.txt due to changes in global-requirements.txt

Change-Id: Ib638fe889b5d3616e1fe4bfe0c437b45e61a768e
",git fetch https://review.opendev.org/openstack/murano refs/changes/49/87549/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,91e05a90a48c6b4f671252a78917bf852f128a86,(detached,"pbr>=0.6,!=0.7,<1.0iso8601>=0.1.9python-keystoneclient>=0.7.0","pbr>=0.6,<1.0iso8601>=0.1.8python-keystoneclient>=0.6.0",3,3
openstack%2Fmurano~master~Id6925fe7c3f1415cc694798dd7a92599dd377840,openstack/murano,master,Id6925fe7c3f1415cc694798dd7a92599dd377840,Typo in murano-api.conf,MERGED,2014-04-15 19:47:54.000000000,2014-04-16 20:32:01.000000000,2014-04-16 20:32:01.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7600}, {'_account_id': 8040}]","[{'number': 1, 'created': '2014-04-15 19:47:54.000000000', 'files': ['etc/murano/murano-api.conf.sample'], 'web_link': 'https://opendev.org/openstack/murano/commit/04920b513fe161e28643628b8a66ff03e5176085', 'message': 'Typo in murano-api.conf\n\nChange-Id: Id6925fe7c3f1415cc694798dd7a92599dd377840\n'}]",0,87774,04920b513fe161e28643628b8a66ff03e5176085,10,4,1,7562,,,0,"Typo in murano-api.conf

Change-Id: Id6925fe7c3f1415cc694798dd7a92599dd377840
",git fetch https://review.opendev.org/openstack/murano refs/changes/74/87774/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/murano/murano-api.conf.sample'],1,04920b513fe161e28643628b8a66ff03e5176085,,url = http://localhost:8082,url = http:/localhost:8082,1,1
openstack%2Frally~master~I1e75b141eb5b139b6cf1749e5ffc41c41fc89565,openstack/rally,master,I1e75b141eb5b139b6cf1749e5ffc41c41fc89565,Fix broken Glance cleanup context,MERGED,2014-04-15 19:09:56.000000000,2014-04-16 20:30:39.000000000,2014-04-16 20:30:39.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 6536}, {'_account_id': 7217}, {'_account_id': 8507}]","[{'number': 1, 'created': '2014-04-15 19:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/169b698341a10d1fbfc1c6366a7bd0af376baf1e', 'message': 'Fix broken Glance cleanup context\n\nChange-Id: I1e75b141eb5b139b6cf1749e5ffc41c41fc89565\nCloses-Bug: #1306801\n'}, {'number': 2, 'created': '2014-04-16 03:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c741c9e8a247e228efbb166064c6ef5435393cd4', 'message': 'Fix broken Glance cleanup context\n\nChange-Id: I1e75b141eb5b139b6cf1749e5ffc41c41fc89565\nCloses-Bug: #1306801\n'}, {'number': 3, 'created': '2014-04-16 17:33:11.000000000', 'files': ['rally/benchmark/context/cleaner.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/a23a9c4e5cd06ff6239a24e55ca7c4c598d02b27', 'message': 'Fix broken Glance cleanup context\n\nChange-Id: I1e75b141eb5b139b6cf1749e5ffc41c41fc89565\nCloses-Bug: #1306801\n'}]",3,87764,a23a9c4e5cd06ff6239a24e55ca7c4c598d02b27,18,6,3,6536,,,0,"Fix broken Glance cleanup context

Change-Id: I1e75b141eb5b139b6cf1749e5ffc41c41fc89565
Closes-Bug: #1306801
",git fetch https://review.opendev.org/openstack/rally refs/changes/64/87764/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/benchmark/context/cleaner.py'],1,169b698341a10d1fbfc1c6366a7bd0af376baf1e,lp/1306801," user.endpoint.tenant_id),"," clients.keystone()),",1,1
openstack%2Fpython-muranoclient~master~Ib344c1122ef98d6bf2787297da1e12c12dfed9eb,openstack/python-muranoclient,master,Ib344c1122ef98d6bf2787297da1e12c12dfed9eb,Update requirements.txt due to changes in global-requirements.txt,MERGED,2014-04-15 11:27:26.000000000,2014-04-16 20:28:47.000000000,2014-04-16 20:28:47.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 8592}]","[{'number': 1, 'created': '2014-04-15 11:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/f594430d8d8733ff6ad718b23e1403a893f16ff4', 'message': 'Update requirements.txt due to changes in global-requirements.txt\n\nChange-Id: Ib344c1122ef98d6bf2787297da1e12c12dfed9eb\n'}, {'number': 2, 'created': '2014-04-15 15:53:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/5cbbf6291978a1ea674671e9e40176706bf2f9de', 'message': 'Update requirements.txt due to changes in global-requirements.txt\n\nChange-Id: Ib344c1122ef98d6bf2787297da1e12c12dfed9eb\n'}]",1,87548,5cbbf6291978a1ea674671e9e40176706bf2f9de,16,6,2,8592,,,0,"Update requirements.txt due to changes in global-requirements.txt

Change-Id: Ib344c1122ef98d6bf2787297da1e12c12dfed9eb
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/48/87548/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f594430d8d8733ff6ad718b23e1403a893f16ff4,(detached,"pbr>=0.6,!=0.7,<1.0python-keystoneclient>=0.7.0iso8601>=0.1.9","pbr>=0.6,<1.0python-keystoneclient>=0.6.0iso8601>=0.1.8",3,3
openstack%2Fopenstack-manuals~master~If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f,openstack/openstack-manuals,master,If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f,Remove wrong spaces in nova option,MERGED,2014-04-16 16:04:15.000000000,2014-04-16 20:26:14.000000000,2014-04-16 20:26:13.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6676}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 16:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bdd5a1b578f8c014a0bf0b954f4e01d50d4bc944', 'message': 'Remove wrong spaces in nova option\n\nvncserver_ proxyclient_ address should be vncserver_proxyclient_address\n\nChange-Id: If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f\nCloses-Bug: #1308553\nbackport: havana\n'}, {'number': 2, 'created': '2014-04-16 16:17:14.000000000', 'files': ['doc/common/section_compute-configure-vnc.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0016e2657d95c77acc584b3bbdb9d8ea87b540a1', 'message': 'Remove wrong spaces in nova option\n\nvncserver_ proxyclient_ address should be vncserver_proxyclient_address\n\nChange-Id: If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f\nCloses-Bug: #1308553\nbackport: havana\n'}]",0,88015,0016e2657d95c77acc584b3bbdb9d8ea87b540a1,11,4,2,6676,,,0,"Remove wrong spaces in nova option

vncserver_ proxyclient_ address should be vncserver_proxyclient_address

Change-Id: If3e39c8e6c162bc60ee75c410a708c1d2f51ca9f
Closes-Bug: #1308553
backport: havana
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/15/88015/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_compute-configure-vnc.xml'],1,bdd5a1b578f8c014a0bf0b954f4e01d50d4bc944,bug/1308553, <literal>vncserver_proxyclient_address, <literal>vncserver_ proxyclient_ address,1,1
openstack%2Fopenstack-manuals~master~Ib789768d879979089f9a7603e699b7869a27db87,openstack/openstack-manuals,master,Ib789768d879979089f9a7603e699b7869a27db87,Add icehouse/index.html page,MERGED,2014-04-16 17:24:03.000000000,2014-04-16 20:26:06.000000000,2014-04-16 20:26:05.000000000,"[{'_account_id': 3}, {'_account_id': 964}]","[{'number': 1, 'created': '2014-04-16 17:24:03.000000000', 'files': ['www/icehouse/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e1990bd2a212155b9ba01ae0adc019e045ff092f', 'message': 'Add icehouse/index.html page\n\nThis page is not yet linked from our other pages.\n\nChange-Id: Ib789768d879979089f9a7603e699b7869a27db87\n'}]",0,88031,e1990bd2a212155b9ba01ae0adc019e045ff092f,6,2,1,6547,,,0,"Add icehouse/index.html page

This page is not yet linked from our other pages.

Change-Id: Ib789768d879979089f9a7603e699b7869a27db87
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/31/88031/1 && git format-patch -1 --stdout FETCH_HEAD,['www/icehouse/index.html'],1,e1990bd2a212155b9ba01ae0adc019e045ff092f,icehouse-index,"<!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Strict//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd""> <html lang=""en"" xmlns=""http://www.w3.org/1999/xhtml"" xml:lang=""en""> <head> <meta name=""generator"" content=""HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org"" /> <meta http-equiv=""Content-Type"" content=""text/html; charset=utf-8"" /> <meta name=""google-site-verification"" content=""Ip5yk0nd8yQHEo8I7SjzVfAiadlHvTvqQHLGwn1GFyU"" /> <title>OpenStack Docs: Icehouse</title> <!-- Google Fonts --> <link href=""http://fonts.googleapis.com/css?family=PT+Sans&amp;subset=latin"" rel=""stylesheet"" type=""text/css"" /> <!-- Framework CSS --> <link rel=""stylesheet"" href=""http://openstack.org/themes/openstack/css/blueprint/screen.css"" type=""text/css"" media=""screen, projection"" /> <link rel=""stylesheet"" href=""http://openstack.org/themes/openstack/css/blueprint/print.css"" type=""text/css"" media=""print"" /> <!--[if lt IE 8]><link rel=""stylesheet"" href=""http://openstack.org/themes/openstack/css/blueprint/ie.css"" type=""text/css"" media=""screen, projection""><![endif]--> <!-- OpenStack Specific CSS --> <link rel=""stylesheet"" href=""http://openstack.org/themes/openstack/css/main.css"" type=""text/css"" media=""screen, projection, print"" /> <link rel=""stylesheet"" type=""text/css"" href=""http://docs.openstack.org/common/css/docblitz.css"" /> <!--<script type=""text/javascript""> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-17511903-1']); _gaq.push(['_setDomainName', '.openstack.org']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script>--> </head> <body class=""docshome"" id=""docshome""> <div class=""container""> <div id=""header""> <div class=""span-5""> <h1 id=""logo""><a href=""/"">OpenStack</a></h1> </div> <div class=""span-19 last blueLine""> <div id=""navigation"" class=""span-19""> <ul id=""Menu1""> <li><a href=""http://www.openstack.org/"" title=""Go to the OpenStack Home page"" >Home</a></li> <li><a href=""http://www.openstack.org/software/"" title=""About OpenStack"" class=""link"">About</a></li> <li><a href=""http://www.openstack.org/user-stories/"" title=""Read stories about companies that use OpenStack to get work done."" class=""link"">User Stories</a></li> <li><a href=""http://www.openstack.org/community/"" title=""Go to the OpenStack Community page"" class=""link"">Community</a></li> <li><a href=""http://www.openstack.org/profile/"" title=""Edit your OpenStack community profile"" class=""link"">Profile</a></li> <li><a href=""http://www.openstack.org/blog/"" title=""Go to the OpenStack Blog"" >Blog</a></li> <li><a href=""http://wiki.openstack.org/"" title=""Go to the OpenStack Wiki"" >Wiki</a></li> <li><a href=""http://docs.openstack.org/glossary/content/glossary.html"" title=""See definitions of OpenStack terms"" >Glossary</a></li> <li><a href=""http://docs.openstack.org/"" title=""Go to the OpenStack Documentation"" class=""current"" >Documentation</a></li> </ul> </div> </div> </div> </div> <!-- Page Content --> <div class=""container""> <div class=""span-12""> <h3 class=""subhead"">Documentation</h3> </div> <div class=""searchArea span-10 last""> <div id=""cse"" style=""width: 100%;""> Loading </div> <script src=""http://www.google.com/jsapi"" type=""text/javascript""> </script> <script type=""text/javascript""> //<![CDATA[ google.load('search', '1', { language: 'en' }); var _gaq = _gaq ||[]; _gaq.push([ ""_setAccount"", ""UA-17511903-1""]); function _trackQuery(control, searcher, query) { var gaQueryParamName = ""q""; var loc = document.location; var url =[ loc.pathname, loc.search, loc.search ? '&': '?', gaQueryParamName == '' ? 'q': encodeURIComponent(gaQueryParamName), '=', encodeURIComponent(query)].join(''); _gaq.push([ ""_trackPageview"", url]); } google.setOnLoadCallback(function () { var customSearchControl = new google.search.CustomSearchControl('011012898598057286222:elxsl505o0o'); customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET); customSearchControl.setSearchStartingCallback(null, _trackQuery); customSearchControl.draw('cse'); }, true);//]]> </script> </div> </div> <div class=""container""><div class=""span-18""></div></div> <div class=""container""> <div class=""span-12""> <div class=""dropDownTrigger""> <p><a href=""#"">More Releases and Languages...</a></p> <div class=""dropDown""> <div> <ul> <li>Releases</li> <li class=""link""><a href=""/trunk/"" title=""Go to the &quot;in progress docs&quot; page"" >In progress (master branch)</a></li> <li class=""link""><a href=""/icehouse/"" title=""Go to the &quot;Icehouse release&quot; page"" >Havana (current release)</a></li> <li class=""link""><a href=""/havana/"" title=""Go to the &quot;Havana release&quot; page"" >Havana (current release)</a></li> <li class=""link""><a href=""/grizzly/"" title=""Go to the &quot;Grizzly&quot; page"" >Grizzly</a></li> <li class=""link""><a href=""/incubation/"" title=""Go to the &quot;Incubation&quot; page"" >Incubation</a></li> <li>Languages</li> <li class=""link""><a href=""/ja/"" title=""Go to the Japanese documentation"" >æ¥æ¬èª (Japanese)</a></li> </ul> </div> </div> </div> </div> <div class=""span-12 last""> <p></p> </div> <div class=""span-12""> <h4><a class=""headerlink"" href=""http://openstack.org/software/start/"" >How to Get Started with OpenStack</a></h4> <h4 class=""special"">Install OpenStack</h4> <dl> <dd><a href=""http://docs.openstack.org/icehouse/install-guide/install/apt-debian/content/"" >Installation Guide for Debian 7.0</a></dd> <dd><a href=""http://docs.openstack.org/icehouse/install-guide/install/zypper/content/"" >Installation Guide for openSUSE and SUSE Linux Enterprise Server</a></dd> <dd><a href=""http://docs.openstack.org/icehouse/install-guide/install/yum/content/"" >Installation Guide for Red Hat Enterprise Linux, CentOS, and Fedora</a></dd> <dd><a href=""http://docs.openstack.org/icehouse/install-guide/install/apt/content/"" >Installation Guide for Ubuntu 12.04/14.04 (LTS) Server</a></dd> </dl> <h4 class=""special"">Configure and run an OpenStack cloud</h4> <dl> <dd><a href=""http://docs.openstack.org/admin-guide-cloud/content/""> Cloud Administrator Guide</a> </dd> <dd><a href=""http://docs.openstack.org/icehouse/config-reference/content/""> Configuration Reference</a> </dd> <dd><a href=""http://docs.openstack.org/ops/"" >Operations Guide</a></dd> <dd><a href=""http://docs.openstack.org/high-availability-guide/content/"" >High Availability Guide</a></dd> <dd><a href=""http://docs.openstack.org/security-guide/content/"" >Security Guide</a></dd> <dd><a href=""http://docs.openstack.org/image-guide/content/"" >Virtual Machine Image Guide</a></dd> </dl> <h4 class=""special"">Training Guides</h4> <dl> <dd><a href=""http://docs.openstack.org/training-guides/content/""> Training Guides</a> </dd> </dl> <h4 class=""special"">Get involved</h4> <dl> <dd><a href=""http://www.openstack.org/join"" >Join the OpenStack Foundation</a> </dd> <dd><a href=""http://www.openstack.org/user-survey/"" >Take the Deployment Survey</a> </dd> </dl> </div> <div class=""span-12 last""> <p>&nbsp;</p> <h4 class=""special"">Use the OpenStack dashboard and command-line clients</h4> <dl> <dd><a href=""http://docs.openstack.org/api/quick-start/content/"" >API Quick Start</a></dd> <dd><a href=""http://docs.openstack.org/user-guide/content/"" >End User Guide (includes Python SDK)</a></dd> <dd><a href=""http://docs.openstack.org/user-guide-admin/content/"" >Admin User Guide</a></dd> <dd><a href=""http://docs.openstack.org/cli-reference/content/"" >Command-Line Interface Reference</a></dd> </dl> <h4 class=""special"">Develop applications for OpenStack clouds</h4> <dl> <dd><a href=""http://api.openstack.org/"" >Open source software for application development</a> </dd> <dd><a href=""http://api.openstack.org/api-ref.html"" >API Complete Reference (HTML)</a> </dd> <dd><a href=""http://api.openstack.org/api-ref-guides/bk-api-ref.pdf"" >API Complete Reference (PDF)</a> </dd> <dd><a href=""http://docs.openstack.org/api/openstack-block-storage/2.0/content/"" >Block Storage API v2.0 Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-block-storage/1.0/content/"" >Block Storage API v1.0 Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-compute/2/content/"" >Compute API v2 and Extensions Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-identity-service/2.0/content/"" >Identity API v2.0 Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-network/2.0/content/"" >Networking API v2.0 Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-image-service/2.0/content/"" >Image Service API v2 Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-image-service/1.1/content/"" >Image Service API v1 Reference</a></dd> <dd><a href=""http://docs.openstack.org/api/openstack-object-storage/1.0/content/"" >Object Storage API v1 Reference</a></dd> </dl> <h4 class=""special"">Contribute to OpenStack docs, infrastructure, and code</h4> <dl> <dd><a href=""http://wiki.openstack.org/Documentation/HowTo"" >OpenStack Documentation</a></dd> <dd><a href=""http://docs.openstack.org/developer/openstack-projects.html"" >Python Developer Documentation</a> </dd> <dd><a href=""http://docs.openstack.org/developer/language-bindings.html"" >Language Bindings and Python Clients</a> </dd> <dd><a href=""http://ci.openstack.org/"">OpenStack Project Infrastructure</a> </dd> <dd><a href=""http://docs.openstack.org/developer/tempest/"" >Tempest Test Suite for OpenStack</a></dd> </dl> </div> </div> <div class=""container""> <div id=""footer""> <hr /> <p>Documentation treated like code, powered by the community - interested? Here's <a href=""http://wiki.openstack.org/Documentation/HowTo"" >how to contribute</a>. </p> <p>The OpenStack project is provided under the Apache 2.0 license. Openstack.org is powered by <a href=""http://www.rackspacecloud.com/"" >Rackspace Cloud Computing</a>.</p> </div> </div> <script type=""text/javascript"" src=""http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js""></script> <script src=""http://docs.openstack.org/common/jquery/jquery.hoverIntent.minified.js"" type=""text/javascript"" charset=""utf-8""> </script> <script type=""text/javascript"" charset=""utf-8""> //<![CDATA[ $(document).ready(function () { function addMenu() { $("".dropDown"").addClass(""menuHover""); } function removeMenu() { $("".dropDown"").removeClass(""menuHover""); } var menuConfig = { interval: 500, sensitivity: 4, over: addMenu, timeout: 500, out: removeMenu }; $("".dropDownTrigger"").hoverIntent(menuConfig); });//]]> </script> </body> </html> ",,361,0
openstack%2Fopenstack-manuals~master~I9c50f94f6e6a74fbaeceb71c359d0b94fa7c91c8,openstack/openstack-manuals,master,I9c50f94f6e6a74fbaeceb71c359d0b94fa7c91c8,Add some Revision History items,MERGED,2014-04-16 17:20:16.000000000,2014-04-16 20:25:58.000000000,2014-04-16 20:25:57.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 17:20:16.000000000', 'files': ['doc/cli-reference/bk-cli-reference.xml', 'doc/install-guide/bk_openstackinstallguide.xml', 'doc/config-reference/bk-config-ref.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bc7fdfbc777c2f1f3b26016c504ae75353e65a77', 'message': 'Add some Revision History items\n\nUpdate revision history for CLI Reference, Config Reference\nand Install Guide.\n\nChange-Id: I9c50f94f6e6a74fbaeceb71c359d0b94fa7c91c8\n'}]",0,88030,bc7fdfbc777c2f1f3b26016c504ae75353e65a77,7,3,1,6547,,,0,"Add some Revision History items

Update revision history for CLI Reference, Config Reference
and Install Guide.

Change-Id: I9c50f94f6e6a74fbaeceb71c359d0b94fa7c91c8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/30/88030/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/cli-reference/bk-cli-reference.xml', 'doc/install-guide/bk_openstackinstallguide.xml', 'doc/config-reference/bk-config-ref.xml']",3,bc7fdfbc777c2f1f3b26016c504ae75353e65a77,revisions," <date>2014-04-16</date> <revdescription> <itemizedlist> <listitem> <para>Update for Icehouse: Updated all configuration tables, include sample configuration files, add chapters for Database Service, Orchestration, and Telemetry. </para> </listitem> </itemizedlist> </revdescription> </revision> <revision>",,41,0
openstack%2Fsolum~master~If974c2c7e6fd25d79703cfc95ef38815c6be3105,openstack/solum,master,If974c2c7e6fd25d79703cfc95ef38815c6be3105,assembly status should show correct status,MERGED,2014-04-16 18:22:39.000000000,2014-04-16 20:23:01.000000000,2014-04-16 20:23:01.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 7858}]","[{'number': 1, 'created': '2014-04-16 18:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1c80b946d50a55a043044fa65bb7d127a4b62350', 'message': 'assembly status should show correct status\n\nbefore it was showing `BUILDING` status during deploy.\nThis show be `DEPLOYING` and then build should show status\nof `BUILDING`\n\nChange-Id: If974c2c7e6fd25d79703cfc95ef38815c6be3105\n'}, {'number': 2, 'created': '2014-04-16 19:38:20.000000000', 'files': ['solum/deployer/handlers/heat.py', 'solum/worker/handlers/shell.py', 'solum/tests/worker/handlers/test_shell.py', 'solum/objects/assembly.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/87e8ac73b479cd805e0a22f3032478cf74a81b2d', 'message': 'assembly status should show correct status\n\nbefore it was showing `BUILDING` status during deploy.\nThis show be `DEPLOYING` and then build should show status\nof `BUILDING`\n\nChange-Id: If974c2c7e6fd25d79703cfc95ef38815c6be3105\n'}]",2,88046,87e8ac73b479cd805e0a22f3032478cf74a81b2d,11,4,2,7858,,,0,"assembly status should show correct status

before it was showing `BUILDING` status during deploy.
This show be `DEPLOYING` and then build should show status
of `BUILDING`

Change-Id: If974c2c7e6fd25d79703cfc95ef38815c6be3105
",git fetch https://review.opendev.org/openstack/solum refs/changes/46/88046/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/deployer/handlers/heat.py', 'solum/worker/handlers/shell.py', 'solum/tests/worker/handlers/test_shell.py']",3,1c80b946d50a55a043044fa65bb7d127a4b62350,assembly_status_accuracy,"from solum.tests import fakes @mock.patch('solum.objects.registry') def test_build(self, mock_popen, mock_updater, mock_registry): fake_assembly = fakes.FakeAssembly() mock_registry.Assembly.get_by_id.return_value = fake_assembly handler._update_assembly_status = mock.MagicMock()"," def test_build(self, mock_popen, mock_updater):",16,4
openstack%2Factivity-board~master~I69371dcf0d41219eb6573818a29534f855950bda,openstack/activity-board,master,I69371dcf0d41219eb6573818a29534f855950bda,Update link to Havana Remove links broken links,MERGED,2014-04-16 20:19:12.000000000,2014-04-16 20:20:03.000000000,2014-04-16 20:20:03.000000000,"[{'_account_id': 3}, {'_account_id': 8000}]","[{'number': 1, 'created': '2014-04-16 20:19:12.000000000', 'files': ['browser/index.html', 'releases/index.html'], 'web_link': 'https://opendev.org/openstack/activity-board/commit/1a9d9427db6a0a84a83830ebb2ed596589ba4ea8', 'message': 'Update link to Havana\nRemove links broken links\n\nChange-Id: I69371dcf0d41219eb6573818a29534f855950bda\n'}]",0,88078,1a9d9427db6a0a84a83830ebb2ed596589ba4ea8,6,2,1,8000,,,0,"Update link to Havana
Remove links broken links

Change-Id: I69371dcf0d41219eb6573818a29534f855950bda
",git fetch https://review.opendev.org/openstack/activity-board refs/changes/78/88078/1 && git format-patch -1 --stdout FETCH_HEAD,"['browser/index.html', 'releases/index.html']",2,1a9d9427db6a0a84a83830ebb2ed596589ba4ea8,havana-link," <li><span class=""GlobalData"" data-data-source=""scm"" data-field=""scm_commits""></span> commits</li> <li><span class=""GlobalData"" data-data-source=""scm"" data-field=""scm_authors""></span> developers <li><span class=""GlobalData"" data-data-source=""its"" data-field=""its_opened""></span> tickets</li> <li><span class=""GlobalData"" data-data-source=""mls"" data-field=""mls_sent""></span> mail messages"," <li><a href=""scm.html""><span class=""GlobalData"" data-data-source=""scm"" data-field=""scm_commits""></span></a> commits</li> <li><a href=""scm.html""><span class=""GlobalData"" data-data-source=""scm"" data-field=""scm_authors""></span></a> developers <li><a href=""its.html""><span class=""GlobalData"" data-data-source=""its"" data-field=""its_opened""></span></a> tickets</li> <li><a href=""mls.html""><span class=""GlobalData"" data-data-source=""mls"" data-field=""mls_sent""></span></a> mail messages",9,9
openstack%2Fopenstack-manuals~master~I885e545142003ddb44e3cc35128abfbbcdb260a8,openstack/openstack-manuals,master,I885e545142003ddb44e3cc35128abfbbcdb260a8,Fix core_plugin typo for NSX plugins,MERGED,2014-04-16 19:39:33.000000000,2014-04-16 20:14:52.000000000,2014-04-16 20:14:52.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 19:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2317470c10981fb90931d4dedaf7f3b2a76d7d39', 'message': 'Fix core_plugin typo for NSX plugins\n\nChange-Id: I885e545142003ddb44e3cc35128abfbbcdb260a8\nClose-bug: 1308728\n'}, {'number': 2, 'created': '2014-04-16 19:58:21.000000000', 'files': ['doc/admin-guide-cloud/networking/section_networking_introduction.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a0ab3fb6d22473bd6a6455cede170f33cf3cd82d', 'message': 'Fix core_plugin typo for NSX plugins\n\nCloses-bug: #1308728\n\nChange-Id: I885e545142003ddb44e3cc35128abfbbcdb260a8\n'}]",1,88068,a0ab3fb6d22473bd6a6455cede170f33cf3cd82d,12,4,2,748,,,0,"Fix core_plugin typo for NSX plugins

Closes-bug: #1308728

Change-Id: I885e545142003ddb44e3cc35128abfbbcdb260a8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/68/88068/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/networking/section_networking_introduction.xml'],1,2317470c10981fb90931d4dedaf7f3b2a76d7d39,typo," <programlisting language=""ini"">core_plugin = vmware</programlisting> <programlisting language=""ini"">core_plugin = vmware <programlisting language=""ini"">core_plugin = neutron.plugins.vmware.plugin.NsxServicePlugin"," <programlisting language=""ini"">core_plugin = neutron.plugins.vmware.NsxPlugin</programlisting> <programlisting language=""ini"">core_plugin = neutron.plugins.vmware.NsxPlugin <programlisting language=""ini"">core_plugin = neutron.plugins.vmware.NsxServicePlugin",3,3
openstack%2Fneutron-specs~master~I999d6eb3a4b0d48f276e273814dd351057b70c87,openstack/neutron-specs,master,I999d6eb3a4b0d48f276e273814dd351057b70c87,Note the usage of asciiflow.com for diagrams,MERGED,2014-04-16 17:42:33.000000000,2014-04-16 20:14:18.000000000,2014-04-16 20:14:18.000000000,"[{'_account_id': 3}, {'_account_id': 1689}, {'_account_id': 2592}, {'_account_id': 4656}]","[{'number': 1, 'created': '2014-04-16 17:42:33.000000000', 'files': ['specs/template.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9799551350162c209efed8c2848cb7faef2377d7', 'message': ""Note the usage of asciiflow.com for diagrams\n\nAnyone who's spec has diagrams or figures is encouraged to use asciiflow.com\nto generate the diagrams and figures.\n\nChange-Id: I999d6eb3a4b0d48f276e273814dd351057b70c87\n""}]",0,88037,9799551350162c209efed8c2848cb7faef2377d7,8,4,1,105,,,0,"Note the usage of asciiflow.com for diagrams

Anyone who's spec has diagrams or figures is encouraged to use asciiflow.com
to generate the diagrams and figures.

Change-Id: I999d6eb3a4b0d48f276e273814dd351057b70c87
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/37/88037/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/template.rst'],1,9799551350162c209efed8c2848cb7faef2377d7,spec/ascii,"* If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. ",,7,0
openstack%2Fnova~master~I7317092c0a2bad8efd11ece3ba521d58c2acae42,openstack/nova,master,I7317092c0a2bad8efd11ece3ba521d58c2acae42,"Use debug level logging in unit tests, but don't save them.",MERGED,2014-04-07 23:25:07.000000000,2014-04-16 20:06:05.000000000,2014-04-16 20:06:01.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5196}, {'_account_id': 8125}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-07 23:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ece974286db0d4fcea1ec3c726d24ca96317e16b', 'message': ""Use debug level logging in unit tests, but don't save them.\n\nWe want to try formatting debug level logs so we can gate on any\nformatting errors, but we don't want to save the debug level logs as\nthere are just too many of them. So use fixtures.FakeLogger running at\nINFO level and a custom NUllHandler at DEBUG level.\n\nNot Using fixtures level parameter since that sets the log level for the\nentire logger and not just the individual handlers.\n\nChange-Id: I7317092c0a2bad8efd11ece3ba521d58c2acae42\n""}, {'number': 2, 'created': '2014-04-09 20:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e3049b9b0e4caf592ce221567583e47e9997a98', 'message': ""Use debug level logging in unit tests, but don't save them.\n\nWe want to try formatting debug level logs so we can gate on any\nformatting errors, but we don't want to save the debug level logs as\nthere are just too many of them. So use fixtures.FakeLogger running at\nINFO level and a custom NUllHandler at DEBUG level.\n\nNot Using fixtures level parameter since that sets the log level for the\nentire logger and not just the individual handlers.\n\nChange-Id: I7317092c0a2bad8efd11ece3ba521d58c2acae42\n""}, {'number': 3, 'created': '2014-04-09 21:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aac75809e56de06cd0d7256831dff68317b3ccac', 'message': ""Use debug level logging in unit tests, but don't save them.\n\nWe want to try formatting debug level logs so we can gate on any\nformatting errors, but we don't want to save the debug level logs as\nthere are just too many of them. So use fixtures.FakeLogger running at\nINFO level and a custom NUllHandler at DEBUG level.\n\nNot Using fixtures level parameter since that sets the log level for the\nentire logger and not just the individual handlers.\n\nChange-Id: I7317092c0a2bad8efd11ece3ba521d58c2acae42\n""}, {'number': 4, 'created': '2014-04-10 00:11:10.000000000', 'files': ['nova/tests/test_test.py', 'nova/test.py', 'nova/tests/conf_fixture.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/158ac3d6c6ed29b3c3bed1448993d5276b0fe366', 'message': ""Use debug level logging in unit tests, but don't save them.\n\nWe want to try formatting debug level logs so we can gate on any\nformatting errors, but we don't want to save the debug level logs as\nthere are just too many of them. So use fixtures.FakeLogger running at\nINFO level and a custom NUllHandler at DEBUG level.\n\nNot Using fixtures level parameter since that sets the log level for the\nentire logger and not just the individual handlers.\n\nDon't inherit from logging.NullHandler since it isn't in python2.6\n\nChange-Id: I7317092c0a2bad8efd11ece3ba521d58c2acae42\n""}]",2,85867,158ac3d6c6ed29b3c3bed1448993d5276b0fe366,46,10,4,1849,,,0,"Use debug level logging in unit tests, but don't save them.

We want to try formatting debug level logs so we can gate on any
formatting errors, but we don't want to save the debug level logs as
there are just too many of them. So use fixtures.FakeLogger running at
INFO level and a custom NUllHandler at DEBUG level.

Not Using fixtures level parameter since that sets the log level for the
entire logger and not just the individual handlers.

Don't inherit from logging.NullHandler since it isn't in python2.6

Change-Id: I7317092c0a2bad8efd11ece3ba521d58c2acae42
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/85867/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/conf_fixture.py']",2,ece974286db0d4fcea1ec3c726d24ca96317e16b,throwOutDebug,," self.conf.set_default('verbose', True)",27,4
openstack%2Fopenstack-manuals~master~I79b1e21046c2b2b4d4027390ae87325d0d87d1ac,openstack/openstack-manuals,master,I79b1e21046c2b2b4d4027390ae87325d0d87d1ac,Remove extra spaces in vncserver_proxyclient_address,ABANDONED,2014-04-16 19:11:25.000000000,2014-04-16 19:44:30.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-16 19:11:25.000000000', 'files': ['doc/common/section_compute-configure-vnc.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/82e5dda6e6f0ccca00c0853ccf6d7d54d7ebaf48', 'message': 'Remove extra spaces in vncserver_proxyclient_address\n\nChange-Id: I79b1e21046c2b2b4d4027390ae87325d0d87d1ac\nCloses-Bug: #1308553\nbackport: havana\n'}]",0,88064,82e5dda6e6f0ccca00c0853ccf6d7d54d7ebaf48,4,2,1,7923,,,0,"Remove extra spaces in vncserver_proxyclient_address

Change-Id: I79b1e21046c2b2b4d4027390ae87325d0d87d1ac
Closes-Bug: #1308553
backport: havana
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/64/88064/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_compute-configure-vnc.xml'],1,82e5dda6e6f0ccca00c0853ccf6d7d54d7ebaf48,bug/1308553, <literal>vncserver_proxyclient_address, <literal>vncserver_ proxyclient_ address,1,1
openstack%2Ftrove~master~Ia747699e6c079cd40371467bdfb3f15ec5f4c1ab,openstack/trove,master,Ia747699e6c079cd40371467bdfb3f15ec5f4c1ab,Provide network manager interface,ABANDONED,2014-04-08 13:18:46.000000000,2014-04-16 19:16:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 7092}, {'_account_id': 8415}, {'_account_id': 9664}]","[{'number': 1, 'created': '2014-04-08 13:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e6aeefa47a6ab911f4a1522c42f3c83939b84cb6', 'message': 'Provide network manager interface\n\nReasons:\n - Nova-network is being soon-to-be deprecated\n   service in favor of the Neutron. Until that\n   Trove should be prepared to migrate from\n   the nova-network based flow to Neutron\n   flow without any harm.\n\nChanges:\n - adding class with abstract methods required\n   by the current Trove implementation;\n - adding nova network implementation.\n\nChange-Id: Ia747699e6c079cd40371467bdfb3f15ec5f4c1ab\nImplements: blueprint network-manager-spec\n'}, {'number': 2, 'created': '2014-04-09 09:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b91a29420ecd01078ffb6816a485d85bcad0dcc3', 'message': 'Provide network manager interface\n\nReasons:\n - Nova-network is being soon-to-be deprecated\n   service in favor of the Neutron. Until that\n   Trove should be prepared to migrate from\n   the nova-network based flow to Neutron\n   flow without any harm.\n\nChanges:\n - adding class with abstract methods required\n   by the current Trove implementation;\n - adding nova network implementation.\n\nChange-Id: Ia747699e6c079cd40371467bdfb3f15ec5f4c1ab\nImplements: blueprint network-manager-spec\n'}, {'number': 3, 'created': '2014-04-09 10:20:29.000000000', 'files': ['trove/common/models.py', 'trove/networking/base.py', 'trove/common/cfg.py', 'etc/trove/trove-taskmanager.conf.sample', 'trove/networking/nova.py', 'etc/trove/trove.conf.sample', 'trove/common/remote.py', 'trove/extensions/security_group/models.py', 'trove/networking/__init__.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/406c19f2f221d4d4eda7e66e0e421d3d44f6bfd8', 'message': 'Provide network manager interface\n\nReasons:\n - Nova-network is being soon-to-be deprecated\n   service in favor of the Neutron. Until that\n   Trove should be prepared to migrate from\n   the nova-network based flow to Neutron\n   flow without any harm.\n\nChanges:\n - adding class with abstract methods required\n   by the current Trove implementation;\n - adding nova network implementation.\n\nChange-Id: Ia747699e6c079cd40371467bdfb3f15ec5f4c1ab\nImplements: blueprint network-manager-spec\n'}]",2,86031,406c19f2f221d4d4eda7e66e0e421d3d44f6bfd8,18,5,3,8415,,,0,"Provide network manager interface

Reasons:
 - Nova-network is being soon-to-be deprecated
   service in favor of the Neutron. Until that
   Trove should be prepared to migrate from
   the nova-network based flow to Neutron
   flow without any harm.

Changes:
 - adding class with abstract methods required
   by the current Trove implementation;
 - adding nova network implementation.

Change-Id: Ia747699e6c079cd40371467bdfb3f15ec5f4c1ab
Implements: blueprint network-manager-spec
",git fetch https://review.opendev.org/openstack/trove refs/changes/31/86031/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/models.py', 'trove/common/cfg.py', 'trove/networking/base.py', 'etc/trove/trove-taskmanager.conf.sample', 'trove/networking/nova.py', 'etc/trove/trove.conf.sample', 'trove/common/remote.py', 'trove/extensions/security_group/models.py', 'trove/networking/__init__.py']",9,e6aeefa47a6ab911f4a1522c42f3c83939b84cb6,bp/network-manager-spec,,,175,49
openstack%2Ffuel-main~master~Ie801218b104d57c56a7e51aed984eb96bba22ae5,openstack/fuel-main,master,Ie801218b104d57c56a7e51aed984eb96bba22ae5,Changes according new nailgun api,MERGED,2014-04-16 09:25:25.000000000,2014-04-16 18:59:14.000000000,2014-04-16 18:59:14.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-04-16 09:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0ab8ed4c3aa39ce43ea0e2b07b9fb3245d8fd2ad', 'message': 'Changes according new nailgun api\n\nChange-Id: Ie801218b104d57c56a7e51aed984eb96bba22ae5\n'}, {'number': 2, 'created': '2014-04-16 09:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/f13b3eeb1c9ff704c9f09245292bcc8fe2577bba', 'message': 'Changes according new nailgun api\n\nChange-Id: Ie801218b104d57c56a7e51aed984eb96bba22ae5\n'}, {'number': 3, 'created': '2014-04-16 09:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/099880753672ecc94aae31fd68b6aa8a876e738a', 'message': 'Changes according new nailgun api\n\nChange-Id: Ie801218b104d57c56a7e51aed984eb96bba22ae5\n'}, {'number': 4, 'created': '2014-04-16 09:38:37.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/nailgun_client.py', 'fuelweb_test/tests/test_simple.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2f49531fb7a40556d23a165cafcef8ed9053fba4', 'message': 'Changes according new nailgun api\n\nChange-Id: Ie801218b104d57c56a7e51aed984eb96bba22ae5\nCloses-Bug: #1307968\n'}]",0,87881,2f49531fb7a40556d23a165cafcef8ed9053fba4,26,7,4,8882,,,0,"Changes according new nailgun api

Change-Id: Ie801218b104d57c56a7e51aed984eb96bba22ae5
Closes-Bug: #1307968
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/81/87881/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/nailgun_client.py', 'fuelweb_test/tests/test_simple.py']",3,0ab8ed4c3aa39ce43ea0e2b07b9fb3245d8fd2ad,master," ]) #@log_snapshot_on_error #self.env.make_snapshot(""deploy_simple_vlan"") networking_parameters = { networking_parameters=networking_parameters"," ]) @log_snapshot_on_error self.env.make_snapshot(""deploy_simple_vlan"")class UntaggedNetwork(TestBasic): @test(depends_on=[SetupEnvironment.prepare_slaves_3], groups=[""deploy_untagged_network""]) @log_snapshot_on_error def deploy_untagged_network(self): """"""Deploy cluster with untagged networks Scenario: 1. Create cluster 2. Add 1 node with controller role 3. Add 1 node with compute role 4. Split networks on existing physical interfaces 5. Remove VLAN tagging from networks which are not on eth0 6. Run network verification 7. Deploy the cluster 8. Run network verification Snapshot: deploy_untagged_network """""" self.env.revert_snapshot(""ready_with_3_slaves"") vlan_turn_off = {'vlan_start': None} interfaces = { 'eth1': [""public""], 'eth2': [""management""], 'eth3': [""fixed""], 'eth4': [""storage""] } cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE_SIMPLE ) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['compute'] } ) nets = self.fuel_web.client.get_networks(cluster_id)['networks'] nailgun_nodes = self.fuel_web.client.list_cluster_nodes(cluster_id) for node in nailgun_nodes: self.fuel_web.update_node_networks(node['id'], interfaces) # select networks that will be untagged: [net.update(vlan_turn_off) for net in nets if net[""name""] != ""storage""] # stop using VLANs: self.fuel_web.client.update_network(cluster_id, networks=nets) self.fuel_web.verify_network(cluster_id) self.fuel_web.deploy_cluster_wait(cluster_id) self.fuel_web.assert_cluster_ready( 'slave-01', smiles_count=6, networks_count=1, timeout=300) self.fuel_web.verify_network(cluster_id) self.env.make_snapshot(""deploy_untagged_network"") @test(groups=[""thread_2""]) # set ip ranges for floating network networks = self.fuel_web.client.get_networks(cluster_id) floating_ranges = {""networking_parameters"": { } net_manager=networks['net_manager'], floating_ranges=floating_ranges",26,101
openstack%2Fhorizon~master~Id2cf9d968cdff93d63338e1ec4a3c32cb750b6d8,openstack/horizon,master,Id2cf9d968cdff93d63338e1ec4a3c32cb750b6d8,Ensure that metering limit field contains a number,ABANDONED,2014-03-25 20:07:35.000000000,2014-04-16 18:51:05.000000000,,"[{'_account_id': 3}, {'_account_id': 6230}, {'_account_id': 7386}, {'_account_id': 7699}, {'_account_id': 7976}, {'_account_id': 8090}, {'_account_id': 9659}, {'_account_id': 10112}, {'_account_id': 10295}]","[{'number': 1, 'created': '2014-03-25 20:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cdbc8b70b0efbb83836fe1a296686df4a2ad4a6e', 'message': 'Ensure that metering limit field contains a number\n\nEnforce error check in Resource Usage Daily Report textfield in\norder to avoid django error when non number is entered into field\n\nChange-Id: Id2cf9d968cdff93d63338e1ec4a3c32cb750b6d8\nCloses-Bug: #1288512\n'}, {'number': 2, 'created': '2014-04-11 19:22:17.000000000', 'files': ['openstack_dashboard/dashboards/admin/metering/templates/metering/daily.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/613df4e1f844908cb76b10fe49d5ded17a43a20e', 'message': 'Ensure that metering limit field contains a number\n\nEnforce error check in Resource Usage Daily Report textfield in\norder to avoid django error when non number is entered into field\n\nChange-Id: Id2cf9d968cdff93d63338e1ec4a3c32cb750b6d8\nPartial-Bug: #1288512\n'}]",0,82908,613df4e1f844908cb76b10fe49d5ded17a43a20e,31,9,2,6230,,,0,"Ensure that metering limit field contains a number

Enforce error check in Resource Usage Daily Report textfield in
order to avoid django error when non number is entered into field

Change-Id: Id2cf9d968cdff93d63338e1ec4a3c32cb750b6d8
Partial-Bug: #1288512
",git fetch https://review.opendev.org/openstack/horizon refs/changes/08/82908/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/metering/templates/metering/daily.html'],1,cdbc8b70b0efbb83836fe1a296686df4a2ad4a6e,bug/validate," <input type=""number"" name=""limit"" class=""span2 example"" value=""20""/>"," <input type=""text"" name=""limit"" class=""span2 example"" value=""20""/>",1,1
openstack%2Fcookbook-openstack-network~master~Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2,openstack/cookbook-openstack-network,master,Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2,Add security group configuration for Hyperv agent,MERGED,2014-04-04 04:14:05.000000000,2014-04-16 18:37:10.000000000,2014-04-16 18:37:10.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 6981}, {'_account_id': 7128}, {'_account_id': 8622}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-04 04:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/93c764f94cec330fcd3977b20a648529ec6fe99b', 'message': 'Add security group configuration for Hyperv agent\n\nHyperv agent of Neutron has supported security group.\nPlease refer to: https://review.openstack.org/#/c/74199/\nAdding security group configuration for Hyperv agent\nto avoid Neutron Hyperv agent startup errors if\nno security group set in configuration file.\n\nChange-Id: Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2\n'}, {'number': 2, 'created': '2014-04-14 05:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/1a139d57ee680f2dbcb23febf6edaefefbbd1260', 'message': 'Add security group configuration for Hyperv agent\n\nHyperv agent of Neutron has supported security group.\nPlease refer to: https://review.openstack.org/#/c/74199/\nAdding security group configuration for Hyperv agent\nto avoid Neutron Hyperv agent startup errors if\nno security group set in configuration file.\n\nChange-Id: Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2\n'}, {'number': 3, 'created': '2014-04-14 06:29:45.000000000', 'files': ['spec/hyperv_spec.rb', 'templates/default/plugins/hyperv/hyperv_neutron_plugin.ini.erb', 'attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/a762bed85d6752bd782b35ab1f9aec2776230289', 'message': 'Add security group configuration for Hyperv agent\n\nHyperv agent of Neutron has supported security group.\nPlease refer to: https://review.openstack.org/#/c/74199/\nAdding security group configuration for Hyperv agent\nto avoid Neutron Hyperv agent startup errors if\nno security group set in configuration file.\n\nChange-Id: Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2\n'}]",0,85231,a762bed85d6752bd782b35ab1f9aec2776230289,28,6,3,8622,,,0,"Add security group configuration for Hyperv agent

Hyperv agent of Neutron has supported security group.
Please refer to: https://review.openstack.org/#/c/74199/
Adding security group configuration for Hyperv agent
to avoid Neutron Hyperv agent startup errors if
no security group set in configuration file.

Change-Id: Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/31/85231/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default/plugins/hyperv/hyperv_neutron_plugin.ini.erb', 'attributes/default.rb']",2,93c764f94cec330fcd3977b20a648529ec6fe99b,hyperv_securitygroup,# Firewall driver for realizing neutron security group function default['openstack']['network']['hyperv']['firewall_driver'] = 'neutron.plugins.hyperv.agent.security_groups_driver.HyperVSecurityGroupsDriver' ,,7,0
openstack%2Ftripleo-incubator~master~I480a46d1eff4764e962b7f919101065e2e81a041,openstack/tripleo-incubator,master,I480a46d1eff4764e962b7f919101065e2e81a041,Minor tweaks to docs in _testenv.sh,MERGED,2014-04-02 07:08:50.000000000,2014-04-16 18:28:48.000000000,2014-04-16 18:28:48.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 7585}, {'_account_id': 9369}, {'_account_id': 9453}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-04-02 07:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c7a70644392cd7005255a40d9bd3fd1fdfa93374', 'message': ""Minor tweaks to docs in _testenv.sh\n\n$NODE_CNT is no longer the last parameter passed to create-nodes.\n\nclean-env is not the name of the cleanup script; that's cleanup-env.\n\nChange-Id: I480a46d1eff4764e962b7f919101065e2e81a041\n""}, {'number': 2, 'created': '2014-04-04 01:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/68a869b4b9c4a8ed029500dab04be9d891bfbbe4', 'message': ""Minor tweaks to docs in _testenv.sh\n\n$NODE_CNT is no longer the last parameter passed to create-nodes.\n\nclean-env is not the name of the cleanup script; that's cleanup-env.\n\nChange-Id: I480a46d1eff4764e962b7f919101065e2e81a041\n""}, {'number': 3, 'created': '2014-04-07 23:08:04.000000000', 'files': ['scripts/devtest_testenv.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/a8349f1bd82aa5de737628abf06caf2195cddb28', 'message': ""Minor tweaks to docs in _testenv.sh\n\n$NODE_CNT is no longer the last parameter passed to create-nodes.\n\nclean-env is not the name of the cleanup script; that's cleanup-env.\n\nChange-Id: I480a46d1eff4764e962b7f919101065e2e81a041\n""}]",2,84640,a8349f1bd82aa5de737628abf06caf2195cddb28,27,6,3,9453,,,0,"Minor tweaks to docs in _testenv.sh

$NODE_CNT is no longer the last parameter passed to create-nodes.

clean-env is not the name of the cleanup script; that's cleanup-env.

Change-Id: I480a46d1eff4764e962b7f919101065e2e81a041
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/40/84640/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_testenv.sh'],1,c7a70644392cd7005255a40d9bd3fd1fdfa93374,minor_doctweaks_to_testenv,## #. Create baremetal nodes for the test cluster. The fifth parameter to## you can run cleanup-env and then recreate with more nodes.,## #. Create baremetal nodes for the test cluster. The final parameter to## you can run clean-env and then recreate with more nodes.,2,2
openstack%2Ftripleo-image-elements~master~I6a0306bf33e67a2ead4c9e08b7474092f34c9e1b,openstack/tripleo-image-elements,master,I6a0306bf33e67a2ead4c9e08b7474092f34c9e1b,Set use_file_injection to False for Nova-BM,ABANDONED,2014-04-16 13:29:33.000000000,2014-04-16 18:25:24.000000000,,"[{'_account_id': 3}, {'_account_id': 10373}]","[{'number': 1, 'created': '2014-04-16 13:29:33.000000000', 'files': ['elements/nova/os-apply-config/etc/nova/nova.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bc24697184e16d8602cf3f44521d756463cbf723', 'message': 'Set use_file_injection to False for Nova-BM\n\nThis allows optimisations such as re-using downloaded image files, as we\nknow the the image file will not have changed.\n\nChange-Id: I6a0306bf33e67a2ead4c9e08b7474092f34c9e1b\n'}]",0,87963,bc24697184e16d8602cf3f44521d756463cbf723,5,2,1,9420,,,0,"Set use_file_injection to False for Nova-BM

This allows optimisations such as re-using downloaded image files, as we
know the the image file will not have changed.

Change-Id: I6a0306bf33e67a2ead4c9e08b7474092f34c9e1b
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/63/87963/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova/os-apply-config/etc/nova/nova.conf'],1,bc24697184e16d8602cf3f44521d756463cbf723,, use_file_injection=False,,2,0
openstack%2Ftripleo-image-elements~master~Id25ebb818d139e8460c58e3e7359db75ddb5426e,openstack/tripleo-image-elements,master,Id25ebb818d139e8460c58e3e7359db75ddb5426e,Create and set correct permissions on directories.,MERGED,2014-04-15 09:11:50.000000000,2014-04-16 18:24:13.000000000,2014-04-16 17:33:31.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 4190}, {'_account_id': 5805}, {'_account_id': 6969}, {'_account_id': 7144}, {'_account_id': 7537}, {'_account_id': 8688}]","[{'number': 1, 'created': '2014-04-15 09:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/2a4f9c03db7e99c41b3ca00d2e6c099dae8c88af', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 2, 'created': '2014-04-15 09:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/689c4f1b98b8f8a9afac94181bfed2c2bcbc95d3', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 3, 'created': '2014-04-15 09:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/9ee619496d1f99bd1ab78715850eb3e3b167d950', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 4, 'created': '2014-04-15 13:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4905955ff7fdaa75c1ea677c31feb25dfefa79b1', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 5, 'created': '2014-04-16 07:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5998d9e335c85fc8a692f94161563c18bcf14983', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 6, 'created': '2014-04-16 12:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/26264923f8fec816d6a28f09da6431e9954807f4', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 7, 'created': '2014-04-16 12:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/71f72b7bef10200fd67b3565f91ace70c2c1c044', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 8, 'created': '2014-04-16 12:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/dd6e5760e6c28787e8744e2c71491a25c7e3ab65', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}, {'number': 9, 'created': '2014-04-16 13:08:31.000000000', 'files': ['elements/ironic-conductor/os-refresh-config/post-configure.d/68-ironic-conductor', 'elements/ironic-conductor/install.d/68-ironic-tftp-support'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bc716aed9db642fea45b45a4b245275f71763e21', 'message': 'Create and set correct permissions on directories.\n\nIronic Conductor appears to be throwing an error related to\ndirectory creation and permissions which is holding up merges\nto tripleo.  This patch sets the correct permissions and creates\nthe directories required\n\nChange-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e\nFixes: bug 1307907\n'}]",7,87501,bc716aed9db642fea45b45a4b245275f71763e21,50,8,9,7537,,,0,"Create and set correct permissions on directories.

Ironic Conductor appears to be throwing an error related to
directory creation and permissions which is holding up merges
to tripleo.  This patch sets the correct permissions and creates
the directories required

Change-Id: Id25ebb818d139e8460c58e3e7359db75ddb5426e
Fixes: bug 1307907
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/01/87501/8 && git format-patch -1 --stdout FETCH_HEAD,['elements/ironic-conductor/os-refresh-config/post-configure.d/68-ironic-conductor'],1,2a4f9c03db7e99c41b3ca00d2e6c099dae8c88af,bug/1307907,# fix bug 1307907 for directory in images master-images; do mkdir /mnt/state/var/lib/ironic/$directory chown ironic:ironic /mnt/state/var/lib/ironc/$directory done ,,6,0
openstack%2Fcookbook-openstack-ops-database~master~Iebf2aad9f3b4649fb5c27d2fc93ee60c67e42737,openstack/cookbook-openstack-ops-database,master,Iebf2aad9f3b4649fb5c27d2fc93ee60c67e42737,Use platform_family instead of platform,MERGED,2014-04-08 21:06:45.000000000,2014-04-16 18:19:22.000000000,2014-04-16 18:19:22.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 5046}, {'_account_id': 7128}, {'_account_id': 7996}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-08 21:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/0a726b7e280d3b32dd85fc3d33a601ab0d8d5209', 'message': 'Use platform_family instead of platform\n\nThis will allow the ibm_powerkvm platform to be recognized and will\nsimplify uses of multiple platforms from the same family.\n\nChange-Id: Iebf2aad9f3b4649fb5c27d2fc93ee60c67e42737\nPartially-Implements: blueprint add-ibm-powerkvm-enablement\nImplements: blueprint platform-family\n'}, {'number': 2, 'created': '2014-04-08 21:35:08.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/9a7bd311542ba08a053c1ba025c6fa76d6756f65', 'message': 'Use platform_family instead of platform\n\nThis will allow the ibm_powerkvm platform to be recognized and will\nsimplify uses of multiple platforms from the same family.\n\nChange-Id: Iebf2aad9f3b4649fb5c27d2fc93ee60c67e42737\nPartially-Implements: blueprint add-ibm-powerkvm-enablement\nImplements: blueprint platform-family\n'}]",0,86160,9a7bd311542ba08a053c1ba025c6fa76d6756f65,25,6,2,7996,,,0,"Use platform_family instead of platform

This will allow the ibm_powerkvm platform to be recognized and will
simplify uses of multiple platforms from the same family.

Change-Id: Iebf2aad9f3b4649fb5c27d2fc93ee60c67e42737
Partially-Implements: blueprint add-ibm-powerkvm-enablement
Implements: blueprint platform-family
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/60/86160/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'metadata.rb']",2,0a726b7e280d3b32dd85fc3d33a601ab0d8d5209,bp/add-ibm-powerkvm-enablement,depends 'db2',,4,3
openstack%2Fcookbook-openstack-block-storage~master~I62caf397995fbcf3a202992b353c05cc027d07b6,openstack/cookbook-openstack-block-storage,master,I62caf397995fbcf3a202992b353c05cc027d07b6,allow specifying bind port,MERGED,2014-04-14 10:13:17.000000000,2014-04-16 18:17:43.000000000,2014-04-16 18:17:42.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 1032}, {'_account_id': 6526}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-14 10:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/88c8e0a5c3e610e27c05f5486efdd4cc66505e16', 'message': 'allow specifying bind port\n\nMuch like a previous commit to allow specifying a bind IP for the API\nservice, this commit adds a similar ability to specify a bind port.\n\nChange-Id: I62caf397995fbcf3a202992b353c05cc027d07b6\n'}, {'number': 2, 'created': '2014-04-16 14:29:59.000000000', 'files': ['recipes/cinder-common.rb', 'spec/cinder_common_spec.rb', 'templates/default/cinder.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/1fdbba053a5ea16f94fe5b5b197cfecfb66bfa2d', 'message': 'allow specifying bind port\n\nMuch like a previous commit to allow specifying a bind IP for the API\nservice (3a576ac), this commit adds a similar ability to specify a bind port.\n\nChange-Id: I62caf397995fbcf3a202992b353c05cc027d07b6\n'}]",2,87227,1fdbba053a5ea16f94fe5b5b197cfecfb66bfa2d,13,6,2,425,,,0,"allow specifying bind port

Much like a previous commit to allow specifying a bind IP for the API
service (3a576ac), this commit adds a similar ability to specify a bind port.

Change-Id: I62caf397995fbcf3a202992b353c05cc027d07b6
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/27/87227/2 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/cinder-common.rb', 'spec/cinder_common_spec.rb', 'templates/default/cinder.conf.erb']",3,88c8e0a5c3e610e27c05f5486efdd4cc66505e16,listen_port,osapi_volume_listen=<%= @volume_api_bind_address %>osapi_volume_listen_port=<%= @volume_api_bind_port %>,osapi_volume_listen=<%= @volume_api_address %>,9,3
openstack%2Fcookbook-openstack-ops-database~master~I8bee67cdc3b95ae06efff371e56bdd7fc58e7f5b,openstack/cookbook-openstack-ops-database,master,I8bee67cdc3b95ae06efff371e56bdd7fc58e7f5b,Add .cookbooks to .gitignore,MERGED,2014-04-08 22:44:00.000000000,2014-04-16 18:17:07.000000000,2014-04-16 18:17:07.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 6526}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-04-08 22:44:00.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/5ac2969c273dc95ad4a7c8b26f5d787cfe294617', 'message': 'Add .cookbooks to .gitignore\n\nChange-Id: I8bee67cdc3b95ae06efff371e56bdd7fc58e7f5b\n'}]",0,86183,5ac2969c273dc95ad4a7c8b26f5d787cfe294617,15,5,1,7996,,,0,"Add .cookbooks to .gitignore

Change-Id: I8bee67cdc3b95ae06efff371e56bdd7fc58e7f5b
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/83/86183/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,5ac2969c273dc95ad4a7c8b26f5d787cfe294617,gitignore-cookbooks,.cookbooks/,,1,0
openstack%2Fneutron~milestone-proposed~I1d5c7aaa8e4cf057204eb746c0faab2c70409a94,openstack/neutron,milestone-proposed,I1d5c7aaa8e4cf057204eb746c0faab2c70409a94,Permit ICMPv6 RAs only from known routers,ABANDONED,2014-04-16 17:39:39.000000000,2014-04-16 18:09:53.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 308}, {'_account_id': 2592}, {'_account_id': 7183}, {'_account_id': 9787}, {'_account_id': 10117}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-04-16 17:39:39.000000000', 'files': ['neutron/common/constants.py', 'neutron/tests/unit/test_security_groups_rpc.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/oneconvergence/test_security_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed7173d1d0406e2a9b17eceaae3a4880b3a55b3a', 'message': ""Permit ICMPv6 RAs only from known routers\n\nCurrently ingress ICMPv6 RAs are permitted from any IPs by\ndefault to allow VMs to accept ICMPv6 RA from provider network.\nIn this way, VM can accept RAs from attacker VM and configure\na network prefix specified by the attacher VM.\n\nRemove permitting ICMPv6 RAs from any IPs and add security rule\nto only permit ICMPv6 RA from:\n\n1. If the port's subnet is configured with ipv6_ra_mode value\n(i.e.value is slaac, dhcpv6-stateful, or dhcpv6-stateless), RA\nis sending from dnsmasq controlled by OpenStack. In this case,\nallow RA from the link local address of gateway port (if the\ngateway port is created).\n\n2. If the subnet's gateway port is not managed by OpenStack, allow\nthe ICMPv6 RA sent from the subnet gateway IP if it's a link local\naddress. The administrator needs to configure the gateway IP as\nlink local address in this case to make the RA rule work.\n\nChange-Id: I1d5c7aaa8e4cf057204eb746c0faab2c70409a94\nCloses-Bug: 1262759\n(cherry picked from commit b7b0c7dbcd3e6754bc09b2fd75d888c41ae4aadb)\n""}]",0,88034,ed7173d1d0406e2a9b17eceaae3a4880b3a55b3a,7,8,1,4395,,,0,"Permit ICMPv6 RAs only from known routers

Currently ingress ICMPv6 RAs are permitted from any IPs by
default to allow VMs to accept ICMPv6 RA from provider network.
In this way, VM can accept RAs from attacker VM and configure
a network prefix specified by the attacher VM.

Remove permitting ICMPv6 RAs from any IPs and add security rule
to only permit ICMPv6 RA from:

1. If the port's subnet is configured with ipv6_ra_mode value
(i.e.value is slaac, dhcpv6-stateful, or dhcpv6-stateless), RA
is sending from dnsmasq controlled by OpenStack. In this case,
allow RA from the link local address of gateway port (if the
gateway port is created).

2. If the subnet's gateway port is not managed by OpenStack, allow
the ICMPv6 RA sent from the subnet gateway IP if it's a link local
address. The administrator needs to configure the gateway IP as
link local address in this case to make the RA rule work.

Change-Id: I1d5c7aaa8e4cf057204eb746c0faab2c70409a94
Closes-Bug: 1262759
(cherry picked from commit b7b0c7dbcd3e6754bc09b2fd75d888c41ae4aadb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/88034/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/test_security_groups_rpc.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/oneconvergence/test_security_group.py']",5,ed7173d1d0406e2a9b17eceaae3a4880b3a55b3a,," def test_security_group_ra_rules_for_devices_ipv6_gateway_global(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_ra_rules_for_devices_ipv6_gateway_lla(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_ra_rules_for_devices_ipv6_no_gateway_port(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_rule_for_device_ipv6_multi_router_interfaces(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_ra_rules_for_devices_ipv6_gateway_global(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_ra_rules_for_devices_ipv6_gateway_lla(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_ra_rules_for_devices_ipv6_no_gateway_port(self): self.skipTest(""NVSD Plugin does not support IPV6."") def test_security_group_rule_for_device_ipv6_multi_router_interfaces(self): self.skipTest(""NVSD Plugin does not support IPV6."") ",,389,34
openstack%2Foslo-incubator~master~I853e548f11a4c3785eaf75124510a6d789536634,openstack/oslo-incubator,master,I853e548f11a4c3785eaf75124510a6d789536634,Use oslotest instead of common test module,MERGED,2014-04-15 10:31:20.000000000,2014-04-16 17:59:55.000000000,2014-04-16 17:59:54.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-15 10:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b37c354aacaf2e0bc7274345ea93ac7d31041013', 'message': 'Use oslotest instead of common test module\n\nModule openstack.common.test is obsolete, so we should use\noslotest library instead of it.\nModified tests and common database code, new requirement added.\n\nChange-Id: I853e548f11a4c3785eaf75124510a6d789536634\n'}, {'number': 2, 'created': '2014-04-15 15:05:23.000000000', 'files': ['tests/unit/test_policy.py', 'tests/unit/crypto/test_utils.py', 'tests/unit/middleware/test_catch_errors.py', 'tests/unit/middleware/test_sizelimit.py', 'tests/unit/test_cfgfilter.py', 'tests/unit/apiclient/test_exceptions.py', 'tests/unit/test_context.py', 'tests/unit/test_sslutils.py', 'tests/unit/rpc/test_matchmaker_redis.py', 'tests/unit/test_gettext.py', 'tests/unit/test_quota.py', 'tests/unit/rpc/common.py', 'tests/unit/scheduler/test_host_filters.py', 'tests/unit/test_lockutils.py', 'tests/unit/test_uuidutils.py', 'tests/unit/db/sqlalchemy/test_migrate_cli.py', 'tests/unit/test_excutils.py', 'tests/unit/test_processutils.py', 'tests/unit/db/sqlalchemy/test_migrations.py', 'tests/unit/test_service.py', 'tests/unit/rpc/test_common.py', 'tests/unit/rpc/test_proxy.py', 'tests/utils.py', 'tests/unit/test_loopingcall.py', 'tests/unit/test_timeutils.py', 'tests/unit/test_eventlet_backdoor.py', 'tests/unit/test_versionutils.py', 'tests/unit/test_local.py', 'tests/unit/test_importutils.py', 'tests/unit/test_request_utils.py', 'tests/unit/rpc/test_matchmaker.py', 'tests/unit/test_jsonutils.py', 'openstack/common/db/sqlalchemy/test_base.py', 'tests/unit/db/sqlalchemy/test_models.py', 'requirements-py3.txt', 'tests/unit/test_log.py', 'tests/unit/rpc/test_kombu_ssl.py', 'tests/unit/apiclient/test_client.py', 'tests/unit/middleware/test_request_id.py', 'tests/unit/middleware/test_correlation_id.py', 'tests/unit/test_network_utils.py', 'tests/unit/test_funcutils.py', 'tests/unit/rpc/test_kombu.py', 'tests/unit/test_strutils.py', 'requirements.txt', 'tests/unit/db/sqlalchemy/test_utils.py', 'tests/unit/apiclient/test_base.py', 'tests/unit/test_deprecated.py', 'tests/unit/test_imageutils.py', 'tests/unit/test_fileutils.py', 'tests/unit/test_xmlutils.py', 'tests/unit/db/sqlalchemy/test_sqlalchemy.py', 'tests/unit/rpc/test_service.py', 'tests/unit/test_units.py', 'tests/unit/test_memorycache.py', 'tests/unit/apiclient/test_auth.py', 'tests/unit/rpc/test_dispatcher.py', 'tests/unit/scheduler/test_weights.py', 'tests/unit/config/test_generator.py', 'tests/unit/test_cliutils.py', 'tests/unit/test_systemd.py', 'tests/unit/test_notifier.py', 'tests/unit/scheduler/test_base_filter.py', 'tests/unit/test_periodic.py', 'tests/unit/test_threadgroup.py', 'openstack/common/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/8a0f581ac0a55481e208fcc1bf17a10f650b064c', 'message': 'Use oslotest instead of common test module\n\nModule openstack.common.test is obsolete, so we should use\noslotest library instead of it.\nModified tests and common database code, new requirement added.\n\nChange-Id: I853e548f11a4c3785eaf75124510a6d789536634\n'}]",0,87536,8a0f581ac0a55481e208fcc1bf17a10f650b064c,22,6,2,7491,,,0,"Use oslotest instead of common test module

Module openstack.common.test is obsolete, so we should use
oslotest library instead of it.
Modified tests and common database code, new requirement added.

Change-Id: I853e548f11a4c3785eaf75124510a6d789536634
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/36/87536/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_policy.py', 'tests/unit/crypto/test_utils.py', 'tests/unit/middleware/test_catch_errors.py', 'tests/unit/middleware/test_sizelimit.py', 'tests/unit/test_cfgfilter.py', 'tests/unit/apiclient/test_exceptions.py', 'tests/unit/test_context.py', 'tests/unit/test_sslutils.py', 'tests/unit/rpc/test_matchmaker_redis.py', 'tests/unit/test_gettext.py', 'tests/unit/test_quota.py', 'tests/unit/rpc/common.py', 'tests/unit/scheduler/test_host_filters.py', 'tests/unit/test_lockutils.py', 'tests/unit/test_uuidutils.py', 'tests/unit/db/sqlalchemy/test_migrate_cli.py', 'tests/unit/test_excutils.py', 'tests/unit/test_processutils.py', 'tests/unit/db/sqlalchemy/test_migrations.py', 'tests/unit/test_service.py', 'tests/unit/rpc/test_common.py', 'tests/unit/rpc/test_proxy.py', 'tests/utils.py', 'tests/unit/test_loopingcall.py', 'tests/unit/test_timeutils.py', 'tests/unit/test_eventlet_backdoor.py', 'tests/unit/test_versionutils.py', 'tests/unit/test_local.py', 'tests/unit/test_importutils.py', 'tests/unit/test_request_utils.py', 'tests/unit/rpc/test_matchmaker.py', 'tests/unit/test_jsonutils.py', 'openstack/common/db/sqlalchemy/test_base.py', 'tests/unit/db/sqlalchemy/test_models.py', 'requirements-py3.txt', 'tests/unit/test_log.py', 'tests/unit/rpc/test_kombu_ssl.py', 'tests/unit/apiclient/test_client.py', 'tests/unit/middleware/test_request_id.py', 'tests/unit/middleware/test_correlation_id.py', 'tests/unit/test_network_utils.py', 'tests/unit/test_funcutils.py', 'tests/unit/rpc/test_kombu.py', 'tests/unit/test_strutils.py', 'requirements.txt', 'tests/unit/db/sqlalchemy/test_utils.py', 'tests/unit/apiclient/test_base.py', 'tests/unit/test_deprecated.py', 'tests/unit/test_imageutils.py', 'tests/unit/test_fileutils.py', 'tests/unit/test_xmlutils.py', 'tests/unit/db/sqlalchemy/test_sqlalchemy.py', 'tests/unit/rpc/test_service.py', 'tests/unit/test_units.py', 'tests/unit/test_memorycache.py', 'tests/unit/apiclient/test_auth.py', 'tests/unit/rpc/test_dispatcher.py', 'tests/unit/scheduler/test_weights.py', 'tests/unit/config/test_generator.py', 'tests/unit/test_cliutils.py', 'tests/unit/test_systemd.py', 'tests/unit/test_notifier.py', 'tests/unit/scheduler/test_base_filter.py', 'tests/unit/test_periodic.py', 'tests/unit/test_threadgroup.py', 'openstack/common/db/sqlalchemy/test_migrations.py']",66,b37c354aacaf2e0bc7274345ea93ac7d31041013,bp/oslo-db-lib,from oslotest import base as test_baseclass BaseMigrationTestCase(test_base.BaseTestCase):,from openstack.common import testclass BaseMigrationTestCase(test.BaseTestCase):,228,210
openstack%2Fmurano~master~I3feb15b613f678278b0cecabf1d50c141b8e3e88,openstack/murano,master,I3feb15b613f678278b0cecabf1d50c141b8e3e88,Add 'cp' of murano-dashboard lib file in devstack README,MERGED,2014-04-16 15:35:18.000000000,2014-04-16 17:35:19.000000000,2014-04-16 17:35:19.000000000,"[{'_account_id': 3}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 10063}]","[{'number': 1, 'created': '2014-04-16 15:35:18.000000000', 'files': ['contrib/devstack/README.md'], 'web_link': 'https://opendev.org/openstack/murano/commit/0be33bc195a71aa5be22ada9161b433aaa1ffb68', 'message': ""Add 'cp' of murano-dashboard lib file in devstack README\n\nThis patch https://review.openstack.org/#/c/87751 introduced murano\ndashboard in devstack files.\n\nthe cp of murano-dashboard has not been added in the README\n\nChange-Id: I3feb15b613f678278b0cecabf1d50c141b8e3e88\n""}]",0,88003,0be33bc195a71aa5be22ada9161b433aaa1ffb68,9,5,1,9537,,,0,"Add 'cp' of murano-dashboard lib file in devstack README

This patch https://review.openstack.org/#/c/87751 introduced murano
dashboard in devstack files.

the cp of murano-dashboard has not been added in the README

Change-Id: I3feb15b613f678278b0cecabf1d50c141b8e3e88
",git fetch https://review.opendev.org/openstack/murano refs/changes/03/88003/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/README.md'],1,0be33bc195a71aa5be22ada9161b433aaa1ffb68,, $ cp lib/murano-dashboard ${DEVSTACK_DIR}/lib,,1,0
openstack%2Ftempest~master~If15bd171b4708def30a650d514063e9795836746,openstack/tempest,master,If15bd171b4708def30a650d514063e9795836746,Move exceptions back into one place,MERGED,2014-04-03 15:56:59.000000000,2014-04-16 17:31:16.000000000,2014-04-16 17:31:15.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5174}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8851}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-03 15:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7acc312f5ec4725905f1b6623e05895ef947f953', 'message': ""Move exceptions back into one place\n\nThis commit removes the exceptions directory and reverts to the\nprevious organizational behavior of having a single exception file.\nThe directory was created with the intent of allowing additional\nexceptions to be added as separate files. However this is just\ndistributing exceptions into separate files which would mean separate\nimports whenever they were used. So new extensions were only being\nadded to the __init__ file to avoid the additional import, which is\nessentially the previous behavior. So instead of adding the additional\ndirectory it's easier just to leave everything in one file.\n\nThis is effectively a revert of 82411edb9c1089cac53572e7720559b927b59fbd\n\nChange-Id: If15bd171b4708def30a650d514063e9795836746\n""}, {'number': 2, 'created': '2014-04-03 18:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/526a5503b84e1130c5c4dd400369471320536594', 'message': ""Move exceptions back into one place\n\nThis commit removes the exceptions directory and reverts to the\nprevious organizational behavior of having a single exception file.\nThe directory was created with the intent of allowing additional\nexceptions to be added as separate files. However this is just\ndistributing exceptions into separate files which would mean separate\nimports whenever they were used. So new extensions were only being\nadded to the __init__ file to avoid the additional import, which is\nessentially the previous behavior. So instead of adding the additional\ndirectory it's easier just to leave everything in one file.\n\nThis is effectively a revert of 82411edb9c1089cac53572e7720559b927b59fbd\n\nChange-Id: If15bd171b4708def30a650d514063e9795836746\n""}, {'number': 3, 'created': '2014-04-15 03:05:44.000000000', 'files': ['tempest/exceptions/README.rst', 'tempest/exceptions/base.py', 'tempest/exceptions/__init__.py', 'tempest/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8bdf6e3c05173b61ca5b0d23fcd18327e9da0024', 'message': ""Move exceptions back into one place\n\nThis commit removes the exceptions directory and reverts to the\nprevious organizational behavior of having a single exception file.\nThe directory was created with the intent of allowing additional\nexceptions to be added as separate files. However this is just\ndistributing exceptions into separate files which would mean separate\nimports whenever they were used. So new extensions were only being\nadded to the __init__ file to avoid the additional import, which is\nessentially the previous behavior. So instead of adding the additional\ndirectory it's easier just to leave everything in one file.\n\nThis is effectively a revert of 82411edb9c1089cac53572e7720559b927b59fbd\n\nChange-Id: If15bd171b4708def30a650d514063e9795836746\n""}]",0,85085,8bdf6e3c05173b61ca5b0d23fcd18327e9da0024,68,8,3,5196,,,0,"Move exceptions back into one place

This commit removes the exceptions directory and reverts to the
previous organizational behavior of having a single exception file.
The directory was created with the intent of allowing additional
exceptions to be added as separate files. However this is just
distributing exceptions into separate files which would mean separate
imports whenever they were used. So new extensions were only being
added to the __init__ file to avoid the additional import, which is
essentially the previous behavior. So instead of adding the additional
directory it's easier just to leave everything in one file.

This is effectively a revert of 82411edb9c1089cac53572e7720559b927b59fbd

Change-Id: If15bd171b4708def30a650d514063e9795836746
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/85085/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/exceptions/README.rst', 'tempest/exceptions/base.py', 'tempest/exceptions.py']",3,7acc312f5ec4725905f1b6623e05895ef947f953,single-file-exceptions,"import testtools class TempestException(Exception): """""" Base Tempest Exception To correctly use this class, inherit from it and define a 'message' property. That message will get printf'd with the keyword arguments provided to the constructor. """""" message = ""An unknown exception occurred"" def __init__(self, *args, **kwargs): super(TempestException, self).__init__() try: self._error_string = self.message % kwargs except Exception: # at least get the core message out if something happened self._error_string = self.message if len(args) > 0: # If there is a non-kwarg parameter, assume it's the error # message or reason description and tack it on to the end # of the exception message # Convert all arguments into their string representations... args = [""%s"" % arg for arg in args] self._error_string = (self._error_string + ""\nDetails: %s"" % '\n'.join(args)) def __str__(self): return self._error_string class RestClientException(TempestException, testtools.TestCase.failureException): pass class RFCViolation(RestClientException): message = ""RFC Violation""message = ""Endpoint not found""","from tempest.exceptions import base message = ""Endpoint not found""",39,89
openstack%2Fceilometer~master~Ic9392355e08834b4d01b0e421de1c77fed8ac5e4,openstack/ceilometer,master,Ic9392355e08834b4d01b0e421de1c77fed8ac5e4,Remove duplicate alarm from alarm_ids,MERGED,2014-04-10 04:33:51.000000000,2014-04-16 17:30:54.000000000,2014-04-16 17:30:54.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 8290}, {'_account_id': 9562}, {'_account_id': 10242}]","[{'number': 1, 'created': '2014-04-10 04:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b482198762fb69787149bee1161cf325b66b6ffa', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch remove duplicate alarm ids when post or put combination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 2, 'created': '2014-04-10 18:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/79a1b4e922ba7dea6d4363dde872ddefc0e6a86a', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch remove duplicate alarm ids when post or put combination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 3, 'created': '2014-04-11 03:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6eb8427cd0a647fa2ff5e3c4c90299b350574d73', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch remove duplicate alarm ids when post or put combination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 4, 'created': '2014-04-11 18:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ce50c971696cba8e7d0bd8c2d53b5509072ce94f', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch remove duplicate alarm ids when post or put combination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 5, 'created': '2014-04-13 19:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b8aa2329a994abf936b4983a0776c818e88fc456', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch will raise a ClientSideError when user try to post or put\ncombination alarm with duplicate alarm in alarm_ids.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 6, 'created': '2014-04-13 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a23fe0707010e4100fb32ba14dd306dd289bc0e', 'message': ""Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch will raise a ClientSideError when user try to post or put\ncombination alarm with duplicate alarm in alarm_ids.\n\nthere are three reasons to return 400 other than correct the user's input\nin server side:\n* we cannot decide for the user, api needs explicit request\n* we should teach user to request properly to avoid handling same error\n* currently, there is no way to accept such request and return a warning,\n  if we return 201, the response body can only be an Alarm json dict\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n""}, {'number': 7, 'created': '2014-04-15 05:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/711caf26dc4532cd409ae56210d4b420b114a8a8', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch will remove duplicate alarm ids when user try to post or put\ncombination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 8, 'created': '2014-04-15 05:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ed2c1a7d5bd7e956db0d243634a0c87a0df13d92', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch will remove duplicate alarm ids when user try to post or put\ncombination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}, {'number': 9, 'created': '2014-04-15 12:09:43.000000000', 'files': ['ceilometer/api/controllers/v2.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a12669f4366dd62a910f58a665169129b045714c', 'message': 'Remove duplicate alarm from alarm_ids\n\nAlarm ids in combination rule is a list, and for now, we allow duplicate\nalarms, the duplicate alarms are unnecessary to handle when evaluate a\ncombination alarm, and it is weird when print the combination rule.\n\nThis patch will remove duplicate alarm ids when user try to post or put\ncombination alarm.\n\nChange-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4\nCloses-Bug: #1304886\n'}]",23,86501,a12669f4366dd62a910f58a665169129b045714c,60,10,9,6676,,,0,"Remove duplicate alarm from alarm_ids

Alarm ids in combination rule is a list, and for now, we allow duplicate
alarms, the duplicate alarms are unnecessary to handle when evaluate a
combination alarm, and it is weird when print the combination rule.

This patch will remove duplicate alarm ids when user try to post or put
combination alarm.

Change-Id: Ic9392355e08834b4d01b0e421de1c77fed8ac5e4
Closes-Bug: #1304886
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/01/86501/9 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/api/controllers/v2.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py']",2,b482198762fb69787149bee1161cf325b66b6ffa,bug/1304886," def test_post_alarm_combination_duplicate_alarm_ids(self): '''Test combination alarm will remove duplicate alarm ids.''' json_body = { 'enabled': False, 'name': 'dup_alarm_id', 'type': 'combination', 'combination_rule': { 'alarm_ids': ['a', 'a'], } } self.post_json('/alarms', params=json_body, status=201, headers=self.auth_headers) alarms = list(self.conn.get_alarms(enabled=False)) self.assertEqual(1, len(alarms)) alarm = alarms[0] self.assertEqual('dup_alarm_id', alarm.name) self.assertEqual(['a'], alarm.rule.get('alarm_ids')) def test_put_combination_alarm_with_duplicate_ids(self): alarms = self.get_json('/alarms', q=[{'field': 'name', 'value': 'name4', }]) self.assertEqual(1, len(alarms)) alarm_id = alarms[0]['alarm_id'] json_body = { 'name': 'name4', 'enabled': False, 'type': 'combination', 'combination_rule': { 'alarm_ids': ['a', 'a'], } } self.put_json('/alarms/%s' % alarm_id, params=json_body, headers=self.auth_headers) alarms = list(self.conn.get_alarms(enabled=False)) self.assertEqual(1, len(alarms)) alarm = alarms[0] self.assertEqual(alarm_id, alarm.alarm_id) self.assertEqual(['a'], alarm.rule.get('alarm_ids')) ",,52,0
openstack%2Fceilometer~master~I59e13c61510a81904858e575c2f6f8989727026c,openstack/ceilometer,master,I59e13c61510a81904858e575c2f6f8989727026c,Made get_engine method module-private,MERGED,2014-04-15 22:00:20.000000000,2014-04-16 17:20:22.000000000,2014-04-16 17:20:21.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 7478}, {'_account_id': 7763}, {'_account_id': 9712}]","[{'number': 1, 'created': '2014-04-15 22:00:20.000000000', 'files': ['ceilometer/tests/storage/test_get_connection.py', 'ceilometer/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/33c0b64179cb795c2b77d7c53568a413ad1f4db3', 'message': 'Made get_engine method module-private\n\nThis method is not accessed outside of this module so there is no need\nfor it to be public.\n\nEncapsulation this method will allow us to improve connection creation.\n\nChange-Id: I59e13c61510a81904858e575c2f6f8989727026c\n'}]",0,87804,33c0b64179cb795c2b77d7c53568a413ad1f4db3,12,5,1,7763,,,0,"Made get_engine method module-private

This method is not accessed outside of this module so there is no need
for it to be public.

Encapsulation this method will allow us to improve connection creation.

Change-Id: I59e13c61510a81904858e575c2f6f8989727026c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/04/87804/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/storage/test_get_connection.py', 'ceilometer/storage/__init__.py']",2,33c0b64179cb795c2b77d7c53568a413ad1f4db3,db-managers-refactoring,def _get_engine(conf): return _get_engine(conf).get_connection(conf),def get_engine(conf): return get_engine(conf).get_connection(conf),7,7
openstack%2Fmurano~master~I07958aa5f06ab74f2a5ff8f568897863426ba04f,openstack/murano,master,I07958aa5f06ab74f2a5ff8f568897863426ba04f,Handle unicode strings in merge-dict,MERGED,2014-04-16 05:00:44.000000000,2014-04-16 17:10:53.000000000,2014-04-16 17:10:53.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8443}]","[{'number': 1, 'created': '2014-04-16 05:00:44.000000000', 'files': ['muranoapi/dsl/helpers.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/9477ac0e6f6ffb64dffb3dd2c4dcc997d89b182b', 'message': 'Handle unicode strings in merge-dict\n\nChange-Id: I07958aa5f06ab74f2a5ff8f568897863426ba04f\n'}]",1,87853,9477ac0e6f6ffb64dffb3dd2c4dcc997d89b182b,9,8,1,7225,,,0,"Handle unicode strings in merge-dict

Change-Id: I07958aa5f06ab74f2a5ff8f568897863426ba04f
",git fetch https://review.opendev.org/openstack/murano refs/changes/53/87853/1 && git format-patch -1 --stdout FETCH_HEAD,['muranoapi/dsl/helpers.py'],1,9477ac0e6f6ffb64dffb3dd2c4dcc997d89b182b,bug/merge-dict," for key, value1 in dict1.items(): result[key] = value1 if key in dict2: value2 = dict2[key] if type(value2) != type(value1): if (isinstance(value1, types.StringTypes) and isinstance(value2, types.StringTypes)): continue if max_levels != 1 and isinstance(value2, types.DictionaryType): value1, value2, elif max_levels != 1 and isinstance(value2, types.ListType): result[key] = merge_lists(value1, value2) else: result[key] = value2 for key, value1 in dict2.items(): if key not in result: result[key] = value1"," for key, value in dict1.items(): result[key] = value if key in dict2: other_value = dict2[key] if type(other_value) != type(value): if max_levels != 1 and isinstance( other_value, types.DictionaryType): value, other_value, elif max_levels != 1 and isinstance( other_value, types.ListType): result[key] = merge_lists(value, other_value) else: result[key] = other_value for key, value in dict2.items(): if key not in result: result[key] = value",14,13
openstack%2Fnova~master~Iefa5b4311f1fe1a5da31cf527521c393f2face7c,openstack/nova,master,Iefa5b4311f1fe1a5da31cf527521c393f2face7c,Remove duplicate code from nova.db.sqlalchemy.utils,MERGED,2014-03-07 20:16:32.000000000,2014-04-16 17:10:00.000000000,2014-04-16 17:09:56.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 8430}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-07 20:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2ee3acbf9ca507a0a4cc3d1b325c7691445811e', 'message': ""WIP: Replace nova.db.sqlalchemy.utils with oslo.db.sqlalchemy.utils\n\nNotable differences:\n\n1. modify_indexes was nova-only but no longer used after the migration\n   compaction work, so it's just removed here. It also didn't really\n   work for mysql in cases where the index name was too long so it\n   could be table-specific and therefore unusable in some mysql cases.\n   See commit 029ebab for history.\n2. create_shadow_table was not in oslo-incubator but it's also no\n   longer used in nova after the migration compaction, however, the\n   216_havana migration does have it's own slightly different version\n   of this method, so I've left in check_shadow_table for unit tests.\n3. DeleteFromSelect is still used within nova.db.api per\n   commit b36826e so we could move it to oslo-incubator but this\n   patch leaves it for now since it's only used in Nova.\n4. InsertFromSelect was introduced with commit 2e403b2 but now there\n   is a copy in oslo-incubator so we can remove our usage in nova.\n   However, oslo doesn't have the unit test that nova does, so we\n   need to move the unit test to oslo.\n\nCloses-Bug: #1280055\n\nChange-Id: Iefa5b4311f1fe1a5da31cf527521c393f2face7c\n""}, {'number': 2, 'created': '2014-03-07 21:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1bec4a181ec9b4a42f158c83397303a5a42603a', 'message': ""Replace nova.db.sqlalchemy.utils with oslo.db.sqlalchemy.utils\n\nNotable differences:\n\n1. modify_indexes was nova-only but no longer used after the migration\n   compaction work, so it's just removed here. It also didn't really\n   work for mysql in cases where the index name was too long so it\n   could be table-specific and therefore unusable in some mysql cases.\n   See commit 029ebab for history.\n2. create_shadow_table was not in oslo-incubator but it's also no\n   longer used in nova after the migration compaction, however, the\n   216_havana migration does have it's own slightly different version\n   of this method, so I've left in check_shadow_table for unit tests.\n3. DeleteFromSelect is still used within nova.db.api per\n   commit b36826e so we could move it to oslo-incubator but this\n   patch leaves it for now since it's only used in Nova.\n4. InsertFromSelect was introduced with commit 2e403b2 but now there\n   is a copy in oslo-incubator so we can remove our usage in nova.\n   However, oslo doesn't have the unit test that nova does, so the\n   unit test has been moved to oslo with change I457acf33.\n\nCloses-Bug: #1280055\n\nChange-Id: Iefa5b4311f1fe1a5da31cf527521c393f2face7c\n""}, {'number': 3, 'created': '2014-03-09 21:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdaa36aa2c0d908ffa9afdf10c36a053c78722ce', 'message': ""Replace nova.db.sqlalchemy.utils with oslo.db.sqlalchemy.utils\n\nNotable differences:\n\n1. modify_indexes was nova-only but no longer used after the migration\n   compaction work, so it's just removed here. It also didn't really\n   work for mysql in cases where the index name was too long so it\n   could be table-specific and therefore unusable in some mysql cases.\n   See commit 029ebab for history.\n2. create_shadow_table was not in oslo-incubator but it's also no\n   longer used in nova after the migration compaction, however, the\n   216_havana migration does have it's own slightly different version\n   of this method, so I've left in check_shadow_table for unit tests.\n3. DeleteFromSelect is still used within nova.db.api per\n   commit b36826e so we could move it to oslo-incubator but this\n   patch leaves it for now since it's only used in Nova.\n4. InsertFromSelect was introduced with commit 2e403b2 but now there\n   is a copy in oslo-incubator so we can remove our usage in nova.\n   However, oslo doesn't have the unit test that nova does, so the\n   unit test has been moved to oslo with change I457acf33.\n5. Oslo has is_backend_avail and get_connect_string methods so use\n   those in test_migrations.py while doing this update.\n\nCloses-Bug: #1280055\n\nChange-Id: Iefa5b4311f1fe1a5da31cf527521c393f2face7c\n""}, {'number': 4, 'created': '2014-03-10 16:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf54c7e20948dfd9ddc240411620b73cd40abd31', 'message': ""Remove duplicate code from nova.db.sqlalchemy.utils\n\nThere is a lot of code in nova.db.sqlalchemy.utils which is also in\noslo-incubator's openstack.common.db.sqlalchemy.utils module so this\npatch goes through and cleans up Nova.\n\nNotable differences:\n\n1. modify_indexes was nova-only but no longer used after the migration\n   compaction work, so it's just removed here. It also didn't really\n   work for mysql in cases where the index name was too long so it\n   could be table-specific and therefore unusable in some mysql cases.\n   See commit 029ebab for history.\n2. create_shadow_table was not in oslo-incubator and it's also not\n   currently used in nova after the migration compaction, however,\n   I leave it here in case future migrations in Nova need to use it.\n   This patch does replace the usage of _get_not_supported_column in\n   create_shadow_table to use the same method from oslo's DB utils.\n3. DeleteFromSelect is still used within nova.db.api per\n   commit b36826e so we could move it to oslo-incubator but this\n   patch leaves it for now since it's only used in Nova.\n4. InsertFromSelect was introduced with commit 2e403b2 but now there\n   is a copy in oslo-incubator so we can remove our usage in nova.\n   However, oslo doesn't have the unit test that nova does, so the\n   unit test has been moved to oslo with change I457acf33.\n5. Oslo has is_backend_avail and get_connect_string methods so use\n   those in test_migrations.py while doing this update.\n\nCloses-Bug: #1280055\n\nChange-Id: Iefa5b4311f1fe1a5da31cf527521c393f2face7c\n""}, {'number': 5, 'created': '2014-04-12 02:33:27.000000000', 'files': ['nova/tests/db/test_migration_utils.py', 'nova/db/sqlalchemy/utils.py', 'nova/db/sqlalchemy/migrate_repo/versions/230_add_details_column_to_instance_actions_events.py', 'nova/tests/db/test_sqlalchemy_utils.py', 'nova/tests/db/test_migrations.py', 'nova/tests/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a8dd2487d95327b97ebf8e8b4a27420d1432fd4', 'message': ""Remove duplicate code from nova.db.sqlalchemy.utils\n\nThere is a lot of code in nova.db.sqlalchemy.utils which is also in\noslo-incubator's openstack.common.db.sqlalchemy.utils module so this\npatch goes through and cleans up Nova.\n\nNotable differences:\n\n1. modify_indexes was nova-only but no longer used after the migration\n   compaction work, so it's just removed here. It also didn't really\n   work for mysql in cases where the index name was too long so it\n   could be table-specific and therefore unusable in some mysql cases.\n   See commit 029ebab for history.\n2. create_shadow_table was not in oslo-incubator and it's also not\n   currently used in nova after the migration compaction, however,\n   I leave it here in case future migrations in Nova need to use it.\n   This patch does replace the usage of _get_not_supported_column in\n   create_shadow_table to use the same method from oslo's DB utils.\n3. DeleteFromSelect is still used within nova.db.api per\n   commit b36826e so we could move it to oslo-incubator but this\n   patch leaves it for now since it's only used in Nova.\n4. InsertFromSelect was introduced with commit 2e403b2 but now there\n   is a copy in oslo-incubator so we can remove our usage in nova.\n   However, oslo doesn't have the unit test that nova does, so the\n   unit test has been moved to oslo with change I457acf33.\n5. Oslo has is_backend_avail and get_connect_string methods so use\n   those in test_migrations.py while doing this update.\n\nCloses-Bug: #1280055\n\nChange-Id: Iefa5b4311f1fe1a5da31cf527521c393f2face7c\n""}]",7,79070,1a8dd2487d95327b97ebf8e8b4a27420d1432fd4,84,11,5,6873,,,0,"Remove duplicate code from nova.db.sqlalchemy.utils

There is a lot of code in nova.db.sqlalchemy.utils which is also in
oslo-incubator's openstack.common.db.sqlalchemy.utils module so this
patch goes through and cleans up Nova.

Notable differences:

1. modify_indexes was nova-only but no longer used after the migration
   compaction work, so it's just removed here. It also didn't really
   work for mysql in cases where the index name was too long so it
   could be table-specific and therefore unusable in some mysql cases.
   See commit 029ebab for history.
2. create_shadow_table was not in oslo-incubator and it's also not
   currently used in nova after the migration compaction, however,
   I leave it here in case future migrations in Nova need to use it.
   This patch does replace the usage of _get_not_supported_column in
   create_shadow_table to use the same method from oslo's DB utils.
3. DeleteFromSelect is still used within nova.db.api per
   commit b36826e so we could move it to oslo-incubator but this
   patch leaves it for now since it's only used in Nova.
4. InsertFromSelect was introduced with commit 2e403b2 but now there
   is a copy in oslo-incubator so we can remove our usage in nova.
   However, oslo doesn't have the unit test that nova does, so the
   unit test has been moved to oslo with change I457acf33.
5. Oslo has is_backend_avail and get_connect_string methods so use
   those in test_migrations.py while doing this update.

Closes-Bug: #1280055

Change-Id: Iefa5b4311f1fe1a5da31cf527521c393f2face7c
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/79070/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/utils.py', 'nova/tests/db/test_migration_utils.py', 'nova/db/sqlalchemy/migrate_repo/versions/230_add_details_column_to_instance_actions_events.py', 'nova/tests/db/test_sqlalchemy_utils.py', 'nova/tests/db/test_db_api.py', 'nova/tests/db/test_migrations.py', 'nova/db/sqlalchemy/api.py']",7,f2ee3acbf9ca507a0a4cc3d1b325c7691445811e,bug/1280055," insert_statement = sqlalchemyutils.InsertFromSelect( shadow_table, query_insert)"," insert_statement = db_utils.InsertFromSelect(shadow_table, query_insert)",65,1120
openstack%2Fceilometer~master~Iccbcd8046cca872e8eba472f48fa392114f34426,openstack/ceilometer,master,Iccbcd8046cca872e8eba472f48fa392114f34426,fix statistics query in postgres,MERGED,2014-04-09 17:09:54.000000000,2014-04-16 17:09:53.000000000,2014-04-16 17:09:52.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 7763}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-04-09 17:09:54.000000000', 'files': ['ceilometer/storage/impl_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/551bbbb0dff43d22d7cca7826af1b3ef5868168b', 'message': 'fix statistics query in postgres\n\nwhen aggregate functions present, postgres requires all\nnon-aggregate columns selected to be included in group by clause\nto ensure a single value is selected.\n\nChange-Id: Iccbcd8046cca872e8eba472f48fa392114f34426\nCloses-Bug: #1256318\n'}]",0,86399,551bbbb0dff43d22d7cca7826af1b3ef5868168b,12,5,1,6537,,,0,"fix statistics query in postgres

when aggregate functions present, postgres requires all
non-aggregate columns selected to be included in group by clause
to ensure a single value is selected.

Change-Id: Iccbcd8046cca872e8eba472f48fa392114f34426
Closes-Bug: #1256318
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/99/86399/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/storage/impl_sqlalchemy.py'],1,551bbbb0dff43d22d7cca7826af1b3ef5868168b,bug1256318, models.Meter.id == models.Sample.meter_id)\ .group_by(models.Meter.unit), models.Meter.id == models.Sample.meter_id),2,1
openstack%2Fmurano~master~I9ef5f367899a9bd9830a4437954f86ff6dd00958,openstack/murano,master,I9ef5f367899a9bd9830a4437954f86ff6dd00958,Replace 'applications' in deployments data with 'services',MERGED,2014-04-16 15:46:44.000000000,2014-04-16 17:08:09.000000000,2014-04-16 17:08:09.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7562}]","[{'number': 1, 'created': '2014-04-16 15:46:44.000000000', 'files': ['muranoapi/api/v1/deployments.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/d9f86d0b74bacfe1f38dba5058aa2d9d16421016', 'message': ""Replace 'applications' in deployments data with 'services'\n\nChange-Id: I9ef5f367899a9bd9830a4437954f86ff6dd00958\nPartial-Bug: #1304902\n""}]",0,88008,d9f86d0b74bacfe1f38dba5058aa2d9d16421016,7,4,1,8040,,,0,"Replace 'applications' in deployments data with 'services'

Change-Id: I9ef5f367899a9bd9830a4437954f86ff6dd00958
Partial-Bug: #1304902
",git fetch https://review.opendev.org/openstack/murano refs/changes/08/88008/1 && git format-patch -1 --stdout FETCH_HEAD,['muranoapi/api/v1/deployments.py'],1,d9f86d0b74bacfe1f38dba5058aa2d9d16421016,," deployment.description['services'] = deployment.description.get( 'applications', []) del deployment.description['applications']",,4,0
openstack%2Fsahara~master~I08a555f5af798a9d0fd108557d7e4b8b11d919ca,openstack/sahara,master,I08a555f5af798a9d0fd108557d7e4b8b11d919ca,Update Hadoop in Vanilla plugin to 2.4.0 version,ABANDONED,2014-04-16 16:30:24.000000000,2014-04-16 16:46:13.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-04-16 16:30:24.000000000', 'files': ['sahara/plugins/vanilla/v2_4_0/config.py', 'sahara/plugins/vanilla/v2_4_0/run_scripts.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/resources/yarn-report.txt', 'sahara/tests/integration/tests/resources/hadoop-mapreduce-examples-2.4.0.jar', 'sahara/plugins/vanilla/v2_4_0/resources/README.rst', 'sahara/plugins/vanilla/v2_4_0/oozie_helper.py', 'sahara/plugins/vanilla/v2_4_0/resources/yarn-default.xml', 'sahara/plugins/vanilla/v2_4_0/config_helper.py', 'sahara/tests/integration/configs/config.py', 'sahara/plugins/vanilla/v2_4_0/resources/core-default.xml', 'sahara/plugins/vanilla/v2_4_0/utils.py', 'sahara/plugins/vanilla/v2_4_0/resources/oozie-default.xml', 'sahara/plugins/vanilla/v2_4_0/resources/mapred-default.xml', 'sahara/plugins/vanilla/v2_4_0/validation.py', 'sahara/plugins/vanilla/v2_4_0/resources/create_oozie_db.sql', 'sahara/plugins/vanilla/v2_4_0/__init__.py', 'sahara/plugins/vanilla/v2_4_0/resources/topology.sh', 'sahara/tests/integration/tests/gating/test_vanilla_two_gating.py', 'sahara/tests/integration/tests/resources/hadoop-mapreduce-examples-2.3.0.jar', 'sahara/plugins/vanilla/v2_4_0/versionhandler.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/test_utils.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/resources/dfs-report.txt', 'sahara/plugins/vanilla/v2_4_0/resources/post_conf.template', 'sahara/tests/unit/plugins/vanilla/v2_4_0/__init__.py', 'sahara/plugins/vanilla/v2_4_0/resources/hdfs-default.xml', 'sahara/tests/unit/plugins/vanilla/v2_4_0/test_configs.py', 'sahara/plugins/vanilla/v2_4_0/scaling.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/test_validation.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/241cbd464d085a62047cd8ba058df17de324be71', 'message': 'Update Hadoop in Vanilla plugin to 2.4.0 version\n\n* Update default configs\n* Update hadoop-examples for integration tests\n* Update imports\n\nChange-Id: I08a555f5af798a9d0fd108557d7e4b8b11d919ca\n'}]",0,88020,241cbd464d085a62047cd8ba058df17de324be71,5,2,1,7710,,,0,"Update Hadoop in Vanilla plugin to 2.4.0 version

* Update default configs
* Update hadoop-examples for integration tests
* Update imports

Change-Id: I08a555f5af798a9d0fd108557d7e4b8b11d919ca
",git fetch https://review.opendev.org/openstack/sahara refs/changes/20/88020/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/vanilla/v2_4_0/config.py', 'sahara/plugins/vanilla/v2_4_0/run_scripts.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/resources/yarn-report.txt', 'sahara/tests/integration/tests/resources/hadoop-mapreduce-examples-2.4.0.jar', 'sahara/plugins/vanilla/v2_4_0/resources/README.rst', 'sahara/plugins/vanilla/v2_4_0/oozie_helper.py', 'sahara/plugins/vanilla/v2_4_0/resources/yarn-default.xml', 'sahara/plugins/vanilla/v2_4_0/config_helper.py', 'sahara/tests/integration/configs/config.py', 'sahara/plugins/vanilla/v2_4_0/resources/core-default.xml', 'sahara/plugins/vanilla/v2_4_0/utils.py', 'sahara/plugins/vanilla/v2_4_0/resources/oozie-default.xml', 'sahara/plugins/vanilla/v2_4_0/resources/mapred-default.xml', 'sahara/plugins/vanilla/v2_4_0/validation.py', 'sahara/plugins/vanilla/v2_4_0/resources/create_oozie_db.sql', 'sahara/plugins/vanilla/v2_4_0/__init__.py', 'sahara/plugins/vanilla/v2_4_0/resources/topology.sh', 'sahara/tests/integration/tests/gating/test_vanilla_two_gating.py', 'sahara/tests/integration/tests/resources/hadoop-mapreduce-examples-2.3.0.jar', 'sahara/plugins/vanilla/v2_4_0/versionhandler.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/test_utils.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/resources/dfs-report.txt', 'sahara/plugins/vanilla/v2_4_0/resources/post_conf.template', 'sahara/tests/unit/plugins/vanilla/v2_4_0/__init__.py', 'sahara/plugins/vanilla/v2_4_0/resources/hdfs-default.xml', 'sahara/tests/unit/plugins/vanilla/v2_4_0/test_configs.py', 'sahara/plugins/vanilla/v2_4_0/scaling.py', 'sahara/tests/unit/plugins/vanilla/v2_4_0/test_validation.py']",28,241cbd464d085a62047cd8ba058df17de324be71,hadoop-2.4.0," cl = tu.create_cluster(""cluster1"", ""tenant1"", ""vanilla"", ""2.4.0"", lst)"," cl = tu.create_cluster(""cluster1"", ""tenant1"", ""vanilla"", ""2.3.0"", lst)",548,70
openstack%2Fmurano~master~Iff4a2a77e93082ef7f3f3217358c1e8c9823f8be,openstack/murano,master,Iff4a2a77e93082ef7f3f3217358c1e8c9823f8be,Fix issue with hostname,MERGED,2014-04-16 04:59:18.000000000,2014-04-16 16:45:48.000000000,2014-04-16 16:45:48.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8443}]","[{'number': 1, 'created': '2014-04-16 04:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/19dcf7396819ec71762bd57a5e0d583e47d68ee1', 'message': 'Fix issue with hostname\n\nChange-Id: Iff4a2a77e93082ef7f3f3217358c1e8c9823f8be\n'}, {'number': 2, 'created': '2014-04-16 14:14:30.000000000', 'files': ['meta/io.murano.windows.ActiveDirectory/UI/ui.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/fe9a7eaa306f324559d658269c13ed5721002d43', 'message': 'Fix issue with hostname\n\nChange-Id: Iff4a2a77e93082ef7f3f3217358c1e8c9823f8be\n'}]",0,87852,fe9a7eaa306f324559d658269c13ed5721002d43,12,8,2,7225,,,0,"Fix issue with hostname

Change-Id: Iff4a2a77e93082ef7f3f3217358c1e8c9823f8be
",git fetch https://review.opendev.org/openstack/murano refs/changes/52/87852/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano.windows.ActiveDirectory/UI/ui.yaml'],1,19dcf7396819ec71762bd57a5e0d583e47d68ee1,bug/hostname-generation," name: generateHostname(interpolate($.serviceConfiguration.unitNamingPattern, 1)) name: generateHostname(interpolate($.serviceConfiguration.unitNamingPattern, $index + 1)) DNS server will be automatically set up on each of the Domain You can create several Active Directory instances by setting instance number larger than one. One primary Domain Controller Your password should have at least one letter in each register, a number and a special character. Password length should be Once you forget your password you won't be able to operate the service until recovery password would be entered. So it's in the same way. Enter a name and use # character for incrementation. For example, host# turns into host1, host2, etc. Please follow Windows Select registered in Openstack flavor. Consider that service performance Select valid image for a service. Image should already be prepared and"," name: interpolate($.serviceConfiguration.unitNamingPattern, 1) name: interpolate($.serviceConfiguration.unitNamingPattern, $index + 1) DNS server will be automatically set up on each of the Domain You can create several Active Directory instances by setting instance number larger than one. One primary Domain Controller Your password should have at least one letter in each register, a number and a special character. Password length should be Once you forget your password you won't be able to operate the service until recovery password would be entered. So it's in the same way. Enter a name and use # character for incrementation. For example, host# turns into host1, host2, etc. Please follow Windows Select registered in Openstack flavor. Consider that service performance Select valid image for a service. Image should already be prepared and ",14,14
openstack%2Fsolum~master~Icc8caf255c74de317d630c17fcf14a20498d2bdb,openstack/solum,master,Icc8caf255c74de317d630c17fcf14a20498d2bdb,Add a new Heat template when deploying Docker images,MERGED,2014-04-14 22:43:42.000000000,2014-04-16 16:18:31.000000000,2014-04-16 16:18:31.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 7858}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-04-14 22:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/5d5e4754a69b4459a5a46257828d3582d19b9d1e', 'message': ""don't use neutron by default in heat template.\n\nFixes bug 1307703\n\nChange-Id: Icc8caf255c74de317d630c17fcf14a20498d2bdb\n""}, {'number': 2, 'created': '2014-04-15 16:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/b911705bacb6c6610b4a98e78dd5a3548bab0532', 'message': ""don't use neutron by default in heat template.\n\ncommented out neutron portions of the code until\nneutron is supported by docker driver.\n\nFixes bug 1307703\n\nChange-Id: Icc8caf255c74de317d630c17fcf14a20498d2bdb\n""}, {'number': 3, 'created': '2014-04-16 13:50:56.000000000', 'files': ['solum/tests/deployer/handlers/test_heat.py', 'solum/deployer/handlers/heat.py', 'etc/solum/templates/basic_for_docker.yaml'], 'web_link': 'https://opendev.org/openstack/solum/commit/e30e0e31f379567dc7fe7a681b75f44dec8a309b', 'message': 'Add a new Heat template when deploying Docker images\n\nThis template is used when image_format is set to ""docker""\n\nFixes bug 1307703\n\nChange-Id: Icc8caf255c74de317d630c17fcf14a20498d2bdb\n'}]",0,87401,e30e0e31f379567dc7fe7a681b75f44dec8a309b,18,5,3,7858,,,0,"Add a new Heat template when deploying Docker images

This template is used when image_format is set to ""docker""

Fixes bug 1307703

Change-Id: Icc8caf255c74de317d630c17fcf14a20498d2bdb
",git fetch https://review.opendev.org/openstack/solum refs/changes/01/87401/2 && git format-patch -1 --stdout FETCH_HEAD,"['solum/deployer/handlers/heat.py', 'etc/solum/templates/neutron.yaml', 'etc/solum/templates/basic.yaml', 'doc/source/getting_started/index.rst']",4,5d5e4754a69b4459a5a46257828d3582d19b9d1e,bug/1307703,"In addition to Solum, your environment will also need Devstack to configure and run the requisite Openstack components, including Keystone, Glance, Nova, and Heat.","In addition to Solum, your environment will also need Devstack to configure and run the requisite Openstack components, including Keystone, Glance, Nova, Neutron, and Heat.Some additional configuration will be needed for Neutron, see `Neutron's Wiki page for Devstack`__ __ https://wiki.openstack.org/wiki/NeutronDevstack ",102,34
openstack%2Fopenstack-manuals~master~Iae65b2a5807d6659216dbd5c4939aed5923d77dc,openstack/openstack-manuals,master,Iae65b2a5807d6659216dbd5c4939aed5923d77dc,Use a $ prompt for keystone commands,MERGED,2014-04-16 14:31:07.000000000,2014-04-16 16:16:24.000000000,2014-04-16 16:16:23.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-16 14:31:07.000000000', 'files': ['doc/install-guide/section_cinder-controller.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/859592a0a54fb71bae6831e15b6085a91768dc9d', 'message': 'Use a $ prompt for keystone commands\n\nChange-Id: Iae65b2a5807d6659216dbd5c4939aed5923d77dc\n'}]",0,87981,859592a0a54fb71bae6831e15b6085a91768dc9d,7,3,1,7923,,,0,"Use a $ prompt for keystone commands

Change-Id: Iae65b2a5807d6659216dbd5c4939aed5923d77dc
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/81/87981/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_cinder-controller.xml'],1,859592a0a54fb71bae6831e15b6085a91768dc9d,cinder-prompt, <screen><prompt>$</prompt> <userinput>keystone user-create --name=cinder --pass=<replaceable>CINDER_PASS</replaceable> --email=<replaceable>cinder@example.com</replaceable></userinput> <prompt>$</prompt> <userinput>keystone user-role-add --user=cinder --tenant=service --role=admin</userinput></screen>, <screen><prompt>#</prompt> <userinput>keystone user-create --name=cinder --pass=<replaceable>CINDER_PASS</replaceable> --email=<replaceable>cinder@example.com</replaceable></userinput> <prompt>#</prompt> <userinput>keystone user-role-add --user=cinder --tenant=service --role=admin</userinput></screen>,2,2
openstack%2Ffuel-library~master~I22a3ab9092a5ff3dedb6cd000f1d323e14e8f2b9,openstack/fuel-library,master,I22a3ab9092a5ff3dedb6cd000f1d323e14e8f2b9,Docker container support for rsyslog,MERGED,2014-04-01 11:42:06.000000000,2014-04-16 16:04:25.000000000,2014-04-16 16:04:24.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-04-01 11:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d6f018f710958e555e188c7a4d4acb7805a26ee1', 'message': 'Docker container support for rsyslog\n\nSince we\'re going to run ""rsyslogd"" for remote logging in a\ncontainer, we don\'t need ""rsyslogd"" to configure TCP/UDP listeners\non a host system.\n\nChange-Id: I22a3ab9092a5ff3dedb6cd000f1d323e14e8f2b9\n'}, {'number': 2, 'created': '2014-04-14 08:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5005a0369a152d0c4c83973de54fbdb9f95cc1b0', 'message': 'Docker container support for rsyslog\n\nSince we\'re going to run ""rsyslogd"" for remote logging in a\ncontainer, we don\'t need ""rsyslogd"" to configure TCP/UDP listeners\non a host system.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I22a3ab9092a5ff3dedb6cd000f1d323e14e8f2b9\n'}, {'number': 3, 'created': '2014-04-16 14:14:24.000000000', 'files': ['deployment/puppet/nailgun/examples/rsyslog-only.pp', 'deployment/puppet/openstack/manifests/logging.pp', 'deployment/puppet/nailgun/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5bf3aec615e007c57b73c44705313e0a49041808', 'message': 'Docker container support for rsyslog\n\nSince we\'re going to run ""rsyslogd"" for remote logging in a\ncontainer, we don\'t need ""rsyslogd"" to configure TCP/UDP listeners\non a host system.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I22a3ab9092a5ff3dedb6cd000f1d323e14e8f2b9\n'}]",0,84415,5bf3aec615e007c57b73c44705313e0a49041808,31,8,3,9387,,,0,"Docker container support for rsyslog

Since we're going to run ""rsyslogd"" for remote logging in a
container, we don't need ""rsyslogd"" to configure TCP/UDP listeners
on a host system.

blueprint fuel-containerization-of-services

Change-Id: I22a3ab9092a5ff3dedb6cd000f1d323e14e8f2b9
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/15/84415/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/logging.pp', 'deployment/puppet/nailgun/manifests/init.pp']",2,d6f018f710958e555e188c7a4d4acb7805a26ee1,bp/fuel-containerization-of-services," production => $production,",,29,18
openstack%2Fopenstack-planet~master~I80627a158d2e74a6ead2314f7df4b8b920a12d04,openstack/openstack-planet,master,I80627a158d2e74a6ead2314f7df4b8b920a12d04,Updated the ICCLab blog URL,MERGED,2014-04-16 15:25:22.000000000,2014-04-16 15:54:36.000000000,2014-04-16 15:54:36.000000000,"[{'_account_id': 3}, {'_account_id': 287}]","[{'number': 1, 'created': '2014-04-16 15:25:22.000000000', 'files': ['planet.ini'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/e2a09bb113f2cfe242c2c3d73809d187980d4180', 'message': 'Updated the ICCLab blog URL\n\nChange-Id: I80627a158d2e74a6ead2314f7df4b8b920a12d04\n'}]",0,87999,e2a09bb113f2cfe242c2c3d73809d187980d4180,6,2,1,438,,,0,"Updated the ICCLab blog URL

Change-Id: I80627a158d2e74a6ead2314f7df4b8b920a12d04
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/99/87999/1 && git format-patch -1 --stdout FETCH_HEAD,['planet.ini'],1,e2a09bb113f2cfe242c2c3d73809d187980d4180,,[http://blog.zhaw.ch/icclab/category/articles/openstack-2/feed/],[http://www.cloudcomp.ch/category/openstack-2/feed/],1,1
openstack%2Ffuel-web~master~I81ac8150d07fcf11c745159c42c6c2fa57d64b33,openstack/fuel-web,master,I81ac8150d07fcf11c745159c42c6c2fa57d64b33,Fix os vg allocation on ubuntu,MERGED,2014-04-14 14:53:07.000000000,2014-04-16 15:44:45.000000000,2014-04-16 15:44:45.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8797}, {'_account_id': 8829}, {'_account_id': 8839}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-14 14:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c1bb5bdce797b35e76f065901ea6209ed94c522f', 'message': 'Fix os vg allocation on ubuntu\n\nUbuntu cant allocate more than one disk for os vg\n\nIn order not to introduce a lot of low quality fixes to volume manager,\nrevert os allocation on controller nodes to min size\n\nThis patch reopens: https://bugs.launchpad.net/fuel/+bug/1295717\n\nChange-Id: I81ac8150d07fcf11c745159c42c6c2fa57d64b33\nCloses-Bug: #1295717\n'}, {'number': 2, 'created': '2014-04-14 15:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/59bce7c1a328945fe643704d8fd8904a2adbe46a', 'message': 'Fix os vg allocation on ubuntu\n\nUbuntu cant allocate more than one disk for os vg\n\nIn order not to introduce a lot of low quality fixes to volume manager,\nrevert os allocation on controller nodes to min size\n\nThis patch reopens: https://bugs.launchpad.net/fuel/+bug/1295717\n\nChange-Id: I81ac8150d07fcf11c745159c42c6c2fa57d64b33\nCloses-Bug: #1295717\n'}, {'number': 3, 'created': '2014-04-14 15:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/70570018e46054c823ad21261668c66bf5c391f2', 'message': 'Fix os vg allocation on ubuntu\n\nUbuntu cant allocate more than one disk for os vg\n\nIn order not to introduce a lot of low quality fixes to volume manager,\nrevert os allocation on controller nodes to min size\n\nThis patch reopens: https://bugs.launchpad.net/fuel/+bug/1295717\n\nChange-Id: I81ac8150d07fcf11c745159c42c6c2fa57d64b33\nCloses-Bug: #1306625\n'}, {'number': 4, 'created': '2014-04-16 14:45:54.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/volumes/manager.py', 'nailgun/nailgun/test/integration/test_volume_manager.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/26589df69433a640f827ffc13061c2c809b29d66', 'message': 'Fix os vg allocation on ubuntu\n\nUbuntu cant allocate more than one disk for os vg\n\nIn order not to introduce a lot of low quality fixes to volume manager,\nrevert os allocation on controller nodes to min size\n\nThis patch reopens: https://bugs.launchpad.net/fuel/+bug/1295717\n\nChange-Id: I81ac8150d07fcf11c745159c42c6c2fa57d64b33\nCloses-Bug: #1306625\n'}]",0,87284,26589df69433a640f827ffc13061c2c809b29d66,46,12,4,8907,,,0,"Fix os vg allocation on ubuntu

Ubuntu cant allocate more than one disk for os vg

In order not to introduce a lot of low quality fixes to volume manager,
revert os allocation on controller nodes to min size

This patch reopens: https://bugs.launchpad.net/fuel/+bug/1295717

Change-Id: I81ac8150d07fcf11c745159c42c6c2fa57d64b33
Closes-Bug: #1306625
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/84/87284/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/volumes/manager.py', 'nailgun/nailgun/test/integration/test_volume_manager.py']",3,c1bb5bdce797b35e76f065901ea6209ed94c522f,bug/1306625,," def test_all_space_allocated(self): """"""Verifies that all space allocated for single volume """""" cluster = self.env.create( nodes_kwargs=[ {'roles': ['controller']}, {'roles': ['ceph-osd']}]) self.app.patch( reverse( 'ClusterAttributesHandler', kwargs={'cluster_id': cluster['id']}), params=json.dumps({ 'editable': {'storage': {'images_ceph': {'value': True}}}}), headers=self.default_headers) controller_manager = self.env.nodes[0].volume_manager volumes = controller_manager.gen_volumes_info() os_volume = next(volume for volume in volumes if volume['id'] == 'os') os_volume_size = sum(volume['size'] for volume in os_volume['volumes']) total_size = sum(disk.size for disk in controller_manager.disks) self.assertEqual(manager.byte_to_megabyte(os_volume_size), manager.byte_to_megabyte(total_size)) ",4,34
openstack%2Ftripleo-incubator~master~Ibd729fa80aa68f002a55073e57ba3b7f770700b4,openstack/tripleo-incubator,master,Ibd729fa80aa68f002a55073e57ba3b7f770700b4,Make it possible to just build images.,MERGED,2014-04-04 02:54:19.000000000,2014-04-16 15:42:34.000000000,2014-04-16 15:42:34.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 1921}, {'_account_id': 4190}, {'_account_id': 6153}, {'_account_id': 6449}, {'_account_id': 6928}, {'_account_id': 6969}, {'_account_id': 7144}, {'_account_id': 8399}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-04-04 02:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/9acb7130e7e3e670571a37de47327f7b153aee0c', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 2, 'created': '2014-04-04 03:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/9142d95b2672bb3424570f3d2b660b8147a60c16', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 3, 'created': '2014-04-04 10:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/907965da111a3364a35071e6c02762c434369226', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 4, 'created': '2014-04-04 16:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c4dfcb5f04d336310aceadea6679574deb7180ed', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 5, 'created': '2014-04-04 17:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/1e5311a8a57abb74032a90454ec6de4881b74485', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 6, 'created': '2014-04-05 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/62181d9ccefe8a369f42c804b67160c907211254', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 7, 'created': '2014-04-06 21:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/30baa04ff27ab1fe9737ae80288dc6d06d76304b', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 8, 'created': '2014-04-07 05:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/1c2b43460d086b8246ec724dfe331f944e2c7ef1', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 9, 'created': '2014-04-08 05:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/562bcd5be42d1d8d6d0a667f4775e0fd8eda72fc', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 10, 'created': '2014-04-10 04:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/044a8dedb792adf27d01ff89d9839b5e8092f3d9', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 11, 'created': '2014-04-10 13:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/3b71a5472a88938c188ac90e15f46927465cff85', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 12, 'created': '2014-04-11 02:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/fe6d5a956ad85c5acc0c71574867b7d7f730e025', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 13, 'created': '2014-04-14 11:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c388b7db5eabeb42e6670a8b4b80e502f701c198', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}, {'number': 14, 'created': '2014-04-15 23:02:30.000000000', 'files': ['scripts/devtest_seed.sh', 'scripts/devtest_undercloud.sh', 'scripts/devtest_overcloud.sh', 'scripts/boot-seed-vm', 'scripts/devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/cda50d15f17679dee3f62ac127302a33e89327a1', 'message': 'Make it possible to just build images.\n\nThere are a couple of very interesting build-only use cases. One is\nbuilding in a permissive environment in order to deploy in a hostile\none. Another is to build images as a separate CI job to minimise the\noverall work done by the CI system.\n\nChange-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4\n'}]",55,85222,cda50d15f17679dee3f62ac127302a33e89327a1,102,13,14,4190,,,0,"Make it possible to just build images.

There are a couple of very interesting build-only use cases. One is
building in a permissive environment in order to deploy in a hostile
one. Another is to build images as a separate CI job to minimise the
overall work done by the CI system.

Change-Id: Ibd729fa80aa68f002a55073e57ba3b7f770700b4
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/22/85222/6 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/devtest_seed.sh', 'scripts/devtest_undercloud.sh', 'scripts/devtest_overcloud.sh', 'scripts/boot-seed-vm', 'scripts/devtest.sh']",5,9acb7130e7e3e670571a37de47327f7b153aee0c,get_images," echo "" --build-only -- Builds images but doesn't attempt to run them.""BUILD_ONLY=TEMP=$(getopt -o h,c -l build-only,existing-environment,trash-my-machine,nodes: -n $SCRIPT_NAME -- ""$@"") --build-only) BUILD_ONLY=--build-only; shift 1;;devtest_testenv.sh $TE_DATAFILE $NODES_ARG $BUILD_ONLYdevtest_seed.sh $BUILD_ONLYdevtest_undercloud.sh $TE_DATAFILE $BUILD_ONLYdevtest_overcloud.sh $BUILD_ONLY","TEMP=$(getopt -o h,c -l existing-environment,trash-my-machine,nodes: -n $SCRIPT_NAME -- ""$@"")devtest_testenv.sh $TE_DATAFILE $NODES_ARGdevtest_seed.shdevtest_undercloud.sh $TE_DATAFILEdevtest_overcloud.sh",74,30
openstack%2Fmurano~master~I1ae5ec1e5d21ec7117125878bdfd9ae752f6542f,openstack/murano,master,I1ae5ec1e5d21ec7117125878bdfd9ae752f6542f,Setup doc build infrastructure,MERGED,2014-04-16 12:23:18.000000000,2014-04-16 15:40:09.000000000,2014-04-16 15:40:09.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 8040}]","[{'number': 1, 'created': '2014-04-16 12:23:18.000000000', 'files': ['doc/source/_theme/theme.conf', 'doc/source/_static/.placeholder', 'doc/source/_templates/.placeholder', 'doc/source/conf.py', 'doc/source/man/muranoapi.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/dbd2ac5892df80b8361588681cac9c429109241b', 'message': ""Setup doc build infrastructure\n\n* Added new tox command: tox -e docs\n* Simplified sphinx config file\n* Removed theme configs. We're going to use default theme from readthedocs\n\nPartially implements blueprint: murano-dev-doc-05\n\nChange-Id: I1ae5ec1e5d21ec7117125878bdfd9ae752f6542f\n""}]",0,87950,dbd2ac5892df80b8361588681cac9c429109241b,7,4,1,7600,,,0,"Setup doc build infrastructure

* Added new tox command: tox -e docs
* Simplified sphinx config file
* Removed theme configs. We're going to use default theme from readthedocs

Partially implements blueprint: murano-dev-doc-05

Change-Id: I1ae5ec1e5d21ec7117125878bdfd9ae752f6542f
",git fetch https://review.opendev.org/openstack/murano refs/changes/50/87950/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_theme/theme.conf', 'doc/source/_static/.placeholder', 'doc/source/_templates/.placeholder', 'doc/source/conf.py', 'doc/source/man/muranoapi.rst', 'tox.ini']",6,dbd2ac5892df80b8361588681cac9c429109241b,bp/murano-dev-doc-05,[testenv:docs] commands = rm -rf doc/html doc/build rm -rf doc/source/apidoc doc/source/api python setup.py build_sphinx ,,56,221
openstack%2Fbarbican~master~I23b508a88f666009f77a3c021e2600a279068e4b,openstack/barbican,master,I23b508a88f666009f77a3c021e2600a279068e4b,Support for debug mode start in barbican,MERGED,2014-03-22 00:50:36.000000000,2014-04-16 15:39:50.000000000,2014-04-16 15:39:50.000000000,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 1091}, {'_account_id': 1528}, {'_account_id': 7063}, {'_account_id': 7136}, {'_account_id': 7355}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 9234}, {'_account_id': 9719}]","[{'number': 1, 'created': '2014-03-22 00:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/52dc889a984cf1a275db2f963ffd597926d7a141', 'message': 'Support for debug mode start in barbican\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 2, 'created': '2014-03-22 01:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f9b554404e9da0359a34f8471767b5c6d55bd879', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 3, 'created': '2014-03-22 01:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/596213562fb998a9d4c669f201bcd40cbcb8d41b', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 4, 'created': '2014-03-22 01:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/04282dabbcc570555cfab8d81a248e5bd2d7be7c', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 5, 'created': '2014-03-22 01:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6434f37e80ed3171c4ac214995c3b076abda3d83', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 6, 'created': '2014-03-22 01:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b3333f8d12a7b64fbbb0ebeb9aa4d4463b4d571a', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 7, 'created': '2014-03-22 20:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/42361bc4234ee0ef02b2767a8507e9a384de53b7', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 8, 'created': '2014-03-22 20:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f2dd2c90f43e1b17ca82691317056848dd7f2fcb', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 9, 'created': '2014-03-22 20:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/887cf2b75a9c9d6c720dd6c45ed9c2685337f707', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 10, 'created': '2014-03-24 15:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0ca970c2a042124673426b9ce2873dc130c6c044', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 11, 'created': '2014-03-24 18:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bdd28859b173bed3d863cac98dbe04b89691b46b', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 12, 'created': '2014-03-24 19:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/12d3aa811eacb51808b030fdd7e467b5e8aceeea', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 13, 'created': '2014-03-26 17:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c05f8c3f3bb002280f922b7448928866c1d0f50c', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 14, 'created': '2014-03-26 18:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b215d6fdad94441b7e5e4c003e934a8c87f44fa9', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 15, 'created': '2014-03-27 16:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9ab24cbabc81bbd616e4def9eb871bfac5be0ecb', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 16, 'created': '2014-04-03 16:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4067bd92449227d3a6400392852ee706924ab59f', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 17, 'created': '2014-04-08 22:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d45d49ae5181fce01b8d22e70c0c270e68348abf', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 18, 'created': '2014-04-09 16:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3fb6290b15efb6d43a59ff83e3fabd475f6d2eb5', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 19, 'created': '2014-04-09 19:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/64b4bfd19d050c9a5adbf83c00d12a8c6bb749a8', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}, {'number': 20, 'created': '2014-04-14 15:53:35.000000000', 'files': ['bin/barbican.sh', 'barbican/api/app.py', 'barbican/common/config.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/177d4499af6b261f48814503e3565f433e86cc66', 'message': 'Support for debug mode start in barbican\n\nCloses-Bug: #1295903\n\nChange-Id: I23b508a88f666009f77a3c021e2600a279068e4b\n'}]",31,82265,177d4499af6b261f48814503e3565f433e86cc66,114,11,20,994,,,0,"Support for debug mode start in barbican

Closes-Bug: #1295903

Change-Id: I23b508a88f666009f77a3c021e2600a279068e4b
",git fetch https://review.opendev.org/openstack/barbican refs/changes/65/82265/15 && git format-patch -1 --stdout FETCH_HEAD,"['bin/barbican.sh', 'barbican/api/app.py', 'barbican/common/config.py']",3,52dc889a984cf1a275db2f963ffd597926d7a141,debug-support," if os.environ['PYDEV_DEBUG_HOST'] \ and os.environ['PYDEV_DEBUG_PORT']: CONF.pydev_debug_host=os.environ['PYDEV_DEBUG_HOST'] CONF.pydev_debug_port=os.environ['PYDEV_DEBUG_PORT'] def setup_remote_pydev_debug(): """"""Required setup for remote debugging"""""" if CONF.pydev_debug_host and CONF.pydev_debug_host: try: try: from pydev import pydevd except ImportError: import pydevd pydevd.settrace(CONF.pydev_debug_host, port=int(CONF.pydev_debug_port), stdoutToServer=True, stderrToServer=True) except Exception: raise",,60,2
openstack%2Fopenstack-manuals~master~Icc5cc5a84ecfc279f3e00604f76601b3d995bed6,openstack/openstack-manuals,master,Icc5cc5a84ecfc279f3e00604f76601b3d995bed6,Correct sample output of keystone user-role-list,MERGED,2014-04-16 14:45:42.000000000,2014-04-16 15:35:05.000000000,2014-04-16 15:35:04.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-16 14:45:42.000000000', 'files': ['doc/install-guide/section_keystone-verify.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2f5604f87602ccbc51165b68c9ed58ffb7a1e965', 'message': 'Correct sample output of keystone user-role-list\n\nThe sample output of keystone user-role-list should keep the user-id\nas same as previous output of keystone user-list, otherwise it will\nbe a bit confused for readers.\n\nChange-Id: Icc5cc5a84ecfc279f3e00604f76601b3d995bed6\nCloses-Bug: #1308501\n'}]",0,87986,2f5604f87602ccbc51165b68c9ed58ffb7a1e965,7,3,1,6676,,,0,"Correct sample output of keystone user-role-list

The sample output of keystone user-role-list should keep the user-id
as same as previous output of keystone user-list, otherwise it will
be a bit confused for readers.

Change-Id: Icc5cc5a84ecfc279f3e00604f76601b3d995bed6
Closes-Bug: #1308501
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/87986/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_keystone-verify.xml'],1,2f5604f87602ccbc51165b68c9ed58ffb7a1e965,bug/1308501,| 9fe2ff9ee4384b1894a90878d3e92bab | _member_ | afea5bde3be9413dbd60e479fddf9228 | e519b772cb43474582fa303da62559e5 | | 5d3b60b66f1f438b80eaae41a77b5951 | admin | afea5bde3be9413dbd60e479fddf9228 | e519b772cb43474582fa303da62559e5 |,| 9fe2ff9ee4384b1894a90878d3e92bab | _member_ | a4c2d43f80a549a19864c89d759bb3fe | e519b772cb43474582fa303da62559e5 | | 5d3b60b66f1f438b80eaae41a77b5951 | admin | a4c2d43f80a549a19864c89d759bb3fe | e519b772cb43474582fa303da62559e5 |,2,2
openstack%2Fpython-cinderclient~master~I2a9d0fe00b7c9d0f78d2a34f13aa1fcff6246595,openstack/python-cinderclient,master,I2a9d0fe00b7c9d0f78d2a34f13aa1fcff6246595,Fix misnamed test_service_disable test case,ABANDONED,2014-02-28 16:31:57.000000000,2014-04-16 15:30:29.000000000,,"[{'_account_id': 3}, {'_account_id': 6802}, {'_account_id': 7236}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-02-28 16:31:57.000000000', 'files': ['cinderclient/tests/v1/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5a0d7c02241091730f51c72ccd2f1ea1c983169e', 'message': 'Fix misnamed test_service_disable test case\n\nThis change addresses bug #1278572, where two test cases in the v1\ntest_shell test suite have the same name, test_service_disable. One\nof these tests actually tests service enabling. This fix renames this\ntest to the correct method name, test_service_enable.\n\nChange-Id: I2a9d0fe00b7c9d0f78d2a34f13aa1fcff6246595\nCloses-Bug: #1278572\n'}]",0,77216,5a0d7c02241091730f51c72ccd2f1ea1c983169e,11,4,1,7764,,,0,"Fix misnamed test_service_disable test case

This change addresses bug #1278572, where two test cases in the v1
test_shell test suite have the same name, test_service_disable. One
of these tests actually tests service enabling. This fix renames this
test to the correct method name, test_service_enable.

Change-Id: I2a9d0fe00b7c9d0f78d2a34f13aa1fcff6246595
Closes-Bug: #1278572
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/16/77216/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/tests/v1/test_shell.py'],1,5a0d7c02241091730f51c72ccd2f1ea1c983169e,bug/1278572, def test_service_enable(self):, def test_service_disable(self):,1,1
openstack%2Fpuppet-cinder~stable%2Fhavana~I1592d0b09587fd27a054bbbf32f9b1d30cbb8715,openstack/puppet-cinder,stable/havana,I1592d0b09587fd27a054bbbf32f9b1d30cbb8715,Release 3.1.1,MERGED,2014-04-15 21:14:18.000000000,2014-04-16 15:26:13.000000000,2014-04-16 15:26:13.000000000,"[{'_account_id': 3}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-15 21:14:18.000000000', 'files': ['Modulefile', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/224a85b7d1909daa823de5979d2364df0949f9c6', 'message': 'Release 3.1.1\n\nUpdated Modulefile and README.md for bugfix release.\n\nChange-Id: I1592d0b09587fd27a054bbbf32f9b1d30cbb8715\n'}]",0,87787,224a85b7d1909daa823de5979d2364df0949f9c6,6,2,1,7822,,,0,"Release 3.1.1

Updated Modulefile and README.md for bugfix release.

Change-Id: I1592d0b09587fd27a054bbbf32f9b1d30cbb8715
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/87/87787/1 && git format-patch -1 --stdout FETCH_HEAD,"['Modulefile', 'README.md']",2,224a85b7d1909daa823de5979d2364df0949f9c6,release_3.1.1,**3.1.1** * Fixed resource duplication bug. ,,5,1
openstack%2Fpuppet-keystone~stable%2Fhavana~I12dc5fbaaf0d705568449a6297205c47c694d0d5,openstack/puppet-keystone,stable/havana,I12dc5fbaaf0d705568449a6297205c47c694d0d5,Release 3.2.0,MERGED,2014-04-15 21:18:26.000000000,2014-04-16 15:25:37.000000000,2014-04-16 15:25:37.000000000,"[{'_account_id': 3}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-15 21:18:26.000000000', 'files': ['Modulefile', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d7420ba56ff2b604d7a692d5cce4dfdde3cdef66', 'message': 'Release 3.2.0\n\nBugfix and new feature release.\n\nChange-Id: I12dc5fbaaf0d705568449a6297205c47c694d0d5\n'}]",0,87788,d7420ba56ff2b604d7a692d5cce4dfdde3cdef66,6,2,1,7822,,,0,"Release 3.2.0

Bugfix and new feature release.

Change-Id: I12dc5fbaaf0d705568449a6297205c47c694d0d5
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/88/87788/1 && git format-patch -1 --stdout FETCH_HEAD,"['Modulefile', 'README.md']",2,d7420ba56ff2b604d7a692d5cce4dfdde3cdef66,release_3.2.0,**3.2.0** * Added ability to configure any catalog driver. * Ensures log_file is absent when using syslog. ,,6,1
openstack%2Fpuppet-nova~stable%2Fhavana~I481c4c9bcfa7edd5b4650d624dc58e9a1deb602f,openstack/puppet-nova,stable/havana,I481c4c9bcfa7edd5b4650d624dc58e9a1deb602f,Release 3.2.1,MERGED,2014-04-15 22:49:51.000000000,2014-04-16 15:24:49.000000000,2014-04-16 15:24:48.000000000,"[{'_account_id': 3}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-15 22:49:51.000000000', 'files': ['Modulefile', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9f098b6f542d085e8f585202ce87d488587c0ecb', 'message': 'Release 3.2.1\n\nBug fix release 3.2.1\n\nChange-Id: I481c4c9bcfa7edd5b4650d624dc58e9a1deb602f\n'}]",0,87808,9f098b6f542d085e8f585202ce87d488587c0ecb,6,2,1,7822,,,0,"Release 3.2.1

Bug fix release 3.2.1

Change-Id: I481c4c9bcfa7edd5b4650d624dc58e9a1deb602f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/08/87808/1 && git format-patch -1 --stdout FETCH_HEAD,"['Modulefile', 'README.md']",2,9f098b6f542d085e8f585202ce87d488587c0ecb,release_3.2.1,**3.2.1** * Fixed consoleauth/spice resource duplication on Red Hat systems. ,,5,1
openstack%2Fpuppet-neutron~stable%2Fhavana~Ibb710bf312e1fbb114e182b92690118628b0571f,openstack/puppet-neutron,stable/havana,Ibb710bf312e1fbb114e182b92690118628b0571f,Release 3.3.0,MERGED,2014-04-15 21:22:40.000000000,2014-04-16 15:24:48.000000000,2014-04-16 15:24:48.000000000,"[{'_account_id': 3}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-04-15 21:22:40.000000000', 'files': ['Modulefile', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2162d951b2db19945a590a8af0e01625f6e7c012', 'message': 'Release 3.3.0\n\nFeature and bug fix release.\n\nChange-Id: Ibb710bf312e1fbb114e182b92690118628b0571f\n'}]",0,87789,2162d951b2db19945a590a8af0e01625f6e7c012,6,2,1,7822,,,0,"Release 3.3.0

Feature and bug fix release.

Change-Id: Ibb710bf312e1fbb114e182b92690118628b0571f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/89/87789/1 && git format-patch -1 --stdout FETCH_HEAD,"['Modulefile', 'README.md']",2,2162d951b2db19945a590a8af0e01625f6e7c012,release_3.3.0,**3.3.0** * Added neutron_port resource. * Added external network bridge for vpn agent. * Changed dhcp_lease_duration to Havana default of 86400 * Fixed VPNaaS installation for Red Hat systems. * Fixed conflicting symlink. * Fixed network_vlan_ranges parameter for OVS plugin ,,10,1
openstack%2Fdesignate~master~I2584a6ee7af67c82c9ee6bed9386959474beadf0,openstack/designate,master,I2584a6ee7af67c82c9ee6bed9386959474beadf0,Remove leftover bin/* files,MERGED,2014-04-15 21:29:34.000000000,2014-04-16 15:20:41.000000000,2014-04-16 15:20:41.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 10240}]","[{'number': 2, 'created': '2014-04-15 21:29:34.000000000', 'files': ['bin/designate-rootwrap', 'bin/designate-rpc-zmq-receiver', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/02250b40959d51bc60eea4606d237321bc25231f', 'message': 'Remove leftover bin/* files\n\nThese files should have been removed as part of the oslo.rootwrap\nand oslo.messaging migrations.\n\nChange-Id: I2584a6ee7af67c82c9ee6bed9386959474beadf0\n'}, {'number': 1, 'created': '2014-04-15 21:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e5e04e65ce17ba28fb7f8fdbb1085c533b9a00c5', 'message': 'Remove leftover bin/* files\n\nThese files should have been removed as part of the oslo.rootwrap\nand oslo.messaging migrations.\n\nChange-Id: I2584a6ee7af67c82c9ee6bed9386959474beadf0\n'}]",0,87792,02250b40959d51bc60eea4606d237321bc25231f,17,4,2,741,,,0,"Remove leftover bin/* files

These files should have been removed as part of the oslo.rootwrap
and oslo.messaging migrations.

Change-Id: I2584a6ee7af67c82c9ee6bed9386959474beadf0
",git fetch https://review.opendev.org/openstack/designate refs/changes/92/87792/2 && git format-patch -1 --stdout FETCH_HEAD,"['bin/designate-rootwrap', 'bin/designate-rpc-zmq-receiver', 'setup.cfg']",3,02250b40959d51bc60eea4606d237321bc25231f,,,scripts = bin/designate-rpc-zmq-receiver,0,183
openstack%2Ftripleo-incubator~master~I1e33af0cb78fa9477bc5a0b9b89b06b907b81fae,openstack/tripleo-incubator,master,I1e33af0cb78fa9477bc5a0b9b89b06b907b81fae,Add cinder-tgt element to overcloud create command,MERGED,2014-03-05 23:55:35.000000000,2014-04-16 15:14:06.000000000,2014-04-16 15:14:05.000000000,"[{'_account_id': 3}, {'_account_id': 6488}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8532}]","[{'number': 1, 'created': '2014-03-05 23:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/5cd57a395da15016dca27f7b1b3901a8e104bfe5', 'message': 'Add cinder-tgt element to overcloud create command\n\nThe tgt setup steps have been moved to a separate element, so it\nwill need to be included for cinder to work properly.\n\nChange-Id: I1e33af0cb78fa9477bc5a0b9b89b06b907b81fae\n'}, {'number': 2, 'created': '2014-03-20 15:54:27.000000000', 'files': ['scripts/devtest_overcloud.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/61b93153308ce8db756e3f4e08afae7a9f5b9446', 'message': 'Add cinder-tgt element to overcloud create command\n\nThe tgt setup steps have been moved to a separate element, so it\nwill need to be included for cinder to work properly.\n\nChange-Id: I1e33af0cb78fa9477bc5a0b9b89b06b907b81fae\n'}]",1,78464,61b93153308ce8db756e3f4e08afae7a9f5b9446,43,5,2,6928,,,0,"Add cinder-tgt element to overcloud create command

The tgt setup steps have been moved to a separate element, so it
will need to be included for cinder to work properly.

Change-Id: I1e33af0cb78fa9477bc5a0b9b89b06b907b81fae
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/64/78464/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_overcloud.sh'],1,5cd57a395da15016dca27f7b1b3901a8e104bfe5,cinder-split, boot-stack cinder-api cinder-volume cinder-tgt os-collect-config \ horizon neutron-network-node dhcp-all-interfaces \ swift-proxy swift-storage \, boot-stack cinder-api cinder-volume os-collect-config horizon \ neutron-network-node dhcp-all-interfaces swift-proxy swift-storage \,3,2
openstack%2Fzaqar~master~Ia4063305cebb1e89118cfca8efccf0b38ae41adb,openstack/zaqar,master,Ia4063305cebb1e89118cfca8efccf0b38ae41adb,fix(sharding): deregister queue before delete,MERGED,2014-04-11 20:02:01.000000000,2014-04-16 15:11:50.000000000,2014-04-16 15:11:50.000000000,"[{'_account_id': 3}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 8092}]","[{'number': 1, 'created': '2014-04-11 20:02:01.000000000', 'files': ['marconi/queues/storage/sharding.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f626ee64bd73e830cd059f81ee8ae4ab4796d55d', 'message': ""fix(sharding): deregister queue before delete\n\nThis addresses a subtle issue in the case that a worker crashes in the\nmiddle of a queue deletion.\n\nCurrently, the order of operations on a queue delete in a sharded\ncontext is:\n\n1. Delete queue from storage\n2. Remove the queue from the catalogue\n\nThis is *wrong*. If a marconi server dies between 1 and 2, the system\nis left in an inconsistent state. Lookups on the catalogue will still\nforward operations to storage, and storage may or may not return a 500\ndepending on the operation performed. It's difficult to reason about.\n\nThe new proposed ordering is:\n\n1. Remove the queue from the catalogue\n2. Delete queue from storage\n\nIn this case, the failure behavior is easy to reason about. For all\noperations excluding creating a queue with the same name, a 404 will\nbe raised, as expected. In the case of a create queue, a 204 will be\nreturned rather than a 201, which is functionally equivalent.\n\nChange-Id: Ia4063305cebb1e89118cfca8efccf0b38ae41adb\n""}]",0,87015,f626ee64bd73e830cd059f81ee8ae4ab4796d55d,10,4,1,6944,,,0,"fix(sharding): deregister queue before delete

This addresses a subtle issue in the case that a worker crashes in the
middle of a queue deletion.

Currently, the order of operations on a queue delete in a sharded
context is:

1. Delete queue from storage
2. Remove the queue from the catalogue

This is *wrong*. If a marconi server dies between 1 and 2, the system
is left in an inconsistent state. Lookups on the catalogue will still
forward operations to storage, and storage may or may not return a 500
depending on the operation performed. It's difficult to reason about.

The new proposed ordering is:

1. Remove the queue from the catalogue
2. Delete queue from storage

In this case, the failure behavior is easy to reason about. For all
operations excluding creating a queue with the same name, a 404 will
be raised, as expected. In the case of a create queue, a 204 will be
returned rather than a 201, which is functionally equivalent.

Change-Id: Ia4063305cebb1e89118cfca8efccf0b38ae41adb
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/15/87015/1 && git format-patch -1 --stdout FETCH_HEAD,['marconi/queues/storage/sharding.py'],1,f626ee64bd73e830cd059f81ee8ae4ab4796d55d,shard_fix," # NOTE(cpp-cabrera): delete from the catalogue first. If # marconi crashes in the middle of these two operations, # it is desirable that the entry be missing from the # catalogue and present in storage, rather than the # reverse. The former case leads to all operations # behaving as expected: 404s across the board, and a # functionally equivalent 204 on a create queue. The # latter case is more difficult to reason about, and may # yield 500s in some operations. ret = control.delete(name, project)"," # NOTE(cpp-cabrera): Now we found the controller. First, # attempt to delete it from storage. IFF the deletion is # successful, then remove it from the catalogue. ret = control.delete(name, project)",10,4
openstack%2Ffuel-library~master~Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae,openstack/fuel-library,master,Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae,Facts update: check several files for needed info,MERGED,2014-04-04 10:22:15.000000000,2014-04-16 15:10:41.000000000,2014-04-16 15:10:40.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8782}, {'_account_id': 8786}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-04-04 10:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5863578eb7fad9b3d254e9af26fba46d0e659fb7', 'message': 'Facts update: check several files for needed info\n\nUpdated ""astute_settings_yaml"" and ""fuel_version_yaml"" facts to\nsupport search for info in several files. This is needed for Fuel\ncontainers. Both facts look for their files in /etc/fuel/ dir\nfirst, then in default locations. Infortmation is takes from\nthe first file it finds.\n\n- astute_settings_yaml fact search path:\n    * /etc/fuel/astute.yaml\n    * /etc/astute.yaml\n\n- fuel_version_path fact search path:\n    * /etc/fuel/version.yaml\n    * /etc/fuel/nailgun/version.yaml\n    * /etc/nailgun/version.yaml\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae\n'}, {'number': 2, 'created': '2014-04-14 08:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/37e7d5333ff14e0368d6b4250e07bca91c970f78', 'message': 'Facts update: check several files for needed info\n\nUpdated ""astute_settings_yaml"" and ""fuel_version_yaml"" facts to\nsupport search for info in several files. This is needed for Fuel\ncontainers. Both facts look for their files in /etc/fuel/ dir\nfirst, then in default locations. Infortmation is takes from\nthe first file it finds.\n\n- astute_settings_yaml fact search path:\n    * /etc/fuel/astute.yaml\n    * /etc/astute.yaml\n\n- fuel_version_path fact search path:\n    * /etc/fuel/version.yaml\n    * /etc/fuel/nailgun/version.yaml\n    * /etc/nailgun/version.yaml\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae\n'}, {'number': 3, 'created': '2014-04-15 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a59409519d052a822dce83d12402f541b988932d', 'message': 'Facts update: check several files for needed info\n\nUpdated ""astute_settings_yaml"" and ""fuel_version_yaml"" facts to\nsupport search for info in several files. This is needed for Fuel\ncontainers. Both facts look for their files in /etc/fuel/ dir\nfirst, then in default locations. Infortmation is takes from\nthe first file it finds.\n\n- astute_settings_yaml fact search path:\n    * /etc/fuel/astute.yaml\n    * /etc/astute.yaml\n\n- fuel_version_path fact search path:\n    * /etc/fuel/version.yaml\n    * /etc/fuel/nailgun/version.yaml\n    * /etc/nailgun/version.yaml\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae\n'}, {'number': 4, 'created': '2014-04-15 15:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/bbd5406d559938dcc8606b6be2a8db2096afa0f4', 'message': 'Facts update: check several files for needed info\n\nUpdated ""astute_settings_yaml"" and ""fuel_version_yaml"" facts to\nsupport search for info in several files. This is needed for Fuel\ncontainers. Both facts look for their files in /etc/fuel/ dir\nfirst, then in default locations. Infortmation is takes from\nthe first file it finds.\n\n- astute_settings_yaml fact search path:\n    * /etc/fuel/astute.yaml\n    * /etc/astute.yaml\n\n- fuel_version_path fact search path:\n    * /etc/fuel/version.yaml\n    * /etc/fuel/nailgun/version.yaml\n    * /etc/nailgun/version.yaml\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae\n'}, {'number': 5, 'created': '2014-04-15 15:42:23.000000000', 'files': ['deployment/puppet/osnailyfacter/lib/facter/naily.rb', 'deployment/puppet/nailgun/lib/facter/generate_fuel_key.rb', 'deployment/puppet/nailgun/lib/facter/fuel_version.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2b74b5299e180a271c8ac791de2792928c8d8986', 'message': 'Facts update: check several files for needed info\n\nUpdated ""astute_settings_yaml"" and ""fuel_version_yaml"" facts to\nsupport search for info in several files. This is needed for Fuel\ncontainers. Both facts look for their files in /etc/fuel/ dir\nfirst, then in default locations. Infortmation is takes from\nthe first file it finds.\n\n- astute_settings_yaml fact search path:\n    * /etc/fuel/astute.yaml\n    * /etc/astute.yaml\n\n- fuel_version_path fact search path:\n    * /etc/fuel/version.yaml\n    * /etc/fuel/nailgun/version.yaml\n    * /etc/nailgun/version.yaml\n\nblueprint fuel-containerization-of-services\n\nChange-Id: Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae\n'}]",4,85296,2b74b5299e180a271c8ac791de2792928c8d8986,58,10,5,9387,,,0,"Facts update: check several files for needed info

Updated ""astute_settings_yaml"" and ""fuel_version_yaml"" facts to
support search for info in several files. This is needed for Fuel
containers. Both facts look for their files in /etc/fuel/ dir
first, then in default locations. Infortmation is takes from
the first file it finds.

- astute_settings_yaml fact search path:
    * /etc/fuel/astute.yaml
    * /etc/astute.yaml

- fuel_version_path fact search path:
    * /etc/fuel/version.yaml
    * /etc/fuel/nailgun/version.yaml
    * /etc/nailgun/version.yaml

blueprint fuel-containerization-of-services

Change-Id: Ie31dc02b88f1c7de419ac8b1a6ce3f1d149e7eae
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/96/85296/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/lib/facter/naily.rb', 'deployment/puppet/nailgun/lib/facter/fuel_version.rb']",2,5863578eb7fad9b3d254e9af26fba46d0e659fb7,bp/fuel-containerization-of-services,"fuel_version_path = [ '/etc/fuel/version.yaml', '/etc/fuel/nailgun/version.yaml', '/etc/nailgun/version.yaml' ] read_data = ""none"" fuel_version_path.each do |fuel_version_file| if File.exist?(fuel_version_file) read_data = File.read(fuel_version_file) break end setcode { read_data }","fuel_version_path = '/etc/nailgun/version.yaml' if File.exist?(fuel_version_path) setcode { File.read(fuel_version_path) } else setcode { ""none"" }",17,10
openstack%2Ffuel-library~master~Idb016dda6ec64213a7175826de7aae60d3a95158,openstack/fuel-library,master,Idb016dda6ec64213a7175826de7aae60d3a95158,Added base host only manifest with docker,MERGED,2014-04-08 15:49:00.000000000,2014-04-16 15:04:56.000000000,2014-04-16 15:04:56.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-04-08 15:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/93996dccd56834ce5b28faf0d6244f0af492f7d1', 'message': 'Added base host nailgun site manifest\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\n'}, {'number': 2, 'created': '2014-04-08 17:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6aeec4b3dacda40d6f7b8888dff144ad25f43790', 'message': 'Added base host nailgun site manifest\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\n'}, {'number': 3, 'created': '2014-04-09 11:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d8f4bdb19ae0aa7c2137fa68bf7595da37b252c8', 'message': 'Added base host only manifest with docker\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}, {'number': 4, 'created': '2014-04-09 11:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4bc9b8f660af25643684b583cf440c46ee65fca7', 'message': 'Added base host only manifest with docker\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\n'}, {'number': 5, 'created': '2014-04-09 12:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3e46497c82db8d942351cfd60a8f3dec856061f5', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ncircumstances.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\n'}, {'number': 6, 'created': '2014-04-09 15:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/19d70fa25406f5f975b1bd809ab7cd3aa5ff6e6e', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ncircumstances.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\n'}, {'number': 7, 'created': '2014-04-09 15:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5ab71b4eaf110e959dd7153bd4e035f4cf4f396c', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ncircumstances.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\n'}, {'number': 8, 'created': '2014-04-11 12:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fd1ff4154350f606c0539f06f4e25c53b301d67b', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ncircumstances.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}, {'number': 9, 'created': '2014-04-12 09:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2516bad41ab65e26338b39ce539c23c024f66405', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ndeployment styles.\n\nnailgun::iptables is now called from\nnailgun::host class.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}, {'number': 10, 'created': '2014-04-12 09:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2a2064a35b4545c670002a208009a25a0f67526e', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ndeployment styles.\n\nnailgun::iptables is now called from\nnailgun::host class.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}, {'number': 11, 'created': '2014-04-14 10:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/911b3821a45f41a897c23c3d738fc2f8b6c09dff', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ndeployment styles.\n\nnailgun::iptables is now called from\nnailgun::host class.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}, {'number': 12, 'created': '2014-04-14 16:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b9cc3662bea6fb7dfa2d504f9ccb9fd36db6692c', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ndeployment styles.\n\nnailgun::iptables is now called from\nnailgun::host class.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}, {'number': 13, 'created': '2014-04-15 07:40:54.000000000', 'files': ['deployment/puppet/docker/templates/settings.erb', 'deployment/puppet/nailgun/examples/host-only.pp', 'deployment/puppet/cobbler/manifests/init.pp', 'deployment/puppet/nailgun/manifests/host.pp', 'deployment/puppet/docker/manifests/init.pp', 'deployment/puppet/nailgun/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/03149c55384baa5bc6ca0ecedf5e1e8fed9946a1', 'message': 'Added base host only manifest with docker\n\nhost.pp added, which assumes the base host\nroles for all cases of deployment. This\nincludes SSH key generation and iptables.\n\ncobbler::iptables calls were modified to\nallow the class to be included in two\nplaces in the manifests to meet both\ndeployment styles.\n\nnailgun::iptables is now called from\nnailgun::host class.\n\nChange-Id: Idb016dda6ec64213a7175826de7aae60d3a95158\nblueprint fuel-containerization-of-services\n'}]",0,86071,03149c55384baa5bc6ca0ecedf5e1e8fed9946a1,94,10,13,7195,,,0,"Added base host only manifest with docker

host.pp added, which assumes the base host
roles for all cases of deployment. This
includes SSH key generation and iptables.

cobbler::iptables calls were modified to
allow the class to be included in two
places in the manifests to meet both
deployment styles.

nailgun::iptables is now called from
nailgun::host class.

Change-Id: Idb016dda6ec64213a7175826de7aae60d3a95158
blueprint fuel-containerization-of-services
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/71/86071/10 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/host-only.pp', 'deployment/puppet/nailgun/manifests/host.pp', 'deployment/puppet/nailgun/manifests/init.pp']",3,93996dccd56834ce5b28faf0d6244f0af492f7d1,bp/fuel-containerization-of-services," Class[""nailgun::host""] -> class { 'nailgun::host': { production => $production, nailgun_group => $nailgun_group, nailgun_user => $nailgun_user, } "," nailgun::sshkeygen { ""/root/.ssh/id_rsa"": homedir => ""/root"", username => ""root"", groupname => ""root"", keytype => ""rsa"", } -> exec { ""cp /root/.ssh/id_rsa.pub /etc/cobbler/authorized_keys"": command => ""cp /root/.ssh/id_rsa.pub /etc/cobbler/authorized_keys"", creates => ""/etc/cobbler/authorized_keys"", require => Class[""nailgun::cobbler""], } file { ""/etc/ssh/sshd_config"": content => template(""nailgun/sshd_config.erb""), owner => root, group => root, mode => 0600, } file { ""/root/.ssh/config"": content => template(""nailgun/root_ssh_config.erb""), owner => root, group => root, mode => 0600, } ",100,29
openstack%2Fopenstack-manuals~master~I2caa6e6969037f3da98c5adb3424620334bf6d32,openstack/openstack-manuals,master,I2caa6e6969037f3da98c5adb3424620334bf6d32,Add explicit apache2 to horizon install,MERGED,2014-04-16 06:52:47.000000000,2014-04-16 14:47:33.000000000,2014-04-16 14:47:32.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 9515}, {'_account_id': 10697}]","[{'number': 1, 'created': '2014-04-16 06:52:47.000000000', 'files': ['doc/install-guide/section_dashboard-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/90ae513b679529344a7b62c9521cabf8441c620a', 'message': 'Add explicit apache2 to horizon install\n\nThis package is necessary for horizon to automatically be configured\nto start under ubuntu 14.04\n\nChange-Id: I2caa6e6969037f3da98c5adb3424620334bf6d32\nCloses-Bug: 1290998\n'}]",0,87861,90ae513b679529344a7b62c9521cabf8441c620a,11,5,1,612,,,0,"Add explicit apache2 to horizon install

This package is necessary for horizon to automatically be configured
to start under ubuntu 14.04

Change-Id: I2caa6e6969037f3da98c5adb3424620334bf6d32
Closes-Bug: 1290998
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/61/87861/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_dashboard-install.xml'],1,90ae513b679529344a7b62c9521cabf8441c620a,bug/1290998," <screen os=""ubuntu;debian""><prompt>#</prompt> <userinput>apt-get install apache2 memcached libapache2-mod-wsgi openstack-dashboard</userinput></screen>"," <screen os=""ubuntu;debian""><prompt>#</prompt> <userinput>apt-get install memcached libapache2-mod-wsgi openstack-dashboard</userinput></screen>",1,1
openstack%2Fnova~master~I9d966f1fd4a15e7bd825a460814fca2c8ba13730,openstack/nova,master,I9d966f1fd4a15e7bd825a460814fca2c8ba13730,libvirt: Enable custom video heads setting,ABANDONED,2014-04-14 15:37:36.000000000,2014-04-16 14:32:18.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 8910}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-14 15:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5acd27302367eefca639f7825e1fcbacf73564f', 'message': ""libvirt: Enable custom video heads setting\n\nhw_video_heads can be provided via the image properties in Glance.\nThe value should be provided as an integer greater than 0. The default\nvalue of the 'heads' attribute of the video element is 0, and it will be\ntaken if the hw_video_heads image property isn't set or is None.\n\nExample:\n    glance image-update \\\n    --property hw_video_model=qxl \\\n    --property hw_video_heads=2 \\\n    [image]\n\nDocImpact\nCloses-bug: #1304937\nPartially implements blueprint libvirt-video-driver-selection\n\nChange-Id: I9d966f1fd4a15e7bd825a460814fca2c8ba13730\n""}, {'number': 2, 'created': '2014-04-14 17:20:51.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/053c9e6130da2db46bbc5b7423769702a1eea996', 'message': ""libvirt: Enable custom video heads setting\n\nhw_video_heads can be provided via the image properties in Glance.\nThe value should be provided as an integer greater than 0. The default\nvalue of the 'heads' attribute of the video element is 0, and it will be\ntaken if the hw_video_heads image property isn't set or is None.\n\nExample:\n    glance image-update \\\n    --property hw_video_model=qxl \\\n    --property hw_video_heads=2 \\\n    [image]\n\nDocImpact\nCloses-bug: #1304937\n\nChange-Id: I9d966f1fd4a15e7bd825a460814fca2c8ba13730\n""}]",2,87300,053c9e6130da2db46bbc5b7423769702a1eea996,20,7,2,8910,,,0,"libvirt: Enable custom video heads setting

hw_video_heads can be provided via the image properties in Glance.
The value should be provided as an integer greater than 0. The default
value of the 'heads' attribute of the video element is 0, and it will be
taken if the hw_video_heads image property isn't set or is None.

Example:
    glance image-update \
    --property hw_video_model=qxl \
    --property hw_video_heads=2 \
    [image]

DocImpact
Closes-bug: #1304937

Change-Id: I9d966f1fd4a15e7bd825a460814fca2c8ba13730
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/87300/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py']",2,c5acd27302367eefca639f7825e1fcbacf73564f,bug/1304937," video.heads = int(img_meta_prop.get('hw_video_heads', 0))",,60,0
openstack%2Fdiskimage-builder~master~Idf77d91876baeb81d89eb688808b892ece2bf19a,openstack/diskimage-builder,master,Idf77d91876baeb81d89eb688808b892ece2bf19a,Add mapping for mariadb rdo package,MERGED,2014-04-14 15:04:27.000000000,2014-04-16 14:30:20.000000000,2014-04-16 14:30:19.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7419}, {'_account_id': 7582}, {'_account_id': 8399}, {'_account_id': 8532}]","[{'number': 1, 'created': '2014-04-14 15:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb86b64ebf20ee4d334cc0e8c2f3186e1082356b', 'message': ""Allow mapping of packages to multiple targets\n\nMariaDB package may have different package name depending whether\nit's installed from mariadb.org or Fedora/RDO repository. This\nallows mapping to multiple package names in similar way as\nmap-services works.\n\nChange-Id: Idf77d91876baeb81d89eb688808b892ece2bf19a\n""}, {'number': 2, 'created': '2014-04-15 10:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/830ebee08f31621044b0e05691bcd08999a2ed41', 'message': 'Add mapping for mariadb rdo package\n\nMariadb package in RDO repository is mariadb-galera-server, but\nthis name is mapped to MariaDB-Galera-server because of\nmariadb installed from mariadb.org.\n\nTo avoid mapping conflicts mariadb-rdo uses virtual package name\nmariadb-rdo-galera-server which is mapped to mariadb-galera-server.\n\nChange-Id: Idf77d91876baeb81d89eb688808b892ece2bf19a\n'}, {'number': 3, 'created': '2014-04-15 10:03:14.000000000', 'files': ['elements/redhat-common/bin/map-packages'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/40adbff681464b912f576a00b099a4bdbd174697', 'message': 'Add mapping for mariadb rdo package\n\nMariadb package in RDO repository is mariadb-galera-server, but\nthis name is mapped to MariaDB-Galera-server because of\nmariadb installed from mariadb.org.\n\nTo avoid mapping conflicts mariadb-rdo uses virtual package name\nmariadb-rdo-galera-server which is mapped to mariadb-galera-server.\n\nChange-Id: Idf77d91876baeb81d89eb688808b892ece2bf19a\n'}]",1,87290,40adbff681464b912f576a00b099a4bdbd174697,24,7,3,7582,,,0,"Add mapping for mariadb rdo package

Mariadb package in RDO repository is mariadb-galera-server, but
this name is mapped to MariaDB-Galera-server because of
mariadb installed from mariadb.org.

To avoid mapping conflicts mariadb-rdo uses virtual package name
mariadb-rdo-galera-server which is mapped to mariadb-galera-server.

Change-Id: Idf77d91876baeb81d89eb688808b892ece2bf19a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/90/87290/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/redhat-common/bin/map-packages'],1,eb86b64ebf20ee4d334cc0e8c2f3186e1082356b,mapping,"import subprocess 'mariadb-galera-server': ['mariadb-galera-server', 'MariaDB-Galera-server'], mapping = package_map.get(arg, arg) # Handle cases where a package may map to multiple names depending on # which specific distribution we're using. if isinstance(mapping, list): for name in mapping: try: subprocess.check_call(['yum', 'list', name]) print(name) break except subprocess.CalledProcessError: pass else: # We didn't find a match for any of the mappings. print(arg) else: print(mapping)"," 'mariadb-galera-server': 'MariaDB-Galera-server', print(package_map.get(arg, arg))",18,2
openstack%2Fmurano~master~Ib377f163760b067c940482bfd72236c7cc956545,openstack/murano,master,Ib377f163760b067c940482bfd72236c7cc956545,Fix engine results processing,MERGED,2014-04-16 06:21:12.000000000,2014-04-16 14:26:13.000000000,2014-04-16 14:26:13.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 8040}, {'_account_id': 8127}]","[{'number': 1, 'created': '2014-04-16 06:21:12.000000000', 'files': ['muranoapi/common/server.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/443aa5abcb3e838e166e0fb5b9e53bb64ca85f3f', 'message': 'Fix engine results processing\n\nStore applications returned by engine as services\n\nChange-Id: Ib377f163760b067c940482bfd72236c7cc956545\nPartial-bug: #1305142\n'}]",0,87857,443aa5abcb3e838e166e0fb5b9e53bb64ca85f3f,7,5,1,7225,,,0,"Fix engine results processing

Store applications returned by engine as services

Change-Id: Ib377f163760b067c940482bfd72236c7cc956545
Partial-bug: #1305142
",git fetch https://review.opendev.org/openstack/murano refs/changes/57/87857/1 && git format-patch -1 --stdout FETCH_HEAD,['muranoapi/common/server.py'],1,443aa5abcb3e838e166e0fb5b9e53bb64ca85f3f,bug/1305142," environment.description['Objects']['services'] = \ environment.description['Objects'].get('applications', []) del environment.description['Objects']['applications']",,3,0
openstack%2Fmurano-dashboard~master~I2ed7f134da1be17f57ec3af82699cff5eda1a82d,openstack/murano-dashboard,master,I2ed7f134da1be17f57ec3af82699cff5eda1a82d,Fix DynamicSelect choice field,MERGED,2014-04-16 03:26:26.000000000,2014-04-16 14:23:25.000000000,2014-04-16 14:23:25.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 8127}]","[{'number': 1, 'created': '2014-04-16 03:26:26.000000000', 'files': ['muranodashboard/dynamic_ui/fields.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/0c909b4ad66e7f9818471c8621a5d26749cf0ef8', 'message': 'Fix DynamicSelect choice field\n\nChange-Id: I2ed7f134da1be17f57ec3af82699cff5eda1a82d\n'}]",0,87836,0c909b4ad66e7f9818471c8621a5d26749cf0ef8,8,6,1,7225,,,0,"Fix DynamicSelect choice field

Change-Id: I2ed7f134da1be17f57ec3af82699cff5eda1a82d
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/36/87836/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/dynamic_ui/fields.py'],1,0c909b4ad66e7f9818471c8621a5d26749cf0ef8,," self.choices.extend([(app['?']['id'], app.name) for app in apps])"," self.choices.extend([(app.id, app.name) for app in apps])",1,1
openstack%2Ftripleo-image-elements~master~If0850460471f97d47d8dfdb5133b96fbb81278d6,openstack/tripleo-image-elements,master,If0850460471f97d47d8dfdb5133b96fbb81278d6,Provide multiple levels for os-apply-config,ABANDONED,2014-04-16 11:13:23.000000000,2014-04-16 14:22:49.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-04-16 11:13:23.000000000', 'files': ['elements/os-apply-config/README.md', 'elements/os-apply-config/install.d/99-install-config-templates'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/457eb614a613b7b3d265200359a77c4d65dc4831', 'message': 'Provide multiple levels for os-apply-config\n\nThis allows elements to override the templates provided by other\nelements. For example, the logstash element provides a very basic\nlogstash.conf. This change allows another element to change the template\nto provide a more useful version.\n\nREADME.md has been rewritten as it was fairly sparse to begin with.\n\nAlthough we hopefully do not need all ~100 levels of override this patch\nprovides, this:\n  * follows a well established pattern\n  * is as easy to support as a single override level\n  * provides ample levels in case a single override is not enough\n\nChange-Id: If0850460471f97d47d8dfdb5133b96fbb81278d6\n'}]",0,87933,457eb614a613b7b3d265200359a77c4d65dc4831,4,1,1,8688,,,0,"Provide multiple levels for os-apply-config

This allows elements to override the templates provided by other
elements. For example, the logstash element provides a very basic
logstash.conf. This change allows another element to change the template
to provide a more useful version.

README.md has been rewritten as it was fairly sparse to begin with.

Although we hopefully do not need all ~100 levels of override this patch
provides, this:
  * follows a well established pattern
  * is as easy to support as a single override level
  * provides ample levels in case a single override is not enough

Change-Id: If0850460471f97d47d8dfdb5133b96fbb81278d6
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/33/87933/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-apply-config/README.md', 'elements/os-apply-config/install.d/99-install-config-templates']",2,457eb614a613b7b3d265200359a77c4d65dc4831,feature/oac-levels,"# This script will copy the templates to the appropriate location. # Templates in higher-numbered directories will overwrite those in # lower-numbered directories. # Note that the implementation relies on the detail that all elements # share one dir inside the chroot.set -o pipefail TEMPLATE_SOURCE_PREFIX=$(dirname $0)/..for BN in {00..50}-os-apply-config \ os-config-applier \ os-apply-config \ {51..99}-os-apply-config; do TEMPLATE_SOURCE=${TEMPLATE_SOURCE_PREFIX}/${BN} if [[ -d ""${TEMPLATE_SOURCE}"" ]]; then rsync --exclude='.*.swp' -Cr $TEMPLATE_SOURCE/ $TEMPLATE_ROOT/ fi done",# Note that this relies on the detail that all elements share one dir # inside the chroot. This will copy all the files that elements have # added to element/os-config-applier or element/os-apply-config into the # appropriate location.TEMPLATE_SOURCE=$(dirname $0)/../os-config-applier[ -d $TEMPLATE_SOURCE ] && rsync --exclude='.*.swp' -Cr $TEMPLATE_SOURCE/ $TEMPLATE_ROOT/ TEMPLATE_SOURCE=$(dirname $0)/../os-apply-config [ -d $TEMPLATE_SOURCE ] && rsync --exclude='.*.swp' -Cr $TEMPLATE_SOURCE/ $TEMPLATE_ROOT/,33,12
openstack%2Ffuel-web~master~I2285e52c91692e908008afa377ed26081b4bbd43,openstack/fuel-web,master,I2285e52c91692e908008afa377ed26081b4bbd43,"Revert ""Allow multiple networks to be created per cluster""",MERGED,2014-04-16 13:35:54.000000000,2014-04-16 14:21:16.000000000,2014-04-16 14:21:16.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6719}, {'_account_id': 7125}, {'_account_id': 7126}, {'_account_id': 7195}, {'_account_id': 7428}, {'_account_id': 7468}, {'_account_id': 7604}, {'_account_id': 7700}, {'_account_id': 7745}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 11110}]","[{'number': 1, 'created': '2014-04-16 13:35:54.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/api/serializers/network_group.py', 'nailgun/nailgun/test/integration/test_rpc_consumer.py', 'nailgun/nailgun/api/handlers/node.py', 'nailgun/nailgun/api/urls/v1.py', 'nailgun/nailgun/test/integration/test_cluster_collection_handlers.py', 'nailgun/nailgun/db/sqlalchemy/models/__init__.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/api/serializers/node.py', 'nailgun/nailgun/test/integration/test_network_configuration.py', 'nailgun/nailgun/db/sqlalchemy/models/network.py', 'nailgun/nailgun/api/serializers/node_group.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/api/serializers/network_configuration.py', 'nailgun/nailgun/api/handlers/node_group.py', 'nailgun/nailgun/db/sqlalchemy/models/node.py', 'nailgun/nailgun/test/unit/test_node_groups.py', 'nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/test/unit/test_node_assignment_handler.py', 'nailgun/nailgun/test/integration/test_network_manager.py', 'nailgun/nailgun/objects/node_group.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/unit/test_task_helpers.py', 'nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/network/manager.py', 'nailgun/nailgun/test/integration/test_provisioning.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/330ec2ab2bbf_add_nodegroup.py', 'nailgun/nailgun/db/sqlalchemy/models/cluster.py', 'nailgun/nailgun/test/unit/test_node_deletion.py', 'nailgun/nailgun/test/integration/test_horizon_url.py', 'nailgun/nailgun/api/validators/node_group.py', 'nailgun/nailgun/test/unit/test_node_disks.py', 'nailgun/nailgun/db/sqlalchemy/__init__.py', 'nailgun/nailgun/objects/__init__.py', 'nailgun/nailgun/test/unit/test_logs_handlers.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/api/handlers/network.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py', 'nailgun/nailgun/network/checker.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7c367407707743dc851cd2ba27696a009c56282a', 'message': 'Revert ""Allow multiple networks to be created per cluster""\n\nThis reverts commit 9530ef323b6b5fdb4dc9ff3516054b19b94c8e60.\n\nThe change didn\'t get enough reviews. There is already reported bug https://bugs.launchpad.net/fuel/+bug/1308041 and there are potential more bugs.\nThere is also some incosistency in handling admin network. All concerns are described in comments in https://review.openstack.org/#/c/83204/18\nThere are some concerns about API design addressed in https://review.openstack.org/#/c/83204/16\n\nChange-Id: I2285e52c91692e908008afa377ed26081b4bbd43\n'}]",0,87966,7c367407707743dc851cd2ba27696a009c56282a,25,18,1,8954,,,0,"Revert ""Allow multiple networks to be created per cluster""

This reverts commit 9530ef323b6b5fdb4dc9ff3516054b19b94c8e60.

The change didn't get enough reviews. There is already reported bug https://bugs.launchpad.net/fuel/+bug/1308041 and there are potential more bugs.
There is also some incosistency in handling admin network. All concerns are described in comments in https://review.openstack.org/#/c/83204/18
There are some concerns about API design addressed in https://review.openstack.org/#/c/83204/16

Change-Id: I2285e52c91692e908008afa377ed26081b4bbd43
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/66/87966/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/api/serializers/network_group.py', 'nailgun/nailgun/test/integration/test_rpc_consumer.py', 'nailgun/nailgun/api/handlers/node.py', 'nailgun/nailgun/api/urls/v1.py', 'nailgun/nailgun/test/integration/test_cluster_collection_handlers.py', 'nailgun/nailgun/db/sqlalchemy/models/__init__.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/api/serializers/node.py', 'nailgun/nailgun/test/integration/test_network_configuration.py', 'nailgun/nailgun/db/sqlalchemy/models/network.py', 'nailgun/nailgun/api/serializers/node_group.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/api/serializers/network_configuration.py', 'nailgun/nailgun/api/handlers/node_group.py', 'nailgun/nailgun/db/sqlalchemy/models/node.py', 'nailgun/nailgun/test/unit/test_node_groups.py', 'nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/test/unit/test_node_assignment_handler.py', 'nailgun/nailgun/test/integration/test_network_manager.py', 'nailgun/nailgun/objects/node_group.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/unit/test_task_helpers.py', 'nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/network/manager.py', 'nailgun/nailgun/test/integration/test_provisioning.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/330ec2ab2bbf_add_nodegroup.py', 'nailgun/nailgun/db/sqlalchemy/models/cluster.py', 'nailgun/nailgun/test/unit/test_node_deletion.py', 'nailgun/nailgun/test/integration/test_horizon_url.py', 'nailgun/nailgun/api/validators/node_group.py', 'nailgun/nailgun/test/unit/test_node_disks.py', 'nailgun/nailgun/db/sqlalchemy/__init__.py', 'nailgun/nailgun/objects/__init__.py', 'nailgun/nailgun/test/unit/test_logs_handlers.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/api/handlers/network.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py', 'nailgun/nailgun/network/checker.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",41,7c367407707743dc851cd2ba27696a009c56282a,bp/multiple-cluster-networks, NetworkGroup.cluster_id == cluster.id, TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(self.cluster.nodes) TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(self.cluster.nodes) NetworkGroup.group_id == cluster.default_group TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(cluster_db.nodes),88,793
openstack%2Frally~master~Icb5ee3f457523c0bd7e0c58a944c8bbc4726d11e,openstack/rally,master,Icb5ee3f457523c0bd7e0c58a944c8bbc4726d11e,Fix column index for sorting in rall verify list,MERGED,2014-04-16 10:48:27.000000000,2014-04-16 14:14:59.000000000,2014-04-16 14:14:59.000000000,"[{'_account_id': 3}, {'_account_id': 6172}]","[{'number': 1, 'created': '2014-04-16 10:48:27.000000000', 'files': ['rally/cmd/commands/verify.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/8e2431457c137276285585c404856a7c3e04e2b9', 'message': 'Fix column index for sorting in rall verify list\n\nTable with verification results should be sorted by ""created at"" column.\n\nCloses-bug: #1308471\n\nChange-Id: Icb5ee3f457523c0bd7e0c58a944c8bbc4726d11e\n'}]",0,87930,8e2431457c137276285585c404856a7c3e04e2b9,6,2,1,9545,,,0,"Fix column index for sorting in rall verify list

Table with verification results should be sorted by ""created at"" column.

Closes-bug: #1308471

Change-Id: Icb5ee3f457523c0bd7e0c58a944c8bbc4726d11e
",git fetch https://review.opendev.org/openstack/rally refs/changes/30/87930/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/cmd/commands/verify.py'],1,8e2431457c137276285585c404856a7c3e04e2b9,bug_with_sort," common_cliutils.print_list(verifications, fields, sortby_index=fields.index('Created at'))"," common_cliutils.print_list(verifications, fields, sortby_index=6)",2,1
openstack%2Ftripleo-image-elements~master~I52acd401ab0a12d11ca4af265599460440a31ed1,openstack/tripleo-image-elements,master,I52acd401ab0a12d11ca4af265599460440a31ed1,Failure in rabbitmq os-refresh-config on master,MERGED,2014-04-08 13:23:03.000000000,2014-04-16 14:11:44.000000000,2014-04-16 14:11:43.000000000,"[{'_account_id': 3}, {'_account_id': 1605}, {'_account_id': 6928}, {'_account_id': 7582}]","[{'number': 1, 'created': '2014-04-08 13:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0a0bbf634560f20374d0125830c442f015f1aa33', 'message': 'Failure in rabbitmq os-refresh-config on master\n\nrabbitmq os-refresh-config in_cluster returns false when local\nnode is actually in the cluster. This causes it to attempt to start\nthe rabbitmq application (start_app), which fails and thus\ncauses os-collect-config to repeatedly fail.\n\nCloses Bug: #1304306\n\nChange-Id: I52acd401ab0a12d11ca4af265599460440a31ed1\n'}, {'number': 2, 'created': '2014-04-10 08:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c53e7e3b7ab62e17e3e99046aa8708a53b0645a9', 'message': 'Failure in rabbitmq os-refresh-config on master\n\nrabbitmq os-refresh-config in_cluster returns false when local\nnode is actually in the cluster. This causes it to attempt to start\nthe rabbitmq application (start_app), which fails and thus\ncauses os-collect-config to repeatedly fail.\n\nCloses-Bug: #1304306\n\nChange-Id: I52acd401ab0a12d11ca4af265599460440a31ed1\n'}, {'number': 3, 'created': '2014-04-10 08:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8b04d43d282d0ac825bbcac8cb58b2689b2a532e', 'message': 'Failure in rabbitmq os-refresh-config on master\n\nrabbitmq os-refresh-config in_cluster returns false when local\nnode is actually in the cluster. This causes it to attempt to start\nthe rabbitmq application (start_app), which fails and thus\ncauses os-collect-config to repeatedly fail.\n\nThe regex ""running_nodes,\\[[^],]\\+[],]"" is used to determine if the\nlist of running nodes is a non-empty list, i.e. contains at least one\nhostname, where a sample portion of the output is:\n{running_nodes,[\'rabbit@overcloud-notcompute1-syibgoo5u4ut\',\n                 \'rabbit@overcloud-notcompute0-ldouciunmicy\']},\n\\[ : Matches text up to the first literal\n""["" [^],]+ : Ensures that this is followed by at least one char that is NOT ""]"" or "",""\n[],] : Finally, it concludes the match on a subsequent ""]"" or "","".\n\nCloses-Bug: #1304306\n\nChange-Id: I52acd401ab0a12d11ca4af265599460440a31ed1\n'}, {'number': 4, 'created': '2014-04-10 08:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/40f0846ba6aa25c10de5967b6a28ae388cb27846', 'message': 'Failure in rabbitmq os-refresh-config on master\n\nrabbitmq os-refresh-config in_cluster returns false when local\nnode is actually in the cluster. This causes it to attempt to start\nthe rabbitmq application (start_app), which fails and thus\ncauses os-collect-config to repeatedly fail.\n\nThe regex ""running_nodes,\\[[^],]\\+[],]"" is used to determine if the\nlist of running nodes is a non-empty list, i.e. contains at least one\nhostname, where a sample portion of the output is:\n{running_nodes,[\'rabbit@overcloud-notcompute1-syibgoo5u4ut\',\n                 \'rabbit@overcloud-notcompute0-ldouciunmicy\']},\n\\[ : Matches text up to the first literal ""["".\n[^],]+ : Ensures that this is followed by at least one char that is NOT ""]"" or "","".\n[],] : Finally, it concludes the match on a subsequent ""]"" or "","".\n\nCloses-Bug: #1304306\n\nChange-Id: I52acd401ab0a12d11ca4af265599460440a31ed1\n'}, {'number': 5, 'created': '2014-04-10 13:19:05.000000000', 'files': ['elements/rabbitmq-server/os-refresh-config/post-configure.d/40-rabbitmq'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/218216b704a724b937ff5467b4a7d6d86fc194df', 'message': 'Failure in rabbitmq os-refresh-config on master\n\nrabbitmq os-refresh-config in_cluster returns false when local\nnode is actually in the cluster. This causes it to attempt to start\nthe rabbitmq application (start_app), which fails and thus\ncauses os-collect-config to repeatedly fail.\n\nCloses-Bug: #1304306\n\nChange-Id: I52acd401ab0a12d11ca4af265599460440a31ed1\n'}]",6,86034,218216b704a724b937ff5467b4a7d6d86fc194df,35,4,5,1605,,,0,"Failure in rabbitmq os-refresh-config on master

rabbitmq os-refresh-config in_cluster returns false when local
node is actually in the cluster. This causes it to attempt to start
the rabbitmq application (start_app), which fails and thus
causes os-collect-config to repeatedly fail.

Closes-Bug: #1304306

Change-Id: I52acd401ab0a12d11ca4af265599460440a31ed1
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/34/86034/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/rabbitmq-server/os-refresh-config/post-configure.d/40-rabbitmq'],1,0a0bbf634560f20374d0125830c442f015f1aa33,rabbitmq-refresh-fix," rabbitmqctl -n rabbit@$node cluster_status|grep -q ""running_nodes,\[[^],]\+[],]"""," rabbitmqctl -n rabbit@$node cluster_status|grep -q ""running_nodes,\[[^\]]*,""",1,1
openstack%2Fzaqar~milestone-proposed~Ic83707cb145d752b30e285f1a25376525a80079c,openstack/zaqar,milestone-proposed,Ic83707cb145d752b30e285f1a25376525a80079c,Remove MySQL-python from the dependency list,MERGED,2014-04-16 12:02:28.000000000,2014-04-16 14:05:41.000000000,2014-04-16 14:05:41.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6944}]","[{'number': 1, 'created': '2014-04-16 12:02:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c2f5053da9f8e8902f5bad26d29ccfab2eb13879', 'message': ""Remove MySQL-python from the dependency list\n\nMySQL is not a recommended database for production environments. The\ndependency to the mysql python library was added to be able to run\nMarconi on the gate.\n\nSince we're not willing to promote sqlalchemy as the recommended driver,\nit makes sense to remove the mysql dependency from the dependencies\nlist.\n\nCloses-bug: #1308500\n\nChange-Id: Ic83707cb145d752b30e285f1a25376525a80079c\n(cherry picked from commit 80befb5b9cdca76a91b57237de1cd2ac727d6fc4)\n""}]",0,87946,c2f5053da9f8e8902f5bad26d29ccfab2eb13879,8,3,1,6159,,,0,"Remove MySQL-python from the dependency list

MySQL is not a recommended database for production environments. The
dependency to the mysql python library was added to be able to run
Marconi on the gate.

Since we're not willing to promote sqlalchemy as the recommended driver,
it makes sense to remove the mysql dependency from the dependencies
list.

Closes-bug: #1308500

Change-Id: Ic83707cb145d752b30e285f1a25376525a80079c
(cherry picked from commit 80befb5b9cdca76a91b57237de1cd2ac727d6fc4)
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/46/87946/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c2f5053da9f8e8902f5bad26d29ccfab2eb13879,,,MySQL-python,0,1
openstack%2Ffuel-web~master~Idb9652dea46f5bdb054c378f687f5cfc359da02e,openstack/fuel-web,master,Idb9652dea46f5bdb054c378f687f5cfc359da02e,Fixing error on deployment without nodes,MERGED,2014-04-14 15:03:19.000000000,2014-04-16 13:57:23.000000000,2014-04-16 13:57:23.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8930}, {'_account_id': 8971}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-14 15:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3a507a8e810718a826c6624ac18132af6e511142', 'message': 'Fixing error on deployment without nodes\n\n * Exception handling in handlers/base.py\n\n Closes-bug: #1304991\n\nChange-Id: Idb9652dea46f5bdb054c378f687f5cfc359da02e\n'}, {'number': 2, 'created': '2014-04-15 12:30:53.000000000', 'files': ['nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/api/handlers/base.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7ed1e01cf4a72f1861784cc06b931e258567174a', 'message': 'Fixing error on deployment without nodes\n\n * Exception handling in handlers/base.py\n * Added test for that error\n\n Closes-bug: #1304991\n\nChange-Id: Idb9652dea46f5bdb054c378f687f5cfc359da02e\n'}]",0,87289,7ed1e01cf4a72f1861784cc06b931e258567174a,28,8,2,8930,,,0,"Fixing error on deployment without nodes

 * Exception handling in handlers/base.py
 * Added test for that error

 Closes-bug: #1304991

Change-Id: Idb9652dea46f5bdb054c378f687f5cfc359da02e
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/89/87289/2 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/api/handlers/base.py'],1,3a507a8e810718a826c6624ac18132af6e511142,error-on-deploying-empty-env," errors.DeploymentNotRunning, errors.WrongNodeStatus", errors.DeploymentNotRunning,2,1
openstack%2Ffuel-library~master~I23313d9381ad33316c1b0fbf55849c3ca13af8eb,openstack/fuel-library,master,I23313d9381ad33316c1b0fbf55849c3ca13af8eb,Allow separate Astute server from nailgun,MERGED,2014-04-12 15:29:13.000000000,2014-04-16 13:54:51.000000000,2014-04-16 13:54:51.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8776}, {'_account_id': 8786}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-12 15:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/424d18766647a414923862c8c5a77a0333c34709', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 2, 'created': '2014-04-12 15:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f58fb41355b164d57fb2a3cfca202b926962d3c1', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 3, 'created': '2014-04-12 16:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/019f8337a5fbca2c3237e7e6f6266c4f4139483a', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 4, 'created': '2014-04-12 16:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9d5cba79cb600b247ef1c1d9703fa4ff1dd261a8', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 5, 'created': '2014-04-12 16:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c30f736b918c3416a5e5a5eb8e81be5151367a05', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 6, 'created': '2014-04-12 16:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e66deaa79c6082ad5578fdbcd6171f6149ac75f3', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 7, 'created': '2014-04-15 16:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f43b725055e4d03eb3ab87ad096388df48ef8e14', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}, {'number': 8, 'created': '2014-04-15 16:50:56.000000000', 'files': ['deployment/puppet/nailgun/examples/astute-only.pp', 'deployment/puppet/nailgun/templates/supervisord.conf.astute.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6f6dbc48cf96868eaef1232e5b019b6fd88104fa', 'message': 'Allow separate Astute server from nailgun\n\nProvides supervisord config and site.pp to\nrun astute as a standalone server.\n\nblueprint fuel-containerization-of-services\n\nChange-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb\n'}]",1,87086,6f6dbc48cf96868eaef1232e5b019b6fd88104fa,47,9,8,7195,,,0,"Allow separate Astute server from nailgun

Provides supervisord config and site.pp to
run astute as a standalone server.

blueprint fuel-containerization-of-services

Change-Id: I23313d9381ad33316c1b0fbf55849c3ca13af8eb
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/86/87086/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/astute-only.pp', 'deployment/puppet/nailgun/templates/supervisord.conf.astute.erb']",2,424d18766647a414923862c8c5a77a0333c34709,bp/fuel-containerization-of-services,"[rpcinterface:supervisor] ; required for supervisorctl supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface [unix_http_server] file=/var/run/supervisor.sock [supervisord] logfile=/var/log/supervisor/supervisord.log loglevel=debug pidfile=/var/run/supervisord.pid childlogdir=/var/log/supervisor [supervisorctl] serverurl=unix:///var/run/supervisor.sock [program:astute] command=/usr/bin/astuted -c /etc/astute/astuted.conf -l /var/log/astute/astute.log -w 7 process_name=%(program_name)s numprocs=1 numprocs_start=0 autostart=true autorestart=true startsecs=10 startretries=1000000 exitcodes=0,2 stopsignal=INT stopwaitsecs=60 redirect_stderr=true stdout_logfile=/var/log/astute/app.log stdout_logfile_maxbytes=50MB stdout_logfile_backups=10 stdout_capture_maxbytes=0 stdout_events_enabled=false stderr_logfile=/var/log/astute/err.log stderr_logfile_maxbytes=50MB stderr_logfile_backups=10 stderr_capture_maxbytes=0 stderr_events_enabled=false serverurl=AUTO ",,102,0
openstack%2Ffuel-web~master~Ic30a1b46112599022645b06f7bef2223ff4c6475,openstack/fuel-web,master,Ic30a1b46112599022645b06f7bef2223ff4c6475,Allow multiple networks to be created per cluster,MERGED,2014-03-26 20:34:58.000000000,2014-04-16 13:49:32.000000000,2014-04-15 00:44:16.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 8797}, {'_account_id': 8829}, {'_account_id': 8935}, {'_account_id': 8954}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-03-26 20:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d03d76a30129429ec45d49a161cadbaa13387557', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdds a NodeGroup model. Node groups can be used to group nodes\n\nNodeGroups can be created and modified via the Fuel API.\nClusters are created with a default node group and the cluster networks\nare tied to that default node group.\n\nImplements: blueprint multiple-cluster-networks\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 2, 'created': '2014-03-31 23:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ab3c5222ea7b70cd430c5b69a61af55225f612a7', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdds a NodeGroup model. Node groups can be used to group nodes\n\nNodeGroups can be created and modified via the Fuel API.\nClusters are created with a default node group and the cluster networks\nare tied to that default node group.\n\nImplements: blueprint multiple-cluster-networks\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 3, 'created': '2014-04-01 18:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f6ff954759366abfcd6eddf338a83d6dbd9a5291', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdds a NodeGroup model. Node groups can be used to group nodes\n\nNodeGroups can be created and modified via the Fuel API.\nClusters are created with a default node group and the cluster networks\nare tied to that default node group.\n\nImplements: blueprint multiple-cluster-networks\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 4, 'created': '2014-04-04 20:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0052c4abcd5c3867a8da6da44d593e263e160030', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 5, 'created': '2014-04-04 20:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5a7fe646d435a1c58d444f9183b051b01743a147', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 6, 'created': '2014-04-04 21:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3d2d3ce06b5b3e9d5f9ce33a9a267e63cec908d4', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 7, 'created': '2014-04-04 21:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8c9c792ef520ff162a645c2a496b4dd284d47f87', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 8, 'created': '2014-04-04 23:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b5f05c57f331d4ed8efef3756119430f11eb8e30', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 9, 'created': '2014-04-08 23:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f85d857287a73a00062b789a165a0b766b7b72ff', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 10, 'created': '2014-04-09 18:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/133e34794def59da0d9ac91ff8fe1fcbdc6d0917', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 11, 'created': '2014-04-09 20:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ca77288238cfb405f6b02dd6fac878f5df20ed84', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 12, 'created': '2014-04-10 18:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/21c6c407835159f3f01bb596ab02feb739aa6b3d', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 13, 'created': '2014-04-10 18:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/75d3652d6e4b4350f9576cee9bee077251b50c51', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 14, 'created': '2014-04-11 18:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c3b46ef4d86cd56d6bb74fe24e558a128c98db3b', 'message': 'WIP: Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 15, 'created': '2014-04-11 22:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b8127e9d50b32b9d5e78a3bcaec3b807e25b5884', 'message': 'Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 16, 'created': '2014-04-11 23:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3edbeede4fdb05a2954db863038d337a7c8abda2', 'message': 'Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 17, 'created': '2014-04-14 23:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ef7d79ed715836d70522d058f5eb138f3bac555a', 'message': 'Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}, {'number': 18, 'created': '2014-04-14 23:45:23.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/api/serializers/network_group.py', 'nailgun/nailgun/test/integration/test_rpc_consumer.py', 'nailgun/nailgun/api/handlers/node.py', 'nailgun/nailgun/api/urls/v1.py', 'nailgun/nailgun/test/integration/test_cluster_collection_handlers.py', 'nailgun/nailgun/db/sqlalchemy/models/__init__.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/api/serializers/node.py', 'nailgun/nailgun/test/integration/test_network_configuration.py', 'nailgun/nailgun/db/sqlalchemy/models/network.py', 'nailgun/nailgun/api/serializers/node_group.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/api/serializers/network_configuration.py', 'nailgun/nailgun/api/handlers/node_group.py', 'nailgun/nailgun/db/sqlalchemy/models/node.py', 'nailgun/nailgun/test/unit/test_node_groups.py', 'nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/test/unit/test_node_assignment_handler.py', 'nailgun/nailgun/test/integration/test_network_manager.py', 'nailgun/nailgun/objects/node_group.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/unit/test_task_helpers.py', 'nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/network/manager.py', 'nailgun/nailgun/test/integration/test_provisioning.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/330ec2ab2bbf_add_nodegroup.py', 'nailgun/nailgun/db/sqlalchemy/models/cluster.py', 'nailgun/nailgun/test/unit/test_node_deletion.py', 'nailgun/nailgun/test/integration/test_horizon_url.py', 'nailgun/nailgun/api/validators/node_group.py', 'nailgun/nailgun/test/unit/test_node_disks.py', 'nailgun/nailgun/db/sqlalchemy/__init__.py', 'nailgun/nailgun/objects/__init__.py', 'nailgun/nailgun/test/unit/test_logs_handlers.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/api/handlers/network.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py', 'nailgun/nailgun/network/checker.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9530ef323b6b5fdb4dc9ff3516054b19b94c8e60', 'message': 'Allow multiple networks to be created per cluster\n\nAdded a NodeGroup model. NodeGroups can be created and modified\nvia the Fuel API. Clusters are created with a default node group\nand the cluster networks are tied to that default node group.\n\nAdded API handler for creating new NetworkGroups.\n\nImplements: blueprint multiple-cluster-networks\nCloses-bug: #1272142\nChange-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475\n'}]",57,83204,9530ef323b6b5fdb4dc9ff3516054b19b94c8e60,126,9,18,8829,,,0,"Allow multiple networks to be created per cluster

Added a NodeGroup model. NodeGroups can be created and modified
via the Fuel API. Clusters are created with a default node group
and the cluster networks are tied to that default node group.

Added API handler for creating new NetworkGroups.

Implements: blueprint multiple-cluster-networks
Closes-bug: #1272142
Change-Id: Ic30a1b46112599022645b06f7bef2223ff4c6475
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/04/83204/16 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_rpc_consumer.py', 'nailgun/nailgun/api/handlers/node.py', 'nailgun/nailgun/api/urls/v1.py', 'nailgun/nailgun/db/sqlalchemy/models/__init__.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/db/sqlalchemy/models/network.py', 'nailgun/nailgun/api/serializers/node_group.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/api/serializers/network_configuration.py', 'nailgun/nailgun/api/handlers/node_group.py', 'nailgun/nailgun/db/sqlalchemy/models/node.py', 'nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/test/unit/test_node_assignment_handler.py', 'nailgun/nailgun/test/integration/test_network_manager.py', 'nailgun/nailgun/objects/node_group.py', 'nailgun/nailgun/test/unit/test_task_helpers.py', 'nailgun/nailgun/network/manager.py', 'nailgun/nailgun/test/integration/test_provisioning.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/330ec2ab2bbf_add_nodegroup.py', 'nailgun/nailgun/db/sqlalchemy/models/cluster.py', 'nailgun/nailgun/test/unit/test_node_deletion.py', 'nailgun/nailgun/test/integration/test_horizon_url.py', 'nailgun/nailgun/api/validators/node_group.py', 'nailgun/nailgun/test/unit/test_node_disks.py', 'nailgun/nailgun/db/sqlalchemy/__init__.py', 'nailgun/nailgun/objects/__init__.py', 'nailgun/nailgun/test/unit/test_logs_handlers.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py', 'nailgun/nailgun/network/checker.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",32,d03d76a30129429ec45d49a161cadbaa13387557,bp/multiple-cluster-networks, TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(self.cluster.nodes) NetworkGroup.group_id == self.cluster.default_group).first() TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(self.cluster.nodes) NetworkGroup.group_id == cluster.default_group TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(cluster_db.nodes) TaskHelper.prepare_for_provisioning(cluster.nodes), NetworkGroup.cluster_id == self.cluster.id).first() NetworkGroup.cluster_id == cluster.id,526,67
openstack%2Fzaqar~master~Ic83707cb145d752b30e285f1a25376525a80079c,openstack/zaqar,master,Ic83707cb145d752b30e285f1a25376525a80079c,Remove MySQL-python from the dependency list,MERGED,2014-04-16 11:58:49.000000000,2014-04-16 13:44:05.000000000,2014-04-16 13:44:05.000000000,"[{'_account_id': 3}, {'_account_id': 6944}, {'_account_id': 7498}]","[{'number': 1, 'created': '2014-04-16 11:58:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/80befb5b9cdca76a91b57237de1cd2ac727d6fc4', 'message': ""Remove MySQL-python from the dependency list\n\nMySQL is not a recommended database for production environments. The\ndependency to the mysql python library was added to be able to run\nMarconi on the gate.\n\nSince we're not willing to promote sqlalchemy as the recommended driver,\nit makes sense to remove the mysql dependency from the dependencies\nlist.\n\nCloses-bug: #1308500\n\nChange-Id: Ic83707cb145d752b30e285f1a25376525a80079c\n""}]",0,87944,80befb5b9cdca76a91b57237de1cd2ac727d6fc4,8,3,1,6159,,,0,"Remove MySQL-python from the dependency list

MySQL is not a recommended database for production environments. The
dependency to the mysql python library was added to be able to run
Marconi on the gate.

Since we're not willing to promote sqlalchemy as the recommended driver,
it makes sense to remove the mysql dependency from the dependencies
list.

Closes-bug: #1308500

Change-Id: Ic83707cb145d752b30e285f1a25376525a80079c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/44/87944/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,80befb5b9cdca76a91b57237de1cd2ac727d6fc4,,,MySQL-python,0,1
openstack%2Ftempest~master~I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8,openstack/tempest,master,I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8,Add V2 Nova API os-agents tests,MERGED,2014-03-05 06:18:01.000000000,2014-04-16 13:43:25.000000000,2014-04-16 13:43:24.000000000,"[{'_account_id': 3}, {'_account_id': 5292}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7139}, {'_account_id': 7227}, {'_account_id': 7882}, {'_account_id': 8205}, {'_account_id': 8824}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-03-05 06:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c3aade0ac5059b5a0de297474f414e92bca006a', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents delete tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 2, 'created': '2014-03-11 00:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/826406c92595d8d5e4bc7892ed1b1e17754eeee4', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 3, 'created': '2014-03-14 06:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d42ff9cbd0c51d2642257fb51ca841aa98147847', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 4, 'created': '2014-03-19 07:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b56946cde5e87eae52849fc34be36b79186bd93a', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 5, 'created': '2014-03-27 05:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d18487eea26cc7ede0c6c8f9c171e4ebe8de5e9a', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 6, 'created': '2014-03-27 06:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a297141fdb03aaa4af9b350bfa108f69ba894a0a', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 7, 'created': '2014-03-28 07:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/eea5b82b3253ec832154ced36a534e01d8fdd522', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 8, 'created': '2014-04-02 07:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ecab082cdf1de74274f91a8f4a71a019e5ad2511', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 9, 'created': '2014-04-02 10:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f53449657a0396796d92172723c93e943cc66995', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 10, 'created': '2014-04-02 12:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ace26dc5b11331aa42b377e367fff9c074268a4', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 11, 'created': '2014-04-02 12:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d751d2cf4e00826e3f4d74481356476159de3fc3', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 12, 'created': '2014-04-03 02:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1af2303bcb222f62333d9b289d18bf6b8c551c75', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 13, 'created': '2014-04-03 03:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de4392480eb19c157e29987929002866a7006a8c', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 14, 'created': '2014-04-03 09:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3d1adf34c00579815355f271457380864165794', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 15, 'created': '2014-04-03 11:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/956475bb3248ef7a172b063bd0adb62f96d51e48', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 16, 'created': '2014-04-03 23:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97fd5ea821d16d95e44e7385c2b0d90a75a8e3f9', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 17, 'created': '2014-04-04 00:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40123a9aca16685a5505ede9c74a9ef4c71bec21', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 18, 'created': '2014-04-04 00:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7503db2182da762d48277fc7b247e178748fee6a', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 19, 'created': '2014-04-04 03:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22dbf089bb54b1394a2a37e599e0e86343174854', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}, {'number': 20, 'created': '2014-04-07 00:12:22.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/clients.py', 'tempest/services/compute/json/agents_client.py', 'tempest/api/compute/admin/test_agents.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/420f2ebaab2757fe48c64a36de2e326d8f0d9395', 'message': 'Add V2 Nova API os-agents tests\n\nThis patch adds V2 Nova API - os-agents tests.\n\nChange-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8\n'}]",78,78111,420f2ebaab2757fe48c64a36de2e326d8f0d9395,171,11,20,7882,,,0,"Add V2 Nova API os-agents tests

This patch adds V2 Nova API - os-agents tests.

Change-Id: I18f1a95ac5e22a646da9aeb52f096f7caa82e8c8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/78111/20 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/xml/agents_client.py', 'tempest/api/compute/base.py', 'tempest/clients.py', 'tempest/services/compute/json/agents_client.py', 'tempest/api/compute/admin/test_agents.py']",5,8c3aade0ac5059b5a0de297474f414e92bca006a,os-agents,"# Copyright 2014 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest import test class AgentsAdminTestJSON(base.BaseV2ComputeAdminTest): """""" Tests Agents API """""" _interface = 'json' @classmethod def setUpClass(cls): super(AgentsAdminTestJSON, cls).setUpClass() cls.client = cls.os_adm.agents_client @test.attr(type='gate') def test_create_update_list_delete_agents(self): """""" 1. Create 2 agents. 2. Update one of the agents. 3. List all agent builds. 4. List the agent builds by the filter. 5. Delete agents. """""" params_kvm = {'hypervisor': 'kvm', 'os': 'win', 'architecture': 'x86', 'version': '7.0', 'url': 'xxx://xxxx/xxx/xxx', 'md5hash': 'add6bb58e139be103324d04d82d8f545'} expected_kvm = {'hypervisor': 'kvm', 'os': 'win', 'architecture': 'x86', 'version': '7.0', 'url': 'xxx://xxxx/xxx/xxx', 'md5hash': 'add6bb58e139be103324d04d82d8f545'} resp, agent_kvm = self.client.create_agent(**params_kvm) self.assertEqual(200, resp.status) for expected_item, value in expected_kvm.items(): self.assertEqual(value, agent_kvm[expected_item]) params_xen = {'hypervisor': 'xen', 'os': 'linux', 'architecture': 'x86', 'version': '7.0', 'url': 'xxx://xxxx/xxx/xxx1', 'md5hash': 'add6bb58e139be103324d04d82d8f546'} expected_xen = {'hypervisor': 'xen', 'os': 'linux', 'architecture': 'x86', 'version': '7.0', 'url': 'xxx://xxxx/xxx/xxx1', 'md5hash': 'add6bb58e139be103324d04d82d8f546'} resp, agent_xen = self.client.create_agent(**params_xen) for expected_item, value in expected_xen.items(): self.assertEqual(value, agent_xen[expected_item]) params_kvm_new = {'version': '8.0', 'url': 'xxx://xxxx/xxx/xxx2', 'md5hash': 'add6bb58e139be103324d04d82d8f547'} expected_kvm_new = {'version': '8.0', 'url': 'xxx://xxxx/xxx/xxx2', 'md5hash': 'add6bb58e139be103324d04d82d8f547'} resp, resp_agent_kvm = self.client.update_agent(agent_kvm['agent_id'], **params_kvm_new) for expected_item, value in expected_kvm_new.items(): self.assertEqual(value, resp_agent_kvm[expected_item]) resp, agents = self.client.list_agents() self.assertEqual(200, resp.status) self.assertTrue(len(agents) > 1) params_filter = {'hypervisor': 'kvm'} resp, agent = self.client.list_agents(params_filter) self.assertEqual(200, resp.status) self.assertTrue(len(agent) > 0) self.assertEqual('kvm', agent[0]['hypervisor']) resp, _ = self.client.delete_agent(agent_kvm['agent_id']) self.assertEqual(200, resp.status) resp, _ = self.client.delete_agent(agent_xen['agent_id']) self.assertEqual(200, resp.status) class AgentsAdminTestXML(AgentsAdminTestJSON): _interface = 'xml' ",,250,0
openstack%2Freviewstats~master~Iabccddc86e67086417605a7311c84b74910e033a,openstack/reviewstats,master,Iabccddc86e67086417605a7311c84b74910e033a,More tripleo cores.,MERGED,2014-04-15 21:56:01.000000000,2014-04-16 13:42:23.000000000,2014-04-16 13:42:22.000000000,"[{'_account_id': 3}, {'_account_id': 1561}]","[{'number': 1, 'created': '2014-04-15 21:56:01.000000000', 'files': ['projects/tripleo.json'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/48777ef7fd9294a194fc9dd3590494fdd02dcb28', 'message': 'More tripleo cores.\n\nChange-Id: Iabccddc86e67086417605a7311c84b74910e033a\n'}]",0,87802,48777ef7fd9294a194fc9dd3590494fdd02dcb28,8,2,1,4190,,,0,"More tripleo cores.

Change-Id: Iabccddc86e67086417605a7311c84b74910e033a
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/02/87802/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/tripleo.json'],1,48777ef7fd9294a194fc9dd3590494fdd02dcb28,," ""bnemec"", ""greghaynes"", ""jdob"",",,3,0
openstack%2Fpython-glanceclient~master~I78fbfd971090fc143ae87bf4c83e905701c7b476,openstack/python-glanceclient,master,I78fbfd971090fc143ae87bf4c83e905701c7b476,Sync latest apiclient code and reuse to_dict(),ABANDONED,2014-02-10 09:24:18.000000000,2014-04-16 13:38:48.000000000,,"[{'_account_id': 3}, {'_account_id': 6549}, {'_account_id': 9126}, {'_account_id': 9550}]","[{'number': 1, 'created': '2014-02-10 09:24:18.000000000', 'files': ['glanceclient/openstack/common/apiclient/__init__.py', 'glanceclient/openstack/common/apiclient/base.py', 'glanceclient/openstack/common/apiclient/auth.py', 'glanceclient/openstack/common/apiclient/fake_client.py', 'glanceclient/common/base.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/2be0c72043e5ffa5d15172dea49844130ee6bc1e', 'message': 'Sync latest apiclient code and reuse to_dict()\n\nAbsence of method `to_dict` was the reason of impossibility to remove\ncustom class Resource after reusing it from common code.\n\nThis patch:\n- sync latest apiclient code\n(method `to_dict` already added to common code - I1db6c12a);\n- reuses method `to_dict` from common code;\n- adds alias of Resource class in module `common.base`;\n- removes custom class Resource at all.\n\nHash of latest commit which affected apiclient in oslo at time of sync:\n9f1e7eb4112067423f845bd99ec52256db1c8bb1\n\nRelated to bp common-client-library-2\n\nChange-Id: I78fbfd971090fc143ae87bf4c83e905701c7b476\n'}]",0,72301,2be0c72043e5ffa5d15172dea49844130ee6bc1e,8,4,1,9545,,,0,"Sync latest apiclient code and reuse to_dict()

Absence of method `to_dict` was the reason of impossibility to remove
custom class Resource after reusing it from common code.

This patch:
- sync latest apiclient code
(method `to_dict` already added to common code - I1db6c12a);
- reuses method `to_dict` from common code;
- adds alias of Resource class in module `common.base`;
- removes custom class Resource at all.

Hash of latest commit which affected apiclient in oslo at time of sync:
9f1e7eb4112067423f845bd99ec52256db1c8bb1

Related to bp common-client-library-2

Change-Id: I78fbfd971090fc143ae87bf4c83e905701c7b476
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/01/72301/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/openstack/common/apiclient/__init__.py', 'glanceclient/openstack/common/apiclient/base.py', 'glanceclient/openstack/common/apiclient/auth.py', 'glanceclient/openstack/common/apiclient/fake_client.py', 'glanceclient/common/base.py']",5,2be0c72043e5ffa5d15172dea49844130ee6bc1e,bp/common-client-library-2,Resource = base.Resource ,"import copy class Resource(base.Resource): """""" A resource represents a particular instance of an object (tenant, user, etc). This is pretty much just a bag for attributes. """""" def to_dict(self): # Note(akurilin): There is a patch in Oslo, that adds to_dict() method # to common Resource - I1db6c12a1f798de7f7fafd0c34fb0ef523610153. # When Oslo code comes, we will be in able to remove this method # and class at all. return copy.deepcopy(self._info)",14,44
openstack%2Fdiskimage-builder~master~I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3,openstack/diskimage-builder,master,I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3,Fix set -eu and pipefail failures,MERGED,2014-04-07 22:27:47.000000000,2014-04-16 13:33:39.000000000,2014-04-16 13:33:39.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6928}, {'_account_id': 6969}, {'_account_id': 7144}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-04-07 22:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/02aa410fa8fd8e72e87c27903162269c2161ecaa', 'message': 'Fix set -eu and pipefail failures\n\nThere are a number of scripts failing with set -eu and pipefail\nand this fixes all the ones that we hit in a standard devtest run.\n\nChange-Id: I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3\n'}, {'number': 2, 'created': '2014-04-09 22:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3b131a30b00138c0b1e3878be92226eade3db6d', 'message': 'Fix set -eu and pipefail failures\n\nFixes problems found by set -eu and pipefail, including:\n-Many unset variables\n-Commands that can fail under normal circumstances, which breaks\nwith set -e.  This change swallows those expected errors to allow\nour existing error code to handle them.\n-The dkms element was not finding Fedora kernel versions correctly.\nThis may be an issue for other distros too, but since Fedora was\nworking fine without this functionality I only changed it to print\na warning message rather than failing the build when it happens.\n-Getting the udev version by calling the udevd directly was\nfailing with a non-zero exit code on Fedora, even though the\nversion was retrieved successfully.  Since we also have udevadm\navailable in the ramdisk this change uses that to retrieve the\nversion instead.\n-The Ubuntu ramdisk was also failing to boot because the init\nscript was trying to set the default gw and one was already\npresent.  This was fixed by deleting the default gw before running\nthe add command to ensure our intended configuration takes effect.\n\nChange-Id: I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3\n'}, {'number': 3, 'created': '2014-04-10 16:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/27f6d8bb3e86a87ac3d1afc5350497f9e9525ec1', 'message': 'Fix set -eu and pipefail failures\n\nFixes problems found by set -eu and pipefail, including:\n-Many unset variables\n-Commands that can fail under normal circumstances, which breaks\nwith set -e.  This change swallows those expected errors to allow\nour existing error code to handle them.\n-The dkms element was not finding Fedora kernel versions correctly.\nThis may be an issue for other distros too, but since Fedora was\nworking fine without this functionality I only changed it to print\na warning message rather than failing the build when it happens.\n-Getting the udev version by calling the udevd directly was\nfailing with a non-zero exit code on Fedora, even though the\nversion was retrieved successfully.  Since we also have udevadm\navailable in the ramdisk this change uses that to retrieve the\nversion instead.\n-The Ubuntu ramdisk was also failing to boot because the init\nscript was trying to set the default gw and one was already\npresent.  This was fixed by deleting the default gw before running\nthe add command to ensure our intended configuration takes effect.\n\nChange-Id: I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3\n'}, {'number': 4, 'created': '2014-04-15 20:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/661c0b5aa166b0439c02e2d52ca79d9a272e7dd8', 'message': 'Fix set -eu and pipefail failures\n\nFixes problems found by set -eu and pipefail, including:\n-Many unset variables\n-Commands that can fail under normal circumstances, which breaks\nwith set -e.  This change swallows those expected errors to allow\nour existing error code to handle them.\n-The dkms element was not finding Fedora kernel versions correctly.\nThis may be an issue for other distros too, but since Fedora was\nworking fine without this functionality I only changed it to print\na warning message rather than failing the build when it happens.\n-The ramdisk init script will not be set -eu because if it fails\nthe result is a kernel panic, which can be tricky to debug.\nHowever, in testing with set -e a few failing commands were found\nand have been fixed in this patch.\n\nChange-Id: I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3\n'}, {'number': 5, 'created': '2014-04-15 20:53:58.000000000', 'files': ['elements/local-config/pre-install.d/02-proxy-settings', 'elements/dpkg/root.d/50-build-with-http-cache', 'lib/common-functions', 'elements/ramdisk/post-install.d/99-build-ramdisk', 'elements/cache-url/bin/cache-url', 'elements/dpkg/bin/install-packages', 'elements/yum/bin/install-packages', 'elements/dib-run-parts/bin/dib-run-parts', 'elements/dkms/post-install.d/99-dkms', 'elements/ramdisk/extra-data.d/scripts/init', 'elements/ramdisk/init.d/02-start-network', 'elements/base/extra-data.d/99-enable-install-types', 'elements/baremetal/cleanup.d/99-extract-kernel-and-ramdisk', 'elements/ramdisk/post-install.d/01-ensure-binaries', 'elements/vm/block-device.d/10-partition'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/381ff6ab1d51af630ee4e8e11feff40bead0a273', 'message': 'Fix set -eu and pipefail failures\n\nFixes problems found by set -eu and pipefail, including:\n-Many unset variables\n-Commands that can fail under normal circumstances, which breaks\nwith set -e.  This change swallows those expected errors to allow\nour existing error code to handle them.\n-The dkms element was not finding Fedora kernel versions correctly.\nThis may be an issue for other distros too, but since Fedora was\nworking fine without this functionality I only changed it to print\na warning message rather than failing the build when it happens.\n-The ramdisk init script will not be set -eu because if it fails\nthe result is a kernel panic, which can be tricky to debug.\nHowever, in testing with set -e a few failing commands were found\nand have been fixed in this patch.\n\nChange-Id: I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3\n'}]",6,85861,381ff6ab1d51af630ee4e8e11feff40bead0a273,31,6,5,6928,,,0,"Fix set -eu and pipefail failures

Fixes problems found by set -eu and pipefail, including:
-Many unset variables
-Commands that can fail under normal circumstances, which breaks
with set -e.  This change swallows those expected errors to allow
our existing error code to handle them.
-The dkms element was not finding Fedora kernel versions correctly.
This may be an issue for other distros too, but since Fedora was
working fine without this functionality I only changed it to print
a warning message rather than failing the build when it happens.
-The ramdisk init script will not be set -eu because if it fails
the result is a kernel panic, which can be tricky to debug.
However, in testing with set -e a few failing commands were found
and have been fixed in this patch.

Change-Id: I44cf98dfc80cfcaec54b88cc83be80a3dbf2cec3
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/61/85861/5 && git format-patch -1 --stdout FETCH_HEAD,"['elements/local-config/pre-install.d/02-proxy-settings', 'lib/common-functions', 'elements/ramdisk/post-install.d/99-build-ramdisk', 'elements/cache-url/bin/cache-url', 'elements/yum/bin/install-packages', 'elements/dib-run-parts/bin/dib-run-parts', 'elements/dkms/post-install.d/99-dkms', 'elements/ramdisk/extra-data.d/scripts/init', 'elements/base/extra-data.d/99-enable-install-types', 'elements/baremetal/cleanup.d/99-extract-kernel-and-ramdisk', 'elements/ramdisk/post-install.d/01-ensure-binaries', 'elements/vm/block-device.d/10-partition']",12,02aa410fa8fd8e72e87c27903162269c2161ecaa,lint,DM=,,30,8
openstack%2Foslo-incubator~master~Ie19f27e19d570803a51d6ae3522683bc79fbf9a8,openstack/oslo-incubator,master,Ie19f27e19d570803a51d6ae3522683bc79fbf9a8,Fix tests.unit.reports.test_views failures under Python3,MERGED,2014-04-14 20:24:18.000000000,2014-04-16 13:32:36.000000000,2014-04-16 13:32:35.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 6645}, {'_account_id': 9107}]","[{'number': 1, 'created': '2014-04-14 20:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/78d9475047647a691162a9422a9e4cf4c3d74011', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}, {'number': 2, 'created': '2014-04-14 20:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/4ba466f2bc4102da5ccb680a70ac86ef97f72d5d', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}, {'number': 3, 'created': '2014-04-14 21:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/73d0462f65e6d2f8784fea8bdf55bd3a0f69b2ae', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}, {'number': 4, 'created': '2014-04-14 21:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/041de1f0489478a145e2380a958a082f7f44e68e', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}, {'number': 5, 'created': '2014-04-14 22:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/4d7ca6bc46d813580411fe466ab9ba4999723c33', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}, {'number': 6, 'created': '2014-04-15 03:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a848c354901599b7c135e69de6ad53093f012e61', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}, {'number': 7, 'created': '2014-04-15 16:01:31.000000000', 'files': ['openstack/common/report/models/base.py', 'openstack/common/report/views/xml/generic.py', 'openstack/common/report/views/text/generic.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/12ceab4c219cab912f570fbbfbef4d65c45f926f', 'message': 'Fix tests.unit.reports.test_views failures under Python3\n\nHad to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of\nthe dicts.\n\nChange-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8\n'}]",7,87376,12ceab4c219cab912f570fbbfbef4d65c45f926f,32,5,7,6645,,,0,"Fix tests.unit.reports.test_views failures under Python3

Had to activate PYTHONHASHSEED=0 in tox.ini to avoid randomization of
the dicts.

Change-Id: Ie19f27e19d570803a51d6ae3522683bc79fbf9a8
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/76/87376/7 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/report/models/base.py', 'openstack/common/report/views/xml/generic.py', 'openstack/common/report/views/text/generic.py', 'tox.ini']",4,78d9475047647a691162a9422a9e4cf4c3d74011,python3/test_views,setenv = PYTHONHASHSEED=0 tests/unit/test_versionutils.py \ tests/unit/reports/test_views.py, tests/unit/test_versionutils.py,9,4
openstack%2Ftrove~master~I8d679502f1a05e3d9b04420f1021d362096b22d3,openstack/trove,master,I8d679502f1a05e3d9b04420f1021d362096b22d3,Correct the command to stop cassandra server,MERGED,2014-03-21 12:37:43.000000000,2014-04-16 13:17:13.000000000,2014-04-16 13:17:13.000000000,"[{'_account_id': 3}, {'_account_id': 739}, {'_account_id': 1925}, {'_account_id': 5293}, {'_account_id': 6162}, {'_account_id': 7092}, {'_account_id': 8136}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9664}]","[{'number': 1, 'created': '2014-03-21 12:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d65320aef1ce5f7d0f54da1587073d580f5ff81d', 'message': 'This change implements a fix that impacts the Cassandra guest agent.\nIt fixes bug 1295362 (Cassandra datastore should use the documented\nmethod to stop the cassandra service).  The earlier implementation\nsimply killed all java processes (using the killall command). The\ndocumented mechanism is to use the ""service stop"" command.\n\nChange-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3\nCloses-Bug: 1295362\n'}, {'number': 2, 'created': '2014-03-21 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5392ee528cabb060f000c98f49c6b8586ae7b99b', 'message': 'This change implements a fix that impacts the Cassandra guest agent.\nIt fixes bug 1295362 (Cassandra datastore should use the documented\nmethod to stop the cassandra service).  The earlier implementation\nsimply killed all java processes (using the killall command). The\ndocumented mechanism is to use the ""service stop"" command\n\nApparently my earlier comment ended with a <period> and now it does\nnot\n\nChange-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3\nCloses-Bug: 1295362\n'}, {'number': 3, 'created': '2014-03-21 17:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e4e0aa6f894bbfd96406461d9aed6801f0a1a745', 'message': 'This change implements a fix that impacts the Cassandra guest agent.\nSee bug 1295362 for details.\n\nChange-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3\nCloses-Bug: 1295362\n'}, {'number': 4, 'created': '2014-03-21 17:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f0fd9b8131ffd7df32738f3d821da429ae6daafc', 'message': 'Correct the command to stop cassandra server. Using kill is\ntoo heavy, recommended is to use service stop\n\nChange-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3\nCloses-Bug: 1295362\n'}, {'number': 5, 'created': '2014-03-21 17:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a651a8caca373e4afa9c56480c8b5fad079a716b', 'message': 'Correct the command to stop cassandra server\n\nUsing kill is too heavy, recommended is to use service stop\n\nChange-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3\nCloses-Bug: 1295362\n'}, {'number': 6, 'created': '2014-04-08 06:29:51.000000000', 'files': ['trove/guestagent/datastore/cassandra/system.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/eead86ac42a4ac5b14b64255d81666955f2d0b6b', 'message': 'Correct the command to stop cassandra server\n\nUsing kill is too heavy, recommended is to use service stop\n\nChange-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3\nCloses-Bug: 1295362\n'}]",6,82080,eead86ac42a4ac5b14b64255d81666955f2d0b6b,87,10,6,9664,,,0,"Correct the command to stop cassandra server

Using kill is too heavy, recommended is to use service stop

Change-Id: I8d679502f1a05e3d9b04420f1021d362096b22d3
Closes-Bug: 1295362
",git fetch https://review.opendev.org/openstack/trove refs/changes/80/82080/5 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/cassandra/system.py'],1,d65320aef1ce5f7d0f54da1587073d580f5ff81d,bug/1295362,"STOP_CASSANDRA = ""sudo service cassandra stop""","STOP_CASSANDRA = ""sudo killall java 2> /dev/null || true""",1,1
openstack%2Ffuel-ostf~stable%2F4.1~I428ece5d7e0cda6c7c8eb91623018d95b9e4998d,openstack/fuel-ostf,stable/4.1,I428ece5d7e0cda6c7c8eb91623018d95b9e4998d,Fixed issue with failed OSTF tests,MERGED,2014-04-09 07:27:47.000000000,2014-04-16 13:05:44.000000000,2014-04-16 13:05:44.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7126}, {'_account_id': 7227}, {'_account_id': 7428}, {'_account_id': 8592}, {'_account_id': 8824}, {'_account_id': 8839}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-09 07:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/56802c5402f003f5000e5de7ad3b8e1dd9569d38', 'message': 'Fixed issue with failed OSTF tests\n\nChange-Id: I428ece5d7e0cda6c7c8eb91623018d95b9e4998d\nRelated-Bug: #1264292\n'}, {'number': 2, 'created': '2014-04-09 07:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/c3652cac206602683da10c3b4ce805ceecaef030', 'message': 'Fixed issue with failed OSTF tests\n\nChange-Id: I428ece5d7e0cda6c7c8eb91623018d95b9e4998d\nRelated-Bug: #1264292\n'}, {'number': 3, 'created': '2014-04-11 11:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/bdbbd29f4314e26c51fc9d1e7387e3e462a1cfcd', 'message': 'Fixed issue with failed OSTF tests\n\nChange-Id: I428ece5d7e0cda6c7c8eb91623018d95b9e4998d\nRelated-Bug: #1264292\n'}, {'number': 4, 'created': '2014-04-11 11:21:35.000000000', 'files': ['fuel_health/tests/platform_tests/test_platform_murano_linux.py', 'fuel_health/tests/platform_tests/test_murano.py', 'fuel_health/murano.py', 'fuel_health/cleanup.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/3690709d95c1f42506b6d955b44221910cec8527', 'message': 'Fixed issue with failed OSTF tests\n\nChange-Id: I428ece5d7e0cda6c7c8eb91623018d95b9e4998d\nRelated-Bug: #1264292\n'}]",7,86247,3690709d95c1f42506b6d955b44221910cec8527,35,9,4,8824,,,0,"Fixed issue with failed OSTF tests

Change-Id: I428ece5d7e0cda6c7c8eb91623018d95b9e4998d
Related-Bug: #1264292
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/47/86247/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/platform_tests/test_platform_murano_linux.py', 'fuel_health/tests/platform_tests/test_murano.py', 'fuel_health/murano.py', 'fuel_health/cleanup.py']",4,56802c5402f003f5000e5de7ad3b8e1dd9569d38,, compute_client = manager._get_compute_client() if compute_client is not None: flavors = compute_client.flavors.list() for flavor in flavors: if flavor.name.startswith('ost1_test_Murano'): try: LOG.info('Start flavor deletion.') compute_client.flavors.delete(flavor.id) except Exception: LOG.warning('Failed to delete flavor') LOG.debug(traceback.format_exc()) ,,36,8
openstack%2Fironic~master~Ib8ab6c96b28b49b6259a95e82c83c5fbdeba5f91,openstack/ironic,master,Ib8ab6c96b28b49b6259a95e82c83c5fbdeba5f91,Fix message preventing overwrite the instance_uuid,MERGED,2014-04-15 16:48:46.000000000,2014-04-16 13:05:35.000000000,2014-04-16 13:05:34.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 7711}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-04-15 16:48:46.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/209217eb68d1b6880dda71f1df3367ef8f2bcdfc', 'message': 'Fix message preventing overwrite the instance_uuid\n\nIf a node already has an instance associated with it, we prevent\nthe instance_uuid from being updated (one should tear-down the node\nfirst). When trying to update the instance_uuid the message returned\nwas saying that the node was associated with the new instance value,\nthis patch fix the message to return the current instance_uuid associated\nwith the node.\n\nChange-Id: Ib8ab6c96b28b49b6259a95e82c83c5fbdeba5f91\nCloses-Bug: #1308144\n'}]",0,87731,209217eb68d1b6880dda71f1df3367ef8f2bcdfc,11,6,1,6773,,,0,"Fix message preventing overwrite the instance_uuid

If a node already has an instance associated with it, we prevent
the instance_uuid from being updated (one should tear-down the node
first). When trying to update the instance_uuid the message returned
was saying that the node was associated with the new instance value,
this patch fix the message to return the current instance_uuid associated
with the node.

Change-Id: Ib8ab6c96b28b49b6259a95e82c83c5fbdeba5f91
Closes-Bug: #1308144
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/87731/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,209217eb68d1b6880dda71f1df3367ef8f2bcdfc,bug/1308144, instance=ref.instance_uuid), instance=values['instance_uuid']),1,1
openstack%2Fmurano~master~Ib7b8f159bddc2260c2012a2c6ac3b2d8daa40fb7,openstack/murano,master,Ib7b8f159bddc2260c2012a2c6ac3b2d8daa40fb7,Fix some options set by devstack,MERGED,2014-04-16 10:47:47.000000000,2014-04-16 12:59:45.000000000,2014-04-16 12:59:45.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7600}, {'_account_id': 8040}]","[{'number': 1, 'created': '2014-04-16 10:47:47.000000000', 'files': ['contrib/devstack/lib/murano'], 'web_link': 'https://opendev.org/openstack/murano/commit/88b0800b4d091f1c6d1e548cf0608e56c2fa4935', 'message': 'Fix some options set by devstack\n\n* Use global var for Murano admin user\n* Explicitely set keystone auth_url\n\nChange-Id: Ib7b8f159bddc2260c2012a2c6ac3b2d8daa40fb7\n'}]",0,87929,88b0800b4d091f1c6d1e548cf0608e56c2fa4935,8,4,1,7562,,,0,"Fix some options set by devstack

* Use global var for Murano admin user
* Explicitely set keystone auth_url

Change-Id: Ib7b8f159bddc2260c2012a2c6ac3b2d8daa40fb7
",git fetch https://review.opendev.org/openstack/murano refs/changes/29/87929/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/murano'],1,88b0800b4d091f1c6d1e548cf0608e56c2fa4935,fix-devstack-options,"MURANO_ADMIN_USER=${MURANO_ADMIN_USER:-murano} $MURANO_ADMIN_USER \ iniset $MURANO_CONF_FILE keystone_authtoken admin_user $MURANO_ADMIN_USER # Configure keystone auth url iniset $MURANO_CONF_FILE keystone auth_url ""http://${KEYSTONE_AUTH_HOST}:5000/v2.0""", murano \ iniset $MURANO_CONF_FILE keystone_authtoken admin_user murano,7,2
openstack%2Fmurano~master~I1f182a4a2595233f25fdfe8f352e6a27d48f7c3e,openstack/murano,master,I1f182a4a2595233f25fdfe8f352e6a27d48f7c3e,Get rid of murano-common,MERGED,2014-04-16 10:36:08.000000000,2014-04-16 12:59:23.000000000,2014-04-16 12:59:23.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7600}, {'_account_id': 8040}]","[{'number': 1, 'created': '2014-04-16 10:36:08.000000000', 'files': ['contrib/devstack/lib/murano'], 'web_link': 'https://opendev.org/openstack/murano/commit/66d6af0b80cf90af50d39e7f78ed35648bb2e70b', 'message': 'Get rid of murano-common\n\nThis component is obsolete and should be removed.\n\nChange-Id: I1f182a4a2595233f25fdfe8f352e6a27d48f7c3e\n'}]",0,87921,66d6af0b80cf90af50d39e7f78ed35648bb2e70b,8,4,1,7562,,,0,"Get rid of murano-common

This component is obsolete and should be removed.

Change-Id: I1f182a4a2595233f25fdfe8f352e6a27d48f7c3e
",git fetch https://review.opendev.org/openstack/murano refs/changes/21/87921/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/murano'],1,66d6af0b80cf90af50d39e7f78ed35648bb2e70b,remove-murano-common,,MURANO_COMMON_REPO=${MURANO_COMMON_REPO:-${GIT_BASE}/stackforge/murano-common.git} MURANO_COMMON_DIR=$DEST/murano-common ,0,3
openstack%2Fmurano~master~I26fddee75b63e4ff57154b1e2c786196f5d14eaf,openstack/murano,master,I26fddee75b63e4ff57154b1e2c786196f5d14eaf,Add murano-dashboard to devstack,MERGED,2014-04-15 18:37:03.000000000,2014-04-16 12:59:22.000000000,2014-04-16 12:59:22.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}]","[{'number': 1, 'created': '2014-04-15 18:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/32283d53a014b4420ea2b07df52ae78d4ff729ed', 'message': 'Add murano-dashboard to devstack\n\nInstall and configure murano-dashboard as part of devstack installation.\n\nChange-Id: I26fddee75b63e4ff57154b1e2c786196f5d14eaf\n'}, {'number': 2, 'created': '2014-04-15 19:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/722a7a1c48807071a84ac4b8ac91ae1c1c6fa5ba', 'message': 'Add murano-dashboard to devstack\n\nInstall and configure murano-dashboard as part of devstack installation.\n\nChange-Id: I26fddee75b63e4ff57154b1e2c786196f5d14eaf\n'}, {'number': 3, 'created': '2014-04-15 19:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/2fe9114b5ff01d1ac3608a244c73d2ae400e3dab', 'message': 'Add murano-dashboard to devstack\n\nInstall and configure murano-dashboard as part of devstack installation.\n\nChange-Id: I26fddee75b63e4ff57154b1e2c786196f5d14eaf\n'}, {'number': 4, 'created': '2014-04-16 08:06:31.000000000', 'files': ['contrib/devstack/extras.d/70-murano.sh', 'contrib/devstack/lib/murano-dashboard'], 'web_link': 'https://opendev.org/openstack/murano/commit/26c3221310c01c645a7370c090061bac5a7dae29', 'message': 'Add murano-dashboard to devstack\n\nInstall and configure murano-dashboard as part of devstack installation.\n\nChange-Id: I26fddee75b63e4ff57154b1e2c786196f5d14eaf\n'}]",2,87751,26c3221310c01c645a7370c090061bac5a7dae29,17,5,4,7562,,,0,"Add murano-dashboard to devstack

Install and configure murano-dashboard as part of devstack installation.

Change-Id: I26fddee75b63e4ff57154b1e2c786196f5d14eaf
",git fetch https://review.opendev.org/openstack/murano refs/changes/51/87751/4 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/extras.d/70-murano.sh', 'contrib/devstack/lib/murano-dashboard']",2,32283d53a014b4420ea2b07df52ae78d4ff729ed,devstack-murano-dashboard,"HORIZON_LOCAL_CONFIG=${HORIZON_LOCAL_CONFIG:-$HORIZON_DIR/openstack_dashboard/local/local_settings.py}function insert_config_block() { local target_file=""$1"" local pattern=""$3"" if [[ -z ""$pattern"" ]]; then cat ""$insert_file"" >> ""$target_file"" else sed -ne ""/$pattern/r $insert_file"" -e 1x -e '2,${x;p}' -e '${x;p}' -i ""$target_file"" fi } function remove_config_block() { local label=""$2"" if [[ -f ""$config_file"" ]] && [[ -n ""$label"" ]]; then sed -e ""/^#${label}_BEGIN/,/^#${label}_END/ d"" -i ""$config_file"" remove_config_block ""$HORIZON_CONFIG"" ""MURANO_CONFIG_SECTION"" configure_settings_py configure_local_settings_py restart_service $APACHE_NAME } function configure_settings_py() { # Write changes for dashboard config to a separate file # Insert changes into dashboard config before the line matching the pattern insert_config_block ""$HORIZON_CONFIG"" ""$horizon_config_part"" ""from openstack_dashboard import policy"" } function configure_local_settings_py() { if [[ -f ""$HORIZON_LOCAL_CONFIG"" ]]; then sed -e ""s/\(^\s*OPENSTACK_HOST\s*=\).*$/\1 '$HOST_IP'/"" -i ""$HORIZON_LOCAL_CONFIG"" fi #sudo pip install bunch remove_config_block ""$HORIZON_CONFIG"" ""MURANO_CONFIG_SECTION""","MURANO_METADATACLIENT_REPO=${MURANO_METADATACLIENT_REPO:-${GIT_BASE}/stackforge/murano-metadataclient.git} MURANO_METADATACLIENT_BRANCH=${MURANO_METADATACLIENT_BRANCH:-$MURANO_BRANCH} MURANO_METADATACLIENT_DIR=$DEST/murano-metadataclient # Murano metadata endpoint MURANO_METADATA_PROTOCOL='http' MURANO_METADATA_HOST=${MURANO_METADATA_HOST:-'localhost'} MURANO_METADATA_PORT=${MURANO_METADATA_PORT:-8084} MURANO_ADVNET_MAX_HOSTS=${MURANO_ADVNET_MAX_HOSTS:-250} MURANO_ADVNET_MAX_ENVS=${MURANO_ADVNET_MAX_ENVS:-100} MURANO_ADVNET_ENV_NETWORK=${MURANO_ADVNET_ENV_NETWORK:-'10.0.0.0'} MURANO_ADVNET_TOPOLOGY=${MURANO_ADVNET_TOPOLOGY:-'routed'} function insert_murano_configuration() { local pattern=""$1"" sed -ne ""/$pattern/r $insert_file"" -e 1x -e '2,${x;p}' -e '${x;p}' -i $target_file } function remove_murano_configuration() { if [[ -f ""$config_file"" ]]; then sed -e '/^#MURANO_CONFIG_SECTION_BEGIN/,/^#MURANO_CONFIG_SECTION_END/ d' -i ""$config_file"" # Opening Murano Configuration Section ADVANCED_NETWORKING_CONFIG = { 'max_environments': $MURANO_ADVNET_MAX_ENVS, 'max_hosts': $MURANO_ADVNET_MAX_HOSTS, 'env_ip_template': '$MURANO_ADVNET_ENV_NETWORK' } NETWORK_TOPOLOGY = '$MURANO_ADVNET_TOPOLOGY' insert_murano_configuration ""from openstack_dashboard import policy"" ""$horizon_config_part"" ""$HORIZON_CONFIG"" sudo pip install bunch install_murano_metadataclientfunction install_murano_metadataclient() { #TODO (dteselkin): remove ASAP. For now it's a required dependency for murano-dashboard. git_clone $MURANO_METADATACLIENT_REPO $MURANO_METADATACLIENT_DIR $MURANO_METADATACLIENT_BRANCH setup_develop $MURANO_METADATACLIENT_DIR } remove_murano_configuration ""$HORIZON_CONFIG""",44,40
openstack%2Fmurano~master~If3c0bdc761a3280aee522672f4ce2776fb89e126,openstack/murano,master,If3c0bdc761a3280aee522672f4ce2776fb89e126,Devstack scripts update,MERGED,2014-04-15 15:17:55.000000000,2014-04-16 12:58:37.000000000,2014-04-16 12:58:37.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7227}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 10063}]","[{'number': 1, 'created': '2014-04-15 15:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/5536d7bddcaa39106c45a9c9dc904c622499f78f', 'message': ""Devstack scripts update\n\n1. Do not create Murano users and endpoints if keystone is not installed.\n2. Install 'python-mysqldb' package as it is required by 'murano-manage db-sync'\n   This package is installed by nova, neutron, keystone. In case these\n   components are not selected the package is missed.\n\nChange-Id: If3c0bdc761a3280aee522672f4ce2776fb89e126\n""}, {'number': 2, 'created': '2014-04-15 18:42:16.000000000', 'files': ['contrib/devstack/files/apts/murano', 'contrib/devstack/lib/murano'], 'web_link': 'https://opendev.org/openstack/murano/commit/b12fca744b2a75393f66b8df0c8933b9b4fcd1ba', 'message': ""Devstack scripts update\n\n1. Do not create Murano users and endpoints if keystone is not installed.\n2. Install 'python-mysqldb' package as it is required by 'murano-manage db-sync'\n   This package is installed by nova, neutron, keystone. In case these\n   components are not selected the package is missed.\n\nChange-Id: If3c0bdc761a3280aee522672f4ce2776fb89e126\n""}]",0,87690,b12fca744b2a75393f66b8df0c8933b9b4fcd1ba,13,7,2,7562,,,0,"Devstack scripts update

1. Do not create Murano users and endpoints if keystone is not installed.
2. Install 'python-mysqldb' package as it is required by 'murano-manage db-sync'
   This package is installed by nova, neutron, keystone. In case these
   components are not selected the package is missed.

Change-Id: If3c0bdc761a3280aee522672f4ce2776fb89e126
",git fetch https://review.opendev.org/openstack/murano refs/changes/90/87690/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/files/apts/murano', 'contrib/devstack/lib/murano']",2,5536d7bddcaa39106c45a9c9dc904c622499f78f,devstack-update, if ! is_service_enabled keystone; then return fi,,4,0
openstack%2Ftooz~master~I0372200abbb79d2812a0e89317518e58d754845a,openstack/tooz,master,I0372200abbb79d2812a0e89317518e58d754845a,coordination: implement lock mechanism in ZK,MERGED,2014-04-11 12:32:32.000000000,2014-04-16 12:54:20.000000000,2014-04-16 12:54:20.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 7450}]","[{'number': 1, 'created': '2014-04-11 12:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/55cf4a6a164cfaf8dcf05575757e523eaf68b2f3', 'message': 'coordination: implement lock mechanism in ZK\n\nChange-Id: I0372200abbb79d2812a0e89317518e58d754845a\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>\n'}, {'number': 2, 'created': '2014-04-11 13:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/dfb92b650a74a5b2df31320fb7469d69330f7389', 'message': 'coordination: implement lock mechanism in ZK\n\nChange-Id: I0372200abbb79d2812a0e89317518e58d754845a\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>\n'}, {'number': 3, 'created': '2014-04-14 09:08:05.000000000', 'files': ['tooz/tests/test_coordination.py', 'tooz/locking.py', 'tooz/drivers/zookeeper.py', 'tooz/coordination.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/7ac1d2110cfa7dd6b19841c6c9d8ef0f61c36c7c', 'message': 'coordination: implement lock mechanism in ZK\n\nChange-Id: I0372200abbb79d2812a0e89317518e58d754845a\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>\n'}]",4,86881,7ac1d2110cfa7dd6b19841c6c9d8ef0f61c36c7c,20,5,3,1669,,,0,"coordination: implement lock mechanism in ZK

Change-Id: I0372200abbb79d2812a0e89317518e58d754845a
Co-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@cloudwatt.com>
",git fetch https://review.opendev.org/openstack/tooz refs/changes/81/86881/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/tests/test_coordination.py', 'tooz/locking.py', 'tooz/drivers/zookeeper.py', 'tooz/coordination.py']",4,55cf4a6a164cfaf8dcf05575757e523eaf68b2f3,jd/lock," def get_lock(name): """"""Return a distributed lock. :param name: The lock name that is used to identify it across all nodes. """""" raise NotImplementedError @staticmethod",,87,0
openstack%2Ffuel-web~master~I70a467cdd25891ed7654ed9139c718e7e082f9b8,openstack/fuel-web,master,I70a467cdd25891ed7654ed9139c718e7e082f9b8,Disable UI test for network verification,MERGED,2014-04-16 11:59:40.000000000,2014-04-16 12:51:43.000000000,2014-04-16 12:51:43.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9730}]","[{'number': 1, 'created': '2014-04-16 11:59:40.000000000', 'files': ['nailgun/ui_tests/test_cluster_network.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2ce450116d900522576edf66063347780f359d9c', 'message': 'Disable UI test for network verification\n\nThis test fails randomly for unknown reason. Disable it until proper\nfix is found.\n\nChange-Id: I70a467cdd25891ed7654ed9139c718e7e082f9b8\nRelates-To: #1297232\n'}]",0,87945,2ce450116d900522576edf66063347780f359d9c,11,5,1,8735,,,0,"Disable UI test for network verification

This test fails randomly for unknown reason. Disable it until proper
fix is found.

Change-Id: I70a467cdd25891ed7654ed9139c718e7e082f9b8
Relates-To: #1297232
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/45/87945/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/ui_tests/test_cluster_network.js'],1,2ce450116d900522576edf66063347780f359d9c,remove-network-verification-test," // FIXME: disabling this assert due to bug/1297232 //this.test.assertSelectorAppears('.connect-3-error', // 'There should be atleast 1 node for dhcp check. And 2 nodes for connectivity check', 10000);"," this.test.assertSelectorAppears('.connect-3-error', 'There should be atleast 1 node for dhcp check. And 2 nodes for connectivity check', 10000);",3,2
openstack%2Frally~master~I15fe174cd9700ff34791c6980fa52ff975055e02,openstack/rally,master,I15fe174cd9700ff34791c6980fa52ff975055e02,Remove createfromenv test environment dependency,MERGED,2014-04-15 12:36:57.000000000,2014-04-16 12:42:16.000000000,2014-04-16 12:42:16.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}]","[{'number': 1, 'created': '2014-04-15 12:36:57.000000000', 'files': ['tests/cmd/commands/test_deployment.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3ab1e85cf64a121cc94ceb0984890766ea8af919', 'message': 'Remove createfromenv test environment dependency\n\nThe createfromenv deployment function uses the environment variable\nOS_REGION_NAME, but the tests did not correctly mock this variable.\nConsequently setting this env var before running tests would cause the\ntests to fail. This patch corrects the mock.\n\nChange-Id: I15fe174cd9700ff34791c6980fa52ff975055e02\nCloses-Bug: #1308029\n'}]",0,87586,3ab1e85cf64a121cc94ceb0984890766ea8af919,7,3,1,7217,,,0,"Remove createfromenv test environment dependency

The createfromenv deployment function uses the environment variable
OS_REGION_NAME, but the tests did not correctly mock this variable.
Consequently setting this env var before running tests would cause the
tests to fail. This patch corrects the mock.

Change-Id: I15fe174cd9700ff34791c6980fa52ff975055e02
Closes-Bug: #1308029
",git fetch https://review.opendev.org/openstack/rally refs/changes/86/87586/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/cmd/commands/test_deployment.py'],1,3ab1e85cf64a121cc94ceb0984890766ea8af919,bug1308029," 'OS_REGION_NAME': 'fake_region_name', ""tenant_name"": 'fake_tenant_name', ""region_name"": 'fake_region_name'"," ""tenant_name"": 'fake_tenant_name'",3,1
openstack%2Frally~master~I61c9059d6721a0c94ca1ec5a8be14ad744c85d30,openstack/rally,master,I61c9059d6721a0c94ca1ec5a8be14ad744c85d30,Add LxcEngine,MERGED,2013-11-13 14:40:48.000000000,2014-04-16 12:37:52.000000000,2014-04-16 12:37:52.000000000,"[{'_account_id': 3}, {'_account_id': 1531}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 7763}, {'_account_id': 8507}, {'_account_id': 9548}, {'_account_id': 10475}]","[{'number': 1, 'created': '2013-11-13 14:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/016d05e80b1686adefd017f549b422bdc67d7cfb', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 2, 'created': '2013-11-13 14:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/140b0bf75a252610c23dade5c1055e5d7373e26a', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 3, 'created': '2013-11-14 13:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/09b86a355a0cb8c246a1afee81f392b35b2c6aa7', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 4, 'created': '2013-11-19 10:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5d74b78cd135306d2c808702eb667d72d28f5e86', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 5, 'created': '2013-11-20 21:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2a2a30e3eb7a16561da42670309bd031f35794a9', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 6, 'created': '2013-11-21 09:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bd5c536aaf06ec8a57cce310321a261936242247', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 7, 'created': '2013-11-21 18:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e88452cec8fa881d17940eca0dcd851a1cb88a64', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 8, 'created': '2013-11-25 16:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6603c38f70f267da3b8874d034ab2a1c2e4b0f0b', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 9, 'created': '2013-11-28 10:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/316b385ad36fce8785dedc6aec172d2cb67f5795', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 10, 'created': '2013-11-29 15:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5d31df107f485256e66e19f66557d62c1c32970c', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 11, 'created': '2013-11-29 16:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4959cffea47baabc760a647fefabed953aa54875', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 12, 'created': '2014-01-20 09:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6b1f1227da19804f9ce17a93f899345d6e73e235', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 13, 'created': '2014-01-20 10:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/373369f929fa8bced865a28508e46797b1a2732c', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 14, 'created': '2014-01-21 10:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b2fc30ada92cfb0519f3f116a0546110896c9ad2', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 15, 'created': '2014-01-21 16:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/accfa70af9fc377548d6cd3707bb52d374bbedd2', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 16, 'created': '2014-01-22 09:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/24637f7896fa14d35ed06dc1dfc2dd1efddf0458', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 17, 'created': '2014-01-23 08:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/96db61ca13390d4dc2e9b6a4d0f4cbd1be16972a', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 18, 'created': '2014-01-27 10:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b269f53d1d805277bd5abfc03895be11fcb61367', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 19, 'created': '2014-01-27 14:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3f27552286da72cf426508d6765afaa356ea58d2', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnel is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 20, 'created': '2014-01-28 14:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f73fab23a1f0e51522de37c642707ed18d28843a', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 21, 'created': '2014-02-04 14:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/526ac6df44913d0c418f8d41f26f214324aa0c75', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 22, 'created': '2014-02-11 14:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/acb457d4ae796f1d19879125a42f9bc073e9b1ad', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 23, 'created': '2014-02-21 09:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/93d7b2d36e03c12bae7d034b5acb4f585a60afbd', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 24, 'created': '2014-02-24 18:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c484a9337682e77bf71714d1a9eeae9ebe154dd9', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 25, 'created': '2014-02-26 08:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5fae240691c3ea9d4d817f6ad7467cfd3ad7ca97', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 26, 'created': '2014-03-11 09:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ee3e844a5f9b22a0ea4199d0f1d8491937dc3936', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 27, 'created': '2014-03-18 10:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/11bef5d773f7d325ddfec68abc03cdb5d968d535', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 28, 'created': '2014-03-18 10:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7675a42ad3b510b7a1c43240fd7771233074d032', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 29, 'created': '2014-03-18 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f941fb351d60941430dba081f7460b565f37ff4a', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 30, 'created': '2014-04-14 14:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/25f1f81c06c372be5c8ef1b2ca5284d433540754', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 31, 'created': '2014-04-16 09:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bed93443793b17e8dbc7547c091b81a9cab9979c', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}, {'number': 32, 'created': '2014-04-16 10:13:25.000000000', 'files': ['doc/samples/deployments/devstack-lxc-engine-in-dummy.rst', 'tests/deploy/test_lxc.py', 'doc/samples/deployments/devstack-lxc-engine-in-dummy.json', 'rally/deploy/engines/lxc/start.sh', 'rally/deploy/engines/lxc.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3916d0ed8d51cfc4c068768723a887ac3bd00892', 'message': 'Add LxcEngine\n\nThis engine make one deployment into lxc container, and then make\nN clones of this container.\nAlso it can create tunnel to specified host. Tunnels is usable\nwhen Openstack provider is used.\n\nblueprint multihost-deploy\n\nChange-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30\n'}]",17,56222,3916d0ed8d51cfc4c068768723a887ac3bd00892,112,8,32,7369,,,0,"Add LxcEngine

This engine make one deployment into lxc container, and then make
N clones of this container.
Also it can create tunnel to specified host. Tunnels is usable
when Openstack provider is used.

blueprint multihost-deploy

Change-Id: I61c9059d6721a0c94ca1ec5a8be14ad744c85d30
",git fetch https://review.opendev.org/openstack/rally refs/changes/22/56222/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/sample/sample-lxc-engine.json', 'rally/deploy/engines/lxc/start.sh', 'rally/deploy/engines/lxc.py']",3,016d05e80b1686adefd017f549b422bdc67d7cfb,bp/multihost-deploy,"# Copyright 2013: Mirantis Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import netaddr import os import uuid from rally.deploy import engine from rally.openstack.common.gettextutils import _ # noqa from rally.openstack.common import log as logging from rally.serverprovider import provider from rally.serverprovider.providers import lxc from rally import utils LOG = logging.getLogger(__name__) class LxcEngine(engine.EngineFactory): def __init__(self, task, config): self.task = task self.config = config self.containers = [] def _next_ip(self): self.ip += 1 return '%s/%d' % (self.ip, self.network.prefixlen) @utils.log_task_wrapper(LOG.info, _(""Provide host(s) for LXC"")) def _get_servers(self): self.provider = provider.ProviderFactory.get_provider( self.config['provider'], self.task) return self.provider.create_vms() def _make_clone(self, server, config, name): ip = self._next_ip() config.update({'ip': ip, 'name': '%s-%s' % (name, ip.split('/')[0])}) container = lxc.LxcContainer(server, config) container.clone(name) container.start() return container def _deploy_first(self, server, container_config): container = lxc.LxcContainer(server, container_config) container.prepare_host() container.create(self.config['distribution']) container.start() container.server.ssh.wait(timeout=120) engine_config = self.config['engine'] engine_config['provider'] = { 'name': 'DummyProvider', 'credentials': ['%s@%s' % (container.server.user, container.server.ip)]} deployer = engine.EngineFactory.get_engine(engine_config['name'], self.task, engine_config) deployer.deploy() container.stop() return container @utils.log_task_wrapper(LOG.info, _(""Create containers on host"")) def deploy(self): config = self.config['container_config'] self.network = netaddr.IPNetwork(config['start_ip_address']) self.ip = self.network.ip - 1 first = str(uuid.uuid4()) for server in self._get_servers(): config.update({'ip': self._next_ip(), 'name': first}) first_container = self._deploy_first(server, config) self.containers.append(first_container) for i in range(1, self.config['nodes_per_server']): container = self._make_clone(server, config, first) self.containers.append(container) first_container.start() for container in self.containers: container.server.ssh.wait(timeout=120) container.server.ssh.execute_script(os.path.abspath( os.path.expanduser(self.config['start_script']))) def cleanup(self): for container in self.containers: container.stop() container.destroy() self.provider.destroy_vms() ",,132,0
openstack%2Frally~master~I43edf5df7dae50faa71ad60b8760636705493a8e,openstack/rally,master,I43edf5df7dae50faa71ad60b8760636705493a8e,Allow to call task delete without specifying --uuid parameter,MERGED,2014-04-16 09:44:13.000000000,2014-04-16 12:35:19.000000000,2014-04-16 12:35:19.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7309}, {'_account_id': 7369}]","[{'number': 1, 'created': '2014-04-16 09:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5a74629c6c58c6621d202d779b22bd295d4e4a1f', 'message': 'Allow to call task delete without specifying --uuid parameter.\n\nThis patch restore the previous usage of the delete command.\n\nChange-Id: I43edf5df7dae50faa71ad60b8760636705493a8e\ncloses-bug: #1301360\n'}, {'number': 2, 'created': '2014-04-16 11:00:56.000000000', 'files': ['tests/cmd/commands/test_task.py', 'rally/cmd/commands/task.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/73fe0d31bd46fcc3c0ea14791600007204460f3f', 'message': 'Allow to call task delete without specifying --uuid parameter\n\nThis patch restore the previous usage of the delete command.\n\nChange-Id: I43edf5df7dae50faa71ad60b8760636705493a8e\ncloses-bug: #1301360\n'}]",0,87891,73fe0d31bd46fcc3c0ea14791600007204460f3f,10,4,2,7309,,,0,"Allow to call task delete without specifying --uuid parameter

This patch restore the previous usage of the delete command.

Change-Id: I43edf5df7dae50faa71ad60b8760636705493a8e
closes-bug: #1301360
",git fetch https://review.opendev.org/openstack/rally refs/changes/91/87891/2 && git format-patch -1 --stdout FETCH_HEAD,['rally/cmd/commands/task.py'],1,5a74629c6c58c6621d202d779b22bd295d4e4a1f,bug/1301360," def delete(self, task_id=None, force=False):"," def delete(self, force, task_id=None):",1,1
openstack%2Fopenstack-manuals~master~I31e02f48975c7050022ee6fb8f31b878c6b508ff,openstack/openstack-manuals,master,I31e02f48975c7050022ee6fb8f31b878c6b508ff,Add info on how to add Database service (Trove),MERGED,2014-04-13 19:53:16.000000000,2014-04-16 12:32:47.000000000,2014-04-16 12:32:46.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 2340}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 9770}]","[{'number': 1, 'created': '2014-04-13 19:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4cbb798b5d5a4db4ac152b17dea63bfc1631397f', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 2, 'created': '2014-04-14 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b4c95aff3368f9527ac8175084f7a97b43038864', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 3, 'created': '2014-04-15 10:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c3fd9f27bb9dffc5133702e9bc4b66e457dd7505', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 4, 'created': '2014-04-16 09:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8f34f837b599a0ded393ab991eae2f04cf703492', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 5, 'created': '2014-04-16 09:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/02f263f8722c7125ca8831079018e9ad88ff3acf', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 6, 'created': '2014-04-16 09:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5b87375648c06fe0a8f1dae28f0b7dc4f4cd971a', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 7, 'created': '2014-04-16 10:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6c06771df0b5069b2ac33129f32160442b558f93', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 8, 'created': '2014-04-16 10:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a9d16992a23400a462f2c42e2154d299e3241d17', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 9, 'created': '2014-04-16 10:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/282e44d8c99cee281d6d6d1e3b54ec07d664723f', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 10, 'created': '2014-04-16 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e72b7dfb44692ef10f6e7a2309a9cf78b587b0a9', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 11, 'created': '2014-04-16 10:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ecfca4b2c7b5cb11aa996523f7dc6a68efa9731d', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 12, 'created': '2014-04-16 10:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e2c0133069e0fca9059664efe1b61d4d36728a25', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- packaging not done\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriat level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 13, 'created': '2014-04-16 11:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c9a326f1f2ecde060a103846f24f7356068b779f', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriate level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 14, 'created': '2014-04-16 11:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8a5211b7ce07c8a47b161564e03870c24f799197', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriate level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 15, 'created': '2014-04-16 11:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dc12cff5618f2f32a589213c515c2c4202ecc9c7', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriate level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}, {'number': 16, 'created': '2014-04-16 12:06:30.000000000', 'files': ['doc/install-guide/bk_openstackinstallguide.xml', 'doc/install-guide/section_trove-install.xml', 'doc/install-guide/section_trove-verify.xml', 'doc/common/section_getstart_trove.xml', 'doc/install-guide/ch_trove.xml', 'doc/install-guide/section_basics-passwords.xml', 'doc/install-guide/app_reserved_uids.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1ff983782a5c7453ad93fa164935e70a01df2cf8', 'message': 'Add info on how to add Database service (Trove)\n\nThe install guide did not have a chapter on how to add the\nDatabase service. Created one with the following sections:\noverview, install, verify.\n\nThis draft reflects the fact that some technical issues are still\nbeing worked out:\n\n-- image creation questions. Before you can use Trove, you need to\ncreate an image for each flavor of database you want to have\n(MySQL, MongoDB, etc.) The appropriate level of documentation\nfor this step is still under discussion and has not yet been\ndetermined.\n\nChange-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff\nPartial-Bug: #1304584\n'}]",80,87135,1ff983782a5c7453ad93fa164935e70a01df2cf8,76,6,16,9770,,,0,"Add info on how to add Database service (Trove)

The install guide did not have a chapter on how to add the
Database service. Created one with the following sections:
overview, install, verify.

This draft reflects the fact that some technical issues are still
being worked out:

-- image creation questions. Before you can use Trove, you need to
create an image for each flavor of database you want to have
(MySQL, MongoDB, etc.) The appropriate level of documentation
for this step is still under discussion and has not yet been
determined.

Change-Id: I31e02f48975c7050022ee6fb8f31b878c6b508ff
Partial-Bug: #1304584
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/35/87135/16 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/bk_openstackinstallguide.xml', 'doc/install-guide/section_trove-install.xml', 'doc/install-guide/section_trove-verify.xml', 'doc/common/section_getstart_trove.xml', 'doc/install-guide/ch_trove.xml']",5,4cbb798b5d5a4db4ac152b17dea63bfc1631397f,fix-bug-1304584,"ï»¿<?xml version=""1.0"" encoding=""UTF-8""?> <chapter xmlns=""http://docbook.org/ns/docbook"" xmlns:xi=""http://www.w3.org/2001/XInclude"" xmlns:xlink=""http://www.w3.org/1999/xlink"" version=""5.0"" xml:id=""ch_trove""> <title>Add the Database service</title> <para>Use the Database module to create cloud database resources. The integrated project name is Trove.</para> <xi:include href=""../common/section_getstart_trove.xml""/> <xi:include href=""section_trove-install.xml"" /> <xi:include href=""section_trove-verify.xml"" /> </chapter>",,406,1
openstack%2Fmanila~master~I2f0feb407e2e8c064325fa2b83d08fdc410ee7f8,openstack/manila,master,I2f0feb407e2e8c064325fa2b83d08fdc410ee7f8,Add rule show to manila api,ABANDONED,2014-04-09 08:43:54.000000000,2014-04-16 12:32:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2417}]","[{'number': 1, 'created': '2014-04-09 08:43:54.000000000', 'files': ['manila/api/contrib/share_actions.py', 'manila/tests/api/contrib/test_share_actions.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/644d8b7d7fa74905ba4004c235d5817892ad0c42', 'message': 'Add rule show to manila api\n\nAdded method _access_show to api/contrib/share_actions\n\nFixes bug 1304913\n\nChange-Id: I2f0feb407e2e8c064325fa2b83d08fdc410ee7f8\n'}]",0,86255,644d8b7d7fa74905ba4004c235d5817892ad0c42,6,2,1,7534,,,0,"Add rule show to manila api

Added method _access_show to api/contrib/share_actions

Fixes bug 1304913

Change-Id: I2f0feb407e2e8c064325fa2b83d08fdc410ee7f8
",git fetch https://review.opendev.org/openstack/manila refs/changes/55/86255/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/contrib/share_actions.py', 'manila/tests/api/contrib/test_share_actions.py']",2,644d8b7d7fa74905ba4004c235d5817892ad0c42,bug/1304913," def test_access_show(self): def _fake_acess_get(*args, **kwargs): return {""state"": ""fakestatus"", ""id"": ""fake_rule_id"", ""access_type"": ""fakeip"", ""access_to"": ""127.0.0.1""} self.stubs.Set(share_api.API, ""access_get"", _fake_acess_get) id = 'fake_rule_id' body = {""os-access_show"": {""access_id"": id}} req = fakes.HTTPRequest.blank('/v1/tenant1/shares/%s/action' % id) res_dict = self.controller._access_show(req, id, body) expected = _fake_acess_get() self.assertEqual(res_dict['access_details'], expected)",,23,3
openstack%2Fhorizon~master~I8c3207979866ce2ab2a78c3da938219eceae8107,openstack/horizon,master,I8c3207979866ce2ab2a78c3da938219eceae8107,Centre piecharts properly,MERGED,2014-04-14 03:19:40.000000000,2014-04-16 12:25:11.000000000,2014-04-16 12:25:10.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 5733}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 7386}, {'_account_id': 7976}, {'_account_id': 8090}, {'_account_id': 9317}, {'_account_id': 9552}, {'_account_id': 9622}, {'_account_id': 10112}, {'_account_id': 10295}]","[{'number': 1, 'created': '2014-04-14 03:19:40.000000000', 'files': ['horizon/static/horizon/js/horizon.d3piechart.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4ef8a98f82c704e9593040eeb289d48e5039d48', 'message': ""Centre piecharts properly\n\nThe overview piecharts are slightly off-centre and it's hurting my\nbrain.\n\nChange-Id: I8c3207979866ce2ab2a78c3da938219eceae8107\nCloses-bug: 1307279\n""}]",0,87155,d4ef8a98f82c704e9593040eeb289d48e5039d48,21,13,1,5733,,,0,"Centre piecharts properly

The overview piecharts are slightly off-centre and it's hurting my
brain.

Change-Id: I8c3207979866ce2ab2a78c3da938219eceae8107
Closes-bug: 1307279
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/87155/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.d3piechart.js'],1,d4ef8a98f82c704e9593040eeb289d48e5039d48,bug/1307279," ""translate("" + (WIDTH / 2) + "","" + (HEIGHT / 2) + "")"");"," ""translate("" + (RADIUS + 2) + "","" + (RADIUS + 2) + "")"");",1,1
openstack%2Factivity-board~master~I5f2d49a18b82f6f590a70a8da87741d5fe8e8cb4,openstack/activity-board,master,I5f2d49a18b82f6f590a70a8da87741d5fe8e8cb4,Add legend to charts and adjust them in the HTML,MERGED,2014-04-16 12:02:30.000000000,2014-04-16 12:23:37.000000000,2014-04-16 12:23:37.000000000,"[{'_account_id': 3}, {'_account_id': 8000}]","[{'number': 1, 'created': '2014-04-16 12:02:30.000000000', 'files': ['browser/irc.html', 'browser/scr.html', 'data/metrics.json', 'browser/qaforums.html', 'browser/scm.html', 'browser/its.html', 'vizgrimoire.min.js', 'browser/mls.html'], 'web_link': 'https://opendev.org/openstack/activity-board/commit/f0f435ee0907f1e66b665c82f03234254ebb6f2c', 'message': 'Add legend to charts and adjust them in the HTML\n\nChange-Id: I5f2d49a18b82f6f590a70a8da87741d5fe8e8cb4\n'}]",0,87947,f0f435ee0907f1e66b665c82f03234254ebb6f2c,6,2,1,8710,,,0,"Add legend to charts and adjust them in the HTML

Change-Id: I5f2d49a18b82f6f590a70a8da87741d5fe8e8cb4
",git fetch https://review.opendev.org/openstack/activity-board refs/changes/47/87947/1 && git format-patch -1 --stdout FETCH_HEAD,"['browser/irc.html', 'browser/scr.html', 'data/metrics.json', 'browser/qaforums.html', 'browser/scm.html', 'browser/its.html', 'vizgrimoire.min.js', 'browser/mls.html']",8,f0f435ee0907f1e66b665c82f03234254ebb6f2c,legends-on-charts," <!-- time to attention --> <div class=""row-fluid""> <div class=""span12""> <div class=""well""> <h4>Time to Attention of Messages</h4> * (in hours) <div class=""TimeTo"" data-data-source=""mls"" data-type=""attention"" data-quantil=""X0.95,X0.5""></div> </div> </div> </div> <!-- end time to attention --> <div class=""Top"" data-data-source=""mls"" data-period_all=""true"" data-metric=""senders"" data-limit=""10"""," <div class=""Top"" data-data-source=""mls"" data-period=""last month"" data-metric=""senders"" data-limit=""9"" <!-- time to attention --> <div class=""row-fluid""> <div class=""span6""> <div class=""well""> <h4>Time to Attention of Messages</h4> * (in hours) <div class=""TimeTo"" data-data-source=""mls"" data-type=""attention"" data-quantil=""X0.95,X0.5""></div> </div> </div> <div class=""span6""></div> </div> <!-- end time to attention -->",74,69
openstack%2Ftripleo-image-elements~master~I4720b61eb0fd15e539564edd25843f8332478abf,openstack/tripleo-image-elements,master,I4720b61eb0fd15e539564edd25843f8332478abf,debian: use os-svc-enable to enable apache,MERGED,2014-04-11 16:27:25.000000000,2014-04-16 12:20:56.000000000,2014-04-16 12:20:56.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 4330}, {'_account_id': 6476}, {'_account_id': 6488}, {'_account_id': 6928}, {'_account_id': 9268}, {'_account_id': 9712}]","[{'number': 1, 'created': '2014-04-11 16:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/05c6069140b19b3171131c087a7707052df60d95', 'message': ""debian: properly enable apache2\n\nOn Debian, the apache2 package doesn't provide any init script.\nWith this patch we use the standard way to enable a service on\nDebian.\n\nChange-Id: I4720b61eb0fd15e539564edd25843f8332478abf\n""}, {'number': 2, 'created': '2014-04-11 21:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5b332161a89a8f9eb69f4b7c19c1a93119c5d524', 'message': ""debian: avoid systemctl failure\n\nOn Debian, the apache2 package doesn't provide any systemd init script.\nThat's why the following call return an error:\n\n  systemctl enable httpd.service\n\nMoreover, the service will probably called apache2 on Debian, not httpd.\n\nWith this patch we use the standard way to enable a service on Debian,\neven if the service, should already be enabled during the package installation.\n\nChange-Id: I4720b61eb0fd15e539564edd25843f8332478abf\n""}, {'number': 3, 'created': '2014-04-12 16:54:36.000000000', 'files': ['elements/apache2/element-deps', 'elements/apache2/post-install.d/15-apache2'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/686a5e958cf470080a483e3428d8e501080bfe59', 'message': 'debian: use os-svc-enable to enable apache\n\napache service is called âhttpdâ on RHEL/Fedora and apache2 on\nDebian/Ubuntu/Fedora.\n\nAs pointed by Ben Nemec, os-svc-enable is best way to deal with this\ncomplexity and thus support all the operating system properly.\n\nThis commit requires change I125c46bebb0342ee3bdb957116e7c7e8e27a2ecc\non diskimage-builder to be able to enable apache with os-svc-enable.\n\nChange-Id: I4720b61eb0fd15e539564edd25843f8332478abf\n'}]",12,86951,686a5e958cf470080a483e3428d8e501080bfe59,33,9,3,9268,,,0,"debian: use os-svc-enable to enable apache

apache service is called âhttpdâ on RHEL/Fedora and apache2 on
Debian/Ubuntu/Fedora.

As pointed by Ben Nemec, os-svc-enable is best way to deal with this
complexity and thus support all the operating system properly.

This commit requires change I125c46bebb0342ee3bdb957116e7c7e8e27a2ecc
on diskimage-builder to be able to enable apache with os-svc-enable.

Change-Id: I4720b61eb0fd15e539564edd25843f8332478abf
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/51/86951/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/apache2/post-install.d/15-apache2'],1,05c6069140b19b3171131c087a7707052df60d95,debian,"if [ -f ""/etc/debian_version"" ]; then sudo update-rc.d apache2 enable else if [ ""$DIB_INIT_SYSTEM"" == ""systemd"" ]; then systemctl enable httpd.service fi","if [ ""$DIB_INIT_SYSTEM"" == ""systemd"" ]; then systemctl enable httpd.service",6,2
openstack%2Ffuel-web~master~I3e998a9f3d5dfd9c293737ec2bee325f6aa29b03,openstack/fuel-web,master,I3e998a9f3d5dfd9c293737ec2bee325f6aa29b03,Grunt i18n task name fix,MERGED,2014-04-16 11:06:12.000000000,2014-04-16 11:47:18.000000000,2014-04-16 11:47:17.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-16 11:06:12.000000000', 'files': ['nailgun/grunt/i18n.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9e1c7e01b72f33ddf29843dc2989e6d73b21ee41', 'message': 'Grunt i18n task name fix\n\nChange-Id: I3e998a9f3d5dfd9c293737ec2bee325f6aa29b03\n'}]",0,87932,9e1c7e01b72f33ddf29843dc2989e6d73b21ee41,8,3,1,8735,,,0,"Grunt i18n task name fix

Change-Id: I3e998a9f3d5dfd9c293737ec2bee325f6aa29b03
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/32/87932/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/grunt/i18n.js'],1,9e1c7e01b72f33ddf29843dc2989e6d73b21ee41,grunt-task-name-fix," grunt.registerTask('i18n', 'Search for missing keys from different locales in translation.json', function(task, param) {"," grunt.registerTask('i18n-vk', 'Search for missing keys from different locales in translation.json', function(task, param) {",1,1
openstack%2Fmurano~master~Ibac191e73800fc47153ec87b35ef48bfd5e453bd,openstack/murano,master,Ibac191e73800fc47153ec87b35ef48bfd5e453bd,Add tag assignment during manifest parsing,MERGED,2014-04-15 12:30:27.000000000,2014-04-16 11:46:31.000000000,2014-04-16 11:46:31.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 10063}]","[{'number': 1, 'created': '2014-04-15 12:30:27.000000000', 'files': ['muranoapi/packages/versions/v1.py', 'muranoapi/api/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/5d018e2d1d494514935b565afa0e6303581f5cb8', 'message': 'Add tag assignment during manifest parsing\n\nAfter this fix all tags, specified in manifest will be avaliable in UI\n\nChange-Id: Ibac191e73800fc47153ec87b35ef48bfd5e453bd\n'}]",0,87581,5d018e2d1d494514935b565afa0e6303581f5cb8,9,6,1,7549,,,0,"Add tag assignment during manifest parsing

After this fix all tags, specified in manifest will be avaliable in UI

Change-Id: Ibac191e73800fc47153ec87b35ef48bfd5e453bd
",git fetch https://review.opendev.org/openstack/murano refs/changes/81/87581/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoapi/api/v1/__init__.py', 'muranoapi/packages/versions/v1.py']",2,5d018e2d1d494514935b565afa0e6303581f5cb8,fix_getting_tags_from_manifest, package._tags = yaml_content.get('Tags'),,3,1
openstack%2Fsahara~master~Idef2eedceeb605c8d36574e3a59fe75e23418da4,openstack/sahara,master,Idef2eedceeb605c8d36574e3a59fe75e23418da4,Fixed wrong use of SaharaException,MERGED,2014-04-04 18:22:04.000000000,2014-04-16 11:36:47.000000000,2014-04-16 11:36:47.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7604}, {'_account_id': 7700}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8304}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-04-04 18:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/46bb10f6ac92727c3fa56a3f17cbe70349004f8e', 'message': ""Fixed wrong use of SaharaException\n\nSaharaException constructor doesn't take any parameters.\nNotFoundException is more applicable here.\n\nChange-Id: Idef2eedceeb605c8d36574e3a59fe75e23418da4\n""}, {'number': 2, 'created': '2014-04-07 14:52:47.000000000', 'files': ['sahara/plugins/vanilla/v2_3_0/config_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/7846500f43190794c5e8edfc3a3795f1aafcf25b', 'message': ""Fixed wrong use of SaharaException\n\nSaharaException constructor doesn't take any parameters.\nNotFoundException is more applicable here.\n\nChange-Id: Idef2eedceeb605c8d36574e3a59fe75e23418da4\n""}]",4,85439,7846500f43190794c5e8edfc3a3795f1aafcf25b,47,12,2,8411,,,0,"Fixed wrong use of SaharaException

SaharaException constructor doesn't take any parameters.
NotFoundException is more applicable here.

Change-Id: Idef2eedceeb605c8d36574e3a59fe75e23418da4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/39/85439/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/vanilla/v2_3_0/config_helper.py'],1,46bb10f6ac92727c3fa56a3f17cbe70349004f8e,(detached," raise ex.NotFoundException( name, ""Unable get parameter '%s' from service %s"" % (name, service))"," raise ex.SaharaException(""Unable get parameter '%s' from service %s"", name, service)",2,2
openstack%2Fdesignate~master~I8f3fff1e2a3ccf5bc744e5f18f41234e77151638,openstack/designate,master,I8f3fff1e2a3ccf5bc744e5f18f41234e77151638,Set a Configurable Minimum TTL,MERGED,2014-04-08 19:39:08.000000000,2014-04-16 11:17:50.000000000,2014-04-16 11:17:50.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 10240}]","[{'number': 1, 'created': '2014-04-08 19:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b36a738fca849899611f0d187c40a63178d43a03', 'message': 'Set a Configurable Minimum TTL\n\nEnable a configuration value to set a sitewide minimum TTL\nImplements: blueprint ttl-minimum\n\nChange-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638\n'}, {'number': 2, 'created': '2014-04-08 19:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/935c0826bca81436e68a940386b81f8d3cbcb001', 'message': 'Set a Configurable Minimum TTL\n\nEnable a configuration value to set a sitewide minimum TTL\nImplements: blueprint ttl-minimum\n\nChange-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638\n'}, {'number': 3, 'created': '2014-04-08 19:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6ae84dbd987e6cb9df5ecabe973a544d4591bacb', 'message': 'Set a Configurable Minimum TTL\n\nEnable a configuration value to set a sitewide minimum TTL\nImplements: blueprint ttl-minimum\n\nChange-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638\n'}, {'number': 4, 'created': '2014-04-10 19:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ff27fef0c23b16b91b7078f2011e753ba848cb02', 'message': 'Set a Configurable Minimum TTL\n\nEnable a configuration value to set a sitewide minimum TTL\nImplements: blueprint ttl-minimum\n\nChange-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638\n'}, {'number': 5, 'created': '2014-04-10 21:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6c7c35036ae5015aded477e095a8911bb0a6ff5d', 'message': 'Set a Configurable Minimum TTL\n\nEnable a configuration value to set a sitewide minimum TTL\nImplements: blueprint ttl-minimum\n\nChange-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638\n'}, {'number': 6, 'created': '2014-04-15 20:36:33.000000000', 'files': ['etc/designate/policy.json', 'designate/exceptions.py', 'designate/central/service.py', 'etc/designate/designate.conf.sample', 'designate/central/__init__.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5442ee202ebe1008d2e04da429da90427754bfc9', 'message': 'Set a Configurable Minimum TTL\n\nEnable a configuration value to set a sitewide minimum TTL\nImplements: blueprint ttl-minimum\n\nChange-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638\n'}]",6,86130,5442ee202ebe1008d2e04da429da90427754bfc9,30,5,6,8174,,,0,"Set a Configurable Minimum TTL

Enable a configuration value to set a sitewide minimum TTL
Implements: blueprint ttl-minimum

Change-Id: I8f3fff1e2a3ccf5bc744e5f18f41234e77151638
",git fetch https://review.opendev.org/openstack/designate refs/changes/30/86130/5 && git format-patch -1 --stdout FETCH_HEAD,"['designate/exceptions.py', 'etc/designate/policy.json', 'designate/central/service.py', 'designate/central/__init__.py', 'etc/designate/designate.conf.sample']",5,b36a738fca849899611f0d187c40a63178d43a03,bp/ttl-minimum,# Minimum TTL #min_ttl = 3600,,32,1
openstack%2Fpython-designateclient~master~I9ca85b64505d3331fd0bd458c31163cc243e7b34,openstack/python-designateclient,master,I9ca85b64505d3331fd0bd458c31163cc243e7b34,designate record-list should display record data,MERGED,2014-04-16 09:08:16.000000000,2014-04-16 11:09:34.000000000,2014-04-16 11:09:34.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 10240}]","[{'number': 1, 'created': '2014-04-16 09:08:16.000000000', 'files': ['designateclient/cli/records.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/6025437b65c50d52d3685d0a94eb33082dac9cc2', 'message': 'designate record-list should display record data\n\ndesignate record-list currently only displays id, type and name. It would be\nvery useful if the actual data was also displayed, as running a record-get on\neach id to obtain this information is very time-consuming.\n\nThis patch improves the output so that it is in the following format:\n\n+--------------------------------------+------+-----------------------------+--------------+\n| id                                   | type | name                        | data         |\n+--------------------------------------+------+-----------------------------+--------------+\n| 8a6b789b-71bc-43b6-91eb-9a0790ee1052 | A    | netapp-c1.rc.nectar.org.au. | 172.22.20.71 |\n| aa609885-3f8d-4ed6-9de4-3204448281e1 | A    | netapp-c2.rc.nectar.org.au. | 172.22.20.72 |\n+--------------------------------------+------+-----------------------------+--------------+\n\nChange-Id: I9ca85b64505d3331fd0bd458c31163cc243e7b34\nCloses-Bug: #1308414\n'}]",0,87877,6025437b65c50d52d3685d0a94eb33082dac9cc2,8,4,1,6851,,,0,"designate record-list should display record data

designate record-list currently only displays id, type and name. It would be
very useful if the actual data was also displayed, as running a record-get on
each id to obtain this information is very time-consuming.

This patch improves the output so that it is in the following format:

+--------------------------------------+------+-----------------------------+--------------+
| id                                   | type | name                        | data         |
+--------------------------------------+------+-----------------------------+--------------+
| 8a6b789b-71bc-43b6-91eb-9a0790ee1052 | A    | netapp-c1.rc.nectar.org.au. | 172.22.20.71 |
| aa609885-3f8d-4ed6-9de4-3204448281e1 | A    | netapp-c2.rc.nectar.org.au. | 172.22.20.72 |
+--------------------------------------+------+-----------------------------+--------------+

Change-Id: I9ca85b64505d3331fd0bd458c31163cc243e7b34
Closes-Bug: #1308414
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/77/87877/1 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/cli/records.py'],1,6025437b65c50d52d3685d0a94eb33082dac9cc2,bug/1308414," columns = ['id', 'type', 'name', 'data']"," columns = ['id', 'type', 'name']",1,1
openstack%2Ftempest~master~Idfcdcd84207d5958011b7a748e59f6414000bbc9,openstack/tempest,master,Idfcdcd84207d5958011b7a748e59f6414000bbc9,Check  get_vnc_console attributes of Nova APIs,MERGED,2014-04-02 06:39:46.000000000,2014-04-16 11:00:22.000000000,2014-04-16 11:00:21.000000000,"[{'_account_id': 3}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6348}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-02 06:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fba5f9721de24c88f0e86525314924080182e350', 'message': 'Check  get_vnc_console attributes of Nova APIs\n\nThis patch adds the JSON schema for Nova V2 & V3 get_vnc_console\nserver action APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of get_vnc_console V2 & V3 APIs is same and given\nbelow:\n\n{\n    ""console"": {\n        ""type"": ""novnc"",\n        ""url"": ""http://127.0.0.1:6080/vnc_auto.html?token=%(uuid)s""\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: Idfcdcd84207d5958011b7a748e59f6414000bbc9\n'}, {'number': 2, 'created': '2014-04-04 03:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/68251b164cc3c502a7b8d9a162082f257a56b964', 'message': 'Check  get_vnc_console attributes of Nova APIs\n\nThis patch adds the JSON schema for Nova V2 & V3 get_vnc_console\nserver action APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of get_vnc_console V2 & V3 APIs is same and given\nbelow:\n\n{\n    ""console"": {\n        ""type"": ""novnc"",\n        ""url"": ""http://127.0.0.1:6080/vnc_auto.html?token=%(uuid)s""\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: Idfcdcd84207d5958011b7a748e59f6414000bbc9\n'}, {'number': 3, 'created': '2014-04-11 06:44:24.000000000', 'files': ['tempest/services/compute/json/servers_client.py', 'tempest/services/compute/v3/json/servers_client.py', 'tempest/api_schema/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6d30404020cb5db5cb55bb7a836971c3a750d0b', 'message': 'Check  get_vnc_console attributes of Nova APIs\n\nThis patch adds the JSON schema for Nova V2 & V3 get_vnc_console\nserver action APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of get_vnc_console V2 & V3 APIs is same and given\nbelow:\n\n{\n    ""console"": {\n        ""type"": ""novnc"",\n        ""url"": ""http://127.0.0.1:6080/vnc_auto.html?token=%(uuid)s""\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: Idfcdcd84207d5958011b7a748e59f6414000bbc9\n'}]",3,84636,d6d30404020cb5db5cb55bb7a836971c3a750d0b,35,7,3,8556,,,0,"Check  get_vnc_console attributes of Nova APIs

This patch adds the JSON schema for Nova V2 & V3 get_vnc_console
server action APIs response and validate the response with added
JSON schema to block the backward incompatibility change in the future.

The response body of get_vnc_console V2 & V3 APIs is same and given
below:

{
    ""console"": {
        ""type"": ""novnc"",
        ""url"": ""http://127.0.0.1:6080/vnc_auto.html?token=%(uuid)s""
    }
}

Partially implements blueprint nova-api-attribute-test

Change-Id: Idfcdcd84207d5958011b7a748e59f6414000bbc9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/84636/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/servers_client.py', 'tempest/services/compute/v3/json/servers_client.py', 'tempest/api_schema/compute/servers.py']",3,fba5f9721de24c88f0e86525314924080182e350,bp/nova-api-attribute-test,"# Copyright 2014 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. get_vnc_console = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'console': { 'type': 'object', 'properties': { 'type': {'type': 'string'}, 'url': { 'type': 'string', 'format': 'uri' } }, 'required': ['type', 'url'] } }, 'required': ['console'] } } ",,42,2
openstack%2Fmanila~master~I12324aa8bc20f6c97eb46fd4e8c3163094ce7304,openstack/manila,master,I12324aa8bc20f6c97eb46fd4e8c3163094ce7304,Added creation of secgroup for service vms in devstack plugin,MERGED,2014-04-15 14:06:46.000000000,2014-04-16 10:54:44.000000000,2014-04-16 10:54:44.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-04-15 14:06:46.000000000', 'files': ['contrib/devstack/extras.d/70-manila.sh', 'contrib/devstack/lib/manila'], 'web_link': 'https://opendev.org/openstack/manila/commit/0b17bd0bba1aa3fecf0082780bcaafb53a1f6cb4', 'message': 'Added creation of secgroup for service vms in devstack plugin\n\nservice_instance module creates VMs in nova\nThese VMs should have opened ports for NFS and SAMBA services.\nThis patch just adds creation of secgroup, that can be used further.\nusing of this segroup is intended to different patch.\n\nChange-Id: I12324aa8bc20f6c97eb46fd4e8c3163094ce7304\n'}]",0,87640,0b17bd0bba1aa3fecf0082780bcaafb53a1f6cb4,13,4,1,8851,,,0,"Added creation of secgroup for service vms in devstack plugin

service_instance module creates VMs in nova
These VMs should have opened ports for NFS and SAMBA services.
This patch just adds creation of secgroup, that can be used further.
using of this segroup is intended to different patch.

Change-Id: I12324aa8bc20f6c97eb46fd4e8c3163094ce7304
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/87640/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/extras.d/70-manila.sh', 'contrib/devstack/lib/manila']",2,0b17bd0bba1aa3fecf0082780bcaafb53a1f6cb4,master,"function create_manila_service_secgroup { MANILA_SERVICE_SECGROUP=""manila-service-secgroup"" # Create a secgroup if ! nova secgroup-list | grep -q $MANILA_SERVICE_SECGROUP; then nova secgroup-create $MANILA_SERVICE_SECGROUP ""$MANILA_SERVICE_SECGROUP description"" if ! timeout 30 sh -c ""while ! nova secgroup-list | grep -q $MANILA_SERVICE_SECGROUP; do sleep 1; done""; then echo ""Security group not created"" exit 1 fi fi # Configure Security Group Rules if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q icmp; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP icmp -1 -1 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" tcp .* 22 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP tcp 22 22 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" tcp .* 2049 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP tcp 2049 2049 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" udp .* 2049 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP udp 2049 2049 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" udp .* 445 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP udp 445 445 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" tcp .* 445 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP tcp 445 445 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" tcp .* 139 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP tcp 137 139 0.0.0.0/0 fi if ! nova secgroup-list-rules $MANILA_SERVICE_SECGROUP | grep -q "" udp .* 139 ""; then nova secgroup-add-rule $MANILA_SERVICE_SECGROUP udp 137 139 0.0.0.0/0 fi # List secgroup rules nova secgroup-list-rules $MANILA_SERVICE_SECGROUP } ",,44,0
openstack%2Fironic~master~Ic6eff035df42d0c3fa78f54eac7ad8322ebb0afc,openstack/ironic,master,Ic6eff035df42d0c3fa78f54eac7ad8322ebb0afc,Some minor clean up of various doc pages,MERGED,2014-04-15 19:10:24.000000000,2014-04-16 10:44:18.000000000,2014-04-16 10:44:18.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 8106}, {'_account_id': 8125}]","[{'number': 1, 'created': '2014-04-15 19:10:24.000000000', 'files': ['doc/source/index.rst', 'doc/source/dev/db.rst', 'doc/source/dev/common.rst', 'doc/source/deploy/install-guide.rst', 'doc/source/webapi/v1.rst', 'doc/source/deploy/user-guide.rst', 'doc/source/dev/drivers.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0a013c9277656e1ad7d961e60f9789d2cffd4c9', 'message': 'Some minor clean up of various doc pages\n\n* simplify the links on index.rst\n* update the main description on the index page\n\n* move install/ironic-install under deploy/\n* rename ironic-install to install-guide\n* rename userguide to user-guide\n* clarify a few things in the install-guide\n\nChange-Id: Ic6eff035df42d0c3fa78f54eac7ad8322ebb0afc\n'}]",2,87765,a0a013c9277656e1ad7d961e60f9789d2cffd4c9,10,5,1,2889,,,0,"Some minor clean up of various doc pages

* simplify the links on index.rst
* update the main description on the index page

* move install/ironic-install under deploy/
* rename ironic-install to install-guide
* rename userguide to user-guide
* clarify a few things in the install-guide

Change-Id: Ic6eff035df42d0c3fa78f54eac7ad8322ebb0afc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/87765/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/dev/db.rst', 'doc/source/dev/common.rst', 'doc/source/deploy/install-guide.rst', 'doc/source/webapi/v1.rst', 'doc/source/deploy/user-guide.rst', 'doc/source/dev/drivers.rst']",7,a0a013c9277656e1ad7d961e60f9789d2cffd4c9,doc-edits,The SSH driver provides an interface to control the power state of virtual machines used in our test environments. The SeaMicro driver provides an enhanced interface for SeaMicro hardware. ../api/ironic.drivers.modules.seamicro,,57,85
openstack%2Factivity-board~master~Iac419c0de405e144c2a801ab3ea288cbcd230683,openstack/activity-board,master,Iac419c0de405e144c2a801ab3ea288cbcd230683,Add files needed to offer Q&A section in the main dashboard,MERGED,2014-04-14 17:24:14.000000000,2014-04-16 10:29:16.000000000,2014-04-16 10:29:16.000000000,"[{'_account_id': 3}, {'_account_id': 8000}, {'_account_id': 8710}]","[{'number': 1, 'created': '2014-04-14 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/activity-board/commit/8011947471ac9c249a7f07554bcbd81a9e8566d9', 'message': 'Add files needed to offer Q&A section in the main dashboard\n\nChange-Id: Iac419c0de405e144c2a801ab3ea288cbcd230683\n'}, {'number': 2, 'created': '2014-04-16 09:34:40.000000000', 'files': ['browser/navbar.html', 'data/metrics.json', 'browser/qaforums.html', 'vizgrimoire.min.js'], 'web_link': 'https://opendev.org/openstack/activity-board/commit/04a69bff7b48520abe01c5f7690562d55a2448b5', 'message': 'Add files needed to offer Q&A section in the main dashboard\n\nChange-Id: Iac419c0de405e144c2a801ab3ea288cbcd230683\n'}]",0,87333,04a69bff7b48520abe01c5f7690562d55a2448b5,10,3,2,8710,,,0,"Add files needed to offer Q&A section in the main dashboard

Change-Id: Iac419c0de405e144c2a801ab3ea288cbcd230683
",git fetch https://review.opendev.org/openstack/activity-board refs/changes/33/87333/1 && git format-patch -1 --stdout FETCH_HEAD,"['browser/navbar.html', 'browser/qaforums.html', 'vizgrimoire.min.js']",3,8011947471ac9c249a7f07554bcbd81a9e8566d9,qasupport," */function resizedw(){Report.convertGlobal(),Report.convertStudiesGlobal(),Report.convertStudies(),Convert.activateHelp()}function DataSource(e,t){function n(e,t){if(e instanceof Array)return e;var n={};return $.each(e,function(e,r){var i=e,s=e.split(""_"");isNaN(s[s.length-1])===!1&&(i=s.slice(0,s.length-1).join(""_""));var o=t.getName()+""_""+i,u=t.getName()+""_""+e;t.getMetrics()[o]===undefined?n[e]=r:n[u]=r}),n}this.top_data_file=this.data_dir+""/""+this.name+""-top.json"",this.getTopDataFile=function(){return this.top_data_file},this.getMetrics=function(){return this.basic_metrics},this.setMetrics=function(e){this.basic_metrics=e},this.setMetricsDefinition=function(e){if(e===undefined)return;this.setMetrics(e)},this.data_file=this.data_dir+""/""+this.name+""-evolutionary.json"",this.getDataFile=function(){return this.data_file},this.setDataFile=function(e){this.data_file=e},this.data=null,this.getData=function(){return this.data},this.setData=function(e,t){t===undefined&&(t=this),t.data=n(e,t)},this.demographics_aging_file=this.data_dir+""/""+this.name+""-demographics-aging.json"",this.demographics_birth_file=this.data_dir+""/""+this.name+""-demographics-birth.json"",this.getDemographicsAgingFile=function(){return this.demographics_aging_file},this.getDemographicsBirthFile=function(){return this.demographics_birth_file},this.demographics_data={},this.getDemographicsData=function(){return this.demographics_data},this.setDemographicsAgingData=function(e,t){t===undefined&&(t=this),t.demographics_data.aging=e},this.setDemographicsBirthData=function(e,t){t===undefined&&(t=this),t.demographics_data.birth=e},this.data_dir=""data/json"",this.getDataDir=function(){return this.data_dir},this.setDataDir=function(e){this.data_dir=e,this.data_file=e+""/""+this.name+""-evolutionary.json"",this.demographics_aging_file=e+""/""+this.name+""-demographics-aging.json"",this.demographics_birth_file=e+""/""+this.name+""-demographics-birth.json"",this.global_data_file=e+""/""+this.name+""-static.json"",this.top_data_file=e+""/""+this.name+""-top.json"",this.companies_data_file=e+""/""+this.name+""-companies.json"",this.repos_data_file=e+""/""+this.name+""-repos.json"",this.countries_data_file=e+""/""+this.name+""-countries.json"",this.domains_data_file=e+""/""+this.name+""-domains.json"",this.time_to_fix_data_file=e+""/""+this.name+""-quantiles-month-time_to_fix_hour.json""},this.global_data_file=this.data_dir+""/""+this.name+""-static.json"",this.getGlobalDataFile=function(){return this.global_data_file},this.global_data=null,this.getGlobalData=function(){return this.global_data},this.setGlobalData=function(e,t){t===undefined&&(t=this),t.global_data=n(e,t)},this.global_top_data=null,this.getGlobalTopData=function(){return this.global_top_data},this.setGlobalTopData=function(e,t){t===undefined&&(t=this),t.global_top_data=e},this.name=e,this.getName=function(){return this.name},this.people_data_file=this.data_dir+""/""+this.name+""-people.json"",this.getPeopleDataFile=function(){return this.people_data_file},this.people=null,this.getPeopleData=function(){return this.people},this.setPeopleData=function(e,t){t===undefined&&(t=this),t.people=e},this.time_to_fix_data_file=this.data_dir+""/""+this.name+""-quantiles-month-time_to_fix_hour.json"",this.getTimeToFixDataFile=function(){return this.time_to_fix_data_file},this.time_to_fix_data=null,this.getTimeToFixData=function(){return this.time_to_fix_data},this.setTimeToFixData=function(e,t){t===undefined&&(t=this),t.time_to_fix_data=e},this.time_to_attention_data_file=this.data_dir+""/""+this.name+""-quantiles-month-time_to_attention_hour.json"",this.getTimeToAttentionDataFile=function(){return this.time_to_attention_data_file},this.time_to_attention_data=null,this.getTimeToAttentionData=function(){return this.time_to_attention_data},this.setTimeToAttentionData=function(e,t){t===undefined&&(t=this),t.time_to_attention_data=e},this.project=null,this.getProject=function(){return this.project},this.setProject=function(e){this.project=e},this.markov_table_data_file=this.data_dir+""/""+this.name+""-markov.json"",this.getMarkovTableDataFile=function(){return this.markov_table_data_file},this.markov_table_data=null,this.getMarkovTableData=function(){return this.markov_table_data},this.setMarkovTableData=function(e,t){t===undefined&&(t=this),t.markov_table_data=e},this.companies_data_file=this.data_dir+""/""+this.name+""-companies.json"",this.getCompaniesDataFile=function(){return this.companies_data_file},this.companies=null,this.getCompaniesData=function(){return this.companies},this.setCompaniesData=function(e,t){e===null&&(e=[]),e instanceof Array||(e=[e]),t===undefined&&(t=this),t.companies=e},this.companies_metrics_data={},this.addCompanyMetricsData=function(e,t,r){r===undefined&&(r=this),r.companies_metrics_data[e]=n(t,r)},this.getCompaniesMetricsData=function(){return this.companies_metrics_data},this.companies_global_data={},this.addCompanyGlobalData=function(e,t,r){r===undefined&&(r=this),r.companies_global_data[e]=n(t,r)},this.getCompaniesGlobalData=function(){return this.companies_global_data},this.companies_top_data={},this.addCompanyTopData=function(e,t,n){n===undefined&&(n=this),n.companies_top_data[e]===undefined&&(n.companies_top_data[e]={}),n.companies_top_data[e]=t},this.getCompaniesTopData=function(){return this.companies_top_data},this.setCompaniesTopData=function(e,t){t===undefined&&(t=this),t.companies_top_data=e},this.repos_data_file=this.data_dir+""/""+this.name+""-repos.json"",this.getReposDataFile=function(){return this.repos_data_file},this.repos=null,this.getReposDataFull=function(){return this.repos},this.getReposData=function(){var e=this.repos;return this.getName()===""scr""&&e instanceof Array==0&&(e=this.repos.name),e},this.setReposData=function(e,t){t===undefined&&(t=this),t.repos=e},this.repos_metrics_data={},this.addRepoMetricsData=function(e,t,r){r===undefined&&(r=this),r.repos_metrics_data[e]=n(t,r)},this.getReposMetricsData=function(){return this.repos_metrics_data},this.repos_global_data={},this.addRepoGlobalData=function(e,t,r){r===undefined&&(r=this),r.repos_global_data[e]=n(t,r)},this.getReposGlobalData=function(){return this.repos_global_data},this.countries_data_file=this.data_dir+""/""+this.name+""-countries.json"",this.getCountriesDataFile=function(){return this.countries_data_file},this.countries=null,this.getCountriesData=function(){return this.countries},this.setCountriesData=function(e,t){t===undefined&&(t=this),t.countries=e},this.countries_metrics_data={},this.addCountryMetricsData=function(e,t,r){r===undefined&&(r=this),r.countries_metrics_data[e]=n(t,r)},this.getCountriesMetricsData=function(){return this.countries_metrics_data},this.countries_global_data={},this.addCountryGlobalData=function(e,t,r){r===undefined&&(r=this),r.countries_global_data[e]=n(t,r)},this.getCountriesGlobalData=function(){return this.countries_global_data},this.domains_data_file=this.data_dir+""/""+this.name+""-domains.json"",this.getDomainsDataFile=function(){return this.domains_data_file},this.domains=null,this.getDomainsData=function(){return this.domains},this.setDomainsData=function(e,t){e===null&&(e=[]),e instanceof Array||(e=[e]),t===undefined&&(t=this),t.domains=e},this.domains_metrics_data={},this.addDomainMetricsData=function(e,t,r){r===undefined&&(r=this),r.domains_metrics_data[e]=n(t,r)},this.getDomainsMetricsData=function(){return this.domains_metrics_data},this.domains_global_data={},this.addDomainGlobalData=function(e,t,r){r===undefined&&(r=this),r.domains_global_data[e]=n(t,r)},this.getDomainsGlobalData=function(){return this.domains_global_data},this.people_metrics_data={},this.addPeopleMetricsData=function(e,t,r){r===undefined&&(r=this),r.people_metrics_data[e]=n(t,r)},this.getPeopleMetricsData=function(){return this.people_metrics_data},this.people_global_data={},this.addPeopleGlobalData=function(e,t,r){r===undefined&&(r=this),r.people_global_data[e]=n(t,r)},this.getPeopleGlobalData=function(){return this.people_global_data},this.getCompanyQuery=function(){var e=null,t=window.location.search.substr(1);return t&&t.split(""&"")[0].split(""="")[0]===""company""&&(e=t.split(""&"")[0].split(""="")[1]),e},this.displayMetricCompanies=function(e,t,n,r,i){var s=this.getCompaniesMetricsData();Viz.displayMetricCompanies(e,s,t,n,r,i)},this.displayMetricMyCompanies=function(e,t,n,r,i,s){var o={},u=this;$.each(e,function(e,t){o[t]=u.getCompaniesMetricsData()[t]}),Viz.displayMetricCompanies(t,o,n,r,i,s)},this.displayMetricRepos=function(e,t,n,r,i){var s=this.getReposMetricsData();Viz.displayMetricRepos(e,s,t,n,r,i)},this.displayBasicMetricMyRepos=function(e,t,n,r,i,s){var o={},u=Report.getReposMap(),a=this;$.each(e,function(e,t){var n=a.getReposMetricsData()[t];n||(u[t]instanceof Object?t=u[t][a.getName()]:t=u[t],n=a.getReposMetricsData()[t]),o[t]=n}),Viz.displayMetricRepos(t,o,n,r,i,s)},this.displayMetricDomains=function(e,t,n,r,i){var s=this.getDomainsMetricsData();Viz.displayMetricDomains(e,s,t,n,r,i)},this.displayMetricCompaniesStatic=function(e,t,n,r,i){this.displayMetricSubReportStatic(""companies"",e,t,n,r,i)},this.displayMetricReposStatic=function(e,t,n,r,i){this.displayMetricSubReportStatic(""repos"",e,t,n,r,i)},this.displayMetricCountriesStatic=function(e,t,n,r,i){this.displayMetricSubReportStatic(""countries"",e,t,n,r,i)},this.displayMetricDomainsStatic=function(e,t,n,r,i){this.displayMetricSubReportStatic(""domains"",e,t,n,r,i)},this.displayMetricSubReportStatic=function(e,t,n,r,i,s){i===undefined&&(i=t);var o=null;if(e==""companies"")o=this.getCompaniesGlobalData();else if(e==""repos"")o=this.getReposGlobalData();else if(e==""countries"")o=this.getCountriesGlobalData();else{if(e!=""domains"")return;o=this.getDomainsGlobalData()}if($.isEmptyObject(o))return;var u=null;e==""companies""?u=DataProcess.sortCompanies(this,i):e==""repos""?u=DataProcess.sortRepos(this,i):e==""countries""?u=DataProcess.sortCountries(this,i):e==""domains""&&(u=DataProcess.sortDomains(this,i)),u=DataProcess.paginate(u,Report.getCurrentPage()),Viz.displayMetricSubReportStatic(t,o,u,n,r)},this.displayMetricsCompany=function(e,t,n,r){var i=this.getCompaniesMetricsData()[e];if(i===undefined){$(""#""+n).hide();return}Viz.displayMetricsCompany(e,t,i,n,r)},this.displayMetricsRepo=function(e,t,n,r){var i=this.getReposMetricsData()[e];if(i===undefined){$(""#""+n).hide();return}Viz.displayMetricsRepo(e,t,i,n,r)},this.displayMetricsCountry=function(e,t,n,r){var i=this.getCountriesMetricsData()[e];if(i===undefined){$(""#""+n).hide();return}Viz.displayMetricsCountry(e,t,i,n,r)},this.displayMetricsDomain=function(e,t,n,r){var i=this.getDomainsMetricsData()[e];if(i===undefined)return;Viz.displayMetricsDomain(e,t,i,n,r)},this.displayMetricsPeople=function(e,t,n,r,i){var s=this.getPeopleMetricsData()[e];if(s===undefined||s instanceof Array){$(""#""+r).hide();return}Viz.displayMetricsPeople(t,n,s,r,i)},this.displayMetricsEvol=function(e,t,n,r){var i=this.getData();r&&(i=DataProcess.convert(i,r,e)),Viz.displayMetricsEvol(this,e,i,t,n)},this.isPageDisplayed=function(e,t,n,r){var i=Math.floor((r-3)/2),s=e-i,o=e+i;return t===1||t===n||t==e?!0:t>=s&&t<e?!0:t<=o&&t>e?!0:!1},this.displayItemsNav=function(e,t,n,r){var i=parseInt(n,null);isNaN(i)&&(i=1);var s=null,o="""",u=0,a=5;if(t===""companies"")s=this.getCompaniesData(),o=""List of companies"";else if(t===""repos"")s=this.getReposData(),r&&(s=DataProcess.sortRepos(this,r));else if(t===""countries"")s=this.getCountriesData();else{if(t!==""domains"")return;s=this.getDomainsData()}u=s.length;var f="""",l=Report.getPageSize();if(i){f+=""<div class='pagination'>"";var c=Math.ceil(u/l),h=(i-1)*l+1,p=i*l;p>u&&(p=u),f+=""<ul class='pagination'>"",i>1?f+=""<li><a href='?page=""+(i-1)+""'>&laquo;</a></li>"":f+=""<li class='disabled'><a href='?page=""+i+""'>&laquo;</a></li>"";for(var d=0;d*Report.getPageSize()<u;d++)if(this.isPageDisplayed(i,d+1,c,a)===!0)i===d+1?f+=""<li class='active'><a href='?page=""+(d+1)+""'>""+(d+1)+""</a></li>"":f+=""<li><a href='?page=""+(d+1)+""'>""+(d+1)+""</a></li>"";else if(d+1+1===c||d+1-1===1)f+=""<li class='disabled'><a href='#'> .. </a></li>"";i*Report.getPageSize()<s.length&&(f+=""<li><a href='?page=""+(parseInt(i,null)+1)+""'>"",f+=""&raquo;</a></li>""),f+=""</ul>"",f+=""<span class='pagination-text'> (""+h+"" - ""+p+""/""+u+"")</span>"",f+=""</div>""}Report.getPageSize()>10&&$.each(s,function(e,t){var n=Report.cleanLabel(t);f+=""<a href='#""+t+""-nav'>""+n+""</a> ""}),$(""#""+e).append(f)},this.displayCompaniesLinks=function(e,t,n){var r=DataProcess.sortCompanies(this,n),i="""",s=0;$.each(r,function(e,n){i+='<a href=""company.html?company='+n,Report.addDataDir()&&(i+=""&""+Report.addDataDir()),i+='"">'+n+""</a>| "";if(s++>=t-1)return!1}),$(""#""+e).append(i)},this.displayCompaniesList=function(e,t,n,r,i,s,o,u,a){this.displaySubReportList(""companies"",e,t,n,r,i,s,o,u,a)},this.displayReposList=function(e,t,n,r,i,s,o,u,a){this.displaySubReportList(""repos"",e,t,n,r,i,s,o,u,a)},this.displayCountriesList=function(e,t,n,r,i,s,o,u,a){this.displaySubReportList(""countries"",e,t,n,r,i,s,o,u,a)},this.displayDomainsList=function(e,t,n,r,i,s,o,u,a){this.displaySubReportList(""domains"",e,t,n,r,i,s,o,u,a)},this.displaySubReportList=function(e,t,n,r,i,s,o,u,a,f){var l=parseInt(s,null);isNaN(l)&&(l=1);var c="""",h=(l-1)*Report.getPageSize()+1,p=this,d=null,v=null;o===undefined&&(o=!0);if(e===""companies"")d=this.getCompaniesMetricsData(),v=DataProcess.sortCompanies(this,i);else if(e===""repos"")d=this.getReposMetricsData(),v=DataProcess.sortRepos(this,i);else if(e===""countries"")d=this.getCountriesMetricsData(),v=DataProcess.sortCountries(this,i);else{if(e!==""domains"")return;d=this.getDomainsMetricsData(),v=DataProcess.sortDomains(this,i)}v=DataProcess.paginate(v,l),c+='<table class=""table table-hover table-repositories"">',c+=""<tr><th></th>"",$.each(t,function(e,t){p.getMetrics()[t]?(title=p.getMetrics()[t].name,c+=""<th>""+title+""</th>""):c+=""<th>""+t+""</th>""}),c+=""</tr>"",$.each(v,function(n,r){c+=""<tr><td class='span2 repository-name'>"",c+=""#""+h+""&nbsp;"",h++;var i=null;Report.addDataDir()&&(i=Report.addDataDir()),o&&(e===""companies""?(c+=""<a href='company.html?company=""+r,i&&(c+=""&""+i),c+=""'>""):e===""repos""?(c+=""<a href='"",c+=""repository.html"",c+=""?repository=""+encodeURIComponent(r),i&&(c+=""&""+i),c+=""'>""):e===""countries""?(c+=""<a href='country.html?country=""+r,i&&(c+=""&""+i),c+=""'>""):e===""domains""&&(c+=""<a href='domain.html?domain=""+r,i&&(c+=""&""+i),c+=""'>"")),c+=""<strong>"",c+=Report.cleanLabel(r),c+=""</strong>"",o&&(c+=""</a>""),c+=""</td>"",$.each(t,function(t,n){c+=""<td class='span5'>"",c+=""<div id='""+e+""-""+r+""-""+n+""'"",c+="" class='subreport-list-item'>""}),c+=""</td></tr>""}),c+=""</table>"",$(""#""+n).append(c);var m=null,g=null,y=null;u&&(m=u.split("","")),a&&(g=a.split("","")),f&&(y=f.split("","")),$.each(v,function(n,i){var s=0;$.each(t,function(t,n){var o=null,u=null,a=null;m&&(o=m[s]),g&&(u=g[s]),y&&(a=y[s]);if(i in d==0)return;var f=d[i];if(f[n]===undefined)return;var l=e+""-""+i+""-""+n,c={};c[i]=f;var h="""";Viz.displayMetricSubReportLines(l,n,c,h,r,o,u,a),s++})})},this.displayGlobalSummary=function(e){this.displaySummary(null,e,null,this)},this.displayCompanySummary=function(e,t,n){this.displaySummary(""companies"",e,t,n)},this.displayRepoSummary=function(e,t,n){this.displaySummary(""repositories"",e,t,n)},this.displayCountrySummary=function(e,t,n){this.displaySummary(""countries"",e,t,n)},this.displayDomainSummary=function(e,t,n){this.displaySummary(""domains"",e,t,n)},this.displayPeopleSummary=function(e,t,n,r){var i=r.getPeopleGlobalData()[t];if(i===undefined||i instanceof Array)return;html=""<h6>""+r.getTitle()+""</h6>"",html+=""<table class='table-condensed table-hover'>"",html+=""<tr><td>"",html+=""Start</td><td>""+i.first_date,html+=""</td></tr><tr><td>"",html+=""End</td><td>""+i.last_date,html+=""</td></tr><tr><td>"",r.getName()==""scm""?html+=""Commits</td><td>""+i.scm_commits:r.getName()==""its""?html+=""Closed</td><td>""+i.its_closed:r.getName()==""mls""?html+=""Sent</td><td>""+i.mls_sent:r.getName()==""irc""?html+=""Sent</td><td>""+i.irc_sent:r.getName()==""scr""&&(html+=""Closed</td><td>""+i.scr_closed),html+=""</td></tr>"",html+=""</table>"",$(""#""+e).append(html)},this.displayCompaniesSummary=function(e,t){var n="""",r=t.getGlobalData();n+=""Total companies: ""+r.companies+""<br>"",r.companies_2006&&(n+=""Companies in 2006: ""+r.companies_2006+""<br>""),r.companies_2009&&(n+=""Companies in 2009: ""+r.companies_2009+""<br>""),r.companies_2012&&(n+=""Companies in 2012: ""+r.companies_2012+""<br>""),$(""#""+e).append(n)},this.getSummaryLabels=function(){},this.displaySummary=function(e,t,n,r){n||(n="""");var i=""<h6>""+r.getTitle()+""</h6>"",s=this.getSummaryLabels(),o=null;e===""companies""?o=r.getCompaniesGlobalData()[n]:e===""countries""?o=r.getCountriesGlobalData()[n]:e===""repositories""?o=r.getReposGlobalData()[n]:e===""domains""?o=r.getDomainsGlobalData()[n]:o=r.getGlobalData();if(!o)return;var u=this;i+=""<table class='table-condensed table-hover'>"",$.each(o,function(t,n){i+=""<tr><td>"",u.getMetrics()[t]?i+=u.getMetrics()[t].name+""</td><td>""+Report.formatValue(n):s[t]?i+=s[t]+""</td><td>""+Report.formatValue(n):e&&(i+=t+""</td><td>""+Report.formatValue(n)),i+=""</td></tr>""}),i+=""</table>"",$(""#""+t).append(i)},this.displayReposSummary=function(e,t){var n="""",r=t.getGlobalData();n+=""Total repositories: ""+r[t.getName()+""_repositories""]+""<br>"",$(""#""+e).append(n)},this.displayCountriesSummary=function(e,t){var n="""",r=t.getGlobalData();n+=""Total countries: ""+r.countries+""<br>"",$(""#""+e).append(n)},this.displayDomainsSummary=function(e,t){var n="""",r=t.getGlobalData();n+=""Total domains: ""+r.domains+""<br>"",$(""#""+e).append(n)},this.displayDemographics=function(e,t){var n=this.getDemographicsData();Viz.displayDemographicsChart(e,this,n,t)},this.displayTimeToAttention=function(e,t,n,r){n=!0,r=""Time to Attention ""+t;var i=this.getTimeToAttentionData();if(i instanceof Array)return;Viz.displayTimeToAttention(e,i,t,n,r)},this.displayTimeToFix=function(e,t,n,r){n=!0,r=""Time to Fix ""+t;var i=this.getTimeToFixData();if(i instanceof Array)return;Viz.displayTimeToFix(e,this.getTimeToFixData(),t,n,r)},this.displayMarkovTable=function(e,t){var n=this.getMarkovTableData();if(n===undefined){Report.log(""No Markov data available"");return}Viz.displayMarkovTable(e,n,t)},this.displayTop=function(e,t,n,r,i,s,o,u,a){t===undefined&&(t=!0);var f=null;Viz.displayTop(e,this,t,n,r,i,null,null,o,u,a)},this.displayTopCompany=function(e,t,n,r,i){var s=this.getCompaniesTopData()[e];if(s===undefined)return;var o=this.getMetrics()[n];Viz.displayTopCompany(e,s,t,o,r,i)},this.displayTopGlobal=function(e,t,n,r){Viz.displayTopGlobal(e,this,t,n,r)},this.envisionEvo=function(e,t,n,r,i){config=Report.getVizConfig();var s=Viz.getEnvisionOptions(e,t,this.getName(),Report.getVizConfig()[this.getName()+""_hide""],i);s.legend_show=r,n&&DataProcess.addRelativeValues(s.data,this.getMainMetric()),new envision.templates.Envision_Report(s,[this])},this.displayEnvision=function(e,t,n,r){var i=Report.getProjectsDataSources();this.envisionEvo(e,i,t,n,r)}}function IRC(){var e=this;this.basic_metrics={irc_sent:{divid:""irc_sent"",column:""sent"",name:""Sent"",desc:""Messages sent""},irc_senders:{divid:""irc_senders"",column:""senders"",name:""Senders"",desc:""Messages senders"",action:""sent""},irc_repositories:{divid:""irc_repositories"",column:""repositories"",name:""Repositories"",desc:""Number of active repositories""}},this.getMainMetric=function(){return""irc_sent""},this.getSummaryLabels=function(){var e={first_date:""Start"",last_date:""End""};return e},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .irc_info"").hide();return}var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().irc_url,this.global_data.type&&$(t+"" #irc_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #irc_url"").attr(""href"",r),$(t+"" #irc_name"").text(""IRC ""+this.global_data.type)):($(t+"" #irc_url"").attr(""href"",Report.getProjectData().irc_url),$(t+"" #irc_name"").text(Report.getProjectData().irc_name),$(t+"" #irc_type"").text(Report.getProjectData().irc_type));var i=this.getGlobalData();$(t+"" #ircFirst"").text(i.first_date),$(t+"" #ircLast"").text(i.last_date),$(t+"" #ircSent"").text(i.irc_sent),$(t+"" #ircRepositories"").text(i.irc_repositories),i.repositories===1&&$(t+"" #ircRepositories"").hide()},this.displayBubbles=function(e,t){},this.getTitle=function(){return""IRC Messages""}}function ITS(){this.basic_metrics={its_opened:{divid:""its_opened"",column:""opened"",name:""Opened"",desc:""Number of opened tickets"",envision:{y_labels:!0,show_markers:!0}},its_openers:{divid:""its_openers"",column:""openers"",name:""Openers"",desc:""Unique identities opening tickets"",action:""opened"",envision:{gtype:""whiskers""}},its_closed:{divid:""its_closed"",column:""closed"",name:""Closed"",desc:""Number of closed tickets""},its_closers:{divid:""its_closers"",column:""closers"",name:""Closers"",desc:""Number of identities closing tickets"",action:""closed"",envision:{gtype:""whiskers""}},its_changed:{divid:""its_changed"",column:""changed"",name:""Changed"",desc:""Number of changes to the state of tickets""},its_changers:{divid:""its_changers"",column:""changers"",name:""Changers"",desc:""Number of identities changing the state of tickets"",action:""changed"",envision:{gtype:""whiskers""}},its_companies:{divid:""its_companies"",column:""companies"",name:""Companies"",desc:""Number of active companies""},its_countries:{divid:""its_countries"",column:""countries"",name:""Countries"",desc:""Number of active countries""},its_repositories:{divid:""its_repositories"",column:""repositories"",name:""Respositories"",desc:""Number of active respositories""},its_domains:{divid:""its_domains"",column:""domains"",name:""Domains"",desc:""Number of active domains""},its_people:{divid:""its_people"",column:""people"",name:""People"",desc:""Number of active people""}},this.getMainMetric=function(){return""its_opened""},this.setReposData=function(e,t){t===undefined&&(t=this),e instanceof Array||(e=[e]);var n=[];for(var r=0;r<e.length;r++)n.push(e[r].replace(/\//g,""_""));t.repos=n},this.getSummaryLabels=function(){var e={first_date:""Start"",last_date:""End"",tickets:""Tickets"",trackers:""Trackers""};return e},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .its-info"").hide();return}$(t+"" #its_type"").text(this.global_data.type);var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().its_url,r===undefined&&(r=""""),this.global_data.type===""allura""?r=r.replace(""rest/"",""""):this.global_data.type===""github""&&(r=r.replace(""api."",""""),r=r.replace(""repos/"","""")),$(t+"" #its_url"").attr(""href"",r);var i=this.global_data.type.charAt(0).toUpperCase()+this.global_data.type.slice(1);$(t+"" #its_name"").text(i+"" Tickets"");var s=this.getGlobalData();$(t+"" #itsFirst"").text(s.first_date),$(t+"" #itsLast"").text(s.last_date),$(t+"" #itsTickets"").text(s.its_opened),$(t+"" #itsOpeners"").text(s.its_openers),$(t+"" #itsRepositories"").text(s.its_repositories),s.repositories===1&&$(t+"" #itsRepositories"").hide()},this.getTitle=function(){return""Tickets""},this.displayBubbles=function(e,t){Viz.displayBubbles(e,""its_opened"",""its_openers"",t)}}function MediaWiki(){var e=this;this.basic_metrics={mediawiki_reviews:{divid:""mediawiki_reviews"",column:""reviews"",name:""Editions"",desc:""Wiki page editions""},mediawiki_authors:{divid:""mediawiki_authors"",column:""authors"",name:""Editors"",desc:""Editors doing editions"",action:""reviews""},mediawiki_pages:{divid:""mediawiki_pages"",column:""pages"",name:""Pages"",desc:""Wiki pages""}},this.getMainMetric=function(){return""mediawiki_reviews""},this.getSummaryLabels=function(){var e={first_date:""Start"",last_date:""End""};return e},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .mediawiki_info"").hide();return}var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().mediawiki_url,this.global_data.type&&$(t+"" #mediawiki_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #mediawiki_url"").attr(""href"",r),$(t+"" #mediawiki_name"").text(""MediaWiki ""+this.global_data.type)):($(t+"" #mediawiki_url"").attr(""href"",Report.getProjectData().mediawiki_url),$(t+"" #mediawiki_name"").text(Report.getProjectData().mediawiki_name),$(t+"" #mediawiki_type"").text(Report.getProjectData().mediawiki_type));var i=this.getGlobalData();$(t+"" #mediawikiFirst"").text(i.first_date),$(t+"" #mediawikiLast"").text(i.last_date),$(t+"" #mediawikiSent"").text(i.mediawiki_reviews)},this.displayBubbles=function(e,t){},this.getTitle=function(){return""MediaWiki Reviews""}}function MLS(){function t(){var e=document.getElementById(""form_mls_selector""),t=[];for(var n=0;n<e.elements.length;n++)e.elements[n].checked&&t.push(e.elements[n].value);return localStorage&&localStorage.setItem(i(),JSON.stringify(t)),t}function n(e,t,n,r){var i=Viz.checkBasicConfig(r);for(var s in basic_metrics){var o=basic_metrics[s],u="""";i.show_title&&(u=o.name);if($.inArray(o.column,Report.getConfig().mls_hide)>-1)continue;var a=""<div class='info-pill m0-box-div flotr2-""+o.column+""'>"";a+=""<h4>""+o.name+"" ""+MLS.displayMLSListName(t)+""</h4>"",a+=""<div id='""+o.divid+""_""+t+""' class='m0-box flotr2-""+o.column+""'></div>"",i.show_desc&&(a+=""<p>""+o.desc+""</p>""),a+=""</div>"",$(""#""+e).append(a),Viz.displayBasicLinesFile(o.divid+""_""+t,n,o.column,i.show_labels,u)}}function r(){var e=Report.getProjectData();return e.date+""_""+e.project_name}function i(){return r()+""_mls_lists""}function s(){localStorage&&localStorage.length&&localStorage.getItem(i())&&localStorage.removeItem(i())}function o(e){return typeof e.id==""number""&&$.each(e,function(e,t){t=[t]}),e}var e=this;this.basic_metrics={mls_responses:{divid:""mls_responses"",column:""responses"",name:""Responses"",desc:""Number of messages that are responses""},mls_sent:{divid:""mls_sent"",column:""sent"",name:""Sent"",desc:""Number of messages""},mls_senders:{divid:""mls_senders"",column:""senders"",name:""Senders"",desc:""Number of unique message senders"",action:""sent""},mls_threads:{divid:""mls_threads"",column:""threads"",name:""Threads"",desc:""Number of messages threads""},mls_companies:{divid:""mls_companies"",column:""companies"",name:""Companies"",desc:""Number of active companies""},mls_countries:{divid:""mls_countries"",column:""countries"",name:""Countries"",desc:""Number of active countries""},mls_repositories:{divid:""mls_repositories"",column:""repositories"",name:""Respositories"",desc:""Number of active respositories""},mls_domains:{divid:""mls_domains"",column:""domains"",name:""Domains"",desc:""Number of active domains""},mls_people:{divid:""mls_people"",column:""people"",name:""People"",desc:""Number of active people""}},this.data_lists_file=this.data_dir+""/mls-lists.json"",this.getListsFile=function(){return this.data_lists_file},this.data_lists=null,this.getListsData=function(){return this.data_lists},this.setListsData=function(e,t){t===undefined&&(t=this),t.data_lists=e},this.setDataDir=function(e){this.data_dir=e,this.data_lists_file=this.data_dir+""/mls-lists.json"",MLS.prototype.setDataDir.call(this,e)},this.getMainMetric=function(){return""mls_sent""},this.getSummaryLabels=function(){var e={first_date:""Start"",last_date:""End""};return e},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;(!n||n.length===0)&&$(t+"" .mls_info"").hide();var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().mls_url,this.global_data.type&&$(t+"" #mls_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #mls_url"").attr(""href"",r),$(t+"" #mls_name"").text(""MLS ""+this.global_data.type)):($(t+"" #mls_url"").attr(""href"",Report.getProjectData().mls_url),$(t+"" #mls_name"").text(Report.getProjectData().mls_name),$(t+"" #mls_type"").text(Report.getProjectData().mls_type));var i=this.getGlobalData();$(t+"" #mlsFirst"").text(i.first_date),$(t+"" #mlsLast"").text(i.last_date),$(t+"" #mlsMessages"").text(i.mls_sent),$(t+"" #mlsSenders"").text(i.mls_senders),$(t+"" #mlsRepositories"").text(i.mls_repositories),i.repositories===1&&$(t+"" #mlsRepositories"").hide()},this.displayBubbles=function(e,t){Viz.displayBubbles(e,""mls_sent"",""mls_senders"",t)},MLS.displayMLSListName=function(e){var t=e.split(""_""),n="""";return t.length>1?(n=t[t.length-1],n===""""&&(n=t[t.length-2])):(n=e.replace(""<"",""""),n=n.replace("">"",""""),t=n.split("".""),n=t[0]),n},this.displayBasicUserAll=function(e,t){var n=document.getElementById(""form_mls_selector"");for(var r=0;r<n.elements.length;r++)n.elements[r].type==""checkbox""&&(n.elements[r].checked=t);this.displayBasicUser(e)},this.displayBasicUser=function(e){$(""#""+e).empty(),lists=t();for(var r=0;r<lists.length;r++){var i=lists[r];file_messages=this.getDataDir()+""/mls-"",file_messages+=i,file_messages+=""-evolutionary.json"",n(e,i,file_messages)}},this.displayBasic=function(e,t){var r=this.getListsData();lists_hide=Report.getConfig().mls_hide_lists,r=r.mailing_list;if(r===undefined)return null;var s=!1;typeof r==""string""&&(r=[r]),localStorage&&localStorage.length&&localStorage.getItem(i())&&(r=JSON.parse(localStorage.getItem(i())),s=!0);for(var o=0;o<r.length;o++){var u=r[o];if(!s&&$.inArray(u,lists_hide)>-1)continue;file_messages=this.getDataDir()+""/mls-"",file_messages+=u,file_messages+=""-evolutionary.json"",n(e,u,file_messages,t)}},this.getTitle=function(){return""Mailing Lists""},this.displayEvoListsMain=function(e){if(localStorage&&localStorage.length&&localStorage.getItem(i()))return lists=JSON.parse(localStorage.getItem(i())),this.displayEvoLists(e,lists);history=this.getListsData(),lists=history.mailing_list;if(lists===undefined)return;var t=Report.getConfig();lists_hide=t.mls_hide_lists,typeof lists==""string""&&(lists=[lists]);var n=[];for(var r=0;r<lists.length;r++)$.inArray(lists[r],lists_hide)==-1&&n.push(lists[r]);localStorage&&(localStorage.getItem(i())||localStorage.setItem(i(),JSON.stringify(n))),this.displayEvoLists(e,n)},this.getDefaultLists=function(){var e=[],t=Report.getConfig().mls_hide_lists;return $.each(this.getListsData().mailing_list,function(n,r){$.inArray(r,t)===-1&&e.push(r)}),e},this.displaySelectorCheckDefault=function(){var e=this.getDefaultLists(),t=document.getElementById(""form_mls_selector"");for(var n=0;n<t.elements.length;n++)if(t.elements[n].type==""checkbox""){var r=t.elements[n].id;l=r.split(""_check"")[0],$.inArray(l,e)>-1?t.elements[n].checked=!0:t.elements[n].checked=!1}},this.displayBasicDefault=function(t){var n=e;this instanceof MLS&&(n=this),s(),n.displaySelectorCheckDefault(),$(""#""+t).empty(),n.displayBasic(t)},this.displayEvoDefault=function(t){var n=e;this instanceof MLS&&(n=this),s(),document.getElementById(""form_mls_selector"")&&n.displaySelectorCheckDefault(),$(""#""+t).empty(),n.displayEvoLists(t,n.getDefaultLists())},this.displayEvoUserAll=function(e,t){var n=document.getElementById(""form_mls_selector"");for(var r=0;r<n.elements.length;r++)n.elements[r].type==""checkbox""&&(n.elements[r].checked=t);this.displayEvoUser(e)},this.displayEvoUser=function(n){$(""#""+n).empty();var r=e;this instanceof MLS&&(r=this),r.displayEvoLists(n,t())},this.displayEvoListSelector=function(e,t){this.displayEvoBasicListSelector(e,t,null)},this.displayBasicListSelector=function(e,t){this.displayEvoBasicListSelector(e,null,t)},this.displayEvoBasicListSelector=function(e,t,n){var r=this.getListsData(),s=r.mailing_list,o=[];if(s===undefined)return;localStorage&&localStorage.length&&localStorage.getItem(i())&&(o=JSON.parse(localStorage.getItem(i()))),Report.displayBasicUser=this.displayBasicUser,Report.displayBasicUserAll=this.displayBasicUserAll,Report.displayBasicDefault=this.displayBasicDefault,Report.displayEvoDefault=this.displayEvoDefault ,Report.displayEvoUser=this.displayEvoUser,Report.displayEvoUserAll=this.displayEvoUserAll;var u=""Mailing list selector:"";u+=""<form id='form_mls_selector'>"",typeof s==""string""&&(s=[s]);for(var a=0;a<s.length;a++){var f=s[a];u+='<input type=checkbox name=""check_list"" value=""'+f+'"" ',u+='onClick=""',t&&(u+=""Report.displayEvoUser('""+t+""');""),n&&(u+=""Report.displayBasicUser('""+n+""')\"";""),u+='"" ',u+='id=""'+f+'_check"" ',$.inArray(f,o)>-1&&(u+=""checked ""),u+="">"",u+=MLS.displayMLSListName(f),u+=""<br>""}u+='<input type=button value=""All"" ',u+='onClick=""',t&&(u+=""Report.displayEvoUserAll('""+t+""',true);""),n&&(u+=""Report.displayBasicUserAll('""+n+""',true);""),u+='"">',u+='<input type=button value=""None"" ',u+='onClick=""',t&&(u+=""Report.displayEvoUserAll('""+t+""',false);""),n&&(u+=""Report.displayBasicUserAll('""+n+""',false);""),u+='"">',u+='<input type=button value=""Default"" ',u+='onClick=""',t&&(u+=""Report.displayEvoDefault('""+t+""');""),n&&(u+=""Report.displayBasicDefault('""+n+""')""),u+='"">',u+=""</form>"",$(""#""+e).html(u),Report.getProjectsList().length>1&&($(""#""+e).append(""Not supported in multiproject""),$(""#""+e+"" :input"").attr(""disabled"",!0))},this.displayEvoLists=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];file_messages=this.getDataDir()+""/mls-"",file_messages+=r,file_messages+=""-evolutionary.json"",this.displayEvoList(MLS.displayMLSListName(r),e,file_messages)}},this.displayEvoList=function(e,t,n){var r=this;$.getJSON(n,function(n){r.envisionEvoList(e,t,n)})},this.envisionEvoList=function(e,t,n){var r=Report.getConfig(),i=Viz.getEnvisionOptionsMin(t,n,r.mls_hide);i.data.list_label=MLS.displayMLSListName(e),new envision.templates.Envision_Report(i,[this])}}function SCM(){this.basic_metrics={scm_commits:{divid:""scm_commits"",column:""commits"",name:""Commits"",desc:""Evolution of the number of commits (aggregating branches)"",envision:{y_labels:!0,show_markers:!0}},scm_committers:{divid:""scm_committers"",column:""committers"",name:""Committers"",desc:""Unique committers making changes to the source code"",action:""commits"",envision:{gtype:""whiskers""}},scm_authors:{divid:""scm_authors"",column:""authors"",name:""Authors"",desc:""Unique authors making changes to the source code"",action:""commits"",envision:{gtype:""whiskers""}},scm_authors_rev:{divid:""scm_authors-rev"",column:""authors_rev"",name:""Authors"",desc:""Unique authors making changes reviewed to the source code"",action:""commits_rev"",envision:{gtype:""whiskers""}},scm_commits_rev:{divid:""scm_commits-rev"",column:""commits_rev"",name:""Commits Reviewed"",desc:""Evolution of the number of commits reviewed (aggregating branches)"",envision:{y_labels:!0,show_markers:!0}},scm_reviewers:{divid:""scm_reviewers"",column:""reviewers"",name:""Reviewers"",desc:""Unique reviewers making reviews to the source code changes"",action:""commits-rev"",envision:{gtype:""whiskers""}},scm_branches:{divid:""scm_branches"",column:""branches"",name:""Branches"",desc:""Evolution of the number of branches""},scm_files:{divid:""scm_files"",column:""files"",name:""Files"",desc:""Evolution of the number of unique files handled by the community""},scm_added_lines:{divid:""scm_added_lines"",column:""added_lines"",name:""Lines Added"",desc:""Evolution of the source code lines added""},scm_removed_lines:{divid:""scm_removed_lines"",column:""removed_lines"",name:""Lines Removed"",desc:""Evolution of the source code lines removed""},scm_repositories:{divid:""scm_repositories"",column:""repositories"",name:""Repositories"",desc:""Evolution of the number of repositories"",envision:{gtype:""whiskers""}},scm_companies:{divid:""scm_companies"",column:""companies"",name:""Companies"",desc:""Number of active companies""},scm_countries:{divid:""scm_countries"",column:""countries"",name:""Countries"",desc:""Number of active countries""},scm_domains:{divid:""scm_domains"",column:""domains"",name:""Domains"",desc:""Number of active domains""},scm_people:{divid:""scm_people"",column:""people"",name:""People"",desc:""Number of active people""}},this.getMainMetric=function(){return""scm_commits""},this.setITS=function(e){this.its=e},this.getITS=function(e){return this.its},this.getTitle=function(){return""Source Code Management""},this.getSummaryLabels=function(){var e={first_date:""Start"",last_date:""End"",actions:""Files actions"",avg_commits_month:""Commits/month"",avg_files_month:""Files/month"",avg_authors_month:""Authors/month"",avg_reviewers_month:""Reviewers/moth"",avg_commits_week:""Commits/week"",avg_files_week:""Files/week"",avg_authors_week:""Authors/week"",avg_reviewers_week:""Reviewers/week"",avg_commits_author:""Commits/author"",avg_files_author:""Files/author""};return e},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .scm-info"").hide();return}var r=this.global_data.type.charAt(0).toUpperCase()+this.global_data.type.slice(1);$(t+"" #scm_type"").text(r);var i="""";this.global_data.repositories===1?i=this.global_data.url:i=Report.getProjectData().scm_url,this.global_data.type===""git""&&i&&(i=i.replace(""git://"",""http://"")),$(t+"" #scm_url"").attr(""href"",i),$(t+"" #scm_name"").text(r);var s=this.getGlobalData();$(t+"" #scmFirst"").text(s.first_date),$(t+"" #scmLast"").text(s.last_date),$(t+"" #scmCommits"").text(s.scm_commits),$(t+"" #scmAuthors"").text(s.scm_authors),s.reviewers&&$(t+"" #scmReviewers"").text(s.scm_reviewers),$(t+"" #scmCommitters"").text(s.scm_committers),$(t+"" #scmRepositories"").text(s.scm_repositories),s.repositories===1&&$(t+"" #scmRepositories"").hide()},this.displayBubbles=function(e,t){Viz.displayBubbles(e,""scm_commits"",""scm_committers"",t)}}function SCR(){var e=this;this.basic_metrics={scr_opened:{divid:""scr_opened"",column:""opened"",name:""Reviews opened"",desc:""Reviews in status new or inprogress""},scr_closed:{divid:""scr_closed"",column:""closed"",name:""Reviews closed"",desc:""Reviews merged or abandoned""},scr_merged:{divid:""scr_merged"",column:""merged"",name:""Reviews merged"",desc:""Reviews merged""},scr_mergers:{divid:""scr_mergers"",column:""mergers"",name:""Reviews mergers"",action:""merged"",desc:""People merging reviews""},scr_new:{divid:""scr_new"",column:""new"",name:""Reviews new"",desc:""Reviews in status new""},scr_abandoned:{divid:""scr_abandoned"",column:""abandoned"",name:""Reviews abandoned"",desc:""Reviews abandoned""},scr_pending:{divid:""scr_pending"",column:""pending"",name:""Reviews pending"",desc:""Reviews pending to be attended""},scr_review_time_days_avg:{divid:""scr_review_time_days_avg"",column:""review_time_days_avg"",name:""Average review time"",desc:""Average review time in days""},scr_verified:{divid:""scr_verified"",column:""verified"",name:""Patches verified"",desc:""Patches verified""},scr_approved:{divid:""scr_approved"",column:""approved"",name:""Patches approved"",desc:""Patches approved""},scr_codereview:{divid:""scr_codereview"",column:""codereview"",name:""Patches codereview"",desc:""Patches in code review process""},scr_WaitingForReviewer:{divid:""scr_WaitingForReviewer"",column:""WaitingForReviewer"",name:""Patches waiting reviewer"",desc:""Patches waiting for reviewer""},scr_WaitingForSubmitter:{divid:""scr_WaitingForSubmitter"",column:""WaitingForSubmitter"",name:""Patches waiting submitter"",desc:""Patches waiting for a new version""},scr_submitted:{divid:""scr_submitted"",column:""submitted"",name:""Reviews submitted"",desc:""Reviews submitted""},scr_sent:{divid:""scr_sent"",column:""sent"",name:""Patches Sent"",desc:""Patches sent""},scr_companies:{divid:""scr_companies"",column:""companies"",name:""Companies"",desc:""Number of active companies""},scr_countries:{divid:""scr_countries"",column:""countries"",name:""Countries"",desc:""Number of active countries""},scr_repositories:{divid:""scr_repositories"",column:""repositories"",name:""Respositories"",desc:""Number of active respositories""},scr_people:{divid:""scr_people"",column:""people"",name:""People"",desc:""Number of active people""},scr_closers:{divid:""scr_closers"",column:""closers"",name:""Closers"",desc:""Reviews closers"",action:""closed""},scr_openers:{divid:""scr_openers"",column:""openers"",name:""Openers"",desc:""Reviews openers"",action:""opened""}},this.getMainMetric=function(){return""scr_merged""},this.getSummaryLabels=function(){var e={first_date:""Start"",last_date:""End""};return e},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .scr_info"").hide();return}var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().scr_url,this.global_data.type&&$(t+"" #scr_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #scr_url"").attr(""href"",r),$(t+"" #scr_name"").text(""SCR ""+this.global_data.type)):($(t+"" #scr_url"").attr(""href"",Report.getProjectData().mls_url),$(t+"" #scr_name"").text(Report.getProjectData().scr_name),$(t+"" #scr_type"").text(Report.getProjectData().scr_type));var i=this.getCompanyQuery(),s=this.getGlobalData();i&&(s=this.getCompaniesGlobalData()[i]),$(t+"" #scrFirst"").text(s.first_date),$(t+"" #scrLast"").text(s.last_date),$(t+"" #scrReviews"").text(s.scr_opened)},this.displayBubbles=function(e,t){},SCR.displaySCRListName=function(e){var t=e.split(""_""),n="""";return t.length>1?(n=t[t.length-1],n===""""&&(n=t[t.length-2])):(n=e.replace(""<"",""""),n=n.replace("">"",""""),t=n.split("".""),n=t[0]),n},this.getTitle=function(){return""Source Code Review""}}function People(){this.basic_metrics={people_members:{column:""members"",name:""Members"",desc:""Community Members""}},this.getMainMetric=function(){return""people_members""},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .mediawiki_info"").hide();return}var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().mediawiki_url,this.global_data.type&&$(t+"" #mediawiki_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #mediawiki_url"").attr(""href"",r),$(t+"" #mediawiki_name"").text(""MediaWiki ""+this.global_data.type)):($(t+"" #mediawiki_url"").attr(""href"",Report.getProjectData().mediawiki_url),$(t+"" #mediawiki_name"").text(Report.getProjectData().mediawiki_name),$(t+"" #mediawiki_type"").text(Report.getProjectData().mediawiki_type));var i=this.getGlobalData();$(t+"" #mediawikiFirst"").text(i.first_date),$(t+"" #mediawikiLast"").text(i.last_date),$(t+"" #mediawikiSent"").text(i.mediawiki_reviews)},this.displayBubbles=function(e,t){},this.getTitle=function(){return""Community Members""}}function Downloads(){var e=this;this.basic_metrics={downloads_downloads:{name:""Total downloads"",column:""downloads""},downloads_packages:{divid:"""",column:""packages"",name:""Packages downloaded"",desc:"""",action:""downloads""},downloads_ips:{divid:"""",column:""ips"",name:""IP addresses"",desc:"""",action:""downloads""}},this.getMainMetric=function(){return""downloads_downloads""},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .irc_info"").hide();return}var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().irc_url,this.global_data.type&&$(t+"" #irc_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #irc_url"").attr(""href"",r),$(t+"" #irc_name"").text(""IRC ""+this.global_data.type)):($(t+"" #irc_url"").attr(""href"",Report.getProjectData().irc_url),$(t+"" #irc_name"").text(Report.getProjectData().irc_name),$(t+"" #irc_type"").text(Report.getProjectData().irc_type));var i=this.getGlobalData();$(t+"" #ircFirst"").text(i.first_date),$(t+"" #ircLast"").text(i.last_date),$(t+"" #ircSent"").text(i.irc_sent),$(t+"" #ircRepositories"").text(i.irc_repositories),i.repositories===1&&$(t+"" #ircRepositories"").hide()},this.displayBubbles=function(e,t){},this.getTitle=function(){return""Downloads""}}function QAForums(){var e=this;this.getMainMetric=function(){return""qaforums_qaforums""},this.displayData=function(e){var t=""#""+e,n=this.global_data.url;if(!n||n.length===0){$(t+"" .irc_info"").hide();return}var r="""";this.global_data.repositories===1?r=this.global_data.url:r=Report.getProjectData().irc_url,this.global_data.type&&$(t+"" #irc_type"").text(this.global_data.type),this.global_data.url&&this.global_data.url!=="".""&&this.global_data.type!==undefined?($(t+"" #irc_url"").attr(""href"",r),$(t+"" #irc_name"").text(""IRC ""+this.global_data.type)):($(t+"" #irc_url"").attr(""href"",Report.getProjectData().irc_url),$(t+"" #irc_name"").text(Report.getProjectData().irc_name),$(t+"" #irc_type"").text(Report.getProjectData().irc_type));var i=this.getGlobalData();$(t+"" #ircFirst"").text(i.first_date),$(t+"" #ircLast"").text(i.last_date),$(t+"" #ircSent"").text(i.irc_sent),$(t+"" #ircRepositories"").text(i.irc_repositories),i.repositories===1&&$(t+"" #ircRepositories"").hide()},this.displayBubbles=function(e,t){},this.getTitle=function(){return""QAForums""}}(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.slice,u=r.unshift,a=i.toString,f=i.hasOwnProperty,l=r.forEach,c=r.map,h=r.reduce,p=r.reduceRight,d=r.filter,v=r.every,m=r.some,g=r.indexOf,y=r.lastIndexOf,b=Array.isArray,w=Object.keys,E=s.bind,S=function(e){return new k(e)};typeof module!=""undefined""&&module.exports?(module.exports=S,S._=S):e._=S,S.VERSION=""1.1.7"";var x=S.each=S.forEach=function(e,t,r){if(e==null)return;if(l&&e.forEach===l)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(i in e&&t.call(r,e[i],i,e)===n)return}else for(var o in e)if(f.call(e,o)&&t.call(r,e[o],o,e)===n)return};S.map=function(e,t,n){var r=[];return e==null?r:c&&e.map===c?e.map(t,n):(x(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},S.reduce=S.foldl=S.inject=function(e,t,n,r){var i=n!==void 0;e==null&&(e=[]);if(h&&e.reduce===h)return r&&(t=S.bind(t,r)),i?e.reduce(t,n):e.reduce(t);x(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(""Reduce of empty array with no initial value"");return n},S.reduceRight=S.foldr=function(e,t,n,r){e==null&&(e=[]);if(p&&e.reduceRight===p)return r&&(t=S.bind(t,r)),n!==void 0?e.reduceRight(t,n):e.reduceRight(t);var i=(S.isArray(e)?e.slice():S.toArray(e)).reverse();return S.reduce(i,t,n,r)},S.find=S.detect=function(e,t,n){var r;return T(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},S.filter=S.select=function(e,t,n){var r=[];return e==null?r:d&&e.filter===d?e.filter(t,n):(x(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},S.reject=function(e,t,n){var r=[];return e==null?r:(x(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},S.every=S.all=function(e,t,r){var i=!0;return e==null?i:v&&e.every===v?e.every(t,r):(x(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),i)};var T=S.some=S.any=function(e,t,r){t=t||S.identity;var i=!1;return e==null?i:m&&e.some===m?e.some(t,r):(x(e,function(e,s,o){if(i|=t.call(r,e,s,o))return n}),!!i)};S.include=S.contains=function(e,t){var n=!1;return e==null?n:g&&e.indexOf===g?e.indexOf(t)!=-1:(T(e,function(e){if(n=e===t)return!0}),n)},S.invoke=function(e,t){var n=o.call(arguments,2);return S.map(e,function(e){return(t.call?t||e:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.max=function(e,t,n){if(!t&&S.isArray(e))return Math.max.apply(Math,e);var r={computed:-Infinity};return x(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},S.min=function(e,t,n){if(!t&&S.isArray(e))return Math.min.apply(Math,e);var r={computed:Infinity};return x(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},S.sortBy=function(e,t,n){return S.pluck(S.map(e,function(e,r,i){return{value:e,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}),""value"")},S.groupBy=function(e,t){var n={};return x(e,function(e,r){var i=t(e,r);(n[i]||(n[i]=[])).push(e)}),n},S.sortedIndex=function(e,t,n){n||(n=S.identity);var r=0,i=e.length;while(r<i){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r},S.toArray=function(e){return e?e.toArray?e.toArray():S.isArray(e)?o.call(e):S.isArguments(e)?o.call(e):S.values(e):[]},S.size=function(e){return S.toArray(e).length},S.first=S.head=function(e,t,n){return t!=null&&!n?o.call(e,0,t):e[0]},S.rest=S.tail=function(e,t,n){return o.call(e,t==null||n?1:t)},S.last=function(e){return e[e.length-1]},S.compact=function(e){return S.filter(e,function(e){return!!e})},S.flatten=function(e){return S.reduce(e,function(e,t){return S.isArray(t)?e.concat(S.flatten(t)):(e[e.length]=t,e)},[])},S.without=function(e){return S.difference(e,o.call(arguments,1))},S.uniq=S.unique=function(e,t){return S.reduce(e,function(e,n,r){if(0==r||(t===!0?S.last(e)!=n:!S.include(e,n)))e[e.length]=n;return e},[])},S.union=function(){return S.uniq(S.flatten(arguments))},S.intersection=S.intersect=function(e){var t=o.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e,t){return S.filter(e,function(e){return!S.include(t,e)})},S.zip=function(){var e=o.call(arguments),t=S.max(S.pluck(e,""length"")),n=new Array(t);for(var r=0;r<t;r++)n[r]=S.pluck(e,""""+r);return n},S.indexOf=function(e,t,n){if(e==null)return-1;var r,i;if(n)return r=S.sortedIndex(e,t),e[r]===t?r:-1;if(g&&e.indexOf===g)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},S.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(e[n]===t)return n;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s},S.bind=function(e,t){if(e.bind===E&&E)return E.apply(e,o.call(arguments,1));var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}},S.bindAll=function(e){var t=o.call(arguments,1);return t.length==0&&(t=S.functions(e)),x(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var r=t.apply(this,arguments);return f.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},S.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(e,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(o.call(arguments,1)))};var N=function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,e.apply(i,s)};n&&clearTimeout(r);if(n||!r)r=setTimeout(o,t)}};S.throttle=function(e,t){return N(e,t,!1)},S.debounce=function(e,t){return N(e,t,!0)},S.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},S.wrap=function(e,t){return function(){var n=[e].concat(o.call(arguments));return t.apply(this,n)}},S.compose=function(){var e=o.call(arguments);return function(){var t=o.call(arguments);for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},S.keys=w||function(e){if(e!==Object(e))throw new TypeError(""Invalid object"");var t=[];for(var n in e)f.call(e,n)&&(t[t.length]=n);return t},S.values=function(e){return S.map(e,S.identity)},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return x(o.call(arguments,1),function(t){for(var n in t)t[n]!==void 0&&(e[n]=t[n])}),e},S.defaults=function(e){return x(o.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},S.clone=function(e){return S.isArray(e)?e.slice():S.extend({},e)},S.tap=function(e,t){return t(e),e},S.isEqual=function(e,t){if(e===t)return!0;var n=typeof e,r=typeof t;if(n!=r)return!1;if(e==t)return!0;if(!e&&t||e&&!t)return!1;e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped);if(e.isEqual)return e.isEqual(t);if(t.isEqual)return t.isEqual(e);if(S.isDate(e)&&S.isDate(t))return e.getTime()===t.getTime();if(S.isNaN(e)&&S.isNaN(t))return!1;if(S.isRegExp(e)&&S.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline;if(n!==""object"")return!1;if(e.length&&e.length!==t.length)return!1;var i=S.keys(e),s=S.keys(t);if(i.length!=s.length)return!1;for(var o in e)if(!(o in t)||!S.isEqual(e[o],t[o]))return!1;return!0},S.isEmpty=function(e){if(S.isArray(e)||S.isString(e))return e.length===0;for(var t in e)if(f.call(e,t))return!1;return!0},S.isElement=function(e){return!!e&&e.nodeType==1},S.isArray=b||function(e){return a.call(e)===""[object Array]""},S.isObject=function(e){return e===Object(e)},S.isArguments=function(e){return!!e&&!!f.call(e,""callee"")},S.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},S.isString=function(e){return!!(e===""""||e&&e.charCodeAt&&e.substr)},S.isNumber=function(e){return!!(e===0||e&&e.toExponential&&e.toFixed)},S.isNaN=function(e){return e!==e},S.isBoolean=function(e){return e===!0||e===!1},S.isDate=function(e){return!!(e&&e.getTimezoneOffset&&e.setUTCFullYear)},S.isRegExp=function(e){return!(!(e&&e.test&&e.exec)||!e.ignoreCase&&e.ignoreCase!==!1)},S.isNull=function(e){return e===null},S.isUndefined=function(e){return e===void 0},S.noConflict=function(){return e._=t,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},S.mixin=function(e){x(S.functions(e),function(t){A(t,S[t]=e[t])})};var C=0;S.uniqueId=function(e){var t=C++;return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},S.template=function(e,t){var n=S.templateSettings,r=""var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('""+e.replace(/\\/g,""\\\\"").replace(/'/g,""\\'"").replace(n.interpolate,function(e,t){return""',""+t.replace(/\\'/g,""'"")+"",'""}).replace(n.evaluate||null,function(e,t){return""');""+t.replace(/\\'/g,""'"").replace(/[\r\n\t]/g,"" "")+""__p.push('""}).replace(/\r/g,""\\r"").replace(/\n/g,""\\n"").replace(/\t/g,""\\t"")+""');}return __p.join('');"",i=new Function(""obj"",r);return t?i(t):i};var k=function(e){this._wrapped=e};S.prototype=k.prototype;var L=function(e,t){return t?S(e).chain():e},A=function(e,t){k.prototype[e]=function(){var e=o.call(arguments);return u.call(e,this._wrapped),L(t.apply(S,e),this._chain)}};S.mixin(S),x([""pop"",""push"",""reverse"",""shift"",""sort"",""splice"",""unshift""],function(e){var t=r[e];k.prototype[e]=function(){return t.apply(this._wrapped,arguments),L(this._wrapped,this._chain)}}),x([""concat"",""join"",""slice""],function(e){var t=r[e];k.prototype[e]=function(){return L(t.apply(this._wrapped,arguments),this._chain)}}),k.prototype.chain=function(){return this._chain=!0,this},k.prototype.value=function(){return this._wrapped}})(),!function(e,t,n){typeof module!=""undefined""?module.exports=n(e,t):typeof define==""function""&&typeof define.amd==""object""?define(n):t[e]=n(e,t)}(""bean"",this,function(e,t){var n=window,r=t[e],i=/over|out/,s=/[^\.]*(?=\..*)\.|.*/,o=/\..*/,u=""addEventListener"",a=""attachEvent"",f=""removeEventListener"",l=""detachEvent"",c=document||{},h=c.documentElement||{},p=h[u],d=p?u:a,v=Array.prototype.slice,m=/click|mouse|menu|drag|drop/i,g=/^touch|^gesture/i,y={one:1},b=function(e,t,n){for(n=0;n<t.length;n++)e[t[n]]=1;return e}({},(""click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll ""+(p?""show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend message readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete "":"""")).split("" "")),w=function(){function e(e,t){while((t=t.parentNode)!==null)if(t===e)return!0;return!1}function t(t){var n=t.relatedTarget;return n?n!==this&&n.prefix!==""xul""&&!/document/.test(this.toString())&&!e(this,n):n===null}return{mouseenter:{base:""mouseover"",condition:t},mouseleave:{base:""mouseout"",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?""DOMMouseScroll"":""mousewheel""}}}(),E=function(){var e=""altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which"".split("" ""),t=e.concat(""button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement"".split("" "")),n=e.concat(""char charCode key keyCode"".split("" "")),r=e.concat(""touches targetTouches changedTouches scale rotation"".split("" "")),s=""preventDefault"",o=function(e){return function(){e[s]?e[s]():e.returnValue=!1}},u=""stopPropagation"",a=function(e){return function(){e[u]?e[u]():e.cancelBubble=!0}},f=function(e){return function(){e[s](),e[u](),e.stopped=!0}},l=function(e,t,n){var r,i;for(r=n.length;r--;)i=n[r],!(i in t)&&i in e&&(t[i]=e[i])};return function(p,d){var v={originalEvent:p,isNative:d};if(!p)return v;var y,b=p.type,w=p.target||p.srcElement;v[s]=o(p),v[u]=a(p),v.stop=f(v),v.target=w&&w.nodeType===3?w.parentNode:w;if(d){if(b.indexOf(""key"")!==-1)y=n,v.keyCode=p.which||p.keyCode;else if(m.test(b)){y=t,v.rightClick=p.which===3||p.button===2,v.pos={x:0,y:0};if(p.pageX||p.pageY)v.clientX=p.pageX,v.clientY=p.pageY;else if(p.clientX||p.clientY)v.clientX=p.clientX+c.body.scrollLeft+h.scrollLeft,v.clientY=p.clientY+c.body.scrollTop+h.scrollTop;i.test(b)&&(v.relatedTarget=p.relatedTarget||p[(b===""mouseover""?""from"":""to"")+""Element""])}else g.test(b)&&(y=r);l(p,v,y||e)}return v}}(),S=function(e,t){return!p&&!t&&(e===c||e===n)?h:e},x=function(){function e(e,t,n,r,i){this.element=e,this.type=t,this.handler=n,this.original=r,this.namespaces=i,this.custom=w[t],this.isNative=b[t]&&e[d],this.eventType=p||this.isNative?t:""propertychange"",this.customType=!p&&!this.isNative&&t,this.target=S(e,this.isNative),this.eventSupport=this.target[d]}return e.prototype={inNamespaces:function(e){var t,n;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)if(e[t]===this.namespaces[n])return!0;return!1},matches:function(e,t,n){return this.element===e&&(!t||this.original===t)&&(!n||this.handler===n)}},e}(),T=function(){var e={},t=function(n,r,i,s,o){if(!r||r===""*"")for(var u in e)u.charAt(0)===""$""&&t(n,u.substr(1),i,s,o);else{var a=0,f,l=e[""$""+r],c=n===""*"";if(!l)return;for(f=l.length;a<f;a++)if(c||l[a].matches(n,i,s))if(!o(l[a],l,a,r))return}},n=function(t,n,r){var i,s=e[""$""+n];if(s)for(i=s.length;i--;)if(s[i].matches(t,r,null))return!0;return!1},r=function(e,n,r){var i=[];return t(e,n,r,null,function(e){return i.push(e)}),i},i=function(t){return(e[""$""+t.type]||(e[""$""+t.type]=[])).push(t),t},s=function(n){t(n.element,n.type,null,n.handler,function(t,n,r){return n.splice(r,1),n.length===0&&delete e[""$""+t.type],!1})},o=function(){var t,n=[];for(t in e)t.charAt(0)===""$""&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:s,entries:o}}(),N=p?function(e,t,n,r){e[r?u:f](t,n,!1)}:function(e,t,n,r,i){i&&r&&e[""_on""+i]===null&&(e[""_on""+i]=0),e[r?a:l](""on""+t,n)},C=function(e,t,r){return function(i){return i=E(i||((this.ownerDocument||this.document||this).parentWindow||n).event,!0),t.apply(e,[i].concat(r))}},k=function(e,t,r,i,s,o){return function(u){if(i?i.apply(this,arguments):p?!0:u&&u.propertyName===""_on""+r||!u)u&&(u=E(u||((this.ownerDocument||this.document||this).parentWindow||n).event,o)),t.apply(e,u&&(!s||s.length===0)?arguments:v.call(arguments,u?0:1).concat(s))}},L=function(e,t,n,r,i){return function(){e(t,n,i),r.apply(this,arguments)}},A=function(e,t,n,r){var i,s,u,a=t&&t.replace(o,""""),f=T.get(e,a,n);for(i=0,s=f.length;i<s;i++)f[i].inNamespaces(r)&&((u=f[i]).eventSupport&&N(u.target,u.eventType,u.handler,!1,u.type),T.del(u))},O=function(e,t,n,r,i){var u,a=t.replace(o,""""),f=t.replace(s,"""").split(""."");if(T.has(e,a,n))return e;a===""unload""&&(n=L(A,e,a,n,r)),w[a]&&(w[a].condition&&(n=k(e,n,a,w[a].condition,!0)),a=w[a].base||a),u=T.put(new x(e,a,n,r,f[0]&&f)),u.handler=u.isNative?C(e,u.handler,i):k(e,u.handler,a,!1,i,!1),u.eventSupport&&N(u.target,u.eventType,u.handler,!0,u.customType)},M=function(e,t,n){return function(r){var i,s,o=typeof e==""string""?n(e,this):e;for(i=r.target;i&&i!==this;i=i.parentNode)for(s=o.length;s--;)if(o[s]===i)return t.apply(i,arguments)}},_=function(e,t,n){var r,i,u,a,f,l=A,c=t&&typeof t==""string"";if(c&&t.indexOf("" "")>0){t=t.split("" "");for(f=t.length;f--;)_(e,t[f],n);return e}u=c&&t.replace(o,""""),u&&w[u]&&(u=w[u].type);if(!t||c){if(a=c&&t.replace(s,""""))a=a.split(""."");l(e,u,n,a)}else if(typeof t==""function"")l(e,null,t);else for(r in t)t.hasOwnProperty(r)&&_(e,r,t[r]);return e},D=function(e,t,n,r,i){var s,o,u,a,f=n,l=n&&typeof n==""string"";if(t&&!n&&typeof t==""object"")for(s in t)t.hasOwnProperty(s)&&D.apply(this,[e,s,t[s]]);else{a=arguments.length>3?v.call(arguments,3):[],o=(l?n:t).split("" ""),l&&(n=M(t,f=r,i))&&(a=v.call(a,1)),this===y&&(n=L(_,e,t,n,f));for(u=o.length;u--;)O(e,o[u],n,f,a)}return e},P=function(){return D.apply(y,arguments)},H=p?function(e,t,r){var i=c.createEvent(e?""HTMLEvents"":""UIEvents"");i[e?""initEvent"":""initUIEvent""](t,!0,!0,n,1),r.dispatchEvent(i)}:function(e,t,n){n=S(n,e),e?n.fireEvent(""on""+t,c.createEventObject()):n[""_on""+t]++},B=function(e,t,n){var r,i,u,a,f,l=t.split("" "");for(r=l.length;r--;){t=l[r].replace(o,"""");if(a=l[r].replace(s,""""))a=a.split(""."");if(!a&&!n&&e[d])H(b[t],t,e);else{f=T.get(e,t),n=[!1].concat(n);for(i=0,u=f.length;i<u;i++)f[i].inNamespaces(a)&&f[i].handler.apply(e,n)}}return e},j=function(e,t,n){var r=0,i=T.get(t,n),s=i.length;for(;r<s;r++)i[r].original&&D(e,i[r].type,i[r].original);return e},F={add:D,one:P,remove:_,clone:j,fire:B,noConflict:function(){return t[e]=r,this}};if(n[a]){var I=function(){var e,t=T.entries();for(e in t)t[e].type&&t[e].type!==""unload""&&_(t[e].element,t[e].type);n[l](""onunload"",I),n.CollectGarbage&&n.CollectGarbage()};n[a](""onunload"",I)}return F}),function(){var e=this,t=this.Flotr,n;n={_:_,bean:bean,isIphone:/iphone/i.test(navigator.userAgent),isIE:navigator.appVersion.indexOf(""MSIE"")!=-1?parseFloat(navigator.appVersion.split(""MSIE"")[1]):!1,graphTypes:{},plugins:{},addType:function(e,t){n.graphTypes[e]=t,n.defaultOptions[e]=t.options||{},n.defaultOptions.defaultType=n.defaultOptions.defaultType||e},addPlugin:function(e,t){n.plugins[e]=t,n.defaultOptions[e]=t.options||{}},draw:function(e,t,r,i){return i=i||n.Graph,new i(e,t,r)},merge:function(e,t){var r,i,s=t||{};for(r in e)i=e[r],i&&typeof i==""object""?i.constructor===Array?s[r]=this._.clone(i):i.constructor!==RegExp&&!this._.isElement(i)&&!i.jquery?s[r]=n.merge(i,t?t[r]:undefined):s[r]=i:s[r]=i;return s},clone:function(e){return n.merge(e,{})},getTickSize:function(e,t,r,i){var s=(r-t)/e,o=n.getMagnitude(s),u=10,a=s/o;return a<1.5?u=1:a<2.25?u=2:a<3?u=i===0?2:2.5:a<7.5&&(u=5),u*o},defaultTickFormatter:function(e,t){return e+""""},defaultTrackFormatter:function(e){return""(""+e.x+"", ""+e.y+"")""},engineeringNotation:function(e,t,n){var r=[""Y"",""Z"",""E"",""P"",""T"",""G"",""M"",""k"",""""],i=[""y"",""z"",""a"",""f"",""p"",""n"",""Âµ"",""m"",""""],s=r.length;n=n||1e3,t=Math.pow(10,t||2);if(e===0)return 0;if(e>1)while(s--&&e>=n)e/=n;else{r=i,s=r.length;while(s--&&e<1)e*=n}return Math.round(e*t)/t+r[s]},getMagnitude:function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},toPixel:function(e){return Math.floor(e)+.5},toRad:function(e){return-e*(Math.PI/180)},floorInBase:function(e,t){return t*Math.floor(e/t)},drawText:function(e,t,r,i,s){if(!e.fillText){e.drawText(t,r,i,s);return}s=this._.extend({size:n.defaultOptions.fontSize,color:""#000000"",textAlign:""left"",textBaseline:""bottom"",weight:1,angle:0},s),e.save(),e.translate(r,i),e.rotate(s.angle),e.fillStyle=s.color,e.font=(s.weight>1?""bold "":"""")+s.size*1.3+""px sans-serif"",e.textAlign=s.textAlign,e.textBaseline=s.textBaseline,e.fillText(t,0,0),e.restore()},getBestTextAlign:function(e,t){return t=t||{textAlign:""center"",textBaseline:""middle""},e+=n.getTextAngleFromAlign(t),Math.abs(Math.cos(e))>.01&&(t.textAlign=Math.cos(e)>0?""right"":""left""),Math.abs(Math.sin(e))>.01&&(t.textBaseline=Math.sin(e)>0?""top"":""bottom""),t},alignTable:{""right middle"":0,""right top"":Math.PI/4,""center top"":Math.PI/2,""left top"":3*(Math.PI/4),""left middle"":Math.PI,""left bottom"":-3*(Math.PI/4),""center bottom"":-Math.PI/2,""right bottom"":-Math.PI/4,""center middle"":0},getTextAngleFromAlign:function(e){return n.alignTable[e.textAlign+"" ""+e.textBaseline]||0},noConflict:function(){return e.Flotr=t,this}},e.Flotr=n}(),Flotr.defaultOptions={colors:[""#00A8F0"",""#C0D800"",""#CB4B4B"",""#4DA74D"",""#9440ED""],ieBackgroundColor:""#FFFFFF"",title:null,subtitle:null,shadowSize:4,defaultType:null,HtmlText:!0,fontColor:""#545454"",fontSize:7.5,resolution:1,parseFloat:!0,preventDefault:!0,xaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels :!1,labelsAngle:0,title:null,titleAngle:0,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,mode:""normal"",timeFormat:null,timeMode:""UTC"",timeUnit:""millisecond"",scaling:""linear"",base:Math.E,titleAlign:""center"",margin:!0},x2axis:{},yaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:90,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,scaling:""linear"",base:Math.E,titleAlign:""center"",margin:!0},y2axis:{titleAngle:270},grid:{color:""#545454"",backgroundColor:null,backgroundImage:null,watermarkAlpha:.4,tickColor:""#DDDDDD"",labelMargin:3,verticalLines:!0,minorVerticalLines:null,horizontalLines:!0,minorHorizontalLines:null,outlineWidth:1,outline:""nsew"",circular:!1},mouse:{track:!1,trackAll:!1,position:""se"",relative:!1,trackFormatter:Flotr.defaultTrackFormatter,margin:5,lineColor:""#FF3F19"",trackDecimals:1,sensibility:2,trackY:!0,radius:3,fillColor:null,fillOpacity:.4}},function(){function t(e,t,n,r){this.rgba=[""r"",""g"",""b"",""a""];var i=4;while(-1<--i)this[this.rgba[i]]=arguments[i]||(i==3?1:0);this.normalize()}var e=Flotr._,n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};t.prototype={scale:function(t,n,r,i){var s=4;while(-1<--s)e.isUndefined(arguments[s])||(this[this.rgba[s]]*=arguments[s]);return this.normalize()},alpha:function(t){return!e.isUndefined(t)&&!e.isNull(t)&&(this.a=t),this.normalize()},clone:function(){return new t(this.r,this.b,this.g,this.a)},limit:function(e,t,n){return Math.max(Math.min(e,n),t)},normalize:function(){var e=this.limit;return this.r=e(parseInt(this.r,10),0,255),this.g=e(parseInt(this.g,10),0,255),this.b=e(parseInt(this.b,10),0,255),this.a=e(this.a,0,1),this},distance:function(e){if(!e)return;e=new t.parse(e);var n=0,r=3;while(-1<--r)n+=Math.abs(this[this.rgba[r]]-e[this.rgba[r]]);return n},toString:function(){return this.a>=1?""rgb(""+[this.r,this.g,this.b].join("","")+"")"":""rgba(""+[this.r,this.g,this.b,this.a].join("","")+"")""},contrast:function(){var e=1-(.299*this.r+.587*this.g+.114*this.b)/255;return e<.5?""#000000"":""#ffffff""}},e.extend(t,{parse:function(e){if(e instanceof t)return e;var r;if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return new t(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return new t(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return new t(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return new t(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return new t(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55);if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return new t(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4]));var i=(e+"""").replace(/^\s*([\S\s]*?)\s*$/,""$1"").toLowerCase();return i==""transparent""?new t(255,255,255,0):(r=n[i])?new t(r[0],r[1],r[2]):new t(0,0,0,0)},processColor:function(n,r){var i=r.opacity;if(!n)return""rgba(0, 0, 0, 0)"";if(n instanceof t)return n.alpha(i).toString();if(e.isString(n))return t.parse(n).alpha(i).toString();var s=n.colors?n:{colors:n};if(!r.ctx)return e.isArray(s.colors)?t.parse(e.isArray(s.colors[0])?s.colors[0][1]:s.colors[0]).alpha(i).toString():""rgba(0, 0, 0, 0)"";s=e.extend({start:""top"",end:""bottom""},s),/top/i.test(s.start)&&(r.x1=0),/left/i.test(s.start)&&(r.y1=0),/bottom/i.test(s.end)&&(r.x2=0),/right/i.test(s.end)&&(r.y2=0);var o,u,a,f=r.ctx.createLinearGradient(r.x1,r.y1,r.x2,r.y2);for(o=0;o<s.colors.length;o++)u=s.colors[o],e.isArray(u)?(a=u[0],u=u[1]):a=o/(s.colors.length-1),f.addColorStop(a,t.parse(u).alpha(i));return f}}),Flotr.Color=t}(),Flotr.Date={set:function(e,t,n,r){n=n||""UTC"",t=""set""+(n===""UTC""?""UTC"":"""")+t,e[t](r)},get:function(e,t,n){return n=n||""UTC"",t=""get""+(n===""UTC""?""UTC"":"""")+t,e[t]()},format:function(e,t,n){function s(e){return e+="""",e.length==1?""0""+e:e}if(!e)return;var r=this.get,i={h:r(e,""Hours"",n).toString(),H:s(r(e,""Hours"",n)),M:s(r(e,""Minutes"",n)),S:s(r(e,""Seconds"",n)),s:r(e,""Milliseconds"",n),d:r(e,""Date"",n).toString(),m:(r(e,""Month"",n)+1).toString(),y:r(e,""FullYear"",n).toString(),b:Flotr.Date.monthNames[r(e,""Month"",n)]},o=[],u,a=!1;for(var f=0;f<t.length;++f)u=t.charAt(f),a?(o.push(i[u]||u),a=!1):u==""%""?a=!0:o.push(u);return o.join("""")},getFormat:function(e,t){var n=Flotr.Date.timeUnits;return e<n.second?""%h:%M:%S.%s"":e<n.minute?""%h:%M:%S"":e<n.day?t<2*n.day?""%h:%M"":""%b %d %h:%M"":e<n.month?""%b %d"":e<n.year?t<n.year?""%b"":""%b %y"":""%y""},formatter:function(e,t){var n=t.options,r=Flotr.Date.timeUnits[n.timeUnit],i=new Date(e*r);if(t.options.timeFormat)return Flotr.Date.format(i,n.timeFormat,n.timeMode);var s=(t.max-t.min)*r,o=t.tickSize*Flotr.Date.timeUnits[t.tickUnit];return Flotr.Date.format(i,Flotr.Date.getFormat(o,s),n.timeMode)},generator:function(e){function y(e){t(m,e,o,Flotr.floorInBase(n(m,e,o),h))}var t=this.set,n=this.get,r=this.timeUnits,i=this.spec,s=e.options,o=s.timeMode,u=r[s.timeUnit],a=e.min*u,f=e.max*u,l=(f-a)/s.noTicks,c=[],h=e.tickSize,p,d,v;d=s.tickFormatter===Flotr.defaultTickFormatter?this.formatter:s.tickFormatter;for(v=0;v<i.length-1;++v){var m=i[v][0]*r[i[v][1]];if(l<(m+i[v+1][0]*r[i[v+1][1]])/2&&m>=h)break}h=i[v][0],p=i[v][1],p==""year""&&(h=Flotr.getTickSize(s.noTicks*r.year,a,f,0),h==.5&&(p=""month"",h=6)),e.tickUnit=p,e.tickSize=h;var g=h*r[p];m=new Date(a);switch(p){case""millisecond"":y(""Milliseconds"");break;case""second"":y(""Seconds"");break;case""minute"":y(""Minutes"");break;case""hour"":y(""Hours"");break;case""month"":y(""Month"");break;case""year"":y(""FullYear"")}g>=r.second&&t(m,""Milliseconds"",o,0),g>=r.minute&&t(m,""Seconds"",o,0),g>=r.hour&&t(m,""Minutes"",o,0),g>=r.day&&t(m,""Hours"",o,0),g>=r.day*4&&t(m,""Date"",o,1),g>=r.year&&t(m,""Month"",o,0);var b=0,w=NaN,E;do{E=w,w=m.getTime(),c.push({v:w/u,label:d(w/u,e)});if(p==""month"")if(h<1){t(m,""Date"",o,1);var S=m.getTime();t(m,""Month"",o,n(m,""Month"",o)+1);var x=m.getTime();m.setTime(w+b*r.hour+(x-S)*h),b=n(m,""Hours"",o),t(m,""Hours"",o,0)}else t(m,""Month"",o,n(m,""Month"",o)+h);else p==""year""?t(m,""FullYear"",o,n(m,""FullYear"",o)+h):m.setTime(w+g)}while(w<f&&w!=E);return c},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:31556952e3},spec:[[1,""millisecond""],[20,""millisecond""],[50,""millisecond""],[100,""millisecond""],[200,""millisecond""],[500,""millisecond""],[1,""second""],[2,""second""],[5,""second""],[10,""second""],[30,""second""],[1,""minute""],[2,""minute""],[5,""minute""],[10,""minute""],[30,""minute""],[1,""hour""],[2,""hour""],[4,""hour""],[8,""hour""],[12,""hour""],[1,""day""],[2,""day""],[3,""day""],[.25,""month""],[.5,""month""],[1,""month""],[2,""month""],[3,""month""],[6,""month""],[1,""year""]],monthNames:[""Jan"",""Feb"",""Mar"",""Apr"",""May"",""Jun"",""Jul"",""Aug"",""Sep"",""Oct"",""Nov"",""Dec""]},function(){function t(e){return e&&e.jquery?e[0]:e}var e=Flotr._;Flotr.DOM={addClass:function(n,r){n=t(n);var i=n.className?n.className:"""";if(e.include(i.split(/\s+/g),r))return;n.className=(i?i+"" "":"""")+r},create:function(e){return document.createElement(e)},node:function(e){var t=Flotr.DOM.create(""div""),n;return t.innerHTML=e,n=t.children[0],t.innerHTML="""",n},empty:function(e){e=t(e),e.innerHTML=""""},remove:function(e){e=t(e),e.parentNode.removeChild(e)},hide:function(e){e=t(e),Flotr.DOM.setStyles(e,{display:""none""})},insert:function(n,r){n=t(n),e.isString(r)?n.innerHTML+=r:e.isElement(r)&&n.appendChild(r)},opacity:function(e,n){e=t(e),e.style.opacity=n},position:function(e,n){return e=t(e),e.offsetParent?(n=this.position(e.offsetParent),n.left+=e.offsetLeft,n.top+=e.offsetTop,n):{left:e.offsetLeft||0,top:e.offsetTop||0}},removeClass:function(n,r){var i=n.className?n.className:"""";n=t(n),n.className=e.filter(i.split(/\s+/g),function(e){if(e!=r)return!0}).join("" "")},setStyles:function(n,r){n=t(n),e.each(r,function(e,t){n.style[t]=e})},show:function(e){e=t(e),Flotr.DOM.setStyles(e,{display:""""})},size:function(e){return e=t(e),{height:e.offsetHeight,width:e.offsetWidth}}}}(),function(){var e=Flotr,t=e.bean;e.EventAdapter={observe:function(e,n,r){return t.add(e,n,r),this},fire:function(e,n,r){return t.fire(e,n,r),typeof Prototype!=""undefined""&&Event.fire(e,n,r),this},stopObserving:function(e,n,r){return t.remove(e,n,r),this},eventPointer:function(t){if(!e._.isUndefined(t.touches)&&t.touches.length>0)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(!e._.isUndefined(t.changedTouches)&&t.changedTouches.length>0)return{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY};if(t.pageX||t.pageY)return{x:t.pageX,y:t.pageY};if(t.clientX||t.clientY){var n=document,r=n.body,i=n.documentElement;return{x:t.clientX+r.scrollLeft+i.scrollLeft,y:t.clientY+r.scrollTop+i.scrollTop}}}}}(),function(){function i(e,n,r){return t.observe.apply(this,arguments),this._handles.push(arguments),this}var e=Flotr.DOM,t=Flotr.EventAdapter,n=Flotr._,r=Flotr;Graph=function(e,i,s){this._setEl(e),this._initMembers(),this._initPlugins(),t.fire(this.el,""flotr:beforeinit"",[this]),this.data=i,this.series=r.Series.getSeries(i),this._initOptions(s),this._initGraphTypes(),this._initCanvas(),this._text=new r.Text({element:this.el,ctx:this.ctx,html:this.options.HtmlText,textEnabled:this.textEnabled}),t.fire(this.el,""flotr:afterconstruct"",[this]),this._initEvents(),this.findDataRanges(),this.calculateSpacing(),this.draw(n.bind(function(){t.fire(this.el,""flotr:afterinit"",[this])},this))},Graph.prototype={destroy:function(){t.fire(this.el,""flotr:destroy""),n.each(this._handles,function(e){t.stopObserving.apply(this,e)}),this._handles=[],this.el.graph=null},observe:i,_observe:i,processColor:function(e,t){var i={x1:0,y1:0,x2:this.plotWidth,y2:this.plotHeight,opacity:1,ctx:this.ctx};return n.extend(i,t),r.Color.processColor(e,i)},findDataRanges:function(){var e=this.axes,t,i,s;n.each(this.series,function(e){s=e.getRange(),s&&(t=e.xaxis,i=e.yaxis,t.datamin=Math.min(s.xmin,t.datamin),t.datamax=Math.max(s.xmax,t.datamax),i.datamin=Math.min(s.ymin,i.datamin),i.datamax=Math.max(s.ymax,i.datamax),t.used=t.used||s.xused,i.used=i.used||s.yused)},this),!e.x.used&&!e.x2.used&&(e.x.used=!0),!e.y.used&&!e.y2.used&&(e.y.used=!0),n.each(e,function(e){e.calculateRange()});var o=n.keys(r.graphTypes),u=!1;n.each(this.series,function(e){if(e.hide)return;n.each(o,function(t){e[t]&&e[t].show&&(this.extendRange(t,e),u=!0)},this),u||this.extendRange(this.options.defaultType,e)},this)},extendRange:function(e,t){this[e].extendRange&&this[e].extendRange(t,t.data,t[e],this[e]),this[e].extendYRange&&this[e].extendYRange(t.yaxis,t.data,t[e],this[e]),this[e].extendXRange&&this[e].extendXRange(t.xaxis,t.data,t[e],this[e])},calculateSpacing:function(){var e=this.axes,t=this.options,r=this.series,i=t.grid.labelMargin,s=this._text,o=e.x,u=e.x2,a=e.y,f=e.y2,l=t.grid.outlineWidth,c,h,p,d;n.each(e,function(e){e.calculateTicks(),e.calculateTextDimensions(s,t)}),d=s.dimensions(t.title,{size:t.fontSize*1.5},""font-size:1em;font-weight:bold;"",""flotr-title""),this.titleHeight=d.height,d=s.dimensions(t.subtitle,{size:t.fontSize},""font-size:smaller;"",""flotr-subtitle""),this.subtitleHeight=d.height;for(h=0;h<t.length;++h)r[h].points.show&&(l=Math.max(l,r[h].points.radius+r[h].points.lineWidth/2));var v=this.plotOffset;o.options.margin===!1?(v.bottom=0,v.top=0):o.options.margin===!0?(v.bottom+=(t.grid.circular?0:o.used&&o.options.showLabels?o.maxLabel.height+i:0)+(o.used&&o.options.title?o.titleSize.height+i:0)+l,v.top+=(t.grid.circular?0:u.used&&u.options.showLabels?u.maxLabel.height+i:0)+(u.used&&u.options.title?u.titleSize.height+i:0)+this.subtitleHeight+this.titleHeight+l):(v.bottom=o.options.margin,v.top=o.options.margin),a.options.margin===!1?(v.left=0,v.right=0):a.options.margin===!0?(v.left+=(t.grid.circular?0:a.used&&a.options.showLabels?a.maxLabel.width+i:0)+(a.used&&a.options.title?a.titleSize.width+i:0)+l,v.right+=(t.grid.circular?0:f.used&&f.options.showLabels?f.maxLabel.width+i:0)+(f.used&&f.options.title?f.titleSize.width+i:0)+l):(v.left=a.options.margin,v.right=a.options.margin),v.top=Math.floor(v.top),this.plotWidth=this.canvasWidth-v.left-v.right,this.plotHeight=this.canvasHeight-v.bottom-v.top,o.length=u.length=this.plotWidth,a.length=f.length=this.plotHeight,a.offset=f.offset=this.plotHeight,o.setScale(),u.setScale(),a.setScale(),f.setScale()},draw:function(e){var n=this.ctx,r;t.fire(this.el,""flotr:beforedraw"",[this.series,this]);if(this.series.length){n.save(),n.translate(this.plotOffset.left,this.plotOffset.top);for(r=0;r<this.series.length;r++)this.series[r].hide||this.drawSeries(this.series[r]);n.restore(),this.clip()}t.fire(this.el,""flotr:afterdraw"",[this.series,this]),e&&e()},drawSeries:function(e){function t(e,t){var n=this.getOptions(e,t);this[t].draw(n)}var i=!1;e=e||this.series,n.each(r.graphTypes,function(n,r){e[r]&&e[r].show&&this[r]&&(i=!0,t.call(this,e,r))},this),i||t.call(this,e,this.options.defaultType)},getOptions:function(e,t){var n=e[t],i=this[t],s=e.xaxis,o=e.yaxis,u={context:this.ctx,width:this.plotWidth,height:this.plotHeight,fontSize:this.options.fontSize,fontColor:this.options.fontColor,textEnabled:this.textEnabled,htmlText:this.options.HtmlText,text:this._text,element:this.el,data:e.data,color:e.color,shadowSize:e.shadowSize,xScale:s.d2p,yScale:o.d2p,xInverse:s.p2d,yInverse:o.p2d};return u=r.merge(n,u),u.fillStyle=this.processColor(n.fillColor||e.color,{opacity:n.fillOpacity}),u},getEventPosition:function(n){var r=document,i=r.body,s=r.documentElement,o=this.axes,u=this.plotOffset,a=this.lastMousePos,f=t.eventPointer(n),l=f.x-a.pageX,c=f.y-a.pageY,h,p,d;return""ontouchstart""in this.el?(h=e.position(this.overlay),p=f.x-h.left-u.left,d=f.y-h.top-u.top):(h=this.overlay.getBoundingClientRect(),p=n.clientX-h.left-u.left-i.scrollLeft-s.scrollLeft,d=n.clientY-h.top-u.top-i.scrollTop-s.scrollTop),{x:o.x.p2d(p),x2:o.x2.p2d(p),y:o.y.p2d(d),y2:o.y2.p2d(d),relX:p,relY:d,dX:l,dY:c,absX:f.x,absY:f.y,pageX:f.x,pageY:f.y}},clickHandler:function(e){if(this.ignoreClick)return this.ignoreClick=!1,this.ignoreClick;t.fire(this.el,""flotr:click"",[this.getEventPosition(e),this])},mouseMoveHandler:function(e){if(this.mouseDownMoveHandler)return;var n=this.getEventPosition(e);t.fire(this.el,""flotr:mousemove"",[e,n,this]),this.lastMousePos=n},mouseDownHandler:function(e){if(this.mouseUpHandler)return;this.mouseUpHandler=n.bind(function(e){t.stopObserving(document,""mouseup"",this.mouseUpHandler),t.stopObserving(document,""mousemove"",this.mouseDownMoveHandler),this.mouseDownMoveHandler=null,this.mouseUpHandler=null,t.fire(this.el,""flotr:mouseup"",[e,this])},this),this.mouseDownMoveHandler=n.bind(function(n){var r=this.getEventPosition(n);t.fire(this.el,""flotr:mousemove"",[e,r,this]),this.lastMousePos=r},this),t.observe(document,""mouseup"",this.mouseUpHandler),t.observe(document,""mousemove"",this.mouseDownMoveHandler),t.fire(this.el,""flotr:mousedown"",[e,this]),this.ignoreClick=!1},drawTooltip:function(t,n,r,i){var s=this.getMouseTrack(),o=""opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;"",u=i.position,a=i.margin,f=this.plotOffset;n!==null&&r!==null?(i.relative?(u.charAt(0)==""n""?o+=""bottom:""+(a-f.top-r+this.canvasHeight)+""px;top:auto;"":u.charAt(0)==""s""&&(o+=""top:""+(a+f.top+r)+""px;bottom:auto;""),u.charAt(1)==""e""?o+=""left:""+(a+f.left+n)+""px;right:auto;"":u.charAt(1)==""w""&&(o+=""right:""+(a-f.left-n+this.canvasWidth)+""px;left:auto;"")):(u.charAt(0)==""n""?o+=""top:""+(a+f.top)+""px;bottom:auto;"":u.charAt(0)==""s""&&(o+=""bottom:""+(a+f.bottom)+""px;top:auto;""),u.charAt(1)==""e""?o+=""right:""+(a+f.right)+""px;left:auto;"":u.charAt(1)==""w""&&(o+=""left:""+(a+f.left)+""px;right:auto;"")),s.style.cssText=o,e.empty(s),e.insert(s,t),e.show(s)):e.hide(s)},clip:function(e){var t=this.plotOffset,n=this.canvasWidth,i=this.canvasHeight;e=e||this.ctx;if(r.isIE&&r.isIE<9&&!r.isFlashCanvas){if(e===this.octx)return;e.save(),e.fillStyle=this.processColor(this.options.ieBackgroundColor),e.fillRect(0,0,n,t.top),e.fillRect(0,0,t.left,i),e.fillRect(0,i-t.bottom,n,t.bottom),e.fillRect(n-t.right,0,t.right,i),e.restore()}else e.clearRect(0,0,n,t.top),e.clearRect(0,0,t.left,i),e.clearRect(0,i-t.bottom,n,t.bottom),e.clearRect(n-t.right,0,t.right,i)},_initMembers:function(){this._handles=[],this.lastMousePos={pageX:null,pageY:null},this.plotOffset={left:0,right:0,top:0,bottom:0},this.ignoreClick=!0,this.prevHit=null},_initGraphTypes:function(){n.each(r.graphTypes,function(e,t){this[t]=r.clone(e)},this)},_initEvents:function(){var e=this.el,r,i,s;""ontouchstart""in e?(r=n.bind(function(n){s=!0,t.stopObserving(document,""touchend"",r),t.fire(e,""flotr:mouseup"",[event,this]),this.multitouches=null,i||this.clickHandler(n)},this),this.observe(this.overlay,""touchstart"",n.bind(function(n){i=!1,s=!1,this.ignoreClick=!1,n.touches&&n.touches.length>1&&(this.multitouches=n.touches),t.fire(e,""flotr:mousedown"",[event,this]),this.observe(document,""touchend"",r)},this)),this.observe(this.overlay,""touchmove"",n.bind(function(n){var r=this.getEventPosition(n);this.options.preventDefault&&n.preventDefault(),i=!0,this.multitouches||n.touches&&n.touches.length>1?this.multitouches=n.touches:s||t.fire(e,""flotr:mousemove"",[event,r,this]),this.lastMousePos=r},this))):this.observe(this.overlay,""mousedown"",n.bind(this.mouseDownHandler,this)).observe(e,""mousemove"",n.bind(this.mouseMoveHandler,this)).observe(this.overlay,""click"",n.bind(this.clickHandler,this)).observe(e,""mouseout"",function(n){t.fire(e,""flotr:mouseout"",n)})},_initCanvas:function(){function l(i,s){return i||(i=e.create(""canvas""),typeof FlashCanvas!=""undefined""&&typeof i.getContext==""function""&&(FlashCanvas.initElement(i),this.isFlashCanvas=!0),i.className=""flotr-""+s,i.style.cssText=""position:absolute;left:0px;top:0px;"",e.insert(t,i)),n.each(a,function(t,n){e.show(i);if(s==""canvas""&&i.getAttribute(n)===t)return;i.setAttribute(n,t*r.resolution),i.style[n]=t+""px""}),i.context_=null,i}function c(e){window.G_vmlCanvasManager&&window.G_vmlCanvasManager.initElement(e);var t=e.getContext(""2d"");return window.G_vmlCanvasManager||t.scale(r.resolution,r.resolution),t}var t=this.el,r=this.options,i=t.children,s=[],o,u,a,f;for(u=i.length;u--;)o=i[u],!this.canvas&&o.className===""flotr-canvas""?this.canvas=o:!this.overlay&&o.className===""flotr-overlay""?this.overlay=o:s.push(o);for(u=s.length;u--;)t.removeChild(s[u]);e.setStyles(t,{position:""relative""}),a={},a.width=t.clientWidth,a.height=t.clientHeight;if(a.width<=0||a.height<=0||r.resolution<=0)throw""Invalid dimensions for plot, width = ""+a.width+"", height = ""+a.height+"", resolution = ""+r.resolution;this.canvas=l(this.canvas,""canvas""),this.overlay=l(this.overlay,""overlay""),this.ctx=c(this.canvas),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.octx=c(this.overlay),this.octx.clearRect(0,0,this.overlay.width,this.overlay.height),this.canvasHeight=a.height,this.canvasWidth=a.width,this.textEnabled=!!this.ctx.drawText||!!this.ctx.fillText},_initPlugins:function(){n.each(r.plugins,function(e,t){n.each(e.callbacks,function(e,t){this.observe(this.el,t,n.bind(e,this))},this),this[t]=r.clone(e),n.each(this[t],function(e,r){n.isFunction(e)&&(this[t][r]=n.bind(e,this))},this)},this)},_initOptions:function(e){var i=r.clone(r.defaultOptions);i.x2axis=n.extend(n.clone(i.xaxis),i.x2axis),i.y2axis=n.extend(n.clone(i.yaxis),i.y2axis),this.options=r.merge(e||{},i),this.options.grid.minorVerticalLines===null&&this.options.xaxis.scaling===""logarithmic""&&(this.options.grid.minorVerticalLines=!0),this.options.grid.minorHorizontalLines===null&&this.options.yaxis.scaling===""logarithmic""&&(this.options.grid.minorHorizontalLines=!0),t.fire(this.el,""flotr:afterinitoptions"",[this]),this.axes=r.Axis.getAxes(this.options);var s=[],o=[],u=this.series.length,a=this.series.length,f=this.options.colors,l=[],c=0,h,p,d,v;for(p=a-1;p>-1;--p)h=this.series[p].color,h&&(--a,n.isNumber(h)?s.push(h):l.push(r.Color.parse(h)));for(p=s.length-1;p>-1;--p)a=Math.max(a,s[p]+1);for(p=0;o.length<a;){h=f.length==p?new r.Color(100,100,100):r.Color.parse(f[p]);var m=c%2==1?-1:1,g=1+m*Math.ceil(c/2)*.2;h.scale(g,g,g),o.push(h),++p>=f.length&&(p=0,++c)}for(p=0,d=0;p<u;++p){v=this.series[p],v.color?n.isNumber(v.color)&&(v.color=o[v.color].toString()):v.color=o[d++].toString(),v.xaxis||(v.xaxis=this.axes.x),v.xaxis==1?v.xaxis=this.axes.x:v.xaxis==2&&(v.xaxis=this.axes.x2),v.yaxis||(v.yaxis=this.axes.y),v.yaxis==1?v.yaxis=this.axes.y:v.yaxis==2&&(v.yaxis=this.axes.y2);for(var y in r.graphTypes)v[y]=n.extend(n.clone(this.options[y]),v[y]);v.mouse=n.extend(n.clone(this.options.mouse),v.mouse),n.isUndefined(v.shadowSize)&&(v.shadowSize=this.options.shadowSize)}},_setEl:function(e){if(!e)throw""The target container doesn't exist"";if(e.graph instanceof Graph)e.graph.destroy();else if(!e.clientWidth)throw""The target container must be visible"";e.graph=this,this.el=e}},Flotr.Graph=Graph}(),function(){function n(t){this.orientation=1,this.offset=0,this.datamin=Number.MAX_VALUE,this.datamax=-Number.MAX_VALUE,e.extend(this,t)}function r(e,t){return e=Math.log(Math.max(e,Number.MIN_VALUE)),t!==Math.E&&(e/=Math.log(t)),e}function s(e,t){return t===Math.E?Math.exp(e):Math.pow(t,e)}var e=Flotr._,t=""logarithmic"";n.prototype={setScale:function(){var e=this.length,n=this.max,i=this.min,o=this.offset,u=this.orientation,a=this.options,f=a.scaling===t,l;f?l=e/(r(n,a.base)-r(i,a.base)):l=e/(n-i),this.scale=l,f?(this.d2p=function(e){return o+u*(r(e,a.base)-r(i,a.base))*l},this.p2d=function(e){return s((o+u*e)/l+r(i,a.base),a.base)}):(this.d2p=function(e){return o+u*(e-i)*l},this.p2d=function(e){return(o+u*e)/l+i})},calculateTicks:function(){var t=this.options;this.ticks=[],this.minorTicks=[],t.ticks?(this._cleanUserTicks(t.ticks,this.ticks),this._cleanUserTicks(t.minorTicks||[],this.minorTicks)):t.mode==""time""?this._calculateTimeTicks():t.scaling===""logarithmic""?this._calculateLogTicks():this._calculateTicks(),e.each(this.ticks,function(e){e.label+=""""}),e.each(this.minorTicks,function(e){e.label+=""""})},calculateRange:function(){if(!this.used)return;var e=this,t=e.options,n=t.min!==null?t.min:e.datamin,r=t.max!==null?t.max:e.datamax,i=t.autoscaleMargin;t.scaling==""logarithmic""&&(n<=0&&(n=e.datamin),r<=0&&(r=n));if(r==n){var s=r?.01:1;t.min===null&&(n-=s),t.max===null&&(r+=s)}if(t.scaling===""logarithmic""){n<0&&(n=r/t.base);var o=Math.log(r);t.base!=Math.E&&(o/=Math.log(t.base)),o=Math.ceil(o);var u=Math.log(n);t.base!=Math.E&&(u/=Math.log(t.base)),u=Math.ceil(u),e.tickSize=Flotr.getTickSize(t.noTicks,u,o,t.tickDecimals===null?0:t.tickDecimals),t.minorTickFreq===null&&(o-u>10?t.minorTickFreq=0:o-u>5?t.minorTickFreq=2:t.minorTickFreq=5)}else e.tickSize=Flotr.getTickSize(t.noTicks,n,r,t.tickDecimals);e.min=n,e.max=r,t.min===null&&t.autoscale&&(e.min-=e.tickSize*i,e.min<0&&e.datamin>=0&&(e.min=0),e.min=e.tickSize*Math.floor(e.min/e.tickSize)),t.max===null&&t.autoscale&&(e.max+=e.tickSize*i,e.max>0&&e.datamax<=0&&e.datamax!=e.datamin&&(e.max=0),e.max=e.tickSize*Math.ceil(e.max/e.tickSize)),e.min==e.max&&(e.max=e.min+1)},calculateTextDimensions:function(e,t){var n="""",r,i;if(this.options.showLabels)for(i=0;i<this.ticks.length;++i)r=this.ticks[i].label.length,r>n.length&&(n=this.ticks[i].label);this.maxLabel=e.dimensions(n,{size:t.fontSize,angle:Flotr.toRad(this.options.labelsAngle)},""font-size:smaller;"",""flotr-grid-label""),this.titleSize=e.dimensions(this.options.title,{size:t.fontSize*1.2,angle:Flotr.toRad(this.options.titleAngle)},""font-weight:bold;"",""flotr-axis-title"")},_cleanUserTicks:function(t,n){var r=this,i=this.options,s,o,u,a;e.isFunction(t)&&(t=t({min:r.min,max:r.max}));for(o=0;o<t.length;++o)a=t[o],typeof a==""object""?(s=a[0],u=a.length>1?a[1]:i.tickFormatter(s,{min:r.min,max:r.max})):(s=a,u=i.tickFormatter(s,{min:this.min,max:this.max})),n[o]={v:s,label:u}},_calculateTimeTicks:function(){this.ticks=Flotr.Date.generator(this)},_calculateLogTicks:function(){var e=this,t=e.options,n,r,s=Math.log(e.max);t.base!=Math.E&&(s/=Math.log(t.base)),s=Math.ceil(s);var o=Math.log(e.min);t.base!=Math.E&&(o/=Math.log(t.base)),o=Math.ceil(o);for(i=o;i<s;i+=e.tickSize){r=t.base==Math.E?Math.exp(i):Math.pow(t.base,i);var u=r*(t.base==Math.E?Math.exp(e.tickSize):Math.pow(t.base,e.tickSize)),a=(u-r)/t.minorTickFreq;e.ticks.push({v:r,label:t.tickFormatter(r,{min:e.min,max:e.max})});for(n=r+a;n<u;n+=a)e.minorTicks.push({v:n,label:t.tickFormatter(n,{min:e.min,max:e.max})})}r=t.base==Math.E?Math.exp(i):Math.pow(t.base,i),e.ticks.push({v:r,label:t.tickFormatter(r,{min:e.min,max:e.max})})},_calculateTicks:function(){var e=this,t=e.options,n=e.tickSize,r=e.min,i=e.max,s=n*Math.ceil(r/n),o,u,a,f,l,c;t.minorTickFreq&&(u=n/t.minorTickFreq);for(l=0;(a=f=s+l*n)<=i;++l){o=t.tickDecimals,o===null&&(o=1-Math.floor(Math.log(n)/Math.LN10)),o<0&&(o=0),a=a.toFixed(o),e.ticks.push({v:a,label:t.tickFormatter(a,{min:e.min,max:e.max})});if(t.minorTickFreq)for(c=0;c<t.minorTickFreq&&l*n+c*u<i;++c)a=f+c*u,e.minorTicks.push({v:a,label:t.tickFormatter(a,{min:e.min,max:e.max})})}}},e.extend(n,{getAxes:function(e){return{x:new n({options:e.xaxis,n:1,length:this.plotWidth}),x2:new n({options:e.x2axis,n:2,length:this.plotWidth}),y:new n({options:e.yaxis,n:1,length:this.plotHeight,offset:this.plotHeight,orientation:-1}),y2:new n({options:e.y2axis,n:2,length:this.plotHeight,offset:this.plotHeight,orientation:-1})}}}),Flotr.Axis=n}(),function(){function t(t){e.extend(this,t)}var e=Flotr._;t.prototype={getRange:function(){var e=this.data,t=e.length,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=-Number.MAX_VALUE,o=!1,u=!1,a,f,l;if(t<0||this.hide)return!1;for(l=0;l<t;l++)a=e[l][0],f=e[l][1],a!==null&&(a<n&&(n=a,o=!0),a>i&&(i=a,o=!0)),f!==null&&(f<r&&(r=f,u=!0),f>s&&(s=f,u=!0));return{xmin:n,xmax:i,ymin:r,ymax:s,xused:o,yused:u}}},e.extend(t,{getSeries:function(n){return e.map(n,function(n){var r;return n.data?(r=new t,e.extend(r,n)):r=new t({data:n}),r})}}),Flotr.Series=t}(),function(){var e=Flotr,t=e.DOM,n=e._,r=function(e){this.o=e};r.prototype={dimensions:function(e,t,n,r){return e?this.o.html?this.html(e,this.o.element,n,r):this.canvas(e,t):{width:0,height:0}},canvas:function(t,n){if(!this.o.textEnabled)return;n=n||{};var r=this.measureText(t,n),i=r.width,s=n.size||e.defaultOptions.fontSize,o=n.angle||0,u=Math.cos(o),a=Math.sin(o),f=2,l=6,c;return c={width:Math.abs(u*i)+Math.abs(a*s)+f,height:Math.abs(a*i)+Math.abs(u*s)+l},c},html:function(e,n,r,i){var s=t.create(""div"");return t.setStyles(s,{position:""absolute"",top:""-100000px""}),t.insert(s,'<div style=""'+r+'"" class=""'+i+' flotr-dummy-div"">'+e+""</div>""),t.insert(this.o.element,s),t.size(s)},measureText:function(t,r){var i=this.o.ctx,s;return!i.fillText||e.isIphone&&i.measure?{width:i.measure(t,r)}:(r=n.extend({size:e.defaultOptions.fontSize,weight:1,angle:0},r),i.save(),i.font=(r.weight>1?""bold "":"""")+r.size*1.3+""px sans-serif"",s=i.measureText(t),i.restore(),s)}},Flotr.Text=r}(),Flotr.addType(""lines"",{options:{show:!1,lineWidth:2,fill:!1,fillBorder:!1,fillColor:null,fillOpacity:.4,steps:!1,stacked:!1},stack:{values:[]},draw:function(e){var t=e.context,n=e.lineWidth,r=e.shadowSize,i;t.save(),t.lineJoin=""round"",r&&!1&&(t.lineWidth=r/2,i=n/2+t.lineWidth/2,t.strokeStyle=""rgba(0,0,0,0.1)"",this.plot(e,i+r/2,!1),t.strokeStyle=""rgba(0,0,0,0.2)"",this.plot(e,i,!1)),t.lineWidth=n,t.strokeStyle=e.color,this.plot(e,0,!0),t.restore()},plot:function(e,t,n){function T(t){var n=null;for(n=l-1;n>=0;--n){if(!e.fill)return;if(!t[n])return;t[n][1]===null&&(t[n][1]=0),x=o(t[n][0]),y=u(t[n][1]);if(y>s||x>i||y<0||x<0)return;r.lineTo(x,y),r.stroke()}}function N(e){var t=[],n=a[0][0];for(S=0;S<e.length;++S)t.push([S+n,e[S]]);return t}function C(){if(!t&&e.fill&&d){e.fillBorder&&r.stroke(),v=o(d[0]),r.fillStyle=e.fillStyle;if(!f||f.values.length===0)r.lineTo(m,p),r.lineTo(v,p),r.lineTo(v,u(d[1]));else{var n=N(f.values);stack_x1=o(n[0][0]),stack_y2=u(n[n.length-1][1]),r.lineTo(m,stack_y2),T(n),r.lineTo(stack_x1,u(a[0][1]))}r.fill()}}var r=e.context,i=e.width,s=e.height,o=e.xScale,u=e.yScale,a=e.data,f=e.stacked?this.stack:!1,l=a.length-1,c=null,h=null,p=u(0),d=null,v,m,g,b,w,E,S;if(l<1)return;r.beginPath();for(S=0;S<l;++S){if(a[S][1]===null||a[S+1][1]===null){e.fill&&S>0&&a[S][1]&&(r.stroke(),C(),d=null,r.closePath(),r.beginPath());continue}v=o(a[S][0]),m=o(a[S+1][0]),d===null&&(d=a[S]),f?(w=f.values[S]||0,E=f.values[S+1]||0,g=u(a[S][1]+w),b=u(a[S+1][1]+E)):(g=u(a[S][1]),b=u(a[S+1][1]));if(g>s&&b>s||g<0&&b<0||v<0&&m<0||v>i&&m>i)continue;(c!=v||h!=g+t)&&r.moveTo(v,g+t),c=m,h=b+t,e.steps?(r.lineTo(c+t/2,g+t),r.lineTo(c+t/2,h)):r.lineTo(c,h)}(!e.fill||e.fill&&!e.fillBorder)&&r.stroke(),C();if(f)for(S=0;S<l;++S)w=f.values[S]||0,E=f.values[S+1]||0,n&&(f.values[S]=a[S][1]+w,S==l-1&&(f.values[S+1]=a[S+1][1]+E))},extendYRange:function(e,t,n,r){var i=e.options;if(n.stacked&&(!i.max&&i.max!==0||!i.min&&i.min!==0)){var s=e.max,o=e.min,u=r.positiveSums||{},a=r.negativeSums||{},f,l;for(l=0;l<t.length;l++)f=t[l][0]+"""",t[l][1]>0?(u[f]=(u[f]||0)+t[l][1],s=Math.max(s,u[f])):(a[f]=(a[f]||0)+t[l][1],o=Math.min(o,a[f]));r.negativeSums=a,r.positiveSums=u,e.max=s,e.min=o}n.steps&&(this.hit=function(e){var t=e.data,n=e.args,r=e.yScale,i=n[0],s=t.length,o=n[1],u=e.xInverse(i.relX),a=i.relY,f;for(f=0;f<s-1;f++)if(u>=t[f][0]&&u<=t[f+1][0]){Math.abs(r(t[f][1])-a)<8&&(o.x=t[f][0],o.y=t[f][1],o.index=f,o.seriesIndex=e.index);break}},this.drawHit=function(e){var t=e.context,n=e.args,r=e.data,i=e.xScale,s=n.index,o=i(n.x),u=e.yScale(n.y),a;r.length-1>s&&(a=e.xScale(r[s+1][0]),t.save(),t.strokeStyle=e.color,t.lineWidth=e.lineWidth,t.beginPath(),t.moveTo(o,u),t.lineTo(a,u),t.stroke(),t.closePath(),t.restore())},this.clearHit=function(e){var t=e.context,n=e.args,r=e.data,i=e.xScale,s=e.lineWidth,o=n.index,u=i(n.x),a=e.yScale(n.y),f;r.length-1>o&&(f=e.xScale(r[o+1][0]),t.clearRect(u-s,a-s,f-u+2*s,2*s))})}}),Flotr.addType(""bars"",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,horizontal:!1,stacked:!1,centered:!0,topPadding:.1,grouped:!1},stack:{positive:[],negative:[],_positive:[],_negative:[]},draw:function(e){var t=e.context;this.current+=1,t.save(),t.lineJoin=""miter"",t.lineWidth=e.lineWidth,t.strokeStyle=e.color,e.fill&&(t.fillStyle=e.fillStyle),this.plot(e),t.restore()},plot:function(e){var t=e.data,n=e.context,r=e.shadowSize,i,s,o,u,a,f;if(t.length<1)return;this.translate(n,e.horizontal);for(i=0;i<t.length;i++){s=this.getBarGeometry(t[i][0],t[i][1],e);if(s===null)continue;o=s.left,u=s.top,a=s.width,f=s.height,e.fill&&n.fillRect(o,u,a,f),r&&(n.save(),n.fillStyle=""rgba(0,0,0,0.05)"",n.fillRect(o+r,u+r,a,f),n.restore()),e.lineWidth&&n.strokeRect(o,u,a,f)}},translate:function(e,t){t&&(e.rotate(-Math.PI/2),e.scale(-1,1))},getBarGeometry:function(e,t,n){var r=n.horizontal,i=n.barWidth,s=n.centered,o=n.stacked?this.stack:!1,u=n.lineWidth,a=s?i/2:0,f=r?n.yScale:n.xScale,l=r?n.xScale:n.yScale,c=r?t:e,h=r?e:t,p=0,d,v,m,g,y;return n.grouped&&(this.current/this.groups,c-=a,i/=this.groups,a=i/2,c=c+i*this.current-a),o&&(d=h>0?o.positive:o.negative,p=d[c]||p,d[c]=p+h),v=f(c-a),m=f(c+i-a),g=l(h+p),y=l(p),y<0&&(y=0),e===null||t===null?null:{x:c,y:h,xScale:f,yScale:l,top:g,left:Math.min(v,m)-u/2,width:Math.abs(m-v)-u,height:y-g}},hit:function(e){var t=e.data,n=e.args,r=n[0],i=n[1],s=e.xInverse(r.relX),o=e.yInverse(r.relY),u=this.getBarGeometry(s,o,e),a=u.width/2,f=u.left,l=u.y,c,h;for(h=t.length;h--;)c=this.getBarGeometry(t[h][0],t[h][1],e),(l>0&&l<c.y||l<0&&l>c.y)&&Math.abs(f-c.left)<a&&(i.x=t[h][0],i.y=t[h][1],i.index=h,i.seriesIndex=e.index)},drawHit:function(e){var t=e.context ,n=e.args,r=this.getBarGeometry(n.x,n.y,e),i=r.left,s=r.top,o=r.width,u=r.height;t.save(),t.strokeStyle=e.color,t.lineWidth=e.lineWidth,this.translate(t,e.horizontal),t.beginPath(),t.moveTo(i,s+u),t.lineTo(i,s),t.lineTo(i+o,s),t.lineTo(i+o,s+u),e.fill&&(t.fillStyle=e.fillStyle,t.fill()),t.stroke(),t.closePath(),t.restore()},clearHit:function(e){var t=e.context,n=e.args,r=this.getBarGeometry(n.x,n.y,e),i=r.left,s=r.width,o=r.top,u=r.height,a=2*e.lineWidth;t.save(),this.translate(t,e.horizontal),t.clearRect(i-a,Math.min(o,o+u)-a,s+2*a,Math.abs(u)+2*a),t.restore()},extendXRange:function(e,t,n,r){this._extendRange(e,t,n,r),this.groups=this.groups+1||1,this.current=0},extendYRange:function(e,t,n,r){this._extendRange(e,t,n,r)},_extendRange:function(e,t,n,r){var i=e.options.max;if(_.isNumber(i)||_.isString(i))return;var s=e.min,o=e.max,u=n.horizontal,a=e.orientation,f=this.positiveSums||{},l=this.negativeSums||{},c,h,p,d;(a==1&&!u||a==-1&&u)&&n.centered&&(o=Math.max(e.datamax+n.barWidth,o),s=Math.min(e.datamin-n.barWidth,s));if(n.stacked&&(a==1&&u||a==-1&&!u))for(d=t.length;d--;)c=t[d][a==1?1:0]+"""",h=t[d][a==1?0:1],h>0?(f[c]=(f[c]||0)+h,o=Math.max(o,f[c])):(l[c]=(l[c]||0)+h,s=Math.min(s,l[c]));(a==1&&u||a==-1&&!u)&&n.topPadding&&(e.max===e.datamax||n.stacked&&this.stackMax!==o)&&(o+=n.topPadding*(o-s)),this.stackMin=s,this.stackMax=o,this.negativeSums=l,this.positiveSums=f,e.max=o,e.min=s}}),Flotr.addType(""bubbles"",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,baseRadius:2},draw:function(e){var t=e.context,n=e.shadowSize;t.save(),t.lineWidth=e.lineWidth,t.fillStyle=""rgba(0,0,0,0.05)"",t.strokeStyle=""rgba(0,0,0,0.05)"",this.plot(e,n/2),t.strokeStyle=""rgba(0,0,0,0.1)"",this.plot(e,n/4),t.strokeStyle=e.color,t.fillStyle=e.fillStyle,this.plot(e),t.restore()},plot:function(e,t){var n=e.data,r=e.context,i,s,o,u,a;t=t||0;for(s=0;s<n.length;++s)i=this.getGeometry(n[s],e),r.beginPath(),r.arc(i.x+t,i.y+t,i.z,0,2*Math.PI,!0),r.stroke(),e.fill&&r.fill(),r.closePath()},getGeometry:function(e,t){return{x:t.xScale(e[0]),y:t.yScale(e[1]),z:e[2]*t.baseRadius}},hit:function(e){var t=e.data,n=e.args,r=n[0],s=n[1],o=r.relX,u=r.relY,a,f,l,c;s.best=s.best||Number.MAX_VALUE;for(i=t.length;i--;)f=this.getGeometry(t[i],e),l=f.x-o,c=f.y-u,a=Math.sqrt(l*l+c*c),a<f.z&&f.z<s.best&&(s.x=t[i][0],s.y=t[i][1],s.index=i,s.seriesIndex=e.index,s.best=f.z)},drawHit:function(e){var t=e.context,n=this.getGeometry(e.data[e.args.index],e);t.save(),t.lineWidth=e.lineWidth,t.fillStyle=e.fillStyle,t.strokeStyle=e.color,t.beginPath(),t.arc(n.x,n.y,n.z,0,2*Math.PI,!0),t.fill(),t.stroke(),t.closePath(),t.restore()},clearHit:function(e){var t=e.context,n=this.getGeometry(e.data[e.args.index],e),r=n.z+e.lineWidth;t.save(),t.clearRect(n.x-r,n.y-r,2*r,2*r),t.restore()}}),function(){function e(e){return typeof e==""object""&&e.constructor&&(Image?!0:e.constructor===Image)}Flotr.defaultMarkerFormatter=function(e){return Math.round(e.y*100)/100+""""},Flotr.addType(""markers"",{options:{show:!1,lineWidth:1,color:""#000000"",fill:!1,fillColor:""#FFFFFF"",fillOpacity:.4,stroke:!1,position:""ct"",verticalMargin:0,labelFormatter:Flotr.defaultMarkerFormatter,fontSize:Flotr.defaultOptions.fontSize,stacked:!1,stackingType:""b"",horizontal:!1},stack:{positive:[],negative:[],values:[]},draw:function(e){function h(e,t){return o=r.negative[e]||0,s=r.positive[e]||0,t>0?(r.positive[e]=o+t,o+t):(r.negative[e]=s+t,s+t)}var t=e.data,n=e.context,r=e.stacked?e.stack:!1,i=e.stackingType,s,o,u,a,f,l,c;n.save(),n.lineJoin=""round"",n.lineWidth=e.lineWidth,n.strokeStyle=""rgba(0,0,0,0.5)"",n.fillStyle=e.fillStyle;for(a=0;a<t.length;++a)f=t[a][0],l=t[a][1],r&&(i==""b""?e.horizontal?l=h(l,f):f=h(f,l):i==""a""&&(u=r.values[f]||0,r.values[f]=u+l,l=u+l)),c=e.labelFormatter({x:f,y:l,index:a,data:t}),this.plot(e.xScale(f),e.yScale(l),c,e);n.restore()},plot:function(t,n,r,i){var s=i.context;if(e(r)&&!r.complete)throw""Marker image not loaded."";this._plot(t,n,r,i)},_plot:function(t,n,r,i){var s=i.context,o=2,u=t,a=n,f;e(r)?f={height:r.height,width:r.width}:f=i.text.canvas(r),f.width=Math.floor(f.width+o*2),f.height=Math.floor(f.height+o*2),i.position.indexOf(""c"")!=-1?u-=f.width/2+o:i.position.indexOf(""l"")!=-1&&(u-=f.width),i.position.indexOf(""m"")!=-1?a-=f.height/2+o:i.position.indexOf(""t"")!=-1?a-=f.height+i.verticalMargin:a+=i.verticalMargin,u=Math.floor(u)+.5,a=Math.floor(a)+.5,i.fill&&s.fillRect(u,a,f.width,f.height),i.stroke&&s.strokeRect(u,a,f.width,f.height),e(r)?s.drawImage(r,parseInt(u+o,10),parseInt(a+o,10)):Flotr.drawText(s,r,u+o,a+o,{textBaseline:""top"",textAlign:""left"",size:i.fontSize,color:i.color})}})}(),function(){var e=Flotr._;Flotr.defaultPieLabelFormatter=function(e,t){return(100*t/e).toFixed(2)+""%""},Flotr.addType(""pie"",{options:{show:!1,lineWidth:1,fill:!0,fillColor:null,fillOpacity:.6,explode:6,sizeRatio:.6,startAngle:Math.PI/4,labelFormatter:Flotr.defaultPieLabelFormatter,pie3D:!1,pie3DviewAngle:Math.PI/2*.8,pie3DspliceThickness:20,epsilon:.1},draw:function(e){var t=e.data,n=e.context,r=n.canvas,i=e.lineWidth,s=e.shadowSize,o=e.sizeRatio,u=e.height,a=e.width,f=e.explode,l=e.color,c=e.fill,h=e.fillStyle,p=Math.min(r.width,r.height)*o/2,d=t[0][1],v=[],m=1,g=Math.PI*2*d/this.total,y=this.startAngle||2*Math.PI*e.startAngle,b=y+g,w=y+g/2,E=e.labelFormatter(this.total,d),S=f+p+4,x=Math.cos(w)*S,T=Math.sin(w)*S,N=x<0?""right"":""left"",C=T>0?""top"":""bottom"",k,L,A;n.save(),n.translate(a/2,u/2),n.scale(1,m),L=Math.cos(w)*f,A=Math.sin(w)*f,s>0&&(this.plotSlice(L+s,A+s,p,y,b,n),c&&(n.fillStyle=""rgba(0,0,0,0.1)"",n.fill())),this.plotSlice(L,A,p,y,b,n),c&&(n.fillStyle=h,n.fill()),n.lineWidth=i,n.strokeStyle=l,n.stroke(),k={size:e.fontSize*1.2,color:e.fontColor,weight:1.5},E&&(e.htmlText||!e.textEnabled?(divStyle=""position:absolute;""+C+"":""+(u/2+(C===""top""?T:-T))+""px;"",divStyle+=N+"":""+(a/2+(N===""right""?-x:x))+""px;"",v.push('<div style=""',divStyle,'"" class=""flotr-grid-label"">',E,""</div>"")):(k.textAlign=N,k.textBaseline=C,Flotr.drawText(n,E,x,T,k)));if(e.htmlText||!e.textEnabled){var O=Flotr.DOM.node('<div style=""color:'+e.fontColor+'"" class=""flotr-labels""></div>');Flotr.DOM.insert(O,v.join("""")),Flotr.DOM.insert(e.element,O)}n.restore(),this.startAngle=b,this.slices=this.slices||[],this.slices.push({radius:Math.min(r.width,r.height)*o/2,x:L,y:A,explode:f,start:y,end:b})},plotSlice:function(e,t,n,r,i,s){s.beginPath(),s.moveTo(e,t),s.arc(e,t,n,r,i,!1),s.lineTo(e,t),s.closePath()},hit:function(e){var t=e.data[0],n=e.args,r=e.index,i=n[0],s=n[1],o=this.slices[r],u=i.relX-e.width/2,a=i.relY-e.height/2,f=Math.sqrt(u*u+a*a),l=Math.atan(a/u),c=Math.PI*2,h=o.explode||e.explode,p=o.start%c,d=o.end%c,v=e.epsilon;u<0?l+=Math.PI:u>0&&a<0&&(l+=c),f<o.radius+h&&f>h&&(l>p&&l<d||p>d&&(l<d||l>p)||p===d&&(o.start===o.end&&Math.abs(l-p)<v||o.start!==o.end&&Math.abs(l-p)>v))&&(s.x=t[0],s.y=t[1],s.sAngle=p,s.eAngle=d,s.index=0,s.seriesIndex=r,s.fraction=t[1]/this.total)},drawHit:function(e){var t=e.context,n=this.slices[e.args.seriesIndex];t.save(),t.translate(e.width/2,e.height/2),this.plotSlice(n.x,n.y,n.radius,n.start,n.end,t),t.stroke(),t.restore()},clearHit:function(e){var t=e.context,n=this.slices[e.args.seriesIndex],r=2*e.lineWidth,i=n.radius+r;t.save(),t.translate(e.width/2,e.height/2),t.clearRect(n.x-i,n.y-i,2*i+r,2*i+r),t.restore()},extendYRange:function(e,t){this.total=(this.total||0)+t[0][1]}})}(),Flotr.addType(""points"",{options:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:""#FFFFFF"",fillOpacity:1,hitRadius:null},draw:function(e){var t=e.context,n=e.lineWidth,r=e.shadowSize;t.save(),r>0&&(t.lineWidth=r/2,t.strokeStyle=""rgba(0,0,0,0.1)"",this.plot(e,r/2+t.lineWidth/2),t.strokeStyle=""rgba(0,0,0,0.2)"",this.plot(e,t.lineWidth/2)),t.lineWidth=e.lineWidth,t.strokeStyle=e.color,e.fill&&(t.fillStyle=e.fillStyle),this.plot(e),t.restore()},plot:function(e,t){var n=e.data,r=e.context,i=e.xScale,s=e.yScale,o,u,a;for(o=n.length-1;o>-1;--o){a=n[o][1];if(a===null)continue;u=i(n[o][0]),a=s(a);if(u<0||u>e.width||a<0||a>e.height)continue;r.beginPath(),t?r.arc(u,a+t,e.radius,0,Math.PI,!1):(r.arc(u,a,e.radius,0,2*Math.PI,!0),e.fill&&r.fill()),r.stroke(),r.closePath()}}}),Flotr.addType(""radar"",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,radiusRatio:.9,sensibility:2},draw:function(e){var t=e.context,n=e.shadowSize;t.save(),t.translate(e.width/2,e.height/2),t.lineWidth=e.lineWidth,t.fillStyle=""rgba(0,0,0,0.05)"",t.strokeStyle=""rgba(0,0,0,0.05)"",this.plot(e,n/2),t.strokeStyle=""rgba(0,0,0,0.1)"",this.plot(e,n/4),t.strokeStyle=e.color,t.fillStyle=e.fillStyle,this.plot(e),t.restore()},plot:function(e,t){var n=e.data,r=e.context,i=Math.min(e.height,e.width)*e.radiusRatio/2,s=2*Math.PI/n.length,o=-Math.PI/2,u,a;t=t||0,r.beginPath();for(u=0;u<n.length;++u)a=n[u][1]/this.max,r[u===0?""moveTo"":""lineTo""](Math.cos(u*s+o)*i*a+t,Math.sin(u*s+o)*i*a+t);r.closePath(),e.fill&&r.fill(),r.stroke()},getGeometry:function(e,t){var n=Math.min(t.height,t.width)*t.radiusRatio/2,r=2*Math.PI/t.data.length,i=-Math.PI/2,s=e[1]/this.max;return{x:Math.cos(e[0]*r+i)*n*s+t.width/2,y:Math.sin(e[0]*r+i)*n*s+t.height/2}},hit:function(e){var t=e.args,n=t[0],r=t[1],i=n.relX,s=n.relY,o,u,a,f;for(var l=0;l<r.series.length;l++){var c=r.series[l],h=c.data;for(var p=h.length;p--;){u=this.getGeometry(h[p],e),a=u.x-i,f=u.y-s,o=Math.sqrt(a*a+f*f);if(o<e.sensibility*2)return r.x=h[p][0],r.y=h[p][1],r.index=p,r.seriesIndex=l,r}}},drawHit:function(e){var t=2*Math.PI/e.data.length,n=-Math.PI/2,r=Math.min(e.height,e.width)*e.radiusRatio/2,i=e.args.series,s=i.points.hitRadius||i.points.radius||i.mouse.radius,o=e.context;o.translate(e.width/2,e.height/2);var u=e.args.index,a=e.data[u][1]/this.max,f=Math.cos(u*t+n)*r*a,l=Math.sin(u*t+n)*r*a;o.beginPath(),o.arc(f,l,s,0,2*Math.PI,!0),o.closePath(),o.stroke()},clearHit:function(e){var t=2*Math.PI/e.data.length,n=-Math.PI/2,r=Math.min(e.height,e.width)*e.radiusRatio/2,i=e.context,s=e.args.series,o=s.points?s.points.lineWidth:1;offset=(s.points.hitRadius||s.points.radius||s.mouse.radius)+o,i.translate(e.width/2,e.height/2);var u=e.args.index,a=e.data[u][1]/this.max,f=Math.cos(u*t+n)*r*a,l=Math.sin(u*t+n)*r*a;i.clearRect(f-offset,l-offset,offset*2,offset*2)},extendYRange:function(e,t){this.max=Math.max(e.max,this.max||-Number.MAX_VALUE)}}),function(){function e(e,t){return e.which?e.which===1:e.button===0||e.button===1}function t(e,t){return Math.min(Math.max(0,e),t.plotWidth-1)}function n(e,t){return Math.min(Math.max(0,e),t.plotHeight)}var r=Flotr.DOM,i=Flotr.EventAdapter,s=Flotr._;Flotr.addPlugin(""selection"",{options:{pinchOnly:null,mode:null,color:""#B6D9FF"",fps:20},callbacks:{""flotr:mouseup"":function(e){var t=this.options.selection,n=this.selection,r=this.getEventPosition(e);if(!t||!t.mode)return;n.interval&&clearInterval(n.interval),this.multitouches?n.updateSelection():t.pinchOnly||n.setSelectionPos(n.selection.second,r),n.clearSelection(),n.selecting&&n.selectionIsSane()&&(n.drawSelection(),n.fireSelectEvent(),this.ignoreClick=!0)},""flotr:mousedown"":function(t){var n=this.options.selection,r=this.selection,i=this.getEventPosition(t);if(!n||!n.mode)return;if(!n.mode||!e(t)&&s.isUndefined(t.touches))return;n.pinchOnly||r.setSelectionPos(r.selection.first,i),r.interval&&clearInterval(r.interval),this.lastMousePos.pageX=null,r.selecting=!1,r.interval=setInterval(s.bind(r.updateSelection,this),1e3/n.fps)},""flotr:destroy"":function(e){clearInterval(this.selection.interval)}},getArea:function(){var e=this.selection.selection,t=this.axes,n=e.first,r=e.second,i,s,o,u;return i=t.x.p2d(e.first.x),s=t.x.p2d(e.second.x),o=t.y.p2d(e.first.y),u=t.y.p2d(e.second.y),{x1:Math.min(i,s),y1:Math.min(o,u),x2:Math.max(i,s),y2:Math.max(o,u),xfirst:i,xsecond:s,yfirst:o,ysecond:u}},selection:{first:{x:-1,y:-1},second:{x:-1,y:-1}},prevSelection:null,interval:null,fireSelectEvent:function(e){var t=this.selection.getArea();e=e||""select"",t.selection=this.selection.selection,i.fire(this.el,""flotr:""+e,[t,this])},setSelection:function(e,r){var i=this.options,s=this.axes.x,o=this.axes.y,u=o.scale,a=s.scale,f=i.selection.mode.indexOf(""x"")!=-1,l=i.selection.mode.indexOf(""y"")!=-1,c=this.selection.selection;this.selection.clearSelection(),c.first.y=n(f&&!l?0:(o.max-e.y1)*u,this),c.second.y=n(f&&!l?this.plotHeight-1:(o.max-e.y2)*u,this),c.first.x=t(l&&!f?0:(e.x1-s.min)*a,this),c.second.x=t(l&&!f?this.plotWidth:(e.x2-s.min)*a,this),this.selection.drawSelection(),r||this.selection.fireSelectEvent()},setSelectionPos:function(e,r){var i=this.options.selection.mode,s=this.selection.selection;i.indexOf(""x"")==-1?e.x=e==s.first?0:this.plotWidth:e.x=t(r.relX,this),i.indexOf(""y"")==-1?e.y=e==s.first?0:this.plotHeight-1:e.y=n(r.relY,this)},drawSelection:function(){this.selection.fireSelectEvent(""selecting"");var e=this.selection.selection,t=this.octx,n=this.options,r=this.plotOffset,i=this.selection.prevSelection;if(i&&e.first.x==i.first.x&&e.first.y==i.first.y&&e.second.x==i.second.x&&e.second.y==i.second.y)return;t.save(),t.strokeStyle=this.processColor(n.selection.color,{opacity:.8}),t.lineWidth=1,t.lineJoin=""miter"",t.fillStyle=this.processColor(n.selection.color,{opacity:.4}),this.selection.prevSelection={first:{x:e.first.x,y:e.first.y},second:{x:e.second.x,y:e.second.y}};var s=Math.min(e.first.x,e.second.x),o=Math.min(e.first.y,e.second.y),u=Math.abs(e.second.x-e.first.x),a=Math.abs(e.second.y-e.first.y);t.fillRect(s+r.left+.5,o+r.top+.5,u,a),t.strokeRect(s+r.left+.5,o+r.top+.5,u,a),t.restore()},updateSelection:function(){if(!this.lastMousePos.pageX)return;this.selection.selecting=!0;if(this.multitouches)this.selection.setSelectionPos(this.selection.selection.first,this.getEventPosition(this.multitouches[0])),this.selection.setSelectionPos(this.selection.selection.second,this.getEventPosition(this.multitouches[1]));else{if(this.options.selection.pinchOnly)return;this.selection.setSelectionPos(this.selection.selection.second,this.lastMousePos)}this.selection.clearSelection(),this.selection.selectionIsSane()&&this.selection.drawSelection()},clearSelection:function(){if(!this.selection.prevSelection)return;var e=this.selection.prevSelection,t=1,n=this.plotOffset,r=Math.min(e.first.x,e.second.x),i=Math.min(e.first.y,e.second.y),s=Math.abs(e.second.x-e.first.x),o=Math.abs(e.second.y-e.first.y);this.octx.clearRect(r+n.left-t+.5,i+n.top-t,s+2*t+.5,o+2*t+.5),this.selection.prevSelection=null},selectionIsSane:function(){var e=this.selection.selection;return Math.abs(e.second.x-e.first.x)>=5||Math.abs(e.second.y-e.first.y)>=5}})}(),function(){var e=Flotr.DOM,t=Flotr._;Flotr.addPlugin(""legend"",{options:{show:!0,noColumns:1,labelFormatter:function(e){return e},labelBoxBorderColor:""#CCCCCC"",labelBoxWidth:14,labelBoxHeight:10,labelBoxMargin:5,container:null,position:""nw"",margin:5,backgroundColor:""#F0F0F0"",backgroundOpacity:.85},callbacks:{""flotr:afterinit"":function(){this.legend.insertLegend()},""flotr:destroy"":function(){var t=this.legend.markup;t&&(this.legend.markup=null,e.remove(t))}},insertLegend:function(){if(!this.options.legend.show)return;var n=this.series,r=this.plotOffset,i=this.options,s=i.legend,o=[],u=!1,a=this.ctx,f=t.filter(n,function(e){return e.label&&!e.hide}).length,l=s.position,c=s.margin,h=s.backgroundOpacity,p,d,v;if(f){var m=s.labelBoxWidth,g=s.labelBoxHeight,y=s.labelBoxMargin,b=r.left+c,w=r.top+c,E=0,S={size:i.fontSize*1.1,color:i.grid.color};for(p=n.length-1;p>-1;--p){if(!n[p].label||n[p].hide)continue;d=s.labelFormatter(n[p].label),E=Math.max(E,this._text.measureText(d,S).width)}var x=Math.round(m+y*3+E),T=Math.round(f*(y+g)+y);!h&&h!==0&&(h=.1);if(!i.HtmlText&&this.textEnabled&&!s.container){l.charAt(0)==""s""&&(w=r.top+this.plotHeight-(c+T)),l.charAt(0)==""c""&&(w=r.top+this.plotHeight/2-(c+T/2)),l.charAt(1)==""e""&&(b=r.left+this.plotWidth-(c+x)),v=this.processColor(s.backgroundColor,{opacity:h}),a.fillStyle=v,a.fillRect(b,w,x,T),a.strokeStyle=s.labelBoxBorderColor,a.strokeRect(Flotr.toPixel(b),Flotr.toPixel(w),x,T);var N=b+y,C=w+y;for(p=0;p<n.length;p++){if(!n[p].label||n[p].hide)continue;d=s.labelFormatter(n[p].label),a.fillStyle=n[p].color,a.fillRect(N,C,m-1,g-1),a.strokeStyle=s.labelBoxBorderColor,a.lineWidth=1,a.strokeRect(Math.ceil(N)-1.5,Math.ceil(C)-1.5,m+2,g+2),Flotr.drawText(a,d,N+m+y,C+g,S),C+=g+y}}else{for(p=0;p<n.length;++p){if(!n[p].label||n[p].hide)continue;p%s.noColumns===0&&(o.push(u?""</tr><tr>"":""<tr>""),u=!0);var k=n[p],L=s.labelBoxWidth,A=s.labelBoxHeight;d=s.labelFormatter(k.label),v=""background-color:""+(k.bars&&k.bars.show&&k.bars.fillColor&&k.bars.fill?k.bars.fillColor:k.color)+"";"",o.push('<td class=""flotr-legend-color-box"">','<div style=""border:1px solid ',s.labelBoxBorderColor,';padding:1px"">','<div style=""width:',L-1,""px;height:"",A-1,""px;border:1px solid "",n[p].color,'"">','<div style=""width:',L,""px;height:"",A,""px;"",v,'""></div>',""</div>"",""</div>"",""</td>"",'<td class=""flotr-legend-label"">',d,""</td>"")}u&&o.push(""</tr>"");if(o.length>0){var O='<table style=""font-size:smaller;color:'+i.grid.color+'"">'+o.join("""")+""</table>"";if(s.container)O=e.node(O),this.legend.markup=O,e.insert(s.container,O);else{var M={position:""absolute"",zIndex:""2"",border:""1px solid ""+s.labelBoxBorderColor};l.charAt(0)==""n""?(M.top=c+r.top+""px"",M.bottom=""auto""):l.charAt(0)==""c""?(M.top=c+(this.plotHeight-T)/2+""px"",M.bottom=""auto""):l.charAt(0)==""s""&&(M.bottom=c+r.bottom+""px"",M.top=""auto""),l.charAt(1)==""e""?(M.right=c+r.right+""px"",M.left=""auto""):l.charAt(1)==""w""&&(M.left=c+r.left+""px"",M.right=""auto"");var P=e.create(""div""),H;P.className=""flotr-legend"",e.setStyles(P,M),e.insert(P,O),e.insert(this.el,P);if(!h)return;var B=s.backgroundColor||i.grid.backgroundColor||""#ffffff"";t.extend(M,e.size(P),{backgroundColor:B,zIndex:"""",border:""""}),M.width+=""px"",M.height+=""px"",P=e.create(""div""),P.className=""flotr-legend-bg"",e.setStyles(P,M),e.opacity(P,h),e.insert(P,"" ""),e.insert(this.el,P)}}}}}})}(),function(){var e=Flotr.DOM,t=Flotr._,n=Flotr,r=""opacity:0.7;background-color:#000;color:#fff;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;"";Flotr.addPlugin(""hit"",{callbacks:{""flotr:mousemove"":function(e,t){this.hit.track(t)},""flotr:click"":function(e){var n=this.hit.track(e);n&&!t.isUndefined(n.index)&&(e.hit=n)},""flotr:mouseout"":function(e){e.relatedTarget!==this.mouseTrack&&this.hit.clearHit()},""flotr:destroy"":function(){this.options.mouse.container&&e.remove(this.mouseTrack),this.mouseTrack=null}},track:function(e){if(this.options.mouse.track||t.any(this.series,function(e){return e.mouse&&e.mouse.track}))return this.hit.hit(e)},executeOnType:function(e,r,i){function u(e,u){t.each(t.keys(n.graphTypes),function(t){e[t]&&e[t].show&&this[t][r]&&(o=this.getOptions(e,t),o.fill=!!e.mouse.fillColor,o.fillStyle=this.processColor(e.mouse.fillColor||""#ffffff"",{opacity:e.mouse.fillOpacity}),o.color=e.mouse.lineColor,o.context=this.octx,o.index=u,i&&(o.args=i),this[t][r].call(this[t],o),s=!0)},this)}var s=!1,o;return t.isArray(e)||(e=[e]),t.each(e,u,this),s},drawHit:function(e){var t=this.octx,n=e.series;if(n.mouse.lineColor){t.save(),t.lineWidth=n.points?n.points.lineWidth:1,t.strokeStyle=n.mouse.lineColor,t.fillStyle=this.processColor(n.mouse.fillColor||""#ffffff"",{opacity:n.mouse.fillOpacity}),t.translate(this.plotOffset.left,this.plotOffset.top);if(!this.hit.executeOnType(n,""drawHit"",e)){var r=e.xaxis,i=e.yaxis;t.beginPath(),t.arc(r.d2p(e.x),i.d2p(e.y),n.points.hitRadius||n.points.radius||n.mouse.radius,0,2*Math.PI,!0),t.fill(),t.stroke(),t.closePath()}t.restore(),this.clip(t)}this.prevHit=e},clearHit:function(){var t=this.prevHit,n=this.octx,r=this.plotOffset;n.save(),n.translate(r.left,r.top);if(t){if(!this.hit.executeOnType(t.series,""clearHit"",this.prevHit)){var i=t.series,s=i.points?i.points.lineWidth:1;offset=(i.points.hitRadius||i.points.radius||i.mouse.radius)+s,n.clearRect(t.xaxis.d2p(t.x)-offset,t.yaxis.d2p(t.y)-offset,offset*2,offset*2)}e.hide(this.mouseTrack),this.prevHit=null}n.restore()},hit:function(e){var n=this.options,r=this.prevHit,i,s,o,u,a,f,l,c,h;if(this.series.length===0)return;h={relX:e.relX,relY:e.relY,absX:e.absX,absY:e.absY,series:this.series};if(n.mouse.trackY&&!n.mouse.trackAll&&this.hit.executeOnType(this.series,""hit"",[e,h])&&!t.isUndefined(h.seriesIndex))a=this.series[h.seriesIndex],h.series=a,h.mouse=a.mouse,h.xaxis=a.xaxis,h.yaxis=a.yaxis;else{i=this.hit.closest(e);if(i){i=n.mouse.trackY?i.point:i.x,u=i.seriesIndex,a=this.series[u],l=a.xaxis,c=a.yaxis,s=2*a.mouse.sensibility;if(n.mouse.trackAll||i.distanceX<s/l.scale&&(!n.mouse.trackY||i.distanceY<s/c.scale))h.series=a,h.xaxis=a.xaxis,h.yaxis=a.yaxis,h.mouse=a.mouse,h.x=i.x,h.y=i.y,h.dist=i.distance,h.index=i.dataIndex,h.seriesIndex=u}}if(!r||r.index!==h.index||r.seriesIndex!==h.seriesIndex)this.hit.clearHit(),h.series&&h.mouse&&h.mouse.track&&(this.hit.drawMouseTrack(h),this.hit.drawHit(h),Flotr.EventAdapter.fire(this.el,""flotr:hit"",[h,this]));return h},closest:function(e){function E(e){e.distance=h,e.distanceX=p,e.distanceY=d,e.seriesIndex=b,e.dataIndex=w,e.x=g,e.y=y,f=!0}var t=this.series,n=this.options,r=e.relX,i=e.relY,s=Number.MAX_VALUE,o=Number.MAX_VALUE,u={},a={},f=!1,l,c,h,p,d,v,m,g,y,b,w;for(b=0;b<t.length;b++){l=t[b],c=l.data,v=l.xaxis.p2d(r),m=l.yaxis.p2d(i);for(w=c.length;w--;){g=c[w][0],y=c[w][1];if(g===null||y===null)continue;if(g<l.xaxis.min||g>l.xaxis.max)continue;p=Math.abs(g-v),d=Math.abs(y-m),h=p*p+d*d,h<s&&(s=h,E(u)),p<o&&(o=p,E(a))}}return f?{point:u,x:a}:!1},drawMouseTrack:function(n){var i="""",s=n.series,o=n.mouse.position,u=n.mouse.margin,a=n.x,f=n.y,l=r,c=this.mouseTrack,h=this.plotOffset,p=h.left,d=h.right,v=h.bottom,m=h.top,g=n.mouse.trackDecimals,y=this.options,b=y.mouse.container,w=0,E=0,S,x,T;c||(c=e.node('<div class=""flotr-mouse-value"" style=""'+l+'""></div>'),this.mouseTrack=c,e.insert(b||this.el,c));if(!g||g<0)g=0;a&&a.toFixed&&(a=a.toFixed(g)),f&&f.toFixed&&(f=f.toFixed(g)),T=n.mouse.trackFormatter({x:a,y:f,series:n.series,index:n.index,nearest:n,fraction:n.fraction});if(t.isNull(T)||t.isUndefined(T)){e.hide(c);return}c.innerHTML=T,e.show(c);if(b)return;x=e.size(c),b&&(S=e.position(this.el),w=S.top,E=S.left);if(!n.mouse.relative)i+=""top:"",o.charAt(0)==""n""?i+=w+u+m:o.charAt(0)==""s""&&(i+=w-u+m+this.plotHeight-x.height),i+=""px;bottom:auto;left:"",o.charAt(1)==""e""?i+=E-u+p+this.plotWidth-x.width:o.charAt(1)==""w""&&(i+=E+u+p),i+=""px;right:auto;"";else if(s.pie&&s.pie.show){var N={x:this.plotWidth/2,y:this.plotHeight/2},C=Math.min(this.canvasWidth,this.canvasHeight)*s.pie.sizeRatio/2,k=n.sAngle<n.eAngle?(n.sAngle+n.eAngle)/2:(n.sAngle+n.eAngle+2*Math.PI)/2;i+=""bottom:""+(u-m-N.y-Math.sin(k)*C/2+this.canvasHeight)+""px;top:auto;"",i+=""left:""+(u+p+N.x+Math.cos(k)*C/2)+""px;right:auto;""}else i+=""top:"",/n/.test(o)?i+=w-u+m+n.yaxis.d2p(n.y)-x.height:i+=w+u+m+n.yaxis.d2p(n.y),i+=""px;bottom:auto;left:"",/w/.test(o)?i+=E-u+p+n.xaxis.d2p(n.x)-x.width:i+=E+u+p+n.xaxis.d2p(n.x),i+=""px;right:auto;"";c.style.cssText=l+i,n.mouse.relative&&(/[ew]/.test(o)?/[ns]/.test(o)||(c.style.top=w+m+n.yaxis.d2p(n.y)-e.size(c).height/2+""px""):c.style.left=E+p+n.xaxis.d2p(n.x)-e.size(c).width/2+""px"")}})}(),function(){var e=Flotr.DOM;Flotr.addPlugin(""labels"",{callbacks:{""flotr:afterdraw"":function(){this.labels.draw()}},draw:function(){function b(e,t,r){var i=r?t.minorTicks:t.ticks,s=t.orientation===1,u=t.n===1,l,h;l={color:t.options.color||d.grid.color,angle:Flotr.toRad(t.options.labelsAngle),textBaseline:""middle""};for(c=0;c<i.length&&(r?t.options.showMinorLabels:t.options.showLabels);++c){n=i[c],n.label+="""";if(!n.label||!n.label.length)continue;x=Math.cos(c*a+f)*o,y=Math.sin(c*a+f)*o,l.textAlign=s?Math.abs(x)<.1?""center"":x<0?""right"":""left"":""left"",Flotr.drawText(v,n.label,s?x:3,s?y:-(t.ticks[c].v/t.max)*(o-d.fontSize),l)}}function w(e,t,r,i){function f(e){return e.options.showLabels&&e.used}function l(e,t,n,r){return e.plotOffset.left+(t?r:n?-d.grid.labelMargin:d.grid.labelMargin+e.plotWidth)}function h(e,t,n,r){return e.plotOffset.top+(t?d.grid.labelMargin:r)+(t&&n?e.plotHeight:0)}var s=t.orientation===1,o=t.n===1,u,a;u={color:t.options.color||d.grid.color,textAlign:r,textBaseline:i,angle:Flotr.toRad(t.options.labelsAngle)},u=Flotr.getBestTextAlign(u.angle,u);for(c=0;c<t.ticks.length&&f(t);++c){n=t.ticks[c];if(!n.label||!n.label.length)continue;a=t.d2p(n.v);if(a<0||a>(s?e.plotWidth:e.plotHeight))continue;Flotr.drawText(v,n.label,l(e,s,o,a),h(e,s,o,a),u),!s&&!o&&(v.save(),v.strokeStyle=u.color,v.beginPath(),v.moveTo(e.plotOffset.left+e.plotWidth-8,e.plotOffset.top+t.d2p(n.v)),v.lineTo(e.plotOffset.left+e.plotWidth,e.plotOffset.top+t.d2p(n.v)),v.stroke(),v.restore())}}function E(e,t){var r=t.orientation===1,i=t.n===1,o="""",u,a,f,l=e.plotOffset;!r&&!i&&(v.save(),v.strokeStyle=t.options.color||d.grid.color,v.beginPath());if(t.options.showLabels&&(i?!0:t.used))for(c=0;c<t.ticks.length;++c){n=t.ticks[c];if(!n.label||!n.label.length||(r?l.left:l.top)+t.d2p(n.v)<0||(r?l.left:l.top)+t.d2p(n.v)>(r?e.canvasWidth:e.canvasHeight))continue;f=l.top+(r?(i?1:-1)*(e.plotHeight+d.grid.labelMargin):t.d2p(n.v)-t.maxLabel.height/2),u=r?l.left+t.d2p(n.v)-s/2:0,o="""",c===0?o="" first"":c===t.ticks.length-1&&(o="" last""),o+=r?"" flotr-grid-label-x"":"" flotr-grid-label-y"",h+=['<div style=""position:absolute; text-align:'+(r?""center"":""right"")+""; "",""top:""+f+""px; "",(!r&&!i?""right:"":""left:"")+u+""px; "",""width:""+(r?s:(i?l.left:l.right)-d.grid.labelMargin)+""px; "",t.options.color?""color:""+t.options.color+""; "":"" "",'"" class=""flotr-grid-label'+o+'"">'+n.label+""</div>""].join("" ""),!r&&!i&&(v.moveTo(l.left+e.plotWidth-8,l.top+t.d2p(n.v)),v.lineTo(l.left+e.plotWidth,l.top+t.d2p(n.v)))}}var t,n,r,i,s,o,u,a,f,l,c,h="""",p=0,d=this.options,v=this.ctx,m=this.axes,g={size:d.fontSize};for(c=0;c<m.x.ticks.length;++c)m.x.ticks[c].label&&++p;s=this.plotWidth/p,d.grid.circular&&(v.save(),v.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2),o=this.plotHeight*d.radar.radiusRatio/2+d.fontSize,u=this.axes.x.ticks.length,a=2*(Math.PI/u),f=-Math.PI/2,b(this,m.x,!1),b(this,m.x,!0),b(this,m.y,!1),b(this,m.y,!0),v.restore()),!d.HtmlText&&this.textEnabled?(w(this,m.x,""center"",""top""),w(this,m.x2,""center"",""bottom""),w(this,m.y,""right"",""middle""),w(this,m.y2,""left"",""middle"")):(m.x.options.showLabels||m.x2.options.showLabels||m.y.options.showLabels||m.y2.options.showLabels)&&!d.grid.circular&&(h="""",E(this,m.x),E(this,m.x2),E(this,m.y),E(this,m.y2),v.stroke(),v.restore(),l=e.create(""div""),e.setStyles(l,{fontSize:""smaller"",color:d.grid.color}),l.className=""flotr-labels"",e.insert(this.el,l),e.insert(l,h))}})}(),function(){var e=Flotr.DOM,t=Flotr._;Flotr.addPlugin(""legend"",{options:{show:!0,noColumns:1,labelFormatter:function(e){return e},labelBoxBorderColor:""#CCCCCC"",labelBoxWidth:14,labelBoxHeight:10,labelBoxMargin:5,container:null,position:""nw"",margin:5,backgroundColor:""#F0F0F0"",backgroundOpacity:.85},callbacks:{""flotr:afterinit"":function(){this.legend.insertLegend()},""flotr:destroy"":function(){var t=this.legend.markup;t&&(this.legend.markup=null,e.remove(t))}},insertLegend:function(){if(!this.options.legend.show)return;var n=this.series,r=this.plotOffset,i=this.options,s=i.legend,o=[],u=!1,a=this.ctx,f=t.filter(n,function(e){return e.label&&!e.hide}).length,l=s.position,c=s.margin,h=s.backgroundOpacity,p,d,v;if(f){var m=s.labelBoxWidth,g=s.labelBoxHeight,y=s.labelBoxMargin,b=r.left+c,w=r.top+c,E=0,S={size:i.fontSize*1.1,color:i.grid.color};for(p=n.length-1;p>-1;--p){if(!n[p].label||n[p].hide)continue;d=s.labelFormatter(n[p].label),E=Math.max(E,this._text.measureText(d,S).width)}var x=Math.round(m+y*3+E),T=Math.round(f*(y+g)+y);!h&&h!==0&&(h=.1);if(!i.HtmlText&&this.textEnabled&&!s.container){l.charAt(0)==""s""&&(w=r.top+this.plotHeight-(c+T)),l.charAt(0)==""c""&&(w=r.top+this.plotHeight/2-(c+T/2)),l.charAt(1)==""e""&&(b=r.left+this.plotWidth-(c+x)),v=this.processColor(s.backgroundColor,{opacity:h}),a.fillStyle=v,a.fillRect(b,w,x,T),a.strokeStyle=s.labelBoxBorderColor,a.strokeRect(Flotr.toPixel(b),Flotr.toPixel(w),x,T);var N=b+y,C=w+y;for(p=0;p<n.length;p++){if(!n[p].label||n[p].hide)continue;d=s.labelFormatter(n[p].label),a.fillStyle=n[p].color,a.fillRect(N,C,m-1,g-1),a.strokeStyle=s.labelBoxBorderColor,a.lineWidth=1,a.strokeRect(Math.ceil(N)-1.5,Math.ceil(C)-1.5,m+2,g+2),Flotr.drawText(a,d,N+m+y,C+g,S),C+=g+y}}else{for(p=0;p<n.length;++p){if(!n[p].label||n[p].hide)continue;p%s.noColumns===0&&(o.push(u?""</tr><tr>"":""<tr>""),u=!0);var k=n[p],L=s.labelBoxWidth,A=s.labelBoxHeight;d=s.labelFormatter(k.label),v=""background-color:""+(k.bars&&k.bars.show&&k.bars.fillColor&&k.bars.fill?k.bars.fillColor:k.color)+"";"",o.push('<td class=""flotr-legend-color-box"">','<div style=""border:1px solid ',s.labelBoxBorderColor,';padding:1px"">','<div style=""width:',L-1,""px;height:"",A-1,""px;border:1px solid "",n[p].color,'"">','<div style=""width:',L,""px;height:"",A,""px;"",v,'""></div>',""</div>"",""</div>"",""</td>"",'<td class=""flotr-legend-label"">',d,""</td>"")}u&&o.push(""</tr>"");if(o.length>0){var O='<table style=""font-size:smaller;color:'+i.grid.color+'"">'+o.join("""")+""</table>"";if(s.container)O=e.node(O),this.legend.markup=O,e.insert(s.container,O);else{var M={position:""absolute"",zIndex:""2"",border:""1px solid ""+s.labelBoxBorderColor};l.charAt(0)==""n""?(M.top=c+r.top+""px"",M.bottom=""auto""):l.charAt(0)==""c""?(M.top=c+(this.plotHeight-T)/2+""px"",M.bottom=""auto""):l.charAt(0)==""s""&&(M.bottom=c+r.bottom+""px"",M.top=""auto""),l.charAt(1)==""e""?(M.right=c+r.right+""px"",M.left=""auto""):l.charAt(1)==""w""&&(M.left=c+r.left+""px"",M.right=""auto"");var P=e.create(""div""),H;P.className=""flotr-legend"",e.setStyles(P,M),e.insert(P,O),e.insert(this.el,P);if(!h)return;var B=s.backgroundColor||i.grid.backgroundColor||""#ffffff"";t.extend(M,e.size(P),{backgroundColor:B,zIndex:"""",border:""""}),M.width+=""px"",M.height+=""px"",P=e.create(""div""),P.className=""flotr-legend-bg"",e.setStyles(P,M),e.opacity(P,h),e.insert(P,"" ""),e.insert(this.el,P)}}}}}})}(),function(){var e=Flotr.DOM;Flotr.addPlugin(""titles"",{callbacks:{""flotr:afterdraw"":function(){this.titles.drawTitles()}},drawTitles:function(){var t,n=this.options,r=n.grid.labelMargin,i=this.ctx,s=this.axes;if(!n.HtmlText&&this.textEnabled){var o={size:n.fontSize,color:n.grid.color,textAlign:""center""};n.subtitle&&Flotr.drawText(i,n.subtitle,this.plotOffset.left+this.plotWidth/2,this.titleHeight+this.subtitleHeight-2,o),o.weight=1.5,o.size*=1.5,n.title&&Flotr.drawText(i,n.title,this.plotOffset.left+this.plotWidth/2,this.titleHeight-2,o),o.weight=1.8,o.size*=.8,s.x.options.title&&s.x.used&&(o.textAlign=s.x.options.titleAlign||""center"",o.textBaseline=""top"",o.angle=Flotr.toRad(s.x.options.titleAngle),o=Flotr.getBestTextAlign(o.angle,o),Flotr.drawText(i,s.x.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+s.x.maxLabel.height+this.plotHeight+2*r,o)),s.x2.options.title&&s.x2.used&&(o.textAlign=s.x2.options.titleAlign||""center"",o.textBaseline=""bottom"",o.angle=Flotr.toRad(s.x2.options.titleAngle),o=Flotr.getBestTextAlign(o.angle,o),Flotr.drawText(i,s.x2.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top-s.x2.maxLabel.height-2*r,o)),s.y.options.title&&s.y.used&&(o.textAlign=s.y.options.titleAlign||""right"",o.textBaseline=""middle"",o.angle=Flotr.toRad(s.y.options.titleAngle),o=Flotr.getBestTextAlign(o.angle,o),Flotr.drawText(i,s.y.options.title,this.plotOffset.left-s.y.maxLabel.width-2*r,this.plotOffset.top+this.plotHeight/2,o)),s.y2.options.title&&s.y2.used&&(o.textAlign=s.y2.options.titleAlign||""left"",o.textBaseline=""middle"",o.angle=Flotr.toRad(s.y2.options.titleAngle),o=Flotr.getBestTextAlign(o.angle,o),Flotr.drawText(i,s.y2.options.title,this.plotOffset.left+this.plotWidth+s.y2.maxLabel.width+2*r,this.plotOffset.top+this.plotHeight/2,o))}else{t=[],n.title&&t.push('<div style=""position:absolute;top:0;left:',this.plotOffset.left,""px;font-size:1em;font-weight:bold;text-align:center;width:"",this.plotWidth,'px;"" class=""flotr-title"">',n.title,""</div>""),n.subtitle&&t.push('<div style=""position:absolute;top:',this.titleHeight,""px;left:"",this.plotOffset.left,""px;font-size:smaller;text-align:center;width:"",this.plotWidth,'px;"" class=""flotr-subtitle"">',n.subtitle,""</div>""),t.push(""</div>""),t.push('<div class=""flotr-axis-title"" style=""font-weight:bold;"">'),s.x.options.title&&s.x.used&&t.push('<div style=""position:absolute;top:',this.plotOffset.top+this.plotHeight+n.grid.labelMargin+s.x.titleSize.height,""px;left:"",this.plotOffset.left,""px;width:"",this.plotWidth,""px;text-align:"",s.x.options.titleAlign,';"" class=""flotr-axis-title flotr-axis-title-x1"">',s.x.options.title,""</div>""),s.x2.options.title&&s.x2.used&&t.push('<div style=""position:absolute;top:0;left:',this.plotOffset.left,""px;width:"",this.plotWidth,""px;text-align:"",s.x2.options.titleAlign,';"" class=""flotr-axis-title flotr-axis-title-x2"">',s.x2.options.title,""</div>""),s.y.options.title&&s.y.used&&t.push('<div style=""position:absolute;top:',this.plotOffset.top+this.plotHeight/2-s.y.titleSize.height/2,""px;left:0;text-align:"",s.y.options.titleAlign,';"" class=""flotr-axis-title flotr-axis-title-y1"">' ,s.y.options.title,""</div>""),s.y2.options.title&&s.y2.used&&t.push('<div style=""position:absolute;top:',this.plotOffset.top+this.plotHeight/2-s.y.titleSize.height/2,""px;right:0;text-align:"",s.y2.options.titleAlign,';"" class=""flotr-axis-title flotr-axis-title-y2"">',s.y2.options.title,""</div>""),t=t.join("""");var u=e.create(""div"");e.setStyles({color:n.grid.color}),u.className=""flotr-titles"",e.insert(this.el,u),e.insert(u,t)}}})}(),function(){function t(){var t=this.options,n=this.handles,r=this.el,i,s,o,u;if(!t.selection.mode||!t.handles.show||""ontouchstart""in r)return;n.initialized=!0,u=e.node('<div class=""flotr-handles""></div>'),t=t.handles,t.drag&&(o=e.node('<div class=""flotr-handles-handle flotr-handles-drag flotr-handles-right""></div>'),s=e.node('<div class=""flotr-handles-handle flotr-handles-drag flotr-handles-left""></div>'),e.insert(u,o),e.insert(u,s),e.hide(s),e.hide(o),n.left=s,n.right=o,this.observe(s,""mousedown"",function(){n.moveHandler=a}),this.observe(o,""mousedown"",function(){n.moveHandler=f})),t.scroll&&(i=e.node('<div class=""flotr-handles-handle flotr-handles-scroll""></div>'),e.insert(u,i),e.hide(i),n.scroll=i,this.observe(i,""mousedown"",function(){n.moveHandler=l})),this.observe(document,""mouseup"",function(){n.moveHandler=null}),e.insert(r,u)}function n(e){if(!this.handles.initialized)return;var t=this.handles,n=this.options.handles,s=t.left,o=t.right,u=t.scroll;n&&(n.drag&&(r(this,s,e.x1),r(this,o,e.x2)),n.scroll&&i(this,u,e.x1,e.x2))}function r(t,n,r){e.show(n);var i=e.size(n),s=Math.round(t.axes.x.d2p(r)-i.width/2),o=(t.plotHeight-i.height)/2;e.setStyles(n,{left:s+""px"",top:o+""px""})}function i(t,n,r,i){e.show(n);var s=e.size(n),o=Math.round(t.axes.x.d2p(r)),u=t.plotHeight-s.height/2,a=t.axes.x.d2p(i)-t.axes.x.d2p(r);e.setStyles(n,{left:o+""px"",top:u+""px"",width:a+""px""})}function s(){if(!this.handles.initialized)return;var t=this.handles;t&&(e.hide(t.left),e.hide(t.right),e.hide(t.scroll))}function o(e,t){if(!this.handles.initialized)return;if(!this.handles.moveHandler)return;var n=t.x-this.lastMousePos.x,r=this.selection.selection,i=this.selection.getArea(),s=this.handles;s.moveHandler(i,n),u(i,s),this.selection.setSelection(i)}function u(e,t){var n=t.moveHandler;e.x1>e.x2&&(n==a?n=f:n==f&&(n=a),t.moveHandler=n)}function a(e,t){e.x1+=t}function f(e,t){e.x2+=t}function l(e,t){e.x1+=t,e.x2+=t}var e=Flotr.DOM;Flotr.addPlugin(""handles"",{options:{show:!1,drag:!0,scroll:!0},callbacks:{""flotr:afterinit"":t,""flotr:select"":n,""flotr:mousedown"":s,""flotr:mousemove"":o}})}(),function(){var e=Flotr.EventAdapter,t=Flotr._;Flotr.addPlugin(""graphGrid"",{callbacks:{""flotr:beforedraw"":function(){this.graphGrid.drawGrid()},""flotr:afterdraw"":function(){this.graphGrid.drawOutline()}},drawGrid:function(){function v(e){for(p=0;p<e.length;++p){var t=e[p].v/c.max;for(d=0;d<=w;++d)n[d===0?""moveTo"":""lineTo""](Math.cos(d*S+x)*b*t,Math.sin(d*S+x)*b*t)}}function m(e,r){t.each(t.pluck(e,""v""),function(e){if(e<=c.min||e>=c.max||(e==c.min||e==c.max)&&i.outlineWidth)return;r(Math.floor(c.d2p(e))+n.lineWidth/2)})}function g(e){n.moveTo(e,0),n.lineTo(e,f)}function y(e){n.moveTo(0,e),n.lineTo(l,e)}var n=this.ctx,r=this.options,i=r.grid,s=i.verticalLines,o=i.horizontalLines,u=i.minorVerticalLines,a=i.minorHorizontalLines,f=this.plotHeight,l=this.plotWidth,c,h,p,d;(s||u||o||a)&&e.fire(this.el,""flotr:beforegrid"",[this.axes.x,this.axes.y,r,this]),n.save(),n.lineWidth=1,n.strokeStyle=i.tickColor;if(i.circular){n.translate(this.plotOffset.left+l/2,this.plotOffset.top+f/2);var b=Math.min(f,l)*r.radar.radiusRatio/2,w=this.axes.x.ticks.length,S=2*(Math.PI/w),x=-Math.PI/2;n.beginPath(),c=this.axes.y,o&&v(c.ticks),a&&v(c.minorTicks),s&&t.times(w,function(e){n.moveTo(0,0),n.lineTo(Math.cos(e*S+x)*b,Math.sin(e*S+x)*b)}),n.stroke()}else n.translate(this.plotOffset.left,this.plotOffset.top),i.backgroundColor&&(n.fillStyle=this.processColor(i.backgroundColor,{x1:0,y1:0,x2:l,y2:f}),n.fillRect(0,0,l,f)),n.beginPath(),c=this.axes.x,s&&m(c.ticks,g),u&&m(c.minorTicks,g),c=this.axes.y,o&&m(c.ticks,y),a&&m(c.minorTicks,y),n.stroke();n.restore(),(s||u||o||a)&&e.fire(this.el,""flotr:aftergrid"",[this.axes.x,this.axes.y,r,this])},drawOutline:function(){var e=this,t=e.options,n=t.grid,r=n.outline,s=e.ctx,o=n.backgroundImage,u=e.plotOffset,a=u.left,f=u.top,l=e.plotWidth,c=e.plotHeight,h,p,d,v,m,g;if(!n.outlineWidth)return;s.save();if(n.circular){s.translate(a+l/2,f+c/2);var y=Math.min(c,l)*t.radar.radiusRatio/2,b=this.axes.x.ticks.length,w=2*(Math.PI/b),E=-Math.PI/2;s.beginPath(),s.lineWidth=n.outlineWidth,s.strokeStyle=n.color,s.lineJoin=""round"";for(i=0;i<=b;++i)s[i===0?""moveTo"":""lineTo""](Math.cos(i*w+E)*y,Math.sin(i*w+E)*y);s.stroke()}else{s.translate(a,f);var S=n.outlineWidth,x=.5-S+(S+1)%2/2,T=""lineTo"",N=""moveTo"";s.lineWidth=S,s.strokeStyle=n.color,s.lineJoin=""miter"",s.beginPath(),s.moveTo(x,x),l-=S/2%1,c+=S/2,s[r.indexOf(""n"")!==-1?T:N](l,x),s[r.indexOf(""e"")!==-1?T:N](l,c),s[r.indexOf(""s"")!==-1?T:N](x,c),s[r.indexOf(""w"")!==-1?T:N](x,x),s.stroke(),s.closePath()}s.restore(),o&&(d=o.src||o,v=(parseInt(o.left,10)||0)+u.left,m=(parseInt(o.top,10)||0)+u.top,p=new Image,p.onload=function(){s.save(),o.alpha&&(s.globalAlpha=o.alpha),s.globalCompositeOperation=""destination-over"",s.drawImage(p,0,0,p.width,p.height,v,m,l,c),s.restore()},p.src=d)}})}(),!function(e,t){typeof define==""function""?define(t):typeof module!=""undefined""?module.exports=t():this[e]=t()}(""bonzo"",function(){function e(e){return new RegExp(""(^|\\s+)""+e+""(\\s+|$)"")}function t(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n||e[r],e[r],r,e);return e}function n(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function r(e){return e&&e.nodeName&&e.nodeType==1}function i(e,t,n,r){for(r=0,j=e.length;r<j;++r)if(t.call(n,e[r],r,e))return!0;return!1}function s(e,n,r){var i=0,s=n||this,o=[],u=E&&typeof e==""string""&&e.charAt(0)!=""<""?function(t){return(t=E(e))&&(t.selected=1)&&t}():e;return t(c(u),function(e){t(s,function(t){var n=!t[w]||t[w]&&!t[w][w]?function(){var e=t.cloneNode(!0);return s.$&&s.cloneEvents&&s.$(e).cloneEvents(t),e}():t;r(e,n),o[i]=n,i++})},this),t(o,function(e,t){s[t]=e}),s.length=i,s}function o(e,t,n){var r=v(e),i=r.css(""position""),s=r.offset(),o=""relative"",u=i==o,a=[parseInt(r.css(""left""),10),parseInt(r.css(""top""),10)];i==""static""&&(r.css(""position"",o),i=o),isNaN(a[0])&&(a[0]=u?0:e.offsetLeft),isNaN(a[1])&&(a[1]=u?0:e.offsetTop),t!=null&&(e.style.left=t-s.left+a[0]+M),n!=null&&(e.style.top=n-s.top+a[1]+M)}function u(t,n){return e(n).test(t.className)}function a(e,t){e.className=F(e.className+"" ""+t)}function f(t,n){t.className=F(t.className.replace(e(n),"" ""))}function l(e){this.length=0;if(e){e=typeof e!=""string""&&!e.nodeType&&typeof e.length!=""undefined""?e:[e],this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function c(e){return typeof e==""string""?v.create(e):r(e)?[e]:e}function h(e,t,n){var r=this[0];return e==null&&t==null?(p(r)?d():{x:r.scrollLeft,y:r.scrollTop})[n]:(p(r)?g.scrollTo(e,t):(e!=null&&(r.scrollLeft=e),t!=null&&(r.scrollTop=t)),this)}function p(e){return e===g||/^(?:body|html)$/i.test(e.tagName)}function d(){return{x:g.pageXOffset||b.scrollLeft,y:g.pageYOffset||b.scrollTop}}function v(e,t){return new l(e,t)}var m=this,g=window,y=g.document,b=y.documentElement,w=""parentNode"",E=null,S=/^checked|value|selected$/,x=/select|fieldset|table|tbody|tfoot|td|tr|colgroup/i,T=""table"",N={thead:T,tbody:T,tfoot:T,tr:""tbody"",th:""tr"",td:""tr"",fieldset:""form"",option:""select""},C=/^checked|selected$/,k=/msie/i.test(navigator.userAgent),L=[],A=0,O=/^-?[\d\.]+$/,M=""px"",_=""setAttribute"",D=""getAttribute"",P=/(^\s*|\s*$)/g,H={lineHeight:1,zoom:1,zIndex:1,opacity:1},B=function(){var e=[""webkitTransform"",""MozTransform"",""OTransform"",""msTransform"",""Transform""],t;for(t=0;t<e.length;t++)if(e[t]in y.createElement(""a"").style)return e[t]}(),F=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(P,"""")},I=y.defaultView&&y.defaultView.getComputedStyle?function(e,t){t=t==""transform""?B:t,t=t==""transform-origin""?B+""Origin"":t;var r=null;t==""float""&&(t=""cssFloat"");var i=y.defaultView.getComputedStyle(e,"""");return i&&(r=i[n(t)]),e.style[t]||r}:k&&b.currentStyle?function(e,t){t=n(t),t=t==""float""?""styleFloat"":t;if(t==""opacity""){var r=100;try{r=e.filters[""DXImageTransform.Microsoft.Alpha""].opacity}catch(i){try{r=e.filters(""alpha"").opacity}catch(s){}}return r/100}var o=e.currentStyle?e.currentStyle[t]:null;return e.style[t]||o}:function(e,t){return e.style[n(t)]};l.prototype={get:function(e){return this[e]},each:function(e,n){return t(this,e,n)},map:function(e,t){var n=[],r,i;for(i=0;i<this.length;i++)r=e.call(this,this[i],i),t?t(r)&&n.push(r):n.push(r);return n},first:function(){return v(this[0])},last:function(){return v(this[this.length-1])},html:function(e,n){function r(n){while(n.firstChild)n.removeChild(n.firstChild);t(c(e),function(e){n.appendChild(e)})}var i=n?b.textContent===null?""innerText"":""textContent"":""innerHTML"",s;return typeof e!=""undefined""?this.each(function(t){(s=t.tagName.match(x))?r(t,s[0]):t[i]=e}):this[0]?this[0][i]:""""},text:function(e){return this.html(e,1)},addClass:function(e){return this.each(function(t){u(t,e)||a(t,e)})},removeClass:function(e){return this.each(function(t){u(t,e)&&f(t,e)})},hasClass:function(e){return i(this,function(t){return u(t,e)})},toggleClass:function(e,t){return this.each(function(n){typeof t!=""undefined""?t?a(n,e):f(n,e):u(n,e)?f(n,e):a(n,e)})},show:function(e){return this.each(function(t){t.style.display=e||""""})},hide:function(e){return this.each(function(e){e.style.display=""none""})},append:function(e){return this.each(function(n){t(c(e),function(e){n.appendChild(e)})})},prepend:function(e){return this.each(function(n){var r=n.firstChild;t(c(e),function(e){n.insertBefore(e,r)})})},appendTo:function(e,t){return s.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return s.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)})},next:function(){return this.related(""nextSibling"")},previous:function(){return this.related(""previousSibling"")},related:function(e){return this.map(function(t){t=t[e];while(t&&t.nodeType!==1)t=t[e];return t||0},function(e){return e})},before:function(e){return this.each(function(n){t(v.create(e),function(e){n[w].insertBefore(e,n)})})},after:function(e){return this.each(function(n){t(v.create(e),function(e){n[w].insertBefore(e,n.nextSibling)})})},insertBefore:function(e,t){return s.call(this,e,t,function(e,t){e[w].insertBefore(t,e)})},insertAfter:function(e,t){return s.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[w].insertBefore(t,n):e[w].appendChild(t)})},css:function(e,t,r){function i(e,t,r){for(var i in s)s.hasOwnProperty(i)&&(r=s[i],(t=n(i))&&O.test(r)&&!(t in H)&&(r+=M),t=t==""transform""?B:t,t=t==""transformOrigin""?B+""Origin"":t,e.style[t]=r)}if(t===undefined&&typeof e==""string"")return t=this[0],t?t==y||t==g?(r=t==y?v.doc():v.viewport(),e==""width""?r.width:e==""height""?r.height:""""):I(t,e):null;var s=e;typeof e==""string""&&(s={},s[e]=t),k&&s.opacity&&(s.filter=""alpha(opacity=""+s.opacity*100+"")"",s.zoom=e.zoom||1,delete s.opacity);if(t=s[""float""])k?s.styleFloat=t:s.cssFloat=t,delete s[""float""];return this.each(i)},offset:function(e,t){if(typeof e==""number""||typeof t==""number"")return this.each(function(n){o(n,e,t)});var n=this[0],r=n.offsetWidth,i=n.offsetHeight,s=n.offsetTop,u=n.offsetLeft;while(n=n.offsetParent)s+=n.offsetTop,u+=n.offsetLeft;return{top:s,left:u,height:i,width:r}},attr:function(e,t){var n=this[0];if(typeof e==""string""||e instanceof String)return typeof t==""undefined""?S.test(e)?C.test(e)&&typeof n[e]==""string""?!0:n[e]:n[D](e):this.each(function(n){S.test(e)?n[e]=t:n[_](e,t)});for(var r in e)e.hasOwnProperty(r)&&this.attr(r,e[r]);return this},val:function(e){return typeof e==""string""?this.attr(""value"",e):this[0].value},removeAttr:function(e){return this.each(function(t){C.test(e)?t[e]=!1:t.removeAttribute(e)})},data:function(e,t){var n=this[0];if(typeof t==""undefined""){n[D](""data-node-uid"")||n[_](""data-node-uid"",++A);var r=n[D](""data-node-uid"");return L[r]||(L[r]={}),L[r][e]}return this.each(function(n){n[D](""data-node-uid"")||n[_](""data-node-uid"",++A);var r=n[D](""data-node-uid""),i=L[r]||(L[r]={});i[e]=t})},remove:function(){return this.each(function(e){e[w]&&e[w].removeChild(e)})},empty:function(){return this.each(function(e){while(e.firstChild)e.removeChild(e.firstChild)})},detach:function(){return this.map(function(e){return e[w].removeChild(e)})},scrollTop:function(e){return h.call(this,null,e,""y"")},scrollLeft:function(e){return h.call(this,e,null,""x"")},toggle:function(e){return this.each(function(e){e.style.display=e.offsetWidth||e.offsetHeight?""none"":""block""}),e&&e(),this}},v.setQueryEngine=function(e){E=e,delete v.setQueryEngine},v.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||l.prototype)[n]=e[n])},v.create=function(e){return typeof e==""string""?function(){var t=/^<([^\s>]+)/.exec(e),n=y.createElement(t&&N[t[1].toLowerCase()]||""div""),r=[];n.innerHTML=e;var i=n.childNodes;n=n.firstChild,r.push(n);while(n=n.nextSibling)n.nodeType==1&&r.push(n);return r}():r(e)?[e.cloneNode(!0)]:[]},v.doc=function(){var e=this.viewport();return{width:Math.max(y.body.scrollWidth,b.scrollWidth,e.width),height:Math.max(y.body.scrollHeight,b.scrollHeight,e.height)}},v.firstChild=function(e){for(var t=e.childNodes,n=0,r=t&&t.length||0,i;n<r;n++)t[n].nodeType===1&&(i=t[r=n]);return i},v.viewport=function(){return{width:k?b.clientWidth:self.innerWidth,height:k?b.clientHeight:self.innerHeight}},v.isAncestor=""compareDocumentPosition""in b?function(e,t){return(e.compareDocumentPosition(t)&16)==16}:""contains""in b?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t=t[w])if(t===e)return!0;return!1};var q=m.bonzo;return v.noConflict=function(){return m.bonzo=q,this},v});var envision={_:Flotr._,bean:Flotr.bean,bonzo:bonzo,noConflict:function(e){var t=e.envision;return function(){return e.envision=t,this}}(this)};(function(){function r(e){this.options=e||{},this.components=[],this.node=null,this.rendered=!1}var e=""envision-first"",t=""envision-last"",n='<div class=""envision-visualization""></div>';T_COMPONENT_CONTAINER='<div class=""envision-component-container""></div>',r.prototype={render:function(e){var t=this.options;e=e||t.element;if(!e)throw""No element to render within."";return this.node=bonzo.create(n)[0],bonzo(this.node).addClass(t.name||""""),this.container=e,bonzo(e).append(this.node),bonzo(e).data(""envision"",this),_.each(this.components,function(e){this._renderComponent(e)},this),this._updateClasses(),this.rendered=!0,this},add:function(e){return this.components.push(e),this.rendered&&(this._renderComponent(e),this._updateClasses()),this},remove:function(e){var t=this.components,n=this.indexOf(e);return n!==-1&&(t.splice(n,1),bonzo(e.container).remove(),this._updateClasses()),this},setPosition:function(e,t){var n=this.components;return t>=0&&t<n.length&&this.remove(e)&&(this.rendered&&(t===n.length?this.node.appendChild(e.container):this.node.insertBefore(e.container,n[t].container)),n.splice(t,0,e),this._updateClasses()),this},indexOf:function(e){return _.indexOf(this.components,e)},getComponent:function(e){var t=this.components;if(e<t.length)return t[e]},isFirst:function(e){return this.indexOf(e)===0?!0:!1},isLast:function(e){return this.indexOf(e)===this.components.length-1?!0:!1},destroy:function(){_.each(this.components,function(e){e.destroy()}),bonzo(this.container).empty()},_renderComponent:function(e){var t=bonzo.create(T_COMPONENT_CONTAINER)[0];bonzo(this.node).append(t),e.render(t)},_updateClasses:function(){var n=this.components,r=0,i=n.length-1,s;_.each(n,function(n,o){s=bonzo(n.container),o===r?s.addClass(e):s.removeClass(e),o===i?s.addClass(t):s.removeClass(t)})}},envision.Visualization=r})(),function(){function r(t){t=t||{};var r=bonzo.create(n)[0];this.options=t,this.node=r,t.adapter?this.api=t.adapter:t.adapterConstructor?this.api=new t.adapterConstructor(t.config):t.adapterCallback?this.api=t.adapterCallback.call(null,t.config):t.config&&(this.api=new e.adapters.flotr.Child(t.config||{})),this.preprocessors=[]}var e=envision,t=""envision-component"",n='<div class=""'+t+'""></div>';r.prototype={render:function(e){var t=this.node,n=this.options;e=e||n.element;if(!e)throw""No element to render within."";bonzo(e).addClass(n.name||"""").append(this.node),this._setDimension(""width""),this._setDimension(""height""),this.container=e,this.draw(n.data,n.config)},draw:function(t,n){var r=this.api,i=this.options,s=this.preprocessors,o;o=t=t||i.data,n=n||i.config,!i.skipPreprocess&&t&&(o=[],_.each(r.getDataArray(t),function(u,a){var f=s[a]||new e.Preprocessor,l=_.isArray(u),c=_.isFunction(u),h=l?u:c?u:u.data,p=i.processData,d=r.range(n),v=d.min,m=d.max,g=this.node.clientWidth,y=u,b,w;!c&&!l&&(y=u.data,w=_.extend({},u)),c?b=t(v,m,g):(y!==f.data?f.setData(y):f.reset(),p?(p.apply(this,[{preprocessor:f,min:v,max:m,resolution:g}]),b=f.getData()):b=f.bound(v,m).subsampleMinMax(g).getData()),r.transformData&&(b=r.transformData(b)),w?(w.data=b,o.push(w)):o.push(b)},this)),r&&r.draw(o,n,this.node)},trigger:function(){this.api.trigger.apply(this.api,Array.prototype.concat.apply([this],arguments))},attach:function(){this.api.attach.apply(this.api,Array.prototype.concat.apply([this],arguments))},detach:function(){this.api.detach.apply(this.api,Array.prototype.concat.apply([this],arguments))},destroy:function(){this.api&&this.api.destroy&&this.api.destroy(),bonzo(this.container).empty()},_setDimension:function(e){var t=this.node,n=this.options;n[e]?bonzo(t).css(e,n[e]):n[e]=t.clientWidth,this[e]=n[e]}},e.Component=r}(),function(){function t(e){this.options=e=e||{},this.actions=[],this.actionOptions=[],this.followers=[],this.leaders=[],this.prevent={},e.leader&&this.leader(e.leader)}var e=envision;t.prototype={leader:function(e){return this.leaders.push(e),_.each(this.actions,function(t,n){this._bindLeader(e,t,this.actionOptions[n])},this),this},follower:function(e){return this.followers.push(e),this},group:function(e){return _.isArray(e)||(e=[e]),_.each(e,function(e){this.leader(e),this.follower(e)},this),this},add:function(e,t){return this.actions.push(e),this.actionOptions.push(t),_.each(this.leaders,function(n){this._bindLeader(n,e,t)},this),this},_bindLeader:function(e,t,n){_.each(t.events,function(t){var r=t.handler||t,i=t.consumer||t;e.attach(r,_.bind(function(e,t){if(this.prevent[name])return;n&&n.callback&&n.callback.call(this,t),this.prevent[name]=!0;try{_.each(this.followers,function(n){if(e===n)return;n.trigger(i,t)},this)}catch(r){throw this.prevent[name]=!1,r}this.prevent[name]=!1},this))},this)}},e.Interaction=t}(),function(){function e(e){e=e||{},this.getData=function(){return this.bounded&&r(this),this.processing},this.reset=function(){return this.processing=this.data,this},this.setData=function(e){var t,n;if(!_.isArray(e))throw new Error(""Array expected."");if(e.length<2)throw new Error(""Data must contain at least two dimensions."");n=e[0].length;for(t=e.length;t--;){if(!_.isArray(e[t]))throw new Error(""Data dimensions must be arrays."");if(e[t].length!==n)throw new Error(""Data dimensions must contain the same number of points."")}return this.processing=e,this.data=e,this},e.data&&this.setData(e.data)}function t(e,t){var n=_.sortedIndex(e,t);return e[n]>t&&n>0&&n--,n}function n(e,t){return _.sortedIndex(e,t)}function r(e){delete e.bounded;var r=e.processing,i=e.length(),s=r[0],o=r[1],u=e.min||0,a=e.max||i,f=t(s,u),l=n(s,a);e.processing=[s.slice(f,l+1),o.slice(f,l+1)],e.start=f,e.end=l}function i(e,t,n,r,i,s,o,u,a){var f=(e-r)/(s-r),l=1-f,c=(1+2*f)*l*l,h=f*l*l,p=f*f*(3-2*f),d=f*f*(f-1),v=(o-i)/(2*(s-r))+(typeof n==""undefined""?0:(i-n)/(2*(r-t))),m=(typeof a==""undefined""?0:(a-o)/(2*(u-s)))+(o-i)/(2*(s-r)),g=c*i+h*(s-r)*v+p*o+d*(s-r)*m;return g}e.prototype={length:function(){return this.getData()[0].length},bound:function(e,t){return!_.isNumber(e)||!_.isNumber(t)?this:(this.min=e,this.max=t,this.bounded=!0,this)},subsampleMinMax:function(e){var r=this.bounded;delete this.bounded;var i=this.processing,s=this.length(),o=i[0],u=i[1],a=r?t(o,this.min):0,f=r?n(o,this.max):s-1,l=(e-2)/2,c=[],h=[],p=Number.MAX_VALUE,d=-Number.MAX_VALUE,v=1,m=1,g=(f-a)/l,y,b,w,E;if(f-a+1>e){c.push(o[a]),h.push(u[a]),y=a+g;for(w=a;w<f;w++)w===Math.round(y)?(y+=g,E=Math.min(m,v),c.push(o[E]),h.push(u[E]),E=Math.max(m,v),c.push(o[E]),h.push(u[E]),v=w,p=u[v],m=w,d=u[m]):(u[w]>d&&(d=u[w],m=w),u[w]<p&&(p=u[w],v=w));w<y&&(c.push(o[v]),h.push(p),c.push(o[m]),h.push(d)),c.push(o[f]),h.push(u[f]),this.processing=[c,h],this.start=a,this.end=f}else this.bounded=r;return this},subsample:function(e){var r=this.bounded;delete this.bounded;var i=this.processing,s=this.length(),o=i[0],u=i[1],a=r?t(o,this.min):0,f=r?n(o,this.max):s-1,l=(f-a+1)/e,c=[],h=[],p,d;if(f-a+1>e){c.push(o[a]),h.push(u[a]);for(p=1;p<e;p++){if(p*l>=f-l)break;d=Math.round(p*l)+a,c.push(o[d]),h.push(u[d])}c.push(o[f]),h.push(u[f]),this.processing=[c,h],this.start=a,this.end=f}else this.bounded=r;return this},interpolate:function(e){var r=this.bounded;delete this.bounded;var s=this.processing,o=this.length(),u=s[0],a=s[1],f=r?t(u,this.min):0,l=r?n(u,this.max):o-1,c=(u[l]-u[f])/e,h=[],p=[],d,v,m;h.push(u[f]),p.push(a[f]);if(l-f+1<e){for(d=f;d<l;d++){m=u[d+1]-u[d],h.push(u[d]),p.push(a[d]);for(v=u[d+0]+c;v<u[d+1];v+=c)h.push(v),p.push(i(v,u[d-1],a[d-1],u[d+0],a[d+0],u[d+1],a[d+1],u[d+2],a[d+2]))}this.processing=[h,p],this.start=f,this.end=l}return this}},envision.Preprocessor=e}(),envision.actions=envision.actions||{},envision.actions.hit={events:[""hit"",""mouseout""]},envision.actions.selection={events:[{handler:""select"",consumer:""zoom""},{handler:""click"",consumer:""reset""}]},envision.actions.zoom={events:[{handler:""select"",consumer:""zoom""},""zoom"",""reset""]},envision.adapters=envision.adapters||{},envision.adapters.flotr={},envision.adapters.defaultOptions={grid:{outlineWidth:0,labelMargin:0,horizontalLines:!1,verticalLines:!1},bars:{show:!1,barWidth:.5,fill:!0,lineWidth:1,fillOpacity:1},lines:{lineWidth:1},xaxis:{margin:!1,tickDecimals:0,showLabels:!1},yaxis:{margin:!1,showLabels:!1},shadowSize:!1},function(){function i(e){this.options=e||{},this.flotr=null,this._flotrDefaultOptions()}function s(e,t){var n=e.options.config.selection.mode,r=e.api.flotr.axes,i,s,o,u,a;return n.indexOf(""x"")!==-1&&(i={},i.min=t.x1,i.max=t.x2,o={},o.min=r.x.d2p(t.x1),o.max=r.x.d2p(t.x2)),n.indexOf(""y"")!==-1&&(s={},s.min=t.y1,s.max=t.y2,u={},u.min=r.y.d2p(t.y1),u.max=r.y.d2p(t.y2)),a={data:{x:i,y:s},x:o,y:u},a}var e=envision,t=envision.adapters,n=Flotr.EventAdapter,r=t.defaultOptions;i.prototype={destroy:function(){this.flotr.destroy()},draw:function(e,t,n){var r=this.options;e=this.getDataArray(e||r.data),t?t=Flotr.merge(t,Flotr.clone(r)):t=r,r.data=e;if(!t)throw""No graph submitted."";this.flotr=Flotr.draw(n,e,t)},range:function(e){var t=e.xaxis;return{min:t.min,max:t.max}},transformData:function(e){var t=e[0].length,n=e.length,r=[],i,s,o;for(s=0;s<t;s++){i=[];for(o=0;o<n;o++)i.push(e[o][s]);r.push(i)}return r},getDataArray:function(e){return e[0]&&(!_.isArray(e[0])||!e[0].length||e[0][0]&&_.isArray(e[0][0]))?e:[e]},_flotrDefaultOptions:function(e){var t=e||this.options,n;for(n in r)r.hasOwnProperty(n)&&(_.isUndefined(t[n])?t[n]=r[n]:_.defaults(t[n],r[n]))},attach:function(e,t,r){var i=this.events[t]||{},s=i.handler||!1;return t=i.name||!1,s?n.observe(e.node,t,function(){var t=[e].concat(Array.prototype.slice.call(arguments)),n=s.apply(this,t);return r.apply(null,[e,n])}):!1},detach:function(e,t,r){return n.stopObserve(e.node,t,handler)},trigger:function(e,t,n){var r=this.events[t],i=r.consumer||!1;return i?i.apply(this,[e,n]):!1},events:{hit:{name:""flotr:hit"",handler:function(e,t){var n=t.x,r=t.y,i=e.api.flotr,s;return s={data:{index:t.index,x:n,y:r},x:i.axes.x.d2p(n),y:i.axes.y.d2p(r)},s},consumer:function(e,t){var n=e.api.flotr,r;r={x:t.data.x,y:t.data.y||1,relX:t.x,relY:t.y||1},n.hit.hit(r)}},select:{name:""flotr:selecting"",handler:s,consumer:function(e,t){var n=e.api.flotr,r=n.axes,i=t.data||{},s={},o=t.x,u=t.y;!o&&i.x?(o=i.x,s.x1=o.min,s.x2=o.max):o&&(s.x1=r.x.p2d(o.min),s.x2=r.x.p2d(o.max)),!u&&i.y?(u=i.y,s.y1=u.min,s.y2=u.max):u&&(s.y1=r.y.d2p(u.min),s.y2=r.y.d2p(u.max)),n.selection.setSelection(s)}},zoom:{name:""flotr:select"",handler:function(e,t){var n=s(e,t);return e.trigger(""zoom"",n),n},consumer:function(e,t){var n=t.data.x,r=t.data.y,i={};n&&(i.xaxis={min:n.min,max:n.max}),r&&(i.yaxis={min:r.min,max:r.max}),e.draw(null,i)}},mouseout:{name:""flotr:mouseout"",handler:function(e){},consumer:function(e){e.api.flotr.hit.clearHit()}},reset:{name:""flotr:click"",handler:function(e){e.draw()},consumer:function(e){e.draw()}},click:{name:""flotr:click"",handler:function(e){var t=e.api.flotr.axes.x.min,n=e.api.flotr.axes.x.max;return{data:{x:{min:t,max:n}},x:{min:e.api.flotr.axes.x.d2p(t),max:e.api.flotr.axes.x.d2p(n)}}},consumer:function(e,t){var n=t.data.x,r=t.data.y,i={};n&&(i.xaxis={min:n.min,max:n.max}),r&&(i.yaxis={min:r.min,max:r.max}),e.draw(null,i)}}}},t.flotr.Child=i}(),Flotr.addType(""lite-lines"",{options:{show:!1,lineWidth:2,fill:!1,fillBorder:!1,fillColor:null,fillOpacity:.4},draw:function(e){var t=e.context,n=e.lineWidth,r=e.shadowSize,i;t.save(),t.lineCap=""butt"",t.lineWidth=n,t.strokeStyle=e.color,this.plot(e),t.restore()},plot:function(e){var t=e.context,n=e.xScale,r=e.yScale,s=e.data,o=s.length-1,u=r(0),a,f;if(o<1)return;a=n(s[0][0]),f=r(s[0][1]),t.beginPath(),t.moveTo(a,f);for(i=0;i<o;++i)t.lineTo(n(s[i+1][0]),r(s[i+1][1]));(!e.fill||e.fill&&!e.fillBorder)&&t.stroke(),e.fill&&(a=n(s[0][0]),t.fillStyle=e.fillStyle,t.lineTo(n(s[o][0]),u),t.lineTo(a,u),t.lineTo(a,r(s[0][1])),t.fill(),e.fillBorder&&t.stroke())},extendYRange:function(e,t,n,r){var i=e.options;if(!i.max&&i.max!==0||!i.min&&i.min!==0)e.max+=n.lineWidth*.01,e.min-=n.lineWidth*.01}}),Flotr.addType(""whiskers"",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,horizontal:!1,stacked:!1,centered:!0},stack:{positive:[],negative:[],_positive:[],_negative:[]},draw:function(e){var t=e.context;t.save(),t.lineJoin=""miter"",t.lineCap=""butt"",t.lineWidth=e.lineWidth,t.strokeStyle=e.color,e.fill&&(t.fillStyle=e.fillStyle),this.plot(e),t.restore()},plot:function(e){var t=e.data,n=e.context,r=e.shadowSize,i=e.xScale,s=e.yScale,o=s(0),u,a;if(t.length<1)return;n.translate(-e.lineWidth,0),n.beginPath();for(u=0;u<t.length;u++)a=i(t[u][0]),n.moveTo(a,o),n.lineTo(a,s(t[u][1]));n.closePath(),n.stroke()},drawHit:function(e){var t=e.args,n=e.context,r=e.shadowSize,i=e.xScale,s=e.yScale,o=s(0),u=i(t.x),a=s(t.y);n.save(),n.translate(-e.lineWidth,0),n.beginPath(),n.moveTo(u,o),n.lineTo(u,a),n.closePath(),n.stroke(),n.restore()},clearHit:function(e){var t=e.args,n=e.context,r=e.shadowSize,i=e.xScale,s=e.yScale,o=e.lineWidth,u=s(0),a=i(t.x),f=s(t.y);n.save(),n.clearRect(a-2*o,f-o,4*o,u-f+o),n.restore()}}),envision.components=envision.components||{},function(){function e(e){this.options=e||{}}e.prototype={height:null,width:null,rendered:!1,render:function(e){var t=document.createElement(""canvas""),n=bonzo(e).offset();this.height=n.height,this.width=n.width,bonzo(t).attr(""height"",n.height).attr(""width"",n.width).css({position:""absolute"",top:""0px"",left:""0px""}),e.appendChild(t),bonzo(e).css({position:""relative""}),typeof FlashCanvas!=""undefined""&&FlashCanvas.initElement(t),this.context=t.getContext(""2d""),this.rendered=!0},draw:function(e,t,n){this.rendered||this.render(n);var r=this.context,i=this.height,s=this.width,o=Math.round(i/2)-.5,u,a;t=t||{min:s/2,max:s/2},u=t.min+.5,a=t.max+.5,r.clearRect(0,0,s,i);if(u||a)r.save(),r.strokeStyle=this.options.strokeStyle||""#B6D9FF"",r.fillStyle=this.options.fillStyle||""rgba(182, 217, 255, .4)"",r.beginPath(),u<=1?(r.moveTo(0,i),r.lineTo(0,-0.5)):(r.moveTo(u,i),r.quadraticCurveTo(u,o,Math.max(u-o,u/2),o),r.lineTo(Math.min(o,u/2),o),r.quadraticCurveTo(0,o,.5,-0.5)),r.lineTo(s-.5,-0.5),a>=s-1?r.lineTo(a,i):(r.quadraticCurveTo(s,o,Math.max(s-o,s-(s-a)/2),o),r.lineTo(Math.min(a+o,s-(s-a)/2),o),r.quadraticCurveTo(a,o,a,i)),r.stroke(),r.closePath(),r.fill(),r.restore()},trigger:function(e,t,n){t===""zoom""?this.zoom(e,n):t===""reset""&&this.reset(e)},zoom:function(e,t){var n=t.x||{},r=n.min,i=n.max,s=e.api;e.draw(null,{min:r,max:i})},reset:function(e){e.draw(null,{min:e.width/2,max:e.width/2})}},envision.components.QuadraticDrawing=e}(),envision.templates=envision.templates||{},function(){function t(e){var t=e.resolution;e.preprocessor.bound(e.min,e.max).subsampleMinMax(t+Math.round(t/3))}function n(){return{price:{name:""envision-finance-price"",config:{""lite-lines"":{lineWidth:1,show:!0,fill:!0,fillOpacity:.2},mouse:{track:!0,trackY:!1,trackAll:!0,sensibility:1,trackDecimals:4,position:""ne""},yaxis:{autoscale:!0,autoscaleMargin:.05,noTicks:4,showLabels:!0,min:0}},processData:t},volume:{name:""envision-finance-volume"",config:{whiskers:{show:!0,lineWidth:2},mouse:{track:!0,trackY:!1,trackAll:!0},yaxis:{autoscale:!0,autoscaleMargin:.5}},processData:t},summary:{name:""envision-finance-summary"",config:{""lite-lines"":{show:!0,lineWidth:1,fill:!0,fillOpacity:.2,fillBorder:!0},xaxis:{noTicks:5,showLabels:!0},yaxis:{autoscale:!0,autoscaleMargin:.1},handles:{show:!0},selection:{mode:""x""},grid:{verticalLines:!1}}},connection:{name:""envision-finance-connection"",adapterConstructor:e.components.QuadraticDrawing}}}function r(t){var r=t.data,i=n(),s=new e.Visualization({name:""envision-finance""}),o=new e.Interaction,u=new e.Interaction,a,f,l,c;t.defaults&&(i=Flotr.merge(t.defaults,i)),i.price.data=r.price,i.volume.data=r.volume,i.summary.data=r.summary,i.price.config.mouse.trackFormatter=t.trackFormatter||function(e){var t=e.index,n;return a.api.preprocessor&&(t+=a.api.preprocessor.start),n=""Price: $""+r.price[1][t]+"", Vol: ""+r.volume[1][t],n},t.xTickFormatter&&(i.summary.config.xaxis.tickFormatter=t.xTickFormatter),i.price.config.yaxis.tickFormatter=t.yTickFormatter||function(e){return""$""+e},a=new e.Component(i.price),f=new e.Component(i.volume),l=new e.Component(i.connection),c=new e.Component(i.summary),s.add(a).add(f).add(l).add(c).render(t.container),o.follower(a).follower(f).follower(l).leader(c).add(e.actions.selection,t.selectionCallback?{callback:t.selectionCallback}:null),u.group([a,f]).add(e.actions.hit),t.selection&&c.trigger(""select"",t.selection),this.vis=s,this.selection=o,this.hit=u,this.price=a,this.volume=f,this.summary=c}var e=envision;e.templates.Finance=r}(),function(){function t(){return{detail:{name:""envision-timeseries-detail"",config:{""lite-lines"":{lineWidth:1,show:!0}}},summary:{name:""envision-timeseries-summary"",config:{""lite-lines"":{lineWidth:1,show:!0},handles:{show:!0},selection:{mode:""x""},yaxis:{autoscale:!0,autoscaleMargin:.1}}},connection:{name:""envision-timeseries-connection"",adapterConstructor:e.components.QuadraticDrawing}}}function n(n){var r=n.data,i=t(),s=new e.Visualization({name:""envision-timeseries""}),o=new e.Interaction,u,a,f;n.defaults&&(i=Flotr.merge(n.defaults,i)),i.detail.data=r.detail,i.summary.data=r.summary,u=new e.Component(i.detail),f=new e.Component(i.connection),a=new e.Component(i.summary),s.add(u).add(f).add(a).render(n.container),o.follower(u).follower(f).leader(a).add(e.actions.selection,n.selectionCallback?{callback:n.selectionCallback}:null),n.selection&&a.trigger(""select"",n.selection),this.vis=s,this.selection=o,this.detail=u,this.summary=a}var e=envision;e.templates.TimeSeries=n}(),function(){function n(){return{name:""zoom""}}function r(){return{name:""summary"",config:{handles:{show:!0},selection:{mode:""x""}}}}function i(e,t){var n=_.defaults(e,t);return n.flotr=_.defaults(n.flotr,t.flotr),n}var e=envision,t;t=function(t){var s=new e.Visualization,o=new e.Component(i(t.zoom||{},n())),u=new e.Component(i(t.summary||{},r())),a=new e.Interaction({leader:u});s.add(o).add(u),a.add(e.actions.selection),a.follower(o),this.vis=s,this.interaction=a,t.container&&this.render(t.container)},t.prototype={render:function(e){this.vis.render(e)}},e.templates.Zoom=t}(),function(){function e(e){return e.target}function t(e){return e.source}function n(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function r(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function i(e){return Array.prototype.slice.call(e)}function s(){}function o(e){return e}function u(){return!0}function a(e){return typeof e==""function""?e:function(){return e}}function f(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}function l(e){return e!=null&&!isNaN(e)}function c(e){return e.length}function h(e){return e.trim().replace(/\s+/g,"" "")}function p(e){var t=1;while(e*t%1)t*=10;return t}function d(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function v(e){return e.responseText}function m(e){return JSON.parse(e .responseText)}function g(e){var t=document.createRange();return t.selectNode(document.body),t.createContextualFragment(e.responseText)}function y(e){return e.responseXML}function b(){}function w(e){function t(){var t=n,r=-1,i=t.length,s;while(++r<i)(s=t[r].on)&&s.apply(this,arguments);return e}var n=[],r=new s;return t.on=function(t,i){var s=r.get(t),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function E(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function S(e){return e+""""}function x(e,t){var n=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function T(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function N(e){return function(t){return 1-e(1-t)}}function C(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function k(e){return e*e}function L(e){return e*e*e}function A(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function O(e){return function(t){return Math.pow(t,e)}}function M(e){return 1-Math.cos(e*cr/2)}function _(e){return Math.pow(2,10*(e-1))}function D(e){return 1-Math.sqrt(1-e*e)}function P(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/(2*cr)*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*cr/t)}}function H(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function B(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function j(){d3.event.stopPropagation(),d3.event.preventDefault()}function F(){var e=d3.event,t;while(t=e.sourceEvent)e=t;return e}function I(e){var t=new b,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=w(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=d3.event;i.target=e,d3.event=i,t[i.type].apply(n,r)}finally{d3.event=s}}},t}function q(e){var t=[e.a,e.b],n=[e.c,e.d],r=U(t),i=R(t,n),s=U(z(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*dr,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*dr:0}function R(e,t){return e[0]*t[0]+e[1]*t[1]}function U(e){var t=Math.sqrt(R(e,e));return t&&(e[0]/=t,e[1]/=t),t}function z(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function W(e){return e==""transform""?d3.interpolateTransform:d3.interpolate}function X(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function V(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function $(){}function J(e,t,n){return new K(e,t,n)}function K(e,t,n){this.r=e,this.g=t,this.b=n}function Q(e){return e<16?""0""+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function G(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split("","");switch(o[1]){case""hsl"":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case""rgb"":return t(tt(u[0]),tt(u[1]),tt(u[2]))}}return(a=Pr.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)===""#""&&(e.length===4?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):e.length===7&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function Y(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):u=o=0,nt(o,u,a)}function Z(e,t,n){e=et(e),t=et(t),n=et(n);var r=pt((.4124564*e+.3575761*t+.1804375*n)/Fr),i=pt((.2126729*e+.7151522*t+.072175*n)/Ir),s=pt((.0193339*e+.119192*t+.9503041*n)/qr);return at(116*i-16,500*(r-i),200*(i-s))}function et(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function tt(e){var t=parseFloat(e);return e.charAt(e.length-1)===""%""?Math.round(t*2.55):t}function nt(e,t,n){return new rt(e,t,n)}function rt(e,t,n){this.h=e,this.s=t,this.l=n}function it(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?s+(o-s)*e/60:e<180?o:e<240?s+(o-s)*(240-e)/60:s}function i(e){return Math.round(r(e)*255)}var s,o;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+t):n+t-n*t,s=2*n-o,J(i(e+120),i(e),i(e-120))}function st(e,t,n){return new ot(e,t,n)}function ot(e,t,n){this.h=e,this.c=t,this.l=n}function ut(e,t,n){return at(n,Math.cos(e*=pr)*t,Math.sin(e)*t)}function at(e,t,n){return new ft(e,t,n)}function ft(e,t,n){this.l=e,this.a=t,this.b=n}function lt(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=ht(i)*Fr,r=ht(r)*Ir,s=ht(s)*qr,J(dt(3.2404542*i-1.5371385*r-.4985314*s),dt(-0.969266*i+1.8760108*r+.041556*s),dt(.0556434*i-.2040259*r+1.0572252*s))}function ct(e,t,n){return st(Math.atan2(n,t)/cr*180,Math.sqrt(t*t+n*n),e)}function ht(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function pt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function dt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function vt(e){return gr(e,$r),e}function mt(e){return function(){return Ur(e,this)}}function gt(e){return function(){return zr(e,this)}}function yt(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=d3.ns.qualify(e),t==null?e.local?r:n:typeof t==""function""?e.local?u:o:e.local?s:i}function bt(e){return new RegExp(""(?:^|\\s+)""+d3.requote(e)+""(?:\\s+|$)"",""g"")}function wt(e,t){function n(){var n=-1;while(++n<i)e[n](this,t)}function r(){var n=-1,r=t.apply(this,arguments);while(++n<i)e[n](this,r)}e=e.trim().split(/\s+/).map(Et);var i=e.length;return typeof t==""function""?r:n}function Et(e){var t=bt(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.className,s=i.baseVal!=null,o=s?i.baseVal:i;r?(t.lastIndex=0,t.test(o)||(o=h(o+"" ""+e),s?i.baseVal=o:n.className=o)):o&&(o=h(o.replace(t,"" "")),s?i.baseVal=o:n.className=o)}}function St(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t==""function""?s:i}function xt(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t==""function""?i:r}function Tt(e){return{__data__:e}}function Nt(e){return function(){return Vr(this,e)}}function Ct(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function kt(e,t,n){function r(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function i(){function i(e){var n=d3.event;d3.event=e,u[0]=o.__data__;try{t.apply(o,u)}finally{d3.event=n}}var o=this,u=vr(arguments);r.call(this),this.addEventListener(e,this[s]=i,i.$=n),i._=t}var s=""__on""+e,o=e.indexOf(""."");return o>0&&(e=e.substring(0,o)),t?i:r}function Lt(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],s=0,o=i.length,u;s<o;s++)(u=i[s])&&t(u,s,n);return e}function At(e){return gr(e,Kr),e}function Ot(e,t){return gr(e,Qr),e.id=t,e}function Mt(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),o=i[n];if(!o){var u=r.time;return o=i[n]={tween:new s,event:d3.dispatch(""start"",""end""),time:u,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,d3.timer(function(r){function s(r){return i.active>n?f():(i.active=n,h.start.call(e,l,t),o.tween.forEach(function(n,r){(r=r.call(e,l,t))&&v.push(r)}),a(r)||d3.timer(a,0,u),1)}function a(r){if(i.active!==n)return f();var s=(r-p)/d,o=c(s),u=v.length;while(u>0)v[--u].call(e,o);if(s>=1)return f(),h.end.call(e,l,t),1}function f(){return--i.count?delete i[n]:delete e.__transition__,1}var l=e.__data__,c=o.ease,h=o.event,p=o.delay,d=o.duration,v=[];return p<=r?s(r):d3.timer(s,p,u),1},0,u),o}}function _t(e){return e==null&&(e=""""),function(){this.textContent=e}}function Dt(e,t,n,r){var i=e.id;return Lt(e,typeof n==""function""?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Pt(){var e,t=Date.now(),n=ni;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Ht()-t;r>24?(isFinite(r)&&(clearTimeout(ii),ii=setTimeout(Pt,r)),ri=0):(ri=1,si(Pt))}function Ht(){var e=null,t=ni,n=Infinity;while(t)t.flush?(delete ti[t.callback.id],t=e?e.next=t.next:ni=t.next):(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function Bt(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(oi<0&&(window.scrollX||window.scrollY)){n=d3.select(document.body).append(""svg"").style(""position"",""absolute"").style(""top"",0).style(""left"",0);var i=n[0][0].getScreenCTM();oi=!i.f&&!i.e,n.remove()}return oi?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function jt(){}function Ft(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function It(e){return e.rangeExtent?e.rangeExtent():Ft(e.range())}function qt(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;s<i&&(o=n,n=r,r=o,o=i,i=s,s=o);if(t=t(s-i))e[n]=t.floor(i),e[r]=t.ceil(s);return e}function Rt(){return Math}function Ut(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Kt:Jt,a=r?V:X;return o=i(e,t,a,n),u=i(t,e,a,d3.interpolate),s}function s(e){return o(e)}var o,u;return s.invert=function(e){return u(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(d3.interpolateRound)},s.clamp=function(e){return arguments.length?(r=e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return Vt(e,t)},s.tickFormat=function(t){return $t(e,t)},s.nice=function(){return qt(e,Wt),i()},s.copy=function(){return Ut(e,t,n,r)},i()}function zt(e,t){return d3.rebind(e,t,""range"",""rangeRound"",""interpolate"",""clamp"")}function Wt(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Xt(e,t){var n=Ft(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Vt(e,t){return d3.range.apply(d3,Xt(e,t))}function $t(e,t){return d3.format("",.""+Math.max(0,-Math.floor(Math.log(Xt(e,t)[2])/Math.LN10+.01))+""f"")}function Jt(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Kt(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++o<=u)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function Qt(e,t){function n(n){return e(t(n))}var r=t.pow;return n.invert=function(t){return r(e.invert(t))},n.domain=function(i){return arguments.length?(t=i[0]<0?Yt:Gt,r=t.pow,e.domain(i.map(t)),n):e.domain().map(r)},n.nice=function(){return e.domain(qt(e.domain(),Rt)),n},n.ticks=function(){var n=Ft(e.domain()),i=[];if(n.every(isFinite)){var s=Math.floor(n[0]),o=Math.ceil(n[1]),u=r(n[0]),a=r(n[1]);if(t===Yt){i.push(r(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(r(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(r(s)*f);i.push(r(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},n.tickFormat=function(e,i){arguments.length<2&&(i=ui);if(!arguments.length)return i;var s=Math.max(.1,e/n.ticks().length),o=t===Yt?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil),u;return function(e){return e/r(o(t(e)+u))<=s?i(e):""""}},n.copy=function(){return Qt(e.copy(),t)},zt(n,e)}function Gt(e){return Math.log(e<0?0:e)/Math.LN10}function Yt(e){return-Math.log(e>0?0:-e)/Math.LN10}function Zt(e,t){function n(t){return e(r(t))}var r=en(t),i=en(1/t);return n.invert=function(t){return i(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t.map(r)),n):e.domain().map(i)},n.ticks=function(e){return Vt(n.domain(),e)},n.tickFormat=function(e){return $t(n.domain(),e)},n.nice=function(){return n.domain(qt(n.domain(),Wt))},n.exponent=function(e){if(!arguments.length)return t;var s=n.domain();return r=en(t=e),i=en(1/t),n.domain(s)},n.copy=function(){return Zt(e.copy(),t)},zt(n,e)}function en(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tn(e,t){function n(t){return o[((i.get(t)||i.set(t,e.push(t)))-1)%o.length]}function r(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var i,o,u;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new s;var o=-1,u=r.length,a;while(++o<u)i.has(a=r[o])||i.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,u=0,t={t:""range"",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var a=i[0],f=i[1],l=(f-a)/(Math.max(1,e.length-1)+s);return o=r(e.length<2?(a+f)/2:a+l*s/2,l),u=0,t={t:""rangePoints"",a:arguments},n},n.rangeBands=function(i,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=(c-l)/(e.length-s+2*a);return o=r(l+h*a,h),f&&o.reverse(),u=h*(1-s),t={t:""rangeBands"",a:arguments},n},n.rangeRoundBands=function(i,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=Math.floor((c-l)/(e.length-s+2*a)),p=c-l-(e.length-s)*h;return o=r(l+Math.round(p/2),h),f&&o.reverse(),u=Math.round(h*(1-s)),t={t:""rangeRoundBands"",a:arguments},n},n.rangeBand=function(){return u},n.rangeExtent=function(){return Ft(t.a[0])},n.copy=function(){return tn(e,t)},n.domain(e)}function nn(e,t){function n(){var n=0,s=t.length;i=[];while(++n<s)i[n-1]=d3.quantile(e,n/s);return r}function r(e){return isNaN(e=+e)?NaN:t[d3.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.copy=function(){return nn(e,t)},n()}function rn(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),o=n.length-1,r}var s,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.copy=function(){return rn(e,t,n)},i()}function sn(e,t){function n(n){return t[d3.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return sn(e,t)},n}function on(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Vt(e,t)},t.tickFormat=function(t){return $t(e,t)},t.copy=function(){return on(e)},t}function un(e){var t=e.source,n=e.target,r=fn(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function an(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function fn(e,t){if(e===t)return e;var n=an(e),r=an(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function ln(e){e.fixed|=2}function cn(e){e.fixed&=1}function hn(e){e.fixed|=4,e.px=e.x,e.py=e.y}function pn(e){e.fixed&=3}function dn(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;dn(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function vn(){return 20}function mn(){return 1}function gn(e){return e.x}function yn(e){return e.y}function bn(e,t,n){e.y0=t,e.y=n}function wn(e){return d3.range(e.length)}function En(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Sn(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function xn(e){return e.reduce(Tn,0)}function Tn(e,t){return e+t[1]}function Nn(e,t){return Cn(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Cn(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function kn(e){return[d3.min(e),d3.max(e)]}function Ln(e,t){return d3.rebind(e,t,""sort"",""children"",""value""),e.nodes=e,e.links=_n,e}function An(e){return e.children}function On(e){return e.value}function Mn(e,t){return t.value-e.value}function _n(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Dn(e,t){return e.value-t.value}function Pn(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Hn(e,t){e._pack_next=t,t._pack_prev=e}function Bn(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function jn(e){function t(e){r=Math.min(e.x-e.r,r),i=Math.max(e.x+e.r,i),s=Math.min(e.y-e.r,s),o=Math.max(e.y+e.r,o)}if(!(n=e.children)||!(p=n.length))return;var n,r=Infinity,i=-Infinity,s=Infinity,o=-Infinity,u,a,f,l,c,h,p;n.forEach(Fn),u=n[0],u.x=-u.r,u.y=0,t(u);if(p>1){a=n[1],a.x=a.r,a.y=0,t(a);if(p>2){f=n[2],Rn(u,a,f),t(f),Pn(u,f),u._pack_prev=f,Pn(f,a),a=u._pack_next;for(l=3;l<p;l++){Rn(u,a,f=n[l]);var d=0,v=1,m=1;for(c=a._pack_next;c!==a;c=c._pack_next,v++)if(Bn(c,f)){d=1;break}if(d==1)for(h=u._pack_prev;h!==c._pack_prev;h=h._pack_prev,m++)if(Bn(h,f))break;d?(v<m||v==m&&a.r<u.r?Hn(u,a=c):Hn(u=h,a),l--):(Pn(u,f),a=f,t(f))}}}var g=(r+i)/2,y=(s+o)/2,b=0;for(l=0;l<p;l++)f=n[l],f.x-=g,f.y-=y,b=Math.max(b,f.r+Math.sqrt(f.x*f.x+f.y*f.y));e.r=b,n.forEach(In)}function Fn(e){e._pack_next=e._pack_prev=e}function In(e){delete e._pack_next,delete e._pack_prev}function qn(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)qn(i[s],t,n,r)}}function Rn(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function Un(e){return 1+d3.max(e,function(e){return e.y})}function zn(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Wn(e){var t=e.children;return t&&t.length?Wn(t[0]):e}function Xn(e){var t=e.children,n;return t&&(n=t.length)?Xn(t[n-1]):e}function Vn(e,t){return e.parent==t.parent?1:2}function $n(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Jn(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function Kn(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i)t(r=Kn(n[s],t),e)>0&&(e=r)}return e}function Qn(e,t){return e.x-t.x}function Gn(e,t){return t.x-e.x}function Yn(e,t){return e.depth-t.depth}function Zn(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a)s=i[u],n(s,o),o=s}t(e,r)}n(e,null)}function er(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i]._tree,s.prelim+=t,s.mod+=t,t+=s.shift+(n+=s.change)}function tr(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function nr(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function rr(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ir(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}var sr=""."",or="","",ur=[3,3];Date.now||(Date.now=function(){return+(new Date)});try{document.createElement(""div"").style.setProperty(""opacity"",0,"""")}catch(ar){var fr=CSSStyleDeclaration.prototype,lr=fr.setProperty;fr.setProperty=function(e,t,n){lr.call(this,e,t+"""",n)}}d3={version:""3.0.2""};var cr=Math.PI,hr=1e-6,pr=cr/180,dr=180/cr,vr=i;try{vr(document.documentElement.childNodes)[0].nodeType}catch(mr){vr=r}var gr=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.map=function(e){var t=new s;for(var n in e)t.set(n,e[n]);return t},n(s,{has:function(e){return yr+e in this},get:function(e){return this[yr+e]},set:function(e,t){return this[yr+e]=t},remove:function(e){return e=yr+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===br&&e.call(this,t.substring(1),this[t])}});var yr=""\0"",br=yr.charCodeAt(0);d3.functor=a,d3.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=f(e,t,t[i]);return e},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)l(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)l(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(l),e.length?d3.quantile(e.sort(d3.ascending),.5):undefined},d3.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},d3.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},d3.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(e,t){var n=arguments.length;n<2&&(t=1),n<1&&(e=0);var r=d3.random.normal();return function(){return Math.exp(e+t*r())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}},d3.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.shuffle=function(e){var t=e.length,n,r;while(t)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,c),n=new Array(t);++e<t;)for(var r=-1,i,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisector=function(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var wr=d3.bisector(function(e){return e});d3.bisectLeft=wr.left,d3.bisect=d3.bisectRight=wr.right,d3.nest=function(){function e(t,i){if(i>=r.length)return u?u.call(n,t):o?t.sort(o):t;var a=-1,f=t.length,l=r[i++],c,h,p=new s,d,v={};while(++a<f)(d=p.get(c=l(h=t[a])))?d.push(h):p.set(c,[h]);return p.forEach(function(t,n){v[t]=e(n,i)}),v}function t(e,n){if(n>=r.length)return e;var s=[],o=i[n++],u;for(u in e)s.push({key:u,values:t(e[u],n)});return o&&s.sort(function(e,t){return o(e.key,t.key)}),s}var n={},r=[],i=[],o,u;return n.map=function(t){return e(t,0)},n.entries=function(n){return t(e(n,0),0)},n.key=function(e){return r.push(e),n},n.sortKeys=function(e){return i[r.length-1]=e,n},n.sortValues=function(e){return o=e,n},n.rollup=function(e){return u=e,n},n},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error(""infinite range"");var r=[],i=p(Math.abs(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},d3.requote=function(e){return e.replace(Er,""\\$&"")};var Er=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,n){function r(){var e=f.status;!e&&f.responseText||e>=200&&e<300||e===304?s.load.call(i,a.call(i,f)):s.error.call(i,f)}var i={},s=d3.dispatch(""progress"",""load"",""error""),u={},a=o,f=new(window.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest);return""onload""in f?f.onload=f.onerror=r:f.onreadystatechange=function(){f.readyState>3&&r()},f.onprogress=function(e){var t=d3.event;d3.event=e;try{s.progress.call(i,f)}finally{d3.event=t}},i.header=function(e,t){return e=(e+"""").toLowerCase(),arguments.length<2?u[e]:(t==null?delete u[e]:u[e]=t+"""",i)},i.mimeType=function(e){return arguments.length?(t=e==null?null:e+"""",i):t},i.response=function(e){return a=e,i},[""get"",""post""].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(vr(arguments)))}}),i.send=function(n,r,s){arguments.length===2&&typeof r==""function""&&(s=r,r=null),f.open(n,e,!0),t!=null&&!(""accept""in u)&&(u.accept=t+"",*/*"");if(f.setRequestHeader)for(var o in u)f.setRequestHeader(o,u[o]);return t!=null&&f.overrideMimeType&&f.overrideMimeType(t),s!=null&&i.on(""error"",s).on(""load"",function(e){s(null,e)}),f.send(r==null?null:r),i},i.abort=function(){return f.abort(),i},d3.rebind(i,s,""on""),arguments.length===2&&typeof t==""function""&&(n=t,t=null),n==null?i:i.get(d(n))},d3.text=function(){return d3.xhr.apply(d3,arguments).response(v)},d3.json=function(e,t){return d3.xhr(e,""application/json"",t).response(m)},d3.html=function(e,t){return d3.xhr(e,""text/html"",t).response(g)},d3.xml=function(){return d3.xhr.apply(d3,arguments).response(y)};var Sr={svg:""http://www.w3.org/2000/svg"",xhtml:""http://www.w3.org/1999/xhtml"",xlink:""http://www.w3.org/1999/xlink"",xml:""http://www.w3.org/XML/1998/namespace"",xmlns:""http://www.w3.org/2000/xmlns/""};d3.ns={prefix:Sr,qualify:function(e){var t=e.indexOf("":""),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),Sr.hasOwnProperty(n)?{space:Sr[n],local:e}:e}},d3.dispatch=function(){var e=new b,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=w(e);return e},b.prototype.on=function(e,t){var n=e.indexOf("".""),r="""";return n>0&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},d3.format=function(e){var t=xr.exec(e),n=t[1]||"" "",r=t[2]||"">"",i=t[3]||"""",s=t[4]||"""",o=t[5],u=+t[6],a=t[7],f=t[8],l=t[9],c=1,h="""",p=!1;f&&(f=+f.substring(1));if(o||n===""0""&&r===""="")o=n=""0"",r=""="",a&&(u-=Math.floor((u-1)/4));switch(l){case""n"":a=!0,l=""g"";break;case""%"":c=100,h=""%"",l=""f"";break;case""p"":c=100,h=""%"",l=""r"";break;case""b"":case""o"":case""x"":case""X"":s&&(s=""0""+l.toLowerCase());case""c"":case""d"":p=!0,f=0;break;case""s"":c=-1,l=""r""}s===""#""&&(s=""""),l==""r""&&!f&&(l=""g""),l=Tr.get(l)||S;var d=o&&a;return function(e){if(p&&e%1)return"""";var t=e<0||e===0&&1/e<0?(e=-e,""-""):i;if(c<0){var v=d3.formatPrefix(e,f);e=v.scale(e),h=v.symbol}else e*=c;e=l(e,f),!o&&a&&(e=Nr(e));var m=s.length+e.length+(d?0:t.length),g=m<u?(new Array(m=u-m+1)).join(n):"""";return d&&(e=Nr(g+e)),sr&&e.replace(""."",sr),t+=s,(r===""<""?t+e+g:r==="">""?g+t+e:r===""^""?g.substring(0,m>>=1)+t+e+g.substring(m):t+(d?e:g+e))+h}};var xr=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Tr=d3.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=E(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),Nr=o;if(ur){var Cr=ur.length;Nr=function(e){var t=e.lastIndexOf("".""),n=t>=0?"".""+e.substring(t+1):(t=e.length,""""),r=[],i=0,s=ur[0];while(t>0&&s>0)r.push(e.substring(t-=s,t+s)),s=ur[i=(i+1)%Cr];return r.reverse().join(or||"""")+n}}var kr=[""y"",""z"",""a"",""f"",""p"",""n"",""Î¼"",""m"","""",""k"",""M"",""G"",""T"",""P"",""E"",""Z"",""Y""].map(x);d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,E(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))),kr[8+n/3]};var Lr=function(){return o},Ar=d3.map({linear:Lr,poly:O,quad:function(){return k},cubic:function(){return L},sin:function(){return M},exp:function(){return _},circle:function(){return D},elastic:P,back:H,bounce:function(){return B}}),Or=d3.map({""in"":o,out:N,""in-out"":C,""out-in"":function(e){return C(N(e))}});d3.ease=function(e){var t=e.indexOf(""-""),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):""in"";return n=Ar.get(n)||Lr,r=Or.get(r)||o,T(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,""g"");return(d3.transform=function(e){t.setAttribute(""transform"",e);var n=t.transform.baseVal.consolidate();return new q(n?n.matrix:Mr)})(e)},q.prototype.toString=function(){return""translate(""+this.translate+"")rotate(""+this.rotate+"")skewX(""+this.skew+"")scale(""+this.scale+"")""};var Mr={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(e,t){var n=d3.interpolators.length,r;while(--n>=0&&!(r=d3.interpolators[n](e,t)));return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;_r.lastIndex=0;for(r=0;n=_r.exec(t);++r)n.index&&u.push(t.substring(s,o=n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=_r.lastIndex;s<t.length&&u.push(t.substring(s));for(r=0,f=a.length;(n=_r.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i)if(u[l.i+1]==null){u[l.i-1]+=l.x,u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}else if(u[l.i+1]==null)u[l.i]=l.x;else{u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x))}while(r<f)l=a.pop(),u[l.i+1]==null?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return u.length===1?u[0]==null?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("""")}},d3.interpolateTransform=function(e,t){var n=[],r=[],i,s=d3.transform(e),o=d3.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(n.push(""translate("",null,"","",null,"")""),r.push({i:1,x:d3.interpolateNumber(u[0],a[0])},{i:3,x:d3.interpolateNumber(u[1],a[1])})):a[0]||a[1]?n.push(""translate(""+a+"")""):n.push(""""),f!=l?(f-l>180?l+=360:l-f>180&&(f+=360),r.push({i:n.push(n.pop()+""rotate("",null,"")"")-2,x:d3.interpolateNumber(f,l)})):l&&n.push(n.pop()+""rotate(""+l+"")""),c!=h?r.push({i:n.push(n.pop()+""skewX("",null,"")"")-2,x:d3.interpolateNumber(c,h)}):h&&n.push(n.pop()+""skewX(""+h+"")""),p[0]!=d[0]||p[1]!=d[1]?(i=n.push(n.pop()+""scale("",null,"","",null,"")""),r.push({i:i-4,x:d3.interpolateNumber(p[0],d[0])},{i:i-2,x:d3.interpolateNumber(p[1],d[1])})):(d[0]!=1||d[1]!=1)&&n.push(n.pop()+""scale(""+d+"")""),i=r.length,function(e){var t=-1,s;while(++t<i)n[(s=r[t]).i]=s.x(e);return n.join("""")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return""#""+Q(Math.round(n+s*e))+Q(Math.round(r+o*e))+Q(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3 .hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return s>180?s-=360:s<-180&&(s+=360),function(e){return it(n+s*e,r+o*e,i+u*e)+""""}},d3.interpolateLab=function(e,t){e=d3.lab(e),t=d3.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return lt(n+s*e,r+o*e,i+u*e)+""""}},d3.interpolateHcl=function(e,t){e=d3.hcl(e),t=d3.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return s>180?s-=360:s<-180&&(s+=360),function(e){return ut(n+s*e,r+o*e,i+u*e)+""""}},d3.interpolateArray=function(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=W(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var _r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return(typeof e==""string""||typeof t==""string"")&&d3.interpolateString(e+"""",t+"""")},function(e,t){return(typeof t==""string""?Pr.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof $)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],$.prototype.toString=function(){return this.rgb()+""""},d3.rgb=function(e,t,n){return arguments.length===1?e instanceof K?J(e.r,e.g,e.b):G(""""+e,J,it):J(~~e,~~t,~~n)};var Dr=K.prototype=new $;Dr.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?J(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),J(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e))))},Dr.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),J(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},Dr.hsl=function(){return Y(this.r,this.g,this.b)},Dr.toString=function(){return""#""+Q(this.r)+Q(this.g)+Q(this.b)};var Pr=d3.map({aliceblue:""#f0f8ff"",antiquewhite:""#faebd7"",aqua:""#00ffff"",aquamarine:""#7fffd4"",azure:""#f0ffff"",beige:""#f5f5dc"",bisque:""#ffe4c4"",black:""#000000"",blanchedalmond:""#ffebcd"",blue:""#0000ff"",blueviolet:""#8a2be2"",brown:""#a52a2a"",burlywood:""#deb887"",cadetblue:""#5f9ea0"",chartreuse:""#7fff00"",chocolate:""#d2691e"",coral:""#ff7f50"",cornflowerblue:""#6495ed"",cornsilk:""#fff8dc"",crimson:""#dc143c"",cyan:""#00ffff"",darkblue:""#00008b"",darkcyan:""#008b8b"",darkgoldenrod:""#b8860b"",darkgray:""#a9a9a9"",darkgreen:""#006400"",darkgrey:""#a9a9a9"",darkkhaki:""#bdb76b"",darkmagenta:""#8b008b"",darkolivegreen:""#556b2f"",darkorange:""#ff8c00"",darkorchid:""#9932cc"",darkred:""#8b0000"",darksalmon:""#e9967a"",darkseagreen:""#8fbc8f"",darkslateblue:""#483d8b"",darkslategray:""#2f4f4f"",darkslategrey:""#2f4f4f"",darkturquoise:""#00ced1"",darkviolet:""#9400d3"",deeppink:""#ff1493"",deepskyblue:""#00bfff"",dimgray:""#696969"",dimgrey:""#696969"",dodgerblue:""#1e90ff"",firebrick:""#b22222"",floralwhite:""#fffaf0"",forestgreen:""#228b22"",fuchsia:""#ff00ff"",gainsboro:""#dcdcdc"",ghostwhite:""#f8f8ff"",gold:""#ffd700"",goldenrod:""#daa520"",gray:""#808080"",green:""#008000"",greenyellow:""#adff2f"",grey:""#808080"",honeydew:""#f0fff0"",hotpink:""#ff69b4"",indianred:""#cd5c5c"",indigo:""#4b0082"",ivory:""#fffff0"",khaki:""#f0e68c"",lavender:""#e6e6fa"",lavenderblush:""#fff0f5"",lawngreen:""#7cfc00"",lemonchiffon:""#fffacd"",lightblue:""#add8e6"",lightcoral:""#f08080"",lightcyan:""#e0ffff"",lightgoldenrodyellow:""#fafad2"",lightgray:""#d3d3d3"",lightgreen:""#90ee90"",lightgrey:""#d3d3d3"",lightpink:""#ffb6c1"",lightsalmon:""#ffa07a"",lightseagreen:""#20b2aa"",lightskyblue:""#87cefa"",lightslategray:""#778899"",lightslategrey:""#778899"",lightsteelblue:""#b0c4de"",lightyellow:""#ffffe0"",lime:""#00ff00"",limegreen:""#32cd32"",linen:""#faf0e6"",magenta:""#ff00ff"",maroon:""#800000"",mediumaquamarine:""#66cdaa"",mediumblue:""#0000cd"",mediumorchid:""#ba55d3"",mediumpurple:""#9370db"",mediumseagreen:""#3cb371"",mediumslateblue:""#7b68ee"",mediumspringgreen:""#00fa9a"",mediumturquoise:""#48d1cc"",mediumvioletred:""#c71585"",midnightblue:""#191970"",mintcream:""#f5fffa"",mistyrose:""#ffe4e1"",moccasin:""#ffe4b5"",navajowhite:""#ffdead"",navy:""#000080"",oldlace:""#fdf5e6"",olive:""#808000"",olivedrab:""#6b8e23"",orange:""#ffa500"",orangered:""#ff4500"",orchid:""#da70d6"",palegoldenrod:""#eee8aa"",palegreen:""#98fb98"",paleturquoise:""#afeeee"",palevioletred:""#db7093"",papayawhip:""#ffefd5"",peachpuff:""#ffdab9"",peru:""#cd853f"",pink:""#ffc0cb"",plum:""#dda0dd"",powderblue:""#b0e0e6"",purple:""#800080"",red:""#ff0000"",rosybrown:""#bc8f8f"",royalblue:""#4169e1"",saddlebrown:""#8b4513"",salmon:""#fa8072"",sandybrown:""#f4a460"",seagreen:""#2e8b57"",seashell:""#fff5ee"",sienna:""#a0522d"",silver:""#c0c0c0"",skyblue:""#87ceeb"",slateblue:""#6a5acd"",slategray:""#708090"",slategrey:""#708090"",snow:""#fffafa"",springgreen:""#00ff7f"",steelblue:""#4682b4"",tan:""#d2b48c"",teal:""#008080"",thistle:""#d8bfd8"",tomato:""#ff6347"",turquoise:""#40e0d0"",violet:""#ee82ee"",wheat:""#f5deb3"",white:""#ffffff"",whitesmoke:""#f5f5f5"",yellow:""#ffff00"",yellowgreen:""#9acd32""});Pr.forEach(function(e,t){Pr.set(e,G(t,J,it))}),d3.hsl=function(e,t,n){return arguments.length===1?e instanceof rt?nt(e.h,e.s,e.l):G(""""+e,Y,nt):nt(+e,+t,+n)};var Hr=rt.prototype=new $;Hr.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),nt(this.h,this.s,this.l/e)},Hr.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),nt(this.h,this.s,e*this.l)},Hr.rgb=function(){return it(this.h,this.s,this.l)},d3.hcl=function(e,t,n){return arguments.length===1?e instanceof ot?st(e.h,e.c,e.l):e instanceof ft?ct(e.l,e.a,e.b):ct((e=Z((e=d3.rgb(e)).r,e.g,e.b)).l,e.a,e.b):st(+e,+t,+n)};var Br=ot.prototype=new $;Br.brighter=function(e){return st(this.h,this.c,Math.min(100,this.l+jr*(arguments.length?e:1)))},Br.darker=function(e){return st(this.h,this.c,Math.max(0,this.l-jr*(arguments.length?e:1)))},Br.rgb=function(){return ut(this.h,this.c,this.l).rgb()},d3.lab=function(e,t,n){return arguments.length===1?e instanceof ft?at(e.l,e.a,e.b):e instanceof ot?ut(e.l,e.c,e.h):Z((e=d3.rgb(e)).r,e.g,e.b):at(+e,+t,+n)};var jr=18,Fr=.95047,Ir=1,qr=1.08883,Rr=ft.prototype=new $;Rr.brighter=function(e){return at(Math.min(100,this.l+jr*(arguments.length?e:1)),this.a,this.b)},Rr.darker=function(e){return at(Math.max(0,this.l-jr*(arguments.length?e:1)),this.a,this.b)},Rr.rgb=function(){return lt(this.l,this.a,this.b)};var Ur=function(e,t){return t.querySelector(e)},zr=function(e,t){return t.querySelectorAll(e)},Wr=document.documentElement,Xr=Wr.matchesSelector||Wr.webkitMatchesSelector||Wr.mozMatchesSelector||Wr.msMatchesSelector||Wr.oMatchesSelector,Vr=function(e,t){return Xr.call(e,t)};typeof Sizzle==""function""&&(Ur=function(e,t){return Sizzle(e,t)[0]||null},zr=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Vr=Sizzle.matchesSelector);var $r=[];d3.selection=function(){return Jr},d3.selection.prototype=$r,$r.select=function(e){var t=[],n,r,i,s;typeof e!=""function""&&(e=mt(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&""__data__""in s&&(r.__data__=s.__data__)):n.push(null)}return vt(t)},$r.selectAll=function(e){var t=[],n,r;typeof e!=""function""&&(e=gt(e));for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)if(r=o[u])t.push(n=vr(e.call(r,r.__data__,u))),n.parentNode=r;return vt(t)},$r.attr=function(e,t){if(arguments.length<2){if(typeof e==""string""){var n=this.node();return e=d3.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(yt(t,e[t]));return this}return this.each(yt(e,t))},$r.classed=function(e,t){if(arguments.length<2){if(typeof e==""string""){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return!1}else{t=n.className,t.baseVal!=null&&(t=t.baseVal);while(++i<r)if(!bt(e[i]).test(t))return!1}return!0}for(t in e)this.each(wt(t,e[t]));return this}return this.each(wt(e,t))},$r.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=""string""){r<2&&(t="""");for(n in e)this.each(St(n,e[n],t));return this}if(r<2)return getComputedStyle(this.node(),null).getPropertyValue(e);n=""""}return this.each(St(e,t,n))},$r.property=function(e,t){if(arguments.length<2){if(typeof e==""string"")return this.node()[e];for(t in e)this.each(xt(t,e[t]));return this}return this.each(xt(e,t))},$r.text=function(e){return arguments.length?this.each(typeof e==""function""?function(){var t=e.apply(this,arguments);this.textContent=t==null?"""":t}:e==null?function(){this.textContent=""""}:function(){this.textContent=e}):this.node().textContent},$r.html=function(e){return arguments.length?this.each(typeof e==""function""?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"""":t}:e==null?function(){this.innerHTML=""""}:function(){this.innerHTML=e}):this.node().innerHTML},$r.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?n:t)},$r.insert=function(e,t){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),Ur(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),Ur(t,this))}return e=d3.ns.qualify(e),this.select(e.local?r:n)},$r.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},$r.data=function(e,t){function n(e,n){var r,i=e.length,o=n.length,u=Math.min(i,o),c=Math.max(i,o),h=[],p=[],d=[],v,m;if(t){var g=new s,y=[],b,w=n.length;for(r=-1;++r<i;)b=t.call(v=e[r],v.__data__,r),g.has(b)?d[w++]=v:g.set(b,v),y.push(b);for(r=-1;++r<o;)b=t.call(n,m=n[r],r),g.has(b)?(h[r]=v=g.get(b),v.__data__=m,p[r]=d[r]=null):(p[r]=Tt(m),h[r]=d[r]=null),g.remove(b);for(r=-1;++r<i;)g.has(y[r])&&(d[r]=e[r])}else{for(r=-1;++r<u;)v=e[r],m=n[r],v?(v.__data__=m,h[r]=v,p[r]=d[r]=null):(p[r]=Tt(m),h[r]=d[r]=null);for(;r<o;++r)p[r]=Tt(n[r]),h[r]=d[r]=null;for(;r<c;++r)d[r]=e[r],p[r]=h[r]=null}p.update=h,p.parentNode=h.parentNode=d.parentNode=e.parentNode,a.push(p),f.push(h),l.push(d)}var r=-1,i=this.length,o,u;if(!arguments.length){e=new Array(i=(o=this[0]).length);while(++r<i)if(u=o[r])e[r]=u.__data__;return e}var a=At([]),f=vt([]),l=vt([]);if(typeof e==""function"")while(++r<i)n(o=this[r],e.call(o,o.parentNode.__data__,r));else while(++r<i)n(o=this[r],e);return f.enter=function(){return a},f.exit=function(){return l},f},$r.datum=function(e){return arguments.length?this.property(""__data__"",e):this.property(""__data__"")},$r.filter=function(e){var t=[],n,r,i;typeof e!=""function""&&(e=Nt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return vt(t)},$r.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},$r.sort=function(e){e=Ct.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},$r.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=""string""){r<2&&(t=!1);for(n in e)this.each(kt(n,e[n],t));return this}if(r<2)return(r=this.node()[""__on""+e])&&r._;n=!1}return this.each(kt(e,t,n))},$r.each=function(e){return Lt(this,function(t,n,r){e.call(t,t.__data__,n,r)})},$r.call=function(e){var t=vr(arguments);return e.apply(t[0]=this,t),this},$r.empty=function(){return!this.node()},$r.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}return null},$r.transition=function(){var e=Yr||++Gr,t=[],n,r,i=Object.create(Zr);i.time=Date.now();for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(r=u[a])&&Mt(r,a,e,i),n.push(r)}return Ot(t,e)};var Jr=vt([[document]]);Jr[0].parentNode=Wr,d3.select=function(e){return typeof e==""string""?Jr.select(e):vt([[e]])},d3.selectAll=function(e){return typeof e==""string""?Jr.selectAll(e):vt([vr(e)])};var Kr=[];d3.selection.enter=At,d3.selection.enter.prototype=Kr,Kr.append=$r.append,Kr.insert=$r.insert,Kr.empty=$r.empty,Kr.node=$r.node,Kr.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return vt(t)};var Qr=[],Gr=0,Yr,Zr={ease:A,delay:0,duration:250};Qr.call=$r.call,Qr.empty=$r.empty,Qr.node=$r.node,d3.transition=function(e){return arguments.length?Yr?e.transition():e:Jr.transition()},d3.transition.prototype=Qr,Qr.select=function(e){var t=this.id,n=[],r,i,s;typeof e!=""function""&&(e=mt(e));for(var o=-1,u=this.length;++o<u;){n.push(r=[]);for(var a=this[o],f=-1,l=a.length;++f<l;)(s=a[f])&&(i=e.call(s,s.__data__,f))?(""__data__""in s&&(i.__data__=s.__data__),Mt(i,f,t,s.__transition__[t]),r.push(i)):r.push(null)}return Ot(n,t)},Qr.selectAll=function(e){var t=this.id,n=[],r,i,s,o,u;typeof e!=""function""&&(e=gt(e));for(var a=-1,f=this.length;++a<f;)for(var l=this[a],c=-1,h=l.length;++c<h;)if(s=l[c]){u=s.__transition__[t],i=e.call(s,s.__data__,c),n.push(r=[]);for(var p=-1,d=i.length;++p<d;)Mt(o=i[p],p,t,u),r.push(o)}return Ot(n,t)},Qr.filter=function(e){var t=[],n,r,i;typeof e!=""function""&&(e=Nt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return Ot(t,this.id,this.time).ease(this.ease())},Qr.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var i=W(e),s=d3.ns.qualify(e);return Dt(this,""attr.""+e,t,function(e){function t(){var t=this.getAttribute(s),n;return t!==e&&(n=i(t,e),function(e){this.setAttribute(s,n(e))})}function o(){var t=this.getAttributeNS(s.space,s.local),n;return t!==e&&(n=i(t,e),function(e){this.setAttributeNS(s.space,s.local,n(e))})}return e==null?s.local?r:n:(e+="""",s.local?o:t)})},Qr.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=d3.ns.qualify(e);return this.tween(""attr.""+e,i.local?r:n)},Qr.style=function(e,t,n){function r(){this.style.removeProperty(e)}var i=arguments.length;if(i<3){if(typeof e!=""string""){i<2&&(t="""");for(n in e)this.style(n,e[n],t);return this}n=""""}var s=W(e);return Dt(this,""style.""+e,t,function(t){function i(){var r=getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=s(r,t),function(t){this.style.setProperty(e,i(t),n)})}return t==null?r:(t+="""",i)})},Qr.styleTween=function(e,t,n){return arguments.length<3&&(n=""""),this.tween(""style.""+e,function(r,i){var s=t.call(this,r,i,getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}})},Qr.text=function(e){return Dt(this,""text"",e,_t)},Qr.remove=function(){return this.each(""end.transition"",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Qr.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:(typeof e!=""function""&&(e=d3.ease.apply(d3,arguments)),Lt(this,function(n){n.__transition__[t].ease=e}))},Qr.delay=function(e){var t=this.id;return Lt(this,typeof e==""function""?function(n,r,i){n.__transition__[t].delay=e.call(n,n.__data__,r,i)|0}:(e|=0,function(n){n.__transition__[t].delay=e}))},Qr.duration=function(e){var t=this.id;return Lt(this,typeof e==""function""?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i)|0)}:(e=Math.max(1,e|0),function(n){n.__transition__[t].duration=e}))},Qr.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Zr,i=Yr;Yr=n,Lt(this,function(t,r,i){Zr=t.__transition__[n],e.call(t,t.__data__,r,i)}),Zr=r,Yr=i}else Lt(this,function(r){r.__transition__[n].event.on(e,t)});return this},Qr.transition=function(){var e=this.id,t=++Gr,n=[],r,i,s,o;for(var u=0,a=this.length;u<a;u++){n.push(r=[]);for(var i=this[u],f=0,l=i.length;f<l;f++){if(s=i[f])o=Object.create(s.__transition__[e]),o.delay+=o.duration,Mt(s,f,t,o);r.push(s)}}return Ot(n,t)},Qr.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):Lt(this,t==null?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})};var ei=0,ti={},ni=null,ri,ii;d3.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var r=ti[e.id];r&&r.callback===e?(r.then=n,r.delay=t):ti[e.id=++ei]=ni={callback:e,then:n,delay:t,next:ni},ri||(ii=clearTimeout(ii),ri=1,si(Pt))},d3.timer.flush=function(){var e,t=Date.now(),n=ni;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Ht()};var si=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.mouse=function(e){return Bt(e,F())};var oi=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=F().touches),t?vr(t).map(function(t){var n=Bt(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return Ut([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Qt(d3.scale.linear(),Gt)};var ui=d3.format("".0e"");Gt.pow=function(e){return Math.pow(10,e)},Yt.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return Zt(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return tn([],{t:""range"",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(ai)},d3.scale.category20=function(){return d3.scale.ordinal().range(fi)},d3.scale.category20b=function(){return d3.scale.ordinal().range(li)},d3.scale.category20c=function(){return d3.scale.ordinal().range(ci)};var ai=[""#1f77b4"",""#ff7f0e"",""#2ca02c"",""#d62728"",""#9467bd"",""#8c564b"",""#e377c2"",""#7f7f7f"",""#bcbd22"",""#17becf""],fi=[""#1f77b4"",""#aec7e8"",""#ff7f0e"",""#ffbb78"",""#2ca02c"",""#98df8a"",""#d62728"",""#ff9896"",""#9467bd"",""#c5b0d5"",""#8c564b"",""#c49c94"",""#e377c2"",""#f7b6d2"",""#7f7f7f"",""#c7c7c7"",""#bcbd22"",""#dbdb8d"",""#17becf"",""#9edae5""],li=[""#393b79"",""#5254a3"",""#6b6ecf"",""#9c9ede"",""#637939"",""#8ca252"",""#b5cf6b"",""#cedb9c"",""#8c6d31"",""#bd9e39"",""#e7ba52"",""#e7cb94"",""#843c39"",""#ad494a"",""#d6616b"",""#e7969c"",""#7b4173"",""#a55194"",""#ce6dbd"",""#de9ed6""],ci=[""#3182bd"",""#6baed6"",""#9ecae1"",""#c6dbef"",""#e6550d"",""#fd8d3c"",""#fdae6b"",""#fdd0a2"",""#31a354"",""#74c476"",""#a1d99b"",""#c7e9c0"",""#756bb1"",""#9e9ac8"",""#bcbddc"",""#dadaeb"",""#636363"",""#969696"",""#bdbdbd"",""#d9d9d9""];d3.scale.quantile=function(){return nn([],[])},d3.scale.quantize=function(){return rn(0,1,[0,1])},d3.scale.threshold=function(){return sn([.5],[0,1])},d3.scale.identity=function(){return on([0,1])},d3.layout={},d3.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(un(e[n]));return t}},d3.layout.chord=function(){function e(){var e={},n=[],c=d3.range(o),h=[],p,d,v,m,g;r=[],i=[],p=0,m=-1;while(++m<o){d=0,g=-1;while(++g<o)d+=s[m][g];n.push(d),h.push(d3.range(o)),p+=d}a&&c.sort(function(e,t){return a(n[e],n[t])}),f&&h.forEach(function(e,t){e.sort(function(e,n){return f(s[t][e],s[t][n])})}),p=(2*cr-u*o)/p,d=0,m=-1;while(++m<o){v=d,g=-1;while(++g<o){var y=c[m],b=h[y][g],w=s[y][b],E=d,S=d+=w*p;e[y+""-""+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}i[y]={index:y,startAngle:v,endAngle:d,value:(d-v)/p},d+=u}m=-1;while(++m<o){g=m-1;while(++g<o){var x=e[m+""-""+g],T=e[g+""-""+m];(x.value||T.value)&&r.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}}l&&t()}function t(){r.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n={},r,i,s,o,u=0,a,f,l;return n.matrix=function(e){return arguments.length?(o=(s=e)&&s.length,r=i=null,n):s},n.padding=function(e){return arguments.length?(u=e,r=i=null,n):u},n.sortGroups=function(e){return arguments.length?(a=e,r=i=null,n):a},n.sortSubgroups=function(e){return arguments.length?(f=e,r=null,n):f},n.sortChords=function(e){return arguments.length?(l=e,r&&t(),n):l},n.chords=function(){return r||e(),r},n.groups=function(){return i||e(),i},n},d3.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=1/Math.sqrt(s*s+o*o);if((i-n)*u<d){var a=t.charge*u*u;return e.px-=s*a,e.py-=o*a,!0}if(t.point&&isFinite(u)){var a=t.pointCharge*u*u;e.px-=s*a,e.py-=o*a}}return!t.charge}}function t(e){e.px=d3.event.x,e.py=d3.event.y,n.resume()}var n={},r=d3.dispatch(""start"",""tick"",""end""),i=[1,1],s,u,f=.9,l=vn,c=mn,h=-30,p=.1,d=.8,v=[],m=[],g,y,b;return n.tick=function(){if((u*=.99)<.005)return r.end({type:""end"",alpha:u=0}),!0;var t=v.length,n=m.length,s,o,a,l,c,d,w,E,S;for(o=0;o<n;++o){a=m[o],l=a.source,c=a.target,E=c.x-l.x,S=c.y-l.y;if(d=E*E+S*S)d=u*y[o]*((d=Math.sqrt(d))-g[o])/d,E*=d,S*=d,c.x-=E*(w=l.weight/(c.weight+l.weight)),c.y-=S*w,l.x+=E*(w=1-w),l.y+=S*w}if(w=u*p){E=i[0]/2,S=i[1]/2,o=-1;if(w)while(++o<t)a=v[o],a.x+=(E-a.x)*w,a.y+=(S-a.y)*w}if(h){dn(s=d3.geom.quadtree(v),u,b),o=-1;while(++o<t)(a=v[o]).fixed||s.visit(e(a))}o=-1;while(++o<t)a=v[o],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*f,a.y-=(a.py-(a.py=a.y))*f);r.tick({type:""tick"",alpha:u})},n.nodes=function(e){return arguments.length?(v=e,n):v},n.links=function(e){return arguments.length?(m=e,n):m},n.size=function(e){return arguments.length?(i=e,n):i},n.linkDistance=function(e){return arguments.length?(l=a(e),n):l},n.distance=n.linkDistance,n.linkStrength=function(e){return arguments.length?(c=a(e),n):c},n.friction=function(e){return arguments.length?(f=e,n):f},n.charge=function(e){return arguments.length?(h=typeof e==""function""?e:+e,n):h},n.gravity=function(e){return arguments.length?(p=e,n):p},n.theta=function(e){return arguments.length?(d=e,n):d},n.alpha=function(e){return arguments.length?(u?e>0?u=e:u=0:e>0&&(r.start({type:""start"",alpha:u=e}),d3.timer(n.tick)),n):u},n.start=function(){function e(e,n){var i=t(r),s=-1,o=i.length,u;while(++s<o)if(!isNaN(u=i[s][e]))return u;return Math.random()*n}function t(){if(!p){p=[];for(s=0;s<o;++s)p[s]=[];for(s=0;s<u;++s){var e=m[s];p[e.source.index].push(e.target),p[e.target.index].push(e.source)}}return p[r]}var r,s,o=v.length,u=m.length,a=i[0],f=i[1],p,d;for(r=0;r<o;++r)(d=v[r]).index=r,d.weight=0;g=[],y=[];for(r=0;r<u;++r)d=m[r],typeof d.source==""number""&&(d.source=v[d.source]),typeof d.target==""number""&&(d.target=v[d.target]),g[r]=l.call(this,d,r),y[r]=c.call(this,d,r),++d.source.weight,++d.target.weight;for(r=0;r<o;++r)d=v[r],isNaN(d.x)&&(d.x=e(""x"",a)),isNaN(d.y)&&(d.y=e(""y"",f)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);b=[];if(typeof h==""function"")for(r=0;r<o;++r)b[r]=+h.call(this,v[r],r);else for(r=0;r<o;++r)b[r]=h;return n.resume()},n.resume=function(){return n.alpha(.1)},n.stop=function(){return n.alpha(0)},n.drag=function(){s||(s=d3.behavior.drag().origin(o).on(""dragstart"",ln).on(""drag"",t).on(""dragend"",cn)),this.on(""mouseover.force"",hn).on(""mouseout.force"",pn).call(s)},d3.rebind(n,r,""on"")},d3.layout.partition=function(){function e(t,n,r,i){var s=t.children;t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;r=t.value?r/t.value:0;while(++o<u)e(a=s[o],n,f=a.value*r,i),n+=f}}function t(e){var n=e.children,r=0;if(n&&(s=n.length)){var i=-1,s;while(++i<s)r=Math.max(r,t(n[i]))}return 1+r}function n(n,s){var o=r.call(this,n,s);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=d3.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Ln(n,r)},d3.layout.pie=function(){function e(s){var o=s.map(function(n,r){return+t.call(e,n,r)}),u=+(typeof r==""function""?r.apply(this,arguments):r),a=((typeof i==""function""?i.apply(this,arguments):i)-r)/d3.sum(o),f=d3.range(s.length);n!=null&&f.sort(n===hi?function(e,t){return o[t]-o[e]}:function(e,t){return n(s[e],s[t])});var l=[];return f.forEach(function(e){var t;l[e]={data:s[e],value:t=o[e],startAngle:u,endAngle:u+=t*a}}),l}var t=Number,n=hi,r=0,i=2*cr;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var hi={};d3.layout.stack=function(){function e(o,a){var f=o.map(function(n,r){return t.call(e,n,r)}),l=f.map(function(t){return t.map(function(t,n){return[s.call(e,t,n),u.call(e,t,n)]})}),c=n.call(e,l,a);f=d3.permute(f,c),l=d3.permute(l,c);var h=r.call(e,l,a),p=f.length,d=f[0].length,v,m,g;for(m=0;m<d;++m){i.call(e,f[0][m],g=h[m],l[0][m][1]);for(v=1;v<p;++v)i.call(e,f[v][m],g+=l[v-1][m][1],l[v][m][1])}return o}var t=o,n=wn,r=En,i=bn,s=gn,u=yn;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n=typeof t==""function""?t:pi.get(t)||wn,e):n},e.offset=function(t){return arguments.length?(r=typeof t==""function""?t:di.get(t)||En,e):r},e.x=function(t){return arguments.length?(s=t,e):s},e.y=function(t){return arguments.length?(u=t,e):u},e.out=function(t){return arguments.length?(i=t,e):i},e};var pi=d3.map({""inside-out"":function(e){var t=e.length,n,r,i=e.map(Sn),s=e.map(xn),o=d3.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(n=0;n<t;++n)r=o[n],u<a?(u+=s[r],f.push(r)):(a+=s[r],l.push(r));return l.reverse().concat(f)},reverse:function(e){return d3.range(e.length).reverse()},""default"":wn}),di=d3.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o)f+=(e[o][s][1]-e[o][s-1][1])/l;a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0,c<h&&(h=c)}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:En});d3.layout.histogram=function(){function e(e,s){var o=[],u=e.map(n,this),a=r.call(this,u,s),f=i.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=t?1:1/c,d;while(++s<h)l=o[s]=[],l.dx=f[s+1]-(l.x=f[s]),l.y=0;if(h>0){s=-1;while(++s<c)d=u[s],d>=a[0]&&d<=a[1]&&(l=o[d3.bisect(f,d,1,h)-1],l.y+=p,l.push(e[s]))}return o}var t=!0,n=Number,r=kn,i=Nn;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=a(t),e):r},e.bins=function(t){return arguments.length?(i=typeof t==""number""?function(e){return Cn(e,t)}:a(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},d3.layout.hierarchy=function(){function e(t,o,u){var a=i.call(n,t,o);t.depth=o,u.push(t);if(a&&(l=a.length)){var f=-1,l,c=t.children=[],h=0,p=o+1,d;while(++f<l)d=e(a[f],p,u),d.parent=t,c.push(d),h+=d.value;r&&c.sort(r),s&&(t.value=h)}else s&&(t.value=+s.call(n,t,o)||0);return t}function t(e,r){var i=e.children,o=0;if(i&&(a=i.length)){var u=-1,a,f=r+1;while(++u<a)o+=t(i[u],f)}else s&&(o=+s.call(n,e,r)||0);return s&&(e.value=o),o}function n(t){var n=[];return e(t,0,n),n}var r=Mn,i=An,s=On;return n.sort=function(e){return arguments.length?(r=e,n):r},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(s=e,n):s},n.revalue=function(e){return t(e,0),e},n},d3.layout.pack=function(){function e(e,i){var s=t.call(this,e,i),o=s[0];o.x=0,o.y=0,Zn(o,function(e){e.r=Math.sqrt(e.value)}),Zn(o,jn);var u=r[0],a=r[1],f=Math.max(2*o.r/u,2*o.r/a);if(n>0){var l=n*f/2;Zn(o,function(e){e.r+=l}),Zn(o,jn),Zn(o,function(e){e.r-=l}),f=Math.max(2*o.r/u,2*o.r/a)}return qn(o,u/2,a/2,1/f),s}var t=d3.layout.hierarchy().sort(Dn),n=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.padding=function(t){return arguments.length?(n=+t,e):n},Ln(e,t)},d3.layout.cluster=function(){function e(e,i){var s=t.call(this,e,i),o=s[0],u,a=0;Zn(o,function(e){var t=e.children;t&&t.length?(e.x=zn(t),e.y=Un(t)):(e.x=u?a+=n(e,u):0,e.y=0,u=e)});var f=Wn(o),l=Xn(o),c=f.x-n(f,l)/2,h=l.x+n(l,f)/2;return Zn(o,function(e){e.x=(e.x-c)/(h-c)*r[0],e.y=(1-(o.y?e.y/o.y:1))*r[1]}),s}var t=d3.layout.hierarchy().sort(null).value(null),n=Vn,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},Ln(e,t)},d3.layout.tree=function(){function e(e,i){function s(e,t){var r=e.children,i=e._tree;if(r&&(o=r.length)){var o,a=r[0],f,l=a,c,h=-1;while(++h<o)c=r[h],s(c,f),l=u(c,f,l),f=c;er(e);var p=.5*(a._tree.prelim+c._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-p):i.prelim=p}else t&&(i.prelim=t._tree.prelim+n(e,t))}function o(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i)o(n[r],t)}}function u(e,t,r){if(t){var i=e,s=e,o=t,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=Jn(o),i=$n(i),o&&i)u=$n(u),s=Jn(s),s._tree.ancestor=e,h=o._tree.prelim+l-i._tree.prelim-a+n(o,i),h>0&&(tr(nr(o,e,r),e,h),a+=h,f+=h),l+=o._tree.mod,a+=i._tree.mod,c+=u._tree.mod,f+=s._tree.mod;o&&!Jn(s)&&(s._tree.thread=o,s._tree.mod+=l-f),i&&!$n(u)&&(u._tree.thread=i,u._tree.mod+=a-c,r=e)}return r}var a=t.call(this,e,i),f=a[0];Zn(f,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),s(f),o(f,-f._tree.prelim);var l=Kn(f,Gn),c=Kn(f,Qn),h=Kn(f,Yn),p=l.x-n(l,c)/2,d=c.x+n(c,l)/2,v=h.depth||1;return Zn(f,function(e){e.x=(e.x-p)/(d-p)*r[0],e.y=e.depth/v*r[1],delete e._tree}),a}var t=d3.layout.hierarchy().sort(null).value(null),n=Vn,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},Ln(e,t)},d3.layout.treemap=function(){function e(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function t(n){var s=n.children;if(s&&s.length){var o=l(n),u=[],a=s.slice(),f,c=Infinity,h,d=p===""slice""?o.dx:p===""dice""?o.dy:p===""slice-dice""?n.depth&1?o.dy:o.dx:Math.min(o.dx,o.dy),v;e(a,o.dx*o.dy/n.value),u.area=0;while((v=a.length)>0)u.push(f=a[v-1]),u.area+=f.area,p!==""squarify""||(h=r(u,d))<=c?(a.pop(),c=h):(u.area-=u.pop().area,i(u,d,o,!1),d=Math.min(o.dx,o.dy),u.length=u.area=0,c=Infinity);u.length&&(i(u,d,o,!0),u.length=u.area=0),s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var s=l(t),o=r.slice(),u,a=[];e(o,s.dx*s.dy/t.value),a.area=0;while(u=o.pop())a.push(u),a.area+=u.area,u.z!=null&&(i(a,u.z?s.dx:s.dy,s,!o.length),a.length=a.area=0);r.forEach(n)}}function r(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*d/n,n/(t*s*d)):Infinity}function i(e,t,n,r){var i=-1,s=e.length,o=n.x,a=n.y,f=t?u(e.area/t):0,l;if(t==n.dx){if(r||f>n.dy)f=n.dy;while(++i<s)l=e[i],l.x=o,l.y=a,l.dy=f,o+=l.dx=Math.min(n.x+n.dx-o,f?u(l.area/f):0);l.z=!0,l.dx+=n.x+n.dx-o,n.y+=f,n.dy-=f}else{if(r||f>n.dx)f=n.dx;while(++i<s)l=e[i],l.x=o,l.y=a,l.dx=f,a+=l.dy=Math.min(n.y+n.dy-a,f?u(l.area/f):0);l.z=!1,l.dy+=n.y+n.dy-a,n.x+=f,n.dx-=f}}function s(r){var i=h||o(r),s=i[0];return s.x=0,s.y=0,s.dx=a[0],s.dy=a[1],h&&o.revalue(s),e([s],s.dx*s.dy/s.value),(h?n:t)(s),c&&(h=i),i}var o=d3.layout.hierarchy(),u=Math.round,a=[1,1],f=null,l=rr,c=!1,h,p=""squarify"",d=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(a=e,s):a},s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return n==null?rr(t):ir(t,typeof n==""number""?[n,n,n,n]:n)}function n(t){return ir(t,e)}if(!arguments.length)return f;var r;return l=(f=e)==null?rr:(r=typeof e)===""function""?t:r===""number""?(e=[e,e,e,e],n):n,s},s.round=function(e){return arguments.length?(u=e?Math.round:Number,s):u!=Number},s.sticky=function(e){return arguments.length?(c=e,h=null,s):c},s.ratio=function(e){return arguments.length?(d=e,s):d},s.mode=function(e){return arguments.length?(p=e+"""",s):p},Ln(s,o)}}(),function(e,t,n,r){function i(t){return t[0]&&e.isPlainObject(t[0])?this.data=t[0]:this.el=t,this.isCoords=!0,this.coords={},this.init(),this}var s=i.prototype;s.init=function(){this.set(),this.original_coords=this.get()},s.set=function(e,t){var n=this.el;n&&!e&&(this.data=n.offset(),this.data.width=n.width(),this.data.height=n.height());if(n&&e&&!t){var r=n.offset();this.data .top=r.top,this.data.left=r.left}var i=this.data;return this.coords.x1=i.left,this.coords.y1=i.top,this.coords.x2=i.left+i.width,this.coords.y2=i.top+i.height,this.coords.cx=i.left+i.width/2,this.coords.cy=i.top+i.height/2,this.coords.width=i.width,this.coords.height=i.height,this.coords.el=n||!1,this},s.update=function(t){if(!t&&!this.el)return this;if(t){var n=e.extend({},this.data,t);return this.data=n,this.set(!0,!0)}return this.set(!0),this},s.get=function(){return this.coords},e.fn.coords=function(){if(this.data(""coords""))return this.data(""coords"");var e=new i(this,arguments[0]);return this.data(""coords"",e),e}}(jQuery,window,document),function(e,t,n,r){function s(t,n,r){this.options=e.extend(i,r),this.$element=t,this.last_colliders=[],this.last_colliders_coords=[],typeof n==""string""||n instanceof jQuery?this.$colliders=e(n,this.options.colliders_context).not(this.$element):this.colliders=e(n),this.init()}var i={colliders_context:n.body},o=s.prototype;o.init=function(){this.find_collisions()},o.overlaps=function(e,t){var n=!1,r=!1;if(t.x1>=e.x1&&t.x1<=e.x2||t.x2>=e.x1&&t.x2<=e.x2||e.x1>=t.x1&&e.x2<=t.x2)n=!0;if(t.y1>=e.y1&&t.y1<=e.y2||t.y2>=e.y1&&t.y2<=e.y2||e.y1>=t.y1&&e.y2<=t.y2)r=!0;return n&&r},o.detect_overlapping_region=function(e,t){var n="""",r="""";return e.y1>t.cy&&e.y1<t.y2&&(n=""N""),e.y2>t.y1&&e.y2<t.cy&&(n=""S""),e.x1>t.cx&&e.x1<t.x2&&(r=""W""),e.x2>t.x1&&e.x2<t.cx&&(r=""E""),n+r||""C""},o.calculate_overlapped_area_coords=function(t,n){var r=Math.max(t.x1,n.x1),i=Math.max(t.y1,n.y1),s=Math.min(t.x2,n.x2),o=Math.min(t.y2,n.y2);return e({left:r,top:i,width:s-r,height:o-i}).coords().get()},o.calculate_overlapped_area=function(e){return e.width*e.height},o.manage_colliders_start_stop=function(t,n,r){var i=this.last_colliders_coords;for(var s=0,o=i.length;s<o;s++)e.inArray(i[s],t)===-1&&n.call(this,i[s]);for(var u=0,a=t.length;u<a;u++)e.inArray(t[u],i)===-1&&r.call(this,t[u])},o.find_collisions=function(t){var n=this,r=[],i=[],s=this.colliders||this.$colliders,o=s.length,u=n.$element.coords().update(t||!1).get();while(o--){var a=n.$colliders?e(s[o]):s[o],f=a.isCoords?a:a.coords(),l=f.get(),c=n.overlaps(u,l);if(!c)continue;var h=n.detect_overlapping_region(u,l);if(h===""C""){var p=n.calculate_overlapped_area_coords(u,l),d=n.calculate_overlapped_area(p),v={area:d,area_coords:p,region:h,coords:l,player_coords:u,el:a};n.options.on_overlap&&n.options.on_overlap.call(this,v),r.push(f),i.push(v)}}return(n.options.on_overlap_stop||n.options.on_overlap_start)&&this.manage_colliders_start_stop(r,n.options.on_overlap_stop,n.options.on_overlap_start),this.last_colliders_coords=r,i},o.get_closest_colliders=function(e){var t=this.find_collisions(e);return t.sort(function(e,t){return e.region===""C""&&t.region===""C""?e.coords.y1<t.coords.y1||e.coords.x1<t.coords.x1?-1:1:e.area<t.area?1:1}),t},e.fn.collision=function(e,t){return new s(this,e,t)}}(jQuery,window,document),function(e,t){e.debounce=function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,n||e.apply(i,s)};n&&!r&&e.apply(i,s),clearTimeout(r),r=setTimeout(o,t)}},e.throttle=function(e,t){var n,r,i,s,o,u,a=debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&e.apply(n,r),a()};return i||(i=setTimeout(f,t)),s?o=!0:u=e.apply(n,r),a(),s=!0,u}}}(window),function(e,t,n,r){function a(t,r){this.options=e.extend({},i,r),this.$body=e(n.body),this.$container=e(t),this.$dragitems=e(this.options.items,this.$container),this.is_dragging=!1,this.player_min_left=0+this.options.offset_left,this.init()}var i={items:"".gs_w"",distance:1,limit:!0,offset_left:0,autoscroll:!0,ignore_dragging:[""INPUT"",""TEXTAREA"",""SELECT"",""BUTTON""],handle:null},s=e(t),o=""ontouchstart""in t,u={start:o?""touchstart"":""mousedown.draggable"",move:o?""touchmove"":""mousemove.draggable"",end:o?""touchend"":""mouseup.draggable""},f=a.prototype;f.init=function(){this.calculate_positions(),this.$container.css(""position"",""relative""),this.disabled=!1,this.events(),e(t).bind(""resize"",throttle(e.proxy(this.calculate_positions,this),200))},f.events=function(){this.$container.on(""selectstart"",e.proxy(this.on_select_start,this)),this.$container.on(u.start,this.options.items,e.proxy(this.drag_handler,this)),this.$body.on(u.end,e.proxy(function(e){this.is_dragging=!1;if(this.disabled)return;this.$body.off(u.move),this.drag_start&&this.on_dragstop(e)},this))},f.get_actual_pos=function(e){var t=e.position();return t},f.get_mouse_pos=function(e){if(o){var t=e.originalEvent;e=t.touches.length?t.touches[0]:t.changedTouches[0]}return{left:e.clientX,top:e.clientY}},f.get_offset=function(e){e.preventDefault();var t=this.get_mouse_pos(e),n=Math.round(t.left-this.mouse_init_pos.left),r=Math.round(t.top-this.mouse_init_pos.top),i=Math.round(this.el_init_offset.left+n-this.baseX),s=Math.round(this.el_init_offset.top+r-this.baseY+this.scrollOffset);return this.options.limit&&(i>this.player_max_left?i=this.player_max_left:i<this.player_min_left&&(i=this.player_min_left)),{left:i,top:s,mouse_left:t.left,mouse_top:t.top}},f.manage_scroll=function(e){var t,n=s.scrollTop(),r=n,i=r+this.window_height,o=i-50,u=r+50,a=e.mouse_left,f=r+e.mouse_top,l=this.doc_height-this.window_height+this.player_height;f>=o&&(t=n+30,t<l&&(s.scrollTop(t),this.scrollOffset=this.scrollOffset+30)),f<=u&&(t=n-30,t>0&&(s.scrollTop(t),this.scrollOffset=this.scrollOffset-30))},f.calculate_positions=function(e){this.window_height=s.height()},f.drag_handler=function(t){var n=t.target.nodeName;if(this.disabled||t.which!==1&&!o)return;if(this.ignore_drag(t))return;var r=this,i=!0;return this.$player=e(t.currentTarget),this.el_init_pos=this.get_actual_pos(this.$player),this.mouse_init_pos=this.get_mouse_pos(t),this.offsetY=this.mouse_init_pos.top-this.el_init_pos.top,this.$body.on(u.move,function(e){var t=r.get_mouse_pos(e),n=Math.abs(t.left-r.mouse_init_pos.left),s=Math.abs(t.top-r.mouse_init_pos.top);return n>r.options.distance||s>r.options.distance?i?(i=!1,r.on_dragstart.call(r,e),!1):(r.is_dragging===!0&&r.on_dragmove.call(r,e),!1):!1}),!1},f.on_dragstart=function(t){t.preventDefault(),this.drag_start=!0,this.is_dragging=!0;var r=this.$container.offset();return this.baseX=Math.round(r.left),this.baseY=Math.round(r.top),this.doc_height=e(n).height(),this.options.helper===""clone""?(this.$helper=this.$player.clone().appendTo(this.$container).addClass(""helper""),this.helper=!0):this.helper=!1,this.scrollOffset=0,this.el_init_offset=this.$player.offset(),this.player_width=this.$player.width(),this.player_height=this.$player.height(),this.player_max_left=this.$container.width()-this.player_width+this.options.offset_left,this.options.start&&this.options.start.call(this.$player,t,{helper:this.helper?this.$helper:this.$player}),!1},f.on_dragmove=function(e){var t=this.get_offset(e);this.options.autoscroll&&this.manage_scroll(t),(this.helper?this.$helper:this.$player).css({position:""absolute"",left:t.left,top:t.top});var n={position:{left:t.left,top:t.top}};return this.options.drag&&this.options.drag.call(this.$player,e,n),!1},f.on_dragstop=function(e){var t=this.get_offset(e);this.drag_start=!1;var n={position:{left:t.left,top:t.top}};return this.options.stop&&this.options.stop.call(this.$player,e,n),this.helper&&this.$helper.remove(),!1},f.on_select_start=function(e){if(this.disabled)return;if(this.ignore_drag(e))return;return!1},f.enable=function(){this.disabled=!1},f.disable=function(){this.disabled=!0},f.destroy=function(){this.disable(),e.removeData(this.$container,""drag"")},f.ignore_drag=function(t){return this.options.handle?!e(t.target).is(this.options.handle):e.inArray(t.target.nodeName,this.options.ignore_dragging)>=0},e.fn.drag=function(t){return this.each(function(){e.data(this,""drag"")||e.data(this,""drag"",new a(this,t))})}}(jQuery,window,document),function(e,t,n,r){function s(t,n){this.options=e.extend(!0,i,n),this.$el=e(t),this.$wrapper=this.$el.parent(),this.$widgets=this.$el.children(this.options.widget_selector).addClass(""gs_w""),this.widgets=[],this.$changed=e([]),this.wrapper_width=this.$wrapper.width(),this.min_widget_width=this.options.widget_margins[0]*2+this.options.widget_base_dimensions[0],this.min_widget_height=this.options.widget_margins[1]*2+this.options.widget_base_dimensions[1],this.init()}var i={namespace:"""",widget_selector:""li"",widget_margins:[10,10],widget_base_dimensions:[400,225],extra_rows:0,extra_cols:0,min_cols:1,min_rows:15,max_size_x:6,autogenerate_stylesheet:!0,avoid_overlapped_widgets:!0,serialize_params:function(e,t){return{col:t.col,row:t.row,size_x:t.size_x,size_y:t.size_y}},collision:{},draggable:{distance:4}};s.generated_stylesheets=[];var o=s.prototype;o.init=function(){this.generate_grid_and_stylesheet(),this.get_widgets_from_DOM(),this.set_dom_grid_height(),this.$wrapper.addClass(""ready""),this.draggable(),e(t).bind(""resize"",throttle(e.proxy(this.recalculate_faux_grid,this),200))},o.disable=function(){return this.$wrapper.find("".player-revert"").removeClass(""player-revert""),this.drag_api.disable(),this},o.enable=function(){return this.drag_api.enable(),this},o.add_widget=function(t,n,r,i,s){var o;n||(n=1),r||(r=1),!i&!s?o=this.next_position(n,r):(o={col:i,row:s},this.empty_cells(i,s,n,r));var u=e(t).attr({""data-col"":o.col,""data-row"":o.row,""data-sizex"":n,""data-sizey"":r}).addClass(""gs_w"").appendTo(this.$el).hide();return this.$widgets=this.$widgets.add(u),this.register_widget(u),this.add_faux_rows(o.size_y),this.set_dom_grid_height(),u.fadeIn()},o.resize_widget=function(t,n,r){var i=t.coords().grid;n||(n=i.size_x),r||(r=i.size_y),n>this.cols&&(n=this.cols);var s=this.get_cells_occupied(i),o=i.size_x,u=i.size_y,a=i.col,f=a,l=n>o,c=r>u;if(a+n-1>this.cols){var h=a+(n-1)-this.cols,p=a-h;f=Math.max(1,p)}var d={col:f,row:i.row,size_x:n,size_y:r},v=this.get_cells_occupied(d),m=[];e.each(s.cols,function(t,n){e.inArray(n,v.cols)===-1&&m.push(n)});var g=[];e.each(v.cols,function(t,n){e.inArray(n,s.cols)===-1&&g.push(n)});var y=[];e.each(s.rows,function(t,n){e.inArray(n,v.rows)===-1&&y.push(n)});var b=[];e.each(v.rows,function(t,n){e.inArray(n,s.rows)===-1&&b.push(n)}),this.remove_from_gridmap(i);if(g.length){var w=[f,i.row,n,Math.min(u,r),t];this.empty_cells.apply(this,w)}if(b.length){var E=[f,i.row,n,r,t];this.empty_cells.apply(this,E)}i.col=f,i.size_x=n,i.size_y=r,this.add_to_gridmap(d,t),t.data(""coords"").update({width:n*this.options.widget_base_dimensions[0]+(n-1)*this.options.widget_margins[0]*2,height:r*this.options.widget_base_dimensions[1]+(r-1)*this.options.widget_margins[1]*2}),r>u&&this.add_faux_rows(r-u),n>o&&this.add_faux_cols(n-o),t.attr({""data-col"":f,""data-sizex"":n,""data-sizey"":r});if(m.length){var S=[m[0],i.row,m.length,Math.min(u,r),t];this.remove_empty_cells.apply(this,S)}if(y.length){var x=[f,i.row,n,r,t];this.remove_empty_cells.apply(this,x)}return t},o.empty_cells=function(t,n,r,i,s){var o=this.widgets_below({col:t,row:n-i,size_x:r,size_y:i});return o.not(s).each(e.proxy(function(t,r){var s=e(r).coords().grid;if(!(s.row<=n+i-1))return;var o=n+i-s.row;this.move_widget_down(e(r),o)},this)),this.set_dom_grid_height(),this},o.remove_empty_cells=function(t,n,r,i,s){var o=this.widgets_below({col:t,row:n,size_x:r,size_y:i});return o.not(s).each(e.proxy(function(t,n){this.move_widget_up(e(n),i)},this)),this.set_dom_grid_height(),this},o.next_position=function(e,t){e||(e=1),t||(t=1);var n=this.gridmap,r=n.length,i=[],s;for(var o=1;o<r;o++){s=n[o].length;for(var u=1;u<=s;u++){var a=this.can_move_to({size_x:e,size_y:t},o,u);a&&i.push({col:o,row:u,size_y:t,size_x:e})}}return i.length?this.sort_by_row_and_col_asc(i)[0]:!1},o.remove_widget=function(t,n,r){var i=t instanceof jQuery?t:e(t),s=i.coords().grid;e.isFunction(n)&&(r=n,n=!1),this.cells_occupied_by_placeholder={},this.$widgets=this.$widgets.not(i);var o=this.widgets_below(i);this.remove_from_gridmap(s),i.fadeOut(e.proxy(function(){i.remove(),n||o.each(e.proxy(function(t,n){this.move_widget_up(e(n),s.size_y)},this)),this.set_dom_grid_height(),r&&r.call(this,t)},this))},o.remove_all_widgets=function(t){return this.$widgets.each(e.proxy(function(e,n){this.remove_widget(n,!0,t)},this)),this},o.serialize=function(t){t||(t=this.$widgets);var n=[];return t.each(e.proxy(function(t,r){n.push(this.options.serialize_params(e(r),e(r).coords().grid))},this)),n},o.serialize_changed=function(){return this.serialize(this.$changed)},o.register_widget=function(e){var t={col:parseInt(e.attr(""data-col""),10),row:parseInt(e.attr(""data-row""),10),size_x:parseInt(e.attr(""data-sizex""),10),size_y:parseInt(e.attr(""data-sizey""),10),el:e};return this.options.avoid_overlapped_widgets&&!this.can_move_to({size_x:t.size_x,size_y:t.size_y},t.col,t.row)&&(t=this.next_position(t.size_x,t.size_y),t.el=e,e.attr({""data-col"":t.col,""data-row"":t.row,""data-sizex"":t.size_x,""data-sizey"":t.size_y})),e.data(""coords"",e.coords()),e.data(""coords"").grid=t,this.add_to_gridmap(t,e),this},o.update_widget_position=function(e,t){return this.for_each_cell_occupied(e,function(e,n){if(!this.gridmap[e])return this;this.gridmap[e][n]=t}),this},o.remove_from_gridmap=function(e){return this.update_widget_position(e,!1)},o.add_to_gridmap=function(t,n){this.update_widget_position(t,n||t.el);if(t.el){var r=this.widgets_below(t.el);r.each(e.proxy(function(t,n){this.move_widget_up(e(n))},this))}},o.draggable=function(){var t=this,n=e.extend(!0,{},this.options.draggable,{offset_left:this.options.widget_margins[0],start:function(n,r){t.$widgets.filter("".player-revert"").removeClass(""player-revert""),t.$player=e(this),t.$helper=t.options.draggable.helper===""clone""?e(r.helper):t.$player,t.helper=!t.$helper.is(t.$player),t.on_start_drag.call(t,n,r),t.$el.trigger(""gridster:dragstart"")},stop:function(e,n){t.on_stop_drag.call(t,e,n),t.$el.trigger(""gridster:dragstop"")},drag:throttle(function(e,n){t.on_drag.call(t,e,n),t.$el.trigger(""gridster:drag"")},60)});return this.drag_api=this.$el.drag(n).data(""drag""),this},o.on_start_drag=function(t,n){this.$helper.add(this.$player).add(this.$wrapper).addClass(""dragging""),this.$player.addClass(""player""),this.player_grid_data=this.$player.coords().grid,this.placeholder_grid_data=e.extend({},this.player_grid_data),this.$el.css(""height"",this.$el.height()+this.player_grid_data.size_y*this.min_widget_height);var r=this.faux_grid,i=this.$player.data(""coords"").coords;this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data),this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.last_cols=[],this.last_rows=[],this.collision_api=this.$helper.collision(r,this.options.collision),this.$preview_holder=e(""<li />"",{""class"":""preview-holder"",""data-row"":this.$player.attr(""data-row""),""data-col"":this.$player.attr(""data-col""),css:{width:i.width,height:i.height}}).appendTo(this.$el),this.options.draggable.start&&this.options.draggable.start.call(this,t,n)},o.on_drag=function(e,t){if(this.$player===null)return!1;var n={left:t.position.left+this.baseX,top:t.position.top+this.baseY};this.colliders_data=this.collision_api.get_closest_colliders(n),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.helper&&this.$player&&this.$player.css({left:t.position.left,top:t.position.top}),this.options.draggable.drag&&this.options.draggable.drag.call(this,e,t)},o.on_stop_drag=function(e,t){this.$helper.add(this.$player).add(this.$wrapper).removeClass(""dragging""),t.position.left=t.position.left+this.baseX,t.position.top=t.position.top+this.baseY,this.colliders_data=this.collision_api.get_closest_colliders(t.position),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.$player.addClass(""player-revert"").removeClass(""player"").attr({""data-col"":this.placeholder_grid_data.col,""data-row"":this.placeholder_grid_data.row}).css({left:"""",top:""""}),this.$changed=this.$changed.add(this.$player),this.cells_occupied_by_player=this.get_cells_occupied(this.placeholder_grid_data),this.set_cells_player_occupies(this.placeholder_grid_data.col,this.placeholder_grid_data.row),this.$player.coords().grid.row=this.placeholder_grid_data.row,this.$player.coords().grid.col=this.placeholder_grid_data.col,this.options.draggable.stop&&this.options.draggable.stop.call(this,e,t),this.$preview_holder.remove(),this.$player=null,this.$helper=null,this.placeholder_grid_data={},this.player_grid_data={},this.cells_occupied_by_placeholder={},this.cells_occupied_by_player={},this.set_dom_grid_height()},o.on_overlapped_column_change=function(t,n){if(!this.colliders_data.length)return;var r=this.get_targeted_columns(this.colliders_data[0].el.data.col),i=this.last_cols.length,s=r.length,o;for(o=0;o<s;o++)e.inArray(r[o],this.last_cols)===-1&&(t||e.noop).call(this,r[o]);for(o=0;o<i;o++)e.inArray(this.last_cols[o],r)===-1&&(n||e.noop).call(this,this.last_cols[o]);return this.last_cols=r,this},o.on_overlapped_row_change=function(t,n){if(!this.colliders_data.length)return;var r=this.get_targeted_rows(this.colliders_data[0].el.data.row),i=this.last_rows.length,s=r.length,o;for(o=0;o<s;o++)e.inArray(r[o],this.last_rows)===-1&&(t||e.noop).call(this,r[o]);for(o=0;o<i;o++)e.inArray(this.last_rows[o],r)===-1&&(n||e.noop).call(this,this.last_rows[o]);this.last_rows=r},o.set_player=function(e,t,n){var r=this;n||this.empty_cells_player_occupies();var i=n?{col:e}:r.colliders_data[0].el.data,s=i.col,o=t||i.row;this.player_grid_data={col:s,row:o,size_y:this.player_grid_data.size_y,size_x:this.player_grid_data.size_x},this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);var u=this.get_widgets_overlapped(this.player_grid_data),a=this.widgets_constraints(u);this.manage_movements(a.can_go_up,s,o),this.manage_movements(a.can_not_go_up,s,o);if(!u.length){var f=this.can_go_player_up(this.player_grid_data);f!==!1&&(o=f),this.set_placeholder(s,o)}return{col:s,row:o}},o.widgets_constraints=function(t){var n=e([]),r,i=[],s=[];return t.each(e.proxy(function(t,r){var o=e(r),u=o.coords().grid;this.can_go_widget_up(u)?(n=n.add(o),i.push(u)):s.push(u)},this)),r=t.not(n),{can_go_up:this.sort_by_row_asc(i),can_not_go_up:this.sort_by_row_desc(s)}},o.sort_by_row_asc=function(t){return t=t.sort(function(t,n){return t.row||(t=e(t).coords().grid,n=e(n).coords().grid),t.row>n.row?1:-1}),t},o.sort_by_row_and_col_asc=function(e){return e=e.sort(function(e,t){return e.row>t.row||e.row===t.row&&e.col>t.col?1:-1}),e},o.sort_by_col_asc=function(e){return e=e.sort(function(e,t){return e.col>t.col?1:-1}),e},o.sort_by_row_desc=function(e){return e=e.sort(function(e,t){return e.row+e.size_y<t.row+t.size_y?1:-1}),e},o.manage_movements=function(t,n,r){return e.each(t,e.proxy(function(e,t){var i=t,s=i.el,o=this.can_go_widget_up(i);if(o)this.move_widget_to(s,o),this.set_placeholder(n,o+i.size_y);else{var u=this.can_go_player_up(this.player_grid_data);if(!u){var a=r+this.player_grid_data.size_y-i.row;this.move_widget_down(s,a),this.set_placeholder(n,r)}}},this)),this},o.is_player=function(e,t){if(t&&!this.gridmap[e])return!1;var n=t?this.gridmap[e][t]:e;return n&&(n.is(this.$player)||n.is(this.$helper))},o.is_player_in=function(t,n){var r=this.cells_occupied_by_player||{};return e.inArray(t,r.cols)>=0&&e.inArray(n,r.rows)>=0},o.is_placeholder_in=function(t,n){var r=this.cells_occupied_by_placeholder||{};return this.is_placeholder_in_col(t)&&e.inArray(n,r.rows)>=0},o.is_placeholder_in_col=function(t){var n=this.cells_occupied_by_placeholder||[];return e.inArray(t,n.cols)>=0},o.is_empty=function(e,t){return typeof this.gridmap[e]!=""undefined""&&typeof this.gridmap[e][t]!=""undefined""&&this.gridmap[e][t]===!1?!0:!1},o.is_occupied=function(e,t){return this.gridmap[e]?this.gridmap[e][t]?!0:!1:!1},o.is_widget=function(e,t){var n=this.gridmap[e];return n?(n=n[t],n?n:!1):!1},o.is_widget_under_player=function(e,t){return this.is_widget(e,t)?this.is_player_in(e,t):!1},o.get_widgets_under_player=function(t){t||(t=this.cells_occupied_by_player||{cols:[],rows:[]});var n=e([]);return e.each(t.cols,e.proxy(function(r,i){e.each(t.rows,e.proxy(function(e,t){this.is_widget(i,t)&&(n=n.add(this.gridmap[i][t]))},this))},this)),n},o.set_placeholder=function(t,n){var r=e.extend({},this.placeholder_grid_data),i=this.widgets_below({col:r.col,row:r.row,size_y:r.size_y,size_x:r.size_x}),s=t+r.size_x-1;s>this.cols&&(t-=s-t);var o=this.placeholder_grid_data.row<n,u=this.placeholder_grid_data.col!==t;this.placeholder_grid_data.col=t,this.placeholder_grid_data.row=n,this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.$preview_holder.attr({""data-row"":n,""data-col"":t}),(o||u)&&i.each(e.proxy(function(n,i){this.move_widget_up(e(i),this.placeholder_grid_data.col-t+r.size_y)},this));var a=this.get_widgets_under_player(this.cells_occupied_by_placeholder);a.length&&a.each(e.proxy(function(t,i){var s=e(i);this.move_widget_down(s,n+r.size_y-s.data(""coords"").grid.row)},this))},o.can_go_player_up=function(e){var t=e.row+e.size_y-1,n=!0,r=[],i=1e4,s=this.get_widgets_under_player();return this.for_each_column_occupied(e,function(e){var o=this.gridmap[e],u=t+1;r[e]=[];while(--u>0){if(!(this.is_empty(e,u)||this.is_player(e,u)||this.is_widget(e,u)&&o[u].is(s)))break;r[e].push(u),i=u<i?u:i}if(r[e].length===0)return n=!1,!0;r[e].sort()}),n?this.get_valid_rows(e,r,i):!1},o.can_go_widget_up=function(e){var t=e.row+e.size_y-1,n=!0,r=[],i=1e4;return this.for_each_column_occupied(e,function(s){var o=this.gridmap[s];r[s]=[];var u=t+1;while(--u>0){if(this.is_widget(s,u)&&!this.is_player_in(s,u)&&!o[u].is(e.el))break;!this.is_player(s,u)&&!this.is_placeholder_in(s,u)&&!this.is_player_in(s,u)&&r[s].push(u),u<i&&(i=u)}if(r[s].length===0)return n=!1,!0;r[s].sort()}),n?this.get_valid_rows(e,r,i):!1},o.get_valid_rows=function(t,n,r){var i=t.row,s=t.row+t.size_y-1,o=t.size_y,u=r-1,a=[];while(++u<=s){var f=!0;e.each(n,function(t,n){e.isArray(n)&&e.inArray(u,n)===-1&&(f=!1)});if(f===!0){a.push(u);if(a.length===o)break}}var l=!1;return o===1?a[0]!==i&&(l=a[0]||!1):a[0]!==i&&(l=this.get_consecutive_numbers_index(a,o)),l},o.get_consecutive_numbers_index=function(e,t){var n=e.length,r=[],i=!0,s=-1;for(var o=0;o<n;o++){if(i||e[o]===s+1){r.push(o);if(r.length===t)break;i=!1}else r=[],i=!0;s=e[o]}return r.length>=t?e[r[0]]:!1},o.get_widgets_overlapped=function(){var t,n=e([]),r=[],i=this.cells_occupied_by_player.rows.slice(0);return i.reverse(),e.each(this.cells_occupied_by_player.cols,e.proxy(function(t,s){e.each(i,e.proxy(function(t,i){if(!this.gridmap[s])return!0;var o=this.gridmap[s][i];this.is_occupied(s,i)&&!this.is_player(o)&&e.inArray(o,r)===-1&&(n=n.add(o),r.push(o))},this))},this)),n},o.on_start_overlapping_column=function(e){this.set_player(e,!1)},o.on_start_overlapping_row=function(e){this.set_player(!1,e)},o.on_stop_overlapping_column=function(e){this.set_player(e,!1);var t=this;this.for_each_widget_below(e,this.cells_occupied_by_player.rows[0],function(e,n){t.move_widget_up(this,t.player_grid_data.size_y)})},o.on_stop_overlapping_row=function(e){this.set_player(!1,e);var t=this,n=this.cells_occupied_by_player.cols;for(var r=0,i=n.length;r<i;r++)this.for_each_widget_below(n[r],e,function(e,n){t.move_widget_up(this,t.player_grid_data.size_y)})},o.move_widget_to=function(t,n){var r=this,i=t.coords().grid,s=n-i.row,o=this.widgets_below(t),u=this.can_move_to(i,i.col,n,t);return u===!1?!1:(this.remove_from_gridmap(i),i.row=n,this.add_to_gridmap(i),t.attr(""data-row"",n),this.$changed=this.$changed.add(t),o.each(function(t,n){var i=e(n),s=i.coords().grid,o=r.can_go_widget_up(s);o&&o!==s.row&&r.move_widget_to(i,o)}),this)},o.move_widget_up=function(t,n){var r=t.coords().grid,i=r.row,s=[],o=!0;n||(n=1);if(!this.can_go_up(t))return!1;this.for_each_column_occupied(r,function(r){if(e.inArray(t,s)===-1){var o=t.coords().grid,u=i-n;u=this.can_go_up_to_row(o,r,u);if(!u)return!0;var a=this.widgets_below(t);this.remove_from_gridmap(o),o.row=u,this.add_to_gridmap(o),t.attr(""data-row"",o.row),this.$changed=this.$changed.add(t),s.push(t),a.each(e.proxy(function(t,r){this.move_widget_up(e(r),n)},this))}})},o.move_widget_down=function(t,n){var r=t.coords().grid,i=r.row,s=[],o=n;if(!t)return!1;if(e.inArray(t,s)===-1){var u=t.coords().grid,a=i+n,f=this.widgets_below(t);this.remove_from_gridmap(u),f.each(e.proxy(function(t,n){var r=e(n),i=r.coords().grid,s=this.displacement_diff(i,u,o);s>0&&this.move_widget_down(r,s)},this)),u.row=a,this.update_widget_position(u,t),t.attr(""data-row"",u.row),this.$changed=this.$changed.add(t),s.push(t)}},o.can_go_up_to_row=function(t,n,r){var i=this.gridmap,s=!0,o=[],u=t.row,a;this.for_each_column_occupied(t,function(e){var t=i[e];o[e]=[],a=u;while(a--){if(!this.is_empty(e,a)||!!this.is_placeholder_in(e,a))break;o[e].push(a)}if(!o[e].length)return s=!1,!0});if(!s)return!1;a=r;for(a=1;a<u;a++){var f=!0;for(var l=0,c=o.length;l<c;l++)o[l]&&e.inArray(a,o[l])===-1&&(f=!1);if(f===!0){s=a;break}}return s},o.displacement_diff=function(e,t,n){var r=e.row,i=[],s=t.row+t.size_y;this.for_each_column_occupied(e,function(e){var t=0;for(var n=s;n<r;n++)this.is_empty(e,n)&&(t+=1);i.push(t)});var o=Math.max.apply(Math,i);return n-=o,n>0?n:0},o.widgets_below=function(t){var n=e.isPlainObject(t)?t:t.coords().grid,r=this,i=this.gridmap,s=n.row+n.size_y-1,o=e([]);return this.for_each_column_occupied(n,function(t){r.for_each_widget_below(t,s,function(t,n){if(!r.is_player(this)&&e.inArray(this,o)===-1)return o=o.add(this),!0})}),this.sort_by_row_asc(o)},o.set_cells_player_occupies=function(e,t){return this.remove_from_gridmap(this.placeholder_grid_data),this.placeholder_grid_data.col=e,this.placeholder_grid_data.row=t,this.add_to_gridmap(this.placeholder_grid_data,this.$player),this},o.empty_cells_player_occupies=function(){return this.remove_from_gridmap(this.placeholder_grid_data),this},o.can_go_up=function(e){var t=e.coords().grid,n=t.row,r=n-1,i=this.gridmap,s=[],o=!0;return n===1?!1:(this.for_each_column_occupied(t,function(e){var t=this.is_widget(e,r);if(this.is_occupied(e,r)||this.is_player(e,r)||this.is_placeholder_in(e,r)||this.is_player_in(e,r))return o=!1,!0}),o)},o.can_move_to=function(e,t,n,r){var i=this.gridmap,s=e.el,o={size_y:e.size_y,size_x:e.size_x,col:t,row:n},u=!0,a=t+e.size_x-1;return a>this.cols?!1:r&&r<n+e.size_y-1?!1:(this.for_each_cell_occupied(o,function(t,n){var r=this.is_widget(t,n);r&&(!e.el||r.is(s))&&(u=!1)}),u)},o.get_targeted_columns=function(e){var t=(e||this.player_grid_data.col)+(this.player_grid_data.size_x-1),n=[];for(var r=e;r<=t;r++)n.push(r);return n},o.get_targeted_rows=function(e){var t=(e||this.player_grid_data.row)+(this.player_grid_data.size_y-1),n=[];for(var r=e;r<=t;r++)n.push(r);return n},o.get_cells_occupied=function(e){var t={cols:[],rows:[]},n;arguments[1]instanceof jQuery&&(e=arguments[1].coords().grid);for(n=0;n<e.size_x;n++){var r=e.col+n;t.cols.push(r)}for(n=0;n<e.size_y;n++){var i=e.row+n;t.rows.push(i)}return t},o.for_each_cell_occupied=function(e,t){return this.for_each_column_occupied(e,function(n){this.for_each_row_occupied(e,function(e){t.call(this,n,e)})}),this},o.for_each_column_occupied=function(e,t){for(var n=0;n<e.size_x;n++){var r=e.col+n;t.call(this,r,e)}},o.for_each_row_occupied=function(e,t){for(var n=0;n<e.size_y;n++){var r=e.row+n;t.call(this,r,e)}},o._traversing_widgets=function(t,n,r,i,s){var o=this.gridmap;if(!o[r])return;var u,a,f=t+""/""+n;if(arguments[2]instanceof jQuery){var l=arguments[2].coords().grid;r=l.col,i=l.row,s=arguments[3]}var c=[],h=i,p={""for_each/above"":function(){while(h--)if(h>0&&this.is_widget(r,h)&&e.inArray(o[r][h],c)===-1){u=s.call(o[r][h],r,h),c.push(o[r][h]);if(u)break}},""for_each/below"":function(){for(h=i+1,a=o[r].length;h<a;h++)if(this.is_widget(r,h)&&e.inArray(o[r][h],c)===-1){u=s.call(o[r][h],r,h),c.push(o[r][h]);if(u)break}}};p[f]&&p[f].call(this)},o.for_each_widget_above=function(e,t,n){return this._traversing_widgets(""for_each"",""above"",e,t,n),this},o.for_each_widget_below=function(e,t,n){return this._traversing_widgets(""for_each"",""below"",e,t,n),this},o.get_highest_occupied_cell=function(){var e,t=this.gridmap,n=[],r=[];for(var i=t.length-1;i>=1;i--)for(e=t[i].length-1;e>=1;e--)if(this.is_widget(i,e)){n.push(e),r[e]=i;break}var s=Math.max.apply(Math,n);return this.highest_occupied_cell={col:r[s],row:s},this.highest_occupied_cell},o.get_widgets_from=function(t,n){var r=this.gridmap,i=e();return t&&(i=i.add(this.$widgets.filter(function(){var n=e(this).attr(""data-col"");return n===t||n>t}))),n&&(i=i.add(this.$widgets.filter(function(){var t=e(this).attr(""data-row"");return t===n||t>n}))),i},o.set_dom_grid_height=function(){var e=this.get_highest_occupied_cell().row;return this.$el.css(""height"",e*this.min_widget_height),this},o.generate_stylesheet=function(t){var n="""",r=this.options.max_size_x,i=0,o=0,u,a;t||(t={}),t.cols||(t.cols=this.cols),t.rows||(t.rows=this.rows),t.namespace||(t.namespace=this.options.namespace),t.widget_base_dimensions||(t.widget_base_dimensions=this.options.widget_base_dimensions),t.widget_margins||(t.widget_margins=this.options.widget_margins),t.min_widget_width=t.widget_margins[0]*2+t.widget_base_dimensions[0],t.min_widget_height=t.widget_margins[1]*2+t.widget_base_dimensions[1];var f=e.param(t);if(e.inArray(f,s.generated_stylesheets)>=0)return!1;s.generated_stylesheets.push(f);for(u=t.cols;u>=0;u--)n+=t.namespace+' [data-col=""'+(u+1)+'""] { left:'+(u*t.widget_base_dimensions[0]+u*t.widget_margins[0]+(u+1)*t.widget_margins[0])+""px;} "";for(u=t.rows;u>=0;u--)n+=t.namespace+' [data-row=""'+(u+1)+'""] { top:'+(u*t.widget_base_dimensions[1]+u*t.widget_margins[1]+(u+1)*t.widget_margins[1])+""px;} "";for(var l=1;l<=t.rows;l++)n+=t.namespace+' [data-sizey=""'+l+'""] { height:'+(l*t.widget_base_dimensions[1]+(l-1)*t.widget_margins[1]*2)+""px;}"";for(var c=1;c<=r;c++)n+=t.namespace+' [data-sizex=""'+c+'""] { width:'+(c*t.widget_base_dimensions[0]+(c-1)*t.widget_margins[0]*2)+""px;}"";return this.add_style_tag(n)},o.add_style_tag=function(e){var t=n,r=t.createElement(""style"");return t.getElementsByTagName(""head"")[0].appendChild(r),r.setAttribute(""type"",""text/css""),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(n.createTextNode(e)),this},o.generate_faux_grid=function(e,t){this.faux_grid=[],this.gridmap=[];var n,r;for(n=t;n>0;n--){this.gridmap[n]=[];for(r=e;r>0;r--)this.add_faux_cell(r,n)}return this},o.add_faux_cell=function(t,n){var r=e({left:this.baseX+(n-1)*this.min_widget_width,top:this.baseY+(t-1)*this.min_widget_height,width:this.min_widget_width,height:this.min_widget_height,col:n,row:t,original_col:n,original_row:t}).coords();return e.isArray(this.gridmap[n])||(this.gridmap[n]=[]),this.gridmap[n][t]=!1,this.faux_grid.push(r),this},o.add_faux_rows=function(e){var t=this.rows,n=t+(e||1);for(var r=n;r>t;r--)for(var i=this.cols;i>=1;i--)this.add_faux_cell(r,i);return this.rows=n,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},o.add_faux_cols=function(e){var t=this.cols,n=t+(e||1);for(var r=t;r<n;r++)for(var i=this.rows;i>=1;i--)this.add_faux_cell(i,r);return this.cols=n,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},o.recalculate_faux_grid=function(){var n=this.$wrapper.width();return this.baseX=(e(t).width()-n)/2,this.baseY=this.$wrapper.offset().top,e.each(this.faux_grid,e.proxy(function(e,t){this.faux_grid[e]=t.update({left:this.baseX+(t.data.col-1)*this.min_widget_width,top:this.baseY+(t.data.row-1)*this.min_widget_height})},this)),this},o.get_widgets_from_DOM=function(){return this.$widgets.each(e.proxy(function(t,n){this.register_widget(e(n))},this)),this},o.generate_grid_and_stylesheet=function(){var n=this.$wrapper.width(),r=this.$wrapper.height(),i=Math.floor(n/this.min_widget_width)+this.options.extra_cols,s=this.$widgets.map(function(){return e(this).attr(""data-col"")});s=Array.prototype.slice.call(s,0),s.length||(s=[0]);var o=Math.max.apply(Math,s),u=this.options.extra_rows;return this.$widgets.each(function(t,n){u+=+e(n).attr(""data-sizey"")}),this.cols=Math.max(o,i,this.options.min_cols),this.rows=Math.max(u,this.options.min_rows),this.baseX=(e(t).width()-n)/2,this.baseY=this.$wrapper.offset().top,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this.generate_faux_grid(this.rows,this.cols)},e.fn.gridster=function(t){return this.each(function(){e(this).data(""gridster"")||e(this).data(""gridster"",new s(this,t))})},e.Gridster=o}(jQuery,window,document),function(){function n(e,t,n){var r="""";if(!t||t.length===0)return r;for(var i=0;i<t.date.length;i++)t.date[i]==n[e.index]&&(r=t.marks[i]);return r}function r(e,t){var r={name:e,config:{colors:t.colors,grid:{verticalLines:!1,horizontalLines:!1},mouse:{track:!0,trackY:!1,position:""ne""},yaxis:{min:0,autoscale :!0},legend:{show:!1,backgroundColor:""#FFFFFF"",backgroundOpacity:0}}};return t.gtype===""whiskers""?r.config.whiskers={show:!0,lineWidth:2}:r.config[""lite-lines""]={lineWidth:2,show:!0,fill:!1,fillOpacity:.5},t.y_labels&&(r.config.yaxis={showLabels:!0,min:0}),t.show_markers&&(r.config.markers={show:!0,position:""ct"",labelFormatter:function(e){return n(e,t.markers,t.dates)}}),r}function i(e,n,i,s){var o=Report.getAllMetrics(),u=null;$.each(i,function(i,a){config=s,a.envision&&(config=DataProcess.mergeConfig(s,a.envision)),$.inArray(i,t.envision_hide)===-1&&(n[i]=r(""report-""+e.getName()+""-""+i,config),u=i,o[i]&&(u=o[i].name),n[i].config.subtitle=u,e.getMainMetric()==i&&(n[i+""_relative""]=r(""report-""+e.getName()+""-""+i+""_relative"",config),n[i].config[""lite-lines""]={show:!1},n[i].config.lines={lineWidth:1,show:!0,stacked:!0,fill:!0,fillOpacity:1}))})}function s(n){var s=[""#ffa500"",""#00A8F0"",""#C0D800"",""#ffff00"",""#00ff00"",""#4DA74D"",""#9440ED""],o={colors:s,dates:t.dates,g_type:"""",markers:t.markers,y_labels:!1},u=Report.getDataSources(),a={},f={};return n?$.each(u,function(e,t){$.inArray(t.getName(),n)>-1&&(f=t.getMetrics(),i(t,a,f,o))}):$.each(u,function(e,t){f=t.getMetrics(),i(t,a,f,o)}),config=o,a.summary=r(""report-summary"",config),a.summary.config.xaxis={noTickets:10,showLabels:!0},a.summary.config.handles={show:!0},a.summary.config.selection={mode:""x""},a.summary.config.mouse={},a.connection={name:""report-connection"",adapterConstructor:e.components.QuadraticDrawing},a}function o(e,t){var n=[],r=null;return $.each(e,function(e,n){if(n.getMetrics()[t])return r=n,!1}),n.push(r),$.each(e,function(e,t){if(t===r)return;n.push(t)}),n}function u(n,r){var i=n.data.main_metric;t=n.data,r||(r=Report.getDataSources()),r=o(r,i);var u=[];for(var a=0;a<r.length;a++){if(r[a].getData().length===0)continue;u.push(r[a].getName())}var f=n.data,l=s(u),c=new e.Visualization({name:""report-""+u.join("","")}),h=new e.Interaction,p=new e.Interaction,d={};$.each(r,function(e,t){if(t.getData().length===0)return;d=$.extend(d,t.getMetrics())}),$.each(d,function(e,t){if($.inArray(e,f.envision_hide)!==-1)return;if(f[e]===undefined)return;l[e].data=f[e],l[e].data.length<Report.getProjectsList().length&&(l[e].config.legend.show=!0),f[e+""_relative""]&&(l[e].data=f[e+""_relative""])}),l.summary.data=f.summary,l[i].config.legend.show=!0,n.legend_show===!1&&(l[i].config.legend.show=!1),l[i].config.mouse.trackFormatter=n.trackFormatter,n.xTickFormatter&&(l.summary.config.xaxis.tickFormatter=n.xTickFormatter),l[i].config.yaxis.tickFormatter=n.yTickFormatter||function(e){return""$""+e};var v={};$.each(d,function(t,n){if(f[t]===undefined)return;$.inArray(t,f.envision_hide)===-1&&(v[t]=new e.Component(l[t]))}),connection=new e.Component(l.connection),summary=new e.Component(l.summary),$.each(v,function(e,t){c.add(t)}),c.add(connection).add(summary).render(n.container),$.each(v,function(e,t){h.follower(t)}),h.follower(connection).leader(summary).add(e.actions.selection,n.selectionCallback?{callback:n.selectionCallback}:null);var m=[];$.each(v,function(e,t){m.push(t)}),p.group(m).add(e.actions.hit),n.selection&&summary.trigger(""select"",n.selection)}var e=envision,t={};e.templates.Envision_Report=u}();if(Loader===undefined)var Loader={};(function(){function u(e,t){e.project_name===undefined&&(e.project_name=t.replace(""data/json"","""").replace(/\.\.\//g,""""));var n=Report.getProjectsData();n[e.project_name]={dir:t,url:e.project_url}}function a(e,t,n){$.when($.getJSON(e)).done(function(e){t(e,n),O()}).fail(function(){t([],n),O()})}function f(){var e=[""irc"",""mediawiki""],t=Report.getDataSources();$.each(t,function(t,n){$.inArray(n.getName(),e)>-1?n.setCompaniesData([]):a(n.getCompaniesDataFile(),n.setCompaniesData,n)})}function l(){var e=[""mediawiki""],t=Report.getDataSources();$.each(t,function(t,n){$.inArray(n.getName(),e)>-1?n.setReposData([]):a(n.getReposDataFile(),n.setReposData,n)}),a(Report.getReposMapFile(),Report.setReposMap)}function c(){var e=[""irc"",""mediawiki""],t=Report.getDataSources();$.each(t,function(t,n){$.inArray(n.getName(),e)>-1?n.setCountriesData([]):a(n.getCountriesDataFile(),n.setCountriesData,n)})}function h(){var e=[""irc"",""mediawiki""],t=Report.getDataSources();$.each(t,function(t,n){$.inArray(n.getName(),e)>-1?n.setDomainsData([]):a(n.getDomainsDataFile(),n.setDomainsData,n)})}function p(){var e=Report.getDataSources();$.each(e,function(e,t){t.getName()===""its""&&a(t.getTimeToFixDataFile(),t.setTimeToFixData,t)})}function d(){var e=Report.getDataSources();$.each(e,function(e,t){t.getName()===""its""&&a(t.getMarkovTableDataFile(),t.setMarkovTableData,t)})}function v(){var e=Report.getDataSources();$.each(e,function(e,t){t.getName()===""mls""&&a(t.getTimeToAttentionDataFile(),t.setTimeToAttentionData,t)})}function m(){var e=Report.getDataSources();$.each(e,function(e,t){a(t.getDemographicsAgingFile(),t.setDemographicsAgingData,t),a(t.getDemographicsBirthFile(),t.setDemographicsBirthData,t)})}function g(e){var t=Report.getDataSources();$.each(t,function(e,t){var n=t.getTopDataFile();$.when($.getJSON(n)).done(function(e){t.setGlobalTopData(e),O()}).fail(function(){t.setGlobalTopData([],t),O()})})}function y(e,t){var n=null;return $.each(Report.getDataSources(),function(r,i){if(t==""repos""&&$.inArray(e,i.getReposData())>-1)return n=i,!1;if(t==""companies""&&$.inArray(e,i.getCompaniesData())>-1)return n=i,!1;if(t==""countries""&&$.inArray(e,i.getCountriesData())>-1)return n=i,!1;if(t==""domains""&&$.inArray(e,i.getDomainsData())>-1)return n=i,!1}),n}function b(e){var t="""";return e===""repos""?t=""rep"":e===""companies""?t=""com"":e===""countries""?t=""cou"":e===""domains""&&(t=""dom""),t}function w(){var e=Report.getDataSources();$.each(e,function(e,t){a(t.getDataFile(),t.setData,t),a(t.getGlobalDataFile(),t.setGlobalData,t),t instanceof MLS&&a(t.getListsFile(),t.setListsData,t)})}function E(){a(""VizGrimoireJS/data/metrics.json"",Report.setMetricsDefinition)}function S(){var e=Report.getDataSources();$.each(e,function(e,t){a(t.getPeopleDataFile(),t.setPeopleData,t)})}function x(){a(Report.getDataDir()+""/people.json"",Report.setPeopleIdentities)}function T(e){return e.getCompaniesData()===null?!1:!0}function N(e){return e.getReposData()===null?!1:!0}function C(e){return e.getCountriesData()===null?!1:!0}function k(e){return e.getDomainsData()===null?!1:!0}function L(){var e=0,t=Report.getProjectsData(),n=Report.getProjectsDirs();for(var r in t)e++;return e<n.length?!1:!0}function A(){var e=!0;if(Report.getProjectData()===null||Report.getVizConfig()===null)return!1;if(Report.getConfig()===null&&Report.getMarkers()===null)return!1;if(Report.getReposMap()===null)return!1;if(Report.getConfig()===null&&!L())return!1;var t=Report.getDataSources();return $.each(t,function(t,n){if(n.getData()===null)return e=!1,!1;if(n.getGlobalData()===null)return e=!1,!1;if(n.getGlobalTopData()===null)return e=!1,!1;if(n.getDemographicsData().aging===undefined||n.getDemographicsData().birth===undefined)return e=!1,!1;if(n.getName()===""its""&&n.getTimeToFixData()===null)return e=!1,!1;if(n.getName()===""mls""&&n.getTimeToAttentionData()===null)return e=!1,!1}),e}function O(){if(A()){for(var n=0;n<t.length;n++)t[n]();t=[]}if(Loader.check_data_loaded())for(var r=0;r<e.length;r++)e[r].called!==!0&&e[r](),e[r].called=!0}var e=[],t=[],n=[],r=!1,i=!1,s=!1,o=[""scr"",""irc"",""mediawiki""];Loader.data_ready=function(t){e.push(t)},Loader.data_ready_global=function(e){t.push(e)},Loader.data_load=function(){Report.getConfig()!==null&&Report.getConfig().project_info!==undefined?(Report.setProjectData(Report.getConfig().project_info),Report.getConfig().markers&&a(Report.getMarkersFile(),function(e,t){Report.setMarkers(e)})):(a(Report.getProjectFile(),function(e,t){Report.setProjectData(e)}),a(Report.getMarkersFile(),function(e,t){Report.setMarkers(e)}));var e=Report.getProjectsDirs();for(var t=0;t<e.length;t++){var n=e[t],r=Report.getDataDir()+""/project-info.json"";a(r,u,n)}a(Report.getVizConfigFile(),function(e,t){Report.setVizConfig(e)}),E(),w(),g(""authors""),p(),v(),m(),d();if(Report.getConfig()!==null&&Report.getConfig().reports!==undefined){var i=Report.getConfig().reports;$.inArray(""companies"",i)>-1&&f(),$.inArray(""repositories"",i)>-1&&l(),$.inArray(""countries"",i)>-1&&c(),$.inArray(""domains"",i)>-1&&h(),$.inArray(""people"",i)>-1&&(S(),x())}else f(),l(),c(),h(),S(),x()},Loader.get_file_data_div=function(e,t,n){$.when($.getJSON(e)).done(function(r){t(n,e,r)}).fail(function(){t(e,null)})},Loader.check_filters_page=function(e){var t=!0,n=[""repos"",""companies"",""countries""];return $.each(n,function(n,r){if(!Loader.check_filter_page(e,r))return t=!1,!1}),t},Loader.check_filter_page=function(e,t){var n=!0;e===undefined&&(e=1);var r=Report.getPageSize()*(e-1),i=r+Report.getPageSize();return $.each(Report.getDataSources(),function(e,s){var o=0;t===""repos""&&(o=s.getReposData().length),t===""companies""&&(o=s.getCompaniesData().length),t===""countries""&&(o=s.getCountriesData().length),t===""domains""&&(o=s.getDomainsData().length),i>o&&(i=o);for(var u=r;u<i;u++){var a;if(t===""repos""){a=s.getReposData()[u];if(s.getReposGlobalData()[a]===undefined||s.getReposMetricsData()[a]===undefined)return n=!1,!1}if(t===""companies""){a=s.getCompaniesData()[u];if(s.getCompaniesGlobalData()[a]===undefined||s.getCompaniesMetricsData()[a]===undefined)return n=!1,!1}if(t===""countries""){a=s.getCountriesData()[u];if(s.getCountriesGlobalData()[a]===undefined||s.getCountriesMetricsData()[a]===undefined)return n=!1,!1}if(t===""domains""){a=s.getDomainsData()[u];if(s.getDomainsGlobalData()[a]===undefined||s.getDomainsMetricsData()[a]===undefined)return n=!1,!1}}i=r+Report.getPageSize()}),n},Loader.FilterItemCheck=function(e,t){var n=!0,r,i=Report.getReposMap();if(t===""repos""){if(Loader.check_item(e,t)===!1)return r=y(e,t),r===null?(Report.log(""Can't find data source for ""+e),!0):(Loader.data_load_item(e,r,null,Convert.convertFilterStudyItem,t,null),!1);if(i!==undefined&&i.length!==0){var s=[];$.each(Report.getDataSources(),function(n,r){var i=Convert.getRealItem(r,t,e);i!==undefined&&i!==null&&s.push(i)});if(Loader.check_items(s,t)===!1){for(var u=0;u<s.length;u++)if(Loader.check_item(s[u],t)===!1){r=y(s[u],t);if(r===null){Report.log(""Can't find ""+s[u]),Report.log(""Check repos-map.json"");continue}Loader.data_load_item(s[u],r,null,Convert.convertFilterStudyItem,t,s)}n=!1}}}else $.each(Report.getDataSources(),function(r,i){Loader.check_item(e,t)===!1&&(n=!1,Loader.data_load_item(e,i,null,Convert.convertFilterStudyItem,t,null),t===""companies""&&$.inArray(i.getName(),o)===-1&&Loader.data_load_item_top(e,i,null,Convert.convertFilterStudyItem,t))});return n},Loader.check_item=function(e,t){var n=!1;return $.each(Report.getDataSources(),function(r,i){if(t===""repos""&&i.getReposGlobalData()[e]!==undefined&&i.getReposMetricsData()[e]!==undefined)return n=!0,!1;if(t===""companies""){var s=i.getCompaniesData();if(s.length===0)n=!0;else if($.inArray(e,s)===-1)n=!0;else{if(i.getCompaniesGlobalData()[e]===undefined||i.getCompaniesMetricsData()[e]===undefined)return n=!1,!1;if($.inArray(i.getName(),o)===-1&&i.getCompaniesTopData()[e]===undefined)return n=!1,!1;n=!0}}if(t===""countries""){var u=i.getCountriesData();if(u.length===0)n=!0;else if($.inArray(e,u)===-1)n=!0;else{if(i.getCountriesGlobalData()[e]===undefined||i.getCountriesMetricsData()[e]===undefined)return n=!1,!1;n=!0}}if(t===""domains""){var a=i.getDomainsData();if(a.length===0)n=!0;else if($.inArray(e,a)===-1)n=!0;else{if(i.getDomainsGlobalData()[e]===undefined||i.getDomainsMetricsData()[e]===undefined)return n=!1,!1;n=!0}}}),n},Loader.check_items=function(e,t){var n=!0;return $.each(e,function(e,r){if(Loader.check_item(r,t)===!1)return n=!1,!1}),n},Loader.data_load_items_page=function(e,t,n,r){t===undefined&&(t=1);if(r===""repos""&&e.getReposData()===null)return!1;if(r===""companies""&&e.getCompaniesData()===null)return!1;if(r===""countries""&&e.getCountriesData()===null)return!1;if(r===""domains""&&e.getDomainsData()===null)return!1;var i=0;r===""repos""&&(i=e.getReposData().length),r===""companies""&&(i=e.getCompaniesData().length),r===""countries""&&(i=e.getCountriesData().length),r===""domains""&&(i=e.getDomainsData().length);if(i===0)return!0;var s=Report.getPageSize()*(t-1),o=s+Report.getPageSize();o>i&&(o=i);for(var u=s;u<o;u++)if(r===""repos""){var a=e.getReposData()[u];Loader.data_load_item(a,e,t,n,""repos"")}else if(r===""companies""){var f=e.getCompaniesData()[u];Loader.data_load_item(f,e,t,n,""companies"")}else if(r===""countries""){var l=e.getCountriesData()[u];Loader.data_load_item(l,e,t,n,""countries"")}else if(r===""domains""){var c=e.getDomainsData()[u];Loader.data_load_item(c,e,t,n,""domains"")}},Loader.check_people_item=function(e){var t=!0;return $.each(Report.getDataSources(),function(n,r){if(r.getPeopleGlobalData()[e]===undefined||r.getPeopleMetricsData()[e]===undefined)return t=!1,!1}),t},Loader.data_load_people_item=function(e,t,n){var r=t.getDataDir()+""/people-""+e+""-""+t.getName(),i=r+""-evolutionary.json"",s=r+""-static.json"";$.when($.getJSON(i),$.getJSON(s)).done(function(r,i){t.addPeopleMetricsData(e,r[0],t),t.addPeopleGlobalData(e,i[0],t),Loader.check_people_item(e)&&n(e)}).fail(function(){t.addPeopleMetricsData(e,[],t),t.addPeopleGlobalData(e,[],t),Loader.check_people_item(e)&&n(e)})},Loader.data_load_item_top=function(e,t,n,r,i){var s=t.getDataDir()+""/""+e+""-""+t.getName();s+=""-""+b(i)+""-top-"";if(t.getName()===""scm"")s+=""authors"";else if(t.getName()===""its"")s+=""closers"";else{if(t.getName()!==""mls"")return;s+=""senders""}s+="".json"",$.when($.getJSON(s)).done(function(n){i===""companies""&&t.addCompanyTopData(e,n)}).fail(function(){i===""companies""&&t.addCompanyTopData(e,[])}).always(function(){Loader.check_item(e,i)&&(r.called_item||r(i),r.called_item=!0)})},Loader.data_load_item=function(e,t,n,r,i,s){var o=[""irc"",""mediawiki""],u=[""irc"",""mediawiki""],a=[""irc"",""mediawiki""],f=[""mediawiki""];if(i===""repos""){if($.inArray(t.getName(),f)>-1){t.addRepoMetricsData(e,[],t),t.addRepoGlobalData(e,[],t);return}}else if(i===""companies""){if($.inArray(t.getName(),u)>-1){t.addCompanyMetricsData(e,[],t),t.addCompanyGlobalData(e,[],t);return}}else if(i===""countries""){if($.inArray(t.getName(),o)>-1){t.addCountryMetricsData(e,[],t),t.addCountryGlobalData(e,[],t);return}}else{if(i!==""domains"")return;if($.inArray(t.getName(),a)>-1){t.addDomainMetricsData(e,[],t),t.addDomainGlobalData(e,[],t);return}}var l=encodeURIComponent(e),c=t.getDataDir()+""/""+l+""-"";c+=t.getName()+""-""+b(i);var h=c+""-evolutionary.json"",p=c+""-static.json"";$.when($.getJSON(h),$.getJSON(p)).done(function(n,r){i===""repos""?(t.addRepoMetricsData(e,n[0],t),t.addRepoGlobalData(e,r[0],t)):i===""companies""?(t.addCompanyMetricsData(e,n[0],t),t.addCompanyGlobalData(e,r[0],t)):i===""countries""?(t.addCountryMetricsData(e,n[0],t),t.addCountryGlobalData(e,r[0],t)):i===""domains""&&(t.addDomainMetricsData(e,n[0],t),t.addDomainGlobalData(e,r[0],t))}).always(function(){n!==null?Loader.check_filter_page(n,i)&&(r.called_page===undefined?(r.called_page={},r.called_page[i]=!0,r(i)):r.called_page[i]||(r(i),r.called_page[i]=!0)):s!==null?Loader.check_items(s,i)&&(r.called_map===undefined?(r.called_map={},r.called_map[i]=!0,r(i)):r.called_map[i]||(r(i),r.called_map[i]=!0)):Loader.check_item(e,i)&&(r.called_item===undefined?(r.called_item={},r.called_item[i]=!0,r(i,e)):r.called_item[i]||(r(i,e),r.called_item[i]=!0))})},Loader.check_data_loaded=function(){var e=!0;if(!A())return!1;var t=Report.getDataSources(),n=[""companies"",""repositories"",""countries"",""domains""];return Report.getConfig()!==null&&Report.getConfig().reports!==undefined&&(n=Report.getConfig().reports),$.each(t,function(t,r){if(r.getPeopleData()===null)return e=!1,!1;if($.inArray(""companies"",n)>-1&&!T(r))return e=!1,!1;if($.inArray(""repositories"",n)>-1&&!N(r))return e=!1,!1;if($.inArray(""countries"",n)>-1&&!C(r))return e=!1,!1;if($.inArray(""domains"",n)>-1&&!k(r))return e=!1,!1;if(r instanceof MLS&&r.getListsData()===null)return e=!1,!1}),e}})();var DataProcess={};(function(){DataProcess.info=function(){},DataProcess.paginate=function(e,t){if(t===undefined||t===0||isNaN(t))return e;var n=[],r=Report.getPageSize(),i=(t-1)*r;for(var s=i;s<r*t;s++)e[s]&&n.push(e[s]);return n},DataProcess.convert=function(e,t,n){return t===""aggregate""?e=DataProcess.aggregate(e,n):t===""substract""?(e=DataProcess.substract(e,n[0],n[1]),n=[""substract""]):t===""substract-aggregate""?(e=DataProcess.substract(e,n[0],n[1]),n=[""substract""],e=DataProcess.aggregate(e,n)):t===""divide""&&(e=DataProcess.divide(e,n[0],n[1]),n=[""divide""]),e},DataProcess.sortCompanies=function(e,t){return sortGlobal(e,t,""companies"")},DataProcess.sortCountries=function(e,t){return sortGlobal(e,t,""countries"")},DataProcess.sortRepos=function(e,t){return sortGlobal(e,t,""repos"")},DataProcess.sortDomains=function(e,t){return sortGlobal(e,t,""domains"")},sortGlobal=function(e,t,n){t===undefined&&(t=""scm_commits"");var r=[],i=[],s=[];n===""companies""?i=e.getCompaniesData():n===""repos""?i=e.getReposData():n===""countries""?i=e.getCountriesData():n===""domains""&&(i=e.getDomainsData());if(i===null)return[];if(n!==""repos"")return i;metrics_data=e.getReposDataFull();if(metrics_data instanceof Array||t in metrics_data==0)return i;for(var o=0;o<metrics_data[t].length;o++){var u=metrics_data[t][o];u===""NA""&&(u=0),r.push([metrics_data.name[o],u])}return r.sort(function(e,t){return t[1]-e[1]}),$.each(r,function(e,t){s.push(t[0])}),s},DataProcess.orderItems=function(e){$.each($(""[class^='FilterItems']""),function(t,n){order_by=$(this).data(""order-by"");if(order_by!==undefined){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;var r=$(this).data(""filter"");if(r===undefined)return;if(r!==e)return;Report.log(""Ordering with ""+order_by+"" ""+ds+"" for ""+r);var i=sortGlobal(DS,order_by,r);r===""companies""&&DS.setCompaniesData(i),r===""repos""&&DS.setReposData(i),r===""countries""&&DS.setReposData(i),r===""domains""&&DS.setReposData(i)}})},DataProcess.mergeConfig=function(e,t){var n={};return $.each(e,function(e,t){n[e]=t}),$.each(t,function(e,t){n[e]=t}),n},DataProcess.hideEmail=function(e){var t=e;return typeof e==""string""&&e.indexOf(""@"")>-1&&(t=e.split(""@"")[0]),t},DataProcess.selectPersonName=function(e){var t="""",n,r;for(var i=0;i<e.identity.length;i++)n=e.identity[i],r=e.type[i],r===""name""&&n.length>t.length&&(t=n);return t},DataProcess.selectPersonEmail=function(e){var t="""",n,r;for(var i=0;i<e.identity.length;i++)n=e.identity[i],r=e.type[i],r===""email""&&(t=n);return t},DataProcess.frameTime=function(e,t){var n={},r=-1,i=-1,s=0;if(t.length===0)return e;var o=e[t[0]].length,u=0;$.each(t,function(t,n){s=0;for(u=0;u<e[n].length;u++){if(e[n][u]!==0){r===-1&&(r=s),s<r&&(r=s);break}s++}}),$.each(t,function(t,n){s=0;for(u=e[n].length-1;u>=0;u--){if(e[n][u]!==0){i===-1&&(i=s),s<i&&(i=s);break}s++}});for(var a in e){n[a]=[];for(u=0;u<e[a].length;u++){if(u<r)continue;if(u>=o-i)continue;n[a].push(e[a][u])}}return n},DataProcess.filterDates=function(e,t,n){var r={};return $.each(n,function(i,s){r[i]=[],$.each(s,function(s,o){var u=n.unixtime[s];u>e&&(!t||t&&u<=t)&&r[i].push(o)})}),r},DataProcess.filterYear=function(e,t){e=parseInt(e,null);var n=(new Date(e.toString())).getTime(),r=(new Date((e+1).toString())).getTime(),i=filterDates(n,r,t);return i},DataProcess.fillDates=function(e,t){if(e[0].length===0)return t;var n=[[],[]],r=0;if(e[0][0]>t[0][0])for(r=0;r<t[0].length;r++)n[0][r]=t[0][r],n[1][r]=t[1][r];for(r=0;r<e[0].length;r++)pos=n[0].indexOf(e[0][r]),pos===-1&&(n[0].push(e[0][r]),n[1].push(e[1][r]));if(e[0][e[0].length-1]<t[0][t[0].length-1])for(r=0;r<t[0].length;r++)pos=n[0].indexOf(t[0][r]),pos===-1&&(n[0].push(t[0][r]),n[1].push(t[1][r]));return n},DataProcess.fillHistory=function(e,t){var n=[[],[]];for(var r=0;r<e.length;r++)pos=t[0].indexOf(e[r]),n[0][r]=e[r],pos!=-1?n[1][r]=t[1][pos]:n[1][r]=0;return n},DataProcess.fillHistoryLines=function(e,t){var n=[[],[]],r=[[],[]],i=[];for(var s=0;s<t.length;s++)n[0].push(t[s][0]),n[1].push(t[s][1]);r=DataProcess.fillHistory(e,n);for(s=0;s<e.length;s++)i.push([r[0][s],r[1][s]]);return i},DataProcess.addRelativeValues=function(e,t){if(e[t]===undefined)return;e[t+""_relative""]=[];var n=[];$.each(e[t],function(e,t){var r=t.data[1];for(var i=0;i<r.length;i++)n[i]===undefined&&(n[i]=0),n[i]+=r[i]}),$.each(e[t],function(r,i){var s=[];for(var o=0;o<i.data[0].length;o++)if(n[o]===0)s[o]=0;else{var u=i.data[1][o]/n[o]*100;s[o]=u}e[t+""_relative""].push({label:i.label,data:[i.data[0],s]})})},DataProcess.aggregate=function(e,t){var n={};return t instanceof Array||(t=[t]),$.each(e,function(r,i){if($.inArray(r,t)>-1){var s=[];s[0]=e[r][0];for(var o=1;o<e[r].length;o++)s[o]=s[o-1]+e[r][o];n[r]=s}else n[r]=e[r]}),n},DataProcess.substract=function(e,t,n){var r={},i=[];for(var s=0;s<e[t].length;s++)i[s]=e[t][s]-e[n][s];return $.each(e,function(t,n){r[t]=e[t]}),r.substract=i,r},DataProcess.divide=function(e,t,n){var r={},i=[];for(var s=0;s<e[t].length;s++)e[t][s]===0||e[n][s]===0?i[s]=0:i[s]=parseInt(e[t][s]/e[n][s],null);return $.each(e,function(t,n){r[t]=e[t]}),r.divide=i,r},DataProcess.revomeLastPoint=function(e){var t={};return $.each(e,function(n,r){t[n]=[];for(var i=0;i<e[n].length-1;i++)t[n].push(e[n][i])}),t}})();var Convert={};(function(){function e(){data=Report.getProjectData(),document.title=data.project_name+"" Report by Bitergia"",data.title&&(document.title=data.title),$("".report_date"").text(data.date),$("".report_name"").text(data.project_name),str=data.blog_url,str&&str.length>0?($(""#blogEntry"").html(""<br><a href='""+str+""'>Blog post with some more details</a>""),$("".blog_url"").attr(""href"",data.blog_url)):$(""#more_info"").hide(),str=data.producer,str&&str.length>0?$(""#producer"").html(str):$(""#producer"").html(""<a href='http://bitergia.com'>Bitergia</a>""),$("".project_name"").text(data.project_name),$(""#project_url"").attr(""href"",data.project_url)}function t(){return Math.floor(Math.random()*1e3+1)}function n(){var e={};return e.show_desc=!1,e.show_title=!1,e.show_labels=!0,e.show_legend=!1,e}Convert.convertMicrodashText=function(){var e=$("".MicrodashText"");e.length>0&&$.each(e,function(e,t){$(this).empty();var n=$(this).data(""metric""),r=$(this).data(""name""),i=Report.getMetricDS(n)[0];if(i===undefined)return;var s=i.getGlobalData()[n],o='<div class=""row-fluid"">';r&&(o+='<div class=""span3"">',o+='<span class=""dayschange"">'+i.basic_metrics[n].name+""</span>"",o+=""</div>""),$.each([365,30,7],function(e,t){var s=i.getMetrics()[n].column,u=i.getGlobalData()[n+""_""+t],a=i.getGlobalData()[""diff_net""+s+""_""+t],f=i.getGlobalData()[""percentage_""+s+""_""+t];f=Math.round(f*10)/10;if(u===undefined)return;var l="""";a>0&&(l=""+""+f),a<0&&(l=""-""+Math.abs(f)),r?o+='<div class=""span3"">':o+='<div class=""span4"">',o+='<span class=""dayschange"">Last '+t+"" days:</span>"",o+="" ""+Report.formatValue(u)+""<br>"",a===0?o+='<i class=""fa fa-arrow-circle-right""></i> <span class=""zeropercent"">&nbsp;'+l+""%</span>&nbsp;"":a>0?o+='<i class=""fa fa-arrow-circle-up""></i> <span class=""pospercent"">&nbsp;'+l+""%</span>&nbsp;"":a<0&&(o+='<i class=""fa fa-arrow-circle-down""></i> <span class=""negpercent"">&nbsp;'+l+""%</span>&nbsp;""),o+=""</div><!--span4-->""}),o+=""</div><!--row-fluid-->"",$(t).append(o)})},Convert.convertMicrodash=function(){var e=$("".Microdash"");e.length>0&&$.each(e,function(e,t){$(this).empty();var n=$(this).data(""metric""),r=$(this).data(""text""),i=Report.getMetricDS(n)[0],s=i.getGlobalData()[n],o=""<div>"";o+='<div style=""float:left"">',o+='<span class=""medium-fp-number"">'+Report.formatValue(s),o+=""</span> ""+i.getMetrics()[n].name,o+=""</div>"",o+='<div id=""Microdash"" class=""MetricsEvol"" data-data-source=""'+i.getName()+'"" data-metrics=""'+n+'"" data-min=true style=""margin-left:10px; float:left;width:100px; height:25px;""></div>',o+='<div style=""clear:both""></div><div>',$.each([365,30,7],function(e,t){var r=i.getMetrics()[n].column,s=i.getGlobalData()[""diff_net""+r+""_""+t],u=i.getGlobalData()[""percentage_""+r+""_""+t],a=i.getGlobalData()[n+""_""+t];if(a===undefined)return;o+=""<span class='dayschange'>""+t+"" Days Change</span>:""+Report.formatValue(a)+""&nbsp;"",s===0?o+="""":s>0?(o+='<i class=""icon-circle-arrow-up""></i>',o+=""<small>(+""+u+""%)</small>&nbsp;""):s<0&&(o+='<i class=""icon-circle-arrow-down""></i>',o+=""<small>(-""+Math.abs(u)+""%)</small>&nbsp;"")}),o+=""</div>"",o+=""<div>"",$(t).append(o)})},Convert.convertNavbar=function(){$.get(Report.getHtmlDir()+""navbar.html"",function(t){$(""#Navbar"").html(t),e(),Report.displayActiveMenu();var n=Report.addDataDir();if(n){var r=$(""#Navbar a"");$.each(r,function(e,t){if(t.href.indexOf(""data_dir"")!==-1)return;t.href+=""?""+n})}})},Convert.convertFooter=function(){$.get(Report.getHtmlDir()+""footer.html"",function(e){$(""#Footer"").html(e),$(""#vizjs-lib-version"").append(vizjslib_git_tag)})},Convert.convertSummary=function(){div_param=""Summary"";var e=$("".""+div_param);e.length>0&&$.each(e,function(e,t){$(this).empty();var n=$(this).data(""data-source""),r=Report.getDataSourceByName(n);if(r===null)return;t.id=n+""-Summary"",r.displayGlobalSummary(t.id)})},Convert.convertRefcard=function(){$.when($.get(Report.getHtmlDir()+""refcard.html""),$.get(Report.getHtmlDir()+""project-card.html"")).done(function(t,n){refcard=t[0],projcard=n[0],$(""#Refcard"").html(refcard),e(),$.each(Report.getProjectsData(),function(e,t){var n=""card-""+e.replace(""."","""").replace("" "","""");$(""#Refcard #projects_info"").append(projcard),$(""#Refcard #projects_info #new_card"").attr(""id"",n),$.each(Report.getDataSources(),function(t,r){if(r.getProject()!==e){$(""#""+n+"" .""+r.getName()+""-info"").hide();return}r.displayData(n)}),$(""#""+n+"" #project_name"").text(e),Report.getProjectsDirs.length>1&&$(""#""+n+"" .project_info"").append(' <a href=""VizGrimoireJS/browser/index.html?data_dir=../../'+t.dir+'"">Report</a>'),$(""#""+n+"" #project_url"").attr(""href"",t.url)})})},Convert.convertGlobalData=function(){var e=$("".GlobalData"");e.length>0&&$.each(e,function(e,t){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;var n=DS.getGlobalData(),r=$(this).data(""field"");$(this).text(Report.formatValue(n[r],r))})},Convert.convertRadarActivity=function(){var e=""RadarActivity"",t=$(""#""+e);t.length>0&&($.each(t,function(e,t){$(this).empty()}),Viz.displayRadarActivity(e))},Convert.convertRadarCommunity=function(){var e=""RadarCommunity"",t=$(""#""+e);t.length>0&&($.each(t,function(e,t){$(this).empty()}),Viz.displayRadarCommunity(""RadarCommunity""))},Convert.convertTreemap=function(){var e=""Treemap"",t=$(""#""+e);if(t.length>0){$.each(t,function(e,t){$(this).empty()});var n=$(""#Treemap"").data(""file"");$(""#Treemap"").empty(),Viz.displayTreeMap(""Treemap"",n)}},Convert.convertBubbles=function(){div_param=""Bubbles"";var e=$("".""+div_param);e.length>0&&$.each(e,function(e,t){$(this).empty();var n=$(this).data(""data-source""),r=Report.getDataSourceByName(n);if(r===null)return;if(r.getData().length===0)return;var i=$(this).data(""radius"");t.id=n+""-Bubbles"",r.displayBubbles(t.id,i)})},Convert.convertMetricsEvol=function(){var e={};e.show_desc=!1,e.show_title=!0,e.show_labels=!0;var t=Report.getVizConfig();t&&$.each(t,function(t,n){e[t]=n});var n=""MetricsEvol"",r=$("".""+n);r.length>0&&$.each(r,function(t,n){var r={};$.each(e,function(e,t){r[e]=t}),$(this).empty();var i=$(this).data(""metrics""),s=$(this).data(""data-source""),o=Report.getDataSourceByName(s);if(o===null)return;r.help=!0;var u=$(this).data(""help"");u!==undefined&&(r.help=u),r.show_legend=!1,$(this).data(""legend"")&&(r.show_legend=!0),$(this).data(""frame-time"")&&(r.frame_time=!0),r.graph=$(this).data(""graph""),$(this).data(""min"")&&(r.show_legend=!1,r.show_labels=!0,r.show_grid=!0,r.help=!1),r.ligth_style=!1,$(this).data(""light-style"")&&(r.light_style=!0),$(this).data(""custom-title"")&&(r.custom_title=$(this).data(""custom-title"")),r.help&&$(this).data(""custom-help"")?r.custom_help=$(this).data(""custom-help""):r.custom_help="""";var a=$(this).data(""start"");a&&(r.start_time=a);var f=$(this).data(""end"");f&&(r.end_time=f);var l=$(this).data(""remove-last-point"");l&&(r.remove_last_point=!0),n.id=i.replace(/,/g,""-"")+""-""+s+""-metrics-evol-""+this.id,n.id=n.id.replace(/\n|\s/g,""""),o.displayMetricsEvol(i.split("",""),n.id,r,$(this).data(""convert""))})},Convert.convertMetricsEvolSet=function(){div_param=""MetricsEvolSet"";var e=$("".""+div_param);e.length>0&&$.each(e,function(e,t){$(this).empty();var n=$(this).data(""all""),r=$(this).data(""relative""),i=$(this).data(""summary-graph""),s=$(this).data(""legend-show"");t.id=o+""-MetricsEvolSet-""+this.id;if(n===!0)return t.id=o+""-All"",Viz.displayEnvisionAll(t.id,r,s,i),!1;var o=$(this).data(""data-source""),u=Report.getDataSourceByName(o);if(u===null)return;u.displayEnvision(t.id,r,s,i)})},Convert.convertTimeTo=function(){var e=""TimeTo"";divs=$("".""+e),divs.length>0&&$.each(divs,function(e,t){$(this).empty();var n=$(this).data(""data-source""),r=Report.getDataSourceByName(n);if(r===null)return;var i=$(this).data(""quantil""),s=$(this).data(""type"");t.id=n+""-time-to-""+s+""-""+i,s===""fix""&&r.displayTimeToFix(t.id,i),s===""attention""&&r.displayTimeToAttention(t.id,i)})},Convert.convertMarkovTable=function(){var e=""MarkovTable"",t=$("".""+e),n,r;t.length>0&&$.each(t,function(e,t){$(this).empty(),r=$(this).data(""data-source""),n=Report.getDataSourceByName(r);if(n===null)return;if(n.getData().length===0)return;var i=$(this).data(""title"");t.id=r+""-markov-table"",n.displayMarkovTable(t.id,i)})},Convert.convertLastActivity=function(){function t(t,n,r){var i=""<h4>Last ""+r+""</h4>"";$.each(Report.getDataSources(),function(t,s){var o=s.getGlobalData();$.each(o,function(t,s){var u=""_""+n;if(t.indexOf(u,t.length-u.length)!==-1){var a=t.substring(0,t.length-u.length);r=a,e[a]&&(r=e[a].name),i+=r+"":""+o[t]+""<br>""}})}),$(t).append(i)}var e=Report.getAllMetrics(),n=$("".LastActivity""),r=null,i={Week:7,Month:30,Quarter:90,Year:365};n.length>0&&$.each(n,function(e,n){r=$(n).data(""period""),t(n,i[r],r)})},Convert.convertTop=function(){var e=""Top"",t=$("".""+e),n,r;if(t.length>0){var i=0;$.each(t,function(t,s){$(this).empty(),r=$(this).data(""data-source""),n=Report.getDataSourceByName(r);if(n===null)return;if(n.getData().length===0)return;var o=!1;$(this).data(""show_all"")&&(o=!0);var u=$(this).data(""metric""),a=$(this).data(""limit""),f=$(this).data(""graph""),l=$(this).data(""people_links""),c=$(this).data(""threads_links""),h=$(this).data(""period""),p=$(this).data(""period_all"");s.id=r+""-""+e+i++,f&&(s.id+=""-""+f),h===undefined&&p===undefined&&(p=!0),a===undefined&&(a=10),n.displayTop(s.id,o,u,h,p,f,a,l,c)})}},Convert.convertPersonMetrics=function(e,t){var n={};n.show_desc=!1,n.show_title=!1,n.show_labels=!0,divs=$("".PersonMetrics""),divs.length&&$.each(divs,function(r,i){$(this).empty(),ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;var s=$(this).data(""metrics"");n.show_legend=!1,$(this).data(""legend"")&&(n.show_legend=!0),$(this).data(""person_id"")&&(e=$(this).data(""person_id"")),$(this).data(""person_name"")&&(t=$(this).data(""person_name"")),i.id=s.replace(/,/g,""-"")+""-people-metrics"",DS.displayMetricsPeople(e,t,s.split("",""),i.id,n)})},Convert.convertPersonData=function(e,n){var r=$("".PersonData""),i,s;r.length>0&&$.each(r,function(r,o){$(this).empty(),$(this).data(""person_id"")&&(e=$(this).data(""person_id"")),o.id||(o.id=""PersonData-""+e+""-""+t());var u=Report.getPeopleIdentities()[e];u?(i=DataProcess.selectPersonName(u),s=DataProcess.selectPersonEmail(u),s=""(""+DataProcess.hideEmail(s)+"")""):(i=n,s=""""),$(""#""+o.id).append(""<h1><small>""+i+"" ""+s+""</small></h1>"")})},Convert.convertPersonSummary=function(e,t){var n=$("".PersonSummary"");n.length>0&&$.each(n,function(n,r){$(this).empty(),ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;$(this).data(""person_id"")&&(e=$(this).data(""person_id"")),$(this).data(""person_name"")&&(t=$(this).data(""person_name"")),r.id=ds+""-refcard-people"",DS.displayPeopleSummary(r.id,e,t,DS)})},Convert.convertPeople=function(e,t){e===undefined&&(e=Report.getParameterByName(""id"")),t===undefined&&(t=Report.getParameterByName(""name""));if(e===undefined)return;if(Loader.check_people_item(e)===!1){$.each(Report.getDataSources(),function(t,n){Loader.data_load_people_item(e,n,Convert.convertPeople)});return}Convert.convertPersonData(e,t),Convert.convertPersonSummary(e,t),Convert.convertPersonMetrics(e,t),Convert.activateHelp()},Convert.convertDemographics=function(){var e=$("".Demographics"");e.length>0&&$.each(e,function(e,t){$(this).empty(),ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;var n=$(this).data(""period"");t.id=""Demographics-""+ds+""-""+""-""+n,DS.displayDemographics(t.id,n)})},Convert.getRealItem=function(e,t,n){var r=Report.getReposMap();if(r===undefined||r.length===0)return $.inArray(n,e.getReposData())>-1?n:null;var i=null;if(t===""repos""){var s=e.getReposMetricsData()[n];s===undefined?$.each(r,function(t,r){$.each(Report.getDataSources(),function(t,s){if(r[s.getName()]===n)return i=r[e.getName()],!1});if(i!==null)return!1}):i=n}else i=n;return i },Convert.convertFilterItemsSummary=function(e){var t=""FilterItemsSummary"";divs=$("".""+t),divs.length>0&&$.each(divs,function(n,r){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;r.id=ds+""-""+t,$(this).empty(),e===""repos""&&DS.displayReposSummary(r.id,DS),e===""countries""&&DS.displayCountriesSummary(r.id,DS),e===""companies""&&DS.displayCompaniesSummary(r.id,DS),e===""domains""&&DS.displayDomainsSummary(r.id,DS)})},Convert.convertFilterItemsGlobal=function(e){var t=n(),r=""FilterItemsGlobal"";divs=$("".""+r),divs.length>0&&$.each(divs,function(n,i){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;var s=$(this).data(""metric""),o=$(this).data(""show-others""),u=$(this).data(""order-by"");t.show_legend=$(this).data(""legend""),$(""#""+$(this).data(""legend-div"")).length>0?t.legend={container:$(this).data(""legend-div"")}:t.legend={container:null},t.graph=$(this).data(""graph""),i.id=s+""-""+r,$(this).empty(),e===""repos""&&DS.displayMetricReposStatic(s,i.id,t,u,o),e===""countries""&&DS.displayMetricCountriesStatic(s,i.id,t,u,o),e===""companies""&&DS.displayMetricCompaniesStatic(s,i.id,t,u,o),e===""domains""&&DS.displayMetricDomainsStatic(s,i.id,t,u,o)})},Convert.convertFilterItemsNav=function(e,t){var n=""FilterItemsNav"";divs=$("".""+n),divs.length>0&&$.each(divs,function(r,i){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;$(this).data(""page"")&&(t=$(this).data(""page"")),order_by=$(this).data(""order-by""),i.id=ds+""-""+n,$(this).empty(),e===""repos""?DS.displayItemsNav(i.id,e,t,order_by):e===""countries""?DS.displayItemsNav(i.id,e,t):e===""companies""?DS.displayItemsNav(i.id,e,t):e===""domains""&&DS.displayItemsNav(i.id,e,t)})},Convert.convertFilterItemsMetricsEvol=function(e){var t=n(),r=""FilterItemsMetricsEvol"";divs=$("".""+r),divs.length>0&&$.each(divs,function(n,i){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;var s=$(this).data(""metric""),o=!1;$(this).data(""stacked"")&&(o=!0);var u=$(this).data(""start""),a=$(this).data(""end"");t.lines={stacked:o},$(""#""+$(this).data(""legend-div"")).length>0?t.legend={container:$(this).data(""legend-div"")}:t.legend={container:null},t.show_legend=$(this).data(""legend"");var f=$(this).data(""remove-last-point"");f&&(t.remove_last_point=!0),i.id=s+""-""+r,$(this).empty(),e===""companies""?DS.displayMetricCompanies(s,i.id,t,u,a):e===""repos""?DS.displayMetricRepos(s,i.id,t,u,a):e===""domains""&&DS.displayMetricDomains(s,i.id,t,u,a)})},Convert.convertFilterItemsMiniCharts=function(e,t){var r=n(),i=""FilterItemsMiniCharts"";divs=$("".""+i),divs.length>0&&$.each(divs,function(n,s){ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;$(this).data(""page"")&&(t=$(this).data(""page""));var o=$(this).data(""metrics""),u=$(this).data(""order-by""),a=!0;$(this).data(""show_links"")!==undefined&&(a=$(this).data(""show_links""));var f=$(this).data(""start""),l=$(this).data(""end""),c=$(this).data(""convert""),h=$(this).data(""remove-last-point"");h&&(r.remove_last_point=!0),s.id=o.replace(/,/g,""-"")+""-""+e+""-""+i,$(this).empty(),e===""repos""?DS.displayReposList(o.split("",""),s.id,r,u,t,a,f,l,c):e===""countries""?DS.displayCountriesList(o.split("",""),s.id,r,u,t,a,f,l,c):e===""companies""?DS.displayCompaniesList(o.split("",""),s.id,r,u,t,a,f,l,c):e===""domains""&&DS.displayDomainsList(o.split("",""),s.id,r,u,t,a,f,l,c)})},Convert.convertFilterItemData=function(e,n){var r=$("".FilterItemData"");r.length>0&&$.each(r,function(e,r){$(this).empty();var i=Report.cleanLabel(n);r.id||(r.id=""FilterItemData""+t()),$(""#""+r.id).append(""<h1><small>""+i+""</small></h1>"")})},Convert.convertFilterItemSummary=function(e,t){var n=""FilterItemSummary"";divs=$("".""+n),t!==null&&divs.length>0&&$.each(divs,function(r,i){var s=t;ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;$(this).data(""item"")&&(s=$(this).data(""item"")),i.id=ds+""-""+e+""-""+n,$(this).empty(),e===""repos""?(s=Convert.getRealItem(DS,e,s),s&&DS.displayRepoSummary(i.id,s,DS)):e===""countries""?DS.displayCountrySummary(i.id,s,DS):e===""companies""?DS.displayCompanySummary(i.id,s,DS):e===""domains""&&DS.displayDomainSummary(i.id,s,DS)})},Convert.convertFilterItemMetricsEvol=function(e,t){var r=n(),i=""FilterItemMetricsEvol"";divs=$("".""+i),t!==null&&divs.length>0&&$.each(divs,function(n,s){var o=t;ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;$(this).data(""item"")&&(o=$(this).data(""item""));var u=$(this).data(""metrics"");r.show_legend=!1,r.frame_time=!1,$(this).data(""legend"")&&(r.show_legend=!0),$(this).data(""frame-time"")&&(r.frame_time=!0),s.id=Report.cleanLabel(t).replace(/ /g,""_"")+""-"",s.id+=u.replace(/,/g,""-"")+""-""+ds+""-""+e+""-""+i,$(this).empty(),e===""repos""?(o=Convert.getRealItem(DS,e,o),o?DS.displayMetricsRepo(o,u.split("",""),s.id,r):$(this).hide()):e===""countries""?DS.displayMetricsCountry(o,u.split("",""),s.id,r):e===""companies""?DS.displayMetricsCompany(o,u.split("",""),s.id,r):e===""domains""&&DS.displayMetricsDomain(o,u.split("",""),s.id,r)})},Convert.convertFilterItemTop=function(e,n){var r=""FilterItemTop"";divs=$("".""+r),divs.length>0&&$.each(divs,function(i,s){var o=n;$(this).empty(),ds=$(this).data(""data-source""),DS=Report.getDataSourceByName(ds);if(DS===null)return;e===undefined&&(e=$(this).data(""filter""));if(e!==$(this).data(""filter""))return;if(!e)return;$(this).data(""item"")&&(o=$(this).data(""item""));var u=$(this).data(""metric""),a=$(this).data(""period""),f=$(this).data(""titles"");s.id=u+""-""+ds+""-""+e+""-""+r+""-""+t(),$(this).empty(),s.className="""",e===""companies""&&DS.displayTopCompany(o,s.id,u,a,f)})},Convert.convertFilterStudyItem=function(e,t){var n=Convert.convertFilterStudyItem;if(n.done===undefined)n.done={};else if(n.done[e]===!0)return;e===""repositories""&&(e=""repos""),t===undefined&&(e===""repos""&&(t=Report.getParameterByName(""repository"")),e===""countries""&&(t=Report.getParameterByName(""country"")),e===""companies""&&(t=Report.getParameterByName(""company"")),e===""domains""&&(t=Report.getParameterByName(""domain"")));if(!t)return;if(Loader.FilterItemCheck(t,e)===!1)return;Convert.convertFilterItemData(e,t),Convert.convertFilterItemSummary(e,t),Convert.convertFilterItemMetricsEvol(e,t),Convert.convertFilterItemTop(e,t),Convert.activateHelp(),n.done[e]=!0},Convert.activateHelp=function(){$("".help"").popover({html:!0,trigger:""manual""}).click(function(e){$(this).popover(""toggle""),e.stopPropagation()})},Convert.convertFilterStudy=function(e){var t=Report.getCurrentPage();t===null&&(t=Report.getParameterByName(""page""),t!==undefined&&Report.setCurrentPage(t));if(t===undefined){if(!($(""[class^='FilterItems']"").length>0))return;t=1,Report.setCurrentPage(t)}e===""repositories""&&(e=""repos"");if(Loader.check_filter_page(t,e)===!1){$.each(Report.getDataSources(),function(n,r){Loader.data_load_items_page(r,t,Convert.convertFilterStudy,e)});return}Convert.convertFilterItemsSummary(e),Convert.convertFilterItemsGlobal(e),Convert.convertFilterItemsNav(e,t),Convert.convertFilterItemsMetricsEvol(e),Convert.convertFilterItemsMiniCharts(e,t)},Convert.convertBasicDivs=function(){Convert.convertNavbar(),Convert.convertFooter(),Convert.convertRefcard(),Convert.convertGlobalData(),Convert.convertSummary()},Convert.convertBasicDivsMisc=function(){Convert.convertRadarActivity(),Convert.convertRadarCommunity(),Convert.convertTreemap(),Convert.convertBubbles()},Convert.convertBasicMetrics=function(e){Convert.convertMetricsEvol(),Convert.convertTimeTo(),Convert.convertMarkovTable()}})();if(Report===undefined)var Report={};(function(){function E(){return t}function S(){return n}function x(){return r}function T(e){r=e}function N(){return e}function C(){return c}function k(e){var t=e.toString().split(""."");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"",""),t.join(""."")}function L(e){var t=[];return $.each(Report.getDataSources(),function(n,r){r.getMetrics()[e]&&t.push(r)}),t}function A(){var e={};return $.each(Report.getDataSources(),function(t,n){e=$.extend({},e,n.getMetrics())}),e}function O(){function t(t){var n=t.split(""&""),r=$.grep(n,function(e,t){return e.indexOf(""data_dir="")===0});for(var i=0;i<r.length;i++){var s=r[i].split(""="")[1];e.push(s),i===0&&Report.setDataDir(s)}}var e=[],n=window.location.search.substr(1);n&&n.indexOf(""data_dir"")>=0&&(t(n),e.length>0&&Report.setProjectsDirs(e))}function M(){O();var e=Report.getProjectsDirs(),t,n,r,i,s,o;return $.each(e,function(e,u){if(Report.getConfig()===null||Report.getConfig()[""data-sources""]===undefined)n=new ITS,Report.registerDataSource(n),r=new MLS,Report.registerDataSource(r),t=new SCM,Report.registerDataSource(t),i=new SCR,Report.registerDataSource(i),s=new IRC,Report.registerDataSource(s),o=new MediaWiki,Report.registerDataSource(o),people=new People,Report.registerDataSource(people),downloads=new Downloads,Report.registerDataSource(downloads);else{var a=Report.getConfig()[""data-sources""];$.each(a,function(e,u){u===""its""?(n=new ITS,Report.registerDataSource(n)):u===""mlstats""?(r=new MLS,Report.registerDataSource(r)):u===""scm""?(t=new SCM,Report.registerDataSource(t)):u===""gerrit""?(i=new SCR,Report.registerDataSource(i)):u===""irc""?(s=new IRC,Report.registerDataSource(s)):u===""mediawiki""?(o=new MediaWiki,Report.registerDataSource(o)):u===""people""?(people=new People,Report.registerDataSource(people)):u===""downloads""?(downloads=new Downloads,Report.registerDataSource(downloads)):Report.log(""Not support data source ""+u)})}n&&n.setDataDir(u),r&&r.setDataDir(u),t&&t.setDataDir(u),i&&i.setDataDir(u),s&&s.setDataDir(u),o&&o.setDataDir(u),people&&people.setDataDir(u),downloads&&downloads.setDataDir(u),t&&n&&t.setITS(n)}),!0}function _(){$.each(Report.getActiveStudies(),function(e,t){var n=t;t===""repositories""&&(n=""repos""),DataProcess.orderItems(n),Convert.convertFilterStudy(t),Convert.convertFilterStudyItem(t)})}var e=null,t=null,n=null,r={},i=[],s=null,o="""",u=""data/json"",a=""data/json"",f="""",l=[a],c={},h={},p,d=u+""/project-info.json"",v=u+""/viz_cfg.json"",m=u+""/markers.json"",g=u+""/repos-map.json"",y=10,b=null,w={};Report.createDataSources=M,Report.getAllMetrics=A,Report.getMarkers=E,Report.getVizConfig=S,Report.getMetricDS=L,Report.getGridster=x,Report.setGridster=T,Report.getCurrentPage=function(){return b},Report.setCurrentPage=function(e){b=e},Report.getPageSize=function(){return y},Report.setPageSize=function(e){y=e},Report.getProjectData=N,Report.getProjectsData=C,Report.convertStudies=_,Report.getDataSources=function(){return i},Report.registerDataSource=function(e){i.push(e)},Report.setHtmlDir=function(e){o=e},Report.getHtmlDir=function(){return o},Report.getDataDir=function(){return u},Report.setDataDir=function(e){u=e,d=e+""/project-info.json"",config_file=e+""/viz_cfg.json"",m=e+""/markers.json"",repos_mapping_file=u+""/repos-mapping.json""},Report.setMarkers=function(e){t=e},Report.getMarkersFile=function(){return m},Report.getReposMap=function(){return p},Report.setReposMap=function(e){p=e},Report.getReposMapFile=function(){return g},Report.setVizConfig=function(e){n=e},Report.getVizConfigFile=function(){return v},Report.setProjectData=function(t){e=t},Report.getProjectFile=function(){return d},Report.getProjectsDirs=function(){return l},Report.setProjectsDirs=function(e){l=e},Report.getProjectsList=function(){var e=[];return $.each(C(),function(t,n){e.push(t)}),e},Report.getProjectsDataSources=function(){return h},Report.setMetricsDefinition=function(e){$.each(Report.getDataSources(),function(t,n){n.setMetricsDefinition(e[n.getName()])})},Report.getPeopleIdentities=function(){return w},Report.setPeopleIdentities=function(e){w=e},Report.cleanLabel=function(e){var t=e,n=null;return e.split(""___"").length===2?(n=e.split("" ""),t=n[0]):e.lastIndexOf(""http"")===0||e.split(""_"").length>3?(n=e.split(""_""),t=n.pop(),t===""""&&(t=n.pop()),t=t.replace(""buglist.cgi?product="",""""),t=t.replace(""gmane.comp.sysutils."","""")):e.lastIndexOf(""<"")===0&&(t=MLS.displayMLSListName(e)),t},Report.formatValue=function(e,t){if(e===undefined)return""-"";var n=[""last_date"",""first_date""],r=e;try{r=parseFloat(e).toFixed(1).toString().replace(/\.0$/,""""),r=k(r);if(navigator.language===""es""){var i=r.split(""."");i[0]=i[0].replace(/,/g,"".""),r=i.join("","")}}catch(s){}return typeof r==""number""&&isNaN(r)&&(r=e.toString()),t!==undefined&&$.inArray(t,n)>-1&&(r=e.toString()),r},Report.escapeHtml=function(e){return e.replace(/&/g,""&amp;"").replace(/</g,""&lt;"").replace(/>/g,""&gt;"").replace(/""/g,""&quot;"").replace(/'/g,""&#039;"")},Report.getParameterByName=function(e){e=e.replace(/[\[]/,""\\["").replace(/[\]]/,""\\]"");var t=new RegExp(""[\\?&]""+e+""=([^&#]*)""),n=t.exec(location.search);return n===null?undefined:Report.escapeHtml(decodeURIComponent(n[1].replace(/\+/g,"" "")))},Report.getDataSourceByName=function(e){var t=null;return $.each(Report.getDataSources(),function(n,r){if(r.getName()===e)return t=r,!1}),t},Report.displayActiveMenu=function(){var e=window.location.href,t=e.substr(e.lastIndexOf(""/"")+1,e.length);t=t.split("".html"")[0];if(t.indexOf(""scm"")===0)$("".scm-menu"")[0].className=$("".scm-menu"")[0].className+"" active"";else if(t.indexOf(""its"")===0)$("".its-menu"")[0].className=$("".its-menu"")[0].className+"" active"";else if(t.indexOf(""mls"")===0)$("".mls-menu"")[0].className=$("".mls-menu"")[0].className+"" active"";else if(t.indexOf(""scr"")===0)$("".scr-menu"")[0].className=$("".scr-menu"")[0].className+"" active"";else if(t.indexOf(""index"")===0||t===""""){if($("".summary-menu"").length===0)return;$("".summary-menu"")[0].className=$("".summary-menu"")[0].className+"" active""}else $("".experimental-menu"")[0]&&($("".experimental-menu"")[0].className=$("".experimental-menu"")[0].className+"" active"")},Report.addDataDir=function(){var e,t=window.location.search.substr(1);return t&&t.indexOf(""data_dir"")!==-1&&(e=window.location.search.substr(1)),e},Report.configDataSources=function(){var e=Report.getProjectsDataSources();$.each(Report.getDataSources(),function(t,n){if(n.getData()instanceof Array)return;$.each(c,function(t,r){if(r.dir===n.getDataDir())return e[t]===undefined&&(e[t]=[]),$.each(e[t],function(e,t){if(n.getName()===t.getName())return!1}),n.setProject(t),e[t].push(n),!1})})},Report.getConfig=function(){return s},Report.setConfig=function(e){s=e,e&&(Report.log(""Global config file found""),e[""global-html-dir""]&&Report.setHtmlDir(e[""global-html-dir""]),e[""global-data-dir""]&&(Report.setDataDir(e[""global-data-dir""]),Report.setProjectsDirs([e[""global-data-dir""]])),e[""projects-data-dirs""]&&Report.setProjectsDirs(e[""projects-data-dirs""]))},Report.convertGlobal=function(){Convert.convertMicrodash(),Convert.convertMicrodashText(),Convert.convertBasicDivs(),Convert.convertBasicDivsMisc(),Convert.convertBasicMetrics(),Convert.convertDemographics(),Convert.convertMetricsEvolSet(),Convert.convertLastActivity()},Report.getActiveStudies=function(){var e=[],t,n=[""repositories"",""countries"",""companies"",""domains""];return Report.getConfig()!==null?t=Report.getConfig().reports:t=n,$.each(n,function(n,r){$.inArray(r,t)>-1&&e.push(r)}),e},Report.convertStudiesGlobal=function(){Convert.convertTop(),Convert.convertPeople()};var D=!0;Report.getLog=function(){return D},Report.setLog=function(e){D=e},Report.log=function(e){Report.getLog()===!0&&window.console&&console.log(e)}})(),Loader.data_ready_global(function(){Report.configDataSources(),Report.convertGlobal(),Report.convertStudiesGlobal()}),Loader.data_ready(function(){Report.convertStudies(),$(""body"").css(""cursor"",""auto""),$(""html"").click(function(e){$("".help"").popover(""hide"")}),Convert.activateHelp()}),$(document).ready(function(){var e=""./config.json"";$.getJSON(e,function(e){Report.setConfig(e)}).fail(function(){window.console&&Report.log(""Can't read global config file ""+e)}).always(function(e){Report.createDataSources(),Loader.data_load(),$(""body"").css(""cursor"",""progress"")})});var resized;$(window).resize(function(){clearTimeout(resized),resized=setTimeout(resizedw,100)});if(Viz===undefined)var Viz={};(function(){function t(e,t){var n="""";return $.each(Report.getAllMetrics(),function(e,r){if(r.action===t)return n=r.column,!1}),n}function n(e,t,n){var r=""<h4>""+n+""</h4>"",i='<table id=""itsmarkovtable"" class=""table table-striped"">';i+=""<thead><tr><th>Transition</th><th>Number</th><th>Percent</th></tr></thead><tbody>"",$.each(t,function(e,n){subdata=t[e],old_value=""old_value"",new_value=""new_value"",percent=""f"",number=""issue"";for(var r=0;r<subdata[old_value].length;r++){var s=subdata[new_value][r],o=subdata[percent][r];o=Math.round(o*100)/100;var u=subdata[number][r];i+=""<tr><td>""+e+"" -> ""+s+""</td>"",i+=""<td>""+u+""</td>"",i+=""<td>""+o+""</td></tr>""}}),i+=""</tbody></table>"",r+=i,div=$(""#""+e),div.append(r);return}function r(e,t){return e.hasOwnProperty(t)?e[t]:t}function i(e,t){var n={};return n.id=""id"",e===""senders""&&(t===""mls""||t===""irc"")&&(n.name=""senders"",n.action=""sent""),e===""authors""&&t===""scm""&&(n.name=""authors"",n.action=""commits""),e===""closers""&&t===""its""&&(n.name=""closers"",n.action=""closed""),t===""scr""&&(e===""mergers""&&(n.name=""mergers"",n.action=""merged""),e===""openers""&&(n.name=""openers"",n.action=""opened""),e===""reviewers""&&(n.name=""reviewers"",n.action=""reviews"")),t===""downloads""&&(e===""ips""&&(n.name=""ips"",n.action=""downloads""),e===""packages""&&(n.name=""packages"",n.action=""downloads"")),t===""mediawiki""&&e===""authors""&&(n.name=""authors"",n.action=""reviews""),t===""qaforums""&&(e===""senders""||e===""asenders""||e===""qsenders"")&&(n.name=""senders"",n.action=""sent""),n}function s(){return[""last month"",""last year"",""""]}function o(e,t,n){var r="""";for(var i=0;i<e[n.name].length;i++){if(t&&t<=i)break;var s=e[n.action][i];r+=""<tr><td>#""+(i+1)+""</td>"",r+=""<td>"",r+=e[n.name][i],r+=""</td>"",r+=""<td>""+s+""</td></tr>""}return r}function u(e,t,n){var r="""";for(var i=0;i<e.subject.length;i++){if(t&&t<=i)break;r+=""<tr><td>#""+(i+1)+""</td>"",r+=""<td>"";if(n===!0){var s=""http://www.google.com/search?output=search&q=X&btnI=1"";s=s.replace(/X/g,e.subject[i]),r+=""<td>"",r+='<a href=""'+s+'"">',r+=e.subject[i]+""</a>"",r+='&nbsp;<i class=""fa fa-external-link""></i></td>'}else r+=""<td>""+e.subject[i]+""</td>"";r+=""<td>""+e.initiator_name[i]+""</td>"",r+=""<td>""+e.length[i]+""</td>"",r+=""</tr>""}return r}function a(e,t,n,r){var i="""";for(var s=0;s<e[r.id].length;s++){if(t&&t<=s)break;var o=e[r.action][s];i+=""<tr><td>#""+(s+1)+""</td>"",i+=""<td>"",n?(i+='<a href=""people.html?id='+e[r.id][s]+'"">',i+=e[r.name][s]+""</a>""):i+=e[r.name][s],i+=""</td>"",i+=""<td>""+o+""</td></tr>""}return i}function f(e,t,n,r){var i="""",s=!0;i+='<ul id=""myTab"" class=""nav nav-tabs"">';for(var o=0;o<e.length;o++){var u=t+"".""+e[o];if(n[u]){var a=e[o],f=a;a===""""&&(a=""all"",f=""complete history"");var l=a.replace(/\ /g,""""),c="""";s===!0&&(c=' class=""active""',s=!1),i+=""<li""+c+'><a href=""#'+r+t+l+'""data-toogle=""tab"">',i+=f+""</a></li>""}}return i+=""</ul>"",i}function l(e,t,n,r,i){var s=t+""_""+e,o="""",u="""";return s in r&&(o=r[s].desc,o=o.toLowerCase()),n===!0?u+='<span class=""TabTitle"">Top '+o+""</span>"":u+='<span class=""TabTitle"">Top '+o+"" ""+i+""</span>"",u}function c(e,t,n,r,c,h,p,d){var v="""",m="""",g="""",y=!0,b=$(""#""+e),w=b.attr(""data-data-source"");periods=s(),d!==undefined&&(y=!1),g+=l(n,w,y,c,d),y===!0&&(v+=f(periods,n,t,w)),m+='<div class=""tab-content"">';var E=i(n,w);if(y===!0){var S=!0,x="""";for(var T=0;T<periods.length;T++){x="""";var N=n+"".""+periods[T];if(t[N]){var C=periods[T];C===""""&&(C=""all"");var k=C.replace(/\ /g,"""");S===!0&&(x="" active in"",S=!1),m+='<div class=""tab-pane fade'+x+'"" id=""'+w+n+k+'"">',m+='<table class=""table table-striped""><tbody>',n===""threads""?m+=u(t[N],r,p):n===""packages""||n===""ips""?m+=o(t[N],r,E):m+=a(t[N],r,h,E),m+=""</tbody></table>"",m+=""</div>""}}}else m+='<table class=""table table-striped""><tbody>',n===""threads""?m+=u(t,r,p):n===""packages""||n===""ips""?m+=o(t,r,E):m+=a(t,r,h,E),m+=""</tbody></table>"";m+=""</div>"",b.append(g),b.append(v),b.append(m),y===!0&&(script=""<script>$('#myTab a').click(function (e) {e.preventDefault();$(this).tab('show');});</script>"",b.append(script))}function h(e,n,r,i,s,o,u,a){var f=n.name;if(!i||$.isEmptyObject(i))return;var l=n.action;u&&i[l].length<u&&(u=i[l].length,s=!1);var c=n.column;c===undefined&&(c=t(i,l));var h=""Top ""+f+"" ""+r,p=displayTopMetricTable(i,l,c,u,a,h),d=null;if(p===undefined)return;if(o===!1){d=$(""#""+e),d.append(p);return}var v="""",m="""";s&&(v=""top-""+s+""-""+c+""-"",v+=l+""-""+r,m+=""<div id='""+v+""' class='graph' style='float:right'></div>""),m+=p,d=$(""#""+e),d.append(m);if(s){var g=i[c],b=i[l];if(u){g=[],b=[];for(var w=0;w<u;w++)g.push(i[c][w]),b.push(i[l][w])}y(v,g,b,s)}}function p(e,t,n){var r=Report.getAllMetrics(),i='<a href=""#"" class=""help""',s="""";if(n===""""){var o=function(e,n){if(t[u]===e)return s+=""<strong>""+n.name+""</strong>: ""+n.desc+""<br>"",!1};for(var u=0;u<t.length;u++)$.each(r,o)}else s=""<strong>Description</strong>: ""+n;i+='data-content=""'+s+'"" data-html=""true"">',i+='<img src=""qm_15.png""></a>';var a=$(""#""+e).prev()[0];a&&a.className===""help""&&$(""#""+e).prev().empty(),$(""#""+e).before(i)}function d(e,t,n,r,i){(!i||i.help!==!1)&&p(e,t,i.custom_help);var s=[];i.remove_last_point&&(n=DataProcess.revomeLastPoint(n)),i.frame_time&&(n=DataProcess.frameTime(n,t)),i.start_time&&(n=DataProcess.filterDates(i.start_time,i.end_time,n)),$.each(t,function(e,t){if(!n[t])return;var r=[[],[]];$.each(n[t],function(e,i){r[e]=[n.id[e],n[t][e]]});var i=t;Report.getAllMetrics()[t]&&(i=Report.getAllMetrics()[t].name),s.push({label:i,data:r})}),g(e,n,s,r,i)}function v(e,t,n,r,i,s,o,u,a){var f=[],l={};$.each(n,function(e,n){if(n===undefined)return!1;if(n[t]===undefined)return!1;u&&(n=DataProcess.convert(n,u,t)),s&&(n=DataProcess.filterDates(s,o,n)),i.remove_last_point&&(n=DataProcess.revomeLastPoint(n));var r=[[],[]];for(var a=0;a<n.id.length;a++)r[a]=[n.id[a],n[t][a]];e=Report.cleanLabel(e),f.push({label:e,data:r}),l=n});if(f.length===0)return;if(a){var c=[];$.each(a,function(e,t){$.each(f,function(e,n){if(t===n.label)return c.push(n),!1})}),f=c}g(e,l,f,r,i)}function m(e){if(e.length===0)return e;if(e[0].data[0][0]!==0)return e;var t=e[0].data.length;if(e.length>1)for(var n=0;n<e.length;n++);else{var r=[];for(var i=0;i<t-1;i++)r.push([i,undefined]);r.push([t-1,e[0].data[t-1][1]]);var s={data:r};s.points={show:!0,radius:3,lineWidth:1,fillColor:null,shadowSize:0},e.push(s),e[0].data[t-1][1]=undefined}return e}function g(e,t,n,r,i){var s=document.getElementById(e),o=null;i&&i.legend&&i.legend.container&&(o=$(""#""+i.legend.container));var u={subtitle:r,legend:{show:!0,container:o},xaxis:{minorTickFreq:4,tickFormatter:function(e){var n=null;for(var r=0;r<t.id.length;r++)if(parseInt(e,null)===t.id[r]){n=r;break}return t.date[n]}},yaxis:{min:0,noTicks:2,autoscale:!1},grid:{verticalLines:!1,color:""#000000"",outlineWidth:1,outline:""s""},mouse:{container:o,track:!0,trackY:!1,trackFormatter:function(e){var r=t.date[parseInt(e.index,10)];r===undefined?r="""":r+=""<br>"";for(var i=0;i<n.length;i++){var s=n[i].data[e.index][1];if(s===undefined)continue;n.length>1&&n[i].label!==undefined&&(r+=n[i].label+"":""),r+=Report.formatValue(s)+""<br>""}return r}}};i&&(i.show_title||(u.title=""""),""show_legend""in i&&(i.show_legend===!0?u.legend.show=!0:u.legend.show=!1),i.lines&&i.lines.stacked&&(u.lines={stacked:!0,fill:!0,fillOpacity:1,fillBorder:!0,lineWidth:.01}),i.show_labels||(u.xaxis.showLabels=!1,u.yaxis.showLabels=!1),i.show_grid===!1&&(u.grid.verticalLines=!1,u.grid.horizontalLines=!1,u.grid.outlineWidth=0),i.show_mouse===!1&&(u.mouse.track=!1),i.graph===""bars""&&(u.bars={show:!0}),i.light_style===!0&&(u.grid.color=""#ccc"",u.legend.show=!1),i.custom_title&&(u.subtitle=i.custom_title));var a=!1;i.graph!==""bars""&&n.length===1&&n[0].data[0][0]===0&&(a=!0);if(a){n=m(n);var f=t.id[t.id.length-1]+1;n[0].data.push([f,undefined]),n[1].data.push([f,undefined]),t.date.push(""""),t.id.push(f)}graph=Flotr.draw(s,n,u),a&&(t.date&&t.date.pop(),t.id&&t.id.pop())}function y(e,t,n,r,i,s,o,u,a){var f=!1;o&&(f=!0);var l=document.getElementById(e),c=null;s&&s.legend&&s.legend.container&&(c=$(""#""+s.legend.container));var h=[],p,d="""";if(!f)for(p=0;p<n.length;p++)t&&(d=DataProcess.hideEmail(t[p])),h.push({data:[[p,n[p]]],label:d});else for(p=0;p<n.length;p++)t&&(d=DataProcess.hideEmail(t[p])),h.push({data:[[n[p],p]],label:d});var v={title:i,grid:{verticalLines:!1,horizontalLines:!1,outlineWidth:0},xaxis:{showLabels:!1,min:0},yaxis:{showLabels:!1,min:0},mouse:{container:c,track:!0,trackFormatter:function(e){var r=""x"";f&&(r=""y"");var i="""";return t&&(i=DataProcess.hideEmail(t[parseInt(e[r],10)])+"": ""),i+n[parseInt(e[r],10)]}},legend:{show:!1,position:""se"",backgroundColor:""#D2E8FF"",container:c}};s&&(s.show_title||(v.title=""""),s.show_legend&&(v.legend.show=!0)),r===""bars""&&(v.bars={show:!0,horizontal:f},u&&(v.bars.color=u,v.bars.fillColor=u),s&&s.show_legend!==!1&&(v.legend={show:!0,position:""ne"",container:c}),v.grid.horizontalLines=!0,v.yaxis={showLabels:!0,min:0},s&&s.xaxis&&(v.xaxis={showLabels:s.xaxis,min:0}),a&&(v.yaxis={showLabels:!0,min:0,tickFormatter:a})),r===""pie""&&(v.pie={show:!0},v.mouse.position=""ne""),r=Flotr.draw(l,h,v)}function b(e,t,n,r,i,s,o,u){var a=.4,f=n[0].length;n[1].length>f&&(f=n[1].length);var l=!1;s&&(l=!0);var c=document.getElementById(e),h=null;i&&i.legend&&i.legend.container&&(h=$(""#""+i.legend.container));var p=[],d,v=[],m=[];for(d=0;d<f;d++){var g,y;n[0].length>d?g=n[0][d]:g=undefined,n[1].length>d?y=n[1][d]:y=undefined,l?(p.push([g,d-a/2]),v.push([y,d+a/2])):(p.push([d-a/2,g]),v.push([d+a/2,y]))}m=[{data:p,label:t[0]},{data:v,label:t[1]}];var b={title:r,bars:{show:!0,horizontal:l,barWidth:a},grid:{verticalLines:!1,horizontalLines:!1,outlineWidth:0},xaxis:{showLabels:!1,min:0},yaxis:{showLabels:!0,min:0},mouse:{container:h,track:!0,trackFormatter:function(e){var n,r=""x"";l&&(r=""y"");var i=parseFloat(e[r],1),s=Math.round((i-.2)*10)/10,o=Math.round((i+.2)*10)/10;s===parseInt(i,10)?n=s:n=o;var a=n;u&&(a=n*u);var f=a+"" years: "",c,h;return p[n]===undefined?c=0:c=parseInt(p[n][0],10),isNaN(c)&&(c=0),v[n]===undefined?h=0:h=parseInt(v[n][0],10),isNaN(h)&&(h=0),f+=c+"" ""+t[0],f+="" , "",f+=h+"" ""+t[1],f+="" (""+parseInt(c/h*100,10)+""% )"",f}},legend:{show:!0,position:""ne"",backgroundColor:""#D2E8FF"",container:h}};i&&(i.show_title||(b.title=""""),i.show_legend&&(b.legend.show=!0)),i&&i.show_legend!==!1&&(b.legend={show:!0,position:""ne"",container:h}),b.grid.horizontalLines=!0,b.yaxis={showLabels:!0,min:0},o&&(b.yaxis={showLabels:!0,min:0,tickFormatter:o}),i&&i.xaxis&&(b.xaxis={showLabels:i.xaxis,min:0}),graph=Flotr.draw(c,m,b)}function w(e,t,n,r){var i=document.getElementById(e),s=Report.getMetricDS(t)[0],o=Report.getMetricDS(n)[0],u=[];if(s!=o){Report.log(""Metrics for bubbles have different data sources"");return}var a=[],f=[];$.each(Report.getDataSources(),function(e,t){t.getName()===s.getName()&&(a.push(t.getData()),f.push(t.getProject()))});var l=[[],[]];l=[a[0].id,a[0].date];for(var c=0;c<a.length;c++){if(a[c]instanceof Array)return;l=DataProcess.fillDates(l,[a[c].id,a[c].date])}for(var h=0;h<a.length;h++){var p=[],d=a[h],v=DataProcess.fillHistory(l[0],[d.id,d[t]]),m=DataProcess.fillHistory(l[0],[d.id,d[n]]);for(c=0;c<l[0].length;c++)p.push([l[0][c],v[1][c],m[1][c]]);u.push({label:f[h],data:p})}var g={bubbles:{show:!0,baseRadius:5},mouse:{track:!0,trackFormatter:function(e){var r=a[0].date[e.index]+"": "";return r+=e.series.label+"" "",r+=e.series.data[e.index][1]+"" ""+t+"","",r+=e.series.data[e.index][2]+"" ""+n,r}},xaxis:{tickFormatter:function(e){return a[0].date[parseInt(e,10)-a[0].id[0]]}}};s.getName()===""its""&&$.extend(g.bubbles,{baseRadius:1}),r&&$.extend(g.bubbles,{baseRadius:r}),Flotr.draw(i,u,g)}function E(e,t,n,r){if(!n)return;r?period=365*r:r=.25;var i=[],s=[],o=[],u,a={show_legend:!1,xaxis:!0},f,l;for(u=0;u<n.aging.persons.age.length;u++)f=n.aging.persons.age[u],l=parseInt(f/period,10),i[l]||(i[l]=0),i[l]+=1;for(u=0;u<n.birth.persons.age.length;u++)f=n.birth.persons.age[u],l=parseInt(f/period,10),s[l]||(s[l]=0),s[l]+=1;o=[""Retained"",""Attracted""],yticks=function(e,t){var n=r,i=""years"";return e*=r,e+"" ""+i};var c=[i,s];n&&b(e,o,c,"""",a,!0,yticks,r)}function S(e,t,n){var r=document.getElementById(e),i=$(""#""+e).data(""max""),s=.2;i||(i=0);for(var o=0;o<n.length;o++)for(var u=0;u<n[o].data.length;u++){var a=n[o].data[u][1];a>i&&(i=a,i=parseInt(i*(1+s),null))}(function(){var e=[n,t]})(),graph=Flotr.draw(r,n,{radar:{show:!0},mouse:{track:!0,trackFormatter:function(e){var r="""";for(var i=0;i<n.length;i++)r+=n[i].label+"" "",r+=n[i].data[e.index][1]+"" "",r+=t[e.index][1]+""<br>"";return r}},grid:{circular:!0,minorHorizontalLines:!0},yaxis:{min:0,max:i,minorTickFreq:1},xaxis:{ticks:t}})}function x(e,t){var n=[],r=[],i=[],s=[],o=0,u=0;for(o=0;o<t.length;o++){var a=Report.getMetricDS(t[o]);for(u=0;u<a.length;u++)n[u]||(n[u]=[],s[u]=a[u].getProject()),n[u].push([o,parseInt(a[u].getGlobalData()[t[o]],10)]);r.push([o,a[0].getMetrics()[t[o]].name])}for(u=0;u<n.length;u++)i.push({label:s[u],data:n[u]});S(e,r,i)}function T(e){var t=[""scm_committers"",""scm_authors"",""its_openers"",""its_closers"",""its_changers"",""mls_senders""];x(e,t)}function N(e){var t=[""scm_commits"",""scm_files"",""its_opened"",""its_closed"",""its_changed"",""mls_sent""];x(e,t)}function C(e,t,n,r,i){L(e,t,n,r,i)}function k(e,t,n,r,i){L(e,t,n,r,i)}function L(e,t,n,r,i){var s=n.split("",""),o=t.data;if(!o[s[0]])return;var u={};u.date=o.date,$.each(o,function(e,t){if($.inArray(e,s)===-1)return;u[e]=[];for(var n=0;n<t.length;n++){var r=parseFloat((parseInt(t[n],null)/24).toFixed(2),null);u[e].push(r)}}),u.id=[];for(var a=0;a<o[s[0]].length;a++)u.id.push(a);var f={show_legend:!0,show_labels:!0};d(e,s,u,n,f)}function A(e,t,n,r,i,s,o,u,a,f,l){var h=t.getMetrics();n===undefined&&(n=!0);var p=t.getGlobalTopData();if(s===!0){var d={};$.each(p,function(e,t){var n=e.split("".""),i=n[0],s=n[1];if(r&&r!==i)return!0;r&&r===i&&(d[e]=p[e])}),c(e,d,r,a,h,f,l)}else $.each(p,function(t,n){var s=t.split("".""),o=s[0],u=s[1];if(r&&r!==o)return!0;if(i!==undefined&&i!==u)return!0;c(e,p[t],r,a,h,f,l,i)})}function O(e,t,n,r,i,s){var o=null;h(n,r,i,t,o,s)}function M(e,t,n,r,i){var s=t.getProject(),o=t.getMetrics()[n],u=null;if(!t.getGlobalTopData()[n])return;data=t.getGlobalTopData()[n][r],h(e,s,o,r,data,u,i)}function _(e,t,n){if(n===undefined){if(t===undefined)return;Loader.get_file_data_div(t,Viz.displayTreeMap,e);return}if(n===null)return;var r=d3.scale.category20c(),i=d3.select(""#""+e),s=$(""#""+e).width(),o=$(""#""+e).height(),u=d3.layout.treemap().size([s,o]).sticky(!0).value(function(e){return e.size}),a=function(){this.style(""left"",function(e){return e.x+""px""}).style(""top"",function(e){return e.y+""px""}).style(""width"",function(e){return Math.max(0,e.dx-1)+""px""}).style(""height"",function(e){return Math.max(0,e.dy-1)+""px""})},f=i.datum(n).selectAll("".node"").data(u.nodes).enter().append(""div"").attr(""class"",""treemap-node"").call(a).style(""background"",function(e){return e.children?r(e.name):null}).text(function(e){return e.children?null:e.name});d3.selectAll(""input"").on(""change"",function(){var t=this.value===""count""?function(){return 1}:function(e){return e.size};f.data(u.value(t).nodes).transition().duration(1500).call(a)})}function D(e,t,n,r,i){var s=null,o="""",u=[[],[]];n?$.each(Report.getDataSources(),function(e,t){if(t.getName()===n)return s=t.getMetrics(),!1}):s=Report.getAllMetrics(),$.each(Report.getDataSources(),function(e,t){o=t.getMainMetric();if(n===null&&t.getName()===""scm""||n&&t.getName()==n)return u=[t.getData().id,t.getData()[o]],i===!1&&(u=[t.getData().id,[]]),!1});var a=[[],[]];$.each(t,function(e,t){$.each(t,function(e,t){if(n&&n!==t.getName())return;a=DataProcess.fillDates(a,[t.getData().id,t.getData().date])})});var f=a[0][0],l=document.getElementById(e),c,h=Report.getMarkers();c={container:l,xTickFormatter:function(e){var t=a[1][e-f];return t===""0""&&(t=""""),t},yTickFormatter:function(e){return e+""""},selection:{data:{x:{min:a[0][0],max:a[0][a[0].length-1]}}}},c.data={summary:DataProcess.fillHistory(a[0],u),markers:h,dates:a[1],envision_hide:r,main_metric:o};var p=null,d=function(e,t){var n=t.getData();if(n[m]===undefined)return;c.data[m]===undefined&&(c.data[m]=[]);var r=DataProcess.fillHistory(a[0],[n.id,n[m]]);if(m===o){c.data[m].push({label:p,data:r});if(n[m+""_relative""]===undefined)return;c.data[m+""_relative""]===undefined&&(c.data[m+""_relative""]=[]),r=DataProcess.fillHistory(a[0],[n.id,n[m+""_relative""]]),c.data[m+""_relative""].push({label:p,data:r})}else c.data[m].push({label:p,data:r})},v=function( e,t){p=e,$.each(t,d)};for(var m in s)$.each(t,v);return c.trackFormatter=function(e){var t=e.series.data,n=t[e.index][0]-f,r={},i=Report.getProjectsList();for(var o=0;o<i.length;o++)r[i[o]]={};var u=a[1][n]+"":<br>"";for(var l in s){if(c.data[l]===undefined)continue;if($.inArray(l,c.data.envision_hide)>-1)continue;for(o=0;o<i.length;o++){if(c.data[l][o]===undefined)continue;var h=c.data[l][o].label,p=c.data[l][o].data;u=p[1][n],r[h][l]=u}}u=""<table><tr><td align='right'>""+a[1][n]+""</td></tr>"",u+=""<tr>"",i.length>1&&(u+=""<td></td>"");for(l in s){if(c.data[l]===undefined)continue;if($.inArray(l,c.data.envision_hide)>-1)continue;u+=""<td>""+s[l].name+""</td>""}return u+=""</tr>"",$.each(r,function(e,t){var n=""<tr>"";for(var o in s){if(c.data[o]===undefined)continue;if($.inArray(o,c.data.envision_hide)>-1)continue;mvalue=r[e][o],mvalue===undefined&&(mvalue=""n/a""),n+=""<td>""+mvalue+""</td>""}i.length>1&&(n=""<td>""+e+""</td>""+n),n+=""</tr>"",u+=n}),u+=""</table>"",u},c}function P(e){return e===undefined&&(e={}),e.show_desc===undefined&&(e.show_desc=!0),e.show_title===undefined&&(e.show_title=!0),e.show_labels===undefined&&(e.show_labels=!0),e}function H(e,t,n,r,i){i=P(i);var s=e.getMetrics(),o="""";for(var u=0;u<t.length;u++)u!==0&&(o+="" vs. ""),t[u]in s?o+=s[t[u]].name:o+=t[u];i.show_title||(o=""""),d(r,t,n,o,i)}function B(e,t,n,r,i){i=P(i);var s=e;d(r,t,n,s,i)}function j(e,t,n,r,i){i=P(i);var s=e;d(r,t,n,s,i)}function F(e,t,n,r,i){i=P(i);var s=e;d(r,t,n,s,i)}function I(e,t,n,r,i){i=P(i);var s=e;d(r,t,n,s,i)}function q(e,t,n,r,i,s){r=P(r),r.show_legend=!0;var o=e;v(n,e,t,o,r,i,s)}function R(e,t,n,r,i){i=P(i);var s=e;d(r,t,n,s,i)}function U(e,t,n,r,i,s,o){r=P(r),r.show_legend!==!1&&(r.show_legend=!0);var u=e;v(n,e,t,u,r,i,s,null,o)}function z(e,t,n,r,i,s){r=P(r),r.show_legend!==!1&&(r.show_legend=!0);var o=e;v(n,e,t,o,r,i,s)}function W(e,t,n,r,i){i=P(i);var s=e,o=[],u=[],a=""bars"";i.graph&&(a=i.graph),$.each(n,function(n,r){var i=Report.cleanLabel(r);u.push(i),o.push(t[r][e])}),y(r,u,o,a,s,i)}function X(e,t,n,r){var i=Report.getProjectsDataSources(),s=Report.getVizConfig(),o=Viz.getEnvisionOptions(e,i,null,s.summary_hide,r);o.legend_show=n,t&&($.each(i,function(e,t){$.each(t,function(e,t){main_metric=t.getMainMetric()})}),DataProcess.addRelativeValues(o.data,main_metric)),new envision.templates.Envision_Report(o)}var e=""#ffa500"";Viz.displayTop=A,Viz.displayTopCompany=O,Viz.displayTopGlobal=M,Viz.displayBasicChart=y,Viz.displayMetricCompanies=U,Viz.displayMetricSubReportStatic=W,Viz.displayMetricsCompany=B,Viz.displayMetricsDomain=F,Viz.displayMetricsPeople=I,Viz.displayMetricsRepo=j,Viz.displayMetricRepos=q,Viz.displayMetricsCountry=R,Viz.displayMetricDomains=z,Viz.displayMetricsEvol=H,Viz.displayBubbles=w,Viz.displayDemographicsChart=E,Viz.displayEnvisionAll=X,Viz.displayTimeToFix=k,Viz.displayTimeToAttention=C,Viz.displayMetricSubReportLines=v,Viz.displayRadarActivity=N,Viz.displayRadarCommunity=T,Viz.displayTreeMap=_,Viz.displayMarkovTable=n,Viz.getEnvisionOptions=D,Viz.checkBasicConfig=P,Viz.getEnvisionOptionsMin=function(e,t,n){var r=t.id[0],i=document.getElementById(e),s,o=Report.getMarkers(),u=Report.getAllMetrics();s={container:i,xTickFormatter:function(e){var n=t.date[e-r];return n===""0""&&(n=""""),n},yTickFormatter:function(e){return e+""""},selection:{data:{x:{min:t.id[0],max:t.id[t.id.length-1]}}}},s.data={summary:[t.id,t.sent],markers:o,dates:t.date,envision_hide:n,main_metric:""sent""};var a=Report.getAllMetrics(),f=null;for(var l in t)f=l,a[l]&&(f=a[l].name),s.data[l]=[{label:f,data:[t.id,t[l]]}];return s.trackFormatter=function(e){var n=e.series.data,i=n[e.index][0]-r,s=t.date[i]+"":<br>"";for(var o in u){if(t[o]===undefined)continue;s+=t[o][i]+"" ""+o+"" , ""}return s},s}})(),IRC.prototype=new DataSource(""irc""),ITS.prototype=new DataSource(""its""),MediaWiki.prototype=new DataSource(""mediawiki""),MLS.prototype=new DataSource(""mls""),SCM.prototype=new DataSource(""scm""),SCR.prototype=new DataSource(""scr""),People.prototype=new DataSource(""people""),Downloads.prototype=new DataSource(""downloads""),Downloads.prototype=new DataSource(""qaforums"");var Identity={};(function(){function t(t,n,r){var i="""";t===e?i="""":i=e,$(""#""+r).sortable({handle:"".handle"",connectWith:""#""+i,start:function(e,t){t.item.siblings("".ui-selected"").appendTo(t.item)},stop:function(t,n){n.item.parent()[0].id===e&&n.item.find("".handle"").remove(),n.item.parent().append(n.item.find(""li"")),n.item.parent().find(""li"").addClass(""mjs-nestedSortable-leaf"")}}).selectable().find(""li"").prepend(""<div class='handle'></div>"")}function n(e,t){$(""#""+e.getName()+""filter"").autocomplete({source:t,select:function(t,n){return $(""#""+e.getName()+""filter"").val(""""),$(""#""+e.getName()+""_people_""+n.item.value).addClass(""ui-selected""),!1}})}var e=""unique-sortable"";Identity.showListNested=function(t,n){list=""<ol id=""+e+' class=""nested_sortable"" ',list+='style=""padding: 5px; background: #eee;""></ol>',$(""#""+t).append(list),$(""#""+e).nestedSortable({forcePlaceholderSize:!0,handle:""div"",helper:""clone"",items:""li"",tolerance:""pointer"",toleranceElement:""> div"",maxLevels:2,isTree:!0,expandOnHover:700,startCollapsed:!0}),$("".disclose"").on(""click"",function(){$(this).closest(""li"").toggleClass(""mjs-nestedSortable-collapsed"").toggleClass(""mjs-nestedSortable-expanded"")})},Identity.showList=function(e,r){var i="""",s=r.getPeopleData(),o=[];i='<ol id=""'+r.getName()+'-sortable"" class=""sortable"">';for(var u=0;u<s.id.length;u++){var a=s.id[u];typeof a==""string""&&(a=a.replace(""@"",""_at_"").replace(""."",""_"")),o.push({value:a,label:s.name[u]}),i+='<li id=""'+r.getName()+""_people_""+a+'"" ',i+='class=""ui-widget-content ui-selectee"">',i+='<div><span class=""disclose""><span></span></span>',i+=s.id[u]+"" ""+s.name[u],i+=""</div></li>""}i+=""</ol>"",$(""#""+e).append(""<input id='""+r.getName()+""filter'>""),n(r,o),$(""#""+e).append(i),t(e,i,r.getName()+""-sortable"")}})(),vizjslib_git_revision=""0eba550416b94edadbed307ce67fefddf1df648e"",vizjslib_git_tag=""2.1.1-9-g0eba550"";"," */ ;// Underscore.js 1.1.7 // (c) 2011 Jeremy Ashkenas, DocumentCloud Inc. // Underscore is freely distributable under the MIT license. // Portions of Underscore are inspired or borrowed from Prototype, // Oliver Steele's Functional, and John Resig's Micro-Templating. // For all details and documentation: // http://documentcloud.github.com/underscore (function() { // Baseline setup // -------------- // Establish the root object, `window` in the browser, or `global` on the server. var root = this; // Save the previous value of the `_` variable. var previousUnderscore = root._; // Establish the object that gets returned to break out of a loop iteration. var breaker = {}; // Save bytes in the minified (but not gzipped) version: var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype; // Create quick reference variables for speed access to core prototypes. var slice = ArrayProto.slice, unshift = ArrayProto.unshift, toString = ObjProto.toString, hasOwnProperty = ObjProto.hasOwnProperty; // All **ECMAScript 5** native function implementations that we hope to use // are declared here. var nativeForEach = ArrayProto.forEach, nativeMap = ArrayProto.map, nativeReduce = ArrayProto.reduce, nativeReduceRight = ArrayProto.reduceRight, nativeFilter = ArrayProto.filter, nativeEvery = ArrayProto.every, nativeSome = ArrayProto.some, nativeIndexOf = ArrayProto.indexOf, nativeLastIndexOf = ArrayProto.lastIndexOf, nativeIsArray = Array.isArray, nativeKeys = Object.keys, nativeBind = FuncProto.bind; // Create a safe reference to the Underscore object for use below. var _ = function(obj) { return new wrapper(obj); }; // Export the Underscore object for **CommonJS**, with backwards-compatibility // for the old `require()` API. If we're not in CommonJS, add `_` to the // global object. if (typeof module !== 'undefined' && module.exports) { module.exports = _; _._ = _; } else { // Exported as a string, for Closure Compiler ""advanced"" mode. root['_'] = _; } // Current version. _.VERSION = '1.1.7'; // Collection Functions // -------------------- // The cornerstone, an `each` implementation, aka `forEach`. // Handles objects with the built-in `forEach`, arrays, and raw objects. // Delegates to **ECMAScript 5**'s native `forEach` if available. var each = _.each = _.forEach = function(obj, iterator, context) { if (obj == null) return; if (nativeForEach && obj.forEach === nativeForEach) { obj.forEach(iterator, context); } else if (obj.length === +obj.length) { for (var i = 0, l = obj.length; i < l; i++) { if (i in obj && iterator.call(context, obj[i], i, obj) === breaker) return; } } else { for (var key in obj) { if (hasOwnProperty.call(obj, key)) { if (iterator.call(context, obj[key], key, obj) === breaker) return; } } } }; // Return the results of applying the iterator to each element. // Delegates to **ECMAScript 5**'s native `map` if available. _.map = function(obj, iterator, context) { var results = []; if (obj == null) return results; if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context); each(obj, function(value, index, list) { results[results.length] = iterator.call(context, value, index, list); }); return results; }; // **Reduce** builds up a single result from a list of values, aka `inject`, // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available. _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) { var initial = memo !== void 0; if (obj == null) obj = []; if (nativeReduce && obj.reduce === nativeReduce) { if (context) iterator = _.bind(iterator, context); return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator); } each(obj, function(value, index, list) { if (!initial) { memo = value; initial = true; } else { memo = iterator.call(context, memo, value, index, list); } }); if (!initial) throw new TypeError(""Reduce of empty array with no initial value""); return memo; }; // The right-associative version of reduce, also known as `foldr`. // Delegates to **ECMAScript 5**'s native `reduceRight` if available. _.reduceRight = _.foldr = function(obj, iterator, memo, context) { if (obj == null) obj = []; if (nativeReduceRight && obj.reduceRight === nativeReduceRight) { if (context) iterator = _.bind(iterator, context); return memo !== void 0 ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator); } var reversed = (_.isArray(obj) ? obj.slice() : _.toArray(obj)).reverse(); return _.reduce(reversed, iterator, memo, context); }; // Return the first value which passes a truth test. Aliased as `detect`. _.find = _.detect = function(obj, iterator, context) { var result; any(obj, function(value, index, list) { if (iterator.call(context, value, index, list)) { result = value; return true; } }); return result; }; // Return all the elements that pass a truth test. // Delegates to **ECMAScript 5**'s native `filter` if available. // Aliased as `select`. _.filter = _.select = function(obj, iterator, context) { var results = []; if (obj == null) return results; if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context); each(obj, function(value, index, list) { if (iterator.call(context, value, index, list)) results[results.length] = value; }); return results; }; // Return all the elements for which a truth test fails. _.reject = function(obj, iterator, context) { var results = []; if (obj == null) return results; each(obj, function(value, index, list) { if (!iterator.call(context, value, index, list)) results[results.length] = value; }); return results; }; // Determine whether all of the elements match a truth test. // Delegates to **ECMAScript 5**'s native `every` if available. // Aliased as `all`. _.every = _.all = function(obj, iterator, context) { var result = true; if (obj == null) return result; if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context); each(obj, function(value, index, list) { if (!(result = result && iterator.call(context, value, index, list))) return breaker; }); return result; }; // Determine if at least one element in the object matches a truth test. // Delegates to **ECMAScript 5**'s native `some` if available. // Aliased as `any`. var any = _.some = _.any = function(obj, iterator, context) { iterator = iterator || _.identity; var result = false; if (obj == null) return result; if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context); each(obj, function(value, index, list) { if (result |= iterator.call(context, value, index, list)) return breaker; }); return !!result; }; // Determine if a given value is included in the array or object using `===`. // Aliased as `contains`. _.include = _.contains = function(obj, target) { var found = false; if (obj == null) return found; if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1; any(obj, function(value) { if (found = value === target) return true; }); return found; }; // Invoke a method (with arguments) on every item in a collection. _.invoke = function(obj, method) { var args = slice.call(arguments, 2); return _.map(obj, function(value) { return (method.call ? method || value : value[method]).apply(value, args); }); }; // Convenience version of a common use case of `map`: fetching a property. _.pluck = function(obj, key) { return _.map(obj, function(value){ return value[key]; }); }; // Return the maximum element or (element-based computation). _.max = function(obj, iterator, context) { if (!iterator && _.isArray(obj)) return Math.max.apply(Math, obj); var result = {computed : -Infinity}; each(obj, function(value, index, list) { var computed = iterator ? iterator.call(context, value, index, list) : value; computed >= result.computed && (result = {value : value, computed : computed}); }); return result.value; }; // Return the minimum element (or element-based computation). _.min = function(obj, iterator, context) { if (!iterator && _.isArray(obj)) return Math.min.apply(Math, obj); var result = {computed : Infinity}; each(obj, function(value, index, list) { var computed = iterator ? iterator.call(context, value, index, list) : value; computed < result.computed && (result = {value : value, computed : computed}); }); return result.value; }; // Sort the object's values by a criterion produced by an iterator. _.sortBy = function(obj, iterator, context) { return _.pluck(_.map(obj, function(value, index, list) { return { value : value, criteria : iterator.call(context, value, index, list) }; }).sort(function(left, right) { var a = left.criteria, b = right.criteria; return a < b ? -1 : a > b ? 1 : 0; }), 'value'); }; // Groups the object's values by a criterion produced by an iterator _.groupBy = function(obj, iterator) { var result = {}; each(obj, function(value, index) { var key = iterator(value, index); (result[key] || (result[key] = [])).push(value); }); return result; }; // Use a comparator function to figure out at what index an object should // be inserted so as to maintain order. Uses binary search. _.sortedIndex = function(array, obj, iterator) { iterator || (iterator = _.identity); var low = 0, high = array.length; while (low < high) { var mid = (low + high) >> 1; iterator(array[mid]) < iterator(obj) ? low = mid + 1 : high = mid; } return low; }; // Safely convert anything iterable into a real, live array. _.toArray = function(iterable) { if (!iterable) return []; if (iterable.toArray) return iterable.toArray(); if (_.isArray(iterable)) return slice.call(iterable); if (_.isArguments(iterable)) return slice.call(iterable); return _.values(iterable); }; // Return the number of elements in an object. _.size = function(obj) { return _.toArray(obj).length; }; // Array Functions // --------------- // Get the first element of an array. Passing **n** will return the first N // values in the array. Aliased as `head`. The **guard** check allows it to work // with `_.map`. _.first = _.head = function(array, n, guard) { return (n != null) && !guard ? slice.call(array, 0, n) : array[0]; }; // Returns everything but the first entry of the array. Aliased as `tail`. // Especially useful on the arguments object. Passing an **index** will return // the rest of the values in the array from that index onward. The **guard** // check allows it to work with `_.map`. _.rest = _.tail = function(array, index, guard) { return slice.call(array, (index == null) || guard ? 1 : index); }; // Get the last element of an array. _.last = function(array) { return array[array.length - 1]; }; // Trim out all falsy values from an array. _.compact = function(array) { return _.filter(array, function(value){ return !!value; }); }; // Return a completely flattened version of an array. _.flatten = function(array) { return _.reduce(array, function(memo, value) { if (_.isArray(value)) return memo.concat(_.flatten(value)); memo[memo.length] = value; return memo; }, []); }; // Return a version of the array that does not contain the specified value(s). _.without = function(array) { return _.difference(array, slice.call(arguments, 1)); }; // Produce a duplicate-free version of the array. If the array has already // been sorted, you have the option of using a faster algorithm. // Aliased as `unique`. _.uniq = _.unique = function(array, isSorted) { return _.reduce(array, function(memo, el, i) { if (0 == i || (isSorted === true ? _.last(memo) != el : !_.include(memo, el))) memo[memo.length] = el; return memo; }, []); }; // Produce an array that contains the union: each distinct element from all of // the passed-in arrays. _.union = function() { return _.uniq(_.flatten(arguments)); }; // Produce an array that contains every item shared between all the // passed-in arrays. (Aliased as ""intersect"" for back-compat.) _.intersection = _.intersect = function(array) { var rest = slice.call(arguments, 1); return _.filter(_.uniq(array), function(item) { return _.every(rest, function(other) { return _.indexOf(other, item) >= 0; }); }); }; // Take the difference between one array and another. // Only the elements present in just the first array will remain. _.difference = function(array, other) { return _.filter(array, function(value){ return !_.include(other, value); }); }; // Zip together multiple lists into a single array -- elements that share // an index go together. _.zip = function() { var args = slice.call(arguments); var length = _.max(_.pluck(args, 'length')); var results = new Array(length); for (var i = 0; i < length; i++) results[i] = _.pluck(args, """" + i); return results; }; // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**), // we need this function. Return the position of the first occurrence of an // item in an array, or -1 if the item is not included in the array. // Delegates to **ECMAScript 5**'s native `indexOf` if available. // If the array is large and already in sort order, pass `true` // for **isSorted** to use binary search. _.indexOf = function(array, item, isSorted) { if (array == null) return -1; var i, l; if (isSorted) { i = _.sortedIndex(array, item); return array[i] === item ? i : -1; } if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item); for (i = 0, l = array.length; i < l; i++) if (array[i] === item) return i; return -1; }; // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available. _.lastIndexOf = function(array, item) { if (array == null) return -1; if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) return array.lastIndexOf(item); var i = array.length; while (i--) if (array[i] === item) return i; return -1; }; // Generate an integer Array containing an arithmetic progression. A port of // the native Python `range()` function. See // [the Python documentation](http://docs.python.org/library/functions.html#range). _.range = function(start, stop, step) { if (arguments.length <= 1) { stop = start || 0; start = 0; } step = arguments[2] || 1; var len = Math.max(Math.ceil((stop - start) / step), 0); var idx = 0; var range = new Array(len); while(idx < len) { range[idx++] = start; start += step; } return range; }; // Function (ahem) Functions // ------------------ // Create a function bound to a given object (assigning `this`, and arguments, // optionally). Binding with arguments is also known as `curry`. // Delegates to **ECMAScript 5**'s native `Function.bind` if available. // We check for `func.bind` first, to fail fast when `func` is undefined. _.bind = function(func, obj) { if (func.bind === nativeBind && nativeBind) return nativeBind.apply(func, slice.call(arguments, 1)); var args = slice.call(arguments, 2); return function() { return func.apply(obj, args.concat(slice.call(arguments))); }; }; // Bind all of an object's methods to that object. Useful for ensuring that // all callbacks defined on an object belong to it. _.bindAll = function(obj) { var funcs = slice.call(arguments, 1); if (funcs.length == 0) funcs = _.functions(obj); each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); }); return obj; }; // Memoize an expensive function by storing its results. _.memoize = function(func, hasher) { var memo = {}; hasher || (hasher = _.identity); return function() { var key = hasher.apply(this, arguments); return hasOwnProperty.call(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments)); }; }; // Delays a function for the given number of milliseconds, and then calls // it with the arguments supplied. _.delay = function(func, wait) { var args = slice.call(arguments, 2); return setTimeout(function(){ return func.apply(func, args); }, wait); }; // Defers a function, scheduling it to run after the current call stack has // cleared. _.defer = function(func) { return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1))); }; // Internal function used to implement `_.throttle` and `_.debounce`. var limit = function(func, wait, debounce) { var timeout; return function() { var context = this, args = arguments; var throttler = function() { timeout = null; func.apply(context, args); }; if (debounce) clearTimeout(timeout); if (debounce || !timeout) timeout = setTimeout(throttler, wait); }; }; // Returns a function, that, when invoked, will only be triggered at most once // during a given window of time. _.throttle = function(func, wait) { return limit(func, wait, false); }; // Returns a function, that, as long as it continues to be invoked, will not // be triggered. The function will be called after it stops being called for // N milliseconds. _.debounce = function(func, wait) { return limit(func, wait, true); }; // Returns a function that will be executed at most one time, no matter how // often you call it. Useful for lazy initialization. _.once = function(func) { var ran = false, memo; return function() { if (ran) return memo; ran = true; return memo = func.apply(this, arguments); }; }; // Returns the first function passed as an argument to the second, // allowing you to adjust arguments, run code before and after, and // conditionally execute the original function. _.wrap = function(func, wrapper) { return function() { var args = [func].concat(slice.call(arguments)); return wrapper.apply(this, args); }; }; // Returns a function that is the composition of a list of functions, each // consuming the return value of the function that follows. _.compose = function() { var funcs = slice.call(arguments); return function() { var args = slice.call(arguments); for (var i = funcs.length - 1; i >= 0; i--) { args = [funcs[i].apply(this, args)]; } return args[0]; }; }; // Returns a function that will only be executed after being called N times. _.after = function(times, func) { return function() { if (--times < 1) { return func.apply(this, arguments); } }; }; // Object Functions // ---------------- // Retrieve the names of an object's properties. // Delegates to **ECMAScript 5**'s native `Object.keys` _.keys = nativeKeys || function(obj) { if (obj !== Object(obj)) throw new TypeError('Invalid object'); var keys = []; for (var key in obj) if (hasOwnProperty.call(obj, key)) keys[keys.length] = key; return keys; }; // Retrieve the values of an object's properties. _.values = function(obj) { return _.map(obj, _.identity); }; // Return a sorted list of the function names available on the object. // Aliased as `methods` _.functions = _.methods = function(obj) { var names = []; for (var key in obj) { if (_.isFunction(obj[key])) names.push(key); } return names.sort(); }; // Extend a given object with all the properties in passed-in object(s). _.extend = function(obj) { each(slice.call(arguments, 1), function(source) { for (var prop in source) { if (source[prop] !== void 0) obj[prop] = source[prop]; } }); return obj; }; // Fill in a given object with default properties. _.defaults = function(obj) { each(slice.call(arguments, 1), function(source) { for (var prop in source) { if (obj[prop] == null) obj[prop] = source[prop]; } }); return obj; }; // Create a (shallow-cloned) duplicate of an object. _.clone = function(obj) { return _.isArray(obj) ? obj.slice() : _.extend({}, obj); }; // Invokes interceptor with the obj, and then returns obj. // The primary purpose of this method is to ""tap into"" a method chain, in // order to perform operations on intermediate results within the chain. _.tap = function(obj, interceptor) { interceptor(obj); return obj; }; // Perform a deep comparison to check if two objects are equal. _.isEqual = function(a, b) { // Check object identity. if (a === b) return true; // Different types? var atype = typeof(a), btype = typeof(b); if (atype != btype) return false; // Basic equality test (watch out for coercions). if (a == b) return true; // One is falsy and the other truthy. if ((!a && b) || (a && !b)) return false; // Unwrap any wrapped objects. if (a._chain) a = a._wrapped; if (b._chain) b = b._wrapped; // One of them implements an isEqual()? if (a.isEqual) return a.isEqual(b); if (b.isEqual) return b.isEqual(a); // Check dates' integer values. if (_.isDate(a) && _.isDate(b)) return a.getTime() === b.getTime(); // Both are NaN? if (_.isNaN(a) && _.isNaN(b)) return false; // Compare regular expressions. if (_.isRegExp(a) && _.isRegExp(b)) return a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline; // If a is not an object by this point, we can't handle it. if (atype !== 'object') return false; // Check for different array lengths before comparing contents. if (a.length && (a.length !== b.length)) return false; // Nothing else worked, deep compare the contents. var aKeys = _.keys(a), bKeys = _.keys(b); // Different object sizes? if (aKeys.length != bKeys.length) return false; // Recursive comparison of contents. for (var key in a) if (!(key in b) || !_.isEqual(a[key], b[key])) return false; return true; }; // Is a given array or object empty? _.isEmpty = function(obj) { if (_.isArray(obj) || _.isString(obj)) return obj.length === 0; for (var key in obj) if (hasOwnProperty.call(obj, key)) return false; return true; }; // Is a given value a DOM element? _.isElement = function(obj) { return !!(obj && obj.nodeType == 1); }; // Is a given value an array? // Delegates to ECMA5's native Array.isArray _.isArray = nativeIsArray || function(obj) { return toString.call(obj) === '[object Array]'; }; // Is a given variable an object? _.isObject = function(obj) { return obj === Object(obj); }; // Is a given variable an arguments object? _.isArguments = function(obj) { return !!(obj && hasOwnProperty.call(obj, 'callee')); }; // Is a given value a function? _.isFunction = function(obj) { return !!(obj && obj.constructor && obj.call && obj.apply); }; // Is a given value a string? _.isString = function(obj) { return !!(obj === '' || (obj && obj.charCodeAt && obj.substr)); }; // Is a given value a number? _.isNumber = function(obj) { return !!(obj === 0 || (obj && obj.toExponential && obj.toFixed)); }; // Is the given value `NaN`? `NaN` happens to be the only value in JavaScript // that does not equal itself. _.isNaN = function(obj) { return obj !== obj; }; // Is a given value a boolean? _.isBoolean = function(obj) { return obj === true || obj === false; }; // Is a given value a date? _.isDate = function(obj) { return !!(obj && obj.getTimezoneOffset && obj.setUTCFullYear); }; // Is the given value a regular expression? _.isRegExp = function(obj) { return !!(obj && obj.test && obj.exec && (obj.ignoreCase || obj.ignoreCase === false)); }; // Is a given value equal to null? _.isNull = function(obj) { return obj === null; }; // Is a given variable undefined? _.isUndefined = function(obj) { return obj === void 0; }; // Utility Functions // ----------------- // Run Underscore.js in *noConflict* mode, returning the `_` variable to its // previous owner. Returns a reference to the Underscore object. _.noConflict = function() { root._ = previousUnderscore; return this; }; // Keep the identity function around for default iterators. _.identity = function(value) { return value; }; // Run a function **n** times. _.times = function (n, iterator, context) { for (var i = 0; i < n; i++) iterator.call(context, i); }; // Add your own custom functions to the Underscore object, ensuring that // they're correctly added to the OOP wrapper as well. _.mixin = function(obj) { each(_.functions(obj), function(name){ addToWrapper(name, _[name] = obj[name]); }); }; // Generate a unique integer id (unique within the entire client session). // Useful for temporary DOM ids. var idCounter = 0; _.uniqueId = function(prefix) { var id = idCounter++; return prefix ? prefix + id : id; }; // By default, Underscore uses ERB-style template delimiters, change the // following template settings to use alternative delimiters. _.templateSettings = { evaluate : /<%([\s\S]+?)%>/g, interpolate : /<%=([\s\S]+?)%>/g }; // JavaScript micro-templating, similar to John Resig's implementation. // Underscore templating handles arbitrary delimiters, preserves whitespace, // and correctly escapes quotes within interpolated code. _.template = function(str, data) { var c = _.templateSettings; var tmpl = 'var __p=[],print=function(){__p.push.apply(__p,arguments);};' + 'with(obj||{}){__p.push(\'' + str.replace(/\\/g, '\\\\') .replace(/'/g, ""\\'"") .replace(c.interpolate, function(match, code) { return ""',"" + code.replace(/\\'/g, ""'"") + "",'""; }) .replace(c.evaluate || null, function(match, code) { return ""');"" + code.replace(/\\'/g, ""'"") .replace(/[\r\n\t]/g, ' ') + ""__p.push('""; }) .replace(/\r/g, '\\r') .replace(/\n/g, '\\n') .replace(/\t/g, '\\t') + ""');}return __p.join('');""; var func = new Function('obj', tmpl); return data ? func(data) : func; }; // The OOP Wrapper // --------------- // If Underscore is called as a function, it returns a wrapped object that // can be used OO-style. This wrapper holds altered versions of all the // underscore functions. Wrapped objects may be chained. var wrapper = function(obj) { this._wrapped = obj; }; // Expose `wrapper.prototype` as `_.prototype` _.prototype = wrapper.prototype; // Helper function to continue chaining intermediate results. var result = function(obj, chain) { return chain ? _(obj).chain() : obj; }; // A method to easily add functions to the OOP wrapper. var addToWrapper = function(name, func) { wrapper.prototype[name] = function() { var args = slice.call(arguments); unshift.call(args, this._wrapped); return result(func.apply(_, args), this._chain); }; }; // Add all of the Underscore functions to the wrapper object. _.mixin(_); // Add all mutator Array functions to the wrapper. each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) { var method = ArrayProto[name]; wrapper.prototype[name] = function() { method.apply(this._wrapped, arguments); return result(this._wrapped, this._chain); }; }); // Add all accessor Array functions to the wrapper. each(['concat', 'join', 'slice'], function(name) { var method = ArrayProto[name]; wrapper.prototype[name] = function() { return result(method.apply(this._wrapped, arguments), this._chain); }; }); // Start chaining a wrapped Underscore object. wrapper.prototype.chain = function() { this._chain = true; return this; }; // Extracts the result from a wrapped and chained object. wrapper.prototype.value = function() { return this._wrapped; }; })(); /*! * bean.js - copyright Jacob Thornton 2011 * https://github.com/fat/bean * MIT License * special thanks to: * dean edwards: http://dean.edwards.name/ * dperini: https://github.com/dperini/nwevents * the entire mootools team: github.com/mootools/mootools-core */ /*global module:true, define:true*/ !function (name, context, definition) { if (typeof module !== 'undefined') module.exports = definition(name, context); else if (typeof define === 'function' && typeof define.amd === 'object') define(definition); else context[name] = definition(name, context); }('bean', this, function (name, context) { var win = window , old = context[name] , overOut = /over|out/ , namespaceRegex = /[^\.]*(?=\..*)\.|.*/ , nameRegex = /\..*/ , addEvent = 'addEventListener' , attachEvent = 'attachEvent' , removeEvent = 'removeEventListener' , detachEvent = 'detachEvent' , doc = document || {} , root = doc.documentElement || {} , W3C_MODEL = root[addEvent] , eventSupport = W3C_MODEL ? addEvent : attachEvent , slice = Array.prototype.slice , mouseTypeRegex = /click|mouse|menu|drag|drop/i , touchTypeRegex = /^touch|^gesture/i , ONE = { one: 1 } // singleton for quick matching making add() do one() , nativeEvents = (function (hash, events, i) { for (i = 0; i < events.length; i++) hash[events[i]] = 1 return hash })({}, ( 'click dblclick mouseup mousedown contextmenu ' + // mouse buttons 'mousewheel DOMMouseScroll ' + // mouse wheel 'mouseover mouseout mousemove selectstart selectend ' + // mouse movement 'keydown keypress keyup ' + // keyboard 'orientationchange ' + // mobile 'focus blur change reset select submit ' + // form elements 'load unload beforeunload resize move DOMContentLoaded readystatechange ' + // window 'error abort scroll ' + // misc (W3C_MODEL ? // element.fireEvent('onXYZ'... is not forgiving if we try to fire an event // that doesn't actually exist, so make sure we only do these on newer browsers 'show ' + // mouse buttons 'input invalid ' + // form elements 'touchstart touchmove touchend touchcancel ' + // touch 'gesturestart gesturechange gestureend ' + // gesture 'message readystatechange pageshow pagehide popstate ' + // window 'hashchange offline online ' + // window 'afterprint beforeprint ' + // printing 'dragstart dragenter dragover dragleave drag drop dragend ' + // dnd 'loadstart progress suspend emptied stalled loadmetadata ' + // media 'loadeddata canplay canplaythrough playing waiting seeking ' + // media 'seeked ended durationchange timeupdate play pause ratechange ' + // media 'volumechange cuechange ' + // media 'checking noupdate downloading cached updateready obsolete ' + // appcache '' : '') ).split(' ') ) , customEvents = (function () { function isDescendant(parent, node) { while ((node = node.parentNode) !== null) { if (node === parent) return true } return false } function check(event) { var related = event.relatedTarget if (!related) return related === null return (related !== this && related.prefix !== 'xul' && !/document/.test(this.toString()) && !isDescendant(this, related)) } return { mouseenter: { base: 'mouseover', condition: check } , mouseleave: { base: 'mouseout', condition: check } , mousewheel: { base: /Firefox/.test(navigator.userAgent) ? 'DOMMouseScroll' : 'mousewheel' } } })() , fixEvent = (function () { var commonProps = 'altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which'.split(' ') , mouseProps = commonProps.concat('button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' ')) , keyProps = commonProps.concat('char charCode key keyCode'.split(' ')) , touchProps = commonProps.concat('touches targetTouches changedTouches scale rotation'.split(' ')) , preventDefault = 'preventDefault' , createPreventDefault = function (event) { return function () { if (event[preventDefault]) event[preventDefault]() else event.returnValue = false } } , stopPropagation = 'stopPropagation' , createStopPropagation = function (event) { return function () { if (event[stopPropagation]) event[stopPropagation]() else event.cancelBubble = true } } , createStop = function (synEvent) { return function () { synEvent[preventDefault]() synEvent[stopPropagation]() synEvent.stopped = true } } , copyProps = function (event, result, props) { var i, p for (i = props.length; i--;) { p = props[i] if (!(p in result) && p in event) result[p] = event[p] } } return function (event, isNative) { var result = { originalEvent: event, isNative: isNative } if (!event) return result var props , type = event.type , target = event.target || event.srcElement result[preventDefault] = createPreventDefault(event) result[stopPropagation] = createStopPropagation(event) result.stop = createStop(result) result.target = target && target.nodeType === 3 ? target.parentNode : target if (isNative) { // we only need basic augmentation on custom events, the rest is too expensive if (type.indexOf('key') !== -1) { props = keyProps result.keyCode = event.which || event.keyCode } else if (mouseTypeRegex.test(type)) { props = mouseProps result.rightClick = event.which === 3 || event.button === 2 result.pos = { x: 0, y: 0 } if (event.pageX || event.pageY) { result.clientX = event.pageX result.clientY = event.pageY } else if (event.clientX || event.clientY) { result.clientX = event.clientX + doc.body.scrollLeft + root.scrollLeft result.clientY = event.clientY + doc.body.scrollTop + root.scrollTop } if (overOut.test(type)) result.relatedTarget = event.relatedTarget || event[(type === 'mouseover' ? 'from' : 'to') + 'Element'] } else if (touchTypeRegex.test(type)) { props = touchProps } copyProps(event, result, props || commonProps) } return result } })() // if we're in old IE we can't do onpropertychange on doc or win so we use doc.documentElement for both , targetElement = function (element, isNative) { return !W3C_MODEL && !isNative && (element === doc || element === win) ? root : element } // we use one of these per listener, of any type , RegEntry = (function () { function entry(element, type, handler, original, namespaces) { this.element = element this.type = type this.handler = handler this.original = original this.namespaces = namespaces this.custom = customEvents[type] this.isNative = nativeEvents[type] && element[eventSupport] this.eventType = W3C_MODEL || this.isNative ? type : 'propertychange' this.customType = !W3C_MODEL && !this.isNative && type this.target = targetElement(element, this.isNative) this.eventSupport = this.target[eventSupport] } entry.prototype = { // given a list of namespaces, is our entry in any of them? inNamespaces: function (checkNamespaces) { var i, j if (!checkNamespaces) return true if (!this.namespaces) return false for (i = checkNamespaces.length; i--;) { for (j = this.namespaces.length; j--;) { if (checkNamespaces[i] === this.namespaces[j]) return true } } return false } // match by element, original fn (opt), handler fn (opt) , matches: function (checkElement, checkOriginal, checkHandler) { return this.element === checkElement && (!checkOriginal || this.original === checkOriginal) && (!checkHandler || this.handler === checkHandler) } } return entry })() , registry = (function () { // our map stores arrays by event type, just because it's better than storing // everything in a single array. uses '$' as a prefix for the keys for safety var map = {} // generic functional search of our registry for matching listeners, // `fn` returns false to break out of the loop , forAll = function (element, type, original, handler, fn) { if (!type || type === '*') { // search the whole registry for (var t in map) { if (t.charAt(0) === '$') forAll(element, t.substr(1), original, handler, fn) } } else { var i = 0, l, list = map['$' + type], all = element === '*' if (!list) return for (l = list.length; i < l; i++) { if (all || list[i].matches(element, original, handler)) if (!fn(list[i], list, i, type)) return } } } , has = function (element, type, original) { // we're not using forAll here simply because it's a bit slower and this // needs to be fast var i, list = map['$' + type] if (list) { for (i = list.length; i--;) { if (list[i].matches(element, original, null)) return true } } return false } , get = function (element, type, original) { var entries = [] forAll(element, type, original, null, function (entry) { return entries.push(entry) }) return entries } , put = function (entry) { (map['$' + entry.type] || (map['$' + entry.type] = [])).push(entry) return entry } , del = function (entry) { forAll(entry.element, entry.type, null, entry.handler, function (entry, list, i) { list.splice(i, 1) if (list.length === 0) delete map['$' + entry.type] return false }) } // dump all entries, used for onunload , entries = function () { var t, entries = [] for (t in map) { if (t.charAt(0) === '$') entries = entries.concat(map[t]) } return entries } return { has: has, get: get, put: put, del: del, entries: entries } })() // add and remove listeners to DOM elements , listener = W3C_MODEL ? function (element, type, fn, add) { element[add ? addEvent : removeEvent](type, fn, false) } : function (element, type, fn, add, custom) { if (custom && add && element['_on' + custom] === null) element['_on' + custom] = 0 element[add ? attachEvent : detachEvent]('on' + type, fn) } , nativeHandler = function (element, fn, args) { return function (event) { event = fixEvent(event || ((this.ownerDocument || this.document || this).parentWindow || win).event, true) return fn.apply(element, [event].concat(args)) } } , customHandler = function (element, fn, type, condition, args, isNative) { return function (event) { if (condition ? condition.apply(this, arguments) : W3C_MODEL ? true : event && event.propertyName === '_on' + type || !event) { if (event) event = fixEvent(event || ((this.ownerDocument || this.document || this).parentWindow || win).event, isNative) fn.apply(element, event && (!args || args.length === 0) ? arguments : slice.call(arguments, event ? 0 : 1).concat(args)) } } } , once = function (rm, element, type, fn, originalFn) { // wrap the handler in a handler that does a remove as well return function () { rm(element, type, originalFn) fn.apply(this, arguments) } } , removeListener = function (element, orgType, handler, namespaces) { var i, l, entry , type = (orgType && orgType.replace(nameRegex, '')) , handlers = registry.get(element, type, handler) for (i = 0, l = handlers.length; i < l; i++) { if (handlers[i].inNamespaces(namespaces)) { if ((entry = handlers[i]).eventSupport) listener(entry.target, entry.eventType, entry.handler, false, entry.type) // TODO: this is problematic, we have a registry.get() and registry.del() that // both do registry searches so we waste cycles doing this. Needs to be rolled into // a single registry.forAll(fn) that removes while finding, but the catch is that // we'll be splicing the arrays that we're iterating over. Needs extra tests to // make sure we don't screw it up. @rvagg registry.del(entry) } } } , addListener = function (element, orgType, fn, originalFn, args) { var entry , type = orgType.replace(nameRegex, '') , namespaces = orgType.replace(namespaceRegex, '').split('.') if (registry.has(element, type, fn)) return element // no dupe if (type === 'unload') fn = once(removeListener, element, type, fn, originalFn) // self clean-up if (customEvents[type]) { if (customEvents[type].condition) fn = customHandler(element, fn, type, customEvents[type].condition, true) type = customEvents[type].base || type } entry = registry.put(new RegEntry(element, type, fn, originalFn, namespaces[0] && namespaces)) entry.handler = entry.isNative ? nativeHandler(element, entry.handler, args) : customHandler(element, entry.handler, type, false, args, false) if (entry.eventSupport) listener(entry.target, entry.eventType, entry.handler, true, entry.customType) } , del = function (selector, fn, $) { return function (e) { var target, i, array = typeof selector === 'string' ? $(selector, this) : selector for (target = e.target; target && target !== this; target = target.parentNode) { for (i = array.length; i--;) { if (array[i] === target) { return fn.apply(target, arguments) } } } } } , remove = function (element, typeSpec, fn) { var k, m, type, namespaces, i , rm = removeListener , isString = typeSpec && typeof typeSpec === 'string' if (isString && typeSpec.indexOf(' ') > 0) { // remove(el, 't1 t2 t3', fn) or remove(el, 't1 t2 t3') typeSpec = typeSpec.split(' ') for (i = typeSpec.length; i--;) remove(element, typeSpec[i], fn) return element } type = isString && typeSpec.replace(nameRegex, '') if (type && customEvents[type]) type = customEvents[type].type if (!typeSpec || isString) { // remove(el) or remove(el, t1.ns) or remove(el, .ns) or remove(el, .ns1.ns2.ns3) if (namespaces = isString && typeSpec.replace(namespaceRegex, '')) namespaces = namespaces.split('.') rm(element, type, fn, namespaces) } else if (typeof typeSpec === 'function') { // remove(el, fn) rm(element, null, typeSpec) } else { // remove(el, { t1: fn1, t2, fn2 }) for (k in typeSpec) { if (typeSpec.hasOwnProperty(k)) remove(element, k, typeSpec[k]) } } return element } , add = function (element, events, fn, delfn, $) { var type, types, i, args , originalFn = fn , isDel = fn && typeof fn === 'string' if (events && !fn && typeof events === 'object') { for (type in events) { if (events.hasOwnProperty(type)) add.apply(this, [ element, type, events[type] ]) } } else { args = arguments.length > 3 ? slice.call(arguments, 3) : [] types = (isDel ? fn : events).split(' ') isDel && (fn = del(events, (originalFn = delfn), $)) && (args = slice.call(args, 1)) // special case for one() this === ONE && (fn = once(remove, element, events, fn, originalFn)) for (i = types.length; i--;) addListener(element, types[i], fn, originalFn, args) } return element } , one = function () { return add.apply(ONE, arguments) } , fireListener = W3C_MODEL ? function (isNative, type, element) { var evt = doc.createEvent(isNative ? 'HTMLEvents' : 'UIEvents') evt[isNative ? 'initEvent' : 'initUIEvent'](type, true, true, win, 1) element.dispatchEvent(evt) } : function (isNative, type, element) { element = targetElement(element, isNative) // if not-native then we're using onpropertychange so we just increment a custom property isNative ? element.fireEvent('on' + type, doc.createEventObject()) : element['_on' + type]++ } , fire = function (element, type, args) { var i, j, l, names, handlers , types = type.split(' ') for (i = types.length; i--;) { type = types[i].replace(nameRegex, '') if (names = types[i].replace(namespaceRegex, '')) names = names.split('.') if (!names && !args && element[eventSupport]) { fireListener(nativeEvents[type], type, element) } else { // non-native event, either because of a namespace, arguments or a non DOM element // iterate over all listeners and manually 'fire' handlers = registry.get(element, type) args = [false].concat(args) for (j = 0, l = handlers.length; j < l; j++) { if (handlers[j].inNamespaces(names)) handlers[j].handler.apply(element, args) } } } return element } , clone = function (element, from, type) { var i = 0 , handlers = registry.get(from, type) , l = handlers.length for (;i < l; i++) handlers[i].original && add(element, handlers[i].type, handlers[i].original) return element } , bean = { add: add , one: one , remove: remove , clone: clone , fire: fire , noConflict: function () { context[name] = old return this } } if (win[attachEvent]) { // for IE, clean up on unload to avoid leaks var cleanup = function () { var i, entries = registry.entries() for (i in entries) { if (entries[i].type && entries[i].type !== 'unload') remove(entries[i].element, entries[i].type) } win[detachEvent]('onunload', cleanup) win.CollectGarbage && win.CollectGarbage() } win[attachEvent]('onunload', cleanup) } return bean }); /** * Flotr2 (c) 2012 Carl Sutherland * MIT License * Special thanks to: * Flotr: http://code.google.com/p/flotr/ (fork) * Flot: https://github.com/flot/flot (original fork) */ (function () { var global = this, previousFlotr = this.Flotr, Flotr; Flotr = { _: _, bean: bean, isIphone: /iphone/i.test(navigator.userAgent), isIE: (navigator.appVersion.indexOf(""MSIE"") != -1 ? parseFloat(navigator.appVersion.split(""MSIE"")[1]) : false), /** * An object of the registered graph types. Use Flotr.addType(type, object) * to add your own type. */ graphTypes: {}, /** * The list of the registered plugins */ plugins: {}, /** * Can be used to add your own chart type. * @param {String} name - Type of chart, like 'pies', 'bars' etc. * @param {String} graphType - The object containing the basic drawing functions (draw, etc) */ addType: function(name, graphType){ Flotr.graphTypes[name] = graphType; Flotr.defaultOptions[name] = graphType.options || {}; Flotr.defaultOptions.defaultType = Flotr.defaultOptions.defaultType || name; }, /** * Can be used to add a plugin * @param {String} name - The name of the plugin * @param {String} plugin - The object containing the plugin's data (callbacks, options, function1, function2, ...) */ addPlugin: function(name, plugin){ Flotr.plugins[name] = plugin; Flotr.defaultOptions[name] = plugin.options || {}; }, /** * Draws the graph. This function is here for backwards compatibility with Flotr version 0.1.0alpha. * You could also draw graphs by directly calling Flotr.Graph(element, data, options). * @param {Element} el - element to insert the graph into * @param {Object} data - an array or object of dataseries * @param {Object} options - an object containing options * @param {Class} _GraphKlass_ - (optional) Class to pass the arguments to, defaults to Flotr.Graph * @return {Object} returns a new graph object and of course draws the graph. */ draw: function(el, data, options, GraphKlass){ GraphKlass = GraphKlass || Flotr.Graph; return new GraphKlass(el, data, options); }, /** * Recursively merges two objects. * @param {Object} src - source object (likely the object with the least properties) * @param {Object} dest - destination object (optional, object with the most properties) * @return {Object} recursively merged Object * @TODO See if we can't remove this. */ merge: function(src, dest){ var i, v, result = dest || {}; for (i in src) { v = src[i]; if (v && typeof(v) === 'object') { if (v.constructor === Array) { result[i] = this._.clone(v); } else if ( v.constructor !== RegExp && !this._.isElement(v) && !v.jquery ) { result[i] = Flotr.merge(v, (dest ? dest[i] : undefined)); } else { result[i] = v; } } else { result[i] = v; } } return result; }, /** * Recursively clones an object. * @param {Object} object - The object to clone * @return {Object} the clone * @TODO See if we can't remove this. */ clone: function(object){ return Flotr.merge(object, {}); }, /** * Function calculates the ticksize and returns it. * @param {Integer} noTicks - number of ticks * @param {Integer} min - lower bound integer value for the current axis * @param {Integer} max - upper bound integer value for the current axis * @param {Integer} decimals - number of decimals for the ticks * @return {Integer} returns the ticksize in pixels */ getTickSize: function(noTicks, min, max, decimals){ var delta = (max - min) / noTicks, magn = Flotr.getMagnitude(delta), tickSize = 10, norm = delta / magn; // Norm is between 1.0 and 10.0. if(norm < 1.5) tickSize = 1; else if(norm < 2.25) tickSize = 2; else if(norm < 3) tickSize = ((decimals === 0) ? 2 : 2.5); else if(norm < 7.5) tickSize = 5; return tickSize * magn; }, /** * Default tick formatter. * @param {String, Integer} val - tick value integer * @param {Object} axisOpts - the axis' options * @return {String} formatted tick string */ defaultTickFormatter: function(val, axisOpts){ return val+''; }, /** * Formats the mouse tracker values. * @param {Object} obj - Track value Object {x:..,y:..} * @return {String} Formatted track string */ defaultTrackFormatter: function(obj){ return '('+obj.x+', '+obj.y+')'; }, /** * Utility function to convert file size values in bytes to kB, MB, ... * @param value {Number} - The value to convert * @param precision {Number} - The number of digits after the comma (default: 2) * @param base {Number} - The base (default: 1000) */ engineeringNotation: function(value, precision, base){ var sizes = ['Y','Z','E','P','T','G','M','k',''], fractionSizes = ['y','z','a','f','p','n','Âµ','m',''], total = sizes.length; base = base || 1000; precision = Math.pow(10, precision || 2); if (value === 0) return 0; if (value > 1) { while (total-- && (value >= base)) value /= base; } else { sizes = fractionSizes; total = sizes.length; while (total-- && (value < 1)) value *= base; } return (Math.round(value * precision) / precision) + sizes[total]; }, /** * Returns the magnitude of the input value. * @param {Integer, Float} x - integer or float value * @return {Integer, Float} returns the magnitude of the input value */ getMagnitude: function(x){ return Math.pow(10, Math.floor(Math.log(x) / Math.LN10)); }, toPixel: function(val){ return Math.floor(val)+0.5;//((val-Math.round(val) < 0.4) ? (Math.floor(val)-0.5) : val); }, toRad: function(angle){ return -angle * (Math.PI/180); }, floorInBase: function(n, base) { return base * Math.floor(n / base); }, drawText: function(ctx, text, x, y, style) { if (!ctx.fillText) { ctx.drawText(text, x, y, style); return; } style = this._.extend({ size: Flotr.defaultOptions.fontSize, color: '#000000', textAlign: 'left', textBaseline: 'bottom', weight: 1, angle: 0 }, style); ctx.save(); ctx.translate(x, y); ctx.rotate(style.angle); ctx.fillStyle = style.color; ctx.font = (style.weight > 1 ? ""bold "" : """") + (style.size*1.3) + ""px sans-serif""; ctx.textAlign = style.textAlign; ctx.textBaseline = style.textBaseline; ctx.fillText(text, 0, 0); ctx.restore(); }, getBestTextAlign: function(angle, style) { style = style || {textAlign: 'center', textBaseline: 'middle'}; angle += Flotr.getTextAngleFromAlign(style); if (Math.abs(Math.cos(angle)) > 10e-3) style.textAlign = (Math.cos(angle) > 0 ? 'right' : 'left'); if (Math.abs(Math.sin(angle)) > 10e-3) style.textBaseline = (Math.sin(angle) > 0 ? 'top' : 'bottom'); return style; }, alignTable: { 'right middle' : 0, 'right top' : Math.PI/4, 'center top' : Math.PI/2, 'left top' : 3*(Math.PI/4), 'left middle' : Math.PI, 'left bottom' : -3*(Math.PI/4), 'center bottom': -Math.PI/2, 'right bottom' : -Math.PI/4, 'center middle': 0 }, getTextAngleFromAlign: function(style) { return Flotr.alignTable[style.textAlign+' '+style.textBaseline] || 0; }, noConflict : function () { global.Flotr = previousFlotr; return this; } }; global.Flotr = Flotr; })(); /** * Flotr Defaults */ Flotr.defaultOptions = { colors: ['#00A8F0', '#C0D800', '#CB4B4B', '#4DA74D', '#9440ED'], //=> The default colorscheme. When there are > 5 series, additional colors are generated. ieBackgroundColor: '#FFFFFF', // Background color for excanvas clipping title: null, // => The graph's title subtitle: null, // => The graph's subtitle shadowSize: 4, // => size of the 'fake' shadow defaultType: null, // => default series type HtmlText: true, // => wether to draw the text using HTML or on the canvas fontColor: '#545454', // => default font color fontSize: 7.5, // => canvas' text font size resolution: 1, // => resolution of the graph, to have printer-friendly graphs ! parseFloat: true, // => whether to preprocess data for floats (ie. if input is string) preventDefault: true, // => preventDefault by default for mobile events. Turn off to enable scroll. xaxis: { ticks: null, // => format: either [1, 3] or [[1, 'a'], 3] minorTicks: null, // => format: either [1, 3] or [[1, 'a'], 3] showLabels: true, // => setting to true will show the axis ticks labels, hide otherwise showMinorLabels: false,// => true to show the axis minor ticks labels, false to hide labelsAngle: 0, // => labels' angle, in degrees title: null, // => axis title titleAngle: 0, // => axis title's angle, in degrees noTicks: 5, // => number of ticks for automagically generated ticks minorTickFreq: null, // => number of minor ticks between major ticks for autogenerated ticks tickFormatter: Flotr.defaultTickFormatter, // => fn: number, Object -> string tickDecimals: null, // => no. of decimals, null means auto min: null, // => min. value to show, null means set automatically max: null, // => max. value to show, null means set automatically autoscale: false, // => Turns autoscaling on with true autoscaleMargin: 0, // => margin in % to add if auto-setting min/max color: null, // => color of the ticks mode: 'normal', // => can be 'time' or 'normal' timeFormat: null, timeMode:'UTC', // => For UTC time ('local' for local time). timeUnit:'millisecond',// => Unit for time (millisecond, second, minute, hour, day, month, year) scaling: 'linear', // => Scaling, can be 'linear' or 'logarithmic' base: Math.E, titleAlign: 'center', margin: true // => Turn off margins with false }, x2axis: {}, yaxis: { ticks: null, // => format: either [1, 3] or [[1, 'a'], 3] minorTicks: null, // => format: either [1, 3] or [[1, 'a'], 3] showLabels: true, // => setting to true will show the axis ticks labels, hide otherwise showMinorLabels: false,// => true to show the axis minor ticks labels, false to hide labelsAngle: 0, // => labels' angle, in degrees title: null, // => axis title titleAngle: 90, // => axis title's angle, in degrees noTicks: 5, // => number of ticks for automagically generated ticks minorTickFreq: null, // => number of minor ticks between major ticks for autogenerated ticks tickFormatter: Flotr.defaultTickFormatter, // => fn: number, Object -> string tickDecimals: null, // => no. of decimals, null means auto min: null, // => min. value to show, null means set automatically max: null, // => max. value to show, null means set automatically autoscale: false, // => Turns autoscaling on with true autoscaleMargin: 0, // => margin in % to add if auto-setting min/max color: null, // => The color of the ticks scaling: 'linear', // => Scaling, can be 'linear' or 'logarithmic' base: Math.E, titleAlign: 'center', margin: true // => Turn off margins with false }, y2axis: { titleAngle: 270 }, grid: { color: '#545454', // => primary color used for outline and labels backgroundColor: null, // => null for transparent, else color backgroundImage: null, // => background image. String or object with src, left and top watermarkAlpha: 0.4, // => tickColor: '#DDDDDD', // => color used for the ticks labelMargin: 3, // => margin in pixels verticalLines: true, // => whether to show gridlines in vertical direction minorVerticalLines: null, // => whether to show gridlines for minor ticks in vertical dir. horizontalLines: true, // => whether to show gridlines in horizontal direction minorHorizontalLines: null, // => whether to show gridlines for minor ticks in horizontal dir. outlineWidth: 1, // => width of the grid outline/border in pixels outline : 'nsew', // => walls of the outline to display circular: false // => if set to true, the grid will be circular, must be used when radars are drawn }, mouse: { track: false, // => true to track the mouse, no tracking otherwise trackAll: false, position: 'se', // => position of the value box (default south-east) relative: false, // => next to the mouse cursor trackFormatter: Flotr.defaultTrackFormatter, // => formats the values in the value box margin: 5, // => margin in pixels of the valuebox lineColor: '#FF3F19', // => line color of points that are drawn when mouse comes near a value of a series trackDecimals: 1, // => decimals for the track values sensibility: 2, // => the lower this number, the more precise you have to aim to show a value trackY: true, // => whether or not to track the mouse in the y axis radius: 3, // => radius of the track point fillColor: null, // => color to fill our select bar with only applies to bar and similar graphs (only bars for now) fillOpacity: 0.4 // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill } }; /** * Flotr Color */ (function () { var _ = Flotr._; // Constructor function Color (r, g, b, a) { this.rgba = ['r','g','b','a']; var x = 4; while(-1<--x){ this[this.rgba[x]] = arguments[x] || ((x==3) ? 1.0 : 0); } this.normalize(); } // Constants var COLOR_NAMES = { aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255], brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169], darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47], darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122], darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130], khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144], lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255], maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128], violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0] }; Color.prototype = { scale: function(rf, gf, bf, af){ var x = 4; while (-1 < --x) { if (!_.isUndefined(arguments[x])) this[this.rgba[x]] *= arguments[x]; } return this.normalize(); }, alpha: function(alpha) { if (!_.isUndefined(alpha) && !_.isNull(alpha)) { this.a = alpha; } return this.normalize(); }, clone: function(){ return new Color(this.r, this.b, this.g, this.a); }, limit: function(val,minVal,maxVal){ return Math.max(Math.min(val, maxVal), minVal); }, normalize: function(){ var limit = this.limit; this.r = limit(parseInt(this.r, 10), 0, 255); this.g = limit(parseInt(this.g, 10), 0, 255); this.b = limit(parseInt(this.b, 10), 0, 255); this.a = limit(this.a, 0, 1); return this; }, distance: function(color){ if (!color) return; color = new Color.parse(color); var dist = 0, x = 3; while(-1<--x){ dist += Math.abs(this[this.rgba[x]] - color[this.rgba[x]]); } return dist; }, toString: function(){ return (this.a >= 1.0) ? 'rgb('+[this.r,this.g,this.b].join(',')+')' : 'rgba('+[this.r,this.g,this.b,this.a].join(',')+')'; }, contrast: function () { var test = 1 - ( 0.299 * this.r + 0.587 * this.g + 0.114 * this.b) / 255; return (test < 0.5 ? '#000000' : '#ffffff'); } }; _.extend(Color, { /** * Parses a color string and returns a corresponding Color. * The different tests are in order of probability to improve speed. * @param {String, Color} str - string thats representing a color * @return {Color} returns a Color object or false */ parse: function(color){ if (color instanceof Color) return color; var result; // #a0b1c2 if((result = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))) return new Color(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)); // rgb(num,num,num) if((result = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))) return new Color(parseInt(result[1], 10), parseInt(result[2], 10), parseInt(result[3], 10)); // #fff if((result = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))) return new Color(parseInt(result[1]+result[1],16), parseInt(result[2]+result[2],16), parseInt(result[3]+result[3],16)); // rgba(num,num,num,num) if((result = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(color))) return new Color(parseInt(result[1], 10), parseInt(result[2], 10), parseInt(result[3], 10), parseFloat(result[4])); // rgb(num%,num%,num%) if((result = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))) return new Color(parseFloat(result[1])*2.55, parseFloat(result[2])*2.55, parseFloat(result[3])*2.55); // rgba(num%,num%,num%,num) if((result = /rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(color))) return new Color(parseFloat(result[1])*2.55, parseFloat(result[2])*2.55, parseFloat(result[3])*2.55, parseFloat(result[4])); // Otherwise, we're most likely dealing with a named color. var name = (color+'').replace(/^\s*([\S\s]*?)\s*$/, '$1').toLowerCase(); if(name == 'transparent'){ return new Color(255, 255, 255, 0); } return (result = COLOR_NAMES[name]) ? new Color(result[0], result[1], result[2]) : new Color(0, 0, 0, 0); }, /** * Process color and options into color style. */ processColor: function(color, options) { var opacity = options.opacity; if (!color) return 'rgba(0, 0, 0, 0)'; if (color instanceof Color) return color.alpha(opacity).toString(); if (_.isString(color)) return Color.parse(color).alpha(opacity).toString(); var grad = color.colors ? color : {colors: color}; if (!options.ctx) { if (!_.isArray(grad.colors)) return 'rgba(0, 0, 0, 0)'; return Color.parse(_.isArray(grad.colors[0]) ? grad.colors[0][1] : grad.colors[0]).alpha(opacity).toString(); } grad = _.extend({start: 'top', end: 'bottom'}, grad); if (/top/i.test(grad.start)) options.x1 = 0; if (/left/i.test(grad.start)) options.y1 = 0; if (/bottom/i.test(grad.end)) options.x2 = 0; if (/right/i.test(grad.end)) options.y2 = 0; var i, c, stop, gradient = options.ctx.createLinearGradient(options.x1, options.y1, options.x2, options.y2); for (i = 0; i < grad.colors.length; i++) { c = grad.colors[i]; if (_.isArray(c)) { stop = c[0]; c = c[1]; } else stop = i / (grad.colors.length-1); gradient.addColorStop(stop, Color.parse(c).alpha(opacity)); } return gradient; } }); Flotr.Color = Color; })(); /** * Flotr Date */ Flotr.Date = { set : function (date, name, mode, value) { mode = mode || 'UTC'; name = 'set' + (mode === 'UTC' ? 'UTC' : '') + name; date[name](value); }, get : function (date, name, mode) { mode = mode || 'UTC'; name = 'get' + (mode === 'UTC' ? 'UTC' : '') + name; return date[name](); }, format: function(d, format, mode) { if (!d) return; // We should maybe use an ""official"" date format spec, like PHP date() or ColdFusion // http://fr.php.net/manual/en/function.date.php // http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=functions_c-d_29.html var get = this.get, tokens = { h: get(d, 'Hours', mode).toString(), H: leftPad(get(d, 'Hours', mode)), M: leftPad(get(d, 'Minutes', mode)), S: leftPad(get(d, 'Seconds', mode)), s: get(d, 'Milliseconds', mode), d: get(d, 'Date', mode).toString(), m: (get(d, 'Month', mode) + 1).toString(), y: get(d, 'FullYear', mode).toString(), b: Flotr.Date.monthNames[get(d, 'Month', mode)] }; function leftPad(n){ n += ''; return n.length == 1 ? ""0"" + n : n; } var r = [], c, escape = false; for (var i = 0; i < format.length; ++i) { c = format.charAt(i); if (escape) { r.push(tokens[c] || c); escape = false; } else if (c == ""%"") escape = true; else r.push(c); } return r.join(''); }, getFormat: function(time, span) { var tu = Flotr.Date.timeUnits; if (time < tu.second) return ""%h:%M:%S.%s""; else if (time < tu.minute) return ""%h:%M:%S""; else if (time < tu.day) return (span < 2 * tu.day) ? ""%h:%M"" : ""%b %d %h:%M""; else if (time < tu.month) return ""%b %d""; else if (time < tu.year) return (span < tu.year) ? ""%b"" : ""%b %y""; else return ""%y""; }, formatter: function (v, axis) { var options = axis.options, scale = Flotr.Date.timeUnits[options.timeUnit], d = new Date(v * scale); // first check global format if (axis.options.timeFormat) return Flotr.Date.format(d, options.timeFormat, options.timeMode); var span = (axis.max - axis.min) * scale, t = axis.tickSize * Flotr.Date.timeUnits[axis.tickUnit]; return Flotr.Date.format(d, Flotr.Date.getFormat(t, span), options.timeMode); }, generator: function(axis) { var set = this.set, get = this.get, timeUnits = this.timeUnits, spec = this.spec, options = axis.options, mode = options.timeMode, scale = timeUnits[options.timeUnit], min = axis.min * scale, max = axis.max * scale, delta = (max - min) / options.noTicks, ticks = [], tickSize = axis.tickSize, tickUnit, formatter, i; // Use custom formatter or time tick formatter formatter = (options.tickFormatter === Flotr.defaultTickFormatter ? this.formatter : options.tickFormatter ); for (i = 0; i < spec.length - 1; ++i) { var d = spec[i][0] * timeUnits[spec[i][1]]; if (delta < (d + spec[i+1][0] * timeUnits[spec[i+1][1]]) / 2 && d >= tickSize) break; } tickSize = spec[i][0]; tickUnit = spec[i][1]; // special-case the possibility of several years if (tickUnit == ""year"") { tickSize = Flotr.getTickSize(options.noTicks*timeUnits.year, min, max, 0); // Fix for 0.5 year case if (tickSize == 0.5) { tickUnit = ""month""; tickSize = 6; } } axis.tickUnit = tickUnit; axis.tickSize = tickSize; var step = tickSize * timeUnits[tickUnit]; d = new Date(min); function setTick (name) { set(d, name, mode, Flotr.floorInBase( get(d, name, mode), tickSize )); } switch (tickUnit) { case ""millisecond"": setTick('Milliseconds'); break; case ""second"": setTick('Seconds'); break; case ""minute"": setTick('Minutes'); break; case ""hour"": setTick('Hours'); break; case ""month"": setTick('Month'); break; case ""year"": setTick('FullYear'); break; } // reset smaller components if (step >= timeUnits.second) set(d, 'Milliseconds', mode, 0); if (step >= timeUnits.minute) set(d, 'Seconds', mode, 0); if (step >= timeUnits.hour) set(d, 'Minutes', mode, 0); if (step >= timeUnits.day) set(d, 'Hours', mode, 0); if (step >= timeUnits.day * 4) set(d, 'Date', mode, 1); if (step >= timeUnits.year) set(d, 'Month', mode, 0); var carry = 0, v = NaN, prev; do { prev = v; v = d.getTime(); ticks.push({ v: v / scale, label: formatter(v / scale, axis) }); if (tickUnit == ""month"") { if (tickSize < 1) { /* a bit complicated - we'll divide the month up but we need to take care of fractions so we don't end up in the middle of a day */ set(d, 'Date', mode, 1); var start = d.getTime(); set(d, 'Month', mode, get(d, 'Month', mode) + 1); var end = d.getTime(); d.setTime(v + carry * timeUnits.hour + (end - start) * tickSize); carry = get(d, 'Hours', mode); set(d, 'Hours', mode, 0); } else set(d, 'Month', mode, get(d, 'Month', mode) + tickSize); } else if (tickUnit == ""year"") { set(d, 'FullYear', mode, get(d, 'FullYear', mode) + tickSize); } else d.setTime(v + step); } while (v < max && v != prev); return ticks; }, timeUnits: { millisecond: 1, second: 1000, minute: 1000 * 60, hour: 1000 * 60 * 60, day: 1000 * 60 * 60 * 24, month: 1000 * 60 * 60 * 24 * 30, year: 1000 * 60 * 60 * 24 * 365.2425 }, // the allowed tick sizes, after 1 year we use an integer algorithm spec: [ [1, ""millisecond""], [20, ""millisecond""], [50, ""millisecond""], [100, ""millisecond""], [200, ""millisecond""], [500, ""millisecond""], [1, ""second""], [2, ""second""], [5, ""second""], [10, ""second""], [30, ""second""], [1, ""minute""], [2, ""minute""], [5, ""minute""], [10, ""minute""], [30, ""minute""], [1, ""hour""], [2, ""hour""], [4, ""hour""], [8, ""hour""], [12, ""hour""], [1, ""day""], [2, ""day""], [3, ""day""], [0.25, ""month""], [0.5, ""month""], [1, ""month""], [2, ""month""], [3, ""month""], [6, ""month""], [1, ""year""] ], monthNames: [""Jan"", ""Feb"", ""Mar"", ""Apr"", ""May"", ""Jun"", ""Jul"", ""Aug"", ""Sep"", ""Oct"", ""Nov"", ""Dec""] }; (function () { var _ = Flotr._; function getEl (el) { return (el && el.jquery) ? el[0] : el; } Flotr.DOM = { addClass: function(element, name){ element = getEl(element); var classList = (element.className ? element.className : ''); if (_.include(classList.split(/\s+/g), name)) return; element.className = (classList ? classList + ' ' : '') + name; }, /** * Create an element. */ create: function(tag){ return document.createElement(tag); }, node: function(html) { var div = Flotr.DOM.create('div'), n; div.innerHTML = html; n = div.children[0]; div.innerHTML = ''; return n; }, /** * Remove all children. */ empty: function(element){ element = getEl(element); element.innerHTML = ''; /* if (!element) return; _.each(element.childNodes, function (e) { Flotr.DOM.empty(e); element.removeChild(e); }); */ }, remove: function (element) { element = getEl(element); element.parentNode.removeChild(element); }, hide: function(element){ element = getEl(element); Flotr.DOM.setStyles(element, {display:'none'}); }, /** * Insert a child. * @param {Element} element * @param {Element|String} Element or string to be appended. */ insert: function(element, child){ element = getEl(element); if(_.isString(child)) element.innerHTML += child; else if (_.isElement(child)) element.appendChild(child); }, // @TODO find xbrowser implementation opacity: function(element, opacity) { element = getEl(element); element.style.opacity = opacity; }, position: function(element, p){ element = getEl(element); if (!element.offsetParent) return {left: (element.offsetLeft || 0), top: (element.offsetTop || 0)}; p = this.position(element.offsetParent); p.left += element.offsetLeft; p.top += element.offsetTop; return p; }, removeClass: function(element, name) { var classList = (element.className ? element.className : ''); element = getEl(element); element.className = _.filter(classList.split(/\s+/g), function (c) { if (c != name) return true; } ).join(' '); }, setStyles: function(element, o) { element = getEl(element); _.each(o, function (value, key) { element.style[key] = value; }); }, show: function(element){ element = getEl(element); Flotr.DOM.setStyles(element, {display:''}); }, /** * Return element size. */ size: function(element){ element = getEl(element); return { height : element.offsetHeight, width : element.offsetWidth }; } }; })(); /** * Flotr Event Adapter */ (function () { var F = Flotr, bean = F.bean; F.EventAdapter = { observe: function(object, name, callback) { bean.add(object, name, callback); return this; }, fire: function(object, name, args) { bean.fire(object, name, args); if (typeof(Prototype) != 'undefined') Event.fire(object, name, args); // @TODO Someone who uses mootools, add mootools adapter for existing applciations. return this; }, stopObserving: function(object, name, callback) { bean.remove(object, name, callback); return this; }, eventPointer: function(e) { if (!F._.isUndefined(e.touches) && e.touches.length > 0) { return { x : e.touches[0].pageX, y : e.touches[0].pageY }; } else if (!F._.isUndefined(e.changedTouches) && e.changedTouches.length > 0) { return { x : e.changedTouches[0].pageX, y : e.changedTouches[0].pageY }; } else if (e.pageX || e.pageY) { return { x : e.pageX, y : e.pageY }; } else if (e.clientX || e.clientY) { var d = document, b = d.body, de = d.documentElement; return { x: e.clientX + b.scrollLeft + de.scrollLeft, y: e.clientY + b.scrollTop + de.scrollTop }; } } }; })(); /** * Flotr Graph class that plots a graph on creation. */ (function () { var D = Flotr.DOM, E = Flotr.EventAdapter, _ = Flotr._, flotr = Flotr; /** * Flotr Graph constructor. * @param {Element} el - element to insert the graph into * @param {Object} data - an array or object of dataseries * @param {Object} options - an object containing options */ Graph = function(el, data, options){ // Let's see if we can get away with out this [JS] // try { this._setEl(el); this._initMembers(); this._initPlugins(); E.fire(this.el, 'flotr:beforeinit', [this]); this.data = data; this.series = flotr.Series.getSeries(data); this._initOptions(options); this._initGraphTypes(); this._initCanvas(); this._text = new flotr.Text({ element : this.el, ctx : this.ctx, html : this.options.HtmlText, textEnabled : this.textEnabled }); E.fire(this.el, 'flotr:afterconstruct', [this]); this._initEvents(); this.findDataRanges(); this.calculateSpacing(); this.draw(_.bind(function() { E.fire(this.el, 'flotr:afterinit', [this]); }, this)); /* try { } catch (e) { try { console.error(e); } catch (e2) {} }*/ }; function observe (object, name, callback) { E.observe.apply(this, arguments); this._handles.push(arguments); return this; } Graph.prototype = { destroy: function () { E.fire(this.el, 'flotr:destroy'); _.each(this._handles, function (handle) { E.stopObserving.apply(this, handle); }); this._handles = []; this.el.graph = null; }, observe : observe, /** * @deprecated */ _observe : observe, processColor: function(color, options){ var o = { x1: 0, y1: 0, x2: this.plotWidth, y2: this.plotHeight, opacity: 1, ctx: this.ctx }; _.extend(o, options); return flotr.Color.processColor(color, o); }, /** * Function determines the min and max values for the xaxis and yaxis. * * TODO logarithmic range validation (consideration of 0) */ findDataRanges: function(){ var a = this.axes, xaxis, yaxis, range; _.each(this.series, function (series) { range = series.getRange(); if (range) { xaxis = series.xaxis; yaxis = series.yaxis; xaxis.datamin = Math.min(range.xmin, xaxis.datamin); xaxis.datamax = Math.max(range.xmax, xaxis.datamax); yaxis.datamin = Math.min(range.ymin, yaxis.datamin); yaxis.datamax = Math.max(range.ymax, yaxis.datamax); xaxis.used = (xaxis.used || range.xused); yaxis.used = (yaxis.used || range.yused); } }, this); // Check for empty data, no data case (none used) if (!a.x.used && !a.x2.used) a.x.used = true; if (!a.y.used && !a.y2.used) a.y.used = true; _.each(a, function (axis) { axis.calculateRange(); }); var types = _.keys(flotr.graphTypes), drawn = false; _.each(this.series, function (series) { if (series.hide) return; _.each(types, function (type) { if (series[type] && series[type].show) { this.extendRange(type, series); drawn = true; } }, this); if (!drawn) { this.extendRange(this.options.defaultType, series); } }, this); }, extendRange : function (type, series) { if (this[type].extendRange) this[type].extendRange(series, series.data, series[type], this[type]); if (this[type].extendYRange) this[type].extendYRange(series.yaxis, series.data, series[type], this[type]); if (this[type].extendXRange) this[type].extendXRange(series.xaxis, series.data, series[type], this[type]); }, /** * Calculates axis label sizes. */ calculateSpacing: function(){ var a = this.axes, options = this.options, series = this.series, margin = options.grid.labelMargin, T = this._text, x = a.x, x2 = a.x2, y = a.y, y2 = a.y2, maxOutset = options.grid.outlineWidth, i, j, l, dim; // TODO post refactor, fix this _.each(a, function (axis) { axis.calculateTicks(); axis.calculateTextDimensions(T, options); }); // Title height dim = T.dimensions( options.title, {size: options.fontSize*1.5}, 'font-size:1em;font-weight:bold;', 'flotr-title' ); this.titleHeight = dim.height; // Subtitle height dim = T.dimensions( options.subtitle, {size: options.fontSize}, 'font-size:smaller;', 'flotr-subtitle' ); this.subtitleHeight = dim.height; for(j = 0; j < options.length; ++j){ if (series[j].points.show){ maxOutset = Math.max(maxOutset, series[j].points.radius + series[j].points.lineWidth/2); } } var p = this.plotOffset; if (x.options.margin === false) { p.bottom = 0; p.top = 0; } else if (x.options.margin === true) { p.bottom += (options.grid.circular ? 0 : (x.used && x.options.showLabels ? (x.maxLabel.height + margin) : 0)) + (x.used && x.options.title ? (x.titleSize.height + margin) : 0) + maxOutset; p.top += (options.grid.circular ? 0 : (x2.used && x2.options.showLabels ? (x2.maxLabel.height + margin) : 0)) + (x2.used && x2.options.title ? (x2.titleSize.height + margin) : 0) + this.subtitleHeight + this.titleHeight + maxOutset; } else { p.bottom = x.options.margin; p.top = x.options.margin; } if (y.options.margin === false) { p.left = 0; p.right = 0; } else if (y.options.margin === true) { p.left += (options.grid.circular ? 0 : (y.used && y.options.showLabels ? (y.maxLabel.width + margin) : 0)) + (y.used && y.options.title ? (y.titleSize.width + margin) : 0) + maxOutset; p.right += (options.grid.circular ? 0 : (y2.used && y2.options.showLabels ? (y2.maxLabel.width + margin) : 0)) + (y2.used && y2.options.title ? (y2.titleSize.width + margin) : 0) + maxOutset; } else { p.left = y.options.margin; p.right = y.options.margin; } p.top = Math.floor(p.top); // In order the outline not to be blured this.plotWidth = this.canvasWidth - p.left - p.right; this.plotHeight = this.canvasHeight - p.bottom - p.top; // TODO post refactor, fix this x.length = x2.length = this.plotWidth; y.length = y2.length = this.plotHeight; y.offset = y2.offset = this.plotHeight; x.setScale(); x2.setScale(); y.setScale(); y2.setScale(); }, /** * Draws grid, labels, series and outline. */ draw: function(after) { var context = this.ctx, i; E.fire(this.el, 'flotr:beforedraw', [this.series, this]); if (this.series.length) { context.save(); context.translate(this.plotOffset.left, this.plotOffset.top); for (i = 0; i < this.series.length; i++) { if (!this.series[i].hide) this.drawSeries(this.series[i]); } context.restore(); this.clip(); } E.fire(this.el, 'flotr:afterdraw', [this.series, this]); if (after) after(); }, /** * Actually draws the graph. * @param {Object} series - series to draw */ drawSeries: function(series){ function drawChart (series, typeKey) { var options = this.getOptions(series, typeKey); this[typeKey].draw(options); } var drawn = false; series = series || this.series; _.each(flotr.graphTypes, function (type, typeKey) { if (series[typeKey] && series[typeKey].show && this[typeKey]) { drawn = true; drawChart.call(this, series, typeKey); } }, this); if (!drawn) drawChart.call(this, series, this.options.defaultType); }, getOptions : function (series, typeKey) { var type = series[typeKey], graphType = this[typeKey], xaxis = series.xaxis, yaxis = series.yaxis, options = { context : this.ctx, width : this.plotWidth, height : this.plotHeight, fontSize : this.options.fontSize, fontColor : this.options.fontColor, textEnabled : this.textEnabled, htmlText : this.options.HtmlText, text : this._text, // TODO Is this necessary? element : this.el, data : series.data, color : series.color, shadowSize : series.shadowSize, xScale : xaxis.d2p, yScale : yaxis.d2p, xInverse : xaxis.p2d, yInverse : yaxis.p2d }; options = flotr.merge(type, options); // Fill options.fillStyle = this.processColor( type.fillColor || series.color, {opacity: type.fillOpacity} ); return options; }, /** * Calculates the coordinates from a mouse event object. * @param {Event} event - Mouse Event object. * @return {Object} Object with coordinates of the mouse. */ getEventPosition: function (e){ var d = document, b = d.body, de = d.documentElement, axes = this.axes, plotOffset = this.plotOffset, lastMousePos = this.lastMousePos, pointer = E.eventPointer(e), dx = pointer.x - lastMousePos.pageX, dy = pointer.y - lastMousePos.pageY, r, rx, ry; if ('ontouchstart' in this.el) { r = D.position(this.overlay); rx = pointer.x - r.left - plotOffset.left; ry = pointer.y - r.top - plotOffset.top; } else { r = this.overlay.getBoundingClientRect(); rx = e.clientX - r.left - plotOffset.left - b.scrollLeft - de.scrollLeft; ry = e.clientY - r.top - plotOffset.top - b.scrollTop - de.scrollTop; } return { x: axes.x.p2d(rx), x2: axes.x2.p2d(rx), y: axes.y.p2d(ry), y2: axes.y2.p2d(ry), relX: rx, relY: ry, dX: dx, dY: dy, absX: pointer.x, absY: pointer.y, pageX: pointer.x, pageY: pointer.y }; }, /** * Observes the 'click' event and fires the 'flotr:click' event. * @param {Event} event - 'click' Event object. */ clickHandler: function(event){ if(this.ignoreClick){ this.ignoreClick = false; return this.ignoreClick; } E.fire(this.el, 'flotr:click', [this.getEventPosition(event), this]); }, /** * Observes mouse movement over the graph area. Fires the 'flotr:mousemove' event. * @param {Event} event - 'mousemove' Event object. */ mouseMoveHandler: function(event){ if (this.mouseDownMoveHandler) return; var pos = this.getEventPosition(event); E.fire(this.el, 'flotr:mousemove', [event, pos, this]); this.lastMousePos = pos; }, /** * Observes the 'mousedown' event. * @param {Event} event - 'mousedown' Event object. */ mouseDownHandler: function (event){ /* // @TODO Context menu? if(event.isRightClick()) { event.stop(); var overlay = this.overlay; overlay.hide(); function cancelContextMenu () { overlay.show(); E.stopObserving(document, 'mousemove', cancelContextMenu); } E.observe(document, 'mousemove', cancelContextMenu); return; } */ if (this.mouseUpHandler) return; this.mouseUpHandler = _.bind(function (e) { E.stopObserving(document, 'mouseup', this.mouseUpHandler); E.stopObserving(document, 'mousemove', this.mouseDownMoveHandler); this.mouseDownMoveHandler = null; this.mouseUpHandler = null; // @TODO why? //e.stop(); E.fire(this.el, 'flotr:mouseup', [e, this]); }, this); this.mouseDownMoveHandler = _.bind(function (e) { var pos = this.getEventPosition(e); E.fire(this.el, 'flotr:mousemove', [event, pos, this]); this.lastMousePos = pos; }, this); E.observe(document, 'mouseup', this.mouseUpHandler); E.observe(document, 'mousemove', this.mouseDownMoveHandler); E.fire(this.el, 'flotr:mousedown', [event, this]); this.ignoreClick = false; }, drawTooltip: function(content, x, y, options) { var mt = this.getMouseTrack(), style = 'opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;', p = options.position, m = options.margin, plotOffset = this.plotOffset; if(x !== null && y !== null){ if (!options.relative) { // absolute to the canvas if(p.charAt(0) == 'n') style += 'top:' + (m + plotOffset.top) + 'px;bottom:auto;'; else if(p.charAt(0) == 's') style += 'bottom:' + (m + plotOffset.bottom) + 'px;top:auto;'; if(p.charAt(1) == 'e') style += 'right:' + (m + plotOffset.right) + 'px;left:auto;'; else if(p.charAt(1) == 'w') style += 'left:' + (m + plotOffset.left) + 'px;right:auto;'; } else { // relative to the mouse if(p.charAt(0) == 'n') style += 'bottom:' + (m - plotOffset.top - y + this.canvasHeight) + 'px;top:auto;'; else if(p.charAt(0) == 's') style += 'top:' + (m + plotOffset.top + y) + 'px;bottom:auto;'; if(p.charAt(1) == 'e') style += 'left:' + (m + plotOffset.left + x) + 'px;right:auto;'; else if(p.charAt(1) == 'w') style += 'right:' + (m - plotOffset.left - x + this.canvasWidth) + 'px;left:auto;'; } mt.style.cssText = style; D.empty(mt); D.insert(mt, content); D.show(mt); } else { D.hide(mt); } }, clip: function (ctx) { var o = this.plotOffset, w = this.canvasWidth, h = this.canvasHeight; ctx = ctx || this.ctx; if ( flotr.isIE && flotr.isIE < 9 && // IE w/o canvas !flotr.isFlashCanvas // But not flash canvas ) { // Do not clip excanvas on overlay context // Allow hits to overflow. if (ctx === this.octx) { return; } // Clipping for excanvas :-( ctx.save(); ctx.fillStyle = this.processColor(this.options.ieBackgroundColor); ctx.fillRect(0, 0, w, o.top); ctx.fillRect(0, 0, o.left, h); ctx.fillRect(0, h - o.bottom, w, o.bottom); ctx.fillRect(w - o.right, 0, o.right,h); ctx.restore(); } else { ctx.clearRect(0, 0, w, o.top); ctx.clearRect(0, 0, o.left, h); ctx.clearRect(0, h - o.bottom, w, o.bottom); ctx.clearRect(w - o.right, 0, o.right,h); } }, _initMembers: function() { this._handles = []; this.lastMousePos = {pageX: null, pageY: null }; this.plotOffset = {left: 0, right: 0, top: 0, bottom: 0}; this.ignoreClick = true; this.prevHit = null; }, _initGraphTypes: function() { _.each(flotr.graphTypes, function(handler, graphType){ this[graphType] = flotr.clone(handler); }, this); }, _initEvents: function () { var el = this.el, touchendHandler, movement, touchend; if ('ontouchstart' in el) { touchendHandler = _.bind(function (e) { touchend = true; E.stopObserving(document, 'touchend', touchendHandler); E.fire(el, 'flotr:mouseup', [event, this]); this.multitouches = null; if (!movement) { this.clickHandler(e); } }, this); this.observe(this.overlay, 'touchstart', _.bind(function (e) { movement = false; touchend = false; this.ignoreClick = false; if (e.touches && e.touches.length > 1) { this.multitouches = e.touches; } E.fire(el, 'flotr:mousedown', [event, this]); this.observe(document, 'touchend', touchendHandler); }, this)); this.observe(this.overlay, 'touchmove', _.bind(function (e) { var pos = this.getEventPosition(e); if (this.options.preventDefault) { e.preventDefault(); } movement = true; if (this.multitouches || (e.touches && e.touches.length > 1)) { this.multitouches = e.touches; } else { if (!touchend) { E.fire(el, 'flotr:mousemove', [event, pos, this]); } } this.lastMousePos = pos; }, this)); } else { this. observe(this.overlay, 'mousedown', _.bind(this.mouseDownHandler, this)). observe(el, 'mousemove', _.bind(this.mouseMoveHandler, this)). observe(this.overlay, 'click', _.bind(this.clickHandler, this)). observe(el, 'mouseout', function (e) { E.fire(el, 'flotr:mouseout', e); }); } }, /** * Initializes the canvas and it's overlay canvas element. When the browser is IE, this makes use * of excanvas. The overlay canvas is inserted for displaying interactions. After the canvas elements * are created, the elements are inserted into the container element. */ _initCanvas: function(){ var el = this.el, o = this.options, children = el.children, removedChildren = [], child, i, size, style; // Empty the el for (i = children.length; i--;) { child = children[i]; if (!this.canvas && child.className === 'flotr-canvas') { this.canvas = child; } else if (!this.overlay && child.className === 'flotr-overlay') { this.overlay = child; } else { removedChildren.push(child); } } for (i = removedChildren.length; i--;) { el.removeChild(removedChildren[i]); } D.setStyles(el, {position: 'relative'}); // For positioning labels and overlay. size = {}; size.width = el.clientWidth; size.height = el.clientHeight; if(size.width <= 0 || size.height <= 0 || o.resolution <= 0){ throw 'Invalid dimensions for plot, width = ' + size.width + ', height = ' + size.height + ', resolution = ' + o.resolution; } // Main canvas for drawing graph types this.canvas = getCanvas(this.canvas, 'canvas'); // Overlay canvas for interactive features this.overlay = getCanvas(this.overlay, 'overlay'); this.ctx = getContext(this.canvas); this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height); this.octx = getContext(this.overlay); this.octx.clearRect(0, 0, this.overlay.width, this.overlay.height); this.canvasHeight = size.height; this.canvasWidth = size.width; this.textEnabled = !!this.ctx.drawText || !!this.ctx.fillText; // Enable text functions function getCanvas(canvas, name){ if(!canvas){ canvas = D.create('canvas'); if (typeof FlashCanvas != ""undefined"" && typeof canvas.getContext === 'function') { FlashCanvas.initElement(canvas); this.isFlashCanvas = true; } canvas.className = 'flotr-'+name; canvas.style.cssText = 'position:absolute;left:0px;top:0px;'; D.insert(el, canvas); } _.each(size, function(size, attribute){ D.show(canvas); if (name == 'canvas' && canvas.getAttribute(attribute) === size) { return; } canvas.setAttribute(attribute, size * o.resolution); canvas.style[attribute] = size + 'px'; }); canvas.context_ = null; // Reset the ExCanvas context return canvas; } function getContext(canvas){ if(window.G_vmlCanvasManager) window.G_vmlCanvasManager.initElement(canvas); // For ExCanvas var context = canvas.getContext('2d'); if(!window.G_vmlCanvasManager) context.scale(o.resolution, o.resolution); return context; } }, _initPlugins: function(){ // TODO Should be moved to flotr and mixed in. _.each(flotr.plugins, function(plugin, name){ _.each(plugin.callbacks, function(fn, c){ this.observe(this.el, c, _.bind(fn, this)); }, this); this[name] = flotr.clone(plugin); _.each(this[name], function(fn, p){ if (_.isFunction(fn)) this[name][p] = _.bind(fn, this); }, this); }, this); }, /** * Sets options and initializes some variables and color specific values, used by the constructor. * @param {Object} opts - options object */ _initOptions: function(opts){ var options = flotr.clone(flotr.defaultOptions); options.x2axis = _.extend(_.clone(options.xaxis), options.x2axis); options.y2axis = _.extend(_.clone(options.yaxis), options.y2axis); this.options = flotr.merge(opts || {}, options); if (this.options.grid.minorVerticalLines === null && this.options.xaxis.scaling === 'logarithmic') { this.options.grid.minorVerticalLines = true; } if (this.options.grid.minorHorizontalLines === null && this.options.yaxis.scaling === 'logarithmic') { this.options.grid.minorHorizontalLines = true; } E.fire(this.el, 'flotr:afterinitoptions', [this]); this.axes = flotr.Axis.getAxes(this.options); // Initialize some variables used throughout this function. var assignedColors = [], colors = [], ln = this.series.length, neededColors = this.series.length, oc = this.options.colors, usedColors = [], variation = 0, c, i, j, s; // Collect user-defined colors from series. for(i = neededColors - 1; i > -1; --i){ c = this.series[i].color; if(c){ --neededColors; if(_.isNumber(c)) assignedColors.push(c); else usedColors.push(flotr.Color.parse(c)); } } // Calculate the number of colors that need to be generated. for(i = assignedColors.length - 1; i > -1; --i) neededColors = Math.max(neededColors, assignedColors[i] + 1); // Generate needed number of colors. for(i = 0; colors.length < neededColors;){ c = (oc.length == i) ? new flotr.Color(100, 100, 100) : flotr.Color.parse(oc[i]); // Make sure each serie gets a different color. var sign = variation % 2 == 1 ? -1 : 1, factor = 1 + sign * Math.ceil(variation / 2) * 0.2; c.scale(factor, factor, factor); /** * @todo if we're getting too close to something else, we should probably skip this one */ colors.push(c); if(++i >= oc.length){ i = 0; ++variation; } } // Fill the options with the generated colors. for(i = 0, j = 0; i < ln; ++i){ s = this.series[i]; // Assign the color. if (!s.color){ s.color = colors[j++].toString(); }else if(_.isNumber(s.color)){ s.color = colors[s.color].toString(); } // Every series needs an axis if (!s.xaxis) s.xaxis = this.axes.x; if (s.xaxis == 1) s.xaxis = this.axes.x; else if (s.xaxis == 2) s.xaxis = this.axes.x2; if (!s.yaxis) s.yaxis = this.axes.y; if (s.yaxis == 1) s.yaxis = this.axes.y; else if (s.yaxis == 2) s.yaxis = this.axes.y2; // Apply missing options to the series. for (var t in flotr.graphTypes){ s[t] = _.extend(_.clone(this.options[t]), s[t]); } s.mouse = _.extend(_.clone(this.options.mouse), s.mouse); if (_.isUndefined(s.shadowSize)) s.shadowSize = this.options.shadowSize; } }, _setEl: function(el) { if (!el) throw 'The target container doesn\'t exist'; else if (el.graph instanceof Graph) el.graph.destroy(); else if (!el.clientWidth) throw 'The target container must be visible'; el.graph = this; this.el = el; } }; Flotr.Graph = Graph; })(); /** * Flotr Axis Library */ (function () { var _ = Flotr._, LOGARITHMIC = 'logarithmic'; function Axis (o) { this.orientation = 1; this.offset = 0; this.datamin = Number.MAX_VALUE; this.datamax = -Number.MAX_VALUE; _.extend(this, o); } // Prototype Axis.prototype = { setScale : function () { var length = this.length, max = this.max, min = this.min, offset = this.offset, orientation = this.orientation, options = this.options, logarithmic = options.scaling === LOGARITHMIC, scale; if (logarithmic) { scale = length / (log(max, options.base) - log(min, options.base)); } else { scale = length / (max - min); } this.scale = scale; // Logarithmic? if (logarithmic) { this.d2p = function (dataValue) { return offset + orientation * (log(dataValue, options.base) - log(min, options.base)) * scale; }; this.p2d = function (pointValue) { return exp((offset + orientation * pointValue) / scale + log(min, options.base), options.base); }; } else { this.d2p = function (dataValue) { return offset + orientation * (dataValue - min) * scale; }; this.p2d = function (pointValue) { return (offset + orientation * pointValue) / scale + min; }; } }, calculateTicks : function () { var options = this.options; this.ticks = []; this.minorTicks = []; // User Ticks if(options.ticks){ this._cleanUserTicks(options.ticks, this.ticks); this._cleanUserTicks(options.minorTicks || [], this.minorTicks); } else { if (options.mode == 'time') { this._calculateTimeTicks(); } else if (options.scaling === 'logarithmic') { this._calculateLogTicks(); } else { this._calculateTicks(); } } // Ticks to strings _.each(this.ticks, function (tick) { tick.label += ''; }); _.each(this.minorTicks, function (tick) { tick.label += ''; }); }, /** * Calculates the range of an axis to apply autoscaling. */ calculateRange: function () { if (!this.used) return; var axis = this, o = axis.options, min = o.min !== null ? o.min : axis.datamin, max = o.max !== null ? o.max : axis.datamax, margin = o.autoscaleMargin; if (o.scaling == 'logarithmic') { if (min <= 0) min = axis.datamin; // Let it widen later on if (max <= 0) max = min; } if (max == min) { var widen = max ? 0.01 : 1.00; if (o.min === null) min -= widen; if (o.max === null) max += widen; } if (o.scaling === 'logarithmic') { if (min < 0) min = max / o.base; // Could be the result of widening var maxexp = Math.log(max); if (o.base != Math.E) maxexp /= Math.log(o.base); maxexp = Math.ceil(maxexp); var minexp = Math.log(min); if (o.base != Math.E) minexp /= Math.log(o.base); minexp = Math.ceil(minexp); axis.tickSize = Flotr.getTickSize(o.noTicks, minexp, maxexp, o.tickDecimals === null ? 0 : o.tickDecimals); // Try to determine a suitable amount of miniticks based on the length of a decade if (o.minorTickFreq === null) { if (maxexp - minexp > 10) o.minorTickFreq = 0; else if (maxexp - minexp > 5) o.minorTickFreq = 2; else o.minorTickFreq = 5; } } else { axis.tickSize = Flotr.getTickSize(o.noTicks, min, max, o.tickDecimals); } axis.min = min; axis.max = max; //extendRange may use axis.min or axis.max, so it should be set before it is caled // Autoscaling. @todo This probably fails with log scale. Find a testcase and fix it if(o.min === null && o.autoscale){ axis.min -= axis.tickSize * margin; // Make sure we don't go below zero if all values are positive. if(axis.min < 0 && axis.datamin >= 0) axis.min = 0; axis.min = axis.tickSize * Math.floor(axis.min / axis.tickSize); } if(o.max === null && o.autoscale){ axis.max += axis.tickSize * margin; if(axis.max > 0 && axis.datamax <= 0 && axis.datamax != axis.datamin) axis.max = 0; axis.max = axis.tickSize * Math.ceil(axis.max / axis.tickSize); } if (axis.min == axis.max) axis.max = axis.min + 1; }, calculateTextDimensions : function (T, options) { var maxLabel = '', length, i; if (this.options.showLabels) { for (i = 0; i < this.ticks.length; ++i) { length = this.ticks[i].label.length; if (length > maxLabel.length){ maxLabel = this.ticks[i].label; } } } this.maxLabel = T.dimensions( maxLabel, {size:options.fontSize, angle: Flotr.toRad(this.options.labelsAngle)}, 'font-size:smaller;', 'flotr-grid-label' ); this.titleSize = T.dimensions( this.options.title, {size:options.fontSize*1.2, angle: Flotr.toRad(this.options.titleAngle)}, 'font-weight:bold;', 'flotr-axis-title' ); }, _cleanUserTicks : function (ticks, axisTicks) { var axis = this, options = this.options, v, i, label, tick; if(_.isFunction(ticks)) ticks = ticks({min : axis.min, max : axis.max}); for(i = 0; i < ticks.length; ++i){ tick = ticks[i]; if(typeof(tick) === 'object'){ v = tick[0]; label = (tick.length > 1) ? tick[1] : options.tickFormatter(v, {min : axis.min, max : axis.max}); } else { v = tick; label = options.tickFormatter(v, {min : this.min, max : this.max}); } axisTicks[i] = { v: v, label: label }; } }, _calculateTimeTicks : function () { this.ticks = Flotr.Date.generator(this); }, _calculateLogTicks : function () { var axis = this, o = axis.options, v, decadeStart; var max = Math.log(axis.max); if (o.base != Math.E) max /= Math.log(o.base); max = Math.ceil(max); var min = Math.log(axis.min); if (o.base != Math.E) min /= Math.log(o.base); min = Math.ceil(min); for (i = min; i < max; i += axis.tickSize) { decadeStart = (o.base == Math.E) ? Math.exp(i) : Math.pow(o.base, i); // Next decade begins here: var decadeEnd = decadeStart * ((o.base == Math.E) ? Math.exp(axis.tickSize) : Math.pow(o.base, axis.tickSize)); var stepSize = (decadeEnd - decadeStart) / o.minorTickFreq; axis.ticks.push({v: decadeStart, label: o.tickFormatter(decadeStart, {min : axis.min, max : axis.max})}); for (v = decadeStart + stepSize; v < decadeEnd; v += stepSize) axis.minorTicks.push({v: v, label: o.tickFormatter(v, {min : axis.min, max : axis.max})}); } // Always show the value at the would-be start of next decade (end of this decade) decadeStart = (o.base == Math.E) ? Math.exp(i) : Math.pow(o.base, i); axis.ticks.push({v: decadeStart, label: o.tickFormatter(decadeStart, {min : axis.min, max : axis.max})}); }, _calculateTicks : function () { var axis = this, o = axis.options, tickSize = axis.tickSize, min = axis.min, max = axis.max, start = tickSize * Math.ceil(min / tickSize), // Round to nearest multiple of tick size. decimals, minorTickSize, v, v2, i, j; if (o.minorTickFreq) minorTickSize = tickSize / o.minorTickFreq; // Then store all possible ticks. for (i = 0; (v = v2 = start + i * tickSize) <= max; ++i){ // Round (this is always needed to fix numerical instability). decimals = o.tickDecimals; if (decimals === null) decimals = 1 - Math.floor(Math.log(tickSize) / Math.LN10); if (decimals < 0) decimals = 0; v = v.toFixed(decimals); axis.ticks.push({ v: v, label: o.tickFormatter(v, {min : axis.min, max : axis.max}) }); if (o.minorTickFreq) { for (j = 0; j < o.minorTickFreq && (i * tickSize + j * minorTickSize) < max; ++j) { v = v2 + j * minorTickSize; axis.minorTicks.push({ v: v, label: o.tickFormatter(v, {min : axis.min, max : axis.max}) }); } } } } }; // Static Methods _.extend(Axis, { getAxes : function (options) { return { x: new Axis({options: options.xaxis, n: 1, length: this.plotWidth}), x2: new Axis({options: options.x2axis, n: 2, length: this.plotWidth}), y: new Axis({options: options.yaxis, n: 1, length: this.plotHeight, offset: this.plotHeight, orientation: -1}), y2: new Axis({options: options.y2axis, n: 2, length: this.plotHeight, offset: this.plotHeight, orientation: -1}) }; } }); // Helper Methods function log (value, base) { value = Math.log(Math.max(value, Number.MIN_VALUE)); if (base !== Math.E) value /= Math.log(base); return value; } function exp (value, base) { return (base === Math.E) ? Math.exp(value) : Math.pow(base, value); } Flotr.Axis = Axis; })(); /** * Flotr Series Library */ (function () { var _ = Flotr._; function Series (o) { _.extend(this, o); } Series.prototype = { getRange: function () { var data = this.data, length = data.length, xmin = Number.MAX_VALUE, ymin = Number.MAX_VALUE, xmax = -Number.MAX_VALUE, ymax = -Number.MAX_VALUE, xused = false, yused = false, x, y, i; if (length < 0 || this.hide) return false; for (i = 0; i < length; i++) { x = data[i][0]; y = data[i][1]; if (x !== null) { if (x < xmin) { xmin = x; xused = true; } if (x > xmax) { xmax = x; xused = true; } } if (y !== null) { if (y < ymin) { ymin = y; yused = true; } if (y > ymax) { ymax = y; yused = true; } } } return { xmin : xmin, xmax : xmax, ymin : ymin, ymax : ymax, xused : xused, yused : yused }; } }; _.extend(Series, { /** * Collects dataseries from input and parses the series into the right format. It returns an Array * of Objects each having at least the 'data' key set. * @param {Array, Object} data - Object or array of dataseries * @return {Array} Array of Objects parsed into the right format ({(...,) data: [[x1,y1], [x2,y2], ...] (, ...)}) */ getSeries: function(data){ return _.map(data, function(s){ var series; if (s.data) { series = new Series(); _.extend(series, s); } else { series = new Series({data:s}); } return series; }); } }); Flotr.Series = Series; })(); /** * Text Utilities */ (function () { var F = Flotr, D = F.DOM, _ = F._, Text = function (o) { this.o = o; }; Text.prototype = { dimensions : function (text, canvasStyle, htmlStyle, className) { if (!text) return { width : 0, height : 0 }; return (this.o.html) ? this.html(text, this.o.element, htmlStyle, className) : this.canvas(text, canvasStyle); }, canvas : function (text, style) { if (!this.o.textEnabled) return; style = style || {}; var metrics = this.measureText(text, style), width = metrics.width, height = style.size || F.defaultOptions.fontSize, angle = style.angle || 0, cosAngle = Math.cos(angle), sinAngle = Math.sin(angle), widthPadding = 2, heightPadding = 6, bounds; bounds = { width: Math.abs(cosAngle * width) + Math.abs(sinAngle * height) + widthPadding, height: Math.abs(sinAngle * width) + Math.abs(cosAngle * height) + heightPadding }; return bounds; }, html : function (text, element, style, className) { var div = D.create('div'); D.setStyles(div, { 'position' : 'absolute', 'top' : '-100000px' }); D.insert(div, '<div style=""'+style+'"" class=""'+className+' flotr-dummy-div"">' + text + '</div>'); D.insert(this.o.element, div); return D.size(div); }, measureText : function (text, style) { var context = this.o.ctx, metrics; if (!context.fillText || (F.isIphone && context.measure)) { return { width : context.measure(text, style)}; } style = _.extend({ size: F.defaultOptions.fontSize, weight: 1, angle: 0 }, style); context.save(); context.font = (style.weight > 1 ? ""bold "" : """") + (style.size*1.3) + ""px sans-serif""; metrics = context.measureText(text); context.restore(); return metrics; } }; Flotr.Text = Text; })(); /** Lines **/ Flotr.addType('lines', { options: { show: false, // => setting to true will show lines, false will hide lineWidth: 2, // => line width in pixels fill: false, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillBorder: false, // => draw a border around the fill fillColor: null, // => fill color fillOpacity: 0.4, // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill steps: false, // => draw steps stacked: false // => setting to true will show stacked lines, false will show normal lines }, stack : { values : [] }, /** * Draws lines series in the canvas element. * @param {Object} options */ draw : function (options) { var context = options.context, lineWidth = options.lineWidth, shadowSize = options.shadowSize, offset; context.save(); context.lineJoin = 'round'; if (shadowSize && false) { context.lineWidth = shadowSize / 2; offset = lineWidth / 2 + context.lineWidth / 2; // @TODO do this instead with a linear gradient context.strokeStyle = ""rgba(0,0,0,0.1)""; this.plot(options, offset + shadowSize / 2, false); context.strokeStyle = ""rgba(0,0,0,0.2)""; this.plot(options, offset, false); } context.lineWidth = lineWidth; context.strokeStyle = options.color; this.plot(options, 0, true); context.restore(); }, plot : function (options, shadowOffset, incStack) { var context = options.context, width = options.width, height = options.height, xScale = options.xScale, yScale = options.yScale, data = options.data, stack = options.stacked ? this.stack : false, length = data.length - 1, prevx = null, prevy = null, zero = yScale(0), start = null, x1, x2, y1, y2, stack1, stack2, i; if (length < 1) return; context.beginPath(); for (i = 0; i < length; ++i) { // To allow empty values if (data[i][1] === null || data[i+1][1] === null) { if (options.fill) { if (i > 0 && data[i][1]) { context.stroke(); fill(); start = null; context.closePath(); context.beginPath(); } } continue; } // Zero is infinity for log scales // TODO handle zero for logarithmic // if (xa.options.scaling === 'logarithmic' && (data[i][0] <= 0 || data[i+1][0] <= 0)) continue; // if (ya.options.scaling === 'logarithmic' && (data[i][1] <= 0 || data[i+1][1] <= 0)) continue; x1 = xScale(data[i][0]); x2 = xScale(data[i+1][0]); if (start === null) start = data[i]; if (stack) { stack1 = stack.values[i] || 0; stack2 = stack.values[i+1] || 0; y1 = yScale(data[i][1] + stack1); y2 = yScale(data[i+1][1] + stack2); } else{ y1 = yScale(data[i][1]); y2 = yScale(data[i+1][1]); } if ( (y1 > height && y2 > height) || (y1 < 0 && y2 < 0) || (x1 < 0 && x2 < 0) || (x1 > width && x2 > width) ) continue; if((prevx != x1) || (prevy != y1 + shadowOffset)) context.moveTo(x1, y1 + shadowOffset); prevx = x2; prevy = y2 + shadowOffset; if (options.steps) { context.lineTo(prevx + shadowOffset / 2, y1 + shadowOffset); context.lineTo(prevx + shadowOffset / 2, prevy); } else { context.lineTo(prevx, prevy); } } if (!options.fill || options.fill && !options.fillBorder) context.stroke(); fill(); if (stack) { for (i = 0; i < length; ++i) { stack1 = stack.values[i] || 0; stack2 = stack.values[i+1] || 0; if (incStack) { stack.values[i] = data[i][1]+stack1; if (i == length-1) stack.values[i+1] = data[i+1][1]+stack2; } } } function drawPathRev(data) { var j = null; for (j = length-1; j >= 0 ; --j) { if (!options.fill) return; // Empty values not full supported if (!data[j]) return; if (data[j][1] === null) { data[j][1] = 0; } x = xScale(data[j][0]); y = yScale(data[j][1]); if ( (y > height) || (x > width) || (y < 0) || (x < 0) ) return; context.lineTo(x, y); context.stroke(); } } function stackToPlot(values) { var stack_data = []; var x_offset = data[0][0]; for (i = 0; i < values.length; ++i) { stack_data.push([i+x_offset, values[i]]); } return stack_data; } function fill () { if(!shadowOffset && options.fill && start){ if (options.fillBorder) { context.stroke(); } x1 = xScale(start[0]); context.fillStyle = options.fillStyle; if (!stack || stack.values.length === 0) { context.lineTo(x2, zero); context.lineTo(x1, zero); context.lineTo(x1, yScale(start[1])); } else { var stack_plot = stackToPlot(stack.values); stack_x1 = xScale(stack_plot[0][0]); stack_y2 = yScale(stack_plot[stack_plot.length-1][1]); context.lineTo(x2, stack_y2); drawPathRev(stack_plot); context.lineTo(stack_x1, yScale(data[0][1])); } context.fill(); } } }, // Perform any pre-render precalculations (this should be run on data first) // - Pie chart total for calculating measures // - Stacks for lines and bars // precalculate : function () { // } // // // Get any bounds after pre calculation (axis can fetch this if does not have explicit min/max) // getBounds : function () { // } // getMin : function () { // } // getMax : function () { // } // // // Padding around rendered elements // getPadding : function () { // } extendYRange : function (axis, data, options, lines) { var o = axis.options; // If stacked and auto-min if (options.stacked && ((!o.max && o.max !== 0) || (!o.min && o.min !== 0))) { var newmax = axis.max, newmin = axis.min, positiveSums = lines.positiveSums || {}, negativeSums = lines.negativeSums || {}, x, j; for (j = 0; j < data.length; j++) { x = data[j][0] + ''; // Positive if (data[j][1] > 0) { positiveSums[x] = (positiveSums[x] || 0) + data[j][1]; newmax = Math.max(newmax, positiveSums[x]); } // Negative else { negativeSums[x] = (negativeSums[x] || 0) + data[j][1]; newmin = Math.min(newmin, negativeSums[x]); } } lines.negativeSums = negativeSums; lines.positiveSums = positiveSums; axis.max = newmax; axis.min = newmin; } if (options.steps) { this.hit = function (options) { var data = options.data, args = options.args, yScale = options.yScale, mouse = args[0], length = data.length, n = args[1], x = options.xInverse(mouse.relX), relY = mouse.relY, i; for (i = 0; i < length - 1; i++) { if (x >= data[i][0] && x <= data[i+1][0]) { if (Math.abs(yScale(data[i][1]) - relY) < 8) { n.x = data[i][0]; n.y = data[i][1]; n.index = i; n.seriesIndex = options.index; } break; } } }; this.drawHit = function (options) { var context = options.context, args = options.args, data = options.data, xScale = options.xScale, index = args.index, x = xScale(args.x), y = options.yScale(args.y), x2; if (data.length - 1 > index) { x2 = options.xScale(data[index + 1][0]); context.save(); context.strokeStyle = options.color; context.lineWidth = options.lineWidth; context.beginPath(); context.moveTo(x, y); context.lineTo(x2, y); context.stroke(); context.closePath(); context.restore(); } }; this.clearHit = function (options) { var context = options.context, args = options.args, data = options.data, xScale = options.xScale, width = options.lineWidth, index = args.index, x = xScale(args.x), y = options.yScale(args.y), x2; if (data.length - 1 > index) { x2 = options.xScale(data[index + 1][0]); context.clearRect(x - width, y - width, x2 - x + 2 * width, 2 * width); } }; } } }); /** Bars **/ Flotr.addType('bars', { options: { show: false, // => setting to true will show bars, false will hide lineWidth: 2, // => in pixels barWidth: 1, // => in units of the x axis fill: true, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillColor: null, // => fill color fillOpacity: 0.4, // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill horizontal: false, // => horizontal bars (x and y inverted) stacked: false, // => stacked bar charts centered: true, // => center the bars to their x axis value topPadding: 0.1, // => top padding in percent grouped: false // => groups bars together which share x value, hit not supported. }, stack : { positive : [], negative : [], _positive : [], // Shadow _negative : [] // Shadow }, draw : function (options) { var context = options.context; this.current += 1; context.save(); context.lineJoin = 'miter'; // @TODO linewidth not interpreted the right way. context.lineWidth = options.lineWidth; context.strokeStyle = options.color; if (options.fill) context.fillStyle = options.fillStyle; this.plot(options); context.restore(); }, plot : function (options) { var data = options.data, context = options.context, shadowSize = options.shadowSize, i, geometry, left, top, width, height; if (data.length < 1) return; this.translate(context, options.horizontal); for (i = 0; i < data.length; i++) { geometry = this.getBarGeometry(data[i][0], data[i][1], options); if (geometry === null) continue; left = geometry.left; top = geometry.top; width = geometry.width; height = geometry.height; if (options.fill) context.fillRect(left, top, width, height); if (shadowSize) { context.save(); context.fillStyle = 'rgba(0,0,0,0.05)'; context.fillRect(left + shadowSize, top + shadowSize, width, height); context.restore(); } if (options.lineWidth) { context.strokeRect(left, top, width, height); } } }, translate : function (context, horizontal) { if (horizontal) { context.rotate(-Math.PI / 2); context.scale(-1, 1); } }, getBarGeometry : function (x, y, options) { var horizontal = options.horizontal, barWidth = options.barWidth, centered = options.centered, stack = options.stacked ? this.stack : false, lineWidth = options.lineWidth, bisection = centered ? barWidth / 2 : 0, xScale = horizontal ? options.yScale : options.xScale, yScale = horizontal ? options.xScale : options.yScale, xValue = horizontal ? y : x, yValue = horizontal ? x : y, stackOffset = 0, stackValue, left, right, top, bottom; if (options.grouped) { this.current / this.groups; xValue = xValue - bisection; barWidth = barWidth / this.groups; bisection = barWidth / 2; xValue = xValue + barWidth * this.current - bisection; } // Stacked bars if (stack) { stackValue = yValue > 0 ? stack.positive : stack.negative; stackOffset = stackValue[xValue] || stackOffset; stackValue[xValue] = stackOffset + yValue; } left = xScale(xValue - bisection); right = xScale(xValue + barWidth - bisection); top = yScale(yValue + stackOffset); bottom = yScale(stackOffset); // TODO for test passing... probably looks better without this if (bottom < 0) bottom = 0; // TODO Skipping... // if (right < xa.min || left > xa.max || top < ya.min || bottom > ya.max) continue; return (x === null || y === null) ? null : { x : xValue, y : yValue, xScale : xScale, yScale : yScale, top : top, left : Math.min(left, right) - lineWidth / 2, width : Math.abs(right - left) - lineWidth, height : bottom - top }; }, hit : function (options) { var data = options.data, args = options.args, mouse = args[0], n = args[1], x = options.xInverse(mouse.relX), y = options.yInverse(mouse.relY), hitGeometry = this.getBarGeometry(x, y, options), width = hitGeometry.width / 2, left = hitGeometry.left, height = hitGeometry.y, geometry, i; for (i = data.length; i--;) { geometry = this.getBarGeometry(data[i][0], data[i][1], options); if ( // Height: ( // Positive Bars: (height > 0 && height < geometry.y) || // Negative Bars: (height < 0 && height > geometry.y) ) && // Width: (Math.abs(left - geometry.left) < width) ) { n.x = data[i][0]; n.y = data[i][1]; n.index = i; n.seriesIndex = options.index; } } }, drawHit : function (options) { // TODO hits for stacked bars; implement using calculateStack option? var context = options.context, args = options.args, geometry = this.getBarGeometry(args.x, args.y, options), left = geometry.left, top = geometry.top, width = geometry.width, height = geometry.height; context.save(); context.strokeStyle = options.color; context.lineWidth = options.lineWidth; this.translate(context, options.horizontal); // Draw highlight context.beginPath(); context.moveTo(left, top + height); context.lineTo(left, top); context.lineTo(left + width, top); context.lineTo(left + width, top + height); if (options.fill) { context.fillStyle = options.fillStyle; context.fill(); } context.stroke(); context.closePath(); context.restore(); }, clearHit: function (options) { var context = options.context, args = options.args, geometry = this.getBarGeometry(args.x, args.y, options), left = geometry.left, width = geometry.width, top = geometry.top, height = geometry.height, lineWidth = 2 * options.lineWidth; context.save(); this.translate(context, options.horizontal); context.clearRect( left - lineWidth, Math.min(top, top + height) - lineWidth, width + 2 * lineWidth, Math.abs(height) + 2 * lineWidth ); context.restore(); }, extendXRange : function (axis, data, options, bars) { this._extendRange(axis, data, options, bars); this.groups = (this.groups + 1) || 1; this.current = 0; }, extendYRange : function (axis, data, options, bars) { this._extendRange(axis, data, options, bars); }, _extendRange: function (axis, data, options, bars) { var max = axis.options.max; if (_.isNumber(max) || _.isString(max)) return; var newmin = axis.min, newmax = axis.max, horizontal = options.horizontal, orientation = axis.orientation, positiveSums = this.positiveSums || {}, negativeSums = this.negativeSums || {}, value, datum, index, j; // Sides of bars if ((orientation == 1 && !horizontal) || (orientation == -1 && horizontal)) { if (options.centered) { newmax = Math.max(axis.datamax + options.barWidth, newmax); newmin = Math.min(axis.datamin - options.barWidth, newmin); } } if (options.stacked && ((orientation == 1 && horizontal) || (orientation == -1 && !horizontal))){ for (j = data.length; j--;) { value = data[j][(orientation == 1 ? 1 : 0)]+''; datum = data[j][(orientation == 1 ? 0 : 1)]; // Positive if (datum > 0) { positiveSums[value] = (positiveSums[value] || 0) + datum; newmax = Math.max(newmax, positiveSums[value]); } // Negative else { negativeSums[value] = (negativeSums[value] || 0) + datum; newmin = Math.min(newmin, negativeSums[value]); } } } // End of bars if ((orientation == 1 && horizontal) || (orientation == -1 && !horizontal)) { if (options.topPadding && (axis.max === axis.datamax || (options.stacked && this.stackMax !== newmax))) { newmax += options.topPadding * (newmax - newmin); } } this.stackMin = newmin; this.stackMax = newmax; this.negativeSums = negativeSums; this.positiveSums = positiveSums; axis.max = newmax; axis.min = newmin; } }); /** Bubbles **/ Flotr.addType('bubbles', { options: { show: false, // => setting to true will show radar chart, false will hide lineWidth: 2, // => line width in pixels fill: true, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillOpacity: 0.4, // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill baseRadius: 2 // => ratio of the radar, against the plot size }, draw : function (options) { var context = options.context, shadowSize = options.shadowSize; context.save(); context.lineWidth = options.lineWidth; // Shadows context.fillStyle = 'rgba(0,0,0,0.05)'; context.strokeStyle = 'rgba(0,0,0,0.05)'; this.plot(options, shadowSize / 2); context.strokeStyle = 'rgba(0,0,0,0.1)'; this.plot(options, shadowSize / 4); // Chart context.strokeStyle = options.color; context.fillStyle = options.fillStyle; this.plot(options); context.restore(); }, plot : function (options, offset) { var data = options.data, context = options.context, geometry, i, x, y, z; offset = offset || 0; for (i = 0; i < data.length; ++i){ geometry = this.getGeometry(data[i], options); context.beginPath(); context.arc(geometry.x + offset, geometry.y + offset, geometry.z, 0, 2 * Math.PI, true); context.stroke(); if (options.fill) context.fill(); context.closePath(); } }, getGeometry : function (point, options) { return { x : options.xScale(point[0]), y : options.yScale(point[1]), z : point[2] * options.baseRadius }; }, hit : function (options) { var data = options.data, args = options.args, mouse = args[0], n = args[1], relX = mouse.relX, relY = mouse.relY, distance, geometry, dx, dy; n.best = n.best || Number.MAX_VALUE; for (i = data.length; i--;) { geometry = this.getGeometry(data[i], options); dx = geometry.x - relX; dy = geometry.y - relY; distance = Math.sqrt(dx * dx + dy * dy); if (distance < geometry.z && geometry.z < n.best) { n.x = data[i][0]; n.y = data[i][1]; n.index = i; n.seriesIndex = options.index; n.best = geometry.z; } } }, drawHit : function (options) { var context = options.context, geometry = this.getGeometry(options.data[options.args.index], options); context.save(); context.lineWidth = options.lineWidth; context.fillStyle = options.fillStyle; context.strokeStyle = options.color; context.beginPath(); context.arc(geometry.x, geometry.y, geometry.z, 0, 2 * Math.PI, true); context.fill(); context.stroke(); context.closePath(); context.restore(); }, clearHit : function (options) { var context = options.context, geometry = this.getGeometry(options.data[options.args.index], options), offset = geometry.z + options.lineWidth; context.save(); context.clearRect( geometry.x - offset, geometry.y - offset, 2 * offset, 2 * offset ); context.restore(); } // TODO Add a hit calculation method (like pie) }); /** Markers **/ /** * Formats the marker labels. * @param {Object} obj - Marker value Object {x:..,y:..} * @return {String} Formatted marker string */ (function () { Flotr.defaultMarkerFormatter = function(obj){ return (Math.round(obj.y*100)/100)+''; }; Flotr.addType('markers', { options: { show: false, // => setting to true will show markers, false will hide lineWidth: 1, // => line width of the rectangle around the marker color: '#000000', // => text color fill: false, // => fill or not the marekers' rectangles fillColor: ""#FFFFFF"", // => fill color fillOpacity: 0.4, // => fill opacity stroke: false, // => draw the rectangle around the markers position: 'ct', // => the markers position (vertical align: b, m, t, horizontal align: l, c, r) verticalMargin: 0, // => the margin between the point and the text. labelFormatter: Flotr.defaultMarkerFormatter, fontSize: Flotr.defaultOptions.fontSize, stacked: false, // => true if markers should be stacked stackingType: 'b', // => define staching behavior, (b- bars like, a - area like) (see Issue 125 for details) horizontal: false // => true if markers should be horizontal (For now only in a case on horizontal stacked bars, stacks should be calculated horizontaly) }, // TODO test stacked markers. stack : { positive : [], negative : [], values : [] }, draw : function (options) { var data = options.data, context = options.context, stack = options.stacked ? options.stack : false, stackType = options.stackingType, stackOffsetNeg, stackOffsetPos, stackOffset, i, x, y, label; context.save(); context.lineJoin = 'round'; context.lineWidth = options.lineWidth; context.strokeStyle = 'rgba(0,0,0,0.5)'; context.fillStyle = options.fillStyle; function stackPos (a, b) { stackOffsetPos = stack.negative[a] || 0; stackOffsetNeg = stack.positive[a] || 0; if (b > 0) { stack.positive[a] = stackOffsetPos + b; return stackOffsetPos + b; } else { stack.negative[a] = stackOffsetNeg + b; return stackOffsetNeg + b; } } for (i = 0; i < data.length; ++i) { x = data[i][0]; y = data[i][1]; if (stack) { if (stackType == 'b') { if (options.horizontal) y = stackPos(y, x); else x = stackPos(x, y); } else if (stackType == 'a') { stackOffset = stack.values[x] || 0; stack.values[x] = stackOffset + y; y = stackOffset + y; } } label = options.labelFormatter({x: x, y: y, index: i, data : data}); this.plot(options.xScale(x), options.yScale(y), label, options); } context.restore(); }, plot: function(x, y, label, options) { var context = options.context; if (isImage(label) && !label.complete) { throw 'Marker image not loaded.'; } else { this._plot(x, y, label, options); } }, _plot: function(x, y, label, options) { var context = options.context, margin = 2, left = x, top = y, dim; if (isImage(label)) dim = {height : label.height, width: label.width}; else dim = options.text.canvas(label); dim.width = Math.floor(dim.width+margin*2); dim.height = Math.floor(dim.height+margin*2); if (options.position.indexOf('c') != -1) left -= dim.width/2 + margin; else if (options.position.indexOf('l') != -1) left -= dim.width; if (options.position.indexOf('m') != -1) top -= dim.height/2 + margin; else if (options.position.indexOf('t') != -1) top -= dim.height + options.verticalMargin; else top += options.verticalMargin; left = Math.floor(left)+0.5; top = Math.floor(top)+0.5; if(options.fill) context.fillRect(left, top, dim.width, dim.height); if(options.stroke) context.strokeRect(left, top, dim.width, dim.height); if (isImage(label)) context.drawImage(label, parseInt(left+margin, 10), parseInt(top+margin, 10)); else Flotr.drawText(context, label, left+margin, top+margin, {textBaseline: 'top', textAlign: 'left', size: options.fontSize, color: options.color}); } }); function isImage (i) { return typeof i === 'object' && i.constructor && (Image ? true : i.constructor === Image); } })(); /** * Pie * * Formats the pies labels. * @param {Object} slice - Slice object * @return {String} Formatted pie label string */ (function () { var _ = Flotr._; Flotr.defaultPieLabelFormatter = function (total, value) { return (100 * value / total).toFixed(2)+'%'; }; Flotr.addType('pie', { options: { show: false, // => setting to true will show bars, false will hide lineWidth: 1, // => in pixels fill: true, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillColor: null, // => fill color fillOpacity: 0.6, // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill explode: 6, // => the number of pixels the splices will be far from the center sizeRatio: 0.6, // => the size ratio of the pie relative to the plot startAngle: Math.PI/4, // => the first slice start angle labelFormatter: Flotr.defaultPieLabelFormatter, pie3D: false, // => whether to draw the pie in 3 dimenstions or not (ineffective) pie3DviewAngle: (Math.PI/2 * 0.8), pie3DspliceThickness: 20, epsilon: 0.1 // => how close do you have to get to hit empty slice }, draw : function (options) { // TODO 3D charts what? var data = options.data, context = options.context, canvas = context.canvas, lineWidth = options.lineWidth, shadowSize = options.shadowSize, sizeRatio = options.sizeRatio, height = options.height, width = options.width, explode = options.explode, color = options.color, fill = options.fill, fillStyle = options.fillStyle, radius = Math.min(canvas.width, canvas.height) * sizeRatio / 2, value = data[0][1], html = [], vScale = 1,//Math.cos(series.pie.viewAngle); measure = Math.PI * 2 * value / this.total, startAngle = this.startAngle || (2 * Math.PI * options.startAngle), // TODO: this initial startAngle is already in radians (fixing will be test-unstable) endAngle = startAngle + measure, bisection = startAngle + measure / 2, label = options.labelFormatter(this.total, value), //plotTickness = Math.sin(series.pie.viewAngle)*series.pie.spliceThickness / vScale; explodeCoeff = explode + radius + 4, distX = Math.cos(bisection) * explodeCoeff, distY = Math.sin(bisection) * explodeCoeff, textAlign = distX < 0 ? 'right' : 'left', textBaseline = distY > 0 ? 'top' : 'bottom', style, x, y; context.save(); context.translate(width / 2, height / 2); context.scale(1, vScale); x = Math.cos(bisection) * explode; y = Math.sin(bisection) * explode; // Shadows if (shadowSize > 0) { this.plotSlice(x + shadowSize, y + shadowSize, radius, startAngle, endAngle, context); if (fill) { context.fillStyle = 'rgba(0,0,0,0.1)'; context.fill(); } } this.plotSlice(x, y, radius, startAngle, endAngle, context); if (fill) { context.fillStyle = fillStyle; context.fill(); } context.lineWidth = lineWidth; context.strokeStyle = color; context.stroke(); style = { size : options.fontSize * 1.2, color : options.fontColor, weight : 1.5 }; if (label) { if (options.htmlText || !options.textEnabled) { divStyle = 'position:absolute;' + textBaseline + ':' + (height / 2 + (textBaseline === 'top' ? distY : -distY)) + 'px;'; divStyle += textAlign + ':' + (width / 2 + (textAlign === 'right' ? -distX : distX)) + 'px;'; html.push('<div style=""', divStyle, '"" class=""flotr-grid-label"">', label, '</div>'); } else { style.textAlign = textAlign; style.textBaseline = textBaseline; Flotr.drawText(context, label, distX, distY, style); } } if (options.htmlText || !options.textEnabled) { var div = Flotr.DOM.node('<div style=""color:' + options.fontColor + '"" class=""flotr-labels""></div>'); Flotr.DOM.insert(div, html.join('')); Flotr.DOM.insert(options.element, div); } context.restore(); // New start angle this.startAngle = endAngle; this.slices = this.slices || []; this.slices.push({ radius : Math.min(canvas.width, canvas.height) * sizeRatio / 2, x : x, y : y, explode : explode, start : startAngle, end : endAngle }); }, plotSlice : function (x, y, radius, startAngle, endAngle, context) { context.beginPath(); context.moveTo(x, y); context.arc(x, y, radius, startAngle, endAngle, false); context.lineTo(x, y); context.closePath(); }, hit : function (options) { var data = options.data[0], args = options.args, index = options.index, mouse = args[0], n = args[1], slice = this.slices[index], x = mouse.relX - options.width / 2, y = mouse.relY - options.height / 2, r = Math.sqrt(x * x + y * y), theta = Math.atan(y / x), circle = Math.PI * 2, explode = slice.explode || options.explode, start = slice.start % circle, end = slice.end % circle, epsilon = options.epsilon; if (x < 0) { theta += Math.PI; } else if (x > 0 && y < 0) { theta += circle; } if (r < slice.radius + explode && r > explode) { if ( (theta > start && theta < end) || // Normal Slice (start > end && (theta < end || theta > start)) || // First slice // TODO: Document the two cases at the end: (start === end && ((slice.start === slice.end && Math.abs(theta - start) < epsilon) || (slice.start !== slice.end && Math.abs(theta-start) > epsilon))) ) { // TODO Decouple this from hit plugin (chart shouldn't know what n means) n.x = data[0]; n.y = data[1]; n.sAngle = start; n.eAngle = end; n.index = 0; n.seriesIndex = index; n.fraction = data[1] / this.total; } } }, drawHit: function (options) { var context = options.context, slice = this.slices[options.args.seriesIndex]; context.save(); context.translate(options.width / 2, options.height / 2); this.plotSlice(slice.x, slice.y, slice.radius, slice.start, slice.end, context); context.stroke(); context.restore(); }, clearHit : function (options) { var context = options.context, slice = this.slices[options.args.seriesIndex], padding = 2 * options.lineWidth, radius = slice.radius + padding; context.save(); context.translate(options.width / 2, options.height / 2); context.clearRect( slice.x - radius, slice.y - radius, 2 * radius + padding, 2 * radius + padding ); context.restore(); }, extendYRange : function (axis, data) { this.total = (this.total || 0) + data[0][1]; } }); })(); /** Points **/ Flotr.addType('points', { options: { show: false, // => setting to true will show points, false will hide radius: 3, // => point radius (pixels) lineWidth: 2, // => line width in pixels fill: true, // => true to fill the points with a color, false for (transparent) no fill fillColor: '#FFFFFF', // => fill color. Null to use series color. fillOpacity: 1, // => opacity of color inside the points hitRadius: null // => override for points hit radius }, draw : function (options) { var context = options.context, lineWidth = options.lineWidth, shadowSize = options.shadowSize; context.save(); if (shadowSize > 0) { context.lineWidth = shadowSize / 2; context.strokeStyle = 'rgba(0,0,0,0.1)'; this.plot(options, shadowSize / 2 + context.lineWidth / 2); context.strokeStyle = 'rgba(0,0,0,0.2)'; this.plot(options, context.lineWidth / 2); } context.lineWidth = options.lineWidth; context.strokeStyle = options.color; if (options.fill) context.fillStyle = options.fillStyle; this.plot(options); context.restore(); }, plot : function (options, offset) { var data = options.data, context = options.context, xScale = options.xScale, yScale = options.yScale, i, x, y; for (i = data.length - 1; i > -1; --i) { y = data[i][1]; if (y === null) continue; x = xScale(data[i][0]); y = yScale(y); if (x < 0 || x > options.width || y < 0 || y > options.height) continue; context.beginPath(); if (offset) { context.arc(x, y + offset, options.radius, 0, Math.PI, false); } else { context.arc(x, y, options.radius, 0, 2 * Math.PI, true); if (options.fill) context.fill(); } context.stroke(); context.closePath(); } } }); /** Radar **/ Flotr.addType('radar', { options: { show: false, // => setting to true will show radar chart, false will hide lineWidth: 2, // => line width in pixels fill: true, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillOpacity: 0.4, // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill radiusRatio: 0.90, // => ratio of the radar, against the plot size sensibility: 2 // => the lower this number, the more precise you have to aim to show a value. }, draw : function (options) { var context = options.context, shadowSize = options.shadowSize; context.save(); context.translate(options.width / 2, options.height / 2); context.lineWidth = options.lineWidth; // Shadow context.fillStyle = 'rgba(0,0,0,0.05)'; context.strokeStyle = 'rgba(0,0,0,0.05)'; this.plot(options, shadowSize / 2); context.strokeStyle = 'rgba(0,0,0,0.1)'; this.plot(options, shadowSize / 4); // Chart context.strokeStyle = options.color; context.fillStyle = options.fillStyle; this.plot(options); context.restore(); }, plot : function (options, offset) { var data = options.data, context = options.context, radius = Math.min(options.height, options.width) * options.radiusRatio / 2, step = 2 * Math.PI / data.length, angle = -Math.PI / 2, i, ratio; offset = offset || 0; context.beginPath(); for (i = 0; i < data.length; ++i) { ratio = data[i][1] / this.max; context[i === 0 ? 'moveTo' : 'lineTo']( Math.cos(i * step + angle) * radius * ratio + offset, Math.sin(i * step + angle) * radius * ratio + offset ); } context.closePath(); if (options.fill) context.fill(); context.stroke(); }, getGeometry : function (point, options) { var radius = Math.min(options.height, options.width) * options.radiusRatio / 2, step = 2 * Math.PI / options.data.length, angle = -Math.PI / 2, ratio = point[1] / this.max; return { x : (Math.cos(point[0] * step + angle) * radius * ratio) + options.width / 2, y : (Math.sin(point[0] * step + angle) * radius * ratio) + options.height / 2 }; }, hit : function (options) { var args = options.args, mouse = args[0], n = args[1], relX = mouse.relX, relY = mouse.relY, distance, geometry, dx, dy; for (var i = 0; i < n.series.length; i++) { var serie = n.series[i]; var data = serie.data; for (var j = data.length; j--;) { geometry = this.getGeometry(data[j], options); dx = geometry.x - relX; dy = geometry.y - relY; distance = Math.sqrt(dx * dx + dy * dy); if (distance < options.sensibility*2) { n.x = data[j][0]; n.y = data[j][1]; n.index = j; n.seriesIndex = i; return n; } } } }, drawHit : function (options) { var step = 2 * Math.PI / options.data.length; var angle = -Math.PI / 2; var radius = Math.min(options.height, options.width) * options.radiusRatio / 2; var s = options.args.series; var point_radius = s.points.hitRadius || s.points.radius || s.mouse.radius; var context = options.context; context.translate(options.width / 2, options.height / 2); var j = options.args.index; var ratio = options.data[j][1] / this.max; var x = Math.cos(j * step + angle) * radius * ratio; var y = Math.sin(j * step + angle) * radius * ratio; context.beginPath(); context.arc(x, y, point_radius , 0, 2 * Math.PI, true); context.closePath(); context.stroke(); }, clearHit : function (options) { var step = 2 * Math.PI / options.data.length; var angle = -Math.PI / 2; var radius = Math.min(options.height, options.width) * options.radiusRatio / 2; var context = options.context; var s = options.args.series, lw = (s.points ? s.points.lineWidth : 1); offset = (s.points.hitRadius || s.points.radius || s.mouse.radius) + lw; context.translate(options.width / 2, options.height / 2); var j = options.args.index; var ratio = options.data[j][1] / this.max; var x = Math.cos(j * step + angle) * radius * ratio; var y = Math.sin(j * step + angle) * radius * ratio; context.clearRect(x-offset,y-offset,offset*2,offset*2); }, extendYRange : function (axis, data) { this.max = Math.max(axis.max, this.max || -Number.MAX_VALUE); } }); /** * Selection Handles Plugin * * * Options * show - True enables the handles plugin. * drag - Left and Right drag handles * scroll - Scrolling handle */ (function () { function isLeftClick (e, type) { return (e.which ? (e.which === 1) : (e.button === 0 || e.button === 1)); } function boundX(x, graph) { return Math.min(Math.max(0, x), graph.plotWidth - 1); } function boundY(y, graph) { return Math.min(Math.max(0, y), graph.plotHeight); } var D = Flotr.DOM, E = Flotr.EventAdapter, _ = Flotr._; Flotr.addPlugin('selection', { options: { pinchOnly: null, // Only select on pinch mode: null, // => one of null, 'x', 'y' or 'xy' color: '#B6D9FF', // => selection box color fps: 20 // => frames-per-second }, callbacks: { 'flotr:mouseup' : function (event) { var options = this.options.selection, selection = this.selection, pointer = this.getEventPosition(event); if (!options || !options.mode) return; if (selection.interval) clearInterval(selection.interval); if (this.multitouches) { selection.updateSelection(); } else if (!options.pinchOnly) { selection.setSelectionPos(selection.selection.second, pointer); } selection.clearSelection(); if(selection.selecting && selection.selectionIsSane()){ selection.drawSelection(); selection.fireSelectEvent(); this.ignoreClick = true; } }, 'flotr:mousedown' : function (event) { var options = this.options.selection, selection = this.selection, pointer = this.getEventPosition(event); if (!options || !options.mode) return; if (!options.mode || (!isLeftClick(event) && _.isUndefined(event.touches))) return; if (!options.pinchOnly) selection.setSelectionPos(selection.selection.first, pointer); if (selection.interval) clearInterval(selection.interval); this.lastMousePos.pageX = null; selection.selecting = false; selection.interval = setInterval( _.bind(selection.updateSelection, this), 1000 / options.fps ); }, 'flotr:destroy' : function (event) { clearInterval(this.selection.interval); } }, // TODO This isn't used. Maybe it belongs in the draw area and fire select event methods? getArea: function() { var s = this.selection.selection, a = this.axes, first = s.first, second = s.second, x1, x2, y1, y2; x1 = a.x.p2d(s.first.x); x2 = a.x.p2d(s.second.x); y1 = a.y.p2d(s.first.y); y2 = a.y.p2d(s.second.y); return { x1 : Math.min(x1, x2), y1 : Math.min(y1, y2), x2 : Math.max(x1, x2), y2 : Math.max(y1, y2), xfirst : x1, xsecond : x2, yfirst : y1, ysecond : y2 }; }, selection: {first: {x: -1, y: -1}, second: {x: -1, y: -1}}, prevSelection: null, interval: null, /** * Fires the 'flotr:select' event when the user made a selection. */ fireSelectEvent: function(name){ var area = this.selection.getArea(); name = name || 'select'; area.selection = this.selection.selection; E.fire(this.el, 'flotr:'+name, [area, this]); }, /** * Allows the user the manually select an area. * @param {Object} area - Object with coordinates to select. */ setSelection: function(area, preventEvent){ var options = this.options, xa = this.axes.x, ya = this.axes.y, vertScale = ya.scale, hozScale = xa.scale, selX = options.selection.mode.indexOf('x') != -1, selY = options.selection.mode.indexOf('y') != -1, s = this.selection.selection; this.selection.clearSelection(); s.first.y = boundY((selX && !selY) ? 0 : (ya.max - area.y1) * vertScale, this); s.second.y = boundY((selX && !selY) ? this.plotHeight - 1: (ya.max - area.y2) * vertScale, this); s.first.x = boundX((selY && !selX) ? 0 : (area.x1 - xa.min) * hozScale, this); s.second.x = boundX((selY && !selX) ? this.plotWidth : (area.x2 - xa.min) * hozScale, this); this.selection.drawSelection(); if (!preventEvent) this.selection.fireSelectEvent(); }, /** * Calculates the position of the selection. * @param {Object} pos - Position object. * @param {Event} event - Event object. */ setSelectionPos: function(pos, pointer) { var mode = this.options.selection.mode, selection = this.selection.selection; if(mode.indexOf('x') == -1) { pos.x = (pos == selection.first) ? 0 : this.plotWidth; }else{ pos.x = boundX(pointer.relX, this); } if (mode.indexOf('y') == -1) { pos.y = (pos == selection.first) ? 0 : this.plotHeight - 1; }else{ pos.y = boundY(pointer.relY, this); } }, /** * Draws the selection box. */ drawSelection: function() { this.selection.fireSelectEvent('selecting'); var s = this.selection.selection, octx = this.octx, options = this.options, plotOffset = this.plotOffset, prevSelection = this.selection.prevSelection; if (prevSelection && s.first.x == prevSelection.first.x && s.first.y == prevSelection.first.y && s.second.x == prevSelection.second.x && s.second.y == prevSelection.second.y) { return; } octx.save(); octx.strokeStyle = this.processColor(options.selection.color, {opacity: 0.8}); octx.lineWidth = 1; octx.lineJoin = 'miter'; octx.fillStyle = this.processColor(options.selection.color, {opacity: 0.4}); this.selection.prevSelection = { first: { x: s.first.x, y: s.first.y }, second: { x: s.second.x, y: s.second.y } }; var x = Math.min(s.first.x, s.second.x), y = Math.min(s.first.y, s.second.y), w = Math.abs(s.second.x - s.first.x), h = Math.abs(s.second.y - s.first.y); octx.fillRect(x + plotOffset.left+0.5, y + plotOffset.top+0.5, w, h); octx.strokeRect(x + plotOffset.left+0.5, y + plotOffset.top+0.5, w, h); octx.restore(); }, /** * Updates (draws) the selection box. */ updateSelection: function(){ if (!this.lastMousePos.pageX) return; this.selection.selecting = true; if (this.multitouches) { this.selection.setSelectionPos(this.selection.selection.first, this.getEventPosition(this.multitouches[0])); this.selection.setSelectionPos(this.selection.selection.second, this.getEventPosition(this.multitouches[1])); } else if (this.options.selection.pinchOnly) { return; } else { this.selection.setSelectionPos(this.selection.selection.second, this.lastMousePos); } this.selection.clearSelection(); if(this.selection.selectionIsSane()) { this.selection.drawSelection(); } }, /** * Removes the selection box from the overlay canvas. */ clearSelection: function() { if (!this.selection.prevSelection) return; var prevSelection = this.selection.prevSelection, lw = 1, plotOffset = this.plotOffset, x = Math.min(prevSelection.first.x, prevSelection.second.x), y = Math.min(prevSelection.first.y, prevSelection.second.y), w = Math.abs(prevSelection.second.x - prevSelection.first.x), h = Math.abs(prevSelection.second.y - prevSelection.first.y); this.octx.clearRect(x + plotOffset.left - lw + 0.5, y + plotOffset.top - lw, w + 2 * lw + 0.5, h + 2 * lw + 0.5); this.selection.prevSelection = null; }, /** * Determines whether or not the selection is sane and should be drawn. * @return {Boolean} - True when sane, false otherwise. */ selectionIsSane: function(){ var s = this.selection.selection; return Math.abs(s.second.x - s.first.x) >= 5 || Math.abs(s.second.y - s.first.y) >= 5; } }); })(); (function () { var D = Flotr.DOM, _ = Flotr._; Flotr.addPlugin('legend', { options: { show: true, // => setting to true will show the legend, hide otherwise noColumns: 1, // => number of colums in legend table // @todo: doesn't work for HtmlText = false labelFormatter: function(v){return v;}, // => fn: string -> string labelBoxBorderColor: '#CCCCCC', // => border color for the little label boxes labelBoxWidth: 14, labelBoxHeight: 10, labelBoxMargin: 5, container: null, // => container (as jQuery object) to put legend in, null means default on top of graph position: 'nw', // => position of default legend container within plot margin: 5, // => distance from grid edge to default legend container within plot backgroundColor: '#F0F0F0', // => Legend background color. backgroundOpacity: 0.85// => set to 0 to avoid background, set to 1 for a solid background }, callbacks: { 'flotr:afterinit': function() { this.legend.insertLegend(); }, 'flotr:destroy': function() { var markup = this.legend.markup; if (markup) { this.legend.markup = null; D.remove(markup); } } }, /** * Adds a legend div to the canvas container or draws it on the canvas. */ insertLegend: function(){ if(!this.options.legend.show) return; var series = this.series, plotOffset = this.plotOffset, options = this.options, legend = options.legend, fragments = [], rowStarted = false, ctx = this.ctx, itemCount = _.filter(series, function(s) {return (s.label && !s.hide);}).length, p = legend.position, m = legend.margin, opacity = legend.backgroundOpacity, i, label, color; if (itemCount) { var lbw = legend.labelBoxWidth, lbh = legend.labelBoxHeight, lbm = legend.labelBoxMargin, offsetX = plotOffset.left + m, offsetY = plotOffset.top + m, labelMaxWidth = 0, style = { size: options.fontSize*1.1, color: options.grid.color }; // We calculate the labels' max width for(i = series.length - 1; i > -1; --i){ if(!series[i].label || series[i].hide) continue; label = legend.labelFormatter(series[i].label); labelMaxWidth = Math.max(labelMaxWidth, this._text.measureText(label, style).width); } var legendWidth = Math.round(lbw + lbm*3 + labelMaxWidth), legendHeight = Math.round(itemCount*(lbm+lbh) + lbm); // Default Opacity if (!opacity && opacity !== 0) { opacity = 0.1; } if (!options.HtmlText && this.textEnabled && !legend.container) { if(p.charAt(0) == 's') offsetY = plotOffset.top + this.plotHeight - (m + legendHeight); if(p.charAt(0) == 'c') offsetY = plotOffset.top + (this.plotHeight/2) - (m + (legendHeight/2)); if(p.charAt(1) == 'e') offsetX = plotOffset.left + this.plotWidth - (m + legendWidth); // Legend box color = this.processColor(legend.backgroundColor, { opacity : opacity }); ctx.fillStyle = color; ctx.fillRect(offsetX, offsetY, legendWidth, legendHeight); ctx.strokeStyle = legend.labelBoxBorderColor; ctx.strokeRect(Flotr.toPixel(offsetX), Flotr.toPixel(offsetY), legendWidth, legendHeight); // Legend labels var x = offsetX + lbm; var y = offsetY + lbm; for(i = 0; i < series.length; i++){ if(!series[i].label || series[i].hide) continue; label = legend.labelFormatter(series[i].label); ctx.fillStyle = series[i].color; ctx.fillRect(x, y, lbw-1, lbh-1); ctx.strokeStyle = legend.labelBoxBorderColor; ctx.lineWidth = 1; ctx.strokeRect(Math.ceil(x)-1.5, Math.ceil(y)-1.5, lbw+2, lbh+2); // Legend text Flotr.drawText(ctx, label, x + lbw + lbm, y + lbh, style); y += lbh + lbm; } } else { for(i = 0; i < series.length; ++i){ if(!series[i].label || series[i].hide) continue; if(i % legend.noColumns === 0){ fragments.push(rowStarted ? '</tr><tr>' : '<tr>'); rowStarted = true; } var s = series[i], boxWidth = legend.labelBoxWidth, boxHeight = legend.labelBoxHeight; label = legend.labelFormatter(s.label); color = 'background-color:' + ((s.bars && s.bars.show && s.bars.fillColor && s.bars.fill) ? s.bars.fillColor : s.color) + ';'; fragments.push( '<td class=""flotr-legend-color-box"">', '<div style=""border:1px solid ', legend.labelBoxBorderColor, ';padding:1px"">', '<div style=""width:', (boxWidth-1), 'px;height:', (boxHeight-1), 'px;border:1px solid ', series[i].color, '"">', // Border '<div style=""width:', boxWidth, 'px;height:', boxHeight, 'px;', color, '""></div>', // Background '</div>', '</div>', '</td>', '<td class=""flotr-legend-label"">', label, '</td>' ); } if(rowStarted) fragments.push('</tr>'); if(fragments.length > 0){ var table = '<table style=""font-size:smaller;color:' + options.grid.color + '"">' + fragments.join('') + '</table>'; if(legend.container){ table = D.node(table); this.legend.markup = table; D.insert(legend.container, table); } else { var styles = {position: 'absolute', 'zIndex': '2', 'border' : '1px solid ' + legend.labelBoxBorderColor}; if(p.charAt(0) == 'n') { styles.top = (m + plotOffset.top) + 'px'; styles.bottom = 'auto'; } else if(p.charAt(0) == 'c') { styles.top = (m + (this.plotHeight - legendHeight) / 2) + 'px'; styles.bottom = 'auto'; } else if(p.charAt(0) == 's') { styles.bottom = (m + plotOffset.bottom) + 'px'; styles.top = 'auto'; } if(p.charAt(1) == 'e') { styles.right = (m + plotOffset.right) + 'px'; styles.left = 'auto'; } else if(p.charAt(1) == 'w') { styles.left = (m + plotOffset.left) + 'px'; styles.right = 'auto'; } var div = D.create('div'), size; div.className = 'flotr-legend'; D.setStyles(div, styles); D.insert(div, table); D.insert(this.el, div); if (!opacity) return; var c = legend.backgroundColor || options.grid.backgroundColor || '#ffffff'; _.extend(styles, D.size(div), { 'backgroundColor': c, 'zIndex' : '', 'border' : '' }); styles.width += 'px'; styles.height += 'px'; // Put in the transparent background separately to avoid blended labels and div = D.create('div'); div.className = 'flotr-legend-bg'; D.setStyles(div, styles); D.opacity(div, opacity); D.insert(div, ' '); D.insert(this.el, div); } } } } } }); })(); (function () { var D = Flotr.DOM, _ = Flotr._, flotr = Flotr, S_MOUSETRACK = 'opacity:0.7;background-color:#000;color:#fff;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;'; Flotr.addPlugin('hit', { callbacks: { 'flotr:mousemove': function(e, pos) { this.hit.track(pos); }, 'flotr:click': function(pos) { var hit = this.hit.track(pos); if (hit && !_.isUndefined(hit.index)) pos.hit = hit; }, 'flotr:mouseout': function(e) { if (e.relatedTarget !== this.mouseTrack) { this.hit.clearHit(); } }, 'flotr:destroy': function() { if (this.options.mouse.container) { D.remove(this.mouseTrack); } this.mouseTrack = null; } }, track : function (pos) { if (this.options.mouse.track || _.any(this.series, function(s){return s.mouse && s.mouse.track;})) { return this.hit.hit(pos); } }, /** * Try a method on a graph type. If the method exists, execute it. * @param {Object} series * @param {String} method Method name. * @param {Array} args Arguments applied to method. * @return executed successfully or failed. */ executeOnType: function(s, method, args){ var success = false, options; if (!_.isArray(s)) s = [s]; function e(s, index) { _.each(_.keys(flotr.graphTypes), function (type) { if (s[type] && s[type].show && this[type][method]) { options = this.getOptions(s, type); options.fill = !!s.mouse.fillColor; options.fillStyle = this.processColor(s.mouse.fillColor || '#ffffff', {opacity: s.mouse.fillOpacity}); options.color = s.mouse.lineColor; options.context = this.octx; options.index = index; if (args) options.args = args; this[type][method].call(this[type], options); success = true; } }, this); } _.each(s, e, this); return success; }, /** * Updates the mouse tracking point on the overlay. */ drawHit: function(n){ var octx = this.octx, s = n.series; if (s.mouse.lineColor) { octx.save(); octx.lineWidth = (s.points ? s.points.lineWidth : 1); octx.strokeStyle = s.mouse.lineColor; octx.fillStyle = this.processColor(s.mouse.fillColor || '#ffffff', {opacity: s.mouse.fillOpacity}); octx.translate(this.plotOffset.left, this.plotOffset.top); if (!this.hit.executeOnType(s, 'drawHit', n)) { var xa = n.xaxis, ya = n.yaxis; octx.beginPath(); // TODO fix this (points) should move to general testable graph mixin octx.arc(xa.d2p(n.x), ya.d2p(n.y), s.points.hitRadius || s.points.radius || s.mouse.radius, 0, 2 * Math.PI, true); octx.fill(); octx.stroke(); octx.closePath(); } octx.restore(); this.clip(octx); } this.prevHit = n; }, /** * Removes the mouse tracking point from the overlay. */ clearHit: function(){ var prev = this.prevHit, octx = this.octx, plotOffset = this.plotOffset; octx.save(); octx.translate(plotOffset.left, plotOffset.top); if (prev) { if (!this.hit.executeOnType(prev.series, 'clearHit', this.prevHit)) { // TODO fix this (points) should move to general testable graph mixin var s = prev.series, lw = (s.points ? s.points.lineWidth : 1); offset = (s.points.hitRadius || s.points.radius || s.mouse.radius) + lw; octx.clearRect( prev.xaxis.d2p(prev.x) - offset, prev.yaxis.d2p(prev.y) - offset, offset*2, offset*2 ); } D.hide(this.mouseTrack); this.prevHit = null; } octx.restore(); }, /** * Retrieves the nearest data point from the mouse cursor. If it's within * a certain range, draw a point on the overlay canvas and display the x and y * value of the data. * @param {Object} mouse - Object that holds the relative x and y coordinates of the cursor. */ hit : function (mouse) { var options = this.options, prevHit = this.prevHit, closest, sensibility, dataIndex, seriesIndex, series, value, xaxis, yaxis, n; if (this.series.length === 0) return; // Nearest data element. // dist, x, y, relX, relY, absX, absY, sAngle, eAngle, fraction, mouse, // xaxis, yaxis, series, index, seriesIndex n = { relX : mouse.relX, relY : mouse.relY, absX : mouse.absX, absY : mouse.absY, series: this.series }; if (options.mouse.trackY && !options.mouse.trackAll && this.hit.executeOnType(this.series, 'hit', [mouse, n]) && !_.isUndefined(n.seriesIndex)) { series = this.series[n.seriesIndex]; n.series = series; n.mouse = series.mouse; n.xaxis = series.xaxis; n.yaxis = series.yaxis; } else { closest = this.hit.closest(mouse); if (closest) { closest = options.mouse.trackY ? closest.point : closest.x; seriesIndex = closest.seriesIndex; series = this.series[seriesIndex]; xaxis = series.xaxis; yaxis = series.yaxis; sensibility = 2 * series.mouse.sensibility; if (options.mouse.trackAll || (closest.distanceX < sensibility / xaxis.scale && (!options.mouse.trackY || closest.distanceY < sensibility / yaxis.scale))) { n.series = series; n.xaxis = series.xaxis; n.yaxis = series.yaxis; n.mouse = series.mouse; n.x = closest.x; n.y = closest.y; n.dist = closest.distance; n.index = closest.dataIndex; n.seriesIndex = seriesIndex; } } } if (!prevHit || (prevHit.index !== n.index || prevHit.seriesIndex !== n.seriesIndex)) { this.hit.clearHit(); if (n.series && n.mouse && n.mouse.track) { this.hit.drawMouseTrack(n); this.hit.drawHit(n); Flotr.EventAdapter.fire(this.el, 'flotr:hit', [n, this]); } } return n; }, closest : function (mouse) { var series = this.series, options = this.options, relX = mouse.relX, relY = mouse.relY, compare = Number.MAX_VALUE, compareX = Number.MAX_VALUE, closest = {}, closestX = {}, check = false, serie, data, distance, distanceX, distanceY, mouseX, mouseY, x, y, i, j; function setClosest (o) { o.distance = distance; o.distanceX = distanceX; o.distanceY = distanceY; o.seriesIndex = i; o.dataIndex = j; o.x = x; o.y = y; check = true; } for (i = 0; i < series.length; i++) { serie = series[i]; data = serie.data; mouseX = serie.xaxis.p2d(relX); mouseY = serie.yaxis.p2d(relY); for (j = data.length; j--;) { x = data[j][0]; y = data[j][1]; if (x === null || y === null) continue; // don't check if the point isn't visible in the current range if (x < serie.xaxis.min || x > serie.xaxis.max) continue; distanceX = Math.abs(x - mouseX); distanceY = Math.abs(y - mouseY); // Skip square root for speed distance = distanceX * distanceX + distanceY * distanceY; if (distance < compare) { compare = distance; setClosest(closest); } if (distanceX < compareX) { compareX = distanceX; setClosest(closestX); } } } return check ? { point : closest, x : closestX } : false; }, drawMouseTrack : function (n) { var pos = '', s = n.series, p = n.mouse.position, m = n.mouse.margin, x = n.x, y = n.y, elStyle = S_MOUSETRACK, mouseTrack = this.mouseTrack, plotOffset = this.plotOffset, left = plotOffset.left, right = plotOffset.right, bottom = plotOffset.bottom, top = plotOffset.top, decimals = n.mouse.trackDecimals, options = this.options, container = options.mouse.container, oTop = 0, oLeft = 0, offset, size, content; // Create if (!mouseTrack) { mouseTrack = D.node('<div class=""flotr-mouse-value"" style=""'+elStyle+'""></div>'); this.mouseTrack = mouseTrack; D.insert(container || this.el, mouseTrack); } // Fill tracker: if (!decimals || decimals < 0) decimals = 0; if (x && x.toFixed) x = x.toFixed(decimals); if (y && y.toFixed) y = y.toFixed(decimals); content = n.mouse.trackFormatter({ x: x, y: y, series: n.series, index: n.index, nearest: n, fraction: n.fraction }); if (_.isNull(content) || _.isUndefined(content)) { D.hide(mouseTrack); return; } else { mouseTrack.innerHTML = content; D.show(mouseTrack); } if (container) return; // Positioning size = D.size(mouseTrack); if (container) { offset = D.position(this.el); oTop = offset.top; oLeft = offset.left; } if (!n.mouse.relative) { // absolute to the canvas pos += 'top:' if (p.charAt(0) == 'n') pos += (oTop + m + top); else if (p.charAt(0) == 's') pos += (oTop - m + top + this.plotHeight - size.height); pos += 'px;bottom:auto;left:'; if (p.charAt(1) == 'e') pos += (oLeft - m + left + this.plotWidth - size.width); else if (p.charAt(1) == 'w') pos += (oLeft + m + left); pos += 'px;right:auto;'; // Pie } else if (s.pie && s.pie.show) { var center = { x: (this.plotWidth)/2, y: (this.plotHeight)/2 }, radius = (Math.min(this.canvasWidth, this.canvasHeight) * s.pie.sizeRatio) / 2, bisection = n.sAngle<n.eAngle ? (n.sAngle + n.eAngle) / 2: (n.sAngle + n.eAngle + 2* Math.PI) / 2; pos += 'bottom:' + (m - top - center.y - Math.sin(bisection) * radius/2 + this.canvasHeight) + 'px;top:auto;'; pos += 'left:' + (m + left + center.x + Math.cos(bisection) * radius/2) + 'px;right:auto;'; // Default } else { pos += 'top:' if (/n/.test(p)) pos += (oTop - m + top + n.yaxis.d2p(n.y) - size.height); else pos += (oTop + m + top + n.yaxis.d2p(n.y)); pos += 'px;bottom:auto;left:'; if (/w/.test(p)) pos += (oLeft - m + left + n.xaxis.d2p(n.x) - size.width); else pos += (oLeft + m + left + n.xaxis.d2p(n.x)); pos += 'px;right:auto;'; } // Set position mouseTrack.style.cssText = elStyle + pos; if (n.mouse.relative) { if (!/[ew]/.test(p)) { // Center Horizontally mouseTrack.style.left = (oLeft + left + n.xaxis.d2p(n.x) - D.size(mouseTrack).width / 2) + 'px'; } else if (!/[ns]/.test(p)) { // Center Vertically mouseTrack.style.top = (oTop + top + n.yaxis.d2p(n.y) - D.size(mouseTrack).height / 2) + 'px'; } } } }); })(); (function () { var D = Flotr.DOM; Flotr.addPlugin('labels', { callbacks : { 'flotr:afterdraw' : function () { this.labels.draw(); } }, draw: function(){ // Construct fixed width label boxes, which can be styled easily. var axis, tick, left, top, xBoxWidth, radius, sides, coeff, angle, div, i, html = '', noLabels = 0, options = this.options, ctx = this.ctx, a = this.axes, style = { size: options.fontSize }; for (i = 0; i < a.x.ticks.length; ++i){ if (a.x.ticks[i].label) { ++noLabels; } } xBoxWidth = this.plotWidth / noLabels; if (options.grid.circular) { ctx.save(); ctx.translate(this.plotOffset.left + this.plotWidth / 2, this.plotOffset.top + this.plotHeight / 2); radius = this.plotHeight * options.radar.radiusRatio / 2 + options.fontSize; sides = this.axes.x.ticks.length; coeff = 2 * (Math.PI / sides); angle = -Math.PI / 2; drawLabelCircular(this, a.x, false); drawLabelCircular(this, a.x, true); drawLabelCircular(this, a.y, false); drawLabelCircular(this, a.y, true); ctx.restore(); } if (!options.HtmlText && this.textEnabled) { drawLabelNoHtmlText(this, a.x, 'center', 'top'); drawLabelNoHtmlText(this, a.x2, 'center', 'bottom'); drawLabelNoHtmlText(this, a.y, 'right', 'middle'); drawLabelNoHtmlText(this, a.y2, 'left', 'middle'); } else if (( a.x.options.showLabels || a.x2.options.showLabels || a.y.options.showLabels || a.y2.options.showLabels) && !options.grid.circular ) { html = ''; drawLabelHtml(this, a.x); drawLabelHtml(this, a.x2); drawLabelHtml(this, a.y); drawLabelHtml(this, a.y2); ctx.stroke(); ctx.restore(); div = D.create('div'); D.setStyles(div, { fontSize: 'smaller', color: options.grid.color }); div.className = 'flotr-labels'; D.insert(this.el, div); D.insert(div, html); } function drawLabelCircular (graph, axis, minorTicks) { var ticks = minorTicks ? axis.minorTicks : axis.ticks, isX = axis.orientation === 1, isFirst = axis.n === 1, style, offset; style = { color : axis.options.color || options.grid.color, angle : Flotr.toRad(axis.options.labelsAngle), textBaseline : 'middle' }; for (i = 0; i < ticks.length && (minorTicks ? axis.options.showMinorLabels : axis.options.showLabels); ++i){ tick = ticks[i]; tick.label += ''; if (!tick.label || !tick.label.length) { continue; } x = Math.cos(i * coeff + angle) * radius; y = Math.sin(i * coeff + angle) * radius; style.textAlign = isX ? (Math.abs(x) < 0.1 ? 'center' : (x < 0 ? 'right' : 'left')) : 'left'; Flotr.drawText( ctx, tick.label, isX ? x : 3, isX ? y : -(axis.ticks[i].v / axis.max) * (radius - options.fontSize), style ); } } function drawLabelNoHtmlText (graph, axis, textAlign, textBaseline) { var isX = axis.orientation === 1, isFirst = axis.n === 1, style, offset; style = { color : axis.options.color || options.grid.color, textAlign : textAlign, textBaseline : textBaseline, angle : Flotr.toRad(axis.options.labelsAngle) }; style = Flotr.getBestTextAlign(style.angle, style); for (i = 0; i < axis.ticks.length && continueShowingLabels(axis); ++i) { tick = axis.ticks[i]; if (!tick.label || !tick.label.length) { continue; } offset = axis.d2p(tick.v); if (offset < 0 || offset > (isX ? graph.plotWidth : graph.plotHeight)) { continue; } Flotr.drawText( ctx, tick.label, leftOffset(graph, isX, isFirst, offset), topOffset(graph, isX, isFirst, offset), style ); // Only draw on axis y2 if (!isX && !isFirst) { ctx.save(); ctx.strokeStyle = style.color; ctx.beginPath(); ctx.moveTo(graph.plotOffset.left + graph.plotWidth - 8, graph.plotOffset.top + axis.d2p(tick.v)); ctx.lineTo(graph.plotOffset.left + graph.plotWidth, graph.plotOffset.top + axis.d2p(tick.v)); ctx.stroke(); ctx.restore(); } } function continueShowingLabels (axis) { return axis.options.showLabels && axis.used; } function leftOffset (graph, isX, isFirst, offset) { return graph.plotOffset.left + (isX ? offset : (isFirst ? -options.grid.labelMargin : options.grid.labelMargin + graph.plotWidth)); } function topOffset (graph, isX, isFirst, offset) { return graph.plotOffset.top + (isX ? options.grid.labelMargin : offset) + ((isX && isFirst) ? graph.plotHeight : 0); } } function drawLabelHtml (graph, axis) { var isX = axis.orientation === 1, isFirst = axis.n === 1, name = '', left, style, top, offset = graph.plotOffset; if (!isX && !isFirst) { ctx.save(); ctx.strokeStyle = axis.options.color || options.grid.color; ctx.beginPath(); } if (axis.options.showLabels && (isFirst ? true : axis.used)) { for (i = 0; i < axis.ticks.length; ++i) { tick = axis.ticks[i]; if (!tick.label || !tick.label.length || ((isX ? offset.left : offset.top) + axis.d2p(tick.v) < 0) || ((isX ? offset.left : offset.top) + axis.d2p(tick.v) > (isX ? graph.canvasWidth : graph.canvasHeight))) { continue; } top = offset.top + (isX ? ((isFirst ? 1 : -1 ) * (graph.plotHeight + options.grid.labelMargin)) : axis.d2p(tick.v) - axis.maxLabel.height / 2); left = isX ? (offset.left + axis.d2p(tick.v) - xBoxWidth / 2) : 0; name = ''; if (i === 0) { name = ' first'; } else if (i === axis.ticks.length - 1) { name = ' last'; } name += isX ? ' flotr-grid-label-x' : ' flotr-grid-label-y'; html += [ '<div style=""position:absolute; text-align:' + (isX ? 'center' : 'right') + '; ', 'top:' + top + 'px; ', ((!isX && !isFirst) ? 'right:' : 'left:') + left + 'px; ', 'width:' + (isX ? xBoxWidth : ((isFirst ? offset.left : offset.right) - options.grid.labelMargin)) + 'px; ', axis.options.color ? ('color:' + axis.options.color + '; ') : ' ', '"" class=""flotr-grid-label' + name + '"">' + tick.label + '</div>' ].join(' '); if (!isX && !isFirst) { ctx.moveTo(offset.left + graph.plotWidth - 8, offset.top + axis.d2p(tick.v)); ctx.lineTo(offset.left + graph.plotWidth, offset.top + axis.d2p(tick.v)); } } } } } }); })(); (function () { var D = Flotr.DOM, _ = Flotr._; Flotr.addPlugin('legend', { options: { show: true, // => setting to true will show the legend, hide otherwise noColumns: 1, // => number of colums in legend table // @todo: doesn't work for HtmlText = false labelFormatter: function(v){return v;}, // => fn: string -> string labelBoxBorderColor: '#CCCCCC', // => border color for the little label boxes labelBoxWidth: 14, labelBoxHeight: 10, labelBoxMargin: 5, container: null, // => container (as jQuery object) to put legend in, null means default on top of graph position: 'nw', // => position of default legend container within plot margin: 5, // => distance from grid edge to default legend container within plot backgroundColor: '#F0F0F0', // => Legend background color. backgroundOpacity: 0.85// => set to 0 to avoid background, set to 1 for a solid background }, callbacks: { 'flotr:afterinit': function() { this.legend.insertLegend(); }, 'flotr:destroy': function() { var markup = this.legend.markup; if (markup) { this.legend.markup = null; D.remove(markup); } } }, /** * Adds a legend div to the canvas container or draws it on the canvas. */ insertLegend: function(){ if(!this.options.legend.show) return; var series = this.series, plotOffset = this.plotOffset, options = this.options, legend = options.legend, fragments = [], rowStarted = false, ctx = this.ctx, itemCount = _.filter(series, function(s) {return (s.label && !s.hide);}).length, p = legend.position, m = legend.margin, opacity = legend.backgroundOpacity, i, label, color; if (itemCount) { var lbw = legend.labelBoxWidth, lbh = legend.labelBoxHeight, lbm = legend.labelBoxMargin, offsetX = plotOffset.left + m, offsetY = plotOffset.top + m, labelMaxWidth = 0, style = { size: options.fontSize*1.1, color: options.grid.color }; // We calculate the labels' max width for(i = series.length - 1; i > -1; --i){ if(!series[i].label || series[i].hide) continue; label = legend.labelFormatter(series[i].label); labelMaxWidth = Math.max(labelMaxWidth, this._text.measureText(label, style).width); } var legendWidth = Math.round(lbw + lbm*3 + labelMaxWidth), legendHeight = Math.round(itemCount*(lbm+lbh) + lbm); // Default Opacity if (!opacity && opacity !== 0) { opacity = 0.1; } if (!options.HtmlText && this.textEnabled && !legend.container) { if(p.charAt(0) == 's') offsetY = plotOffset.top + this.plotHeight - (m + legendHeight); if(p.charAt(0) == 'c') offsetY = plotOffset.top + (this.plotHeight/2) - (m + (legendHeight/2)); if(p.charAt(1) == 'e') offsetX = plotOffset.left + this.plotWidth - (m + legendWidth); // Legend box color = this.processColor(legend.backgroundColor, { opacity : opacity }); ctx.fillStyle = color; ctx.fillRect(offsetX, offsetY, legendWidth, legendHeight); ctx.strokeStyle = legend.labelBoxBorderColor; ctx.strokeRect(Flotr.toPixel(offsetX), Flotr.toPixel(offsetY), legendWidth, legendHeight); // Legend labels var x = offsetX + lbm; var y = offsetY + lbm; for(i = 0; i < series.length; i++){ if(!series[i].label || series[i].hide) continue; label = legend.labelFormatter(series[i].label); ctx.fillStyle = series[i].color; ctx.fillRect(x, y, lbw-1, lbh-1); ctx.strokeStyle = legend.labelBoxBorderColor; ctx.lineWidth = 1; ctx.strokeRect(Math.ceil(x)-1.5, Math.ceil(y)-1.5, lbw+2, lbh+2); // Legend text Flotr.drawText(ctx, label, x + lbw + lbm, y + lbh, style); y += lbh + lbm; } } else { for(i = 0; i < series.length; ++i){ if(!series[i].label || series[i].hide) continue; if(i % legend.noColumns === 0){ fragments.push(rowStarted ? '</tr><tr>' : '<tr>'); rowStarted = true; } var s = series[i], boxWidth = legend.labelBoxWidth, boxHeight = legend.labelBoxHeight; label = legend.labelFormatter(s.label); color = 'background-color:' + ((s.bars && s.bars.show && s.bars.fillColor && s.bars.fill) ? s.bars.fillColor : s.color) + ';'; fragments.push( '<td class=""flotr-legend-color-box"">', '<div style=""border:1px solid ', legend.labelBoxBorderColor, ';padding:1px"">', '<div style=""width:', (boxWidth-1), 'px;height:', (boxHeight-1), 'px;border:1px solid ', series[i].color, '"">', // Border '<div style=""width:', boxWidth, 'px;height:', boxHeight, 'px;', color, '""></div>', // Background '</div>', '</div>', '</td>', '<td class=""flotr-legend-label"">', label, '</td>' ); } if(rowStarted) fragments.push('</tr>'); if(fragments.length > 0){ var table = '<table style=""font-size:smaller;color:' + options.grid.color + '"">' + fragments.join('') + '</table>'; if(legend.container){ table = D.node(table); this.legend.markup = table; D.insert(legend.container, table); } else { var styles = {position: 'absolute', 'zIndex': '2', 'border' : '1px solid ' + legend.labelBoxBorderColor}; if(p.charAt(0) == 'n') { styles.top = (m + plotOffset.top) + 'px'; styles.bottom = 'auto'; } else if(p.charAt(0) == 'c') { styles.top = (m + (this.plotHeight - legendHeight) / 2) + 'px'; styles.bottom = 'auto'; } else if(p.charAt(0) == 's') { styles.bottom = (m + plotOffset.bottom) + 'px'; styles.top = 'auto'; } if(p.charAt(1) == 'e') { styles.right = (m + plotOffset.right) + 'px'; styles.left = 'auto'; } else if(p.charAt(1) == 'w') { styles.left = (m + plotOffset.left) + 'px'; styles.right = 'auto'; } var div = D.create('div'), size; div.className = 'flotr-legend'; D.setStyles(div, styles); D.insert(div, table); D.insert(this.el, div); if (!opacity) return; var c = legend.backgroundColor || options.grid.backgroundColor || '#ffffff'; _.extend(styles, D.size(div), { 'backgroundColor': c, 'zIndex' : '', 'border' : '' }); styles.width += 'px'; styles.height += 'px'; // Put in the transparent background separately to avoid blended labels and div = D.create('div'); div.className = 'flotr-legend-bg'; D.setStyles(div, styles); D.opacity(div, opacity); D.insert(div, ' '); D.insert(this.el, div); } } } } } }); })(); (function () { var D = Flotr.DOM; Flotr.addPlugin('titles', { callbacks: { 'flotr:afterdraw': function() { this.titles.drawTitles(); } }, /** * Draws the title and the subtitle */ drawTitles : function () { var html, options = this.options, margin = options.grid.labelMargin, ctx = this.ctx, a = this.axes; if (!options.HtmlText && this.textEnabled) { var style = { size: options.fontSize, color: options.grid.color, textAlign: 'center' }; // Add subtitle if (options.subtitle){ Flotr.drawText( ctx, options.subtitle, this.plotOffset.left + this.plotWidth/2, this.titleHeight + this.subtitleHeight - 2, style ); } style.weight = 1.5; style.size *= 1.5; // Add title if (options.title){ Flotr.drawText( ctx, options.title, this.plotOffset.left + this.plotWidth/2, this.titleHeight - 2, style ); } style.weight = 1.8; style.size *= 0.8; // Add x axis title if (a.x.options.title && a.x.used){ style.textAlign = a.x.options.titleAlign || 'center'; style.textBaseline = 'top'; style.angle = Flotr.toRad(a.x.options.titleAngle); style = Flotr.getBestTextAlign(style.angle, style); Flotr.drawText( ctx, a.x.options.title, this.plotOffset.left + this.plotWidth/2, this.plotOffset.top + a.x.maxLabel.height + this.plotHeight + 2 * margin, style ); } // Add x2 axis title if (a.x2.options.title && a.x2.used){ style.textAlign = a.x2.options.titleAlign || 'center'; style.textBaseline = 'bottom'; style.angle = Flotr.toRad(a.x2.options.titleAngle); style = Flotr.getBestTextAlign(style.angle, style); Flotr.drawText( ctx, a.x2.options.title, this.plotOffset.left + this.plotWidth/2, this.plotOffset.top - a.x2.maxLabel.height - 2 * margin, style ); } // Add y axis title if (a.y.options.title && a.y.used){ style.textAlign = a.y.options.titleAlign || 'right'; style.textBaseline = 'middle'; style.angle = Flotr.toRad(a.y.options.titleAngle); style = Flotr.getBestTextAlign(style.angle, style); Flotr.drawText( ctx, a.y.options.title, this.plotOffset.left - a.y.maxLabel.width - 2 * margin, this.plotOffset.top + this.plotHeight / 2, style ); } // Add y2 axis title if (a.y2.options.title && a.y2.used){ style.textAlign = a.y2.options.titleAlign || 'left'; style.textBaseline = 'middle'; style.angle = Flotr.toRad(a.y2.options.titleAngle); style = Flotr.getBestTextAlign(style.angle, style); Flotr.drawText( ctx, a.y2.options.title, this.plotOffset.left + this.plotWidth + a.y2.maxLabel.width + 2 * margin, this.plotOffset.top + this.plotHeight / 2, style ); } } else { html = []; // Add title if (options.title) html.push( '<div style=""position:absolute;top:0;left:', this.plotOffset.left, 'px;font-size:1em;font-weight:bold;text-align:center;width:', this.plotWidth,'px;"" class=""flotr-title"">', options.title, '</div>' ); // Add subtitle if (options.subtitle) html.push( '<div style=""position:absolute;top:', this.titleHeight, 'px;left:', this.plotOffset.left, 'px;font-size:smaller;text-align:center;width:', this.plotWidth, 'px;"" class=""flotr-subtitle"">', options.subtitle, '</div>' ); html.push('</div>'); html.push('<div class=""flotr-axis-title"" style=""font-weight:bold;"">'); // Add x axis title if (a.x.options.title && a.x.used) html.push( '<div style=""position:absolute;top:', (this.plotOffset.top + this.plotHeight + options.grid.labelMargin + a.x.titleSize.height), 'px;left:', this.plotOffset.left, 'px;width:', this.plotWidth, 'px;text-align:', a.x.options.titleAlign, ';"" class=""flotr-axis-title flotr-axis-title-x1"">', a.x.options.title, '</div>' ); // Add x2 axis title if (a.x2.options.title && a.x2.used) html.push( '<div style=""position:absolute;top:0;left:', this.plotOffset.left, 'px;width:', this.plotWidth, 'px;text-align:', a.x2.options.titleAlign, ';"" class=""flotr-axis-title flotr-axis-title-x2"">', a.x2.options.title, '</div>' ); // Add y axis title if (a.y.options.title && a.y.used) html.push( '<div style=""position:absolute;top:', (this.plotOffset.top + this.plotHeight/2 - a.y.titleSize.height/2), 'px;left:0;text-align:', a.y.options.titleAlign, ';"" class=""flotr-axis-title flotr-axis-title-y1"">', a.y.options.title, '</div>' ); // Add y2 axis title if (a.y2.options.title && a.y2.used) html.push( '<div style=""position:absolute;top:', (this.plotOffset.top + this.plotHeight/2 - a.y.titleSize.height/2), 'px;right:0;text-align:', a.y2.options.titleAlign, ';"" class=""flotr-axis-title flotr-axis-title-y2"">', a.y2.options.title, '</div>' ); html = html.join(''); var div = D.create('div'); D.setStyles({ color: options.grid.color }); div.className = 'flotr-titles'; D.insert(this.el, div); D.insert(div, html); } } }); })(); /** * Selection Handles Plugin * * Depends upon options.selection.mode * * Options * show - True enables the handles plugin. * drag - Left and Right drag handles * scroll - Scrolling handle */ (function () { var D = Flotr.DOM; Flotr.addPlugin('handles', { options: { show: false, drag: true, scroll: true }, callbacks: { 'flotr:afterinit': init, 'flotr:select': handleSelect, 'flotr:mousedown': reset, 'flotr:mousemove': mouseMoveHandler } }); function init() { var options = this.options, handles = this.handles, el = this.el, scroll, left, right, container; if (!options.selection.mode || !options.handles.show || 'ontouchstart' in el) return; handles.initialized = true; container = D.node('<div class=""flotr-handles""></div>'); options = options.handles; // Drag handles if (options.drag) { right = D.node('<div class=""flotr-handles-handle flotr-handles-drag flotr-handles-right""></div>'); left = D.node('<div class=""flotr-handles-handle flotr-handles-drag flotr-handles-left""></div>'); D.insert(container, right); D.insert(container, left); D.hide(left); D.hide(right); handles.left = left; handles.right = right; this.observe(left, 'mousedown', function () { handles.moveHandler = leftMoveHandler; }); this.observe(right, 'mousedown', function () { handles.moveHandler = rightMoveHandler; }); } // Scroll handle if (options.scroll) { scroll = D.node('<div class=""flotr-handles-handle flotr-handles-scroll""></div>'); D.insert(container, scroll); D.hide(scroll); handles.scroll = scroll; this.observe(scroll, 'mousedown', function () { handles.moveHandler = scrollMoveHandler; }); } this.observe(document, 'mouseup', function() { handles.moveHandler = null; }); D.insert(el, container); } function handleSelect(selection) { if (!this.handles.initialized) return; var handles = this.handles, options = this.options.handles, left = handles.left, right = handles.right, scroll = handles.scroll; if (options) { if (options.drag) { positionDrag(this, left, selection.x1); positionDrag(this, right, selection.x2); } if (options.scroll) { positionScroll( this, scroll, selection.x1, selection.x2 ); } } } function positionDrag(graph, handle, x) { D.show(handle); var size = D.size(handle), l = Math.round(graph.axes.x.d2p(x) - size.width / 2), t = (graph.plotHeight - size.height) / 2; D.setStyles(handle, { 'left' : l+'px', 'top' : t+'px' }); } function positionScroll(graph, handle, x1, x2) { D.show(handle); var size = D.size(handle), l = Math.round(graph.axes.x.d2p(x1)), t = (graph.plotHeight) - size.height / 2, w = (graph.axes.x.d2p(x2) - graph.axes.x.d2p(x1)); D.setStyles(handle, { 'left' : l+'px', 'top' : t+'px', 'width': w+'px' }); } function reset() { if (!this.handles.initialized) return; var handles = this.handles; if (handles) { D.hide(handles.left); D.hide(handles.right); D.hide(handles.scroll); } } function mouseMoveHandler(e, position) { if (!this.handles.initialized) return; if (!this.handles.moveHandler) return; var delta = position.x - this.lastMousePos.x, selection = this.selection.selection, area = this.selection.getArea(), handles = this.handles; handles.moveHandler(area, delta); checkSwap(area, handles); this.selection.setSelection(area); } function checkSwap (area, handles) { var moveHandler = handles.moveHandler; if (area.x1 > area.x2) { if (moveHandler == leftMoveHandler) { moveHandler = rightMoveHandler; } else if (moveHandler == rightMoveHandler) { moveHandler = leftMoveHandler; } handles.moveHandler = moveHandler; } } function leftMoveHandler(area, delta) { area.x1 += delta; } function rightMoveHandler(area, delta) { area.x2 += delta; } function scrollMoveHandler(area, delta) { area.x1 += delta; area.x2 += delta; } })(); (function () { var E = Flotr.EventAdapter, _ = Flotr._; Flotr.addPlugin('graphGrid', { callbacks: { 'flotr:beforedraw' : function () { this.graphGrid.drawGrid(); }, 'flotr:afterdraw' : function () { this.graphGrid.drawOutline(); } }, drawGrid: function(){ var ctx = this.ctx, options = this.options, grid = options.grid, verticalLines = grid.verticalLines, horizontalLines = grid.horizontalLines, minorVerticalLines = grid.minorVerticalLines, minorHorizontalLines = grid.minorHorizontalLines, plotHeight = this.plotHeight, plotWidth = this.plotWidth, a, v, i, j; if(verticalLines || minorVerticalLines || horizontalLines || minorHorizontalLines){ E.fire(this.el, 'flotr:beforegrid', [this.axes.x, this.axes.y, options, this]); } ctx.save(); ctx.lineWidth = 1; ctx.strokeStyle = grid.tickColor; function circularHorizontalTicks (ticks) { for(i = 0; i < ticks.length; ++i){ var ratio = ticks[i].v / a.max; for(j = 0; j <= sides; ++j){ ctx[j === 0 ? 'moveTo' : 'lineTo']( Math.cos(j*coeff+angle)*radius*ratio, Math.sin(j*coeff+angle)*radius*ratio ); } } } function drawGridLines (ticks, callback) { _.each(_.pluck(ticks, 'v'), function(v){ // Don't show lines on upper and lower bounds. if ((v <= a.min || v >= a.max) || (v == a.min || v == a.max) && grid.outlineWidth) return; callback(Math.floor(a.d2p(v)) + ctx.lineWidth/2); }); } function drawVerticalLines (x) { ctx.moveTo(x, 0); ctx.lineTo(x, plotHeight); } function drawHorizontalLines (y) { ctx.moveTo(0, y); ctx.lineTo(plotWidth, y); } if (grid.circular) { ctx.translate(this.plotOffset.left+plotWidth/2, this.plotOffset.top+plotHeight/2); var radius = Math.min(plotHeight, plotWidth)*options.radar.radiusRatio/2, sides = this.axes.x.ticks.length, coeff = 2*(Math.PI/sides), angle = -Math.PI/2; // Draw grid lines in vertical direction. ctx.beginPath(); a = this.axes.y; if(horizontalLines){ circularHorizontalTicks(a.ticks); } if(minorHorizontalLines){ circularHorizontalTicks(a.minorTicks); } if(verticalLines){ _.times(sides, function(i){ ctx.moveTo(0, 0); ctx.lineTo(Math.cos(i*coeff+angle)*radius, Math.sin(i*coeff+angle)*radius); }); } ctx.stroke(); } else { ctx.translate(this.plotOffset.left, this.plotOffset.top); // Draw grid background, if present in options. if(grid.backgroundColor){ ctx.fillStyle = this.processColor(grid.backgroundColor, {x1: 0, y1: 0, x2: plotWidth, y2: plotHeight}); ctx.fillRect(0, 0, plotWidth, plotHeight); } ctx.beginPath(); a = this.axes.x; if (verticalLines) drawGridLines(a.ticks, drawVerticalLines); if (minorVerticalLines) drawGridLines(a.minorTicks, drawVerticalLines); a = this.axes.y; if (horizontalLines) drawGridLines(a.ticks, drawHorizontalLines); if (minorHorizontalLines) drawGridLines(a.minorTicks, drawHorizontalLines); ctx.stroke(); } ctx.restore(); if(verticalLines || minorVerticalLines || horizontalLines || minorHorizontalLines){ E.fire(this.el, 'flotr:aftergrid', [this.axes.x, this.axes.y, options, this]); } }, drawOutline: function(){ var that = this, options = that.options, grid = options.grid, outline = grid.outline, ctx = that.ctx, backgroundImage = grid.backgroundImage, plotOffset = that.plotOffset, leftOffset = plotOffset.left, topOffset = plotOffset.top, plotWidth = that.plotWidth, plotHeight = that.plotHeight, v, img, src, left, top, globalAlpha; if (!grid.outlineWidth) return; ctx.save(); if (grid.circular) { ctx.translate(leftOffset + plotWidth / 2, topOffset + plotHeight / 2); var radius = Math.min(plotHeight, plotWidth) * options.radar.radiusRatio / 2, sides = this.axes.x.ticks.length, coeff = 2*(Math.PI/sides), angle = -Math.PI/2; // Draw axis/grid border. ctx.beginPath(); ctx.lineWidth = grid.outlineWidth; ctx.strokeStyle = grid.color; ctx.lineJoin = 'round'; for(i = 0; i <= sides; ++i){ ctx[i === 0 ? 'moveTo' : 'lineTo'](Math.cos(i*coeff+angle)*radius, Math.sin(i*coeff+angle)*radius); } //ctx.arc(0, 0, radius, 0, Math.PI*2, true); ctx.stroke(); } else { ctx.translate(leftOffset, topOffset); // Draw axis/grid border. var lw = grid.outlineWidth, orig = 0.5-lw+((lw+1)%2/2), lineTo = 'lineTo', moveTo = 'moveTo'; ctx.lineWidth = lw; ctx.strokeStyle = grid.color; ctx.lineJoin = 'miter'; ctx.beginPath(); ctx.moveTo(orig, orig); plotWidth = plotWidth - (lw / 2) % 1; plotHeight = plotHeight + lw / 2; ctx[outline.indexOf('n') !== -1 ? lineTo : moveTo](plotWidth, orig); ctx[outline.indexOf('e') !== -1 ? lineTo : moveTo](plotWidth, plotHeight); ctx[outline.indexOf('s') !== -1 ? lineTo : moveTo](orig, plotHeight); ctx[outline.indexOf('w') !== -1 ? lineTo : moveTo](orig, orig); ctx.stroke(); ctx.closePath(); } ctx.restore(); if (backgroundImage) { src = backgroundImage.src || backgroundImage; left = (parseInt(backgroundImage.left, 10) || 0) + plotOffset.left; top = (parseInt(backgroundImage.top, 10) || 0) + plotOffset.top; img = new Image(); img.onload = function() { ctx.save(); if (backgroundImage.alpha) ctx.globalAlpha = backgroundImage.alpha; ctx.globalCompositeOperation = 'destination-over'; ctx.drawImage(img, 0, 0, img.width, img.height, left, top, plotWidth, plotHeight); ctx.restore(); }; img.src = src; } } }); })(); /*! * Bonzo: DOM Utility (c) Dustin Diaz 2011 * https://github.com/ded/bonzo * License MIT */ !function(a,b){typeof define==""function""?define(b):typeof module!=""undefined""?module.exports=b():this[a]=b()}(""bonzo"",function(){function x(a){return new RegExp(""(^|\\s+)""+a+""(\\s+|$)"")}function y(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c||a[d],a[d],d,a);return a}function z(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function A(a){return a&&a.nodeName&&a.nodeType==1}function B(a,b,c,d){for(d=0,j=a.length;d<j;++d)if(b.call(c,a[d],d,a))return!0;return!1}function D(a,b,c){var d=0,g=b||this,h=[],i=f&&typeof a==""string""&&a.charAt(0)!=""<""?function(b){return(b=f(a))&&(b.selected=1)&&b}():a;return y(J(i),function(a){y(g,function(b){var f=!b[e]||b[e]&&!b[e][e]?function(){var a=b.cloneNode(!0);return g.$&&g.cloneEvents&&g.$(a).cloneEvents(b),a}():b;c(a,f),h[d]=f,d++})},this),y(h,function(a,b){g[b]=a}),g.length=d,g}function E(a,b,c){var d=N(a),e=d.css(""position""),f=d.offset(),g=""relative"",h=e==g,i=[parseInt(d.css(""left""),10),parseInt(d.css(""top""),10)];e==""static""&&(d.css(""position"",g),e=g),isNaN(i[0])&&(i[0]=h?0:a.offsetLeft),isNaN(i[1])&&(i[1]=h?0:a.offsetTop),b!=null&&(a.style.left=b-f.left+i[0]+q),c!=null&&(a.style.top=c-f.top+i[1]+q)}function F(a,b){return x(b).test(a.className)}function G(a,b){a.className=w(a.className+"" ""+b)}function H(a,b){a.className=w(a.className.replace(x(b),"" ""))}function I(a){this.length=0;if(a){a=typeof a!=""string""&&!a.nodeType&&typeof a.length!=""undefined""?a:[a],this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b]}}function J(a){return typeof a==""string""?N.create(a):A(a)?[a]:a}function K(a,c,d){var e=this[0];return a==null&&c==null?(L(e)?M():{x:e.scrollLeft,y:e.scrollTop})[d]:(L(e)?b.scrollTo(a,c):(a!=null&&(e.scrollLeft=a),c!=null&&(e.scrollTop=c)),this)}function L(a){return a===b||/^(?:body|html)$/i.test(a.tagName)}function M(){return{x:b.pageXOffset||d.scrollLeft,y:b.pageYOffset||d.scrollTop}}function N(a,b){return new I(a,b)}var a=this,b=window,c=b.document,d=c.documentElement,e=""parentNode"",f=null,g=/^checked|value|selected$/,h=/select|fieldset|table|tbody|tfoot|td|tr|colgroup/i,i=""table"",k={thead:i,tbody:i,tfoot:i,tr:""tbody"",th:""tr"",td:""tr"",fieldset:""form"",option:""select""},l=/^checked|selected$/,m=/msie/i.test(navigator.userAgent),n=[],o=0,p=/^-?[\d\.]+$/,q=""px"",r=""setAttribute"",s=""getAttribute"",t=/(^\s*|\s*$)/g,u={lineHeight:1,zoom:1,zIndex:1,opacity:1},v=function(){var a=[""webkitTransform"",""MozTransform"",""OTransform"",""msTransform"",""Transform""],b;for(b=0;b<a.length;b++)if(a[b]in c.createElement(""a"").style)return a[b]}(),w=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(t,"""")},C=c.defaultView&&c.defaultView.getComputedStyle?function(a,b){b=b==""transform""?v:b,b=b==""transform-origin""?v+""Origin"":b;var d=null;b==""float""&&(b=""cssFloat"");var e=c.defaultView.getComputedStyle(a,"""");return e&&(d=e[z(b)]),a.style[b]||d}:m&&d.currentStyle?function(a,b){b=z(b),b=b==""float""?""styleFloat"":b;if(b==""opacity""){var c=100;try{c=a.filters[""DXImageTransform.Microsoft.Alpha""].opacity}catch(d){try{c=a.filters(""alpha"").opacity}catch(e){}}return c/100}var f=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||f}:function(a,b){return a.style[z(b)]};I.prototype={get:function(a){return this[a]},each:function(a,b){return y(this,a,b)},map:function(a,b){var c=[],d,e;for(e=0;e<this.length;e++)d=a.call(this,this[e],e),b?b(d)&&c.push(d):c.push(d);return c},first:function(){return N(this[0])},last:function(){return N(this[this.length-1])},html:function(a,b){function f(b){while(b.firstChild)b.removeChild(b.firstChild);y(J(a),function(a){b.appendChild(a)})}var c=b?d.textContent===null?""innerText"":""textContent"":""innerHTML"",e;return typeof a!=""undefined""?this.each(function(b){(e=b.tagName.match(h))?f(b,e[0]):b[c]=a}):this[0]?this[0][c]:""""},text:function(a){return this.html(a,1)},addClass:function(a){return this.each(function(b){F(b,a)||G(b,a)})},removeClass:function(a){return this.each(function(b){F(b,a)&&H(b,a)})},hasClass:function(a){return B(this,function(b){return F(b,a)})},toggleClass:function(a,b){return this.each(function(c){typeof b!=""undefined""?b?G(c,a):H(c,a):F(c,a)?H(c,a):G(c,a)})},show:function(a){return this.each(function(b){b.style.display=a||""""})},hide:function(a){return this.each(function(a){a.style.display=""none""})},append:function(a){return this.each(function(b){y(J(a),function(a){b.appendChild(a)})})},prepend:function(a){return this.each(function(b){var c=b.firstChild;y(J(a),function(a){b.insertBefore(a,c)})})},appendTo:function(a,b){return D.call(this,a,b,function(a,b){a.appendChild(b)})},prependTo:function(a,b){return D.call(this,a,b,function(a,b){a.insertBefore(b,a.firstChild)})},next:function(){return this.related(""nextSibling"")},previous:function(){return this.related(""previousSibling"")},related:function(a){return this.map(function(b){b=b[a];while(b&&b.nodeType!==1)b=b[a];return b||0},function(a){return a})},before:function(a){return this.each(function(b){y(N.create(a),function(a){b[e].insertBefore(a,b)})})},after:function(a){return this.each(function(b){y(N.create(a),function(a){b[e].insertBefore(a,b.nextSibling)})})},insertBefore:function(a,b){return D.call(this,a,b,function(a,b){a[e].insertBefore(b,a)})},insertAfter:function(a,b){return D.call(this,a,b,function(a,b){var c=a.nextSibling;c?a[e].insertBefore(b,c):a[e].appendChild(b)})},css:function(a,d,e){function g(a,b,c){for(var d in f)f.hasOwnProperty(d)&&(c=f[d],(b=z(d))&&p.test(c)&&!(b in u)&&(c+=q),b=b==""transform""?v:b,b=b==""transformOrigin""?v+""Origin"":b,a.style[b]=c)}if(d===undefined&&typeof a==""string"")return d=this[0],d?d==c||d==b?(e=d==c?N.doc():N.viewport(),a==""width""?e.width:a==""height""?e.height:""""):C(d,a):null;var f=a;typeof a==""string""&&(f={},f[a]=d),m&&f.opacity&&(f.filter=""alpha(opacity=""+f.opacity*100+"")"",f.zoom=a.zoom||1,delete f.opacity);if(d=f[""float""])m?f.styleFloat=d:f.cssFloat=d,delete f[""float""];return this.each(g)},offset:function(a,b){if(typeof a==""number""||typeof b==""number"")return this.each(function(c){E(c,a,b)});var c=this[0],d=c.offsetWidth,e=c.offsetHeight,f=c.offsetTop,g=c.offsetLeft;while(c=c.offsetParent)f=f+c.offsetTop,g=g+c.offsetLeft;return{top:f,left:g,height:e,width:d}},attr:function(a,b){var c=this[0];if(typeof a==""string""||a instanceof String)return typeof b==""undefined""?g.test(a)?l.test(a)&&typeof c[a]==""string""?!0:c[a]:c[s](a):this.each(function(c){g.test(a)?c[a]=b:c[r](a,b)});for(var d in a)a.hasOwnProperty(d)&&this.attr(d,a[d]);return this},val:function(a){return typeof a==""string""?this.attr(""value"",a):this[0].value},removeAttr:function(a){return this.each(function(b){l.test(a)?b[a]=!1:b.removeAttribute(a)})},data:function(a,b){var c=this[0];if(typeof b==""undefined""){c[s](""data-node-uid"")||c[r](""data-node-uid"",++o);var d=c[s](""data-node-uid"");return n[d]||(n[d]={}),n[d][a]}return this.each(function(c){c[s](""data-node-uid"")||c[r](""data-node-uid"",++o);var d=c[s](""data-node-uid""),e=n[d]||(n[d]={});e[a]=b})},remove:function(){return this.each(function(a){a[e]&&a[e].removeChild(a)})},empty:function(){return this.each(function(a){while(a.firstChild)a.removeChild(a.firstChild)})},detach:function(){return this.map(function(a){return a[e].removeChild(a)})},scrollTop:function(a){return K.call(this,null,a,""y"")},scrollLeft:function(a){return K.call(this,a,null,""x"")},toggle:function(a){return this.each(function(a){a.style.display=a.offsetWidth||a.offsetHeight?""none"":""block""}),a&&a(),this}},N.setQueryEngine=function(a){f=a,delete N.setQueryEngine},N.aug=function(a,b){for(var c in a)a.hasOwnProperty(c)&&((b||I.prototype)[c]=a[c])},N.create=function(a){return typeof a==""string""?function(){var b=/^<([^\s>]+)/.exec(a),d=c.createElement(b&&k[b[1].toLowerCase()]||""div""),e=[];d.innerHTML=a;var f=d.childNodes;d=d.firstChild,e.push(d);while(d=d.nextSibling)d.nodeType==1&&e.push(d);return e}():A(a)?[a.cloneNode(!0)]:[]},N.doc=function(){var a=this.viewport();return{width:Math.max(c.body.scrollWidth,d.scrollWidth,a.width),height:Math.max(c.body.scrollHeight,d.scrollHeight,a.height)}},N.firstChild=function(a){for(var b=a.childNodes,c=0,d=b&&b.length||0,e;c<d;c++)b[c].nodeType===1&&(e=b[d=c]);return e},N.viewport=function(){return{width:m?d.clientWidth:self.innerWidth,height:m?d.clientHeight:self.innerHeight}},N.isAncestor=""compareDocumentPosition""in d?function(a,b){return(a.compareDocumentPosition(b)&16)==16}:""contains""in d?function(a,b){return a!==b&&a.contains(b)}:function(a,b){while(b=b[e])if(b===a)return!0;return!1};var O=a.bonzo;return N.noConflict=function(){return a.bonzo=O,this},N}); // Envision.js // (c) 2012 Carl Sutherland, Humble Software // Distributed under the MIT License // Source: http://www.github.com/HumbleSoftware/envisionjs // Homepage: http://www.humblesoftware.com/envision /** * The Envision namespace. * @namespace */ var envision = { // Globals _ : Flotr._, // Underscore.js, functional microlib bean : Flotr.bean, // Bean, events bonzo : bonzo, // Bonzo, dom // Utility noConflict : (function (root) { var previous = root.envision; return function () { root.envision = previous; return this; }; })(this) }; // Visualization Class (function () { var CN_FIRST = 'envision-first', CN_LAST = 'envision-last', T_VISUALIZATION = '<div class=""envision-visualization""></div>'; T_COMPONENT_CONTAINER = '<div class=""envision-component-container""></div>'; /** * @summary Defines a visualization of componenents. * * @description This class manages the rendering of a visualization. * It provides convenience methods for adding, removing, and reordered * components dynamically as well as convenience methods for working * with a logical group of components. * * @param {String} [name] A name for the visualization. * @param {Element} [element] A container element for the visualization. * * @memberof envision * @class */ function Visualization (options) { this.options = options || {}; this.components = []; this.node = null; this.rendered = false; } Visualization.prototype = { /** * Render the visualization. * * If no element is submitted, the visualization will * render in the element configured in the constructor. * * This method is chainable. * * @param {Element} [element] */ render : function (element) { var options = this.options; element = element || options.element; if (!element) throw 'No element to render within.'; this.node = bonzo.create(T_VISUALIZATION)[0]; bonzo(this.node).addClass(options.name || ''); this.container = element; bonzo(element).append(this.node); bonzo(element).data('envision', this); _.each(this.components, function (component) { this._renderComponent(component); }, this); this._updateClasses(); this.rendered = true; return this; }, /** * Add a component to the visualization. * * If the visualization has already been rendered, * it will render the new component. * * This method is chainable. * * @param {envision.Component} component */ add : function (component) { this.components.push(component); if (this.rendered) { this._renderComponent(component); this._updateClasses(); } return this; }, /** * Remove a component from the visualization. * * This removes the components from the list of components in the * visualization and removes its container from the DOM. It does not * destroy the component. * * This method is chainable. * * @returns {envision.Visualization} This visualization. */ remove : function (component) { var components = this.components, index = this.indexOf(component); if (index !== -1) { components.splice(index, 1); bonzo(component.container).remove(); this._updateClasses(); } return this; }, /** * Reorders a component. * * This method is chainable. * * @param {envision.Component} component * @param {Number} newIndex */ setPosition : function (component, newIndex) { var components = this.components; if (newIndex >= 0 && newIndex < components.length && this.remove(component)) { if (this.rendered) { if (newIndex === components.length) this.node.appendChild(component.container); else this.node.insertBefore(component.container, components[newIndex].container); } components.splice(newIndex, 0, component); this._updateClasses(); } return this; }, /** * Gets the position of a component. * * @param {envision.Component} component */ indexOf : function (component) { return _.indexOf(this.components, component); }, /** * Gets the component at a position. * * @param {envision.Component} component * @returns {envision.Component} The found component. */ getComponent : function (index) { var components = this.components; if (index < components.length) return components[index]; }, /** * Gets whether or not the component is the first component * in the visualization. * * @param {envision.Component} component * @returns {Boolean} */ isFirst : function (component) { return (this.indexOf(component) === 0 ? true : false); }, /** * Gets whether or not the component is the last component * in the visualization. * * @param {envision.Component} component * @returns {Boolean} */ isLast : function (component) { return (this.indexOf(component) === this.components.length - 1 ? true : false); }, /** * Destroys the visualization. * * This empties the container and destroys all the components which are part * of the visualization. */ destroy : function () { _.each(this.components, function (component) { component.destroy(); }); bonzo(this.container).empty(); }, _renderComponent : function (component) { var container = bonzo.create(T_COMPONENT_CONTAINER)[0]; bonzo(this.node).append(container); component.render(container); }, _updateClasses : function () { var components = this.components, first = 0, last = components.length -1, node; _.each(components, function (component, index) { node = bonzo(component.container); if (index === first) node.addClass(CN_FIRST); else node.removeClass(CN_FIRST); if (index === last) node.addClass(CN_LAST); else node.removeClass(CN_LAST); }); } }; envision.Visualization = Visualization; })(); // Component Class (function () { var V = envision, CN_COMPONENT = 'envision-component', T_COMPONENT = '<div class=""' + CN_COMPONENT + '""></div>'; /** * @summary Defines a visualization component. * * @description Components are the building blocks of a visualization, * representing one typically graphical piece of the vis. This class manages * the options, DOM and API construction for an adapter which handles the * actual drawing of the visualization piece. * * Adapters can take the form of an actual object, a constructor function * or a function returning an object. Only one of these will be used. If * none is submitted, the default adapter Flotr2 is used. * * @param {String} [name] A name for the component. * @param {Element} [element] A container element for the component. * @param {Number} [height] An explicit component height. * @param {Number} [width] An explicit component width. * @param {Array} [data] An array of data. Data may be formatted for * envision or for the adapter itself, in which case skipPreprocess will * also need to be submitted. * @param {Boolean} [skipPreprocess] Skip data preprocessing. This is useful * when using the native data format for an adapter. * @param {Object} [adapter] An adapter object. * @param {Function} [adapterConstructor] An adapter constructor to be * instantiated by the component. * @param {Function} [adapterCallback] An callback invoked by the component * returning an adapter. * @param {Object} [config] Configuration for the adapter. * * @memberof envision * @class */ function Component (options) { options = options || {}; var node = bonzo.create(T_COMPONENT)[0]; this.options = options; this.node = node; // Instantiate Adapter if (options.adapter) { this.api = options.adapter; } else if (options.adapterConstructor) { this.api = new options.adapterConstructor(options.config); } else if (options.adapterCallback) { this.api = options.adapterCallback.call(null, options.config); } else if (options.config) { this.api = new V.adapters.flotr.Child(options.config || {}); } // this.id = _.uniqueId(CN_COMPONENT); this.preprocessors = []; } Component.prototype = { /** * Render the component. * * If no element is submitted, the component will * render in the element configured in the constructor. * * @param {Element} [element] */ render : function (element) { var node = this.node, options = this.options; element = element || options.element; if (!element) throw 'No element to render within.'; bonzo(element) .addClass(options.name || '') .append(this.node); this._setDimension('width'); this._setDimension('height'); this.container = element; this.draw(options.data, options.config); }, /** * Draw the component. * * @param {Array} [data] Data for the adapter. * @param {Object} [options] Configuration object for the adapters draw method. */ draw : function (data, config) { var api = this.api, options = this.options, preprocessors = this.preprocessors, clientData; clientData = data = data || options.data; config = config || options.config; if (!options.skipPreprocess && data) { clientData = []; _.each(api.getDataArray(data), function (d, index) { var preprocessor = preprocessors[index] || new V.Preprocessor(), isArray = _.isArray(d), isFunction = _.isFunction(d), unprocessed = isArray ? d : (isFunction ? d : d.data), processData = options.processData, range = api.range(config), min = range.min, max = range.max, resolution = this.node.clientWidth, dataArray = d, processed, objectData; // For object data if (!isFunction && !isArray) { dataArray = d.data; objectData = _.extend({}, d); } // Do data function preprocessing if (isFunction) { processed = data(min, max, resolution); } else { // Update if new data if (dataArray !== preprocessor.data) { preprocessor.setData(dataArray); } else { preprocessor.reset(); } // Do custom callback preprocessing if (processData) { processData.apply(this, [{ preprocessor : preprocessor, min : min, max : max, resolution : resolution }]); processed = preprocessor.getData(); } // Default preprocessing else { processed = preprocessor .bound(min, max) .subsampleMinMax(resolution) .getData(); } } // If present, transform the data for the API if (api.transformData) { processed = api.transformData(processed); } // Object Data if (objectData) { objectData.data = processed; clientData.push(objectData); } // Array Data else { clientData.push(processed); } }, this); } if (api) api.draw(clientData, config, this.node); }, /** * Trigger an event on the component's API. * * Arguments are passed through to the API. */ trigger : function () { this.api.trigger.apply(this.api, Array.prototype.concat.apply([this], arguments)); }, /** * Attach to an event on the component's API. * * Arguments are passed through to the API. */ attach : function () { this.api.attach.apply(this.api, Array.prototype.concat.apply([this], arguments)); }, /** * Detach a listener from an event on the component's API. * * Arguments are passed through to the API. */ detach : function () { this.api.detach.apply(this.api, Array.prototype.concat.apply([this], arguments)); }, /** * Destroy the component. * * Empties the container and calls the destroy method on the * component's API. */ destroy : function () { if (this.api && this.api.destroy) this.api.destroy(); bonzo(this.container).empty(); }, _setDimension : function (attribute) { var node = this.node, options = this.options; if (options[attribute]) { bonzo(node).css(attribute, options[attribute]); } else { //options[attribute] = parseInt(bonzo(node).css(attribute), 10); options[attribute] = node.clientWidth; } this[attribute] = options[attribute]; } }; V.Component = Component; })(); // Interaction Class (function () { var H = envision; /** * @summary Defines an interaction between components. * * @description This class defines interactions in which actions are triggered * by leader components and reacted to by follower components. These actions * are defined as configurable mappings of trigger events and event consumers. * It is up to the adapter to implement the triggers and consumers. * * A component may be both a leader and a follower. A leader which is a * follower will react to actions triggered by other leaders, but will safely * not react to its own. This allows for groups of components to perform a * common action. * * Optionally, actions may be supplied with a callback executed before the * action is consumed. This allows for quick custom functionality to be added * and is how advanced data management (ie. live Ajax data) may be implemented. * * This class follow an observer mediator pattern. * * @param {envision.Component|Array} [leader] Component(s) to lead the * interaction * * @memberof envision * @class */ function Interaction(options) { this.options = options = options || {}; this.actions = []; this.actionOptions = []; this.followers = []; this.leaders = []; this.prevent = {}; if (options.leader) { this.leader(options.leader); } } Interaction.prototype = { /** * Add a component as an interaction leader. * * @param {envision.Component} component */ leader : function (component) { this.leaders.push(component); _.each(this.actions, function (action, i) { this._bindLeader(component, action, this.actionOptions[i]); }, this); return this; }, /** * Add a component as an interaction leader. * * @param {envision.Component} component */ follower : function (component) { this.followers.push(component); return this; }, /** * Adds an array of components as both followers and leaders. * * @param {Array} components An array of components */ group : function (components) { if (!_.isArray(components)) components = [components]; _.each(components, function (component) { this.leader(component); this.follower(component); }, this); return this; }, /** * Adds an action to the interaction. * * The action may be optionally configured with the options argument. * Currently the accepts a callback member, invoked after an action * is triggered and before it is consumed by followers. * * @param {Object} action * @param {Object} [options] */ add : function (action, options) { this.actions.push(action); this.actionOptions.push(options); _.each(this.leaders, function (leader) { this._bindLeader(leader, action, options); }, this); return this; }, _bindLeader : function (leader, action, options) { _.each(action.events, function (e) { var handler = e.handler || e, consumer = e.consumer || e; leader.attach(handler, _.bind(function (leader, result) { if (this.prevent[name]) return; // Apply custom callback configured for this action if (options && options.callback) { options.callback.call(this, result); } this.prevent[name] = true; // Prevent recursions for this name try { _.each(this.followers, function (follower) { if (leader === follower) return; // Skip leader (recursion) follower.trigger(consumer, result); }, this); } catch (e) { this.prevent[name] = false; throw e; } this.prevent[name] = false; }, this)); }, this); } }; H.Interaction = Interaction; })(); // Preprocessor Class (function () { /** * @summary Data preprocessor. * * @description Data can be preprocessed before it is rendered by an adapter. * * This has several important performance considerations. If data will be * rendered repeatedly or on slower browsers, it will be faster after being * optimized. * * First, data outside the boundaries does not need to be rendered. Second, * the resolution of the data only needs to be at most the number of pixels * in the width of the visualization. * * Performing these optimizations will limit memory overhead, important * for garbage collection and performance on old browsers, as well as drawing * overhead, important for mobile devices, old browsers and large data sets. * * @param {Array} [data] The data for processing. * * @memberof envision * @class */ function Preprocessor (options) { options = options || {}; /** * Returns data. */ this.getData = function () { if (this.bounded) bound(this); return this.processing; }; this.reset = function () { this.processing = this.data; return this; }; /** * Set the data object. */ this.setData = function (data) { var i, length; if (!_.isArray(data)) throw new Error('Array expected.'); if (data.length < 2) throw new Error('Data must contain at least two dimensions.'); length = data[0].length; for (i = data.length; i--;) { if (!_.isArray(data[i])) throw new Error('Data dimensions must be arrays.'); if (data[i].length !== length) throw new Error('Data dimensions must contain the same number of points.'); } this.processing = data; this.data = data; return this; }; if (options.data) this.setData(options.data); } function getStartIndex (data, min) { var i = _.sortedIndex(data, min); // Include point outside range when not exact match if (data[i] > min && i > 0) i--; return i; } function getEndIndex (data, max) { return _.sortedIndex(data, max); } function bound (that) { delete that.bounded; var data = that.processing, length = that.length(), x = data[0], y = data[1], min = that.min || 0, max = that.max || length, start = getStartIndex(x, min), end = getEndIndex(x, max); that.processing = [ x.slice(start, end + 1), y.slice(start, end + 1) ]; that.start = start; that.end = end; } Preprocessor.prototype = { /** * Returns the length of the data set. * * @return {Number} Length of the data set. */ length : function () { return this.getData()[0].length; }, /** * Bounds the data set at within a range. * * @param {Number} min * @param {Number} max */ bound : function (min, max) { if (!_.isNumber(min) || !_.isNumber(max)) return this; this.min = min; this.max = max; this.bounded = true; return this; }, /** * Subsample data using MinMax. * * MinMax will display the extrema of the subsample intervals. This is * slower than regular interval subsampling but necessary for data that * is very non-homogenous. * * @param {Number} resolution */ subsampleMinMax : function (resolution) { var bounded = this.bounded; delete this.bounded; var data = this.processing, length = this.length(), x = data[0], y = data[1], start = bounded ? getStartIndex(x, this.min) : 0, end = bounded ? getEndIndex(x, this.max) : length - 1, count = (resolution - 2) / 2, newX = [], newY = [], min = Number.MAX_VALUE, max = -Number.MAX_VALUE, minI = 1, maxI = 1, unit = (end - start)/ count, position, datum, i, j; if (end - start + 1 > resolution) { newX.push(x[start]); newY.push(y[start]); position = start + unit; for (i = start; i < end; i++) { if (i === Math.round(position)) { position += unit; j = Math.min(maxI, minI); newX.push(x[j]); newY.push(y[j]); j = Math.max(maxI, minI); newX.push(x[j]); newY.push(y[j]); minI = i; min = y[minI]; maxI = i; max = y[maxI]; } else { if (y[i] > max) { max = y[i]; maxI = i; } if (y[i] < min) { min = y[i]; minI = i; } } } if (i < position) { newX.push(x[minI]); newY.push(min); newX.push(x[maxI]); newY.push(max); } // Last newX.push(x[end]); newY.push(y[end]); this.processing = [newX, newY]; this.start = start; this.end = end; } else { this.bounded = bounded; } return this; }, /** * Subsample data at a regular interval for resolution. * * This is the fastest subsampling and good for monotonic data and fairly * homogenous data (not a lot of up and down). * * @param {Number} resolution */ subsample : function (resolution) { var bounded = this.bounded; delete this.bounded; var data = this.processing, length = this.length(), x = data[0], y = data[1], start = bounded ? getStartIndex(x, this.min) : 0, end = bounded ? getEndIndex(x, this.max) : length - 1, unit = (end - start + 1) / resolution, newX = [], newY = [], i, index; if (end - start + 1 > resolution) { // First newX.push(x[start]); newY.push(y[start]); for (i = 1; i < resolution; i++) { if (i * unit >= end - unit) break; index = Math.round(i * unit) + start; newX.push(x[index]); newY.push(y[index]); } // Last newX.push(x[end]); newY.push(y[end]); this.processing = [newX, newY]; this.start = start; this.end = end; } else { this.bounded = bounded; } return this; }, interpolate : function (resolution) { var bounded = this.bounded; delete this.bounded; var data = this.processing, length = this.length(), x = data[0], y = data[1], start = bounded ? getStartIndex(x, this.min) : 0, end = bounded ? getEndIndex(x, this.max) : length - 1, unit = (x[end] - x[start]) / resolution, newX = [], newY = [], i, j, delta; newX.push(x[start]); newY.push(y[start]); if (end - start + 1 < resolution) { for (i = start; i < end; i++) { delta = x[i + 1] - x[i]; newX.push(x[i]); newY.push(y[i]); for (j = x[i + 0] + unit; j < x[i + 1]; j += unit) { newX.push(j); newY.push(cubicHermiteSpline( j, x[i - 1], y[i - 1], x[i + 0], y[i + 0], x[i + 1], y[i + 1], x[i + 2], y[i + 2] )); } } this.processing = [newX, newY]; this.start = start; this.end = end; } return this; } }; function cubicHermiteSpline (x, tk0, pk0, tk1, pk1, tk2, pk2, tk3, pk3) { var t = (x - tk1) / (tk2 - tk1), t1 = 1 - t, h00 = (1 + 2 * t) * t1 * t1, h10 = t * t1 * t1, h01 = t * t * (3 - 2 * t), h11 = t * t * (t - 1), mk = (pk2 - pk1) / (2 * (tk2 - tk1)) + (typeof pk0 === 'undefined' ? 0 : (pk1 - pk0) / (2 * (tk1 - tk0))), mk1 = (typeof pk3 === 'undefined' ? 0 : (pk3 - pk2) / (2 * (tk3 - tk2))) + (pk2 - pk1) / (2 * (tk2 - tk1)), px = h00 * pk1 + h10 * (tk2 - tk1) * mk + h01 * pk2 + h11 * (tk2 - tk1) * mk1; return px; } envision.Preprocessor = Preprocessor; }()); /** * Actions namespace. Actions are configurations for * common use cases when building Interactions. */ envision.actions = envision.actions || {}; envision.actions.hit = { events : [ 'hit', 'mouseout' ] }; envision.actions.selection = { events : [ { handler : 'select', consumer : 'zoom' }, // Reset on click, avoids re-drawing the leader. { handler : 'click', consumer : 'reset' } ] }; envision.actions.zoom = { events : [ // Zoom on the followers as selecting { handler : 'select', consumer : 'zoom' }, // Zoom on the leader after mouseup 'zoom', // Reset all on click 'reset' ] }; /** * Adapters namespace. These are component adapters for external * librares. Envision.js ships with a Flotr2 adapter. */ envision.adapters = envision.adapters || {}; envision.adapters.flotr = {}; /* * Flotr Default Options */ envision.adapters.defaultOptions = { grid : { outlineWidth : 0, labelMargin : 0, horizontalLines : false, verticalLines : false }, bars : { show : false, barWidth : 0.5, fill : true, lineWidth : 1, fillOpacity : 1 }, lines : { lineWidth : 1 }, xaxis : { margin : false, tickDecimals: 0, showLabels : false }, yaxis : { margin : false, showLabels : false }, shadowSize : false }; /** * Flotr Adapter */ (function () { var V = envision, A = envision.adapters, E = Flotr.EventAdapter, DEFAULTS = A.defaultOptions; function Child (options) { this.options = options || {}; this.flotr = null; this._flotrDefaultOptions(); } Child.prototype = { destroy : function () { this.flotr.destroy(); }, draw : function (data, flotr, node) { var options = this.options; data = this.getDataArray(data || options.data); if (flotr) { flotr = Flotr.merge(flotr, Flotr.clone(options)); } else { flotr = options; } options.data = data; if (!flotr) throw 'No graph submitted.'; this.flotr = Flotr.draw(node, data, flotr); }, range : function (flotr) { var axis = flotr.xaxis; return { min : axis.min, max : axis.max }; }, // Transform for Flotr transformData : function (data) { var length = data[0].length, dimension = data.length, transformed = [], point, i, j; for (i = 0; i < length; i++) { point = []; for (j = 0; j < dimension; j++) { point.push(data[j][i]); } transformed.push(point); } return transformed; }, getDataArray : function (data) { if ( data[0] && // Data exists and ( !_.isArray(data[0]) || // data not an array !data[0].length || // data is an empty series (data[0][0] && _.isArray(data[0][0])) // data is a series ) ) return data; else return [data]; }, _flotrDefaultOptions : function (options) { var o = options || this.options, i; for (i in DEFAULTS) { if (DEFAULTS.hasOwnProperty(i)) { if (_.isUndefined(o[i])) { o[i] = DEFAULTS[i]; } else { _.defaults(o[i], DEFAULTS[i]); } } } }, attach : function (component, name, callback) { var event = this.events[name] || {}, handler = event.handler || false; name = event.name || false; if (handler) { return E.observe(component.node, name, function () { var args = [component].concat(Array.prototype.slice.call(arguments)), result = handler.apply(this, args); return callback.apply(null, [component, result]); }); } else { return false; } }, detach : function (component, name, callback) { return E.stopObserve(component.node, name, handler); }, trigger : function (component, name, options) { var event = this.events[name], consumer = event.consumer || false; return consumer ? consumer.apply(this, [component, options]) : false; }, events : { hit : { name : 'flotr:hit', handler : function (component, hit) { var x = hit.x, y = hit.y, graph = component.api.flotr, options; // Normalized hit: options = { data : { index : hit.index, x : x, y : y }, x : graph.axes.x.d2p(x), y : graph.axes.y.d2p(y) }; return options; }, consumer : function (component, hit) { var graph = component.api.flotr, o; // TODO this is a hack; // the hit plugin should expose an API to do this easily o = { x : hit.data.x, y : hit.data.y || 1, relX : hit.x, relY : hit.y || 1 }; graph.hit.hit(o); } }, select : { name : 'flotr:selecting', handler : selectHandler, consumer : function (component, selection) { var graph = component.api.flotr, axes = graph.axes, data = selection.data || {}, options = {}, x = selection.x, y = selection.y; if (!x && data.x) { // Translate data to pixels x = data.x; options.x1 = x.min; options.x2 = x.max; } else if (x) { // Use pixels options.x1 = axes.x.p2d(x.min); options.x2 = axes.x.p2d(x.max); } if (!y && data.y) { // Translate data to pixels y = data.y; options.y1 = y.min; options.y2 = y.max; } else if (y) { // Use pixels options.y1 = axes.y.d2p(y.min); options.y2 = axes.y.d2p(y.max); } graph.selection.setSelection(options); } }, zoom : { name : 'flotr:select', handler : function (component, selection) { var options = selectHandler(component, selection); component.trigger('zoom', options); return options; }, consumer : function (component, selection) { var x = selection.data.x, y = selection.data.y, options = {}; if (x) { options.xaxis = { min : x.min, max : x.max }; } if (y) { options.yaxis = { min : y.min, max : y.max }; } component.draw(null, options); } }, mouseout : { name : 'flotr:mouseout', handler : function (component) { }, consumer : function (component) { component.api.flotr.hit.clearHit(); } }, reset : { name : 'flotr:click', handler : function (component) { component.draw(); }, consumer : function (component) { component.draw(); } }, click : { name : 'flotr:click', handler : function (component) { var min = component.api.flotr.axes.x.min, max = component.api.flotr.axes.x.max; return { data : { x : { min : min, max : max } }, x : { min : component.api.flotr.axes.x.d2p(min), max : component.api.flotr.axes.x.d2p(max) } }; }, consumer : function (component, selection) { var x = selection.data.x, y = selection.data.y, options = {}; if (x) { options.xaxis = { min : x.min, max : x.max }; } if (y) { options.yaxis = { min : y.min, max : y.max }; } component.draw(null, options); } } } }; function selectHandler (component, selection) { var mode = component.options.config.selection.mode, axes = component.api.flotr.axes, datax, datay, x, y, options; if (mode.indexOf('x') !== -1) { datax = {}; datax.min = selection.x1; datax.max = selection.x2; x = {}; x.min = axes.x.d2p(selection.x1); x.max = axes.x.d2p(selection.x2); } if (mode.indexOf('y') !== -1) { datay = {}; datay.min = selection.y1; datay.max = selection.y2; y = {}; y.min = axes.y.d2p(selection.y1); y.max = axes.y.d2p(selection.y2); } // Normalized selection: options = { data : { x : datax, y : datay }, x : x, y : y }; return options; } A.flotr.Child = Child; })(); /** Lines **/ Flotr.addType('lite-lines', { options: { show: false, // => setting to true will show lines, false will hide lineWidth: 2, // => line width in pixels fill: false, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillBorder: false, // => draw a border around the fill fillColor: null, // => fill color fillOpacity: 0.4 // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill }, /** * Draws lines series in the canvas element. * @param {Object} options */ draw : function (options) { var context = options.context, lineWidth = options.lineWidth, shadowSize = options.shadowSize, offset; context.save(); context.lineCap = 'butt'; context.lineWidth = lineWidth; context.strokeStyle = options.color; this.plot(options); context.restore(); }, plot : function (options) { var context = options.context, xScale = options.xScale, yScale = options.yScale, data = options.data, length = data.length - 1, zero = yScale(0), x0, y0; if (length < 1) return; x0 = xScale(data[0][0]); y0 = yScale(data[0][1]); context.beginPath(); context.moveTo(x0, y0); for (i = 0; i < length; ++i) { context.lineTo( xScale(data[i+1][0]), yScale(data[i+1][1]) ); } if (!options.fill || options.fill && !options.fillBorder) context.stroke(); if (options.fill){ x0 = xScale(data[0][0]); context.fillStyle = options.fillStyle; context.lineTo(xScale(data[length][0]), zero); context.lineTo(x0, zero); context.lineTo(x0, yScale(data[0][1])); context.fill(); if (options.fillBorder) { context.stroke(); } } }, extendYRange : function (axis, data, options, lines) { var o = axis.options; // HACK if ((!o.max && o.max !== 0) || (!o.min && o.min !== 0)) { axis.max += options.lineWidth * 0.01; axis.min -= options.lineWidth * 0.01; /* axis.max = axis.p2d((axis.d2p(axis.max) + options.lineWidth)); axis.min = axis.p2d((axis.d2p(axis.max) - options.lineWidth)); */ } } }); /** Bars **/ Flotr.addType('whiskers', { options: { show: false, // => setting to true will show bars, false will hide lineWidth: 2, // => in pixels barWidth: 1, // => in units of the x axis fill: true, // => true to fill the area from the line to the x axis, false for (transparent) no fill fillColor: null, // => fill color fillOpacity: 0.4, // => opacity of the fill color, set to 1 for a solid fill, 0 hides the fill horizontal: false, // => horizontal bars (x and y inverted) stacked: false, // => stacked bar charts centered: true // => center the bars to their x axis value }, stack : { positive : [], negative : [], _positive : [], // Shadow _negative : [] // Shadow }, draw : function (options) { var context = options.context; context.save(); context.lineJoin = 'miter'; context.lineCap = 'butt'; context.lineWidth = options.lineWidth; context.strokeStyle = options.color; if (options.fill) context.fillStyle = options.fillStyle; this.plot(options); context.restore(); }, plot : function (options) { var data = options.data, context = options.context, shadowSize = options.shadowSize, xScale = options.xScale, yScale = options.yScale, zero = yScale(0), i, x; if (data.length < 1) return; context.translate(-options.lineWidth, 0); context.beginPath(); for (i = 0; i < data.length; i++) { x = xScale(data[i][0]); context.moveTo(x, zero); context.lineTo(x, yScale(data[i][1])); } context.closePath(); context.stroke(); }, drawHit : function (options) { var args = options.args, context = options.context, shadowSize = options.shadowSize, xScale = options.xScale, yScale = options.yScale, zero = yScale(0), x = xScale(args.x), y = yScale(args.y); context.save(); context.translate(-options.lineWidth, 0); context.beginPath(); context.moveTo(x, zero); context.lineTo(x, y); context.closePath(); context.stroke(); context.restore(); }, clearHit: function (options) { var args = options.args, context = options.context, shadowSize = options.shadowSize, xScale = options.xScale, yScale = options.yScale, lineWidth = options.lineWidth, zero = yScale(0), x = xScale(args.x), y = yScale(args.y); context.save(); context.clearRect(x - 2 * lineWidth, y - lineWidth, 4 * lineWidth, zero - y + lineWidth); context.restore(); } }); /** * Components namespace. These are standalone, custom components * APIs for widgets, decorations, flair. */ envision.components = envision.components || {}; (function () { function QuadraticDrawing (options) { this.options = options || {}; } QuadraticDrawing.prototype = { height : null, width : null, rendered : false, render : function (node) { var canvas = document.createElement('canvas'), offset = bonzo(node).offset(); this.height = offset.height; this.width = offset.width; bonzo(canvas) .attr('height', offset.height) .attr('width', offset.width) .css({ position : 'absolute', top : '0px', left : '0px' }); node.appendChild(canvas); bonzo(node).css({ position : 'relative' }); if (typeof FlashCanvas !== 'undefined') FlashCanvas.initElement(canvas); this.context = canvas.getContext('2d'); this.rendered = true; }, draw : function (data, options, node) { if (!this.rendered) this.render(node); var context = this.context, height = this.height, width = this.width, half = Math.round(height / 2) - 0.5, min, max; options = options || { min : width / 2, max : width / 2}; min = options.min + 0.5; max = options.max + 0.5; context.clearRect(0, 0, width, height); if (min || max) { context.save(); context.strokeStyle = this.options.strokeStyle || '#B6D9FF'; context.fillStyle = this.options.fillStyle || 'rgba(182, 217, 255, .4)'; context.beginPath(); // Left if (min <= 1) { context.moveTo(0, height); context.lineTo(0, -0.5); } else { context.moveTo(min, height); context.quadraticCurveTo(min, half, Math.max(min - half, min / 2), half); context.lineTo(Math.min(half, min / 2), half); context.quadraticCurveTo(0, half, 0.5, -0.5); } // Top context.lineTo(width - 0.5, -0.5); // Right if (max >= width - 1) { context.lineTo(max, height); } else { context.quadraticCurveTo(width, half, Math.max(width - half, width - (width - max) / 2), half); context.lineTo(Math.min(max + half, width - (width - max) / 2), half); context.quadraticCurveTo(max, half, max, height); } context.stroke(); context.closePath(); context.fill(); context.restore(); } }, trigger : function (component, name, options) { if (name === 'zoom') { this.zoom(component, options); } else if (name === 'reset') { this.reset(component); } }, zoom : function (component, options) { var x = options.x || {}, min = x.min, max = x.max, api = component.api; component.draw(null, { min : min, max : max }); }, reset : function (component) { component.draw(null, { min : component.width / 2, max : component.width / 2 }); } }; envision.components.QuadraticDrawing = QuadraticDrawing; })(); /** * Templates namespace. * * Templates are pre-built interactive visualizations fitting common * use-cases. These include several components together with * interactions and configuration for each. They may have their own * custom configuration options as well. */ envision.templates = envision.templates || {}; (function () { var V = envision; // Custom data processor function processData (options) { var resolution = options.resolution; options.preprocessor .bound(options.min, options.max) .subsampleMinMax(resolution + Math.round(resolution / 3)); } function getDefaults () { return { price : { name : 'envision-finance-price', config : { 'lite-lines' : { lineWidth : 1, show : true, fill : true, fillOpacity : 0.2 }, mouse : { track: true, trackY: false, trackAll: true, sensibility: 1, trackDecimals: 4, position: 'ne' }, yaxis : { autoscale : true, autoscaleMargin : 0.05, noTicks : 4, showLabels : true, min : 0 } }, processData : processData }, volume : { name : 'envision-finance-volume', config : { whiskers : { show : true, lineWidth : 2 }, mouse: { track: true, trackY: false, trackAll: true }, yaxis : { autoscale : true, autoscaleMargin : 0.5 } }, processData : processData }, summary : { name : 'envision-finance-summary', config : { 'lite-lines' : { show : true, lineWidth : 1, fill : true, fillOpacity : 0.2, fillBorder : true }, xaxis : { noTicks: 5, showLabels : true }, yaxis : { autoscale : true, autoscaleMargin : 0.1 }, handles : { show : true }, selection : { mode : 'x' }, grid : { verticalLines : false } } }, connection : { name : 'envision-finance-connection', adapterConstructor : V.components.QuadraticDrawing } }; } function Finance (options) { var data = options.data, defaults = getDefaults(), vis = new V.Visualization({name : 'envision-finance'}), selection = new V.Interaction(), hit = new V.Interaction(), price, volume, connection, summary; if (options.defaults) { defaults = Flotr.merge(options.defaults, defaults); } defaults.price.data = data.price; defaults.volume.data = data.volume; defaults.summary.data = data.summary; defaults.price.config.mouse.trackFormatter = options.trackFormatter || function (o) { var index = o.index, value; if (price.api.preprocessor) { index += price.api.preprocessor.start; } value = 'Price: $' + data.price[1][index] + "", Vol: "" + data.volume[1][index]; return value; }; if (options.xTickFormatter) { defaults.summary.config.xaxis.tickFormatter = options.xTickFormatter; } defaults.price.config.yaxis.tickFormatter = options.yTickFormatter || function (n) { return '$' + n; }; price = new V.Component(defaults.price); volume = new V.Component(defaults.volume); connection = new V.Component(defaults.connection); summary = new V.Component(defaults.summary); // Render visualization vis .add(price) .add(volume) .add(connection) .add(summary) .render(options.container); // Define the selection zooming interaction selection .follower(price) .follower(volume) .follower(connection) .leader(summary) .add(V.actions.selection, options.selectionCallback ? { callback : options.selectionCallback } : null); // Define the mouseover hit interaction hit .group([price, volume]) .add(V.actions.hit); // Optional initial selection if (options.selection) { summary.trigger('select', options.selection); } // Members this.vis = vis; this.selection = selection; this.hit = hit; this.price = price; this.volume = volume; this.summary = summary; } V.templates.Finance = Finance; })(); (function () { var V = envision; function getDefaults () { return { detail : { name : 'envision-timeseries-detail', config : { 'lite-lines' : { lineWidth : 1, show : true } } }, summary : { name : 'envision-timeseries-summary', config : { 'lite-lines' : { lineWidth : 1, show : true }, handles : { show : true }, selection : { mode : 'x' }, yaxis : { autoscale : true, autoscaleMargin : 0.1 } } }, connection : { name : 'envision-timeseries-connection', adapterConstructor : V.components.QuadraticDrawing } }; } function TimeSeries (options) { var data = options.data, defaults = getDefaults(), vis = new V.Visualization({name : 'envision-timeseries'}), selection = new V.Interaction(), detail, summary, connection; // Fill Defaults if (options.defaults) { defaults = Flotr.merge(options.defaults, defaults); } defaults.detail.data = data.detail; defaults.summary.data = data.summary; // Build Components detail = new V.Component(defaults.detail); connection = new V.Component(defaults.connection); summary = new V.Component(defaults.summary); // Render visualization vis .add(detail) .add(connection) .add(summary) .render(options.container); // Selection action selection .follower(detail) .follower(connection) .leader(summary) .add(V.actions.selection, options.selectionCallback ? { callback : options.selectionCallback } : null); // Optional initial selection if (options.selection) { summary.trigger('select', options.selection); } this.vis = vis; this.selection = selection; this.detail = detail; this.summary = summary; } V.templates.TimeSeries = TimeSeries; })(); (function () { var V = envision, Zoom; function defaultsZoom () { return { name : 'zoom' }; } function defaultsSummary () { return { name : 'summary', config : { handles : { show : true }, selection : { mode : 'x'} } }; } function getDefaults (options, defaults) { var o = _.defaults(options, defaults); o.flotr = _.defaults(o.flotr, defaults.flotr); return o; } Zoom = function (options) { var vis = new V.Visualization(), zoom = new V.Component(getDefaults(options.zoom || {}, defaultsZoom())), summary = new V.Component(getDefaults(options.summary || {}, defaultsSummary())), interaction = new V.Interaction({leader : summary}); vis .add(zoom) .add(summary); interaction.add(V.actions.selection); interaction.follower(zoom); this.vis = vis; this.interaction = interaction; if (options.container) { this.render(options.container); } }; Zoom.prototype = { render : function (container) { this.vis.render(container); } }; V.templates.Zoom = Zoom; })(); ; (function(){function a(a){return a.target}function b(a){return a.source}function c(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(d){a.prototype=b}}function d(a){var b=-1,c=a.length,d=[];while(++b<c)d.push(a[b]);return d}function e(a){return Array.prototype.slice.call(a)}function f(){}function g(a){return a}function h(){return!0}function i(a){return typeof a==""function""?a:function(){return a}}function j(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}function k(a){return a!=null&&!isNaN(a)}function l(a){return a.length}function m(a){return a.trim().replace(/\s+/g,"" "")}function n(a){var b=1;while(a*b%1)b*=10;return b}function o(a){return a.length===1?function(b,c){a(b==null?c:null)}:a}function p(a){return a.responseText}function q(a){return JSON.parse(a.responseText)}function r(a){var b=document.createRange();return b.selectNode(document.body),b.createContextualFragment(a.responseText)}function s(a){return a.responseXML}function t(){}function u(a){function b(){var b=c,d=-1,e=b.length,f;while(++d<e)(f=b[d].on)&&f.apply(this,arguments);return a}var c=[],d=new f;return b.on=function(b,e){var f=d.get(b),g;return arguments.length<2?f&&f.on:(f&&(f.on=null,c=c.slice(0,g=c.indexOf(f)).concat(c.slice(g+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function v(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function w(a){return a+""""}function x(a,b){var c=Math.pow(10,Math.abs(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function y(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function z(a){return function(b){return 1-a(1-b)}}function A(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function B(a){return a*a}function C(a){return a*a*a}function D(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function E(a){return function(b){return Math.pow(b,a)}}function F(a){return 1-Math.cos(a*kd/2)}function G(a){return Math.pow(2,10*(a-1))}function H(a){return 1-Math.sqrt(1-a*a)}function I(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/(2*kd)*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,10*-d)*Math.sin((d-c)*2*kd/b)}}function J(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function K(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function L(){d3.event.stopPropagation(),d3.event.preventDefault()}function M(){var a=d3.event,b;while(b=a.sourceEvent)a=b;return a}function N(a){var b=new t,c=0,d=arguments.length;while(++c<d)b[arguments[c]]=u(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=d3.event;e.target=a,d3.event=e,b[e.type].apply(c,d)}finally{d3.event=f}}},b}function O(a){var b=[a.a,a.b],c=[a.c,a.d],d=Q(b),e=P(b,c),f=Q(R(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*nd,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*nd:0}function P(a,b){return a[0]*b[0]+a[1]*b[1]}function Q(a){var b=Math.sqrt(P(a,a));return b&&(a[0]/=b,a[1]/=b),b}function R(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function S(a){return a==""transform""?d3.interpolateTransform:d3.interpolate}function T(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function U(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function V(){}function W(a,b,c){return new X(a,b,c)}function X(a,b,c){this.r=a,this.g=b,this.b=c}function Y(a){return a<16?""0""+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Z(a,b,c){var d=0,e=0,f=0,g,h,i;g=/([a-z]+)\((.*)\)/i.exec(a);if(g){h=g[2].split("","");switch(g[1]){case""hsl"":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case""rgb"":return b(bb(h[0]),bb(h[1]),bb(h[2]))}}return(i=Hd.get(a))?b(i.r,i.g,i.b):(a!=null&&a.charAt(0)===""#""&&(a.length===4?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,f=a.charAt(3),f+=f):a.length===7&&(d=a.substring(1,3),e=a.substring(3,5),f=a.substring(5,7)),d=parseInt(d,16),e=parseInt(e,16),f=parseInt(f,16)),b(d,e,f))}function $(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g,h,i=(e+d)/2;return f?(h=i<.5?f/(e+d):f/(2-e-d),a==e?g=(b-c)/f+(b<c?6:0):b==e?g=(c-a)/f+2:g=(a-b)/f+4,g*=60):h=g=0,cb(g,h,i)}function _(a,b,c){a=ab(a),b=ab(b),c=ab(c);var d=nb((.4124564*a+.3575761*b+.1804375*c)/Ld),e=nb((.2126729*a+.7151522*b+.072175*c)/Md),f=nb((.0193339*a+.119192*b+.9503041*c)/Nd);return ib(116*e-16,500*(d-e),200*(e-f))}function ab(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function bb(a){var b=parseFloat(a);return a.charAt(a.length-1)===""%""?Math.round(b*2.55):b}function cb(a,b,c){return new db(a,b,c)}function db(a,b,c){this.h=a,this.s=b,this.l=c}function eb(a,b,c){function d(a){return a>360?a-=360:a<0&&(a+=360),a<60?f+(g-f)*a/60:a<180?g:a<240?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(d(a)*255)}var f,g;return a%=360,a<0&&(a+=360),b=b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,g=c<=.5?c*(1+b):c+b-c*b,f=2*c-g,W(e(a+120),e(a),e(a-120))}function fb(a,b,c){return new gb(a,b,c)}function gb(a,b,c){this.h=a,this.c=b,this.l=c}function hb(a,b,c){return ib(c,Math.cos(a*=md)*b,Math.sin(a)*b)}function ib(a,b,c){return new jb(a,b,c)}function jb(a,b,c){this.l=a,this.a=b,this.b=c}function kb(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=mb(e)*Ld,d=mb(d)*Md,f=mb(f)*Nd,W(ob(3.2404542*e-1.5371385*d-.4985314*f),ob(-0.969266*e+1.8760108*d+.041556*f),ob(.0556434*e-.2040259*d+1.0572252*f))}function lb(a,b,c){return fb(Math.atan2(c,b)/kd*180,Math.sqrt(b*b+c*c),a)}function mb(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function nb(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function ob(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function pb(a){return qd(a,Ud),a}function qb(a){return function(){return Pd(a,this)}}function rb(a){return function(){return Qd(a,this)}}function sb(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);c==null?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);c==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=d3.ns.qualify(a),b==null?a.local?d:c:typeof b==""function""?a.local?h:g:a.local?f:e}function tb(a){return new RegExp(""(?:^|\\s+)""+d3.requote(a)+""(?:\\s+|$)"",""g"")}function ub(a,b){function c(){var c=-1;while(++c<e)a[c](this,b)}function d(){var c=-1,d=b.apply(this,arguments);while(++c<e)a[c](this,d)}a=a.trim().split(/\s+/).map(vb);var e=a.length;return typeof b==""function""?d:c}function vb(a){var b=tb(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.className,f=e.baseVal!=null,g=f?e.baseVal:e;d?(b.lastIndex=0,b.test(g)||(g=m(g+"" ""+a),f?e.baseVal=g:c.className=g)):g&&(g=m(g.replace(b,"" "")),f?e.baseVal=g:c.className=g)}}function wb(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);d==null?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return b==null?d:typeof b==""function""?f:e}function xb(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);c==null?delete this[a]:this[a]=c}return b==null?c:typeof b==""function""?e:d}function yb(a){return{__data__:a}}function zb(a){return function(){return Td(this,a)}}function Ab(a){return arguments.length||(a=d3.ascending),function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function Bb(a,b,c){function d(){var b=this[f];b&&(this.removeEventListener(a,b,b.$),delete this[f])}function e(){function e(a){var c=d3.event;d3.event=a,h[0]=g.__data__;try{b.apply(g,h)}finally{d3.event=c}}var g=this,h=od(arguments);d.call(this),this.addEventListener(a,this[f]=e,e.$=c),e._=b}var f=""__on""+a,g=a.indexOf(""."");return g>0&&(a=a.substring(0,g)),b?e:d}function Cb(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function Db(a){return qd(a,Wd),a}function Eb(a,b){return qd(a,Xd),a.id=b,a}function Fb(a,b,c,d){var e=a.__transition__||(a.__transition__={active:0,count:0}),g=e[c];if(!g){var h=d.time;return g=e[c]={tween:new f,event:d3.dispatch(""start"",""end""),time:h,ease:d.ease,delay:d.delay,duration:d.duration},++e.count,d3.timer(function(d){function f(d){return e.active>c?j():(e.active=c,m.start.call(a,k,b),g.tween.forEach(function(c,d){(d=d.call(a,k,b))&&p.push(d)}),i(d)||d3.timer(i,0,h),1)}function i(d){if(e.active!==c)return j();var f=(d-n)/o,g=l(f),h=p.length;while(h>0)p[--h].call(a,g);if(f>=1)return j(),m.end.call(a,k,b),1}function j(){return--e.count?delete e[c]:delete a.__transition__,1}var k=a.__data__,l=g.ease,m=g.event,n=g.delay,o=g.duration,p=[];return n<=d?f(d):d3.timer(f,n,h),1},0,h),g}}function Gb(a){return a==null&&(a=""""),function(){this.textContent=a}}function Hb(a,b,c,d){var e=a.id;return Cb(a,typeof c==""function""?function(a,f,g){a.__transition__[e].tween.set(b,d(c.call(a,a.__data__,f,g)))}:(c=d(c),function(a){a.__transition__[e].tween.set(b,c)}))}function Ib(){var a,b=Date.now(),c=be;while(c)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;var d=Jb()-b;d>24?(isFinite(d)&&(clearTimeout(de),de=setTimeout(Ib,d)),ce=0):(ce=1,ee(Ib))}function Jb(){var a=null,b=be,c=Infinity;while(b)b.flush?(delete ae[b.callback.id],b=a?a.next=b.next:be=b.next):(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}function Kb(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(fe<0&&(window.scrollX||window.scrollY)){c=d3.select(document.body).append(""svg"").style(""position"",""absolute"").style(""top"",0).style(""left"",0);var e=c[0][0].getScreenCTM();fe=!e.f&&!e.e,c.remove()}return fe?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var f=a.getBoundingClientRect();return[b.clientX-f.left-a.clientLeft,b.clientY-f.top-a.clientTop]}function Lb(){}function Mb(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function Nb(a){return a.rangeExtent?a.rangeExtent():Mb(a.range())}function Ob(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);if(b=b(f-e))a[c]=b.floor(e),a[d]=b.ceil(f);return a}function Pb(){return Math}function Qb(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Xb:Wb,i=d?U:T;return g=e(a,b,i,c),h=e(b,a,i,d3.interpolate),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(d3.interpolateRound)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return Ub(a,b)},f.tickFormat=function(b){return Vb(a,b)},f.nice=function(){return Ob(a,Sb),e()},f.copy=function(){return Qb(a,b,c,d)},e()}function Rb(a,b){return d3.rebind(a,b,""range"",""rangeRound"",""interpolate"",""clamp"")}function Sb(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),a&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function Tb(a,b){var c=Mb(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+e*.5,c[2]=e,c}function Ub(a,b){return d3.range.apply(d3,Tb(a,b))}function Vb(a,b){return d3.format("",.""+Math.max(0,-Math.floor(Math.log(Tb(a,b)[2])/Math.LN10+.01))+""f"")}function Wb(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Xb(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());while(++g<=h)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=d3.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Yb(a,b){function c(c){return a(b(c))}var d=b.pow;return c.invert=function(b){return d(a.invert(b))},c.domain=function(e){return arguments.length?(b=e[0]<0?$b:Zb,d=b.pow,a.domain(e.map(b)),c):a.domain().map(d)},c.nice=function(){return a.domain(Ob(a.domain(),Pb)),c},c.ticks=function(){var c=Mb(a.domain()),e=[];if(c.every(isFinite)){var f=Math.floor(c[0]),g=Math.ceil(c[1]),h=d(c[0]),i=d(c[1]);if(b===$b){e.push(d(f));for(;f++<g;)for(var j=9;j>0;j--)e.push(d(f)*j)}else{for(;f<g;f++)for(var j=1;j<10;j++)e.push(d(f)*j);e.push(d(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>i;g--);e=e.slice(f,g)}return e},c.tickFormat=function(a,e){arguments.length<2&&(e=ge);if(!arguments.length)return e;var f=Math.max(.1,a/c.ticks().length),g=b===$b?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil),h;return function(a){return a/d(g(b(a)+h))<=f?e(a):""""}},c.copy=function(){return Yb(a.copy(),b)},Rb(c,a)}function Zb(a){return Math.log(a<0?0:a)/Math.LN10}function $b(a){return-Math.log(a>0?0:-a)/Math.LN10}function _b(a,b){function c(b){return a(d(b))}var d=ac(b),e=ac(1/b);return c.invert=function(b){return e(a.invert(b))},c.domain=function(b){return arguments.length?(a.domain(b.map(d)),c):a.domain().map(e)},c.ticks=function(a){return Ub(c.domain(),a)},c.tickFormat=function(a){return Vb(c.domain(),a)},c.nice=function(){return c.domain(Ob(c.domain(),Sb))},c.exponent=function(a){if(!arguments.length)return b;var f=c.domain();return d=ac(b=a),e=ac(1/b),c.domain(f)},c.copy=function(){return _b(a.copy(),b)},Rb(c,a)}function ac(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function bc(a,b){function c(b){return g[((e.get(b)||e.set(b,a.push(b)))-1)%g.length]}function d(b,c){return d3.range(a.length).map(function(a){return b+c*a})}var e,g,h;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new f;var g=-1,h=d.length,i;while(++g<h)e.has(i=d[g])||e.set(i,a.push(i));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(g=a,h=0,b={t:""range"",a:arguments},c):g},c.rangePoints=function(e,f){arguments.length<2&&(f=0);var i=e[0],j=e[1],k=(j-i)/(Math.max(1,a.length-1)+f);return g=d(a.length<2?(i+j)/2:i+k*f/2,k),h=0,b={t:""rangePoints"",a:arguments},c},c.rangeBands=function(e,f,i){arguments.length<2&&(f=0),arguments.length<3&&(i=f);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-f+2*i);return g=d(k+m*i,m),j&&g.reverse(),h=m*(1-f),b={t:""rangeBands"",a:arguments},c},c.rangeRoundBands=function(e,f,i){arguments.length<2&&(f=0),arguments.length<3&&(i=f);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-f+2*i)),n=l-k-(a.length-f)*m;return g=d(k+Math.round(n/2),m),j&&g.reverse(),h=Math.round(m*(1-f)),b={t:""rangeRoundBands"",a:arguments},c},c.rangeBand=function(){return h},c.rangeExtent=function(){return Mb(b.a[0])},c.copy=function(){return bc(a,b)},c.domain(a)}function cc(a,b){function c(){var c=0,f=b.length;e=[];while(++c<f)e[c-1]=d3.quantile(a,c/f);return d}function d(a){return isNaN(a=+a)?NaN:b[d3.bisect(e,a)]}var e;return d.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(d3.ascending),c()):a},d.range=function(a){return arguments.length?(b=a,c()):b},d.quantiles=function(){return e},d.copy=function(){return cc(a,b)},c()}function dc(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.copy=function(){return dc(a,b,c)},e()}function ec(a,b){function c(c){return b[d3.bisect(a,c)]}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.copy=function(){return ec(a,b)},c}function fc(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return Ub(a,b)},b.tickFormat=function(b){return Vb(a,b)},b.copy=function(){return fc(a)},b}function gc(a){var b=a.source,c=a.target,d=ic(b,c),e=[b];while(b!==d)b=b.parent,e.push(b);var f=e.length;while(c!==d)e.splice(f,0,c),c=c.parent;return e}function hc(a){var b=[],c=a.parent;while(c!=null)b.push(a),a=c,c=c.parent;return b.push(a),b}function ic(a,b){if(a===b)return a;var c=hc(a),d=hc(b),e=c.pop(),f=d.pop(),g=null;while(e===f)g=e,e=c.pop(),f=d.pop();return g}function jc(a){a.fixed|=2}function kc(a){a.fixed&=1}function lc(a){a.fixed|=4,a.px=a.x,a.py=a.y}function mc(a){a.fixed&=3}function nc(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf){var f=a.nodes,g=f.length,h=-1,i;while(++h<g){i=f[h];if(i==null)continue;nc(i,b,c),a.charge+=i.charge,d+=i.charge*i.cx,e+=i.charge*i.cy}}if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function oc(){return 20}function pc(){return 1}function qc(a){return a.x}function rc(a){return a.y}function sc(a,b,c){a.y0=b,a.y=c}function tc(a){return d3.range(a.length)}function uc(a){var b=-1,c=a[0].length,d=[];while(++b<c)d[b]=0;return d}function vc(a){var b=1,c=0,d=a[0][1],e,f=a.length;for(;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function wc(a){return a.reduce(xc,0)}function xc(a,b){return a+b[1]}function yc(a,b){return zc(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function zc(a,b){var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];while(++c<=b)f[c]=e*c+d;return f}function Ac(a){return[d3.min(a),d3.max(a)]}function Bc(a,b){return d3.rebind(a,b,""sort"",""children"",""value""),a.nodes=a,a.links=Fc,a}function Cc(a){return a.children}function Dc(a){return a.value}function Ec(a,b){return b.value-a.value}function Fc(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function Gc(a,b){return a.value-b.value}function Hc(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function Ic(a,b){a._pack_next=b,b._pack_prev=a}function Jc(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-c*c-d*d>.001}function Kc(a){function b(a){d=Math.min(a.x-a.r,d),e=Math.max(a.x+a.r,e),f=Math.min(a.y-a.r,f),g=Math.max(a.y+a.r,g)}if(!(c=a.children)||!(n=c.length))return;var c,d=Infinity,e=-Infinity,f=Infinity,g=-Infinity,h,i,j,k,l,m,n;c.forEach(Lc),h=c[0],h.x=-h.r,h.y=0,b(h);if(n>1){i=c[1],i.x=i.r,i.y=0,b(i);if(n>2){j=c[2],Oc(h,i,j),b(j),Hc(h,j),h._pack_prev=j,Hc(j,i),i=h._pack_next;for(k=3;k<n;k++){Oc(h,i,j=c[k]);var o=0,p=1,q=1;for(l=i._pack_next;l!==i;l=l._pack_next,p++)if(Jc(l,j)){o=1;break}if(o==1)for(m=h._pack_prev;m!==l._pack_prev;m=m._pack_prev,q++)if(Jc(m,j))break;o?(p<q||p==q&&i.r<h.r?Ic(h,i=l):Ic(h=m,i),k--):(Hc(h,j),i=j,b(j))}}}var r=(d+e)/2,s=(f+g)/2,t=0;for(k=0;k<n;k++)j=c[k],j.x-=r,j.y-=s,t=Math.max(t,j.r+Math.sqrt(j.x*j.x+j.y*j.y));a.r=t,c.forEach(Mc)}function Lc(a){a._pack_next=a._pack_prev=a}function Mc(a){delete a._pack_next,delete a._pack_prev}function Nc(a,b,c,d){var e=a.children;a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d;if(e){var f=-1,g=e.length;while(++f<g)Nc(e[f],b,c,d)}}function Oc(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Pc(a){return 1+d3.max(a,function(a){return a.y})}function Qc(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Rc(a){var b=a.children;return b&&b.length?Rc(b[0]):a}function Sc(a){var b=a.children,c;return b&&(c=b.length)?Sc(b[c-1]):a}function Tc(a,b){return a.parent==b.parent?1:2}function Uc(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function Vc(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread}function Wc(a,b){var c=a.children;if(c&&(e=c.length)){var d,e,f=-1;while(++f<e)b(d=Wc(c[f],b),a)>0&&(a=d)}return a}function Xc(a,b){return a.x-b.x}function Yc(a,b){return b.x-a.x}function Zc(a,b){return a.depth-b.depth}function $c(a,b){function c(a,d){var e=a.children;if(e&&(i=e.length)){var f,g=null,h=-1,i;while(++h<i)f=e[h],c(f,g),g=f}b(a,d)}c(a,null)}function _c(a){var b=0,c=0,d=a.children,e=d.length,f;while(--e>=0)f=d[e]._tree,f.prelim+=b,f.mod+=b,b+=f.shift+(c+=f.change)}function ad(a,b,c){a=a._tree,b=b._tree;var d=c/(b.number-a.number);a.change+=d,b.change-=d,b.shift+=c,b.prelim+=c,b.mod+=c}function bd(a,b,c){return a._tree.ancestor.parent==b.parent?a._tree.ancestor:c}function cd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function dd(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}var ed=""."",fd="","",gd=[3,3];Date.now||(Date.now=function(){return+(new Date)});try{document.createElement(""div"").style.setProperty(""opacity"",0,"""")}catch(hd){var id=CSSStyleDeclaration.prototype,jd=id.setProperty;id.setProperty=function(a,b,c){jd.call(this,a,b+"""",c)}}d3={version:""3.0.2""};var kd=Math.PI,ld=1e-6,md=kd/180,nd=180/kd,od=e;try{od(document.documentElement.childNodes)[0].nodeType}catch(pd){od=d}var qd=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};d3.map=function(a){var b=new f;for(var c in a)b.set(c,a[c]);return b},c(f,{has:function(a){return rd+a in this},get:function(a){return this[rd+a]},set:function(a,b){return this[rd+a]=b},remove:function(a){return a=rd+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(a){for(var b in this)b.charCodeAt(0)===sd&&a.call(this,b.substring(1),this[b])}});var rd=""\0"",sd=rd.charCodeAt(0);d3.functor=i,d3.rebind=function(a,b){var c=1,d=arguments.length,e;while(++c<d)a[e=arguments[c]]=j(a,b,b[e]);return a},d3.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.mean=function(a,b){var c=a.length,d,e=0,f=-1,g=0;if(arguments.length===1)while(++f<c)k(d=a[f])&&(e+=(d-e)/++g);else while(++f<c)k(d=b.call(a,a[f],f))&&(e+=(d-e)/++g);return g?e:undefined},d3.median=function(a,b){return arguments.length>1&&(a=a.map(b)),a=a.filter(k),a.length?d3.quantile(a.sort(d3.ascending),.5):undefined},d3.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&e>f&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&e>f&&(e=f)}return e},d3.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&f>e&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&f>e&&(e=f)}return e},d3.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){while(++c<d&&((e=g=a[c])==null||e!=e))e=g=undefined;while(++c<d)(f=a[c])!=null&&(e>f&&(e=f),g<f&&(g=f))}else{while(++c<d&&((e=g=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]},d3.random={normal:function(a,b){var c=arguments.length;return c<2&&(b=1),c<1&&(a=0),function(){var c,d,e;do c=Math.random()*2-1,d=Math.random()*2-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(a,b){var c=arguments.length;c<2&&(b=1),c<1&&(a=0);var d=d3.random.normal();return function(){return Math.exp(a+b*d())}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b/a}}},d3.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1)while(++f<d)isNaN(e=+a[f])||(c+=e);else while(++f<d)isNaN(e=+b.call(a,a[f],f))||(c+=e);return c},d3.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},d3.shuffle=function(a){var b=a.length,c,d;while(b)d=Math.random()*b--|0,c=a[b],a[b]=a[d],a[d]=c;return a},d3.transpose=function(a){return d3.zip.apply(d3,a)},d3.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=d3.min(arguments,l),c=new Array(b);++a<b;)for(var d=-1,e,f=c[a]=new Array(e);++d<e;)f[d]=arguments[d][a];return c},d3.bisector=function(a){return{left:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>>1;a.call(b,b[f],f)<c?d=f+1:e=f}return d},right:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>>1;c<a.call(b,b[f],f)?e=f:d=f+1}return d}}};var td=d3.bisector(function(a){return a});d3.bisectLeft=td.left,d3.bisect=d3.bisectRight=td.right,d3.nest=function(){function a(b,e){if(e>=d.length)return h?h.call(c,b):g?b.sort(g):b;var i=-1,j=b.length,k=d[e++],l,m,n=new f,o,p={};while(++i<j)(o=n.get(l=k(m=b[i])))?o.push(m):n.set(l,[m]);return n.forEach(function(b,c){p[b]=a(c,e)}),p}function b(a,c){if(c>=d.length)return a;var f=[],g=e[c++],h;for(h in a)f.push({key:h,values:b(a[h],c)});return g&&f.sort(function(a,b){return g(a.key,b.key)}),f}var c={},d=[],e=[],g,h;return c.map=function(b){return a(b,0)},c.entries=function(c){return b(a(c,0),0)},c.key=function(a){return d.push(a),c},c.sortKeys=function(a){return e[d.length-1]=a,c},c.sortValues=function(a){return g=a,c},c.rollup=function(a){return h=a,c},c},d3.keys=function(a){var b=[];for(var c in a)b.push(c);return b},d3.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},d3.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},d3.permute=function(a,b){var c=[],d=-1,e=b.length;while(++d<e)c[d]=a[b[d]];return c},d3.merge=function(a){return Array.prototype.concat.apply([],a)},d3.range=function(a,b,c){arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));if((b-a)/c===Infinity)throw new Error(""infinite range"");var d=[],e=n(Math.abs(c)),f=-1,g;a*=e,b*=e,c*=e;if(c<0)while((g=a+c*++f)>b)d.push(g/e);else while((g=a+c*++f)<b)d.push(g/e);return d},d3.requote=function(a){return a.replace(ud,""\\$&"")};var ud=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)},d3.xhr=function(a,b,c){function d(){var a=j.status;!a&&j.responseText||a>=200&&a<300||a===304?f.load.call(e,i.call(e,j)):f.error.call(e,j)}var e={},f=d3.dispatch(""progress"",""load"",""error""),h={},i=g,j=new(window.XDomainRequest&&/^(http(s)?:)?\/\//.test(a)?XDomainRequest:XMLHttpRequest);return""onload""in j?j.onload=j.onerror=d:j.onreadystatechange=function(){j.readyState>3&&d()},j.onprogress=function(a){var b=d3.event;d3.event=a;try{f.progress.call(e,j)}finally{d3.event=b}},e.header=function(a,b){return a=(a+"""").toLowerCase(),arguments.length<2?h[a]:(b==null?delete h[a]:h[a]=b+"""",e)},e.mimeType=function(a){return arguments.length?(b=a==null?null:a+"""",e):b},e.response=function(a){return i=a,e},[""get"",""post""].forEach(function(a){e[a]=function(){return e.send.apply(e,[a].concat(od(arguments)))}}),e.send=function(c,d,f){arguments.length===2&&typeof d==""function""&&(f=d,d=null),j.open(c,a,!0),b!=null&&!(""accept""in h)&&(h.accept=b+"",*/*"");if(j.setRequestHeader)for(var g in h)j.setRequestHeader(g,h[g]);return b!=null&&j.overrideMimeType&&j.overrideMimeType(b),f!=null&&e.on(""error"",f).on(""load"",function(a){f(null,a)}),j.send(d==null?null:d),e},e.abort=function(){return j.abort(),e},d3.rebind(e,f,""on""),arguments.length===2&&typeof b==""function""&&(c=b,b=null),c==null?e:e.get(o(c))},d3.text=function(){return d3.xhr.apply(d3,arguments).response(p)},d3.json=function(a,b){return d3.xhr(a,""application/json"",b).response(q)},d3.html=function(a,b){return d3.xhr(a,""text/html"",b).response(r)},d3.xml=function(){return d3.xhr.apply(d3,arguments).response(s)};var vd={svg:""http://www.w3.org/2000/svg"",xhtml:""http://www.w3.org/1999/xhtml"",xlink:""http://www.w3.org/1999/xlink"",xml:""http://www.w3.org/XML/1998/namespace"",xmlns:""http://www.w3.org/2000/xmlns/""};d3.ns={prefix:vd,qualify:function(a){var b=a.indexOf("":""),c=a;return b>=0&&(c=a.substring(0,b),a=a.substring(b+1)),vd.hasOwnProperty(c)?{space:vd[c],local:a}:a}},d3.dispatch=function(){var a=new t,b=-1,c=arguments.length;while(++b<c)a[arguments[b]]=u(a);return a},t.prototype.on=function(a,b){var c=a.indexOf("".""),d="""";return c>0&&(d=a.substring(c+1),a=a.substring(0,c)),arguments.length<2?this[a].on(d):this[a].on(d,b)},d3.format=function(a){var b=wd.exec(a),c=b[1]||"" "",d=b[2]||"">"",e=b[3]||"""",f=b[4]||"""",g=b[5],h=+b[6],i=b[7],j=b[8],k=b[9],l=1,m="""",n=!1;j&&(j=+j.substring(1));if(g||c===""0""&&d===""="")g=c=""0"",d=""="",i&&(h-=Math.floor((h-1)/4));switch(k){case""n"":i=!0,k=""g"";break;case""%"":l=100,m=""%"",k=""f"";break;case""p"":l=100,m=""%"",k=""r"";break;case""b"":case""o"":case""x"":case""X"":f&&(f=""0""+k.toLowerCase());case""c"":case""d"":n=!0,j=0;break;case""s"":l=-1,k=""r""}f===""#""&&(f=""""),k==""r""&&!j&&(k=""g""),k=xd.get(k)||w;var o=g&&i;return function(a){if(n&&a%1)return"""";var b=a<0||a===0&&1/a<0?(a=-a,""-""):e;if(l<0){var p=d3.formatPrefix(a,j);a=p.scale(a),m=p.symbol}else a*=l;a=k(a,j),!g&&i&&(a=yd(a));var q=f.length+a.length+(o?0:b.length),r=q<h?(new Array(q=h-q+1)).join(c):"""";return o&&(a=yd(r+a)),ed&&a.replace(""."",ed),b+=f,(d===""<""?b+a+r:d==="">""?r+b+a:d===""^""?r.substring(0,q>>=1)+b+a+r.substring(q):b+(o?a:r+a))+m}};var wd=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,xd=d3.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return d3.round(a,b=v(a,b)).toFixed(Math.max(0,Math.min(20,b)))}}),yd=g;if(gd){var zd=gd.length;yd=function(a){var b=a.lastIndexOf("".""),c=b>=0?"".""+a.substring(b+1):(b=a.length,""""),d=[],e=0,f=gd[0];while(b>0&&f>0)d.push(a.substring(b-=f,b+f)),f=gd[e=(e+1)%zd];return d.reverse().join(fd||"""")+c}}var Ad=[""y"",""z"",""a"",""f"",""p"",""n"",""Î¼"",""m"","""",""k"",""M"",""G"",""T"",""P"",""E"",""Z"",""Y""].map(x);d3.formatPrefix=function(a,b){var c=0;return a&&(a<0&&(a*=-1),b&&(a=d3.round(a,v(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,Math.floor((c<=0?c+1:c-1)/3)*3))),Ad[8+c/3]};var Bd=function(){return g},Cd=d3.map({linear:Bd,poly:E,quad:function(){return B},cubic:function(){return C},sin:function(){return F},exp:function(){return G},circle:function(){return H},elastic:I,back:J,bounce:function(){return K}}),Dd=d3.map({""in"":g,out:z,""in-out"":A,""out-in"":function(a){return A(z(a))}});d3.ease=function(a){var b=a.indexOf(""-""),c=b>=0?a.substring(0,b):a,d=b>=0?a.substring(b+1):""in"";return c=Cd.get(c)||Bd,d=Dd.get(d)||g,y(d(c.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(a){var b=document.createElementNS(d3.ns.prefix.svg,""g"");return(d3.transform=function(a){b.setAttribute(""transform"",a);var c=b.transform.baseVal.consolidate();return new O(c?c.matrix:Ed)})(a)},O.prototype.toString=function(){return""translate(""+this.translate+"")rotate(""+this.rotate+"")skewX(""+this.skew+"")scale(""+this.scale+"")""};var Ed={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(a,b){var c=d3.interpolators.length,d;while(--c>=0&&!(d=d3.interpolators[c](a,b)));return d},d3.interpolateNumber=function(a,b){return b-=a,function(c){return a+b*c}},d3.interpolateRound=function(a,b){return b-=a,function(c){return Math.round(a+b*c)}},d3.interpolateString=function(a,b){var c,d,e,f=0,g=0,h=[],i=[],j,k;Fd.lastIndex=0;for(d=0;c=Fd.exec(b);++d)c.index&&h.push(b.substring(f,g=c.index)),i.push({i:h.length,x:c[0]}),h.push(null),f=Fd.lastIndex;f<b.length&&h.push(b.substring(f));for(d=0,j=i.length;(c=Fd.exec(a))&&d<j;++d){k=i[d];if(k.x==c[0]){if(k.i)if(h[k.i+1]==null){h[k.i-1]+=k.x,h.splice(k.i,1);for(e=d+1;e<j;++e)i[e].i--}else{h[k.i-1]+=k.x+h[k.i+1],h.splice(k.i,2);for(e=d+1;e<j;++e)i[e].i-=2}else if(h[k.i+1]==null)h[k.i]=k.x;else{h[k.i]=k.x+h[k.i+1],h.splice(k.i+1,1);for(e=d+1;e<j;++e)i[e].i--}i.splice(d,1),j--,d--}else k.x=d3.interpolateNumber(parseFloat(c[0]),parseFloat(k.x))}while(d<j)k=i.pop(),h[k.i+1]==null?h[k.i]=k.x:(h[k.i]=k.x+h[k.i+1],h.splice(k.i+1,1)),j--;return h.length===1?h[0]==null?i[0].x:function(){return b}:function(a){for(d=0;d<j;++d)h[(k=i[d]).i]=k.x(a);return h.join("""")}},d3.interpolateTransform=function(a,b){var c=[],d=[],e,f=d3.transform(a),g=d3.transform(b),h=f.translate,i=g.translate,j=f.rotate,k=g.rotate,l=f.skew,m=g.skew,n=f.scale,o=g.scale;return h[0]!=i[0]||h[1]!=i[1]?(c.push(""translate("",null,"","",null,"")""),d.push({i:1,x:d3.interpolateNumber(h[0],i[0])},{i:3,x:d3.interpolateNumber(h[1],i[1])})):i[0]|| i[1]?c.push(""translate(""+i+"")""):c.push(""""),j!=k?(j-k>180?k+=360:k-j>180&&(j+=360),d.push({i:c.push(c.pop()+""rotate("",null,"")"")-2,x:d3.interpolateNumber(j,k)})):k&&c.push(c.pop()+""rotate(""+k+"")""),l!=m?d.push({i:c.push(c.pop()+""skewX("",null,"")"")-2,x:d3.interpolateNumber(l,m)}):m&&c.push(c.pop()+""skewX(""+m+"")""),n[0]!=o[0]||n[1]!=o[1]?(e=c.push(c.pop()+""scale("",null,"","",null,"")""),d.push({i:e-4,x:d3.interpolateNumber(n[0],o[0])},{i:e-2,x:d3.interpolateNumber(n[1],o[1])})):(o[0]!=1||o[1]!=1)&&c.push(c.pop()+""scale(""+o+"")""),e=d.length,function(a){var b=-1,f;while(++b<e)c[(f=d[b]).i]=f.x(a);return c.join("""")}},d3.interpolateRgb=function(a,b){a=d3.rgb(a),b=d3.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return""#""+Y(Math.round(c+f*a))+Y(Math.round(d+g*a))+Y(Math.round(e+h*a))}},d3.interpolateHsl=function(a,b){a=d3.hsl(a),b=d3.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return f>180?f-=360:f<-180&&(f+=360),function(a){return eb(c+f*a,d+g*a,e+h*a)+""""}},d3.interpolateLab=function(a,b){a=d3.lab(a),b=d3.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return kb(c+f*a,d+g*a,e+h*a)+""""}},d3.interpolateHcl=function(a,b){a=d3.hcl(a),b=d3.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return f>180?f-=360:f<-180&&(f+=360),function(a){return hb(c+f*a,d+g*a,e+h*a)+""""}},d3.interpolateArray=function(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(d3.interpolate(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}},d3.interpolateObject=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=S(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var Fd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(a,b){return b instanceof Array&&d3.interpolateArray(a,b)},function(a,b){return(typeof a==""string""||typeof b==""string"")&&d3.interpolateString(a+"""",b+"""")},function(a,b){return(typeof b==""string""?Hd.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof V)&&d3.interpolateRgb(a,b)},function(a,b){return!isNaN(a=+a)&&!isNaN(b=+b)&&d3.interpolateNumber(a,b)}],V.prototype.toString=function(){return this.rgb()+""""},d3.rgb=function(a,b,c){return arguments.length===1?a instanceof X?W(a.r,a.g,a.b):Z(""""+a,W,eb):W(~~a,~~b,~~c)};var Gd=X.prototype=new V;Gd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return!b&&!c&&!d?W(e,e,e):(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),W(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a))))},Gd.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),W(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},Gd.hsl=function(){return $(this.r,this.g,this.b)},Gd.toString=function(){return""#""+Y(this.r)+Y(this.g)+Y(this.b)};var Hd=d3.map({aliceblue:""#f0f8ff"",antiquewhite:""#faebd7"",aqua:""#00ffff"",aquamarine:""#7fffd4"",azure:""#f0ffff"",beige:""#f5f5dc"",bisque:""#ffe4c4"",black:""#000000"",blanchedalmond:""#ffebcd"",blue:""#0000ff"",blueviolet:""#8a2be2"",brown:""#a52a2a"",burlywood:""#deb887"",cadetblue:""#5f9ea0"",chartreuse:""#7fff00"",chocolate:""#d2691e"",coral:""#ff7f50"",cornflowerblue:""#6495ed"",cornsilk:""#fff8dc"",crimson:""#dc143c"",cyan:""#00ffff"",darkblue:""#00008b"",darkcyan:""#008b8b"",darkgoldenrod:""#b8860b"",darkgray:""#a9a9a9"",darkgreen:""#006400"",darkgrey:""#a9a9a9"",darkkhaki:""#bdb76b"",darkmagenta:""#8b008b"",darkolivegreen:""#556b2f"",darkorange:""#ff8c00"",darkorchid:""#9932cc"",darkred:""#8b0000"",darksalmon:""#e9967a"",darkseagreen:""#8fbc8f"",darkslateblue:""#483d8b"",darkslategray:""#2f4f4f"",darkslategrey:""#2f4f4f"",darkturquoise:""#00ced1"",darkviolet:""#9400d3"",deeppink:""#ff1493"",deepskyblue:""#00bfff"",dimgray:""#696969"",dimgrey:""#696969"",dodgerblue:""#1e90ff"",firebrick:""#b22222"",floralwhite:""#fffaf0"",forestgreen:""#228b22"",fuchsia:""#ff00ff"",gainsboro:""#dcdcdc"",ghostwhite:""#f8f8ff"",gold:""#ffd700"",goldenrod:""#daa520"",gray:""#808080"",green:""#008000"",greenyellow:""#adff2f"",grey:""#808080"",honeydew:""#f0fff0"",hotpink:""#ff69b4"",indianred:""#cd5c5c"",indigo:""#4b0082"",ivory:""#fffff0"",khaki:""#f0e68c"",lavender:""#e6e6fa"",lavenderblush:""#fff0f5"",lawngreen:""#7cfc00"",lemonchiffon:""#fffacd"",lightblue:""#add8e6"",lightcoral:""#f08080"",lightcyan:""#e0ffff"",lightgoldenrodyellow:""#fafad2"",lightgray:""#d3d3d3"",lightgreen:""#90ee90"",lightgrey:""#d3d3d3"",lightpink:""#ffb6c1"",lightsalmon:""#ffa07a"",lightseagreen:""#20b2aa"",lightskyblue:""#87cefa"",lightslategray:""#778899"",lightslategrey:""#778899"",lightsteelblue:""#b0c4de"",lightyellow:""#ffffe0"",lime:""#00ff00"",limegreen:""#32cd32"",linen:""#faf0e6"",magenta:""#ff00ff"",maroon:""#800000"",mediumaquamarine:""#66cdaa"",mediumblue:""#0000cd"",mediumorchid:""#ba55d3"",mediumpurple:""#9370db"",mediumseagreen:""#3cb371"",mediumslateblue:""#7b68ee"",mediumspringgreen:""#00fa9a"",mediumturquoise:""#48d1cc"",mediumvioletred:""#c71585"",midnightblue:""#191970"",mintcream:""#f5fffa"",mistyrose:""#ffe4e1"",moccasin:""#ffe4b5"",navajowhite:""#ffdead"",navy:""#000080"",oldlace:""#fdf5e6"",olive:""#808000"",olivedrab:""#6b8e23"",orange:""#ffa500"",orangered:""#ff4500"",orchid:""#da70d6"",palegoldenrod:""#eee8aa"",palegreen:""#98fb98"",paleturquoise:""#afeeee"",palevioletred:""#db7093"",papayawhip:""#ffefd5"",peachpuff:""#ffdab9"",peru:""#cd853f"",pink:""#ffc0cb"",plum:""#dda0dd"",powderblue:""#b0e0e6"",purple:""#800080"",red:""#ff0000"",rosybrown:""#bc8f8f"",royalblue:""#4169e1"",saddlebrown:""#8b4513"",salmon:""#fa8072"",sandybrown:""#f4a460"",seagreen:""#2e8b57"",seashell:""#fff5ee"",sienna:""#a0522d"",silver:""#c0c0c0"",skyblue:""#87ceeb"",slateblue:""#6a5acd"",slategray:""#708090"",slategrey:""#708090"",snow:""#fffafa"",springgreen:""#00ff7f"",steelblue:""#4682b4"",tan:""#d2b48c"",teal:""#008080"",thistle:""#d8bfd8"",tomato:""#ff6347"",turquoise:""#40e0d0"",violet:""#ee82ee"",wheat:""#f5deb3"",white:""#ffffff"",whitesmoke:""#f5f5f5"",yellow:""#ffff00"",yellowgreen:""#9acd32""});Hd.forEach(function(a,b){Hd.set(a,Z(b,W,eb))}),d3.hsl=function(a,b,c){return arguments.length===1?a instanceof db?cb(a.h,a.s,a.l):Z(""""+a,$,cb):cb(+a,+b,+c)};var Id=db.prototype=new V;Id.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),cb(this.h,this.s,this.l/a)},Id.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),cb(this.h,this.s,a*this.l)},Id.rgb=function(){return eb(this.h,this.s,this.l)},d3.hcl=function(a,b,c){return arguments.length===1?a instanceof gb?fb(a.h,a.c,a.l):a instanceof jb?lb(a.l,a.a,a.b):lb((a=_((a=d3.rgb(a)).r,a.g,a.b)).l,a.a,a.b):fb(+a,+b,+c)};var Jd=gb.prototype=new V;Jd.brighter=function(a){return fb(this.h,this.c,Math.min(100,this.l+Kd*(arguments.length?a:1)))},Jd.darker=function(a){return fb(this.h,this.c,Math.max(0,this.l-Kd*(arguments.length?a:1)))},Jd.rgb=function(){return hb(this.h,this.c,this.l).rgb()},d3.lab=function(a,b,c){return arguments.length===1?a instanceof jb?ib(a.l,a.a,a.b):a instanceof gb?hb(a.l,a.c,a.h):_((a=d3.rgb(a)).r,a.g,a.b):ib(+a,+b,+c)};var Kd=18,Ld=.95047,Md=1,Nd=1.08883,Od=jb.prototype=new V;Od.brighter=function(a){return ib(Math.min(100,this.l+Kd*(arguments.length?a:1)),this.a,this.b)},Od.darker=function(a){return ib(Math.max(0,this.l-Kd*(arguments.length?a:1)),this.a,this.b)},Od.rgb=function(){return kb(this.l,this.a,this.b)};var Pd=function(a,b){return b.querySelector(a)},Qd=function(a,b){return b.querySelectorAll(a)},Rd=document.documentElement,Sd=Rd.matchesSelector||Rd.webkitMatchesSelector||Rd.mozMatchesSelector||Rd.msMatchesSelector||Rd.oMatchesSelector,Td=function(a,b){return Sd.call(a,b)};typeof Sizzle==""function""&&(Pd=function(a,b){return Sizzle(a,b)[0]||null},Qd=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},Td=Sizzle.matchesSelector);var Ud=[];d3.selection=function(){return Vd},d3.selection.prototype=Ud,Ud.select=function(a){var b=[],c,d,e,f;typeof a!=""function""&&(a=qb(a));for(var g=-1,h=this.length;++g<h;){b.push(c=[]),c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i)),d&&""__data__""in f&&(d.__data__=f.__data__)):c.push(null)}return pb(b)},Ud.selectAll=function(a){var b=[],c,d;typeof a!=""function""&&(a=rb(a));for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)if(d=g[h])b.push(c=od(a.call(d,d.__data__,h))),c.parentNode=d;return pb(b)},Ud.attr=function(a,b){if(arguments.length<2){if(typeof a==""string""){var c=this.node();return a=d3.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(sb(b,a[b]));return this}return this.each(sb(a,b))},Ud.classed=function(a,b){if(arguments.length<2){if(typeof a==""string""){var c=this.node(),d=(a=a.trim().split(/^|\s+/g)).length,e=-1;if(b=c.classList){while(++e<d)if(!b.contains(a[e]))return!1}else{b=c.className,b.baseVal!=null&&(b=b.baseVal);while(++e<d)if(!tb(a[e]).test(b))return!1}return!0}for(b in a)this.each(ub(b,a[b]));return this}return this.each(ub(a,b))},Ud.style=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=""string""){d<2&&(b="""");for(c in a)this.each(wb(c,a[c],b));return this}if(d<2)return getComputedStyle(this.node(),null).getPropertyValue(a);c=""""}return this.each(wb(a,b,c))},Ud.property=function(a,b){if(arguments.length<2){if(typeof a==""string"")return this.node()[a];for(b in a)this.each(xb(b,a[b]));return this}return this.each(xb(a,b))},Ud.text=function(a){return arguments.length?this.each(typeof a==""function""?function(){var b=a.apply(this,arguments);this.textContent=b==null?"""":b}:a==null?function(){this.textContent=""""}:function(){this.textContent=a}):this.node().textContent},Ud.html=function(a){return arguments.length?this.each(typeof a==""function""?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"""":b}:a==null?function(){this.innerHTML=""""}:function(){this.innerHTML=a}):this.node().innerHTML},Ud.append=function(a){function b(){return this.appendChild(document.createElementNS(this.namespaceURI,a))}function c(){return this.appendChild(document.createElementNS(a.space,a.local))}return a=d3.ns.qualify(a),this.select(a.local?c:b)},Ud.insert=function(a,b){function c(){return this.insertBefore(document.createElementNS(this.namespaceURI,a),Pd(b,this))}function d(){return this.insertBefore(document.createElementNS(a.space,a.local),Pd(b,this))}return a=d3.ns.qualify(a),this.select(a.local?d:c)},Ud.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},Ud.data=function(a,b){function c(a,c){var d,e=a.length,g=c.length,h=Math.min(e,g),l=Math.max(e,g),m=[],n=[],o=[],p,q;if(b){var r=new f,s=[],t,u=c.length;for(d=-1;++d<e;)t=b.call(p=a[d],p.__data__,d),r.has(t)?o[u++]=p:r.set(t,p),s.push(t);for(d=-1;++d<g;)t=b.call(c,q=c[d],d),r.has(t)?(m[d]=p=r.get(t),p.__data__=q,n[d]=o[d]=null):(n[d]=yb(q),m[d]=o[d]=null),r.remove(t);for(d=-1;++d<e;)r.has(s[d])&&(o[d]=a[d])}else{for(d=-1;++d<h;)p=a[d],q=c[d],p?(p.__data__=q,m[d]=p,n[d]=o[d]=null):(n[d]=yb(q),m[d]=o[d]=null);for(;d<g;++d)n[d]=yb(c[d]),m[d]=o[d]=null;for(;d<l;++d)o[d]=a[d],n[d]=m[d]=null}n.update=m,n.parentNode=m.parentNode=o.parentNode=a.parentNode,i.push(n),j.push(m),k.push(o)}var d=-1,e=this.length,g,h;if(!arguments.length){a=new Array(e=(g=this[0]).length);while(++d<e)if(h=g[d])a[d]=h.__data__;return a}var i=Db([]),j=pb([]),k=pb([]);if(typeof a==""function"")while(++d<e)c(g=this[d],a.call(g,g.parentNode.__data__,d));else while(++d<e)c(g=this[d],a);return j.enter=function(){return i},j.exit=function(){return k},j},Ud.datum=function(a){return arguments.length?this.property(""__data__"",a):this.property(""__data__"")},Ud.filter=function(a){var b=[],c,d,e;typeof a!=""function""&&(a=zb(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]),c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h)&&c.push(e)}return pb(b)},Ud.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this},Ud.sort=function(a){a=Ab.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Ud.on=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=""string""){d<2&&(b=!1);for(c in a)this.each(Bb(c,a[c],b));return this}if(d<2)return(d=this.node()[""__on""+a])&&d._;c=!1}return this.each(Bb(a,b,c))},Ud.each=function(a){return Cb(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Ud.call=function(a){var b=od(arguments);return a.apply(b[0]=this,b),this},Ud.empty=function(){return!this.node()},Ud.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null},Ud.transition=function(){var a=Zd||++Yd,b=[],c,d,e=Object.create($d);e.time=Date.now();for(var f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],i=-1,j=h.length;++i<j;)(d=h[i])&&Fb(d,i,a,e),c.push(d)}return Eb(b,a)};var Vd=pb([[document]]);Vd[0].parentNode=Rd,d3.select=function(a){return typeof a==""string""?Vd.select(a):pb([[a]])},d3.selectAll=function(a){return typeof a==""string""?Vd.selectAll(a):pb([od(a)])};var Wd=[];d3.selection.enter=Db,d3.selection.enter.prototype=Wd,Wd.append=Ud.append,Wd.insert=Ud.insert,Wd.empty=Ud.empty,Wd.node=Ud.node,Wd.select=function(a){var b=[],c,d,e,f,g;for(var h=-1,i=this.length;++h<i;){e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j)),d.__data__=g.__data__):c.push(null)}return pb(b)};var Xd=[],Yd=0,Zd,$d={ease:D,delay:0,duration:250};Xd.call=Ud.call,Xd.empty=Ud.empty,Xd.node=Ud.node,d3.transition=function(a){return arguments.length?Zd?a.transition():a:Vd.transition()},d3.transition.prototype=Xd,Xd.select=function(a){var b=this.id,c=[],d,e,f;typeof a!=""function""&&(a=qb(a));for(var g=-1,h=this.length;++g<h;){c.push(d=[]);for(var i=this[g],j=-1,k=i.length;++j<k;)(f=i[j])&&(e=a.call(f,f.__data__,j))?(""__data__""in f&&(e.__data__=f.__data__),Fb(e,j,b,f.__transition__[b]),d.push(e)):d.push(null)}return Eb(c,b)},Xd.selectAll=function(a){var b=this.id,c=[],d,e,f,g,h;typeof a!=""function""&&(a=rb(a));for(var i=-1,j=this.length;++i<j;)for(var k=this[i],l=-1,m=k.length;++l<m;)if(f=k[l]){h=f.__transition__[b],e=a.call(f,f.__data__,l),c.push(d=[]);for(var n=-1,o=e.length;++n<o;)Fb(g=e[n],n,b,h),d.push(g)}return Eb(c,b)},Xd.filter=function(a){var b=[],c,d,e;typeof a!=""function""&&(a=zb(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);for(var d=this[f],h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h)&&c.push(e)}return Eb(b,this.id,this.time).ease(this.ease())},Xd.attr=function(a,b){function c(){this.removeAttribute(f)}function d(){this.removeAttributeNS(f.space,f.local)}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var e=S(a),f=d3.ns.qualify(a);return Hb(this,""attr.""+a,b,function(a){function b(){var b=this.getAttribute(f),c;return b!==a&&(c=e(b,a),function(a){this.setAttribute(f,c(a))})}function g(){var b=this.getAttributeNS(f.space,f.local),c;return b!==a&&(c=e(b,a),function(a){this.setAttributeNS(f.space,f.local,c(a))})}return a==null?f.local?d:c:(a+="""",f.local?g:b)})},Xd.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=d3.ns.qualify(a);return this.tween(""attr.""+a,e.local?d:c)},Xd.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(e<3){if(typeof a!=""string""){e<2&&(b="""");for(c in a)this.style(c,a[c],b);return this}c=""""}var f=S(a);return Hb(this,""style.""+a,b,function(b){function e(){var d=getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=f(d,b),function(b){this.style.setProperty(a,e(b),c)})}return b==null?d:(b+="""",e)})},Xd.styleTween=function(a,b,c){return arguments.length<3&&(c=""""),this.tween(""style.""+a,function(d,e){var f=b.call(this,d,e,getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})},Xd.text=function(a){return Hb(this,""text"",a,Gb)},Xd.remove=function(){return this.each(""end.transition"",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},Xd.ease=function(a){var b=this.id;return arguments.length<1?this.node().__transition__[b].ease:(typeof a!=""function""&&(a=d3.ease.apply(d3,arguments)),Cb(this,function(c){c.__transition__[b].ease=a}))},Xd.delay=function(a){var b=this.id;return Cb(this,typeof a==""function""?function(c,d,e){c.__transition__[b].delay=a.call(c,c.__data__,d,e)|0}:(a|=0,function(c){c.__transition__[b].delay=a}))},Xd.duration=function(a){var b=this.id;return Cb(this,typeof a==""function""?function(c,d,e){c.__transition__[b].duration=Math.max(1,a.call(c,c.__data__,d,e)|0)}:(a=Math.max(1,a|0),function(c){c.__transition__[b].duration=a}))},Xd.each=function(a,b){var c=this.id;if(arguments.length<2){var d=$d,e=Zd;Zd=c,Cb(this,function(b,d,e){$d=b.__transition__[c],a.call(b,b.__data__,d,e)}),$d=d,Zd=e}else Cb(this,function(d){d.__transition__[c].event.on(a,b)});return this},Xd.transition=function(){var a=this.id,b=++Yd,c=[],d,e,f,g;for(var h=0,i=this.length;h<i;h++){c.push(d=[]);for(var e=this[h],j=0,k=e.length;j<k;j++){if(f=e[j])g=Object.create(f.__transition__[a]),g.delay+=g.duration,Fb(f,j,b,g);d.push(f)}}return Eb(c,b)},Xd.tween=function(a,b){var c=this.id;return arguments.length<2?this.node().__transition__[c].tween.get(a):Cb(this,b==null?function(b){b.__transition__[c].tween.remove(a)}:function(d){d.__transition__[c].tween.set(a,b)})};var _d=0,ae={},be=null,ce,de;d3.timer=function(a,b,c){if(arguments.length<3){if(arguments.length<2)b=0;else if(!isFinite(b))return;c=Date.now()}var d=ae[a.id];d&&d.callback===a?(d.then=c,d.delay=b):ae[a.id=++_d]=be={callback:a,then:c,delay:b,next:be},ce||(de=clearTimeout(de),ce=1,ee(Ib))},d3.timer.flush=function(){var a,b=Date.now(),c=be;while(c)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;Jb()};var ee=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};d3.mouse=function(a){return Kb(a,M())};var fe=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(a,b){return arguments.length<2&&(b=M().touches),b?od(b).map(function(b){var c=Kb(a,b);return c.identifier=b.identifier,c}):[]},d3.scale={},d3.scale.linear=function(){return Qb([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Yb(d3.scale.linear(),Zb)};var ge=d3.format("".0e"");Zb.pow=function(a){return Math.pow(10,a)},$b.pow=function(a){return-Math.pow(10,-a)},d3.scale.pow=function(){return _b(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return bc([],{t:""range"",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(he)},d3.scale.category20=function(){return d3.scale.ordinal().range(ie)},d3.scale.category20b=function(){return d3.scale.ordinal().range(je)},d3.scale.category20c=function(){return d3.scale.ordinal().range(ke)};var he=[""#1f77b4"",""#ff7f0e"",""#2ca02c"",""#d62728"",""#9467bd"",""#8c564b"",""#e377c2"",""#7f7f7f"",""#bcbd22"",""#17becf""],ie=[""#1f77b4"",""#aec7e8"",""#ff7f0e"",""#ffbb78"",""#2ca02c"",""#98df8a"",""#d62728"",""#ff9896"",""#9467bd"",""#c5b0d5"",""#8c564b"",""#c49c94"",""#e377c2"",""#f7b6d2"",""#7f7f7f"",""#c7c7c7"",""#bcbd22"",""#dbdb8d"",""#17becf"",""#9edae5""],je=[""#393b79"",""#5254a3"",""#6b6ecf"",""#9c9ede"",""#637939"",""#8ca252"",""#b5cf6b"",""#cedb9c"",""#8c6d31"",""#bd9e39"",""#e7ba52"",""#e7cb94"",""#843c39"",""#ad494a"",""#d6616b"",""#e7969c"",""#7b4173"",""#a55194"",""#ce6dbd"",""#de9ed6""],ke=[""#3182bd"",""#6baed6"",""#9ecae1"",""#c6dbef"",""#e6550d"",""#fd8d3c"",""#fdae6b"",""#fdd0a2"",""#31a354"",""#74c476"",""#a1d99b"",""#c7e9c0"",""#756bb1"",""#9e9ac8"",""#bcbddc"",""#dadaeb"",""#636363"",""#969696"",""#bdbdbd"",""#d9d9d9""];d3.scale.quantile=function(){return cc([],[])},d3.scale.quantize=function(){return dc(0,1,[0,1])},d3.scale.threshold=function(){return ec([.5],[0,1])},d3.scale.identity=function(){return fc([0,1])},d3.layout={},d3.layout.bundle=function(){return function(a){var b=[],c=-1,d=a.length;while(++c<d)b.push(gc(a[c]));return b}},d3.layout.chord=function(){function a(){var a={},c=[],l=d3.range(g),m=[],n,o,p,q,r;d=[],e=[],n=0,q=-1;while(++q<g){o=0,r=-1;while(++r<g)o+=f[q][r];c.push(o),m.push(d3.range(g)),n+=o}i&&l.sort(function(a,b){return i(c[a],c[b])}),j&&m.forEach(function(a,b){a.sort(function(a,c){return j(f[b][a],f[b][c])})}),n=(2*kd-h*g)/n,o=0,q=-1;while(++q<g){p=o,r=-1;while(++r<g){var s=l[q],t=m[s][r],u=f[s][t],v=o,w=o+=u*n;a[s+""-""+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}e[s]={index:s,startAngle:p,endAngle:o,value:(o-p)/n},o+=h}q=-1;while(++q<g){r=q-1;while(++r<g){var x=a[q+""-""+r],y=a[r+""-""+q];(x.value||y.value)&&d.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}}k&&b()}function b(){d.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,h=0,i,j,k;return c.matrix=function(a){return arguments.length?(g=(f=a)&&f.length,d=e=null,c):f},c.padding=function(a){return arguments.length?(h=a,d=e=null,c):h},c.sortGroups=function(a){return arguments.length?(i=a,d=e=null,c):i},c.sortSubgroups=function(a){return arguments.length?(j=a,d=null,c):j},c.sortChords=function(a){return arguments.length?(k=a,d&&b(),c):k},c.chords=function(){return d||a(),d},c.groups=function(){return e||a(),e},c},d3.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=1/Math.sqrt(f*f+g*g);if((e-c)*h<o){var i=b.charge*h*h;return a.px-=f*i,a.py-=g*i,!0}if(b.point&&isFinite(h)){var i=b.pointCharge*h*h;a.px-=f*i,a.py-=g*i}}return!b.charge}}function b(a){a.px=d3.event.x,a.py=d3.event.y,c.resume()}var c={},d=d3.dispatch(""start"",""tick"",""end""),e=[1,1],f,h,j=.9,k=oc,l=pc,m=-30,n=.1,o=.8,p=[],q=[],r,s,t;return c.tick=function(){if((h*=.99)<.005)return d.end({type:""end"",alpha:h=0}),!0;var b=p.length,c=q.length,f,g,i,k,l,o,u,v,w;for(g=0;g<c;++g){i=q[g],k=i.source,l=i.target,v=l.x-k.x,w=l.y-k.y;if(o=v*v+w*w)o=h*s[g]*((o=Math.sqrt(o))-r[g])/o,v*=o,w*=o,l.x-=v*(u=k.weight/(l.weight+k.weight)),l.y-=w*u,k.x+=v*(u=1-u),k.y+=w*u}if(u=h*n){v=e[0]/2,w=e[1]/2,g=-1;if(u)while(++g<b)i=p[g],i.x+=(v-i.x)*u,i.y+=(w-i.y)*u}if(m){nc(f=d3.geom.quadtree(p),h,t),g=-1;while(++g<b)(i=p[g]).fixed||f.visit(a(i))}g=-1;while(++g<b)i=p[g],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*j,i.y-=(i.py-(i.py=i.y))*j);d.tick({type:""tick"",alpha:h})},c.nodes=function(a){return arguments.length?(p=a,c):p},c.links=function(a){return arguments.length?(q=a,c):q},c.size=function(a){return arguments.length?(e=a,c):e},c.linkDistance=function(a){return arguments.length?(k=i(a),c):k},c.distance=c.linkDistance,c.linkStrength=function(a){return arguments.length?(l=i(a),c):l},c.friction=function(a){return arguments.length?(j=a,c):j},c.charge=function(a){return arguments.length?(m=typeof a==""function""?a:+a,c):m},c.gravity=function(a){return arguments.length?(n=a,c):n},c.theta=function(a){return arguments.length?(o=a,c):o},c.alpha=function(a){return arguments.length?(h?a>0?h=a:h=0:a>0&&(d.start({type:""start"",alpha:h=a}),d3.timer(c.tick)),c):h},c.start=function(){function a(a,c){var e=b(d),f=-1,g=e.length,h;while(++f<g)if(!isNaN(h=e[f][a]))return h;return Math.random()*c}function b(){if(!n){n=[];for(f=0;f<g;++f)n[f]=[];for(f=0;f<h;++f){var a=q[f];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}return n[d]}var d,f,g=p.length,h=q.length,i=e[0],j=e[1],n,o;for(d=0;d<g;++d)(o=p[d]).index=d,o.weight=0;r=[],s=[];for(d=0;d<h;++d)o=q[d],typeof o.source==""number""&&(o.source=p[o.source]),typeof o.target==""number""&&(o.target=p[o.target]),r[d]=k.call(this,o,d),s[d]=l.call(this,o,d),++o.source.weight,++o.target.weight;for(d=0;d<g;++d)o=p[d],isNaN(o.x)&&(o.x=a(""x"",i)),isNaN(o.y)&&(o.y=a(""y"",j)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);t=[];if(typeof m==""function"")for(d=0;d<g;++d)t[d]=+m.call(this,p[d],d);else for(d=0;d<g;++d)t[d]=m;return c.resume()},c.resume=function(){return c.alpha(.1)},c.stop=function(){return c.alpha(0)},c.drag=function(){f||(f=d3.behavior.drag().origin(g).on(""dragstart"",jc).on(""drag"",b).on(""dragend"",kc)),this.on(""mouseover.force"",lc).on(""mouseout.force"",mc).call(f)},d3.rebind(c,d,""on"")},d3.layout.partition=function(){function a(b,c,d,e){var f=b.children;b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e;if(f&&(h=f.length)){var g=-1,h,i,j;d=b.value?d/b.value:0;while(++g<h)a(i=f[g],c,j=i.value*d,e),c+=j}}function b(a){var c=a.children,d=0;if(c&&(f=c.length)){var e=-1,f;while(++e<f)d=Math.max(d,b(c[e]))}return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=d3.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},Bc(c,d)},d3.layout.pie=function(){function a(f){var g=f.map(function(c,d){return+b.call(a,c,d)}),h=+(typeof d==""function""?d.apply(this,arguments):d),i=((typeof e==""function""?e.apply(this,arguments):e)-d)/d3.sum(g),j=d3.range(f.length);c!=null&&j.sort(c===le?function(a,b){return g[b]-g[a]}:function(a,b){return c(f[a],f[b])});var k=[];return j.forEach(function(a){var b;k[a]={data:f[a],value:b=g[a],startAngle:h,endAngle:h+=b*i}}),k}var b=Number,c=le,d=0,e=2*kd;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a};var le={};d3.layout.stack=function(){function a(g,i){var j=g.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),h.call(a,b,c)]})}),l=c.call(a,k,i);j=d3.permute(j,l),k=d3.permute(k,l);var m=d.call(a,k,i),n=j.length,o=j[0].length,p,q,r;for(q=0;q<o;++q){e.call(a,j[0][q],r=m[q],k[0][q][1]);for(p=1;p<n;++p)e.call(a,j[p][q],r+=k[p-1][q][1],k[p][q][1])}return g}var b=g,c=tc,d=uc,e=sc,f=qc,h=rc;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c=typeof b==""function""?b:me.get(b)||tc,a):c},a.offset=function(b){return arguments.length?(d=typeof b==""function""?b:ne.get(b)||uc,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(h=b,a):h},a.out=function(b){return arguments.length?(e=b,a):e},a};var me=d3.map({""inside-out"":function(a){var b=a.length,c,d,e=a.map(vc),f=a.map(wc),g=d3.range(b).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(c=0;c<b;++c)d=g[c],h<i?(h+=f[d],j.push(d)):(i+=f[d],k.push(d));return k.reverse().concat(j)},reverse:function(a){return d3.range(a.length).reverse()},""default"":tc}),ne=d3.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;g<c;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,i,j,k,l,m,n=[];n[0]=l=m=0;for(f=1;f<d;++f){for(e=0,h=0;e<b;++e)h+=a[e][f][1];for(e=0,i=0,k=c[f][0]-c[f-1][0];e<b;++e){for(g=0,j=(a[e][f][1]-a[e][f-1][1])/(2*k);g<e;++g)j+=(a[g][f][1]-a[g][f-1][1])/k;i+=j*a[e][f][1]}n[f]=l-=h?i/h*k:0,l<m&&(m=l)}for(f=0;f<d;++f)n[f]-=m;return n},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:uc});d3.layout.histogram=function(){function a(a,f){var g=[],h=a.map(c,this),i=d.call(this,h,f),j=e.call(this,i,h,f),k,f=-1,l=h.length,m=j.length-1,n=b?1:1/l,o;while(++f<m)k=g[f]=[],k.dx=j[f+1]-(k.x=j[f]),k.y=0;if(m>0){f=-1;while(++f<l)o=h[f],o>=i[0]&&o<=i[1]&&(k=g[d3.bisect(j,o,1,m)-1],k.y+=n,k.push(a[f]))}return g}var b=!0,c=Number,d=Ac,e=yc;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=i(b),a):d},a.bins=function(b){return arguments.length?(e=typeof b==""number""?function(a){return zc(a,b)}:i(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},d3.layout.hierarchy=function(){function a(b,g,h){var i=e.call(c,b,g);b.depth=g,h.push(b);if(i&&(k=i.length)){var j=-1,k,l=b.children=[],m=0,n=g+1,o;while(++j<k)o=a(i[j],n,h),o.parent=b,l.push(o),m+=o.value;d&&l.sort(d),f&&(b.value=m)}else f&&(b.value=+f.call(c,b,g)||0);return b}function b(a,d){var e=a.children,g=0;if(e&&(i=e.length)){var h=-1,i,j=d+1;while(++h<i)g+=b(e[h],j)}else f&&(g=+f.call(c,a,d)||0);return f&&(a.value=g),g}function c(b){var c=[];return a(b,0,c),c}var d=Ec,e=Cc,f=Dc;return c.sort=function(a){return arguments.length?(d=a,c):d},c.children=function(a){return arguments.length?(e=a,c):e},c.value=function(a){return arguments.length?(f=a,c):f},c.revalue=function(a){return b(a,0),a},c},d3.layout.pack=function(){function a(a,e){var f=b.call(this,a,e),g=f[0];g.x=0,g.y=0,$c(g,function(a){a.r=Math.sqrt(a.value)}),$c(g,Kc);var h=d[0],i=d[1],j=Math.max(2*g.r/h,2*g.r/i);if(c>0){var k=c*j/2;$c(g,function(a){a.r+=k}),$c(g,Kc),$c(g,function(a){a.r-=k}),j=Math.max(2*g.r/h,2*g.r/i)}return Nc(g,h/2,i/2,1/j),f}var b=d3.layout.hierarchy().sort(Gc),c=0,d=[1,1];return a.size=function(b){return arguments.length?(d=b,a):d},a.padding=function(b){return arguments.length?(c=+b,a):c},Bc(a,b)},d3.layout.cluster=function(){function a(a,e){var f=b.call(this,a,e),g=f[0],h,i=0;$c(g,function(a){var b=a.children;b&&b.length?(a.x=Qc(b),a.y=Pc(b)):(a.x=h?i+=c(a,h):0,a.y=0,h=a)});var j=Rc(g),k=Sc(g),l=j.x-c(j,k)/2,m=k.x+c(k,j)/2;return $c(g,function(a){a.x=(a.x-l)/(m-l)*d[0],a.y=(1-(g.y?a.y/g.y:1))*d[1]}),f}var b=d3.layout.hierarchy().sort(null).value(null),c=Tc,d=[1,1];return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(d=b,a):d},Bc(a,b)},d3.layout.tree=function(){function a(a,e){function f(a,b){var d=a.children,e=a._tree;if(d&&(g=d.length)){var g,i=d[0],j,k=i,l,m=-1;while(++m<g)l=d[m],f(l,j),k=h(l,j,k),j=l;_c(a);var n=.5*(i._tree.prelim+l._tree.prelim);b?(e.prelim=b._tree.prelim+c(a,b),e.mod=e.prelim-n):e.prelim=n}else b&&(e.prelim=b._tree.prelim+c(a,b))}function g(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(e=c.length)){var d=-1,e;b+=a._tree.mod;while(++d<e)g(c[d],b)}}function h(a,b,d){if(b){var e=a,f=a,g=b,h=a.parent.children[0],i=e._tree.mod,j=f._tree.mod,k=g._tree.mod,l=h._tree.mod,m;while(g=Vc(g),e=Uc(e),g&&e)h=Uc(h),f=Vc(f),f._tree.ancestor=a,m=g._tree.prelim+k-e._tree.prelim-i+c(g,e),m>0&&(ad(bd(g,a,d),a,m),i+=m,j+=m),k+=g._tree.mod,i+=e._tree.mod,l+=h._tree.mod,j+=f._tree.mod;g&&!Vc(f)&&(f._tree.thread=g,f._tree.mod+=k-j),e&&!Uc(h)&&(h._tree.thread=e,h._tree.mod+=i-l,d=a)}return d}var i=b.call(this,a,e),j=i[0];$c(j,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),f(j),g(j,-j._tree.prelim);var k=Wc(j,Yc),l=Wc(j,Xc),m=Wc(j,Zc),n=k.x-c(k,l)/2,o=l.x+c(l,k)/2,p=m.depth||1;return $c(j,function(a){a.x=(a.x-n)/(o-n)*d[0],a.y=a.depth/p*d[1],delete a._tree}),i}var b=d3.layout.hierarchy().sort(null).value(null),c=Tc,d=[1,1];return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(d=b,a):d},Bc(a,b)},d3.layout.treemap=function(){function a(a,b){var c=-1,d=a.length,e,f;while(++c<d)f=(e=a[c]).value*(b<0?0:b),e.area=isNaN(f)||f<=0?0:f}function b(c){var f=c.children;if(f&&f.length){var g=k(c),h=[],i=f.slice(),j,l=Infinity,m,o=n===""slice""?g.dx:n===""dice""?g.dy:n===""slice-dice""?c.depth&1?g.dy:g.dx:Math.min(g.dx,g.dy),p;a(i,g.dx*g.dy/c.value),h.area=0;while((p=i.length)>0)h.push(j=i[p-1]),h.area+=j.area,n!==""squarify""||(m=d(h,o))<=l?(i.pop(),l=m):(h.area-=h.pop().area,e(h,o,g,!1),o=Math.min(g.dx,g.dy),h.length=h.area=0,l=Infinity);h.length&&(e(h,o,g,!0),h.length=h.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f=k(b),g=d.slice(),h,i=[];a(g,f.dx*f.dy/b.value),i.area=0;while(h=g.pop())i.push(h),i.area+=h.area,h.z!=null&&(e(i,h.z?f.dx:f.dy,f,!g.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){var c=a.area,d,e=0,f=Infinity,g=-1,h=a.length;while(++g<h){if(!(d=a[g].area))continue;d<f&&(f=d),d>e&&(e=d)}return c*=c,b*=b,c?Math.max(b*e*o/c,c/(b*f*o)):Infinity}function e(a,b,c,d){var e=-1,f=a.length,g=c.x,i=c.y,j=b?h(a.area/b):0,k;if(b==c.dx){if(d||j>c.dy)j=c.dy;while(++e<f)k=a[e],k.x=g,k.y=i,k.dy=j,g+=k.dx=Math.min(c.x+c.dx-g,j?h(k.area/j):0);k.z=!0,k.dx+=c.x+c.dx-g,c.y+=j,c.dy-=j}else{if(d||j>c.dx)j=c.dx;while(++e<f)k=a[e],k.x=g,k.y=i,k.dx=j,i+=k.dy=Math.min(c.y+c.dy-i,j?h(k.area/j):0);k.z=!1,k.dy+=c.y+c.dy-i,c.x+=j,c.dx-=j}}function f(d){var e=m||g(d),f=e[0];return f.x=0,f.y=0,f.dx=i[0],f.dy=i[1],m&&g.revalue(f),a([f],f.dx*f.dy/f.value),(m?c:b)(f),l&&(m=e),e}var g=d3.layout.hierarchy(),h=Math.round,i=[1,1],j=null,k=cd,l=!1,m,n=""squarify"",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(i=a,f):i},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return c==null? cd(b):dd(b,typeof c==""number""?[c,c,c,c]:c)}function c(b){return dd(b,a)}if(!arguments.length)return j;var d;return k=(j=a)==null?cd:(d=typeof a)===""function""?b:d===""number""?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(h=a?Math.round:Number,f):h!=Number},f.sticky=function(a){return arguments.length?(l=a,m=null,f):l},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"""",f):n},Bc(f,g)}})();/*! gridster.js - v0.1.0 - 2012-10-20 * http://gridster.net/ * Copyright (c) 2012 ducksboard; Licensed MIT */ ;(function($, window, document, undefined){ /** * Creates objects with coordinates (x1, y1, x2, y2, cx, cy, width, height) * to simulate DOM elements on the screen. * Coords is used by Gridster to create a faux grid with any DOM element can * collide. * * @class Coords * @param {HTMLElement|Object} obj The jQuery HTMLElement or a object with: left, * top, width and height properties. * @return {Object} Coords instance. * @constructor */ function Coords(obj) { if (obj[0] && $.isPlainObject(obj[0])) { this.data = obj[0]; }else { this.el = obj; } this.isCoords = true; this.coords = {}; this.init(); return this; } var fn = Coords.prototype; fn.init = function(){ this.set(); this.original_coords = this.get(); }; fn.set = function(update, not_update_offsets) { var el = this.el; if (el && !update) { this.data = el.offset(); this.data.width = el.width(); this.data.height = el.height(); } if (el && update && !not_update_offsets) { var offset = el.offset(); this.data.top = offset.top; this.data.left = offset.left; } var d = this.data; this.coords.x1 = d.left; this.coords.y1 = d.top; this.coords.x2 = d.left + d.width; this.coords.y2 = d.top + d.height; this.coords.cx = d.left + (d.width / 2); this.coords.cy = d.top + (d.height / 2); this.coords.width = d.width; this.coords.height = d.height; this.coords.el = el || false ; return this; }; fn.update = function(data){ if (!data && !this.el) { return this; } if (data) { var new_data = $.extend({}, this.data, data); this.data = new_data; return this.set(true, true); } this.set(true); return this; }; fn.get = function(){ return this.coords; }; //jQuery adapter $.fn.coords = function() { if (this.data('coords') ) { return this.data('coords'); } var ins = new Coords(this, arguments[0]); this.data('coords', ins); return ins; }; }(jQuery, window, document)); ;(function($, window, document, undefined){ var defaults = { colliders_context: document.body // ,on_overlap: function(collider_data){}, // on_overlap_start : function(collider_data){}, // on_overlap_stop : function(collider_data){} }; /** * Detects collisions between a DOM element against other DOM elements or * Coords objects. * * @class Collision * @uses Coords * @param {HTMLElement} el The jQuery wrapped HTMLElement. * @param {HTMLElement|Array} colliders Can be a jQuery collection * of HTMLElements or an Array of Coords instances. * @param {Object} [options] An Object with all options you want to * overwrite: * @param {Function} [options.on_overlap_start] Executes a function the first * time each `collider ` is overlapped. * @param {Function} [options.on_overlap_stop] Executes a function when a * `collider` is no longer collided. * @param {Function} [options.on_overlap] Executes a function when the * mouse is moved during the collision. * @return {Object} Collision instance. * @constructor */ function Collision(el, colliders, options) { this.options = $.extend(defaults, options); this.$element = el; this.last_colliders = []; this.last_colliders_coords = []; if (typeof colliders === 'string' || colliders instanceof jQuery) { this.$colliders = $(colliders, this.options.colliders_context).not(this.$element); }else{ this.colliders = $(colliders); } this.init(); } var fn = Collision.prototype; fn.init = function() { this.find_collisions(); }; fn.overlaps = function(a, b) { var x = false; var y = false; if ((b.x1 >= a.x1 && b.x1 <= a.x2) || (b.x2 >= a.x1 && b.x2 <= a.x2) || (a.x1 >= b.x1 && a.x2 <= b.x2) ) { x = true; } if ((b.y1 >= a.y1 && b.y1 <= a.y2) || (b.y2 >= a.y1 && b.y2 <= a.y2) || (a.y1 >= b.y1 && a.y2 <= b.y2) ) { y = true; } return (x && y); }; fn.detect_overlapping_region = function(a, b){ var regionX = ''; var regionY = ''; if (a.y1 > b.cy && a.y1 < b.y2) { regionX = 'N'; } if (a.y2 > b.y1 && a.y2 < b.cy) { regionX = 'S'; } if (a.x1 > b.cx && a.x1 < b.x2) { regionY = 'W'; } if (a.x2 > b.x1 && a.x2 < b.cx) { regionY = 'E'; } return (regionX + regionY) || 'C'; }; fn.calculate_overlapped_area_coords = function(a, b){ var x1 = Math.max(a.x1, b.x1); var y1 = Math.max(a.y1, b.y1); var x2 = Math.min(a.x2, b.x2); var y2 = Math.min(a.y2, b.y2); return $({ left: x1, top: y1, width : (x2 - x1), height: (y2 - y1) }).coords().get(); }; fn.calculate_overlapped_area = function(coords){ return (coords.width * coords.height); }; fn.manage_colliders_start_stop = function(new_colliders_coords, start_callback, stop_callback){ var last = this.last_colliders_coords; for (var i = 0, il = last.length; i < il; i++) { if ($.inArray(last[i], new_colliders_coords) === -1) { start_callback.call(this, last[i]); } } for (var j = 0, jl = new_colliders_coords.length; j < jl; j++) { if ($.inArray(new_colliders_coords[j], last) === -1) { stop_callback.call(this, new_colliders_coords[j]); } } }; fn.find_collisions = function(player_data_coords){ var self = this; var colliders_coords = []; var colliders_data = []; var $colliders = (this.colliders || this.$colliders); var count = $colliders.length; var player_coords = self.$element.coords() .update(player_data_coords || false).get(); while(count--){ var $collider = self.$colliders ? $($colliders[count]) : $colliders[count]; var $collider_coords_ins = ($collider.isCoords) ? $collider : $collider.coords(); var collider_coords = $collider_coords_ins.get(); var overlaps = self.overlaps(player_coords, collider_coords); if (!overlaps) { continue; } var region = self.detect_overlapping_region( player_coords, collider_coords); //todo: make this an option if (region === 'C'){ var area_coords = self.calculate_overlapped_area_coords( player_coords, collider_coords); var area = self.calculate_overlapped_area(area_coords); var collider_data = { area: area, area_coords : area_coords, region: region, coords: collider_coords, player_coords: player_coords, el: $collider }; if (self.options.on_overlap) { self.options.on_overlap.call(this, collider_data); } colliders_coords.push($collider_coords_ins); colliders_data.push(collider_data); } } if (self.options.on_overlap_stop || self.options.on_overlap_start) { this.manage_colliders_start_stop(colliders_coords, self.options.on_overlap_stop, self.options.on_overlap_start); } this.last_colliders_coords = colliders_coords; return colliders_data; }; fn.get_closest_colliders = function(player_data_coords){ var colliders = this.find_collisions(player_data_coords); colliders.sort(function(a, b) { /* if colliders are being overlapped by the ""C"" (center) region, * we have to set a lower index in the array to which they are placed * above in the grid. */ if (a.region === 'C' && b.region === 'C') { if (a.coords.y1 < b.coords.y1 || a.coords.x1 < b.coords.x1) { return - 1; }else{ return 1; } } if (a.area < b.area) { return 1; } return 1; }); return colliders; }; //jQuery adapter $.fn.collision = function(collider, options) { return new Collision( this, collider, options ); }; }(jQuery, window, document)); ;(function(window, undefined) { /* Debounce and throttle functions taken from underscore.js */ window.debounce = function(func, wait, immediate) { var timeout; return function() { var context = this, args = arguments; var later = function() { timeout = null; if (!immediate) func.apply(context, args); }; if (immediate && !timeout) func.apply(context, args); clearTimeout(timeout); timeout = setTimeout(later, wait); }; }; window.throttle = function(func, wait) { var context, args, timeout, throttling, more, result; var whenDone = debounce( function(){ more = throttling = false; }, wait); return function() { context = this; args = arguments; var later = function() { timeout = null; if (more) func.apply(context, args); whenDone(); }; if (!timeout) timeout = setTimeout(later, wait); if (throttling) { more = true; } else { result = func.apply(context, args); } whenDone(); throttling = true; return result; }; }; })(window); ;(function($, window, document, undefined){ var defaults = { items: '.gs_w', distance: 1, limit: true, offset_left: 0, autoscroll: true, ignore_dragging: ['INPUT', 'TEXTAREA', 'SELECT', 'BUTTON'], handle: null // ,drag: function(e){}, // start : function(e, ui){}, // stop : function(e){} }; var $window = $(window); var isTouch = !!('ontouchstart' in window); var pointer_events = { start: isTouch ? 'touchstart' : 'mousedown.draggable', move: isTouch ? 'touchmove' : 'mousemove.draggable', end: isTouch ? 'touchend' : 'mouseup.draggable' }; /** * Basic drag implementation for DOM elements inside a container. * Provide start/stop/drag callbacks. * * @class Draggable * @param {HTMLElement} el The HTMLelement that contains all the widgets * to be dragged. * @param {Object} [options] An Object with all options you want to * overwrite: * @param {HTMLElement|String} [options.items] Define who will * be the draggable items. Can be a CSS Selector String or a * collection of HTMLElements. * @param {Number} [options.distance] Distance in pixels after mousedown * the mouse must move before dragging should start. * @param {Boolean} [options.limit] Constrains dragging to the width of * the container * @param {offset_left} [options.offset_left] Offset added to the item * that is being dragged. * @param {Number} [options.drag] Executes a callback when the mouse is * moved during the dragging. * @param {Number} [options.start] Executes a callback when the drag * starts. * @param {Number} [options.stop] Executes a callback when the drag stops. * @return {Object} Returns `el`. * @constructor */ function Draggable(el, options) { this.options = $.extend({}, defaults, options); this.$body = $(document.body); this.$container = $(el); this.$dragitems = $(this.options.items, this.$container); this.is_dragging = false; this.player_min_left = 0 + this.options.offset_left; this.init(); } var fn = Draggable.prototype; fn.init = function() { this.calculate_positions(); this.$container.css('position', 'relative'); this.disabled = false; this.events(); $(window).bind('resize', throttle($.proxy(this.calculate_positions, this), 200)); }; fn.events = function() { this.$container.on('selectstart', $.proxy(this.on_select_start, this)); this.$container.on(pointer_events.start, this.options.items, $.proxy( this.drag_handler, this)); this.$body.on(pointer_events.end, $.proxy(function(e) { this.is_dragging = false; if (this.disabled) { return; } this.$body.off(pointer_events.move); if (this.drag_start) { this.on_dragstop(e); } }, this)); }; fn.get_actual_pos = function($el) { var pos = $el.position(); return pos; }; fn.get_mouse_pos = function(e) { if (isTouch) { var oe = e.originalEvent; e = oe.touches.length ? oe.touches[0] : oe.changedTouches[0]; } return { left: e.clientX, top: e.clientY }; }; fn.get_offset = function(e) { e.preventDefault(); var mouse_actual_pos = this.get_mouse_pos(e); var diff_x = Math.round( mouse_actual_pos.left - this.mouse_init_pos.left); var diff_y = Math.round(mouse_actual_pos.top - this.mouse_init_pos.top); var left = Math.round(this.el_init_offset.left + diff_x - this.baseX); var top = Math.round( this.el_init_offset.top + diff_y - this.baseY + this.scrollOffset); if (this.options.limit) { if (left > this.player_max_left) { left = this.player_max_left; }else if(left < this.player_min_left) { left = this.player_min_left; } } return { left: left, top: top, mouse_left: mouse_actual_pos.left, mouse_top: mouse_actual_pos.top }; }; fn.manage_scroll = function(offset) { /* scroll document */ var nextScrollTop; var scrollTop = $window.scrollTop(); var min_window_y = scrollTop; var max_window_y = min_window_y + this.window_height; var mouse_down_zone = max_window_y - 50; var mouse_up_zone = min_window_y + 50; var abs_mouse_left = offset.mouse_left; var abs_mouse_top = min_window_y + offset.mouse_top; var max_player_y = (this.doc_height - this.window_height + this.player_height); if (abs_mouse_top >= mouse_down_zone) { nextScrollTop = scrollTop + 30; if (nextScrollTop < max_player_y) { $window.scrollTop(nextScrollTop); this.scrollOffset = this.scrollOffset + 30; } } if (abs_mouse_top <= mouse_up_zone) { nextScrollTop = scrollTop - 30; if (nextScrollTop > 0) { $window.scrollTop(nextScrollTop); this.scrollOffset = this.scrollOffset - 30; } } }; fn.calculate_positions = function(e) { this.window_height = $window.height(); }; fn.drag_handler = function(e) { var node = e.target.nodeName; if (this.disabled || e.which !== 1 && !isTouch) { return; } if (this.ignore_drag(e)) { return; } var self = this; var first = true; this.$player = $(e.currentTarget); this.el_init_pos = this.get_actual_pos(this.$player); this.mouse_init_pos = this.get_mouse_pos(e); this.offsetY = this.mouse_init_pos.top - this.el_init_pos.top; this.$body.on(pointer_events.move, function(mme){ var mouse_actual_pos = self.get_mouse_pos(mme); var diff_x = Math.abs( mouse_actual_pos.left - self.mouse_init_pos.left); var diff_y = Math.abs( mouse_actual_pos.top - self.mouse_init_pos.top); if (!(diff_x > self.options.distance || diff_y > self.options.distance) ) { return false; } if (first) { first = false; self.on_dragstart.call(self, mme); return false; } if (self.is_dragging === true) { self.on_dragmove.call(self, mme); } return false; }); return false; }; fn.on_dragstart = function(e) { e.preventDefault(); this.drag_start = true; this.is_dragging = true; var offset = this.$container.offset(); this.baseX = Math.round(offset.left); this.baseY = Math.round(offset.top); this.doc_height = $(document).height(); if (this.options.helper === 'clone') { this.$helper = this.$player.clone() .appendTo(this.$container).addClass('helper'); this.helper = true; }else{ this.helper = false; } this.scrollOffset = 0; this.el_init_offset = this.$player.offset(); this.player_width = this.$player.width(); this.player_height = this.$player.height(); this.player_max_left = (this.$container.width() - this.player_width + this.options.offset_left); if (this.options.start) { this.options.start.call(this.$player, e, { helper: this.helper ? this.$helper : this.$player }); } return false; }; fn.on_dragmove = function(e) { var offset = this.get_offset(e); this.options.autoscroll && this.manage_scroll(offset); (this.helper ? this.$helper : this.$player).css({ 'position': 'absolute', 'left' : offset.left, 'top' : offset.top }); var ui = { 'position': { 'left': offset.left, 'top': offset.top } }; if (this.options.drag) { this.options.drag.call(this.$player, e, ui); } return false; }; fn.on_dragstop = function(e) { var offset = this.get_offset(e); this.drag_start = false; var ui = { 'position': { 'left': offset.left, 'top': offset.top } }; if (this.options.stop) { this.options.stop.call(this.$player, e, ui); } if (this.helper) { this.$helper.remove(); } return false; }; fn.on_select_start = function(e) { if (this.disabled) { return; } if (this.ignore_drag(e)) { return; } return false; }; fn.enable = function() { this.disabled = false; }; fn.disable = function() { this.disabled = true; }; fn.destroy = function(){ this.disable(); $.removeData(this.$container, 'drag'); }; fn.ignore_drag = function(event) { if (this.options.handle) { return !$(event.target).is(this.options.handle); } return $.inArray(event.target.nodeName, this.options.ignore_dragging) >= 0; }; //jQuery adapter $.fn.drag = function ( options ) { return this.each(function () { if (!$.data(this, 'drag')) { $.data(this, 'drag', new Draggable( this, options )); } }); }; }(jQuery, window, document)); ;(function($, window, document, undefined) { var defaults = { namespace: '', widget_selector: 'li', widget_margins: [10, 10], widget_base_dimensions: [400, 225], extra_rows: 0, extra_cols: 0, min_cols: 1, min_rows: 15, max_size_x: 6, autogenerate_stylesheet: true, avoid_overlapped_widgets: true, serialize_params: function($w, wgd) { return { col: wgd.col, row: wgd.row, size_x: wgd.size_x, size_y: wgd.size_y }; }, collision: {}, draggable: { distance: 4 } }; /** * @class Gridster * @uses Draggable * @uses Collision * @param {HTMLElement} el The HTMLelement that contains all the widgets. * @param {Object} [options] An Object with all options you want to * overwrite: * @param {HTMLElement|String} [options.widget_selector] Define who will * be the draggable widgets. Can be a CSS Selector String or a * collection of HTMLElements * @param {Array} [options.widget_margins] Margin between widgets. * The first index for the horizontal margin (left, right) and * the second for the vertical margin (top, bottom). * @param {Array} [options.widget_base_dimensions] Base widget dimensions * in pixels. The first index for the width and the second for the * height. * @param {Number} [options.extra_cols] Add more columns in addition to * those that have been calculated. * @param {Number} [options.extra_rows] Add more rows in addition to * those that have been calculated. * @param {Number} [options.min_cols] The minimum required columns. * @param {Number} [options.min_rows] The minimum required rows. * @param {Number} [options.max_size_x] The maximum number of columns * that a widget can span. * @param {Boolean} [options.autogenerate_stylesheet] If true, all the * CSS required to position all widgets in their respective columns * and rows will be generated automatically and injected to the * `<head>` of the document. You can set this to false, and write * your own CSS targeting rows and cols via data-attributes like so: * `[data-col=""1""] { left: 10px; }` * @param {Boolean} [options.avoid_overlapped_widgets] Avoid that widgets loaded * from the DOM can be overlapped. It is helpful if the positions were * bad stored in the database or if there was any conflict. * @param {Function} [options.serialize_params] Return the data you want * for each widget in the serialization. Two arguments are passed: * `$w`: the jQuery wrapped HTMLElement, and `wgd`: the grid * coords object (`col`, `row`, `size_x`, `size_y`). * @param {Object} [options.collision] An Object with all options for * Collision class you want to overwrite. See Collision docs for * more info. * @param {Object} [options.draggable] An Object with all options for * Draggable class you want to overwrite. See Draggable docs for more * info. * * @constructor */ function Gridster(el, options) { this.options = $.extend(true, defaults, options); this.$el = $(el); this.$wrapper = this.$el.parent(); this.$widgets = this.$el.children(this.options.widget_selector).addClass('gs_w'); this.widgets = []; this.$changed = $([]); this.wrapper_width = this.$wrapper.width(); this.min_widget_width = (this.options.widget_margins[0] * 2) + this.options.widget_base_dimensions[0]; this.min_widget_height = (this.options.widget_margins[1] * 2) + this.options.widget_base_dimensions[1]; this.init(); } Gridster.generated_stylesheets = []; var fn = Gridster.prototype; fn.init = function() { this.generate_grid_and_stylesheet(); this.get_widgets_from_DOM(); this.set_dom_grid_height(); this.$wrapper.addClass('ready'); this.draggable(); $(window).bind( 'resize', throttle($.proxy(this.recalculate_faux_grid, this), 200)); }; /** * Disables dragging. * * @method disable * @return {Class} Returns the instance of the Gridster Class. */ fn.disable = function() { this.$wrapper.find('.player-revert').removeClass('player-revert'); this.drag_api.disable(); return this; }; /** * Enables dragging. * * @method enable * @return {Class} Returns the instance of the Gridster Class. */ fn.enable = function() { this.drag_api.enable(); return this; }; /** * Add a new widget to the grid. * * @method add_widget * @param {String|HTMLElement} html The string representing the HTML of the widget * or the HTMLElement. * @param {Number} [size_x] The nÂº of rows the widget occupies horizontally. * @param {Number} [size_y] The nÂº of columns the widget occupies vertically. * @param {Number} [col] The column the widget should start in. * @param {Number} [row] The row the widget should start in. * @return {HTMLElement} Returns the jQuery wrapped HTMLElement representing. * the widget that was just created. */ fn.add_widget = function(html, size_x, size_y, col, row) { var pos; size_x || (size_x = 1); size_y || (size_y = 1); if (!col & !row) { pos = this.next_position(size_x, size_y); }else{ pos = { col: col, row: row }; this.empty_cells(col, row, size_x, size_y); } var $w = $(html).attr({ 'data-col': pos.col, 'data-row': pos.row, 'data-sizex' : size_x, 'data-sizey' : size_y }).addClass('gs_w').appendTo(this.$el).hide(); this.$widgets = this.$widgets.add($w); this.register_widget($w); this.add_faux_rows(pos.size_y); //this.add_faux_cols(pos.size_x); this.set_dom_grid_height(); return $w.fadeIn(); }; /** * Change the size of a widget. * * @method resize_widget * @param {HTMLElement} $widget The jQuery wrapped HTMLElement * representing the widget. * @param {Number} size_x The number of columns that will occupy the widget. * @param {Number} size_y The number of rows that will occupy the widget. * @return {HTMLElement} Returns $widget. */ fn.resize_widget = function($widget, size_x, size_y) { var wgd = $widget.coords().grid; size_x || (size_x = wgd.size_x); size_y || (size_y = wgd.size_y); if (size_x > this.cols) { size_x = this.cols; } var old_cells_occupied = this.get_cells_occupied(wgd); var old_size_x = wgd.size_x; var old_size_y = wgd.size_y; var old_col = wgd.col; var new_col = old_col; var wider = size_x > old_size_x; var taller = size_y > old_size_y; if (old_col + size_x - 1 > this.cols) { var diff = old_col + (size_x - 1) - this.cols; var c = old_col - diff; new_col = Math.max(1, c); } var new_grid_data = { col: new_col, row: wgd.row, size_x: size_x, size_y: size_y }; var new_cells_occupied = this.get_cells_occupied(new_grid_data); var empty_cols = []; $.each(old_cells_occupied.cols, function(i, col) { if ($.inArray(col, new_cells_occupied.cols) === -1) { empty_cols.push(col); } }); var occupied_cols = []; $.each(new_cells_occupied.cols, function(i, col) { if ($.inArray(col, old_cells_occupied.cols) === -1) { occupied_cols.push(col); } }); var empty_rows = []; $.each(old_cells_occupied.rows, function(i, row) { if ($.inArray(row, new_cells_occupied.rows) === -1) { empty_rows.push(row); } }); var occupied_rows = []; $.each(new_cells_occupied.rows, function(i, row) { if ($.inArray(row, old_cells_occupied.rows) === -1) { occupied_rows.push(row); } }); this.remove_from_gridmap(wgd); if (occupied_cols.length) { var cols_to_empty = [ new_col, wgd.row, size_x, Math.min(old_size_y, size_y), $widget ]; this.empty_cells.apply(this, cols_to_empty); } if (occupied_rows.length) { var rows_to_empty = [new_col, wgd.row, size_x, size_y, $widget]; this.empty_cells.apply(this, rows_to_empty); } wgd.col = new_col; wgd.size_x = size_x; wgd.size_y = size_y; this.add_to_gridmap(new_grid_data, $widget); //update coords instance attributes $widget.data('coords').update({ width: (size_x * this.options.widget_base_dimensions[0] + ((size_x - 1) * this.options.widget_margins[0]) * 2), height: (size_y * this.options.widget_base_dimensions[1] + ((size_y - 1) * this.options.widget_margins[1]) * 2) }); if (size_y > old_size_y) { this.add_faux_rows(size_y - old_size_y); } if (size_x > old_size_x) { this.add_faux_cols(size_x - old_size_x); } $widget.attr({ 'data-col': new_col, 'data-sizex': size_x, 'data-sizey': size_y }); if (empty_cols.length) { var cols_to_remove_holes = [ empty_cols[0], wgd.row, empty_cols.length, Math.min(old_size_y, size_y), $widget ]; this.remove_empty_cells.apply(this, cols_to_remove_holes); } if (empty_rows.length) { var rows_to_remove_holes = [ new_col, wgd.row, size_x, size_y, $widget ]; this.remove_empty_cells.apply(this, rows_to_remove_holes); } return $widget; }; /** * Move down widgets in cells represented by the arguments col, row, size_x, * size_y * * @method empty_cells * @param {Number} col The column where the group of cells begin. * @param {Number} row The row where the group of cells begin. * @param {Number} size_x The number of columns that the group of cells * occupy. * @param {Number} size_y The number of rows that the group of cells * occupy. * @param {HTMLElement} $exclude Exclude widgets from being moved. * @return {Class} Returns the instance of the Gridster Class. */ fn.empty_cells = function(col, row, size_x, size_y, $exclude) { var $nexts = this.widgets_below({ col: col, row: row - size_y, size_x: size_x, size_y: size_y }); $nexts.not($exclude).each($.proxy(function(i, w) { var wgd = $(w).coords().grid; if (!(wgd.row <= (row + size_y - 1))) { return; } var diff = (row + size_y) - wgd.row; this.move_widget_down($(w), diff); }, this)); this.set_dom_grid_height(); return this; }; /** * Move up widgets below cells represented by the arguments col, row, size_x, * size_y. * * @method remove_empty_cells * @param {Number} col The column where the group of cells begin. * @param {Number} row The row where the group of cells begin. * @param {Number} size_x The number of columns that the group of cells * occupy. * @param {Number} size_y The number of rows that the group of cells * occupy. * @param {HTMLElement} $exclude Exclude widgets from being moved. * @return {Class} Returns the instance of the Gridster Class. */ fn.remove_empty_cells = function(col, row, size_x, size_y, exclude) { var $nexts = this.widgets_below({ col: col, row: row, size_x: size_x, size_y: size_y }); $nexts.not(exclude).each($.proxy(function(i, widget) { this.move_widget_up( $(widget), size_y ); }, this)); this.set_dom_grid_height(); return this; }; /** * Get the most left column below to add a new widget. * * @method next_position * @param {Number} size_x The nÂº of rows the widget occupies horizontally. * @param {Number} size_y The nÂº of columns the widget occupies vertically. * @return {Object} Returns a grid coords object representing the future * widget coords. */ fn.next_position = function(size_x, size_y) { size_x || (size_x = 1); size_y || (size_y = 1); var ga = this.gridmap; var cols_l = ga.length; var valid_pos = []; var rows_l; for (var c = 1; c < cols_l; c++) { rows_l = ga[c].length; for (var r = 1; r <= rows_l; r++) { var can_move_to = this.can_move_to({ size_x: size_x, size_y: size_y }, c, r); if (can_move_to) { valid_pos.push({ col: c, row: r, size_y: size_y, size_x: size_x }); } } } if (valid_pos.length) { return this.sort_by_row_and_col_asc(valid_pos)[0]; } return false; }; /** * Remove a widget from the grid. * * @method remove_widget * @param {HTMLElement} el The jQuery wrapped HTMLElement you want to remove. * @param {Boolean|Function} silent If true, widgets below the removed one * will not move up. If a Function is passed it will be used as callback. * @param {Function} callback Function executed when the widget is removed. * @return {Class} Returns the instance of the Gridster Class. */ fn.remove_widget = function(el, silent, callback) { var $el = el instanceof jQuery ? el : $(el); var wgd = $el.coords().grid; // if silent is a function assume it's a callback if ($.isFunction(silent)) { callback = silent; silent = false; } this.cells_occupied_by_placeholder = {}; this.$widgets = this.$widgets.not($el); var $nexts = this.widgets_below($el); this.remove_from_gridmap(wgd); $el.fadeOut($.proxy(function() { $el.remove(); if (!silent) { $nexts.each($.proxy(function(i, widget) { this.move_widget_up( $(widget), wgd.size_y ); }, this)); } this.set_dom_grid_height(); if (callback) { callback.call(this, el); } }, this)); }; /** * Remove all widgets from the grid. * * @method remove_all_widgets * @param {Function} callback Function executed for each widget removed. * @return {Class} Returns the instance of the Gridster Class. */ fn.remove_all_widgets = function(callback) { this.$widgets.each($.proxy(function(i, el){ this.remove_widget(el, true, callback); }, this)); return this; }; /** * Returns a serialized array of the widgets in the grid. * * @method serialize * @param {HTMLElement} [$widgets] The collection of jQuery wrapped * HTMLElements you want to serialize. If no argument is passed all widgets * will be serialized. * @return {Array} Returns an Array of Objects with the data specified in * the serialize_params option. */ fn.serialize = function($widgets) { $widgets || ($widgets = this.$widgets); var result = []; $widgets.each($.proxy(function(i, widget) { result.push(this.options.serialize_params( $(widget), $(widget).coords().grid ) ); }, this)); return result; }; /** * Returns a serialized array of the widgets that have changed their * position. * * @method serialize_changed * @return {Array} Returns an Array of Objects with the data specified in * the serialize_params option. */ fn.serialize_changed = function() { return this.serialize(this.$changed); }; /** * Creates the grid coords object representing the widget a add it to the * mapped array of positions. * * @method register_widget * @return {Array} Returns the instance of the Gridster class. */ fn.register_widget = function($el) { var wgd = { 'col': parseInt($el.attr('data-col'), 10), 'row': parseInt($el.attr('data-row'), 10), 'size_x': parseInt($el.attr('data-sizex'), 10), 'size_y': parseInt($el.attr('data-sizey'), 10), 'el': $el }; if (this.options.avoid_overlapped_widgets && !this.can_move_to( {size_x: wgd.size_x, size_y: wgd.size_y}, wgd.col, wgd.row) ) { wgd = this.next_position(wgd.size_x, wgd.size_y); wgd.el = $el; $el.attr({ 'data-col': wgd.col, 'data-row': wgd.row, 'data-sizex': wgd.size_x, 'data-sizey': wgd.size_y }); } // attach Coord object to player data-coord attribute $el.data('coords', $el.coords()); // Extend Coord object with grid position info $el.data('coords').grid = wgd; this.add_to_gridmap(wgd, $el); return this; }; /** * Update in the mapped array of positions the value of cells represented by * the grid coords object passed in the `grid_data` param. * * @param {Object} grid_data The grid coords object representing the cells * to update in the mapped array. * @param {HTMLElement|Boolean} value Pass `false` or the jQuery wrapped * HTMLElement, depends if you want to delete an existing position or add * a new one. * @method update_widget_position * @return {Class} Returns the instance of the Gridster Class. */ fn.update_widget_position = function(grid_data, value) { this.for_each_cell_occupied(grid_data, function(col, row) { if (!this.gridmap[col]) { return this; } this.gridmap[col][row] = value; }); return this; }; /** * Remove a widget from the mapped array of positions. * * @method remove_from_gridmap * @param {Object} grid_data The grid coords object representing the cells * to update in the mapped array. * @return {Class} Returns the instance of the Gridster Class. */ fn.remove_from_gridmap = function(grid_data) { return this.update_widget_position(grid_data, false); }; /** * Add a widget to the mapped array of positions. * * @method add_to_gridmap * @param {Object} grid_data The grid coords object representing the cells * to update in the mapped array. * @param {HTMLElement|Boolean} value The value to set in the specified * position . * @return {Class} Returns the instance of the Gridster Class. */ fn.add_to_gridmap = function(grid_data, value) { this.update_widget_position(grid_data, value || grid_data.el); if (grid_data.el) { var $widgets = this.widgets_below(grid_data.el); $widgets.each($.proxy(function(i, widget) { this.move_widget_up( $(widget)); }, this)); } }; /** * Make widgets draggable. * * @uses Draggable * @method draggable * @return {Class} Returns the instance of the Gridster Class. */ fn.draggable = function() { var self = this; var draggable_options = $.extend(true, {}, this.options.draggable, { offset_left: this.options.widget_margins[0], start: function(event, ui) { self.$widgets.filter('.player-revert') .removeClass('player-revert'); self.$player = $(this); self.$helper = self.options.draggable.helper === 'clone' ? $(ui.helper) : self.$player; self.helper = !self.$helper.is(self.$player); self.on_start_drag.call(self, event, ui); self.$el.trigger('gridster:dragstart'); }, stop: function(event, ui) { self.on_stop_drag.call(self, event, ui); self.$el.trigger('gridster:dragstop'); }, drag: throttle(function(event, ui) { self.on_drag.call(self, event, ui); self.$el.trigger('gridster:drag'); }, 60) }); this.drag_api = this.$el.drag(draggable_options).data('drag'); return this; }; /** * This function is executed when the player begins to be dragged. * * @method on_start_drag * @param {Event} The original browser event * @param {Object} A prepared ui object. */ fn.on_start_drag = function(event, ui) { this.$helper.add(this.$player).add(this.$wrapper).addClass('dragging'); this.$player.addClass('player'); this.player_grid_data = this.$player.coords().grid; this.placeholder_grid_data = $.extend({}, this.player_grid_data); //set new grid height along the dragging period this.$el.css('height', this.$el.height() + (this.player_grid_data.size_y * this.min_widget_height)); var colliders = this.faux_grid; var coords = this.$player.data('coords').coords; this.cells_occupied_by_player = this.get_cells_occupied( this.player_grid_data); this.cells_occupied_by_placeholder = this.get_cells_occupied( this.placeholder_grid_data); this.last_cols = []; this.last_rows = []; // see jquery.collision.js this.collision_api = this.$helper.collision( colliders, this.options.collision); this.$preview_holder = $('<li />', { 'class': 'preview-holder', 'data-row': this.$player.attr('data-row'), 'data-col': this.$player.attr('data-col'), css: { width: coords.width, height: coords.height } }).appendTo(this.$el); if (this.options.draggable.start) { this.options.draggable.start.call(this, event, ui); } }; /** * This function is executed when the player is being dragged. * * @method on_drag * @param {Event} The original browser event * @param {Object} A prepared ui object. */ fn.on_drag = function(event, ui) { //break if dragstop has been fired if (this.$player === null) { return false; } var abs_offset = { left: ui.position.left + this.baseX, top: ui.position.top + this.baseY }; this.colliders_data = this.collision_api.get_closest_colliders( abs_offset); this.on_overlapped_column_change( this.on_start_overlapping_column, this.on_stop_overlapping_column ); this.on_overlapped_row_change( this.on_start_overlapping_row, this.on_stop_overlapping_row ); if (this.helper && this.$player) { this.$player.css({ 'left': ui.position.left, 'top': ui.position.top }); } if (this.options.draggable.drag) { this.options.draggable.drag.call(this, event, ui); } }; /** * This function is executed when the player stops being dragged. * * @method on_stop_drag * @param {Event} The original browser event * @param {Object} A prepared ui object. */ fn.on_stop_drag = function(event, ui) { this.$helper.add(this.$player).add(this.$wrapper) .removeClass('dragging'); ui.position.left = ui.position.left + this.baseX; ui.position.top = ui.position.top + this.baseY; this.colliders_data = this.collision_api.get_closest_colliders(ui.position); this.on_overlapped_column_change( this.on_start_overlapping_column, this.on_stop_overlapping_column ); this.on_overlapped_row_change( this.on_start_overlapping_row, this.on_stop_overlapping_row ); this.$player.addClass('player-revert').removeClass('player') .attr({ 'data-col': this.placeholder_grid_data.col, 'data-row': this.placeholder_grid_data.row }).css({ 'left': '', 'top': '' }); this.$changed = this.$changed.add(this.$player); this.cells_occupied_by_player = this.get_cells_occupied( this.placeholder_grid_data); this.set_cells_player_occupies( this.placeholder_grid_data.col, this.placeholder_grid_data.row); this.$player.coords().grid.row = this.placeholder_grid_data.row; this.$player.coords().grid.col = this.placeholder_grid_data.col; if (this.options.draggable.stop) { this.options.draggable.stop.call(this, event, ui); } this.$preview_holder.remove(); this.$player = null; this.$helper = null; this.placeholder_grid_data = {}; this.player_grid_data = {}; this.cells_occupied_by_placeholder = {}; this.cells_occupied_by_player = {}; this.set_dom_grid_height(); }; /** * Executes the callbacks passed as arguments when a column begins to be * overlapped or stops being overlapped. * * @param {Function} start_callback Function executed when a new column * begins to be overlapped. The column is passed as first argument. * @param {Function} stop_callback Function executed when a column stops * being overlapped. The column is passed as first argument. * @method on_overlapped_column_change * @return {Class} Returns the instance of the Gridster Class. */ fn.on_overlapped_column_change = function(start_callback, stop_callback) { if (!this.colliders_data.length) { return; } var cols = this.get_targeted_columns( this.colliders_data[0].el.data.col); var last_n_cols = this.last_cols.length; var n_cols = cols.length; var i; for (i = 0; i < n_cols; i++) { if ($.inArray(cols[i], this.last_cols) === -1) { (start_callback || $.noop).call(this, cols[i]); } } for (i = 0; i< last_n_cols; i++) { if ($.inArray(this.last_cols[i], cols) === -1) { (stop_callback || $.noop).call(this, this.last_cols[i]); } } this.last_cols = cols; return this; }; /** * Executes the callbacks passed as arguments when a row starts to be * overlapped or stops being overlapped. * * @param {Function} start_callback Function executed when a new row begins * to be overlapped. The row is passed as first argument. * @param {Function} stop_callback Function executed when a row stops being * overlapped. The row is passed as first argument. * @method on_overlapped_row_change * @return {Class} Returns the instance of the Gridster Class. */ fn.on_overlapped_row_change = function(start_callback, end_callback) { if (!this.colliders_data.length) { return; } var rows = this.get_targeted_rows(this.colliders_data[0].el.data.row); var last_n_rows = this.last_rows.length; var n_rows = rows.length; var i; for (i = 0; i < n_rows; i++) { if ($.inArray(rows[i], this.last_rows) === -1) { (start_callback || $.noop).call(this, rows[i]); } } for (i = 0; i < last_n_rows; i++) { if ($.inArray(this.last_rows[i], rows) === -1) { (end_callback || $.noop).call(this, this.last_rows[i]); } } this.last_rows = rows; }; /** * Sets the current position of the player * * @param {Function} start_callback Function executed when a new row begins * to be overlapped. The row is passed as first argument. * @param {Function} stop_callback Function executed when a row stops being * overlapped. The row is passed as first argument. * @method set_player * @return {Class} Returns the instance of the Gridster Class. */ fn.set_player = function(col, row, no_player) { var self = this; if (!no_player) { this.empty_cells_player_occupies(); } var cell = !no_player ? self.colliders_data[0].el.data : {col: col}; var to_col = cell.col; var to_row = row || cell.row; this.player_grid_data = { col: to_col, row: to_row, size_y : this.player_grid_data.size_y, size_x : this.player_grid_data.size_x }; this.cells_occupied_by_player = this.get_cells_occupied( this.player_grid_data); var $overlapped_widgets = this.get_widgets_overlapped( this.player_grid_data); var constraints = this.widgets_constraints($overlapped_widgets); this.manage_movements(constraints.can_go_up, to_col, to_row); this.manage_movements(constraints.can_not_go_up, to_col, to_row); /* if there is not widgets overlapping in the new player position, * update the new placeholder position. */ if (!$overlapped_widgets.length) { var pp = this.can_go_player_up(this.player_grid_data); if (pp !== false) { to_row = pp; } this.set_placeholder(to_col, to_row); } return { col: to_col, row: to_row }; }; /** * See which of the widgets in the $widgets param collection can go to * a upper row and which not. * * @method widgets_contraints * @param {HTMLElements} $widgets A jQuery wrapped collection of * HTMLElements. * @return {Array} Returns a literal Object with two keys: `can_go_up` & * `can_not_go_up`. Each contains a set of HTMLElements. */ fn.widgets_constraints = function($widgets) { var $widgets_can_go_up = $([]); var $widgets_can_not_go_up; var wgd_can_go_up = []; var wgd_can_not_go_up = []; $widgets.each($.proxy(function(i, w) { var $w = $(w); var wgd = $w.coords().grid; if (this.can_go_widget_up(wgd)) { $widgets_can_go_up = $widgets_can_go_up.add($w); wgd_can_go_up.push(wgd); }else{ wgd_can_not_go_up.push(wgd); } }, this)); $widgets_can_not_go_up = $widgets.not($widgets_can_go_up); return { can_go_up: this.sort_by_row_asc(wgd_can_go_up), can_not_go_up: this.sort_by_row_desc(wgd_can_not_go_up) }; }; /** * Sorts an Array of grid coords objects (representing the grid coords of * each widget) in ascending way. * * @method sort_by_row_asc * @param {Array} widgets Array of grid coords objects * @return {Array} Returns the array sorted. */ fn.sort_by_row_asc = function(widgets) { widgets = widgets.sort(function(a, b) { if (!a.row) { a = $(a).coords().grid; b = $(b).coords().grid; } if (a.row > b.row) { return 1; } return -1; }); return widgets; }; /** * Sorts an Array of grid coords objects (representing the grid coords of * each widget) placing first the empty cells upper left. * * @method sort_by_row_and_col_asc * @param {Array} widgets Array of grid coords objects * @return {Array} Returns the array sorted. */ fn.sort_by_row_and_col_asc = function(widgets) { widgets = widgets.sort(function(a, b) { if (a.row > b.row || a.row === b.row && a.col > b.col) { return 1; } return -1; }); return widgets; }; /** * Sorts an Array of grid coords objects by column (representing the grid * coords of each widget) in ascending way. * * @method sort_by_col_asc * @param {Array} widgets Array of grid coords objects * @return {Array} Returns the array sorted. */ fn.sort_by_col_asc = function(widgets) { widgets = widgets.sort(function(a, b) { if (a.col > b.col) { return 1; } return -1; }); return widgets; }; /** * Sorts an Array of grid coords objects (representing the grid coords of * each widget) in descending way. * * @method sort_by_row_desc * @param {Array} widgets Array of grid coords objects * @return {Array} Returns the array sorted. */ fn.sort_by_row_desc = function(widgets) { widgets = widgets.sort(function(a, b) { if (a.row + a.size_y < b.row + b.size_y) { return 1; } return -1; }); return widgets; }; /** * Sorts an Array of grid coords objects (representing the grid coords of * each widget) in descending way. * * @method manage_movements * @param {HTMLElements} $widgets A jQuery collection of HTMLElements * representing the widgets you want to move. * @param {Number} to_col The column to which we want to move the widgets. * @param {Number} to_row The row to which we want to move the widgets. * @return {Class} Returns the instance of the Gridster Class. */ fn.manage_movements = function($widgets, to_col, to_row) { $.each($widgets, $.proxy(function(i, w) { var wgd = w; var $w = wgd.el; var can_go_widget_up = this.can_go_widget_up(wgd); if (can_go_widget_up) { //target CAN go up //so move widget up this.move_widget_to($w, can_go_widget_up); this.set_placeholder(to_col, can_go_widget_up + wgd.size_y); } else { //target can't go up var can_go_player_up = this.can_go_player_up( this.player_grid_data); if (!can_go_player_up) { // target can't go up // player cant't go up // so we need to move widget down to a position that dont // overlaps player var y = (to_row + this.player_grid_data.size_y) - wgd.row; this.move_widget_down($w, y); this.set_placeholder(to_col, to_row); } } }, this)); return this; }; /** * Determines if there is a widget in the row and col given. Or if the * HTMLElement passed as first argument is the player. * * @method is_player * @param {Number|HTMLElement} col_or_el A jQuery wrapped collection of * HTMLElements. * @param {Number} [row] The column to which we want to move the widgets. * @return {Boolean} Returns true or false. */ fn.is_player = function(col_or_el, row) { if (row && !this.gridmap[col_or_el]) { return false; } var $w = row ? this.gridmap[col_or_el][row] : col_or_el; return $w && ($w.is(this.$player) || $w.is(this.$helper)); }; /** * Determines if the widget that is being dragged is currently over the row * and col given. * * @method is_player_in * @param {Number} col The column to check. * @param {Number} row The row to check. * @return {Boolean} Returns true or false. */ fn.is_player_in = function(col, row) { var c = this.cells_occupied_by_player || {}; return $.inArray(col, c.cols) >= 0 && $.inArray(row, c.rows) >= 0; }; /** * Determines if the placeholder is currently over the row and col given. * * @method is_placeholder_in * @param {Number} col The column to check. * @param {Number} row The row to check. * @return {Boolean} Returns true or false. */ fn.is_placeholder_in = function(col, row) { var c = this.cells_occupied_by_placeholder || {}; return this.is_placeholder_in_col(col) && $.inArray(row, c.rows) >= 0; }; /** * Determines if the placeholder is currently over the column given. * * @method is_placeholder_in_col * @param {Number} col The column to check. * @return {Boolean} Returns true or false. */ fn.is_placeholder_in_col = function(col) { var c = this.cells_occupied_by_placeholder || []; return $.inArray(col, c.cols) >= 0; }; /** * Determines if the cell represented by col and row params is empty. * * @method is_empty * @param {Number} col The column to check. * @param {Number} row The row to check. * @return {Boolean} Returns true or false. */ fn.is_empty = function(col, row) { if (typeof this.gridmap[col] !== 'undefined' && typeof this.gridmap[col][row] !== 'undefined' && this.gridmap[col][row] === false ) { return true; } return false; }; /** * Determines if the cell represented by col and row params is occupied. * * @method is_occupied * @param {Number} col The column to check. * @param {Number} row The row to check. * @return {Boolean} Returns true or false. */ fn.is_occupied = function(col, row) { if (!this.gridmap[col]) { return false; } if (this.gridmap[col][row]) { return true; } return false; }; /** * Determines if there is a widget in the cell represented by col/row params. * * @method is_widget * @param {Number} col The column to check. * @param {Number} row The row to check. * @return {Boolean|HTMLElement} Returns false if there is no widget, * else returns the jQuery HTMLElement */ fn.is_widget = function(col, row) { var cell = this.gridmap[col]; if (!cell) { return false; } cell = cell[row]; if (cell) { return cell; } return false; }; /** * Determines if there is a widget in the cell represented by col/row * params and if this is under the widget that is being dragged. * * @method is_widget_under_player * @param {Number} col The column to check. * @param {Number} row The row to check. * @return {Boolean} Returns true or false. */ fn.is_widget_under_player = function(col, row) { if (this.is_widget(col, row)) { return this.is_player_in(col, row); } return false; }; /** * Get widgets overlapping with the player or with the object passed * representing the grid cells. * * @method get_widgets_under_player * @return {HTMLElement} Returns a jQuery collection of HTMLElements */ fn.get_widgets_under_player = function(cells) { cells || (cells = this.cells_occupied_by_player || {cols: [], rows: []}); var $widgets = $([]); $.each(cells.cols, $.proxy(function(i, col) { $.each(cells.rows, $.proxy(function(i, row) { if(this.is_widget(col, row)) { $widgets = $widgets.add(this.gridmap[col][row]); } }, this)); }, this)); return $widgets; }; /** * Put placeholder at the row and column specified. * * @method set_placeholder * @param {Number} col The column to which we want to move the * placeholder. * @param {Number} row The row to which we want to move the * placeholder. * @return {Class} Returns the instance of the Gridster Class. */ fn.set_placeholder = function(col, row) { var phgd = $.extend({}, this.placeholder_grid_data); var $nexts = this.widgets_below({ col: phgd.col, row: phgd.row, size_y: phgd.size_y, size_x: phgd.size_x }); // Prevents widgets go out of the grid var right_col = (col + phgd.size_x - 1); if (right_col > this.cols) { col = col - (right_col - col); } var moved_down = this.placeholder_grid_data.row < row; var changed_column = this.placeholder_grid_data.col !== col; this.placeholder_grid_data.col = col; this.placeholder_grid_data.row = row; this.cells_occupied_by_placeholder = this.get_cells_occupied( this.placeholder_grid_data); this.$preview_holder.attr({ 'data-row' : row, 'data-col' : col }); if (moved_down || changed_column) { $nexts.each($.proxy(function(i, widget) { this.move_widget_up( $(widget), this.placeholder_grid_data.col - col + phgd.size_y); }, this)); } var $widgets_under_ph = this.get_widgets_under_player(this.cells_occupied_by_placeholder); if ($widgets_under_ph.length) { $widgets_under_ph.each($.proxy(function(i, widget) { var $w = $(widget); this.move_widget_down( $w, row + phgd.size_y - $w.data('coords').grid.row); }, this)); } }; /** * Determines whether the player can move to a position above. * * @method can_go_player_up * @param {Object} widget_grid_data The actual grid coords object of the * player. * @return {Number|Boolean} If the player can be moved to an upper row * returns the row number, else returns false. */ fn.can_go_player_up = function(widget_grid_data) { var p_bottom_row = widget_grid_data.row + widget_grid_data.size_y - 1; var result = true; var upper_rows = []; var min_row = 10000; var $widgets_under_player = this.get_widgets_under_player(); /* generate an array with columns as index and array with upper rows * empty as value */ this.for_each_column_occupied(widget_grid_data, function(tcol) { var grid_col = this.gridmap[tcol]; var r = p_bottom_row + 1; upper_rows[tcol] = []; while (--r > 0) { if (this.is_empty(tcol, r) || this.is_player(tcol, r) || this.is_widget(tcol, r) && grid_col[r].is($widgets_under_player) ) { upper_rows[tcol].push(r); min_row = r < min_row ? r : min_row; }else{ break; } } if (upper_rows[tcol].length === 0) { result = false; return true; //break } upper_rows[tcol].sort(); }); if (!result) { return false; } return this.get_valid_rows(widget_grid_data, upper_rows, min_row); }; /** * Determines whether a widget can move to a position above. * * @method can_go_widget_up * @param {Object} widget_grid_data The actual grid coords object of the * widget we want to check. * @return {Number|Boolean} If the widget can be moved to an upper row * returns the row number, else returns false. */ fn.can_go_widget_up = function(widget_grid_data) { var p_bottom_row = widget_grid_data.row + widget_grid_data.size_y - 1; var result = true; var upper_rows = []; var min_row = 10000; /* generate an array with columns as index and array with topmost rows * empty as value */ this.for_each_column_occupied(widget_grid_data, function(tcol) { var grid_col = this.gridmap[tcol]; upper_rows[tcol] = []; var r = p_bottom_row + 1; // iterate over each row while (--r > 0) { if (this.is_widget(tcol, r) && !this.is_player_in(tcol, r)) { if (!grid_col[r].is(widget_grid_data.el)) { break; } } if (!this.is_player(tcol, r) && !this.is_placeholder_in(tcol, r) && !this.is_player_in(tcol, r)) { upper_rows[tcol].push(r); } if (r < min_row) { min_row = r; } } if (upper_rows[tcol].length === 0) { result = false; return true; //break } upper_rows[tcol].sort(); }); if (!result) { return false; } return this.get_valid_rows(widget_grid_data, upper_rows, min_row); }; /** * Search a valid row for the widget represented by `widget_grid_data' in * the `upper_rows` array. Iteration starts from row specified in `min_row`. * * @method get_valid_rows * @param {Object} widget_grid_data The actual grid coords object of the * player. * @param {Array} upper_rows An array with columns as index and arrays * of valid rows as values. * @param {Number} min_row The upper row from which the iteration will start. * @return {Number|Boolean} Returns the upper row valid from the `upper_rows` * for the widget in question. */ fn.get_valid_rows = function(widget_grid_data, upper_rows, min_row) { var p_top_row = widget_grid_data.row; var p_bottom_row = widget_grid_data.row + widget_grid_data.size_y - 1; var size_y = widget_grid_data.size_y; var r = min_row - 1; var valid_rows = []; while (++r <= p_bottom_row ) { var common = true; $.each(upper_rows, function(col, rows) { if ($.isArray(rows) && $.inArray(r, rows) === -1) { common = false; } }); if (common === true) { valid_rows.push(r); if (valid_rows.length === size_y) { break; } } } var new_row = false; if (size_y === 1) { if (valid_rows[0] !== p_top_row) { new_row = valid_rows[0] || false; } }else{ if (valid_rows[0] !== p_top_row) { new_row = this.get_consecutive_numbers_index( valid_rows, size_y); } } return new_row; }; fn.get_consecutive_numbers_index = function(arr, size_y) { var max = arr.length; var result = []; var first = true; var prev = -1; // or null? for (var i=0; i < max; i++) { if (first || arr[i] === prev + 1) { result.push(i); if (result.length === size_y) { break; } first = false; }else{ result = []; first = true; } prev = arr[i]; } return result.length >= size_y ? arr[result[0]] : false; }; /** * Get widgets overlapping with the player. * * @method get_widgets_overlapped * @return {HTMLElements} Returns a jQuery collection of HTMLElements. */ fn.get_widgets_overlapped = function() { var $w; var $widgets = $([]); var used = []; var rows_from_bottom = this.cells_occupied_by_player.rows.slice(0); rows_from_bottom.reverse(); $.each(this.cells_occupied_by_player.cols, $.proxy(function(i, col) { $.each(rows_from_bottom, $.proxy(function(i, row) { // if there is a widget in the player position if (!this.gridmap[col]) { return true; } //next iteration var $w = this.gridmap[col][row]; if (this.is_occupied(col, row) && !this.is_player($w) && $.inArray($w, used) === -1 ) { $widgets = $widgets.add($w); used.push($w); } }, this)); }, this)); return $widgets; }; /** * This callback is executed when the player begins to collide with a column. * * @method on_start_overlapping_column * @param {Number} col The collided column. * @return {HTMLElements} Returns a jQuery collection of HTMLElements. */ fn.on_start_overlapping_column = function(col) { this.set_player(col, false); }; /** * A callback executed when the player begins to collide with a row. * * @method on_start_overlapping_row * @param {Number} col The collided row. * @return {HTMLElements} Returns a jQuery collection of HTMLElements. */ fn.on_start_overlapping_row = function(row) { this.set_player(false, row); }; /** * A callback executed when the the player ends to collide with a column. * * @method on_stop_overlapping_column * @param {Number} col The collided row. * @return {HTMLElements} Returns a jQuery collection of HTMLElements. */ fn.on_stop_overlapping_column = function(col) { this.set_player(col, false); var self = this; this.for_each_widget_below(col, this.cells_occupied_by_player.rows[0], function(tcol, trow) { self.move_widget_up(this, self.player_grid_data.size_y); }); }; /** * This callback is executed when the player ends to collide with a row. * * @method on_stop_overlapping_row * @param {Number} row The collided row. * @return {HTMLElements} Returns a jQuery collection of HTMLElements. */ fn.on_stop_overlapping_row = function(row) { this.set_player(false, row); var self = this; var cols = this.cells_occupied_by_player.cols; for (var c = 0, cl = cols.length; c < cl; c++) { this.for_each_widget_below(cols[c], row, function(tcol, trow) { self.move_widget_up(this, self.player_grid_data.size_y); }); } }; /** * Move a widget to a specific row. The cell or cells must be empty. * If the widget has widgets below, all of these widgets will be moved also * if they can. * * @method move_widget_to * @param {HTMLElement} $widget The jQuery wrapped HTMLElement of the * widget is going to be moved. * @return {Class} Returns the instance of the Gridster Class. */ fn.move_widget_to = function($widget, row) { var self = this; var widget_grid_data = $widget.coords().grid; var diff = row - widget_grid_data.row; var $next_widgets = this.widgets_below($widget); var can_move_to_new_cell = this.can_move_to( widget_grid_data, widget_grid_data.col, row, $widget); if (can_move_to_new_cell === false) { return false; } this.remove_from_gridmap(widget_grid_data); widget_grid_data.row = row; this.add_to_gridmap(widget_grid_data); $widget.attr('data-row', row); this.$changed = this.$changed.add($widget); $next_widgets.each(function(i, widget) { var $w = $(widget); var wgd = $w.coords().grid; var can_go_up = self.can_go_widget_up(wgd); if (can_go_up && can_go_up !== wgd.row) { self.move_widget_to($w, can_go_up); } }); return this; }; /** * Move up the specified widget and all below it. * * @method move_widget_up * @param {HTMLElement} $widget The widget you want to move. * @param {Number} [y_units] The number of cells that the widget has to move. * @return {Class} Returns the instance of the Gridster Class. */ fn.move_widget_up = function($widget, y_units) { var el_grid_data = $widget.coords().grid; var actual_row = el_grid_data.row; var moved = []; var can_go_up = true; y_units || (y_units = 1); if (!this.can_go_up($widget)) { return false; } //break; this.for_each_column_occupied(el_grid_data, function(col) { // can_go_up if ($.inArray($widget, moved) === -1) { var widget_grid_data = $widget.coords().grid; var next_row = actual_row - y_units; next_row = this.can_go_up_to_row( widget_grid_data, col, next_row); if (!next_row) { return true; } var $next_widgets = this.widgets_below($widget); this.remove_from_gridmap(widget_grid_data); widget_grid_data.row = next_row; this.add_to_gridmap(widget_grid_data); $widget.attr('data-row', widget_grid_data.row); this.$changed = this.$changed.add($widget); moved.push($widget); $next_widgets.each($.proxy(function(i, widget) { this.move_widget_up($(widget), y_units); }, this)); } }); }; /** * Move down the specified widget and all below it. * * @method move_widget_down * @param {HTMLElement} $widget The jQuery object representing the widget * you want to move. * @param {Number} The number of cells that the widget has to move. * @return {Class} Returns the instance of the Gridster Class. */ fn.move_widget_down = function($widget, y_units) { var el_grid_data = $widget.coords().grid; var actual_row = el_grid_data.row; var moved = []; var y_diff = y_units; if (!$widget) { return false; } if ($.inArray($widget, moved) === -1) { var widget_grid_data = $widget.coords().grid; var next_row = actual_row + y_units; var $next_widgets = this.widgets_below($widget); this.remove_from_gridmap(widget_grid_data); $next_widgets.each($.proxy(function(i, widget) { var $w = $(widget); var wd = $w.coords().grid; var tmp_y = this.displacement_diff( wd, widget_grid_data, y_diff); if (tmp_y > 0) { this.move_widget_down($w, tmp_y); } }, this)); widget_grid_data.row = next_row; this.update_widget_position(widget_grid_data, $widget); $widget.attr('data-row', widget_grid_data.row); this.$changed = this.$changed.add($widget); moved.push($widget); } }; /** * Check if the widget can move to the specified row, else returns the * upper row possible. * * @method can_go_up_to_row * @param {Number} widget_grid_data The current grid coords object of the * widget. * @param {Number} col The target column. * @param {Number} row The target row. * @return {Boolean|Number} Returns the row number if the widget can move * to the target position, else returns false. */ fn.can_go_up_to_row = function(widget_grid_data, col, row) { var ga = this.gridmap; var result = true; var urc = []; // upper_rows_in_columns var actual_row = widget_grid_data.row; var r; /* generate an array with columns as index and array with * upper rows empty in the column */ this.for_each_column_occupied(widget_grid_data, function(tcol) { var grid_col = ga[tcol]; urc[tcol] = []; r = actual_row; while (r--) { if (this.is_empty(tcol, r) && !this.is_placeholder_in(tcol, r) ) { urc[tcol].push(r); }else{ break; } } if (!urc[tcol].length) { result = false; return true; } }); if (!result) { return false; } /* get common rows starting from upper position in all the columns * that widget occupies */ r = row; for (r = 1; r < actual_row; r++) { var common = true; for (var uc = 0, ucl = urc.length; uc < ucl; uc++) { if (urc[uc] && $.inArray(r, urc[uc]) === -1) { common = false; } } if (common === true) { result = r; break; } } return result; }; fn.displacement_diff = function(widget_grid_data, parent_bgd, y_units) { var actual_row = widget_grid_data.row; var diffs = []; var parent_max_y = parent_bgd.row + parent_bgd.size_y; this.for_each_column_occupied(widget_grid_data, function(col) { var temp_y_units = 0; for (var r = parent_max_y; r < actual_row; r++) { if (this.is_empty(col, r)) { temp_y_units = temp_y_units + 1; } } diffs.push(temp_y_units); }); var max_diff = Math.max.apply(Math, diffs); y_units = (y_units - max_diff); return y_units > 0 ? y_units : 0; }; /** * Get widgets below a widget. * * @method widgets_below * @param {HTMLElement} $el The jQuery wrapped HTMLElement. * @return {HTMLElements} A jQuery collection of HTMLElements. */ fn.widgets_below = function($el) { var el_grid_data = $.isPlainObject($el) ? $el : $el.coords().grid; var self = this; var ga = this.gridmap; var next_row = el_grid_data.row + el_grid_data.size_y - 1; var $nexts = $([]); this.for_each_column_occupied(el_grid_data, function(col) { self.for_each_widget_below(col, next_row, function(tcol, trow) { if (!self.is_player(this) && $.inArray(this, $nexts) === -1) { $nexts = $nexts.add(this); return true; // break } }); }); return this.sort_by_row_asc($nexts); }; /** * Update the array of mapped positions with the new player position. * * @method set_cells_player_occupies * @param {Number} col The new player col. * @param {Number} col The new player row. * @return {Class} Returns the instance of the Gridster Class. */ fn.set_cells_player_occupies = function(col, row) { this.remove_from_gridmap(this.placeholder_grid_data); this.placeholder_grid_data.col = col; this.placeholder_grid_data.row = row; this.add_to_gridmap(this.placeholder_grid_data, this.$player); return this; }; /** * Remove from the array of mapped positions the reference to the player. * * @method empty_cells_player_occupies * @return {Class} Returns the instance of the Gridster Class. */ fn.empty_cells_player_occupies = function() { this.remove_from_gridmap(this.placeholder_grid_data); return this; }; fn.can_go_up = function($el) { var el_grid_data = $el.coords().grid; var initial_row = el_grid_data.row; var prev_row = initial_row - 1; var ga = this.gridmap; var upper_rows_by_column = []; var result = true; if (initial_row === 1) { return false; } this.for_each_column_occupied(el_grid_data, function(col) { var $w = this.is_widget(col, prev_row); if (this.is_occupied(col, prev_row) || this.is_player(col, prev_row) || this.is_placeholder_in(col, prev_row) || this.is_player_in(col, prev_row) ) { result = false; return true; //break } }); return result; }; /** * Check if it's possible to move a widget to a specific col/row. It takes * into account the dimensions (`size_y` and `size_x` attrs. of the grid * coords object) the widget occupies. * * @method can_move_to * @param {Object} widget_grid_data The grid coords object that represents * the widget. * @param {Object} col The col to check. * @param {Object} row The row to check. * @param {Number} [max_row] The max row allowed. * @return {Boolean} Returns true if all cells are empty, else return false. */ fn.can_move_to = function(widget_grid_data, col, row, max_row) { var ga = this.gridmap; var $w = widget_grid_data.el; var future_wd = { size_y: widget_grid_data.size_y, size_x: widget_grid_data.size_x, col: col, row: row }; var result = true; //Prevents widgets go out of the grid var right_col = col + widget_grid_data.size_x - 1; if (right_col > this.cols) { return false; } if (max_row && max_row < row + widget_grid_data.size_y - 1) { return false; } this.for_each_cell_occupied(future_wd, function(tcol, trow) { var $tw = this.is_widget(tcol, trow); if ($tw && (!widget_grid_data.el || $tw.is($w))) { result = false; } }); return result; }; /** * Given the leftmost column returns all columns that are overlapping * with the player. * * @method get_targeted_columns * @param {Number} [from_col] The leftmost column. * @return {Array} Returns an array with column numbers. */ fn.get_targeted_columns = function(from_col) { var max = (from_col || this.player_grid_data.col) + (this.player_grid_data.size_x - 1); var cols = []; for (var col = from_col; col <= max; col++) { cols.push(col); } return cols; }; /** * Given the upper row returns all rows that are overlapping with the player. * * @method get_targeted_rows * @param {Number} [from_row] The upper row. * @return {Array} Returns an array with row numbers. */ fn.get_targeted_rows = function(from_row) { var max = (from_row || this.player_grid_data.row) + (this.player_grid_data.size_y - 1); var rows = []; for (var row = from_row; row <= max; row++) { rows.push(row); } return rows; }; /** * Get all columns and rows that a widget occupies. * * @method get_cells_occupied * @param {Object} el_grid_data The grid coords object of the widget. * @return {Object} Returns an object like `{ cols: [], rows: []}`. */ fn.get_cells_occupied = function(el_grid_data) { var cells = { cols: [], rows: []}; var i; if (arguments[1] instanceof jQuery) { el_grid_data = arguments[1].coords().grid; } for (i = 0; i < el_grid_data.size_x; i++) { var col = el_grid_data.col + i; cells.cols.push(col); } for (i = 0; i < el_grid_data.size_y; i++) { var row = el_grid_data.row + i; cells.rows.push(row); } return cells; }; /** * Iterate over the cells occupied by a widget executing a function for * each one. * * @method for_each_cell_occupied * @param {Object} el_grid_data The grid coords object that represents the * widget. * @param {Function} callback The function to execute on each column * iteration. Column and row are passed as arguments. * @return {Class} Returns the instance of the Gridster Class. */ fn.for_each_cell_occupied = function(grid_data, callback) { this.for_each_column_occupied(grid_data, function(col) { this.for_each_row_occupied(grid_data, function(row) { callback.call(this, col, row); }); }); return this; }; /** * Iterate over the columns occupied by a widget executing a function for * each one. * * @method for_each_column_occupied * @param {Object} el_grid_data The grid coords object that represents * the widget. * @param {Function} callback The function to execute on each column * iteration. The column number is passed as first argument. * @return {Class} Returns the instance of the Gridster Class. */ fn.for_each_column_occupied = function(el_grid_data, callback) { for (var i = 0; i < el_grid_data.size_x; i++) { var col = el_grid_data.col + i; callback.call(this, col, el_grid_data); } }; /** * Iterate over the rows occupied by a widget executing a function for * each one. * * @method for_each_row_occupied * @param {Object} el_grid_data The grid coords object that represents * the widget. * @param {Function} callback The function to execute on each column * iteration. The row number is passed as first argument. * @return {Class} Returns the instance of the Gridster Class. */ fn.for_each_row_occupied = function(el_grid_data, callback) { for (var i = 0; i < el_grid_data.size_y; i++) { var row = el_grid_data.row + i; callback.call(this, row, el_grid_data); } }; fn._traversing_widgets = function(type, direction, col, row, callback) { var ga = this.gridmap; if (!ga[col]) { return; } var cr, max; var action = type + '/' + direction; if (arguments[2] instanceof jQuery) { var el_grid_data = arguments[2].coords().grid; col = el_grid_data.col; row = el_grid_data.row; callback = arguments[3]; } var matched = []; var trow = row; var methods = { 'for_each/above': function() { while (trow--) { if (trow > 0 && this.is_widget(col, trow) && $.inArray(ga[col][trow], matched) === -1 ) { cr = callback.call(ga[col][trow], col, trow); matched.push(ga[col][trow]); if (cr) { break; } } } }, 'for_each/below': function() { for (trow = row + 1, max = ga[col].length; trow < max; trow++) { if (this.is_widget(col, trow) && $.inArray(ga[col][trow], matched) === -1 ) { cr = callback.call(ga[col][trow], col, trow); matched.push(ga[col][trow]); if (cr) { break; } } } } }; if (methods[action]) { methods[action].call(this); } }; /** * Iterate over each widget above the column and row specified. * * @method for_each_widget_above * @param {Number} col The column to start iterating. * @param {Number} row The row to start iterating. * @param {Function} callback The function to execute on each widget * iteration. The value of `this` inside the function is the jQuery * wrapped HTMLElement. * @return {Class} Returns the instance of the Gridster Class. */ fn.for_each_widget_above = function(col, row, callback) { this._traversing_widgets('for_each', 'above', col, row, callback); return this; }; /** * Iterate over each widget below the column and row specified. * * @method for_each_widget_below * @param {Number} col The column to start iterating. * @param {Number} row The row to start iterating. * @param {Function} callback The function to execute on each widget * iteration. The value of `this` inside the function is the jQuery wrapped * HTMLElement. * @return {Class} Returns the instance of the Gridster Class. */ fn.for_each_widget_below = function(col, row, callback) { this._traversing_widgets('for_each', 'below', col, row, callback); return this; }; /** * Returns the highest occupied cell in the grid. * * @method get_highest_occupied_cell * @return {Object} Returns an object with `col` and `row` numbers. */ fn.get_highest_occupied_cell = function() { var r; var gm = this.gridmap; var rows = []; var row_in_col = []; for (var c = gm.length - 1; c >= 1; c--) { for (r = gm[c].length - 1; r >= 1; r--) { if (this.is_widget(c, r)) { rows.push(r); row_in_col[r] = c; break; } } } var highest_row = Math.max.apply(Math, rows); this.highest_occupied_cell = { col: row_in_col[highest_row], row: highest_row }; return this.highest_occupied_cell; }; fn.get_widgets_from = function(col, row) { var ga = this.gridmap; var $widgets = $(); if (col) { $widgets = $widgets.add( this.$widgets.filter(function() { var tcol = $(this).attr('data-col'); return (tcol === col || tcol > col); }) ); } if (row) { $widgets = $widgets.add( this.$widgets.filter(function() { var trow = $(this).attr('data-row'); return (trow === row || trow > row); }) ); } return $widgets; }; /** * Set the current height of the parent grid. * * @method set_dom_grid_height * @return {Object} Returns the instance of the Gridster class. */ fn.set_dom_grid_height = function() { var r = this.get_highest_occupied_cell().row; this.$el.css('height', r * this.min_widget_height); return this; }; /** * It generates the neccessary styles to position the widgets. * * @method generate_stylesheet * @param {Number} rows Number of columns. * @param {Number} cols Number of rows. * @return {Object} Returns the instance of the Gridster class. */ fn.generate_stylesheet = function(opts) { var styles = ''; var max_size_x = this.options.max_size_x; var max_rows = 0; var max_cols = 0; var i; var rules; opts || (opts = {}); opts.cols || (opts.cols = this.cols); opts.rows || (opts.rows = this.rows); opts.namespace || (opts.namespace = this.options.namespace); opts.widget_base_dimensions || (opts.widget_base_dimensions = this.options.widget_base_dimensions); opts.widget_margins || (opts.widget_margins = this.options.widget_margins); opts.min_widget_width = (opts.widget_margins[0] * 2) + opts.widget_base_dimensions[0]; opts.min_widget_height = (opts.widget_margins[1] * 2) + opts.widget_base_dimensions[1]; // don't duplicate stylesheets for the same configuration var serialized_opts = $.param(opts); if ($.inArray(serialized_opts, Gridster.generated_stylesheets) >= 0) { return false; } Gridster.generated_stylesheets.push(serialized_opts); /* generate CSS styles for cols */ for (i = opts.cols; i >= 0; i--) { styles += (opts.namespace + ' [data-col=""'+ (i + 1) + '""] { left:' + ((i * opts.widget_base_dimensions[0]) + (i * opts.widget_margins[0]) + ((i + 1) * opts.widget_margins[0])) + 'px;} '); } /* generate CSS styles for rows */ for (i = opts.rows; i >= 0; i--) { styles += (opts.namespace + ' [data-row=""' + (i + 1) + '""] { top:' + ((i * opts.widget_base_dimensions[1]) + (i * opts.widget_margins[1]) + ((i + 1) * opts.widget_margins[1]) ) + 'px;} '); } for (var y = 1; y <= opts.rows; y++) { styles += (opts.namespace + ' [data-sizey=""' + y + '""] { height:' + (y * opts.widget_base_dimensions[1] + (y - 1) * (opts.widget_margins[1] * 2)) + 'px;}'); } for (var x = 1; x <= max_size_x; x++) { styles += (opts.namespace + ' [data-sizex=""' + x + '""] { width:' + (x * opts.widget_base_dimensions[0] + (x - 1) * (opts.widget_margins[0] * 2)) + 'px;}'); } return this.add_style_tag(styles); }; /** * Injects the given CSS as string to the head of the document. * * @method add_style_tag * @param {String} css The styles to apply. * @return {Object} Returns the instance of the Gridster class. */ fn.add_style_tag = function(css) { var d = document; var tag = d.createElement('style'); d.getElementsByTagName('head')[0].appendChild(tag); tag.setAttribute('type', 'text/css'); if (tag.styleSheet) { tag.styleSheet.cssText = css; }else{ tag.appendChild(document.createTextNode(css)); } return this; }; /** * Generates a faux grid to collide with it when a widget is dragged and * detect row or column that we want to go. * * @method generate_faux_grid * @param {Number} rows Number of columns. * @param {Number} cols Number of rows. * @return {Object} Returns the instance of the Gridster class. */ fn.generate_faux_grid = function(rows, cols) { this.faux_grid = []; this.gridmap = []; var col; var row; for (col = cols; col > 0; col--) { this.gridmap[col] = []; for (row = rows; row > 0; row--) { this.add_faux_cell(row, col); } } return this; }; /** * Add cell to the faux grid. * * @method add_faux_cell * @param {Number} row The row for the new faux cell. * @param {Number} col The col for the new faux cell. * @return {Object} Returns the instance of the Gridster class. */ fn.add_faux_cell = function(row, col) { var coords = $({ left: this.baseX + ((col - 1) * this.min_widget_width), top: this.baseY + (row -1) * this.min_widget_height, width: this.min_widget_width, height: this.min_widget_height, col: col, row: row, original_col: col, original_row: row }).coords(); if (!$.isArray(this.gridmap[col])) { this.gridmap[col] = []; } this.gridmap[col][row] = false; this.faux_grid.push(coords); return this; }; /** * Add rows to the faux grid. * * @method add_faux_rows * @param {Number} rows The number of rows you want to add to the faux grid. * @return {Object} Returns the instance of the Gridster class. */ fn.add_faux_rows = function(rows) { var actual_rows = this.rows; var max_rows = actual_rows + (rows || 1); for (var r = max_rows; r > actual_rows; r--) { for (var c = this.cols; c >= 1; c--) { this.add_faux_cell(r, c); } } this.rows = max_rows; if (this.options.autogenerate_stylesheet) { this.generate_stylesheet(); } return this; }; /** * Add cols to the faux grid. * * @method add_faux_cols * @param {Number} cols The number of cols you want to add to the faux grid. * @return {Object} Returns the instance of the Gridster class. */ fn.add_faux_cols = function(cols) { var actual_cols = this.cols; var max_cols = actual_cols + (cols || 1); for (var c = actual_cols; c < max_cols; c++) { for (var r = this.rows; r >= 1; r--) { this.add_faux_cell(r, c); } } this.cols = max_cols; if (this.options.autogenerate_stylesheet) { this.generate_stylesheet(); } return this; }; /** * Recalculates the offsets for the faux grid. You need to use it when * the browser is resized. * * @method recalculate_faux_grid * @return {Object} Returns the instance of the Gridster class. */ fn.recalculate_faux_grid = function() { var aw = this.$wrapper.width(); this.baseX = ($(window).width() - aw) / 2; this.baseY = this.$wrapper.offset().top; $.each(this.faux_grid, $.proxy(function(i, coords) { this.faux_grid[i] = coords.update({ left: this.baseX + (coords.data.col -1) * this.min_widget_width, top: this.baseY + (coords.data.row -1) * this.min_widget_height }); }, this)); return this; }; /** * Get all widgets in the DOM and register them. * * @method get_widgets_from_DOM * @return {Object} Returns the instance of the Gridster class. */ fn.get_widgets_from_DOM = function() { this.$widgets.each($.proxy(function(i, widget) { this.register_widget($(widget)); }, this)); return this; }; /** * Calculate columns and rows to be set based on the configuration * parameters, grid dimensions, etc ... * * @method generate_grid_and_stylesheet * @return {Object} Returns the instance of the Gridster class. */ fn.generate_grid_and_stylesheet = function() { var aw = this.$wrapper.width(); var ah = this.$wrapper.height(); var cols = Math.floor(aw / this.min_widget_width) + this.options.extra_cols; var actual_cols = this.$widgets.map(function() { return $(this).attr('data-col'); }); actual_cols = Array.prototype.slice.call(actual_cols, 0); //needed to pass tests with phantomjs actual_cols.length || (actual_cols = [0]); var min_cols = Math.max.apply(Math, actual_cols); // get all rows that could be occupied by the current widgets var max_rows = this.options.extra_rows; this.$widgets.each(function(i, w) { max_rows += (+$(w).attr('data-sizey')); }); this.cols = Math.max(min_cols, cols, this.options.min_cols); this.rows = Math.max(max_rows, this.options.min_rows); this.baseX = ($(window).width() - aw) / 2; this.baseY = this.$wrapper.offset().top; if (this.options.autogenerate_stylesheet) { this.generate_stylesheet(); } return this.generate_faux_grid(this.rows, this.cols); }; //jQuery adapter $.fn.gridster = function(options) { return this.each(function() { if (!$(this).data('gridster')) { $(this).data('gridster', new Gridster( this, options )); } }); }; $.Gridster = fn; }(jQuery, window, document)); /* * Copyright (C) 2012 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ (function() { var V = envision, global_data = {}; function getDefaultsMarkers(option, markers, dates) { var mark = """"; if (!markers || markers.length === 0) return mark; for ( var i = 0; i < markers.date.length; i++) { if (markers.date[i] == dates[option.index]) { mark = markers.marks[i]; } } return mark; } function getEnvisionDefaultsGraph(name, gconfig) { var graph = { name : name, config : { colors : gconfig.colors, grid: {verticalLines:false, horizontalLines:false}, mouse : { // container: $(""#all-envision-legend""), track : true, trackY : false, position : 'ne' }, yaxis : { min : 0, autoscale : true }, legend : { show: false, backgroundColor : '#FFFFFF', backgroundOpacity : 0 } } }; if (gconfig.gtype === ""whiskers"") graph.config.whiskers = { show : true, lineWidth : 2 }; else graph.config['lite-lines'] = { lineWidth : 2, show : true, fill : false, fillOpacity : 0.5 }; if (gconfig.y_labels) graph.config.yaxis = { showLabels : true, min : 0 }; if (gconfig.show_markers) graph.config.markers = { show : true, position : 'ct', labelFormatter : function(o) { return getDefaultsMarkers(o, gconfig.markers, gconfig.dates); } }; return graph; } function getDefaultsMetrics(DS, viz, metrics, default_config) { var all_metrics = Report.getAllMetrics(); var label = null; $.each(metrics, function(metric, value) { config = default_config; if (value.envision) config = DataProcess.mergeConfig(default_config, value.envision); if ($.inArray(metric, global_data.envision_hide) === -1) { viz[metric] = getEnvisionDefaultsGraph ('report-' + DS.getName() + '-' + metric, config); label = metric; if (all_metrics[metric]) label = all_metrics[metric].name; viz[metric].config.subtitle = label; if (DS.getMainMetric() == metric) { // Create graph also for relative data viz[metric+""_relative""] = getEnvisionDefaultsGraph ('report-' + DS.getName() + '-' + metric+""_relative"", config); viz[metric].config['lite-lines'] = {show:false}; viz[metric].config.lines = { lineWidth : 1, show : true, stacked: true, fill : true, fillOpacity : 1 }; } } }); } function getDefaults(ds) { //var defaults_colors = [ '#ffa500', '#ffff00', '#00ff00', '#4DA74D', // '#9440ED' ]; var defaults_colors = [ '#ffa500', '#00A8F0', '#C0D800', '#ffff00', '#00ff00', '#4DA74D', '#9440ED' ]; var default_config = { colors : defaults_colors, dates : global_data.dates, g_type : '', markers : global_data.markers, y_labels : false }; var data_sources = Report.getDataSources(); var viz = {}; var metrics = {}; if (!ds) { $.each(data_sources, function(i, DS) { metrics = DS.getMetrics(); getDefaultsMetrics(DS, viz, metrics, default_config); }); } else { $.each(data_sources, function(i, DS) { if ($.inArray(DS.getName(), ds) > -1) { metrics = DS.getMetrics(); getDefaultsMetrics(DS, viz, metrics, default_config); } }); } config = default_config; viz.summary = getEnvisionDefaultsGraph('report-summary', config); viz.summary.config.xaxis = { noTickets : 10, showLabels : true }; viz.summary.config.handles = { show : true }; viz.summary.config.selection = { mode : 'x' }; viz.summary.config.mouse = {}; viz.connection = { name : 'report-connection', adapterConstructor : V.components.QuadraticDrawing }; return viz; } function getOrderedDataSources(ds_list, main_metric) { var ordered = []; var main_DS = null; $.each(ds_list, function(i, DS) { if (DS.getMetrics()[main_metric]) { main_DS = DS; return false; } }); ordered.push(main_DS); $.each(ds_list, function(i, DS) { if (DS===main_DS) return; ordered.push(DS); }); return ordered; } function Envision_Report(options, data_sources) { var main_metric = options.data.main_metric; global_data = options.data; if (!data_sources) data_sources = Report.getDataSources(); data_sources = getOrderedDataSources(data_sources, main_metric); var ds = []; for ( var i = 0; i < data_sources.length; i++) { if (data_sources[i].getData().length === 0) continue; ds.push(data_sources[i].getName()); } var data = options.data, defaults = getDefaults(ds), vis = new V.Visualization( { name : 'report-' + ds.join("","") }), selection = new V.Interaction(), hit = new V.Interaction(); var metrics = {}; $.each(data_sources, function(i, DS) { if (DS.getData().length === 0) return; metrics = $.extend(metrics, DS.getMetrics()); }); $.each(metrics, function(metric, value) { if ($.inArray(metric, data.envision_hide) !== -1) return; if (data[metric] === undefined) return; defaults[metric].data = data[metric]; // The legend is different if the metric is not in all projects if (defaults[metric].data.length < Report.getProjectsList().length) defaults[metric].config.legend.show = true; if (data[metric+""_relative""]) defaults[metric].data = data[metric+""_relative""]; }); defaults.summary.data = data.summary; // SHOW MOUSE LEGEND AND LEGEND defaults[main_metric].config.legend.show = true; if (options.legend_show === false) defaults[main_metric].config.legend.show = false; defaults[main_metric].config.mouse.trackFormatter = options.trackFormatter; if (options.xTickFormatter) { defaults.summary.config.xaxis.tickFormatter = options.xTickFormatter; } defaults[main_metric].config.yaxis.tickFormatter = options.yTickFormatter || function(n) { return '$' + n; }; // ENVISION COMPONENTS var components = {}; $.each(metrics, function(metric, value) { if (data[metric] === undefined) return; if ($.inArray(metric, data.envision_hide) === -1) { components[metric] = new V.Component(defaults[metric]); } }); connection = new V.Component(defaults.connection); summary = new V.Component(defaults.summary); // VISUALIZATION $.each(components, function(component, value) { vis.add(value); }); vis .add(connection).add(summary) .render(options.container); // ZOOMING $.each(components, function(component, value) { selection.follower(value); }); selection.follower(connection).leader(summary).add(V.actions.selection, options.selectionCallback ? { callback : options.selectionCallback } : null); // HIT var hit_group = []; $.each(components, function(component, value) { hit_group.push(value); }); hit.group(hit_group).add(V.actions.hit); // INITIAL SELECTION if (options.selection) { summary.trigger('select', options.selection); } } V.templates.Envision_Report = Envision_Report; })(); /* * Copyright (C) 2012-2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ if (Loader === undefined) var Loader = {}; (function() { var data_callbacks = []; var data_global_callbacks = []; var data_repos_callbacks = []; var check_companies = false, check_repos = false, check_countries = false; var ds_not_supported_company_top = ['scr','irc','mediawiki']; Loader.data_ready = function(callback) { data_callbacks.push(callback); }; Loader.data_ready_global = function(callback) { data_global_callbacks.push(callback); }; function fillProjectInfo(data, dir) { if (data.project_name === undefined) { data.project_name = dir.replace(""data/json"","""") .replace(/\.\.\//g,""""); } var projects_data = Report.getProjectsData(); projects_data[data.project_name] = {dir:dir,url:data.project_url}; } Loader.data_load = function() { // If we have a config file just load what is configured if (Report.getConfig() !== null && Report.getConfig().project_info !== undefined) { Report.setProjectData(Report.getConfig().project_info); if (Report.getConfig().markers) data_load_file(Report.getMarkersFile(), function(data, self) {Report.setMarkers(data);}); } // No config file. Try to load all else { data_load_file(Report.getProjectFile(), function(data, self) {Report.setProjectData(data);}); data_load_file(Report.getMarkersFile(), function(data, self) {Report.setMarkers(data);}); } // Multiproject not tested with config.json var projects_dirs = Report.getProjectsDirs(); for (var i=0; i<projects_dirs.length; i++) { var data_dir = projects_dirs[i]; var prj_file = Report.getDataDir() + ""/project-info.json""; data_load_file(prj_file, fillProjectInfo, data_dir); } data_load_file(Report.getVizConfigFile(), function(data, self) {Report.setVizConfig(data);}); data_load_metrics_definition(); data_load_metrics(); data_load_tops('authors'); data_load_time_to_fix(); data_load_time_to_attention(); data_load_demographics(); data_load_markov_table(); if (Report.getConfig() !== null && Report.getConfig().reports !== undefined) { var active_reports = Report.getConfig().reports; if ($.inArray('companies', active_reports) > -1) data_load_companies(); if ($.inArray('repositories', active_reports) > -1) data_load_repos(); if ($.inArray('countries', active_reports) > -1) data_load_countries(); if ($.inArray('domains', active_reports) > -1) data_load_domains(); if ($.inArray('people', active_reports) > -1) { data_load_people(); data_load_people_identities(); } } else { data_load_companies(); data_load_repos(); data_load_countries(); data_load_domains(); data_load_people(); data_load_people_identities(); } }; // Load just one file to viz it in a div Loader.get_file_data_div = function (file, cb, div) { $.when($.getJSON(file)).done(function(history) { cb (div, file, history); }).fail(function() { cb (file, null); }); }; function data_load_file(file, fn_data_set, self) { $.when($.getJSON(file)).done(function(history) { fn_data_set(history, self); end_data_load(); }).fail(function() { fn_data_set([], self); end_data_load(); }); } function data_load_companies() { var ds_not_supported = ['irc','mediawiki']; var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if ($.inArray(DS.getName(), ds_not_supported) >-1) DS.setCompaniesData([]); else data_load_file(DS.getCompaniesDataFile(), DS.setCompaniesData, DS); }); } function data_load_repos() { var ds_not_supported = ['mediawiki']; var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if ($.inArray(DS.getName(), ds_not_supported) >-1) DS.setReposData([]); else data_load_file(DS.getReposDataFile(), DS.setReposData, DS); }); // Repositories mapping between data sources data_load_file(Report.getReposMapFile(), Report.setReposMap); } function data_load_countries() { var ds_not_supported = ['irc','mediawiki']; var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if ($.inArray(DS.getName(), ds_not_supported) >-1) DS.setCountriesData([]); else data_load_file(DS.getCountriesDataFile(), DS.setCountriesData, DS); }); } function data_load_domains() { var ds_not_supported = ['irc','mediawiki']; var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if ($.inArray(DS.getName(), ds_not_supported) >-1) DS.setDomainsData([]); else data_load_file(DS.getDomainsDataFile(), DS.setDomainsData, DS); }); } // Just for ITS now function data_load_time_to_fix() { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if (DS.getName() === ""its"") data_load_file(DS.getTimeToFixDataFile(), DS.setTimeToFixData, DS); }); } function data_load_markov_table() { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if (DS.getName() === ""its"") data_load_file(DS.getMarkovTableDataFile(), DS.setMarkovTableData, DS); }); } // Just for MLS now function data_load_time_to_attention() { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { if (DS.getName() === ""mls"") data_load_file(DS.getTimeToAttentionDataFile(), DS.setTimeToAttentionData, DS); }); } function data_load_demographics() { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { data_load_file(DS.getDemographicsAgingFile(), DS.setDemographicsAgingData, DS); data_load_file(DS.getDemographicsBirthFile(), DS.setDemographicsBirthData, DS); }); } function data_load_tops(metric) { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { var file_all = DS.getTopDataFile(); $.when($.getJSON(file_all)).done(function(history) { DS.setGlobalTopData(history); end_data_load(); }).fail(function() { DS.setGlobalTopData([], DS); end_data_load(); }); }); } Loader.check_filters_page = function(page) { var check = true; var filters = [""repos"",""companies"",""countries""]; $.each(filters, function(index, filter) { if (!Loader.check_filter_page(page, filter)) { check = false; return false; } }); return check; }; Loader.check_filter_page = function(page, filter) { var check = true; if (page === undefined) page = 1; var start = Report.getPageSize()*(page-1); var end = start + Report.getPageSize(); $.each(Report.getDataSources(), function(index, DS) { var total = 0; if (filter === ""repos"") total = DS.getReposData().length; if (filter === ""companies"") total = DS.getCompaniesData().length; if (filter === ""countries"") total = DS.getCountriesData().length; if (filter === ""domains"") total = DS.getDomainsData().length; if (end>total) end = total; for (var i=start;i<end;i++) { var item; if (filter === ""repos"") { item = DS.getReposData()[i]; if (DS.getReposGlobalData()[item] === undefined || DS.getReposMetricsData()[item] === undefined) { check = false; return false; } } if (filter === ""companies"") { item = DS.getCompaniesData()[i]; if (DS.getCompaniesGlobalData()[item] === undefined || DS.getCompaniesMetricsData()[item] === undefined) { check = false; return false; } } if (filter === ""countries"") { item = DS.getCountriesData()[i]; if (DS.getCountriesGlobalData()[item] === undefined || DS.getCountriesMetricsData()[item] === undefined) { check = false; return false; } } if (filter === ""domains"") { item = DS.getDomainsData()[i]; if (DS.getDomainsGlobalData()[item] === undefined || DS.getDomainsMetricsData()[item] === undefined) { check = false; return false; } } } end = start + Report.getPageSize(); }); return check; }; // Get the data source for an item function getItemDS(item, filter) { var ds = null; $.each(Report.getDataSources(), function(index, DS) { if (filter == ""repos"") { if ($.inArray(item, DS.getReposData())>-1) { ds = DS; return false; } } if (filter == ""companies"") { if ($.inArray(item, DS.getCompaniesData())>-1) { ds = DS; return false; } } if (filter == ""countries"") { if ($.inArray(item, DS.getCountriesData())>-1) { ds = DS; return false; } } if (filter == ""domains"") { if ($.inArray(item, DS.getDomainsData())>-1) { ds = DS; return false; } } }); return ds; } // Check for top data for companies (TODO: add others when supported) Loader.FilterItemCheck = function(item, filter) { var check = true, ds; var map = Report.getReposMap(); if (filter === ""repos"") { if (Loader.check_item (item, filter) === false) { ds = getItemDS(item, filter); if (ds === null) { Report.log(""Can't find data source for "" + item); return true; } Loader.data_load_item (item, ds, null, Convert.convertFilterStudyItem, filter, null); return false; } // Support repositories mapping if (map !== undefined && map.length !== 0) { var items_map = []; $.each(Report.getDataSources(), function(index, DS) { var itmap = Convert.getRealItem(DS, filter, item); if (itmap !== undefined && itmap !== null) items_map.push(itmap); }); if (Loader.check_items (items_map, filter) === false) { for (var i=0; i< items_map.length; i++) { if (Loader.check_item (items_map[i], filter) === false) { ds = getItemDS(items_map[i], filter); if (ds === null) { Report.log(""Can't find "" + items_map[i]); Report.log(""Check repos-map.json""); continue; } Loader.data_load_item (items_map[i], ds, null, Convert.convertFilterStudyItem, filter, items_map); } } check = false; } } } // Companies, countries and domains should be loaded for all data sources active else { $.each(Report.getDataSources(), function(index, DS) { if (Loader.check_item (item, filter) === false) { check = false; Loader.data_load_item (item, DS, null, Convert.convertFilterStudyItem, filter, null); if (filter === ""companies"") { if ($.inArray(DS.getName(),ds_not_supported_company_top) === -1) Loader.data_load_item_top (item, DS, null, Convert.convertFilterStudyItem, filter); } } }); } return check; }; // Check the item in one data source for repos // Check the item for all data sources for countries, companies and domains Loader.check_item = function(item, filter) { var check = false; $.each(Report.getDataSources(), function(index, DS) { if (filter === ""repos"") { // Check item data. item name is unique in all data sources // Ok if item find in any data source if (DS.getReposGlobalData()[item] !== undefined && DS.getReposMetricsData()[item] !== undefined) { check = true; return false; } } if (filter === ""companies"") { var companies = DS.getCompaniesData(); // No data for companies if (companies.length === 0) check = true; // Company available else if ($.inArray(item, companies) === -1) check = true; // Check item data for all data sources else if (DS.getCompaniesGlobalData()[item] === undefined || DS.getCompaniesMetricsData()[item] === undefined) { check = false; return false; } // Check item data top for all data sources supported else if ($.inArray(DS.getName(),ds_not_supported_company_top) === -1 && DS.getCompaniesTopData()[item] === undefined) { check = false; return false; } else check = true; } if (filter === ""countries"") { var countries = DS.getCountriesData(); // No data for countries if (countries.length === 0) check = true; // Country available else if ($.inArray(item, countries) === -1) check = true; // Check item data for all data sources else if (DS.getCountriesGlobalData()[item] === undefined || DS.getCountriesMetricsData()[item] === undefined) { check = false; return false; } else check = true; } if (filter === ""domains"") { var domains = DS.getDomainsData(); // No data for domains if (domains.length === 0) check = true; // Domain available else if ($.inArray(item, domains) === -1) check = true; // Check item data for all data sources else if (DS.getDomainsGlobalData()[item] === undefined || DS.getDomainsMetricsData()[item] === undefined) { check = false; return false; } else check = true; } }); return check; }; Loader.check_items = function(items, filter) { var check = true; $.each(items, function(id, item) { if (Loader.check_item (item, filter) === false) { check = false; return false; } }); return check; }; Loader.data_load_items_page = function (DS, page, cb, filter) { if (page === undefined) page = 1; if (filter === ""repos"") if (DS.getReposData() === null) return false; if (filter === ""companies"") if (DS.getCompaniesData() === null) return false; if (filter === ""countries"") if (DS.getCountriesData() === null) return false; if (filter === ""domains"") if (DS.getDomainsData() === null) return false; // No data var total = 0; if (filter === ""repos"") total = DS.getReposData().length; if (filter === ""companies"") total = DS.getCompaniesData().length; if (filter === ""countries"") total = DS.getCountriesData().length; if (filter === ""domains"") total = DS.getDomainsData().length; if (total === 0) return true; // Check if we have the data for the page and if not load var start = Report.getPageSize()*(page-1); var end = start + Report.getPageSize(); if (end>total) end = total; for (var i=start;i<end;i++) { if (filter === ""repos"") { var repo = DS.getReposData()[i]; Loader.data_load_item (repo, DS, page, cb, ""repos""); } else if (filter === ""companies"") { var company = DS.getCompaniesData()[i]; Loader.data_load_item (company, DS, page, cb, ""companies""); } else if (filter === ""countries"") { var country = DS.getCountriesData()[i]; Loader.data_load_item (country, DS, page, cb, ""countries""); } else if (filter === ""domains"") { var domain = DS.getDomainsData()[i]; Loader.data_load_item (domain, DS, page, cb, ""domains""); } } }; Loader.check_people_item = function(item) { var check = true; $.each(Report.getDataSources(), function(index, DS) { if (DS.getPeopleGlobalData()[item] === undefined || DS.getPeopleMetricsData()[item] === undefined) { check = false; return false; } }); return check; }; Loader.data_load_people_item = function (upeople_id, DS, cb) { var file = DS.getDataDir() + ""/people-""+upeople_id+""-""+DS.getName(); var file_evo = file + ""-evolutionary.json""; var file_static = file + ""-static.json""; $.when($.getJSON(file_evo),$.getJSON(file_static) ).done(function(evo, global) { DS.addPeopleMetricsData(upeople_id, evo[0], DS); DS.addPeopleGlobalData(upeople_id, global[0], DS); if (Loader.check_people_item(upeople_id)) cb(upeople_id); }).fail(function() { DS.addPeopleMetricsData(upeople_id, [], DS); DS.addPeopleGlobalData(upeople_id, [], DS); if (Loader.check_people_item(upeople_id)) cb(upeople_id); }); }; function getFilterSuffix(filter) { var filter_suffix = ''; if (filter === ""repos"") { filter_suffix = 'rep'; } else if (filter === ""companies"") { filter_suffix = 'com'; } else if (filter === ""countries"") { filter_suffix = 'cou'; } else if (filter === ""domains"") { filter_suffix = 'dom'; } return filter_suffix; } // TODO: Only companies supported yet, but ready for all items! Loader.data_load_item_top = function (item, DS, page, cb, filter) { var file_top = DS.getDataDir() + ""/""+ item +""-"" + DS.getName(); file_top += ""-"" + getFilterSuffix(filter) + ""-top-""; if (DS.getName() === ""scm"") file_top += ""authors""; else if (DS.getName() === ""its"") file_top += ""closers""; else if (DS.getName() === ""mls"") file_top += ""senders""; // scr, irc, mediawiki not supported yet else return; file_top += "".json""; $.when($.getJSON(file_top)).done(function(top) { if (filter === ""companies"") { DS.addCompanyTopData(item, top); } }).fail(function() { if (filter === ""companies"") { DS.addCompanyTopData(item, []); } }).always(function() { if (Loader.check_item (item, filter)) { if (!cb.called_item) cb(filter); cb.called_item = true; } }); }; // Load an item JSON data. If in a page, check all items read and cb. // TODO: A bit complex now, we should break it in different functions Loader.data_load_item = function (item, DS, page, cb, filter, items_map) { var ds_not_supported_countries = ['irc','mediawiki']; var ds_not_supported_companies = ['irc','mediawiki']; var ds_not_supported_domains = ['irc','mediawiki']; var ds_not_supported_repos = ['mediawiki']; if (filter === ""repos"") { if ($.inArray(DS.getName(),ds_not_supported_repos)>-1) { DS.addRepoMetricsData(item, [], DS); DS.addRepoGlobalData(item, [], DS); return; } } else if (filter === ""companies"") { if ($.inArray(DS.getName(),ds_not_supported_companies)>-1) { DS.addCompanyMetricsData(item, [], DS); DS.addCompanyGlobalData(item, [], DS); return; } } else if (filter === ""countries"") { if ($.inArray(DS.getName(),ds_not_supported_countries)>-1) { DS.addCountryMetricsData(item, [], DS); DS.addCountryGlobalData(item, [], DS); return; } } else if (filter === ""domains"") { if ($.inArray(DS.getName(),ds_not_supported_domains)>-1) { DS.addDomainMetricsData(item, [], DS); DS.addDomainGlobalData(item, [], DS); return; } } else return; var item_uri = encodeURIComponent(item); var file = DS.getDataDir()+""/""+item_uri+""-""; file += DS.getName() + ""-"" + getFilterSuffix(filter); var file_evo = file +""-evolutionary.json""; var file_static = file +""-static.json""; $.when($.getJSON(file_evo),$.getJSON(file_static) ).done(function(evo, global) { if (filter === ""repos"") { DS.addRepoMetricsData(item, evo[0], DS); DS.addRepoGlobalData(item, global[0], DS); } else if (filter === ""companies"") { DS.addCompanyMetricsData(item, evo[0], DS); DS.addCompanyGlobalData(item, global[0], DS); } else if (filter === ""countries"") { DS.addCountryMetricsData(item, evo[0], DS); DS.addCountryGlobalData(item, global[0], DS); } else if (filter === ""domains"") { DS.addDomainMetricsData(item, evo[0], DS); DS.addDomainGlobalData(item, global[0], DS); } }).always(function() { // Check all items for a page if (page !== null) { if (Loader.check_filter_page (page, filter)) { if (cb.called_page === undefined) { cb.called_page = {}; cb.called_page[filter] = true; cb(filter); } else if (!cb.called_page[filter]) { cb(filter); cb.called_page[filter] = true; } } } // Check all items for repositories mapping else if (items_map !== null) { if (Loader.check_items (items_map, filter)) { if (cb.called_map === undefined) { cb.called_map = {}; cb.called_map[filter] = true; cb(filter); } else if (!cb.called_map[filter]) { cb(filter); cb.called_map[filter] = true; } } } // Check just one item else { if (Loader.check_item (item, filter)) { if (cb.called_item === undefined) { cb.called_item = {}; cb.called_item[filter] = true; cb(filter, item); } else if (!cb.called_item[filter]) { cb(filter, item); cb.called_item[filter] = true; } } } }); }; function data_load_metrics() { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { data_load_file(DS.getDataFile(), DS.setData, DS); data_load_file(DS.getGlobalDataFile(), DS.setGlobalData, DS); if (DS instanceof MLS) { data_load_file(DS.getListsFile(), DS.setListsData, DS); } }); } function data_load_metrics_definition() { data_load_file(""VizGrimoireJS/data/metrics.json"", Report.setMetricsDefinition); } function data_load_people() { var data_sources = Report.getDataSources(); $.each(data_sources, function(i, DS) { data_load_file(DS.getPeopleDataFile(), DS.setPeopleData, DS); }); } function data_load_people_identities() { data_load_file(Report.getDataDir()+""/people.json"", Report.setPeopleIdentities); } function check_companies_loaded(DS) { if (DS.getCompaniesData() === null) return false; return true; } function check_repos_loaded(DS) { if (DS.getReposData() === null) return false; return true; } function check_countries_loaded(DS) { if (DS.getCountriesData() === null) return false; return true; } function check_domains_loaded(DS) { if (DS.getDomainsData() === null) return false; return true; } function check_projects_loaded() { var projects_loaded = 0; var projects_data = Report.getProjectsData(); var projects_dirs = Report.getProjectsDirs(); for (var key in projects_data) {projects_loaded++;} if (projects_loaded < projects_dirs.length ) return false; return true; } function check_data_loaded_global() { var check = true; if (Report.getProjectData() === null || Report.getVizConfig() === null) return false; if (Report.getConfig() === null) if (Report.getMarkers() === null) return false; if (Report.getReposMap() === null) return false; // Multiproject not support in config.json report if (Report.getConfig() === null) if (!(check_projects_loaded())) return false; var data_sources = Report.getDataSources(); $.each(data_sources, function(index, DS) { if (DS.getData() === null) {check = false; return false;} if (DS.getGlobalData() === null) {check = false; return false;} if (DS.getGlobalTopData() === null) {check = false; return false;} if (DS.getDemographicsData().aging === undefined || DS.getDemographicsData().birth === undefined) {check = false; return false;} if (DS.getName() === ""its"") if (DS.getTimeToFixData() === null) {check = false; return false;} if (DS.getName() === ""mls"") if (DS.getTimeToAttentionData() === null) {check = false; return false;} }); return check; } Loader.check_data_loaded = function() { var check = true; if (!(check_data_loaded_global())) return false; var data_sources = Report.getDataSources(); var active_reports = ['companies','repositories','countries', 'domains']; if (Report.getConfig() !== null && Report.getConfig().reports !== undefined) active_reports = Report.getConfig().reports; $.each(data_sources, function(index, DS) { if (DS.getPeopleData() === null) {check = false; return false;} if ($.inArray('companies', active_reports) > -1) if (!check_companies_loaded(DS)) {check = false; return false;} if ($.inArray('repositories', active_reports) > -1) if (!check_repos_loaded(DS)) {check = false; return false;} if ($.inArray('countries', active_reports) > -1) if (!check_countries_loaded(DS)) {check = false; return false;} if ($.inArray('domains', active_reports) > -1) if (!check_domains_loaded(DS)) {check = false; return false;} if (DS instanceof MLS) { if (DS.getListsData() === null) {check = false; return false;} } }); return check; }; // Two steps data loading function end_data_load() { if (check_data_loaded_global()) { for (var i = 0; i < data_global_callbacks.length; i++) { data_global_callbacks[i](); } data_global_callbacks = []; } if (Loader.check_data_loaded()) { // Invoke callbacks informing all data needed has been loaded for (var j = 0; j < data_callbacks.length; j++) { if (data_callbacks[j].called !== true) data_callbacks[j](); data_callbacks[j].called = true; } } } })();/* * Copyright (C) 2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ var DataProcess = {}; (function() { DataProcess.info = function() {}; DataProcess.paginate = function(data, page) { if (page === undefined || page === 0 || isNaN(page)) return data; var page_items = []; var psize = Report.getPageSize(); var start = (page-1)*psize; for (var i=start; i<psize*page; i++ ) { if (data[i]) page_items.push(data[i]); } return page_items; }; DataProcess.convert = function(data, convert, metric_ids) { if (convert === ""aggregate"") { data = DataProcess.aggregate(data, metric_ids); } else if (convert === ""substract"") { data = DataProcess.substract(data, metric_ids[0], metric_ids[1]); metric_ids = ['substract']; } else if (convert === ""substract-aggregate"") { data = DataProcess.substract(data, metric_ids[0], metric_ids[1]); metric_ids = ['substract']; data = DataProcess.aggregate(data, metric_ids); } else if (convert === ""divide"") { data = DataProcess.divide(data, metric_ids[0], metric_ids[1]); metric_ids = ['divide']; } return data; }; DataProcess.sortCompanies = function(ds, metric_id) { return sortGlobal(ds, metric_id, ""companies""); }; DataProcess.sortCountries = function(ds, metric_id) { return sortGlobal(ds, metric_id, ""countries""); }; DataProcess.sortRepos = function(ds, metric_id) { return sortGlobal(ds, metric_id, ""repos""); }; DataProcess.sortDomains = function(ds, metric_id) { return sortGlobal(ds, metric_id, ""domains""); }; // Sort disabled. Use sort order from R/Python data. // SCR repos enabled now sortGlobal = function (ds, metric_id, kind) { if (metric_id === undefined) metric_id = ""scm_commits""; var metric = []; var data = [], sorted = []; if (kind === ""companies"") { data = ds.getCompaniesData(); } else if (kind === ""repos"") { data = ds.getReposData(); } else if (kind === ""countries"") { data = ds.getCountriesData(); } else if (kind === ""domains"") { data = ds.getDomainsData(); } if (data === null) return []; // TODO: Only support for reports now if (kind !== ""repos"") return data; // Change the order using the new metric metrics_data = ds.getReposDataFull(); if (metrics_data instanceof Array || metric_id in metrics_data === false) return data; for (var i=0; i<metrics_data[metric_id].length; i++ ) { var value = metrics_data[metric_id][i]; if (value === ""NA"") value = 0; // Easy to filter metric.push([metrics_data.name[i],value]); } metric.sort(function(a, b) {return b[1] - a[1];}); $.each(metric, function(id, value) { sorted.push(value[0]); }); return sorted; }; // Order items in data sources according widgets params DataProcess.orderItems = function (filter_order) { $.each($(""[class^='FilterItems']""), function (id, div) { order_by = $(this).data('order-by'); if (order_by !==undefined) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; var filter = $(this).data('filter'); if (filter === undefined) return; if (filter !== filter_order) return; Report.log(""Ordering with "" + order_by + "" "" + ds + "" for "" + filter); var data = sortGlobal (DS, order_by, filter); if (filter === 'companies') DS.setCompaniesData(data); if (filter === 'repos') DS.setReposData(data); if (filter === 'countries') DS.setReposData(data); if (filter === 'domains') DS.setReposData(data); } }); }; DataProcess.mergeConfig = function (config1, config2) { var new_config = {}; $.each(config1, function(entry, value) { new_config[entry] = value; }); $.each(config2, function(entry, value) { new_config[entry] = value; }); return new_config; }; DataProcess.hideEmail = function(email) { var clean = email; if (email.indexOf(""@"") > -1) { clean = email.split('@')[0]; } return clean; }; // Select longest name from identities DataProcess.selectPersonName = function(person) { var name = """", cname, ctype; for (var i=0; i<person.identity.length; i++) { cname = person.identity[i]; ctype = person.type[i]; if (ctype === ""name"") { if (cname.length>name.length) name = cname; } } return name; }; // Select first email from identities DataProcess.selectPersonEmail = function(person) { var email = """", cemail, ctype; for (var i=0; i<person.identity.length; i++) { cemail = person.identity[i]; ctype = person.type[i]; if (ctype === ""email"") { email = cemail; } } return email; }; // Clean 0s at the start and end of metrics in history DataProcess.frameTime = function(history, metrics) { var new_history = {}; var offset_start = -1; var offset_end = -1; var new_offset = 0; if (metrics.length === 0) return history; var total = history[metrics[0]].length; var i = 0; // Detect 0s start $.each(metrics, function(id, metric) { new_offset = 0; for (i = 0; i < history[metric].length; i++) { if (history[metric][i] === 0) new_offset++; else { if (offset_start === -1) offset_start = new_offset; if (new_offset<offset_start) offset_start = new_offset; break; } } }); // Detect 0s end $.each(metrics, function(id, metric) { new_offset = 0; for (i = history[metric].length-1 ; i >=0; i--) { if (history[metric][i] === 0) new_offset++; else { if (offset_end === -1) offset_end = new_offset; if (new_offset<offset_end) offset_end = new_offset; break; } } }); for (var key in history) { new_history[key] = []; for (i = 0; i < history[key].length; i++) { if (i<offset_start) continue; if (i>=total-offset_end) continue; new_history[key].push(history[key][i]); } } return new_history; }; DataProcess.filterDates = function(start_id, end_id, history) { var history_dates = {}; $.each(history, function(name, data) { history_dates[name] = []; $.each(data, function(i, value) { // var id = history.id[i]; // TODO: week should be id // var id = history.week[i]; var id = history.unixtime[i]; if (id > start_id) if (!end_id || (end_id && id <= end_id)) history_dates[name].push(value); }); }); return history_dates; }; DataProcess.filterYear = function(year, history) { // var day_msecs = 1000*60*60*24; year = parseInt(year, null); //var min_id = 12*year, max_id = 12*(year+1); // var min_id = (new Date(year.toString()).getTime())/(day_msecs); // var max_id = (new Date((year+1).toString()).getTime())/(day_msecs); var min_id = new Date(year.toString()).getTime(); var max_id = new Date((year+1).toString()).getTime(); var history_year = filterDates(min_id, max_id, history); return history_year; }; DataProcess.fillDates = function (dates_orig, more_dates) { if (dates_orig[0].length === 0) return more_dates; // [ids, values] var new_dates = [[],[]]; // Insert older dates var i = 0; if (dates_orig[0][0]> more_dates[0][0]) { for (i=0; i< more_dates[0].length; i++) { new_dates[0][i] = more_dates[0][i]; new_dates[1][i] = more_dates[1][i]; } } // Push already existing dates for (i=0; i< dates_orig[0].length; i++) { pos = new_dates[0].indexOf(dates_orig[0][i]); if (pos === -1) { new_dates[0].push(dates_orig[0][i]); new_dates[1].push(dates_orig[1][i]); } } // Push newer dates if (dates_orig[0][dates_orig[0].length-1] < more_dates[0][more_dates[0].length-1]) { for (i=0; i< more_dates[0].length; i++) { pos = new_dates[0].indexOf(more_dates[0][i]); if (pos === -1) { new_dates[0].push(more_dates[0][i]); new_dates[1].push(more_dates[1][i]); } } } return new_dates; }; DataProcess.fillHistory = function (hist_complete_id, hist_partial) { // [ids, values] var new_history = [ [], [] ]; for ( var i = 0; i < hist_complete_id.length; i++) { pos = hist_partial[0].indexOf(hist_complete_id[i]); new_history[0][i] = hist_complete_id[i]; if (pos != -1) { new_history[1][i] = hist_partial[1][pos]; } else { new_history[1][i] = 0; } } return new_history; }; // Envision and Flotr2 formats are different. DataProcess.fillHistoryLines = function(hist_complete_id, hist_partial) { // [ids, values] var old_history = [ [], [] ]; var new_history = [ [], [] ]; var lines_history = []; for ( var i = 0; i < hist_partial.length; i++) { // ids old_history[0].push(hist_partial[i][0]); // values old_history[1].push(hist_partial[i][1]); } new_history = DataProcess.fillHistory(hist_complete_id, old_history); for (i = 0; i < hist_complete_id.length; i++) { lines_history.push([new_history[0][i],new_history[1][i]]); } return lines_history; }; DataProcess.addRelativeValues = function (metrics_data, metric) { if (metrics_data[metric] === undefined) return; metrics_data[metric+""_relative""] = []; var added_values = []; $.each(metrics_data[metric], function(index, pdata) { var metric_values = pdata.data[1]; for (var i = 0; i<metric_values.length;i++) { if (added_values[i] === undefined) added_values[i] = 0; added_values[i] += metric_values[i]; } }); $.each(metrics_data[metric], function(index, pdata) { var val_relative = []; for (var i = 0; i<pdata.data[0].length;i++) { if (added_values[i] === 0) val_relative[i] = 0; else { var rel_val = pdata.data[1][i]/added_values[i]*100; val_relative[i] = rel_val; } } metrics_data[metric+""_relative""].push({ label: pdata.label, data: [pdata.data[0],val_relative] }); }); }; DataProcess.aggregate = function(data, metrics) { var new_data = {}; if (!(metrics instanceof Array)) metrics = [metrics]; $.each(data, function(metric, mdata){ if ($.inArray(metric, metrics)> -1) { var metric_agg = []; metric_agg[0] = data[metric][0]; for (var i=1; i<data[metric].length; i++) { metric_agg[i] = metric_agg[i-1] + data[metric][i]; } new_data[metric] = metric_agg; } else { new_data[metric] = data[metric]; } }); return new_data; }; DataProcess.substract = function(data, metric1, metric2) { var new_data = {}; var substract = []; for (var i=0; i<data[metric1].length; i++) { substract[i] = data[metric1][i]-data[metric2][i]; } $.each(data, function(metric, mdata) { new_data[metric] = data[metric]; }); new_data.substract = substract; return new_data; }; DataProcess.divide = function(data, metric1, metric2) { var new_data = {}; var divide = []; for (var i=0; i<data[metric1].length; i++) { if (data[metric1][i] === 0 || data[metric2][i] === 0) divide[i] = 0; else divide[i] = parseInt(data[metric1][i]/data[metric2][i],null); } $.each(data, function(metric, mdata) { new_data[metric] = data[metric]; }); new_data.divide = divide; return new_data; }; DataProcess.revomeLastPoint = function(data) { var new_data = {}; $.each(data, function(key, value) { new_data[key] = []; for (var i=0; i < data[key].length-1; i++) { new_data[key].push(data[key][i]); } }); return new_data; }; })();/* * Copyright (C) 2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ var Convert = {}; (function() { // TODO: share logic between three periods duration Convert.convertMicrodashText = function () { /* composes the HTML for trends with number about diff and percentages*/ var divs = $("".MicrodashText""); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var metric = $(this).data('metric'); var show_name = $(this).data('name'); var ds = Report.getMetricDS(metric)[0]; if (ds === undefined) return; var total = ds.getGlobalData()[metric]; var html = '<div class=""row-fluid"">'; if(show_name){ //if name is shown we'll have four columns html += '<div class=""span3"">'; html += '<span class=""dayschange"">' + ds.basic_metrics[metric].name + '</span>'; html += '</div>'; } // $.each({7:'week',30:'month',365:'year'}, function(period, name) { $.each([365,30,7], function(index, period) { var column = ds.getMetrics()[metric].column; // value -> items for this period // netvalue -> change with previous period // percentagevalue -> % changed with previous var value = ds.getGlobalData()[metric+""_""+period]; var netvalue = ds.getGlobalData()[""diff_net""+column+""_""+period]; var percentagevalue = ds.getGlobalData()[""percentage_""+column+""_""+period]; percentagevalue = Math.round(percentagevalue*10)/10; // round ""original"" to 1 decimal if (value === undefined) return; var str_percentagevalue = ''; if (netvalue > 0) str_percentagevalue = '+' + percentagevalue; if (netvalue < 0) str_percentagevalue = '-' + Math.abs(percentagevalue); if(show_name){ html += '<div class=""span3"">'; }else{ html += '<div class=""span4"">'; } html += '<span class=""dayschange"">Last '+period+' days:</span>'; html += ' '+Report.formatValue(value) + '<br>'; if (netvalue === 0) { html += '<i class=""fa fa-arrow-circle-right""></i> <span class=""zeropercent"">&nbsp;'+str_percentagevalue+'%</span>&nbsp;'; } else if (netvalue > 0) { html += '<i class=""fa fa-arrow-circle-up""></i> <span class=""pospercent"">&nbsp;'+str_percentagevalue+'%</span>&nbsp;'; } else if (netvalue < 0) { html += '<i class=""fa fa-arrow-circle-down""></i> <span class=""negpercent"">&nbsp;'+str_percentagevalue+'%</span>&nbsp;'; } html += '</div><!--span4-->'; }); html += '</div><!--row-fluid-->'; $(div).append(html); }); } }; Convert.convertMicrodash = function () { var divs = $("".Microdash""); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var metric = $(this).data('metric'); // Microdash text or graphical var text = $(this).data('text'); var ds = Report.getMetricDS(metric)[0]; var total = ds.getGlobalData()[metric]; var html = '<div>'; html += '<div style=""float:left"">'; html += '<span class=""medium-fp-number"">'+Report.formatValue(total); html += '</span> '+ds.getMetrics()[metric].name; html += '</div>'; html += '<div id=""Microdash"" '+ 'class=""MetricsEvol"" data-data-source=""'+ds.getName()+'"" data-metrics=""'+ metric+'"" data-min=true style=""margin-left:10px; float:left;width:100px; height:25px;""></div>'; html += '<div style=""clear:both""></div><div>'; // $.each({7:'week',30:'month',365:'year'}, function(period, name) { $.each([365,30,7], function(index, period) { var column = ds.getMetrics()[metric].column; var netvalue = ds.getGlobalData()[""diff_net""+column+""_""+period]; var percentagevalue = ds.getGlobalData()[""percentage_""+column+""_""+period]; var value = ds.getGlobalData()[metric+""_""+period]; if (value === undefined) return; html += ""<span class='dayschange'>""+period+"" Days Change</span>:""+Report.formatValue(value)+""&nbsp;""; if (netvalue === 0) { html += ''; } else if (netvalue > 0) { html += '<i class=""icon-circle-arrow-up""></i>'; html += '<small>(+'+percentagevalue+'%)</small>&nbsp;'; } else if (netvalue < 0) { html += '<i class=""icon-circle-arrow-down""></i>'; html += '<small>(-'+Math.abs(percentagevalue)+'%)</small>&nbsp;'; } }); html += '</div>'; html += '<div>'; $(div).append(html); }); } }; Convert.convertNavbar = function() { $.get(Report.getHtmlDir()+""navbar.html"", function(navigation) { $(""#Navbar"").html(navigation); displayReportData(); Report.displayActiveMenu(); var addURL = Report.addDataDir(); if (addURL) { var $links = $(""#Navbar a""); $.each($links, function(index, value){ if (value.href.indexOf(""data_dir"")!==-1) return; value.href += ""?""+addURL; }); } }); }; Convert.convertFooter = function() { $.get(Report.getHtmlDir()+""footer.html"", function(footer) { $(""#Footer"").html(footer); $(""#vizjs-lib-version"").append(vizjslib_git_tag); }); }; Convert.convertSummary = function() { div_param = ""Summary""; var divs = $(""."" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var ds = $(this).data('data-source'); var DS = Report.getDataSourceByName(ds); if (DS === null) return; div.id = ds+'-Summary'; DS.displayGlobalSummary(div.id); }); } }; function displayReportData() { data = Report.getProjectData(); document.title = data.project_name + ' Report by Bitergia'; if (data.title) document.title = data.title; $("".report_date"").text(data.date); $("".report_name"").text(data.project_name); str = data.blog_url; if (str && str.length > 0) { $('#blogEntry').html( ""<br><a href='"" + str + ""'>Blog post with some more details</a>""); $('.blog_url').attr(""href"", data.blog_url); } else { $('#more_info').hide(); } str = data.producer; if (str && str.length > 0) { $('#producer').html(str); } else { $('#producer').html(""<a href='http://bitergia.com'>Bitergia</a>""); } $("".project_name"").text(data.project_name); $(""#project_url"").attr(""href"", data.project_url); } Convert.convertRefcard = function() { $.when($.get(Report.getHtmlDir()+""refcard.html""), $.get(Report.getHtmlDir()+""project-card.html"")) .done (function(res1, res2) { refcard = res1[0]; projcard = res2[0]; $(""#Refcard"").html(refcard); displayReportData(); $.each(Report.getProjectsData(), function(prj_name, prj_data) { var new_div = ""card-""+prj_name.replace(""."","""").replace("" "",""""); $(""#Refcard #projects_info"").append(projcard); $(""#Refcard #projects_info #new_card"") .attr(""id"", new_div); $.each(Report.getDataSources(), function(i, DS) { if (DS.getProject() !== prj_name) { $(""#"" + new_div + ' .'+DS.getName()+'-info').hide(); return; } DS.displayData(new_div); }); $(""#""+new_div+"" #project_name"").text(prj_name); if (Report.getProjectsDirs.length>1) $(""#""+new_div+"" .project_info"") .append(' <a href=""VizGrimoireJS/browser/index.html?data_dir=../../'+prj_data.dir+'"">Report</a>'); $(""#""+new_div+"" #project_url"") .attr(""href"", prj_data.url); }); }); }; Convert.convertGlobalData = function (){ var divs = $("".GlobalData""); if (divs.length > 0) { $.each(divs, function(id, div) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; var data = DS.getGlobalData(); var key = $(this).data('field'); $(this).text(Report.formatValue(data[key], key)); }); } }; Convert.convertRadarActivity = function() { var div_param = ""RadarActivity""; var divs = $(""#"" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); }); // TODO: In which div is displayed? Viz.displayRadarActivity(div_param); } }; Convert.convertRadarCommunity = function() { var div_param = ""RadarCommunity""; var divs = $(""#"" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); }); // TODO: In which div is displayed? Viz.displayRadarCommunity('RadarCommunity'); } }; Convert.convertTreemap = function() { var div_param = ""Treemap""; var divs = $(""#"" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); }); // TODO: Just one treemap supported var file = $('#Treemap').data('file'); $('#Treemap').empty(); Viz.displayTreeMap('Treemap', file); } }; Convert.convertBubbles = function() { div_param = ""Bubbles""; var divs = $(""."" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var ds = $(this).data('data-source'); var DS = Report.getDataSourceByName(ds); if (DS === null) return; if (DS.getData().length === 0) return; var radius = $(this).data('radius'); div.id = ds + ""-Bubbles""; DS.displayBubbles(div.id, radius); }); } }; Convert.convertMetricsEvol = function() { // General config for metrics viz var config_metric = {}; config_metric.show_desc = false; config_metric.show_title = true; config_metric.show_labels = true; var config = Report.getVizConfig(); if (config) { $.each(config, function(key, value) { config_metric[key] = value; }); } var div_param = ""MetricsEvol""; var divs = $(""."" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { var config_viz = {}; $.each(config_metric, function(key, value) { config_viz[key] = value; }); $(this).empty(); var metrics = $(this).data('metrics'); var ds = $(this).data('data-source'); var DS = Report.getDataSourceByName(ds); if (DS === null) return; config_viz.help = true; var help = $(this).data('help'); if (help !== undefined) config_viz.help = help; config_viz.show_legend = false; if ($(this).data('legend')) config_viz.show_legend = true; if ($(this).data('frame-time')) config_viz.frame_time = true; config_viz.graph = $(this).data('graph'); if ($(this).data('min')) { config_viz.show_legend = false; config_viz.show_labels = true; config_viz.show_grid = true; // config_viz.show_mouse = false; config_viz.help = false; } config_viz.ligth_style = false; if ($(this).data('light-style')){ config_viz.light_style = true; } if ($(this).data('custom-title')){ config_viz.custom_title = $(this).data('custom-title'); } if (config_viz.help && $(this).data('custom-help')){ config_viz.custom_help = $(this).data('custom-help'); } else { config_viz.custom_help = """"; } // In unixtime var start = $(this).data('start'); if (start) config_viz.start_time = start; var end = $(this).data('end'); if (end) config_viz.end_time = end; div.id = metrics.replace(/,/g,""-"")+""-""+ds+""-metrics-evol-""+this.id; div.id = div.id.replace(/\n|\s/g, """"); DS.displayMetricsEvol(metrics.split("",""),div.id, config_viz, $(this).data('convert')); }); } }; Convert.convertMetricsEvolSet = function() { div_param = ""MetricsEvolSet""; var divs = $(""."" + div_param); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var all = $(this).data('all'); var relative = $(this).data('relative'); var summary_graph = $(this).data('summary-graph'); var legend = $(this).data('legend-show'); div.id = ds+""-MetricsEvolSet-""+this.id; if (all === true) { div.id = ds+""-All""; Viz.displayEnvisionAll(div.id, relative, legend, summary_graph); return false; } var ds = $(this).data('data-source'); var DS = Report.getDataSourceByName(ds); if (DS === null) return; DS.displayEnvision(div.id, relative, legend, summary_graph); }); } }; Convert.convertTimeTo = function() { var div_tt = ""TimeTo""; divs = $("".""+div_tt); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var ds = $(this).data('data-source'); var DS = Report.getDataSourceByName(ds); if (DS === null) return; var quantil = $(this).data('quantil'); var type = $(this).data('type'); div.id = ds+""-time-to-""+type+""-""+quantil; if (type === ""fix"") DS.displayTimeToFix(div.id, quantil); if (type === ""attention"") DS.displayTimeToAttention(div.id, quantil); }); } }; Convert.convertMarkovTable = function() { var div_id_mt = ""MarkovTable""; var divs = $(""."" + div_id_mt); var DS, ds; if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (DS.getData().length === 0) return; var title = $(this).data('title'); div.id = ds + ""-markov-table""; DS.displayMarkovTable(div.id, title); }); } }; Convert.convertLastActivity = function() { var all_metrics = Report.getAllMetrics(); function activityInfo(div, period, label) { var html = ""<h4>Last ""+ label + ""</h4>""; $.each(Report.getDataSources(), function(index, DS) { var data = DS.getGlobalData(); $.each(data, function (key,val) { var suffix = ""_""+period; if (key.indexOf(suffix, key.length - suffix.length) !== -1) { var metric = key.substring(0, key.length - suffix.length); label = metric; if (all_metrics[metric]) label = all_metrics[metric].name; html += label + "":"" + data[key] + ""<br>""; } }); }); $(div).append(html); } var divs = $("".LastActivity""); var period = null; var days = {""Week"":7,""Month"":30,""Quarter"":90,""Year"":365}; if (divs.length > 0) $.each(divs, function(id, div) { period = $(div).data('period'); activityInfo(div, days[period], period); }); }; Convert.convertTop = function() { var div_id_top = ""Top""; var divs = $(""."" + div_id_top); var DS, ds; if (divs.length > 0) { var unique = 0; $.each(divs, function(id, div) { $(this).empty(); ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (DS.getData().length === 0) return; var show_all = false; if ($(this).data('show_all')) show_all = true; var top_metric = $(this).data('metric'); var limit = $(this).data('limit'); var graph = $(this).data('graph'); var people_links = $(this).data('people_links'); var period = $(this).data('period'); div.id = ds + ""-"" + div_id_top + (unique++); if (graph){ div.id += ""-""+graph; } DS.displayTop(div.id, show_all, top_metric, period, graph, limit, people_links); }); } }; Convert.convertPersonMetrics = function (upeople_id, upeople_identifier) { var config_metric = {}; config_metric.show_desc = false; config_metric.show_title = false; config_metric.show_labels = true; divs = $("".PersonMetrics""); if (divs.length) { $.each(divs, function(id, div) { $(this).empty(); ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; var metrics = $(this).data('metrics'); config_metric.show_legend = false; if ($(this).data('legend')) config_metric.show_legend = true; if ($(this).data('person_id')) upeople_id = $(this).data('person_id'); if ($(this).data('person_name')) upeople_identifier = $(this).data('person_name'); div.id = metrics.replace(/,/g,""-"")+""-people-metrics""; DS.displayMetricsPeople(upeople_id, upeople_identifier, metrics.split("",""), div.id, config_metric); }); } }; function getRandomId() { return Math.floor(Math.random()*1000+1); } Convert.convertPersonData = function (upeople_id, upeople_identifier) { var divs = $("".PersonData""), name, email; if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); if ($(this).data('person_id')) upeople_id = $(this).data('person_id'); if (!div.id) div.id = ""PersonData"" + ""-"" + upeople_id + ""-"" + getRandomId(); var data = Report.getPeopleIdentities()[upeople_id]; if (data) { name = DataProcess.selectPersonName(data); email = DataProcess.selectPersonEmail(data); email = ""(""+DataProcess.hideEmail(email)+"")""; } else { name = upeople_identifier; email = """"; } $(""#""+div.id).append(""<h1><small>""+name + "" ""+ email + ""</small></h1>""); }); } }; Convert.convertPersonSummary = function (upeople_id, upeople_identifier) { var divs = $("".PersonSummary""); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if ($(this).data('person_id')) upeople_id = $(this).data('person_id'); if ($(this).data('person_name')) upeople_identifier = $(this).data('person_name'); div.id = ds+""-refcard-people""; DS.displayPeopleSummary(div.id, upeople_id, upeople_identifier, DS); }); } }; Convert.convertPeople = function(upeople_id, upeople_identifier) { if (upeople_id === undefined) upeople_id = Report.getParameterByName(""id""); if (upeople_identifier === undefined) upeople_identifier = Report.getParameterByName(""name""); if (upeople_id === undefined) return; // Check we have all data if (Loader.check_people_item (upeople_id) === false) { $.each(Report.getDataSources(), function (index, DS) { Loader.data_load_people_item (upeople_id, DS, Convert.convertPeople); }); return; } Convert.convertPersonData(upeople_id, upeople_identifier); Convert.convertPersonSummary(upeople_id, upeople_identifier); Convert.convertPersonMetrics(upeople_id, upeople_identifier); Convert.activateHelp(); }; Convert.convertDemographics = function() { var divs = $("".Demographics""); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; // period in years var period = $(this).data('period'); div.id = ""Demographics""+""-""+ds+""-""+""-""+period; DS.displayDemographics(div.id, period); }); } }; function filterItemsConfig() { var config_metric = {}; config_metric.show_desc = false; config_metric.show_title = false; config_metric.show_labels = true; config_metric.show_legend = false; return config_metric; } // Use mapping between repos for locating real item names Convert.getRealItem = function(ds, filter, item) { var map = Report.getReposMap(); // If repos map is not available returm item if exists in ds if (map === undefined || map.length === 0) { if ($.inArray(item, ds.getReposData())>-1) return item; else return null; } var map_item = null; if (filter === ""repos"") { var rdata = ds.getReposMetricsData()[item]; if (rdata === undefined) { $.each(map, function(id, repos) { $.each(Report.getDataSources(), function(index, DS) { if (repos[DS.getName()] === item) { map_item = repos[ds.getName()]; return false; } }); if (map_item !== null) return false; }); // if (map_item === null) map_item = item; } else map_item = item; } else map_item = item; return map_item; }; Convert.convertFilterItemsSummary = function(filter) { var divlabel = ""FilterItemsSummary""; divs = $("".""+divlabel); if (divs.length > 0) { $.each(divs, function(id, div) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; div.id = ds+""-""+divlabel; $(this).empty(); if (filter === ""repos"") DS.displayReposSummary(div.id, DS); if (filter === ""countries"") DS.displayCountriesSummary(div.id, DS); if (filter === ""companies"") DS.displayCompaniesSummary(div.id, DS); if (filter === ""domains"") DS.displayDomainsSummary(div.id, DS); }); } }; Convert.convertFilterItemsGlobal = function(filter) { var config_metric = filterItemsConfig(); var divlabel = ""FilterItemsGlobal""; divs = $("".""+divlabel); if (divs.length > 0) { $.each(divs, function(id, div) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; var metric = $(this).data('metric'); var show_others = $(this).data('show-others'); var order_by = $(this).data('order-by'); config_metric.show_legend = $(this).data('legend'); if ($('#'+$(this).data('legend-div')).length>0) { config_metric.legend = { container: $(this).data('legend-div')}; } else config_metric.legend = {container: null}; config_metric.graph = $(this).data('graph'); div.id = metric+""-""+divlabel; $(this).empty(); if (filter === ""repos"") DS.displayMetricReposStatic(metric,div.id, config_metric, order_by, show_others); if (filter === ""countries"") DS.displayMetricCountriesStatic(metric,div.id, config_metric, order_by, show_others); if (filter === ""companies"") DS.displayMetricCompaniesStatic(metric,div.id, config_metric, order_by, show_others); if (filter === ""domains"") DS.displayMetricDomainsStatic(metric,div.id, config_metric, order_by, show_others); }); } }; Convert.convertFilterItemsNav = function(filter, page) { var divlabel = ""FilterItemsNav""; divs = $("".""+divlabel); if (divs.length > 0) { $.each(divs, function(id, div) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; if ($(this).data('page')) page = $(this).data('page'); order_by = $(this).data('order-by'); div.id = ds+""-""+divlabel; $(this).empty(); if (filter === ""repos"") DS.displayItemsNav(div.id, filter, page, order_by); else if (filter === ""countries"") DS.displayItemsNav(div.id, filter, page); else if (filter === ""companies"") DS.displayItemsNav(div.id, filter, page); else if (filter === ""domains"") DS.displayItemsNav(div.id, filter, page); }); } }; Convert.convertFilterItemsMetricsEvol = function(filter) { var config_metric = filterItemsConfig(); var divlabel = ""FilterItemsMetricsEvol""; divs = $("".""+divlabel); if (divs.length > 0) { $.each(divs, function(id, div) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; var metric = $(this).data('metric'); var stacked = false; if ($(this).data('stacked')) stacked = true; // In unixtime var start = $(this).data('start'); var end = $(this).data('end'); config_metric.lines = {stacked : stacked}; if ($('#'+$(this).data('legend-div')).length>0) { config_metric.legend = { container: $(this).data('legend-div')}; } else config_metric.legend = {container: null}; config_metric.show_legend = $(this).data('legend'); div.id = metric+""-""+divlabel; $(this).empty(); if (filter === ""companies"") DS.displayMetricCompanies(metric,div.id, config_metric, start, end); else if (filter === ""repos"") DS.displayMetricRepos(metric,div.id, config_metric, start, end); else if (filter === ""domains"") DS.displayMetricDomains(metric,div.id, config_metric, start, end); }); } }; Convert.convertFilterItemsMiniCharts = function(filter, page) { var config_metric = filterItemsConfig(); var divlabel = ""FilterItemsMiniCharts""; divs = $("".""+divlabel); if (divs.length > 0) { $.each(divs, function(id, div) { ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; if ($(this).data('page')) page = $(this).data('page'); var metrics = $(this).data('metrics'); var order_by = $(this).data('order-by'); var show_links = true; if ($(this).data('show_links') !== undefined) show_links = $(this).data('show_links'); // In unixtime var start = $(this).data('start'); var end = $(this).data('end'); var convert = $(this).data('convert'); div.id = metrics.replace(/,/g,""-"")+""-""+filter+""-""+divlabel; $(this).empty(); if (filter === ""repos"") DS.displayReposList(metrics.split("",""),div.id, config_metric, order_by, page, show_links, start, end, convert); else if (filter === ""countries"") DS.displayCountriesList(metrics.split("",""),div.id, config_metric, order_by, page, show_links, start, end, convert); else if (filter === ""companies"") DS.displayCompaniesList(metrics.split("",""),div.id, config_metric, order_by, page, show_links, start, end, convert); else if (filter === ""domains"") DS.displayDomainsList(metrics.split("",""),div.id, config_metric, order_by, page, show_links, start, end, convert); }); } }; Convert.convertFilterItemData = function (filter, item) { var divs = $("".FilterItemData""); if (divs.length > 0) { $.each(divs, function(id, div) { $(this).empty(); var label = Report.cleanLabel(item); if (!div.id) div.id = ""FilterItemData"" + getRandomId(); $(""#""+div.id).append(""<h1><small>""+label + ""</small></h1>""); }); } }; Convert.convertFilterItemSummary = function(filter, item) { var divlabel = ""FilterItemSummary""; divs = $("".""+divlabel); if (item !== null && divs.length > 0) { $.each(divs, function(id, div) { var real_item = item; ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; if ($(this).data('item')) real_item = $(this).data('item'); div.id = ds+""-""+filter+""-""+divlabel; $(this).empty(); if (filter === ""repos"") { real_item = Convert.getRealItem(DS, filter, real_item); if (real_item) DS.displayRepoSummary(div.id, real_item, DS); } else if (filter === ""countries"") DS.displayCountrySummary(div.id, real_item, DS); else if (filter === ""companies"") DS.displayCompanySummary(div.id, real_item, DS); else if (filter === ""domains"") DS.displayDomainSummary(div.id, real_item, DS); }); } }; Convert.convertFilterItemMetricsEvol = function(filter, item) { var config_metric = filterItemsConfig(); var divlabel = ""FilterItemMetricsEvol""; divs = $("".""+divlabel); if (item !== null && divs.length > 0) { $.each(divs, function(id, div) { var real_item = item; ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; if ($(this).data('item')) real_item = $(this).data('item'); var metrics = $(this).data('metrics'); config_metric.show_legend = false; config_metric.frame_time = false; if ($(this).data('legend')) config_metric.show_legend = true; if ($(this).data('frame-time')) config_metric.frame_time = true; div.id = Report.cleanLabel(item).replace(/ /g,""_"")+""-""; div.id += metrics.replace(/,/g,""-"")+""-""+ds+""-""+filter+""-""+divlabel; $(this).empty(); if (filter === ""repos"") { real_item = Convert.getRealItem(DS, filter, real_item); if (real_item) { DS.displayMetricsRepo(real_item, metrics.split("",""), div.id, config_metric); } else $(this).hide(); } else if (filter === ""countries"") { DS.displayMetricsCountry(real_item, metrics.split("",""), div.id, config_metric); } else if (filter === ""companies"") { DS.displayMetricsCompany(real_item, metrics.split("",""), div.id, config_metric); } else if (filter === ""domains"") { DS.displayMetricsDomain(real_item, metrics.split("",""), div.id, config_metric); } }); } }; Convert.convertFilterItemTop = function(filter, item) { var divlabel = ""FilterItemTop""; divs = $("".""+divlabel); if (divs.length > 0) { $.each(divs, function(id, div) { var real_item = item; $(this).empty(); ds = $(this).data('data-source'); DS = Report.getDataSourceByName(ds); if (DS === null) return; if (filter === undefined) filter = $(this).data('filter'); if (filter !== $(this).data('filter')) return; if (!filter) return; if ($(this).data('item')) real_item = $(this).data('item'); var metric = $(this).data('metric'); var period = $(this).data('period'); var titles = $(this).data('titles'); div.id = metric+""-""+ds+""-""+filter+""-""+divlabel+""-""+getRandomId(); $(this).empty(); div.className = """"; // Only for Company yet if (filter === ""companies"") DS.displayTopCompany(real_item,div.id,metric,period,titles); }); } }; Convert.convertFilterStudyItem = function (filter, item) { // Control convert is not called several times per filter var convertfn = Convert.convertFilterStudyItem; if (convertfn.done === undefined) {convertfn.done = {};} else if (convertfn.done[filter] === true) return; // repositories comes from Automator config if (filter === ""repositories"") filter = ""repos""; if (item === undefined) { if (filter === ""repos"") item = Report.getParameterByName(""repository""); if (filter === ""countries"") item = Report.getParameterByName(""country""); if (filter === ""companies"") item = Report.getParameterByName(""company""); if (filter === ""domains"") item = Report.getParameterByName(""domain""); } if (!item) return; if (Loader.FilterItemCheck(item, filter) === false) return; Convert.convertFilterItemData(filter, item); Convert.convertFilterItemSummary(filter, item); Convert.convertFilterItemMetricsEvol(filter, item); Convert.convertFilterItemTop(filter, item); Convert.activateHelp(); convertfn.done[filter] = true; }; Convert.activateHelp = function() { // Popover help system $('.help').popover({ html: true, trigger: 'manual' }).click(function(e) { $(this).popover('toggle'); e.stopPropagation(); }); }; Convert.convertFilterStudy = function(filter) { var page = Report.getCurrentPage(); if (page === null) { page = Report.getParameterByName(""page""); if (page !== undefined) Report.setCurrentPage(page); } if (page === undefined) { // If there are items widgets config default page if ($(""[class^='FilterItems']"").length > 0) { page = 1; Report.setCurrentPage(page); } else return; } // repositories comes from Automator config if (filter === ""repositories"") filter = ""repos""; // If data is not available load them and cb this function if (Loader.check_filter_page (page, filter) === false) { $.each(Report.getDataSources(), function(index, DS) { Loader.data_load_items_page (DS, page, Convert.convertFilterStudy, filter); }); return; } Convert.convertFilterItemsSummary(filter); Convert.convertFilterItemsGlobal(filter); Convert.convertFilterItemsNav(filter, page); Convert.convertFilterItemsMetricsEvol(filter); Convert.convertFilterItemsMiniCharts(filter, page); }; Convert.convertBasicDivs = function() { Convert.convertNavbar(); Convert.convertFooter(); Convert.convertRefcard(); Convert.convertGlobalData(); Convert.convertSummary(); }; Convert.convertBasicDivsMisc = function() { Convert.convertRadarActivity(); Convert.convertRadarCommunity(); Convert.convertTreemap(); Convert.convertBubbles(); }; Convert.convertBasicMetrics = function(config) { Convert.convertMetricsEvol(); Convert.convertTimeTo(); Convert.convertMarkovTable(); }; })(); /* * Copyright (C) 2012-2014 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> * Daniel Izquierdo Cortazar <dizquierdo@bitergia.com> * Luis CaÃ±as DÃ­az <lcanas@bitergia.com> * */ if (Report === undefined) var Report = {}; (function() { // Shared config var project_data = null, markers = null, viz_config = null, gridster = {}, data_sources = [], report_config = null, html_dir=""""; var data_dir = ""data/json""; var default_data_dir = ""data/json""; var default_html_dir = """"; var projects_dirs = [default_data_dir]; var projects_data = {}; var projects_datasources = {}; var repos_map; var project_file = data_dir + ""/project-info.json"", viz_config_file = data_dir + ""/viz_cfg.json"", markers_file = data_dir + ""/markers.json"", repos_map_file = data_dir + ""/repos-map.json""; var page_size = 10, page = null; var project_people_identities = {}; // Public API Report.createDataSources = createDataSources; Report.getAllMetrics = getAllMetrics; Report.getMarkers = getMarkers; Report.getVizConfig = getVizConfig; Report.getMetricDS = getMetricDS; Report.getGridster = getGridster; Report.setGridster = setGridster; Report.getCurrentPage = function() {return page;}; Report.setCurrentPage = function(current_page) {page = current_page;}; Report.getPageSize = function() {return page_size;}; Report.setPageSize = function(size) {page_size = size;}; Report.getProjectData = getProjectData; Report.getProjectsData = getProjectsData; Report.convertStudies = convertStudies; Report.getDataSources = function() { // return data_sources.slice(0,3); return data_sources; }; Report.registerDataSource = function(backend) { data_sources.push(backend); }; Report.setHtmlDir = function (dir) { html_dir = dir; }; Report.getHtmlDir = function () { return html_dir; }; Report.getDataDir = function() { return data_dir; }; Report.setDataDir = function(dataDir) { data_dir = dataDir; project_file = dataDir + ""/project-info.json""; config_file = dataDir + ""/viz_cfg.json""; markers_file = dataDir + ""/markers.json""; repos_mapping_file = data_dir + ""/repos-mapping.json""; }; function getMarkers() { return markers; } Report.setMarkers = function (data) { markers = data; }; Report.getMarkersFile = function () { return markers_file; }; Report.getReposMap = function() { return repos_map; }; Report.setReposMap = function (data) { repos_map = data; }; Report.getReposMapFile = function () { return repos_map_file; }; function getVizConfig() { return viz_config; } Report.setVizConfig = function(cfg) { viz_config = cfg; }; Report.getVizConfigFile = function() { return viz_config_file; }; function getGridster() { return gridster; } function setGridster(grid) { gridster = grid; } function getProjectData() { return project_data; } Report.setProjectData = function(data) { project_data = data; }; Report.getProjectFile = function () { return project_file; }; function getProjectsData() { return projects_data; } Report.getProjectsDirs = function () { return projects_dirs; }; Report.setProjectsDirs = function (dirs) { projects_dirs = dirs; }; Report.getProjectsList = function () { var projects_list = []; $.each(getProjectsData(), function (key,val) { projects_list.push(key); }); return projects_list; }; Report.getProjectsDataSources = function () { return projects_datasources; }; Report.setMetricsDefinition = function(metrics) { $.each(Report.getDataSources(), function(i, DS) { DS.setMetricsDefinition(metrics[DS.getName()]); }); }; Report.getPeopleIdentities = function () { return project_people_identities; }; Report.setPeopleIdentities = function (people) { project_people_identities = people; }; // Extract title from repositories names Report.cleanLabel = function(item) { var label = item; var aux = null; // GlusterFS __gluster-devel.nongnu.org___ if (item.split(""___"").length === 2) { aux = item.split("" ""); label = aux[0]; } else if (item.lastIndexOf(""http"") === 0 || item.split(""_"").length > 3) { aux = item.split(""_""); label = aux.pop(); if (label === '') label = aux.pop(); label = label.replace('buglist.cgi?product=',''); // gmane case: // http%3A__dir.gmane.org_gmane.comp.sysutils.puppet.user label = label.replace('gmane.comp.sysutils.', ''); } else if (item.lastIndexOf(""<"") === 0) label = MLS.displayMLSListName(item); return label; }; // http://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript function strNumberWithThousands(x) { var parts = x.toString().split("".""); parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,"",""); return parts.join("".""); } // Format: // numbers: 2 decimals, and ,. separators // strings: no format Report.formatValue = function(number, field) { if (number === undefined) return '-'; var date_fields = ['last_date','first_date']; var value = number; try { // value = parseFloat(number).toFixed(2).toString().replace(/\.00$/, ''); value = parseFloat(number).toFixed(1).toString().replace(/\.0$/, ''); value = strNumberWithThousands(value); // If language is spanish exchange , and . Not rock solid logic but simple if (navigator.language === ""es"") { var parts = value.split("".""); parts[0] = parts[0].replace(/,/g,"".""); value = parts.join("",""); } } catch(err) {} if (typeof(value) === ""number"" && isNaN(value)) value = number.toString(); // Don't convert date number (2012) if (field !== undefined && $.inArray(field, date_fields)>-1) value = number.toString(); return value; }; Report.escapeHtml = function(unsafe) { return unsafe .replace(/&/g, ""&amp;"") .replace(/</g, ""&lt;"") .replace(/>/g, ""&gt;"") .replace(/""/g, ""&quot;"") .replace(/'/g, ""&#039;""); }; // http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values Report.getParameterByName = function(name) { // _jshint_ does not like it // name = name.replace(/[\[]/, ""\\\["").replace(/[\]]/, ""\\\]""); name = name.replace(/[\[]/, ""\\["").replace(/[\]]/, ""\\]""); var regex = new RegExp(""[\\?&]"" + name + ""=([^&#]*)""), results = regex.exec(location.search); return results === null ? undefined : Report.escapeHtml(decodeURIComponent(results[1].replace(/\+/g, "" ""))); }; function getMetricDS(metric_id) { var ds = []; $.each(Report.getDataSources(), function(i, DS) { if (DS.getMetrics()[metric_id]) { ds.push(DS); } }); return ds; } Report.getDataSourceByName = function(ds) { var DS = null; $.each(Report.getDataSources(), function(index, DSaux) { if (DSaux.getName() === ds) {DS = DSaux; return false;} }); return DS; }; function getAllMetrics() { var all = {}; $.each(Report.getDataSources(), function(index, DS) { all = $.extend({}, all, DS.getMetrics()); }); return all; } Report.displayActiveMenu = function() { var active = window.location.href; var page = active.substr(active.lastIndexOf(""/"")+1,active.length); page = page.split("".html"")[0]; if (page.indexOf('scm') === 0) { $("".scm-menu"")[0].className = $("".scm-menu"")[0].className + "" active""; } else if (page.indexOf('its') === 0) { $("".its-menu"")[0].className = $("".its-menu"")[0].className + "" active""; } else if (page.indexOf('mls') === 0) { $("".mls-menu"")[0].className = $("".mls-menu"")[0].className + "" active""; } else if (page.indexOf('scr') === 0) { $("".scr-menu"")[0].className = $("".scr-menu"")[0].className + "" active""; } else if (page.indexOf('index') === 0 || page === '') { if ($("".summary-menu"").length === 0) return; $("".summary-menu"")[0].className = $("".summary-menu"")[0].className + "" active""; } else { if ($("".experimental-menu"")[0]) $("".experimental-menu"")[0].className = $("".experimental-menu"")[0].className + "" active""; } }; function checkDynamicConfig() { var data_sources = []; function getDataDirs(dirs_config) { var full_params = dirs_config.split (""&""); var dirs_param = $.grep(full_params,function(item, index) { return (item.indexOf(""data_dir="") === 0); }); for (var i=0; i< dirs_param.length; i++) { var data_dir = dirs_param[i].split(""="")[1]; data_sources.push(data_dir); if (i === 0) Report.setDataDir(data_dir); } } var querystr = window.location.search.substr(1); // Config in GET URL if (querystr && querystr.indexOf(""data_dir"")>=0) { getDataDirs(querystr); if (data_sources.length>0) Report.setProjectsDirs(data_sources); } } function createDataSources() { /* Initialize/Register data sources based on getConfig()*/ checkDynamicConfig(); var projects_dirs = Report.getProjectsDirs(); var scm, its, mls, scr, irc, mediawiki; $.each(projects_dirs, function (i, project) { if (Report.getConfig() === null || Report.getConfig()['data-sources'] === undefined) { its = new ITS(); Report.registerDataSource(its); mls = new MLS(); Report.registerDataSource(mls); scm = new SCM(); Report.registerDataSource(scm); scr = new SCR(); Report.registerDataSource(scr); irc = new IRC(); Report.registerDataSource(irc); mediawiki = new MediaWiki(); Report.registerDataSource(mediawiki); people = new People(); Report.registerDataSource(people); downloads = new Downloads(); Report.registerDataSource(downloads); } else { // ""scm"",""mediawiki"",""its"",""irc"",""gerrit"",""mlstats"" var active_ds = Report.getConfig()['data-sources']; $.each(active_ds, function(i, name) { if (name === ""its"") { its = new ITS(); Report.registerDataSource(its); } else if (name === ""mlstats"") { mls = new MLS(); Report.registerDataSource(mls); } else if (name === ""scm"") { scm = new SCM(); Report.registerDataSource(scm); } else if (name === ""gerrit"") { scr = new SCR(); Report.registerDataSource(scr); } else if (name === ""irc"") { irc = new IRC(); Report.registerDataSource(irc); } else if (name === ""mediawiki"") { mediawiki = new MediaWiki(); Report.registerDataSource(mediawiki); } else if (name === ""people"") { people = new People(); Report.registerDataSource(people); } else if (name === ""downloads"") { downloads = new Downloads(); Report.registerDataSource(downloads); } else Report.log (""Not support data source "" + name); }); } if (its) its.setDataDir(project); if (mls) mls.setDataDir(project); if (scm) scm.setDataDir(project); if (scr) scr.setDataDir(project); if (irc) irc.setDataDir(project); if (mediawiki) mediawiki.setDataDir(project); if (people) people.setDataDir(project); if (downloads) downloads.setDataDir(project); if (scm && its) scm.setITS(its); }); return true; } Report.addDataDir = function () { var addURL; var querystr = window.location.search.substr(1); if (querystr && querystr.indexOf(""data_dir"")!==-1) { addURL = window.location.search.substr(1); } return addURL; }; // Build mapping between Data Sources and Projects Report.configDataSources = function() { var prjs_dss = Report.getProjectsDataSources(); $.each(Report.getDataSources(), function (index, ds) { if (ds.getData() instanceof Array) return; $.each(projects_data, function (name, project) { if (project.dir === ds.getDataDir()) { if (prjs_dss[name] === undefined) prjs_dss[name] = []; // Support data reloading. Each project has instance per DS $.each(prjs_dss[name], function (prj, prjds) { if (ds.getName() === prjds.getName()) return false; }); // if ($.inArray(ds, prjs_dss[name]) > -1) return false; ds.setProject(name); prjs_dss[name].push(ds); return false; } }); }); }; Report.getConfig = function () { return report_config; }; Report.setConfig = function (data) { report_config = data; if (data) { Report.log('Global config file found'); if (data['global-html-dir']) Report.setHtmlDir(data['global-html-dir']); if (data['global-data-dir']) { Report.setDataDir(data['global-data-dir']); Report.setProjectsDirs([data['global-data-dir']]); } if (data['projects-data-dirs']) Report.setProjectsDirs(data['projects-data-dirs']); } }; Report.convertGlobal = function() { // Templates markup divs Convert.convertMicrodash(); Convert.convertMicrodashText(); // Normal markup divs Convert.convertBasicDivs(); Convert.convertBasicDivsMisc(); Convert.convertBasicMetrics(); Convert.convertDemographics(); Convert.convertMetricsEvolSet(); Convert.convertLastActivity(); }; Report.getActiveStudies = function() { var activeStudies = []; var reports; // TODO: people is not yet an study var reports_study = ['repositories','countries','companies','domains']; if (Report.getConfig() !== null) reports = Report.getConfig().reports; else reports = reports_study; $.each (reports_study, function(i, study) { if ($.inArray(study, reports) > -1) activeStudies.push(study); }); return activeStudies; }; // Data available in global Report.convertStudiesGlobal = function() { Convert.convertTop(); Convert.convertPeople(); // using on demand file loading }; function convertStudies() { $.each (Report.getActiveStudies(), function(i, study) { // Before loading items data, order to load the correct ones var filter = study; if (study === ""repositories"") filter = ""repos""; DataProcess.orderItems(filter); Convert.convertFilterStudy(study); Convert.convertFilterStudyItem (study); }); } var log_on = true; Report.getLog = function() {return log_on;}; Report.setLog = function(status) {log_on = status;}; Report.log = function(msg) { if (Report.getLog() === true) if (window.console) console.log(msg); }; })(); Loader.data_ready_global(function() { Report.configDataSources(); Report.convertGlobal(); Report.convertStudiesGlobal(); }); Loader.data_ready(function() { Report.convertStudies(); $(""body"").css(""cursor"", ""auto""); // Popover help system $('html').click(function(e) { $('.help').popover('hide'); }); Convert.activateHelp(); }); $(document).ready(function() { // var filename = Report.getDataDir()+'/config.json'; // Config file loaded from root dir var filename = './config.json'; $.getJSON(filename, function(data) { Report.setConfig(data); }).fail(function() { if (window.console) Report.log(""Can't read global config file "" + filename); }).always(function (data) { Report.createDataSources(); Loader.data_load(); $(""body"").css(""cursor"", ""progress""); }); }); function resizedw(){ Report.convertGlobal(); Report.convertStudiesGlobal(); Report.convertStudies(); Convert.activateHelp(); } var resized; $(window).resize(function () { clearTimeout(resized); resized = setTimeout(resizedw, 100); });/* * Copyright (C) 2012-2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ // TODO: Use attributes for getters and setters function DataSource(name, basic_metrics) { this.top_data_file = this.data_dir + '/'+this.name+'-top.json'; this.getTopDataFile = function() { return this.top_data_file; }; this.getMetrics = function() {return this.basic_metrics;}; this.setMetrics = function(metrics) {this.basic_metrics = metrics;}; this.setMetricsDefinition = function(metrics) { if (metrics === undefined) return; this.setMetrics(metrics); }; this.data_file = this.data_dir + '/'+this.name+'-evolutionary.json'; this.getDataFile = function() { return this.data_file; }; this.setDataFile = function(file) { this.data_file = file; }; this.data = null; this.getData = function() { return this.data; }; function nameSpaceMetrics(plain_metrics, ds) { // If array, no data available if (plain_metrics instanceof Array) return plain_metrics; var metrics = {}; $.each(plain_metrics, function (name, value) { var basic_name = name; // commits_7, commits_30 .... var aux = name.split(""_""); if (isNaN(aux[aux.length-1]) === false) basic_name = aux.slice(0,aux.length-1).join(""_""); var ns_basic_name = ds.getName()+""_""+basic_name; var ns_name = ds.getName()+""_""+name; if (ds.getMetrics()[ns_basic_name] === undefined) metrics[name] = value; else metrics[ns_name] = value; }); return metrics; } this.setData = function(load_data, self) { if (self === undefined) self = this; self.data = nameSpaceMetrics(load_data, self); }; this.demographics_aging_file = this.data_dir + '/'+this.name+'-demographics-aging.json'; this.demographics_birth_file = this.data_dir + '/'+this.name+'-demographics-birth.json'; this.getDemographicsAgingFile = function() { return this.demographics_aging_file; }; this.getDemographicsBirthFile = function() { return this.demographics_birth_file; }; this.demographics_data = {}; this.getDemographicsData = function() { return this.demographics_data; }; this.setDemographicsAgingData = function(data, self) { if (self === undefined) self = this; self.demographics_data.aging = data; }; this.setDemographicsBirthData = function(data, self) { if (self === undefined) self = this; self.demographics_data.birth = data; }; this.data_dir = 'data/json'; this.getDataDir = function() { return this.data_dir; }; this.setDataDir = function(dataDir) { this.data_dir = dataDir; this.data_file = dataDir + '/'+this.name+'-evolutionary.json'; this.demographics_aging_file = dataDir + '/'+this.name+'-demographics-aging.json'; this.demographics_birth_file = dataDir + '/'+this.name+'-demographics-birth.json'; this.global_data_file = dataDir + '/'+this.name+'-static.json'; this.top_data_file = dataDir + '/'+this.name+'-top.json'; this.companies_data_file = dataDir+'/'+ this.name +'-companies.json'; this.repos_data_file = dataDir+'/'+ this.name +'-repos.json'; this.countries_data_file = dataDir+'/'+ this.name +'-countries.json'; this.domains_data_file = dataDir+'/'+ this.name +'-domains.json'; this.time_to_fix_data_file = dataDir+'/'+ this.name +'-quantiles-month-time_to_fix_hour.json'; }; this.global_data_file = this.data_dir + '/'+this.name+'-static.json'; this.getGlobalDataFile = function() { return this.global_data_file; }; this.global_data = null; this.getGlobalData = function() { return this.global_data; }; this.setGlobalData = function(data, self) { if (self === undefined) self = this; self.global_data = nameSpaceMetrics(data, self); }; this.global_top_data = null; this.getGlobalTopData = function() { return this.global_top_data; }; this.setGlobalTopData = function(data, self) { if (self === undefined) self = this; self.global_top_data = data; }; this.name = name; this.getName = function() { return this.name; }; this.people_data_file = this.data_dir + '/'+this.name+'-people.json'; this.getPeopleDataFile = function() { return this.people_data_file; }; this.people = null; this.getPeopleData = function() { return this.people; }; this.setPeopleData = function(people, self) { if (self === undefined) self = this; self.people = people; }; this.time_to_fix_data_file = this.data_dir + '/'+this.name + '-quantiles-month-time_to_fix_hour.json'; this.getTimeToFixDataFile = function() { return this.time_to_fix_data_file; }; this.time_to_fix_data = null; this.getTimeToFixData = function() { return this.time_to_fix_data; }; this.setTimeToFixData = function(data, self) { if (self === undefined) self = this; self.time_to_fix_data = data; }; this.time_to_attention_data_file = this.data_dir + '/'+this.name + '-quantiles-month-time_to_attention_hour.json'; this.getTimeToAttentionDataFile = function() { return this.time_to_attention_data_file; }; this.time_to_attention_data = null; this.getTimeToAttentionData = function() { return this.time_to_attention_data; }; this.setTimeToAttentionData = function(data, self) { if (self === undefined) self = this; self.time_to_attention_data = data; }; this.project = null; this.getProject = function() { return this.project; }; this.setProject = function(project) { this.project = project; }; this.markov_table_data_file = this.data_dir + '/' + this.name + '-markov.json'; this.getMarkovTableDataFile = function() { return this.markov_table_data_file; }; this.markov_table_data = null; this.getMarkovTableData = function() { return this.markov_table_data; }; this.setMarkovTableData = function(data, self) { if (self === undefined) self = this; self.markov_table_data = data; }; // Companies data this.companies_data_file = this.data_dir+'/'+ this.name +'-companies.json'; this.getCompaniesDataFile = function() { return this.companies_data_file; }; this.companies = null; this.getCompaniesData = function() { return this.companies; }; this.setCompaniesData = function(companies, self) { if (companies === null) companies = []; if (!(companies instanceof Array)) companies=[companies]; if (self === undefined) self = this; self.companies = companies; }; this.companies_metrics_data = {}; this.addCompanyMetricsData = function(company, data, self) { if (self === undefined) self = this; self.companies_metrics_data[company] = nameSpaceMetrics(data, self); }; this.getCompaniesMetricsData = function() { return this.companies_metrics_data; }; this.companies_global_data = {}; this.addCompanyGlobalData = function(company, data, self) { if (self === undefined) self = this; self.companies_global_data[company] = nameSpaceMetrics(data, self); }; this.getCompaniesGlobalData = function() { return this.companies_global_data; }; this.companies_top_data = {}; this.addCompanyTopData = function(company, data, self) { if (self === undefined) self = this; if (self.companies_top_data[company] === undefined) self.companies_top_data[company] = {}; self.companies_top_data[company] = data; }; this.getCompaniesTopData = function() { return this.companies_top_data; }; this.setCompaniesTopData = function(data, self) { if (self === undefined) self = this; self.companies_top_data = data; }; // Repos data this.repos_data_file = this.data_dir+'/'+ this.name +'-repos.json'; this.getReposDataFile = function() { return this.repos_data_file; }; this.repos = null; this.getReposDataFull = function() { return this.repos; }; this.getReposData = function() { var items = this.repos; if (this.getName() === ""scr"") { if (items instanceof Array === false) // New format with names and metrics items = this.repos.name; } return items; }; this.setReposData = function(repos, self) { if (self === undefined) self = this; // if (!(repos instanceof Array)) repos=[repos]; self.repos = repos; }; this.repos_metrics_data = {}; this.addRepoMetricsData = function(repo, data, self) { if (self === undefined) self = this; self.repos_metrics_data[repo] = nameSpaceMetrics(data, self); }; this.getReposMetricsData = function() { return this.repos_metrics_data; }; this.repos_global_data = {}; this.addRepoGlobalData = function(repo, data, self) { if (self === undefined) self = this; self.repos_global_data[repo] = nameSpaceMetrics(data, self); }; this.getReposGlobalData = function() { return this.repos_global_data; }; // Countries data this.countries_data_file = this.data_dir+'/'+ this.name +'-countries.json'; this.getCountriesDataFile = function() { return this.countries_data_file; }; this.countries = null; this.getCountriesData = function() { return this.countries; }; this.setCountriesData = function(countries, self) { if (self === undefined) self = this; self.countries = countries; }; this.countries_metrics_data = {}; this.addCountryMetricsData = function(country, data, self) { if (self === undefined) self = this; self.countries_metrics_data[country] = nameSpaceMetrics(data, self); }; this.getCountriesMetricsData = function() { return this.countries_metrics_data; }; this.countries_global_data = {}; this.addCountryGlobalData = function(country, data, self) { if (self === undefined) self = this; self.countries_global_data[country] = nameSpaceMetrics(data, self); }; this.getCountriesGlobalData = function() { return this.countries_global_data; }; // Domains this.domains_data_file = this.data_dir+'/'+ this.name +'-domains.json'; this.getDomainsDataFile = function() { return this.domains_data_file; }; this.domains = null; this.getDomainsData = function() { return this.domains; }; this.setDomainsData = function(domains, self) { if (domains === null) domains = []; if (!(domains instanceof Array)) domains=[domains]; if (self === undefined) self = this; self.domains = domains; }; this.domains_metrics_data = {}; this.addDomainMetricsData = function(domain, data, self) { if (self === undefined) self = this; self.domains_metrics_data[domain] = nameSpaceMetrics(data, self); }; this.getDomainsMetricsData = function() { return this.domains_metrics_data; }; this.domains_global_data = {}; this.addDomainGlobalData = function(domain, data, self) { if (self === undefined) self = this; self.domains_global_data[domain] = nameSpaceMetrics(data, self); }; this.getDomainsGlobalData = function() { return this.domains_global_data; }; // people this.people_metrics_data = {}; this.addPeopleMetricsData = function(id, data, self) { if (self === undefined) self = this; self.people_metrics_data[id] = nameSpaceMetrics(data, self); }; this.getPeopleMetricsData = function() { return this.people_metrics_data; }; this.people_global_data = {}; this.addPeopleGlobalData = function(id, data, self) { if (self === undefined) self = this; self.people_global_data[id] = nameSpaceMetrics(data, self); }; this.getPeopleGlobalData = function() { return this.people_global_data; }; // TODO: Move this logic to Report this.getCompanyQuery = function () { var company = null; var querystr = window.location.search.substr(1); if (querystr && querystr.split(""&"")[0].split(""="")[0] === ""company"") company = querystr.split(""&"")[0].split(""="")[1]; return company; }; this.displayMetricCompanies = function(metric_id, div_target, config, start, end) { var companies_data = this.getCompaniesMetricsData(); Viz.displayMetricCompanies(metric_id, companies_data, div_target, config, start, end); }; this.displayMetricMyCompanies = function(companies, metric_id, div_target, config, start, end) { var companies_data = {}; var self = this; $.each(companies, function(i,name) { companies_data[name] = self.getCompaniesMetricsData()[name]; }); Viz.displayMetricCompanies(metric_id, companies_data, div_target, config, start, end); }; // TODO: mix with displayMetricCompanies this.displayMetricRepos = function(metric_id, div_target, config, start, end) { var repos_data = this.getReposMetricsData(); Viz.displayMetricRepos(metric_id, repos_data, div_target, config, start, end); }; // Includes repos mapping for actionable dashboard comparison this.displayBasicMetricMyRepos = function(repos, metric_id, div_target, config, start, end) { var repos_data = {}; var reposMap = Report.getReposMap(); var self = this; $.each(repos, function(i,name) { var metrics = self.getReposMetricsData()[name]; if (!metrics) { if (reposMap[name] instanceof Object) { // New format: name: {scm:name, its:name ...} name = reposMap[name][self.getName()]; } else { // Old format: scm:its name = reposMap[name]; } metrics = self.getReposMetricsData()[name]; } repos_data[name] = metrics; }); Viz.displayMetricRepos(metric_id, repos_data, div_target, config, start, end); }; this.displayMetricDomains = function(metric_id, div_target, config, start, end) { var domains_data = this.getDomainsMetricsData(); Viz.displayMetricDomains(metric_id, domains_data, div_target, config, start, end); }; this.displayMetricCompaniesStatic = function (metric_id, div_target, config, order_by, show_others) { this.displayMetricSubReportStatic (""companies"",metric_id, div_target, config, order_by, show_others); }; this.displayMetricReposStatic = function (metric_id, div_target, config, order_by, show_others) { this.displayMetricSubReportStatic (""repos"", metric_id, div_target, config, order_by, show_others); }; this.displayMetricCountriesStatic = function (metric_id, div_target, config, order_by, show_others) { this.displayMetricSubReportStatic (""countries"", metric_id, div_target, config, order_by, show_others); }; this.displayMetricDomainsStatic = function (metric_id, div_target, config, order_by, show_others) { this.displayMetricSubReportStatic (""domains"",metric_id, div_target, config, order_by, show_others); }; this.displayMetricSubReportStatic = function (report, metric_id, div_target, config, order_by, show_others) { if (order_by === undefined) order_by = metric_id; var data = null; if (report==""companies"") data = this.getCompaniesGlobalData(); else if (report==""repos"") data = this.getReposGlobalData(); else if (report==""countries"") data = this.getCountriesGlobalData(); else if (report==""domains"") data = this.getDomainsGlobalData(); else return; if ($.isEmptyObject(data)) return; var order = null; if (report==""companies"") order = DataProcess.sortCompanies(this, order_by); else if (report==""repos"") order = DataProcess.sortRepos(this, order_by); else if (report==""countries"") order = DataProcess.sortCountries(this, order_by); else if (report==""domains"") order = DataProcess.sortDomains(this, order_by); order = DataProcess.paginate(order, Report.getCurrentPage()); Viz.displayMetricSubReportStatic(metric_id, data, order, div_target, config); }; this.displayMetricsCompany = function ( company, metrics, div_id, config) { var data = this.getCompaniesMetricsData()[company]; if (data === undefined) { $(""#""+div_id).hide(); return; } Viz.displayMetricsCompany(company, metrics, data, div_id, config); }; this.displayMetricsRepo = function (repo, metrics, div_id, config) { var data = this.getReposMetricsData()[repo]; if (data === undefined) { $(""#""+div_id).hide(); return; } Viz.displayMetricsRepo(repo, metrics, data, div_id, config); }; this.displayMetricsCountry = function (country, metrics, div_id, config) { var data = this.getCountriesMetricsData()[country]; if (data === undefined) { $(""#""+div_id).hide(); return; } Viz.displayMetricsCountry(country, metrics, data, div_id, config); }; this.displayMetricsDomain = function (domain, metrics, div_id, config) { var data = this.getDomainsMetricsData()[domain]; if (data === undefined) return; Viz.displayMetricsDomain(domain, metrics, data, div_id, config); }; this.displayMetricsPeople = function (upeople_id, upeople_identifier, metrics, div_id, config) { var history = this.getPeopleMetricsData()[upeople_id]; if (history === undefined || history instanceof Array) { $(""#""+div_id).hide(); return; } Viz.displayMetricsPeople(upeople_identifier, metrics, history, div_id, config); }; // TODO: support multiproject this.displayMetricsEvol = function(metric_ids, div_target, config, convert) { var data = this.getData(); if (convert) data = DataProcess.convert(data, convert, metric_ids); Viz.displayMetricsEvol(this, metric_ids, data, div_target, config); }; this.isPageDisplayed = function (visited, linked, total, displayed) { // Returns true if link page should be displayed. // Receive: number of visited page, // number of page to be displayed, // total number of pages, // number of pages to be displayed var window = Math.floor((displayed - 3)/2); var lowest_barrier = visited - window; var highest_barrier = (visited + window); if ((linked === 1) || (linked === total) || (linked == visited)){ return true; } //else if ((linked >= (visited - window)) || (linked <= (visited + window))) { else if ((linked >= lowest_barrier) && (linked < visited)){ return true; } else if ((linked <= highest_barrier) && (linked > visited)){ return true; } else{ return false; } }; this.displayItemsNav = function (div_nav, type, page_str, order_by) { var page = parseInt(page_str, null); if (isNaN(page)) page = 1; var items = null; var title = """"; var total = 0; var displayed_pages = 5; // page displayed in the paginator if (type === ""companies"") { items = this.getCompaniesData(); title = ""List of companies""; } else if (type === ""repos"") { items = this.getReposData(); if (order_by) items = DataProcess.sortRepos(this, order_by); } else if (type === ""countries"") { items = this.getCountriesData(); } else if (type === ""domains"") { items = this.getDomainsData(); } else { return; } total = items.length; var nav = ''; var psize = Report.getPageSize(); if (page) { nav += ""<div class='pagination'>""; var number_pages = Math.ceil(total/psize); // number to compose the text message (from_item - to_item / total) var from_item = ((page-1) * psize) + 1; var to_item = page * psize; if (to_item > total){ to_item = total; } // Bootstrap nav += ""<ul class='pagination'>""; if (page>1) { nav += ""<li><a href='?page=""+(page-1)+""'>&laquo;</a></li>""; } else{ nav += ""<li class='disabled'><a href='?page=""+(page)+""'>&laquo;</a></li>""; } for (var j=0; j*Report.getPageSize()<total; j++) { if (this.isPageDisplayed(page, (j+1), number_pages, displayed_pages) === true){ if (page === (j+1)) { nav += ""<li class='active'><a href='?page=""+(j+1)+""'>"" + (j+1) + ""</a></li>""; } else { nav += ""<li><a href='?page=""+(j+1)+""'>"" + (j+1) + ""</a></li>""; } } else { // if it is next to the last page or the second and is not displayed, we add the '..' if ( ((j+1+1) === number_pages) || ((j+1-1) === 1) ){ nav += ""<li class='disabled'><a href='#'> .. </a></li>""; } } } if (page*Report.getPageSize()<items.length) { nav += ""<li><a href='?page=""+(parseInt(page,null)+1)+""'>""; nav += ""&raquo;</a></li>""; } nav += ""</ul>""; nav += ""<span class='pagination-text'> ("" + from_item +"" - ""+ to_item + ""/"" + total+ "")</span>""; nav += ""</div>""; } //nav += ""<span id='nav'></span>""; // Show only the items navbar when there are more than 10 items if (Report.getPageSize()>10) $.each(items, function(id, item) { var label = Report.cleanLabel(item); nav += ""<a href='#""+item+""-nav'>""+label + ""</a> ""; }); $(""#""+div_nav).append(nav); }; this.displayCompaniesLinks = function (div_links, limit, sort_metric) { var sorted_companies = DataProcess.sortCompanies(this, sort_metric); var links = """"; var i = 0; $.each(sorted_companies, function(id, company) { links += '<a href=""company.html?company='+company; if (Report.addDataDir()) links += '&'+Report.addDataDir(); links += '"">'+company+'</a>| '; if (i++>=limit-1) return false; }); $(""#""+div_links).append(links); }; this.displayCompaniesList = function (metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert) { this.displaySubReportList(""companies"",metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert); }; this.displayReposList = function (metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert) { this.displaySubReportList(""repos"",metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert); }; this.displayCountriesList = function (metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert) { this.displaySubReportList(""countries"",metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert); }; this.displayDomainsList = function (metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert) { this.displaySubReportList(""domains"",metrics,div_id, config_metric, sort_metric, page, show_links, start, end, convert); }; this.displaySubReportList = function (report, metrics,div_id, config_metric, sort_metric, page_str, show_links, start, end, convert) { var page = parseInt(page_str, null); if (isNaN(page)) page = 1; var list = """"; var cont = ( page - 1 ) * Report.getPageSize() + 1; var ds = this; var data = null, sorted = null; if (show_links === undefined) show_links = true; if (report === ""companies"") { data = this.getCompaniesMetricsData(); sorted = DataProcess.sortCompanies(this, sort_metric); } else if (report === ""repos"") { data = this.getReposMetricsData(); sorted = DataProcess.sortRepos(this, sort_metric); } else if (report === ""countries"") { data = this.getCountriesMetricsData(); sorted = DataProcess.sortCountries(this, sort_metric); } else if (report === ""domains"") { data = this.getDomainsMetricsData(); sorted = DataProcess.sortDomains(this, sort_metric); } else return; sorted = DataProcess.paginate(sorted, page); list += '<table class=""table table-hover table-repositories"">'; list += '<tr><th></th>'; $.each(metrics, function(id,metric){ if (ds.getMetrics()[metric]){ title = ds.getMetrics()[metric].name; list += '<th>' + title + '</th>'; } else{ list += '<th>' + metric + '</th>'; } }); list += '</tr>'; $.each(sorted, function(id, item) { list += ""<tr><td class='span2 repository-name'>""; list += ""#"" + cont + ""&nbsp;""; cont++; var addURL = null; if (Report.addDataDir()) addURL = Report.addDataDir(); if (show_links) { if (report === ""companies"") { list += ""<a href='company.html?company=""+item; if (addURL) list += ""&""+addURL; list += ""'>""; } else if (report === ""repos"") { list += ""<a href='""; list += ""repository.html""; list += ""?repository="" + encodeURIComponent(item); if (addURL) list += ""&""+addURL; list += ""'>""; } else if (report === ""countries"") { list += ""<a href='country.html?country=""+item; if (addURL) list += ""&""+addURL; list += ""'>""; } else if (report === ""domains"") { list += ""<a href='domain.html?domain=""+item; if (addURL) list += ""&""+addURL; list += ""'>""; } } list += ""<strong>""; list += Report.cleanLabel(item); list += ""</strong>""; if (show_links) list += ""</a>""; //list += ""<br><a href='#nav'>^</a>""; list += ""</td>""; $.each(metrics, function(id, metric) { list += ""<td class='span5'>""; list += ""<div id='""+report+""-""+item+""-""+metric+""'""; list +="" class='subreport-list-item'>""; }); list += ""</td></tr>""; }); list += ""</table>""; $(""#""+div_id).append(list); // Draw the graphs var start_items = null, end_items = null, convert_items = null; if (start) start_items = start.split("",""); if (end) end_items = end.split("",""); if (convert) convert_items = convert.split("",""); $.each(sorted, function(id, item) { var i = 0; $.each(metrics, function(id, metric) { var mstart = null, mend = null, mconvert = null; if (start_items) mstart = start_items[i]; if (end_items) mend = end_items[i]; if (convert_items) mconvert = convert_items[i]; if (item in data === false) return; var item_data = data[item]; if (item_data[metric] === undefined) return; var div_id = report+""-""+item+""-""+metric; var items = {}; items[item] = item_data; var title = ''; Viz.displayMetricSubReportLines(div_id, metric, items, title, config_metric, mstart , mend, mconvert); i++; }); }); }; this.displayGlobalSummary = function(divid) { this.displaySummary(null, divid, null, this); }; this.displayCompanySummary = function(divid, company, ds) { this.displaySummary(""companies"",divid, company, ds); }; this.displayRepoSummary = function(divid, repo, ds) { this.displaySummary(""repositories"",divid, repo, ds); }; this.displayCountrySummary = function(divid, repo, ds) { this.displaySummary(""countries"",divid, repo, ds); }; this.displayDomainSummary = function(divid, domain, ds) { this.displaySummary(""domains"",divid, domain, ds); }; this.displayPeopleSummary = function(divid, upeople_id, upeople_identifier, ds) { var history = ds.getPeopleGlobalData()[upeople_id]; if (history === undefined || history instanceof Array) return; html = ""<h6>"" + ds.getTitle() + ""</h6>""; html += ""<table class='table-condensed table-hover'>""; html += ""<tr><td>""; html += ""Start</td><td>""+history.first_date; html += ""</td></tr><tr><td>""; html += ""End</td><td>""+ history.last_date; html += ""</td></tr><tr><td>""; if (ds.getName() == ""scm"") html += ""Commits</td><td>"" + history.scm_commits; else if (ds.getName() == ""its"") html += ""Closed</td><td>"" + history.its_closed; else if (ds.getName() == ""mls"") html += ""Sent</td><td>"" + history.mls_sent; else if (ds.getName() == ""irc"") html += ""Sent</td><td>"" + history.irc_sent; else if (ds.getName() == ""scr"") html += ""Closed</td><td>"" + history.scr_closed; html += ""</td></tr>""; html += ""</table>""; $(""#""+divid).append(html); }; this.displayCompaniesSummary = function(divid, ds) { var html = """"; var data = ds.getGlobalData(); html += ""Total companies: "" + data.companies +""<br>""; if (data.companies_2006) html += ""Companies in 2006: "" + data.companies_2006+""<br>""; if (data.companies_2009) html += ""Companies in 2009: "" + data.companies_2009+""<br>""; if (data.companies_2012) html += ""Companies in 2012: "" + data.companies_2012+""<br>""; $(""#""+divid).append(html); }; // Return labels to be shown in the summary this.getSummaryLabels = function () {}; this.displaySummary = function(report, divid, item, ds) { if (!item) item = """"; var html = ""<h6>"" + ds.getTitle()+ ""</h6>""; var id_label = this.getSummaryLabels(); var global_data = null; if (report === ""companies"") global_data = ds.getCompaniesGlobalData()[item]; else if (report === ""countries"") global_data = ds.getCountriesGlobalData()[item]; else if (report === ""repositories"") global_data = ds.getReposGlobalData()[item]; else if (report === ""domains"") global_data = ds.getDomainsGlobalData()[item]; else global_data = ds.getGlobalData(); if (!global_data) return; var self = this; html += ""<table class='table-condensed table-hover'>""; $.each(global_data,function(id,value) { html += ""<tr><td>""; // if (id_label[id] === undefined) return; if (self.getMetrics()[id]) { html += self.getMetrics()[id].name + ""</td><td>"" + Report.formatValue(value); } else if (id_label[id]) { html += id_label[id] + ""</td><td>"" + Report.formatValue(value); } else { if (report) html += id + ""</td><td>"" + Report.formatValue(value); } html += ""</td></tr>""; }); html += ""</table>""; $(""#""+divid).append(html); }; this.displayReposSummary = function(divid, ds) { var html = """"; var data = ds.getGlobalData(); html += ""Total repositories: "" + data[ds.getName()+""_repositories""] +""<br>""; $(""#""+divid).append(html); }; this.displayCountriesSummary = function(divid, ds) { var html = """"; var data = ds.getGlobalData(); html += ""Total countries: "" + data.countries +""<br>""; $(""#""+divid).append(html); }; this.displayDomainsSummary = function(divid, ds) { var html = """"; var data = ds.getGlobalData(); html += ""Total domains: "" + data.domains +""<br>""; $(""#""+divid).append(html); }; this.displayDemographics = function(divid, period) { var data = this.getDemographicsData(); Viz.displayDemographicsChart(divid, this, data, period); }; this.displayTimeToAttention = function(div_id, column, labels, title) { labels = true; title = ""Time to Attention "" + column; var data = this.getTimeToAttentionData(); if (data instanceof Array) return; Viz.displayTimeToAttention(div_id, data, column, labels, title); }; this.displayTimeToFix = function(div_id, column, labels, title) { labels = true; title = ""Time to Fix "" + column; var data = this.getTimeToFixData(); if (data instanceof Array) return; Viz.displayTimeToFix(div_id, this.getTimeToFixData(), column, labels, title); }; this.displayMarkovTable = function(div_id, title) { var data = this.getMarkovTableData(); if (data === undefined) { Report.log ('No Markov data available'); return; } Viz.displayMarkovTable(div_id, data, title); }; this.displayTop = function(div, all, show_metric, period, graph, limit, people_links) { if (all === undefined) all = true; var titles = null; Viz.displayTop(div, this, all, show_metric, period, graph, titles, limit, people_links); }; this.displayTopCompany = function(company, div, metric_id, period, titles) { var data = this.getCompaniesTopData()[company]; if (data === undefined) return; var metric = this.getMetrics()[metric_id]; Viz.displayTopCompany(company, data, div, metric, period, titles); }; this.displayTopGlobal = function(div, metric, period, titles) { Viz.displayTopGlobal(div, this, metric, period, titles); }; this.envisionEvo = function(div_id, history, relative, legend_show, summary_graph) { config = Report.getVizConfig(); var options = Viz.getEnvisionOptions(div_id, history, this.getName(), Report.getVizConfig()[this.getName()+""_hide""], summary_graph); options.legend_show = legend_show; if (relative) DataProcess.addRelativeValues(options.data, this.getMainMetric()); new envision.templates.Envision_Report(options, [ this ]); }; this.displayEnvision = function(divid, relative, legend_show, summary_graph) { var projects_full_data = Report.getProjectsDataSources(); this.envisionEvo(divid, projects_full_data, relative, legend_show, summary_graph); }; } /* * Copyright (C) 2012-2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ if (Viz === undefined) var Viz = {}; (function() { var bitergiaColor = ""#ffa500""; Viz.displayTop = displayTop; Viz.displayTopCompany = displayTopCompany; Viz.displayTopGlobal = displayTopGlobal; Viz.displayBasicChart = displayBasicChart; Viz.displayMetricCompanies = displayMetricCompanies; Viz.displayMetricSubReportStatic = displayMetricSubReportStatic; Viz.displayMetricsCompany = displayMetricsCompany; Viz.displayMetricsDomain = displayMetricsDomain; Viz.displayMetricsPeople = displayMetricsPeople; Viz.displayMetricsRepo = displayMetricsRepo; Viz.displayMetricRepos = displayMetricRepos; Viz.displayMetricsCountry = displayMetricsCountry; Viz.displayMetricDomains = displayMetricDomains; Viz.displayMetricsEvol = displayMetricsEvol; Viz.displayBubbles = displayBubbles; Viz.displayDemographicsChart = displayDemographicsChart; Viz.displayEnvisionAll = displayEnvisionAll; Viz.displayTimeToFix = displayTimeToFix; Viz.displayTimeToAttention = displayTimeToAttention; Viz.displayMetricSubReportLines = displayMetricSubReportLines; Viz.displayRadarActivity = displayRadarActivity; Viz.displayRadarCommunity = displayRadarCommunity; Viz.displayTreeMap = displayTreeMap; Viz.displayMarkovTable = displayMarkovTable; Viz.getEnvisionOptions = getEnvisionOptions; Viz.checkBasicConfig = checkBasicConfig; function findMetricDoer(history, metric_id) { var doer = ''; $.each(Report.getAllMetrics(), function(name, metric) { if (metric.action === metric_id) { doer = metric.column; return false; } }); return doer; } function displayMarkovTable(div_id, data, title){ var html = '<h4>' + title + '</h4>'; var table = '<table id=""itsmarkovtable"" class=""table table-striped"">'; table += '<thead><tr><th>Transition</th><th>Number</th><th>Percent</th></tr></thead><tbody>'; $.each(data, function(i, val){ subdata = data[i]; old_value = ""old_value""; new_value = ""new_value""; percent = ""f""; number = ""issue""; for(var k = 0; k < subdata[old_value].length; k++){ var value_new = subdata[new_value][k]; var value_p = subdata[percent][k]; value_p = Math.round(value_p*100)/100; var value_num = subdata[number][k]; table += '<tr><td>' + i + ' -> ' + value_new + '</td>'; table += '<td>' + value_num + '</td>'; table += '<td>' + value_p + '</td></tr>'; } }); table += ""</tbody></table>""; html += table; div = $(""#"" + div_id); div.append(html); return; } function displayTopMetricTable(history, metric_id, doer, limit, people_links, title) { var table = '<table class=""table table-striped""><tbody>'; table += ""<tr><th colspan=2>"" + title + ""</th><th>"" + metric_id + ""</th></tr>""; if (people_links === undefined) people_links = true; if (history[metric_id] === undefined) return; if (!(history[metric_id] instanceof Array)) { history[metric_id] = [history[metric_id]]; history[doer] = [history[doer]]; } for (var i = 0; i < history[metric_id].length; i++) { if (limit && limit <= i) break; var metric_value = history[metric_id][i]; var doer_value = history[doer][i]; var doer_id = null; if (history.id) doer_id = history.id[i]; table += ""<tr><td>#"" + (i+1) + ""</td><td>""; if (doer_id && people_links) table += ""<a href='people.html?id=""+doer_id+""&name=""+doer_value+""'>""; table += DataProcess.hideEmail(doer_value); if (doer_id && people_links) table += ""</a>""; table += ""</td><td>""; table += metric_value + ""</td></tr>""; } table += ""</tbody></table>""; return table; } function displayTopMetric (div_id, metric, metric_period, history, graph, titles, limit, people_links) { var top_metric_id = metric.name; if (!history || $.isEmptyObject(history)) return; var metric_id = metric.action; if (limit && history[metric_id].length<limit) { limit = history[metric_id].length; graph = false; // Not enough height next to the item list } var doer = metric.column; if (doer === undefined) doer = findMetricDoer(history, metric_id); var title = ""Top "" + top_metric_id + "" "" + metric_period; var table = displayTopMetricTable(history, metric_id, doer, limit, people_links, title); // var doer = findMetricDoer(history, metric_id); var div = null; if (table === undefined) return; if (titles === false) { div = $(""#"" + div_id); div.append(table); return; } var div_graph = ''; var new_div = ''; if (graph) { div_graph = ""top-"" + graph + ""-"" + doer + ""-""; div_graph += metric_id + ""-"" + metric_period; new_div += ""<div id='"" + div_graph + ""' class='graph' style='float:right'></div>""; } new_div += table; div = $(""#"" + div_id); div.append(new_div); if (graph) { var labels = history[doer]; var data = history[metric_id]; if (limit) { labels = []; data = []; for (var i=0; i<limit;i++) { labels.push(history[doer][i]); data.push(history[metric_id][i]); } } displayBasicChart(div_graph, labels, data, graph); } } function showHelp(div_id, metrics, custom_help) { var all_metrics = Report.getAllMetrics(); var help ='<a href=""#"" class=""help""'; var content = """"; if (custom_help === """") { var addContent = function (id, value) { if (metrics[i] === id) { content += ""<strong>""+value.name +""</strong>: ""+ value.desc + ""<br>""; return false; } }; for (var i=0; i<metrics.length; i++) { $.each (all_metrics, addContent); } } else { content = ""<strong>Description</strong>: "" + custom_help; } help += 'data-content=""'+content+'"" data-html=""true"">'; help += '<img src=""qm_15.png""></a>'; // Remove previous ""?"" so we don't duplicate var old_help =$('#'+div_id).prev()[0]; if (old_help && old_help.className === ""help"") $('#'+div_id).prev().empty(); $('#'+div_id).before(help); } function displayMetricsLines(div_id, metrics, history, title, config) { if (!(config && config.help === false)) showHelp(div_id, metrics, config.custom_help); var lines_data = []; if (config.remove_last_point) history = DataProcess.revomeLastPoint(history); if (config.frame_time) history = DataProcess.frameTime(history, metrics); if (config.start_time) history = DataProcess.filterDates(config.start_time, config.end_time, history); $.each(metrics, function(id, metric) { if (!history[metric]) return; var mdata = [[],[]]; $.each(history[metric], function (i, value) { mdata[i] = [history.id[i], history[metric][i]]; }); var label = metric; if (Report.getAllMetrics()[metric]) label = Report.getAllMetrics()[metric].name; lines_data.push({label:label, data:mdata}); }); displayDSLines(div_id, history, lines_data, title, config); } function displayMetricSubReportLines(div_id, metric, items, title, config, start, end, convert, order) { var lines_data = []; var history = {}; // TODO: move this data logic to Data Source $.each(items, function(item, data) { if (data === undefined) return false; if (data[metric] === undefined) return false; if (convert) data = DataProcess.convert(data, convert, metric); if (start) data = DataProcess.filterDates(start, end, data); var cdata = [[], []]; for (var i=0; i<data.id.length; i++ ) { cdata[i] = [data.id[i], data[metric][i]]; } item = Report.cleanLabel(item); lines_data.push({label:item, data:cdata}); history = data; }); if (lines_data.length === 0) return; if (order) { var order_lines_data = []; $.each(order, function(i, value_order) { $.each(lines_data, function(j, value) { if (value_order === value.label) { order_lines_data.push(value); return false; } }); }); lines_data = order_lines_data; } displayDSLines(div_id, history, lines_data, title, config); } // Last value is incomplete. Change it to a point. function lastLineValueToPoint(lines_data) { if (lines_data.length === 0) return lines_data; // Not supported if time serie does not start from zero if (lines_data[0].data[0][0] !== 0) return lines_data; var last = lines_data[0].data.length; if (lines_data.length>1) { // If there are several lines, just remove last value // Removed because not useful if last data is not fresh for (var j=0; j<lines_data.length; j++) { // lines_data[j].data[last-1][1] = undefined; } } else { var dots = []; for (var i=0; i<last-1; i++) { dots.push([i,undefined]); } dots.push([last-1, lines_data[0].data[last-1][1]]); var dot_graph = {'data':dots}; dot_graph.points = {show : true, radius:3, lineWidth: 1, fillColor: null, shadowSize : 0}; lines_data.push(dot_graph); // Remove last data line because covered by dot graph lines_data[0].data[last-1][1] = undefined; } return lines_data; } // Lines from the same Data Source // TODO: Probably we should also fill history function displayDSLines(div_id, history, lines_data, title, config_metric) { var container = document.getElementById(div_id); var legend_div = null; if (config_metric && config_metric.legend && config_metric.legend.container) legend_div = $('#'+config_metric.legend.container); var config = { subtitle : title, legend: { show: true, container: legend_div }, xaxis : { minorTickFreq : 4, tickFormatter : function(x) { var index = null; for ( var i = 0; i < history.id.length; i++) { if (parseInt(x, null)===history.id[i]) { index = i; break;} } return history.date[index]; } }, yaxis : { min: null, noTicks: 2, autoscale: false }, grid : { verticalLines: false, color: '#000000', outlineWidth: 1, outline: 's' }, mouse : { container: legend_div, track : true, trackY : false, trackFormatter : function(o) { var label = history.date[parseInt(o.index, 10)]; if (label === undefined) label = """"; else label += ""<br>""; for (var i=0; i<lines_data.length; i++) { var value = lines_data[i].data[o.index][1]; if (value === undefined) continue; if (lines_data.length > 1) { if (lines_data[i].label !== undefined) label += lines_data[i].label +"":""; } label += Report.formatValue(value) +""<br>""; } return label; } } }; if (config_metric) { if (!config_metric.show_title) config.title = ''; if (""show_legend"" in config_metric) { if (config_metric.show_legend === true) config.legend.show = true; else config.legend.show = false; } if (config_metric.lines && config_metric.lines.stacked) config.lines = {stacked:true, fill:true, fillOpacity: 1, fillBorder:true, lineWidth:0.01}; if (!config_metric.show_labels) { config.xaxis.showLabels = false; config.yaxis.showLabels = false; } if (config_metric.show_grid === false) { config.grid.verticalLines = false; config.grid.horizontalLines = false; config.grid.outlineWidth = 0; } if (config_metric.show_mouse === false) { config.mouse.track = false; } if (config_metric.graph === ""bars"") { config.bars = {show : true}; } if (config_metric.light_style === true) { config.grid.color = '#ccc'; config.legend.show = false; } if (config_metric.custom_title){ config.subtitle = config_metric.custom_title; } } // Show last time series as a point, not a line. The data is incomplete // Only show for single lines when time series is complete var showLastPoint = false; if (config_metric.graph !== ""bars"" && lines_data.length === 1 && lines_data[0].data[0][0] === 0) { showLastPoint = true; } if (showLastPoint) { lines_data = lastLineValueToPoint(lines_data); // Add an extra entry for adding space for the circle point. Ugly hack! // var last = lines_data[0].data.length; var next_id = history.id[history.id.length-1]+1; lines_data[0].data.push([next_id, undefined]); lines_data[1].data.push([next_id, undefined]); history.date.push(''); history.id.push(next_id); } graph = Flotr.draw(container, lines_data, config); // Clean added point. Data is a reference to the original! if (showLastPoint) { if (history.date) history.date.pop(); if (history.id) history.id.pop(); } } function displayBasicChart (divid, labels, data, graph, title, config_metric, rotate, fixColor, yformatter) { var horizontal = false; if (rotate) horizontal = true; var container = document.getElementById(divid); var legend_div = null; if (config_metric && config_metric.legend && config_metric.legend.container) legend_div = $('#'+config_metric.legend.container); var chart_data = [], i; var label = ''; if (!horizontal) { for (i = 0; i < data.length; i++) { if (labels) label = DataProcess.hideEmail(labels[i]); chart_data.push({ data : [ [ i, data[i] ] ], label : label }); } } else { for (i = 0; i < data.length; i++) { if (labels) label = DataProcess.hideEmail(labels[i]); chart_data.push({ data : [ [ data[i], i ] ], label : label }); } } var config = { title : title, grid : { verticalLines : false, horizontalLines : false, outlineWidth : 0 }, xaxis : { showLabels : false, min : 0 }, yaxis : { showLabels : false, min : 0 }, mouse : { container: legend_div, track : true, trackFormatter : function(o) { var i = 'x'; if (horizontal) i = 'y'; var label = ''; if (labels) label = DataProcess.hideEmail(labels[parseInt(o[i], 10)]) + "": ""; return label + data[parseInt(o[i], 10)]; } }, legend : { show : false, position : 'se', backgroundColor : '#D2E8FF', container: legend_div } }; if (config_metric) { if (!config_metric.show_title) config.title = ''; if (config_metric.show_legend) config.legend.show = true; } if (graph === ""bars"") { config.bars = { show : true, horizontal : horizontal }; if (fixColor) { config.bars.color = fixColor; config.bars.fillColor = fixColor; } if (config_metric && config_metric.show_legend !== false) config.legend = {show:true, position: 'ne', container: legend_div}; // TODO: Color management should be defined //var defaults_colors = [ '#ffa500', '#ffff00', '#00ff00', '#4DA74D', // '#9440ED' ]; // config.colors = defaults_colors, config.grid.horizontalLines = true; config.yaxis = { showLabels : true, min:0 }; if (config_metric && config_metric.xaxis) config.xaxis = { showLabels : config_metric.xaxis, min:0 }; if (yformatter) { config.yaxis = { showLabels : true, min:0, tickFormatter : yformatter }; } } if (graph === ""pie"") { config.pie = {show : true}; config.mouse.position = 'ne'; } graph = Flotr.draw(container, chart_data, config); } // labels: label for each column series // data: values for each column series, Two series now. function displayMultiColumnChart (divid, labels, data, title, config_metric, rotate, yformatter, period_year) { var bar_width = 0.4; // 1 total per group of bars var lseries = data[0].length; if (data[1].length > lseries) lseries = data[1].length; var horizontal = false; if (rotate) horizontal = true; var container = document.getElementById(divid); var legend_div = null; if (config_metric && config_metric.legend && config_metric.legend.container) legend_div = $('#'+config_metric.legend.container); var serie1 = [], i, serie2=[], data_viz = []; for (i = 0; i < lseries; i++) { var val1, val2; if (data[0].length>i) val1 = data[0][i]; else val1 = undefined; if (data[1].length>i) val2 = data[1][i]; else val2 = undefined; if (!horizontal) { serie1.push([i-bar_width/2, val1]); serie2.push([i+bar_width/2, val2]); } else { serie1.push([val1, i-bar_width/2]); serie2.push([val2, i+bar_width/2 ]); } } data_viz = [{data:serie1,label:labels[0]}, {data:serie2,label:labels[1]}]; var config = { title : title, bars: { show : true, horizontal : horizontal, barWidth : bar_width }, grid : { verticalLines : false, horizontalLines : false, outlineWidth : 0 }, xaxis : { showLabels : false, min : 0 }, yaxis : { showLabels : true, min : 0 }, mouse : { container: legend_div, track : true, trackFormatter : function(o) { var index; var i = 'x'; if (horizontal) i = 'y'; var point = parseFloat(o[i],1); // point+0.2 serie2, point-0.2 serie1 // Strange maths ... round to avoid x.9999 var point_down = Math.round((point-0.2)*10)/10; var point_up = Math.round((point+0.2)*10)/10; if (point_down === parseInt(point,10)) index = point_down; else index = point_up; var years = index; if (period_year) years = index * period_year; var label = years + "" years: ""; var val1, val2; if (serie1[index] === undefined) val1 = 0; else val1 = parseInt(serie1[index][0],10); if (isNaN(val1)) val1 = 0; if (serie2[index] === undefined) val2 = 0; else val2 = parseInt(serie2[index][0],10); if (isNaN(val2)) val2 = 0; label += val1 + "" "" + labels[0]; label += "" , ""; label += val2 + "" "" + labels[1]; label += "" ("" + parseInt((val1/val2)*100,10)+""% )""; return label; } }, legend : { show : true, position : 'ne', backgroundColor : '#D2E8FF', container: legend_div } }; if (config_metric) { if (!config_metric.show_title) config.title = ''; if (config_metric.show_legend) config.legend.show = true; } if (config_metric && config_metric.show_legend !== false) config.legend = {show:true, position: 'ne', container: legend_div}; config.grid.horizontalLines = true; config.yaxis = { showLabels : true, min:0 }; if (yformatter) { config.yaxis = { showLabels : true, min:0, tickFormatter : yformatter }; } if (config_metric && config_metric.xaxis) config.xaxis = { showLabels : config_metric.xaxis, min:0 }; graph = Flotr.draw(container, data_viz, config); } // The two metrics should be from the same data source function displayBubbles(divid, metric1, metric2, radius) { var container = document.getElementById(divid); var DS = Report.getMetricDS(metric1)[0]; var DS1 = Report.getMetricDS(metric2)[0]; var bdata = []; if (DS != DS1) { Report.log(""Metrics for bubbles have different data sources""); return; } var full_data = []; var projects = []; $.each(Report.getDataSources(), function (index, ds) { if (ds.getName() === DS.getName()) { full_data.push(ds.getData()); projects.push(ds.getProject()); } }); // [ids, values] Complete timeline for all the data var dates = [[],[]]; // Healthy initial value dates = [full_data[0].id, full_data[0].date]; for (var i=0; i<full_data.length; i++) { // if empty data return if (full_data[i] instanceof Array) return; dates = DataProcess.fillDates(dates, [full_data[i].id, full_data[i].date]); } for ( var j = 0; j < full_data.length; j++) { var serie = []; var data = full_data[j]; var data1 = DataProcess.fillHistory(dates[0], [data.id, data[metric1]]); var data2 = DataProcess.fillHistory(dates[0], [data.id, data[metric2]]); for (i = 0; i < dates[0].length; i++) { serie.push( [ dates[0][i], data1[1][i], data2[1][i] ]); } bdata.push({label:projects[j],data:serie}); } var config = { bubbles : { show : true, baseRadius : 5 }, mouse : { track : true, trackFormatter : function(o) { var value = full_data[0].date[o.index] + "": ""; value += o.series.label + "" ""; value += o.series.data[o.index][1] + "" "" + metric1 + "",""; value += o.series.data[o.index][2] + "" "" + metric2; return value; } }, xaxis : { tickFormatter : function(o) { return full_data[0].date[parseInt(o, 10) - full_data[0].id[0]]; } } }; if (DS.getName() === ""its"") $.extend(config.bubbles, { baseRadius : 1.0 }); if (radius) { $.extend(config.bubbles, { baseRadius : radius }); } Flotr.draw(container, bdata, config); } function displayDemographicsChart(divid, ds, data, period_year) { if (!data) return; if (!period_year) period_year = 0.25; else period = 365*period_year; // var data = ds.getDemographicsData(); var period_data_aging = []; var period_data_birth = []; var labels = [], i; var config = {show_legend:false, xaxis:true}; var age, index; // Aging for (i = 0; i < data.aging.persons.age.length; i++) { age = data.aging.persons.age[i]; index = parseInt(age / period, 10); if (!period_data_aging[index]) period_data_aging[index] = 0; period_data_aging[index] += 1; } // Birth for (i = 0; i < data.birth.persons.age.length; i++) { age = data.birth.persons.age[i]; index = parseInt(age / period, 10); if (!period_data_birth[index]) period_data_birth[index] = 0; period_data_birth[index] += 1; } labels = [""aging"",""birth""]; yticks = function (val, axisOpts){ var period = period_year; var unit = ""years""; val = val*period_year; return val +' ' + unit; }; var period_data = [period_data_aging, period_data_birth]; if (data) displayMultiColumnChart(divid, labels, period_data, """", config, true, yticks, period_year); } function displayRadarChart(div_id, ticks, data) { var container = document.getElementById(div_id); var max = $(""#"" + div_id).data('max'); var border=0.2; if (!(max)) max = 0; for (var j=0; j<data.length; j++) { for (var i=0; i<data[j].data.length; i++) { var value = data[j].data[i][1]; if (value>max) { max = value; max = parseInt(max * (1+border),null); } } } // TODO: Hack to have vars visible in track/tickFormatter (function() {var x = [data, ticks];})(); graph = Flotr.draw(container, data, { radar : { show : true }, mouse : { track : true, trackFormatter : function(o) { var value = """"; for (var i=0; i<data.length; i++) { value += data[i].label + "" ""; value += data[i].data[o.index][1] + "" ""; value += ticks[o.index][1] + ""<br>""; } return value; } }, grid : { circular : true, minorHorizontalLines : true }, yaxis : { min : 0, max : max, minorTickFreq : 1 }, xaxis : { ticks : ticks } }); } function displayRadar(div_id, metrics) { var data = [], ticks = []; var radar_data = []; var projects = []; var i = 0, j = 0; for (i = 0; i < metrics.length; i++) { var DS = Report.getMetricDS(metrics[i]); for (j=0; j<DS.length; j++) { if (!data[j]) { data[j] = []; projects[j] = DS[j].getProject(); } data[j].push([ i, parseInt(DS[j].getGlobalData()[metrics[i]], 10) ]); } ticks.push([ i, DS[0].getMetrics()[metrics[i]].name ]); } for (j=0; j<data.length; j++) { radar_data.push({ label : projects[j], data : data[j] }); } displayRadarChart(div_id, ticks, radar_data); } function displayRadarCommunity(div_id) { var metrics = [ 'scm_committers', 'scm_authors', 'its_openers', 'its_closers', 'its_changers', 'mls_senders' ]; displayRadar(div_id, metrics); } function displayRadarActivity(div_id) { var metrics = [ 'scm_commits', 'scm_files', 'its_opened', 'its_closed', 'its_changed', 'mls_sent' ]; displayRadar(div_id, metrics); } function displayTimeToAttention(div_id, ttf_data, column, labels, title) { displayTimeTo(div_id, ttf_data, column, labels, title); } function displayTimeToFix(div_id, ttf_data, column, labels, title) { displayTimeTo(div_id, ttf_data, column, labels, title); } function displayTimeTo(div_id, ttf_data, column, labels, title) { // We can have several columns (metrics) var metrics = column.split("",""); var history = ttf_data.data; if (!history[metrics[0]]) return; var new_history = {}; new_history.date = history.date; // We prefer the data in days, not hours $.each(history, function(name, data) { if ($.inArray(name, metrics) === -1) return; new_history[name] = []; for (var i=0; i<data.length; i++) { var hours = parseFloat((parseInt(data[i],null)/24).toFixed(2),null); new_history[name].push(hours); } }); // We need and id column new_history.id=[]; for (var i=0; i<history[metrics[0]].length;i++) { new_history.id.push(i); } var config = {show_legend: true, show_labels: true}; displayMetricsLines(div_id, metrics, new_history, column, config); } // Each metric can have several top: metric.period // For example: ""committers.all"":{""commits"":[5310, ...],""name"":[""Brion // Vibber"",..]} function displayTop(div, ds, all, show_metric, period, graph, titles, limit, people_links) { var basic_metrics = ds.getMetrics(); if (all === undefined) all = true; var history = ds.getGlobalTopData(); $.each(history, function(key, value) { // ex: commits.all var data = key.split("".""); var top_metric = data[0]; if (show_metric && show_metric !== top_metric) return true; var top_period = data[1]; for (var id in basic_metrics) { var metric = basic_metrics[id]; if (metric.column == top_metric){ //continue with the loop if the period is not the one if (period && period !== top_period) return true; displayTopMetric(div, metric, top_period, history[key], graph, titles, limit, people_links); if (!all) return false; break; } } }); } function displayTopCompany(company, data, div, metric, period, titles) { var graph = null; displayTopMetric(div, metric, period, data, graph, titles); } function displayTopGlobal(div, data_source, metric_id, period, titles) { var project = data_source.getProject(); var metric = data_source.getMetrics()[metric_id]; var graph = null; if (!data_source.getGlobalTopData()[metric_id]) return; data = data_source.getGlobalTopData()[metric_id][period]; displayTopMetric(div, project, metric, period, data, graph, titles); } // D3 based function displayTreeMap(divid, data_file, data) { if (data === undefined) { if (data_file === undefined) return; Loader.get_file_data_div (data_file, Viz.displayTreeMap, divid); return; } else if (data === null) return; // We have the data to be drawn var color = d3.scale.category20c(); var div = d3.select(""#""+divid); var width = $(""#""+divid).width(), height = $(""#""+divid).height(); var treemap = d3.layout.treemap() .size([ width, height ]) .sticky(true) .value(function(d) {return d.size;} ); var position = function() { this.style(""left"", function(d) { return d.x + ""px""; }).style(""top"", function(d) { return d.y + ""px""; }).style(""width"", function(d) { return Math.max(0, d.dx - 1) + ""px""; }).style(""height"", function(d) { return Math.max(0, d.dy - 1) + ""px""; }); }; var node = div.datum(data).selectAll("".node"") .data(treemap.nodes) .enter().append(""div"") .attr(""class"", ""treemap-node"") .call(position) .style(""background"", function(d) { return d.children ? color(d.name) : null;}) .text(function(d) { return d.children ? null : d.name; }); d3.selectAll(""input"").on(""change"", function change() { var value = this.value === ""count"" ? function() {return 1;} : function(d) {return d.size;}; node .data(treemap.value(value).nodes) .transition() .duration(1500) .call(position); }); } // TODO: Remove when mls lists are multiproject Viz.getEnvisionOptionsMin = function (div_id, history, hide) { var firstMonth = history.id[0], container = document.getElementById(div_id), options; var markers = Report.getMarkers(); var basic_metrics = Report.getAllMetrics(); options = { container : container, xTickFormatter : function(index) { var label = history.date[index - firstMonth]; if (label === ""0"") label = """"; return label; }, yTickFormatter : function(n) { return n + ''; }, // Initial selection selection : { data : { x : { min : history.id[0], max : history.id[history.id.length - 1] } } } }; options.data = { summary : [history.id,history.sent], markers : markers, dates : history.date, envision_hide : hide, main_metric : ""sent"" }; var all_metrics = Report.getAllMetrics(); var label = null; for (var metric in history) { label = metric; if (all_metrics[metric]) label = all_metrics[metric].name; options.data[metric] = [{label:label, data:[history.id,history[metric]]}]; } options.trackFormatter = function(o) { var sdata = o.series.data, index = sdata[o.index][0] - firstMonth; var value = history.date[index] + "":<br>""; for (var metric in basic_metrics) { if (history[metric] === undefined) continue; value += history[metric][index] + "" "" + metric + "" , ""; } return value; }; return options; }; function getEnvisionOptions(div_id, projects_data, ds_name, hide, summary_graph) { var basic_metrics = null, main_metric="""", summary_data = [[],[]]; if (ds_name) { $.each(Report.getDataSources(), function(i, DS) { if (DS.getName() === ds_name) { basic_metrics = DS.getMetrics(); return false; } }); } else basic_metrics = Report.getAllMetrics(); $.each(Report.getDataSources(), function(i, DS) { main_metric = DS.getMainMetric(); if ((ds_name === null && DS.getName() === ""scm"") || (ds_name && DS.getName() == ds_name)) { summary_data = [DS.getData().id, DS.getData()[main_metric]]; if (summary_graph === false) summary_data = [DS.getData().id, []]; return false; } }); // [ids, values] Complete timeline for all the data var dates = [[],[]]; $.each(projects_data, function(project, data) { $.each(data, function(index, DS) { if (ds_name && ds_name !== DS.getName()) return; dates = DataProcess.fillDates(dates, [DS.getData().id, DS.getData().date]); }); }); var firstMonth = dates[0][0], container = document.getElementById(div_id), options; var markers = Report.getMarkers(); options = { container : container, xTickFormatter : function(index) { var label = dates[1][index - firstMonth]; if (label === ""0"") label = """"; return label; }, yTickFormatter : function(n) { return n + ''; }, // Initial selection: disabled selection : { data : { x : { min : dates[0][0], max : dates[0][dates[0].length - 1] } } } }; options.data = { summary : DataProcess.fillHistory(dates[0], summary_data), markers : markers, dates : dates[1], envision_hide : hide, main_metric : main_metric }; var project = null; var buildProjectInfo = function(index, ds) { var data = ds.getData(); if (data[metric] === undefined) return; if (options.data[metric] === undefined) options.data[metric] = []; var full_data = DataProcess.fillHistory(dates[0], [data.id, data[metric]]); if (metric === main_metric) { options.data[metric].push( {label:project, data:full_data}); if (data[metric+""_relative""] === undefined) return; if (options.data[metric+""_relative""] === undefined) options.data[metric+""_relative""] = []; full_data = DataProcess.fillHistory(dates[0], [data.id, data[metric+""_relative""]]); options.data[metric+""_relative""].push( {label:project, data:full_data}); } else { //options.data[metric].push({label:"""", data:full_data}); options.data[metric].push({label:project, data:full_data}); } }; var buildProjectsInfo = function(name, pdata) { project = name; $.each(pdata, buildProjectInfo); }; for (var metric in basic_metrics) { $.each(projects_data, buildProjectsInfo); } options.trackFormatter = function(o) { var sdata = o.series.data, index = sdata[o.index][0] - firstMonth; var project_metrics = {}; var projects = Report.getProjectsList(); for (var j=0;j<projects.length; j++) { project_metrics[projects[j]] = {}; } var value = dates[1][index] + "":<br>""; for (var metric in basic_metrics) { if (options.data[metric] === undefined) continue; if ($.inArray(metric,options.data.envision_hide) > -1) continue; for (j=0;j<projects.length; j++) { if (options.data[metric][j] === undefined) continue; var project_name = options.data[metric][j].label; var pdata = options.data[metric][j].data; value = pdata[1][index]; project_metrics[project_name][metric] = value; } } value = ""<table><tr><td align='right'>""+dates[1][index]+""</td></tr>""; value += ""<tr>""; if (projects.length>1) value +=""<td></td>""; for (metric in basic_metrics) { if (options.data[metric] === undefined) continue; if ($.inArray(metric,options.data.envision_hide) > -1) continue; value += ""<td>""+basic_metrics[metric].name+""</td>""; } value += ""</tr>""; $.each(project_metrics, function(project, metrics) { var row = ""<tr>""; for (var metric in basic_metrics) { if (options.data[metric] === undefined) continue; if ($.inArray(metric,options.data.envision_hide) > -1) continue; mvalue = project_metrics[project][metric]; if (mvalue === undefined) mvalue = ""n/a""; row += ""<td>"" + mvalue + ""</td>""; } if (projects.length>1) row = ""<td>""+project+""</td>""+row; row += ""</tr>""; value += row; }); value += ""</table>""; return value; }; return options; } function checkBasicConfig(config) { if (config === undefined) config = {}; if (config.show_desc === undefined) config.show_desc = true; if (config.show_title === undefined) config.show_title = true; if (config.show_labels === undefined) config.show_labels = true; return config; } function displayMetricsEvol(ds, metrics, data, div_target, config) { /* gets readeable title for metrics + conf and calls displayMetricsLines*/ config = checkBasicConfig(config); var desc_metrics = ds.getMetrics(); var title = ''; for (var i=0; i<metrics.length; i++) { if (i !== 0){ title += ' vs. '; } if (metrics[i] in desc_metrics) title += desc_metrics[metrics[i]].name; else title += metrics[i]; } if (!config.show_title) title = ''; displayMetricsLines(div_target, metrics, data, title, config); } function displayMetricsCompany (company, metrics, data, div_id, config) { config = checkBasicConfig(config); var title = company; displayMetricsLines(div_id, metrics, data, title, config); } function displayMetricsRepo (repo, metrics, data, div_id, config) { config = checkBasicConfig(config); var title = repo; displayMetricsLines(div_id, metrics, data, title, config); } function displayMetricsDomain (domain, metrics, data, div_id, config) { config = checkBasicConfig(config); var title = domain; displayMetricsLines(div_id, metrics, data, title, config); } function displayMetricsPeople (upeople_identifier, metrics, data, div_id, config) { config = checkBasicConfig(config); var title = upeople_identifier; displayMetricsLines(div_id, metrics, data, title, config); } function displayMetricRepos(metric, data, div_target, config, start, end) { config = checkBasicConfig(config); config.show_legend = true; var title = metric; displayMetricSubReportLines(div_target, metric, data, title, config, start, end); } function displayMetricsCountry (country, metrics, data, div_id, config) { config = checkBasicConfig(config); var title = country; displayMetricsLines(div_id, metrics, data, title, config); } function displayMetricCompanies(metric, data, div_target, config, start, end, order) { config = checkBasicConfig(config); if (config.show_legend !== false) config.show_legend = true; var title = metric; displayMetricSubReportLines(div_target, metric, data, title, config, start, end, null, order); } function displayMetricDomains(metric, data, div_target, config, start, end) { config = checkBasicConfig(config); if (config.show_legend !== false) config.show_legend = true; var title = metric; displayMetricSubReportLines(div_target, metric, data, title, config, start, end); } function displayMetricSubReportStatic(metric, data, order, div_id, config) { config = checkBasicConfig(config); var title = metric; var metric_data = []; var labels = []; var graph = 'bars'; if (config.graph) graph = config.graph; $.each(order, function(i, name) { var label = Report.cleanLabel(name); labels.push(label); metric_data.push(data[name][metric]); }); displayBasicChart(div_id, labels, metric_data, graph, title, config); } function displayEnvisionAll(div_id, relative, legend_show, summary_graph) { var projects_full_data = Report.getProjectsDataSources(); var config = Report.getVizConfig(); var options = Viz.getEnvisionOptions(div_id, projects_full_data, null, config.summary_hide, summary_graph); options.legend_show = legend_show; if (relative) { // TODO: Improve main metric selection. Report.getMainMetric() $.each(projects_full_data, function(project, data) { $.each(data, function(index, DS) { main_metric = DS.getMainMetric(); }); }); DataProcess.addRelativeValues(options.data, main_metric); } new envision.templates.Envision_Report(options); } })(); /* * Copyright (C) 2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ function IRC() { var self = this; this.basic_metrics = { 'irc_sent' : { 'divid' : ""irc_sent"", 'column' : ""sent"", 'name' : ""Sent"", 'desc' : ""Messages sent"" }, 'irc_senders' : { 'divid' : ""irc_senders"", 'column' : ""senders"", 'name' : ""Senders"", 'desc' : ""Messages senders"", 'action' : 'sent' }, 'irc_repositories' : { 'divid' : ""irc_repositories"", 'column' : ""repositories"", 'name' : ""Repositories"", 'desc' : ""Number of active repositories"", } }; this.getMainMetric = function() { return ""irc_sent""; }; this.getSummaryLabels = function () { var id_label = { first_date : ""Start"", last_date : ""End"" }; return id_label; }; this.displayData = function(divid) { var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .irc_info').hide(); return; } var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().irc_url; } if (this.global_data.type) $(div_id + ' #irc_type').text(this.global_data.type); if (this.global_data.url && this.global_data.url !== ""."" && this.global_data.type !== undefined) { $(div_id + ' #irc_url').attr(""href"", url); $(div_id + ' #irc_name').text(""IRC "" + this.global_data.type); } else { $(div_id + ' #irc_url').attr(""href"", Report.getProjectData().irc_url); $(div_id + ' #irc_name').text(Report.getProjectData().irc_name); $(div_id + ' #irc_type').text(Report.getProjectData().irc_type); } var data = this.getGlobalData(); $(div_id + ' #ircFirst').text(data.first_date); $(div_id + ' #ircLast').text(data.last_date); $(div_id + ' #ircSent').text(data.irc_sent); $(div_id + ' #ircRepositories').text(data.irc_repositories); if (data.repositories === 1) $(div_id + ' #ircRepositories').hide(); }; this.displayBubbles = function(divid, radius) { if (false) Viz.displayBubbles(divid, ""irc_sent"", ""irc_senders"", radius); }; this.getTitle = function() {return ""IRC Messages"";}; } IRC.prototype = new DataSource(""irc"");/* * Copyright (C) 2012 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ function ITS() { this.basic_metrics = { 'its_opened' : { 'divid' : 'its_opened', 'column' : ""opened"", 'name' : ""Opened"", 'desc' : ""Number of opened tickets"", 'envision' : { y_labels : true, show_markers : true } }, 'its_openers' : { 'divid' : 'its_openers', 'column' : ""openers"", 'name' : ""Openers"", 'desc' : ""Unique identities opening tickets"", 'action' : ""opened"", 'envision' : { gtype : 'whiskers' } }, 'its_closed' : { 'divid' : 'its_closed', 'column' : ""closed"", 'name' : ""Closed"", 'desc' : ""Number of closed tickets"" }, 'its_closers' : { 'divid' : 'its_closers', 'column' : ""closers"", 'name' : ""Closers"", 'desc' : ""Number of identities closing tickets"", 'action' : ""closed"", 'envision' : { gtype : 'whiskers' } }, 'its_changed' : { 'divid' : 'its_changed', 'column' : ""changed"", 'name' : ""Changed"", 'desc' : ""Number of changes to the state of tickets"" }, 'its_changers' : { 'divid' : 'its_changers', 'column' : ""changers"", 'name' : ""Changers"", 'desc' : ""Number of identities changing the state of tickets"", 'action' : ""changed"", 'envision' : { gtype : 'whiskers' } }, 'its_companies' : { 'divid' : 'its_companies', 'column' : ""companies"", 'name' : ""Companies"", 'desc' : ""Number of active companies"" }, 'its_countries' : { 'divid' : 'its_countries', 'column' : ""countries"", 'name' : ""Countries"", 'desc' : ""Number of active countries"" }, 'its_repositories' : { 'divid' : 'its_repositories', 'column' : ""repositories"", 'name' : ""Respositories"", 'desc' : ""Number of active respositories"" }, 'its_domains' : { 'divid' : 'its_domains', 'column' : ""domains"", 'name' : ""Domains"", 'desc' : ""Number of active domains"" }, 'its_people' : { 'divid' : 'its_people', 'column' : ""people"", 'name' : ""People"", 'desc' : ""Number of active people"" } }; this.getMainMetric = function() { return ""its_opened""; }; this.setReposData = function(repos_name, self) { if (self === undefined) self = this; if (!(repos_name instanceof Array)) repos_name=[repos_name]; var repos = []; // convert http://issues.liferay.com/browse/AUI, change ""/"" by ""_"" for (var i=0; i<repos_name.length; i++) { repos.push(repos_name[i].replace(/\//g,""_"")); } self.repos = repos; }; this.getSummaryLabels = function () { var labels = { first_date : ""Start"", last_date : ""End"", tickets : ""Tickets"", trackers : ""Trackers"" }; return labels; }; this.displayData = function(divid) { var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .its-info').hide(); return; } $(div_id + ' #its_type').text(this.global_data.type); var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().its_url; } if (url === undefined) url = ''; if (this.global_data.type === ""allura"") url = url.replace(""rest/"",""""); else if (this.global_data.type === ""github"") { url = url.replace(""api."",""""); url = url.replace(""repos/"",""""); } $(div_id + ' #its_url').attr(""href"", url); var tracker_str = this.global_data.type.charAt(0).toUpperCase() + this.global_data.type.slice(1); $(div_id + ' #its_name').text(tracker_str + "" Tickets""); var data = this.getGlobalData(); $(div_id + ' #itsFirst').text(data.first_date); $(div_id + ' #itsLast').text(data.last_date); $(div_id + ' #itsTickets').text(data.its_opened); $(div_id + ' #itsOpeners').text(data.its_openers); $(div_id + ' #itsRepositories').text(data.its_repositories); if (data.repositories === 1) $(div_id + ' #itsRepositories').hide(); }; this.getTitle = function() {return ""Tickets"";}; this.displayBubbles = function(divid, radius) { Viz.displayBubbles(divid, ""its_opened"", ""its_openers"", radius); }; } ITS.prototype = new DataSource(""its"");/* * Copyright (C) 2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ function MediaWiki() { var self = this; this.basic_metrics = { 'mediawiki_reviews' : { 'divid' : ""mediawiki_reviews"", 'column' : ""reviews"", 'name' : ""Editions"", 'desc' : ""Wiki page editions"" }, 'mediawiki_authors' : { 'divid' : ""mediawiki_authors"", 'column' : ""authors"", 'name' : ""Editors"", 'desc' : ""Editors doing editions"", 'action' : 'reviews' }, 'mediawiki_pages' : { 'divid' : ""mediawiki_pages"", 'column' : ""pages"", 'name' : ""Pages"", 'desc' : ""Wiki pages"" } }; this.getMainMetric = function() { return ""mediawiki_reviews""; }; this.getSummaryLabels = function () { var id_label = { first_date : ""Start"", last_date : ""End"" }; return id_label; }; this.displayData = function(divid) { var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .mediawiki_info').hide(); return; } var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().mediawiki_url; } if (this.global_data.type) $(div_id + ' #mediawiki_type').text(this.global_data.type); if (this.global_data.url && this.global_data.url !== ""."" && this.global_data.type !== undefined) { $(div_id + ' #mediawiki_url').attr(""href"", url); $(div_id + ' #mediawiki_name').text(""MediaWiki "" + this.global_data.type); } else { $(div_id + ' #mediawiki_url').attr(""href"", Report.getProjectData().mediawiki_url); $(div_id + ' #mediawiki_name').text(Report.getProjectData().mediawiki_name); $(div_id + ' #mediawiki_type').text(Report.getProjectData().mediawiki_type); } var data = this.getGlobalData(); $(div_id + ' #mediawikiFirst').text(data.first_date); $(div_id + ' #mediawikiLast').text(data.last_date); $(div_id + ' #mediawikiSent').text(data.mediawiki_reviews); }; this.displayBubbles = function(divid, radius) { if (false) Viz.displayBubbles(divid, ""mediawiki_reviews"", ""mediawiki_authors"", radius); }; this.getTitle = function() {return ""MediaWiki Reviews"";}; } MediaWiki.prototype = new DataSource(""mediawiki"");/* * Copyright (C) 2012 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ function MLS() { var self = this; this.basic_metrics = { 'mls_responses' : { 'divid' : ""mls_responses"", 'column' : ""responses"", 'name' : ""Responses"", 'desc' : ""Number of messages that are responses"" }, 'mls_sent' : { 'divid' : ""mls_sent"", 'column' : ""sent"", 'name' : ""Sent"", 'desc' : ""Number of messages"" }, 'mls_senders' : { 'divid' : ""mls_senders"", 'column' : ""senders"", 'name' : ""Senders"", 'desc' : ""Number of unique message senders"", 'action' : ""sent"" }, 'mls_threads' : { 'divid' : ""mls_threads"", 'column' : ""threads"", 'name' : ""Threads"", 'desc' : ""Number of messages threads"" }, 'mls_companies' : { 'divid' : 'mls_companies', 'column' : ""companies"", 'name' : ""Companies"", 'desc' : ""Number of active companies"" }, 'mls_countries' : { 'divid' : 'mls_countries', 'column' : ""countries"", 'name' : ""Countries"", 'desc' : ""Number of active countries"" }, 'mls_repositories' : { 'divid' : 'mls_repositories', 'column' : ""repositories"", 'name' : ""Respositories"", 'desc' : ""Number of active respositories"" }, 'mls_domains' : { 'divid' : 'mls_domains', 'column' : ""domains"", 'name' : ""Domains"", 'desc' : ""Number of active domains"" }, 'mls_people' : { 'divid' : 'mls_people', 'column' : ""people"", 'name' : ""People"", 'desc' : ""Number of active people"" } }; this.data_lists_file = this.data_dir + '/mls-lists.json'; this.getListsFile = function() {return this.data_lists_file;}; this.data_lists = null; this.getListsData = function() {return this.data_lists;}; this.setListsData = function(lists, self) { if (self === undefined) self = this; self.data_lists = lists; }; this.setDataDir = function(dataDir) { this.data_dir = dataDir; this.data_lists_file = this.data_dir + '/mls-lists.json'; MLS.prototype.setDataDir.call(this, dataDir); }; this.getMainMetric = function() { return ""mls_sent""; }; this.getSummaryLabels = function () { var labels = { first_date : ""Start"", last_date : ""End"" }; return labels; }; this.displayData = function(divid) { var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .mls_info').hide(); // return; } var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().mls_url; } if (this.global_data.type) $(div_id + ' #mls_type').text(this.global_data.type); if (this.global_data.url && this.global_data.url !== ""."" && this.global_data.type !== undefined) { $(div_id + ' #mls_url').attr(""href"", url); $(div_id + ' #mls_name').text(""MLS "" + this.global_data.type); } else { $(div_id + ' #mls_url').attr(""href"", Report.getProjectData().mls_url); $(div_id + ' #mls_name').text(Report.getProjectData().mls_name); $(div_id + ' #mls_type').text(Report.getProjectData().mls_type); } var data = this.getGlobalData(); $(div_id + ' #mlsFirst').text(data.first_date); $(div_id + ' #mlsLast').text(data.last_date); $(div_id + ' #mlsMessages').text(data.mls_sent); $(div_id + ' #mlsSenders').text(data.mls_senders); $(div_id + ' #mlsRepositories').text(data.mls_repositories); if (data.repositories === 1) $(div_id + ' #mlsRepositories').hide(); }; this.displayBubbles = function(divid, radius) { Viz.displayBubbles(divid, ""mls_sent"", ""mls_senders"", radius); }; // http:__lists.webkit.org_pipermail_squirrelfish-dev_ // <allura-dev.incubator.apache.org> MLS.displayMLSListName = function (listinfo) { var list_name_tokens = listinfo.split(""_""); var list_name = ''; if (list_name_tokens.length > 1) { list_name = list_name_tokens[list_name_tokens.length - 1]; if (list_name === """") list_name = list_name_tokens[list_name_tokens.length - 2]; } else { list_name = listinfo.replace(""<"", """"); list_name = list_name.replace("">"", """"); list_name_tokens = list_name.split("".""); list_name = list_name_tokens[0]; } return list_name; }; function getUserLists() { var form = document.getElementById('form_mls_selector'); var lists = []; for ( var i = 0; i < form.elements.length; i++) { if (form.elements[i].checked) lists.push(form.elements[i].value); } if (localStorage) { localStorage.setItem(getMLSId(), JSON.stringify(lists)); } return lists; } this.displayBasicUserAll = function (id, all) { var form = document.getElementById('form_mls_selector'); for ( var i = 0; i < form.elements.length; i++) { if (form.elements[i].type == ""checkbox"") form.elements[i].checked = all; } this.displayBasicUser(id); }; this.displayBasicUser = function(div_id) { $(""#"" + div_id).empty(); lists = getUserLists(); for ( var i = 0; i < lists.length; i++) { var l = lists[i]; file_messages = this.getDataDir()+""/mls-""; file_messages += l; file_messages += ""-evolutionary.json""; displayBasicList(div_id, l, file_messages); } }; this.displayBasic = function (div_id, config_metric) { var lists = this.getListsData(); lists_hide = Report.getConfig().mls_hide_lists; lists = lists.mailing_list; if (lists === undefined) return null; var user_pref = false; if (typeof lists === 'string') lists = [ lists ]; if (localStorage) { if (localStorage.length && localStorage.getItem(getMLSId())) { lists = JSON.parse(localStorage.getItem(getMLSId())); user_pref = true; } } for ( var i = 0; i < lists.length; i++) { var l = lists[i]; if (!user_pref) if ($.inArray(l, lists_hide) > -1) continue; file_messages = this.getDataDir()+ ""/mls-""; file_messages += l; file_messages += ""-evolutionary.json""; displayBasicList(div_id, l, file_messages, config_metric); } }; this.getTitle = function() {return ""Mailing Lists"";}; // TODO: use cache to store mls_file and check it! function displayBasicList(div_id, l, mls_file, config_metric) { var config = Viz.checkBasicConfig(config_metric); for ( var id in basic_metrics) { var metric = basic_metrics[id]; var title = ''; if (config.show_title) title = metric.name; if ($.inArray(metric.column, Report.getConfig().mls_hide) > -1) continue; var new_div = ""<div class='info-pill m0-box-div flotr2-"" + metric.column + ""'>""; new_div += ""<h4>"" + metric.name + "" "" + MLS.displayMLSListName(l) + ""</h4>""; new_div += ""<div id='"" + metric.divid + ""_"" + l + ""' class='m0-box flotr2-"" + metric.column + ""'></div>""; if (config.show_desc) new_div += ""<p>"" + metric.desc + ""</p>""; new_div += ""</div>""; $(""#"" + div_id).append(new_div); Viz.displayBasicLinesFile(metric.divid + '_' + l, mls_file, metric.column, config.show_labels, title); } } function getReportId() { var project_data = Report.getProjectData(); return project_data.date + ""_"" + project_data.project_name; } function getMLSId() { return getReportId() + ""_mls_lists""; } this.displayEvoListsMain = function (id) { if (localStorage) { if (localStorage.length && localStorage.getItem(getMLSId())) { lists = JSON.parse(localStorage.getItem(getMLSId())); return this.displayEvoLists(id, lists); } } history = this.getListsData(); lists = history.mailing_list; if (lists === undefined) return; var config = Report.getConfig(); lists_hide = config.mls_hide_lists; if (typeof lists === 'string') { lists = [ lists ]; } var filtered_lists = []; for ( var i = 0; i < lists.length; i++) { if ($.inArray(lists[i], lists_hide) == -1) filtered_lists.push(lists[i]); } if (localStorage) { if (!localStorage.getItem(getMLSId())) { localStorage.setItem(getMLSId(), JSON .stringify(filtered_lists)); } } this.displayEvoLists(id, filtered_lists); }; function cleanLocalStorage() { if (localStorage) { if (localStorage.length && localStorage.getItem(getMLSId())) { localStorage.removeItem(getMLSId()); } } } this.getDefaultLists = function () { var default_lists = []; var hide_lists = Report.getConfig().mls_hide_lists; $.each(this.getListsData().mailing_list, function(index,list) { if ($.inArray(list, hide_lists) === -1) default_lists.push(list); }); return default_lists; }; this.displaySelectorCheckDefault = function () { var default_lists = this.getDefaultLists(); var form = document.getElementById('form_mls_selector'); for ( var i = 0; i < form.elements.length; i++) { if (form.elements[i].type == ""checkbox"") { var id = form.elements[i].id; l = id.split(""_check"")[0]; if ($.inArray(l, default_lists) > -1) form.elements[i].checked = true; else form.elements[i].checked = false; } } }; this.displayBasicDefault = function (div_id) { var obj = self; if (this instanceof MLS) obj = this; cleanLocalStorage(); obj.displaySelectorCheckDefault(); $(""#"" + div_id).empty(); obj.displayBasic(div_id); }; this.displayEvoDefault = function (div_id) { var obj = self; if (this instanceof MLS) obj = this; cleanLocalStorage(); if (document.getElementById('form_mls_selector')) obj.displaySelectorCheckDefault(); $(""#"" + div_id).empty(); obj.displayEvoLists(div_id, obj.getDefaultLists()); }; this.displayEvoUserAll = function (id, all) { var form = document.getElementById('form_mls_selector'); for ( var i = 0; i < form.elements.length; i++) { if (form.elements[i].type == ""checkbox"") form.elements[i].checked = all; } this.displayEvoUser(id); }; this.displayEvoUser = function (id) { $(""#"" + id).empty(); var obj = self; if (this instanceof MLS) obj = this; obj.displayEvoLists(id, getUserLists()); }; this.displayEvoListSelector = function (div_id_sel, div_id_mls) { this.displayEvoBasicListSelector(div_id_sel, div_id_mls, null); }; this.displayBasicListSelector = function (div_id_sel, div_id_mls) { this.displayEvoBasicListSelector(div_id_sel, null, div_id_mls); }; this.displayEvoBasicListSelector = function (div_id_sel, div_id_evo, div_id_basic){ var res1 = this.getListsData(); var lists = res1.mailing_list; var user_lists = []; if (lists === undefined) return; if (localStorage) { if (localStorage.length && localStorage.getItem(getMLSId())) { user_lists = JSON.parse(localStorage .getItem(getMLSId())); } } // TODO: Hack! Methods visible to HTML Report.displayBasicUser = this.displayBasicUser; Report.displayBasicUserAll = this.displayBasicUserAll; Report.displayBasicDefault = this.displayBasicDefault; Report.displayEvoDefault = this.displayEvoDefault; Report.displayEvoUser = this.displayEvoUser; Report.displayEvoUserAll = this.displayEvoUserAll; var html = ""Mailing list selector:""; html += ""<form id='form_mls_selector'>""; if (typeof lists === 'string') { lists = [ lists ]; } for ( var i = 0; i < lists.length; i++) { var l = lists[i]; html += '<input type=checkbox name=""check_list"" value=""' + l + '"" '; html += 'onClick=""'; if (div_id_evo) html += 'Report.displayEvoUser(\'' + div_id_evo + '\');'; if (div_id_basic) html += 'Report.displayBasicUser(\'' + div_id_basic + '\')"";'; html += '"" '; html += 'id=""' + l + '_check"" '; if ($.inArray(l, user_lists) > -1) html += 'checked '; html += '>'; html += MLS.displayMLSListName(l); html += '<br>'; } html += '<input type=button value=""All"" '; html += 'onClick=""'; if (div_id_evo) html += 'Report.displayEvoUserAll(\'' + div_id_evo + '\',true);'; if (div_id_basic) html += 'Report.displayBasicUserAll(\'' + div_id_basic + '\',true);'; html += '"">'; html += '<input type=button value=""None"" '; html += 'onClick=""'; if (div_id_evo) html += 'Report.displayEvoUserAll(\'' + div_id_evo + '\',false);'; if (div_id_basic) html += 'Report.displayBasicUserAll(\'' + div_id_basic + '\',false);'; html += '"">'; html += '<input type=button value=""Default"" '; html += 'onClick=""'; if (div_id_evo) html += 'Report.displayEvoDefault(\''+div_id_evo+'\');'; if (div_id_basic) html += 'Report.displayBasicDefault(\''+div_id_basic+'\')'; html += '"">'; html += ""</form>""; $(""#"" + div_id_sel).html(html); if (Report.getProjectsList().length>1) { $(""#"" + div_id_sel).append(""Not supported in multiproject""); $('#' + div_id_sel + ' :input').attr('disabled', true); } }; // history values should be always arrays function filterHistory(history) { if (typeof (history.id) === ""number"") { $.each(history, function(key, value) { value = [ value ]; }); } return history; } this.displayEvoLists = function (id, lists) { for ( var i = 0; i < lists.length; i++) { var l = lists[i]; file_messages = this.getDataDir()+""/mls-""; file_messages += l; file_messages += ""-evolutionary.json""; this.displayEvoList(MLS.displayMLSListName(l), id, file_messages); } }; this.displayEvoList = function(list_label, id, mls_file) { var self = this; $.getJSON(mls_file, function(history) { // TODO: Support multiproject self.envisionEvoList(list_label, id, history); }); }; this.envisionEvoList = function (list_label, div_id, history) { var config = Report.getConfig(); var options = Viz.getEnvisionOptionsMin(div_id, history, config.mls_hide); options.data.list_label = MLS.displayMLSListName(list_label); new envision.templates.Envision_Report(options, [ this ]); }; } MLS.prototype = new DataSource(""mls""); /* * Copyright (C) 2012 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ function SCM() { this.basic_metrics = { 'scm_commits' : { 'divid' : ""scm_commits"", 'column' : ""commits"", 'name' : ""Commits"", 'desc' : ""Evolution of the number of commits (aggregating branches)"", 'envision' : { y_labels : true, show_markers : true } }, 'scm_committers' : { 'divid' : ""scm_committers"", 'column' : ""committers"", 'name' : ""Committers"", 'desc' : ""Unique committers making changes to the source code"", 'action' : ""commits"", 'envision' : { gtype : 'whiskers' } }, 'scm_authors' : { 'divid' : ""scm_authors"", 'column' : ""authors"", 'name' : ""Authors"", 'desc' : ""Unique authors making changes to the source code"", 'action' : ""commits"", 'envision' : { gtype : 'whiskers' } }, 'scm_authors_rev' : { 'divid' : ""scm_authors-rev"", 'column' : ""authors_rev"", 'name' : ""Authors"", 'desc' : ""Unique authors making changes reviewed to the source code"", 'action' : ""commits_rev"", 'envision' : { gtype : 'whiskers' } }, 'scm_commits_rev' : { 'divid' : ""scm_commits-rev"", 'column' : ""commits_rev"", 'name' : ""Commits Reviewed"", 'desc' : ""Evolution of the number of commits reviewed (aggregating branches)"", 'envision' : { y_labels : true, show_markers : true } }, 'scm_reviewers' : { 'divid' : ""scm_reviewers"", 'column' : ""reviewers"", 'name' : ""Reviewers"", 'desc' : ""Unique reviewers making reviews to the source code changes"", 'action' : ""commits-rev"", 'envision' : { gtype : 'whiskers' } }, 'scm_branches' : { 'divid' : ""scm_branches"", 'column' : ""branches"", 'name' : ""Branches"", 'desc' : ""Evolution of the number of branches"" }, 'scm_files' : { 'divid' : ""scm_files"", 'column' : ""files"", 'name' : ""Files"", 'desc' : ""Evolution of the number of unique files handled by the community"" }, 'scm_added_lines' : { 'divid' : ""scm_added_lines"", 'column' : ""added_lines"", 'name' : ""Lines Added"", 'desc' : ""Evolution of the source code lines added"" }, 'scm_removed_lines' : { 'divid' : ""scm_removed_lines"", 'column' : ""removed_lines"", 'name' : ""Lines Removed"", 'desc' : ""Evolution of the source code lines removed"" }, 'scm_repositories' : { 'divid' : ""scm_repositories"", 'column' : ""repositories"", 'name' : ""Repositories"", 'desc' : ""Evolution of the number of repositories"", 'envision' : { gtype : 'whiskers' } }, 'scm_companies' : { 'divid' : 'scm_companies', 'column' : ""companies"", 'name' : ""Companies"", 'desc' : ""Number of active companies"" }, 'scm_countries' : { 'divid' : 'scm_countries', 'column' : ""countries"", 'name' : ""Countries"", 'desc' : ""Number of active countries"" }, 'scm_domains' : { 'divid' : 'scm_domains', 'column' : ""domains"", 'name' : ""Domains"", 'desc' : ""Number of active domains"" }, 'scm_people' : { 'divid' : 'scm_people', 'column' : ""people"", 'name' : ""People"", 'desc' : ""Number of active people"" } }; this.getMainMetric = function() { return ""scm_commits""; }; this.setITS = function(its) { this.its = its; }; this.getITS = function(its) { return this.its; }; this.getTitle = function() {return ""Source Code Management"";}; this.getSummaryLabels = function () { var id_label = { first_date:'Start', last_date:'End', actions:'Files actions', avg_commits_month:'Commits/month', avg_files_month:'Files/month', avg_authors_month:'Authors/month', avg_reviewers_month:'Reviewers/moth', avg_commits_week:'Commits/week', avg_files_week:'Files/week', avg_authors_week:'Authors/week', avg_reviewers_week:'Reviewers/week', avg_commits_author:'Commits/author', avg_files_author:'Files/author' }; return id_label; }; this.displayData = function(divid) { var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .scm-info').hide(); return; } var repo_str = this.global_data.type.charAt(0).toUpperCase() + this.global_data.type.slice(1); $(div_id + ' #scm_type').text(repo_str); var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().scm_url; } if (this.global_data.type === ""git"") if (url) url = url.replace(""git://"",""http://""); $(div_id + ' #scm_url').attr(""href"", url); $(div_id + ' #scm_name').text(repo_str); var data = this.getGlobalData(); $(div_id + ' #scmFirst').text(data.first_date); $(div_id + ' #scmLast').text(data.last_date); $(div_id + ' #scmCommits').text(data.scm_commits); $(div_id + ' #scmAuthors').text(data.scm_authors); if (data.reviewers) $(div_id + ' #scmReviewers').text(data.scm_reviewers); $(div_id + ' #scmCommitters').text(data.scm_committers); $(div_id + ' #scmRepositories').text(data.scm_repositories); if (data.repositories === 1) $(div_id + ' #scmRepositories').hide(); }; this.displayBubbles = function(divid, radius) { Viz.displayBubbles(divid, ""scm_commits"", ""scm_committers"", radius); }; } SCM.prototype = new DataSource(""scm"");/* * Copyright (C) 2013 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ function SCR() { var self = this; this.basic_metrics = { ""scr_opened"" : { ""divid"" : ""scr_opened"", ""column"" : ""opened"", ""name"" : ""Reviews opened"", ""desc"" : ""Reviews in status new or inprogress"" }, ""scr_closed"" : { ""divid"" : ""scr_closed"", ""column"" : ""closed"", ""name"" : ""Reviews closed"", ""desc"" : ""Reviews merged or abandoned"" }, ""scr_merged"" : { ""divid"" : ""scr_merged"", ""column"" : ""merged"", ""name"" : ""Reviews merged"", ""desc"" : ""Reviews merged"" }, ""scr_mergers"" : { ""divid"" : ""scr_mergers"", ""column"" : ""mergers"", ""name"" : ""Reviews mergers"", ""action"": ""merged"", ""desc"" : ""People merging reviews"" }, ""scr_new"" : { ""divid"" : ""scr_new"", ""column"" : ""new"", ""name"" : ""Reviews new"", ""desc"" : ""Reviews in status new"" }, ""scr_abandoned"" : { ""divid"" : ""scr_abandoned"", ""column"" : ""abandoned"", ""name"" : ""Reviews abandoned"", ""desc"" : ""Reviews abandoned"" }, ""scr_pending"" : { ""divid"" : ""scr_pending"", ""column"" : ""pending"", ""name"" : ""Reviews pending"", ""desc"" : ""Reviews pending to be attended"" }, ""scr_review_time_days_avg"" : { ""divid"" : ""scr_review_time_days_avg"", ""column"" : ""review_time_days_avg"", ""name"" : ""Average review time"", ""desc"" : ""Average review time in days"" }, ""scr_verified"" : { ""divid"" : ""scr_verified"", ""column"" : ""verified"", ""name"" : ""Patches verified"", ""desc"" : ""Patches verified"" }, ""scr_approved"" : { ""divid"" : ""scr_approved"", ""column"" : ""approved"", ""name"" : ""Patches approved"", ""desc"" : ""Patches approved"" }, ""scr_codereview"" : { ""divid"" : ""scr_codereview"", ""column"" : ""codereview"", ""name"" : ""Patches codereview"", ""desc"" : ""Patches in code review process"" }, ""scr_WaitingForReviewer"" : { ""divid"" : ""scr_WaitingForReviewer"", ""column"" : ""WaitingForReviewer"", ""name"" : ""Patches waiting reviewer"", ""desc"" : ""Patches waiting for reviewer"" }, ""scr_WaitingForSubmitter"" : { ""divid"" : ""scr_WaitingForSubmitter"", ""column"" : ""WaitingForSubmitter"", ""name"" : ""Patches waiting submitter"", ""desc"" : ""Patches waiting for a new version"" }, ""scr_submitted"" : { ""divid"" : ""scr_submitted"", ""column"" : ""submitted"", ""name"" : ""Reviews submitted"", ""desc"" : ""Reviews submitted"" }, ""scr_sent"" : { ""divid"" : ""scr_sent"", ""column"" : ""sent"", ""name"" : ""Patches Sent"", ""desc"" : ""Patches sent"" }, ""scr_companies"" : { ""divid"" : ""scr_companies"", ""column"" : ""companies"", ""name"" : ""Companies"", ""desc"" : ""Number of active companies"" }, ""scr_countries"" : { ""divid"" : ""scr_countries"", ""column"" : ""countries"", ""name"" : ""Countries"", ""desc"" : ""Number of active countries"" }, ""scr_repositories"" : { ""divid"" : ""scr_repositories"", ""column"" : ""repositories"", ""name"" : ""Respositories"", ""desc"" : ""Number of active respositories"" }, ""scr_people"" : { ""divid"" : ""scr_people"", ""column"" : ""people"", ""name"" : ""People"", ""desc"" : ""Number of active people"" }, ""scr_closers"" : { ""divid"" : ""scr_closers"", ""column"" : ""closers"", ""name"" : ""Closers"", ""desc"" : ""Reviews closers"", ""action"" : ""closed"" }, ""scr_openers"" : { ""divid"" : ""scr_openers"", ""column"" : ""openers"", ""name"" : ""Openers"", ""desc"" : ""Reviews openers"", ""action"" : ""opened"" } }; this.getMainMetric = function() { return ""scr_merged""; }; this.getSummaryLabels = function () { var id_label = { first_date : ""Start"", last_date : ""End"" }; return id_label; }; this.displayData = function(divid) { var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .scr_info').hide(); return; } var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().scr_url; } if (this.global_data.type) $(div_id + ' #scr_type').text(this.global_data.type); if (this.global_data.url && this.global_data.url !== ""."" && this.global_data.type !== undefined) { $(div_id + ' #scr_url').attr(""href"", url); $(div_id + ' #scr_name').text(""SCR "" + this.global_data.type); } else { $(div_id + ' #scr_url').attr(""href"", Report.getProjectData().mls_url); $(div_id + ' #scr_name').text(Report.getProjectData().scr_name); $(div_id + ' #scr_type').text(Report.getProjectData().scr_type); } var company = this.getCompanyQuery(); var data = this.getGlobalData(); if (company) { data = this.getCompaniesGlobalData()[company]; } $(div_id + ' #scrFirst').text(data.first_date); $(div_id + ' #scrLast').text(data.last_date); $(div_id + ' #scrReviews').text(data.scr_opened); }; this.displayBubbles = function(divid, radius) { // TODO: we don't have people metrics data if (false) Viz.displayBubbles(divid, ""scr_opened"", ""scr_openers"", radius); }; // http:__lists.webkit.org_pipermail_squirrelfish-dev_ // <allura-dev.incubator.apache.org> SCR.displaySCRListName = function (listinfo) { var list_name_tokens = listinfo.split(""_""); var list_name = ''; if (list_name_tokens.length > 1) { list_name = list_name_tokens[list_name_tokens.length - 1]; if (list_name === """") list_name = list_name_tokens[list_name_tokens.length - 2]; } else { list_name = listinfo.replace(""<"", """"); list_name = list_name.replace("">"", """"); list_name_tokens = list_name.split("".""); list_name = list_name_tokens[0]; } return list_name; }; this.getTitle = function() {return ""Source Code Review"";}; } SCR.prototype = new DataSource(""scr"");/* * Copyright (C) 2014 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Luis CaÃ±as DÃ­az <lcanas@bitergia.com> */ function People() { /* if not initialized breaks function nameSpaceMetrics in DataSource.js*/ this.basic_metrics = { }; this.getTitle = function() {return ""Community Members"";}; } People.prototype = new DataSource(""people"");/* * Copyright (C) 2014 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Luis CaÃ±as DÃ­az <lcanas@bitergia.com> */ function Downloads() { var self = this; /* These basic metrics are overwritten by the metrics.json file but they are needed for instance by the function viz.displayTop and viz.displaytopmetric. It the metric is present in basic_metrics, the key of the dict will be used from the div when using it. */ this.basic_metrics = { 'downloads_downloads':{ 'name' : ""Total downloads"" }, 'downloads_packages' : { 'divid' : """", 'column' : ""packages"", 'name' : ""Packages downloaded"", 'desc' : """", 'action' : ""downloads"" }, 'downloads_ips' : { 'divid' : """", 'column' : ""ips"", 'name' : ""IP addresses"", 'desc' : """", 'action' : ""downloads"" } }; this.displayData = function(divid) { // FIXME this is a total fake function pasted here to avoid the crash. It seems useless var div_id = ""#"" + divid; var str = this.global_data.url; if (!str || str.length === 0) { $(div_id + ' .irc_info').hide(); return; } var url = ''; if (this.global_data.repositories === 1) { url = this.global_data.url; } else { url = Report.getProjectData().irc_url; } if (this.global_data.type) $(div_id + ' #irc_type').text(this.global_data.type); if (this.global_data.url && this.global_data.url !== ""."" && this.global_data.type !== undefined) { $(div_id + ' #irc_url').attr(""href"", url); $(div_id + ' #irc_name').text(""IRC "" + this.global_data.type); } else { $(div_id + ' #irc_url').attr(""href"", Report.getProjectData().irc_url); $(div_id + ' #irc_name').text(Report.getProjectData().irc_name); $(div_id + ' #irc_type').text(Report.getProjectData().irc_type); } var data = this.getGlobalData(); $(div_id + ' #ircFirst').text(data.first_date); $(div_id + ' #ircLast').text(data.last_date); $(div_id + ' #ircSent').text(data.irc_sent); $(div_id + ' #ircRepositories').text(data.irc_repositories); if (data.repositories === 1) $(div_id + ' #ircRepositories').hide(); }; this.getTitle = function() {return ""Downloads"";}; } Downloads.prototype = new DataSource(""downloads"");/* * Copyright (C) 2012 Bitergia * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 3 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. * * This file is a part of the VizGrimoireJS package * * Authors: * Alvaro del Castillo San Felix <acs@bitergia.com> */ var Identity = {}; (function() { var unique_list = ""unique-sortable""; function sortSelList(list_divid, list, name) { var connect = """"; if (list_divid === unique_list) connect = """"; else connect = unique_list; $('#'+name).sortable({ handle: "".handle"", connectWith: ""#""+connect, start: function(e, info) { info.item.siblings("".ui-selected"").appendTo(info.item); }, stop: function(e, info) { if (info.item.parent()[0].id === unique_list) info.item.find('.handle').remove(); info.item.parent().append(info.item.find(""li"")); info.item.parent().find(""li"") .addClass(""mjs-nestedSortable-leaf""); // TODO remove from data source filtering data } }).selectable() .find('li') .prepend( ""<div class='handle'></div>"" ); } Identity.showListNested = function(list_divid, ds) { list ='<ol id='+unique_list+' class=""nested_sortable"" '; list += 'style=""padding: 5px; background: #eee;""></ol>'; $('#'+list_divid).append(list); $('#'+unique_list).nestedSortable({ forcePlaceholderSize: true, handle: 'div', helper: 'clone', items: 'li', tolerance: 'pointer', toleranceElement: '> div', maxLevels: 2, isTree: true, expandOnHover: 700, startCollapsed: true }); $('.disclose').on('click', function() { $(this).closest('li').toggleClass('mjs-nestedSortable-collapsed') .toggleClass('mjs-nestedSortable-expanded'); }); }; function showFilter (ds, filter_data) { $('#'+ds.getName()+'filter').autocomplete({ source: filter_data, select: function( event, ui ) { $(""#""+ds.getName()+""filter"").val(''); $(""#""+ds.getName()+""_people_""+ui.item.value).addClass('ui-selected'); return false; } }); } Identity.showList = function(list_divid, ds) { var list =""""; var people = ds.getPeopleData(); var filter_data = []; list ='<ol id=""'+ds.getName()+'-sortable"" class=""sortable"">'; for (var i=0; i<people.id.length; i++) { var value = people.id[i]; if (typeof value === ""string"") { value = value.replace(""@"", ""_at_"").replace(""."",""_""); } filter_data.push({value:value, label:people.name[i]}); list += '<li id=""'+ds.getName()+'_people_'+value+'"" '; list += 'class=""ui-widget-content ui-selectee"">'; list += '<div><span class=""disclose""><span></span></span>'; list += people.id[i] +' ' + people.name[i]; list += '</div></li>'; } list += '</ol>'; $('#'+list_divid).append(""<input id='""+ds.getName()+""filter'>""); showFilter(ds, filter_data); $('#'+list_divid).append(list); sortSelList(list_divid, list, ds.getName()+""-sortable""); }; })(); vizjslib_git_revision='50378e5241ce96c7a295c74510f13e5b8beedfb7'; vizjslib_git_tag='2.1-97-g50378e5'; ",190,19049
openstack%2Ftempest~master~I46dba8e4d7d5c4e30d341b6269897386ce9bf378,openstack/tempest,master,I46dba8e4d7d5c4e30d341b6269897386ce9bf378,orchestration API add coverage for stack update API,MERGED,2014-03-25 14:02:07.000000000,2014-04-16 10:24:30.000000000,2014-04-16 10:24:30.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 5803}, {'_account_id': 8824}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-25 14:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/82765235b28d06890147e94f7cdd14f1f6ff0542', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 2, 'created': '2014-03-26 15:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a04eb8c2fc3943a30832b51f86114d1dfd4e3329', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 3, 'created': '2014-03-27 15:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a1936ceaf603b7b0c5656001958e462f7dc1c22', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 4, 'created': '2014-03-28 10:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/debef25c7b20436b3e8b41aed9dc0fd5e7dd008d', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 5, 'created': '2014-03-28 14:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe458ddb5f6826b7fbceee19b161e0028a9c9bfb', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 6, 'created': '2014-04-02 20:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d4a341eda80c3e6695489d3b8d41445d8d1080e', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 7, 'created': '2014-04-04 15:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/119d08ab5a6fe3e7c1717688ef4debe375278cbf', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}, {'number': 8, 'created': '2014-04-08 15:31:28.000000000', 'files': ['tempest/api/orchestration/stacks/test_update.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a1e1ee85d946e2696cc7ba987f0e543488175545', 'message': 'orchestration API add coverage for stack update API\n\nCurrently we have no coverage of the stack update API, although there\nis a function for it in orchestration_client.  So add a simple test of\nthe stack update API surface.\n\nChange-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378\n'}]",10,82829,a1e1ee85d946e2696cc7ba987f0e543488175545,68,8,8,4328,,,0,"orchestration API add coverage for stack update API

Currently we have no coverage of the stack update API, although there
is a function for it in orchestration_client.  So add a simple test of
the stack update API surface.

Change-Id: I46dba8e4d7d5c4e30d341b6269897386ce9bf378
",git fetch https://review.opendev.org/openstack/tempest refs/changes/29/82829/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/orchestration/stacks/test_non_empty_stack.py'],1,82765235b28d06890147e94f7cdd14f1f6ff0542,stack_update," def _update_stack(self, stack_identifier, template, expected_resource_names): stack_name = stack_identifier.split('/')[0] resp, body = self.client.update_stack( stack_identifier=stack_identifier, name=stack_name, template=template) self.assertEqual('202', resp['status']) self.client.wait_for_stack_status(stack_identifier, 'UPDATE_COMPLETE') @attr(type='gate') def test_stack_update(self): # Start by creating an empty stack template = 'heat_template_version: 2013-05-23' stack_identifier = self.create_stack('test_stack_update', template) self.addCleanup(self.clear_stacks, [stack_identifier]) self.client.wait_for_stack_status(stack_identifier, 'CREATE_COMPLETE') self.assertEqual({}, self._list_resources(stack_identifier)) # Update with no changes self._update_stack(stack_identifier, template, []) self.assertEqual({}, self._list_resources(stack_identifier)) # Then update to the class template self._update_stack(stack_identifier, self.template, []) resources = self._list_resources(stack_identifier) self.assertEqual({self.resource_name: self.resource_type}, resources)",,28,0
openstack%2Factivity-board~master~I417b562daf5abe28ca9e1cedf11bb45dbcb352fa,openstack/activity-board,master,I417b562daf5abe28ca9e1cedf11bb45dbcb352fa,Add metrics.json file which contains metrics description,ABANDONED,2014-04-14 17:19:33.000000000,2014-04-16 10:19:16.000000000,,[],"[{'number': 1, 'created': '2014-04-14 17:19:33.000000000', 'files': ['data/metrics.json'], 'web_link': 'https://opendev.org/openstack/activity-board/commit/5fabbff555e1104af19593e5d243b810ef94ae5e', 'message': 'Add metrics.json file which contains metrics description\n\nChange-Id: I417b562daf5abe28ca9e1cedf11bb45dbcb352fa\n'}]",0,87330,5fabbff555e1104af19593e5d243b810ef94ae5e,3,0,1,8710,,,0,"Add metrics.json file which contains metrics description

Change-Id: I417b562daf5abe28ca9e1cedf11bb45dbcb352fa
",git fetch https://review.opendev.org/openstack/activity-board refs/changes/30/87330/1 && git format-patch -1 --stdout FETCH_HEAD,['data/metrics.json'],1,5fabbff555e1104af19593e5d243b810ef94ae5e,metrics-description,"{ ""its"": { ""its_opened"" : { ""divid"" : ""its_opened"", ""column"" : ""opened"", ""name"" : ""Opened tickets"", ""desc"" : ""Number of opened tickets"", ""envision"" : { ""y_labels"" : true, ""show_markers"" : true } }, ""its_openers"" : { ""divid"" : ""its_openers"", ""column"" : ""openers"", ""name"" : ""Ticket submitters"", ""desc"" : ""Number of persons submitting new tickets"", ""action"" : ""opened"", ""envision"" : { ""gtype"" : ""whiskers"" } }, ""its_closed"" : { ""divid"" : ""its_closed"", ""column"" : ""closed"", ""name"" : ""Closed tickets"", ""desc"" : ""Number of closed tickets"" }, ""its_closers"" : { ""divid"" : ""its_closers"", ""column"" : ""closers"", ""name"" : ""Ticket closers"", ""desc"" : ""Number of persons closing tickets"", ""action"" : ""closed"", ""envision"" : { ""gtype"" : ""whiskers"" } }, ""its_changed"" : { ""divid"" : ""its_changed"", ""column"" : ""changed"", ""name"" : ""Changed tickets"", ""desc"" : ""Number of changes to the state of tickets"" }, ""its_changers"" : { ""divid"" : ""its_changers"", ""column"" : ""changers"", ""name"" : ""Ticket state changers"", ""desc"" : ""Number of persons changing the state of tickets"", ""action"" : ""changed"", ""envision"" : { ""gtype"" : ""whiskers"" } }, ""its_companies"" : { ""divid"" : ""its_companies"", ""column"" : ""companies"", ""name"" : ""Organziations"", ""desc"" : ""Number of organizations (companies, etc.) with persons active in the ticketing system"" }, ""its_countries"" : { ""divid"" : ""its_countries"", ""column"" : ""countries"", ""name"" : ""Countries"", ""desc"" : ""Number of countries with persons active in the ticketing system"" }, ""its_domains"" : { ""divid"" : ""its_domains"", ""column"" : ""domains"", ""name"" : ""Domains"", ""desc"" : ""Number of distinct domains with persons active in the ticketing system"" }, ""its_repositories"" : { ""divid"" : ""its_repositories"", ""column"" : ""repositories"", ""name"" : ""Trackers"", ""desc"" : ""Number of active trackers"" }, ""its_people"" : { ""divid"" : ""its_people"", ""column"" : ""people"", ""name"" : ""Active persons"", ""desc"" : ""Number of persons active in the ticketing system"" } }, ""mls"": { ""mls_responses"" : { ""divid"" : ""mls_responses"", ""column"" : ""responses"", ""name"" : ""Reply messages"", ""desc"" : ""Number of messages that are resplies (not first in thread) in mailing list(s)"" }, ""mls_sent"" : { ""divid"" : ""mls_sent"", ""column"" : ""sent"", ""name"" : ""Posted messages"", ""desc"" : ""Number of messages posted to mailing list(s)"" }, ""mls_senders"" : { ""divid"" : ""mls_senders"", ""column"" : ""senders"", ""name"" : ""Message posters"", ""desc"" : ""Number of persons posting messages in mailing list(s)"", ""action"" : ""sent"" }, ""mls_threads"" : { ""divid"" : ""mls_threads"", ""column"" : ""message_id"", ""name"" : ""Message threads"", ""desc"" : ""Number of messages threads in mailing lists 3"", ""action"" : ""length"", ""initiator_name"" : ""Initiator"", ""length"" : ""Messages"" }, ""mls_companies"" : { ""divid"" : ""mls_companies"", ""column"" : ""companies"", ""name"" : ""Organizations"", ""desc"" : ""Number of organizations (companies, etc.) with persons active in mailing list(s)"" }, ""mls_countries"" : { ""divid"" : ""mls_countries"", ""column"" : ""countries"", ""name"" : ""Countries"", ""desc"" : ""Number of countries with persons active in mailing list(s)"" }, ""mls_domains"" : { ""divid"" : ""mls_domains"", ""column"" : ""domains"", ""name"" : ""Domains"", ""desc"" : ""Number of distinct domains with persons active in mailing list(s)"" }, ""mls_repositories"" : { ""divid"" : ""mls_repositories"", ""column"" : ""repositories"", ""name"" : ""Mailing lists"", ""desc"" : ""Number of active mailing lists"" } }, ""scm"": { ""scm_commits"" : { ""divid"" : ""scm_commits"", ""column"" : ""commits"", ""name"" : ""Commits"", ""desc"" : ""Number of commits (changes to source code), aggregating all branches"", ""envision"" : { ""y_labels"" : true, ""show_markers"" : true } }, ""scm_committers"" : { ""divid"" : ""scm_committers"", ""column"" : ""committers"", ""name"" : ""Committers"", ""desc"" : ""Number of persons committing (merging changes to source code)"", ""action"" : ""commits"", ""envision"" : { ""gtype"" : ""whiskers"" } }, ""scm_authors"" : { ""divid"" : ""scm_authors"", ""column"" : ""authors"", ""name"" : ""Authors"", ""desc"" : ""Number of persons authoring commits (changes to source code)"", ""action"" : ""commits"", ""envision"" : { ""gtype"" : ""whiskers"" } }, ""scm_branches"" : { ""divid"" : ""scm_branches"", ""column"" : ""branches"", ""name"" : ""Branches"", ""desc"" : ""Number of active branches"" }, ""scm_files"" : { ""divid"" : ""scm_files"", ""column"" : ""files"", ""name"" : ""Files"", ""desc"" : ""Number of files modified by at least one commit"" }, ""scm_added_lines"" : { ""divid"" : ""scm_added_lines"", ""column"" : ""added_lines"", ""name"" : ""Lines added"", ""desc"" : ""Addition of lines added in all commits"" }, ""scm_removed_lines"" : { ""divid"" : ""scm_removed_lines"", ""column"" : ""removed_lines"", ""name"" : ""Lines removed"", ""desc"" : ""Addition of lines removed in all commits"" }, ""scm_repositories"" : { ""divid"" : ""scm_repositories"", ""column"" : ""repositories"", ""name"" : ""Repositories"", ""desc"" : ""Evolution of the number of source code repositories"", ""envision"" : { ""gtype"" : ""whiskers"" } }, ""scm_companies"" : { ""divid"" : ""scm_companies"", ""column"" : ""companies"", ""name"" : ""Organizations"", ""desc"" : ""Number of organizations (companies, etc.) with persons active in changing code"" }, ""scm_countries"" : { ""divid"" : ""scm_countries"", ""column"" : ""countries"", ""name"" : ""Countries"", ""desc"" : ""Number of countries with persons active in changing code"" }, ""scm_domains"" : { ""divid"" : ""scm_domains"", ""column"" : ""domains"", ""name"" : ""Domains"", ""desc"" : ""Number of distinct domains with persons active in changing code"" }, ""scm_people"" : { ""divid"" : ""scm_people"", ""column"" : ""people"", ""name"" : ""Persons"", ""desc"" : ""Number of persons active in changing code (authors, committers)"" } }, ""scr"": { ""scr_merged"" : { ""divid"" : ""scr_merged"", ""column"" : ""merged"", ""name"" : ""Merged changes"", ""desc"" : ""Number of changes merged into the source code"" }, ""scr_mergers"" : { ""divid"" : ""scr_mergers"", ""column"" : ""mergers"", ""name"" : ""Successful submitters"", ""action"" : ""merged"", ""desc"" : ""Number of persons submitting changes that got accepted"" }, ""scr_opened"" : { ""divid"" : ""scr_opened"", ""column"" : ""opened"", ""name"" : ""Opened reviews"", ""desc"" : ""Number of review processes opened"" }, ""scr_closed"" : { ""divid"" : ""scr_closed"", ""column"" : ""closed"", ""name"" : ""Closed reviews"", ""desc"" : ""Number of closed review processes (merged or abandoned)"" }, ""scr_new"" : { ""divid"" : ""scr_new"", ""column"" : ""new"", ""name"" : ""New reviews"", ""desc"" : ""Number of new review processes"" }, ""scr_abandoned"" : { ""divid"" : ""scr_abandoned"", ""column"" : ""abandoned"", ""name"" : ""Abandoned"", ""desc"" : ""Number of abandoned review processes"" }, ""scr_verified"" : { ""divid"" : ""scr_verified"", ""column"" : ""verified"", ""name"" : ""Verified"", ""desc"" : ""Number of verified changes"" }, ""scr_approved"" : { ""divid"" : ""scr_approved"", ""column"" : ""approved"", ""name"" : ""Approved"", ""desc"" : ""Number of code review processes in approved state"" }, ""scr_codereview"" : { ""divid"" : ""scr_codereview"", ""column"" : ""codereview"", ""name"" : ""Code review"", ""desc"" : ""Number of code review processes in code review state"" }, ""scr_WaitingForReviewer"" : { ""divid"" : ""scr_WaitingForReviewer"", ""column"" : ""WaitingForReviewer"", ""name"" : ""Waiting for reviewer"", ""desc"" : ""Number of code review processes waiting for reviewer"" }, ""scr_WaitingForSubmitter"" : { ""divid"" : ""scr_WaitingForSubmitter"", ""column"" : ""WaitingForSubmitter"", ""name"" : ""Waiting for submitter"", ""desc"" : ""Number of code review processes waiting for submitter"" }, ""scr_submitted"" : { ""divid"" : ""scr_submitted"", ""column"" : ""submitted"", ""name"" : ""submitted"", ""desc"" : ""Number of submitted code review processes"" }, ""scr_companies"" : { ""divid"" : ""scr_companies"", ""column"" : ""companies"", ""name"" : ""Organizations"", ""desc"" : ""Number of organizations (companies, etc.) with persons active in code review"" }, ""scr_countries"" : { ""divid"" : ""scr_countries"", ""column"" : ""countries"", ""name"" : ""Countries"", ""desc"" : ""Number of countries with persons active in code review"" }, ""scr_domains"" : { ""divid"" : ""scr_domains"", ""column"" : ""domains"", ""name"" : ""Domains"", ""desc"" : ""Number of domains with persons active in code review"" }, ""scr_repositories"" : { ""divid"" : ""scr_repositories"", ""column"" : ""repositories"", ""name"" : ""Repositories"", ""desc"" : ""Number of respositories with active code review activities"" }, ""scr_people"" : { ""divid"" : ""scr_people"", ""column"" : ""people"", ""name"" : ""People"", ""desc"" : ""Number of persons active in code review activities"" }, ""scr_closers"" : { ""divid"" : ""scr_closers"", ""column"" : ""closers"", ""name"" : ""Closers"", ""desc"" : ""Number of persons closing code review processes"", ""action"" : ""closed"" }, ""scr_openers"" : { ""divid"" : ""scr_openers"", ""column"" : ""openers"", ""name"" : ""Openers"", ""desc"" : ""Number of persons closing code review processes"", ""action"" : ""opened"" } }, ""qaforums"": { ""qaforums_sent"" : { ""name"" : ""Messages posted"", ""desc"" : ""Number of messages posted to Q&A forums(s)"", ""column"" : ""sent"" }, ""qaforums_qsent"" : { ""name"" : ""Questions posted"", ""desc"" : ""Number of questions posted to Q&A forums(s)"", ""column"": ""qsent"" }, ""qaforums_asent"" : { ""name"" : ""Answers posted"", ""desc"" : ""Number of answers posted to Q&A forums(s)"", ""column"" : ""asent"" }, ""qaforums_senders"" : { ""name"" : ""Persons posting messages"", ""desc"" : ""Number of persons posting messages to Q&A forums(s)"", ""column"" : ""senders"" }, ""qaforums_asenders"" : { ""name"" : ""Persons posting answers"", ""desc"" : ""Number of persons answering in Q&A forums(s)"", ""column"" : ""asenders"" }, ""qaforums_qsenders"" : { ""name"" : ""Persons posting questions"", ""desc"" : ""Number of persons asking questions in Q&A forums(s)"", ""column"" : ""qsenders"" } } } ",,382,0
openstack%2Ftempest~master~Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96,openstack/tempest,master,Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96,add quotas tests,MERGED,2014-03-24 10:06:20.000000000,2014-04-16 10:10:22.000000000,2014-04-16 10:10:21.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7139}, {'_account_id': 7249}, {'_account_id': 8824}]","[{'number': 1, 'created': '2014-03-24 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/93859966f8989e4622cf5d83ca0cb6e6ed19913b', 'message': 'add quotas tests\n\nupdate quota for specific user\n\nBlueprint: testcases-expansion-icehouse\n\nChange-Id: Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96\n'}, {'number': 2, 'created': '2014-03-28 02:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c796fbbd80350b4b8331a1b25b2c93a2a1a5a9e', 'message': 'add quotas tests\n\nupdate quota for specific user\n\nBlueprint: testcases-expansion-icehouse\n\nChange-Id: Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96\n'}, {'number': 4, 'created': '2014-03-31 02:54:02.000000000', 'files': ['tempest/services/compute/v3/json/quotas_client.py', 'tempest/services/compute/xml/quotas_client.py', 'tempest/api/compute/v3/admin/test_quotas.py', 'tempest/services/compute/json/quotas_client.py', 'tempest/api/compute/admin/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/27e154f88319f1a1303296e8a376d57cb9d43059', 'message': 'add quotas tests\n\nupdate quota for specific user\n\nBlueprint: testcases-expansion-icehouse\n\nChange-Id: Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96\n'}, {'number': 3, 'created': '2014-03-31 02:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cced3340a3274820687f7dcccede4a8cff7fd46f', 'message': 'add quotas tests\n\nupdate quota for specific user\n\nBlueprint: testcases-expansion-icehouse\n\nChange-Id: Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96\n'}]",3,82461,27e154f88319f1a1303296e8a376d57cb9d43059,37,7,4,7139,,,0,"add quotas tests

update quota for specific user

Blueprint: testcases-expansion-icehouse

Change-Id: Ic7d7f7933063cb64dcd4fbdaf0be53f015037d96
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/82461/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/v3/json/quotas_client.py', 'tempest/api/compute/v3/admin/test_quotas.py', 'tempest/services/compute/xml/quotas_client.py', 'tempest/services/compute/json/quotas_client.py', 'tempest/api/compute/admin/test_quotas.py']",5,93859966f8989e4622cf5d83ca0cb6e6ed19913b,bp/testcases-expansion-icehouse," # Verify that GET shows the updated quota set of tenant # Verify that GET shows the updated quota set of user user_name = data_utils.rand_name('cpu_quota_user_') password = data_utils.rand_name('password-') email = user_name + '@testmail.tm' _, user = identity_client.create_user(name=user_name, password=password, tenant_id=tenant_id, email=email) user_id = user['id'] self.addCleanup(identity_client.delete_user, user_id) resp, quota_set = self.adm_client.get_quota_set(tenant_id, user_id=user_id) self.adm_client.update_quota_set(tenant_id, user_id=user_id, ram='2048') resp, quota_set = self.adm_client.get_quota_set(tenant_id, user_id=user_id) self.assertEqual(200, resp.status) self.assertEqual(quota_set['ram'], 2048) ", # Verify that GET shows the updated quota set,71,11
openstack%2Fheat~master~I5f3e0405684fffa0aa05d1552ca0f6e7074471aa,openstack/heat,master,I5f3e0405684fffa0aa05d1552ca0f6e7074471aa,Add hint on creating new user for Heat in DevStack,MERGED,2014-04-15 11:47:34.000000000,2014-04-16 10:10:13.000000000,2014-04-16 10:10:12.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 8399}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-04-15 11:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0e5d53636ba1ac3f43e82cc1199091e84b0f7b3', 'message': 'Add hint on creating new user for Heat in DevStack\n\nMention heat_stack_owner role in the docs for DevStack.\n\nChange-Id: I5f3e0405684fffa0aa05d1552ca0f6e7074471aa\nPartial-Bug: #1306665\n'}, {'number': 2, 'created': '2014-04-15 11:56:02.000000000', 'files': ['doc/source/getting_started/on_devstack.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/becd011215e092f1e32374371f916a476164f996', 'message': 'Add hint on creating new user for Heat in DevStack\n\nMention heat_stack_owner role in the docs for DevStack.\n\nChange-Id: I5f3e0405684fffa0aa05d1552ca0f6e7074471aa\nPartial-Bug: #1306665\n'}]",1,87555,becd011215e092f1e32374371f916a476164f996,25,7,2,9542,,,0,"Add hint on creating new user for Heat in DevStack

Mention heat_stack_owner role in the docs for DevStack.

Change-Id: I5f3e0405684fffa0aa05d1552ca0f6e7074471aa
Partial-Bug: #1306665
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/87555/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting_started/on_devstack.rst'],1,c0e5d53636ba1ac3f43e82cc1199091e84b0f7b3,bug/1306665-no-role," Adding new users to DevStack ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When DevStack is configured and launched with ``stack.sh`` script, Heat creates a specific role in Keystone (``heat_stack_owner`` by default) and assigns this role to both default users created by DevStack (admin and demo). If you later create another user, and want this user to be able to use all capabilities of Heat, don't forget to assign the ``heat_stack_owner`` role to this user too, otherwise the new user will not be allowed to create stacks.",,10,0
openstack%2Ffuel-web~master~I4f9909bce7109840a007855f4b0c3ca28927cdd1,openstack/fuel-web,master,I4f9909bce7109840a007855f4b0c3ca28927cdd1,Ceph and Mongo roles should be in conflict,ABANDONED,2014-04-10 14:01:40.000000000,2014-04-16 10:01:44.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 8053}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10301}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-10 14:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e4e6d1bea8ffc862c08a0d3a3f577c116db2ba81', 'message': 'Mongo role added into openstack.yaml\n\nThis is hotfix for blueprint nailgun-fix-allocation-logic-for-full-disk-key\nMongo uses full-disk role mapping and conflicts with ceph.\n\nRelated to blueprint nailgun-fix-allocation-logic-for-full-disk-key\n\nChange-Id: I4f9909bce7109840a007855f4b0c3ca28927cdd1\n'}, {'number': 2, 'created': '2014-04-11 10:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4f2db1c4be22efa1471593cd9d369bed2aeee9e9', 'message': 'Mongo role added into openstack.yaml\n\nThis is hotfix for blueprint nailgun-fix-allocation-logic-for-full-disk-key\nMongo uses full-disk role mapping and conflicts with ceph.\n\nRelated to blueprint nailgun-fix-allocation-logic-for-full-disk-key\n\nChange-Id: I4f9909bce7109840a007855f4b0c3ca28927cdd1\n'}, {'number': 3, 'created': '2014-04-14 10:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/da4c8e8d959ba57409f2736951d63efee29ce5d8', 'message': ""Ceph and Mongo roles should be in conflict\n\nThis is hotfix for blueprint nailgun-fix-allocation-logic-for-full-disk-key.\nMongo just can't be installed with ceph for now.\n\nDepends on https://review.openstack.org/#/c/71883/\n\nRelated to blueprint nailgun-fix-allocation-logic-for-full-disk-key\n\nChange-Id: I4f9909bce7109840a007855f4b0c3ca28927cdd1\n""}, {'number': 4, 'created': '2014-04-14 11:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/98a3543157f6ca20d74940ee53c0726a79d98b35', 'message': ""Ceph and Mongo roles should be in conflict\n\nThis is hotfix for blueprint nailgun-fix-allocation-logic-for-full-disk-key.\nMongo just can't be installed with ceph for now.\n\nRelated to blueprint nailgun-fix-allocation-logic-for-full-disk-key\n\nChange-Id: I4f9909bce7109840a007855f4b0c3ca28927cdd1\n""}, {'number': 5, 'created': '2014-04-15 11:03:52.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0eee0d3dbc987d6742fe1953c6cc1f4b1dccef74', 'message': ""Ceph and Mongo roles should be in conflict\n\nThis is hotfix for blueprint nailgun-fix-allocation-logic-for-full-disk-key.\nMongo just can't be installed with ceph for now.\n\nRelated to blueprint nailgun-fix-allocation-logic-for-full-disk-key\n\nChange-Id: I4f9909bce7109840a007855f4b0c3ca28927cdd1\n""}]",0,86599,0eee0d3dbc987d6742fe1953c6cc1f4b1dccef74,35,9,5,10959,,,0,"Ceph and Mongo roles should be in conflict

This is hotfix for blueprint nailgun-fix-allocation-logic-for-full-disk-key.
Mongo just can't be installed with ceph for now.

Related to blueprint nailgun-fix-allocation-logic-for-full-disk-key

Change-Id: I4f9909bce7109840a007855f4b0c3ca28927cdd1
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/99/86599/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/volumes/manager.py']",2,e4e6d1bea8ffc862c08a0d3a3f577c116db2ba81,bp/nailgun-fix-allocation-logic-for-full-disk-key," 'calc_min_mongo_size': lambda: gb_to_mb(10),",,21,0
openstack%2Fhorizon~master~I40adcfb858115127228969d3c3f9bab160aaf9fd,openstack/horizon,master,I40adcfb858115127228969d3c3f9bab160aaf9fd,Hide the snapshoting instance when attach volume,ABANDONED,2014-04-16 09:54:41.000000000,2014-04-16 09:58:14.000000000,,"[{'_account_id': 3}, {'_account_id': 9961}]","[{'number': 1, 'created': '2014-04-16 09:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/72f5f6814823754d9b34fe20b46318f3236f2c2a', 'message': 'Hide the snapshoting instance when attach volume\n\nWhen instance is snapshoting, we can also see this instance in\nvolume attach page. If attach volume to this instance, it report\nerror. I think need to hide the snapshoting instance.\n\nChange-Id: I40adcfb858115127228969d3c3f9bab160aaf9fd\nCloses-bug:#1308358\n'}, {'number': 2, 'created': '2014-04-16 09:57:20.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/volumes/forms.py', 'openstack_dashboard/dashboards/admin/aggregates/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/17bfd45579cf628491c5d58c1068f11359242e19', 'message': 'Hide the snapshoting instance when attach volume\n\nWhen instance is snapshoting, we can also see this instance in\nvolume attach page. If attach volume to this instance, it report\nerror. I think need to hide the snapshoting instance.\n\nChange-Id: I40adcfb858115127228969d3c3f9bab160aaf9fd\nCloses-bug:#1308358\n'}]",0,87899,17bfd45579cf628491c5d58c1068f11359242e19,4,2,2,9961,,,0,"Hide the snapshoting instance when attach volume

When instance is snapshoting, we can also see this instance in
volume attach page. If attach volume to this instance, it report
error. I think need to hide the snapshoting instance.

Change-Id: I40adcfb858115127228969d3c3f9bab160aaf9fd
Closes-bug:#1308358
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/87899/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/volumes/volumes/forms.py', 'openstack_dashboard/dashboards/admin/aggregates/tables.py']",2,72f5f6814823754d9b34fe20b46318f3236f2c2a,Bug1308358," wrap_list=False,"," wrap_list=True,",2,1
openstack%2Ffuel-main~master~Id843fdb148316494a9edd3b359f1583eae777b2e,openstack/fuel-main,master,Id843fdb148316494a9edd3b359f1583eae777b2e,Remove steps for unallocated space check,MERGED,2014-04-16 08:26:57.000000000,2014-04-16 09:52:29.000000000,2014-04-16 09:52:29.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-16 08:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a94f117d4e6d08b1a658cb4ee6171fe3e2d46882', 'message': 'Remove steps for unallocated space check\n\nRemoved invocation of method that checks that\nthere is no unallocated space on controller node\nwhen Ceph for Glance is used.\n\nCloses-Bug: #1297364\n\nChange-Id: Id843fdb148316494a9edd3b359f1583eae777b2e\nRelated-Bug: #1306625\n'}, {'number': 2, 'created': '2014-04-16 09:38:56.000000000', 'files': ['fuelweb_test/tests/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/aacc453ac8ada71246220dc56701d642bf520aa3', 'message': 'Remove steps for unallocated space check\n\nRemoved invocation of method that checks that\nthere is no unallocated space on controller node\nwhen Ceph for Glance is used.\n\nCloses-Bug: #1297364\n\nChange-Id: Id843fdb148316494a9edd3b359f1583eae777b2e\nRelated-Bug: #1306625\n'}]",2,87870,aacc453ac8ada71246220dc56701d642bf520aa3,17,6,2,8839,,,0,"Remove steps for unallocated space check

Removed invocation of method that checks that
there is no unallocated space on controller node
when Ceph for Glance is used.

Closes-Bug: #1297364

Change-Id: Id843fdb148316494a9edd3b359f1583eae777b2e
Related-Bug: #1306625
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/70/87870/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_ceph.py'],1,a94f117d4e6d08b1a658cb4ee6171fe3e2d46882,sys-tests-skip-unallocated-space-tests," # TODO: uncoment after release 5.0 when this will be fixed: # logger.info(""Check unallocated space"") # assert_true( # checkers.check_unallocated_space(disks, contr_img_ceph=True), # ""Check unallocated space on controller"")"," logger.info(""Check unallocated space"") assert_true( checkers.check_unallocated_space(disks, contr_img_ceph=True), ""Check unallocated space on controller"")",5,4
openstack%2Ftripleo-heat-templates~master~Ice85f0711e90d0fabf1d1bc4698201c4d6758508,openstack/tripleo-heat-templates,master,Ice85f0711e90d0fabf1d1bc4698201c4d6758508,Switch overcloud to software-config,MERGED,2014-03-19 23:18:47.000000000,2014-04-16 09:41:52.000000000,2014-04-16 09:41:52.000000000,"[{'_account_id': 3}, {'_account_id': 1605}, {'_account_id': 4190}, {'_account_id': 4330}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 6969}, {'_account_id': 7585}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-03-19 23:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ff146e831858dd4a1998223bbb79c8f65b0dfec', 'message': ""WIP: Really ugly first switch to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split into a swift-deploy, but in nova I split into a\nnova-compute-config.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 2, 'created': '2014-03-20 02:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c94777d797a09cadde44be04a7566325c4f3df7d', 'message': ""WIP: Really ugly first switch to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split into a swift-deploy, but in nova I split into a\nnova-compute-config.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 3, 'created': '2014-03-21 08:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82365c526dd29c015c253d5e56e298ae397d31bb', 'message': ""WIP: Really ugly first switch to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split into a swift-deploy, but in nova I split into a\nnova-compute-config.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 4, 'created': '2014-03-21 23:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af07823c3ec6dcf6bf5b7930eb37c4ab69d775a0', 'message': ""WIP: Really ugly first switch to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split into a swift-deploy, but in nova I split into a\nnova-compute-config.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 5, 'created': '2014-03-22 15:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdc7b39fe384eb31612f9b63076dc70b33647e29', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 6, 'created': '2014-03-26 04:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dd23877a2c386f559029b14758427f2da2de9d5', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 7, 'created': '2014-03-26 23:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c16ae84fccb65ef38e383e324bbe705e81fc471', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 8, 'created': '2014-03-27 19:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c467a698187c7ff1febf56d19441fc3eefcdc5e', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 9, 'created': '2014-03-28 00:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6822b0eaac25e6a0c12f9a1dea28f5407f923381', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 10, 'created': '2014-03-31 22:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8c374a47d1d24838794cf66b395b73f58985e54', 'message': 'WIP: Switch overcloud to software-config\n\nIt seems like the best way to keep resuable chunks together until we can\nuse proper grouping and including is to keep deploy and config together.\nThis will make it easier to use them as nested stacks rather than using\nmerge.py to merge them in.\n\nThis change likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n'}, {'number': 11, 'created': '2014-04-01 13:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb776dcd6005b1a283c1771e8162bb64916a6c9f', 'message': 'WIP: Switch overcloud to software-config\n\nIt seems like the best way to keep resuable chunks together until we can\nuse proper grouping and including is to keep deploy and config together.\nThis will make it easier to use them as nested stacks rather than using\nmerge.py to merge them in.\n\nThis change likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n'}, {'number': 12, 'created': '2014-04-08 22:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90a596436531858c83ce79a49d77cb5bf1df5c26', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 13, 'created': '2014-04-10 21:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ade17eb72ccf599ab1c4168562d0b1ca561a7073', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 14, 'created': '2014-04-10 21:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf1cc25e175515230a6751bc29a08662635022c9', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 15, 'created': '2014-04-11 21:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a749e3e21e8c776365d80b0d56cee9e6d775cb4', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 16, 'created': '2014-04-11 23:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdfedab2b847748d0051da8aa696b9e4ed3f89f5', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 17, 'created': '2014-04-11 23:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02c35f502d37fe2e84247e838d52b5e6ada3b30f', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 18, 'created': '2014-04-11 23:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/458e1620f294a89cd58ff54ea36b5b0aaa22ffcd', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 19, 'created': '2014-04-12 00:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24034e7e484c0907c5256df4296d939c97749c46', 'message': ""WIP: Switch overcloud to software-config\n\nThere are several approaches as I hash out what makes the most sense. In\nswift I've split the config from the deployment into a swift-deploy,\nbut in nova I split the config out into nova-compute-config. Feedback on\nwhich approach is better are sought before merge.\n\nThis likely breaks undercloud so we need to make the changes to\nundercloud as well.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n""}, {'number': 20, 'created': '2014-04-13 15:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/794f463925b9ced5c0c9e4bdec8a81efae8b4556', 'message': 'Switch overcloud to software-config\n\nThis migrates the overcloud to using OS::Heat::StructuredConfig and\nOS::Heat::StructuredDeployment. With those tools, we can decouple\nservers from software configuration and begin to deprecate features in\ntripleo_heat_merge.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n'}, {'number': 21, 'created': '2014-04-16 02:11:02.000000000', 'files': ['nova-compute-config.yaml', 'nova-compute-instance.yaml', 'swift-storage-source.yaml', 'swift-deploy.yaml', 'Makefile', 'swift-source.yaml', 'tripleo_heat_merge/merge.py', 'ssl-source.yaml', 'block-storage.yaml', 'overcloud-source.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be5af1a35e6bbb9e517fd953a5fe0e2467676b91', 'message': 'Switch overcloud to software-config\n\nThis migrates the overcloud to using OS::Heat::StructuredConfig and\nOS::Heat::StructuredDeployment. With those tools, we can decouple\nservers from software configuration and begin to deprecate features in\ntripleo_heat_merge.\n\nChange-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508\n'}]",24,81666,be5af1a35e6bbb9e517fd953a5fe0e2467676b91,136,9,21,6488,,,0,"Switch overcloud to software-config

This migrates the overcloud to using OS::Heat::StructuredConfig and
OS::Heat::StructuredDeployment. With those tools, we can decouple
servers from software configuration and begin to deprecate features in
tripleo_heat_merge.

Change-Id: Ice85f0711e90d0fabf1d1bc4698201c4d6758508
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/81666/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova-compute-config.yaml', 'nova-compute-instance.yaml', 'swift-storage-source.yaml', 'swift-deploy.yaml', 'Makefile', 'swift-source.yaml', 'overcloud.yaml.tmp', 'tripleo_heat_merge/merge.py', 'block-storage.yaml', 'overcloud-source.yaml']",10,5ff146e831858dd4a1998223bbb79c8f65b0dfec,feature/galera-cluster," SubKey: Resources.NovaCompute0Deploy notCompute0Config: Type: OS::Heat::StructuredConfig Properties: config: admin-password: Ref: AdminPassword admin-token: Ref: AdminToken bootstack: public_interface_ip: Ref: NeutronPublicInterfaceIP cinder: db: mysql://cinder:unset@localhost/cinder volume_size_mb: '5000' service-password: Ref: CinderPassword controller-address: get_input: controller_host db-password: unset glance: backend: swift db: mysql://glance:unset@localhost/glance host: get_input: controller_host service-password: Ref: GlancePassword swift-store-user: service:glance swift-store-key: Ref: GlancePassword notifier-strategy: Ref: GlanceNotifierStrategy log-file: Ref: GlanceLogFile heat: admin_password: Ref: HeatPassword admin_tenant_name: service admin_user: heat auth_encryption_key: unset___________ db: mysql://heat:unset@localhost/heat stack_domain_admin_password: {Ref: HeatStackDomainAdminPassword} watch_server_url: Fn::Join: - '' - - 'http://' - get_input: controller_host - ':8003' metadata_server_url: Fn::Join: - '' - - 'http://' - get_input: controller_host - ':8000' waitcondition_server_url: Fn::Join: - '' - - 'http://' - get_input: controller_host - ':8000/v1/waitcondition' hosts: Fn::Join: - ' ' - - get_input: controller_host - {Ref: CloudName} keystone: db: mysql://keystone:unset@localhost/keystone host: get_input: controller_host neutron: flat-networks: {Ref: NeutronFlatNetworks} host: get_input: controller_host metadata_proxy_shared_secret: unset ovs: enable_tunneling: 'True' local_ip: get_input: controller_host bridge_mappings: {Ref: NeutronBridgeMappings} public_interface: Ref: NeutronPublicInterface public_interface_raw_device: Ref: NeutronPublicInterfaceRawDevice public_interface_route: Ref: NeutronPublicInterfaceDefaultRoute physical_bridge: br-ex tenant_network_type: gre ovs_db: mysql://neutron:unset@localhost/ovs_neutron?charset=utf8 service-password: Ref: NeutronPassword ceilometer: db: mysql://ceilometer:unset@localhost/ceilometer metering_secret: {Ref: CeilometerMeteringSecret} service-password: Ref: CeilometerPassword nova: compute_driver: libvirt.LibvirtDriver db: mysql://nova:unset@localhost/nova default_floating_pool: ext-net host: get_input: controller_host metadata-proxy: true service-password: Ref: NovaPassword rabbit: host: get_input: controller_host username: Ref: RabbitUserName password: Ref: RabbitPassword cookie: Fn::GetAtt: - RabbitCookie - value ntp: servers: - {server: {Ref: NtpServer}, fudge: ""stratum 0""} user_data_format: SOFTWARE_CONFIG notCompute0Deployment: Type: OS::Heat::StructuredDeployment Properties: config: {Ref: notComputeConfig} server: {Ref: notCompute0} input_values: controller_host: Fn::Select: - 0 - Fn::Select: - ctlplane - Fn::GetAtt: - notCompute0 - networks"," AccessPolicy: Properties: AllowedResources: - notCompute0 - notCompute0Config Type: OS::Heat::AccessPolicy ComputeAccessPolicy: Properties: AllowedResources: - NovaCompute0 - NovaCompute0Config Type: OS::Heat::AccessPolicy notCompute0Key: Properties: UserName: Ref: User Type: AWS::IAM::AccessKey NovaCompute0Key: Type: FileInclude Path: nova-compute-instance.yaml SubKey: Resources.NovaCompute0Key NovaCompute0CompletionCondition: Type: FileInclude Path: nova-compute-instance.yaml SubKey: Resources.NovaCompute0CompletionCondition NovaCompute0CompletionHandle: Type: FileInclude Path: nova-compute-instance.yaml SubKey: Resources.NovaCompute0CompletionHandle ComputeUser: Properties: Policies: - Ref: ComputeAccessPolicy Type: AWS::IAM::User SubKey: Resources.NovaCompute0Config User: Properties: Policies: - Ref: AccessPolicy Type: AWS::IAM::User notCompute0Config: Type: AWS::AutoScaling::LaunchConfiguration Properties: ImageId: '0' InstanceType: '0' Metadata: OpenStack::Heat::Stack: {} OpenStack::ImageBuilder::Elements: - boot-stack - heat-cfntools - heat-localip - neutron-network-node admin-password: Ref: AdminPassword admin-token: Ref: AdminToken bootstack: public_interface_ip: Ref: NeutronPublicInterfaceIP cinder: db: mysql://cinder:unset@localhost/cinder volume_size_mb: '5000' service-password: Ref: CinderPassword completion-handle: Ref: notCompute0CompletionHandle controller-address: Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks db-password: unset glance: backend: swift db: mysql://glance:unset@localhost/glance host: Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks service-password: Ref: GlancePassword swift-store-user: service:glance swift-store-key: Ref: GlancePassword notifier-strategy: Ref: GlanceNotifierStrategy log-file: Ref: GlanceLogFile heat: admin_password: Ref: HeatPassword admin_tenant_name: service admin_user: heat auth_encryption_key: unset___________ db: mysql://heat:unset@localhost/heat stack_domain_admin_password: {Ref: HeatStackDomainAdminPassword} watch_server_url: Fn::Join: - '' - - 'http://' - Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks - ':8003' metadata_server_url: Fn::Join: - '' - - 'http://' - Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks - ':8000' waitcondition_server_url: Fn::Join: - '' - - 'http://' - Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks - ':8000/v1/waitcondition' hosts: Fn::Join: - ' ' - - Fn::Select: - 0 - Fn::Select: - ctlplane - Fn::GetAtt: - notCompute0 - networks - {Ref: CloudName} keystone: db: mysql://keystone:unset@localhost/keystone host: Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks neutron: flat-networks: {Ref: NeutronFlatNetworks} host: Fn::Select: - 0 - Fn::Select: - ctlplane - Fn::GetAtt: - notCompute0 - networks metadata_proxy_shared_secret: unset ovs: enable_tunneling: 'True' local_ip: Fn::Select: - 0 - Fn::Select: - ctlplane - Fn::GetAtt: - notCompute0 - networks bridge_mappings: {Ref: NeutronBridgeMappings} public_interface: Ref: NeutronPublicInterface public_interface_raw_device: Ref: NeutronPublicInterfaceRawDevice public_interface_route: Ref: NeutronPublicInterfaceDefaultRoute physical_bridge: br-ex tenant_network_type: gre ovs_db: mysql://neutron:unset@localhost/ovs_neutron?charset=utf8 service-password: Ref: NeutronPassword ceilometer: db: mysql://ceilometer:unset@localhost/ceilometer metering_secret: {Ref: CeilometerMeteringSecret} service-password: Ref: CeilometerPassword nova: compute_driver: libvirt.LibvirtDriver db: mysql://nova:unset@localhost/nova default_floating_pool: ext-net host: Fn::Select: - 0 - Fn::Select: - 'ctlplane' - Fn::GetAtt: - notCompute0 - networks metadata-proxy: true service-password: Ref: NovaPassword os-collect-config: cfn: access_key_id: Ref: notCompute0Key path: notCompute0Config.Metadata secret_access_key: Fn::GetAtt: - notCompute0Key - SecretAccessKey stack_name: Ref: AWS::StackName rabbit: host: Fn::Select: - 0 - Fn::Select: - ctlplane - Fn::GetAtt: - notCompute0 - networks username: Ref: RabbitUserName password: Ref: RabbitPassword cookie: Fn::GetAtt: - RabbitCookie - value ntp: servers: - {server: {Ref: NtpServer}, fudge: ""stratum 0""} Metadata: os-collect-config: cfn: access_key_id: Ref: notCompute0Key path: notCompute0Config.Metadata secret_access_key: Fn::GetAtt: - notCompute0Key - SecretAccessKey stack_name: Ref: AWS::StackName",292,522
openstack%2Fmanila~master~If0b34f4b5fd3cba7882c3b20961077eacfe344b3,openstack/manila,master,If0b34f4b5fd3cba7882c3b20961077eacfe344b3,Removed unique constraint for share networks,MERGED,2014-04-11 08:55:28.000000000,2014-04-16 09:41:02.000000000,2014-04-16 09:41:02.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 7534}]","[{'number': 1, 'created': '2014-04-11 08:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/099db1e16a52764095898251ae50c45a7f058022', 'message': 'Removed unique constraint for share networks\n\nUnique constraint for net and subnet should be removed because\ncan be used different security-services in one tenant network,\nthat will require different service VMs and different share-networks.\n\nChange-Id: If0b34f4b5fd3cba7882c3b20961077eacfe344b3\n'}, {'number': 2, 'created': '2014-04-11 08:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dba4b2ccbc89b0ada3bd396b09b14f7098a2d1b6', 'message': 'Removed unique constraint for share networks\n\nUnique constraint for net and subnet should be removed because\ncan be used different security-services in one tenant network,\nthat will require different service VMs and different share-networks.\n\nChange-Id: If0b34f4b5fd3cba7882c3b20961077eacfe344b3\n'}, {'number': 3, 'created': '2014-04-11 12:05:32.000000000', 'files': ['contrib/tempest/tempest/api/share/test_share_networks_negative.py', 'manila/db/sqlalchemy/migrate_repo/versions/001_manila_init.py', 'contrib/tempest/tempest/api/share/test_share_networks.py', 'manila/tests/network/test_share_network_db.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/970cc5d6ae76986c7dc047249cce0235a0db204f', 'message': 'Removed unique constraint for share networks\n\nUnique constraint for net and subnet should be removed because\ncan be used different security-services in one tenant network,\nthat will require different service VMs and different share-networks.\n\nChange-Id: If0b34f4b5fd3cba7882c3b20961077eacfe344b3\n'}]",0,86829,970cc5d6ae76986c7dc047249cce0235a0db204f,14,3,3,8851,,,0,"Removed unique constraint for share networks

Unique constraint for net and subnet should be removed because
can be used different security-services in one tenant network,
that will require different service VMs and different share-networks.

Change-Id: If0b34f4b5fd3cba7882c3b20961077eacfe344b3
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/86829/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/api/share/test_share_networks_negative.py', 'manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'manila/db/sqlalchemy/migrate_repo/versions/001_manila_init.py', 'manila/api/v1/security_service.py', 'contrib/tempest/tempest/api/share/test_share_networks.py', 'manila/exception.py', 'manila/tests/api/v1/test_security_service.py']",8,099db1e16a52764095898251ae50c45a7f058022,remove-share-networks-constraint," db.share_network_get_all_by_security_service = mock.Mock( return_value=[]) req = fakes.HTTPRequest.blank('/security_services/1') def test_security_service_delete_has_share_networks(self): db.security_service_get = mock.Mock() db.share_network_get_all_by_security_service = mock.Mock( return_value=[{'share_network': 'fake_share_network'}]) req = fakes.HTTPRequest.blank('/security_services/1') self.assertRaises(webob.exc.HTTPForbidden, self.controller.delete, req, 1) ", req = fakes.HTTPRequest.blank('/shares/1'),54,16
openstack%2Ftempest~master~I261917920aea880cf3419f23478b6df322a10ded,openstack/tempest,master,I261917920aea880cf3419f23478b6df322a10ded,Verify list_virtual_interfaces attributes of API,MERGED,2014-04-04 06:03:02.000000000,2014-04-16 09:40:54.000000000,2014-04-16 09:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 5292}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9533}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-04 06:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/02263c2afd4c72e1117e4a06827332e38f7e70a2', 'message': 'Verify list_virtual_interfaces attributes of API\n\nThis patch adds the JSON schema for Nova V2 list_virtual_interfaces\nAPI response and validate the response with added JSON schema\nto block the backward incompatibility change in the future.\n\nThe response body of list_virtual_interfaces V2 APIs is below:\n{\n    ""virtual_interfaces"": [\n        {\n            ""id"": ""%(id)s"",\n            ""mac_address"": ""%(mac_addr)s"",\n            ""OS-EXT-VIF-NET:net_id"": ""%(id)s""\n        }\n    ]\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I261917920aea880cf3419f23478b6df322a10ded\n'}, {'number': 2, 'created': '2014-04-04 06:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/49c49aa2d145d66980dfd8d46f2a1f15409eb9cd', 'message': 'Verify list_virtual_interfaces attributes of API\n\nThis patch adds the JSON schema for Nova V2 list_virtual_interfaces\nAPI response and validate the response with added JSON schema\nto block the backward incompatibility change in the future.\n\nThe response body of list_virtual_interfaces V2 APIs is below:\n{\n    ""virtual_interfaces"": [\n        {\n            ""id"": ""%(id)s"",\n            ""mac_address"": ""%(mac_addr)s"",\n            ""OS-EXT-VIF-NET:net_id"": ""%(id)s""\n        }\n    ]\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I261917920aea880cf3419f23478b6df322a10ded\n'}, {'number': 3, 'created': '2014-04-07 06:44:26.000000000', 'files': ['tempest/services/compute/json/servers_client.py', 'tempest/api_schema/compute/parameter_types.py', 'tempest/api_schema/compute/v2/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/08ce58d60af32a21bfe6832234779a9f58c7a372', 'message': 'Verify list_virtual_interfaces attributes of API\n\nThis patch adds the JSON schema for Nova V2 list_virtual_interfaces\nAPI response and validate the response with added JSON schema\nto block the backward incompatibility change in the future.\n\nThis patch also adds the mac address in common parameter type for\nreusability amongs other schema.\n\nThe response body of list_virtual_interfaces V2 APIs is below:\n{\n    ""virtual_interfaces"": [\n        {\n            ""id"": ""%(id)s"",\n            ""mac_address"": ""%(mac_addr)s"",\n            ""OS-EXT-VIF-NET:net_id"": ""%(id)s""\n        }\n    ]\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I261917920aea880cf3419f23478b6df322a10ded\n'}]",4,85246,08ce58d60af32a21bfe6832234779a9f58c7a372,24,7,3,8556,,,0,"Verify list_virtual_interfaces attributes of API

This patch adds the JSON schema for Nova V2 list_virtual_interfaces
API response and validate the response with added JSON schema
to block the backward incompatibility change in the future.

This patch also adds the mac address in common parameter type for
reusability amongs other schema.

The response body of list_virtual_interfaces V2 APIs is below:
{
    ""virtual_interfaces"": [
        {
            ""id"": ""%(id)s"",
            ""mac_address"": ""%(mac_addr)s"",
            ""OS-EXT-VIF-NET:net_id"": ""%(id)s""
        }
    ]
}

Partially implements blueprint nova-api-attribute-test

Change-Id: I261917920aea880cf3419f23478b6df322a10ded
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/85246/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/servers_client.py', 'tempest/api_schema/compute/v2/servers.py']",2,02263c2afd4c72e1117e4a06827332e38f7e70a2,bp/nova-api-attribute-test," list_virtual_interfaces = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'virtual_interfaces': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'id': {'type': 'string'}, 'mac_address': {'type': 'string'}, 'OS-EXT-VIF-NET:net_id': {'type': 'string'} }, # 'OS-EXT-VIF-NET:net_id' is API extension So it is # defined as 'required' 'required': ['id', 'mac_address'] } } }, 'required': ['virtual_interfaces'] } }",,27,1
openstack%2Ftripleo-image-elements~master~Iafabda2eb239e8f6d1697aa632678e4ca24bdef5,openstack/tripleo-image-elements,master,Iafabda2eb239e8f6d1697aa632678e4ca24bdef5,Ensure the (block) loop device is available.,MERGED,2014-03-27 13:48:21.000000000,2014-04-16 09:38:26.000000000,2014-04-16 09:38:26.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6488}, {'_account_id': 7144}, {'_account_id': 7579}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-03-27 13:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/93aac38299913dc2133f184e5a8bda556fe48d2a', 'message': ""Ensure the (block) loop device is available.\n\nThis may not be present by default if it's available\nonly as a loadable module.\n\nChange-Id: Iafabda2eb239e8f6d1697aa632678e4ca24bdef5\n""}, {'number': 2, 'created': '2014-04-02 08:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/768bb8c4bcb94d1deae3da30227caa61096ef5c7', 'message': ""Ensure the (block) loop device is available.\n\nThis may not be present by default if it's available\nonly as a loadable module.\n\nChange-Id: Iafabda2eb239e8f6d1697aa632678e4ca24bdef5\n""}, {'number': 3, 'created': '2014-04-03 10:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a1a2647d76748c130693c6892300fbd9ba50de10', 'message': ""Ensure the (block) loop device is available.\n\nThis may not be present by default if it's available\nonly as a loadable module.\n\nChange-Id: Iafabda2eb239e8f6d1697aa632678e4ca24bdef5\n""}, {'number': 4, 'created': '2014-04-04 08:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/b63b83a55cb6bccc35730a525f82b4d5d71bb482', 'message': ""Ensure the (block) loop device is available.\n\nThis may not be present by default if it's available\nonly as a loadable module.\n\nChange-Id: Iafabda2eb239e8f6d1697aa632678e4ca24bdef5\n""}, {'number': 5, 'created': '2014-04-14 12:05:39.000000000', 'files': ['elements/cinder-volume/install.d/cinder-source-install/74-cinder-volume'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0ecebcf9d77c966acd702d171418de7aecfe922b', 'message': ""Ensure the (block) loop device is available.\n\nThis may not be present by default if it's available\nonly as a loadable module.\n\nChange-Id: Iafabda2eb239e8f6d1697aa632678e4ca24bdef5\n""}]",8,83383,0ecebcf9d77c966acd702d171418de7aecfe922b,46,6,5,7579,,,0,"Ensure the (block) loop device is available.

This may not be present by default if it's available
only as a loadable module.

Change-Id: Iafabda2eb239e8f6d1697aa632678e4ca24bdef5
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/83/83383/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/cinder-volume/os-refresh-config/pre-configure.d/97-cinder-volume-iptables'],1,93aac38299913dc2133f184e5a8bda556fe48d2a,fix/cinder-loop-device,add-rule INPUT -p tcp --dport 3260 -j ACCEPT #iscsi [ grep -q ' loop$' /proc/devices ] || modprobe loop ,add-rule INPUT -p tcp --dport 3260 -j ACCEPT #iscsi,2,1
openstack%2Fmistral~master~Id512e753e6d82ccc329ffbdef04ff0f58a2305af,openstack/mistral,master,Id512e753e6d82ccc329ffbdef04ff0f58a2305af,Moving expressions.py out of package 'engine',MERGED,2014-04-15 08:19:22.000000000,2014-04-16 09:36:41.000000000,2014-04-16 09:36:41.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 8824}, {'_account_id': 9432}, {'_account_id': 10126}, {'_account_id': 10127}]","[{'number': 1, 'created': '2014-04-15 08:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/32cdf87661886f644d59e255b66fd93b5176fa37', 'message': ""Moving expressions.py out of package 'engine'\n\nChange-Id: Id512e753e6d82ccc329ffbdef04ff0f58a2305af\n""}, {'number': 2, 'created': '2014-04-16 09:21:46.000000000', 'files': ['mistral/tests/unit/test_expressions.py', 'mistral/engine/data_flow.py', 'mistral/engine/retry.py', 'mistral/tests/unit/engine/scalable/test_engine.py', 'mistral/actions/std_actions.py', 'mistral/expressions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d5c253229f209bc1947bbd18f7cfd687cd74653c', 'message': ""Moving expressions.py out of package 'engine'\n\nChange-Id: Id512e753e6d82ccc329ffbdef04ff0f58a2305af\n""}]",0,87491,d5c253229f209bc1947bbd18f7cfd687cd74653c,20,9,2,8731,,,0,"Moving expressions.py out of package 'engine'

Change-Id: Id512e753e6d82ccc329ffbdef04ff0f58a2305af
",git fetch https://review.opendev.org/openstack/mistral refs/changes/91/87491/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/test_expressions.py', 'mistral/engine/data_flow.py', 'mistral/engine/retry.py', 'mistral/tests/unit/engine/scalable/test_engine.py', 'mistral/actions/std_actions.py', 'mistral/expressions.py']",6,32cdf87661886f644d59e255b66fd93b5176fa37,fix_http_action_and_abstract_engine,,,5,6
openstack%2Fmistral-extra~master~Ibc510d60849ca60808b791a0ab3e81f670ceccec,openstack/mistral-extra,master,Ibc510d60849ca60808b791a0ab3e81f670ceccec,Fixing webhooks examples to work with new actions design,MERGED,2014-04-15 11:03:55.000000000,2014-04-16 09:30:43.000000000,2014-04-16 09:30:43.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}, {'_account_id': 10126}, {'_account_id': 10127}]","[{'number': 1, 'created': '2014-04-15 11:03:55.000000000', 'files': ['examples/webhooks/demo.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a3722ddd2a7430212d904d9cf014460ef5b05646', 'message': ""Fixing webhooks examples to work with new actions design\n\n* It won't work untill all commits related to mistral-actions-design\n  blueprint are merged in\n\nChange-Id: Ibc510d60849ca60808b791a0ab3e81f670ceccec\n""}]",3,87542,a3722ddd2a7430212d904d9cf014460ef5b05646,14,8,1,8731,,,0,"Fixing webhooks examples to work with new actions design

* It won't work untill all commits related to mistral-actions-design
  blueprint are merged in

Change-Id: Ibc510d60849ca60808b791a0ab3e81f670ceccec
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/42/87542/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/webhooks/demo.yaml'],1,a3722ddd2a7430212d904d9cf014460ef5b05646,bp/are,"Namespaces: MyRest: actions: put_service_on_hold: class: std.mistral_http base-parameters: url: http://localhost:8988/tasks/put_service_on_hold backup_user_data: class: std.mistral_http base-parameters: url: http://localhost:8988/tasks/backup_user_data backup_service_data: class: std.mistral_http base-parameters: url: http://localhost:8988/tasks/backup_service_data execute_backup: class: std.mistral_http base-parameters: url: http://localhost:8988/tasks/execute_backup tasks: put_service_on_hold: action: MyRest.put_service_on_hold backup_user_data: requires: [put_service_on_hold] action: MyRest.backup_user_data backup_service_data: requires: [put_service_on_hold] action: MyRest.backup_service_data send_email: requires: [backup_service_data, backup_user_data] action: std.email parameters: # Use password if smtpd requires TLS authentication (password: None). params: to: [mistral@example.com, boss@example.com] subject: Backup complete body: | Congratulations, the backup is complete -- Thanks, Mistral Team. settings: smtp_server: localhost:10025 from: mistral@example.com execute_backup: requires: [backup_user_data, backup_service_data, send_email] action: MyRest.execute_backup","Services: MyRest: type: MISTRAL_REST_API parameters: baseUrl: http://localhost:8988 actions: put_service_on_hold: parameters: url: /tasks/put_service_on_hold method: GET backup_user_data: parameters: url: /tasks/backup_user_data method: GET backup_service_data: parameters: url: /tasks/backup_service_data method: GET execute_backup: parameters: url: /tasks/execute_backup method: GET Email: type: SEND_EMAIL parameters: smtp_server: localhost:10025 from: mistral@example.com # use password if smtpd requires TLS authenitcation # password: None actions: send_email: parameters: tasks: put_service_on_hold: action: MyRest:put_service_on_hold backup_user_data: requires: [put_service_on_hold] action: MyRest:backup_user_data backup_service_data: requires: [put_service_on_hold] action: MyRest:backup_service_data send_email: requires: [backup_service_data, backup_user_data] action: Email:send_email parameters: to: [mistral@example.com, boss@example.com] subject: Backup complete body: | Congratulations, the backup is complete -- Thanks, Mistral Team. execute_backup: requires: [backup_user_data, backup_service_data, send_email] action: MyRest:execute_backup ",45,54
openstack%2Ftempest~master~I2e1ede52f7461e9d6fa583a00afc261f77314908,openstack/tempest,master,I2e1ede52f7461e9d6fa583a00afc261f77314908,Verify the response attributes of 'shutdown/reboot_host' API,MERGED,2014-03-27 10:05:53.000000000,2014-04-16 09:28:59.000000000,2014-04-16 09:28:59.000000000,"[{'_account_id': 3}, {'_account_id': 5174}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6348}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8824}, {'_account_id': 9533}]","[{'number': 1, 'created': '2014-03-27 10:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc2b88f3a8f12a0b641e5749577e8eec67cd273c', 'message': 'Verify the response attributes of \'shutdown/reboot_host\' API\n\nThis patch verifies the response attributes of \'shutdown/reboot_host\' API.\nThe response body format of v2:\n{\n    ""host"": ""d2576862a2144ee6ad37d9e1938460a2"",\n    ""power_action"": ""shutdown/reboot""\n}\nThe response body format of v3:\n{\n    ""host"": {\n        ""host"": ""77cfa0002e4d45fe97f185968111b27b"",\n        ""power_action"": ""shutdown/reboot""\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I2e1ede52f7461e9d6fa583a00afc261f77314908\n'}, {'number': 2, 'created': '2014-04-08 00:12:49.000000000', 'files': ['tempest/services/compute/json/hosts_client.py', 'tempest/api_schema/compute/v3/hosts.py', 'tempest/services/compute/v3/json/hosts_client.py', 'tempest/api_schema/compute/v2/hosts.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/11e69dafbceb8abf52496467cde6a20296a6035c', 'message': 'Verify the response attributes of \'shutdown/reboot_host\' API\n\nThis patch verifies the response attributes of \'shutdown/reboot_host\' API.\nThe response body format of v2:\n{\n    ""host"": ""d2576862a2144ee6ad37d9e1938460a2"",\n    ""power_action"": ""shutdown/reboot""\n}\nThe response body format of v3:\n{\n    ""host"": {\n        ""host"": ""77cfa0002e4d45fe97f185968111b27b"",\n        ""power_action"": ""shutdown/reboot""\n    }\n}\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I2e1ede52f7461e9d6fa583a00afc261f77314908\n'}]",0,83331,11e69dafbceb8abf52496467cde6a20296a6035c,25,9,2,6348,,,0,"Verify the response attributes of 'shutdown/reboot_host' API

This patch verifies the response attributes of 'shutdown/reboot_host' API.
The response body format of v2:
{
    ""host"": ""d2576862a2144ee6ad37d9e1938460a2"",
    ""power_action"": ""shutdown/reboot""
}
The response body format of v3:
{
    ""host"": {
        ""host"": ""77cfa0002e4d45fe97f185968111b27b"",
        ""power_action"": ""shutdown/reboot""
    }
}

Partially implements blueprint nova-api-attribute-test

Change-Id: I2e1ede52f7461e9d6fa583a00afc261f77314908
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/83331/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/hosts_client.py', 'tempest/api_schema/compute/v3/hosts.py', 'tempest/services/compute/v3/json/hosts_client.py', 'tempest/api_schema/compute/v2/hosts.py']",4,dc2b88f3a8f12a0b641e5749577e8eec67cd273c,bp/nova-api-attribute-test,import copy # The 'power_action' attribute of 'shutdown_host' API is 'shutdown' shutdown_host = copy.deepcopy(startup_host) shutdown_host['response_body']['properties']['power_action'] = { 'enum': ['shutdown'] } # The 'power_action' attribute of 'reboot_host' API is 'reboot' reboot_host = copy.deepcopy(startup_host) reboot_host['response_body']['properties']['power_action'] = { 'enum': ['reboot'] },,36,0
openstack%2Ffuel-main~master~Ib562d234e9519e1bad981db3817b163e31a5ea16,openstack/fuel-main,master,Ib562d234e9519e1bad981db3817b163e31a5ea16,Add neutron groups,MERGED,2014-04-15 08:05:13.000000000,2014-04-16 09:25:55.000000000,2014-04-16 09:25:54.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-04-15 08:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0d1a9341fb81b2418df95013f31bb30e5a41c78c', 'message': 'Add neutron groups\n\nChange-Id: Ib562d234e9519e1bad981db3817b163e31a5ea16\n'}, {'number': 2, 'created': '2014-04-16 09:25:25.000000000', 'files': ['fuelweb_test/tests/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9da2493932430e32235850b6e19fc48e285fc797', 'message': 'Add neutron groups\n\nChange-Id: Ib562d234e9519e1bad981db3817b163e31a5ea16\n'}]",0,87489,9da2493932430e32235850b6e19fc48e285fc797,16,5,2,8882,,,0,"Add neutron groups

Change-Id: Ib562d234e9519e1bad981db3817b163e31a5ea16
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/89/87489/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_neutron.py'],1,0d1a9341fb81b2418df95013f31bb30e5a41c78c,master,"@test(groups=[""thread_4"", ""neutron"", ""ha"", ""neutron_ha""])@test(groups=[""thread_3"", ""neutron"", ""ha"", ""neutron_ha""])","@test(groups=[""thread_4"", ""neutron""])@test(groups=[""thread_3"", ""neutron""])",2,2
openstack%2Ftripleo-ci~master~Iba3eccdeb4cb8a2c9c9f9fe29e538dec7591415f,openstack/tripleo-ci,master,Iba3eccdeb4cb8a2c9c9f9fe29e538dec7591415f,"Revert ""Revert nova https://review.openstack.org/#/c/86643""",MERGED,2014-04-14 18:41:49.000000000,2014-04-16 09:10:58.000000000,2014-04-16 09:10:57.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1926}, {'_account_id': 6928}, {'_account_id': 7419}, {'_account_id': 7579}]","[{'number': 1, 'created': '2014-04-14 18:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/211a3cc5186da329d6c78089bdbf967c84d942e2', 'message': 'Revert ""Revert nova https://review.openstack.org/#/c/86643""\n\nThis has now been reverted in Nova so shouln\'t be needed here.\n\nChange-Id: Iba3eccdeb4cb8a2c9c9f9fe29e538dec7591415f\n'}, {'number': 2, 'created': '2014-04-14 21:13:29.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d2094c774bb12663e3475e8782bf3a90f8701e62', 'message': 'Revert ""Revert nova https://review.openstack.org/#/c/86643""\n\nThis has now been reverted in Nova so shouldn\'t be needed here.\n\nChange-Id: Iba3eccdeb4cb8a2c9c9f9fe29e538dec7591415f\n'}]",1,87354,d2094c774bb12663e3475e8782bf3a90f8701e62,24,6,2,1926,,,0,"Revert ""Revert nova https://review.openstack.org/#/c/86643""

This has now been reverted in Nova so shouldn't be needed here.

Change-Id: Iba3eccdeb4cb8a2c9c9f9fe29e538dec7591415f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/54/87354/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,211a3cc5186da329d6c78089bdbf967c84d942e2,,,# test revert of https://review.openstack.org/#/c/86643/1 # TODO : remove once bug #1307424 is fixed pushd /opt/stack/new/nova git revert --no-edit 79ab96e34ba5b8dd3e4e542dd3a7f65624b13367 || true git reset --hard HEAD # Do this incase the revert fails (hopefully because its not needed) popd ,0,7
openstack%2Fgovernance~master~Ifb95c123489e2b07a2b786a83c1685a67c677e32,openstack/governance,master,Ifb95c123489e2b07a2b786a83c1685a67c677e32,Update programs list with Juno PTLs,MERGED,2014-04-11 13:26:12.000000000,2014-04-16 09:06:23.000000000,2014-04-16 09:06:23.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 1247}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4190}]","[{'number': 1, 'created': '2014-04-11 13:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/27eba22e96289b72c29146afa49a57b71beee8b7', 'message': 'Update programs list with Juno PTLs\n\nChange-Id: Ifb95c123489e2b07a2b786a83c1685a67c677e32\n'}, {'number': 2, 'created': '2014-04-11 13:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/841607acbc1be1d0bf7593d9c1a0b9ad6d5c032d', 'message': 'Update programs list with Juno PTLs\n\nChange-Id: Ifb95c123489e2b07a2b786a83c1685a67c677e32\n'}, {'number': 3, 'created': '2014-04-11 14:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d2eb11be4b2a93688bc5a0c6cb8027496031f333', 'message': 'Update programs list with Juno PTLs\n\nChange-Id: Ifb95c123489e2b07a2b786a83c1685a67c677e32\n'}, {'number': 4, 'created': '2014-04-15 20:58:55.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bf91e090eb1348275452155f5f914507f20a302c', 'message': 'Update programs list with Juno PTLs\n\nChange-Id: Ifb95c123489e2b07a2b786a83c1685a67c677e32\n'}]",6,86896,bf91e090eb1348275452155f5f914507f20a302c,32,9,4,1561,,,0,"Update programs list with Juno PTLs

Change-Id: Ifb95c123489e2b07a2b786a83c1685a67c677e32
",git fetch https://review.opendev.org/openstack/governance refs/changes/96/86896/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,27eba22e96289b72c29146afa49a57b71beee8b7,ptl-update, ptl: Michael Still (mikal) ptl: Kyle Mestery (mestery) ptl : Eoghan Glynn (eglynn) ptl: Zane Bitter (zbitter) ptl: Matthew Treinish (mtreinish), ptl: Russell Bryant (russellb) ptl: Mark McClain (markmcclain) ptl : Julien Danjou (jd__) ptl: Steve Baker (stevebaker) ptl: Sean Dague (sdague),5,5
openstack%2Fneutron~master~I510abac4c426f68ea57c99a5fef3da4058f88797,openstack/neutron,master,I510abac4c426f68ea57c99a5fef3da4058f88797,Security Group rule validation for ICMP rules,MERGED,2014-04-03 13:01:51.000000000,2014-04-16 09:04:41.000000000,2014-04-16 09:04:39.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7141}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10257}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-04-03 13:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/635ef044ee7451bdf977f5c1763e553cd7943d70', 'message': 'Security Group rule validation for ICMP when ICMP code alone is provided\n\nCurrently there is no validation in Security Group rules when an ICMP\nrule is added with icmp code alone. A rule is getting added but there is\na mismatch between SG rules and the corresponding iptables rule. This patch\ndoes the necessary validation on the input.\n\nNote: iptables rule does not allow us to add an icmp policy when an icmp-type\nis not provided and only icmp-code is provided.\n\nCloses-Bug: #1301838\n\nChange-Id: I510abac4c426f68ea57c99a5fef3da4058f88797\n'}, {'number': 2, 'created': '2014-04-03 14:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d223cbf6531ce41cbc8749a7cc1581eaf52dc8fe', 'message': 'Security Group rule validation for ICMP rules\n\nCurrently there is no validation in Security Group rules\nwhen an ICMP rule is added with icmp code alone. A rule\nis getting added but there is a mismatch between SG rules\nand the corresponding iptables rule that is added.\nThis patch does the necessary validation on the input.\n\nCloses-Bug: #1301838\nChange-Id: I510abac4c426f68ea57c99a5fef3da4058f88797\n'}, {'number': 3, 'created': '2014-04-04 20:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/841403fa93d7f8cd46f2fcaf8c91703d3454d831', 'message': 'Security Group rule validation for ICMP rules\n\nCurrently there is no validation in Security Group rules\nwhen an ICMP rule is added with icmp code alone. A rule\nis getting added but there is a mismatch between SG rules\nand the corresponding iptables rule that is added.\nThis patch does the necessary validation on the input.\n\nCloses-Bug: #1301838\nChange-Id: I510abac4c426f68ea57c99a5fef3da4058f88797\n'}, {'number': 4, 'created': '2014-04-14 15:30:43.000000000', 'files': ['neutron/tests/unit/test_extension_security_group.py', 'neutron/db/securitygroups_db.py', 'neutron/extensions/securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7607e3da884551e5c4cfe49de390afbddbb2a9b3', 'message': 'Security Group rule validation for ICMP rules\n\nCurrently there is no validation in Security Group rules\nwhen an ICMP rule is added with icmp code alone. A rule\nis getting added but there is a mismatch between SG rules\nand the corresponding iptables rule that is added.\nThis patch does the necessary validation on the input.\n\nCloses-Bug: #1301838\nChange-Id: I510abac4c426f68ea57c99a5fef3da4058f88797\n'}]",14,85026,7607e3da884551e5c4cfe49de390afbddbb2a9b3,89,21,4,10257,,,0,"Security Group rule validation for ICMP rules

Currently there is no validation in Security Group rules
when an ICMP rule is added with icmp code alone. A rule
is getting added but there is a mismatch between SG rules
and the corresponding iptables rule that is added.
This patch does the necessary validation on the input.

Closes-Bug: #1301838
Change-Id: I510abac4c426f68ea57c99a5fef3da4058f88797
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/85026/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_extension_security_group.py', 'neutron/db/securitygroups_db.py', 'neutron/extensions/securitygroup.py']",3,635ef044ee7451bdf977f5c1763e553cd7943d70,bug/1301838,"class SecurityGroupMissingIcmpType(qexception.InvalidInput): message = _(""ICMP code (port-range-max) %(value)s is provided"" "" but ICMP type (port-range-min) is missing."") ",,22,0
openstack%2Fopenstack-manuals~master~I41eb5a2d98c7b61ed16422db784689ceabc6da31,openstack/openstack-manuals,master,I41eb5a2d98c7b61ed16422db784689ceabc6da31,Do not run project-manage db_sync for SUSE,MERGED,2014-04-15 18:22:54.000000000,2014-04-16 09:03:54.000000000,2014-04-16 09:03:53.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-15 18:22:54.000000000', 'files': ['doc/install-guide/section_glance-install.xml', 'doc/install-guide/section_nova-controller.xml', 'doc/install-guide/section_cinder-controller.xml', 'doc/install-guide/section_keystone-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2b422b36af27c059340b7078eae0dc62fa01d257', 'message': 'Do not run project-manage db_sync for SUSE\n\nThe SUSE init script runs db_sync automatically, no need to run\nit manually. Running it manually will also create files with wrong\npermissions.\n\nChange-Id: I41eb5a2d98c7b61ed16422db784689ceabc6da31\n'}]",0,87749,2b422b36af27c059340b7078eae0dc62fa01d257,9,3,1,6547,,,0,"Do not run project-manage db_sync for SUSE

The SUSE init script runs db_sync automatically, no need to run
it manually. Running it manually will also create files with wrong
permissions.

Change-Id: I41eb5a2d98c7b61ed16422db784689ceabc6da31
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/49/87749/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/section_glance-install.xml', 'doc/install-guide/section_nova-controller.xml', 'doc/install-guide/section_cinder-controller.xml', 'doc/install-guide/section_keystone-install.xml']",4,2b422b36af27c059340b7078eae0dc62fa01d257,SUSE-edits," <step os=""ubuntu;rhel;centos;fedora"">"," <step os=""ubuntu;rhel;centos;fedora;opensuse;sles"">",4,4
openstack%2Fgovernance~master~I8d90c5d315d15c6a346a94c4beeec00e7f5236dd,openstack/governance,master,I8d90c5d315d15c6a346a94c4beeec00e7f5236dd,Add qa-specs to the QA Program,MERGED,2014-04-11 17:31:03.000000000,2014-04-16 08:56:09.000000000,2014-04-16 08:56:09.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 67}, {'_account_id': 308}, {'_account_id': 1247}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 2592}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-04-11 17:31:03.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/b9373f9a66ef5a19c6058abba925a387e621548c', 'message': 'Add qa-specs to the QA Program\n\nThis adds the qa-specs repository to the list of projects on the QA\nProgram. This new repository is used for doing design reviews for\nblueprints. It will be used starting in the Juno cycle.\n\nChange-Id: I8d90c5d315d15c6a346a94c4beeec00e7f5236dd\n'}]",0,86965,b9373f9a66ef5a19c6058abba925a387e621548c,16,9,1,5196,,,0,"Add qa-specs to the QA Program

This adds the qa-specs repository to the list of projects on the QA
Program. This new repository is used for doing design reviews for
blueprints. It will be used starting in the Juno cycle.

Change-Id: I8d90c5d315d15c6a346a94c4beeec00e7f5236dd
",git fetch https://review.opendev.org/openstack/governance refs/changes/65/86965/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,b9373f9a66ef5a19c6058abba925a387e621548c,bp/s, - openstack/qa-specs,,1,0
openstack%2Ftaskflow~master~Iddd438b57973c7c6c26bd7b6239630656530bd1b,openstack/taskflow,master,Iddd438b57973c7c6c26bd7b6239630656530bd1b,Move the daemon thread helper function,MERGED,2014-04-11 02:14:26.000000000,2014-04-16 08:45:08.000000000,2014-04-16 08:45:08.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 8895}]","[{'number': 1, 'created': '2014-04-11 02:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/aa46d04d2e53a2a039ff82d533ec5364235eb326', 'message': 'Move the daemon thread helper function\n\nThis function seems better suited in the threading_utils module.\n\nChange-Id: Iddd438b57973c7c6c26bd7b6239630656530bd1b\n'}, {'number': 2, 'created': '2014-04-11 06:45:59.000000000', 'files': ['taskflow/engines/worker_based/executor.py', 'taskflow/utils/threading_utils.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1930cbad7d4ef0d2f3c462c9a8ee346d75757a56', 'message': 'Move the daemon thread helper function\n\nThis function seems better suited in the threading_utils module.\n\nChange-Id: Iddd438b57973c7c6c26bd7b6239630656530bd1b\n'}]",0,86758,1930cbad7d4ef0d2f3c462c9a8ee346d75757a56,22,3,2,1297,,,0,"Move the daemon thread helper function

This function seems better suited in the threading_utils module.

Change-Id: Iddd438b57973c7c6c26bd7b6239630656530bd1b
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/58/86758/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/executor.py', 'taskflow/utils/threading_utils.py']",2,aa46d04d2e53a2a039ff82d533ec5364235eb326,,"import threading def daemon_thread(target, *args, **kwargs): """"""Makes a daemon thread that calls the given target when started."""""" thread = threading.Thread(target=target, args=args, kwargs=kwargs) # NOTE(skudriashev): When the main thread is terminated unexpectedly # and thread is still alive - it will prevent main thread from exiting # unless the daemon property is set to True. thread.daemon = True return thread",,14,10
openstack%2Ftaskflow~master~I386e027cf461480799614e20e920b46788f99cab,openstack/taskflow,master,I386e027cf461480799614e20e920b46788f99cab,Create a periodic worker helper class,MERGED,2014-04-11 01:42:36.000000000,2014-04-16 08:45:07.000000000,2014-04-16 08:45:07.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 8895}]","[{'number': 1, 'created': '2014-04-11 01:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8cd493de79d1e01f23eb6263e2c7fb67f77919e0', 'message': 'Create a periodic worker helper class\n\nCreate a simple class that can call a set of\nfunctions periodically and use this in the case\nwhere we run a notification thread instead of\nhandling this internally to the worker executor\ndirectly.\n\nChange-Id: I386e027cf461480799614e20e920b46788f99cab\n'}, {'number': 2, 'created': '2014-04-11 01:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0db09a62cf6076922071ccec2f4da26c442b0a94', 'message': 'Create a periodic worker helper class\n\nCreate a simple class that can call a set of\nfunctions periodically and use this in the case\nwhere we run a notification thread instead of\nhandling this internally to the worker executor\ndirectly.\n\nChange-Id: I386e027cf461480799614e20e920b46788f99cab\n'}, {'number': 3, 'created': '2014-04-11 02:00:16.000000000', 'files': ['taskflow/engines/worker_based/executor.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2be76ee7d3e62558f04b1d6981c8cf6781ab3142', 'message': 'Create a periodic worker helper class\n\nCreate a simple class that can call a set of\nfunctions periodically and use this in the case\nwhere we run a notification thread instead of\nhandling this internally to the worker executor\ndirectly.\n\nChange-Id: I386e027cf461480799614e20e920b46788f99cab\n'}]",0,86756,2be76ee7d3e62558f04b1d6981c8cf6781ab3142,17,3,3,1297,,,0,"Create a periodic worker helper class

Create a simple class that can call a set of
functions periodically and use this in the case
where we run a notification thread instead of
handling this internally to the worker executor
directly.

Change-Id: I386e027cf461480799614e20e920b46788f99cab
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/56/86756/3 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/executor.py', 'taskflow/engines/worker_based/cache.py']",2,8cd493de79d1e01f23eb6263e2c7fb67f77919e0,, if not available_topics: return None return random.choice(available_topics), return random.choice(available_topics) if available_topics else None,49,18
openstack%2Fopenstack-manuals~master~Idd8ea62cf883edcc7b308d25292d8b18d2631330,openstack/openstack-manuals,master,Idd8ea62cf883edcc7b308d25292d8b18d2631330,Run db_sync commands as the proper users,MERGED,2014-04-16 03:28:54.000000000,2014-04-16 08:44:39.000000000,2014-04-16 08:44:38.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 11135}]","[{'number': 1, 'created': '2014-04-16 03:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/aaca34534abb91afe67225a1acd7ca6f164cb4ef', 'message': 'Add instruction to chown keystone.log properly\n\nkeystone-manage db_sync creates an empty\n/var/log/keystone/keystone.log.  This file is owned by the root user\nand prevents the keystone service from starting.  Added a step to\nchown the log file to the keystone user.\n\nChange-Id: Idd8ea62cf883edcc7b308d25292d8b18d2631330\nCloses-Bug: #1308316\n'}, {'number': 2, 'created': '2014-04-16 03:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5535c29b8c50e6414e9f3b128b71d45178e22da3', 'message': 'Add instruction to chown keystone.log properly\n\nkeystone-manage db_sync creates an empty\n/var/log/keystone/keystone.log.  This file is owned by the root user\nand prevents the keystone service from starting.  Added a step to\nchown the log file to the keystone user.\n\nChange-Id: Idd8ea62cf883edcc7b308d25292d8b18d2631330\nCloses-Bug: #1308316\n'}, {'number': 3, 'created': '2014-04-16 07:42:40.000000000', 'files': ['doc/install-guide/section_glance-install.xml', 'doc/install-guide/section_heat-install.xml', 'doc/install-guide/section_nova-controller.xml', 'doc/install-guide/section_cinder-controller.xml', 'doc/install-guide/section_keystone-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5d3bcf450294d4649e66483fb31ee8c9590dea94', 'message': 'Run db_sync commands as the proper users\n\nkeystone-manage db_sync creates a log file\n/var/log/keystone/keystone.log (and other db_sync commands create similar\nlogs in their respective directories).  If run as root, the log file is\nowned by root.  In some cases (keystone), this prevents services from\nstarting.  In other cases (e.g. glance-api), it prevents the service\nfrom writing to its log file.  Thus, all db_sync commands were changed\nto run them as the correct users for the services being configured.\nNote: this does not appear to be a problem with Ubuntu, but I made the\nchange for all distros for consistency, since it will not harm anything\nto run db_sync as the correct user on Ubuntu, even if it is not\nnecessary.  Feel free to -1 this if you think there should be an\nOS-specific step instead.\n\nChange-Id: Idd8ea62cf883edcc7b308d25292d8b18d2631330\nCloses-Bug: #1308316\n'}]",0,87838,5d3bcf450294d4649e66483fb31ee8c9590dea94,18,4,3,11135,,,0,"Run db_sync commands as the proper users

keystone-manage db_sync creates a log file
/var/log/keystone/keystone.log (and other db_sync commands create similar
logs in their respective directories).  If run as root, the log file is
owned by root.  In some cases (keystone), this prevents services from
starting.  In other cases (e.g. glance-api), it prevents the service
from writing to its log file.  Thus, all db_sync commands were changed
to run them as the correct users for the services being configured.
Note: this does not appear to be a problem with Ubuntu, but I made the
change for all distros for consistency, since it will not harm anything
to run db_sync as the correct user on Ubuntu, even if it is not
necessary.  Feel free to -1 this if you think there should be an
OS-specific step instead.

Change-Id: Idd8ea62cf883edcc7b308d25292d8b18d2631330
Closes-Bug: #1308316
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/38/87838/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_keystone-install.xml'],1,aaca34534abb91afe67225a1acd7ca6f164cb4ef,fix-bug-1308316, <para><command>keystone-manage</command> will create <filename>/var/log/keystone/keystone.log</filename>. Ensure this file is owned by the <literal>keystone</literal> user:</para> <screen><prompt>#</prompt> <userinput>chown keystone:keystone /var/log/keystone/keystone.log</userinput></screen>,,5,1
openstack%2Fopenstack-manuals~master~I4a76f69a2ba156c249cecdd9e250767921b91dc5,openstack/openstack-manuals,master,I4a76f69a2ba156c249cecdd9e250767921b91dc5,Fix formatting of Cinder database creation,MERGED,2014-04-16 08:09:08.000000000,2014-04-16 08:41:37.000000000,2014-04-16 08:41:36.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 11135}]","[{'number': 1, 'created': '2014-04-16 08:09:08.000000000', 'files': ['doc/install-guide/section_cinder-controller.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/134632405a30eaf7ad2dcb9669aa1dd614ca185d', 'message': 'Fix formatting of Cinder database creation\n\nChanged to match the formatting of other database creation steps\nin the guide, which put multiple commands inside a single\n<screen> tag.\n\nChange-Id: I4a76f69a2ba156c249cecdd9e250767921b91dc5\nCloses-Bug: #1308380\n'}]",0,87867,134632405a30eaf7ad2dcb9669aa1dd614ca185d,10,4,1,11135,,,0,"Fix formatting of Cinder database creation

Changed to match the formatting of other database creation steps
in the guide, which put multiple commands inside a single
<screen> tag.

Change-Id: I4a76f69a2ba156c249cecdd9e250767921b91dc5
Closes-Bug: #1308380
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/67/87867/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_cinder-controller.xml'],1,134632405a30eaf7ad2dcb9669aa1dd614ca185d,fix-bug-1308380, <screen><prompt>#</prompt> <userinput>mysql -u root -p</userinput> <prompt>mysql></prompt> <userinput>CREATE DATABASE cinder;</userinput> <prompt>mysql></prompt> <userinput>GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'localhost' \ IDENTIFIED BY '<replaceable>CINDER_DBPASS</replaceable>';</userinput> <prompt>mysql></prompt> <userinput>GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'%' \ IDENTIFIED BY '<replaceable>CINDER_DBPASS</replaceable>';</userinput></screen>, <screen><prompt>#</prompt> <userinput>mysql -u root -p</userinput></screen> <screen><prompt>mysql></prompt> <userinput>CREATE DATABASE cinder;</userinput></screen> <screen><prompt>mysql></prompt> <userinput>GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'localhost' IDENTIFIED BY '<replaceable>CINDER_DBPASS</replaceable>';</userinput></screen> <screen><prompt>mysql></prompt> <userinput>GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'%' IDENTIFIED BY '<replaceable>CINDER_DBPASS</replaceable>';</userinput></screen>,6,4
openstack%2Fopenstack-manuals~master~I98a1b9956be62e07f0b931d956a8f546248addfe,openstack/openstack-manuals,master,I98a1b9956be62e07f0b931d956a8f546248addfe,Make the heat template work with nova-network,MERGED,2014-04-16 07:47:38.000000000,2014-04-16 08:41:29.000000000,2014-04-16 08:41:28.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-04-16 07:47:38.000000000', 'files': ['doc/install-guide/section_heat-verify.xml', 'doc/install-guide/samples/test-stack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bd717859accc37b3c78beb3c0af431764f547e45', 'message': 'Make the heat template work with nova-network\n\nThe current template assumes that neutron is used, this patch updates it\nto work with both nova-net and neutron.\n\nChange-Id: I98a1b9956be62e07f0b931d956a8f546248addfe\nCloses-Bug: #1308359\n'}]",0,87863,bd717859accc37b3c78beb3c0af431764f547e45,7,3,1,7923,,,0,"Make the heat template work with nova-network

The current template assumes that neutron is used, this patch updates it
to work with both nova-net and neutron.

Change-Id: I98a1b9956be62e07f0b931d956a8f546248addfe
Closes-Bug: #1308359
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/63/87863/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/section_heat-verify.xml', 'doc/install-guide/samples/test-stack.yml']",2,bd717859accc37b3c78beb3c0af431764f547e45,bug/1308359/heat-nova-network, - network: { get_param: NetID }, SubNetID: type: string description: Subnet ID for the server - port: { get_resource: server1_port } server1_port: type: OS::Neutron::Port properties: network_id: { get_param: NetID } fixed_ips: - subnet_id: { get_param: SubNetID },3,14
openstack%2Fmagnetodb~master~Ic5188f3ead1587f20ae6177debff505c9688cdb3,openstack/magnetodb,master,Ic5188f3ead1587f20ae6177debff505c9688cdb3,Added function for creating keystone credentials,MERGED,2014-04-10 13:47:08.000000000,2014-04-16 07:56:56.000000000,2014-04-16 07:56:56.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8414}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 10676}, {'_account_id': 10847}]","[{'number': 1, 'created': '2014-04-10 13:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/6438db31a7ebc05446c6c5ace2eca5d26142151f', 'message': 'Added funcrion for creating keystone credentials\n\nChange-Id: Ic5188f3ead1587f20ae6177debff505c9688cdb3\nImplements: blueprint magnetodb-keystone-devstack\n'}, {'number': 2, 'created': '2014-04-10 13:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/5ad80550ff7532b43b4a5de1233d249a270f5466', 'message': 'Added function for creating keystone credentials\n\nChange-Id: Ic5188f3ead1587f20ae6177debff505c9688cdb3\nImplements: blueprint magnetodb-keystone-devstack\n'}, {'number': 3, 'created': '2014-04-11 07:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/185de2e764514a358d72b211c19021fb72a5cb8f', 'message': 'Added function for creating keystone credentials\n\nChange-Id: Ic5188f3ead1587f20ae6177debff505c9688cdb3\nImplements: blueprint magnetodb-keystone-devstack\n'}, {'number': 4, 'created': '2014-04-11 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/87918db11ce9beeb788aad641bdd10698122c45c', 'message': 'Added function for creating keystone credentials\n\nChange-Id: Ic5188f3ead1587f20ae6177debff505c9688cdb3\nImplements: blueprint magnetodb-keystone-devstack\n'}, {'number': 5, 'created': '2014-04-14 14:19:23.000000000', 'files': ['contrib/devstack/extras.d/90-magnetodb.sh', 'contrib/devstack/lib/magnetodb'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/84abce9a22420dd574b867ff853c2405164239c4', 'message': 'Added function for creating keystone credentials\n\nChange-Id: Ic5188f3ead1587f20ae6177debff505c9688cdb3\nImplements: blueprint magnetodb-keystone-devstack\n'}]",4,86595,84abce9a22420dd574b867ff853c2405164239c4,35,7,5,10676,,,0,"Added function for creating keystone credentials

Change-Id: Ic5188f3ead1587f20ae6177debff505c9688cdb3
Implements: blueprint magnetodb-keystone-devstack
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/95/86595/3 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/extras.d/90-magnetodb.sh', 'contrib/devstack/lib/magnetodb']",2,6438db31a7ebc05446c6c5ace2eca5d26142151f,bp/magnetodb-keystone-devstack,"MAGNETODB_RUN_USER=${MAGNETODB_RUN_USER:-$STACK_USER} #Keystone variables MAGNETODB_USER=${MAGNETODB_USER:-magnetodb} MAGNETODB_SERVICE=${MAGNETODB_SERVICE:-magnetodb} MAGNETODB_SERVICE_HOST=${MAGNETODB_SERVICE_HOST:-$SERVICE_HOST} MAGNETODB_SERVICE_PORT=${MAGNETODB_SERVICE_PORT:-8480} MAGNETODB_SERVICE_PROTOCOL=${MAGNETODB_SERVICE_PROTOCOL:-$SERVICE_PROTOCOL}# create_mugnetodb_credentials() - Set up common required mugnetodb credentials # # Tenant User Roles # ------------------------------ # service magnetodb admin function create_magnetodb_credentials() { SERVICE_TENANT=$(openstack project list | awk ""/ $SERVICE_TENANT_NAME / { print \$2 }"") ADMIN_ROLE=$(openstack role list | awk ""/ admin / { print \$2 }"") MAGNETODB_USER_ID=$(openstack user create \ $MAGNETODB_USER \ --password ""$SERVICE_PASSWORD"" \ --project $SERVICE_TENANT \ --email $MAGNETODB_USER@example.com \ | grep "" id "" | get_field 2) openstack role add \ $ADMIN_ROLE \ --project $SERVICE_TENANT \ --user $MAGNETODB_USER_ID if [[ ""$KEYSTONE_CATALOG_BACKEND"" = 'sql' ]]; then MAGNETODB_SERVICE=$(openstack service create \ $MAGNETODB_SERVICE \ --type=nosql-storage \ --description=""MagnetoDB"" \ | grep "" id "" | get_field 2) openstack endpoint create \ $MAGNETODB_SERVICE \ --region RegionOne \ --publicurl ""$MAGNETODB_SERVICE_PROTOCOL://$MAGNETODB_SERVICE_HOST:$MAGNETODB_SERVICE_PORT/v1"" \ --adminurl ""$MAGNETODB_SERVICE_PROTOCOL://$MAGNETODB_SERVICE_HOST:$MAGNETODB_SERVICE_PORT/v1"" \ --internalurl ""$MAGNETODB_SERVICE_PROTOCOL://$MAGNETODB_SERVICE_HOST:$MAGNETODB_SERVICE_PORT/v1"" fi } sudo chown -R $MAGNETODB_RUN_USER $MAGNETODB_LOG_DIR",MAGNETODB_USER=${MAGNETODB_USER:-$STACK_USER} sudo chown -R $MAGNETODB_USER $MAGNETODB_LOG_DIR,47,2
openstack%2Fheat~master~I20edf00bd13ddc9ef02d09fccf5031193820149e,openstack/heat,master,I20edf00bd13ddc9ef02d09fccf5031193820149e,Use correct output value in documentation,ABANDONED,2014-04-14 08:13:27.000000000,2014-04-16 07:48:19.000000000,,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7761}]","[{'number': 1, 'created': '2014-04-14 08:13:27.000000000', 'files': ['doc/source/template_guide/hot_spec.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/9aa9e913d7469515f5d91163e9ec0c5d39852c18', 'message': 'Use correct output value in documentation\n\nOutput value does not correspond description for this value. According to\ndescription it should be private IP address but if you use presented\nparameters, you will get dictionary with additional information intead one\nIP address. In this patch was added missed parameter for desired resolving\nget_attr function.\n\nChange-Id: I20edf00bd13ddc9ef02d09fccf5031193820149e\n'}]",6,87186,9aa9e913d7469515f5d91163e9ec0c5d39852c18,6,4,1,6577,,,0,"Use correct output value in documentation

Output value does not correspond description for this value. According to
description it should be private IP address but if you use presented
parameters, you will get dictionary with additional information intead one
IP address. In this patch was added missed parameter for desired resolving
get_attr function.

Change-Id: I20edf00bd13ddc9ef02d09fccf5031193820149e
",git fetch https://review.opendev.org/openstack/heat refs/changes/86/87186/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/template_guide/hot_spec.rst'],1,9aa9e913d7469515f5d91163e9ec0c5d39852c18,," value: { get_attr: [my_instance, networks, private, 0, addr] }"," value: { get_attr: [my_instance, networks, private, 0] }",1,1
openstack%2Fopenstack-manuals~master~Ib4ebf6506fbb42250c936c2c5ac00becbad9fa84,openstack/openstack-manuals,master,Ib4ebf6506fbb42250c936c2c5ac00becbad9fa84,[database] is now in glance!!!!!,MERGED,2014-04-16 06:34:13.000000000,2014-04-16 07:33:35.000000000,2014-04-16 07:33:34.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-04-16 06:34:13.000000000', 'files': ['doc/install-guide/section_glance-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8be5f98ff77d98e92a651900a14c947c69542a8d', 'message': '[database] is now in glance!!!!!\n\nSlight update to wording to reflect that the long-awaited\n[database]/connection string is now being distributed in the\nglance sample files.\n\nChange-Id: Ib4ebf6506fbb42250c936c2c5ac00becbad9fa84\n'}]",0,87860,8be5f98ff77d98e92a651900a14c947c69542a8d,7,3,1,612,,,0,"[database] is now in glance!!!!!

Slight update to wording to reflect that the long-awaited
[database]/connection string is now being distributed in the
glance sample files.

Change-Id: Ib4ebf6506fbb42250c936c2c5ac00becbad9fa84
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/60/87860/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_glance-install.xml'],1,8be5f98ff77d98e92a651900a14c947c69542a8d,fix-glance-db-connection, edit the <literal>[database]</literal> section of each, add the <literal>[database]</literal> section at the end of each,1,1
openstack%2Ffuel-main~master~Ic73da1f32eff9af9ddb4a33a7c68771d4c198d08,openstack/fuel-main,master,Ic73da1f32eff9af9ddb4a33a7c68771d4c198d08,Check if Packages.bz2 file exists in Ubuntu debian-installer repo Otherwise use Packages file Get back indices for debian-installer repos,MERGED,2014-04-15 11:09:05.000000000,2014-04-16 07:12:26.000000000,2014-04-15 18:42:52.000000000,"[{'_account_id': 3}, {'_account_id': 8777}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-04-15 11:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/87b89e04b94989a17a107a96ab87481aabdcd302', 'message': 'Check if Packages.bz2 file exists in Ubuntu debian-installer repo\nOtherwise use Packages file\n\nChange-Id: Ic73da1f32eff9af9ddb4a33a7c68771d4c198d08\nCloses-bug: #1307949\n'}, {'number': 2, 'created': '2014-04-15 12:55:41.000000000', 'files': ['mirror/ubuntu/files/mkrepo.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/39786ae43232615d31abfae6621d85fedc9b9c3f', 'message': 'Check if Packages.bz2 file exists in Ubuntu debian-installer repo\nOtherwise use Packages file\nGet back indices for debian-installer repos\n\nChange-Id: Ic73da1f32eff9af9ddb4a33a7c68771d4c198d08\nCloses-bug: #1307949\n'}]",0,87545,39786ae43232615d31abfae6621d85fedc9b9c3f,19,6,2,9582,,,0,"Check if Packages.bz2 file exists in Ubuntu debian-installer repo
Otherwise use Packages file
Get back indices for debian-installer repos

Change-Id: Ic73da1f32eff9af9ddb4a33a7c68771d4c198d08
Closes-bug: #1307949
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/45/87545/1 && git format-patch -1 --stdout FETCH_HEAD,['mirror/ubuntu/files/mkrepo.sh'],1,87b89e04b94989a17a107a96ab87481aabdcd302,," packagesfile=`wget -qO - ${repourl}/dists/${repodist}/Release | \ egrep '[0-9a-f]{64}' | \ grep ${repo}/debian-installer/binary-amd64/Packages.bz2 | \ awk '{print $3}'` if [ -n ""$packagesfile"" ]; then bz=${repourl}/dists/${repodist}/$packagesfile wget -qO - $bz | bzip2 -cdq | sed -ne 's/^Package: //p' >> ${wrkdir}/UPackages.tmp else bz=${repourl}/dists/${repodist}/${repo}/debian-installer/binary-amd64/Packages wget -qO - $bz | sed -ne 's/^Package: //p' >> ${wrkdir}/UPackages.tmp fi", bz=${repourl}/dists/${repodist}/${repo}/debian-installer/binary-amd64/Packages.bz2 wget -qO - $bz | bzip2 -cdq | sed -ne 's/^Package: //p' >> ${wrkdir}/UPackages.tmp,11,2
openstack%2Fnova~master~I728bf3454dc5a5367e21f242281719c1a967269a,openstack/nova,master,I728bf3454dc5a5367e21f242281719c1a967269a,Instance groups: add method get_by_hint,MERGED,2014-04-13 08:51:40.000000000,2014-04-16 06:46:21.000000000,2014-04-16 06:46:17.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8430}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-13 08:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d505acc9619ef3a74b33f777292177da8e879196', 'message': ""Instance groups: add method get_by_hint\n\nIn order to support backward compatibility a new method\n'get_by_hint' has been added. This method will check if the\nhint is a uuid and if no it will return get_by_uuid else it\nwill return get_by_name.\n\nChange-Id: I728bf3454dc5a5367e21f242281719c1a967269a\nPartial-bug: #1303360\n""}, {'number': 2, 'created': '2014-04-15 16:03:26.000000000', 'files': ['nova/objects/instance_group.py', 'nova/tests/objects/test_instance_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bff8604fd27fee588facbd429aaedcf227cd5871', 'message': ""Instance groups: add method get_by_hint\n\nIn order to support backward compatibility a new method\n'get_by_hint' has been added. This method will check if the\nhint is a uuid and if no it will return get_by_uuid else it\nwill return get_by_name.\n\nChange-Id: I728bf3454dc5a5367e21f242281719c1a967269a\nPartial-bug: #1303360\n""}]",5,87109,bff8604fd27fee588facbd429aaedcf227cd5871,34,10,2,1653,,,0,"Instance groups: add method get_by_hint

In order to support backward compatibility a new method
'get_by_hint' has been added. This method will check if the
hint is a uuid and if no it will return get_by_uuid else it
will return get_by_name.

Change-Id: I728bf3454dc5a5367e21f242281719c1a967269a
Partial-bug: #1303360
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/87109/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_group.py', 'nova/tests/objects/test_instance_group.py']",2,d505acc9619ef3a74b33f777292177da8e879196,get-by-hint,"import uuid instances = [(str(uuid.uuid4()), 'f1', 'p1'), (str(uuid.uuid4()), 'f2', 'p1'), (str(uuid.uuid4()), 'f3', 'p2'), (str(uuid.uuid4()), 'f4', 'p2')] values['name'] = instance[1] values['project_id'] = instance[2] return instances def test_get_by_hint(self): instances = self._populate_instances() for instance in instances: ctxt = context.RequestContext('fake_user', instance[2]) ig = instance_group.InstanceGroup.get_by_hint(ctxt, instance[1]) self.assertEqual(instance[1], ig.name) ig = instance_group.InstanceGroup.get_by_hint(ctxt, instance[0]) self.assertEqual(instance[0], ig.uuid) "," instances = [('f1', 'p1'), ('f2', 'p1'), ('f3', 'p2'), ('f4', 'p2')] values['name'] = instance[0] values['project_id'] = instance[1]",29,6
openstack%2Fpython-keystoneclient~master~Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b,openstack/python-keystoneclient,master,Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b,Add service name to catalog,MERGED,2014-03-05 20:50:33.000000000,2014-04-16 06:39:33.000000000,2014-04-16 06:39:33.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}]","[{'number': 2, 'created': '2014-03-05 20:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c2f35ecc21b000ede68cd75760a1f23d83ff1547', 'message': 'Add service name to catalog\n\nThe service catalog can contain names for the services. These names can\nbe filtered on by other clients and are going to be required if we\nexpect to use the keystoneclient service catalog in other clients.\n\nChange-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b\n'}, {'number': 1, 'created': '2014-03-05 20:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3dd136705c96949231c406b58188beccf0a6ea30', 'message': 'Add service name to catalog\n\nThe service catalog can contain names for the services. These names can\nbe filtered on by other clients and are going to be required if we\nexpect to use the keystoneclient service catalog in other clients.\n\nChange-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b\n'}, {'number': 3, 'created': '2014-03-31 02:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8d8c689493925a4f3700da7f8712ffe53d76e5cb', 'message': 'Add service name to catalog\n\nThe service catalog can contain names for the services. These names can\nbe filtered on by other clients and are going to be required if we\nexpect to use the keystoneclient service catalog in other clients.\n\nChange-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b\n'}, {'number': 4, 'created': '2014-04-05 09:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e21881517d0469051324948b34c8aedf3f3dcf45', 'message': 'Add service name to catalog\n\nThe service catalog can contain names for the services. These names can\nbe filtered on by other clients and are going to be required if we\nexpect to use the keystoneclient service catalog in other clients.\n\nChange-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b\n'}, {'number': 5, 'created': '2014-04-05 09:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d4b2837353fdfd6a8a3de8453a3ab597faf4e1f4', 'message': 'Add service name to catalog\n\nThe service catalog can contain names for the services. These names can\nbe filtered on by other clients and are going to be required if we\nexpect to use the keystoneclient service catalog in other clients.\n\nChange-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b\n'}, {'number': 6, 'created': '2014-04-09 21:05:55.000000000', 'files': ['keystoneclient/tests/v3/test_service_catalog.py', 'keystoneclient/tests/v2_0/test_service_catalog.py', 'keystoneclient/tests/v3/client_fixtures.py', 'keystoneclient/service_catalog.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/00c05a18fa1ce224020b4d3f84f7eba002c9f091', 'message': 'Add service name to catalog\n\nThe service catalog can contain names for the services. These names can\nbe filtered on by other clients and are going to be required if we\nexpect to use the keystoneclient service catalog in other clients.\n\nChange-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b\n'}]",31,78410,00c05a18fa1ce224020b4d3f84f7eba002c9f091,67,7,6,7191,,,0,"Add service name to catalog

The service catalog can contain names for the services. These names can
be filtered on by other clients and are going to be required if we
expect to use the keystoneclient service catalog in other clients.

Change-Id: Iab69d67427ed40ce2f556f9a6348f4f1d9c26b5b
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/10/78410/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/v3/test_service_catalog.py', 'keystoneclient/tests/v2_0/test_service_catalog.py', 'keystoneclient/tests/v3/client_fixtures.py', 'keystoneclient/service_catalog.py']",4,c2f35ecc21b000ede68cd75760a1f23d83ff1547,service_catlog_name," region_name=None, service_name=None): sn = service.get('name') if service_name and service_name != sn: continue endpoint_type, region_name, service_name): region_name=region_name, service_name=service_name) region_name=None, service_name=None): :param string service_name: The assigned name of the service. region_name=None, service_name=None): region_name=region_name, service_name=service_name) msg = '%s endpoint for %s service' % (endpoint_type, service_type) if service_name: msg += ' named %s' % service_name if region_name: msg += ' in %s region' % region_name msg += ' not found' region_name=None, service_name=None): region_name=region_name, service_name=service_name) region_name=None, service_name=None): region_name=region_name, service_name=service_name)"," region_name=None): endpoint_type, region_name): region_name=region_name) region_name=None): region_name=None): region_name=region_name) msg = '%(endpoint)s endpoint for %(service)s%(region)s not found' region = ' in %s region' % region_name if region_name else '' msg = msg % {'endpoint': endpoint_type, 'service': service_type, 'region': region} region_name=None): region_name=region_name) region_name=None): region_name=region_name)",80,19
openstack%2Fopenstack-manuals~master~Ia7343bd39df7aef2920e77df30ba23a428a5af47,openstack/openstack-manuals,master,Ia7343bd39df7aef2920e77df30ba23a428a5af47,Switch glance back to sql_connection,ABANDONED,2014-04-09 04:15:38.000000000,2014-04-16 06:34:38.000000000,,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 9515}]","[{'number': 1, 'created': '2014-04-09 04:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/305faac8cda0ca35e7917897aa224f09aa373cb6', 'message': ""Switch glance back to sql_connection\n\nThe upstream sample configuration files, carried by the distros\nhere, still have sql_connection. In the case of ubuntu it's even\ndefined and uses an sqlite database.\n\nUntil such time as the glance upstream sample configuration files\nare fixed, use sql_connection to avoid confusion.\n\nChange-Id: Ia7343bd39df7aef2920e77df30ba23a428a5af47\n""}, {'number': 2, 'created': '2014-04-09 04:20:23.000000000', 'files': ['doc/install-guide/section_glance-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8e6a4361d5058e0b410984e7f4500569f8724fd8', 'message': ""Switch glance back to sql_connection\n\nThe upstream sample configuration files, carried by the distros\nhere, still have sql_connection. In the case of ubuntu it's even\ndefined and uses an sqlite database.\n\nUntil such time as the glance upstream sample configuration files\nare fixed, use sql_connection to avoid confusion.\n\nChange-Id: Ia7343bd39df7aef2920e77df30ba23a428a5af47\n""}]",0,86225,8e6a4361d5058e0b410984e7f4500569f8724fd8,11,3,2,612,,,0,"Switch glance back to sql_connection

The upstream sample configuration files, carried by the distros
here, still have sql_connection. In the case of ubuntu it's even
defined and uses an sqlite database.

Until such time as the glance upstream sample configuration files
are fixed, use sql_connection to avoid confusion.

Change-Id: Ia7343bd39df7aef2920e77df30ba23a428a5af47
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/25/86225/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_glance-install.xml'],1,305faac8cda0ca35e7917897aa224f09aa373cb6,sql_connection-glance, edit the database settings:</para>sql_connection = mysql://glance:GLANCE_DBPASS@<replaceable>controller</replaceable>/glance</programlisting>, add the <literal>[database]</literal> section at the end of each file:</para>[database] connection = mysql://glance:GLANCE_DBPASS@<replaceable>controller</replaceable>/glance</programlisting>,2,4
openstack%2Ftrove-integration~master~I1a01d7dcff1047ac8c2b856cd32c2a71185709a7,openstack/trove-integration,master,I1a01d7dcff1047ac8c2b856cd32c2a71185709a7,Add neutron switch for ini tests,ABANDONED,2014-04-15 18:20:49.000000000,2014-04-16 06:18:13.000000000,,"[{'_account_id': 3}, {'_account_id': 7092}]","[{'number': 1, 'created': '2014-04-15 18:20:49.000000000', 'files': ['tests/integration/int_tests.py'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/9c08e1eacbe4da4a69f315f78e47c75dc10d0a31', 'message': 'Add neutron switch for ini tests\n\npartially implements blueprint neutron-support\n\nChange-Id: I1a01d7dcff1047ac8c2b856cd32c2a71185709a7\n'}]",0,87748,9c08e1eacbe4da4a69f315f78e47c75dc10d0a31,5,2,1,1870,,,0,"Add neutron switch for ini tests

partially implements blueprint neutron-support

Change-Id: I1a01d7dcff1047ac8c2b856cd32c2a71185709a7
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/48/87748/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/integration/int_tests.py'],1,9c08e1eacbe4da4a69f315f78e47c75dc10d0a31,bp/neutron-support," ""dbaas.neutron"",",,1,0
openstack%2Fneutron~master~I20d716a3f182b8ea62da6b436b150aa9dafdb1c5,openstack/neutron,master,I20d716a3f182b8ea62da6b436b150aa9dafdb1c5,Fixes Hyper-V agent security groups disabling,MERGED,2014-03-31 19:43:56.000000000,2014-04-16 06:15:26.000000000,2014-04-16 06:15:25.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 3185}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10635}]","[{'number': 1, 'created': '2014-03-31 19:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b8102e2ececd99af6e90c8b5f45bba87ef95f37', 'message': 'Fixes Hyper-V agent security groups disabling\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\n'}, {'number': 2, 'created': '2014-03-31 23:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ccdbb36c8b1b37adfb91a788ccf4bef3e10b87d', 'message': ""Fixes Hyper-V agent security groups disabling\n\nAdds a check if the security groups have been disabled and removes\nthe switch port's ACLs accordingly.\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\nCloses-Bug: #1299156\n""}, {'number': 3, 'created': '2014-03-31 23:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9da2838d034faeb8ed4489249ffc129ba1a02526', 'message': ""Fixes Hyper-V agent security groups disabling\n\nAdds a check if the security groups have been disabled and removes\nthe switch port's ACLs accordingly.\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\nCloses-Bug: #1299156\n""}, {'number': 4, 'created': '2014-04-09 19:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a05e385675d65fe1b8fd0106e0ad6651ef6a1d9f', 'message': ""Fixes Hyper-V agent security groups disabling\n\nAdds a check if the security groups have been disabled and removes\nthe switch port's ACLs accordingly.\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\nCloses-Bug: #1299156\n""}, {'number': 5, 'created': '2014-04-09 20:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58e9d44f558306ceeb135b6343e50620666811ed', 'message': ""Fixes Hyper-V agent security groups disabling\n\nAdds a check if the security groups have been disabled and removes\nthe switch port's ACLs accordingly.\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\nCloses-Bug: #1299156\n""}, {'number': 6, 'created': '2014-04-09 21:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/227c08dc9cd9e3f79cb10929e497c1818d78c635', 'message': ""Fixes Hyper-V agent security groups disabling\n\nAdds a check if the security groups have been disabled and removes\nthe switch port's ACLs accordingly.\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\nCloses-Bug: #1299156\n""}, {'number': 7, 'created': '2014-04-09 21:08:09.000000000', 'files': ['neutron/plugins/hyperv/agent/utilsv2.py', 'neutron/tests/unit/hyperv/test_hyperv_utilsv2.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d49834976bc08d2b8f7939bc2a217f5cc81db47', 'message': ""Fixes Hyper-V agent security groups disabling\n\nAdds a check if the security groups have been disabled and removes\nthe switch port's ACLs accordingly.\n\nChange-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5\nCloses-Bug: #1299156\n""}]",4,84227,6d49834976bc08d2b8f7939bc2a217f5cc81db47,99,19,7,8213,,,0,"Fixes Hyper-V agent security groups disabling

Adds a check if the security groups have been disabled and removes
the switch port's ACLs accordingly.

Change-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5
Closes-Bug: #1299156
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/84227/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/hyperv/agent/utilsv2.py', 'neutron/tests/unit/hyperv/test_hyperv_utilsv2.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py']",3,2b8102e2ececd99af6e90c8b5f45bba87ef95f37,bug/1299156," self.init_firewall() if CONF.SECURITYGROUP.enable_security_group: if 'security_groups' in port: self.sec_groups_agent.refresh_firewall() # check if security groups is enabled. # if not, teardown the security group rules if CONF.SECURITYGROUP.enable_security_group: self.sec_groups_agent.prepare_devices_filter(devices) else: self._utils.remove_all_security_rules( device_details['port_id'])", self.init_firewall() if 'security_groups' in port: self.sec_groups_agent.refresh_firewall() self.sec_groups_agent.prepare_devices_filter(devices),35,5
openstack%2Ftripleo-image-elements~master~I765d58337d214c262d77e15a444f5dc928b25aca,openstack/tripleo-image-elements,master,I765d58337d214c262d77e15a444f5dc928b25aca,Allow setting snapshots image format and directory,ABANDONED,2014-03-26 16:27:25.000000000,2014-04-16 06:03:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 1865}, {'_account_id': 1882}, {'_account_id': 4190}, {'_account_id': 7144}, {'_account_id': 7579}, {'_account_id': 7582}, {'_account_id': 7585}, {'_account_id': 8153}]","[{'number': 1, 'created': '2014-03-26 16:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/40f6b8c4ead834e42f6debe96db9b33941463ee5', 'message': 'Allow setting snapshots image format and directory\n\nAllow setting the:\n* snapshot_image_format - Currently defaults to same as image format.\n                          Allow choice from all valid options:\n                            raw, qcow2, vmdk, vdi.\n* snapshots_directory -   Allow modification of the location where\n                          libvirt will store snapshots before uploading\n                          to image service.  Defaults to:\n                            $instances/snapshots/\n                          e.g.\n                            /mnt/state/var/lib/nova/instances/snapshots/\n\nChange-Id: I765d58337d214c262d77e15a444f5dc928b25aca\n'}, {'number': 2, 'created': '2014-03-27 09:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4d76a5898fe4f584c8e1d4e50370126e4314c453', 'message': 'Allow setting snapshots image format and directory\n\nAllow setting the:\n* snapshot_image_format - Currently defaults to same as image format.\n                          Allow choice from all valid options:\n                            raw, qcow2, vmdk, vdi.\n* snapshots_directory -   Allow modification of the location where\n                          libvirt will store snapshots before uploading\n                          to image service.  Defaults to:\n                            $instances/snapshots/\n                          e.g.\n                            /mnt/state/var/lib/nova/instances/snapshots/\n\nChange-Id: I765d58337d214c262d77e15a444f5dc928b25aca\n'}, {'number': 3, 'created': '2014-03-27 13:29:27.000000000', 'files': ['elements/nova/os-apply-config/etc/nova/nova.conf', 'elements/nova/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c606b037af04d6404e2497e56279a57d3da2f47d', 'message': 'Allow setting snapshots image format and directory\n\nAllow setting the:\n* snapshot_image_format - Currently defaults to same as image format.\n                          Allow choice from all valid options:\n                            raw, qcow2, vmdk, vdi.\n* snapshots_directory -   Allow modification of the location where\n                          libvirt will store snapshots before uploading\n                          to image service.  Defaults to:\n                            $instances/snapshots/\n                          e.g.\n                            /mnt/state/var/lib/nova/instances/snapshots/\n\nChange-Id: I765d58337d214c262d77e15a444f5dc928b25aca\n'}]",4,83122,c606b037af04d6404e2497e56279a57d3da2f47d,30,10,3,7133,,,0,"Allow setting snapshots image format and directory

Allow setting the:
* snapshot_image_format - Currently defaults to same as image format.
                          Allow choice from all valid options:
                            raw, qcow2, vmdk, vdi.
* snapshots_directory -   Allow modification of the location where
                          libvirt will store snapshots before uploading
                          to image service.  Defaults to:
                            $instances/snapshots/
                          e.g.
                            /mnt/state/var/lib/nova/instances/snapshots/

Change-Id: I765d58337d214c262d77e15a444f5dc928b25aca
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/22/83122/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova/os-apply-config/etc/nova/nova.conf'],1,40f6b8c4ead834e42f6debe96db9b33941463ee5,feature/add_snapshot_cfg,{{#nova.snapshots_directory}} snapshots_directory={{nova.snapshots_directory}} {{/nova.snapshots_directory}} {{#nova.snapshot_image_format}} [hypervisor_libvirt] snapshot_image_format={{nova.snapshot_image_format}} {{/nova.snapshot_image_format}},,8,0
openstack%2Fneutron~master~I17872d4eabf9df445c5ef9fc1758a31c5b7c72cb,openstack/neutron,master,I17872d4eabf9df445c5ef9fc1758a31c5b7c72cb,Add rpc_worker supports for openvswitch plugin,ABANDONED,2014-04-07 18:06:48.000000000,2014-04-16 06:03:35.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5003}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-04-07 18:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e62cc94ad804958e08102f823d17b2f4a7e2b30d', 'message': 'Add rpc_worker supports for openvswitch plugin\n\nChange-Id: I17872d4eabf9df445c5ef9fc1758a31c5b7c72cb\nCloses-Bug: 1303933\n'}, {'number': 2, 'created': '2014-04-08 06:13:40.000000000', 'files': ['neutron/plugins/openvswitch/ovs_neutron_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/24b47f9ba924d56860d5b4b40c85ae0fabbafd0a', 'message': 'Add rpc_worker supports for openvswitch plugin\n\nChange-Id: I17872d4eabf9df445c5ef9fc1758a31c5b7c72cb\nCloses-Bug: 1303933\n'}]",0,85774,24b47f9ba924d56860d5b4b40c85ae0fabbafd0a,27,12,2,5003,,,0,"Add rpc_worker supports for openvswitch plugin

Change-Id: I17872d4eabf9df445c5ef9fc1758a31c5b7c72cb
Closes-Bug: 1303933
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/85774/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/ovs_neutron_plugin.py'],1,e62cc94ad804958e08102f823d17b2f4a7e2b30d,bug/1303933, def start_rpc_listener(self):, self.setup_rpc() def setup_rpc(self):,1,2
